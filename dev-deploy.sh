#!/bin/bash

echo "üöÄ –°–±–æ—Ä–∫–∞ –∏ –¥–µ–ø–ª–æ–π –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏..."

# –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
npm run build

if [ $? -eq 0 ]; then
    echo "‚úÖ –°–±–æ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–∞"
    
    # –î–µ–ø–ª–æ–π —Ç–æ–ª—å–∫–æ —Ö–æ—Å—Ç–∏–Ω–≥–∞
    firebase deploy --only hosting
    
    if [ $? -eq 0 ]; then
        echo "‚úÖ –î–µ–ø–ª–æ–π —É—Å–ø–µ—à–µ–Ω!"
        echo "üåê –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É:"
        echo "   https://sports-booking-app-1d7e5.web.app"
        
        # –ü–æ–ø—ã—Ç–∞—Ç—å—Å—è –æ—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ
        open "https://sports-booking-app-1d7e5.web.app"
    else
        echo "‚ùå –û—à–∏–±–∫–∞ –¥–µ–ø–ª–æ—è"
    fi
else
    echo "‚ùå –û—à–∏–±–∫–∞ —Å–±–æ—Ä–∫–∏"
fi