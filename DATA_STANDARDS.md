# –°—Ç–∞–Ω–¥–∞—Ä—Ç—ã —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏ –≤ –ø—Ä–æ–µ–∫—Ç–µ Sports Booking App

## üìÖ –§–æ—Ä–º–∞—Ç –¥–∞—Ç—ã

### –¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è (–ü–†–û–ë–õ–ï–ú–ê):
- **–í Firestore**: –¥–∞—Ç–∞ —Ö—Ä–∞–Ω–∏—Ç—Å—è –∫–∞–∫ **—Å—Ç—Ä–æ–∫–∞** —Ñ–æ—Ä–º–∞—Ç–∞ `'yyyy-MM-dd'` (–Ω–∞–ø—Ä–∏–º–µ—Ä: '2024-03-15')
- **–í React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö**: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ `Date` –æ–±—ä–µ–∫—Ç
- **–í —Ç–∏–ø–∞—Ö TypeScript**: —Å–º–µ—à–∞–Ω–Ω—ã–µ —Ç–∏–ø—ã - –≥–¥–µ-—Ç–æ `string`, –≥–¥–µ-—Ç–æ `Date`
- **–ü—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏**: —á–∞—Å—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –æ—à–∏–±–∫–∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç:
1. **–í Firestore**: —Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–∫ `Timestamp` (–Ω–∞—Ç–∏–≤–Ω—ã–π —Ç–∏–ø Firestore)
2. **–í TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö**: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `Date` 
3. **–ü—Ä–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏**: —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ —É—Ç–∏–ª–∏—Ç—ã
4. **–ü—Ä–∏ –≤–≤–æ–¥–µ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**: –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ `Date` —Å—Ä–∞–∑—É –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏

## ‚è∞ –§–æ—Ä–º–∞—Ç –≤—Ä–µ–º–µ–Ω–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

### –¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è:
–°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–û–ë–ê –ø–æ–¥—Ö–æ–¥–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ**, —á—Ç–æ —Å–æ–∑–¥–∞–µ—Ç –ø—É—Ç–∞–Ω–∏—Ü—É:

1. **–ü–æ–¥—Ö–æ–¥ —Å startTime + endTime**:
   - `startTime: string` (—Ñ–æ—Ä–º–∞—Ç: 'HH:mm', –Ω–∞–ø—Ä–∏–º–µ—Ä: '10:00')
   - `endTime: string` (—Ñ–æ—Ä–º–∞—Ç: 'HH:mm', –Ω–∞–ø—Ä–∏–º–µ—Ä: '11:30')
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤: BookingDetailsModal, BookingsList, –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤

2. **–ü–æ–¥—Ö–æ–¥ —Å startTime + duration**:
   - `time: string` –∏–ª–∏ `startTime: string` (—Ñ–æ—Ä–º–∞—Ç: 'HH:mm')
   - `duration: number` (–≤ –º–∏–Ω—É—Ç–∞—Ö, –Ω–∞–ø—Ä–∏–º–µ—Ä: 90)
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤: CreateBookingModal (—Ñ–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è), —Ä–∞—Å—á–µ—Ç —Ü–µ–Ω—ã

### –ü—Ä–æ–±–ª–µ–º—ã —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:
- **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö**: –≤ bookingData —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∏ `endTime`, –∏ `duration`
- **–ù–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å**: duration —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –º–∏–Ω—É—Ç–∞—Ö (90), –Ω–æ –≤ —Ñ–æ—Ä–º–µ –≤–≤–æ–¥–∏—Ç—Å—è –≤ —á–∞—Å–∞—Ö (1.5)
- **–ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã**: –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ duration –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—Ç—å endTime –∏ –Ω–∞–æ–±–æ—Ä–æ—Ç

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç:

#### –í–∞—Ä–∏–∞–Ω—Ç 1: startTime + duration (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)
```typescript
interface Booking {
  date: Date,           // –î–∞—Ç–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
  startTime: string,    // –í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ 'HH:mm'
  duration: number,     // –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ –º–∏–Ω—É—Ç–∞—Ö
  // endTime –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
}
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
- –ü—Ä–æ—â–µ –∏–∑–º–µ–Ω—è—Ç—å –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –ù–µ—Ç —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
- –õ–µ–≥—á–µ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—Ç—å —Ü–µ–Ω—É (—Ü–µ–Ω–∞ –∑–∞ —á–∞—Å * —á–∞—Å—ã)

#### –í–∞—Ä–∏–∞–Ω—Ç 2: startTime + endTime
```typescript
interface Booking {
  date: Date,           // –î–∞—Ç–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
  startTime: string,    // –í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ 'HH:mm'
  endTime: string,      // –í—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è 'HH:mm'
  // duration –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
}
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
- –ü–æ–Ω—è—Ç–Ω–µ–µ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ù–µ –Ω—É–∂–Ω—ã –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –ø—Ä–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏

## üîÑ –ü–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏

### –§–∞–∑–∞ 1: –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏—è –¥–∞—Ç—ã
1. –°–æ–∑–¥–∞—Ç—å —É—Ç–∏–ª–∏—Ç—ã –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏:
   - `stringToDate(dateString: string): Date`
   - `dateToString(date: Date): string`
   - `timestampToDate(timestamp: Timestamp): Date`

2. –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `Date`

3. –ü—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –≤ Firestore –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ `Timestamp`

### –§–∞–∑–∞ 2: –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏
1. –í—ã–±—Ä–∞—Ç—å –µ–¥–∏–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è startTime + duration)

2. –°–æ–∑–¥–∞—Ç—å —É—Ç–∏–ª–∏—Ç—ã:
   - `calculateEndTime(startTime: string, duration: number): string`
   - `calculateDuration(startTime: string, endTime: string): number`

3. –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–∞ –µ–¥–∏–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç

4. –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ –≤ Firestore

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:
```typescript
const bookingData = {
  venueId: venueId,
  courtId: courtId,
  date: Timestamp.fromDate(selectedDate),  // Date -> Timestamp
  startTime: '10:00',                       // –°—Ç—Ä–æ–∫–∞ –≤—Ä–µ–º–µ–Ω–∏
  duration: 90,                             // –ú–∏–Ω—É—Ç—ã
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
}
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:
```typescript
const booking = {
  ...docData,
  date: docData.date.toDate(),              // Timestamp -> Date
  endTime: calculateEndTime(docData.startTime, docData.duration)
}
```

### –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ:
```typescript
<span>{format(booking.date, 'dd MMMM yyyy')}</span>
<span>{booking.startTime} - {booking.endTime}</span>
```

## ‚ö†Ô∏è –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Å—Ç–∞ –≤ –∫–æ–¥–µ

1. **CreateBookingModal.tsx:696** - –¥–∞—Ç–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∫–∞–∫ —Å—Ç—Ä–æ–∫–∞
2. **BookingDetailsModal.tsx:78-102** - —Å–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –¥–∞—Ç
3. **BookingModal.tsx** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç—Ä–æ–∫–æ–≤—ã–µ –¥–∞—Ç—ã –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤
4. **functions/src/booking/** - —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ–∂–∏–¥–∞—é—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç

## üéØ –¶–µ–ª—å
–ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã —Å –¥–∞—Ç–∞–º–∏ –∏ –≤—Ä–µ–º–µ–Ω–µ–º –≤–æ –≤—Å–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏, –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –æ—à–∏–±–æ–∫ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ç–∏–ø–æ–≤.