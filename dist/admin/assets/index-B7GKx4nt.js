const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/BookingModal-DoiV5s5j.js","assets/vendor-CVBzEvQT.js","assets/firebase-DTN2oheZ.js"])))=>i.map(i=>d[i]);
var tb=Object.defineProperty;var nb=(e,t,n)=>t in e?tb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ip=(e,t,n)=>nb(e,typeof t!="symbol"?t+"":t,n);import{r as f,a as Fm,R as sd,g as Kr,b as Fe,c as ta,N as Ca,u as Sn,d as rb,O as sb,e as xo,f as ob,h as zm,B as ib,i as ab,j as ut}from"./vendor-CVBzEvQT.js";import{L as lb,a as ye,_ as Bm,C as Wm,r as Na,s as Yt,j as eu,c as Pr,b as eo,m as Aa,d as cb,S as db,e as ub,f as Ii,g as pb,h as hb,D as Hm,q as fb,i as mb,k as gb,l as Rp,n as Um,o as vb,p as Ri,t as yb,u as hl,v as xb,w as bb,x as Vm,y as Ym,z as Gm,A as Cb,B as wb,F as qm,E as Sb,G as jb,H as kb,I as _b,J as Tb,K as Eb,M as Mb,N as Ge,O as Pe,P as Ee,Q as qe,R as St,T as Ie,U as od,V as Pb,W as Km,X as Dp,Y as Np,Z as Ap,$ as Ft,a0 as Ib,a1 as gr,a2 as fl,a3 as yr,a4 as $r,a5 as Qm,a6 as wa,a7 as Rb,a8 as Xm}from"./firebase-DTN2oheZ.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Zm={exports:{}},ml={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Db=f,Nb=Symbol.for("react.element"),Ab=Symbol.for("react.fragment"),$b=Object.prototype.hasOwnProperty,Ob=Db.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Lb={key:!0,ref:!0,__self:!0,__source:!0};function Jm(e,t,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)$b.call(t,r)&&!Lb.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Nb,type:e,key:i,ref:a,props:s,_owner:Ob.current}}ml.Fragment=Ab;ml.jsx=Jm;ml.jsxs=Jm;Zm.exports=ml;var o=Zm.exports,id={},$p=Fm;id.createRoot=$p.createRoot,id.hydrateRoot=$p.hydrateRoot;function Sr(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}const Fb=Object.freeze(Object.defineProperty({__proto__:null,default:Sr},Symbol.toStringTag,{value:"Module"})),ps="$$material";function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b.apply(null,arguments)}function Z(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function zb(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function Bb(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var Wb=function(){function e(n){var r=this;this._insertTag=function(s){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,i),r.tags.push(s)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Bb(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var i=zb(s);try{i.insertRule(r,i.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var s;return(s=r.parentNode)==null?void 0:s.removeChild(r)}),this.tags=[],this.ctr=0},e}(),Gt="-ms-",$a="-moz-",tt="-webkit-",eg="comm",tu="rule",nu="decl",Hb="@import",tg="@keyframes",Ub="@layer",Vb=Math.abs,gl=String.fromCharCode,Yb=Object.assign;function Gb(e,t){return Ut(e,0)^45?(((t<<2^Ut(e,0))<<2^Ut(e,1))<<2^Ut(e,2))<<2^Ut(e,3):0}function ng(e){return e.trim()}function qb(e,t){return(e=t.exec(e))?e[0]:e}function nt(e,t,n){return e.replace(t,n)}function ad(e,t){return e.indexOf(t)}function Ut(e,t){return e.charCodeAt(t)|0}function vi(e,t,n){return e.slice(t,n)}function Gn(e){return e.length}function ru(e){return e.length}function na(e,t){return t.push(e),e}function Kb(e,t){return e.map(t).join("")}var vl=1,to=1,rg=0,un=0,$t=0,bo="";function yl(e,t,n,r,s,i,a){return{value:e,root:t,parent:n,type:r,props:s,children:i,line:vl,column:to,length:a,return:""}}function zo(e,t){return Yb(yl("",null,null,"",null,null,0),e,{length:-e.length},t)}function Qb(){return $t}function Xb(){return $t=un>0?Ut(bo,--un):0,to--,$t===10&&(to=1,vl--),$t}function xn(){return $t=un<rg?Ut(bo,un++):0,to++,$t===10&&(to=1,vl++),$t}function rr(){return Ut(bo,un)}function Sa(){return un}function Di(e,t){return vi(bo,e,t)}function yi(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function sg(e){return vl=to=1,rg=Gn(bo=e),un=0,[]}function og(e){return bo="",e}function ja(e){return ng(Di(un-1,ld(e===91?e+2:e===40?e+1:e)))}function Zb(e){for(;($t=rr())&&$t<33;)xn();return yi(e)>2||yi($t)>3?"":" "}function Jb(e,t){for(;--t&&xn()&&!($t<48||$t>102||$t>57&&$t<65||$t>70&&$t<97););return Di(e,Sa()+(t<6&&rr()==32&&xn()==32))}function ld(e){for(;xn();)switch($t){case e:return un;case 34:case 39:e!==34&&e!==39&&ld($t);break;case 40:e===41&&ld(e);break;case 92:xn();break}return un}function e0(e,t){for(;xn()&&e+$t!==57;)if(e+$t===84&&rr()===47)break;return"/*"+Di(t,un-1)+"*"+gl(e===47?e:xn())}function t0(e){for(;!yi(rr());)xn();return Di(e,un)}function n0(e){return og(ka("",null,null,null,[""],e=sg(e),0,[0],e))}function ka(e,t,n,r,s,i,a,l,c){for(var d=0,u=0,p=a,h=0,g=0,v=0,m=1,y=1,x=1,w=0,C="",j=s,_=i,S=r,E=C;y;)switch(v=w,w=xn()){case 40:if(v!=108&&Ut(E,p-1)==58){ad(E+=nt(ja(w),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:E+=ja(w);break;case 9:case 10:case 13:case 32:E+=Zb(v);break;case 92:E+=Jb(Sa()-1,7);continue;case 47:switch(rr()){case 42:case 47:na(r0(e0(xn(),Sa()),t,n),c);break;default:E+="/"}break;case 123*m:l[d++]=Gn(E)*x;case 125*m:case 59:case 0:switch(w){case 0:case 125:y=0;case 59+u:x==-1&&(E=nt(E,/\f/g,"")),g>0&&Gn(E)-p&&na(g>32?Lp(E+";",r,n,p-1):Lp(nt(E," ","")+";",r,n,p-2),c);break;case 59:E+=";";default:if(na(S=Op(E,t,n,d,u,s,l,C,j=[],_=[],p),i),w===123)if(u===0)ka(E,t,S,S,j,i,p,l,_);else switch(h===99&&Ut(E,3)===110?100:h){case 100:case 108:case 109:case 115:ka(e,S,S,r&&na(Op(e,S,S,0,0,s,l,C,s,j=[],p),_),s,_,p,l,r?j:_);break;default:ka(E,S,S,S,[""],_,0,l,_)}}d=u=g=0,m=x=1,C=E="",p=a;break;case 58:p=1+Gn(E),g=v;default:if(m<1){if(w==123)--m;else if(w==125&&m++==0&&Xb()==125)continue}switch(E+=gl(w),w*m){case 38:x=u>0?1:(E+="\f",-1);break;case 44:l[d++]=(Gn(E)-1)*x,x=1;break;case 64:rr()===45&&(E+=ja(xn())),h=rr(),u=p=Gn(C=E+=t0(Sa())),w++;break;case 45:v===45&&Gn(E)==2&&(m=0)}}return i}function Op(e,t,n,r,s,i,a,l,c,d,u){for(var p=s-1,h=s===0?i:[""],g=ru(h),v=0,m=0,y=0;v<r;++v)for(var x=0,w=vi(e,p+1,p=Vb(m=a[v])),C=e;x<g;++x)(C=ng(m>0?h[x]+" "+w:nt(w,/&\f/g,h[x])))&&(c[y++]=C);return yl(e,t,n,s===0?tu:l,c,d,u)}function r0(e,t,n){return yl(e,t,n,eg,gl(Qb()),vi(e,2,-2),0)}function Lp(e,t,n,r){return yl(e,t,n,nu,vi(e,0,r),vi(e,r+1,-1),r)}function Us(e,t){for(var n="",r=ru(e),s=0;s<r;s++)n+=t(e[s],s,e,t)||"";return n}function s0(e,t,n,r){switch(e.type){case Ub:if(e.children.length)break;case Hb:case nu:return e.return=e.return||e.value;case eg:return"";case tg:return e.return=e.value+"{"+Us(e.children,r)+"}";case tu:e.value=e.props.join(",")}return Gn(n=Us(e.children,r))?e.return=e.value+"{"+n+"}":""}function o0(e){var t=ru(e);return function(n,r,s,i){for(var a="",l=0;l<t;l++)a+=e[l](n,r,s,i)||"";return a}}function i0(e){return function(t){t.root||(t=t.return)&&e(t)}}function ig(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var a0=function(t,n,r){for(var s=0,i=0;s=i,i=rr(),s===38&&i===12&&(n[r]=1),!yi(i);)xn();return Di(t,un)},l0=function(t,n){var r=-1,s=44;do switch(yi(s)){case 0:s===38&&rr()===12&&(n[r]=1),t[r]+=a0(un-1,n,r);break;case 2:t[r]+=ja(s);break;case 4:if(s===44){t[++r]=rr()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=gl(s)}while(s=xn());return t},c0=function(t,n){return og(l0(sg(t),n))},Fp=new WeakMap,d0=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,s=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!Fp.get(r))&&!s){Fp.set(t,!0);for(var i=[],a=c0(n,i),l=r.props,c=0,d=0;c<a.length;c++)for(var u=0;u<l.length;u++,d++)t.props[d]=i[c]?a[c].replace(/&\f/g,l[u]):l[u]+" "+a[c]}}},u0=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function ag(e,t){switch(Gb(e,t)){case 5103:return tt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return tt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return tt+e+$a+e+Gt+e+e;case 6828:case 4268:return tt+e+Gt+e+e;case 6165:return tt+e+Gt+"flex-"+e+e;case 5187:return tt+e+nt(e,/(\w+).+(:[^]+)/,tt+"box-$1$2"+Gt+"flex-$1$2")+e;case 5443:return tt+e+Gt+"flex-item-"+nt(e,/flex-|-self/,"")+e;case 4675:return tt+e+Gt+"flex-line-pack"+nt(e,/align-content|flex-|-self/,"")+e;case 5548:return tt+e+Gt+nt(e,"shrink","negative")+e;case 5292:return tt+e+Gt+nt(e,"basis","preferred-size")+e;case 6060:return tt+"box-"+nt(e,"-grow","")+tt+e+Gt+nt(e,"grow","positive")+e;case 4554:return tt+nt(e,/([^-])(transform)/g,"$1"+tt+"$2")+e;case 6187:return nt(nt(nt(e,/(zoom-|grab)/,tt+"$1"),/(image-set)/,tt+"$1"),e,"")+e;case 5495:case 3959:return nt(e,/(image-set\([^]*)/,tt+"$1$`$1");case 4968:return nt(nt(e,/(.+:)(flex-)?(.*)/,tt+"box-pack:$3"+Gt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+tt+e+e;case 4095:case 3583:case 4068:case 2532:return nt(e,/(.+)-inline(.+)/,tt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Gn(e)-1-t>6)switch(Ut(e,t+1)){case 109:if(Ut(e,t+4)!==45)break;case 102:return nt(e,/(.+:)(.+)-([^]+)/,"$1"+tt+"$2-$3$1"+$a+(Ut(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~ad(e,"stretch")?ag(nt(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Ut(e,t+1)!==115)break;case 6444:switch(Ut(e,Gn(e)-3-(~ad(e,"!important")&&10))){case 107:return nt(e,":",":"+tt)+e;case 101:return nt(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+tt+(Ut(e,14)===45?"inline-":"")+"box$3$1"+tt+"$2$3$1"+Gt+"$2box$3")+e}break;case 5936:switch(Ut(e,t+11)){case 114:return tt+e+Gt+nt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return tt+e+Gt+nt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return tt+e+Gt+nt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return tt+e+Gt+e+e}return e}var p0=function(t,n,r,s){if(t.length>-1&&!t.return)switch(t.type){case nu:t.return=ag(t.value,t.length);break;case tg:return Us([zo(t,{value:nt(t.value,"@","@"+tt)})],s);case tu:if(t.length)return Kb(t.props,function(i){switch(qb(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Us([zo(t,{props:[nt(i,/:(read-\w+)/,":"+$a+"$1")]})],s);case"::placeholder":return Us([zo(t,{props:[nt(i,/:(plac\w+)/,":"+tt+"input-$1")]}),zo(t,{props:[nt(i,/:(plac\w+)/,":"+$a+"$1")]}),zo(t,{props:[nt(i,/:(plac\w+)/,Gt+"input-$1")]})],s)}return""})}},h0=[p0],lg=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var y=m.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var s=t.stylisPlugins||h0,i={},a,l=[];a=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var y=m.getAttribute("data-emotion").split(" "),x=1;x<y.length;x++)i[y[x]]=!0;l.push(m)});var c,d=[d0,u0];{var u,p=[s0,i0(function(m){u.insert(m)})],h=o0(d.concat(s,p)),g=function(y){return Us(n0(y),h)};c=function(y,x,w,C){u=w,g(y?y+"{"+x.styles+"}":x.styles),C&&(v.inserted[x.name]=!0)}}var v={key:n,sheet:new Wb({key:n,container:a,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:i,registered:{},insert:c};return v.sheet.hydrate(l),v},cg={exports:{}},ct={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wt=typeof Symbol=="function"&&Symbol.for,su=Wt?Symbol.for("react.element"):60103,ou=Wt?Symbol.for("react.portal"):60106,xl=Wt?Symbol.for("react.fragment"):60107,bl=Wt?Symbol.for("react.strict_mode"):60108,Cl=Wt?Symbol.for("react.profiler"):60114,wl=Wt?Symbol.for("react.provider"):60109,Sl=Wt?Symbol.for("react.context"):60110,iu=Wt?Symbol.for("react.async_mode"):60111,jl=Wt?Symbol.for("react.concurrent_mode"):60111,kl=Wt?Symbol.for("react.forward_ref"):60112,_l=Wt?Symbol.for("react.suspense"):60113,f0=Wt?Symbol.for("react.suspense_list"):60120,Tl=Wt?Symbol.for("react.memo"):60115,El=Wt?Symbol.for("react.lazy"):60116,m0=Wt?Symbol.for("react.block"):60121,g0=Wt?Symbol.for("react.fundamental"):60117,v0=Wt?Symbol.for("react.responder"):60118,y0=Wt?Symbol.for("react.scope"):60119;function jn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case su:switch(e=e.type,e){case iu:case jl:case xl:case Cl:case bl:case _l:return e;default:switch(e=e&&e.$$typeof,e){case Sl:case kl:case El:case Tl:case wl:return e;default:return t}}case ou:return t}}}function dg(e){return jn(e)===jl}ct.AsyncMode=iu;ct.ConcurrentMode=jl;ct.ContextConsumer=Sl;ct.ContextProvider=wl;ct.Element=su;ct.ForwardRef=kl;ct.Fragment=xl;ct.Lazy=El;ct.Memo=Tl;ct.Portal=ou;ct.Profiler=Cl;ct.StrictMode=bl;ct.Suspense=_l;ct.isAsyncMode=function(e){return dg(e)||jn(e)===iu};ct.isConcurrentMode=dg;ct.isContextConsumer=function(e){return jn(e)===Sl};ct.isContextProvider=function(e){return jn(e)===wl};ct.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===su};ct.isForwardRef=function(e){return jn(e)===kl};ct.isFragment=function(e){return jn(e)===xl};ct.isLazy=function(e){return jn(e)===El};ct.isMemo=function(e){return jn(e)===Tl};ct.isPortal=function(e){return jn(e)===ou};ct.isProfiler=function(e){return jn(e)===Cl};ct.isStrictMode=function(e){return jn(e)===bl};ct.isSuspense=function(e){return jn(e)===_l};ct.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===xl||e===jl||e===Cl||e===bl||e===_l||e===f0||typeof e=="object"&&e!==null&&(e.$$typeof===El||e.$$typeof===Tl||e.$$typeof===wl||e.$$typeof===Sl||e.$$typeof===kl||e.$$typeof===g0||e.$$typeof===v0||e.$$typeof===y0||e.$$typeof===m0)};ct.typeOf=jn;cg.exports=ct;var x0=cg.exports,ug=x0,b0={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},C0={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},pg={};pg[ug.ForwardRef]=b0;pg[ug.Memo]=C0;var w0=!0;function hg(e,t,n){var r="";return n.split(" ").forEach(function(s){e[s]!==void 0?t.push(e[s]+";"):s&&(r+=s+" ")}),r}var au=function(t,n,r){var s=t.key+"-"+n.name;(r===!1||w0===!1)&&t.registered[s]===void 0&&(t.registered[s]=n.styles)},lu=function(t,n,r){au(t,n,r);var s=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var i=n;do t.insert(n===i?"."+s:"",i,t.sheet,!0),i=i.next;while(i!==void 0)}};function S0(e){for(var t=0,n,r=0,s=e.length;s>=4;++r,s-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(s){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var j0={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},k0=/[A-Z]|^ms/g,_0=/_EMO_([^_]+?)_([^]*?)_EMO_/g,fg=function(t){return t.charCodeAt(1)===45},zp=function(t){return t!=null&&typeof t!="boolean"},jc=ig(function(e){return fg(e)?e:e.replace(k0,"-$&").toLowerCase()}),Bp=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(_0,function(r,s,i){return qn={name:s,styles:i,next:qn},s})}return j0[t]!==1&&!fg(t)&&typeof n=="number"&&n!==0?n+"px":n};function xi(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var s=n;if(s.anim===1)return qn={name:s.name,styles:s.styles,next:qn},s.name;var i=n;if(i.styles!==void 0){var a=i.next;if(a!==void 0)for(;a!==void 0;)qn={name:a.name,styles:a.styles,next:qn},a=a.next;var l=i.styles+";";return l}return T0(e,t,n)}case"function":{if(e!==void 0){var c=qn,d=n(e);return qn=c,xi(e,t,d)}break}}var u=n;if(t==null)return u;var p=t[u];return p!==void 0?p:u}function T0(e,t,n){var r="";if(Array.isArray(n))for(var s=0;s<n.length;s++)r+=xi(e,t,n[s])+";";else for(var i in n){var a=n[i];if(typeof a!="object"){var l=a;t!=null&&t[l]!==void 0?r+=i+"{"+t[l]+"}":zp(l)&&(r+=jc(i)+":"+Bp(i,l)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&(t==null||t[a[0]]===void 0))for(var c=0;c<a.length;c++)zp(a[c])&&(r+=jc(i)+":"+Bp(i,a[c])+";");else{var d=xi(e,t,a);switch(i){case"animation":case"animationName":{r+=jc(i)+":"+d+";";break}default:r+=i+"{"+d+"}"}}}return r}var Wp=/label:\s*([^\s;{]+)\s*(;|$)/g,qn;function Ni(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,s="";qn=void 0;var i=e[0];if(i==null||i.raw===void 0)r=!1,s+=xi(n,t,i);else{var a=i;s+=a[0]}for(var l=1;l<e.length;l++)if(s+=xi(n,t,e[l]),r){var c=i;s+=c[l]}Wp.lastIndex=0;for(var d="",u;(u=Wp.exec(s))!==null;)d+="-"+u[1];var p=S0(s)+d;return{name:p,styles:s,next:qn}}var E0=function(t){return t()},mg=sd.useInsertionEffect?sd.useInsertionEffect:!1,gg=mg||E0,Hp=mg||f.useLayoutEffect,vg=f.createContext(typeof HTMLElement<"u"?lg({key:"css"}):null),M0=vg.Provider,cu=function(t){return f.forwardRef(function(n,r){var s=f.useContext(vg);return t(n,s,r)})},Co=f.createContext({}),du={}.hasOwnProperty,cd="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",P0=function(t,n){var r={};for(var s in n)du.call(n,s)&&(r[s]=n[s]);return r[cd]=t,r},I0=function(t){var n=t.cache,r=t.serialized,s=t.isStringTag;return au(n,r,s),gg(function(){return lu(n,r,s)}),null},R0=cu(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var s=e[cd],i=[r],a="";typeof e.className=="string"?a=hg(t.registered,i,e.className):e.className!=null&&(a=e.className+" ");var l=Ni(i,void 0,f.useContext(Co));a+=t.key+"-"+l.name;var c={};for(var d in e)du.call(e,d)&&d!=="css"&&d!==cd&&(c[d]=e[d]);return c.className=a,n&&(c.ref=n),f.createElement(f.Fragment,null,f.createElement(I0,{cache:t,serialized:l,isStringTag:typeof s=="string"}),f.createElement(s,c))}),D0=R0,kc={exports:{}},Up;function yg(){return Up||(Up=1,function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var i in s)({}).hasOwnProperty.call(s,i)&&(n[i]=s[i])}return n},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(kc)),kc.exports}yg();var Vp=function(t,n){var r=arguments;if(n==null||!du.call(n,"css"))return f.createElement.apply(void 0,r);var s=r.length,i=new Array(s);i[0]=D0,i[1]=P0(t,n);for(var a=2;a<s;a++)i[a]=r[a];return f.createElement.apply(null,i)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(Vp||(Vp={}));var N0=cu(function(e,t){var n=e.styles,r=Ni([n],void 0,f.useContext(Co)),s=f.useRef();return Hp(function(){var i=t.key+"-global",a=new t.sheet.constructor({key:i,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),l=!1,c=document.querySelector('style[data-emotion="'+i+" "+r.name+'"]');return t.sheet.tags.length&&(a.before=t.sheet.tags[0]),c!==null&&(l=!0,c.setAttribute("data-emotion",i),a.hydrate([c])),s.current=[a,l],function(){a.flush()}},[t]),Hp(function(){var i=s.current,a=i[0],l=i[1];if(l){i[1]=!1;return}if(r.next!==void 0&&lu(t,r.next,!0),a.tags.length){var c=a.tags[a.tags.length-1].nextElementSibling;a.before=c,a.flush()}t.insert("",r,a,!1)},[t,r.name]),null});function Ss(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ni(t)}function Ir(){var e=Ss.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var A0=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,$0=ig(function(e){return A0.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),O0=$0,L0=function(t){return t!=="theme"},Yp=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?O0:L0},Gp=function(t,n,r){var s;if(n){var i=n.shouldForwardProp;s=t.__emotion_forwardProp&&i?function(a){return t.__emotion_forwardProp(a)&&i(a)}:i}return typeof s!="function"&&r&&(s=t.__emotion_forwardProp),s},F0=function(t){var n=t.cache,r=t.serialized,s=t.isStringTag;return au(n,r,s),gg(function(){return lu(n,r,s)}),null},z0=function e(t,n){var r=t.__emotion_real===t,s=r&&t.__emotion_base||t,i,a;n!==void 0&&(i=n.label,a=n.target);var l=Gp(t,n,r),c=l||Yp(s),d=!c("as");return function(){var u=arguments,p=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(i!==void 0&&p.push("label:"+i+";"),u[0]==null||u[0].raw===void 0)p.push.apply(p,u);else{var h=u[0];p.push(h[0]);for(var g=u.length,v=1;v<g;v++)p.push(u[v],h[v])}var m=cu(function(y,x,w){var C=d&&y.as||s,j="",_=[],S=y;if(y.theme==null){S={};for(var E in y)S[E]=y[E];S.theme=f.useContext(Co)}typeof y.className=="string"?j=hg(x.registered,_,y.className):y.className!=null&&(j=y.className+" ");var T=Ni(p.concat(_),x.registered,S);j+=x.key+"-"+T.name,a!==void 0&&(j+=" "+a);var k=d&&l===void 0?Yp(C):c,M={};for(var N in y)d&&N==="as"||k(N)&&(M[N]=y[N]);return M.className=j,w&&(M.ref=w),f.createElement(f.Fragment,null,f.createElement(F0,{cache:x,serialized:T,isStringTag:typeof C=="string"}),f.createElement(C,M))});return m.displayName=i!==void 0?i:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",m.defaultProps=t.defaultProps,m.__emotion_real=m,m.__emotion_base=s,m.__emotion_styles=p,m.__emotion_forwardProp=l,Object.defineProperty(m,"toString",{value:function(){return"."+a}}),m.withComponent=function(y,x){var w=e(y,b({},n,x,{shouldForwardProp:Gp(m,x,!0)}));return w.apply(void 0,p)},m}},B0=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],dd=z0.bind(null);B0.forEach(function(e){dd[e]=dd(e)});function W0(e,t){const n=lg({key:"css",prepend:e});if(t){const r=n.insert;n.insert=(...s)=>(s[1].styles.match(/^@layer\s+[^{]*$/)||(s[1].styles=`@layer mui {${s[1].styles}}`),r(...s))}return n}const _c=new Map;function H0(e){const{injectFirst:t,enableCssLayer:n,children:r}=e,s=f.useMemo(()=>{const i=`${t}-${n}`;if(typeof document=="object"&&_c.has(i))return _c.get(i);const a=W0(t,n);return _c.set(i,a),a},[t,n]);return t||n?o.jsx(M0,{value:s,children:r}):r}function U0(e){return e==null||Object.keys(e).length===0}function xg(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?s=>t(U0(s)?n:s):t;return o.jsx(N0,{styles:r})}function uu(e,t){return dd(e,t)}const bg=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},qp=[];function Oa(e){return qp[0]=e,Ni(qp)}const V0=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:xg,StyledEngineProvider:H0,ThemeContext:Co,css:Ss,default:uu,internal_processStyles:bg,internal_serializeStyles:Oa,keyframes:Ir},Symbol.toStringTag,{value:"Module"}));function mr(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Cg(e){if(f.isValidElement(e)||!mr(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=Cg(e[n])}),t}function nn(e,t,n={clone:!0}){const r=n.clone?b({},e):e;return mr(e)&&mr(t)&&Object.keys(t).forEach(s=>{f.isValidElement(t[s])?r[s]=t[s]:mr(t[s])&&Object.prototype.hasOwnProperty.call(e,s)&&mr(e[s])?r[s]=nn(e[s],t[s],n):n.clone?r[s]=mr(t[s])?Cg(t[s]):t[s]:r[s]=t[s]}),r}const Y0=Object.freeze(Object.defineProperty({__proto__:null,default:nn,isPlainObject:mr},Symbol.toStringTag,{value:"Module"})),G0=["values","unit","step"],q0=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>b({},n,{[r.key]:r.val}),{})};function wg(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,s=Z(e,G0),i=q0(t),a=Object.keys(i);function l(h){return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${n})`}function c(h){return`@media (max-width:${(typeof t[h]=="number"?t[h]:h)-r/100}${n})`}function d(h,g){const v=a.indexOf(g);return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${n}) and (max-width:${(v!==-1&&typeof t[a[v]]=="number"?t[a[v]]:g)-r/100}${n})`}function u(h){return a.indexOf(h)+1<a.length?d(h,a[a.indexOf(h)+1]):l(h)}function p(h){const g=a.indexOf(h);return g===0?l(a[1]):g===a.length-1?c(a[g]):d(h,a[a.indexOf(h)+1]).replace("@media","@media not all and")}return b({keys:a,values:i,up:l,down:c,between:d,only:u,not:p,unit:n},s)}const K0={borderRadius:4};function oi(e,t){return t?nn(e,t,{clone:!1}):e}const pu={xs:0,sm:600,md:900,lg:1200,xl:1536},Kp={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${pu[e]}px)`};function pn(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const i=r.breakpoints||Kp;return t.reduce((a,l,c)=>(a[i.up(i.keys[c])]=n(t[c]),a),{})}if(typeof t=="object"){const i=r.breakpoints||Kp;return Object.keys(t).reduce((a,l)=>{if(Object.keys(i.values||pu).indexOf(l)!==-1){const c=i.up(l);a[c]=n(t[l],l)}else{const c=l;a[c]=t[c]}return a},{})}return n(t)}function Sg(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((r,s)=>{const i=e.up(s);return r[i]={},r},{}))||{}}function ud(e,t){return e.reduce((n,r)=>{const s=n[r];return(!s||Object.keys(s).length===0)&&delete n[r],n},t)}function Q0(e,...t){const n=Sg(e),r=[n,...t].reduce((s,i)=>nn(s,i),{});return ud(Object.keys(n),r)}function X0(e,t){if(typeof e!="object")return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((s,i)=>{i<e.length&&(n[s]=!0)}):r.forEach(s=>{e[s]!=null&&(n[s]=!0)}),n}function cs({values:e,breakpoints:t,base:n}){const r=n||X0(e,t),s=Object.keys(r);if(s.length===0)return e;let i;return s.reduce((a,l,c)=>(Array.isArray(e)?(a[l]=e[c]!=null?e[c]:e[i],i=c):typeof e=="object"?(a[l]=e[l]!=null?e[l]:e[i],i=l):a[l]=e,a),{})}function Q(e){if(typeof e!="string")throw new Error(Sr(7));return e.charAt(0).toUpperCase()+e.slice(1)}const Z0=Object.freeze(Object.defineProperty({__proto__:null,default:Q},Symbol.toStringTag,{value:"Module"}));function Ml(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((s,i)=>s&&s[i]?s[i]:null,e);if(r!=null)return r}return t.split(".").reduce((r,s)=>r&&r[s]!=null?r[s]:null,e)}function La(e,t,n,r=n){let s;return typeof e=="function"?s=e(n):Array.isArray(e)?s=e[n]||r:s=Ml(e,n)||r,t&&(s=t(s,r,e)),s}function Rt(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:s}=e,i=a=>{if(a[t]==null)return null;const l=a[t],c=a.theme,d=Ml(c,r)||{};return pn(a,l,p=>{let h=La(d,s,p);return p===h&&typeof p=="string"&&(h=La(d,s,`${t}${p==="default"?"":Q(p)}`,p)),n===!1?h:{[n]:h}})};return i.propTypes={},i.filterProps=[t],i}function J0(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const e1={m:"margin",p:"padding"},t1={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Qp={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},n1=J0(e=>{if(e.length>2)if(Qp[e])e=Qp[e];else return[e];const[t,n]=e.split(""),r=e1[t],s=t1[n]||"";return Array.isArray(s)?s.map(i=>r+i):[r+s]}),hu=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],fu=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...hu,...fu];function Ai(e,t,n,r){var s;const i=(s=Ml(e,t,!1))!=null?s:n;return typeof i=="number"?a=>typeof a=="string"?a:i*a:Array.isArray(i)?a=>typeof a=="string"?a:i[a]:typeof i=="function"?i:()=>{}}function mu(e){return Ai(e,"spacing",8)}function hs(e,t){if(typeof t=="string"||t==null)return t;const n=Math.abs(t),r=e(n);return t>=0?r:typeof r=="number"?-r:`-${r}`}function r1(e,t){return n=>e.reduce((r,s)=>(r[s]=hs(t,n),r),{})}function s1(e,t,n,r){if(t.indexOf(n)===-1)return null;const s=n1(n),i=r1(s,r),a=e[n];return pn(e,a,i)}function jg(e,t){const n=mu(e.theme);return Object.keys(e).map(r=>s1(e,t,r,n)).reduce(oi,{})}function kt(e){return jg(e,hu)}kt.propTypes={};kt.filterProps=hu;function _t(e){return jg(e,fu)}_t.propTypes={};_t.filterProps=fu;function o1(e=8){if(e.mui)return e;const t=mu({spacing:e}),n=(...r)=>(r.length===0?[1]:r).map(i=>{const a=t(i);return typeof a=="number"?`${a}px`:a}).join(" ");return n.mui=!0,n}function Pl(...e){const t=e.reduce((r,s)=>(s.filterProps.forEach(i=>{r[i]=s}),r),{}),n=r=>Object.keys(r).reduce((s,i)=>t[i]?oi(s,t[i](r)):s,{});return n.propTypes={},n.filterProps=e.reduce((r,s)=>r.concat(s.filterProps),[]),n}function Mn(e){return typeof e!="number"?e:`${e}px solid`}function $n(e,t){return Rt({prop:e,themeKey:"borders",transform:t})}const i1=$n("border",Mn),a1=$n("borderTop",Mn),l1=$n("borderRight",Mn),c1=$n("borderBottom",Mn),d1=$n("borderLeft",Mn),u1=$n("borderColor"),p1=$n("borderTopColor"),h1=$n("borderRightColor"),f1=$n("borderBottomColor"),m1=$n("borderLeftColor"),g1=$n("outline",Mn),v1=$n("outlineColor"),Il=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=Ai(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:hs(t,r)});return pn(e,e.borderRadius,n)}return null};Il.propTypes={};Il.filterProps=["borderRadius"];Pl(i1,a1,l1,c1,d1,u1,p1,h1,f1,m1,Il,g1,v1);const Rl=e=>{if(e.gap!==void 0&&e.gap!==null){const t=Ai(e.theme,"spacing",8),n=r=>({gap:hs(t,r)});return pn(e,e.gap,n)}return null};Rl.propTypes={};Rl.filterProps=["gap"];const Dl=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=Ai(e.theme,"spacing",8),n=r=>({columnGap:hs(t,r)});return pn(e,e.columnGap,n)}return null};Dl.propTypes={};Dl.filterProps=["columnGap"];const Nl=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=Ai(e.theme,"spacing",8),n=r=>({rowGap:hs(t,r)});return pn(e,e.rowGap,n)}return null};Nl.propTypes={};Nl.filterProps=["rowGap"];const y1=Rt({prop:"gridColumn"}),x1=Rt({prop:"gridRow"}),b1=Rt({prop:"gridAutoFlow"}),C1=Rt({prop:"gridAutoColumns"}),w1=Rt({prop:"gridAutoRows"}),S1=Rt({prop:"gridTemplateColumns"}),j1=Rt({prop:"gridTemplateRows"}),k1=Rt({prop:"gridTemplateAreas"}),_1=Rt({prop:"gridArea"});Pl(Rl,Dl,Nl,y1,x1,b1,C1,w1,S1,j1,k1,_1);function Vs(e,t){return t==="grey"?t:e}const T1=Rt({prop:"color",themeKey:"palette",transform:Vs}),E1=Rt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Vs}),M1=Rt({prop:"backgroundColor",themeKey:"palette",transform:Vs});Pl(T1,E1,M1);function yn(e){return e<=1&&e!==0?`${e*100}%`:e}const P1=Rt({prop:"width",transform:yn}),gu=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var r,s;const i=((r=e.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||pu[n];return i?((s=e.theme)==null||(s=s.breakpoints)==null?void 0:s.unit)!=="px"?{maxWidth:`${i}${e.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:yn(n)}};return pn(e,e.maxWidth,t)}return null};gu.filterProps=["maxWidth"];const I1=Rt({prop:"minWidth",transform:yn}),R1=Rt({prop:"height",transform:yn}),D1=Rt({prop:"maxHeight",transform:yn}),N1=Rt({prop:"minHeight",transform:yn});Rt({prop:"size",cssProperty:"width",transform:yn});Rt({prop:"size",cssProperty:"height",transform:yn});const A1=Rt({prop:"boxSizing"});Pl(P1,gu,I1,R1,D1,N1,A1);const $i={border:{themeKey:"borders",transform:Mn},borderTop:{themeKey:"borders",transform:Mn},borderRight:{themeKey:"borders",transform:Mn},borderBottom:{themeKey:"borders",transform:Mn},borderLeft:{themeKey:"borders",transform:Mn},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Mn},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Il},color:{themeKey:"palette",transform:Vs},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Vs},backgroundColor:{themeKey:"palette",transform:Vs},p:{style:_t},pt:{style:_t},pr:{style:_t},pb:{style:_t},pl:{style:_t},px:{style:_t},py:{style:_t},padding:{style:_t},paddingTop:{style:_t},paddingRight:{style:_t},paddingBottom:{style:_t},paddingLeft:{style:_t},paddingX:{style:_t},paddingY:{style:_t},paddingInline:{style:_t},paddingInlineStart:{style:_t},paddingInlineEnd:{style:_t},paddingBlock:{style:_t},paddingBlockStart:{style:_t},paddingBlockEnd:{style:_t},m:{style:kt},mt:{style:kt},mr:{style:kt},mb:{style:kt},ml:{style:kt},mx:{style:kt},my:{style:kt},margin:{style:kt},marginTop:{style:kt},marginRight:{style:kt},marginBottom:{style:kt},marginLeft:{style:kt},marginX:{style:kt},marginY:{style:kt},marginInline:{style:kt},marginInlineStart:{style:kt},marginInlineEnd:{style:kt},marginBlock:{style:kt},marginBlockStart:{style:kt},marginBlockEnd:{style:kt},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Rl},rowGap:{style:Nl},columnGap:{style:Dl},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:yn},maxWidth:{style:gu},minWidth:{transform:yn},height:{transform:yn},maxHeight:{transform:yn},minHeight:{transform:yn},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function $1(...e){const t=e.reduce((r,s)=>r.concat(Object.keys(s)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function O1(e,t){return typeof e=="function"?e(t):e}function kg(){function e(n,r,s,i){const a={[n]:r,theme:s},l=i[n];if(!l)return{[n]:r};const{cssProperty:c=n,themeKey:d,transform:u,style:p}=l;if(r==null)return null;if(d==="typography"&&r==="inherit")return{[n]:r};const h=Ml(s,d)||{};return p?p(a):pn(a,r,v=>{let m=La(h,u,v);return v===m&&typeof v=="string"&&(m=La(h,u,`${n}${v==="default"?"":Q(v)}`,v)),c===!1?m:{[c]:m}})}function t(n){var r;const{sx:s,theme:i={},nested:a}=n||{};if(!s)return null;const l=(r=i.unstable_sxConfig)!=null?r:$i;function c(d){let u=d;if(typeof d=="function")u=d(i);else if(typeof d!="object")return d;if(!u)return null;const p=Sg(i.breakpoints),h=Object.keys(p);let g=p;return Object.keys(u).forEach(v=>{const m=O1(u[v],i);if(m!=null)if(typeof m=="object")if(l[v])g=oi(g,e(v,m,i,l));else{const y=pn({theme:i},m,x=>({[v]:x}));$1(y,m)?g[v]=t({sx:m,theme:i,nested:!0}):g=oi(g,y)}else g=oi(g,e(v,m,i,l))}),!a&&i.modularCssLayers?{"@layer sx":ud(h,g)}:ud(h,g)}return Array.isArray(s)?s.map(c):c(s)}return t}const wo=kg();wo.filterProps=["sx"];function _g(e,t){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}:n.palette.mode===e?t:{}}const L1=["breakpoints","palette","spacing","shape"];function So(e={},...t){const{breakpoints:n={},palette:r={},spacing:s,shape:i={}}=e,a=Z(e,L1),l=wg(n),c=o1(s);let d=nn({breakpoints:l,direction:"ltr",components:{},palette:b({mode:"light"},r),spacing:c,shape:b({},K0,i)},a);return d.applyStyles=_g,d=t.reduce((u,p)=>nn(u,p),d),d.unstable_sxConfig=b({},$i,a==null?void 0:a.unstable_sxConfig),d.unstable_sx=function(p){return wo({sx:p,theme:this})},d}const F1=Object.freeze(Object.defineProperty({__proto__:null,default:So,private_createBreakpoints:wg,unstable_applyStyles:_g},Symbol.toStringTag,{value:"Module"}));function z1(e){return Object.keys(e).length===0}function Al(e=null){const t=f.useContext(Co);return!t||z1(t)?e:t}const B1=So();function jo(e=B1){return Al(e)}function Tc(e){const t=Oa(e);return e!==t&&t.styles?(t.styles.match(/^@layer\s+[^{]*$/)||(t.styles=`@layer global{${t.styles}}`),t):e}function Tg({styles:e,themeId:t,defaultTheme:n={}}){const r=jo(n),s=t&&r[t]||r;let i=typeof e=="function"?e(s):e;return s.modularCssLayers&&(Array.isArray(i)?i=i.map(a=>Tc(typeof a=="function"?a(s):a)):i=Tc(i)),o.jsx(xg,{styles:i})}const W1=["sx"],H1=e=>{var t,n;const r={systemProps:{},otherProps:{}},s=(t=e==null||(n=e.theme)==null?void 0:n.unstable_sxConfig)!=null?t:$i;return Object.keys(e).forEach(i=>{s[i]?r.systemProps[i]=e[i]:r.otherProps[i]=e[i]}),r};function Oi(e){const{sx:t}=e,n=Z(e,W1),{systemProps:r,otherProps:s}=H1(n);let i;return Array.isArray(t)?i=[r,...t]:typeof t=="function"?i=(...a)=>{const l=t(...a);return mr(l)?b({},r,l):r}:i=b({},r,t),b({},s,{sx:i})}const U1=Object.freeze(Object.defineProperty({__proto__:null,default:wo,extendSxProp:Oi,unstable_createStyleFunctionSx:kg,unstable_defaultSxConfig:$i},Symbol.toStringTag,{value:"Module"})),Xp=e=>e,V1=()=>{let e=Xp;return{configure(t){e=t},generate(t){return e(t)},reset(){e=Xp}}},Eg=V1();function Mg(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Mg(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function re(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Mg(e))&&(r&&(r+=" "),r+=t);return r}const Y1=["className","component"];function G1(e={}){const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:s}=e,i=uu("div",{shouldForwardProp:l=>l!=="theme"&&l!=="sx"&&l!=="as"})(wo);return f.forwardRef(function(c,d){const u=jo(n),p=Oi(c),{className:h,component:g="div"}=p,v=Z(p,Y1);return o.jsx(i,b({as:g,ref:d,className:re(h,s?s(r):r),theme:t&&u[t]||u},v))})}const q1={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function pe(e,t,n="Mui"){const r=q1[t];return r?`${n}-${r}`:`${Eg.generate(e)}-${t}`}function he(e,t,n="Mui"){const r={};return t.forEach(s=>{r[s]=pe(e,s,n)}),r}var Pg={exports:{}},pt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vu=Symbol.for("react.transitional.element"),yu=Symbol.for("react.portal"),$l=Symbol.for("react.fragment"),Ol=Symbol.for("react.strict_mode"),Ll=Symbol.for("react.profiler"),Fl=Symbol.for("react.consumer"),zl=Symbol.for("react.context"),Bl=Symbol.for("react.forward_ref"),Wl=Symbol.for("react.suspense"),Hl=Symbol.for("react.suspense_list"),Ul=Symbol.for("react.memo"),Vl=Symbol.for("react.lazy"),K1=Symbol.for("react.view_transition"),Q1=Symbol.for("react.client.reference");function On(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case vu:switch(e=e.type,e){case $l:case Ll:case Ol:case Wl:case Hl:case K1:return e;default:switch(e=e&&e.$$typeof,e){case zl:case Bl:case Vl:case Ul:return e;case Fl:return e;default:return t}}case yu:return t}}}pt.ContextConsumer=Fl;pt.ContextProvider=zl;pt.Element=vu;pt.ForwardRef=Bl;pt.Fragment=$l;pt.Lazy=Vl;pt.Memo=Ul;pt.Portal=yu;pt.Profiler=Ll;pt.StrictMode=Ol;pt.Suspense=Wl;pt.SuspenseList=Hl;pt.isContextConsumer=function(e){return On(e)===Fl};pt.isContextProvider=function(e){return On(e)===zl};pt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===vu};pt.isForwardRef=function(e){return On(e)===Bl};pt.isFragment=function(e){return On(e)===$l};pt.isLazy=function(e){return On(e)===Vl};pt.isMemo=function(e){return On(e)===Ul};pt.isPortal=function(e){return On(e)===yu};pt.isProfiler=function(e){return On(e)===Ll};pt.isStrictMode=function(e){return On(e)===Ol};pt.isSuspense=function(e){return On(e)===Wl};pt.isSuspenseList=function(e){return On(e)===Hl};pt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===$l||e===Ll||e===Ol||e===Wl||e===Hl||typeof e=="object"&&e!==null&&(e.$$typeof===Vl||e.$$typeof===Ul||e.$$typeof===zl||e.$$typeof===Fl||e.$$typeof===Bl||e.$$typeof===Q1||e.getModuleId!==void 0)};pt.typeOf=On;Pg.exports=pt;var Zp=Pg.exports;const X1=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function Ig(e){const t=`${e}`.match(X1);return t&&t[1]||""}function Rg(e,t=""){return e.displayName||e.name||Ig(e)||t}function Jp(e,t,n){const r=Rg(t);return e.displayName||(r!==""?`${n}(${r})`:n)}function Z1(e){if(e!=null){if(typeof e=="string")return e;if(typeof e=="function")return Rg(e,"Component");if(typeof e=="object")switch(e.$$typeof){case Zp.ForwardRef:return Jp(e,e.render,"ForwardRef");case Zp.Memo:return Jp(e,e.type,"memo");default:return}}}const J1=Object.freeze(Object.defineProperty({__proto__:null,default:Z1,getFunctionName:Ig},Symbol.toStringTag,{value:"Module"})),eC=["ownerState"],tC=["variants"],nC=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function rC(e){return Object.keys(e).length===0}function sC(e){return typeof e=="string"&&e.charCodeAt(0)>96}function Ec(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function eh(e,t){return t&&e&&typeof e=="object"&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}const oC=So(),iC=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function ra({defaultTheme:e,theme:t,themeId:n}){return rC(t)?e:t[n]||t}function aC(e){return e?(t,n)=>n[e]:null}function _a(e,t,n){let{ownerState:r}=t,s=Z(t,eC);const i=typeof e=="function"?e(b({ownerState:r},s)):e;if(Array.isArray(i))return i.flatMap(a=>_a(a,b({ownerState:r},s),n));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:a=[]}=i;let c=Z(i,tC);return a.forEach(d=>{let u=!0;if(typeof d.props=="function"?u=d.props(b({ownerState:r},s,r)):Object.keys(d.props).forEach(p=>{(r==null?void 0:r[p])!==d.props[p]&&s[p]!==d.props[p]&&(u=!1)}),u){Array.isArray(c)||(c=[c]);const p=typeof d.style=="function"?d.style(b({ownerState:r},s,r)):d.style;c.push(n?eh(Oa(p),n):p)}}),c}return n?eh(Oa(i),n):i}function lC(e={}){const{themeId:t,defaultTheme:n=oC,rootShouldForwardProp:r=Ec,slotShouldForwardProp:s=Ec}=e,i=a=>wo(b({},a,{theme:ra(b({},a,{defaultTheme:n,themeId:t}))}));return i.__mui_systemSx=!0,(a,l={})=>{bg(a,S=>S.filter(E=>!(E!=null&&E.__mui_systemSx)));const{name:c,slot:d,skipVariantsResolver:u,skipSx:p,overridesResolver:h=aC(iC(d))}=l,g=Z(l,nC),v=c&&c.startsWith("Mui")||d?"components":"custom",m=u!==void 0?u:d&&d!=="Root"&&d!=="root"||!1,y=p||!1;let x,w=Ec;d==="Root"||d==="root"?w=r:d?w=s:sC(a)&&(w=void 0);const C=uu(a,b({shouldForwardProp:w,label:x},g)),j=S=>typeof S=="function"&&S.__emotion_real!==S||mr(S)?E=>{const T=ra({theme:E.theme,defaultTheme:n,themeId:t});return _a(S,b({},E,{theme:T}),T.modularCssLayers?v:void 0)}:S,_=(S,...E)=>{let T=j(S);const k=E?E.map(j):[];c&&h&&k.push(L=>{const R=ra(b({},L,{defaultTheme:n,themeId:t}));if(!R.components||!R.components[c]||!R.components[c].styleOverrides)return null;const P=R.components[c].styleOverrides,D={};return Object.entries(P).forEach(([I,O])=>{D[I]=_a(O,b({},L,{theme:R}),R.modularCssLayers?"theme":void 0)}),h(L,D)}),c&&!m&&k.push(L=>{var R;const P=ra(b({},L,{defaultTheme:n,themeId:t})),D=P==null||(R=P.components)==null||(R=R[c])==null?void 0:R.variants;return _a({variants:D},b({},L,{theme:P}),P.modularCssLayers?"theme":void 0)}),y||k.push(i);const M=k.length-E.length;if(Array.isArray(S)&&M>0){const L=new Array(M).fill("");T=[...S,...L],T.raw=[...S.raw,...L]}const N=C(T,...k);return a.muiName&&(N.muiName=a.muiName),N};return C.withConfig&&(_.withConfig=C.withConfig),_}}const Dg=lC();function bi(e,t){const n=b({},t);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=b({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const s=e[r]||{},i=t[r];n[r]={},!i||!Object.keys(i)?n[r]=s:!s||!Object.keys(s)?n[r]=i:(n[r]=b({},i),Object.keys(s).forEach(a=>{n[r][a]=bi(s[a],i[a])}))}else n[r]===void 0&&(n[r]=e[r])}),n}function Ng(e){const{theme:t,name:n,props:r}=e;return!t||!t.components||!t.components[n]||!t.components[n].defaultProps?r:bi(t.components[n].defaultProps,r)}function xu({props:e,name:t,defaultTheme:n,themeId:r}){let s=jo(n);return r&&(s=s[r]||s),Ng({theme:s,name:t,props:e})}const rn=typeof window<"u"?f.useLayoutEffect:f.useEffect;function cC(e,t,n,r,s){const[i,a]=f.useState(()=>s&&n?n(e).matches:r?r(e).matches:t);return rn(()=>{let l=!0;if(!n)return;const c=n(e),d=()=>{l&&a(c.matches)};return d(),c.addListener(d),()=>{l=!1,c.removeListener(d)}},[e,n]),i}const Ag=f.useSyncExternalStore;function dC(e,t,n,r,s){const i=f.useCallback(()=>t,[t]),a=f.useMemo(()=>{if(s&&n)return()=>n(e).matches;if(r!==null){const{matches:u}=r(e);return()=>u}return i},[i,e,r,s,n]),[l,c]=f.useMemo(()=>{if(n===null)return[i,()=>()=>{}];const u=n(e);return[()=>u.matches,p=>(u.addListener(p),()=>{u.removeListener(p)})]},[i,n,e]);return Ag(c,l,a)}function uC(e,t={}){const n=Al(),r=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:s=!1,matchMedia:i=r?window.matchMedia:null,ssrMatchMedia:a=null,noSsr:l=!1}=Ng({name:"MuiUseMediaQuery",props:t,theme:n});let c=e;return c=c.replace(/^@media( ?)/m,""),(Ag!==void 0?dC:cC)(c,s,i,a,l)}function $g(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}const pC=Object.freeze(Object.defineProperty({__proto__:null,default:$g},Symbol.toStringTag,{value:"Module"}));function hC(e,t=0,n=1){return $g(e,t,n)}function fC(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,s)=>s<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Og(e){if(e.type)return e;if(e.charAt(0)==="#")return Og(fC(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(Sr(9,e));let r=e.substring(t+1,e.length-1),s;if(n==="color"){if(r=r.split(" "),s=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(s)===-1)throw new Error(Sr(10,s))}else r=r.split(",");return r=r.map(i=>parseFloat(i)),{type:n,values:r,colorSpace:s}}function mC(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((s,i)=>i<3?parseInt(s,10):s):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function no(e,t){return e=Og(e),t=hC(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,mC(e)}function th(...e){return e.reduce((t,n)=>n==null?t:function(...s){t.apply(this,s),n.apply(this,s)},()=>{})}function Lg(e,t=166){let n;function r(...s){const i=()=>{e.apply(this,s)};clearTimeout(n),n=setTimeout(i,t)}return r.clear=()=>{clearTimeout(n)},r}function Ta(e,t){var n,r;return f.isValidElement(e)&&t.indexOf((n=e.type.muiName)!=null?n:(r=e.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function Bt(e){return e&&e.ownerDocument||document}function fs(e){return Bt(e).defaultView||window}function pd(e,t){typeof e=="function"?e(t):e&&(e.current=t)}let nh=0;function gC(e){const[t,n]=f.useState(e),r=e||t;return f.useEffect(()=>{t==null&&(nh+=1,n(`mui-${nh}`))},[t]),r}const rh=sd.useId;function ko(e){if(rh!==void 0){const t=rh();return e??t}return gC(e)}function lr({controlled:e,default:t,name:n,state:r="value"}){const{current:s}=f.useRef(e!==void 0),[i,a]=f.useState(t),l=s?e:i,c=f.useCallback(d=>{s||a(d)},[]);return[l,c]}function Ne(e){const t=f.useRef(e);return rn(()=>{t.current=e}),f.useRef((...n)=>(0,t.current)(...n)).current}function vt(...e){return f.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{pd(n,t)})},e)}const sh={};function vC(e,t){const n=f.useRef(sh);return n.current===sh&&(n.current=e(t)),n}const yC=[];function xC(e){f.useEffect(e,yC)}class Li{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new Li}start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}}function Or(){const e=vC(Li.create).current;return xC(e.disposeEffect),e}let Yl=!0,hd=!1;const bC=new Li,CC={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function wC(e){const{type:t,tagName:n}=e;return!!(n==="INPUT"&&CC[t]&&!e.readOnly||n==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function SC(e){e.metaKey||e.altKey||e.ctrlKey||(Yl=!0)}function Mc(){Yl=!1}function jC(){this.visibilityState==="hidden"&&hd&&(Yl=!0)}function kC(e){e.addEventListener("keydown",SC,!0),e.addEventListener("mousedown",Mc,!0),e.addEventListener("pointerdown",Mc,!0),e.addEventListener("touchstart",Mc,!0),e.addEventListener("visibilitychange",jC,!0)}function _C(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return Yl||wC(t)}function Fg(){const e=f.useCallback(s=>{s!=null&&kC(s.ownerDocument)},[]),t=f.useRef(!1);function n(){return t.current?(hd=!0,bC.start(100,()=>{hd=!1}),t.current=!1,!0):!1}function r(s){return _C(s)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:r,onBlur:n,ref:e}}function zg(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}function ge(e,t,n=void 0){const r={};return Object.keys(e).forEach(s=>{r[s]=e[s].reduce((i,a)=>{if(a){const l=t(a);l!==""&&i.push(l),n&&n[a]&&i.push(n[a])}return i},[]).join(" ")}),r}function ro(e){return typeof e=="string"}function zs(e,t,n){return e===void 0||ro(e)?t:b({},t,{ownerState:b({},t.ownerState,n)})}function Fa(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function oh(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function Bg(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:s,className:i}=e;if(!t){const g=re(n==null?void 0:n.className,i,s==null?void 0:s.className,r==null?void 0:r.className),v=b({},n==null?void 0:n.style,s==null?void 0:s.style,r==null?void 0:r.style),m=b({},n,s,r);return g.length>0&&(m.className=g),Object.keys(v).length>0&&(m.style=v),{props:m,internalRef:void 0}}const a=Fa(b({},s,r)),l=oh(r),c=oh(s),d=t(a),u=re(d==null?void 0:d.className,n==null?void 0:n.className,i,s==null?void 0:s.className,r==null?void 0:r.className),p=b({},d==null?void 0:d.style,n==null?void 0:n.style,s==null?void 0:s.style,r==null?void 0:r.style),h=b({},d,n,c,l);return u.length>0&&(h.className=u),Object.keys(p).length>0&&(h.style=p),{props:h,internalRef:d.ref}}function Wg(e,t,n){return typeof e=="function"?e(t,n):e}const TC=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Ur(e){var t;const{elementType:n,externalSlotProps:r,ownerState:s,skipResolvingSlotProps:i=!1}=e,a=Z(e,TC),l=i?{}:Wg(r,s),{props:c,internalRef:d}=Bg(b({},a,{externalSlotProps:l})),u=vt(d,l==null?void 0:l.ref,(t=e.additionalProps)==null?void 0:t.ref);return zs(n,b({},c,{ref:u}),s)}function js(e){if(parseInt(f.version,10)>=19){var t;return(e==null||(t=e.props)==null?void 0:t.ref)||null}return(e==null?void 0:e.ref)||null}const Hg=f.createContext(null);function Ug(){return f.useContext(Hg)}const EC=typeof Symbol=="function"&&Symbol.for,MC=EC?Symbol.for("mui.nested"):"__THEME_NESTED__";function PC(e,t){return typeof t=="function"?t(e):b({},e,t)}function IC(e){const{children:t,theme:n}=e,r=Ug(),s=f.useMemo(()=>{const i=r===null?n:PC(r,n);return i!=null&&(i[MC]=r!==null),i},[n,r]);return o.jsx(Hg.Provider,{value:s,children:t})}const RC=["value"],Vg=f.createContext();function DC(e){let{value:t}=e,n=Z(e,RC);return o.jsx(Vg.Provider,b({value:t??!0},n))}const bu=()=>{const e=f.useContext(Vg);return e??!1},Yg=f.createContext(void 0);function NC({value:e,children:t}){return o.jsx(Yg.Provider,{value:e,children:t})}function AC(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const s=t.components[n];return s.defaultProps?bi(s.defaultProps,r):!s.styleOverrides&&!s.variants?bi(s,r):r}function $C({props:e,name:t}){const n=f.useContext(Yg);return AC({props:e,name:t,theme:{components:n}})}function OC(e){const t=Al(),n=ko()||"",{modularCssLayers:r}=e;let s="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!r||t!==null?s="":typeof r=="string"?s=r.replace(/mui(?!\.)/g,s):s=`@layer ${s};`,rn(()=>{const i=document.querySelector("head");if(!i)return;const a=i.firstChild;if(s){var l;if(a&&(l=a.hasAttribute)!=null&&l.call(a,"data-mui-layer-order")&&a.getAttribute("data-mui-layer-order")===n)return;const d=document.createElement("style");d.setAttribute("data-mui-layer-order",n),d.textContent=s,i.prepend(d)}else{var c;(c=i.querySelector(`style[data-mui-layer-order="${n}"]`))==null||c.remove()}},[s,n]),s?o.jsx(Tg,{styles:s}):null}const ih={};function ah(e,t,n,r=!1){return f.useMemo(()=>{const s=e&&t[e]||t;if(typeof n=="function"){const i=n(s),a=e?b({},t,{[e]:i}):i;return r?()=>a:a}return e?b({},t,{[e]:n}):b({},t,n)},[e,t,n,r])}function LC(e){const{children:t,theme:n,themeId:r}=e,s=Al(ih),i=Ug()||ih,a=ah(r,s,n),l=ah(r,i,n,!0),c=a.direction==="rtl",d=OC(a);return o.jsx(IC,{theme:l,children:o.jsx(Co.Provider,{value:a,children:o.jsx(DC,{value:c,children:o.jsxs(NC,{value:a==null?void 0:a.components,children:[d,t]})})})})}function jr(e){"@babel/helpers - typeof";return jr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jr(e)}function FC(e,t){if(jr(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(jr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gg(e){var t=FC(e,"string");return jr(t)=="symbol"?t:t+""}const zC=["className","component","disableGutters","fixed","maxWidth","classes"],BC=So(),WC=Dg("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${Q(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),HC=e=>xu({props:e,name:"MuiContainer",defaultTheme:BC}),UC=(e,t)=>{const n=c=>pe(t,c),{classes:r,fixed:s,disableGutters:i,maxWidth:a}=e,l={root:["root",a&&`maxWidth${Q(String(a))}`,s&&"fixed",i&&"disableGutters"]};return ge(l,n,r)};function VC(e={}){const{createStyledComponent:t=WC,useThemeProps:n=HC,componentName:r="MuiContainer"}=e,s=t(({theme:a,ownerState:l})=>b({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!l.disableGutters&&{paddingLeft:a.spacing(2),paddingRight:a.spacing(2),[a.breakpoints.up("sm")]:{paddingLeft:a.spacing(3),paddingRight:a.spacing(3)}}),({theme:a,ownerState:l})=>l.fixed&&Object.keys(a.breakpoints.values).reduce((c,d)=>{const u=d,p=a.breakpoints.values[u];return p!==0&&(c[a.breakpoints.up(u)]={maxWidth:`${p}${a.breakpoints.unit}`}),c},{}),({theme:a,ownerState:l})=>b({},l.maxWidth==="xs"&&{[a.breakpoints.up("xs")]:{maxWidth:Math.max(a.breakpoints.values.xs,444)}},l.maxWidth&&l.maxWidth!=="xs"&&{[a.breakpoints.up(l.maxWidth)]:{maxWidth:`${a.breakpoints.values[l.maxWidth]}${a.breakpoints.unit}`}}));return f.forwardRef(function(l,c){const d=n(l),{className:u,component:p="div",disableGutters:h=!1,fixed:g=!1,maxWidth:v="lg"}=d,m=Z(d,zC),y=b({},d,{component:p,disableGutters:h,fixed:g,maxWidth:v}),x=UC(y,r);return o.jsx(s,b({as:p,ownerState:y,className:re(x.root,u),ref:c},m))})}const YC=["component","direction","spacing","divider","children","className","useFlexGap"],GC=So(),qC=Dg("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function KC(e){return xu({props:e,name:"MuiStack",defaultTheme:GC})}function QC(e,t){const n=f.Children.toArray(e).filter(Boolean);return n.reduce((r,s,i)=>(r.push(s),i<n.length-1&&r.push(f.cloneElement(t,{key:`separator-${i}`})),r),[])}const XC=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],ZC=({ownerState:e,theme:t})=>{let n=b({display:"flex",flexDirection:"column"},pn({theme:t},cs({values:e.direction,breakpoints:t.breakpoints.values}),r=>({flexDirection:r})));if(e.spacing){const r=mu(t),s=Object.keys(t.breakpoints.values).reduce((c,d)=>((typeof e.spacing=="object"&&e.spacing[d]!=null||typeof e.direction=="object"&&e.direction[d]!=null)&&(c[d]=!0),c),{}),i=cs({values:e.direction,base:s}),a=cs({values:e.spacing,base:s});typeof i=="object"&&Object.keys(i).forEach((c,d,u)=>{if(!i[c]){const h=d>0?i[u[d-1]]:"column";i[c]=h}}),n=nn(n,pn({theme:t},a,(c,d)=>e.useFlexGap?{gap:hs(r,c)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${XC(d?i[d]:e.direction)}`]:hs(r,c)}}))}return n=Q0(t.breakpoints,n),n};function JC(e={}){const{createStyledComponent:t=qC,useThemeProps:n=KC,componentName:r="MuiStack"}=e,s=()=>ge({root:["root"]},c=>pe(r,c),{}),i=t(ZC);return f.forwardRef(function(c,d){const u=n(c),p=Oi(u),{component:h="div",direction:g="column",spacing:v=0,divider:m,children:y,className:x,useFlexGap:w=!1}=p,C=Z(p,YC),j={direction:g,spacing:v,useFlexGap:w},_=s();return o.jsx(i,b({as:h,ownerState:j,ref:d,className:re(_.root,x)},C,{children:m?QC(y,m):y}))})}function ew(e,t){return b({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}var Dt={},qg={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(qg);var Kg=qg.exports;const tw=Kr(Fb),nw=Kr(pC);var Qg=Kg;Object.defineProperty(Dt,"__esModule",{value:!0});var ze=Dt.alpha=ev;Dt.blend=fw;Dt.colorChannel=void 0;var so=Dt.darken=wu;Dt.decomposeColor=Rn;var rw=Dt.emphasize=tv,sw=Dt.getContrastRatio=cw;Dt.getLuminance=za;Dt.hexToRgb=Xg;Dt.hslToRgb=Jg;var oo=Dt.lighten=Su;Dt.private_safeAlpha=dw;Dt.private_safeColorChannel=void 0;Dt.private_safeDarken=uw;Dt.private_safeEmphasize=hw;Dt.private_safeLighten=pw;Dt.recomposeColor=_o;Dt.rgbToHex=lw;var lh=Qg(tw),ow=Qg(nw);function Cu(e,t=0,n=1){return(0,ow.default)(e,t,n)}function Xg(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,s)=>s<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function iw(e){const t=e.toString(16);return t.length===1?`0${t}`:t}function Rn(e){if(e.type)return e;if(e.charAt(0)==="#")return Rn(Xg(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,lh.default)(9,e));let r=e.substring(t+1,e.length-1),s;if(n==="color"){if(r=r.split(" "),s=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(s)===-1)throw new Error((0,lh.default)(10,s))}else r=r.split(",");return r=r.map(i=>parseFloat(i)),{type:n,values:r,colorSpace:s}}const Zg=e=>{const t=Rn(e);return t.values.slice(0,3).map((n,r)=>t.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};Dt.colorChannel=Zg;const aw=(e,t)=>{try{return Zg(e)}catch{return e}};Dt.private_safeColorChannel=aw;function _o(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((s,i)=>i<3?parseInt(s,10):s):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function lw(e){if(e.indexOf("#")===0)return e;const{values:t}=Rn(e);return`#${t.map((n,r)=>iw(r===3?Math.round(255*n):n)).join("")}`}function Jg(e){e=Rn(e);const{values:t}=e,n=t[0],r=t[1]/100,s=t[2]/100,i=r*Math.min(s,1-s),a=(d,u=(d+n/30)%12)=>s-i*Math.max(Math.min(u-3,9-u,1),-1);let l="rgb";const c=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return e.type==="hsla"&&(l+="a",c.push(t[3])),_o({type:l,values:c})}function za(e){e=Rn(e);let t=e.type==="hsl"||e.type==="hsla"?Rn(Jg(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function cw(e,t){const n=za(e),r=za(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function ev(e,t){return e=Rn(e),t=Cu(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,_o(e)}function dw(e,t,n){try{return ev(e,t)}catch{return e}}function wu(e,t){if(e=Rn(e),t=Cu(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]*=1-t;return _o(e)}function uw(e,t,n){try{return wu(e,t)}catch{return e}}function Su(e,t){if(e=Rn(e),t=Cu(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return _o(e)}function pw(e,t,n){try{return Su(e,t)}catch{return e}}function tv(e,t=.15){return za(e)>.5?wu(e,t):Su(e,t)}function hw(e,t,n){try{return tv(e,t)}catch{return e}}function fw(e,t,n,r=1){const s=(c,d)=>Math.round((c**(1/r)*(1-n)+d**(1/r)*n)**r),i=Rn(e),a=Rn(t),l=[s(i.values[0],a.values[0]),s(i.values[1],a.values[1]),s(i.values[2],a.values[2])];return _o({type:"rgb",values:l})}const Ci={black:"#000",white:"#fff"},mw={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Ms={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Ps={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Bo={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Is={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Rs={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Ds={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},gw=["mode","contrastThreshold","tonalOffset"],ch={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Ci.white,default:Ci.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Pc={text:{primary:Ci.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Ci.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function dh(e,t,n,r){const s=r.light||r,i=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=oo(e.main,s):t==="dark"&&(e.dark=so(e.main,i)))}function vw(e="light"){return e==="dark"?{main:Is[200],light:Is[50],dark:Is[400]}:{main:Is[700],light:Is[400],dark:Is[800]}}function yw(e="light"){return e==="dark"?{main:Ms[200],light:Ms[50],dark:Ms[400]}:{main:Ms[500],light:Ms[300],dark:Ms[700]}}function xw(e="light"){return e==="dark"?{main:Ps[500],light:Ps[300],dark:Ps[700]}:{main:Ps[700],light:Ps[400],dark:Ps[800]}}function bw(e="light"){return e==="dark"?{main:Rs[400],light:Rs[300],dark:Rs[700]}:{main:Rs[700],light:Rs[500],dark:Rs[900]}}function Cw(e="light"){return e==="dark"?{main:Ds[400],light:Ds[300],dark:Ds[700]}:{main:Ds[800],light:Ds[500],dark:Ds[900]}}function ww(e="light"){return e==="dark"?{main:Bo[400],light:Bo[300],dark:Bo[700]}:{main:"#ed6c02",light:Bo[500],dark:Bo[900]}}function Sw(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,s=Z(e,gw),i=e.primary||vw(t),a=e.secondary||yw(t),l=e.error||xw(t),c=e.info||bw(t),d=e.success||Cw(t),u=e.warning||ww(t);function p(m){return sw(m,Pc.text.primary)>=n?Pc.text.primary:ch.text.primary}const h=({color:m,name:y,mainShade:x=500,lightShade:w=300,darkShade:C=700})=>{if(m=b({},m),!m.main&&m[x]&&(m.main=m[x]),!m.hasOwnProperty("main"))throw new Error(Sr(11,y?` (${y})`:"",x));if(typeof m.main!="string")throw new Error(Sr(12,y?` (${y})`:"",JSON.stringify(m.main)));return dh(m,"light",w,r),dh(m,"dark",C,r),m.contrastText||(m.contrastText=p(m.main)),m},g={dark:Pc,light:ch};return nn(b({common:b({},Ci),mode:t,primary:h({color:i,name:"primary"}),secondary:h({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:l,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:c,name:"info"}),success:h({color:d,name:"success"}),grey:mw,contrastThreshold:n,getContrastText:p,augmentColor:h,tonalOffset:r},g[t]),s)}const jw=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function kw(e){return Math.round(e*1e5)/1e5}const uh={textTransform:"uppercase"},ph='"Roboto", "Helvetica", "Arial", sans-serif';function _w(e,t){const n=typeof t=="function"?t(e):t,{fontFamily:r=ph,fontSize:s=14,fontWeightLight:i=300,fontWeightRegular:a=400,fontWeightMedium:l=500,fontWeightBold:c=700,htmlFontSize:d=16,allVariants:u,pxToRem:p}=n,h=Z(n,jw),g=s/14,v=p||(x=>`${x/d*g}rem`),m=(x,w,C,j,_)=>b({fontFamily:r,fontWeight:x,fontSize:v(w),lineHeight:C},r===ph?{letterSpacing:`${kw(j/w)}em`}:{},_,u),y={h1:m(i,96,1.167,-1.5),h2:m(i,60,1.2,-.5),h3:m(a,48,1.167,0),h4:m(a,34,1.235,.25),h5:m(a,24,1.334,0),h6:m(l,20,1.6,.15),subtitle1:m(a,16,1.75,.15),subtitle2:m(l,14,1.57,.1),body1:m(a,16,1.5,.15),body2:m(a,14,1.43,.15),button:m(l,14,1.75,.4,uh),caption:m(a,12,1.66,.4),overline:m(a,12,2.66,1,uh),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return nn(b({htmlFontSize:d,pxToRem:v,fontFamily:r,fontSize:s,fontWeightLight:i,fontWeightRegular:a,fontWeightMedium:l,fontWeightBold:c},y),h,{clone:!1})}const Tw=.2,Ew=.14,Mw=.12;function bt(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${Tw})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${Ew})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${Mw})`].join(",")}const Pw=["none",bt(0,2,1,-1,0,1,1,0,0,1,3,0),bt(0,3,1,-2,0,2,2,0,0,1,5,0),bt(0,3,3,-2,0,3,4,0,0,1,8,0),bt(0,2,4,-1,0,4,5,0,0,1,10,0),bt(0,3,5,-1,0,5,8,0,0,1,14,0),bt(0,3,5,-1,0,6,10,0,0,1,18,0),bt(0,4,5,-2,0,7,10,1,0,2,16,1),bt(0,5,5,-3,0,8,10,1,0,3,14,2),bt(0,5,6,-3,0,9,12,1,0,3,16,2),bt(0,6,6,-3,0,10,14,1,0,4,18,3),bt(0,6,7,-4,0,11,15,1,0,4,20,3),bt(0,7,8,-4,0,12,17,2,0,5,22,4),bt(0,7,8,-4,0,13,19,2,0,5,24,4),bt(0,7,9,-4,0,14,21,2,0,5,26,4),bt(0,8,9,-5,0,15,22,2,0,6,28,5),bt(0,8,10,-5,0,16,24,2,0,6,30,5),bt(0,8,11,-5,0,17,26,2,0,6,32,5),bt(0,9,11,-5,0,18,28,2,0,7,34,6),bt(0,9,12,-6,0,19,29,2,0,7,36,6),bt(0,10,13,-6,0,20,31,3,0,8,38,7),bt(0,10,13,-6,0,21,33,3,0,8,40,7),bt(0,10,14,-6,0,22,35,3,0,8,42,7),bt(0,11,14,-7,0,23,36,3,0,9,44,8),bt(0,11,15,-7,0,24,38,3,0,9,46,8)],Iw=["duration","easing","delay"],Rw={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},nv={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function hh(e){return`${Math.round(e)}ms`}function Dw(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function Nw(e){const t=b({},Rw,e.easing),n=b({},nv,e.duration);return b({getAutoHeightDuration:Dw,create:(s=["all"],i={})=>{const{duration:a=n.standard,easing:l=t.easeInOut,delay:c=0}=i;return Z(i,Iw),(Array.isArray(s)?s:[s]).map(d=>`${d} ${typeof a=="string"?a:hh(a)} ${l} ${typeof c=="string"?c:hh(c)}`).join(",")}},e,{easing:t,duration:n})}const Aw={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},$w=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function ju(e={},...t){const{mixins:n={},palette:r={},transitions:s={},typography:i={}}=e,a=Z(e,$w);if(e.vars&&e.generateCssVars===void 0)throw new Error(Sr(18));const l=Sw(r),c=So(e);let d=nn(c,{mixins:ew(c.breakpoints,n),palette:l,shadows:Pw.slice(),typography:_w(l,i),transitions:Nw(s),zIndex:b({},Aw)});return d=nn(d,a),d=t.reduce((u,p)=>nn(u,p),d),d.unstable_sxConfig=b({},$i,a==null?void 0:a.unstable_sxConfig),d.unstable_sx=function(p){return wo({sx:p,theme:this})},d}const Gl=ju();function Vn(){const e=jo(Gl);return e[ps]||e}function Ln({props:e,name:t}){return xu({props:e,name:t,defaultTheme:Gl,themeId:ps})}var Fi={},Ic={exports:{}},fh;function Ow(){return fh||(fh=1,function(e){function t(n,r){if(n==null)return{};var s={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(r.indexOf(i)!==-1)continue;s[i]=n[i]}return s}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(Ic)),Ic.exports}const rv=Kr(V0),Lw=Kr(Y0),Fw=Kr(Z0),zw=Kr(J1),Bw=Kr(F1),Ww=Kr(U1);var To=Kg;Object.defineProperty(Fi,"__esModule",{value:!0});var Hw=Fi.default=n2;Fi.shouldForwardProp=Ea;Fi.systemDefaultTheme=void 0;var Tn=To(yg()),fd=To(Ow()),Ba=Qw(rv),Uw=Lw;To(Fw);To(zw);var Vw=To(Bw),Yw=To(Ww);const Gw=["ownerState"],qw=["variants"],Kw=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function sv(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(sv=function(r){return r?n:t})(e)}function Qw(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=sv(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var a=s?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}function Xw(e){return Object.keys(e).length===0}function Zw(e){return typeof e=="string"&&e.charCodeAt(0)>96}function Ea(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function mh(e,t){return t&&e&&typeof e=="object"&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}const Jw=Fi.systemDefaultTheme=(0,Vw.default)(),e2=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function sa({defaultTheme:e,theme:t,themeId:n}){return Xw(t)?e:t[n]||t}function t2(e){return e?(t,n)=>n[e]:null}function Ma(e,t,n){let{ownerState:r}=t,s=(0,fd.default)(t,Gw);const i=typeof e=="function"?e((0,Tn.default)({ownerState:r},s)):e;if(Array.isArray(i))return i.flatMap(a=>Ma(a,(0,Tn.default)({ownerState:r},s),n));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:a=[]}=i;let c=(0,fd.default)(i,qw);return a.forEach(d=>{let u=!0;if(typeof d.props=="function"?u=d.props((0,Tn.default)({ownerState:r},s,r)):Object.keys(d.props).forEach(p=>{(r==null?void 0:r[p])!==d.props[p]&&s[p]!==d.props[p]&&(u=!1)}),u){Array.isArray(c)||(c=[c]);const p=typeof d.style=="function"?d.style((0,Tn.default)({ownerState:r},s,r)):d.style;c.push(n?mh((0,Ba.internal_serializeStyles)(p),n):p)}}),c}return n?mh((0,Ba.internal_serializeStyles)(i),n):i}function n2(e={}){const{themeId:t,defaultTheme:n=Jw,rootShouldForwardProp:r=Ea,slotShouldForwardProp:s=Ea}=e,i=a=>(0,Yw.default)((0,Tn.default)({},a,{theme:sa((0,Tn.default)({},a,{defaultTheme:n,themeId:t}))}));return i.__mui_systemSx=!0,(a,l={})=>{(0,Ba.internal_processStyles)(a,S=>S.filter(E=>!(E!=null&&E.__mui_systemSx)));const{name:c,slot:d,skipVariantsResolver:u,skipSx:p,overridesResolver:h=t2(e2(d))}=l,g=(0,fd.default)(l,Kw),v=c&&c.startsWith("Mui")||d?"components":"custom",m=u!==void 0?u:d&&d!=="Root"&&d!=="root"||!1,y=p||!1;let x,w=Ea;d==="Root"||d==="root"?w=r:d?w=s:Zw(a)&&(w=void 0);const C=(0,Ba.default)(a,(0,Tn.default)({shouldForwardProp:w,label:x},g)),j=S=>typeof S=="function"&&S.__emotion_real!==S||(0,Uw.isPlainObject)(S)?E=>{const T=sa({theme:E.theme,defaultTheme:n,themeId:t});return Ma(S,(0,Tn.default)({},E,{theme:T}),T.modularCssLayers?v:void 0)}:S,_=(S,...E)=>{let T=j(S);const k=E?E.map(j):[];c&&h&&k.push(L=>{const R=sa((0,Tn.default)({},L,{defaultTheme:n,themeId:t}));if(!R.components||!R.components[c]||!R.components[c].styleOverrides)return null;const P=R.components[c].styleOverrides,D={};return Object.entries(P).forEach(([I,O])=>{D[I]=Ma(O,(0,Tn.default)({},L,{theme:R}),R.modularCssLayers?"theme":void 0)}),h(L,D)}),c&&!m&&k.push(L=>{var R;const P=sa((0,Tn.default)({},L,{defaultTheme:n,themeId:t})),D=P==null||(R=P.components)==null||(R=R[c])==null?void 0:R.variants;return Ma({variants:D},(0,Tn.default)({},L,{theme:P}),P.modularCssLayers?"theme":void 0)}),y||k.push(i);const M=k.length-E.length;if(Array.isArray(S)&&M>0){const L=new Array(M).fill("");T=[...S,...L],T.raw=[...S.raw,...L]}const N=C(T,...k);return a.muiName&&(N.muiName=a.muiName),N};return C.withConfig&&(_.withConfig=C.withConfig),_}}function ov(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const hn=e=>ov(e)&&e!=="classes",U=Hw({themeId:ps,defaultTheme:Gl,rootShouldForwardProp:hn}),r2=["theme"];function s2(e){let{theme:t}=e,n=Z(e,r2);const r=t[ps];let s=r||t;return typeof t!="function"&&(r&&!r.vars?s=b({},r,{vars:null}):t&&!t.vars&&(s=b({},t,{vars:null}))),o.jsx(LC,b({},n,{themeId:r?ps:void 0,theme:s}))}const gh=e=>{let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,(t/100).toFixed(2)};function we(e){return $C(e)}function iv(e){return o.jsx(Tg,b({},e,{defaultTheme:Gl,themeId:ps}))}const o2=(e,t)=>b({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),i2=e=>b({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),a2=(e,t=!1)=>{var n;const r={};t&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach(([a,l])=>{var c;r[e.getColorSchemeSelector(a).replace(/\s*&/,"")]={colorScheme:(c=l.palette)==null?void 0:c.mode}});let s=b({html:o2(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:b({margin:0},i2(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},r);const i=(n=e.components)==null||(n=n.MuiCssBaseline)==null?void 0:n.styleOverrides;return i&&(s=[s,i]),s};function l2(e){const t=we({props:e,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=t;return o.jsxs(f.Fragment,{children:[o.jsx(iv,{styles:s=>a2(s,r)}),n]})}var vh={};const yh="@firebase/database",xh="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let av="";function c2(e){av=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Yt(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:eu(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return Pr(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new d2(t)}}catch{}return new u2},is=lv("localStorage"),p2=lv("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys=new lb("@firebase/database"),h2=function(){let e=1;return function(){return e++}}(),cv=function(e){const t=cb(e),n=new db;n.update(t);const r=n.digest();return ub.encodeByteArray(r)},zi=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=zi.apply(null,r):typeof r=="object"?t+=Yt(r):t+=r,t+=" "}return t};let ii=null,bh=!0;const f2=function(e,t){ye(!0,"Can't turn on custom loggers persistently."),Ys.logLevel=hb.VERBOSE,ii=Ys.log.bind(Ys)},qt=function(...e){if(bh===!0&&(bh=!1,ii===null&&p2.get("logging_enabled")===!0&&f2()),ii){const t=zi.apply(null,e);ii(t)}},Bi=function(e){return function(...t){qt(e,...t)}},md=function(...e){const t="FIREBASE INTERNAL ERROR: "+zi(...e);Ys.error(t)},kr=function(...e){const t=`FIREBASE FATAL ERROR: ${zi(...e)}`;throw Ys.error(t),new Error(t)},bn=function(...e){const t="FIREBASE WARNING: "+zi(...e);Ys.warn(t)},m2=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&bn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},dv=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},g2=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},io="[MIN_NAME]",ms="[MAX_NAME]",Eo=function(e,t){if(e===t)return 0;if(e===io||t===ms)return-1;if(t===io||e===ms)return 1;{const n=Ch(e),r=Ch(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},v2=function(e,t){return e===t?0:e<t?-1:1},Wo=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Yt(t))},ku=function(e){if(typeof e!="object"||e===null)return Yt(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=Yt(t[r]),n+=":",n+=ku(e[t[r]]);return n+="}",n},uv=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let s=0;s<n;s+=t)s+t>n?r.push(e.substring(s,n)):r.push(e.substring(s,s+t));return r};function Dn(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const pv=function(e){ye(!dv(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let s,i,a,l,c;e===0?(i=0,a=0,s=1/e===-1/0?1:0):(s=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(e)/Math.LN2),r),i=l+r,a=Math.round(e*Math.pow(2,n-l)-Math.pow(2,n))):(i=0,a=Math.round(e/Math.pow(2,1-r-n))));const d=[];for(c=n;c;c-=1)d.push(a%2?1:0),a=Math.floor(a/2);for(c=t;c;c-=1)d.push(i%2?1:0),i=Math.floor(i/2);d.push(s?1:0),d.reverse();const u=d.join("");let p="";for(c=0;c<64;c+=8){let h=parseInt(u.substr(c,8),2).toString(16);h.length===1&&(h="0"+h),p=p+h}return p.toLowerCase()},y2=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},x2=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},b2=new RegExp("^-?(0*)\\d{1,10}$"),C2=-2147483648,w2=2147483647,Ch=function(e){if(b2.test(e)){const t=Number(e);if(t>=C2&&t<=w2)return t}return null},Wi=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw bn("Exception was thrown by user callback.",n),t},Math.floor(0))}},S2=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ai=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){bn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(qt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',bn(t)}}class Pa{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Pa.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u="5",hv="v",fv="s",mv="r",gv="f",vv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,yv="ls",xv="p",gd="ac",bv="websocket",Cv="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(t,n,r,s,i=!1,a="",l=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=a,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=c,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=is.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&is.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function _2(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function Sv(e,t,n){ye(typeof t=="string","typeof type must == string"),ye(typeof n=="object","typeof params must == object");let r;if(t===bv)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===Cv)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);_2(e)&&(n.ns=e.namespace);const s=[];return Dn(n,(i,a)=>{s.push(i+"="+a)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(){this.counters_={}}incrementCounter(t,n=1){Pr(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return yb(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc={},Dc={};function Tu(e){const t=e.toString();return Rc[t]||(Rc[t]=new T2),Rc[t]}function E2(e,t){const n=e.toString();return Dc[n]||(Dc[n]=t()),Dc[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&Wi(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh="start",P2="close",I2="pLPCommand",R2="pRTLPCB",jv="id",kv="pw",_v="ser",D2="cb",N2="seg",A2="ts",$2="d",O2="dframe",Tv=1870,Ev=30,L2=Tv-Ev,F2=25e3,z2=3e4;class Bs{constructor(t,n,r,s,i,a,l){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=a,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Bi(t),this.stats_=Tu(n),this.urlFn=c=>(this.appCheckToken&&(c[gd]=this.appCheckToken),Sv(n,Cv,c))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new M2(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(z2)),g2(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Eu((...i)=>{const[a,l,c,d,u]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===wh)this.id=l,this.password=c;else if(a===P2)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...i)=>{const[a,l]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(a,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[wh]="t",r[_v]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[D2]=this.scriptTagHolder.uniqueCallbackIdentifier),r[hv]=_u,this.transportSessionId&&(r[fv]=this.transportSessionId),this.lastSessionId&&(r[yv]=this.lastSessionId),this.applicationId&&(r[xv]=this.applicationId),this.appCheckToken&&(r[gd]=this.appCheckToken),typeof location<"u"&&location.hostname&&vv.test(location.hostname)&&(r[mv]=gv);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Bs.forceAllow_=!0}static forceDisallow(){Bs.forceDisallow_=!0}static isAvailable(){return Bs.forceAllow_?!0:!Bs.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!y2()&&!x2()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=Yt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=xb(n),s=uv(r,L2);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[O2]="t",r[jv]=t,r[kv]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=Yt(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Eu{constructor(t,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=h2(),window[I2+this.uniqueCallbackIdentifier]=t,window[R2+this.uniqueCallbackIdentifier]=n,this.myIFrame=Eu.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(l){qt("frame writing exception"),l.stack&&qt(l.stack),qt(l)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||qt("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[jv]=this.myID,t[kv]=this.myPW,t[_v]=this.currentSerial;let n=this.urlFn(t),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Ev+r.length<=Tv;){const a=this.pendingSegs.shift();r=r+"&"+N2+s+"="+a.seg+"&"+A2+s+"="+a.ts+"&"+$2+s+"="+a.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(F2)),i=()=>{clearTimeout(s),r()};this.addTag(t,i)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{qt("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=16384,W2=45e3;let Wa=null;typeof MozWebSocket<"u"?Wa=MozWebSocket:typeof WebSocket<"u"&&(Wa=WebSocket);class Bn{constructor(t,n,r,s,i,a,l){this.connId=t,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Bi(this.connId),this.stats_=Tu(n),this.connURL=Bn.connectionURL_(n,a,l,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,s,i){const a={};return a[hv]=_u,typeof location<"u"&&location.hostname&&vv.test(location.hostname)&&(a[mv]=gv),n&&(a[fv]=n),r&&(a[yv]=r),s&&(a[gd]=s),i&&(a[xv]=i),Sv(t,bv,a)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,is.set("previous_websocket_failure",!0);try{let r;bb(),this.mySock=new Wa(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Bn.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&Wa!==null&&!Bn.forceDisallow_}static previouslyFailed(){return is.isInMemoryStorage||is.get("previous_websocket_failure")===!0}markConnectionHealthy(){is.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=eu(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(ye(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=Yt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=uv(n,B2);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(W2))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Bn.responsesRequiredToBeHealthy=2;Bn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Bs,Bn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=Bn&&Bn.isAvailable();let r=n&&!Bn.previouslyFailed();if(t.webSocketOnly&&(n||bn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Bn];else{const s=this.transports_=[];for(const i of wi.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);wi.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}wi.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=6e4,U2=5e3,V2=10*1024,Y2=100*1024,Nc="t",Sh="d",G2="s",jh="r",q2="e",kh="o",_h="a",Th="n",Eh="p",K2="h";class Q2{constructor(t,n,r,s,i,a,l,c,d,u){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=a,this.onReady_=l,this.onDisconnect_=c,this.onKill_=d,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Bi("c:"+this.id+":"),this.transportManager_=new wi(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=t.healthyTimeout||0;s>0&&(this.healthyTimeout_=ai(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Y2?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>V2?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Nc in t){const n=t[Nc];n===_h?this.upgradeIfSecondaryHealthy_():n===jh?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===kh&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=Wo("t",t),r=Wo("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Eh,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:_h,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Th,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=Wo("t",t),r=Wo("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=Wo(Nc,t);if(Sh in t){const r=t[Sh];if(n===K2){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===Th){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===G2?this.onConnectionShutdown_(r):n===jh?this.onReset_(r):n===q2?md("Server Error: "+r):n===kh?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):md("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,s=t.h;this.sessionId=t.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),_u!==r&&bn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ai(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(H2))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ai(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(U2))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Eh,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(is.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{put(t,n,r,s){}merge(t,n,r,s){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(t){this.allowedEvents_=t,this.listeners_={},ye(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const s=this.getInitialEvent(t);s&&n.apply(r,s)}off(t,n,r){this.validateEventType_(t);const s=this.listeners_[t]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(t){ye(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha extends Pv{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Um()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ha}getInitialEvent(t){return ye(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=32,Ph=768;class yt{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function dt(){return new yt("")}function Ve(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Vr(e){return e.pieces_.length-e.pieceNum_}function gt(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new yt(e.pieces_,t)}function Iv(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function X2(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function Rv(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function Dv(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new yt(t,0)}function zt(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof yt)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new yt(n,0)}function We(e){return e.pieceNum_>=e.pieces_.length}function Pn(e,t){const n=Ve(e),r=Ve(t);if(n===null)return t;if(n===r)return Pn(gt(e),gt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Nv(e,t){if(Vr(e)!==Vr(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Wn(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Vr(e)>Vr(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class Z2{constructor(t,n){this.errorPrefix_=n,this.parts_=Rv(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=hl(this.parts_[r]);Av(this)}}function J2(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=hl(t),Av(e)}function eS(e){const t=e.parts_.pop();e.byteLength_-=hl(t),e.parts_.length>0&&(e.byteLength_-=1)}function Av(e){if(e.byteLength_>Ph)throw new Error(e.errorPrefix_+"has a key path longer than "+Ph+" bytes ("+e.byteLength_+").");if(e.parts_.length>Mh)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Mh+") or object contains a cycle "+ts(e))}function ts(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends Pv{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Mu}getInitialEvent(t){return ye(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=1e3,tS=60*5*1e3,Ih=30*1e3,nS=1.3,rS=3e4,sS="server_kill",Rh=3;class xr extends Mv{constructor(t,n,r,s,i,a,l,c){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=xr.nextPersistentConnectionId_++,this.log_=Bi("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ho,this.maxReconnectDelay_=tS,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Mu.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Ha.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const s=++this.requestNumber_,i={r:s,a:t,b:n};this.log_(Yt(i)),ye(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(t){this.initConnection_();const n=new Hm,s={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{const l=a.d;a.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(t,n,r,s){this.initConnection_();const i=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),ye(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ye(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:n,query:t,tag:r};this.listens.get(a).set(i,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},a="q";t.tag&&(i.q=n._queryObject,i.t=t.tag),i.h=t.hashFn(),this.sendRequest(a,i,l=>{const c=l.d,d=l.s;xr.warnOnListenWarnings_(c,n),(this.listens.get(r)&&this.listens.get(r).get(s))===t&&(this.log_("listen response",l),d!=="ok"&&this.removeListen_(r,s),t.onComplete&&t.onComplete(d,c))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&Pr(t,"w")){const r=eo(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();bn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||mb(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Ih)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=gb(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,a=s.d||"error";this.authToken_===t&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),ye(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,t._queryObject,n)}sendUnlisten_(t,n,r,s){this.log_("Unlisten on "+t+" for "+n);const i={p:t},a="n";s&&(i.q=r,i.t=s),this.sendRequest(a,i)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(t,n,r,s){this.putInternal("p",t,n,r,s)}merge(t,n,r,s){this.putInternal("m",t,n,r,s)}putInternal(t,n,r,s,i){this.initConnection_();const a={p:n,d:r};i!==void 0&&(a.h=i),this.outstandingPuts_.push({action:t,request:a,onComplete:s}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Yt(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):md("Unrecognized action received from server: "+Yt(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){ye(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ho,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Ho,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>rS&&(this.reconnectDelay_=Ho),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*nS)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+xr.nextConnectionId_++,i=this.lastSessionId;let a=!1,l=null;const c=function(){l?l.close():(a=!0,r())},d=function(p){ye(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(p)};this.realtime_={close:c,sendRequest:d};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[p,h]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);a?qt("getToken() completed but was canceled"):(qt("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=h&&h.token,l=new Q2(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,g=>{bn(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(sS)},i))}catch(p){this.log_("Failed to get token: "+p),a||(this.repoInfo_.nodeAdmin&&bn(p),c())}}}interrupt(t){qt("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){qt("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Rp(this.interruptReasons_)&&(this.reconnectDelay_=Ho,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(i=>ku(i)).join("$"):r="default";const s=this.removeListen_(t,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,n){const r=new yt(t).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(t,n){qt("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Rh&&(this.reconnectDelay_=Ih,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){qt("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Rh&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+av.replace(/\./g,"-")]=1,Um()?t["framework.cordova"]=1:vb()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Ha.getInstance().currentlyOnline();return Rp(this.interruptReasons_)&&t}}xr.nextPersistentConnectionId_=0;xr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new Ke(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new Ke(io,t),s=new Ke(io,n);return this.compare(r,s)!==0}minPost(){return Ke.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oa;class $v extends ql{static get __EMPTY_NODE(){return oa}static set __EMPTY_NODE(t){oa=t}compare(t,n){return Eo(t.name,n.name)}isDefinedOn(t){throw Ii("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return Ke.MIN}maxPost(){return new Ke(ms,oa)}makePost(t,n){return ye(typeof t=="string","KeyIndex indexValue must always be a string."),new Ke(t,oa)}toString(){return".key"}}const Gs=new $v;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(t,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let a=1;for(;!t.isEmpty();)if(t=t,a=n?r(t.key,n):1,s&&(a*=-1),a<0)this.isReverse_?t=t.left:t=t.right;else if(a===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Lt{constructor(t,n,r,s,i){this.key=t,this.value=n,this.color=r??Lt.RED,this.left=s??an.EMPTY_NODE,this.right=i??an.EMPTY_NODE}copy(t,n,r,s,i){return new Lt(t??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let s=this;const i=r(t,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(t,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(t,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return an.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,s;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return an.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Lt.RED=!0;Lt.BLACK=!1;class oS{copy(t,n,r,s,i){return this}insert(t,n,r){return new Lt(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class an{constructor(t,n=an.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new an(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Lt.BLACK,null,null))}remove(t){return new an(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Lt.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new ia(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new ia(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new ia(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new ia(this.root_,null,this.comparator_,!0,t)}}an.EMPTY_NODE=new oS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(e,t){return Eo(e.name,t.name)}function Pu(e,t){return Eo(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vd;function aS(e){vd=e}const Ov=function(e){return typeof e=="number"?"number:"+pv(e):"string:"+e},Lv=function(e){if(e.isLeafNode()){const t=e.val();ye(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Pr(t,".sv"),"Priority must be a string or number.")}else ye(e===vd||e.isEmpty(),"priority of unexpected type.");ye(e===vd||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dh;class Ot{constructor(t,n=Ot.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,ye(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Lv(this.priorityNode_)}static set __childrenNodeConstructor(t){Dh=t}static get __childrenNodeConstructor(){return Dh}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Ot(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Ot.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return We(t)?this:Ve(t)===".priority"?this.priorityNode_:Ot.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:Ot.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=Ve(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ye(r!==".priority"||Vr(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Ot.__childrenNodeConstructor.EMPTY_NODE.updateChild(gt(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Ov(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=pv(this.value_):t+=this.value_,this.lazyHash_=cv(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Ot.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Ot.__childrenNodeConstructor?-1:(ye(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,s=Ot.VALUE_TYPE_ORDER.indexOf(n),i=Ot.VALUE_TYPE_ORDER.indexOf(r);return ye(s>=0,"Unknown leaf type: "+n),ye(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ot.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fv,zv;function lS(e){Fv=e}function cS(e){zv=e}class dS extends ql{compare(t,n){const r=t.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?Eo(t.name,n.name):i}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return Ke.MIN}maxPost(){return new Ke(ms,new Ot("[PRIORITY-POST]",zv))}makePost(t,n){const r=Fv(t);return new Ke(n,new Ot("[PRIORITY-POST]",r))}toString(){return".priority"}}const Qt=new dS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS=Math.log(2);class pS{constructor(t){const n=i=>parseInt(Math.log(i)/uS,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const s=r(this.count);this.bits_=t+1&s}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Ua=function(e,t,n,r){e.sort(t);const s=function(c,d){const u=d-c;let p,h;if(u===0)return null;if(u===1)return p=e[c],h=n?n(p):p,new Lt(h,p.node,Lt.BLACK,null,null);{const g=parseInt(u/2,10)+c,v=s(c,g),m=s(g+1,d);return p=e[g],h=n?n(p):p,new Lt(h,p.node,Lt.BLACK,v,m)}},i=function(c){let d=null,u=null,p=e.length;const h=function(v,m){const y=p-v,x=p;p-=v;const w=s(y+1,x),C=e[y],j=n?n(C):C;g(new Lt(j,C.node,m,null,w))},g=function(v){d?(d.left=v,d=v):(u=v,d=v)};for(let v=0;v<c.count;++v){const m=c.nextBitIsOne(),y=Math.pow(2,c.count-(v+1));m?h(y,Lt.BLACK):(h(y,Lt.BLACK),h(y,Lt.RED))}return u},a=new pS(e.length),l=i(a);return new an(r||t,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ac;const Ns={};class vr{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return ye(Ns&&Qt,"ChildrenNode.ts has not been loaded"),Ac=Ac||new vr({".priority":Ns},{".priority":Qt}),Ac}get(t){const n=eo(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof an?n:null}hasIndex(t){return Pr(this.indexSet_,t.toString())}addIndex(t,n){ye(t!==Gs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(Ke.Wrap);let a=i.getNext();for(;a;)s=s||t.isDefinedOn(a.node),r.push(a),a=i.getNext();let l;s?l=Ua(r,t.getCompare()):l=Ns;const c=t.toString(),d=Object.assign({},this.indexSet_);d[c]=t;const u=Object.assign({},this.indexes_);return u[c]=l,new vr(u,d)}addToIndexes(t,n){const r=Aa(this.indexes_,(s,i)=>{const a=eo(this.indexSet_,i);if(ye(a,"Missing index implementation for "+i),s===Ns)if(a.isDefinedOn(t.node)){const l=[],c=n.getIterator(Ke.Wrap);let d=c.getNext();for(;d;)d.name!==t.name&&l.push(d),d=c.getNext();return l.push(t),Ua(l,a.getCompare())}else return Ns;else{const l=n.get(t.name);let c=s;return l&&(c=c.remove(new Ke(t.name,l))),c.insert(t,t.node)}});return new vr(r,this.indexSet_)}removeFromIndexes(t,n){const r=Aa(this.indexes_,s=>{if(s===Ns)return s;{const i=n.get(t.name);return i?s.remove(new Ke(t.name,i)):s}});return new vr(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uo;class at{constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Lv(this.priorityNode_),this.children_.isEmpty()&&ye(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Uo||(Uo=new at(new an(Pu),null,vr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Uo}updatePriority(t){return this.children_.isEmpty()?this:new at(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?Uo:n}}getChild(t){const n=Ve(t);return n===null?this:this.getImmediateChild(n).getChild(gt(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(ye(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new Ke(t,n);let s,i;n.isEmpty()?(s=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(r,this.children_));const a=s.isEmpty()?Uo:this.priorityNode_;return new at(s,a,i)}}updateChild(t,n){const r=Ve(t);if(r===null)return n;{ye(Ve(t)!==".priority"||Vr(t)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(gt(t),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(Qt,(a,l)=>{n[a]=l.val(t),r++,i&&at.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):i=!1}),!t&&i&&s<2*r){const a=[];for(const l in n)a[l]=n[l];return a}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+Ov(this.getPriority().val())+":"),this.forEachChild(Qt,(n,r)=>{const s=r.hash();s!==""&&(t+=":"+n+":"+s)}),this.lazyHash_=t===""?"":cv(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new Ke(t,n));return i?i.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new Ke(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new Ke(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,Ke.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,t)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,Ke.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,t)>0;)s.getNext(),i=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Hi?-1:0}withIndex(t){if(t===Gs||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new at(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===Gs||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Qt),s=n.getIterator(Qt);let i=r.getNext(),a=s.getNext();for(;i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=r.getNext(),a=s.getNext()}return i===null&&a===null}else return!1;else return!1}}resolveIndex_(t){return t===Gs?null:this.indexMap_.get(t.toString())}}at.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class hS extends at{constructor(){super(new an(Pu),at.EMPTY_NODE,vr.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return at.EMPTY_NODE}isEmpty(){return!1}}const Hi=new hS;Object.defineProperties(Ke,{MIN:{value:new Ke(io,at.EMPTY_NODE)},MAX:{value:new Ke(ms,Hi)}});$v.__EMPTY_NODE=at.EMPTY_NODE;Ot.__childrenNodeConstructor=at;aS(Hi);cS(Hi);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS=!0;function Kt(e,t=null){if(e===null)return at.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),ye(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new Ot(n,Kt(t))}if(!(e instanceof Array)&&fS){const n=[];let r=!1;if(Dn(e,(a,l)=>{if(a.substring(0,1)!=="."){const c=Kt(l);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new Ke(a,c)))}}),n.length===0)return at.EMPTY_NODE;const i=Ua(n,iS,a=>a.name,Pu);if(r){const a=Ua(n,Qt.getCompare());return new at(i,Kt(t),new vr({".priority":a},{".priority":Qt}))}else return new at(i,Kt(t),vr.Default)}else{let n=at.EMPTY_NODE;return Dn(e,(r,s)=>{if(Pr(e,r)&&r.substring(0,1)!=="."){const i=Kt(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(Kt(t))}}lS(Kt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS extends ql{constructor(t){super(),this.indexPath_=t,ye(!We(t)&&Ve(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?Eo(t.name,n.name):i}makePost(t,n){const r=Kt(t),s=at.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ke(n,s)}maxPost(){const t=at.EMPTY_NODE.updateChild(this.indexPath_,Hi);return new Ke(ms,t)}toString(){return Rv(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS extends ql{compare(t,n){const r=t.node.compareTo(n.node);return r===0?Eo(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return Ke.MIN}maxPost(){return Ke.MAX}makePost(t,n){const r=Kt(t);return new Ke(n,r)}toString(){return".value"}}const vS=new gS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(e){return{type:"value",snapshotNode:e}}function xS(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function bS(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Nh(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function CS(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Qt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ye(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ye(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:io}hasEnd(){return this.endSet_}getIndexEndValue(){return ye(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ye(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ms}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ye(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Qt}copy(){const t=new Iu;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Ah(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Qt?n="$priority":e.index_===vS?n="$value":e.index_===Gs?n="$key":(ye(e.index_ instanceof mS,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Yt(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=Yt(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+Yt(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=Yt(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+Yt(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function $h(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==Qt&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va extends Mv{constructor(t,n,r,s){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=Bi("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(ye(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,s){const i=t._path.toString();this.log_("Listen called for "+i+" "+t._queryIdentifier);const a=Va.getListenId_(t,r),l={};this.listens_[a]=l;const c=Ah(t._queryParams);this.restRequest_(i+".json",c,(d,u)=>{let p=u;if(d===404&&(p=null,d=null),d===null&&this.onDataUpdate_(i,p,!1,r),eo(this.listens_,a)===l){let h;d?d===401?h="permission_denied":h="rest_error:"+d:h="ok",s(h,null)}})}unlisten(t,n){const r=Va.getListenId_(t,n);delete this.listens_[r]}get(t){const n=Ah(t._queryParams),r=t._path.toString(),s=new Hm;return this.restRequest_(r+".json",n,(i,a)=>{let l=a;i===404&&(l=null,i=null),i===null?(this.onDataUpdate_(r,l,!1,null),s.resolve(l)):s.reject(new Error(l))}),s.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+fb(n);this.log_("Sending REST request for "+a);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+a+" received. status:",l.status,"response:",l.responseText);let c=null;if(l.status>=200&&l.status<300){try{c=eu(l.responseText)}catch{bn("Failed to parse JSON response for "+a+": "+l.responseText)}r(null,c)}else l.status!==401&&l.status!==404&&bn("Got unsuccessful REST response for "+a+" Status: "+l.status),r(l.status);r=null}},l.open("GET",a,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(){this.rootNode_=at.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ya(){return{value:null,children:new Map}}function Bv(e,t,n){if(We(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const r=Ve(t);e.children.has(r)||e.children.set(r,Ya());const s=e.children.get(r);t=gt(t),Bv(s,t,n)}}function yd(e,t,n){e.value!==null?n(t,e.value):SS(e,(r,s)=>{const i=new yt(t.toString()+"/"+r);yd(s,i,n)})}function SS(e,t){e.children.forEach((n,r)=>{t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&Dn(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=10*1e3,kS=30*1e3,_S=5*60*1e3;class TS{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new jS(t);const r=Oh+(kS-Oh)*Math.random();ai(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;Dn(t,(s,i)=>{i>0&&Pr(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),ai(this.reportStats_.bind(this),Math.floor(Math.random()*2*_S))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jn;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Jn||(Jn={}));function Wv(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Hv(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Uv(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Jn.ACK_USER_WRITE,this.source=Wv()}operationForChild(t){if(We(this.path)){if(this.affectedTree.value!=null)return ye(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new yt(t));return new Ga(dt(),n,this.revert)}}else return ye(Ve(this.path)===t,"operationForChild called for unrelated child."),new Ga(gt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Jn.OVERWRITE}operationForChild(t){return We(this.path)?new gs(this.source,dt(),this.snap.getImmediateChild(t)):new gs(this.source,gt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Jn.MERGE}operationForChild(t){if(We(this.path)){const n=this.children.subtree(new yt(t));return n.isEmpty()?null:n.value?new gs(this.source,dt(),n.value):new Si(this.source,dt(),n)}else return ye(Ve(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Si(this.source,gt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(We(t))return this.isFullyInitialized()&&!this.filtered_;const n=Ve(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}function ES(e,t,n,r){const s=[],i=[];return t.forEach(a=>{a.type==="child_changed"&&e.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&i.push(CS(a.childName,a.snapshotNode))}),Vo(e,s,"child_removed",t,r,n),Vo(e,s,"child_added",t,r,n),Vo(e,s,"child_moved",i,r,n),Vo(e,s,"child_changed",t,r,n),Vo(e,s,"value",t,r,n),s}function Vo(e,t,n,r,s,i){const a=r.filter(l=>l.type===n);a.sort((l,c)=>PS(e,l,c)),a.forEach(l=>{const c=MS(e,l,i);s.forEach(d=>{d.respondsTo(l.type)&&t.push(d.createEvent(c,e.query_))})})}function MS(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function PS(e,t,n){if(t.childName==null||n.childName==null)throw Ii("Should only compare child_ events.");const r=new Ke(t.childName,t.snapshotNode),s=new Ke(n.childName,n.snapshotNode);return e.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(e,t){return{eventCache:e,serverCache:t}}function li(e,t,n,r){return Vv(new Ru(t,n,r),e.serverCache)}function Yv(e,t,n,r){return Vv(e.eventCache,new Ru(t,n,r))}function xd(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function vs(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $c;const IS=()=>($c||($c=new an(v2)),$c);class mt{constructor(t,n=IS()){this.value=t,this.children=n}static fromObject(t){let n=new mt(null);return Dn(t,(r,s)=>{n=n.set(new yt(r),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:dt(),value:this.value};if(We(t))return null;{const r=Ve(t),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(gt(t),n);return i!=null?{path:zt(new yt(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(We(t))return this;{const n=Ve(t),r=this.children.get(n);return r!==null?r.subtree(gt(t)):new mt(null)}}set(t,n){if(We(t))return new mt(n,this.children);{const r=Ve(t),i=(this.children.get(r)||new mt(null)).set(gt(t),n),a=this.children.insert(r,i);return new mt(this.value,a)}}remove(t){if(We(t))return this.children.isEmpty()?new mt(null):new mt(null,this.children);{const n=Ve(t),r=this.children.get(n);if(r){const s=r.remove(gt(t));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new mt(null):new mt(this.value,i)}else return this}}get(t){if(We(t))return this.value;{const n=Ve(t),r=this.children.get(n);return r?r.get(gt(t)):null}}setTree(t,n){if(We(t))return n;{const r=Ve(t),i=(this.children.get(r)||new mt(null)).setTree(gt(t),n);let a;return i.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,i),new mt(this.value,a)}}fold(t){return this.fold_(dt(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(zt(t,s),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,dt(),n)}findOnPath_(t,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(We(t))return null;{const i=Ve(t),a=this.children.get(i);return a?a.findOnPath_(gt(t),zt(n,i),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,dt(),n)}foreachOnPath_(t,n,r){if(We(t))return this;{this.value&&r(n,this.value);const s=Ve(t),i=this.children.get(s);return i?i.foreachOnPath_(gt(t),zt(n,s),r):new mt(null)}}foreach(t){this.foreach_(dt(),t)}foreach_(t,n){this.children.inorderTraversal((r,s)=>{s.foreach_(zt(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(t){this.writeTree_=t}static empty(){return new Un(new mt(null))}}function ci(e,t,n){if(We(t))return new Un(new mt(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const s=r.path;let i=r.value;const a=Pn(s,t);return i=i.updateChild(a,n),new Un(e.writeTree_.set(s,i))}else{const s=new mt(n),i=e.writeTree_.setTree(t,s);return new Un(i)}}}function Lh(e,t,n){let r=e;return Dn(n,(s,i)=>{r=ci(r,zt(t,s),i)}),r}function Fh(e,t){if(We(t))return Un.empty();{const n=e.writeTree_.setTree(t,new mt(null));return new Un(n)}}function bd(e,t){return ks(e,t)!=null}function ks(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Pn(n.path,t)):null}function zh(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Qt,(r,s)=>{t.push(new Ke(r,s))}):e.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&t.push(new Ke(r,s.value))}),t}function Wr(e,t){if(We(t))return e;{const n=ks(e,t);return n!=null?new Un(new mt(n)):new Un(e.writeTree_.subtree(t))}}function Cd(e){return e.writeTree_.isEmpty()}function ao(e,t){return Gv(dt(),e.writeTree_,t)}function Gv(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((s,i)=>{s===".priority"?(ye(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=Gv(zt(e,s),i,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(zt(e,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(e,t){return Jv(t,e)}function RS(e,t,n,r,s){ye(r>e.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:s}),s&&(e.visibleWrites=ci(e.visibleWrites,t,n)),e.lastWriteId=r}function DS(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function NS(e,t){const n=e.allWrites.findIndex(l=>l.writeId===t);ye(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let s=r.visible,i=!1,a=e.allWrites.length-1;for(;s&&a>=0;){const l=e.allWrites[a];l.visible&&(a>=n&&AS(l,r.path)?s=!1:Wn(r.path,l.path)&&(i=!0)),a--}if(s){if(i)return $S(e),!0;if(r.snap)e.visibleWrites=Fh(e.visibleWrites,r.path);else{const l=r.children;Dn(l,c=>{e.visibleWrites=Fh(e.visibleWrites,zt(r.path,c))})}return!0}else return!1}function AS(e,t){if(e.snap)return Wn(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Wn(zt(e.path,n),t))return!0;return!1}function $S(e){e.visibleWrites=Kv(e.allWrites,OS,dt()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function OS(e){return e.visible}function Kv(e,t,n){let r=Un.empty();for(let s=0;s<e.length;++s){const i=e[s];if(t(i)){const a=i.path;let l;if(i.snap)Wn(n,a)?(l=Pn(n,a),r=ci(r,l,i.snap)):Wn(a,n)&&(l=Pn(a,n),r=ci(r,dt(),i.snap.getChild(l)));else if(i.children){if(Wn(n,a))l=Pn(n,a),r=Lh(r,l,i.children);else if(Wn(a,n))if(l=Pn(a,n),We(l))r=Lh(r,dt(),i.children);else{const c=eo(i.children,Ve(l));if(c){const d=c.getChild(gt(l));r=ci(r,dt(),d)}}}else throw Ii("WriteRecord should have .snap or .children")}}return r}function Qv(e,t,n,r,s){if(!r&&!s){const i=ks(e.visibleWrites,t);if(i!=null)return i;{const a=Wr(e.visibleWrites,t);if(Cd(a))return n;if(n==null&&!bd(a,dt()))return null;{const l=n||at.EMPTY_NODE;return ao(a,l)}}}else{const i=Wr(e.visibleWrites,t);if(!s&&Cd(i))return n;if(!s&&n==null&&!bd(i,dt()))return null;{const a=function(d){return(d.visible||s)&&(!r||!~r.indexOf(d.writeId))&&(Wn(d.path,t)||Wn(t,d.path))},l=Kv(e.allWrites,a,t),c=n||at.EMPTY_NODE;return ao(l,c)}}}function LS(e,t,n){let r=at.EMPTY_NODE;const s=ks(e.visibleWrites,t);if(s)return s.isLeafNode()||s.forEachChild(Qt,(i,a)=>{r=r.updateImmediateChild(i,a)}),r;if(n){const i=Wr(e.visibleWrites,t);return n.forEachChild(Qt,(a,l)=>{const c=ao(Wr(i,new yt(a)),l);r=r.updateImmediateChild(a,c)}),zh(i).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}else{const i=Wr(e.visibleWrites,t);return zh(i).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}}function FS(e,t,n,r,s){ye(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=zt(t,n);if(bd(e.visibleWrites,i))return null;{const a=Wr(e.visibleWrites,i);return Cd(a)?s.getChild(n):ao(a,s.getChild(n))}}function zS(e,t,n,r){const s=zt(t,n),i=ks(e.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const a=Wr(e.visibleWrites,s);return ao(a,r.getNode().getImmediateChild(n))}else return null}function BS(e,t){return ks(e.visibleWrites,t)}function WS(e,t,n,r,s,i,a){let l;const c=Wr(e.visibleWrites,t),d=ks(c,dt());if(d!=null)l=d;else if(n!=null)l=ao(c,n);else return[];if(l=l.withIndex(a),!l.isEmpty()&&!l.isLeafNode()){const u=[],p=a.getCompare(),h=i?l.getReverseIteratorFrom(r,a):l.getIteratorFrom(r,a);let g=h.getNext();for(;g&&u.length<s;)p(g,r)!==0&&u.push(g),g=h.getNext();return u}else return[]}function HS(){return{visibleWrites:Un.empty(),allWrites:[],lastWriteId:-1}}function wd(e,t,n,r){return Qv(e.writeTree,e.treePath,t,n,r)}function Xv(e,t){return LS(e.writeTree,e.treePath,t)}function Bh(e,t,n,r){return FS(e.writeTree,e.treePath,t,n,r)}function qa(e,t){return BS(e.writeTree,zt(e.treePath,t))}function US(e,t,n,r,s,i){return WS(e.writeTree,e.treePath,t,n,r,s,i)}function Du(e,t,n){return zS(e.writeTree,e.treePath,t,n)}function Zv(e,t){return Jv(zt(e.treePath,t),e.writeTree)}function Jv(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;ye(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ye(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,Nh(r,t.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,bS(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,xS(r,t.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,Nh(r,t.snapshotNode,s.oldSnap));else throw Ii("Illegal combination of changes: "+t+" occurred after "+s)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const ey=new YS;class Nu{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new Ru(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Du(this.writes_,t,r)}}getChildAfterChild(t,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:vs(this.viewCache_),i=US(this.writes_,s,n,1,r,t);return i.length===0?null:i[0]}}function GS(e,t){ye(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),ye(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function qS(e,t,n,r,s){const i=new VS;let a,l;if(n.type===Jn.OVERWRITE){const d=n;d.source.fromUser?a=Sd(e,t,d.path,d.snap,r,s,i):(ye(d.source.fromServer,"Unknown source."),l=d.source.tagged||t.serverCache.isFiltered()&&!We(d.path),a=Ka(e,t,d.path,d.snap,r,s,l,i))}else if(n.type===Jn.MERGE){const d=n;d.source.fromUser?a=QS(e,t,d.path,d.children,r,s,i):(ye(d.source.fromServer,"Unknown source."),l=d.source.tagged||t.serverCache.isFiltered(),a=jd(e,t,d.path,d.children,r,s,l,i))}else if(n.type===Jn.ACK_USER_WRITE){const d=n;d.revert?a=JS(e,t,d.path,r,s,i):a=XS(e,t,d.path,d.affectedTree,r,s,i)}else if(n.type===Jn.LISTEN_COMPLETE)a=ZS(e,t,n.path,r,i);else throw Ii("Unknown operation type: "+n.type);const c=i.getChanges();return KS(t,a,c),{viewCache:a,changes:c}}function KS(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=xd(e);(n.length>0||!e.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(yS(xd(t)))}}function ty(e,t,n,r,s,i){const a=t.eventCache;if(qa(r,n)!=null)return t;{let l,c;if(We(n))if(ye(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const d=vs(t),u=d instanceof at?d:at.EMPTY_NODE,p=Xv(r,u);l=e.filter.updateFullNode(t.eventCache.getNode(),p,i)}else{const d=wd(r,vs(t));l=e.filter.updateFullNode(t.eventCache.getNode(),d,i)}else{const d=Ve(n);if(d===".priority"){ye(Vr(n)===1,"Can't have a priority with additional path components");const u=a.getNode();c=t.serverCache.getNode();const p=Bh(r,n,u,c);p!=null?l=e.filter.updatePriority(u,p):l=a.getNode()}else{const u=gt(n);let p;if(a.isCompleteForChild(d)){c=t.serverCache.getNode();const h=Bh(r,n,a.getNode(),c);h!=null?p=a.getNode().getImmediateChild(d).updateChild(u,h):p=a.getNode().getImmediateChild(d)}else p=Du(r,d,t.serverCache);p!=null?l=e.filter.updateChild(a.getNode(),d,p,u,s,i):l=a.getNode()}}return li(t,l,a.isFullyInitialized()||We(n),e.filter.filtersNodes())}}function Ka(e,t,n,r,s,i,a,l){const c=t.serverCache;let d;const u=a?e.filter:e.filter.getIndexedFilter();if(We(n))d=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){const g=c.getNode().updateChild(n,r);d=u.updateFullNode(c.getNode(),g,null)}else{const g=Ve(n);if(!c.isCompleteForPath(n)&&Vr(n)>1)return t;const v=gt(n),y=c.getNode().getImmediateChild(g).updateChild(v,r);g===".priority"?d=u.updatePriority(c.getNode(),y):d=u.updateChild(c.getNode(),g,y,v,ey,null)}const p=Yv(t,d,c.isFullyInitialized()||We(n),u.filtersNodes()),h=new Nu(s,p,i);return ty(e,p,n,s,h,l)}function Sd(e,t,n,r,s,i,a){const l=t.eventCache;let c,d;const u=new Nu(s,t,i);if(We(n))d=e.filter.updateFullNode(t.eventCache.getNode(),r,a),c=li(t,d,!0,e.filter.filtersNodes());else{const p=Ve(n);if(p===".priority")d=e.filter.updatePriority(t.eventCache.getNode(),r),c=li(t,d,l.isFullyInitialized(),l.isFiltered());else{const h=gt(n),g=l.getNode().getImmediateChild(p);let v;if(We(h))v=r;else{const m=u.getCompleteChild(p);m!=null?Iv(h)===".priority"&&m.getChild(Dv(h)).isEmpty()?v=m:v=m.updateChild(h,r):v=at.EMPTY_NODE}if(g.equals(v))c=t;else{const m=e.filter.updateChild(l.getNode(),p,v,h,u,a);c=li(t,m,l.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function Wh(e,t){return e.eventCache.isCompleteForChild(t)}function QS(e,t,n,r,s,i,a){let l=t;return r.foreach((c,d)=>{const u=zt(n,c);Wh(t,Ve(u))&&(l=Sd(e,l,u,d,s,i,a))}),r.foreach((c,d)=>{const u=zt(n,c);Wh(t,Ve(u))||(l=Sd(e,l,u,d,s,i,a))}),l}function Hh(e,t,n){return n.foreach((r,s)=>{t=t.updateChild(r,s)}),t}function jd(e,t,n,r,s,i,a,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c=t,d;We(n)?d=r:d=new mt(null).setTree(n,r);const u=t.serverCache.getNode();return d.children.inorderTraversal((p,h)=>{if(u.hasChild(p)){const g=t.serverCache.getNode().getImmediateChild(p),v=Hh(e,g,h);c=Ka(e,c,new yt(p),v,s,i,a,l)}}),d.children.inorderTraversal((p,h)=>{const g=!t.serverCache.isCompleteForChild(p)&&h.value===null;if(!u.hasChild(p)&&!g){const v=t.serverCache.getNode().getImmediateChild(p),m=Hh(e,v,h);c=Ka(e,c,new yt(p),m,s,i,a,l)}}),c}function XS(e,t,n,r,s,i,a){if(qa(s,n)!=null)return t;const l=t.serverCache.isFiltered(),c=t.serverCache;if(r.value!=null){if(We(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Ka(e,t,n,c.getNode().getChild(n),s,i,l,a);if(We(n)){let d=new mt(null);return c.getNode().forEachChild(Gs,(u,p)=>{d=d.set(new yt(u),p)}),jd(e,t,n,d,s,i,l,a)}else return t}else{let d=new mt(null);return r.foreach((u,p)=>{const h=zt(n,u);c.isCompleteForPath(h)&&(d=d.set(u,c.getNode().getChild(h)))}),jd(e,t,n,d,s,i,l,a)}}function ZS(e,t,n,r,s){const i=t.serverCache,a=Yv(t,i.getNode(),i.isFullyInitialized()||We(n),i.isFiltered());return ty(e,a,n,r,ey,s)}function JS(e,t,n,r,s,i){let a;if(qa(r,n)!=null)return t;{const l=new Nu(r,t,s),c=t.eventCache.getNode();let d;if(We(n)||Ve(n)===".priority"){let u;if(t.serverCache.isFullyInitialized())u=wd(r,vs(t));else{const p=t.serverCache.getNode();ye(p instanceof at,"serverChildren would be complete if leaf node"),u=Xv(r,p)}u=u,d=e.filter.updateFullNode(c,u,i)}else{const u=Ve(n);let p=Du(r,u,t.serverCache);p==null&&t.serverCache.isCompleteForChild(u)&&(p=c.getImmediateChild(u)),p!=null?d=e.filter.updateChild(c,u,p,gt(n),l,i):t.eventCache.getNode().hasChild(u)?d=e.filter.updateChild(c,u,at.EMPTY_NODE,gt(n),l,i):d=c,d.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=wd(r,vs(t)),a.isLeafNode()&&(d=e.filter.updateFullNode(d,a,i)))}return a=t.serverCache.isFullyInitialized()||qa(r,dt())!=null,li(t,d,a,e.filter.filtersNodes())}}function ej(e,t){const n=vs(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!We(t)&&!n.getImmediateChild(Ve(t)).isEmpty())?n.getChild(t):null}function Uh(e,t,n,r){t.type===Jn.MERGE&&t.source.queryId!==null&&(ye(vs(e.viewCache_),"We should always have a full cache before handling merges"),ye(xd(e.viewCache_),"Missing event cache, even though we have a server cache"));const s=e.viewCache_,i=qS(e.processor_,s,t,n,r);return GS(e.processor_,i.viewCache),ye(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=i.viewCache,tj(e,i.changes,i.viewCache.eventCache.getNode())}function tj(e,t,n,r){const s=e.eventRegistrations_;return ES(e.eventGenerator_,t,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vh;function nj(e){ye(!Vh,"__referenceConstructor has already been defined"),Vh=e}function Au(e,t,n,r){const s=t.source.queryId;if(s!==null){const i=e.views.get(s);return ye(i!=null,"SyncTree gave us an op for an invalid query."),Uh(i,t,n,r)}else{let i=[];for(const a of e.views.values())i=i.concat(Uh(a,t,n,r));return i}}function $u(e,t){let n=null;for(const r of e.views.values())n=n||ej(r,t);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yh;function rj(e){ye(!Yh,"__referenceConstructor has already been defined"),Yh=e}class Gh{constructor(t){this.listenProvider_=t,this.syncPointTree_=new mt(null),this.pendingWriteTree_=HS(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function sj(e,t,n,r,s){return RS(e.pendingWriteTree_,t,n,r,s),s?Ql(e,new gs(Wv(),t,n)):[]}function Ws(e,t,n=!1){const r=DS(e.pendingWriteTree_,t);if(NS(e.pendingWriteTree_,t)){let i=new mt(null);return r.snap!=null?i=i.set(dt(),!0):Dn(r.children,a=>{i=i.set(new yt(a),!0)}),Ql(e,new Ga(r.path,i,n))}else return[]}function Kl(e,t,n){return Ql(e,new gs(Hv(),t,n))}function oj(e,t,n){const r=mt.fromObject(n);return Ql(e,new Si(Hv(),t,r))}function ij(e,t,n,r){const s=oy(e,r);if(s!=null){const i=iy(s),a=i.path,l=i.queryId,c=Pn(a,t),d=new gs(Uv(l),c,n);return ay(e,a,d)}else return[]}function aj(e,t,n,r){const s=oy(e,r);if(s){const i=iy(s),a=i.path,l=i.queryId,c=Pn(a,t),d=mt.fromObject(n),u=new Si(Uv(l),c,d);return ay(e,a,u)}else return[]}function ny(e,t,n){const s=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(a,l)=>{const c=Pn(a,t),d=$u(l,c);if(d)return d});return Qv(s,t,i,n,!0)}function Ql(e,t){return ry(t,e.syncPointTree_,null,qv(e.pendingWriteTree_,dt()))}function ry(e,t,n,r){if(We(e.path))return sy(e,t,n,r);{const s=t.get(dt());n==null&&s!=null&&(n=$u(s,dt()));let i=[];const a=Ve(e.path),l=e.operationForChild(a),c=t.children.get(a);if(c&&l){const d=n?n.getImmediateChild(a):null,u=Zv(r,a);i=i.concat(ry(l,c,d,u))}return s&&(i=i.concat(Au(s,e,r,n))),i}}function sy(e,t,n,r){const s=t.get(dt());n==null&&s!=null&&(n=$u(s,dt()));let i=[];return t.children.inorderTraversal((a,l)=>{const c=n?n.getImmediateChild(a):null,d=Zv(r,a),u=e.operationForChild(a);u&&(i=i.concat(sy(u,l,c,d)))}),s&&(i=i.concat(Au(s,e,r,n))),i}function oy(e,t){return e.tagToQueryMap.get(t)}function iy(e){const t=e.indexOf("$");return ye(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new yt(e.substr(0,t))}}function ay(e,t,n){const r=e.syncPointTree_.get(t);ye(r,"Missing sync point for query tag that we're tracking");const s=qv(e.pendingWriteTree_,t);return Au(r,n,s,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new Ou(n)}node(){return this.node_}}class Lu{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=zt(this.path_,t);return new Lu(this.syncTree_,n)}node(){return ny(this.syncTree_,this.path_)}}const lj=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},qh=function(e,t,n){if(!e||typeof e!="object")return e;if(ye(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return cj(e[".sv"],t,n);if(typeof e[".sv"]=="object")return dj(e[".sv"],t);ye(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},cj=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:ye(!1,"Unexpected server value: "+e)}},dj=function(e,t,n){e.hasOwnProperty("increment")||ye(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&ye(!1,"Unexpected increment value: "+r);const s=t.node();if(ye(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const a=s.getValue();return typeof a!="number"?r:a+r},uj=function(e,t,n,r){return Fu(t,new Lu(n,e),r)},pj=function(e,t,n){return Fu(e,new Ou(t),n)};function Fu(e,t,n){const r=e.getPriority().val(),s=qh(r,t.getImmediateChild(".priority"),n);let i;if(e.isLeafNode()){const a=e,l=qh(a.getValue(),t,n);return l!==a.getValue()||s!==a.getPriority().val()?new Ot(l,Kt(s)):e}else{const a=e;return i=a,s!==a.getPriority().val()&&(i=i.updatePriority(new Ot(s))),a.forEachChild(Qt,(l,c)=>{const d=Fu(c,t.getImmediateChild(l),n);d!==c&&(i=i.updateImmediateChild(l,d))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function Bu(e,t){let n=t instanceof yt?t:new yt(t),r=e,s=Ve(n);for(;s!==null;){const i=eo(r.node.children,s)||{children:{},childCount:0};r=new zu(s,r,i),n=gt(n),s=Ve(n)}return r}function Mo(e){return e.node.value}function ly(e,t){e.node.value=t,kd(e)}function cy(e){return e.node.childCount>0}function hj(e){return Mo(e)===void 0&&!cy(e)}function Xl(e,t){Dn(e.node.children,(n,r)=>{t(new zu(n,e,r))})}function dy(e,t,n,r){n&&t(e),Xl(e,s=>{dy(s,t,!0)})}function fj(e,t,n){let r=e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function Ui(e){return new yt(e.parent===null?e.name:Ui(e.parent)+"/"+e.name)}function kd(e){e.parent!==null&&mj(e.parent,e.name,e)}function mj(e,t,n){const r=hj(n),s=Pr(e.node.children,t);r&&s?(delete e.node.children[t],e.node.childCount--,kd(e)):!r&&!s&&(e.node.children[t]=n.node,e.node.childCount++,kd(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj=/[\[\].#$\/\u0000-\u001F\u007F]/,vj=/[\[\].#$\u0000-\u001F\u007F]/,Oc=10*1024*1024,uy=function(e){return typeof e=="string"&&e.length!==0&&!gj.test(e)},yj=function(e){return typeof e=="string"&&e.length!==0&&!vj.test(e)},xj=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),yj(e)},py=function(e,t,n){const r=n instanceof yt?new Z2(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+ts(r));if(typeof t=="function")throw new Error(e+"contains a function "+ts(r)+" with contents = "+t.toString());if(dv(t))throw new Error(e+"contains "+t.toString()+" "+ts(r));if(typeof t=="string"&&t.length>Oc/3&&hl(t)>Oc)throw new Error(e+"contains a string greater than "+Oc+" utf8 bytes "+ts(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let s=!1,i=!1;if(Dn(t,(a,l)=>{if(a===".value")s=!0;else if(a!==".priority"&&a!==".sv"&&(i=!0,!uy(a)))throw new Error(e+" contains an invalid key ("+a+") "+ts(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);J2(r,a),py(e,l,r),eS(r)}),s&&i)throw new Error(e+' contains ".value" child '+ts(r)+" in addition to actual children.")}},bj=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!uy(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!xj(n))throw new Error(pb(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function wj(e,t){let n=null;for(let r=0;r<t.length;r++){const s=t[r],i=s.getPath();n!==null&&!Nv(i,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&e.eventLists_.push(n)}function _s(e,t,n){wj(e,n),Sj(e,r=>Wn(r,t)||Wn(t,r))}function Sj(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const s=e.eventLists_[r];if(s){const i=s.path;t(i)?(jj(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function jj(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const r=n.getEventRunner();ii&&qt("event: "+n.toString()),Wi(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj="repo_interrupt",_j=25;class Tj{constructor(t,n,r,s){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Cj,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ya(),this.transactionQueueTree_=new zu,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Ej(e,t,n){if(e.stats_=Tu(e.repoInfo_),e.forceRestClient_||S2())e.server_=new Va(e.repoInfo_,(r,s,i,a)=>{Kh(e,r,s,i,a)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>Qh(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Yt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new xr(e.repoInfo_,t,(r,s,i,a)=>{Kh(e,r,s,i,a)},r=>{Qh(e,r)},r=>{Pj(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=E2(e.repoInfo_,()=>new TS(e.stats_,e.server_)),e.infoData_=new wS,e.infoSyncTree_=new Gh({startListening:(r,s,i,a)=>{let l=[];const c=e.infoData_.getNode(r._path);return c.isEmpty()||(l=Kl(e.infoSyncTree_,r._path,c),setTimeout(()=>{a("ok")},0)),l},stopListening:()=>{}}),Wu(e,"connected",!1),e.serverSyncTree_=new Gh({startListening:(r,s,i,a)=>(e.server_.listen(r,i,s,(l,c)=>{const d=a(l,c);_s(e.eventQueue_,r._path,d)}),[]),stopListening:(r,s)=>{e.server_.unlisten(r,s)}})}function Mj(e){const n=e.infoData_.getNode(new yt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function hy(e){return lj({timestamp:Mj(e)})}function Kh(e,t,n,r,s){e.dataUpdateCount++;const i=new yt(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let a=[];if(s)if(r){const c=Aa(n,d=>Kt(d));a=aj(e.serverSyncTree_,i,c,s)}else{const c=Kt(n);a=ij(e.serverSyncTree_,i,c,s)}else if(r){const c=Aa(n,d=>Kt(d));a=oj(e.serverSyncTree_,i,c)}else{const c=Kt(n);a=Kl(e.serverSyncTree_,i,c)}let l=i;a.length>0&&(l=Uu(e,i)),_s(e.eventQueue_,l,a)}function Qh(e,t){Wu(e,"connected",t),t===!1&&Rj(e)}function Pj(e,t){Dn(t,(n,r)=>{Wu(e,n,r)})}function Wu(e,t,n){const r=new yt("/.info/"+t),s=Kt(n);e.infoData_.updateSnapshot(r,s);const i=Kl(e.infoSyncTree_,r,s);_s(e.eventQueue_,r,i)}function Ij(e){return e.nextWriteId_++}function Rj(e){fy(e,"onDisconnectEvents");const t=hy(e),n=Ya();yd(e.onDisconnect_,dt(),(s,i)=>{const a=uj(s,i,e.serverSyncTree_,t);Bv(n,s,a)});let r=[];yd(n,dt(),(s,i)=>{r=r.concat(Kl(e.serverSyncTree_,s,i));const a=$j(e,s);Uu(e,a)}),e.onDisconnect_=Ya(),_s(e.eventQueue_,dt(),r)}function Dj(e){e.persistentConnection_&&e.persistentConnection_.interrupt(kj)}function fy(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),qt(n,...t)}function my(e,t,n){return ny(e.serverSyncTree_,t,n)||at.EMPTY_NODE}function Hu(e,t=e.transactionQueueTree_){if(t||Zl(e,t),Mo(t)){const n=vy(e,t);ye(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&Nj(e,Ui(t),n)}else cy(t)&&Xl(t,n=>{Hu(e,n)})}function Nj(e,t,n){const r=n.map(d=>d.currentWriteId),s=my(e,t,r);let i=s;const a=s.hash();for(let d=0;d<n.length;d++){const u=n[d];ye(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const p=Pn(t,u.path);i=i.updateChild(p,u.currentOutputSnapshotRaw)}const l=i.val(!0),c=t;e.server_.put(c.toString(),l,d=>{fy(e,"transaction put response",{path:c.toString(),status:d});let u=[];if(d==="ok"){const p=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(Ws(e.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&p.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Zl(e,Bu(e.transactionQueueTree_,t)),Hu(e,e.transactionQueueTree_),_s(e.eventQueue_,t,u);for(let h=0;h<p.length;h++)Wi(p[h])}else{if(d==="datastale")for(let p=0;p<n.length;p++)n[p].status===3?n[p].status=4:n[p].status=0;else{bn("transaction at "+c.toString()+" failed: "+d);for(let p=0;p<n.length;p++)n[p].status=4,n[p].abortReason=d}Uu(e,t)}},a)}function Uu(e,t){const n=gy(e,t),r=Ui(n),s=vy(e,n);return Aj(e,s,r),r}function Aj(e,t,n){if(t.length===0)return;const r=[];let s=[];const a=t.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<t.length;l++){const c=t[l],d=Pn(n,c.path);let u=!1,p;if(ye(d!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,p=c.abortReason,s=s.concat(Ws(e.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=_j)u=!0,p="maxretry",s=s.concat(Ws(e.serverSyncTree_,c.currentWriteId,!0));else{const h=my(e,c.path,a);c.currentInputSnapshot=h;const g=t[l].update(h.val());if(g!==void 0){py("transaction failed: Data returned ",g,c.path);let v=Kt(g);typeof g=="object"&&g!=null&&Pr(g,".priority")||(v=v.updatePriority(h.getPriority()));const y=c.currentWriteId,x=hy(e),w=pj(v,h,x);c.currentOutputSnapshotRaw=v,c.currentOutputSnapshotResolved=w,c.currentWriteId=Ij(e),a.splice(a.indexOf(y),1),s=s.concat(sj(e.serverSyncTree_,c.path,w,c.currentWriteId,c.applyLocally)),s=s.concat(Ws(e.serverSyncTree_,y,!0))}else u=!0,p="nodata",s=s.concat(Ws(e.serverSyncTree_,c.currentWriteId,!0))}_s(e.eventQueue_,n,s),s=[],u&&(t[l].status=2,function(h){setTimeout(h,Math.floor(0))}(t[l].unwatcher),t[l].onComplete&&(p==="nodata"?r.push(()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot)):r.push(()=>t[l].onComplete(new Error(p),!1,null))))}Zl(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)Wi(r[l]);Hu(e,e.transactionQueueTree_)}function gy(e,t){let n,r=e.transactionQueueTree_;for(n=Ve(t);n!==null&&Mo(r)===void 0;)r=Bu(r,n),t=gt(t),n=Ve(t);return r}function vy(e,t){const n=[];return yy(e,t,n),n.sort((r,s)=>r.order-s.order),n}function yy(e,t,n){const r=Mo(t);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);Xl(t,s=>{yy(e,s,n)})}function Zl(e,t){const n=Mo(t);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,ly(t,n.length>0?n:void 0)}Xl(t,r=>{Zl(e,r)})}function $j(e,t){const n=Ui(gy(e,t)),r=Bu(e.transactionQueueTree_,t);return fj(r,s=>{Lc(e,s)}),Lc(e,r),dy(r,s=>{Lc(e,s)}),n}function Lc(e,t){const n=Mo(t);if(n){const r=[];let s=[],i=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(ye(i===a-1,"All SENT items should be at beginning of queue."),i=a,n[a].status=3,n[a].abortReason="set"):(ye(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),s=s.concat(Ws(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));i===-1?ly(t,void 0):n.length=i+1,_s(e.eventQueue_,Ui(t),s);for(let a=0;a<r.length;a++)Wi(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}t+="/"+s}return t}function Lj(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):bn(`Invalid query segment '${n}' in query '${e}'`)}return t}const Xh=function(e,t){const n=Fj(e),r=n.namespace;n.domain==="firebase.com"&&kr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&kr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||m2();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new wv(n.host,n.secure,r,s,t,"",r!==n.subdomain),path:new yt(n.pathString)}},Fj=function(e){let t="",n="",r="",s="",i="",a=!0,l="https",c=443;if(typeof e=="string"){let d=e.indexOf("//");d>=0&&(l=e.substring(0,d-1),e=e.substring(d+2));let u=e.indexOf("/");u===-1&&(u=e.length);let p=e.indexOf("?");p===-1&&(p=e.length),t=e.substring(0,Math.min(u,p)),u<p&&(s=Oj(e.substring(u,p)));const h=Lj(e.substring(Math.min(e.length,p)));d=t.indexOf(":"),d>=0?(a=l==="https"||l==="wss",c=parseInt(t.substring(d+1),10)):d=t.length;const g=t.slice(0,d);if(g.toLowerCase()==="localhost")n="localhost";else if(g.split(".").length<=2)n=g;else{const v=t.indexOf(".");r=t.substring(0,v).toLowerCase(),n=t.substring(v+1),i=r}"ns"in h&&(i=h.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:a,scheme:l,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(t,n,r,s){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return We(this._path)?null:Iv(this._path)}get ref(){return new Po(this._repo,this._path)}get _queryIdentifier(){const t=$h(this._queryParams),n=ku(t);return n==="{}"?"default":n}get _queryObject(){return $h(this._queryParams)}isEqual(t){if(t=Ri(t),!(t instanceof Vu))return!1;const n=this._repo===t._repo,r=Nv(this._path,t._path),s=this._queryIdentifier===t._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+X2(this._path)}}class Po extends Vu{constructor(t,n){super(t,n,new Iu,!1)}get parent(){const t=Dv(this._path);return t===null?null:new Po(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}nj(Po);rj(Po);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj="FIREBASE_DATABASE_EMULATOR_HOST",_d={};let Bj=!1;function Wj(e,t,n,r){e.repoInfo_=new wv(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}function Hj(e,t,n,r,s){let i=r||e.options.databaseURL;i===void 0&&(e.options.projectId||kr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),qt("Using default host for project ",e.options.projectId),i=`${e.options.projectId}-default-rtdb.firebaseio.com`);let a=Xh(i,s),l=a.repoInfo,c;typeof process<"u"&&vh&&(c=vh[zj]),c?(i=`http://${c}?ns=${l.namespace}`,a=Xh(i,s),l=a.repoInfo):a.repoInfo.secure;const d=new k2(e.name,e.options,t);bj("Invalid Firebase Database URL",a),We(a.path)||kr("Database URL must point to the root of a Firebase Database (not including a child path).");const u=Vj(l,e,d,new j2(e.name,n));return new Yj(u,e)}function Uj(e,t){const n=_d[t];(!n||n[e.key]!==e)&&kr(`Database ${t}(${e.repoInfo_}) has already been deleted.`),Dj(e),delete n[e.key]}function Vj(e,t,n,r){let s=_d[t.name];s||(s={},_d[t.name]=s);let i=s[e.toURLString()];return i&&kr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new Tj(e,Bj,n,r),s[e.toURLString()]=i,i}class Yj{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Ej(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Po(this._repo,dt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Uj(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&kr("Cannot call "+t+" on a deleted database.")}}function Gj(e=Vm(),t){const n=Ym(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=Gm("database");r&&qj(n,...r)}return n}function qj(e,t,n,r={}){e=Ri(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&kr("Cannot call useEmulator() after instance has already been initialized.");const s=e._repoInternal;let i;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&kr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new Pa(Pa.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:Cb(r.mockUserToken,e.app.options.projectId);i=new Pa(a)}Wj(s,t,n,i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kj(e){c2(wb),Bm(new Wm("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return Hj(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),Na(yh,xh,e),Na(yh,xh,"esm2017")}xr.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};xr.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};Kj();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj="type.googleapis.com/google.protobuf.Int64Value",Xj="type.googleapis.com/google.protobuf.UInt64Value";function xy(e,t){const n={};for(const r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}function Td(e){if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(t=>Td(t));if(typeof e=="function"||typeof e=="object")return xy(e,t=>Td(t));throw new Error("Data cannot be encoded in JSON: "+e)}function Qa(e){if(e==null)return e;if(e["@type"])switch(e["@type"]){case Qj:case Xj:{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(t=>Qa(t)):typeof e=="function"||typeof e=="object"?xy(e,t=>Qa(t)):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class qs extends qm{constructor(t,n,r){super(`${Yu}/${t}`,n||""),this.details=r}}function Zj(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Jj(e,t){let n=Zj(e),r=n,s;try{const i=t&&t.error;if(i){const a=i.status;if(typeof a=="string"){if(!Zh[a])return new qs("internal","internal");n=Zh[a],r=a}const l=i.message;typeof l=="string"&&(r=l),s=i.details,s!==void 0&&(s=Qa(s))}}catch{}return n==="ok"?null:new qs(n,r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(t,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(s=>this.auth=s,()=>{}),this.messaging||n.get().then(s=>this.messaging=s,()=>{}),this.appCheck||r.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const t=await this.auth.getToken();return t==null?void 0:t.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.appCheck){const n=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(t){const n=await this.getAuthToken(),r=await this.getMessagingToken(),s=await this.getAppCheckToken(t);return{authToken:n,messagingToken:r,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed="us-central1";function tk(e){let t=null;return{promise:new Promise((n,r)=>{t=setTimeout(()=>{r(new qs("deadline-exceeded","deadline-exceeded"))},e)}),cancel:()=>{t&&clearTimeout(t)}}}class nk{constructor(t,n,r,s,i=Ed,a){this.app=t,this.fetchImpl=a,this.emulatorOrigin=null,this.contextProvider=new ek(n,r,s),this.cancelAllRequests=new Promise(l=>{this.deleteService=()=>Promise.resolve(l())});try{const l=new URL(i);this.customDomain=l.origin+(l.pathname==="/"?"":l.pathname),this.region=Ed}catch{this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(t){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${n}.cloudfunctions.net/${t}`}}function rk(e,t,n){e.emulatorOrigin=`http://${t}:${n}`}function sk(e,t,n){return r=>ik(e,t,r,{})}async function ok(e,t,n,r){n["Content-Type"]="application/json";let s;try{s=await r(e,{method:"POST",body:JSON.stringify(t),headers:n})}catch{return{status:0,json:null}}let i=null;try{i=await s.json()}catch{}return{status:s.status,json:i}}function ik(e,t,n,r){const s=e._url(t);return ak(e,s,n,r)}async function ak(e,t,n,r){n=Td(n);const s={data:n},i={},a=await e.contextProvider.getContext(r.limitedUseAppCheckTokens);a.authToken&&(i.Authorization="Bearer "+a.authToken),a.messagingToken&&(i["Firebase-Instance-ID-Token"]=a.messagingToken),a.appCheckToken!==null&&(i["X-Firebase-AppCheck"]=a.appCheckToken);const l=r.timeout||7e4,c=tk(l),d=await Promise.race([ok(t,s,i,e.fetchImpl),c.promise,e.cancelAllRequests]);if(c.cancel(),!d)throw new qs("cancelled","Firebase Functions instance was deleted.");const u=Jj(d.status,d.json);if(u)throw u;if(!d.json)throw new qs("internal","Response is not valid JSON object.");let p=d.json.data;if(typeof p>"u"&&(p=d.json.result),typeof p>"u")throw new qs("internal","Response is missing data field.");return{data:Qa(p)}}const Jh="@firebase/functions",ef="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk="auth-internal",ck="app-check-internal",dk="messaging-internal";function uk(e,t){const n=(r,{instanceIdentifier:s})=>{const i=r.getProvider("app").getImmediate(),a=r.getProvider(lk),l=r.getProvider(dk),c=r.getProvider(ck);return new nk(i,a,l,c,s,e)};Bm(new Wm(Yu,n,"PUBLIC").setMultipleInstances(!0)),Na(Jh,ef,t),Na(Jh,ef,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(e=Vm(),t=Ed){const r=Ym(Ri(e),Yu).getImmediate({identifier:t}),s=Gm("functions");return s&&pk(r,...s),r}function pk(e,t,n){rk(Ri(e),t,n)}function Cy(e,t,n){return sk(Ri(e),t)}uk(fetch.bind(self));const hk={apiKey:"AIzaSyAnp3SY9XEyF-le5q_Tcv-7Le2qqvtz0ZM",authDomain:"sports-booking-app-1d7e5.firebaseapp.com",databaseURL:"https://sports-booking-app-1d7e5-default-rtdb.europe-west1.firebasedatabase.app",projectId:"sports-booking-app-1d7e5",storageBucket:"sports-booking-app-1d7e5.firebasestorage.app",messagingSenderId:"648540980109",appId:"1:648540980109:web:97fbe182c59bb2641ab3c4",measurementId:"G-VL4MCP1PZP"},Vi=Sb(hk),se=jb(Vi,{experimentalForceLongPolling:!1,cacheSizeBytes:50*1024*1024}),en=kb(Vi);_b(en,Eb).catch(e=>{console.error("Error setting persistence:",e)});const tf=Tb(Vi);Gj(Vi);const fk=by(Vi,"europe-west1"),wy=f.createContext(void 0),Ht=()=>{const e=f.useContext(wy);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},mk=({children:e})=>{const[t,n]=f.useState(null),[r,s]=f.useState(null),[i,a]=f.useState(null),[l,c]=f.useState(!0);f.useEffect(()=>Mb(en,async g=>{if(console.log("🔄 Auth state changed:",(g==null?void 0:g.email)||"no user","at",new Date().toLocaleTimeString()),g)console.log("🔐 User authenticated:",{uid:g.uid,email:g.email,emailVerified:g.emailVerified,providerId:g.providerId,metadata:g.metadata});else{console.log("🚪 User signed out or session expired");const v=localStorage.getItem("authToken");console.log("📦 Local storage auth token:",v?"exists":"not found")}if(g)try{console.log("🔍 Searching for admin with email:",g.email);const v=Ge(Pe(se,"admins"),Ee("email","==",g.email)),m=await qe(v);if(console.log("📊 Admin search result:",m.empty?"not found":"found"),m.empty)console.warn("Admin not found for user:",g.email),n(g),s(null),a(null);else{const y=m.docs[0],x={id:y.id,...y.data()};if(console.log("✅ Admin data loaded:",x),n(g),s(x),x.venueId){const w=await St(Ie(se,"venues",x.venueId));w.exists()&&a({id:w.id,...w.data()})}else x.role==="superadmin"&&a(null)}}catch(v){console.error("Error fetching admin data:",v),n(null),s(null),a(null)}else n(null),s(null),a(null);c(!1)}),[]);const p={user:t,admin:r,club:i,loading:l,logout:async()=>{try{await od(en),n(null),s(null),a(null)}catch(h){console.error("Logout error:",h)}},refreshClubData:async()=>{if(r!=null&&r.venueId)try{const h=await St(Ie(se,"venues",r.venueId));if(h.exists()){const g=h.data();a({id:h.id,name:g.name||"",address:g.address||"",phone:g.phone||"",email:g.email||"",description:g.description,logoUrl:g.logoUrl,amenities:g.amenities,organizationType:g.organizationType,inn:g.inn,bankAccount:g.bankAccount})}}catch(h){console.error("Error refreshing club data:",h)}}};return o.jsx(wy.Provider,{value:p,children:e})};function gk(e){return pe("MuiSvgIcon",e)}he("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const vk=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],yk=e=>{const{color:t,fontSize:n,classes:r}=e,s={root:["root",t!=="inherit"&&`color${Q(t)}`,`fontSize${Q(n)}`]};return ge(s,gk,r)},xk=U("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${Q(n.color)}`],t[`fontSize${Q(n.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var n,r,s,i,a,l,c,d,u,p,h,g,v;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=e.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(s=e.transitions)==null||(s=s.duration)==null?void 0:s.shorter}),fontSize:{inherit:"inherit",small:((i=e.typography)==null||(a=i.pxToRem)==null?void 0:a.call(i,20))||"1.25rem",medium:((l=e.typography)==null||(c=l.pxToRem)==null?void 0:c.call(l,24))||"1.5rem",large:((d=e.typography)==null||(u=d.pxToRem)==null?void 0:u.call(d,35))||"2.1875rem"}[t.fontSize],color:(p=(h=(e.vars||e).palette)==null||(h=h[t.color])==null?void 0:h.main)!=null?p:{action:(g=(e.vars||e).palette)==null||(g=g.action)==null?void 0:g.active,disabled:(v=(e.vars||e).palette)==null||(v=v.action)==null?void 0:v.disabled,inherit:void 0}[t.color]}}),Xa=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiSvgIcon"}),{children:s,className:i,color:a="inherit",component:l="svg",fontSize:c="medium",htmlColor:d,inheritViewBox:u=!1,titleAccess:p,viewBox:h="0 0 24 24"}=r,g=Z(r,vk),v=f.isValidElement(s)&&s.type==="svg",m=b({},r,{color:a,component:l,fontSize:c,instanceFontSize:t.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:v}),y={};u||(y.viewBox=h);const x=yk(m);return o.jsxs(xk,b({as:l,className:re(x.root,i),focusable:"false",color:d,"aria-hidden":p?void 0:!0,role:p?"img":void 0,ref:n},y,g,v&&s.props,{ownerState:m,children:[v?s.props.children:s,p?o.jsx("title",{children:p}):null]}))});Xa.muiName="SvgIcon";function fe(e,t){function n(r,s){return o.jsx(Xa,b({"data-testid":`${t}Icon`,ref:s},r,{children:e}))}return n.muiName=Xa.muiName,f.memo(f.forwardRef(n))}function Za(e,t){return Za=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Za(e,t)}function Gu(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Za(e,t)}function bk(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function Ck(e,t){e.classList?e.classList.add(t):bk(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function nf(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function wk(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=nf(e.className,t):e.setAttribute("class",nf(e.className&&e.className.baseVal||"",t))}const rf={disabled:!1},Ja=Fe.createContext(null);var Sy=function(t){return t.scrollTop},ri="unmounted",ns="exited",rs="entering",Os="entered",Md="exiting",Fn=function(e){Gu(t,e);function t(r,s){var i;i=e.call(this,r,s)||this;var a=s,l=a&&!a.isMounting?r.enter:r.appear,c;return i.appearStatus=null,r.in?l?(c=ns,i.appearStatus=rs):c=Os:r.unmountOnExit||r.mountOnEnter?c=ri:c=ns,i.state={status:c},i.nextCallback=null,i}t.getDerivedStateFromProps=function(s,i){var a=s.in;return a&&i.status===ri?{status:ns}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(s){var i=null;if(s!==this.props){var a=this.state.status;this.props.in?a!==rs&&a!==Os&&(i=rs):(a===rs||a===Os)&&(i=Md)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var s=this.props.timeout,i,a,l;return i=a=l=s,s!=null&&typeof s!="number"&&(i=s.exit,a=s.enter,l=s.appear!==void 0?s.appear:a),{exit:i,enter:a,appear:l}},n.updateStatus=function(s,i){if(s===void 0&&(s=!1),i!==null)if(this.cancelNextCallback(),i===rs){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:ta.findDOMNode(this);a&&Sy(a)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ns&&this.setState({status:ri})},n.performEnter=function(s){var i=this,a=this.props.enter,l=this.context?this.context.isMounting:s,c=this.props.nodeRef?[l]:[ta.findDOMNode(this),l],d=c[0],u=c[1],p=this.getTimeouts(),h=l?p.appear:p.enter;if(!s&&!a||rf.disabled){this.safeSetState({status:Os},function(){i.props.onEntered(d)});return}this.props.onEnter(d,u),this.safeSetState({status:rs},function(){i.props.onEntering(d,u),i.onTransitionEnd(h,function(){i.safeSetState({status:Os},function(){i.props.onEntered(d,u)})})})},n.performExit=function(){var s=this,i=this.props.exit,a=this.getTimeouts(),l=this.props.nodeRef?void 0:ta.findDOMNode(this);if(!i||rf.disabled){this.safeSetState({status:ns},function(){s.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:Md},function(){s.props.onExiting(l),s.onTransitionEnd(a.exit,function(){s.safeSetState({status:ns},function(){s.props.onExited(l)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(s,i){i=this.setNextCallback(i),this.setState(s,i)},n.setNextCallback=function(s){var i=this,a=!0;return this.nextCallback=function(l){a&&(a=!1,i.nextCallback=null,s(l))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},n.onTransitionEnd=function(s,i){this.setNextCallback(i);var a=this.props.nodeRef?this.props.nodeRef.current:ta.findDOMNode(this),l=s==null&&!this.props.addEndListener;if(!a||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],d=c[0],u=c[1];this.props.addEndListener(d,u)}s!=null&&setTimeout(this.nextCallback,s)},n.render=function(){var s=this.state.status;if(s===ri)return null;var i=this.props,a=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var l=Z(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Fe.createElement(Ja.Provider,{value:null},typeof a=="function"?a(s,l):Fe.cloneElement(Fe.Children.only(a),l))},t}(Fe.Component);Fn.contextType=Ja;Fn.propTypes={};function As(){}Fn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:As,onEntering:As,onEntered:As,onExit:As,onExiting:As,onExited:As};Fn.UNMOUNTED=ri;Fn.EXITED=ns;Fn.ENTERING=rs;Fn.ENTERED=Os;Fn.EXITING=Md;var Sk=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return Ck(t,r)})},Fc=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return wk(t,r)})},qu=function(e){Gu(t,e);function t(){for(var r,s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(l,c){var d=r.resolveArguments(l,c),u=d[0],p=d[1];r.removeClasses(u,"exit"),r.addClass(u,p?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(l,c)},r.onEntering=function(l,c){var d=r.resolveArguments(l,c),u=d[0],p=d[1],h=p?"appear":"enter";r.addClass(u,h,"active"),r.props.onEntering&&r.props.onEntering(l,c)},r.onEntered=function(l,c){var d=r.resolveArguments(l,c),u=d[0],p=d[1],h=p?"appear":"enter";r.removeClasses(u,h),r.addClass(u,h,"done"),r.props.onEntered&&r.props.onEntered(l,c)},r.onExit=function(l){var c=r.resolveArguments(l),d=c[0];r.removeClasses(d,"appear"),r.removeClasses(d,"enter"),r.addClass(d,"exit","base"),r.props.onExit&&r.props.onExit(l)},r.onExiting=function(l){var c=r.resolveArguments(l),d=c[0];r.addClass(d,"exit","active"),r.props.onExiting&&r.props.onExiting(l)},r.onExited=function(l){var c=r.resolveArguments(l),d=c[0];r.removeClasses(d,"exit"),r.addClass(d,"exit","done"),r.props.onExited&&r.props.onExited(l)},r.resolveArguments=function(l,c){return r.props.nodeRef?[r.props.nodeRef.current,l]:[l,c]},r.getClassNames=function(l){var c=r.props.classNames,d=typeof c=="string",u=d&&c?c+"-":"",p=d?""+u+l:c[l],h=d?p+"-active":c[l+"Active"],g=d?p+"-done":c[l+"Done"];return{baseClassName:p,activeClassName:h,doneClassName:g}},r}var n=t.prototype;return n.addClass=function(s,i,a){var l=this.getClassNames(i)[a+"ClassName"],c=this.getClassNames("enter"),d=c.doneClassName;i==="appear"&&a==="done"&&d&&(l+=" "+d),a==="active"&&s&&Sy(s),l&&(this.appliedClasses[i][a]=l,Sk(s,l))},n.removeClasses=function(s,i){var a=this.appliedClasses[i],l=a.base,c=a.active,d=a.done;this.appliedClasses[i]={},l&&Fc(s,l),c&&Fc(s,c),d&&Fc(s,d)},n.render=function(){var s=this.props;s.classNames;var i=Z(s,["classNames"]);return Fe.createElement(Fn,b({},i,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(Fe.Component);qu.defaultProps={classNames:""};qu.propTypes={};function Ce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ku(e,t){var n=function(i){return t&&f.isValidElement(i)?t(i):i},r=Object.create(null);return e&&f.Children.map(e,function(s){return s}).forEach(function(s){r[s.key]=n(s)}),r}function jk(e,t){e=e||{},t=t||{};function n(u){return u in t?t[u]:e[u]}var r=Object.create(null),s=[];for(var i in e)i in t?s.length&&(r[i]=s,s=[]):s.push(i);var a,l={};for(var c in t){if(r[c])for(a=0;a<r[c].length;a++){var d=r[c][a];l[r[c][a]]=n(d)}l[c]=n(c)}for(a=0;a<s.length;a++)l[s[a]]=n(s[a]);return l}function as(e,t,n){return n[t]!=null?n[t]:e.props[t]}function kk(e,t){return Ku(e.children,function(n){return f.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:as(n,"appear",e),enter:as(n,"enter",e),exit:as(n,"exit",e)})})}function _k(e,t,n){var r=Ku(e.children),s=jk(t,r);return Object.keys(s).forEach(function(i){var a=s[i];if(f.isValidElement(a)){var l=i in t,c=i in r,d=t[i],u=f.isValidElement(d)&&!d.props.in;c&&(!l||u)?s[i]=f.cloneElement(a,{onExited:n.bind(null,a),in:!0,exit:as(a,"exit",e),enter:as(a,"enter",e)}):!c&&l&&!u?s[i]=f.cloneElement(a,{in:!1}):c&&l&&f.isValidElement(d)&&(s[i]=f.cloneElement(a,{onExited:n.bind(null,a),in:d.props.in,exit:as(a,"exit",e),enter:as(a,"enter",e)}))}}),s}var Tk=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},Ek={component:"div",childFactory:function(t){return t}},Yi=function(e){Gu(t,e);function t(r,s){var i;i=e.call(this,r,s)||this;var a=i.handleExited.bind(Ce(i));return i.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},i}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(s,i){var a=i.children,l=i.handleExited,c=i.firstRender;return{children:c?kk(s,l):_k(s,a,l),firstRender:!1}},n.handleExited=function(s,i){var a=Ku(this.props.children);s.key in a||(s.props.onExited&&s.props.onExited(i),this.mounted&&this.setState(function(l){var c=b({},l.children);return delete c[s.key],{children:c}}))},n.render=function(){var s=this.props,i=s.component,a=s.childFactory,l=Z(s,["component","childFactory"]),c=this.state.contextValue,d=Tk(this.state.children).map(a);return delete l.appear,delete l.enter,delete l.exit,i===null?Fe.createElement(Ja.Provider,{value:c},d):Fe.createElement(Ja.Provider,{value:c},Fe.createElement(i,l,d))},t}(Fe.Component);Yi.propTypes={};Yi.defaultProps=Ek;const jy=e=>e.scrollTop;function lo(e,t){var n,r;const{timeout:s,easing:i,style:a={}}=e;return{duration:(n=a.transitionDuration)!=null?n:typeof s=="number"?s:s[t.mode]||0,easing:(r=a.transitionTimingFunction)!=null?r:typeof i=="object"?i[t.mode]:i,delay:a.transitionDelay}}function Mk(e){return pe("MuiCollapse",e)}he("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const Pk=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],Ik=e=>{const{orientation:t,classes:n}=e,r={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return ge(r,Mk,n)},Rk=U("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.state==="entered"&&t.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&t.hidden]}})(({theme:e,ownerState:t})=>b({height:0,overflow:"hidden",transition:e.transitions.create("height")},t.orientation==="horizontal"&&{height:"auto",width:0,transition:e.transitions.create("width")},t.state==="entered"&&b({height:"auto",overflow:"visible"},t.orientation==="horizontal"&&{width:"auto"}),t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&{visibility:"hidden"})),Dk=U("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})(({ownerState:e})=>b({display:"flex",width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),Nk=U("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})(({ownerState:e})=>b({width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),Qu=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiCollapse"}),{addEndListener:s,children:i,className:a,collapsedSize:l="0px",component:c,easing:d,in:u,onEnter:p,onEntered:h,onEntering:g,onExit:v,onExited:m,onExiting:y,orientation:x="vertical",style:w,timeout:C=nv.standard,TransitionComponent:j=Fn}=r,_=Z(r,Pk),S=b({},r,{orientation:x,collapsedSize:l}),E=Ik(S),T=Vn(),k=Or(),M=f.useRef(null),N=f.useRef(),L=typeof l=="number"?`${l}px`:l,R=x==="horizontal",P=R?"width":"height",D=f.useRef(null),I=vt(n,D),O=V=>le=>{if(V){const ee=D.current;le===void 0?V(ee):V(ee,le)}},z=()=>M.current?M.current[R?"clientWidth":"clientHeight"]:0,$=O((V,le)=>{M.current&&R&&(M.current.style.position="absolute"),V.style[P]=L,p&&p(V,le)}),A=O((V,le)=>{const ee=z();M.current&&R&&(M.current.style.position="");const{duration:X,easing:ie}=lo({style:w,timeout:C,easing:d},{mode:"enter"});if(C==="auto"){const K=T.transitions.getAutoHeightDuration(ee);V.style.transitionDuration=`${K}ms`,N.current=K}else V.style.transitionDuration=typeof X=="string"?X:`${X}ms`;V.style[P]=`${ee}px`,V.style.transitionTimingFunction=ie,g&&g(V,le)}),H=O((V,le)=>{V.style[P]="auto",h&&h(V,le)}),Y=O(V=>{V.style[P]=`${z()}px`,v&&v(V)}),G=O(m),J=O(V=>{const le=z(),{duration:ee,easing:X}=lo({style:w,timeout:C,easing:d},{mode:"exit"});if(C==="auto"){const ie=T.transitions.getAutoHeightDuration(le);V.style.transitionDuration=`${ie}ms`,N.current=ie}else V.style.transitionDuration=typeof ee=="string"?ee:`${ee}ms`;V.style[P]=L,V.style.transitionTimingFunction=X,y&&y(V)}),ae=V=>{C==="auto"&&k.start(N.current||0,V),s&&s(D.current,V)};return o.jsx(j,b({in:u,onEnter:$,onEntered:H,onEntering:A,onExit:Y,onExited:G,onExiting:J,addEndListener:ae,nodeRef:D,timeout:C==="auto"?null:C},_,{children:(V,le)=>o.jsx(Rk,b({as:c,className:re(E.root,a,{entered:E.entered,exited:!u&&L==="0px"&&E.hidden}[V]),style:b({[R?"minWidth":"minHeight"]:L},w),ref:I},le,{ownerState:b({},S,{state:V}),children:o.jsx(Dk,{ownerState:b({},S,{state:V}),className:E.wrapper,ref:M,children:o.jsx(Nk,{ownerState:b({},S,{state:V}),className:E.wrapperInner,children:i})})}))}))});Qu.muiSupportAuto=!0;function Ak(e){return pe("MuiPaper",e)}he("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const $k=["className","component","elevation","square","variant"],Ok=e=>{const{square:t,elevation:n,variant:r,classes:s}=e,i={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${n}`]};return ge(i,Ak,s)},Lk=U("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(({theme:e,ownerState:t})=>{var n;return b({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.divider}`},t.variant==="elevation"&&b({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${ze("#fff",gh(t.elevation))}, ${ze("#fff",gh(t.elevation))})`},e.vars&&{backgroundImage:(n=e.vars.overlays)==null?void 0:n[t.elevation]}))}),fn=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiPaper"}),{className:s,component:i="div",elevation:a=1,square:l=!1,variant:c="elevation"}=r,d=Z(r,$k),u=b({},r,{component:i,elevation:a,square:l,variant:c}),p=Ok(u);return o.jsx(Lk,b({as:i,ownerState:u,className:re(p.root,s),ref:n},d))}),Fk=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],zk=["component","slots","slotProps"],Bk=["component"];function sf(e,t){const{className:n,elementType:r,ownerState:s,externalForwardedProps:i,getSlotOwnerState:a,internalForwardedProps:l}=t,c=Z(t,Fk),{component:d,slots:u={[e]:void 0},slotProps:p={[e]:void 0}}=i,h=Z(i,zk),g=u[e]||r,v=Wg(p[e],s),m=Bg(b({className:n},c,{externalForwardedProps:e==="root"?h:void 0,externalSlotProps:v})),{props:{component:y},internalRef:x}=m,w=Z(m.props,Bk),C=vt(x,v==null?void 0:v.ref,t.ref),j=a?a(w):{},_=b({},s,j),S=e==="root"?y||d:y,E=zs(g,b({},e==="root"&&!d&&!u[e]&&l,e!=="root"&&!u[e]&&l,w,S&&{as:S},{ref:C}),_);return Object.keys(j).forEach(T=>{delete E[T]}),[g,E]}function Wk(e){const{className:t,classes:n,pulsate:r=!1,rippleX:s,rippleY:i,rippleSize:a,in:l,onExited:c,timeout:d}=e,[u,p]=f.useState(!1),h=re(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),g={width:a,height:a,top:-(a/2)+i,left:-(a/2)+s},v=re(n.child,u&&n.childLeaving,r&&n.childPulsate);return!l&&!u&&p(!0),f.useEffect(()=>{if(!l&&c!=null){const m=setTimeout(c,d);return()=>{clearTimeout(m)}}},[c,l,d]),o.jsx("span",{className:h,style:g,children:o.jsx("span",{className:v})})}const En=he("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Hk=["center","classes","className"];let Jl=e=>e,of,af,lf,cf;const Pd=550,Uk=80,Vk=Ir(of||(of=Jl`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),Yk=Ir(af||(af=Jl`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Gk=Ir(lf||(lf=Jl`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),qk=U("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Kk=U(Wk,{name:"MuiTouchRipple",slot:"Ripple"})(cf||(cf=Jl`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),En.rippleVisible,Vk,Pd,({theme:e})=>e.transitions.easing.easeInOut,En.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,En.child,En.childLeaving,Yk,Pd,({theme:e})=>e.transitions.easing.easeInOut,En.childPulsate,Gk,({theme:e})=>e.transitions.easing.easeInOut),Qk=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiTouchRipple"}),{center:s=!1,classes:i={},className:a}=r,l=Z(r,Hk),[c,d]=f.useState([]),u=f.useRef(0),p=f.useRef(null);f.useEffect(()=>{p.current&&(p.current(),p.current=null)},[c]);const h=f.useRef(!1),g=Or(),v=f.useRef(null),m=f.useRef(null),y=f.useCallback(j=>{const{pulsate:_,rippleX:S,rippleY:E,rippleSize:T,cb:k}=j;d(M=>[...M,o.jsx(Kk,{classes:{ripple:re(i.ripple,En.ripple),rippleVisible:re(i.rippleVisible,En.rippleVisible),ripplePulsate:re(i.ripplePulsate,En.ripplePulsate),child:re(i.child,En.child),childLeaving:re(i.childLeaving,En.childLeaving),childPulsate:re(i.childPulsate,En.childPulsate)},timeout:Pd,pulsate:_,rippleX:S,rippleY:E,rippleSize:T},u.current)]),u.current+=1,p.current=k},[i]),x=f.useCallback((j={},_={},S=()=>{})=>{const{pulsate:E=!1,center:T=s||_.pulsate,fakeElement:k=!1}=_;if((j==null?void 0:j.type)==="mousedown"&&h.current){h.current=!1;return}(j==null?void 0:j.type)==="touchstart"&&(h.current=!0);const M=k?null:m.current,N=M?M.getBoundingClientRect():{width:0,height:0,left:0,top:0};let L,R,P;if(T||j===void 0||j.clientX===0&&j.clientY===0||!j.clientX&&!j.touches)L=Math.round(N.width/2),R=Math.round(N.height/2);else{const{clientX:D,clientY:I}=j.touches&&j.touches.length>0?j.touches[0]:j;L=Math.round(D-N.left),R=Math.round(I-N.top)}if(T)P=Math.sqrt((2*N.width**2+N.height**2)/3),P%2===0&&(P+=1);else{const D=Math.max(Math.abs((M?M.clientWidth:0)-L),L)*2+2,I=Math.max(Math.abs((M?M.clientHeight:0)-R),R)*2+2;P=Math.sqrt(D**2+I**2)}j!=null&&j.touches?v.current===null&&(v.current=()=>{y({pulsate:E,rippleX:L,rippleY:R,rippleSize:P,cb:S})},g.start(Uk,()=>{v.current&&(v.current(),v.current=null)})):y({pulsate:E,rippleX:L,rippleY:R,rippleSize:P,cb:S})},[s,y,g]),w=f.useCallback(()=>{x({},{pulsate:!0})},[x]),C=f.useCallback((j,_)=>{if(g.clear(),(j==null?void 0:j.type)==="touchend"&&v.current){v.current(),v.current=null,g.start(0,()=>{C(j,_)});return}v.current=null,d(S=>S.length>0?S.slice(1):S),p.current=_},[g]);return f.useImperativeHandle(n,()=>({pulsate:w,start:x,stop:C}),[w,x,C]),o.jsx(qk,b({className:re(En.root,i.root,a),ref:m},l,{children:o.jsx(Yi,{component:null,exit:!0,children:c})}))});function Xk(e){return pe("MuiButtonBase",e)}const Zk=he("MuiButtonBase",["root","disabled","focusVisible"]),Jk=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],e_=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:s}=e,a=ge({root:["root",t&&"disabled",n&&"focusVisible"]},Xk,s);return n&&r&&(a.root+=` ${r}`),a},t_=U("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Zk.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Yr=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiButtonBase"}),{action:s,centerRipple:i=!1,children:a,className:l,component:c="button",disabled:d=!1,disableRipple:u=!1,disableTouchRipple:p=!1,focusRipple:h=!1,LinkComponent:g="a",onBlur:v,onClick:m,onContextMenu:y,onDragLeave:x,onFocus:w,onFocusVisible:C,onKeyDown:j,onKeyUp:_,onMouseDown:S,onMouseLeave:E,onMouseUp:T,onTouchEnd:k,onTouchMove:M,onTouchStart:N,tabIndex:L=0,TouchRippleProps:R,touchRippleRef:P,type:D}=r,I=Z(r,Jk),O=f.useRef(null),z=f.useRef(null),$=vt(z,P),{isFocusVisibleRef:A,onFocus:H,onBlur:Y,ref:G}=Fg(),[J,ae]=f.useState(!1);d&&J&&ae(!1),f.useImperativeHandle(s,()=>({focusVisible:()=>{ae(!0),O.current.focus()}}),[]);const[V,le]=f.useState(!1);f.useEffect(()=>{le(!0)},[]);const ee=V&&!u&&!d;f.useEffect(()=>{J&&h&&!u&&V&&z.current.pulsate()},[u,h,J,V]);function X(ke,Et,kn=p){return Ne(Xt=>(Et&&Et(Xt),!kn&&z.current&&z.current[ke](Xt),!0))}const ie=X("start",S),K=X("stop",y),B=X("stop",x),F=X("stop",T),q=X("stop",ke=>{J&&ke.preventDefault(),E&&E(ke)}),te=X("start",N),ue=X("stop",k),Te=X("stop",M),oe=X("stop",ke=>{Y(ke),A.current===!1&&ae(!1),v&&v(ke)},!1),ce=Ne(ke=>{O.current||(O.current=ke.currentTarget),H(ke),A.current===!0&&(ae(!0),C&&C(ke)),w&&w(ke)}),xe=()=>{const ke=O.current;return c&&c!=="button"&&!(ke.tagName==="A"&&ke.href)},ve=f.useRef(!1),De=Ne(ke=>{h&&!ve.current&&J&&z.current&&ke.key===" "&&(ve.current=!0,z.current.stop(ke,()=>{z.current.start(ke)})),ke.target===ke.currentTarget&&xe()&&ke.key===" "&&ke.preventDefault(),j&&j(ke),ke.target===ke.currentTarget&&xe()&&ke.key==="Enter"&&!d&&(ke.preventDefault(),m&&m(ke))}),Me=Ne(ke=>{h&&ke.key===" "&&z.current&&J&&!ke.defaultPrevented&&(ve.current=!1,z.current.stop(ke,()=>{z.current.pulsate(ke)})),_&&_(ke),m&&ke.target===ke.currentTarget&&xe()&&ke.key===" "&&!ke.defaultPrevented&&m(ke)});let Re=c;Re==="button"&&(I.href||I.to)&&(Re=g);const Ct={};Re==="button"?(Ct.type=D===void 0?"button":D,Ct.disabled=d):(!I.href&&!I.to&&(Ct.role="button"),d&&(Ct["aria-disabled"]=d));const Nt=vt(n,G,O),At=b({},r,{centerRipple:i,component:c,disabled:d,disableRipple:u,disableTouchRipple:p,focusRipple:h,tabIndex:L,focusVisible:J}),Qe=e_(At);return o.jsxs(t_,b({as:Re,className:re(Qe.root,l),ownerState:At,onBlur:oe,onClick:m,onContextMenu:K,onFocus:ce,onKeyDown:De,onKeyUp:Me,onMouseDown:ie,onMouseLeave:q,onMouseUp:F,onDragLeave:B,onTouchEnd:ue,onTouchMove:Te,onTouchStart:te,ref:Nt,tabIndex:d?-1:L,type:D},Ct,I,{children:[a,ee?o.jsx(Qk,b({ref:$,center:i},R)):null]}))});function n_(e){return pe("MuiAlert",e)}const df=he("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function r_(e){return pe("MuiIconButton",e)}const s_=he("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),o_=["edge","children","className","color","disabled","disableFocusRipple","size"],i_=e=>{const{classes:t,disabled:n,color:r,edge:s,size:i}=e,a={root:["root",n&&"disabled",r!=="default"&&`color${Q(r)}`,s&&`edge${Q(s)}`,`size${Q(i)}`]};return ge(a,r_,t)},a_=U(Yr,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${Q(n.color)}`],n.edge&&t[`edge${Q(n.edge)}`],t[`size${Q(n.size)}`]]}})(({theme:e,ownerState:t})=>b({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:ze(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12}),({theme:e,ownerState:t})=>{var n;const r=(n=(e.vars||e).palette)==null?void 0:n[t.color];return b({},t.color==="inherit"&&{color:"inherit"},t.color!=="inherit"&&t.color!=="default"&&b({color:r==null?void 0:r.main},!t.disableRipple&&{"&:hover":b({},r&&{backgroundColor:e.vars?`rgba(${r.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ze(r.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),t.size==="small"&&{padding:5,fontSize:e.typography.pxToRem(18)},t.size==="large"&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${s_.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),ln=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiIconButton"}),{edge:s=!1,children:i,className:a,color:l="default",disabled:c=!1,disableFocusRipple:d=!1,size:u="medium"}=r,p=Z(r,o_),h=b({},r,{edge:s,color:l,disabled:c,disableFocusRipple:d,size:u}),g=i_(h);return o.jsx(a_,b({className:re(g.root,a),centerRipple:!0,focusRipple:!d,disabled:c,ref:n},p,{ownerState:h,children:i}))}),l_=fe(o.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),c_=fe(o.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),d_=fe(o.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),u_=fe(o.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),p_=fe(o.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),h_=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],f_=e=>{const{variant:t,color:n,severity:r,classes:s}=e,i={root:["root",`color${Q(n||r)}`,`${t}${Q(n||r)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return ge(i,n_,s)},m_=U(fn,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${Q(n.color||n.severity)}`]]}})(({theme:e})=>{const t=e.palette.mode==="light"?so:oo,n=e.palette.mode==="light"?oo:so;return b({},e.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(e.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:e.vars?e.vars.palette.Alert[`${r}Color`]:t(e.palette[r].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${r}StandardBg`]:n(e.palette[r].light,.9),[`& .${df.icon}`]:e.vars?{color:e.vars.palette.Alert[`${r}IconColor`]}:{color:e.palette[r].main}}})),...Object.entries(e.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:e.vars?e.vars.palette.Alert[`${r}Color`]:t(e.palette[r].light,.6),border:`1px solid ${(e.vars||e).palette[r].light}`,[`& .${df.icon}`]:e.vars?{color:e.vars.palette.Alert[`${r}IconColor`]}:{color:e.palette[r].main}}})),...Object.entries(e.palette).filter(([,r])=>r.main&&r.dark).map(([r])=>({props:{colorSeverity:r,variant:"filled"},style:b({fontWeight:e.typography.fontWeightMedium},e.vars?{color:e.vars.palette.Alert[`${r}FilledColor`],backgroundColor:e.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:e.palette.mode==="dark"?e.palette[r].dark:e.palette[r].main,color:e.palette.getContrastText(e.palette[r].main)})}))]})}),g_=U("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),v_=U("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),uf=U("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),pf={success:o.jsx(l_,{fontSize:"inherit"}),warning:o.jsx(c_,{fontSize:"inherit"}),error:o.jsx(d_,{fontSize:"inherit"}),info:o.jsx(u_,{fontSize:"inherit"})},lt=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiAlert"}),{action:s,children:i,className:a,closeText:l="Close",color:c,components:d={},componentsProps:u={},icon:p,iconMapping:h=pf,onClose:g,role:v="alert",severity:m="success",slotProps:y={},slots:x={},variant:w="standard"}=r,C=Z(r,h_),j=b({},r,{color:c,severity:m,variant:w,colorSeverity:c||m}),_=f_(j),S={slots:b({closeButton:d.CloseButton,closeIcon:d.CloseIcon},x),slotProps:b({},u,y)},[E,T]=sf("closeButton",{elementType:ln,externalForwardedProps:S,ownerState:j}),[k,M]=sf("closeIcon",{elementType:p_,externalForwardedProps:S,ownerState:j});return o.jsxs(m_,b({role:v,elevation:0,ownerState:j,className:re(_.root,a),ref:n},C,{children:[p!==!1?o.jsx(g_,{ownerState:j,className:_.icon,children:p||h[m]||pf[m]}):null,o.jsx(v_,{ownerState:j,className:_.message,children:i}),s!=null?o.jsx(uf,{ownerState:j,className:_.action,children:s}):null,s==null&&g?o.jsx(uf,{ownerState:j,className:_.action,children:o.jsx(E,b({size:"small","aria-label":l,title:l,color:"inherit",onClick:g},T,{children:o.jsx(k,b({fontSize:"small"},M))}))}):null]}))});function y_(e){return pe("MuiTypography",e)}he("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const x_=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],b_=e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:s,variant:i,classes:a}=e,l={root:["root",i,e.align!=="inherit"&&`align${Q(t)}`,n&&"gutterBottom",r&&"noWrap",s&&"paragraph"]};return ge(l,y_,a)},C_=U("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],n.align!=="inherit"&&t[`align${Q(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>b({margin:0},t.variant==="inherit"&&{font:"inherit"},t.variant!=="inherit"&&e.typography[t.variant],t.align!=="inherit"&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),hf={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},w_={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},S_=e=>w_[e]||e,W=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiTypography"}),s=S_(r.color),i=Oi(b({},r,{color:s})),{align:a="inherit",className:l,component:c,gutterBottom:d=!1,noWrap:u=!1,paragraph:p=!1,variant:h="body1",variantMapping:g=hf}=i,v=Z(i,x_),m=b({},i,{align:a,color:s,className:l,component:c,gutterBottom:d,noWrap:u,paragraph:p,variant:h,variantMapping:g}),y=c||(p?"p":g[h]||hf[h])||"span",x=b_(m);return o.jsx(C_,b({as:y,ref:n,ownerState:m,className:re(x.root,l)},v))});function j_(e){return pe("MuiAlertTitle",e)}he("MuiAlertTitle",["root"]);const k_=["className"],__=e=>{const{classes:t}=e;return ge({root:["root"]},j_,t)},T_=U(W,{name:"MuiAlertTitle",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({fontWeight:e.typography.fontWeightMedium,marginTop:-2})),ji=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiAlertTitle"}),{className:s}=r,i=Z(r,k_),a=r,l=__(a);return o.jsx(T_,b({gutterBottom:!0,component:"div",ownerState:a,ref:n,className:re(l.root,s)},i))});var Xu={};Object.defineProperty(Xu,"__esModule",{value:!0});var ky=Xu.default=void 0,E_=P_(f),M_=rv;function _y(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(_y=function(r){return r?n:t})(e)}function P_(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=_y(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var a=s?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}function I_(e){return Object.keys(e).length===0}function R_(e=null){const t=E_.useContext(M_.ThemeContext);return!t||I_(t)?e:t}ky=Xu.default=R_;var cn="top",Nn="bottom",An="right",dn="left",Zu="auto",Gi=[cn,Nn,An,dn],co="start",ki="end",D_="clippingParents",Ty="viewport",Yo="popper",N_="reference",ff=Gi.reduce(function(e,t){return e.concat([t+"-"+co,t+"-"+ki])},[]),Ey=[].concat(Gi,[Zu]).reduce(function(e,t){return e.concat([t,t+"-"+co,t+"-"+ki])},[]),A_="beforeRead",$_="read",O_="afterRead",L_="beforeMain",F_="main",z_="afterMain",B_="beforeWrite",W_="write",H_="afterWrite",U_=[A_,$_,O_,L_,F_,z_,B_,W_,H_];function cr(e){return e?(e.nodeName||"").toLowerCase():null}function wn(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function ys(e){var t=wn(e).Element;return e instanceof t||e instanceof Element}function In(e){var t=wn(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Ju(e){if(typeof ShadowRoot>"u")return!1;var t=wn(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function V_(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},s=t.attributes[n]||{},i=t.elements[n];!In(i)||!cr(i)||(Object.assign(i.style,r),Object.keys(s).forEach(function(a){var l=s[a];l===!1?i.removeAttribute(a):i.setAttribute(a,l===!0?"":l)}))})}function Y_(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var s=t.elements[r],i=t.attributes[r]||{},a=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),l=a.reduce(function(c,d){return c[d]="",c},{});!In(s)||!cr(s)||(Object.assign(s.style,l),Object.keys(i).forEach(function(c){s.removeAttribute(c)}))})}}const G_={name:"applyStyles",enabled:!0,phase:"write",fn:V_,effect:Y_,requires:["computeStyles"]};function sr(e){return e.split("-")[0]}var ds=Math.max,el=Math.min,uo=Math.round;function Id(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function My(){return!/^((?!chrome|android).)*safari/i.test(Id())}function po(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),s=1,i=1;t&&In(e)&&(s=e.offsetWidth>0&&uo(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&uo(r.height)/e.offsetHeight||1);var a=ys(e)?wn(e):window,l=a.visualViewport,c=!My()&&n,d=(r.left+(c&&l?l.offsetLeft:0))/s,u=(r.top+(c&&l?l.offsetTop:0))/i,p=r.width/s,h=r.height/i;return{width:p,height:h,top:u,right:d+p,bottom:u+h,left:d,x:d,y:u}}function ep(e){var t=po(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Py(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Ju(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function _r(e){return wn(e).getComputedStyle(e)}function q_(e){return["table","td","th"].indexOf(cr(e))>=0}function Qr(e){return((ys(e)?e.ownerDocument:e.document)||window.document).documentElement}function ec(e){return cr(e)==="html"?e:e.assignedSlot||e.parentNode||(Ju(e)?e.host:null)||Qr(e)}function mf(e){return!In(e)||_r(e).position==="fixed"?null:e.offsetParent}function K_(e){var t=/firefox/i.test(Id()),n=/Trident/i.test(Id());if(n&&In(e)){var r=_r(e);if(r.position==="fixed")return null}var s=ec(e);for(Ju(s)&&(s=s.host);In(s)&&["html","body"].indexOf(cr(s))<0;){var i=_r(s);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return s;s=s.parentNode}return null}function qi(e){for(var t=wn(e),n=mf(e);n&&q_(n)&&_r(n).position==="static";)n=mf(n);return n&&(cr(n)==="html"||cr(n)==="body"&&_r(n).position==="static")?t:n||K_(e)||t}function tp(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function di(e,t,n){return ds(e,el(t,n))}function Q_(e,t,n){var r=di(e,t,n);return r>n?n:r}function Iy(){return{top:0,right:0,bottom:0,left:0}}function Ry(e){return Object.assign({},Iy(),e)}function Dy(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var X_=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,Ry(typeof t!="number"?t:Dy(t,Gi))};function Z_(e){var t,n=e.state,r=e.name,s=e.options,i=n.elements.arrow,a=n.modifiersData.popperOffsets,l=sr(n.placement),c=tp(l),d=[dn,An].indexOf(l)>=0,u=d?"height":"width";if(!(!i||!a)){var p=X_(s.padding,n),h=ep(i),g=c==="y"?cn:dn,v=c==="y"?Nn:An,m=n.rects.reference[u]+n.rects.reference[c]-a[c]-n.rects.popper[u],y=a[c]-n.rects.reference[c],x=qi(i),w=x?c==="y"?x.clientHeight||0:x.clientWidth||0:0,C=m/2-y/2,j=p[g],_=w-h[u]-p[v],S=w/2-h[u]/2+C,E=di(j,S,_),T=c;n.modifiersData[r]=(t={},t[T]=E,t.centerOffset=E-S,t)}}function J_(e){var t=e.state,n=e.options,r=n.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=t.elements.popper.querySelector(s),!s)||Py(t.elements.popper,s)&&(t.elements.arrow=s))}const eT={name:"arrow",enabled:!0,phase:"main",fn:Z_,effect:J_,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ho(e){return e.split("-")[1]}var tT={top:"auto",right:"auto",bottom:"auto",left:"auto"};function nT(e,t){var n=e.x,r=e.y,s=t.devicePixelRatio||1;return{x:uo(n*s)/s||0,y:uo(r*s)/s||0}}function gf(e){var t,n=e.popper,r=e.popperRect,s=e.placement,i=e.variation,a=e.offsets,l=e.position,c=e.gpuAcceleration,d=e.adaptive,u=e.roundOffsets,p=e.isFixed,h=a.x,g=h===void 0?0:h,v=a.y,m=v===void 0?0:v,y=typeof u=="function"?u({x:g,y:m}):{x:g,y:m};g=y.x,m=y.y;var x=a.hasOwnProperty("x"),w=a.hasOwnProperty("y"),C=dn,j=cn,_=window;if(d){var S=qi(n),E="clientHeight",T="clientWidth";if(S===wn(n)&&(S=Qr(n),_r(S).position!=="static"&&l==="absolute"&&(E="scrollHeight",T="scrollWidth")),S=S,s===cn||(s===dn||s===An)&&i===ki){j=Nn;var k=p&&S===_&&_.visualViewport?_.visualViewport.height:S[E];m-=k-r.height,m*=c?1:-1}if(s===dn||(s===cn||s===Nn)&&i===ki){C=An;var M=p&&S===_&&_.visualViewport?_.visualViewport.width:S[T];g-=M-r.width,g*=c?1:-1}}var N=Object.assign({position:l},d&&tT),L=u===!0?nT({x:g,y:m},wn(n)):{x:g,y:m};if(g=L.x,m=L.y,c){var R;return Object.assign({},N,(R={},R[j]=w?"0":"",R[C]=x?"0":"",R.transform=(_.devicePixelRatio||1)<=1?"translate("+g+"px, "+m+"px)":"translate3d("+g+"px, "+m+"px, 0)",R))}return Object.assign({},N,(t={},t[j]=w?m+"px":"",t[C]=x?g+"px":"",t.transform="",t))}function rT(e){var t=e.state,n=e.options,r=n.gpuAcceleration,s=r===void 0?!0:r,i=n.adaptive,a=i===void 0?!0:i,l=n.roundOffsets,c=l===void 0?!0:l,d={placement:sr(t.placement),variation:ho(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,gf(Object.assign({},d,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,gf(Object.assign({},d,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const sT={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:rT,data:{}};var aa={passive:!0};function oT(e){var t=e.state,n=e.instance,r=e.options,s=r.scroll,i=s===void 0?!0:s,a=r.resize,l=a===void 0?!0:a,c=wn(t.elements.popper),d=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&d.forEach(function(u){u.addEventListener("scroll",n.update,aa)}),l&&c.addEventListener("resize",n.update,aa),function(){i&&d.forEach(function(u){u.removeEventListener("scroll",n.update,aa)}),l&&c.removeEventListener("resize",n.update,aa)}}const iT={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:oT,data:{}};var aT={left:"right",right:"left",bottom:"top",top:"bottom"};function Ia(e){return e.replace(/left|right|bottom|top/g,function(t){return aT[t]})}var lT={start:"end",end:"start"};function vf(e){return e.replace(/start|end/g,function(t){return lT[t]})}function np(e){var t=wn(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function rp(e){return po(Qr(e)).left+np(e).scrollLeft}function cT(e,t){var n=wn(e),r=Qr(e),s=n.visualViewport,i=r.clientWidth,a=r.clientHeight,l=0,c=0;if(s){i=s.width,a=s.height;var d=My();(d||!d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:a,x:l+rp(e),y:c}}function dT(e){var t,n=Qr(e),r=np(e),s=(t=e.ownerDocument)==null?void 0:t.body,i=ds(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),a=ds(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),l=-r.scrollLeft+rp(e),c=-r.scrollTop;return _r(s||n).direction==="rtl"&&(l+=ds(n.clientWidth,s?s.clientWidth:0)-i),{width:i,height:a,x:l,y:c}}function sp(e){var t=_r(e),n=t.overflow,r=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function Ny(e){return["html","body","#document"].indexOf(cr(e))>=0?e.ownerDocument.body:In(e)&&sp(e)?e:Ny(ec(e))}function ui(e,t){var n;t===void 0&&(t=[]);var r=Ny(e),s=r===((n=e.ownerDocument)==null?void 0:n.body),i=wn(r),a=s?[i].concat(i.visualViewport||[],sp(r)?r:[]):r,l=t.concat(a);return s?l:l.concat(ui(ec(a)))}function Rd(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function uT(e,t){var n=po(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function yf(e,t,n){return t===Ty?Rd(cT(e,n)):ys(t)?uT(t,n):Rd(dT(Qr(e)))}function pT(e){var t=ui(ec(e)),n=["absolute","fixed"].indexOf(_r(e).position)>=0,r=n&&In(e)?qi(e):e;return ys(r)?t.filter(function(s){return ys(s)&&Py(s,r)&&cr(s)!=="body"}):[]}function hT(e,t,n,r){var s=t==="clippingParents"?pT(e):[].concat(t),i=[].concat(s,[n]),a=i[0],l=i.reduce(function(c,d){var u=yf(e,d,r);return c.top=ds(u.top,c.top),c.right=el(u.right,c.right),c.bottom=el(u.bottom,c.bottom),c.left=ds(u.left,c.left),c},yf(e,a,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function Ay(e){var t=e.reference,n=e.element,r=e.placement,s=r?sr(r):null,i=r?ho(r):null,a=t.x+t.width/2-n.width/2,l=t.y+t.height/2-n.height/2,c;switch(s){case cn:c={x:a,y:t.y-n.height};break;case Nn:c={x:a,y:t.y+t.height};break;case An:c={x:t.x+t.width,y:l};break;case dn:c={x:t.x-n.width,y:l};break;default:c={x:t.x,y:t.y}}var d=s?tp(s):null;if(d!=null){var u=d==="y"?"height":"width";switch(i){case co:c[d]=c[d]-(t[u]/2-n[u]/2);break;case ki:c[d]=c[d]+(t[u]/2-n[u]/2);break}}return c}function _i(e,t){t===void 0&&(t={});var n=t,r=n.placement,s=r===void 0?e.placement:r,i=n.strategy,a=i===void 0?e.strategy:i,l=n.boundary,c=l===void 0?D_:l,d=n.rootBoundary,u=d===void 0?Ty:d,p=n.elementContext,h=p===void 0?Yo:p,g=n.altBoundary,v=g===void 0?!1:g,m=n.padding,y=m===void 0?0:m,x=Ry(typeof y!="number"?y:Dy(y,Gi)),w=h===Yo?N_:Yo,C=e.rects.popper,j=e.elements[v?w:h],_=hT(ys(j)?j:j.contextElement||Qr(e.elements.popper),c,u,a),S=po(e.elements.reference),E=Ay({reference:S,element:C,placement:s}),T=Rd(Object.assign({},C,E)),k=h===Yo?T:S,M={top:_.top-k.top+x.top,bottom:k.bottom-_.bottom+x.bottom,left:_.left-k.left+x.left,right:k.right-_.right+x.right},N=e.modifiersData.offset;if(h===Yo&&N){var L=N[s];Object.keys(M).forEach(function(R){var P=[An,Nn].indexOf(R)>=0?1:-1,D=[cn,Nn].indexOf(R)>=0?"y":"x";M[R]+=L[D]*P})}return M}function fT(e,t){t===void 0&&(t={});var n=t,r=n.placement,s=n.boundary,i=n.rootBoundary,a=n.padding,l=n.flipVariations,c=n.allowedAutoPlacements,d=c===void 0?Ey:c,u=ho(r),p=u?l?ff:ff.filter(function(v){return ho(v)===u}):Gi,h=p.filter(function(v){return d.indexOf(v)>=0});h.length===0&&(h=p);var g=h.reduce(function(v,m){return v[m]=_i(e,{placement:m,boundary:s,rootBoundary:i,padding:a})[sr(m)],v},{});return Object.keys(g).sort(function(v,m){return g[v]-g[m]})}function mT(e){if(sr(e)===Zu)return[];var t=Ia(e);return[vf(e),t,vf(t)]}function gT(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var s=n.mainAxis,i=s===void 0?!0:s,a=n.altAxis,l=a===void 0?!0:a,c=n.fallbackPlacements,d=n.padding,u=n.boundary,p=n.rootBoundary,h=n.altBoundary,g=n.flipVariations,v=g===void 0?!0:g,m=n.allowedAutoPlacements,y=t.options.placement,x=sr(y),w=x===y,C=c||(w||!v?[Ia(y)]:mT(y)),j=[y].concat(C).reduce(function(J,ae){return J.concat(sr(ae)===Zu?fT(t,{placement:ae,boundary:u,rootBoundary:p,padding:d,flipVariations:v,allowedAutoPlacements:m}):ae)},[]),_=t.rects.reference,S=t.rects.popper,E=new Map,T=!0,k=j[0],M=0;M<j.length;M++){var N=j[M],L=sr(N),R=ho(N)===co,P=[cn,Nn].indexOf(L)>=0,D=P?"width":"height",I=_i(t,{placement:N,boundary:u,rootBoundary:p,altBoundary:h,padding:d}),O=P?R?An:dn:R?Nn:cn;_[D]>S[D]&&(O=Ia(O));var z=Ia(O),$=[];if(i&&$.push(I[L]<=0),l&&$.push(I[O]<=0,I[z]<=0),$.every(function(J){return J})){k=N,T=!1;break}E.set(N,$)}if(T)for(var A=v?3:1,H=function(ae){var V=j.find(function(le){var ee=E.get(le);if(ee)return ee.slice(0,ae).every(function(X){return X})});if(V)return k=V,"break"},Y=A;Y>0;Y--){var G=H(Y);if(G==="break")break}t.placement!==k&&(t.modifiersData[r]._skip=!0,t.placement=k,t.reset=!0)}}const vT={name:"flip",enabled:!0,phase:"main",fn:gT,requiresIfExists:["offset"],data:{_skip:!1}};function xf(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function bf(e){return[cn,An,Nn,dn].some(function(t){return e[t]>=0})}function yT(e){var t=e.state,n=e.name,r=t.rects.reference,s=t.rects.popper,i=t.modifiersData.preventOverflow,a=_i(t,{elementContext:"reference"}),l=_i(t,{altBoundary:!0}),c=xf(a,r),d=xf(l,s,i),u=bf(c),p=bf(d);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:d,isReferenceHidden:u,hasPopperEscaped:p},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":p})}const xT={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:yT};function bT(e,t,n){var r=sr(e),s=[dn,cn].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,a=i[0],l=i[1];return a=a||0,l=(l||0)*s,[dn,An].indexOf(r)>=0?{x:l,y:a}:{x:a,y:l}}function CT(e){var t=e.state,n=e.options,r=e.name,s=n.offset,i=s===void 0?[0,0]:s,a=Ey.reduce(function(u,p){return u[p]=bT(p,t.rects,i),u},{}),l=a[t.placement],c=l.x,d=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=d),t.modifiersData[r]=a}const wT={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:CT};function ST(e){var t=e.state,n=e.name;t.modifiersData[n]=Ay({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const jT={name:"popperOffsets",enabled:!0,phase:"read",fn:ST,data:{}};function kT(e){return e==="x"?"y":"x"}function _T(e){var t=e.state,n=e.options,r=e.name,s=n.mainAxis,i=s===void 0?!0:s,a=n.altAxis,l=a===void 0?!1:a,c=n.boundary,d=n.rootBoundary,u=n.altBoundary,p=n.padding,h=n.tether,g=h===void 0?!0:h,v=n.tetherOffset,m=v===void 0?0:v,y=_i(t,{boundary:c,rootBoundary:d,padding:p,altBoundary:u}),x=sr(t.placement),w=ho(t.placement),C=!w,j=tp(x),_=kT(j),S=t.modifiersData.popperOffsets,E=t.rects.reference,T=t.rects.popper,k=typeof m=="function"?m(Object.assign({},t.rects,{placement:t.placement})):m,M=typeof k=="number"?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),N=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,L={x:0,y:0};if(S){if(i){var R,P=j==="y"?cn:dn,D=j==="y"?Nn:An,I=j==="y"?"height":"width",O=S[j],z=O+y[P],$=O-y[D],A=g?-T[I]/2:0,H=w===co?E[I]:T[I],Y=w===co?-T[I]:-E[I],G=t.elements.arrow,J=g&&G?ep(G):{width:0,height:0},ae=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Iy(),V=ae[P],le=ae[D],ee=di(0,E[I],J[I]),X=C?E[I]/2-A-ee-V-M.mainAxis:H-ee-V-M.mainAxis,ie=C?-E[I]/2+A+ee+le+M.mainAxis:Y+ee+le+M.mainAxis,K=t.elements.arrow&&qi(t.elements.arrow),B=K?j==="y"?K.clientTop||0:K.clientLeft||0:0,F=(R=N==null?void 0:N[j])!=null?R:0,q=O+X-F-B,te=O+ie-F,ue=di(g?el(z,q):z,O,g?ds($,te):$);S[j]=ue,L[j]=ue-O}if(l){var Te,oe=j==="x"?cn:dn,ce=j==="x"?Nn:An,xe=S[_],ve=_==="y"?"height":"width",De=xe+y[oe],Me=xe-y[ce],Re=[cn,dn].indexOf(x)!==-1,Ct=(Te=N==null?void 0:N[_])!=null?Te:0,Nt=Re?De:xe-E[ve]-T[ve]-Ct+M.altAxis,At=Re?xe+E[ve]+T[ve]-Ct-M.altAxis:Me,Qe=g&&Re?Q_(Nt,xe,At):di(g?Nt:De,xe,g?At:Me);S[_]=Qe,L[_]=Qe-xe}t.modifiersData[r]=L}}const TT={name:"preventOverflow",enabled:!0,phase:"main",fn:_T,requiresIfExists:["offset"]};function ET(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function MT(e){return e===wn(e)||!In(e)?np(e):ET(e)}function PT(e){var t=e.getBoundingClientRect(),n=uo(t.width)/e.offsetWidth||1,r=uo(t.height)/e.offsetHeight||1;return n!==1||r!==1}function IT(e,t,n){n===void 0&&(n=!1);var r=In(t),s=In(t)&&PT(t),i=Qr(t),a=po(e,s,n),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((cr(t)!=="body"||sp(i))&&(l=MT(t)),In(t)?(c=po(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):i&&(c.x=rp(i))),{x:a.left+l.scrollLeft-c.x,y:a.top+l.scrollTop-c.y,width:a.width,height:a.height}}function RT(e){var t=new Map,n=new Set,r=[];e.forEach(function(i){t.set(i.name,i)});function s(i){n.add(i.name);var a=[].concat(i.requires||[],i.requiresIfExists||[]);a.forEach(function(l){if(!n.has(l)){var c=t.get(l);c&&s(c)}}),r.push(i)}return e.forEach(function(i){n.has(i.name)||s(i)}),r}function DT(e){var t=RT(e);return U_.reduce(function(n,r){return n.concat(t.filter(function(s){return s.phase===r}))},[])}function NT(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function AT(e){var t=e.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var Cf={placement:"bottom",modifiers:[],strategy:"absolute"};function wf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function $T(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,s=t.defaultOptions,i=s===void 0?Cf:s;return function(l,c,d){d===void 0&&(d=i);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Cf,i),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},p=[],h=!1,g={state:u,setOptions:function(x){var w=typeof x=="function"?x(u.options):x;m(),u.options=Object.assign({},i,u.options,w),u.scrollParents={reference:ys(l)?ui(l):l.contextElement?ui(l.contextElement):[],popper:ui(c)};var C=DT(AT([].concat(r,u.options.modifiers)));return u.orderedModifiers=C.filter(function(j){return j.enabled}),v(),g.update()},forceUpdate:function(){if(!h){var x=u.elements,w=x.reference,C=x.popper;if(wf(w,C)){u.rects={reference:IT(w,qi(C),u.options.strategy==="fixed"),popper:ep(C)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(M){return u.modifiersData[M.name]=Object.assign({},M.data)});for(var j=0;j<u.orderedModifiers.length;j++){if(u.reset===!0){u.reset=!1,j=-1;continue}var _=u.orderedModifiers[j],S=_.fn,E=_.options,T=E===void 0?{}:E,k=_.name;typeof S=="function"&&(u=S({state:u,options:T,name:k,instance:g})||u)}}}},update:NT(function(){return new Promise(function(y){g.forceUpdate(),y(u)})}),destroy:function(){m(),h=!0}};if(!wf(l,c))return g;g.setOptions(d).then(function(y){!h&&d.onFirstUpdate&&d.onFirstUpdate(y)});function v(){u.orderedModifiers.forEach(function(y){var x=y.name,w=y.options,C=w===void 0?{}:w,j=y.effect;if(typeof j=="function"){var _=j({state:u,name:x,instance:g,options:C}),S=function(){};p.push(_||S)}})}function m(){p.forEach(function(y){return y()}),p=[]}return g}}var OT=[iT,jT,sT,G_,wT,vT,TT,eT,xT],LT=$T({defaultModifiers:OT});function FT(e){return typeof e=="function"?e():e}const $y=f.forwardRef(function(t,n){const{children:r,container:s,disablePortal:i=!1}=t,[a,l]=f.useState(null),c=vt(f.isValidElement(r)?js(r):null,n);if(rn(()=>{i||l(FT(s)||document.body)},[s,i]),rn(()=>{if(a&&!i)return pd(n,a),()=>{pd(n,null)}},[n,a,i]),i){if(f.isValidElement(r)){const d={ref:c};return f.cloneElement(r,d)}return o.jsx(f.Fragment,{children:r})}return o.jsx(f.Fragment,{children:a&&Fm.createPortal(r,a)})});function zT(e){return pe("MuiPopper",e)}he("MuiPopper",["root"]);const BT=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],WT=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function HT(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function Dd(e){return typeof e=="function"?e():e}function UT(e){return e.nodeType!==void 0}const VT=e=>{const{classes:t}=e;return ge({root:["root"]},zT,t)},YT={},GT=f.forwardRef(function(t,n){var r;const{anchorEl:s,children:i,direction:a,disablePortal:l,modifiers:c,open:d,placement:u,popperOptions:p,popperRef:h,slotProps:g={},slots:v={},TransitionProps:m}=t,y=Z(t,BT),x=f.useRef(null),w=vt(x,n),C=f.useRef(null),j=vt(C,h),_=f.useRef(j);rn(()=>{_.current=j},[j]),f.useImperativeHandle(h,()=>C.current,[]);const S=HT(u,a),[E,T]=f.useState(S),[k,M]=f.useState(Dd(s));f.useEffect(()=>{C.current&&C.current.forceUpdate()}),f.useEffect(()=>{s&&M(Dd(s))},[s]),rn(()=>{if(!k||!d)return;const D=z=>{T(z.placement)};let I=[{name:"preventOverflow",options:{altBoundary:l}},{name:"flip",options:{altBoundary:l}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:z})=>{D(z)}}];c!=null&&(I=I.concat(c)),p&&p.modifiers!=null&&(I=I.concat(p.modifiers));const O=LT(k,x.current,b({placement:S},p,{modifiers:I}));return _.current(O),()=>{O.destroy(),_.current(null)}},[k,l,c,d,p,S]);const N={placement:E};m!==null&&(N.TransitionProps=m);const L=VT(t),R=(r=v.root)!=null?r:"div",P=Ur({elementType:R,externalSlotProps:g.root,externalForwardedProps:y,additionalProps:{role:"tooltip",ref:w},ownerState:t,className:L.root});return o.jsx(R,b({},P,{children:typeof i=="function"?i(N):i}))}),qT=f.forwardRef(function(t,n){const{anchorEl:r,children:s,container:i,direction:a="ltr",disablePortal:l=!1,keepMounted:c=!1,modifiers:d,open:u,placement:p="bottom",popperOptions:h=YT,popperRef:g,style:v,transition:m=!1,slotProps:y={},slots:x={}}=t,w=Z(t,WT),[C,j]=f.useState(!0),_=()=>{j(!1)},S=()=>{j(!0)};if(!c&&!u&&(!m||C))return null;let E;if(i)E=i;else if(r){const M=Dd(r);E=M&&UT(M)?Bt(M).body:Bt(null).body}const T=!u&&c&&(!m||C)?"none":void 0,k=m?{in:u,onEnter:_,onExited:S}:void 0;return o.jsx($y,{disablePortal:l,container:E,children:o.jsx(GT,b({anchorEl:r,direction:a,disablePortal:l,modifiers:d,ref:n,open:m?!C:u,placement:p,popperOptions:h,popperRef:g,slotProps:y,slots:x},w,{style:b({position:"fixed",top:0,left:0,display:T},v),TransitionProps:k,children:s}))})}),KT=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],QT=U(qT,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Oy=f.forwardRef(function(t,n){var r;const s=ky(),i=we({props:t,name:"MuiPopper"}),{anchorEl:a,component:l,components:c,componentsProps:d,container:u,disablePortal:p,keepMounted:h,modifiers:g,open:v,placement:m,popperOptions:y,popperRef:x,transition:w,slots:C,slotProps:j}=i,_=Z(i,KT),S=(r=C==null?void 0:C.root)!=null?r:c==null?void 0:c.Root,E=b({anchorEl:a,container:u,disablePortal:p,keepMounted:h,modifiers:g,open:v,placement:m,popperOptions:y,popperRef:x,transition:w},_);return o.jsx(QT,b({as:l,direction:s==null?void 0:s.direction,slots:{root:S},slotProps:j??d},E,{ref:n}))}),XT=fe(o.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function ZT(e){return pe("MuiChip",e)}const et=he("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),JT=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],eE=e=>{const{classes:t,disabled:n,size:r,color:s,iconColor:i,onDelete:a,clickable:l,variant:c}=e,d={root:["root",c,n&&"disabled",`size${Q(r)}`,`color${Q(s)}`,l&&"clickable",l&&`clickableColor${Q(s)}`,a&&"deletable",a&&`deletableColor${Q(s)}`,`${c}${Q(s)}`],label:["label",`label${Q(r)}`],avatar:["avatar",`avatar${Q(r)}`,`avatarColor${Q(s)}`],icon:["icon",`icon${Q(r)}`,`iconColor${Q(i)}`],deleteIcon:["deleteIcon",`deleteIcon${Q(r)}`,`deleteIconColor${Q(s)}`,`deleteIcon${Q(c)}Color${Q(s)}`]};return ge(d,ZT,t)},tE=U("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:r,iconColor:s,clickable:i,onDelete:a,size:l,variant:c}=n;return[{[`& .${et.avatar}`]:t.avatar},{[`& .${et.avatar}`]:t[`avatar${Q(l)}`]},{[`& .${et.avatar}`]:t[`avatarColor${Q(r)}`]},{[`& .${et.icon}`]:t.icon},{[`& .${et.icon}`]:t[`icon${Q(l)}`]},{[`& .${et.icon}`]:t[`iconColor${Q(s)}`]},{[`& .${et.deleteIcon}`]:t.deleteIcon},{[`& .${et.deleteIcon}`]:t[`deleteIcon${Q(l)}`]},{[`& .${et.deleteIcon}`]:t[`deleteIconColor${Q(r)}`]},{[`& .${et.deleteIcon}`]:t[`deleteIcon${Q(c)}Color${Q(r)}`]},t.root,t[`size${Q(l)}`],t[`color${Q(r)}`],i&&t.clickable,i&&r!=="default"&&t[`clickableColor${Q(r)})`],a&&t.deletable,a&&r!=="default"&&t[`deletableColor${Q(r)}`],t[c],t[`${c}${Q(r)}`]]}})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return b({maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${et.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${et.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:n,fontSize:e.typography.pxToRem(12)},[`& .${et.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${et.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${et.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${et.icon}`]:b({marginLeft:5,marginRight:-6},t.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},t.iconColor===t.color&&b({color:e.vars?e.vars.palette.Chip.defaultIconColor:n},t.color!=="default"&&{color:"inherit"})),[`& .${et.deleteIcon}`]:b({WebkitTapHighlightColor:"transparent",color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.26)`:ze(e.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:ze(e.palette.text.primary,.4)}},t.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},t.color!=="default"&&{color:e.vars?`rgba(${e.vars.palette[t.color].contrastTextChannel} / 0.7)`:ze(e.palette[t.color].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].contrastText}})},t.size==="small"&&{height:24},t.color!=="default"&&{backgroundColor:(e.vars||e).palette[t.color].main,color:(e.vars||e).palette[t.color].contrastText},t.onDelete&&{[`&.${et.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:ze(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},t.onDelete&&t.color!=="default"&&{[`&.${et.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}})},({theme:e,ownerState:t})=>b({},t.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:ze(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)},[`&.${et.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:ze(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},"&:active":{boxShadow:(e.vars||e).shadows[1]}},t.clickable&&t.color!=="default"&&{[`&:hover, &.${et.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}}),({theme:e,ownerState:t})=>b({},t.variant==="outlined"&&{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${et.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${et.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${et.avatar}`]:{marginLeft:4},[`& .${et.avatarSmall}`]:{marginLeft:2},[`& .${et.icon}`]:{marginLeft:4},[`& .${et.iconSmall}`]:{marginLeft:2},[`& .${et.deleteIcon}`]:{marginRight:5},[`& .${et.deleteIconSmall}`]:{marginRight:3}},t.variant==="outlined"&&t.color!=="default"&&{color:(e.vars||e).palette[t.color].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:ze(e.palette[t.color].main,.7)}`,[`&.${et.clickable}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ze(e.palette[t.color].main,e.palette.action.hoverOpacity)},[`&.${et.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.focusOpacity})`:ze(e.palette[t.color].main,e.palette.action.focusOpacity)},[`& .${et.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:ze(e.palette[t.color].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].main}}})),nE=U("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:r}=n;return[t.label,t[`label${Q(r)}`]]}})(({ownerState:e})=>b({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},e.variant==="outlined"&&{paddingLeft:11,paddingRight:11},e.size==="small"&&{paddingLeft:8,paddingRight:8},e.size==="small"&&e.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function Sf(e){return e.key==="Backspace"||e.key==="Delete"}const Tr=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiChip"}),{avatar:s,className:i,clickable:a,color:l="default",component:c,deleteIcon:d,disabled:u=!1,icon:p,label:h,onClick:g,onDelete:v,onKeyDown:m,onKeyUp:y,size:x="medium",variant:w="filled",tabIndex:C,skipFocusWhenDisabled:j=!1}=r,_=Z(r,JT),S=f.useRef(null),E=vt(S,n),T=$=>{$.stopPropagation(),v&&v($)},k=$=>{$.currentTarget===$.target&&Sf($)&&$.preventDefault(),m&&m($)},M=$=>{$.currentTarget===$.target&&(v&&Sf($)?v($):$.key==="Escape"&&S.current&&S.current.blur()),y&&y($)},N=a!==!1&&g?!0:a,L=N||v?Yr:c||"div",R=b({},r,{component:L,disabled:u,size:x,color:l,iconColor:f.isValidElement(p)&&p.props.color||l,onDelete:!!v,clickable:N,variant:w}),P=eE(R),D=L===Yr?b({component:c||"div",focusVisibleClassName:P.focusVisible},v&&{disableRipple:!0}):{};let I=null;v&&(I=d&&f.isValidElement(d)?f.cloneElement(d,{className:re(d.props.className,P.deleteIcon),onClick:T}):o.jsx(XT,{className:re(P.deleteIcon),onClick:T}));let O=null;s&&f.isValidElement(s)&&(O=f.cloneElement(s,{className:re(P.avatar,s.props.className)}));let z=null;return p&&f.isValidElement(p)&&(z=f.cloneElement(p,{className:re(P.icon,p.props.className)})),o.jsxs(tE,b({as:L,className:re(P.root,i),disabled:N&&u?!0:void 0,onClick:g,onKeyDown:k,onKeyUp:M,ref:E,tabIndex:j&&u?-1:C,ownerState:R},D,_,{children:[O||z,o.jsx(nE,{className:re(P.label),ownerState:R,children:h}),I]}))}),rE=["onChange","maxRows","minRows","style","value"];function la(e){return parseInt(e,10)||0}const sE={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function oE(e){for(const t in e)return!1;return!0}function jf(e){return oE(e)||e.outerHeightStyle===0&&!e.overflowing}const iE=f.forwardRef(function(t,n){const{onChange:r,maxRows:s,minRows:i=1,style:a,value:l}=t,c=Z(t,rE),{current:d}=f.useRef(l!=null),u=f.useRef(null),p=vt(n,u),h=f.useRef(null),g=f.useRef(null),v=f.useCallback(()=>{const C=u.current,j=g.current;if(!C||!j)return;const S=fs(C).getComputedStyle(C);if(S.width==="0px")return{outerHeightStyle:0,overflowing:!1};j.style.width=S.width,j.value=C.value||t.placeholder||"x",j.value.slice(-1)===`
`&&(j.value+=" ");const E=S.boxSizing,T=la(S.paddingBottom)+la(S.paddingTop),k=la(S.borderBottomWidth)+la(S.borderTopWidth),M=j.scrollHeight;j.value="x";const N=j.scrollHeight;let L=M;i&&(L=Math.max(Number(i)*N,L)),s&&(L=Math.min(Number(s)*N,L)),L=Math.max(L,N);const R=L+(E==="border-box"?T+k:0),P=Math.abs(L-M)<=1;return{outerHeightStyle:R,overflowing:P}},[s,i,t.placeholder]),m=Ne(()=>{const C=u.current,j=v();if(!C||!j||jf(j))return!1;const _=j.outerHeightStyle;return h.current!=null&&h.current!==_}),y=f.useCallback(()=>{const C=u.current,j=v();if(!C||!j||jf(j))return;const _=j.outerHeightStyle;h.current!==_&&(h.current=_,C.style.height=`${_}px`),C.style.overflow=j.overflowing?"hidden":""},[v]),x=f.useRef(-1);rn(()=>{const C=Lg(y),j=u==null?void 0:u.current;if(!j)return;const _=fs(j);_.addEventListener("resize",C);let S;return typeof ResizeObserver<"u"&&(S=new ResizeObserver(()=>{m()&&(S.unobserve(j),cancelAnimationFrame(x.current),y(),x.current=requestAnimationFrame(()=>{S.observe(j)}))}),S.observe(j)),()=>{C.clear(),cancelAnimationFrame(x.current),_.removeEventListener("resize",C),S&&S.disconnect()}},[v,y,m]),rn(()=>{y()});const w=C=>{d||y(),r&&r(C)};return o.jsxs(f.Fragment,{children:[o.jsx("textarea",b({value:l,onChange:w,ref:p,rows:i,style:a},c)),o.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:g,tabIndex:-1,style:b({},sE.shadow,a,{paddingTop:0,paddingBottom:0})})]})});function Xr({props:e,states:t,muiFormControl:n}){return t.reduce((r,s)=>(r[s]=e[s],n&&typeof e[s]>"u"&&(r[s]=n[s]),r),{})}const tc=f.createContext(void 0);function ur(){return f.useContext(tc)}function kf(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function tl(e,t=!1){return e&&(kf(e.value)&&e.value!==""||t&&kf(e.defaultValue)&&e.defaultValue!=="")}function aE(e){return e.startAdornment}function lE(e){return pe("MuiInputBase",e)}const fo=he("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),cE=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],nc=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,n.size==="small"&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${Q(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},rc=(e,t)=>{const{ownerState:n}=e;return[t.input,n.size==="small"&&t.inputSizeSmall,n.multiline&&t.inputMultiline,n.type==="search"&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},dE=e=>{const{classes:t,color:n,disabled:r,error:s,endAdornment:i,focused:a,formControl:l,fullWidth:c,hiddenLabel:d,multiline:u,readOnly:p,size:h,startAdornment:g,type:v}=e,m={root:["root",`color${Q(n)}`,r&&"disabled",s&&"error",c&&"fullWidth",a&&"focused",l&&"formControl",h&&h!=="medium"&&`size${Q(h)}`,u&&"multiline",g&&"adornedStart",i&&"adornedEnd",d&&"hiddenLabel",p&&"readOnly"],input:["input",r&&"disabled",v==="search"&&"inputTypeSearch",u&&"inputMultiline",h==="small"&&"inputSizeSmall",d&&"inputHiddenLabel",g&&"inputAdornedStart",i&&"inputAdornedEnd",p&&"readOnly"]};return ge(m,lE,t)},sc=U("div",{name:"MuiInputBase",slot:"Root",overridesResolver:nc})(({theme:e,ownerState:t})=>b({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${fo.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&b({padding:"4px 0 5px"},t.size==="small"&&{paddingTop:1}),t.fullWidth&&{width:"100%"})),oc=U("input",{name:"MuiInputBase",slot:"Input",overridesResolver:rc})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light",r=b({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),s={opacity:"0 !important"},i=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return b({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${fo.formControl} &`]:{"&::-webkit-input-placeholder":s,"&::-moz-placeholder":s,"&:-ms-input-placeholder":s,"&::-ms-input-placeholder":s,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus:-ms-input-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${fo.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},t.size==="small"&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},t.type==="search"&&{MozAppearance:"textfield"})}),uE=o.jsx(iv,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),op=f.forwardRef(function(t,n){var r;const s=we({props:t,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:a,autoFocus:l,className:c,components:d={},componentsProps:u={},defaultValue:p,disabled:h,disableInjectingGlobalStyles:g,endAdornment:v,fullWidth:m=!1,id:y,inputComponent:x="input",inputProps:w={},inputRef:C,maxRows:j,minRows:_,multiline:S=!1,name:E,onBlur:T,onChange:k,onClick:M,onFocus:N,onKeyDown:L,onKeyUp:R,placeholder:P,readOnly:D,renderSuffix:I,rows:O,slotProps:z={},slots:$={},startAdornment:A,type:H="text",value:Y}=s,G=Z(s,cE),J=w.value!=null?w.value:Y,{current:ae}=f.useRef(J!=null),V=f.useRef(),le=f.useCallback(Qe=>{},[]),ee=vt(V,C,w.ref,le),[X,ie]=f.useState(!1),K=ur(),B=Xr({props:s,muiFormControl:K,states:["color","disabled","error","hiddenLabel","size","required","filled"]});B.focused=K?K.focused:X,f.useEffect(()=>{!K&&h&&X&&(ie(!1),T&&T())},[K,h,X,T]);const F=K&&K.onFilled,q=K&&K.onEmpty,te=f.useCallback(Qe=>{tl(Qe)?F&&F():q&&q()},[F,q]);rn(()=>{ae&&te({value:J})},[J,te,ae]);const ue=Qe=>{if(B.disabled){Qe.stopPropagation();return}N&&N(Qe),w.onFocus&&w.onFocus(Qe),K&&K.onFocus?K.onFocus(Qe):ie(!0)},Te=Qe=>{T&&T(Qe),w.onBlur&&w.onBlur(Qe),K&&K.onBlur?K.onBlur(Qe):ie(!1)},oe=(Qe,...ke)=>{if(!ae){const Et=Qe.target||V.current;if(Et==null)throw new Error(Sr(1));te({value:Et.value})}w.onChange&&w.onChange(Qe,...ke),k&&k(Qe,...ke)};f.useEffect(()=>{te(V.current)},[]);const ce=Qe=>{V.current&&Qe.currentTarget===Qe.target&&V.current.focus(),M&&M(Qe)};let xe=x,ve=w;S&&xe==="input"&&(O?ve=b({type:void 0,minRows:O,maxRows:O},ve):ve=b({type:void 0,maxRows:j,minRows:_},ve),xe=iE);const De=Qe=>{te(Qe.animationName==="mui-auto-fill-cancel"?V.current:{value:"x"})};f.useEffect(()=>{K&&K.setAdornedStart(!!A)},[K,A]);const Me=b({},s,{color:B.color||"primary",disabled:B.disabled,endAdornment:v,error:B.error,focused:B.focused,formControl:K,fullWidth:m,hiddenLabel:B.hiddenLabel,multiline:S,size:B.size,startAdornment:A,type:H}),Re=dE(Me),Ct=$.root||d.Root||sc,Nt=z.root||u.root||{},At=$.input||d.Input||oc;return ve=b({},ve,(r=z.input)!=null?r:u.input),o.jsxs(f.Fragment,{children:[!g&&uE,o.jsxs(Ct,b({},Nt,!ro(Ct)&&{ownerState:b({},Me,Nt.ownerState)},{ref:n,onClick:ce},G,{className:re(Re.root,Nt.className,c,D&&"MuiInputBase-readOnly"),children:[A,o.jsx(tc.Provider,{value:null,children:o.jsx(At,b({ownerState:Me,"aria-invalid":B.error,"aria-describedby":i,autoComplete:a,autoFocus:l,defaultValue:p,disabled:B.disabled,id:y,onAnimationStart:De,name:E,placeholder:P,readOnly:D,required:B.required,rows:O,value:J,onKeyDown:L,onKeyUp:R,type:H},ve,!ro(At)&&{as:xe,ownerState:b({},Me,ve.ownerState)},{ref:ee,className:re(Re.input,ve.className,D&&"MuiInputBase-readOnly"),onBlur:Te,onChange:oe,onFocus:ue}))}),v,I?I(b({},B,{startAdornment:A})):null]}))]})});function pE(e){return pe("MuiInput",e)}const Go=b({},fo,he("MuiInput",["root","underline","input"]));function hE(e){return pe("MuiOutlinedInput",e)}const Dr=b({},fo,he("MuiOutlinedInput",["root","notchedOutline","input"]));function fE(e){return pe("MuiFilledInput",e)}const Jr=b({},fo,he("MuiFilledInput",["root","underline","input"])),mE=fe(o.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),gE=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],vE={entering:{opacity:1},entered:{opacity:1}},Ki=f.forwardRef(function(t,n){const r=Vn(),s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:i,appear:a=!0,children:l,easing:c,in:d,onEnter:u,onEntered:p,onEntering:h,onExit:g,onExited:v,onExiting:m,style:y,timeout:x=s,TransitionComponent:w=Fn}=t,C=Z(t,gE),j=f.useRef(null),_=vt(j,js(l),n),S=P=>D=>{if(P){const I=j.current;D===void 0?P(I):P(I,D)}},E=S(h),T=S((P,D)=>{jy(P);const I=lo({style:y,timeout:x,easing:c},{mode:"enter"});P.style.webkitTransition=r.transitions.create("opacity",I),P.style.transition=r.transitions.create("opacity",I),u&&u(P,D)}),k=S(p),M=S(m),N=S(P=>{const D=lo({style:y,timeout:x,easing:c},{mode:"exit"});P.style.webkitTransition=r.transitions.create("opacity",D),P.style.transition=r.transitions.create("opacity",D),g&&g(P)}),L=S(v),R=P=>{i&&i(j.current,P)};return o.jsx(w,b({appear:a,in:d,nodeRef:j,onEnter:T,onEntered:k,onEntering:E,onExit:N,onExited:L,onExiting:M,addEndListener:R,timeout:x},C,{children:(P,D)=>f.cloneElement(l,b({style:b({opacity:0,visibility:P==="exited"&&!d?"hidden":void 0},vE[P],y,l.props.style),ref:_},D))}))});function yE(e){return pe("MuiBackdrop",e)}he("MuiBackdrop",["root","invisible"]);const xE=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],bE=e=>{const{classes:t,invisible:n}=e;return ge({root:["root",n&&"invisible"]},yE,t)},CE=U("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})(({ownerState:e})=>b({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"})),Ly=f.forwardRef(function(t,n){var r,s,i;const a=we({props:t,name:"MuiBackdrop"}),{children:l,className:c,component:d="div",components:u={},componentsProps:p={},invisible:h=!1,open:g,slotProps:v={},slots:m={},TransitionComponent:y=Ki,transitionDuration:x}=a,w=Z(a,xE),C=b({},a,{component:d,invisible:h}),j=bE(C),_=(r=v.root)!=null?r:p.root;return o.jsx(y,b({in:g,timeout:x},w,{children:o.jsx(CE,b({"aria-hidden":!0},_,{as:(s=(i=m.root)!=null?i:u.Root)!=null?s:d,className:re(j.root,c,_==null?void 0:_.className),ownerState:b({},C,_==null?void 0:_.ownerState),classes:j,ref:n,children:l}))}))}),wE=he("MuiBox",["root"]),SE=ju(),ne=G1({themeId:ps,defaultTheme:SE,defaultClassName:wE.root,generateClassName:Eg.generate});function jE(e){return pe("MuiButton",e)}const ca=he("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),kE=f.createContext({}),_E=f.createContext(void 0),TE=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],EE=e=>{const{color:t,disableElevation:n,fullWidth:r,size:s,variant:i,classes:a}=e,l={root:["root",i,`${i}${Q(t)}`,`size${Q(s)}`,`${i}Size${Q(s)}`,`color${Q(t)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${Q(s)}`],endIcon:["icon","endIcon",`iconSize${Q(s)}`]},c=ge(l,jE,a);return b({},a,c)},Fy=e=>b({},e.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},e.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},e.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),ME=U(Yr,{shouldForwardProp:e=>hn(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${Q(n.color)}`],t[`size${Q(n.size)}`],t[`${n.variant}Size${Q(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(({theme:e,ownerState:t})=>{var n,r;const s=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],i=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return b({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":b({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:ze(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="text"&&t.color!=="inherit"&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ze(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="outlined"&&t.color!=="inherit"&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ze(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="contained"&&{backgroundColor:e.vars?e.vars.palette.Button.inheritContainedHoverBg:i,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},t.variant==="contained"&&t.color!=="inherit"&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":b({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${ca.focusVisible}`]:b({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${ca.disabled}`]:b({color:(e.vars||e).palette.action.disabled},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},t.variant==="contained"&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},t.variant==="text"&&{padding:"6px 8px"},t.variant==="text"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main},t.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},t.variant==="outlined"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${ze(e.palette[t.color].main,.5)}`},t.variant==="contained"&&{color:e.vars?e.vars.palette.text.primary:(n=(r=e.palette).getContrastText)==null?void 0:n.call(r,e.palette.grey[300]),backgroundColor:e.vars?e.vars.palette.Button.inheritContainedBg:s,boxShadow:(e.vars||e).shadows[2]},t.variant==="contained"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},t.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},t.size==="small"&&t.variant==="text"&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="text"&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="outlined"&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="outlined"&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="contained"&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="contained"&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${ca.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${ca.disabled}`]:{boxShadow:"none"}}),PE=U("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${Q(n.size)}`]]}})(({ownerState:e})=>b({display:"inherit",marginRight:8,marginLeft:-4},e.size==="small"&&{marginLeft:-2},Fy(e))),IE=U("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${Q(n.size)}`]]}})(({ownerState:e})=>b({display:"inherit",marginRight:-4,marginLeft:8},e.size==="small"&&{marginRight:-2},Fy(e))),_e=f.forwardRef(function(t,n){const r=f.useContext(kE),s=f.useContext(_E),i=bi(r,t),a=we({props:i,name:"MuiButton"}),{children:l,color:c="primary",component:d="button",className:u,disabled:p=!1,disableElevation:h=!1,disableFocusRipple:g=!1,endIcon:v,focusVisibleClassName:m,fullWidth:y=!1,size:x="medium",startIcon:w,type:C,variant:j="text"}=a,_=Z(a,TE),S=b({},a,{color:c,component:d,disabled:p,disableElevation:h,disableFocusRipple:g,fullWidth:y,size:x,type:C,variant:j}),E=EE(S),T=w&&o.jsx(PE,{className:E.startIcon,ownerState:S,children:w}),k=v&&o.jsx(IE,{className:E.endIcon,ownerState:S,children:v}),M=s||"";return o.jsxs(ME,b({ownerState:S,className:re(r.className,E.root,u,M),component:d,disabled:p,focusRipple:!g,focusVisibleClassName:re(E.focusVisible,m),ref:n,type:C},_,{classes:E,children:[T,l,k]}))});function RE(e){return pe("MuiCard",e)}he("MuiCard",["root"]);const DE=["className","raised"],NE=e=>{const{classes:t}=e;return ge({root:["root"]},RE,t)},AE=U(fn,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),ot=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiCard"}),{className:s,raised:i=!1}=r,a=Z(r,DE),l=b({},r,{raised:i}),c=NE(l);return o.jsx(AE,b({className:re(c.root,s),elevation:i?8:void 0,ref:n,ownerState:l},a))});function $E(e){return pe("MuiCardActions",e)}he("MuiCardActions",["root","spacing"]);const OE=["disableSpacing","className"],LE=e=>{const{classes:t,disableSpacing:n}=e;return ge({root:["root",!n&&"spacing"]},$E,t)},FE=U("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})(({ownerState:e})=>b({display:"flex",alignItems:"center",padding:8},!e.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),zE=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiCardActions"}),{disableSpacing:s=!1,className:i}=r,a=Z(r,OE),l=b({},r,{disableSpacing:s}),c=LE(l);return o.jsx(FE,b({className:re(c.root,i),ownerState:l,ref:n},a))});function BE(e){return pe("MuiCardContent",e)}he("MuiCardContent",["root"]);const WE=["className","component"],HE=e=>{const{classes:t}=e;return ge({root:["root"]},BE,t)},UE=U("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),it=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiCardContent"}),{className:s,component:i="div"}=r,a=Z(r,WE),l=b({},r,{component:i}),c=HE(l);return o.jsx(UE,b({as:i,className:re(c.root,s),ownerState:l,ref:n},a))});function VE(e){return pe("PrivateSwitchBase",e)}he("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const YE=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],GE=e=>{const{classes:t,checked:n,disabled:r,edge:s}=e,i={root:["root",n&&"checked",r&&"disabled",s&&`edge${Q(s)}`],input:["input"]};return ge(i,VE,t)},qE=U(Yr,{name:"MuiSwitchBase"})(({ownerState:e})=>b({padding:9,borderRadius:"50%"},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12})),KE=U("input",{name:"MuiSwitchBase",shouldForwardProp:hn})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),zy=f.forwardRef(function(t,n){const{autoFocus:r,checked:s,checkedIcon:i,className:a,defaultChecked:l,disabled:c,disableFocusRipple:d=!1,edge:u=!1,icon:p,id:h,inputProps:g,inputRef:v,name:m,onBlur:y,onChange:x,onFocus:w,readOnly:C,required:j=!1,tabIndex:_,type:S,value:E}=t,T=Z(t,YE),[k,M]=lr({controlled:s,default:!!l,name:"SwitchBase",state:"checked"}),N=ur(),L=$=>{w&&w($),N&&N.onFocus&&N.onFocus($)},R=$=>{y&&y($),N&&N.onBlur&&N.onBlur($)},P=$=>{if($.nativeEvent.defaultPrevented)return;const A=$.target.checked;M(A),x&&x($,A)};let D=c;N&&typeof D>"u"&&(D=N.disabled);const I=S==="checkbox"||S==="radio",O=b({},t,{checked:k,disabled:D,disableFocusRipple:d,edge:u}),z=GE(O);return o.jsxs(qE,b({component:"span",className:re(z.root,a),centerRipple:!0,focusRipple:!d,disabled:D,tabIndex:null,role:void 0,onFocus:L,onBlur:R,ownerState:O,ref:n},T,{children:[o.jsx(KE,b({autoFocus:r,checked:s,defaultChecked:l,className:z.input,disabled:D,id:I?h:void 0,name:m,onChange:P,readOnly:C,ref:v,required:j,ownerState:O,tabIndex:_,type:S},S==="checkbox"&&E===void 0?{}:{value:E},g)),k?i:p]}))}),QE=fe(o.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),XE=fe(o.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),ZE=fe(o.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function JE(e){return pe("MuiCheckbox",e)}const zc=he("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),eM=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],tM=e=>{const{classes:t,indeterminate:n,color:r,size:s}=e,i={root:["root",n&&"indeterminate",`color${Q(r)}`,`size${Q(s)}`]},a=ge(i,JE,t);return b({},t,a)},nM=U(zy,{shouldForwardProp:e=>hn(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,t[`size${Q(n.size)}`],n.color!=="default"&&t[`color${Q(n.color)}`]]}})(({theme:e,ownerState:t})=>b({color:(e.vars||e).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${t.color==="default"?e.vars.palette.action.activeChannel:e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ze(t.color==="default"?e.palette.action.active:e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${zc.checked}, &.${zc.indeterminate}`]:{color:(e.vars||e).palette[t.color].main},[`&.${zc.disabled}`]:{color:(e.vars||e).palette.action.disabled}})),rM=o.jsx(XE,{}),sM=o.jsx(QE,{}),oM=o.jsx(ZE,{}),iM=f.forwardRef(function(t,n){var r,s;const i=we({props:t,name:"MuiCheckbox"}),{checkedIcon:a=rM,color:l="primary",icon:c=sM,indeterminate:d=!1,indeterminateIcon:u=oM,inputProps:p,size:h="medium",className:g}=i,v=Z(i,eM),m=d?u:c,y=d?u:a,x=b({},i,{color:l,indeterminate:d,size:h}),w=tM(x);return o.jsx(nM,b({type:"checkbox",inputProps:b({"data-indeterminate":d},p),icon:f.cloneElement(m,{fontSize:(r=m.props.fontSize)!=null?r:h}),checkedIcon:f.cloneElement(y,{fontSize:(s=y.props.fontSize)!=null?s:h}),ownerState:x,ref:n,className:re(w.root,g)},v,{classes:w}))});function aM(e){return pe("MuiCircularProgress",e)}he("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const lM=["className","color","disableShrink","size","style","thickness","value","variant"];let ic=e=>e,_f,Tf,Ef,Mf;const Nr=44,cM=Ir(_f||(_f=ic`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),dM=Ir(Tf||(Tf=ic`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),uM=e=>{const{classes:t,variant:n,color:r,disableShrink:s}=e,i={root:["root",n,`color${Q(r)}`],svg:["svg"],circle:["circle",`circle${Q(n)}`,s&&"circleDisableShrink"]};return ge(i,aM,t)},pM=U("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${Q(n.color)}`]]}})(({ownerState:e,theme:t})=>b({display:"inline-block"},e.variant==="determinate"&&{transition:t.transitions.create("transform")},e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main}),({ownerState:e})=>e.variant==="indeterminate"&&Ss(Ef||(Ef=ic`
      animation: ${0} 1.4s linear infinite;
    `),cM)),hM=U("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),fM=U("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${Q(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(({ownerState:e,theme:t})=>b({stroke:"currentColor"},e.variant==="determinate"&&{transition:t.transitions.create("stroke-dashoffset")},e.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink&&Ss(Mf||(Mf=ic`
      animation: ${0} 1.4s ease-in-out infinite;
    `),dM)),Cn=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiCircularProgress"}),{className:s,color:i="primary",disableShrink:a=!1,size:l=40,style:c,thickness:d=3.6,value:u=0,variant:p="indeterminate"}=r,h=Z(r,lM),g=b({},r,{color:i,disableShrink:a,size:l,thickness:d,value:u,variant:p}),v=uM(g),m={},y={},x={};if(p==="determinate"){const w=2*Math.PI*((Nr-d)/2);m.strokeDasharray=w.toFixed(3),x["aria-valuenow"]=Math.round(u),m.strokeDashoffset=`${((100-u)/100*w).toFixed(3)}px`,y.transform="rotate(-90deg)"}return o.jsx(pM,b({className:re(v.root,s),style:b({width:l,height:l},y,c),ownerState:g,ref:n,role:"progressbar"},x,h,{children:o.jsx(hM,{className:v.svg,ownerState:g,viewBox:`${Nr/2} ${Nr/2} ${Nr} ${Nr}`,children:o.jsx(fM,{className:v.circle,style:m,ownerState:g,cx:Nr,cy:Nr,r:(Nr-d)/2,fill:"none",strokeWidth:d})})}))});function Pf(e){return e.substring(2).toLowerCase()}function mM(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function gM(e){const{children:t,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:s,touchEvent:i="onTouchEnd"}=e,a=f.useRef(!1),l=f.useRef(null),c=f.useRef(!1),d=f.useRef(!1);f.useEffect(()=>(setTimeout(()=>{c.current=!0},0),()=>{c.current=!1}),[]);const u=vt(js(t),l),p=Ne(v=>{const m=d.current;d.current=!1;const y=Bt(l.current);if(!c.current||!l.current||"clientX"in v&&mM(v,y))return;if(a.current){a.current=!1;return}let x;v.composedPath?x=v.composedPath().indexOf(l.current)>-1:x=!y.documentElement.contains(v.target)||l.current.contains(v.target),!x&&(n||!m)&&s(v)}),h=v=>m=>{d.current=!0;const y=t.props[v];y&&y(m)},g={ref:u};return i!==!1&&(g[i]=h(i)),f.useEffect(()=>{if(i!==!1){const v=Pf(i),m=Bt(l.current),y=()=>{a.current=!0};return m.addEventListener(v,p),m.addEventListener("touchmove",y),()=>{m.removeEventListener(v,p),m.removeEventListener("touchmove",y)}}},[p,i]),r!==!1&&(g[r]=h(r)),f.useEffect(()=>{if(r!==!1){const v=Pf(r),m=Bt(l.current);return m.addEventListener(v,p),()=>{m.removeEventListener(v,p)}}},[p,r]),o.jsx(f.Fragment,{children:f.cloneElement(t,g)})}const By=VC({createStyledComponent:U("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${Q(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>we({props:e,name:"MuiContainer"})});function vM(e){const t=Bt(e);return t.body===e?fs(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function pi(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function If(e){return parseInt(fs(e).getComputedStyle(e).paddingRight,10)||0}function yM(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName)!==-1,r=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||r}function Rf(e,t,n,r,s){const i=[t,n,...r];[].forEach.call(e.children,a=>{const l=i.indexOf(a)===-1,c=!yM(a);l&&c&&pi(a,s)})}function Bc(e,t){let n=-1;return e.some((r,s)=>t(r)?(n=s,!0):!1),n}function xM(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(vM(r)){const a=zg(Bt(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${If(r)+a}px`;const l=Bt(r).querySelectorAll(".mui-fixed");[].forEach.call(l,c=>{n.push({value:c.style.paddingRight,property:"padding-right",el:c}),c.style.paddingRight=`${If(c)+a}px`})}let i;if(r.parentNode instanceof DocumentFragment)i=Bt(r).body;else{const a=r.parentElement,l=fs(r);i=(a==null?void 0:a.nodeName)==="HTML"&&l.getComputedStyle(a).overflowY==="scroll"?a:r}n.push({value:i.style.overflow,property:"overflow",el:i},{value:i.style.overflowX,property:"overflow-x",el:i},{value:i.style.overflowY,property:"overflow-y",el:i}),i.style.overflow="hidden"}return()=>{n.forEach(({value:i,el:a,property:l})=>{i?a.style.setProperty(l,i):a.style.removeProperty(l)})}}function bM(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class CM{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(t,n){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&pi(t.modalRef,!1);const s=bM(n);Rf(n,t.mount,t.modalRef,s,!0);const i=Bc(this.containers,a=>a.container===n);return i!==-1?(this.containers[i].modals.push(t),r):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:s}),r)}mount(t,n){const r=Bc(this.containers,i=>i.modals.indexOf(t)!==-1),s=this.containers[r];s.restore||(s.restore=xM(s,n))}remove(t,n=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const s=Bc(this.containers,a=>a.modals.indexOf(t)!==-1),i=this.containers[s];if(i.modals.splice(i.modals.indexOf(t),1),this.modals.splice(r,1),i.modals.length===0)i.restore&&i.restore(),t.modalRef&&pi(t.modalRef,n),Rf(i.container,t.mount,t.modalRef,i.hiddenSiblings,!1),this.containers.splice(s,1);else{const a=i.modals[i.modals.length-1];a.modalRef&&pi(a.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const wM=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function SM(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function jM(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=r=>e.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function kM(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||jM(e))}function _M(e){const t=[],n=[];return Array.from(e.querySelectorAll(wM)).forEach((r,s)=>{const i=SM(r);i===-1||!kM(r)||(i===0?t.push(r):n.push({documentOrder:s,tabIndex:i,node:r}))}),n.sort((r,s)=>r.tabIndex===s.tabIndex?r.documentOrder-s.documentOrder:r.tabIndex-s.tabIndex).map(r=>r.node).concat(t)}function TM(){return!0}function EM(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:s=!1,getTabbable:i=_M,isEnabled:a=TM,open:l}=e,c=f.useRef(!1),d=f.useRef(null),u=f.useRef(null),p=f.useRef(null),h=f.useRef(null),g=f.useRef(!1),v=f.useRef(null),m=vt(js(t),v),y=f.useRef(null);f.useEffect(()=>{!l||!v.current||(g.current=!n)},[n,l]),f.useEffect(()=>{if(!l||!v.current)return;const C=Bt(v.current);return v.current.contains(C.activeElement)||(v.current.hasAttribute("tabIndex")||v.current.setAttribute("tabIndex","-1"),g.current&&v.current.focus()),()=>{s||(p.current&&p.current.focus&&(c.current=!0,p.current.focus()),p.current=null)}},[l]),f.useEffect(()=>{if(!l||!v.current)return;const C=Bt(v.current),j=E=>{y.current=E,!(r||!a()||E.key!=="Tab")&&C.activeElement===v.current&&E.shiftKey&&(c.current=!0,u.current&&u.current.focus())},_=()=>{const E=v.current;if(E===null)return;if(!C.hasFocus()||!a()||c.current){c.current=!1;return}if(E.contains(C.activeElement)||r&&C.activeElement!==d.current&&C.activeElement!==u.current)return;if(C.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!g.current)return;let T=[];if((C.activeElement===d.current||C.activeElement===u.current)&&(T=i(v.current)),T.length>0){var k,M;const N=!!((k=y.current)!=null&&k.shiftKey&&((M=y.current)==null?void 0:M.key)==="Tab"),L=T[0],R=T[T.length-1];typeof L!="string"&&typeof R!="string"&&(N?R.focus():L.focus())}else E.focus()};C.addEventListener("focusin",_),C.addEventListener("keydown",j,!0);const S=setInterval(()=>{C.activeElement&&C.activeElement.tagName==="BODY"&&_()},50);return()=>{clearInterval(S),C.removeEventListener("focusin",_),C.removeEventListener("keydown",j,!0)}},[n,r,s,a,l,i]);const x=C=>{p.current===null&&(p.current=C.relatedTarget),g.current=!0,h.current=C.target;const j=t.props.onFocus;j&&j(C)},w=C=>{p.current===null&&(p.current=C.relatedTarget),g.current=!0};return o.jsxs(f.Fragment,{children:[o.jsx("div",{tabIndex:l?0:-1,onFocus:w,ref:d,"data-testid":"sentinelStart"}),f.cloneElement(t,{ref:m,onFocus:x}),o.jsx("div",{tabIndex:l?0:-1,onFocus:w,ref:u,"data-testid":"sentinelEnd"})]})}function MM(e){return typeof e=="function"?e():e}function PM(e){return e?e.props.hasOwnProperty("in"):!1}const IM=new CM;function RM(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:s=IM,closeAfterTransition:i=!1,onTransitionEnter:a,onTransitionExited:l,children:c,onClose:d,open:u,rootRef:p}=e,h=f.useRef({}),g=f.useRef(null),v=f.useRef(null),m=vt(v,p),[y,x]=f.useState(!u),w=PM(c);let C=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(C=!1);const j=()=>Bt(g.current),_=()=>(h.current.modalRef=v.current,h.current.mount=g.current,h.current),S=()=>{s.mount(_(),{disableScrollLock:r}),v.current&&(v.current.scrollTop=0)},E=Ne(()=>{const I=MM(t)||j().body;s.add(_(),I),v.current&&S()}),T=f.useCallback(()=>s.isTopModal(_()),[s]),k=Ne(I=>{g.current=I,I&&(u&&T()?S():v.current&&pi(v.current,C))}),M=f.useCallback(()=>{s.remove(_(),C)},[C,s]);f.useEffect(()=>()=>{M()},[M]),f.useEffect(()=>{u?E():(!w||!i)&&M()},[u,M,w,i,E]);const N=I=>O=>{var z;(z=I.onKeyDown)==null||z.call(I,O),!(O.key!=="Escape"||O.which===229||!T())&&(n||(O.stopPropagation(),d&&d(O,"escapeKeyDown")))},L=I=>O=>{var z;(z=I.onClick)==null||z.call(I,O),O.target===O.currentTarget&&d&&d(O,"backdropClick")};return{getRootProps:(I={})=>{const O=Fa(e);delete O.onTransitionEnter,delete O.onTransitionExited;const z=b({},O,I);return b({role:"presentation"},z,{onKeyDown:N(z),ref:m})},getBackdropProps:(I={})=>{const O=I;return b({"aria-hidden":!0},O,{onClick:L(O),open:u})},getTransitionProps:()=>{const I=()=>{x(!1),a&&a()},O=()=>{x(!0),l&&l(),i&&M()};return{onEnter:th(I,c==null?void 0:c.props.onEnter),onExited:th(O,c==null?void 0:c.props.onExited)}},rootRef:m,portalRef:k,isTopModal:T,exited:y,hasTransition:w}}function DM(e){return pe("MuiModal",e)}he("MuiModal",["root","hidden","backdrop"]);const NM=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],AM=e=>{const{open:t,exited:n,classes:r}=e;return ge({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},DM,r)},$M=U("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(({theme:e,ownerState:t})=>b({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"})),OM=U(Ly,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),Wy=f.forwardRef(function(t,n){var r,s,i,a,l,c;const d=we({name:"MuiModal",props:t}),{BackdropComponent:u=OM,BackdropProps:p,className:h,closeAfterTransition:g=!1,children:v,container:m,component:y,components:x={},componentsProps:w={},disableAutoFocus:C=!1,disableEnforceFocus:j=!1,disableEscapeKeyDown:_=!1,disablePortal:S=!1,disableRestoreFocus:E=!1,disableScrollLock:T=!1,hideBackdrop:k=!1,keepMounted:M=!1,onBackdropClick:N,open:L,slotProps:R,slots:P}=d,D=Z(d,NM),I=b({},d,{closeAfterTransition:g,disableAutoFocus:C,disableEnforceFocus:j,disableEscapeKeyDown:_,disablePortal:S,disableRestoreFocus:E,disableScrollLock:T,hideBackdrop:k,keepMounted:M}),{getRootProps:O,getBackdropProps:z,getTransitionProps:$,portalRef:A,isTopModal:H,exited:Y,hasTransition:G}=RM(b({},I,{rootRef:n})),J=b({},I,{exited:Y}),ae=AM(J),V={};if(v.props.tabIndex===void 0&&(V.tabIndex="-1"),G){const{onEnter:F,onExited:q}=$();V.onEnter=F,V.onExited=q}const le=(r=(s=P==null?void 0:P.root)!=null?s:x.Root)!=null?r:$M,ee=(i=(a=P==null?void 0:P.backdrop)!=null?a:x.Backdrop)!=null?i:u,X=(l=R==null?void 0:R.root)!=null?l:w.root,ie=(c=R==null?void 0:R.backdrop)!=null?c:w.backdrop,K=Ur({elementType:le,externalSlotProps:X,externalForwardedProps:D,getSlotProps:O,additionalProps:{ref:n,as:y},ownerState:J,className:re(h,X==null?void 0:X.className,ae==null?void 0:ae.root,!J.open&&J.exited&&(ae==null?void 0:ae.hidden))}),B=Ur({elementType:ee,externalSlotProps:ie,additionalProps:p,getSlotProps:F=>z(b({},F,{onClick:q=>{N&&N(q),F!=null&&F.onClick&&F.onClick(q)}})),className:re(ie==null?void 0:ie.className,p==null?void 0:p.className,ae==null?void 0:ae.backdrop),ownerState:J});return!M&&!L&&(!G||Y)?null:o.jsx($y,{ref:A,container:m,disablePortal:S,children:o.jsxs(le,b({},K,{children:[!k&&u?o.jsx(ee,b({},B)):null,o.jsx(EM,{disableEnforceFocus:j,disableAutoFocus:C,disableRestoreFocus:E,isEnabled:H,open:L,children:f.cloneElement(v,V)})]}))})});function LM(e){return pe("MuiDialog",e)}const Wc=he("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Hy=f.createContext({}),FM=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],zM=U(Ly,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),BM=e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:s,fullScreen:i}=e,a={root:["root"],container:["container",`scroll${Q(n)}`],paper:["paper",`paperScroll${Q(n)}`,`paperWidth${Q(String(r))}`,s&&"paperFullWidth",i&&"paperFullScreen"]};return ge(a,LM,t)},WM=U(Wy,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),HM=U("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${Q(n.scroll)}`]]}})(({ownerState:e})=>b({height:"100%","@media print":{height:"auto"},outline:0},e.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},e.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),UM=U(fn,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${Q(n.scroll)}`],t[`paperWidth${Q(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})(({theme:e,ownerState:t})=>b({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},t.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},t.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!t.maxWidth&&{maxWidth:"calc(100% - 64px)"},t.maxWidth==="xs"&&{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${Wc.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.maxWidth&&t.maxWidth!=="xs"&&{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`,[`&.${Wc.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.fullWidth&&{width:"calc(100% - 64px)"},t.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Wc.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),or=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiDialog"}),s=Vn(),i={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{"aria-describedby":a,"aria-labelledby":l,BackdropComponent:c,BackdropProps:d,children:u,className:p,disableEscapeKeyDown:h=!1,fullScreen:g=!1,fullWidth:v=!1,maxWidth:m="sm",onBackdropClick:y,onClick:x,onClose:w,open:C,PaperComponent:j=fn,PaperProps:_={},scroll:S="paper",TransitionComponent:E=Ki,transitionDuration:T=i,TransitionProps:k}=r,M=Z(r,FM),N=b({},r,{disableEscapeKeyDown:h,fullScreen:g,fullWidth:v,maxWidth:m,scroll:S}),L=BM(N),R=f.useRef(),P=z=>{R.current=z.target===z.currentTarget},D=z=>{x&&x(z),R.current&&(R.current=null,y&&y(z),w&&w(z,"backdropClick"))},I=ko(l),O=f.useMemo(()=>({titleId:I}),[I]);return o.jsx(WM,b({className:re(L.root,p),closeAfterTransition:!0,components:{Backdrop:zM},componentsProps:{backdrop:b({transitionDuration:T,as:c},d)},disableEscapeKeyDown:h,onClose:w,open:C,ref:n,onClick:D,ownerState:N},M,{children:o.jsx(E,b({appear:!0,in:C,timeout:T,role:"presentation"},k,{children:o.jsx(HM,{className:re(L.container),onMouseDown:P,ownerState:N,children:o.jsx(UM,b({as:j,elevation:24,role:"dialog","aria-describedby":a,"aria-labelledby":I},_,{className:re(L.paper,_.className),ownerState:N,children:o.jsx(Hy.Provider,{value:O,children:u})}))})}))}))});function VM(e){return pe("MuiDialogActions",e)}he("MuiDialogActions",["root","spacing"]);const YM=["className","disableSpacing"],GM=e=>{const{classes:t,disableSpacing:n}=e;return ge({root:["root",!n&&"spacing"]},VM,t)},qM=U("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})(({ownerState:e})=>b({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),br=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiDialogActions"}),{className:s,disableSpacing:i=!1}=r,a=Z(r,YM),l=b({},r,{disableSpacing:i}),c=GM(l);return o.jsx(qM,b({className:re(c.root,s),ownerState:l,ref:n},a))});function KM(e){return pe("MuiDialogContent",e)}he("MuiDialogContent",["root","dividers"]);function QM(e){return pe("MuiDialogTitle",e)}const XM=he("MuiDialogTitle",["root"]),ZM=["className","dividers"],JM=e=>{const{classes:t,dividers:n}=e;return ge({root:["root",n&&"dividers"]},KM,t)},eP=U("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(({theme:e,ownerState:t})=>b({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${XM.root} + &`]:{paddingTop:0}})),ir=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiDialogContent"}),{className:s,dividers:i=!1}=r,a=Z(r,ZM),l=b({},r,{dividers:i}),c=JM(l);return o.jsx(eP,b({className:re(c.root,s),ownerState:l,ref:n},a))}),tP=["className","id"],nP=e=>{const{classes:t}=e;return ge({root:["root"]},QM,t)},rP=U(W,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),Cr=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiDialogTitle"}),{className:s,id:i}=r,a=Z(r,tP),l=r,c=nP(l),{titleId:d=i}=f.useContext(Hy);return o.jsx(rP,b({component:"h2",className:re(c.root,s),ownerState:l,ref:n,variant:"h6",id:i??d},a))});function sP(e){return pe("MuiDivider",e)}const Df=he("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),oP=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],iP=e=>{const{absolute:t,children:n,classes:r,flexItem:s,light:i,orientation:a,textAlign:l,variant:c}=e;return ge({root:["root",t&&"absolute",c,i&&"light",a==="vertical"&&"vertical",s&&"flexItem",n&&"withChildren",n&&a==="vertical"&&"withChildrenVertical",l==="right"&&a!=="vertical"&&"textAlignRight",l==="left"&&a!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",a==="vertical"&&"wrapperVertical"]},sP,r)},aP=U("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,n.orientation==="vertical"&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&n.orientation==="vertical"&&t.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&t.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&t.textAlignLeft]}})(({theme:e,ownerState:t})=>b({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:ze(e.palette.divider,.08)},t.variant==="inset"&&{marginLeft:72},t.variant==="middle"&&t.orientation==="horizontal"&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},t.variant==="middle"&&t.orientation==="vertical"&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},t.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:e})=>b({},e.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:e,ownerState:t})=>b({},t.children&&t.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,borderTopStyle:"inherit"}}),({theme:e,ownerState:t})=>b({},t.children&&t.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`,borderLeftStyle:"inherit"}}),({ownerState:e})=>b({},e.textAlign==="right"&&e.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},e.textAlign==="left"&&e.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),lP=U("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,n.orientation==="vertical"&&t.wrapperVertical]}})(({theme:e,ownerState:t})=>b({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`},t.orientation==="vertical"&&{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`})),Lr=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiDivider"}),{absolute:s=!1,children:i,className:a,component:l=i?"div":"hr",flexItem:c=!1,light:d=!1,orientation:u="horizontal",role:p=l!=="hr"?"separator":void 0,textAlign:h="center",variant:g="fullWidth"}=r,v=Z(r,oP),m=b({},r,{absolute:s,component:l,flexItem:c,light:d,orientation:u,role:p,textAlign:h,variant:g}),y=iP(m);return o.jsx(aP,b({as:l,className:re(y.root,a),role:p,ref:n,ownerState:m},v,{children:i?o.jsx(lP,{className:y.wrapper,ownerState:m,children:i}):null}))});Lr.muiSkipListHighlight=!0;const cP=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],dP=e=>{const{classes:t,disableUnderline:n}=e,s=ge({root:["root",!n&&"underline"],input:["input"]},fE,t);return b({},t,s)},uP=U(sc,{shouldForwardProp:e=>hn(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...nc(e,t),!n.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{var n;const r=e.palette.mode==="light",s=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",a=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",l=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return b({position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:i,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:a,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:i}},[`&.${Jr.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:i},[`&.${Jr.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:l}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(e.vars||e).palette[t.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Jr.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Jr.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:s}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Jr.disabled}, .${Jr.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${Jr.disabled}:before`]:{borderBottomStyle:"dotted"}},t.startAdornment&&{paddingLeft:12},t.endAdornment&&{paddingRight:12},t.multiline&&b({padding:"25px 12px 8px"},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9}))}),pP=U(oc,{name:"MuiFilledInput",slot:"Input",overridesResolver:rc})(({theme:e,ownerState:t})=>b({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9},t.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),ip=f.forwardRef(function(t,n){var r,s,i,a;const l=we({props:t,name:"MuiFilledInput"}),{components:c={},componentsProps:d,fullWidth:u=!1,inputComponent:p="input",multiline:h=!1,slotProps:g,slots:v={},type:m="text"}=l,y=Z(l,cP),x=b({},l,{fullWidth:u,inputComponent:p,multiline:h,type:m}),w=dP(l),C={root:{ownerState:x},input:{ownerState:x}},j=g??d?nn(C,g??d):C,_=(r=(s=v.root)!=null?s:c.Root)!=null?r:uP,S=(i=(a=v.input)!=null?a:c.Input)!=null?i:pP;return o.jsx(op,b({slots:{root:_,input:S},componentsProps:j,fullWidth:u,inputComponent:p,multiline:h,ref:n,type:m},y,{classes:w}))});ip.muiName="Input";function hP(e){return pe("MuiFormControl",e)}he("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const fP=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],mP=e=>{const{classes:t,margin:n,fullWidth:r}=e,s={root:["root",n!=="none"&&`margin${Q(n)}`,r&&"fullWidth"]};return ge(s,hP,t)},gP=U("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:e},t)=>b({},t.root,t[`margin${Q(e.margin)}`],e.fullWidth&&t.fullWidth)})(({ownerState:e})=>b({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},e.margin==="normal"&&{marginTop:16,marginBottom:8},e.margin==="dense"&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"})),ar=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiFormControl"}),{children:s,className:i,color:a="primary",component:l="div",disabled:c=!1,error:d=!1,focused:u,fullWidth:p=!1,hiddenLabel:h=!1,margin:g="none",required:v=!1,size:m="medium",variant:y="outlined"}=r,x=Z(r,fP),w=b({},r,{color:a,component:l,disabled:c,error:d,fullWidth:p,hiddenLabel:h,margin:g,required:v,size:m,variant:y}),C=mP(w),[j,_]=f.useState(()=>{let R=!1;return s&&f.Children.forEach(s,P=>{if(!Ta(P,["Input","Select"]))return;const D=Ta(P,["Select"])?P.props.input:P;D&&aE(D.props)&&(R=!0)}),R}),[S,E]=f.useState(()=>{let R=!1;return s&&f.Children.forEach(s,P=>{Ta(P,["Input","Select"])&&(tl(P.props,!0)||tl(P.props.inputProps,!0))&&(R=!0)}),R}),[T,k]=f.useState(!1);c&&T&&k(!1);const M=u!==void 0&&!c?u:T;let N;const L=f.useMemo(()=>({adornedStart:j,setAdornedStart:_,color:a,disabled:c,error:d,filled:S,focused:M,fullWidth:p,hiddenLabel:h,size:m,onBlur:()=>{k(!1)},onEmpty:()=>{E(!1)},onFilled:()=>{E(!0)},onFocus:()=>{k(!0)},registerEffect:N,required:v,variant:y}),[j,a,c,d,S,M,p,h,N,v,m,y]);return o.jsx(tc.Provider,{value:L,children:o.jsx(gP,b({as:l,ownerState:w,className:re(C.root,i),ref:n},x,{children:s}))})}),Ls=JC({createStyledComponent:U("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>we({props:e,name:"MuiStack"})});function vP(e){return pe("MuiFormControlLabel",e)}const si=he("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),yP=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],xP=e=>{const{classes:t,disabled:n,labelPlacement:r,error:s,required:i}=e,a={root:["root",n&&"disabled",`labelPlacement${Q(r)}`,s&&"error",i&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",s&&"error"]};return ge(a,vP,t)},bP=U("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${si.label}`]:t.label},t.root,t[`labelPlacement${Q(n.labelPlacement)}`]]}})(({theme:e,ownerState:t})=>b({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${si.disabled}`]:{cursor:"default"}},t.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},t.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},t.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${si.label}`]:{[`&.${si.disabled}`]:{color:(e.vars||e).palette.text.disabled}}})),CP=U("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${si.error}`]:{color:(e.vars||e).palette.error.main}})),nl=f.forwardRef(function(t,n){var r,s;const i=we({props:t,name:"MuiFormControlLabel"}),{className:a,componentsProps:l={},control:c,disabled:d,disableTypography:u,label:p,labelPlacement:h="end",required:g,slotProps:v={}}=i,m=Z(i,yP),y=ur(),x=(r=d??c.props.disabled)!=null?r:y==null?void 0:y.disabled,w=g??c.props.required,C={disabled:x,required:w};["checked","name","onChange","value","inputRef"].forEach(k=>{typeof c.props[k]>"u"&&typeof i[k]<"u"&&(C[k]=i[k])});const j=Xr({props:i,muiFormControl:y,states:["error"]}),_=b({},i,{disabled:x,labelPlacement:h,required:w,error:j.error}),S=xP(_),E=(s=v.typography)!=null?s:l.typography;let T=p;return T!=null&&T.type!==W&&!u&&(T=o.jsx(W,b({component:"span"},E,{className:re(S.label,E==null?void 0:E.className),children:T}))),o.jsxs(bP,b({className:re(S.root,a),ownerState:_,ref:n},m,{children:[f.cloneElement(c,C),w?o.jsxs(Ls,{display:"block",children:[T,o.jsxs(CP,{ownerState:_,"aria-hidden":!0,className:S.asterisk,children:[" ","*"]})]}):T]}))});function wP(e){return pe("MuiFormGroup",e)}he("MuiFormGroup",["root","row","error"]);const SP=["className","row"],jP=e=>{const{classes:t,row:n,error:r}=e;return ge({root:["root",n&&"row",r&&"error"]},wP,t)},kP=U("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.row&&t.row]}})(({ownerState:e})=>b({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"})),_P=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiFormGroup"}),{className:s,row:i=!1}=r,a=Z(r,SP),l=ur(),c=Xr({props:r,muiFormControl:l,states:["error"]}),d=b({},r,{row:i,error:c.error}),u=jP(d);return o.jsx(kP,b({className:re(u.root,s),ownerState:d,ref:n},a))});function TP(e){return pe("MuiFormHelperText",e)}const Nf=he("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var Af;const EP=["children","className","component","disabled","error","filled","focused","margin","required","variant"],MP=e=>{const{classes:t,contained:n,size:r,disabled:s,error:i,filled:a,focused:l,required:c}=e,d={root:["root",s&&"disabled",i&&"error",r&&`size${Q(r)}`,n&&"contained",l&&"focused",a&&"filled",c&&"required"]};return ge(d,TP,t)},PP=U("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${Q(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})(({theme:e,ownerState:t})=>b({color:(e.vars||e).palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${Nf.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${Nf.error}`]:{color:(e.vars||e).palette.error.main}},t.size==="small"&&{marginTop:4},t.contained&&{marginLeft:14,marginRight:14})),IP=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiFormHelperText"}),{children:s,className:i,component:a="p"}=r,l=Z(r,EP),c=ur(),d=Xr({props:r,muiFormControl:c,states:["variant","size","disabled","error","filled","focused","required"]}),u=b({},r,{component:a,contained:d.variant==="filled"||d.variant==="outlined",variant:d.variant,size:d.size,disabled:d.disabled,error:d.error,filled:d.filled,focused:d.focused,required:d.required}),p=MP(u);return o.jsx(PP,b({as:a,ownerState:u,className:re(p.root,i),ref:n},l,{children:s===" "?Af||(Af=o.jsx("span",{className:"notranslate",children:"​"})):s}))});function RP(e){return pe("MuiFormLabel",e)}const hi=he("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),DP=["children","className","color","component","disabled","error","filled","focused","required"],NP=e=>{const{classes:t,color:n,focused:r,disabled:s,error:i,filled:a,required:l}=e,c={root:["root",`color${Q(n)}`,s&&"disabled",i&&"error",a&&"filled",r&&"focused",l&&"required"],asterisk:["asterisk",i&&"error"]};return ge(c,RP,t)},AP=U("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:e},t)=>b({},t.root,e.color==="secondary"&&t.colorSecondary,e.filled&&t.filled)})(({theme:e,ownerState:t})=>b({color:(e.vars||e).palette.text.secondary},e.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${hi.focused}`]:{color:(e.vars||e).palette[t.color].main},[`&.${hi.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${hi.error}`]:{color:(e.vars||e).palette.error.main}})),$P=U("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${hi.error}`]:{color:(e.vars||e).palette.error.main}})),Uy=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiFormLabel"}),{children:s,className:i,component:a="label"}=r,l=Z(r,DP),c=ur(),d=Xr({props:r,muiFormControl:c,states:["color","required","focused","disabled","error","filled"]}),u=b({},r,{color:d.color||"primary",component:a,disabled:d.disabled,error:d.error,filled:d.filled,focused:d.focused,required:d.required}),p=NP(u);return o.jsxs(AP,b({as:a,ownerState:u,className:re(p.root,i),ref:n},l,{children:[s,d.required&&o.jsxs($P,{ownerState:u,"aria-hidden":!0,className:p.asterisk,children:[" ","*"]})]}))}),$f=f.createContext();function OP(e){return pe("MuiGrid",e)}const LP=[0,1,2,3,4,5,6,7,8,9,10],FP=["column-reverse","column","row-reverse","row"],zP=["nowrap","wrap-reverse","wrap"],qo=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Ti=he("MuiGrid",["root","container","item","zeroMinWidth",...LP.map(e=>`spacing-xs-${e}`),...FP.map(e=>`direction-xs-${e}`),...zP.map(e=>`wrap-xs-${e}`),...qo.map(e=>`grid-xs-${e}`),...qo.map(e=>`grid-sm-${e}`),...qo.map(e=>`grid-md-${e}`),...qo.map(e=>`grid-lg-${e}`),...qo.map(e=>`grid-xl-${e}`)]),BP=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Ks(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function WP({theme:e,ownerState:t}){let n;return e.breakpoints.keys.reduce((r,s)=>{let i={};if(t[s]&&(n=t[s]),!n)return r;if(n===!0)i={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")i={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const a=cs({values:t.columns,breakpoints:e.breakpoints.values}),l=typeof a=="object"?a[s]:a;if(l==null)return r;const c=`${Math.round(n/l*1e8)/1e6}%`;let d={};if(t.container&&t.item&&t.columnSpacing!==0){const u=e.spacing(t.columnSpacing);if(u!=="0px"){const p=`calc(${c} + ${Ks(u)})`;d={flexBasis:p,maxWidth:p}}}i=b({flexBasis:c,flexGrow:0,maxWidth:c},d)}return e.breakpoints.values[s]===0?Object.assign(r,i):r[e.breakpoints.up(s)]=i,r},{})}function HP({theme:e,ownerState:t}){const n=cs({values:t.direction,breakpoints:e.breakpoints.values});return pn({theme:e},n,r=>{const s={flexDirection:r};return r.indexOf("column")===0&&(s[`& > .${Ti.item}`]={maxWidth:"none"}),s})}function Vy({breakpoints:e,values:t}){let n="";Object.keys(t).forEach(s=>{n===""&&t[s]!==0&&(n=s)});const r=Object.keys(e).sort((s,i)=>e[s]-e[i]);return r.slice(0,r.indexOf(n))}function UP({theme:e,ownerState:t}){const{container:n,rowSpacing:r}=t;let s={};if(n&&r!==0){const i=cs({values:r,breakpoints:e.breakpoints.values});let a;typeof i=="object"&&(a=Vy({breakpoints:e.breakpoints.values,values:i})),s=pn({theme:e},i,(l,c)=>{var d;const u=e.spacing(l);return u!=="0px"?{marginTop:`-${Ks(u)}`,[`& > .${Ti.item}`]:{paddingTop:Ks(u)}}:(d=a)!=null&&d.includes(c)?{}:{marginTop:0,[`& > .${Ti.item}`]:{paddingTop:0}}})}return s}function VP({theme:e,ownerState:t}){const{container:n,columnSpacing:r}=t;let s={};if(n&&r!==0){const i=cs({values:r,breakpoints:e.breakpoints.values});let a;typeof i=="object"&&(a=Vy({breakpoints:e.breakpoints.values,values:i})),s=pn({theme:e},i,(l,c)=>{var d;const u=e.spacing(l);return u!=="0px"?{width:`calc(100% + ${Ks(u)})`,marginLeft:`-${Ks(u)}`,[`& > .${Ti.item}`]:{paddingLeft:Ks(u)}}:(d=a)!=null&&d.includes(c)?{}:{width:"100%",marginLeft:0,[`& > .${Ti.item}`]:{paddingLeft:0}}})}return s}function YP(e,t,n={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[n[`spacing-xs-${String(e)}`]];const r=[];return t.forEach(s=>{const i=e[s];Number(i)>0&&r.push(n[`spacing-${s}-${String(i)}`])}),r}const GP=U("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:s,item:i,spacing:a,wrap:l,zeroMinWidth:c,breakpoints:d}=n;let u=[];r&&(u=YP(a,d,t));const p=[];return d.forEach(h=>{const g=n[h];g&&p.push(t[`grid-${h}-${String(g)}`])}),[t.root,r&&t.container,i&&t.item,c&&t.zeroMinWidth,...u,s!=="row"&&t[`direction-xs-${String(s)}`],l!=="wrap"&&t[`wrap-xs-${String(l)}`],...p]}})(({ownerState:e})=>b({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},e.wrap!=="wrap"&&{flexWrap:e.wrap}),HP,UP,VP,WP);function qP(e,t){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const n=[];return t.forEach(r=>{const s=e[r];if(Number(s)>0){const i=`spacing-${r}-${String(s)}`;n.push(i)}}),n}const KP=e=>{const{classes:t,container:n,direction:r,item:s,spacing:i,wrap:a,zeroMinWidth:l,breakpoints:c}=e;let d=[];n&&(d=qP(i,c));const u=[];c.forEach(h=>{const g=e[h];g&&u.push(`grid-${h}-${String(g)}`)});const p={root:["root",n&&"container",s&&"item",l&&"zeroMinWidth",...d,r!=="row"&&`direction-xs-${String(r)}`,a!=="wrap"&&`wrap-xs-${String(a)}`,...u]};return ge(p,OP,t)},Ae=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiGrid"}),{breakpoints:s}=Vn(),i=Oi(r),{className:a,columns:l,columnSpacing:c,component:d="div",container:u=!1,direction:p="row",item:h=!1,rowSpacing:g,spacing:v=0,wrap:m="wrap",zeroMinWidth:y=!1}=i,x=Z(i,BP),w=g||v,C=c||v,j=f.useContext($f),_=u?l||12:j,S={},E=b({},x);s.keys.forEach(M=>{x[M]!=null&&(S[M]=x[M],delete E[M])});const T=b({},i,{columns:_,container:u,direction:p,item:h,rowSpacing:w,columnSpacing:C,wrap:m,zeroMinWidth:y,spacing:v},S,{breakpoints:s.keys}),k=KP(T);return o.jsx($f.Provider,{value:_,children:o.jsx(GP,b({ownerState:T,className:re(k.root,a),as:d,ref:n},E))})}),QP=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Nd(e){return`scale(${e}, ${e**2})`}const XP={entering:{opacity:1,transform:Nd(1)},entered:{opacity:1,transform:"none"}},Hc=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Ei=f.forwardRef(function(t,n){const{addEndListener:r,appear:s=!0,children:i,easing:a,in:l,onEnter:c,onEntered:d,onEntering:u,onExit:p,onExited:h,onExiting:g,style:v,timeout:m="auto",TransitionComponent:y=Fn}=t,x=Z(t,QP),w=Or(),C=f.useRef(),j=Vn(),_=f.useRef(null),S=vt(_,js(i),n),E=D=>I=>{if(D){const O=_.current;I===void 0?D(O):D(O,I)}},T=E(u),k=E((D,I)=>{jy(D);const{duration:O,delay:z,easing:$}=lo({style:v,timeout:m,easing:a},{mode:"enter"});let A;m==="auto"?(A=j.transitions.getAutoHeightDuration(D.clientHeight),C.current=A):A=O,D.style.transition=[j.transitions.create("opacity",{duration:A,delay:z}),j.transitions.create("transform",{duration:Hc?A:A*.666,delay:z,easing:$})].join(","),c&&c(D,I)}),M=E(d),N=E(g),L=E(D=>{const{duration:I,delay:O,easing:z}=lo({style:v,timeout:m,easing:a},{mode:"exit"});let $;m==="auto"?($=j.transitions.getAutoHeightDuration(D.clientHeight),C.current=$):$=I,D.style.transition=[j.transitions.create("opacity",{duration:$,delay:O}),j.transitions.create("transform",{duration:Hc?$:$*.666,delay:Hc?O:O||$*.333,easing:z})].join(","),D.style.opacity=0,D.style.transform=Nd(.75),p&&p(D)}),R=E(h),P=D=>{m==="auto"&&w.start(C.current||0,D),r&&r(_.current,D)};return o.jsx(y,b({appear:s,in:l,nodeRef:_,onEnter:k,onEntered:M,onEntering:T,onExit:L,onExited:R,onExiting:N,addEndListener:P,timeout:m==="auto"?null:m},x,{children:(D,I)=>f.cloneElement(i,b({style:b({opacity:0,transform:Nd(.75),visibility:D==="exited"&&!l?"hidden":void 0},XP[D],v,i.props.style),ref:S},I))}))});Ei.muiSupportAuto=!0;const ZP=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],JP=e=>{const{classes:t,disableUnderline:n}=e,s=ge({root:["root",!n&&"underline"],input:["input"]},pE,t);return b({},t,s)},eI=U(sc,{shouldForwardProp:e=>hn(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...nc(e,t),!n.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{let r=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(r=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),b({position:"relative"},t.formControl&&{"label + &":{marginTop:16}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Go.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Go.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Go.disabled}, .${Go.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Go.disabled}:before`]:{borderBottomStyle:"dotted"}})}),tI=U(oc,{name:"MuiInput",slot:"Input",overridesResolver:rc})({}),ap=f.forwardRef(function(t,n){var r,s,i,a;const l=we({props:t,name:"MuiInput"}),{disableUnderline:c,components:d={},componentsProps:u,fullWidth:p=!1,inputComponent:h="input",multiline:g=!1,slotProps:v,slots:m={},type:y="text"}=l,x=Z(l,ZP),w=JP(l),j={root:{ownerState:{disableUnderline:c}}},_=v??u?nn(v??u,j):j,S=(r=(s=m.root)!=null?s:d.Root)!=null?r:eI,E=(i=(a=m.input)!=null?a:d.Input)!=null?i:tI;return o.jsx(op,b({slots:{root:S,input:E},slotProps:_,fullWidth:p,inputComponent:h,multiline:g,ref:n,type:y},x,{classes:w}))});ap.muiName="Input";function nI(e){return pe("MuiInputAdornment",e)}const Of=he("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var Lf;const rI=["children","className","component","disablePointerEvents","disableTypography","position","variant"],sI=(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${Q(n.position)}`],n.disablePointerEvents===!0&&t.disablePointerEvents,t[n.variant]]},oI=e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:r,position:s,size:i,variant:a}=e,l={root:["root",n&&"disablePointerEvents",s&&`position${Q(s)}`,a,r&&"hiddenLabel",i&&`size${Q(i)}`]};return ge(l,nI,t)},iI=U("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:sI})(({theme:e,ownerState:t})=>b({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active},t.variant==="filled"&&{[`&.${Of.positionStart}&:not(.${Of.hiddenLabel})`]:{marginTop:16}},t.position==="start"&&{marginRight:8},t.position==="end"&&{marginLeft:8},t.disablePointerEvents===!0&&{pointerEvents:"none"})),aI=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiInputAdornment"}),{children:s,className:i,component:a="div",disablePointerEvents:l=!1,disableTypography:c=!1,position:d,variant:u}=r,p=Z(r,rI),h=ur()||{};let g=u;u&&h.variant,h&&!g&&(g=h.variant);const v=b({},r,{hiddenLabel:h.hiddenLabel,size:h.size,disablePointerEvents:l,position:d,variant:g}),m=oI(v);return o.jsx(tc.Provider,{value:null,children:o.jsx(iI,b({as:a,ownerState:v,className:re(m.root,i),ref:n},p,{children:typeof s=="string"&&!c?o.jsx(W,{color:"text.secondary",children:s}):o.jsxs(f.Fragment,{children:[d==="start"?Lf||(Lf=o.jsx("span",{className:"notranslate",children:"​"})):null,s]})}))})});function lI(e){return pe("MuiInputLabel",e)}he("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const cI=["disableAnimation","margin","shrink","variant","className"],dI=e=>{const{classes:t,formControl:n,size:r,shrink:s,disableAnimation:i,variant:a,required:l}=e,c={root:["root",n&&"formControl",!i&&"animated",s&&"shrink",r&&r!=="normal"&&`size${Q(r)}`,a],asterisk:[l&&"asterisk"]},d=ge(c,lI,t);return b({},t,d)},uI=U(Uy,{shouldForwardProp:e=>hn(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${hi.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,n.size==="small"&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})(({theme:e,ownerState:t})=>b({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},t.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},t.size==="small"&&{transform:"translate(0, 17px) scale(1)"},t.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!t.disableAnimation&&{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},t.variant==="filled"&&b({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},t.shrink&&b({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},t.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),t.variant==="outlined"&&b({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},t.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),Er=f.forwardRef(function(t,n){const r=we({name:"MuiInputLabel",props:t}),{disableAnimation:s=!1,shrink:i,className:a}=r,l=Z(r,cI),c=ur();let d=i;typeof d>"u"&&c&&(d=c.filled||c.focused||c.adornedStart);const u=Xr({props:r,muiFormControl:c,states:["size","variant","required","focused"]}),p=b({},r,{disableAnimation:s,formControl:c,shrink:d,size:u.size,variant:u.variant,required:u.required,focused:u.focused}),h=dI(p);return o.jsx(uI,b({"data-shrink":d,ownerState:p,ref:n,className:re(h.root,a)},l,{classes:h}))});function pI(e){return pe("MuiLinearProgress",e)}he("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const hI=["className","color","value","valueBuffer","variant"];let Io=e=>e,Ff,zf,Bf,Wf,Hf,Uf;const Ad=4,fI=Ir(Ff||(Ff=Io`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),mI=Ir(zf||(zf=Io`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),gI=Ir(Bf||(Bf=Io`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),vI=e=>{const{classes:t,variant:n,color:r}=e,s={root:["root",`color${Q(r)}`,n],dashed:["dashed",`dashedColor${Q(r)}`],bar1:["bar",`barColor${Q(r)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar",n!=="buffer"&&`barColor${Q(r)}`,n==="buffer"&&`color${Q(r)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return ge(s,pI,t)},lp=(e,t)=>t==="inherit"?"currentColor":e.vars?e.vars.palette.LinearProgress[`${t}Bg`]:e.palette.mode==="light"?oo(e.palette[t].main,.62):so(e.palette[t].main,.5),yI=U("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`color${Q(n.color)}`],t[n.variant]]}})(({ownerState:e,theme:t})=>b({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:lp(t,e.color)},e.color==="inherit"&&e.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},e.variant==="buffer"&&{backgroundColor:"transparent"},e.variant==="query"&&{transform:"rotate(180deg)"})),xI=U("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.dashed,t[`dashedColor${Q(n.color)}`]]}})(({ownerState:e,theme:t})=>{const n=lp(t,e.color);return b({position:"absolute",marginTop:0,height:"100%",width:"100%"},e.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},Ss(Wf||(Wf=Io`
    animation: ${0} 3s infinite linear;
  `),gI)),bI=U("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t[`barColor${Q(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&t.bar1Indeterminate,n.variant==="determinate"&&t.bar1Determinate,n.variant==="buffer"&&t.bar1Buffer]}})(({ownerState:e,theme:t})=>b({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:e.color==="inherit"?"currentColor":(t.vars||t).palette[e.color].main},e.variant==="determinate"&&{transition:`transform .${Ad}s linear`},e.variant==="buffer"&&{zIndex:1,transition:`transform .${Ad}s linear`}),({ownerState:e})=>(e.variant==="indeterminate"||e.variant==="query")&&Ss(Hf||(Hf=Io`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),fI)),CI=U("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t[`barColor${Q(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&t.bar2Indeterminate,n.variant==="buffer"&&t.bar2Buffer]}})(({ownerState:e,theme:t})=>b({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},e.variant!=="buffer"&&{backgroundColor:e.color==="inherit"?"currentColor":(t.vars||t).palette[e.color].main},e.color==="inherit"&&{opacity:.3},e.variant==="buffer"&&{backgroundColor:lp(t,e.color),transition:`transform .${Ad}s linear`}),({ownerState:e})=>(e.variant==="indeterminate"||e.variant==="query")&&Ss(Uf||(Uf=Io`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),mI)),Yy=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiLinearProgress"}),{className:s,color:i="primary",value:a,valueBuffer:l,variant:c="indeterminate"}=r,d=Z(r,hI),u=b({},r,{color:i,variant:c}),p=vI(u),h=bu(),g={},v={bar1:{},bar2:{}};if((c==="determinate"||c==="buffer")&&a!==void 0){g["aria-valuenow"]=Math.round(a),g["aria-valuemin"]=0,g["aria-valuemax"]=100;let m=a-100;h&&(m=-m),v.bar1.transform=`translateX(${m}%)`}if(c==="buffer"&&l!==void 0){let m=(l||0)-100;h&&(m=-m),v.bar2.transform=`translateX(${m}%)`}return o.jsxs(yI,b({className:re(p.root,s),ownerState:u,role:"progressbar"},g,{ref:n},d,{children:[c==="buffer"?o.jsx(xI,{className:p.dashed,ownerState:u}):null,o.jsx(bI,{className:p.bar1,ownerState:u,style:v.bar1}),c==="determinate"?null:o.jsx(CI,{className:p.bar2,ownerState:u,style:v.bar2})]}))}),wr=f.createContext({});function wI(e){return pe("MuiList",e)}he("MuiList",["root","padding","dense","subheader"]);const SI=["children","className","component","dense","disablePadding","subheader"],jI=e=>{const{classes:t,disablePadding:n,dense:r,subheader:s}=e;return ge({root:["root",!n&&"padding",r&&"dense",s&&"subheader"]},wI,t)},kI=U("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})(({ownerState:e})=>b({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0})),mo=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiList"}),{children:s,className:i,component:a="ul",dense:l=!1,disablePadding:c=!1,subheader:d}=r,u=Z(r,SI),p=f.useMemo(()=>({dense:l}),[l]),h=b({},r,{component:a,dense:l,disablePadding:c}),g=jI(h);return o.jsx(wr.Provider,{value:p,children:o.jsxs(kI,b({as:a,className:re(g.root,i),ref:n,ownerState:h},u,{children:[d,s]}))})});function _I(e){return pe("MuiListItem",e)}const Fs=he("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),TI=he("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function EI(e){return pe("MuiListItemSecondaryAction",e)}he("MuiListItemSecondaryAction",["root","disableGutters"]);const MI=["className"],PI=e=>{const{disableGutters:t,classes:n}=e;return ge({root:["root",t&&"disableGutters"]},EI,n)},II=U("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})(({ownerState:e})=>b({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},e.disableGutters&&{right:0})),ls=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiListItemSecondaryAction"}),{className:s}=r,i=Z(r,MI),a=f.useContext(wr),l=b({},r,{disableGutters:a.disableGutters}),c=PI(l);return o.jsx(II,b({className:re(c.root,s),ownerState:l,ref:n},i))});ls.muiName="ListItemSecondaryAction";const RI=["className"],DI=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],NI=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.alignItems==="flex-start"&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.button&&t.button,n.hasSecondaryAction&&t.secondaryAction]},AI=e=>{const{alignItems:t,button:n,classes:r,dense:s,disabled:i,disableGutters:a,disablePadding:l,divider:c,hasSecondaryAction:d,selected:u}=e;return ge({root:["root",s&&"dense",!a&&"gutters",!l&&"padding",c&&"divider",i&&"disabled",n&&"button",t==="flex-start"&&"alignItemsFlexStart",d&&"secondaryAction",u&&"selected"],container:["container"]},_I,r)},$I=U("div",{name:"MuiListItem",slot:"Root",overridesResolver:NI})(({theme:e,ownerState:t})=>b({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!t.disablePadding&&b({paddingTop:8,paddingBottom:8},t.dense&&{paddingTop:4,paddingBottom:4},!t.disableGutters&&{paddingLeft:16,paddingRight:16},!!t.secondaryAction&&{paddingRight:48}),!!t.secondaryAction&&{[`& > .${TI.root}`]:{paddingRight:48}},{[`&.${Fs.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Fs.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:ze(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${Fs.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:ze(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${Fs.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.alignItems==="flex-start"&&{alignItems:"flex-start"},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},t.button&&{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Fs.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:ze(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:ze(e.palette.primary.main,e.palette.action.selectedOpacity)}}},t.hasSecondaryAction&&{paddingRight:48})),OI=U("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),er=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiListItem"}),{alignItems:s="center",autoFocus:i=!1,button:a=!1,children:l,className:c,component:d,components:u={},componentsProps:p={},ContainerComponent:h="li",ContainerProps:{className:g}={},dense:v=!1,disabled:m=!1,disableGutters:y=!1,disablePadding:x=!1,divider:w=!1,focusVisibleClassName:C,secondaryAction:j,selected:_=!1,slotProps:S={},slots:E={}}=r,T=Z(r.ContainerProps,RI),k=Z(r,DI),M=f.useContext(wr),N=f.useMemo(()=>({dense:v||M.dense||!1,alignItems:s,disableGutters:y}),[s,M.dense,v,y]),L=f.useRef(null);rn(()=>{i&&L.current&&L.current.focus()},[i]);const R=f.Children.toArray(l),P=R.length&&Ta(R[R.length-1],["ListItemSecondaryAction"]),D=b({},r,{alignItems:s,autoFocus:i,button:a,dense:N.dense,disabled:m,disableGutters:y,disablePadding:x,divider:w,hasSecondaryAction:P,selected:_}),I=AI(D),O=vt(L,n),z=E.root||u.Root||$I,$=S.root||p.root||{},A=b({className:re(I.root,$.className,c),disabled:m},k);let H=d||"li";return a&&(A.component=d||"div",A.focusVisibleClassName=re(Fs.focusVisible,C),H=Yr),P?(H=!A.component&&!d?"div":H,h==="li"&&(H==="li"?H="div":A.component==="li"&&(A.component="div")),o.jsx(wr.Provider,{value:N,children:o.jsxs(OI,b({as:h,className:re(I.container,g),ref:O,ownerState:D},T,{children:[o.jsx(z,b({},$,!ro(z)&&{as:H,ownerState:b({},D,$.ownerState)},A,{children:R})),R.pop()]}))})):o.jsx(wr.Provider,{value:N,children:o.jsxs(z,b({},$,{as:H,ref:O},!ro(z)&&{ownerState:b({},D,$.ownerState)},A,{children:[R,j&&o.jsx(ls,{children:j})]}))})});function LI(e){return pe("MuiListItemIcon",e)}const Vf=he("MuiListItemIcon",["root","alignItemsFlexStart"]),FI=["className"],zI=e=>{const{alignItems:t,classes:n}=e;return ge({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},LI,n)},BI=U("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.alignItems==="flex-start"&&t.alignItemsFlexStart]}})(({theme:e,ownerState:t})=>b({minWidth:56,color:(e.vars||e).palette.action.active,flexShrink:0,display:"inline-flex"},t.alignItems==="flex-start"&&{marginTop:8})),Uc=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiListItemIcon"}),{className:s}=r,i=Z(r,FI),a=f.useContext(wr),l=b({},r,{alignItems:a.alignItems}),c=zI(l);return o.jsx(BI,b({className:re(c.root,s),ownerState:l,ref:n},i))});function WI(e){return pe("MuiListItemText",e)}const rl=he("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),HI=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],UI=e=>{const{classes:t,inset:n,primary:r,secondary:s,dense:i}=e;return ge({root:["root",n&&"inset",i&&"dense",r&&s&&"multiline"],primary:["primary"],secondary:["secondary"]},WI,t)},VI=U("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${rl.primary}`]:t.primary},{[`& .${rl.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})(({ownerState:e})=>b({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56})),tr=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiListItemText"}),{children:s,className:i,disableTypography:a=!1,inset:l=!1,primary:c,primaryTypographyProps:d,secondary:u,secondaryTypographyProps:p}=r,h=Z(r,HI),{dense:g}=f.useContext(wr);let v=c??s,m=u;const y=b({},r,{disableTypography:a,inset:l,primary:!!v,secondary:!!m,dense:g}),x=UI(y);return v!=null&&v.type!==W&&!a&&(v=o.jsx(W,b({variant:g?"body2":"body1",className:x.primary,component:d!=null&&d.variant?void 0:"span",display:"block"},d,{children:v}))),m!=null&&m.type!==W&&!a&&(m=o.jsx(W,b({variant:"body2",className:x.secondary,color:"text.secondary",display:"block"},p,{children:m}))),o.jsxs(VI,b({className:re(x.root,i),ownerState:y,ref:n},h,{children:[v,m]}))}),YI=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Vc(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function Yf(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function Gy(e,t){if(t===void 0)return!0;let n=e.innerText;return n===void 0&&(n=e.textContent),n=n.trim().toLowerCase(),n.length===0?!1:t.repeating?n[0]===t.keys[0]:n.indexOf(t.keys.join(""))===0}function Ko(e,t,n,r,s,i){let a=!1,l=s(e,t,t?n:!1);for(;l;){if(l===e.firstChild){if(a)return!1;a=!0}const c=r?!1:l.disabled||l.getAttribute("aria-disabled")==="true";if(!l.hasAttribute("tabindex")||!Gy(l,i)||c)l=s(e,l,n);else return l.focus(),!0}return!1}const GI=f.forwardRef(function(t,n){const{actions:r,autoFocus:s=!1,autoFocusItem:i=!1,children:a,className:l,disabledItemsFocusable:c=!1,disableListWrap:d=!1,onKeyDown:u,variant:p="selectedMenu"}=t,h=Z(t,YI),g=f.useRef(null),v=f.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});rn(()=>{s&&g.current.focus()},[s]),f.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(C,{direction:j})=>{const _=!g.current.style.width;if(C.clientHeight<g.current.clientHeight&&_){const S=`${zg(Bt(C))}px`;g.current.style[j==="rtl"?"paddingLeft":"paddingRight"]=S,g.current.style.width=`calc(100% + ${S})`}return g.current}}),[]);const m=C=>{const j=g.current,_=C.key,S=Bt(j).activeElement;if(_==="ArrowDown")C.preventDefault(),Ko(j,S,d,c,Vc);else if(_==="ArrowUp")C.preventDefault(),Ko(j,S,d,c,Yf);else if(_==="Home")C.preventDefault(),Ko(j,null,d,c,Vc);else if(_==="End")C.preventDefault(),Ko(j,null,d,c,Yf);else if(_.length===1){const E=v.current,T=_.toLowerCase(),k=performance.now();E.keys.length>0&&(k-E.lastTime>500?(E.keys=[],E.repeating=!0,E.previousKeyMatched=!0):E.repeating&&T!==E.keys[0]&&(E.repeating=!1)),E.lastTime=k,E.keys.push(T);const M=S&&!E.repeating&&Gy(S,E);E.previousKeyMatched&&(M||Ko(j,S,!1,c,Vc,E))?C.preventDefault():E.previousKeyMatched=!1}u&&u(C)},y=vt(g,n);let x=-1;f.Children.forEach(a,(C,j)=>{if(!f.isValidElement(C)){x===j&&(x+=1,x>=a.length&&(x=-1));return}C.props.disabled||(p==="selectedMenu"&&C.props.selected||x===-1)&&(x=j),x===j&&(C.props.disabled||C.props.muiSkipListHighlight||C.type.muiSkipListHighlight)&&(x+=1,x>=a.length&&(x=-1))});const w=f.Children.map(a,(C,j)=>{if(j===x){const _={};return i&&(_.autoFocus=!0),C.props.tabIndex===void 0&&p==="selectedMenu"&&(_.tabIndex=0),f.cloneElement(C,_)}return C});return o.jsx(mo,b({role:"menu",ref:y,className:l,onKeyDown:m,tabIndex:s?0:-1},h,{children:w}))});function qI(e){return pe("MuiPopover",e)}he("MuiPopover",["root","paper"]);const KI=["onEntering"],QI=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],XI=["slotProps"];function Gf(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.height/2:t==="bottom"&&(n=e.height),n}function qf(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.width/2:t==="right"&&(n=e.width),n}function Kf(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function Yc(e){return typeof e=="function"?e():e}const ZI=e=>{const{classes:t}=e;return ge({root:["root"],paper:["paper"]},qI,t)},JI=U(Wy,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),qy=U(fn,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),eR=f.forwardRef(function(t,n){var r,s,i;const a=we({props:t,name:"MuiPopover"}),{action:l,anchorEl:c,anchorOrigin:d={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:p="anchorEl",children:h,className:g,container:v,elevation:m=8,marginThreshold:y=16,open:x,PaperProps:w={},slots:C,slotProps:j,transformOrigin:_={vertical:"top",horizontal:"left"},TransitionComponent:S=Ei,transitionDuration:E="auto",TransitionProps:{onEntering:T}={},disableScrollLock:k=!1}=a,M=Z(a.TransitionProps,KI),N=Z(a,QI),L=(r=j==null?void 0:j.paper)!=null?r:w,R=f.useRef(),P=vt(R,L.ref),D=b({},a,{anchorOrigin:d,anchorReference:p,elevation:m,marginThreshold:y,externalPaperSlotProps:L,transformOrigin:_,TransitionComponent:S,transitionDuration:E,TransitionProps:M}),I=ZI(D),O=f.useCallback(()=>{if(p==="anchorPosition")return u;const F=Yc(c),te=(F&&F.nodeType===1?F:Bt(R.current).body).getBoundingClientRect();return{top:te.top+Gf(te,d.vertical),left:te.left+qf(te,d.horizontal)}},[c,d.horizontal,d.vertical,u,p]),z=f.useCallback(F=>({vertical:Gf(F,_.vertical),horizontal:qf(F,_.horizontal)}),[_.horizontal,_.vertical]),$=f.useCallback(F=>{const q={width:F.offsetWidth,height:F.offsetHeight},te=z(q);if(p==="none")return{top:null,left:null,transformOrigin:Kf(te)};const ue=O();let Te=ue.top-te.vertical,oe=ue.left-te.horizontal;const ce=Te+q.height,xe=oe+q.width,ve=fs(Yc(c)),De=ve.innerHeight-y,Me=ve.innerWidth-y;if(y!==null&&Te<y){const Re=Te-y;Te-=Re,te.vertical+=Re}else if(y!==null&&ce>De){const Re=ce-De;Te-=Re,te.vertical+=Re}if(y!==null&&oe<y){const Re=oe-y;oe-=Re,te.horizontal+=Re}else if(xe>Me){const Re=xe-Me;oe-=Re,te.horizontal+=Re}return{top:`${Math.round(Te)}px`,left:`${Math.round(oe)}px`,transformOrigin:Kf(te)}},[c,p,O,z,y]),[A,H]=f.useState(x),Y=f.useCallback(()=>{const F=R.current;if(!F)return;const q=$(F);q.top!==null&&(F.style.top=q.top),q.left!==null&&(F.style.left=q.left),F.style.transformOrigin=q.transformOrigin,H(!0)},[$]);f.useEffect(()=>(k&&window.addEventListener("scroll",Y),()=>window.removeEventListener("scroll",Y)),[c,k,Y]);const G=(F,q)=>{T&&T(F,q),Y()},J=()=>{H(!1)};f.useEffect(()=>{x&&Y()}),f.useImperativeHandle(l,()=>x?{updatePosition:()=>{Y()}}:null,[x,Y]),f.useEffect(()=>{if(!x)return;const F=Lg(()=>{Y()}),q=fs(c);return q.addEventListener("resize",F),()=>{F.clear(),q.removeEventListener("resize",F)}},[c,x,Y]);let ae=E;E==="auto"&&!S.muiSupportAuto&&(ae=void 0);const V=v||(c?Bt(Yc(c)).body:void 0),le=(s=C==null?void 0:C.root)!=null?s:JI,ee=(i=C==null?void 0:C.paper)!=null?i:qy,X=Ur({elementType:ee,externalSlotProps:b({},L,{style:A?L.style:b({},L.style,{opacity:0})}),additionalProps:{elevation:m,ref:P},ownerState:D,className:re(I.paper,L==null?void 0:L.className)}),ie=Ur({elementType:le,externalSlotProps:(j==null?void 0:j.root)||{},externalForwardedProps:N,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:V,open:x},ownerState:D,className:re(I.root,g)}),{slotProps:K}=ie,B=Z(ie,XI);return o.jsx(le,b({},B,!ro(le)&&{slotProps:K,disableScrollLock:k},{children:o.jsx(S,b({appear:!0,in:x,onEntering:G,onExited:J,timeout:ae},M,{children:o.jsx(ee,b({},X,{children:h}))}))}))});function tR(e){return pe("MuiMenu",e)}he("MuiMenu",["root","paper","list"]);const nR=["onEntering"],rR=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],sR={vertical:"top",horizontal:"right"},oR={vertical:"top",horizontal:"left"},iR=e=>{const{classes:t}=e;return ge({root:["root"],paper:["paper"],list:["list"]},tR,t)},aR=U(eR,{shouldForwardProp:e=>hn(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),lR=U(qy,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),cR=U(GI,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),dR=f.forwardRef(function(t,n){var r,s;const i=we({props:t,name:"MuiMenu"}),{autoFocus:a=!0,children:l,className:c,disableAutoFocusItem:d=!1,MenuListProps:u={},onClose:p,open:h,PaperProps:g={},PopoverClasses:v,transitionDuration:m="auto",TransitionProps:{onEntering:y}={},variant:x="selectedMenu",slots:w={},slotProps:C={}}=i,j=Z(i.TransitionProps,nR),_=Z(i,rR),S=bu(),E=b({},i,{autoFocus:a,disableAutoFocusItem:d,MenuListProps:u,onEntering:y,PaperProps:g,transitionDuration:m,TransitionProps:j,variant:x}),T=iR(E),k=a&&!d&&h,M=f.useRef(null),N=(z,$)=>{M.current&&M.current.adjustStyleForScrollbar(z,{direction:S?"rtl":"ltr"}),y&&y(z,$)},L=z=>{z.key==="Tab"&&(z.preventDefault(),p&&p(z,"tabKeyDown"))};let R=-1;f.Children.map(l,(z,$)=>{f.isValidElement(z)&&(z.props.disabled||(x==="selectedMenu"&&z.props.selected||R===-1)&&(R=$))});const P=(r=w.paper)!=null?r:lR,D=(s=C.paper)!=null?s:g,I=Ur({elementType:w.root,externalSlotProps:C.root,ownerState:E,className:[T.root,c]}),O=Ur({elementType:P,externalSlotProps:D,ownerState:E,className:T.paper});return o.jsx(aR,b({onClose:p,anchorOrigin:{vertical:"bottom",horizontal:S?"right":"left"},transformOrigin:S?sR:oR,slots:{paper:P,root:w.root},slotProps:{root:I,paper:O},open:h,ref:n,transitionDuration:m,TransitionProps:b({onEntering:N},j),ownerState:E},_,{classes:v,children:o.jsx(cR,b({onKeyDown:L,actions:M,autoFocus:a&&(R===-1||d),autoFocusItem:k,variant:x},u,{className:re(T.list,u.className),children:l}))}))});function uR(e){return pe("MuiMenuItem",e)}const Qo=he("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),pR=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],hR=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]},fR=e=>{const{disabled:t,dense:n,divider:r,disableGutters:s,selected:i,classes:a}=e,c=ge({root:["root",n&&"dense",t&&"disabled",!s&&"gutters",r&&"divider",i&&"selected"]},uR,a);return b({},a,c)},mR=U(Yr,{shouldForwardProp:e=>hn(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:hR})(({theme:e,ownerState:t})=>b({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Qo.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:ze(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${Qo.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:ze(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${Qo.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:ze(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:ze(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${Qo.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Qo.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${Df.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${Df.inset}`]:{marginLeft:52},[`& .${rl.root}`]:{marginTop:0,marginBottom:0},[`& .${rl.inset}`]:{paddingLeft:36},[`& .${Vf.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&b({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${Vf.root} svg`]:{fontSize:"1.25rem"}}))),Mt=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiMenuItem"}),{autoFocus:s=!1,component:i="li",dense:a=!1,divider:l=!1,disableGutters:c=!1,focusVisibleClassName:d,role:u="menuitem",tabIndex:p,className:h}=r,g=Z(r,pR),v=f.useContext(wr),m=f.useMemo(()=>({dense:a||v.dense||!1,disableGutters:c}),[v.dense,a,c]),y=f.useRef(null);rn(()=>{s&&y.current&&y.current.focus()},[s]);const x=b({},r,{dense:m.dense,divider:l,disableGutters:c}),w=fR(r),C=vt(y,n);let j;return r.disabled||(j=p!==void 0?p:-1),o.jsx(wr.Provider,{value:m,children:o.jsx(mR,b({ref:C,role:u,tabIndex:j,component:i,focusVisibleClassName:re(w.focusVisible,d),className:re(w.root,h)},g,{ownerState:x,classes:w}))})});function gR(e){return pe("MuiNativeSelect",e)}const cp=he("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),vR=["className","disabled","error","IconComponent","inputRef","variant"],yR=e=>{const{classes:t,variant:n,disabled:r,multiple:s,open:i,error:a}=e,l={select:["select",n,r&&"disabled",s&&"multiple",a&&"error"],icon:["icon",`icon${Q(n)}`,i&&"iconOpen",r&&"disabled"]};return ge(l,gR,t)},Ky=({ownerState:e,theme:t})=>b({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":b({},t.vars?{backgroundColor:`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:t.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${cp.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},e.variant==="filled"&&{"&&&":{paddingRight:32}},e.variant==="outlined"&&{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}),xR=U("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:hn,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${cp.multiple}`]:t.multiple}]}})(Ky),Qy=({ownerState:e,theme:t})=>b({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${cp.disabled}`]:{color:(t.vars||t).palette.action.disabled}},e.open&&{transform:"rotate(180deg)"},e.variant==="filled"&&{right:7},e.variant==="outlined"&&{right:7}),bR=U("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${Q(n.variant)}`],n.open&&t.iconOpen]}})(Qy),CR=f.forwardRef(function(t,n){const{className:r,disabled:s,error:i,IconComponent:a,inputRef:l,variant:c="standard"}=t,d=Z(t,vR),u=b({},t,{disabled:s,variant:c,error:i}),p=yR(u);return o.jsxs(f.Fragment,{children:[o.jsx(xR,b({ownerState:u,className:re(p.select,r),disabled:s,ref:l||n},d)),t.multiple?null:o.jsx(bR,{as:a,ownerState:u,className:p.icon})]})});var Qf;const wR=["children","classes","className","label","notched"],SR=U("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:hn})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),jR=U("legend",{name:"MuiNotchedOutlined",shouldForwardProp:hn})(({ownerState:e,theme:t})=>b({float:"unset",width:"auto",overflow:"hidden"},!e.withLabel&&{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},e.withLabel&&b({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},e.notched&&{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})})));function kR(e){const{className:t,label:n,notched:r}=e,s=Z(e,wR),i=n!=null&&n!=="",a=b({},e,{notched:r,withLabel:i});return o.jsx(SR,b({"aria-hidden":!0,className:t,ownerState:a},s,{children:o.jsx(jR,{ownerState:a,children:i?o.jsx("span",{children:n}):Qf||(Qf=o.jsx("span",{className:"notranslate",children:"​"}))})}))}const _R=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],TR=e=>{const{classes:t}=e,r=ge({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},hE,t);return b({},t,r)},ER=U(sc,{shouldForwardProp:e=>hn(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:nc})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return b({position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${Dr.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${Dr.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${Dr.focused} .${Dr.notchedOutline}`]:{borderColor:(e.vars||e).palette[t.color].main,borderWidth:2},[`&.${Dr.error} .${Dr.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${Dr.disabled} .${Dr.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}},t.startAdornment&&{paddingLeft:14},t.endAdornment&&{paddingRight:14},t.multiline&&b({padding:"16.5px 14px"},t.size==="small"&&{padding:"8.5px 14px"}))}),MR=U(kR,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),PR=U(oc,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:rc})(({theme:e,ownerState:t})=>b({padding:"16.5px 14px"},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{padding:"8.5px 14px"},t.multiline&&{padding:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0})),dp=f.forwardRef(function(t,n){var r,s,i,a,l;const c=we({props:t,name:"MuiOutlinedInput"}),{components:d={},fullWidth:u=!1,inputComponent:p="input",label:h,multiline:g=!1,notched:v,slots:m={},type:y="text"}=c,x=Z(c,_R),w=TR(c),C=ur(),j=Xr({props:c,muiFormControl:C,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),_=b({},c,{color:j.color||"primary",disabled:j.disabled,error:j.error,focused:j.focused,formControl:C,fullWidth:u,hiddenLabel:j.hiddenLabel,multiline:g,size:j.size,type:y}),S=(r=(s=m.root)!=null?s:d.Root)!=null?r:ER,E=(i=(a=m.input)!=null?a:d.Input)!=null?i:PR;return o.jsx(op,b({slots:{root:S,input:E},renderSuffix:T=>o.jsx(MR,{ownerState:_,className:w.notchedOutline,label:h!=null&&h!==""&&j.required?l||(l=o.jsxs(f.Fragment,{children:[h," ","*"]})):h,notched:typeof v<"u"?v:!!(T.startAdornment||T.filled||T.focused)}),fullWidth:u,inputComponent:p,multiline:g,ref:n,type:y},x,{classes:b({},w,{notchedOutline:null})}))});dp.muiName="Input";function IR(e){return pe("MuiSelect",e)}const Xo=he("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var Xf;const RR=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],DR=U("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${Xo.select}`]:t.select},{[`&.${Xo.select}`]:t[n.variant]},{[`&.${Xo.error}`]:t.error},{[`&.${Xo.multiple}`]:t.multiple}]}})(Ky,{[`&.${Xo.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),NR=U("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${Q(n.variant)}`],n.open&&t.iconOpen]}})(Qy),AR=U("input",{shouldForwardProp:e=>ov(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Zf(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function $R(e){return e==null||typeof e=="string"&&!e.trim()}const OR=e=>{const{classes:t,variant:n,disabled:r,multiple:s,open:i,error:a}=e,l={select:["select",n,r&&"disabled",s&&"multiple",a&&"error"],icon:["icon",`icon${Q(n)}`,i&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return ge(l,IR,t)},LR=f.forwardRef(function(t,n){var r;const{"aria-describedby":s,"aria-label":i,autoFocus:a,autoWidth:l,children:c,className:d,defaultOpen:u,defaultValue:p,disabled:h,displayEmpty:g,error:v=!1,IconComponent:m,inputRef:y,labelId:x,MenuProps:w={},multiple:C,name:j,onBlur:_,onChange:S,onClose:E,onFocus:T,onOpen:k,open:M,readOnly:N,renderValue:L,SelectDisplayProps:R={},tabIndex:P,value:D,variant:I="standard"}=t,O=Z(t,RR),[z,$]=lr({controlled:D,default:p,name:"Select"}),[A,H]=lr({controlled:M,default:u,name:"Select"}),Y=f.useRef(null),G=f.useRef(null),[J,ae]=f.useState(null),{current:V}=f.useRef(M!=null),[le,ee]=f.useState(),X=vt(n,y),ie=f.useCallback(je=>{G.current=je,je&&ae(je)},[]),K=J==null?void 0:J.parentNode;f.useImperativeHandle(X,()=>({focus:()=>{G.current.focus()},node:Y.current,value:z}),[z]),f.useEffect(()=>{u&&A&&J&&!V&&(ee(l?null:K.clientWidth),G.current.focus())},[J,l]),f.useEffect(()=>{a&&G.current.focus()},[a]),f.useEffect(()=>{if(!x)return;const je=Bt(G.current).getElementById(x);if(je){const st=()=>{getSelection().isCollapsed&&G.current.focus()};return je.addEventListener("click",st),()=>{je.removeEventListener("click",st)}}},[x]);const B=(je,st)=>{je?k&&k(st):E&&E(st),V||(ee(l?null:K.clientWidth),H(je))},F=je=>{je.button===0&&(je.preventDefault(),G.current.focus(),B(!0,je))},q=je=>{B(!1,je)},te=f.Children.toArray(c),ue=je=>{const st=te.find(xt=>xt.props.value===je.target.value);st!==void 0&&($(st.props.value),S&&S(je,st))},Te=je=>st=>{let xt;if(st.currentTarget.hasAttribute("tabindex")){if(C){xt=Array.isArray(z)?z.slice():[];const mn=z.indexOf(je.props.value);mn===-1?xt.push(je.props.value):xt.splice(mn,1)}else xt=je.props.value;if(je.props.onClick&&je.props.onClick(st),z!==xt&&($(xt),S)){const mn=st.nativeEvent||st,Rr=new mn.constructor(mn.type,mn);Object.defineProperty(Rr,"target",{writable:!0,value:{value:xt,name:j}}),S(Rr,je)}C||B(!1,st)}},oe=je=>{N||[" ","ArrowUp","ArrowDown","Enter"].indexOf(je.key)!==-1&&(je.preventDefault(),B(!0,je))},ce=J!==null&&A,xe=je=>{!ce&&_&&(Object.defineProperty(je,"target",{writable:!0,value:{value:z,name:j}}),_(je))};delete O["aria-invalid"];let ve,De;const Me=[];let Re=!1;(tl({value:z})||g)&&(L?ve=L(z):Re=!0);const Ct=te.map(je=>{if(!f.isValidElement(je))return null;let st;if(C){if(!Array.isArray(z))throw new Error(Sr(2));st=z.some(xt=>Zf(xt,je.props.value)),st&&Re&&Me.push(je.props.children)}else st=Zf(z,je.props.value),st&&Re&&(De=je.props.children);return f.cloneElement(je,{"aria-selected":st?"true":"false",onClick:Te(je),onKeyUp:xt=>{xt.key===" "&&xt.preventDefault(),je.props.onKeyUp&&je.props.onKeyUp(xt)},role:"option",selected:st,value:void 0,"data-value":je.props.value})});Re&&(C?Me.length===0?ve=null:ve=Me.reduce((je,st,xt)=>(je.push(st),xt<Me.length-1&&je.push(", "),je),[]):ve=De);let Nt=le;!l&&V&&J&&(Nt=K.clientWidth);let At;typeof P<"u"?At=P:At=h?null:0;const Qe=R.id||(j?`mui-component-select-${j}`:void 0),ke=b({},t,{variant:I,value:z,open:ce,error:v}),Et=OR(ke),kn=b({},w.PaperProps,(r=w.slotProps)==null?void 0:r.paper),Xt=ko();return o.jsxs(f.Fragment,{children:[o.jsx(DR,b({ref:ie,tabIndex:At,role:"combobox","aria-controls":Xt,"aria-disabled":h?"true":void 0,"aria-expanded":ce?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[x,Qe].filter(Boolean).join(" ")||void 0,"aria-describedby":s,onKeyDown:oe,onMouseDown:h||N?null:F,onBlur:xe,onFocus:T},R,{ownerState:ke,className:re(R.className,Et.select,d),id:Qe,children:$R(ve)?Xf||(Xf=o.jsx("span",{className:"notranslate",children:"​"})):ve})),o.jsx(AR,b({"aria-invalid":v,value:Array.isArray(z)?z.join(","):z,name:j,ref:Y,"aria-hidden":!0,onChange:ue,tabIndex:-1,disabled:h,className:Et.nativeInput,autoFocus:a,ownerState:ke},O)),o.jsx(NR,{as:m,className:Et.icon,ownerState:ke}),o.jsx(dR,b({id:`menu-${j||""}`,anchorEl:K,open:ce,onClose:q,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},w,{MenuListProps:b({"aria-labelledby":x,role:"listbox","aria-multiselectable":C?"true":void 0,disableListWrap:!0,id:Xt},w.MenuListProps),slotProps:b({},w.slotProps,{paper:b({},kn,{style:b({minWidth:Nt},kn!=null?kn.style:null)})}),children:Ct}))]})}),FR=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],zR=["root"],BR=e=>{const{classes:t}=e;return t},up={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>hn(e)&&e!=="variant",slot:"Root"},WR=U(ap,up)(""),HR=U(dp,up)(""),UR=U(ip,up)(""),dr=f.forwardRef(function(t,n){const r=we({name:"MuiSelect",props:t}),{autoWidth:s=!1,children:i,classes:a={},className:l,defaultOpen:c=!1,displayEmpty:d=!1,IconComponent:u=mE,id:p,input:h,inputProps:g,label:v,labelId:m,MenuProps:y,multiple:x=!1,native:w=!1,onClose:C,onOpen:j,open:_,renderValue:S,SelectDisplayProps:E,variant:T="outlined"}=r,k=Z(r,FR),M=w?CR:LR,N=ur(),L=Xr({props:r,muiFormControl:N,states:["variant","error"]}),R=L.variant||T,P=b({},r,{variant:R,classes:a}),D=BR(P),I=Z(D,zR),O=h||{standard:o.jsx(WR,{ownerState:P}),outlined:o.jsx(HR,{label:v,ownerState:P}),filled:o.jsx(UR,{ownerState:P})}[R],z=vt(n,js(O));return o.jsx(f.Fragment,{children:f.cloneElement(O,b({inputComponent:M,inputProps:b({children:i,error:L.error,IconComponent:u,variant:R,type:void 0,multiple:x},w?{id:p}:{autoWidth:s,defaultOpen:c,displayEmpty:d,labelId:m,MenuProps:y,onClose:C,onOpen:j,open:_,renderValue:S,SelectDisplayProps:b({id:p},E)},g,{classes:g?nn(I,g.classes):I},h?h.props.inputProps:{})},(x&&w||d)&&R==="outlined"?{notched:!0}:{},{ref:z,className:re(O.props.className,l,D.root)},!h&&{variant:R},k))})});dr.muiName="Select";function VR(e={}){const{autoHideDuration:t=null,disableWindowBlurListener:n=!1,onClose:r,open:s,resumeHideDuration:i}=e,a=Or();f.useEffect(()=>{if(!s)return;function x(w){w.defaultPrevented||(w.key==="Escape"||w.key==="Esc")&&(r==null||r(w,"escapeKeyDown"))}return document.addEventListener("keydown",x),()=>{document.removeEventListener("keydown",x)}},[s,r]);const l=Ne((x,w)=>{r==null||r(x,w)}),c=Ne(x=>{!r||x==null||a.start(x,()=>{l(null,"timeout")})});f.useEffect(()=>(s&&c(t),a.clear),[s,t,c,a]);const d=x=>{r==null||r(x,"clickaway")},u=a.clear,p=f.useCallback(()=>{t!=null&&c(i??t*.5)},[t,i,c]),h=x=>w=>{const C=x.onBlur;C==null||C(w),p()},g=x=>w=>{const C=x.onFocus;C==null||C(w),u()},v=x=>w=>{const C=x.onMouseEnter;C==null||C(w),u()},m=x=>w=>{const C=x.onMouseLeave;C==null||C(w),p()};return f.useEffect(()=>{if(!n&&s)return window.addEventListener("focus",p),window.addEventListener("blur",u),()=>{window.removeEventListener("focus",p),window.removeEventListener("blur",u)}},[n,s,p,u]),{getRootProps:(x={})=>{const w=b({},Fa(e),Fa(x));return b({role:"presentation"},x,w,{onBlur:h(w),onFocus:g(w),onMouseEnter:v(w),onMouseLeave:m(w)})},onClickAway:d}}function YR(e){return pe("MuiSnackbarContent",e)}he("MuiSnackbarContent",["root","message","action"]);const GR=["action","className","message","role"],qR=e=>{const{classes:t}=e;return ge({root:["root"],action:["action"],message:["message"]},YR,t)},KR=U(fn,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>{const t=e.palette.mode==="light"?.8:.98,n=rw(e.palette.background.default,t);return b({},e.typography.body2,{color:e.vars?e.vars.palette.SnackbarContent.color:e.palette.getContrastText(n),backgroundColor:e.vars?e.vars.palette.SnackbarContent.bg:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,flexGrow:1,[e.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),QR=U("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0"}),XR=U("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),ZR=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiSnackbarContent"}),{action:s,className:i,message:a,role:l="alert"}=r,c=Z(r,GR),d=r,u=qR(d);return o.jsxs(KR,b({role:l,square:!0,elevation:6,className:re(u.root,i),ownerState:d,ref:n},c,{children:[o.jsx(QR,{className:u.message,ownerState:d,children:a}),s?o.jsx(XR,{className:u.action,ownerState:d,children:s}):null]}))});function JR(e){return pe("MuiSnackbar",e)}he("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const eD=["onEnter","onExited"],tD=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],nD=e=>{const{classes:t,anchorOrigin:n}=e,r={root:["root",`anchorOrigin${Q(n.vertical)}${Q(n.horizontal)}`]};return ge(r,JR,t)},Jf=U("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`anchorOrigin${Q(n.anchorOrigin.vertical)}${Q(n.anchorOrigin.horizontal)}`]]}})(({theme:e,ownerState:t})=>{const n={left:"50%",right:"auto",transform:"translateX(-50%)"};return b({zIndex:(e.vars||e).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},t.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},t.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},t.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[e.breakpoints.up("sm")]:b({},t.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},t.anchorOrigin.horizontal==="center"&&n,t.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},t.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),Xy=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiSnackbar"}),s=Vn(),i={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{action:a,anchorOrigin:{vertical:l,horizontal:c}={vertical:"bottom",horizontal:"left"},autoHideDuration:d=null,children:u,className:p,ClickAwayListenerProps:h,ContentProps:g,disableWindowBlurListener:v=!1,message:m,open:y,TransitionComponent:x=Ei,transitionDuration:w=i,TransitionProps:{onEnter:C,onExited:j}={}}=r,_=Z(r.TransitionProps,eD),S=Z(r,tD),E=b({},r,{anchorOrigin:{vertical:l,horizontal:c},autoHideDuration:d,disableWindowBlurListener:v,TransitionComponent:x,transitionDuration:w}),T=nD(E),{getRootProps:k,onClickAway:M}=VR(b({},E)),[N,L]=f.useState(!0),R=Ur({elementType:Jf,getSlotProps:k,externalForwardedProps:S,ownerState:E,additionalProps:{ref:n},className:[T.root,p]}),P=I=>{L(!0),j&&j(I)},D=(I,O)=>{L(!1),C&&C(I,O)};return!y&&N?null:o.jsx(gM,b({onClickAway:M},h,{children:o.jsx(Jf,b({},R,{children:o.jsx(x,b({appear:!0,in:y,timeout:w,direction:l==="top"?"down":"up",onEnter:D,onExited:P},_,{children:u||o.jsx(ZR,b({message:m,action:a},g))}))}))}))});function rD(e){return pe("MuiTooltip",e)}const Fr=he("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),sD=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function oD(e){return Math.round(e*1e5)/1e5}const iD=e=>{const{classes:t,disableInteractive:n,arrow:r,touch:s,placement:i}=e,a={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",s&&"touch",`tooltipPlacement${Q(i.split("-")[0])}`],arrow:["arrow"]};return ge(a,rD,t)},aD=U(Oy,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})(({theme:e,ownerState:t,open:n})=>b({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none"},!t.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},t.arrow&&{[`&[data-popper-placement*="bottom"] .${Fr.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Fr.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Fr.arrow}`]:b({},t.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${Fr.arrow}`]:b({},t.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),lD=U("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t[`tooltipPlacement${Q(n.placement.split("-")[0])}`]]}})(({theme:e,ownerState:t})=>b({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:ze(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},t.arrow&&{position:"relative",margin:0},t.touch&&{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${oD(16/14)}em`,fontWeight:e.typography.fontWeightRegular},{[`.${Fr.popper}[data-popper-placement*="left"] &`]:b({transformOrigin:"right center"},t.isRtl?b({marginLeft:"14px"},t.touch&&{marginLeft:"24px"}):b({marginRight:"14px"},t.touch&&{marginRight:"24px"})),[`.${Fr.popper}[data-popper-placement*="right"] &`]:b({transformOrigin:"left center"},t.isRtl?b({marginRight:"14px"},t.touch&&{marginRight:"24px"}):b({marginLeft:"14px"},t.touch&&{marginLeft:"24px"})),[`.${Fr.popper}[data-popper-placement*="top"] &`]:b({transformOrigin:"center bottom",marginBottom:"14px"},t.touch&&{marginBottom:"24px"}),[`.${Fr.popper}[data-popper-placement*="bottom"] &`]:b({transformOrigin:"center top",marginTop:"14px"},t.touch&&{marginTop:"24px"})})),cD=U("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:ze(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let da=!1;const em=new Li;let Zo={x:0,y:0};function ua(e,t){return(n,...r)=>{t&&t(n,...r),e(n,...r)}}const tm=f.forwardRef(function(t,n){var r,s,i,a,l,c,d,u,p,h,g,v,m,y,x,w,C,j,_;const S=we({props:t,name:"MuiTooltip"}),{arrow:E=!1,children:T,components:k={},componentsProps:M={},describeChild:N=!1,disableFocusListener:L=!1,disableHoverListener:R=!1,disableInteractive:P=!1,disableTouchListener:D=!1,enterDelay:I=100,enterNextDelay:O=0,enterTouchDelay:z=700,followCursor:$=!1,id:A,leaveDelay:H=0,leaveTouchDelay:Y=1500,onClose:G,onOpen:J,open:ae,placement:V="bottom",PopperComponent:le,PopperProps:ee={},slotProps:X={},slots:ie={},title:K,TransitionComponent:B=Ei,TransitionProps:F}=S,q=Z(S,sD),te=f.isValidElement(T)?T:o.jsx("span",{children:T}),ue=Vn(),Te=bu(),[oe,ce]=f.useState(),[xe,ve]=f.useState(null),De=f.useRef(!1),Me=P||$,Re=Or(),Ct=Or(),Nt=Or(),At=Or(),[Qe,ke]=lr({controlled:ae,default:!1,name:"Tooltip",state:"open"});let Et=Qe;const kn=ko(A),Xt=f.useRef(),je=Ne(()=>{Xt.current!==void 0&&(document.body.style.WebkitUserSelect=Xt.current,Xt.current=void 0),At.clear()});f.useEffect(()=>je,[je]);const st=Le=>{em.clear(),da=!0,ke(!0),J&&!Et&&J(Le)},xt=Ne(Le=>{em.start(800+H,()=>{da=!1}),ke(!1),G&&Et&&G(Le),Re.start(ue.transitions.duration.shortest,()=>{De.current=!1})}),mn=Le=>{De.current&&Le.type!=="touchstart"||(oe&&oe.removeAttribute("title"),Ct.clear(),Nt.clear(),I||da&&O?Ct.start(da?O:I,()=>{st(Le)}):st(Le))},Rr=Le=>{Ct.clear(),Nt.start(H,()=>{xt(Le)})},{isFocusVisibleRef:Ts,onBlur:Ji,onFocus:Ao,ref:$o}=Fg(),[,Es]=f.useState(!1),ea=Le=>{Ji(Le),Ts.current===!1&&(Es(!1),Rr(Le))},ht=Le=>{oe||ce(Le.currentTarget),Ao(Le),Ts.current===!0&&(Es(!0),mn(Le))},gn=Le=>{De.current=!0;const vn=te.props;vn.onTouchStart&&vn.onTouchStart(Le)},Zr=Le=>{gn(Le),Nt.clear(),Re.clear(),je(),Xt.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",At.start(z,()=>{document.body.style.WebkitUserSelect=Xt.current,mn(Le)})},Yn=Le=>{te.props.onTouchEnd&&te.props.onTouchEnd(Le),je(),Nt.start(Y,()=>{xt(Le)})};f.useEffect(()=>{if(!Et)return;function Le(vn){(vn.key==="Escape"||vn.key==="Esc")&&xt(vn)}return document.addEventListener("keydown",Le),()=>{document.removeEventListener("keydown",Le)}},[xt,Et]);const qx=vt(js(te),$o,ce,n);!K&&K!==0&&(Et=!1);const Cc=f.useRef(),Kx=Le=>{const vn=te.props;vn.onMouseMove&&vn.onMouseMove(Le),Zo={x:Le.clientX,y:Le.clientY},Cc.current&&Cc.current.update()},Oo={},wc=typeof K=="string";N?(Oo.title=!Et&&wc&&!R?K:null,Oo["aria-describedby"]=Et?kn:null):(Oo["aria-label"]=wc?K:null,Oo["aria-labelledby"]=Et&&!wc?kn:null);const zn=b({},Oo,q,te.props,{className:re(q.className,te.props.className),onTouchStart:gn,ref:qx},$?{onMouseMove:Kx}:{}),Lo={};D||(zn.onTouchStart=Zr,zn.onTouchEnd=Yn),R||(zn.onMouseOver=ua(mn,zn.onMouseOver),zn.onMouseLeave=ua(Rr,zn.onMouseLeave),Me||(Lo.onMouseOver=mn,Lo.onMouseLeave=Rr)),L||(zn.onFocus=ua(ht,zn.onFocus),zn.onBlur=ua(ea,zn.onBlur),Me||(Lo.onFocus=ht,Lo.onBlur=ea));const Qx=f.useMemo(()=>{var Le;let vn=[{name:"arrow",enabled:!!xe,options:{element:xe,padding:4}}];return(Le=ee.popperOptions)!=null&&Le.modifiers&&(vn=vn.concat(ee.popperOptions.modifiers)),b({},ee.popperOptions,{modifiers:vn})},[xe,ee]),Fo=b({},S,{isRtl:Te,arrow:E,disableInteractive:Me,placement:V,PopperComponentProp:le,touch:De.current}),Sc=iD(Fo),Tp=(r=(s=ie.popper)!=null?s:k.Popper)!=null?r:aD,Ep=(i=(a=(l=ie.transition)!=null?l:k.Transition)!=null?a:B)!=null?i:Ei,Mp=(c=(d=ie.tooltip)!=null?d:k.Tooltip)!=null?c:lD,Pp=(u=(p=ie.arrow)!=null?p:k.Arrow)!=null?u:cD,Xx=zs(Tp,b({},ee,(h=X.popper)!=null?h:M.popper,{className:re(Sc.popper,ee==null?void 0:ee.className,(g=(v=X.popper)!=null?v:M.popper)==null?void 0:g.className)}),Fo),Zx=zs(Ep,b({},F,(m=X.transition)!=null?m:M.transition),Fo),Jx=zs(Mp,b({},(y=X.tooltip)!=null?y:M.tooltip,{className:re(Sc.tooltip,(x=(w=X.tooltip)!=null?w:M.tooltip)==null?void 0:x.className)}),Fo),eb=zs(Pp,b({},(C=X.arrow)!=null?C:M.arrow,{className:re(Sc.arrow,(j=(_=X.arrow)!=null?_:M.arrow)==null?void 0:j.className)}),Fo);return o.jsxs(f.Fragment,{children:[f.cloneElement(te,zn),o.jsx(Tp,b({as:le??Oy,placement:V,anchorEl:$?{getBoundingClientRect:()=>({top:Zo.y,left:Zo.x,right:Zo.x,bottom:Zo.y,width:0,height:0})}:oe,popperRef:Cc,open:oe?Et:!1,id:kn,transition:!0},Lo,Xx,{popperOptions:Qx,children:({TransitionProps:Le})=>o.jsx(Ep,b({timeout:ue.transitions.duration.shorter},Le,Zx,{children:o.jsxs(Mp,b({},Jx,{children:[K,E?o.jsx(Pp,b({},eb,{ref:ve})):null]}))}))}))]})}),Qi=f.createContext({}),ac=f.createContext({});function dD(e){return pe("MuiStep",e)}he("MuiStep",["root","horizontal","vertical","alternativeLabel","completed"]);const uD=["active","children","className","component","completed","disabled","expanded","index","last"],pD=e=>{const{classes:t,orientation:n,alternativeLabel:r,completed:s}=e;return ge({root:["root",n,r&&"alternativeLabel",s&&"completed"]},dD,t)},hD=U("div",{name:"MuiStep",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.alternativeLabel&&t.alternativeLabel,n.completed&&t.completed]}})(({ownerState:e})=>b({},e.orientation==="horizontal"&&{paddingLeft:8,paddingRight:8},e.alternativeLabel&&{flex:1,position:"relative"})),Gc=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiStep"}),{active:s,children:i,className:a,component:l="div",completed:c,disabled:d,expanded:u=!1,index:p,last:h}=r,g=Z(r,uD),{activeStep:v,connector:m,alternativeLabel:y,orientation:x,nonLinear:w}=f.useContext(Qi);let[C=!1,j=!1,_=!1]=[s,c,d];v===p?C=s!==void 0?s:!0:!w&&v>p?j=c!==void 0?c:!0:!w&&v<p&&(_=d!==void 0?d:!0);const S=f.useMemo(()=>({index:p,last:h,expanded:u,icon:p+1,active:C,completed:j,disabled:_}),[p,h,u,C,j,_]),E=b({},r,{active:C,orientation:x,alternativeLabel:y,completed:j,disabled:_,expanded:u,component:l}),T=pD(E),k=o.jsxs(hD,b({as:l,className:re(T.root,a),ref:n,ownerState:E},g,{children:[m&&y&&p!==0?m:null,i]}));return o.jsx(ac.Provider,{value:S,children:m&&!y&&p!==0?o.jsxs(f.Fragment,{children:[m,k]}):k})}),fD=fe(o.jsx("path",{d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"}),"CheckCircle"),mD=fe(o.jsx("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning");function gD(e){return pe("MuiStepIcon",e)}const qc=he("MuiStepIcon",["root","active","completed","error","text"]);var nm;const vD=["active","className","completed","error","icon"],yD=e=>{const{classes:t,active:n,completed:r,error:s}=e;return ge({root:["root",n&&"active",r&&"completed",s&&"error"],text:["text"]},gD,t)},Kc=U(Xa,{name:"MuiStepIcon",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({display:"block",transition:e.transitions.create("color",{duration:e.transitions.duration.shortest}),color:(e.vars||e).palette.text.disabled,[`&.${qc.completed}`]:{color:(e.vars||e).palette.primary.main},[`&.${qc.active}`]:{color:(e.vars||e).palette.primary.main},[`&.${qc.error}`]:{color:(e.vars||e).palette.error.main}})),xD=U("text",{name:"MuiStepIcon",slot:"Text",overridesResolver:(e,t)=>t.text})(({theme:e})=>({fill:(e.vars||e).palette.primary.contrastText,fontSize:e.typography.caption.fontSize,fontFamily:e.typography.fontFamily})),bD=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiStepIcon"}),{active:s=!1,className:i,completed:a=!1,error:l=!1,icon:c}=r,d=Z(r,vD),u=b({},r,{active:s,completed:a,error:l}),p=yD(u);if(typeof c=="number"||typeof c=="string"){const h=re(i,p.root);return l?o.jsx(Kc,b({as:mD,className:h,ref:n,ownerState:u},d)):a?o.jsx(Kc,b({as:fD,className:h,ref:n,ownerState:u},d)):o.jsxs(Kc,b({className:h,ref:n,ownerState:u},d,{children:[nm||(nm=o.jsx("circle",{cx:"12",cy:"12",r:"12"})),o.jsx(xD,{className:p.text,x:"12",y:"12",textAnchor:"middle",dominantBaseline:"central",ownerState:u,children:c})]}))}return c});function CD(e){return pe("MuiStepLabel",e)}const zr=he("MuiStepLabel",["root","horizontal","vertical","label","active","completed","error","disabled","iconContainer","alternativeLabel","labelContainer"]),wD=["children","className","componentsProps","error","icon","optional","slotProps","StepIconComponent","StepIconProps"],SD=e=>{const{classes:t,orientation:n,active:r,completed:s,error:i,disabled:a,alternativeLabel:l}=e;return ge({root:["root",n,i&&"error",a&&"disabled",l&&"alternativeLabel"],label:["label",r&&"active",s&&"completed",i&&"error",a&&"disabled",l&&"alternativeLabel"],iconContainer:["iconContainer",r&&"active",s&&"completed",i&&"error",a&&"disabled",l&&"alternativeLabel"],labelContainer:["labelContainer",l&&"alternativeLabel"]},CD,t)},jD=U("span",{name:"MuiStepLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation]]}})(({ownerState:e})=>b({display:"flex",alignItems:"center",[`&.${zr.alternativeLabel}`]:{flexDirection:"column"},[`&.${zr.disabled}`]:{cursor:"default"}},e.orientation==="vertical"&&{textAlign:"left",padding:"8px 0"})),kD=U("span",{name:"MuiStepLabel",slot:"Label",overridesResolver:(e,t)=>t.label})(({theme:e})=>b({},e.typography.body2,{display:"block",transition:e.transitions.create("color",{duration:e.transitions.duration.shortest}),[`&.${zr.active}`]:{color:(e.vars||e).palette.text.primary,fontWeight:500},[`&.${zr.completed}`]:{color:(e.vars||e).palette.text.primary,fontWeight:500},[`&.${zr.alternativeLabel}`]:{marginTop:16},[`&.${zr.error}`]:{color:(e.vars||e).palette.error.main}})),_D=U("span",{name:"MuiStepLabel",slot:"IconContainer",overridesResolver:(e,t)=>t.iconContainer})(()=>({flexShrink:0,display:"flex",paddingRight:8,[`&.${zr.alternativeLabel}`]:{paddingRight:0}})),TD=U("span",{name:"MuiStepLabel",slot:"LabelContainer",overridesResolver:(e,t)=>t.labelContainer})(({theme:e})=>({width:"100%",color:(e.vars||e).palette.text.secondary,[`&.${zr.alternativeLabel}`]:{textAlign:"center"}})),Ra=f.forwardRef(function(t,n){var r;const s=we({props:t,name:"MuiStepLabel"}),{children:i,className:a,componentsProps:l={},error:c=!1,icon:d,optional:u,slotProps:p={},StepIconComponent:h,StepIconProps:g}=s,v=Z(s,wD),{alternativeLabel:m,orientation:y}=f.useContext(Qi),{active:x,disabled:w,completed:C,icon:j}=f.useContext(ac),_=d||j;let S=h;_&&!S&&(S=bD);const E=b({},s,{active:x,alternativeLabel:m,completed:C,disabled:w,error:c,orientation:y}),T=SD(E),k=(r=p.label)!=null?r:l.label;return o.jsxs(jD,b({className:re(T.root,a),ref:n,ownerState:E},v,{children:[_||S?o.jsx(_D,{className:T.iconContainer,ownerState:E,children:o.jsx(S,b({completed:C,active:x,error:c,icon:_},g))}):null,o.jsxs(TD,{className:T.labelContainer,ownerState:E,children:[i?o.jsx(kD,b({ownerState:E},k,{className:re(T.label,k==null?void 0:k.className),children:i})):null,u]})]}))});Ra.muiName="StepLabel";function ED(e){return pe("MuiStepConnector",e)}he("MuiStepConnector",["root","horizontal","vertical","alternativeLabel","active","completed","disabled","line","lineHorizontal","lineVertical"]);const MD=["className"],PD=e=>{const{classes:t,orientation:n,alternativeLabel:r,active:s,completed:i,disabled:a}=e,l={root:["root",n,r&&"alternativeLabel",s&&"active",i&&"completed",a&&"disabled"],line:["line",`line${Q(n)}`]};return ge(l,ED,t)},ID=U("div",{name:"MuiStepConnector",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.alternativeLabel&&t.alternativeLabel,n.completed&&t.completed]}})(({ownerState:e})=>b({flex:"1 1 auto"},e.orientation==="vertical"&&{marginLeft:12},e.alternativeLabel&&{position:"absolute",top:12,left:"calc(-50% + 20px)",right:"calc(50% + 20px)"})),RD=U("span",{name:"MuiStepConnector",slot:"Line",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.line,t[`line${Q(n.orientation)}`]]}})(({ownerState:e,theme:t})=>{const n=t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[600];return b({display:"block",borderColor:t.vars?t.vars.palette.StepConnector.border:n},e.orientation==="horizontal"&&{borderTopStyle:"solid",borderTopWidth:1},e.orientation==="vertical"&&{borderLeftStyle:"solid",borderLeftWidth:1,minHeight:24})}),DD=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiStepConnector"}),{className:s}=r,i=Z(r,MD),{alternativeLabel:a,orientation:l="horizontal"}=f.useContext(Qi),{active:c,disabled:d,completed:u}=f.useContext(ac),p=b({},r,{alternativeLabel:a,orientation:l,active:c,completed:u,disabled:d}),h=PD(p);return o.jsx(ID,b({className:re(h.root,s),ref:n,ownerState:p},i,{children:o.jsx(RD,{className:h.line,ownerState:p})}))});function ND(e){return pe("MuiStepContent",e)}he("MuiStepContent",["root","last","transition"]);const AD=["children","className","TransitionComponent","transitionDuration","TransitionProps"],$D=e=>{const{classes:t,last:n}=e;return ge({root:["root",n&&"last"],transition:["transition"]},ND,t)},OD=U("div",{name:"MuiStepContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.last&&t.last]}})(({ownerState:e,theme:t})=>b({marginLeft:12,paddingLeft:20,paddingRight:8,borderLeft:t.vars?`1px solid ${t.vars.palette.StepContent.border}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[600]}`},e.last&&{borderLeft:"none"})),LD=U(Qu,{name:"MuiStepContent",slot:"Transition",overridesResolver:(e,t)=>t.transition})({}),Qc=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiStepContent"}),{children:s,className:i,TransitionComponent:a=Qu,transitionDuration:l="auto",TransitionProps:c}=r,d=Z(r,AD),{orientation:u}=f.useContext(Qi),{active:p,last:h,expanded:g}=f.useContext(ac),v=b({},r,{last:h}),m=$D(v);let y=l;return l==="auto"&&!a.muiSupportAuto&&(y=void 0),o.jsx(OD,b({className:re(m.root,i),ref:n,ownerState:v},d,{children:o.jsx(LD,b({as:a,in:p||g,className:m.transition,ownerState:v,timeout:y,unmountOnExit:!0},c,{children:s}))}))});function FD(e){return pe("MuiStepper",e)}he("MuiStepper",["root","horizontal","vertical","nonLinear","alternativeLabel"]);const zD=["activeStep","alternativeLabel","children","className","component","connector","nonLinear","orientation"],BD=e=>{const{orientation:t,nonLinear:n,alternativeLabel:r,classes:s}=e;return ge({root:["root",t,n&&"nonLinear",r&&"alternativeLabel"]},FD,s)},WD=U("div",{name:"MuiStepper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.alternativeLabel&&t.alternativeLabel,n.nonLinear&&t.nonLinear]}})(({ownerState:e})=>b({display:"flex"},e.orientation==="horizontal"&&{flexDirection:"row",alignItems:"center"},e.orientation==="vertical"&&{flexDirection:"column"},e.alternativeLabel&&{alignItems:"flex-start"})),HD=o.jsx(DD,{}),UD=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiStepper"}),{activeStep:s=0,alternativeLabel:i=!1,children:a,className:l,component:c="div",connector:d=HD,nonLinear:u=!1,orientation:p="horizontal"}=r,h=Z(r,zD),g=b({},r,{nonLinear:u,alternativeLabel:i,orientation:p,component:c}),v=BD(g),m=f.Children.toArray(a).filter(Boolean),y=m.map((w,C)=>f.cloneElement(w,b({index:C,last:C+1===m.length},w.props))),x=f.useMemo(()=>({activeStep:s,alternativeLabel:i,connector:d,nonLinear:u,orientation:p}),[s,i,d,u,p]);return o.jsx(Qi.Provider,{value:x,children:o.jsx(WD,b({as:c,ownerState:g,className:re(v.root,l),ref:n},h,{children:y}))})});function VD(e){return pe("MuiSwitch",e)}const Jt=he("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),YD=["className","color","edge","size","sx"],GD=e=>{const{classes:t,edge:n,size:r,color:s,checked:i,disabled:a}=e,l={root:["root",n&&`edge${Q(n)}`,`size${Q(r)}`],switchBase:["switchBase",`color${Q(s)}`,i&&"checked",a&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},c=ge(l,VD,t);return b({},t,c)},qD=U("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.edge&&t[`edge${Q(n.edge)}`],t[`size${Q(n.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${Jt.thumb}`]:{width:16,height:16},[`& .${Jt.switchBase}`]:{padding:4,[`&.${Jt.checked}`]:{transform:"translateX(16px)"}}}}]}),KD=U(zy,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.switchBase,{[`& .${Jt.input}`]:t.input},n.color!=="default"&&t[`color${Q(n.color)}`]]}})(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${Jt.checked}`]:{transform:"translateX(20px)"},[`&.${Jt.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${Jt.checked} + .${Jt.track}`]:{opacity:.5},[`&.${Jt.disabled} + .${Jt.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${Jt.input}`]:{left:"-100%",width:"300%"}}),({theme:e})=>({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:ze(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(e.palette).filter(([,t])=>t.main&&t.light).map(([t])=>({props:{color:t},style:{[`&.${Jt.checked}`]:{color:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ze(e.palette[t].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Jt.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t}DisabledColor`]:`${e.palette.mode==="light"?oo(e.palette[t].main,.62):so(e.palette[t].main,.55)}`}},[`&.${Jt.checked} + .${Jt.track}`]:{backgroundColor:(e.vars||e).palette[t].main}}}))]})),QD=U("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`})),XD=U("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),Qs=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiSwitch"}),{className:s,color:i="primary",edge:a=!1,size:l="medium",sx:c}=r,d=Z(r,YD),u=b({},r,{color:i,edge:a,size:l}),p=GD(u),h=o.jsx(XD,{className:p.thumb,ownerState:u});return o.jsxs(qD,{className:re(p.root,s),sx:c,ownerState:u,children:[o.jsx(KD,b({type:"checkbox",icon:h,checkedIcon:h,ref:n,ownerState:u},d,{classes:b({},p,{root:p.switchBase})})),o.jsx(QD,{className:p.track,ownerState:u})]})}),Zy=f.createContext();function ZD(e){return pe("MuiTable",e)}he("MuiTable",["root","stickyHeader"]);const JD=["className","component","padding","size","stickyHeader"],eN=e=>{const{classes:t,stickyHeader:n}=e;return ge({root:["root",n&&"stickyHeader"]},ZD,t)},tN=U("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>b({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":b({},e.typography.body2,{padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},t.stickyHeader&&{borderCollapse:"separate"})),rm="table",lc=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiTable"}),{className:s,component:i=rm,padding:a="normal",size:l="medium",stickyHeader:c=!1}=r,d=Z(r,JD),u=b({},r,{component:i,padding:a,size:l,stickyHeader:c}),p=eN(u),h=f.useMemo(()=>({padding:a,size:l,stickyHeader:c}),[a,l,c]);return o.jsx(Zy.Provider,{value:h,children:o.jsx(tN,b({as:i,role:i===rm?null:"table",ref:n,className:re(p.root,s),ownerState:u},d))})}),cc=f.createContext();function nN(e){return pe("MuiTableBody",e)}he("MuiTableBody",["root"]);const rN=["className","component"],sN=e=>{const{classes:t}=e;return ge({root:["root"]},nN,t)},oN=U("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),iN={variant:"body"},sm="tbody",dc=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiTableBody"}),{className:s,component:i=sm}=r,a=Z(r,rN),l=b({},r,{component:i}),c=sN(l);return o.jsx(cc.Provider,{value:iN,children:o.jsx(oN,b({className:re(c.root,s),as:i,ref:n,role:i===sm?null:"rowgroup",ownerState:l},a))})});function aN(e){return pe("MuiTableCell",e)}const lN=he("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),cN=["align","className","component","padding","scope","size","sortDirection","variant"],dN=e=>{const{classes:t,variant:n,align:r,padding:s,size:i,stickyHeader:a}=e,l={root:["root",n,a&&"stickyHeader",r!=="inherit"&&`align${Q(r)}`,s!=="normal"&&`padding${Q(s)}`,`size${Q(i)}`]};return ge(l,aN,t)},uN=U("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${Q(n.size)}`],n.padding!=="normal"&&t[`padding${Q(n.padding)}`],n.align!=="inherit"&&t[`align${Q(n.align)}`],n.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>b({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?oo(ze(e.palette.divider,1),.88):so(ze(e.palette.divider,1),.68)}`,textAlign:"left",padding:16},t.variant==="head"&&{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},t.variant==="body"&&{color:(e.vars||e).palette.text.primary},t.variant==="footer"&&{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},t.size==="small"&&{padding:"6px 16px",[`&.${lN.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},t.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},t.padding==="none"&&{padding:0},t.align==="left"&&{textAlign:"left"},t.align==="center"&&{textAlign:"center"},t.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},t.align==="justify"&&{textAlign:"justify"},t.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default})),Be=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiTableCell"}),{align:s="inherit",className:i,component:a,padding:l,scope:c,size:d,sortDirection:u,variant:p}=r,h=Z(r,cN),g=f.useContext(Zy),v=f.useContext(cc),m=v&&v.variant==="head";let y;a?y=a:y=m?"th":"td";let x=c;y==="td"?x=void 0:!x&&m&&(x="col");const w=p||v&&v.variant,C=b({},r,{align:s,component:y,padding:l||(g&&g.padding?g.padding:"normal"),size:d||(g&&g.size?g.size:"medium"),sortDirection:u,stickyHeader:w==="head"&&g&&g.stickyHeader,variant:w}),j=dN(C);let _=null;return u&&(_=u==="asc"?"ascending":"descending"),o.jsx(uN,b({as:y,ref:n,className:re(j.root,i),"aria-sort":_,scope:x,ownerState:C},h))});function pN(e){return pe("MuiTableContainer",e)}he("MuiTableContainer",["root"]);const hN=["className","component"],fN=e=>{const{classes:t}=e;return ge({root:["root"]},pN,t)},mN=U("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),uc=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiTableContainer"}),{className:s,component:i="div"}=r,a=Z(r,hN),l=b({},r,{component:i}),c=fN(l);return o.jsx(mN,b({ref:n,as:i,className:re(c.root,s),ownerState:l},a))});function gN(e){return pe("MuiTableHead",e)}he("MuiTableHead",["root"]);const vN=["className","component"],yN=e=>{const{classes:t}=e;return ge({root:["root"]},gN,t)},xN=U("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),bN={variant:"head"},om="thead",pc=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiTableHead"}),{className:s,component:i=om}=r,a=Z(r,vN),l=b({},r,{component:i}),c=yN(l);return o.jsx(cc.Provider,{value:bN,children:o.jsx(xN,b({as:i,className:re(c.root,s),ref:n,role:i===om?null:"rowgroup",ownerState:l},a))})});function CN(e){return pe("MuiTableRow",e)}const im=he("MuiTableRow",["root","selected","hover","head","footer"]),wN=["className","component","hover","selected"],SN=e=>{const{classes:t,selected:n,hover:r,head:s,footer:i}=e;return ge({root:["root",n&&"selected",r&&"hover",s&&"head",i&&"footer"]},CN,t)},jN=U("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.head&&t.head,n.footer&&t.footer]}})(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${im.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${im.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:ze(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:ze(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}})),am="tr",Gr=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiTableRow"}),{className:s,component:i=am,hover:a=!1,selected:l=!1}=r,c=Z(r,wN),d=f.useContext(cc),u=b({},r,{component:i,hover:a,selected:l,head:d&&d.variant==="head",footer:d&&d.variant==="footer"}),p=SN(u);return o.jsx(jN,b({as:i,ref:n,className:re(p.root,s),role:i===am?null:"row",ownerState:u},c))});function kN(e){return pe("MuiTextField",e)}he("MuiTextField",["root"]);const _N=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],TN={standard:ap,filled:ip,outlined:dp},EN=e=>{const{classes:t}=e;return ge({root:["root"]},kN,t)},MN=U(ar,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Ye=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiTextField"}),{autoComplete:s,autoFocus:i=!1,children:a,className:l,color:c="primary",defaultValue:d,disabled:u=!1,error:p=!1,FormHelperTextProps:h,fullWidth:g=!1,helperText:v,id:m,InputLabelProps:y,inputProps:x,InputProps:w,inputRef:C,label:j,maxRows:_,minRows:S,multiline:E=!1,name:T,onBlur:k,onChange:M,onFocus:N,placeholder:L,required:R=!1,rows:P,select:D=!1,SelectProps:I,type:O,value:z,variant:$="outlined"}=r,A=Z(r,_N),H=b({},r,{autoFocus:i,color:c,disabled:u,error:p,fullWidth:g,multiline:E,required:R,select:D,variant:$}),Y=EN(H),G={};$==="outlined"&&(y&&typeof y.shrink<"u"&&(G.notched=y.shrink),G.label=j),D&&((!I||!I.native)&&(G.id=void 0),G["aria-describedby"]=void 0);const J=ko(m),ae=v&&J?`${J}-helper-text`:void 0,V=j&&J?`${J}-label`:void 0,le=TN[$],ee=o.jsx(le,b({"aria-describedby":ae,autoComplete:s,autoFocus:i,defaultValue:d,fullWidth:g,multiline:E,name:T,rows:P,maxRows:_,minRows:S,type:O,value:z,id:J,inputRef:C,onBlur:k,onChange:M,onFocus:N,placeholder:L,inputProps:x},G,w));return o.jsxs(MN,b({className:re(Y.root,l),disabled:u,error:p,fullWidth:g,ref:n,required:R,color:c,variant:$,ownerState:H},A,{children:[j!=null&&j!==""&&o.jsx(Er,b({htmlFor:J,id:V},y,{children:j})),D?o.jsx(dr,b({"aria-describedby":ae,id:J,labelId:V,value:z,input:ee},I,{children:a})):ee,v&&o.jsx(IP,b({id:ae},h,{children:v}))]}))});function PN({children:e}){const{user:t,admin:n,loading:r}=Ht();return console.log("🛡️ ProtectedRoute check:",{user:(t==null?void 0:t.email)||"no user",admin:(n==null?void 0:n.email)||"no admin",loading:r}),r?o.jsx(ne,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",children:o.jsx(Cn,{})}):!t||!n?(console.log("🚫 Access denied, redirecting to login"),o.jsx(Ca,{to:"/login",replace:!0})):o.jsx(o.Fragment,{children:e})}const IN=fe(o.jsx("path",{d:"M4 10h3v7H4zm6.5 0h3v7h-3zM2 19h20v3H2zm15-9h3v7h-3zm-5-9L2 6v2h20V6z"}),"AccountBalance"),Jy=fe(o.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle"),Xi=fe(o.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),RN=fe(o.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-5h2zm4 0h-2v-3h2zm0-5h-2v-2h2zm4 5h-2V7h2z"}),"Analytics"),DN=fe(o.jsx("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8z"}),"ArrowDownward"),NN=fe(o.jsx("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8z"}),"ArrowUpward"),go=fe(o.jsx("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4"}),"AttachMoney"),$d=fe(o.jsx("path",{d:"M12 7V3H2v18h20V7zM6 19H4v-2h2zm0-4H4v-2h2zm0-4H4V9h2zm0-4H4V5h2zm4 12H8v-2h2zm0-4H8v-2h2zm0-4H8V9h2zm0-4H8V5h2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8zm-2-8h-2v2h2zm0 4h-2v2h2z"}),"Business"),pp=fe(o.jsx("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 16H5V10h14zM9 14H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2zm-8 4H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2z"}),"CalendarMonth"),AN=fe(o.jsx("path",{d:"M18 11v2h4v-2zm-2 6.61c.96.71 2.21 1.65 3.2 2.39.4-.53.8-1.07 1.2-1.6-.99-.74-2.24-1.68-3.2-2.4-.4.54-.8 1.08-1.2 1.61M20.4 5.6c-.4-.53-.8-1.07-1.2-1.6-.99.74-2.24 1.68-3.2 2.4.4.53.8 1.07 1.2 1.6.96-.72 2.21-1.65 3.2-2.4M4 9c-1.1 0-2 .9-2 2v2c0 1.1.9 2 2 2h1v4h2v-4h1l5 3V6L8 9zm11.5 3c0-1.33-.58-2.53-1.5-3.35v6.69c.92-.81 1.5-2.01 1.5-3.34"}),"Campaign"),sl=fe(o.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel"),Od=fe(o.jsx("path",{d:"M20 2H4c-1.11 0-2 .89-2 2v11c0 1.11.89 2 2 2h4v5l4-2 4 2v-5h4c1.11 0 2-.89 2-2V4c0-1.11-.89-2-2-2m0 13H4v-2h16zm0-5H4V4h16z"}),"CardMembership"),os=fe(o.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),hp=fe(o.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),$N=fe(o.jsx("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft"),ON=fe(o.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight"),fp=fe(o.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),ex=fe(o.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy"),Ld=fe(o.jsx("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4v-6h16zm0-10H4V6h16z"}),"CreditCard"),LN=fe(o.jsx("path",{d:"M3 13h8V3H3zm0 8h8v-6H3zm10 0h8V11h-8zm0-18v6h8V3z"}),"Dashboard"),xs=fe(o.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),Mi=fe(o.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),Fd=fe(o.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email"),FN=fe(o.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"ErrorOutline"),zN=fe(o.jsx("path",{d:"M10.09 15.59 11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"ExitToApp"),BN=fe(o.jsx("path",{d:"M19 9h-4V3H9v6H5l7 7zM5 18v2h14v-2z"}),"FileDownload"),WN=fe(o.jsx("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"}),"FilterList"),HN=fe(o.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"}),"History"),lm=fe(o.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info"),UN=fe(o.jsx("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),"Link"),VN=fe(o.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"}),"LocationOn"),YN=fe(o.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l4 4 4-4H6c0-3.86 3.14-7 7-7s7 3.14 7 7-3.14 7-7 7c-1.9 0-3.62-.76-4.88-1.99L6.7 18.42C8.32 20.01 10.55 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m2 8v-1c0-1.1-.9-2-2-2s-2 .9-2 2v1c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-3c0-.55-.45-1-1-1m-1 0h-2v-1c0-.55.45-1 1-1s1 .45 1 1z"}),"LockReset"),GN=fe(o.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),tx=fe(o.jsx("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1z"}),"Notifications"),fi=fe(o.jsx("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4v-6h16zm0-10H4V6h16z"}),"Payment"),mp=fe(o.jsx("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"People"),qN=fe(o.jsx("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02z"}),"Phone"),KN=fe(o.jsx("path",{d:"M16 1H8C6.34 1 5 2.34 5 4v16c0 1.66 1.34 3 3 3h8c1.66 0 3-1.34 3-3V4c0-1.66-1.34-3-3-3m-2 20h-4v-1h4zm3.25-3H6.75V4h10.5z"}),"PhoneAndroid"),QN=fe(o.jsx("path",{d:"M3 11h8V3H3zm2-6h4v4H5zM3 21h8v-8H3zm2-6h4v4H5zm8-12v8h8V3zm6 6h-4V5h4zm0 10h2v2h-2zm-6-6h2v2h-2zm2 2h2v2h-2zm-2 2h2v2h-2zm2 2h2v2h-2zm2-2h2v2h-2zm0-4h2v2h-2zm2 2h2v2h-2z"}),"QrCode"),gp=fe(o.jsx("path",{d:"M15 21h-2v-2h2zm-2-7h-2v5h2zm8-2h-2v4h2zm-2-2h-2v2h2zM7 12H5v2h2zm-2-2H3v2h2zm7-5h2V3h-2zm-7.5-.5v3h3v-3zM9 9H3V3h6zm-4.5 7.5v3h3v-3zM9 21H3v-6h6zm7.5-16.5v3h3v-3zM21 9h-6V3h6zm-2 10v-3h-4v2h2v3h4v-2zm-2-7h-4v2h4zm-4-2H7v2h2v2h2v-2h2zm1-1V7h-2V5h-2v4zM6.75 5.25h-1.5v1.5h1.5zm0 12h-1.5v1.5h1.5zm12-12h-1.5v1.5h1.5z"}),"QrCode2"),nx=fe(o.jsx("path",{d:"M18 17H6v-2h12zm0-4H6v-2h12zm0-4H6V7h12zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2z"}),"Receipt"),XN=fe(o.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh"),zd=fe(o.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save"),ZN=fe(o.jsx("path",{d:"M19.8 18.4 14 10.67V6.5l1.35-1.69c.26-.33.03-.81-.39-.81H9.04c-.42 0-.65.48-.39.81L10 6.5v4.17L4.2 18.4c-.49.66-.02 1.6.8 1.6h14c.82 0 1.29-.94.8-1.6"}),"Science"),vp=fe(o.jsx("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11z"}),"Security"),Bd=fe(o.jsx("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send"),yp=fe(o.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),rx=fe(o.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92"}),"Share"),sx=fe(o.jsx("path",{d:"M19.52 2.49C17.18.15 12.9.62 9.97 3.55c-1.6 1.6-2.52 3.87-2.54 5.46-.02 1.58.26 3.89-1.35 5.5l-4.24 4.24 1.42 1.42 4.24-4.24c1.61-1.61 3.92-1.33 5.5-1.35s3.86-.94 5.46-2.54c2.92-2.93 3.4-7.21 1.06-9.55m-9.2 9.19c-1.53-1.53-1.05-4.61 1.06-6.72s5.18-2.59 6.72-1.06c1.53 1.53 1.05 4.61-1.06 6.72s-5.18 2.59-6.72 1.06M18 17c.53 0 1.04.21 1.41.59.78.78.78 2.05 0 2.83-.37.37-.88.58-1.41.58s-1.04-.21-1.41-.59c-.78-.78-.78-2.05 0-2.83.37-.37.88-.58 1.41-.58m0-2c-1.02 0-2.05.39-2.83 1.17-1.56 1.56-1.56 4.09 0 5.66.78.78 1.81 1.17 2.83 1.17s2.05-.39 2.83-1.17c1.56-1.56 1.56-4.09 0-5.66C20.05 15.39 19.02 15 18 15"}),"SportsTennis"),JN=fe(o.jsx("path",{d:"M2 20h20v-4H2zm2-3h2v2H4zM2 4v4h20V4zm4 3H4V5h2zm-4 7h20v-4H2zm2-3h2v2H4z"}),"Storage"),eA=fe(o.jsx("path",{d:"M20 4H4v2h16zm1 10v-2l-1-5H4l-1 5v2h1v6h10v-6h4v6h2v-6zm-9 4H6v-4h6z"}),"Store"),tA=fe(o.jsx("path",{d:"M16.5 12c1.38 0 2.49-1.12 2.49-2.5S17.88 7 16.5 7C15.12 7 14 8.12 14 9.5s1.12 2.5 2.5 2.5M9 11c1.66 0 2.99-1.34 2.99-3S10.66 5 9 5C7.34 5 6 6.34 6 8s1.34 3 3 3m7.5 3c-1.83 0-5.5.92-5.5 2.75V19h11v-2.25c0-1.83-3.67-2.75-5.5-2.75M9 13c-2.33 0-7 1.17-7 3.5V19h7v-2.25c0-.85.33-2.34 2.37-3.47C10.5 13.1 9.66 13 9 13"}),"SupervisorAccount"),Wd=fe(o.jsx("path",{d:"M9 1h6v2H9zm10.03 6.39 1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42C16.07 4.74 14.12 4 12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9 9-4.03 9-9c0-2.12-.74-4.07-1.97-5.61M13 14h-2V8h2z"}),"Timer"),hc=fe(o.jsx("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp"),nA=fe(o.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),rA=fe(o.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff"),ol=fe(o.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning"),sA=fe(o.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m-5 14H4v-4h11zm0-5H4V9h11zm5 5h-4V9h4z"}),"Web"),sn=()=>{const{admin:e}=Ht(),t=h=>e?e.role==="superadmin"?!0:Array.isArray(h)?h.some(g=>e.permissions.includes(g)):e.permissions.includes(h):!1;return{hasPermission:t,hasAllPermissions:h=>e?e.role==="superadmin"?!0:h.every(g=>e.permissions.includes(g)):!1,hasRole:h=>e?Array.isArray(h)?h.includes(e.role):e.role===h:!1,canAccessVenue:h=>e?e.role==="superadmin"?!0:e.venueId===h:!1,canManageAdmins:()=>t("manage_admins"),canManageAllVenues:()=>t("manage_all_venues"),canViewFinance:()=>t(["manage_finance","view_reports"]),canManageBookings:()=>t(["manage_bookings","manage_all_bookings"]),canManageCourts:()=>t(["manage_courts","manage_all_venues"]),canManageClub:()=>t(["manage_club","manage_all_venues"]),canViewReports:()=>t(["view_reports","view_all_reports"]),permissions:(e==null?void 0:e.permissions)||[],role:(e==null?void 0:e.role)||null,isSuperAdmin:(e==null?void 0:e.role)==="superadmin",isAdmin:(e==null?void 0:e.role)==="admin",isManager:(e==null?void 0:e.role)==="manager"}};function Hd({size:e=60,backgroundColor:t="#00A86B",courtColor:n="white",className:r}){return o.jsxs("svg",{viewBox:"0 0 120 120",xmlns:"http://www.w3.org/2000/svg",width:e,height:e,className:r,children:[o.jsx("rect",{x:"0",y:"0",width:"120",height:"120",rx:"24",fill:t}),o.jsx("rect",{x:"20",y:"20",width:"80",height:"80",rx:"8",fill:"none",stroke:n,strokeWidth:"3"}),o.jsx("line",{x1:"20",y1:"60",x2:"100",y2:"60",stroke:n,strokeWidth:"3"}),o.jsx("line",{x1:"60",y1:"20",x2:"60",y2:"100",stroke:n,strokeWidth:"3"})]})}function Ud(){var x;const e=Sn(),t=rb(),{club:n,logout:r,admin:s}=Ht(),{hasPermission:i,hasRole:a,isSuperAdmin:l,canViewFinance:c,canManageClub:d}=sn(),[u,p]=f.useState(!1),h=[{path:"/admin/dashboard",label:"Главная",icon:o.jsx(LN,{})},{path:"/admin/bookings",label:"Календарь",icon:o.jsx(pp,{}),permission:["manage_bookings","manage_all_bookings","view_bookings"]},...l?[{path:"/admin/venues",label:"Все клубы",icon:o.jsx(eA,{})},{path:"/admin/billing-settings",label:"Настройки биллинга",icon:o.jsx(fi,{})},{path:"/admin/admins",label:"Администраторы",icon:o.jsx(tA,{})}]:[],...d()?[{path:"/admin/club",label:"Управление клубом",icon:o.jsx($d,{})}]:[],{path:"/admin/subscription",label:"Подписка",icon:o.jsx(Od,{}),permission:["manage_club","manage_all_venues"]},{path:"/admin/payment-settings",label:"Настройки оплаты",icon:o.jsx(Ld,{}),permission:["manage_club","manage_all_venues"]},{path:"/admin/courts",label:"Корты",icon:o.jsx(sx,{}),permission:["manage_courts","manage_all_venues"]},{path:"/admin/customers",label:"Клиенты",icon:o.jsx(mp,{}),permission:["manage_all_users","manage_club"]},...c()?[{path:"/admin/finance",label:"Финансы",icon:o.jsx(go,{})}]:[],{path:"/admin/marketing",label:"Маркетинг",icon:o.jsx(hc,{}),roles:["superadmin","admin"]},...l?[{path:"/admin/settings",label:"Системные настройки",icon:o.jsx(yp,{})}]:[]].filter(w=>!(w.permission&&!i(w.permission)||w.roles&&!a(w.roles))),g=w=>t.pathname===w,v=w=>{e(w),window.innerWidth<=768&&p(!1)},m=()=>{p(!u)},y=()=>{const w=h.find(C=>g(C.path));return(w==null?void 0:w.label)||"Главная"};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:`sidebar-overlay ${u?"active":""}`,onClick:m}),o.jsxs("aside",{className:`sidebar ${u?"active":""}`,children:[o.jsx("button",{className:"sidebar-close",onClick:m,children:o.jsx(fp,{})}),o.jsxs("div",{className:"logo-section",children:[o.jsxs("div",{className:"platform-logo",children:[o.jsx(Hd,{size:40}),o.jsx("div",{className:"logo-text",children:"Все Корты"})]}),!l&&o.jsxs("div",{className:"club-info",children:[o.jsx("div",{className:"club-logo",children:n!=null&&n.logoUrl?o.jsx("img",{src:n.logoUrl,alt:n.name}):((x=n==null?void 0:n.name)==null?void 0:x.substring(0,2).toUpperCase())||"CL"}),o.jsx("div",{className:"club-name",children:(n==null?void 0:n.name)||"Загрузка..."})]}),l&&o.jsxs("div",{className:"club-info",children:[o.jsx("div",{className:"club-logo",style:{background:"#ef4444"},children:"SA"}),o.jsx("div",{className:"club-name",children:"Суперадминистратор"})]})]}),o.jsx("nav",{className:"nav-menu",children:h.map(w=>o.jsxs("a",{className:`nav-item ${g(w.path)?"active":""}`,onClick:()=>v(w.path),children:[o.jsx("span",{className:"nav-icon",children:w.icon}),o.jsx("span",{children:w.label})]},w.path))})]}),o.jsxs("div",{className:"main-container",children:[o.jsxs("header",{className:"header",children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[o.jsx("button",{className:"menu-toggle",onClick:m,children:o.jsx(GN,{})}),o.jsx("h1",{className:"page-title",children:y()})]}),o.jsxs("div",{className:"header-actions",children:[o.jsx("button",{className:"notification-btn",children:o.jsx(tx,{fontSize:"small"})}),o.jsxs("div",{className:"user-menu",children:[o.jsxs("div",{className:"user-info",children:[o.jsx("span",{className:"user-name",children:s==null?void 0:s.name}),o.jsx("span",{className:"user-role",children:s==null?void 0:s.role})]}),o.jsx("button",{className:"user-btn",children:o.jsx(Jy,{fontSize:"small"})}),o.jsx("button",{className:"logout-btn",onClick:r,title:"Выйти",children:o.jsx(zN,{fontSize:"small"})})]})]})]}),o.jsx("div",{className:"content",children:o.jsx(sb,{})})]})]})}const cm={"auth/email-already-in-use":"Этот email уже используется","auth/invalid-email":"Некорректный email адрес","auth/weak-password":"Пароль слишком слабый. Минимум 6 символов","auth/user-not-found":"Пользователь не найден","auth/wrong-password":"Неверный пароль","auth/too-many-requests":"Слишком много попыток. Попробуйте позже","auth/user-disabled":"Аккаунт заблокирован","auth/expired-action-code":"Ссылка устарела","auth/invalid-action-code":"Недействительная ссылка","auth/network-request-failed":"Ошибка сети. Проверьте интернет-соединение","permission-denied":"У вас нет прав для выполнения этого действия","not-found":"Запрашиваемые данные не найдены","already-exists":"Такая запись уже существует","resource-exhausted":"Превышен лимит запросов","failed-precondition":"Операция не может быть выполнена в текущем состоянии",aborted:"Операция была прервана","out-of-range":"Значение вне допустимого диапазона",unimplemented:"Функция не реализована",internal:"Внутренняя ошибка сервера",unavailable:"Сервис временно недоступен","data-loss":"Данные повреждены или утеряны",unauthenticated:"Требуется авторизация","booking/slot-occupied":"Это время уже занято","booking/invalid-date":"Некорректная дата бронирования","booking/past-date":"Нельзя забронировать на прошедшую дату","payment/card-declined":"Карта отклонена банком","payment/insufficient-funds":"Недостаточно средств на карте","payment/processing-error":"Ошибка обработки платежа"};function Vd(e){var t,n,r;if(console.error("Error caught:",e),e.code&&e.code.startsWith("auth/"))return{type:"AUTH",code:e.code,message:cm[e.code]||e.message||"Ошибка авторизации",originalError:e};if(e instanceof qm||e.code){const s=cm[e.code]||e.message||"Ошибка базы данных";let i="SERVER";return e.code==="permission-denied"||e.code==="unauthenticated"?i="PERMISSION":e.code==="not-found"?i="NOT_FOUND":(e.code==="unavailable"||(t=e.code)!=null&&t.includes("network"))&&(i="NETWORK"),{type:i,code:e.code,message:s,originalError:e}}return(n=e.message)!=null&&n.toLowerCase().includes("network")||(r=e.message)!=null&&r.toLowerCase().includes("fetch")?{type:"NETWORK",message:"Ошибка сети. Проверьте интернет-соединение",originalError:e}:e.type==="validation"||e.validationErrors?{type:"VALIDATION",message:e.message||"Ошибка валидации данных",details:e.validationErrors,originalError:e}:{type:"UNKNOWN",message:e.message||"Произошла неизвестная ошибка",originalError:e}}function oA(e){return typeof e=="string"?e:e.message?e.message:"Произошла ошибка. Попробуйте еще раз"}function ox(e,t){const n=new Date().toISOString();console.group(`🚨 Error at ${n}`),e.type&&console.error("Type:",e.type),e.code&&console.error("Code:",e.code),console.error("Message:",e.message||"Unknown error"),t&&console.error("Context:",t),e.originalError&&console.error("Original error:",e.originalError),e.details&&console.error("Details:",e.details),console.trace("Stack trace"),console.groupEnd()}function iA(){const e=Sn(),[t,n]=f.useState(""),[r,s]=f.useState(""),[i,a]=f.useState(!1),[l,c]=f.useState(null),[d,u]=f.useState(!1),p=async h=>{h.preventDefault(),c(null),u(!0);try{if(!t.trim())throw new Error("Email обязателен");if(!r)throw new Error("Пароль обязателен");const g=await Pb(en,t,r),v=Ge(Pe(se,"admins"),Ee("email","==",g.user.email));if((await qe(v)).empty)throw new Error("У вас нет прав доступа к админ-панели");setTimeout(()=>{e("/admin/dashboard")},100)}catch(g){const v=Vd(g);ox(v,{component:"Login",email:t}),c(oA(v))}finally{u(!1)}};return o.jsx(ne,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"#f5f5f5"},children:o.jsx(ot,{sx:{maxWidth:400,width:"100%",mx:2},children:o.jsxs(it,{sx:{p:4},children:[o.jsx(W,{variant:"h4",component:"h1",gutterBottom:!0,align:"center",children:"Админ-панель"}),o.jsx(W,{variant:"body2",color:"text.secondary",align:"center",sx:{mb:3},children:"Вход для сотрудников клубов"}),l&&o.jsx(lt,{severity:"error",sx:{mb:2},children:l}),o.jsxs("form",{onSubmit:p,children:[o.jsx(Ye,{fullWidth:!0,label:"Email",type:"email",value:t,onChange:h=>n(h.target.value),margin:"normal",required:!0,autoComplete:"email",autoFocus:!0}),o.jsx(Ye,{fullWidth:!0,label:"Пароль",type:i?"text":"password",value:r,onChange:h=>s(h.target.value),margin:"normal",required:!0,autoComplete:"current-password",InputProps:{endAdornment:o.jsx(aI,{position:"end",children:o.jsx(ln,{onClick:()=>a(!i),edge:"end",children:i?o.jsx(rA,{}):o.jsx(nA,{})})})}}),o.jsx(_e,{type:"submit",fullWidth:!0,variant:"contained",size:"large",sx:{mt:3,mb:2},disabled:d||!t||!r,startIcon:d&&o.jsx(Cn,{size:20,color:"inherit"}),children:d?"Вход...":"Войти"})]}),o.jsx(W,{variant:"body2",color:"text.secondary",align:"center",sx:{mt:2},children:"Забыли пароль? Обратитесь к администратору системы"}),o.jsx(ne,{sx:{mt:3,pt:3,borderTop:1,borderColor:"divider"},children:o.jsxs(W,{variant:"body2",color:"text.secondary",align:"center",children:["Хотите зарегистрировать свой клуб?"," ",o.jsx(_e,{variant:"text",onClick:()=>e("/register"),sx:{textTransform:"none"},children:"Создать аккаунт"})]})})]})})})}const dm=[{icon:o.jsx(sx,{}),title:"Управление кортами",description:"Настройка расписания и цен"},{icon:o.jsx(pp,{}),title:"Онлайн-бронирование",description:"Прием заявок 24/7"},{icon:o.jsx(mp,{}),title:"База клиентов",description:"CRM система для клуба"},{icon:o.jsx(RN,{}),title:"Аналитика и отчеты",description:"Статистика доходов и загрузки"},{icon:o.jsx(tx,{}),title:"Уведомления",description:"SMS и email рассылки"},{icon:o.jsx(fi,{}),title:"Онлайн-оплата",description:"Прием платежей картами"},{icon:o.jsx(yp,{}),title:"Гибкие настройки",description:"Адаптация под ваш клуб"},{icon:o.jsx(vp,{}),title:"Безопасность",description:"Защита данных клиентов"}];function aA(){const e=Sn(),[t,n]=f.useState(!1),[r,s]=f.useState(""),[i,a]=f.useState(!1),[l,c]=f.useState(!1),[d,u]=f.useState(0),[p,h]=f.useState(0),[g,v]=f.useState(!1),[m,y]=f.useState({name:"",address:"",city:"",phone:"",email:"",description:"",organizationType:"ИП",inn:"",bankAccount:"",adminPassword:""});f.useEffect(()=>{if(t){v(!0),h(0),u(0);const C=setInterval(()=>{u(_=>_>=95?(clearInterval(C),95):_+Math.random()*10)},500),j=setInterval(()=>{h(_=>_>=dm.length-1?(clearInterval(j),_):_+1)},2e3);return()=>{clearInterval(C),clearInterval(j)}}else v(!1),u(0),h(0)},[t]);const x=()=>{const C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let j="";for(let _=0;_<10;_++)j+=C.charAt(Math.floor(Math.random()*C.length));return j},w=async C=>{C.preventDefault(),console.log("Form submitted with data:",m),s(""),n(!0);try{if(!m.name||!m.address||!m.city||!m.phone||!m.email){s("Заполните все обязательные поля"),n(!1);return}const j=m.adminPassword||x();console.log("Generated/provided password:",j),en.currentUser&&(console.log("Signing out current user:",en.currentUser.email),await od(en)),console.log("Creating user with email:",m.email);const S=(await Km(en,m.email,j)).user.uid;console.log("User created successfully with ID:",S);const E={name:m.name,address:m.address,city:m.city,phone:m.phone,email:m.email,description:m.description||"",organizationType:m.organizationType,inn:m.inn,bankAccount:m.bankAccount||"",status:"pending",createdAt:new Date,updatedAt:new Date,logoUrl:"",amenities:[],location:null};console.log("Creating venue with data:",E);let T=!1,k="";try{console.log("Creating club via Cloud Function..."),console.log("Sending data:",{venueData:E,password:j,userId:S});const N=await(await fetch("https://europe-west1-sports-booking-app-1d7e5.cloudfunctions.net/createClubHttp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({venueData:E,password:j,userId:S})})).json();if(N.success)console.log("Club created via Cloud Function!"),T=!0,k=N.venueId;else throw new Error(N.error||"Unknown error")}catch(M){throw console.error("Cloud Function failed:",M),M}if(T)c(!1);else{console.log("Saving registration for manual processing...");const M={id:S,userId:S,venueData:E,password:j,timestamp:new Date().toISOString(),status:"pending_manual_creation"};localStorage.setItem("pendingClubRegistration_"+S,JSON.stringify(M)),c(!0)}y({...m,adminPassword:j}),(T||!l)&&u(100),en.currentUser&&(await od(en),console.log("Signed out after club creation")),a(!0),console.log("Registration completed successfully!")}catch(j){console.error("Error creating club:",j),console.error("Error details:",{code:j==null?void 0:j.code,message:j==null?void 0:j.message,stack:j==null?void 0:j.stack}),j.code==="auth/email-already-in-use"?s("Этот email уже используется. Пожалуйста, войдите в систему."):j.code==="auth/weak-password"?s("Пароль слишком слабый. Минимум 6 символов."):j.code==="auth/invalid-email"?s("Неверный формат email адреса."):s("Ошибка при создании клуба: "+(j.message||"Неизвестная ошибка"))}finally{n(!1)}};return o.jsxs(By,{component:"main",maxWidth:"md",children:[o.jsxs(ne,{sx:{marginTop:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[o.jsx(Hd,{size:60,className:"mb-4"}),o.jsx(W,{component:"h1",variant:"h4",gutterBottom:!0,children:"Регистрация клуба"}),o.jsx(W,{variant:"body2",color:"textSecondary",align:"center",sx:{mb:3},children:"Создайте аккаунт для управления вашим спортивным клубом"}),o.jsxs(fn,{sx:{width:"100%",p:4},children:[r&&o.jsx(lt,{severity:"error",sx:{mb:3},children:r}),o.jsxs("form",{onSubmit:w,children:[o.jsxs(ne,{sx:{display:"grid",gap:2,gridTemplateColumns:{md:"1fr 1fr"}},children:[o.jsx(W,{variant:"h6",sx:{gridColumn:"1 / -1",mb:1},children:"Информация о клубе"}),o.jsx(Ye,{label:"Название клуба",value:m.name,onChange:C=>y({...m,name:C.target.value}),fullWidth:!0,required:!0}),o.jsx(Ye,{label:"Адрес",value:m.address,onChange:C=>y({...m,address:C.target.value}),fullWidth:!0,required:!0}),o.jsx(Ye,{label:"Город",value:m.city,onChange:C=>y({...m,city:C.target.value}),fullWidth:!0,required:!0}),o.jsx(Ye,{label:"Телефон",value:m.phone,onChange:C=>y({...m,phone:C.target.value}),fullWidth:!0,required:!0,placeholder:"+7 (900) 123-45-67"}),o.jsx(Ye,{label:"Email",value:m.email,onChange:C=>y({...m,email:C.target.value}),fullWidth:!0,required:!0,type:"email",sx:{gridColumn:"1 / -1"}}),o.jsx(W,{variant:"h6",sx:{gridColumn:"1 / -1",mt:2,mb:1},children:"Юридическая информация"}),o.jsxs(ar,{fullWidth:!0,children:[o.jsx(Er,{children:"Форма организации"}),o.jsxs(dr,{value:m.organizationType,onChange:C=>y({...m,organizationType:C.target.value}),label:"Форма организации",children:[o.jsx(Mt,{value:"ИП",children:"ИП"}),o.jsx(Mt,{value:"ООО",children:"ООО"}),o.jsx(Mt,{value:"Самозанятый",children:"Самозанятый"})]})]}),o.jsx(Ye,{label:"ИНН",value:m.inn,onChange:C=>y({...m,inn:C.target.value}),fullWidth:!0}),o.jsx(Ye,{label:"Пароль администратора (необязательно)",value:m.adminPassword,onChange:C=>y({...m,adminPassword:C.target.value}),fullWidth:!0,type:"password",helperText:"Если не указан, будет сгенерирован автоматически"})]}),o.jsxs(ne,{sx:{mt:3,display:"flex",gap:2,justifyContent:"flex-end"},children:[o.jsx(_e,{type:"button",onClick:()=>e("/admin/login"),disabled:t,children:"Уже есть аккаунт?"}),o.jsx(_e,{type:"submit",variant:"contained",disabled:t,children:t?"Создание...":"Создать клуб"})]})]})]})]}),o.jsxs(or,{open:i,onClose:()=>{},maxWidth:"sm",fullWidth:!0,children:[o.jsx(Cr,{children:o.jsxs(ne,{display:"flex",alignItems:"center",gap:2,children:[o.jsx($d,{color:l?"warning":"success"}),l?"Регистрация отправлена!":"Клуб успешно создан!"]})}),o.jsxs(ir,{children:[o.jsx(lt,{severity:l?"warning":"success",sx:{mb:2},children:l?"Ваша заявка принята! Мы свяжемся с вами в течение 24 часов для завершения регистрации.":"Сохраните эти данные для входа в систему"}),o.jsxs(ne,{sx:{display:"flex",flexDirection:"column",gap:2},children:[o.jsxs(ne,{children:[o.jsx(W,{variant:"body2",color:"textSecondary",children:"Название клуба"}),o.jsx(W,{variant:"body1",fontWeight:"bold",children:m.name})]}),o.jsxs(ne,{children:[o.jsx(W,{variant:"body2",color:"textSecondary",children:"Email администратора"}),o.jsx(W,{variant:"body1",fontWeight:"bold",children:m.email})]}),o.jsxs(ne,{children:[o.jsx(W,{variant:"body2",color:"textSecondary",children:"Пароль администратора"}),o.jsx(W,{variant:"body1",fontWeight:"bold",children:m.adminPassword})]})]})]}),o.jsxs(br,{sx:{justifyContent:"space-between",px:3,pb:3},children:[o.jsx(_e,{onClick:()=>e("/"),variant:"outlined",children:"На главную"}),!l&&o.jsx(_e,{onClick:()=>window.open("/admin/login","_blank"),variant:"contained",startIcon:o.jsx($d,{}),children:"Вход для админов"})]})]}),o.jsx(or,{open:t,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{background:"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)",borderRadius:3}},children:o.jsx(ir,{sx:{py:4},children:o.jsxs(ne,{textAlign:"center",children:[o.jsx(Hd,{size:80,className:"mb-4"}),o.jsx(W,{variant:"h5",gutterBottom:!0,sx:{mb:4,fontWeight:600},children:"Создаем ваш клуб..."}),o.jsxs(ne,{sx:{mb:4},children:[o.jsx(Yy,{variant:"determinate",value:d,sx:{height:8,borderRadius:4,backgroundColor:"rgba(0, 168, 107, 0.1)","& .MuiLinearProgress-bar":{borderRadius:4,backgroundColor:"#00A86B"}}}),o.jsxs(W,{variant:"caption",sx:{mt:1,display:"block"},children:[Math.round(d),"%"]})]}),g&&o.jsx(ne,{sx:{minHeight:120},children:dm.map((C,j)=>o.jsx(Ki,{in:p>=j,timeout:1e3,style:{display:p===j?"block":"none"},children:o.jsxs(ne,{children:[o.jsx(ne,{sx:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:60,height:60,borderRadius:"50%",backgroundColor:"rgba(0, 168, 107, 0.1)",mb:2},children:Fe.cloneElement(C.icon,{sx:{fontSize:30,color:"#00A86B"}})}),o.jsx(W,{variant:"h6",gutterBottom:!0,children:C.title}),o.jsx(W,{variant:"body2",color:"textSecondary",children:C.description})]})},j))}),o.jsx(W,{variant:"body2",color:"textSecondary",sx:{mt:3},children:"Настраиваем систему управления для вашего клуба..."})]})})})]})}var lA=Object.defineProperty,il=Object.getOwnPropertySymbols,ix=Object.prototype.hasOwnProperty,ax=Object.prototype.propertyIsEnumerable,um=(e,t,n)=>t in e?lA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Yd=(e,t)=>{for(var n in t||(t={}))ix.call(t,n)&&um(e,n,t[n]);if(il)for(var n of il(t))ax.call(t,n)&&um(e,n,t[n]);return e},Gd=(e,t)=>{var n={};for(var r in e)ix.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&il)for(var r of il(e))t.indexOf(r)<0&&ax.call(e,r)&&(n[r]=e[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var bs;(e=>{const t=class $e{constructor(c,d,u,p){if(this.version=c,this.errorCorrectionLevel=d,this.modules=[],this.isFunction=[],c<$e.MIN_VERSION||c>$e.MAX_VERSION)throw new RangeError("Version value out of range");if(p<-1||p>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let h=[];for(let v=0;v<this.size;v++)h.push(!1);for(let v=0;v<this.size;v++)this.modules.push(h.slice()),this.isFunction.push(h.slice());this.drawFunctionPatterns();const g=this.addEccAndInterleave(u);if(this.drawCodewords(g),p==-1){let v=1e9;for(let m=0;m<8;m++){this.applyMask(m),this.drawFormatBits(m);const y=this.getPenaltyScore();y<v&&(p=m,v=y),this.applyMask(m)}}s(0<=p&&p<=7),this.mask=p,this.applyMask(p),this.drawFormatBits(p),this.isFunction=[]}static encodeText(c,d){const u=e.QrSegment.makeSegments(c);return $e.encodeSegments(u,d)}static encodeBinary(c,d){const u=e.QrSegment.makeBytes(c);return $e.encodeSegments([u],d)}static encodeSegments(c,d,u=1,p=40,h=-1,g=!0){if(!($e.MIN_VERSION<=u&&u<=p&&p<=$e.MAX_VERSION)||h<-1||h>7)throw new RangeError("Invalid value");let v,m;for(v=u;;v++){const C=$e.getNumDataCodewords(v,d)*8,j=a.getTotalBits(c,v);if(j<=C){m=j;break}if(v>=p)throw new RangeError("Data too long")}for(const C of[$e.Ecc.MEDIUM,$e.Ecc.QUARTILE,$e.Ecc.HIGH])g&&m<=$e.getNumDataCodewords(v,C)*8&&(d=C);let y=[];for(const C of c){n(C.mode.modeBits,4,y),n(C.numChars,C.mode.numCharCountBits(v),y);for(const j of C.getData())y.push(j)}s(y.length==m);const x=$e.getNumDataCodewords(v,d)*8;s(y.length<=x),n(0,Math.min(4,x-y.length),y),n(0,(8-y.length%8)%8,y),s(y.length%8==0);for(let C=236;y.length<x;C^=253)n(C,8,y);let w=[];for(;w.length*8<y.length;)w.push(0);return y.forEach((C,j)=>w[j>>>3]|=C<<7-(j&7)),new $e(v,d,w,h)}getModule(c,d){return 0<=c&&c<this.size&&0<=d&&d<this.size&&this.modules[d][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let u=0;u<this.size;u++)this.setFunctionModule(6,u,u%2==0),this.setFunctionModule(u,6,u%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),d=c.length;for(let u=0;u<d;u++)for(let p=0;p<d;p++)u==0&&p==0||u==0&&p==d-1||u==d-1&&p==0||this.drawAlignmentPattern(c[u],c[p]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const d=this.errorCorrectionLevel.formatBits<<3|c;let u=d;for(let h=0;h<10;h++)u=u<<1^(u>>>9)*1335;const p=(d<<10|u)^21522;s(p>>>15==0);for(let h=0;h<=5;h++)this.setFunctionModule(8,h,r(p,h));this.setFunctionModule(8,7,r(p,6)),this.setFunctionModule(8,8,r(p,7)),this.setFunctionModule(7,8,r(p,8));for(let h=9;h<15;h++)this.setFunctionModule(14-h,8,r(p,h));for(let h=0;h<8;h++)this.setFunctionModule(this.size-1-h,8,r(p,h));for(let h=8;h<15;h++)this.setFunctionModule(8,this.size-15+h,r(p,h));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let u=0;u<12;u++)c=c<<1^(c>>>11)*7973;const d=this.version<<12|c;s(d>>>18==0);for(let u=0;u<18;u++){const p=r(d,u),h=this.size-11+u%3,g=Math.floor(u/3);this.setFunctionModule(h,g,p),this.setFunctionModule(g,h,p)}}drawFinderPattern(c,d){for(let u=-4;u<=4;u++)for(let p=-4;p<=4;p++){const h=Math.max(Math.abs(p),Math.abs(u)),g=c+p,v=d+u;0<=g&&g<this.size&&0<=v&&v<this.size&&this.setFunctionModule(g,v,h!=2&&h!=4)}}drawAlignmentPattern(c,d){for(let u=-2;u<=2;u++)for(let p=-2;p<=2;p++)this.setFunctionModule(c+p,d+u,Math.max(Math.abs(p),Math.abs(u))!=1)}setFunctionModule(c,d,u){this.modules[d][c]=u,this.isFunction[d][c]=!0}addEccAndInterleave(c){const d=this.version,u=this.errorCorrectionLevel;if(c.length!=$e.getNumDataCodewords(d,u))throw new RangeError("Invalid argument");const p=$e.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][d],h=$e.ECC_CODEWORDS_PER_BLOCK[u.ordinal][d],g=Math.floor($e.getNumRawDataModules(d)/8),v=p-g%p,m=Math.floor(g/p);let y=[];const x=$e.reedSolomonComputeDivisor(h);for(let C=0,j=0;C<p;C++){let _=c.slice(j,j+m-h+(C<v?0:1));j+=_.length;const S=$e.reedSolomonComputeRemainder(_,x);C<v&&_.push(0),y.push(_.concat(S))}let w=[];for(let C=0;C<y[0].length;C++)y.forEach((j,_)=>{(C!=m-h||_>=v)&&w.push(j[C])});return s(w.length==g),w}drawCodewords(c){if(c.length!=Math.floor($e.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let d=0;for(let u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(let p=0;p<this.size;p++)for(let h=0;h<2;h++){const g=u-h,m=(u+1&2)==0?this.size-1-p:p;!this.isFunction[m][g]&&d<c.length*8&&(this.modules[m][g]=r(c[d>>>3],7-(d&7)),d++)}}s(d==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let d=0;d<this.size;d++)for(let u=0;u<this.size;u++){let p;switch(c){case 0:p=(u+d)%2==0;break;case 1:p=d%2==0;break;case 2:p=u%3==0;break;case 3:p=(u+d)%3==0;break;case 4:p=(Math.floor(u/3)+Math.floor(d/2))%2==0;break;case 5:p=u*d%2+u*d%3==0;break;case 6:p=(u*d%2+u*d%3)%2==0;break;case 7:p=((u+d)%2+u*d%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[d][u]&&p&&(this.modules[d][u]=!this.modules[d][u])}}getPenaltyScore(){let c=0;for(let h=0;h<this.size;h++){let g=!1,v=0,m=[0,0,0,0,0,0,0];for(let y=0;y<this.size;y++)this.modules[h][y]==g?(v++,v==5?c+=$e.PENALTY_N1:v>5&&c++):(this.finderPenaltyAddHistory(v,m),g||(c+=this.finderPenaltyCountPatterns(m)*$e.PENALTY_N3),g=this.modules[h][y],v=1);c+=this.finderPenaltyTerminateAndCount(g,v,m)*$e.PENALTY_N3}for(let h=0;h<this.size;h++){let g=!1,v=0,m=[0,0,0,0,0,0,0];for(let y=0;y<this.size;y++)this.modules[y][h]==g?(v++,v==5?c+=$e.PENALTY_N1:v>5&&c++):(this.finderPenaltyAddHistory(v,m),g||(c+=this.finderPenaltyCountPatterns(m)*$e.PENALTY_N3),g=this.modules[y][h],v=1);c+=this.finderPenaltyTerminateAndCount(g,v,m)*$e.PENALTY_N3}for(let h=0;h<this.size-1;h++)for(let g=0;g<this.size-1;g++){const v=this.modules[h][g];v==this.modules[h][g+1]&&v==this.modules[h+1][g]&&v==this.modules[h+1][g+1]&&(c+=$e.PENALTY_N2)}let d=0;for(const h of this.modules)d=h.reduce((g,v)=>g+(v?1:0),d);const u=this.size*this.size,p=Math.ceil(Math.abs(d*20-u*10)/u)-1;return s(0<=p&&p<=9),c+=p*$e.PENALTY_N4,s(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,d=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let u=[6];for(let p=this.size-7;u.length<c;p-=d)u.splice(1,0,p);return u}}static getNumRawDataModules(c){if(c<$e.MIN_VERSION||c>$e.MAX_VERSION)throw new RangeError("Version number out of range");let d=(16*c+128)*c+64;if(c>=2){const u=Math.floor(c/7)+2;d-=(25*u-10)*u-55,c>=7&&(d-=36)}return s(208<=d&&d<=29648),d}static getNumDataCodewords(c,d){return Math.floor($e.getNumRawDataModules(c)/8)-$e.ECC_CODEWORDS_PER_BLOCK[d.ordinal][c]*$e.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let d=[];for(let p=0;p<c-1;p++)d.push(0);d.push(1);let u=1;for(let p=0;p<c;p++){for(let h=0;h<d.length;h++)d[h]=$e.reedSolomonMultiply(d[h],u),h+1<d.length&&(d[h]^=d[h+1]);u=$e.reedSolomonMultiply(u,2)}return d}static reedSolomonComputeRemainder(c,d){let u=d.map(p=>0);for(const p of c){const h=p^u.shift();u.push(0),d.forEach((g,v)=>u[v]^=$e.reedSolomonMultiply(g,h))}return u}static reedSolomonMultiply(c,d){if(c>>>8||d>>>8)throw new RangeError("Byte out of range");let u=0;for(let p=7;p>=0;p--)u=u<<1^(u>>>7)*285,u^=(d>>>p&1)*c;return s(u>>>8==0),u}finderPenaltyCountPatterns(c){const d=c[1];s(d<=this.size*3);const u=d>0&&c[2]==d&&c[3]==d*3&&c[4]==d&&c[5]==d;return(u&&c[0]>=d*4&&c[6]>=d?1:0)+(u&&c[6]>=d*4&&c[0]>=d?1:0)}finderPenaltyTerminateAndCount(c,d,u){return c&&(this.finderPenaltyAddHistory(d,u),d=0),d+=this.size,this.finderPenaltyAddHistory(d,u),this.finderPenaltyCountPatterns(u)}finderPenaltyAddHistory(c,d){d[0]==0&&(c+=this.size),d.pop(),d.unshift(c)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(l,c,d){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let u=c-1;u>=0;u--)d.push(l>>>u&1)}function r(l,c){return(l>>>c&1)!=0}function s(l){if(!l)throw new Error("Assertion error")}const i=class jt{constructor(c,d,u){if(this.mode=c,this.numChars=d,this.bitData=u,d<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}static makeBytes(c){let d=[];for(const u of c)n(u,8,d);return new jt(jt.Mode.BYTE,c.length,d)}static makeNumeric(c){if(!jt.isNumeric(c))throw new RangeError("String contains non-numeric characters");let d=[];for(let u=0;u<c.length;){const p=Math.min(c.length-u,3);n(parseInt(c.substring(u,u+p),10),p*3+1,d),u+=p}return new jt(jt.Mode.NUMERIC,c.length,d)}static makeAlphanumeric(c){if(!jt.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let d=[],u;for(u=0;u+2<=c.length;u+=2){let p=jt.ALPHANUMERIC_CHARSET.indexOf(c.charAt(u))*45;p+=jt.ALPHANUMERIC_CHARSET.indexOf(c.charAt(u+1)),n(p,11,d)}return u<c.length&&n(jt.ALPHANUMERIC_CHARSET.indexOf(c.charAt(u)),6,d),new jt(jt.Mode.ALPHANUMERIC,c.length,d)}static makeSegments(c){return c==""?[]:jt.isNumeric(c)?[jt.makeNumeric(c)]:jt.isAlphanumeric(c)?[jt.makeAlphanumeric(c)]:[jt.makeBytes(jt.toUtf8ByteArray(c))]}static makeEci(c){let d=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)n(c,8,d);else if(c<16384)n(2,2,d),n(c,14,d);else if(c<1e6)n(6,3,d),n(c,21,d);else throw new RangeError("ECI assignment value out of range");return new jt(jt.Mode.ECI,0,d)}static isNumeric(c){return jt.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return jt.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,d){let u=0;for(const p of c){const h=p.mode.numCharCountBits(d);if(p.numChars>=1<<h)return 1/0;u+=4+h+p.bitData.length}return u}static toUtf8ByteArray(c){c=encodeURI(c);let d=[];for(let u=0;u<c.length;u++)c.charAt(u)!="%"?d.push(c.charCodeAt(u)):(d.push(parseInt(c.substring(u+1,u+3),16)),u+=2);return d}};i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let a=i;e.QrSegment=i})(bs||(bs={}));(e=>{(t=>{const n=class{constructor(s,i){this.ordinal=s,this.formatBits=i}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(bs||(bs={}));(e=>{(t=>{const n=class{constructor(s,i){this.modeBits=s,this.numBitsCharCount=i}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(bs||(bs={}));var Hs=bs;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var cA={L:Hs.QrCode.Ecc.LOW,M:Hs.QrCode.Ecc.MEDIUM,Q:Hs.QrCode.Ecc.QUARTILE,H:Hs.QrCode.Ecc.HIGH},lx=128,cx="L",dx="#FFFFFF",ux="#000000",px=!1,hx=1,dA=4,uA=0,pA=.1;function fx(e,t=0){const n=[];return e.forEach(function(r,s){let i=null;r.forEach(function(a,l){if(!a&&i!==null){n.push(`M${i+t} ${s+t}h${l-i}v1H${i+t}z`),i=null;return}if(l===r.length-1){if(!a)return;i===null?n.push(`M${l+t},${s+t} h1v1H${l+t}z`):n.push(`M${i+t},${s+t} h${l+1-i}v1H${i+t}z`);return}a&&i===null&&(i=l)})}),n.join("")}function mx(e,t){return e.slice().map((n,r)=>r<t.y||r>=t.y+t.h?n:n.map((s,i)=>i<t.x||i>=t.x+t.w?s:!1))}function hA(e,t,n,r){if(r==null)return null;const s=e.length+n*2,i=Math.floor(t*pA),a=s/t,l=(r.width||i)*a,c=(r.height||i)*a,d=r.x==null?e.length/2-l/2:r.x*a,u=r.y==null?e.length/2-c/2:r.y*a,p=r.opacity==null?1:r.opacity;let h=null;if(r.excavate){let v=Math.floor(d),m=Math.floor(u),y=Math.ceil(l+d-v),x=Math.ceil(c+u-m);h={x:v,y:m,w:y,h:x}}const g=r.crossOrigin;return{x:d,y:u,h:c,w:l,excavation:h,opacity:p,crossOrigin:g}}function fA(e,t){return t!=null?Math.max(Math.floor(t),0):e?dA:uA}function gx({value:e,level:t,minVersion:n,includeMargin:r,marginSize:s,imageSettings:i,size:a,boostLevel:l}){let c=Fe.useMemo(()=>{const v=(Array.isArray(e)?e:[e]).reduce((m,y)=>(m.push(...Hs.QrSegment.makeSegments(y)),m),[]);return Hs.QrCode.encodeSegments(v,cA[t],n,void 0,void 0,l)},[e,t,n,l]);const{cells:d,margin:u,numCells:p,calculatedImageSettings:h}=Fe.useMemo(()=>{let g=c.getModules();const v=fA(r,s),m=g.length+v*2,y=hA(g,a,v,i);return{cells:g,margin:v,numCells:m,calculatedImageSettings:y}},[c,a,i,r,s]);return{qrcode:c,margin:u,cells:d,numCells:p,calculatedImageSettings:h}}var mA=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),gA=Fe.forwardRef(function(t,n){const r=t,{value:s,size:i=lx,level:a=cx,bgColor:l=dx,fgColor:c=ux,includeMargin:d=px,minVersion:u=hx,boostLevel:p,marginSize:h,imageSettings:g}=r,m=Gd(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:y}=m,x=Gd(m,["style"]),w=g==null?void 0:g.src,C=Fe.useRef(null),j=Fe.useRef(null),_=Fe.useCallback(P=>{C.current=P,typeof n=="function"?n(P):n&&(n.current=P)},[n]),[S,E]=Fe.useState(!1),{margin:T,cells:k,numCells:M,calculatedImageSettings:N}=gx({value:s,level:a,minVersion:u,boostLevel:p,includeMargin:d,marginSize:h,imageSettings:g,size:i});Fe.useEffect(()=>{if(C.current!=null){const P=C.current,D=P.getContext("2d");if(!D)return;let I=k;const O=j.current,z=N!=null&&O!==null&&O.complete&&O.naturalHeight!==0&&O.naturalWidth!==0;z&&N.excavation!=null&&(I=mx(k,N.excavation));const $=window.devicePixelRatio||1;P.height=P.width=i*$;const A=i/M*$;D.scale(A,A),D.fillStyle=l,D.fillRect(0,0,M,M),D.fillStyle=c,mA?D.fill(new Path2D(fx(I,T))):k.forEach(function(H,Y){H.forEach(function(G,J){G&&D.fillRect(J+T,Y+T,1,1)})}),N&&(D.globalAlpha=N.opacity),z&&D.drawImage(O,N.x+T,N.y+T,N.w,N.h)}}),Fe.useEffect(()=>{E(!1)},[w]);const L=Yd({height:i,width:i},y);let R=null;return w!=null&&(R=Fe.createElement("img",{src:w,key:w,style:{display:"none"},onLoad:()=>{E(!0)},ref:j,crossOrigin:N==null?void 0:N.crossOrigin})),Fe.createElement(Fe.Fragment,null,Fe.createElement("canvas",Yd({style:L,height:i,width:i,ref:_,role:"img"},x)),R)});gA.displayName="QRCodeCanvas";var al=Fe.forwardRef(function(t,n){const r=t,{value:s,size:i=lx,level:a=cx,bgColor:l=dx,fgColor:c=ux,includeMargin:d=px,minVersion:u=hx,boostLevel:p,title:h,marginSize:g,imageSettings:v}=r,m=Gd(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:y,cells:x,numCells:w,calculatedImageSettings:C}=gx({value:s,level:a,minVersion:u,boostLevel:p,includeMargin:d,marginSize:g,imageSettings:v,size:i});let j=x,_=null;v!=null&&C!=null&&(C.excavation!=null&&(j=mx(x,C.excavation)),_=Fe.createElement("image",{href:v.src,height:C.h,width:C.w,x:C.x+y,y:C.y+y,preserveAspectRatio:"none",opacity:C.opacity,crossOrigin:C.crossOrigin}));const S=fx(j,y);return Fe.createElement("svg",Yd({height:i,width:i,viewBox:`0 0 ${w} ${w}`,ref:n,role:"img"},m),!!h&&Fe.createElement("title",null,h),Fe.createElement("path",{fill:l,d:`M0,0 h${w}v${w}H0z`,shapeRendering:"crispEdges"}),Fe.createElement("path",{fill:c,d:S,shapeRendering:"crispEdges"}),_)});al.displayName="QRCodeSVG";const pa=({title:e,value:t,icon:n,change:r,isPositive:s})=>o.jsxs("div",{className:"stat-card",children:[o.jsxs("div",{className:"stat-header",children:[o.jsx("span",{className:"stat-label",children:e}),o.jsx("div",{className:"stat-icon",children:n})]}),o.jsx("div",{className:"stat-value",children:t}),o.jsxs("div",{className:`stat-change ${s?"":"negative"}`,children:[s?o.jsx(NN,{fontSize:"small"}):o.jsx(DN,{fontSize:"small"}),r]})]});function vA(){var k;const{currentUser:e,admin:t}=Ht(),{isSuperAdmin:n}=sn(),[r,s]=f.useState(null),[i,a]=f.useState(!1),[l,c]=f.useState(!1),[d,u]=f.useState([]),[p,h]=f.useState({todayBookings:0,todayRevenue:0,utilization:0,activeCustomers:0,bookingsChange:0,revenueChange:0,utilizationChange:0}),[g,v]=f.useState(!0),[m,y]=f.useState([]),[x,w]=f.useState("all");f.useEffect(()=>{(async()=>{n?(await C(),x==="all"?await j():await _(x)):t!=null&&t.venueId&&(s(t.venueId),await _(t.venueId)),v(!1)})()},[e,t,n,x]);const C=async()=>{try{const M=Ge(Pe(se,"venues"),Ee("status","==","active")),L=(await qe(M)).docs.map(R=>({id:R.id,name:R.data().name}));y(L)}catch(M){console.error("Error loading venues:",M)}},j=async()=>{var M;try{const N=new Date,L=new Date(N.getFullYear(),N.getMonth(),N.getDate()),R=new Date(N.getFullYear(),N.getMonth(),N.getDate(),23,59,59);let P=m;if(P.length===0){const ee=Ge(Pe(se,"venues"),Ee("status","==","active"));P=(await qe(ee)).docs.map(ie=>({id:ie.id,name:ie.data().name}))}const D=Ge(Pe(se,"bookings")),I=await qe(D),O=I.docs.filter(ee=>{var K,B;const X=ee.data(),ie=(B=(K=X.date)==null?void 0:K.toDate)==null?void 0:B.call(K);return ie?ie>=L&&ie<=R&&X.status==="confirmed":!1}),z=O.length,$=O.reduce((ee,X)=>ee+(X.data().amount||0),0),A=I.docs.sort((ee,X)=>{var B,F,q,te,ue,Te,oe,ce;const ie=((F=(B=ee.data().createdAt)==null?void 0:B.toDate)==null?void 0:F.call(B))||((te=(q=ee.data().date)==null?void 0:q.toDate)==null?void 0:te.call(q))||new Date(0);return(((Te=(ue=X.data().createdAt)==null?void 0:ue.toDate)==null?void 0:Te.call(ue))||((ce=(oe=X.data().date)==null?void 0:oe.toDate)==null?void 0:ce.call(oe))||new Date(0)).getTime()-ie.getTime()}).slice(0,10),H=[];for(const ee of A){const X=ee.data();let ie="",K="Корт";if(X.venueId){const B=P.find(F=>F.id===X.venueId);if(ie=(B==null?void 0:B.name)||"",X.courtId)try{const F=await St(ee(se,"venues",X.venueId,"courts",X.courtId));F.exists()&&(K=F.data().name)}catch(F){console.error("Error fetching court:",F)}}H.push({id:ee.id,clientName:X.clientName||X.customerName||"Неизвестный клиент",courtName:ie?`${ie} - ${K}`:K,date:((M=X.date)==null?void 0:M.toDate())||new Date,startTime:X.startTime||X.time||"",endTime:X.endTime||"",status:X.status||"pending",amount:X.amount||0})}u(H);let Y=0;for(const ee of P){const X=Ge(Pe(se,"venues",ee.id,"courts"),Ee("status","==","active")),ie=await qe(X);Y+=ie.size}const G=Y*16,J=G>0?Math.round(z/G*100):0,ae=new Date;ae.setDate(ae.getDate()-30);const V=I.docs.filter(ee=>{var K,B;const ie=(B=(K=ee.data().date)==null?void 0:K.toDate)==null?void 0:B.call(K);return ie&&ie>=ae}),le=new Set(V.map(ee=>ee.data().clientPhone||ee.data().customerPhone));h({todayBookings:z,todayRevenue:$,utilization:J,activeCustomers:le.size,bookingsChange:15,revenueChange:10,utilizationChange:-3})}catch(N){console.error("Error loading all venues data:",N)}},_=async M=>{var N,L;try{const R=new Date,P=new Date(R.getFullYear(),R.getMonth(),R.getDate()),D=new Date(R.getFullYear(),R.getMonth(),R.getDate(),23,59,59),I=Ge(Pe(se,"bookings"),Ee("venueId","==",M)),z=(await qe(I)).docs.map(F=>({id:F.id,...F.data()})).sort((F,q)=>{var Te,oe,ce,xe,ve,De,Me,Re;const te=((oe=(Te=F.createdAt)==null?void 0:Te.toDate)==null?void 0:oe.call(Te))||((xe=(ce=F.date)==null?void 0:ce.toDate)==null?void 0:xe.call(ce))||new Date(0);return(((De=(ve=q.createdAt)==null?void 0:ve.toDate)==null?void 0:De.call(ve))||((Re=(Me=q.date)==null?void 0:Me.toDate)==null?void 0:Re.call(Me))||new Date(0)).getTime()-te.getTime()}).slice(0,5),$=[];for(const F of z){let q=F.courtName||"Корт";if(F.courtId&&!F.courtName)try{const te=await St(Ie(se,"venues",M,"courts",F.courtId));te.exists()&&(q=te.data().name)}catch(te){console.error("Error fetching court:",te)}$.push({id:F.id,clientName:F.clientName||F.customerName||"Неизвестный клиент",courtName:q,date:((L=(N=F.date)==null?void 0:N.toDate)==null?void 0:L.call(N))||new Date,startTime:F.startTime||F.time||"",endTime:F.endTime||"",status:F.status||"pending",amount:F.amount||0})}u($);const A=Ge(Pe(se,"bookings"),Ee("venueId","==",M)),H=await qe(A),Y=H.docs.filter(F=>{var ue,Te;const q=F.data(),te=(Te=(ue=q.date)==null?void 0:ue.toDate)==null?void 0:Te.call(ue);return te?te>=P&&te<=D&&q.status==="confirmed":!1}),G=Y.length,J=Y.reduce((F,q)=>F+(q.data().amount||0),0),ae=Ge(Pe(se,"venues",M,"courts"),Ee("status","==","active")),ee=(await qe(ae)).size*16,X=ee>0?Math.round(G/ee*100):0,ie=new Date;ie.setDate(ie.getDate()-30);const K=H.docs.filter(F=>{var ue,Te;const te=(Te=(ue=F.data().date)==null?void 0:ue.toDate)==null?void 0:Te.call(ue);return te&&te>=ie}),B=new Set(K.map(F=>F.data().clientPhone||F.data().customerPhone));h({todayBookings:G,todayRevenue:J,utilization:X,activeCustomers:B.size,bookingsChange:12,revenueChange:8,utilizationChange:-5})}catch(R){console.error("Error loading dashboard data:",R)}},S=()=>r?`https://allcourt.ru/club/${r}`:"",E=()=>{const M=S();M&&(navigator.clipboard.writeText(M),c(!0),setTimeout(()=>c(!1),2e3))},T=async()=>{const M=S();if(M)if(navigator.share)try{await navigator.share({title:"Забронировать корт",text:"Забронируйте корт в нашем клубе",url:M})}catch(N){console.log("Share failed:",N)}else E()};return g?o.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},children:o.jsx("div",{children:"Загрузка..."})}):o.jsxs("div",{children:[n&&o.jsx("div",{className:"section-card",style:{marginBottom:"24px"},children:o.jsx("div",{style:{display:"flex",alignItems:"center",gap:"16px",justifyContent:"space-between",flexWrap:"wrap"},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[o.jsx("label",{style:{fontWeight:"600"},children:"Фильтр по клубу:"}),o.jsxs("select",{className:"form-select",style:{maxWidth:"300px"},value:x,onChange:M=>w(M.target.value),children:[o.jsx("option",{value:"all",children:"Все клубы"}),m.map(M=>o.jsx("option",{value:M.id,children:M.name},M.id))]})]})})}),!n&&r&&o.jsxs("div",{className:"section-card",style:{marginBottom:"24px"},children:[o.jsx("div",{className:"section-header",children:o.jsx("h2",{className:"section-title",children:"Ссылка для бронирования"})}),o.jsxs("div",{style:{display:"flex",gap:"24px",alignItems:"center",flexWrap:"wrap"},children:[o.jsxs("div",{onClick:()=>a(!0),style:{cursor:"pointer",padding:"8px",border:"1px solid var(--extra-light-gray)",borderRadius:"8px",transition:"all 0.3s ease"},onMouseEnter:M=>M.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)",onMouseLeave:M=>M.currentTarget.style.boxShadow="none",children:[o.jsx(al,{value:S(),size:120,level:"M",includeMargin:!0}),o.jsx("div",{style:{textAlign:"center",marginTop:"8px"},children:o.jsxs("button",{className:"btn btn-secondary btn-icon",children:[o.jsx(gp,{fontSize:"small"}),o.jsx("span",{children:"Увеличить"})]})})]}),o.jsxs("div",{style:{flex:1,minWidth:"250px"},children:[o.jsxs("div",{style:{marginBottom:"12px"},children:[o.jsx("label",{style:{fontSize:"14px",color:"var(--gray)",display:"block",marginBottom:"4px"},children:"Отправьте эту ссылку клиентам:"}),o.jsxs("div",{style:{display:"flex",gap:"8px",padding:"12px",background:"var(--background)",borderRadius:"8px",alignItems:"center"},children:[o.jsx("input",{type:"text",value:S(),readOnly:!0,style:{flex:1,border:"none",background:"transparent",fontSize:"14px",outline:"none"}}),o.jsxs("button",{className:"btn btn-primary btn-icon",onClick:E,children:[l?o.jsx(os,{fontSize:"small"}):o.jsx(ex,{fontSize:"small"}),o.jsx("span",{children:l?"Скопировано":"Копировать"})]})]})]}),o.jsx("div",{style:{display:"flex",gap:"8px"},children:o.jsxs("button",{className:"btn btn-secondary",onClick:T,children:[o.jsx(rx,{fontSize:"small"}),o.jsx("span",{children:"Поделиться"})]})})]})]})]}),n&&o.jsx("h2",{style:{marginBottom:"24px",fontSize:"24px",fontWeight:"700"},children:x==="all"?"Общая статистика по всем клубам":`Статистика клуба "${(k=m.find(M=>M.id===x))==null?void 0:k.name}"`}),o.jsxs("div",{className:"stats-grid",children:[o.jsx(pa,{title:"Бронирований сегодня",value:p.todayBookings,icon:o.jsx(pp,{}),change:`${p.bookingsChange>0?"+":""}${p.bookingsChange}% от вчера`,isPositive:p.bookingsChange>0}),o.jsx(pa,{title:"Доход за сегодня",value:`${p.todayRevenue.toLocaleString("ru-RU")}₽`,icon:o.jsx(go,{}),change:`${p.revenueChange>0?"+":""}${p.revenueChange}% от вчера`,isPositive:p.revenueChange>0}),o.jsx(pa,{title:"Загрузка кортов",value:`${p.utilization}%`,icon:o.jsx(hc,{}),change:`${p.utilizationChange>0?"+":""}${p.utilizationChange}% от вчера`,isPositive:p.utilizationChange>0}),o.jsx(pa,{title:"Активных клиентов",value:p.activeCustomers,icon:o.jsx(mp,{}),change:"за последние 30 дней",isPositive:!0})]}),o.jsxs("div",{className:"section-card",children:[o.jsxs("div",{className:"section-header",children:[o.jsx("h2",{className:"section-title",children:"Последние бронирования"}),o.jsx("button",{className:"btn btn-secondary",onClick:()=>window.location.href="/admin/bookings",children:"Все бронирования"})]}),o.jsx("div",{className:"table-wrapper",children:g?o.jsx("div",{style:{textAlign:"center",padding:"40px"},children:"Загрузка..."}):d.length===0?o.jsx("div",{style:{textAlign:"center",padding:"40px",color:"var(--gray)"},children:"Пока нет бронирований"}):o.jsxs("table",{children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Клиент"}),o.jsx("th",{children:n&&x==="all"?"Клуб / Корт":"Корт"}),o.jsx("th",{children:"Дата и время"}),o.jsx("th",{children:"Статус"}),o.jsx("th",{children:"Сумма"})]})}),o.jsx("tbody",{children:d.map(M=>o.jsxs("tr",{children:[o.jsx("td",{children:M.clientName}),o.jsx("td",{children:M.courtName}),o.jsxs("td",{children:[M.date.toLocaleDateString("ru-RU"),", ",M.startTime,M.endTime&&`-${M.endTime}`]}),o.jsxs("td",{children:[M.status==="confirmed"&&o.jsx("span",{style:{color:"var(--success)"},children:"✅ Подтверждено"}),M.status==="pending"&&o.jsx("span",{style:{color:"var(--warning)"},children:"⏳ Ожидает оплаты"}),M.status==="cancelled"&&o.jsx("span",{style:{color:"var(--danger)"},children:"❌ Отменено"})]}),o.jsxs("td",{children:[M.amount.toLocaleString("ru-RU"),"₽"]})]},M.id))})]})})]}),i&&o.jsx("div",{className:"modal active",onClick:()=>a(!1),style:{display:"flex",position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:1e3,alignItems:"center",justifyContent:"center"},children:o.jsxs("div",{className:"modal-content",onClick:M=>M.stopPropagation(),style:{background:"white",borderRadius:"12px",padding:"24px",maxWidth:"400px",width:"90%",textAlign:"center"},children:[o.jsxs("div",{className:"modal-header",style:{marginBottom:"24px"},children:[o.jsx("h2",{className:"modal-title",children:"QR код для бронирования"}),o.jsx("button",{className:"modal-close",onClick:()=>a(!1),style:{position:"absolute",right:"24px",top:"24px",background:"none",border:"none",fontSize:"24px",cursor:"pointer"},children:"×"})]}),o.jsxs("div",{className:"modal-body",children:[o.jsx(al,{value:S(),size:256,level:"H",includeMargin:!0}),o.jsxs("p",{style:{marginTop:"16px",color:"var(--gray)",fontSize:"14px"},children:["Клиенты могут отсканировать этот QR код,",o.jsx("br",{}),"чтобы забронировать корт"]}),o.jsx("div",{style:{marginTop:"24px"},children:o.jsx("button",{className:"btn btn-primary",onClick:()=>{const M=document.querySelector("svg");if(M){const N=new XMLSerializer().serializeToString(M),L=new Blob([N],{type:"image/svg+xml;charset=utf-8"}),R=URL.createObjectURL(L),P=document.createElement("a");P.href=R,P.download=`qr-code-booking-${r}.svg`,document.body.appendChild(P),P.click(),document.body.removeChild(P)}},children:"Скачать QR код"})})]})]})})]})}const Ro=({children:e,permission:t,role:n,requireAll:r=!1,fallback:s})=>{const{hasPermission:i,hasAllPermissions:a,hasRole:l}=sn();return n&&!l(n)?s?o.jsx(o.Fragment,{children:s}):o.jsxs(lt,{severity:"error",sx:{mt:2},children:[o.jsx(ji,{children:"Доступ запрещен"}),"У вас недостаточно прав для просмотра этой страницы."]}):t&&!(r&&Array.isArray(t)?a(t):i(t))?s?o.jsx(o.Fragment,{children:s}):o.jsxs(lt,{severity:"error",sx:{mt:2},children:[o.jsx(ji,{children:"Доступ запрещен"}),"У вас недостаточно прав для просмотра этой страницы."]}):o.jsx(o.Fragment,{children:e})},Do=({selectedVenueId:e,onVenueChange:t,label:n="Управление клубом",showHint:r=!1})=>{const[s,i]=f.useState([]),[a,l]=f.useState(!0);f.useEffect(()=>{c()},[]);const c=async()=>{try{const d=Ge(Pe(se,"venues"),Ee("status","==","active")),p=(await qe(d)).docs.map(h=>({id:h.id,...h.data()}));i(p)}catch(d){console.error("Error fetching venues:",d)}finally{l(!1)}};return a?o.jsx("div",{children:"Загрузка клубов..."}):o.jsx("div",{className:"section-card",style:{marginBottom:"24px"},children:o.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[o.jsx("label",{className:"form-label",children:n}),o.jsxs("select",{className:"form-select",value:e||"",onChange:d=>t(d.target.value),style:{maxWidth:"400px"},children:[o.jsx("option",{value:"",children:"Выберите клуб"}),s.map(d=>o.jsx("option",{value:d.id,children:d.name},d.id))]}),r&&o.jsx("p",{className:"form-hint",children:"Выберите клуб для управления"})]})})},No=({title:e})=>{const[t,n]=f.useState([]),[r,s]=f.useState(!0);f.useEffect(()=>{i()},[]);const i=async()=>{try{const l=Ge(Pe(se,"venues"),Ee("status","==","active")),d=(await qe(l)).docs.map(u=>({id:u.id,...u.data()}));n(d)}catch(l){console.error("Error fetching venues:",l)}finally{s(!1)}},a=l=>{l&&(localStorage.setItem("selectedVenueId",l),window.location.reload())};return r?o.jsx("div",{children:"Загрузка..."}):o.jsx("div",{children:o.jsxs("div",{className:"section-card",children:[o.jsx("div",{className:"section-header",children:o.jsx("h2",{className:"section-title",children:e})}),o.jsxs("div",{className:"form-group",style:{maxWidth:"400px"},children:[o.jsx("label",{className:"form-label",children:"Клуб"}),o.jsxs("select",{className:"form-select",value:"",onChange:l=>a(l.target.value),children:[o.jsx("option",{value:"",children:"Выберите клуб для управления"}),t.map(l=>o.jsx("option",{value:l.id,children:l.name},l.id))]}),o.jsx("p",{className:"form-hint",children:"Выберите клуб для просмотра и управления"})]})]})})};function yA(){const e=Sn(),{club:t,admin:n,refreshClubData:r}=Ht(),{isSuperAdmin:s,canManageClub:i}=sn(),[a,l]=f.useState(null),[c,d]=f.useState(null),[u,p]=f.useState(!1),[h,g]=f.useState(!1),[v,m]=f.useState(null),[y,x]=f.useState({name:"",phone:"",address:"",city:"",latitude:"",longitude:"",description:"",amenities:{showers:!1,parking:!1,cafe:!1,proshop:!1,lockers:!1},organizationType:"",inn:"",bankAccount:"",workingHours:{monday:"07:00-23:00",tuesday:"07:00-23:00",wednesday:"07:00-23:00",thursday:"07:00-23:00",friday:"07:00-23:00",saturday:"08:00-22:00",sunday:"08:00-22:00"},bookingDurations:{60:!0,90:!0,120:!0},bookingSlotInterval:30}),[w,C]=f.useState([]),[j,_]=f.useState(!1);f.useEffect(()=>{var I,O,z,$,A,H,Y,G;if(s){const J=localStorage.getItem("selectedVenueId");J&&(l(J),E(J))}else t&&(x({name:t.name||"",phone:t.phone||"",address:t.address||"",city:t.city||"",latitude:((O=(I=t.location)==null?void 0:I._lat)==null?void 0:O.toString())||(($=(z=t.location)==null?void 0:z.latitude)==null?void 0:$.toString())||"",longitude:((H=(A=t.location)==null?void 0:A._long)==null?void 0:H.toString())||((G=(Y=t.location)==null?void 0:Y.longitude)==null?void 0:G.toString())||"",description:t.description||"",amenities:{showers:Array.isArray(t.amenities)&&t.amenities.includes("showers")||!1,parking:Array.isArray(t.amenities)&&t.amenities.includes("parking")||!1,cafe:Array.isArray(t.amenities)&&t.amenities.includes("cafe")||!1,proshop:Array.isArray(t.amenities)&&t.amenities.includes("proshop")||!1,lockers:Array.isArray(t.amenities)&&t.amenities.includes("lockers")||!1},organizationType:t.organizationType||"",inn:t.inn||"",bankAccount:t.bankAccount||"",workingHours:t.workingHours||{monday:"07:00-23:00",tuesday:"07:00-23:00",wednesday:"07:00-23:00",thursday:"07:00-23:00",friday:"07:00-23:00",saturday:"08:00-22:00",sunday:"08:00-22:00"},bookingDurations:t.bookingDurations||{60:!0,90:!0,120:!0},bookingSlotInterval:t.bookingSlotInterval||30}),C(t.photos||[]))},[t,s]);const S=I=>{l(I),localStorage.setItem("selectedVenueId",I),I&&E(I)},E=async I=>{var O,z,$,A,H,Y,G,J;try{console.log("Loading venue data for:",I);const ae=await St(Ie(se,"venues",I));if(ae.exists()){const V=ae.data();console.log("Venue data loaded:",V),d({id:ae.id,...V}),x({name:V.name||"",phone:V.phone||"",address:V.address||"",city:V.city||"",latitude:((z=(O=V.location)==null?void 0:O._lat)==null?void 0:z.toString())||((A=($=V.location)==null?void 0:$.latitude)==null?void 0:A.toString())||"",longitude:((Y=(H=V.location)==null?void 0:H._long)==null?void 0:Y.toString())||((J=(G=V.location)==null?void 0:G.longitude)==null?void 0:J.toString())||"",description:V.description||"",amenities:{showers:Array.isArray(V.amenities)&&V.amenities.includes("showers")||!1,parking:Array.isArray(V.amenities)&&V.amenities.includes("parking")||!1,cafe:Array.isArray(V.amenities)&&V.amenities.includes("cafe")||!1,proshop:Array.isArray(V.amenities)&&V.amenities.includes("proshop")||!1,lockers:Array.isArray(V.amenities)&&V.amenities.includes("lockers")||!1},organizationType:V.organizationType||"",inn:V.inn||"",bankAccount:V.bankAccount||"",workingHours:V.workingHours||{monday:"07:00-23:00",tuesday:"07:00-23:00",wednesday:"07:00-23:00",thursday:"07:00-23:00",friday:"07:00-23:00",saturday:"08:00-22:00",sunday:"08:00-22:00"},bookingDurations:V.bookingDurations||{60:!0,90:!0,120:!0},bookingSlotInterval:V.bookingSlotInterval||30}),C(V.photos||[])}}catch(ae){console.error("Error loading venue:",ae)}},T=I=>{const{name:O,value:z}=I.target;x($=>({...$,[O]:z}))},k=I=>{x(O=>({...O,amenities:{...O.amenities,[I]:!O.amenities[I]}}))},M=async I=>{var $;const O=($=I.target.files)==null?void 0:$[0];if(!O)return;const z=s?a:n==null?void 0:n.venueId;if(!z){m("Не выбран клуб");return}try{p(!0);const A=Dp(tf,`clubs/${z}/logo.${O.name.split(".").pop()}`),H=await Np(A,O),Y=await Ap(H.ref);await Ft(Ie(se,"venues",z),{logoUrl:Y}),s&&c?d({...c,logoUrl:Y}):await r(),g(!0),setTimeout(()=>g(!1),3e3)}catch(A){console.error("Error uploading logo:",A),m("Ошибка при загрузке логотипа")}finally{p(!1)}},N=async I=>{const O=I.target.files;if(!O||O.length===0)return;const z=s?a:n==null?void 0:n.venueId;if(!z){m("Не выбран клуб");return}if(w.length+O.length>5){m("Максимальное количество фотографий - 5");return}try{_(!0);const $=[];for(let Y=0;Y<O.length;Y++){const G=O[Y];if(G.size>5*1024*1024){m(`Файл ${G.name} превышает максимальный размер 5 МБ`);continue}if(!G.type.startsWith("image/")){m(`Файл ${G.name} не является изображением`);continue}const ae=`photo_${Date.now()}_${Y}.${G.name.split(".").pop()}`,V=Dp(tf,`clubs/${z}/photos/${ae}`);$.push(Np(V,G).then(async le=>await Ap(le.ref)))}const A=await Promise.all($),H=[...w,...A];C(H),await Ft(Ie(se,"venues",z),{photos:H}),s&&c?d({...c,photos:H}):await r(),g(!0),setTimeout(()=>g(!1),3e3)}catch($){console.error("Error uploading photos:",$),m("Ошибка при загрузке фотографий")}finally{_(!1)}},L=async()=>{const I=s?a:n==null?void 0:n.venueId;if(!I){m("Не выбран клуб");return}try{p(!0),await Ft(Ie(se,"venues",I),{logoUrl:null}),s&&c?d({...c,logoUrl:null}):await r(),g(!0),setTimeout(()=>g(!1),3e3)}catch(O){console.error("Error deleting logo:",O),m("Ошибка при удалении логотипа")}finally{p(!1)}},R=async(I,O)=>{const z=s?a:n==null?void 0:n.venueId;if(!z){m("Не выбран клуб");return}try{p(!0);const $=w.filter((A,H)=>H!==O);C($),await Ft(Ie(se,"venues",z),{photos:$}),s&&c?d({...c,photos:$}):await r(),g(!0),setTimeout(()=>g(!1),3e3)}catch($){console.error("Error deleting photo:",$),m("Ошибка при удалении фотографии")}finally{p(!1)}},P=async I=>{I.preventDefault();const O=s?a:n==null?void 0:n.venueId;if(O)try{p(!0);const z=Object.entries(y.amenities).filter(([A,H])=>H).map(([A])=>A),$={name:y.name,phone:y.phone,address:y.address,city:y.city,description:y.description,amenities:z,organizationType:y.organizationType,inn:y.inn,bankAccount:y.bankAccount,workingHours:y.workingHours,bookingDurations:y.bookingDurations,bookingSlotInterval:y.bookingSlotInterval,updatedAt:new Date};y.latitude&&y.longitude&&($.location=new Ib(parseFloat(y.latitude),parseFloat(y.longitude))),await Ft(Ie(se,"venues",O),$),s&&c?await E(O):await r(),g(!0),setTimeout(()=>g(!1),3e3)}catch(z){console.error("Error updating club:",z),m("Ошибка при сохранении данных")}finally{p(!1)}};if(!i())return o.jsxs(lt,{severity:"error",children:[o.jsx(ji,{children:"Доступ запрещен"}),"У вас недостаточно прав для управления клубом."]});if(s&&!a)return o.jsx(No,{title:"Выберите клуб для управления"});const D=s?c:t;return o.jsx(Ro,{permission:["manage_club","manage_all_venues"],children:o.jsxs("div",{children:[s&&o.jsx(Do,{selectedVenueId:a,onVenueChange:S}),o.jsxs("div",{className:"section-card",children:[o.jsxs("h2",{className:"section-title",children:["Информация о клубе",s&&c&&o.jsx("span",{style:{fontSize:"16px",color:"var(--gray)",marginLeft:"16px"},children:c.name})]}),o.jsxs("div",{style:{backgroundColor:"#e3f2fd",padding:"12px 16px",borderRadius:"8px",marginBottom:"20px",fontSize:"14px",color:"#1976d2"},children:[o.jsx("strong",{children:"💡 Как получить координаты:"}),o.jsx("br",{}),"1. Откройте ",o.jsx("a",{href:"https://maps.google.com",target:"_blank",rel:"noopener noreferrer",style:{color:"#1976d2"},children:"Google Maps"}),o.jsx("br",{}),"2. Найдите ваш клуб на карте",o.jsx("br",{}),"3. Кликните правой кнопкой мыши на нужное место",o.jsx("br",{}),"4. Скопируйте координаты (первое число - широта, второе - долгота)"]}),o.jsxs("form",{onSubmit:P,children:[v&&o.jsx(lt,{severity:"error",sx:{mb:3},onClose:()=>m(null),children:v}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Логотип клуба"}),o.jsxs("div",{className:"logo-uploader",style:{display:"flex",alignItems:"center",gap:"24px"},children:[o.jsx("div",{className:"logo-preview",style:{width:"120px",height:"120px",border:"2px dashed var(--extra-light-gray)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",background:"var(--background)",position:"relative"},onMouseEnter:I=>{const O=I.currentTarget.querySelector("button");O&&(O.style.opacity="1")},onMouseLeave:I=>{const O=I.currentTarget.querySelector("button");O&&(O.style.opacity="0")},children:D!=null&&D.logoUrl?o.jsxs(o.Fragment,{children:[o.jsx("img",{src:D.logoUrl,alt:D.name,style:{width:"100%",height:"100%",objectFit:"cover"}}),o.jsx("button",{type:"button",onClick:L,style:{position:"absolute",top:"4px",right:"4px",width:"28px",height:"28px",borderRadius:"50%",background:"rgba(255, 255, 255, 0.9)",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",opacity:0,transition:"opacity 0.2s"},disabled:u,children:o.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"#dc2626",children:o.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}):o.jsxs("div",{style:{textAlign:"center",color:"var(--gray)"},children:[o.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"var(--light-gray)",children:o.jsx("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"})}),o.jsx("p",{style:{fontSize:"12px",marginTop:"8px"},children:"Нажмите для загрузки"})]})}),o.jsxs("div",{children:[o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>{var I;return(I=document.getElementById("logoInput"))==null?void 0:I.click()},disabled:u,children:"Загрузить логотип"}),o.jsx("input",{type:"file",id:"logoInput",accept:"image/*",style:{display:"none"},onChange:M}),o.jsxs("p",{className:"form-hint",children:["Рекомендуемый размер: 500x500px",o.jsx("br",{}),"Максимум 2MB. PNG, JPG или SVG"]})]})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Фотографии клуба"}),o.jsx("div",{style:{marginBottom:"16px"},children:o.jsx("p",{className:"form-hint",children:"Максимум 5 фотографий, до 5 МБ каждая. Рекомендуемый размер: 1920x1080px"})}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"16px",marginBottom:"16px"},children:[w.map((I,O)=>o.jsxs("div",{style:{position:"relative",paddingBottom:"56.25%",overflow:"hidden",borderRadius:"12px",background:"var(--extra-light-gray)"},children:[o.jsx("img",{src:I,alt:`Фото ${O+1}`,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}}),o.jsx("button",{type:"button",onClick:()=>R(I,O),style:{position:"absolute",top:"8px",right:"8px",width:"32px",height:"32px",borderRadius:"50%",background:"rgba(255, 255, 255, 0.9)",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},disabled:u,children:o.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"#dc2626",children:o.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]},O)),w.length<5&&o.jsx("div",{onClick:()=>{var I;return(I=document.getElementById("photosInput"))==null?void 0:I.click()},style:{position:"relative",paddingBottom:"56.25%",overflow:"hidden",borderRadius:"12px",border:"2px dashed var(--extra-light-gray)",background:"var(--background)",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:I=>{I.currentTarget.style.borderColor="var(--primary)",I.currentTarget.style.background="rgba(0, 214, 50, 0.05)"},onMouseLeave:I=>{I.currentTarget.style.borderColor="var(--extra-light-gray)",I.currentTarget.style.background="var(--background)"},children:o.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",color:"var(--gray)"},children:[o.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"var(--light-gray)",children:o.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})}),o.jsx("p",{style:{fontSize:"14px",marginTop:"8px"},children:j?"Загрузка...":"Добавить фото"})]})})]}),o.jsx("input",{type:"file",id:"photosInput",accept:"image/*",multiple:!0,style:{display:"none"},onChange:N,disabled:j||w.length>=5})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Название клуба"}),o.jsx("input",{type:"text",className:"form-input",name:"name",value:y.name,onChange:T,required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Телефон"}),o.jsx("input",{type:"tel",className:"form-input",name:"phone",value:y.phone,onChange:T,required:!0})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Адрес"}),o.jsx("input",{type:"text",className:"form-input",name:"address",value:y.address,onChange:T,required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Город"}),o.jsx("input",{type:"text",className:"form-input",name:"city",value:y.city,onChange:T,placeholder:"Например: Москва"})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Широта (Latitude)"}),o.jsx("input",{type:"number",step:"0.000001",className:"form-input",name:"latitude",value:y.latitude,onChange:T,placeholder:"55.755831"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Долгота (Longitude)"}),o.jsx("input",{type:"number",step:"0.000001",className:"form-input",name:"longitude",value:y.longitude,onChange:T,placeholder:"37.617673"})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Описание"}),o.jsx("textarea",{className:"form-textarea",name:"description",value:y.description,onChange:T,rows:4})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Удобства"}),o.jsxs("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap",marginTop:"12px"},children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:y.amenities.showers,onChange:()=>k("showers")}),"Душевые"]}),o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:y.amenities.parking,onChange:()=>k("parking")}),"Парковка"]}),o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:y.amenities.cafe,onChange:()=>k("cafe")}),"Кафе"]}),o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:y.amenities.proshop,onChange:()=>k("proshop")}),"Pro Shop"]}),o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:y.amenities.lockers,onChange:()=>k("lockers")}),"Раздевалки"]})]})]}),o.jsxs("div",{style:{marginTop:"32px"},children:[o.jsx("h3",{className:"section-subtitle",children:"Режим работы"}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px",marginTop:"16px"},children:[{key:"monday",label:"Понедельник"},{key:"tuesday",label:"Вторник"},{key:"wednesday",label:"Среда"},{key:"thursday",label:"Четверг"},{key:"friday",label:"Пятница"},{key:"saturday",label:"Суббота"},{key:"sunday",label:"Воскресенье"}].map(I=>o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:I.label}),o.jsx("input",{type:"text",className:"form-input",value:y.workingHours[I.key],onChange:O=>x(z=>({...z,workingHours:{...z.workingHours,[I.key]:O.target.value}})),placeholder:"07:00-23:00"}),o.jsx("span",{className:"form-hint",children:"ЧЧ:ММ-ЧЧ:ММ"})]},I.key))})]}),o.jsxs("div",{style:{marginTop:"32px"},children:[o.jsx("h3",{className:"section-subtitle",children:"Доступные длительности бронирования"}),o.jsxs("div",{style:{display:"flex",gap:"24px",flexWrap:"wrap",marginTop:"16px"},children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:y.bookingDurations[60],onChange:()=>x(I=>({...I,bookingDurations:{...I.bookingDurations,60:!I.bookingDurations[60]}}))}),"1 час"]}),o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:y.bookingDurations[90],onChange:()=>x(I=>({...I,bookingDurations:{...I.bookingDurations,90:!I.bookingDurations[90]}}))}),"1.5 часа"]}),o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:y.bookingDurations[120],onChange:()=>x(I=>({...I,bookingDurations:{...I.bookingDurations,120:!I.bookingDurations[120]}}))}),"2 часа"]})]}),o.jsx("p",{className:"form-hint",style:{marginTop:"8px"},children:"Выберите, какие длительности бронирования будут доступны клиентам"})]}),o.jsxs("div",{style:{marginTop:"32px"},children:[o.jsx("h3",{className:"section-subtitle",children:"Интервал временных слотов"}),o.jsxs("div",{style:{display:"flex",gap:"16px",marginTop:"16px"},children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[o.jsx("input",{type:"radio",name:"bookingSlotInterval",value:"30",checked:y.bookingSlotInterval===30,onChange:()=>x(I=>({...I,bookingSlotInterval:30}))}),"Каждые 30 минут (стандарт)"]}),o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[o.jsx("input",{type:"radio",name:"bookingSlotInterval",value:"60",checked:y.bookingSlotInterval===60,onChange:()=>x(I=>({...I,bookingSlotInterval:60}))}),"Только с 00 минут (каждый час)"]})]}),o.jsx("p",{className:"form-hint",style:{marginTop:"8px"},children:'Выберите интервал доступных слотов для бронирования. При выборе "Только с 00 минут" клиенты смогут бронировать только с начала часа (например, 10:00, 11:00, 12:00)'})]}),o.jsxs("div",{style:{display:"flex",gap:"12px"},children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"Сохранение...":"Сохранить изменения"}),o.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{var O,z,$,A,H,Y,G,J;const I=s?c:t;I&&x({name:I.name||"",phone:I.phone||"",address:I.address||"",city:I.city||"",latitude:((z=(O=I.location)==null?void 0:O._lat)==null?void 0:z.toString())||((A=($=I.location)==null?void 0:$.latitude)==null?void 0:A.toString())||"",longitude:((Y=(H=I.location)==null?void 0:H._long)==null?void 0:Y.toString())||((J=(G=I.location)==null?void 0:G.longitude)==null?void 0:J.toString())||"",description:I.description||"",amenities:{showers:Array.isArray(I.amenities)&&I.amenities.includes("showers")||!1,parking:Array.isArray(I.amenities)&&I.amenities.includes("parking")||!1,cafe:Array.isArray(I.amenities)&&I.amenities.includes("cafe")||!1,proshop:Array.isArray(I.amenities)&&I.amenities.includes("proshop")||!1,lockers:Array.isArray(I.amenities)&&I.amenities.includes("lockers")||!1},organizationType:I.organizationType||"",inn:I.inn||"",bankAccount:I.bankAccount||"",workingHours:I.workingHours||{monday:"07:00-23:00",tuesday:"07:00-23:00",wednesday:"07:00-23:00",thursday:"07:00-23:00",friday:"07:00-23:00",saturday:"08:00-22:00",sunday:"08:00-22:00"},bookingDurations:I.bookingDurations||{60:!0,90:!0,120:!0},bookingSlotInterval:I.bookingSlotInterval||30})},children:"Отмена"})]}),h&&o.jsx("div",{style:{marginTop:"16px",padding:"12px",background:"rgba(16, 185, 129, 0.1)",color:"var(--success)",borderRadius:"8px",fontSize:"14px"},children:"✅ Изменения успешно сохранены"})]})]}),o.jsxs("div",{className:"section-card",children:[o.jsx("h2",{className:"section-title",children:"Настройки платежей"}),o.jsxs("form",{onSubmit:P,children:[o.jsxs("div",{className:"form-group",style:{marginTop:"24px"},children:[o.jsx("label",{className:"form-label",children:"Тип организации"}),o.jsxs("select",{className:"form-select",name:"organizationType",value:y.organizationType,onChange:T,children:[o.jsx("option",{value:"",children:"Выберите тип"}),o.jsx("option",{value:"ИП",children:"ИП"}),o.jsx("option",{value:"ООО",children:"ООО"}),o.jsx("option",{value:"Самозанятый",children:"Самозанятый"})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"ИНН"}),o.jsx("input",{type:"text",className:"form-input",name:"inn",value:y.inn,onChange:T,placeholder:"Введите ИНН"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Расчетный счет"}),o.jsx("input",{type:"text",className:"form-input",name:"bankAccount",value:y.bankAccount,onChange:T,placeholder:"40702810900000123456"})]}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"Сохранение...":"Сохранить платежные данные"})]}),o.jsxs("div",{style:{marginTop:"24px",padding:"16px",background:"var(--background)",borderRadius:"8px",textAlign:"center"},children:[o.jsx("p",{style:{fontSize:"14px",color:"var(--gray)",marginBottom:"12px"},children:"Для настройки приема платежей от клиентов"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>e("/admin/payment-settings"),style:{width:"auto"},children:"Перейти к настройкам эквайринга"})]})]})]})})}const ha=["#00A86B","#2E86AB","#FF6B6B","#F39C12","#8E44AD","#E91E63","#00BCD4","#795548","#607D8B","#FF5722","#009688","#3F51B5","#FFEB3B","#4CAF50","#FF9800"];function xA(){const{admin:e}=Ht(),{isSuperAdmin:t,canManageCourts:n}=sn(),[r,s]=f.useState(null),[i,a]=f.useState([]),[l,c]=f.useState(!0),[d,u]=f.useState(!1),[p,h]=f.useState(null),[g,v]=f.useState({name:"",type:"padel",courtType:"indoor",pricing:{monday:{basePrice:1900,intervals:[]},tuesday:{basePrice:1900,intervals:[]},wednesday:{basePrice:1900,intervals:[]},thursday:{basePrice:1900,intervals:[]},friday:{basePrice:1900,intervals:[]},saturday:{basePrice:2400,intervals:[]},sunday:{basePrice:2400,intervals:[]}},status:"active",color:"#00A86B"});f.useEffect(()=>{if(t){const T=localStorage.getItem("selectedVenueId");T&&(s(T),y(T))}else e!=null&&e.venueId&&y(e.venueId)},[e,t]);const m=T=>{s(T),localStorage.setItem("selectedVenueId",T),T&&y(T)},y=async T=>{if(T)try{c(!0);const k=Ge(Pe(se,"venues",T,"courts")),N=(await qe(k)).docs.map((L,R)=>{const P=L.data();if(!P.color){const D=R%ha.length;P.color=ha[D],Ft(L.ref,{color:P.color})}return{id:L.id,...P}});a(N)}catch(k){console.error("Error fetching courts:",k)}finally{c(!1)}},x=()=>{const T=i.map(M=>M.color).filter(Boolean);for(const M of ha)if(!T.includes(M))return M;const k=ha.reduce((M,N)=>(M[N]=T.filter(L=>L===N).length,M),{});return Object.entries(k).sort((M,N)=>M[1]-N[1])[0][0]},w=T=>{const{name:k,value:M}=T.target;v(N=>({...N,[k]:k.includes("price")?Number(M):M}))},C=async T=>{T.preventDefault();const k=t?r:e==null?void 0:e.venueId;if(k)try{p?await Ft(Ie(se,"venues",k,"courts",p.id),{...g,updatedAt:new Date}):await gr(Pe(se,"venues",k,"courts"),{...g,createdAt:new Date}),u(!1),h(null);const M=x();v({name:"",type:"padel",courtType:"indoor",pricing:{monday:{basePrice:1900,intervals:[]},tuesday:{basePrice:1900,intervals:[]},wednesday:{basePrice:1900,intervals:[]},thursday:{basePrice:1900,intervals:[]},friday:{basePrice:1900,intervals:[]},saturday:{basePrice:2400,intervals:[]},sunday:{basePrice:2400,intervals:[]}},status:"active",color:M}),y(k)}catch(M){console.error("Error saving court:",M)}},j=T=>{h(T),v({name:T.name,type:T.type,courtType:T.courtType,pricing:T.pricing||{monday:{basePrice:1900,intervals:[]},tuesday:{basePrice:1900,intervals:[]},wednesday:{basePrice:1900,intervals:[]},thursday:{basePrice:1900,intervals:[]},friday:{basePrice:1900,intervals:[]},saturday:{basePrice:2400,intervals:[]},sunday:{basePrice:2400,intervals:[]}},status:T.status,color:T.color||"#00A86B"}),u(!0)},_=async T=>{if(window.confirm("Вы уверены, что хотите удалить этот корт?"))try{const k=t?r:e==null?void 0:e.venueId;if(!k)return;await fl(Ie(se,"venues",k,"courts",T)),y(k)}catch(k){console.error("Error deleting court:",k)}},S=T=>{switch(T){case"tennis":return"tennis";case"padel":return"padel";case"badminton":return"badminton";default:return"padel"}},E=T=>{switch(T){case"tennis":return"Теннис";case"padel":return"Падел";case"badminton":return"Бадминтон";default:return T}};return l?o.jsx("div",{children:"Загрузка..."}):n()?t&&!r?o.jsx(No,{title:"Выберите клуб для управления кортами"}):o.jsxs(Ro,{permission:["manage_courts","manage_all_venues"],children:[o.jsxs("div",{children:[t&&o.jsx(Do,{selectedVenueId:r,onVenueChange:m}),o.jsxs("div",{className:"section-card",children:[o.jsxs("div",{className:"section-header",children:[o.jsx("h2",{className:"section-title",children:"Управление кортами"}),o.jsxs("button",{className:"btn btn-primary",onClick:()=>{const T=x();v(k=>({...k,color:T})),u(!0)},children:[o.jsx(Xi,{fontSize:"small"}),"Добавить корт"]})]}),o.jsx("div",{className:"courts-grid",children:i.map(T=>o.jsxs("div",{className:"court-card",children:[o.jsx("div",{className:"court-header",children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[T.color&&o.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"4px",backgroundColor:T.color,border:"1px solid #e5e7eb"}}),o.jsxs("div",{children:[o.jsx("div",{className:"court-name",children:T.name}),o.jsx("span",{className:`court-type ${S(T.type)}`,children:E(T.type)})]})]})}),o.jsxs("div",{className:"court-details",children:[o.jsxs("div",{children:["Тип: ",T.courtType==="indoor"?"Крытый":"Открытый"]}),o.jsx("div",{children:T.pricing?o.jsxs(o.Fragment,{children:["Цены: от ",Math.min(...Object.values(T.pricing).filter(k=>k).map(k=>k.basePrice)),"₽ до ",Math.max(...Object.values(T.pricing).filter(k=>k).map(k=>k.basePrice)),"₽"]}):o.jsxs(o.Fragment,{children:["Будни: ",T.priceWeekday||1900,"₽ | Вых: ",T.priceWeekend||2400,"₽"]})}),o.jsxs("div",{children:["Статус: ",T.status==="active"?"Активен":T.status==="maintenance"?"Обслуживание":"Неактивен"]})]}),o.jsxs("div",{className:"court-actions",children:[o.jsxs("button",{className:"btn btn-secondary",onClick:()=>j(T),children:[o.jsx(Mi,{fontSize:"small"}),"Редактировать"]}),o.jsx("button",{className:"btn btn-danger",onClick:()=>_(T.id),style:{marginLeft:"auto"},children:o.jsx(xs,{fontSize:"small"})})]})]},T.id))}),i.length===0&&o.jsxs("div",{style:{textAlign:"center",padding:"48px",color:"var(--gray)"},children:[o.jsx("p",{children:"У вас пока нет кортов"}),o.jsx("p",{children:'Нажмите "Добавить корт", чтобы создать первый'})]})]})]}),o.jsx("div",{className:`modal ${d?"active":""}`,children:o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h3",{className:"modal-title",children:p?"Редактировать корт":"Добавить корт"}),o.jsx("button",{className:"modal-close",onClick:()=>{u(!1),h(null);const T=x();v({name:"",type:"padel",courtType:"indoor",pricing:{monday:{basePrice:1900,intervals:[]},tuesday:{basePrice:1900,intervals:[]},wednesday:{basePrice:1900,intervals:[]},thursday:{basePrice:1900,intervals:[]},friday:{basePrice:1900,intervals:[]},saturday:{basePrice:2400,intervals:[]},sunday:{basePrice:2400,intervals:[]}},status:"active",color:T})},children:o.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),o.jsxs("form",{onSubmit:C,children:[o.jsxs("div",{className:"modal-body",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Название корта"}),o.jsx("input",{type:"text",className:"form-input",name:"name",value:g.name,onChange:w,placeholder:"Например: Падел корт 1",required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Вид спорта"}),o.jsxs("select",{className:"form-select",name:"type",value:g.type,onChange:w,children:[o.jsx("option",{value:"padel",children:"Падел"}),o.jsx("option",{value:"tennis",children:"Теннис"}),o.jsx("option",{value:"badminton",children:"Бадминтон"})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Тип корта"}),o.jsxs("select",{className:"form-select",name:"courtType",value:g.courtType,onChange:w,children:[o.jsx("option",{value:"indoor",children:"Крытый"}),o.jsx("option",{value:"outdoor",children:"Открытый"})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Ценовая политика"}),o.jsx("div",{style:{marginTop:"16px"},children:[{key:"monday",label:"Понедельник"},{key:"tuesday",label:"Вторник"},{key:"wednesday",label:"Среда"},{key:"thursday",label:"Четверг"},{key:"friday",label:"Пятница"},{key:"saturday",label:"Суббота"},{key:"sunday",label:"Воскресенье"}].map(T=>{var k;return o.jsxs("div",{style:{marginBottom:"24px",padding:"16px",background:"#f8f9fa",borderRadius:"8px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"12px"},children:[o.jsx("h4",{style:{margin:0},children:T.label}),o.jsx("input",{type:"number",className:"form-input",style:{width:"120px"},value:g.pricing[T.key].basePrice,onChange:M=>{const N=Number(M.target.value);v(L=>({...L,pricing:{...L.pricing,[T.key]:{...L.pricing[T.key],basePrice:N}}}))},min:"0",placeholder:"Базовая цена"}),o.jsx("span",{style:{marginLeft:"8px"},children:"₽/час"})]}),o.jsxs("div",{style:{marginTop:"12px"},children:[o.jsx("div",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"8px"},children:"Интервалы с особыми ценами:"}),(k=g.pricing[T.key].intervals)==null?void 0:k.map((M,N)=>o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[o.jsx("input",{type:"time",className:"form-input",style:{width:"100px"},value:M.from,onChange:L=>{const R=[...g.pricing[T.key].intervals];R[N].from=L.target.value,v(P=>({...P,pricing:{...P.pricing,[T.key]:{...P.pricing[T.key],intervals:R}}}))},step:"3600"}),o.jsx("span",{children:"-"}),o.jsx("input",{type:"time",className:"form-input",style:{width:"100px"},value:M.to,onChange:L=>{const R=[...g.pricing[T.key].intervals];R[N].to=L.target.value,v(P=>({...P,pricing:{...P.pricing,[T.key]:{...P.pricing[T.key],intervals:R}}}))},step:"3600"}),o.jsx("input",{type:"number",className:"form-input",style:{width:"100px"},value:M.price,onChange:L=>{const R=[...g.pricing[T.key].intervals];R[N].price=Number(L.target.value),v(P=>({...P,pricing:{...P.pricing,[T.key]:{...P.pricing[T.key],intervals:R}}}))},min:"0",placeholder:"Цена"}),o.jsx("span",{children:"₽"}),o.jsx("button",{type:"button",className:"btn btn-secondary",style:{padding:"4px 8px"},onClick:()=>{const L=g.pricing[T.key].intervals.filter((R,P)=>P!==N);v(R=>({...R,pricing:{...R.pricing,[T.key]:{...R.pricing[T.key],intervals:L}}}))},children:"Удалить"})]},N)),o.jsx("button",{type:"button",className:"btn btn-link",style:{padding:"4px 8px",fontSize:"14px"},onClick:()=>{const M=[...g.pricing[T.key].intervals||[],{from:"09:00",to:"11:00",price:g.pricing[T.key].basePrice*1.5}];v(N=>({...N,pricing:{...N.pricing,[T.key]:{...N.pricing[T.key],intervals:M}}}))},children:"+ Добавить интервал"})]})]},T.key)})})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Статус"}),o.jsxs("select",{className:"form-select",name:"status",value:g.status,onChange:w,children:[o.jsx("option",{value:"active",children:"Активен"}),o.jsx("option",{value:"maintenance",children:"На обслуживании"}),o.jsx("option",{value:"inactive",children:"Неактивен"})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Цвет корта"}),o.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[o.jsx("input",{type:"color",className:"form-input",name:"color",value:g.color,onChange:w,style:{width:"80px",height:"48px",padding:"4px",cursor:"pointer"}}),o.jsx("input",{type:"text",className:"form-input",value:g.color,onChange:T=>v(k=>({...k,color:T.target.value})),placeholder:"#00A86B",style:{flex:1}})]}),o.jsx("div",{className:"form-hint",children:"Этот цвет будет использоваться для визуального отображения корта в календаре"})]})]}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{u(!1),h(null)},children:"Отмена"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:p?"Сохранить изменения":"Добавить корт"})]})]})]})})]}):o.jsxs(lt,{severity:"error",children:[o.jsx(ji,{children:"Доступ запрещен"}),"У вас недостаточно прав для управления кортами."]})}const pm={awaiting_payment:"Ожидает оплаты",paid:"Оплачено",online_payment:"Онлайн оплата",cancelled:"Отменено"},hm={awaiting_payment:"#F59E0B",paid:"#10B981",online_payment:"#3B82F6",cancelled:"#EF4444"},bA={awaiting_payment:Wd,paid:hp,online_payment:go,cancelled:sl};function qd({bookingId:e,currentStatus:t,paymentMethod:n,onStatusUpdate:r}){const{admin:s}=Ht(),[i,a]=f.useState(!1),[l,c]=f.useState(!1),[d,u]=f.useState(null),[p,h]=f.useState(t);f.useEffect(()=>{console.log("PaymentStatusManager: currentStatus changed to",t),h(t)},[t]),f.useEffect(()=>{if(!e)return;console.log("PaymentStatusManager: subscribing to booking changes");const y=yr(Ie(se,"bookings",e),x=>{if(x.exists()){const C=x.data().paymentStatus||"awaiting_payment";console.log("PaymentStatusManager: realtime update, status:",C),h(C)}});return()=>y()},[e]);const g=p==="awaiting_payment"&&n!=="online",v=async y=>{if(!s){alert("Ошибка: пользователь не авторизован");return}a(!0);try{const x=Ie(se,"bookings",e),w=await St(x);if(!w.exists())throw new Error("Бронирование не найдено");const j=w.data().paymentHistory||[],_={timestamp:$r.now(),action:y,userId:s.uid||"unknown",userName:s.displayName||s.email||"Администратор"},S={paymentStatus:y};Array.isArray(j)?S.paymentHistory=[...j,_]:S.paymentHistory=[_],y==="cancelled"&&(S.status="cancelled"),Object.keys(S).forEach(E=>{S[E]===void 0&&delete S[E]}),await Ft(x,S),c(!1),u(null),await new Promise(E=>setTimeout(E,500)),h(y),r&&await r()}catch(x){console.error("Error updating payment status:",x);let w="Ошибка при обновлении статуса оплаты";x.code==="permission-denied"?w="У вас нет прав для изменения статуса оплаты":x.code==="not-found"?w="Бронирование не найдено":x.message&&(w=`Ошибка: ${x.message}`),alert(w)}finally{a(!1)}},m=bA[p];return console.log("PaymentStatusManager render:",{bookingId:e,currentStatus:t,localStatus:p,canChangeStatus:g}),o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"6px 12px",background:`${hm[p]}1A`,color:hm[p],borderRadius:"20px",fontSize:"14px",fontWeight:"600"},children:[o.jsx(m,{style:{fontSize:"18px"}}),o.jsx("span",{children:pm[p]}),g&&o.jsxs("div",{style:{marginLeft:"8px",display:"flex",gap:"4px"},children:[o.jsx("button",{onClick:()=>{u("paid"),c(!0)},disabled:i,style:{padding:"4px 8px",fontSize:"12px",background:"#10B981",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",opacity:i?.6:1},children:"Оплачено"}),o.jsx("button",{onClick:()=>{u("cancelled"),c(!0)},disabled:i,style:{padding:"4px 8px",fontSize:"12px",background:"#EF4444",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",opacity:i?.6:1},children:"Отменить"})]})]}),l&&d&&o.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:o.jsxs("div",{style:{background:"white",padding:"24px",borderRadius:"12px",maxWidth:"400px",width:"90%"},children:[o.jsx("h3",{style:{marginBottom:"16px"},children:"Подтверждение"}),o.jsxs("p",{style:{marginBottom:"24px"},children:['Вы уверены, что хотите изменить статус оплаты на "',pm[d],'"?']}),o.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[o.jsx("button",{onClick:()=>{c(!1),u(null)},style:{padding:"8px 16px",background:"#E5E7EB",border:"none",borderRadius:"8px",cursor:"pointer"},children:"Отмена"}),o.jsx("button",{onClick:()=>v(d),disabled:i,style:{padding:"8px 16px",background:d==="paid"?"#10B981":"#EF4444",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",opacity:i?.6:1},children:i?"Обновление...":"Подтвердить"})]})]})})]})}const CA={created:"Создано бронирование",paid:"Оплачено",cancelled:"Отменено"},fm={created:"#6B7280",paid:"#10B981",cancelled:"#EF4444"};function wA({history:e}){if(!e||e.length===0)return null;const t=n=>{const r=n.toDate?n.toDate():new Date(n);return new Intl.DateTimeFormat("ru-RU",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(r)};return o.jsxs("div",{style:{marginTop:"16px",padding:"16px",background:"var(--background)",borderRadius:"8px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px",color:"var(--gray)",fontSize:"14px",fontWeight:"600"},children:[o.jsx(HN,{style:{fontSize:"18px"}}),"История платежей"]}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:e.map((n,r)=>o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"8px",background:"var(--white)",borderRadius:"6px",fontSize:"14px"},children:[o.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:fm[n.action],flexShrink:0}}),o.jsxs("div",{style:{flex:1},children:[o.jsx("div",{style:{color:fm[n.action],fontWeight:"500"},children:CA[n.action]}),o.jsx("div",{style:{color:"var(--gray)",fontSize:"12px",marginTop:"2px"},children:t(n.timestamp)})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",color:"var(--gray)",fontSize:"12px"},children:[o.jsx(Jy,{style:{fontSize:"16px"}}),n.userName||"Администратор"]}),n.note&&o.jsx("div",{style:{fontSize:"12px",color:"var(--gray)",fontStyle:"italic"},children:n.note})]},r))})]})}function vx({booking:e,isOpen:t,onClose:n,onUpdate:r}){var h,g;const[s,i]=f.useState(e);f.useEffect(()=>{if(e&&t){a(e.id);const v=yr(Ie(se,"bookings",e.id),m=>{var y,x;if(m.exists()){const w=m.data(),C={id:m.id,...w,date:(y=w.date)!=null&&y.toDate?w.date.toDate():new Date(w.date),createdAt:(x=w.createdAt)!=null&&x.toDate?w.createdAt.toDate():new Date(w.createdAt||Date.now()),paymentStatus:w.paymentStatus||"awaiting_payment",paymentHistory:w.paymentHistory||[]};i(C)}});return()=>v()}},[e==null?void 0:e.id,t]);const a=async v=>{var m,y;console.log("Loading fresh booking data:",v);try{const x=await St(Ie(se,"bookings",v));if(x.exists()){const w=x.data(),C={id:x.id,...w,date:(m=w.date)!=null&&m.toDate?w.date.toDate():new Date(w.date),createdAt:(y=w.createdAt)!=null&&y.toDate?w.createdAt.toDate():new Date(w.createdAt||Date.now()),paymentStatus:w.paymentStatus||"awaiting_payment",paymentHistory:w.paymentHistory||[]};console.log("Fresh booking loaded with payment status:",C.paymentStatus),i(C)}}catch(x){console.error("Error loading fresh booking:",x)}};if(!t||!s)return null;const l=v=>new Intl.DateTimeFormat("ru-RU",{weekday:"long",day:"numeric",month:"long",year:"numeric"}).format(v),c=v=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0}).format(v),d={cash:"Наличные",card_on_site:"Карта на месте",transfer:"Перевод",online:"Онлайн"},u={confirmed:"Подтверждено",pending:"Ожидает",cancelled:"Отменено"},p={confirmed:"#10B981",pending:"#F59E0B",cancelled:"#EF4444"};return o.jsx("div",{className:"modal active",children:o.jsxs("div",{className:"modal-content",style:{maxWidth:"700px"},children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h2",{className:"modal-title",children:"Детали бронирования"}),o.jsx("button",{className:"modal-close",onClick:n,children:o.jsx(fp,{})})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("div",{style:{display:"grid",gap:"24px"},children:[o.jsxs("div",{children:[o.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Информация о бронировании"}),o.jsxs("div",{style:{display:"grid",gap:"12px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("span",{style:{color:"var(--gray)"},children:"Корт:"}),o.jsx("span",{style:{fontWeight:"600"},children:s.courtName})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("span",{style:{color:"var(--gray)"},children:"Дата:"}),o.jsx("span",{style:{fontWeight:"600"},children:l(s.date)})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("span",{style:{color:"var(--gray)"},children:"Время:"}),o.jsxs("span",{style:{fontWeight:"600"},children:[s.startTime," - ",s.endTime]})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("span",{style:{color:"var(--gray)"},children:"Статус:"}),o.jsx("span",{style:{fontWeight:"600",color:p[s.status]},children:u[s.status]})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Информация о клиенте"}),o.jsxs("div",{style:{display:"grid",gap:"12px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("span",{style:{color:"var(--gray)"},children:"Имя:"}),o.jsx("span",{style:{fontWeight:"600"},children:s.clientName||s.customerName})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("span",{style:{color:"var(--gray)"},children:"Телефон:"}),o.jsx("span",{style:{fontWeight:"600"},children:s.clientPhone||s.customerPhone})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Информация о создании"}),o.jsxs("div",{style:{display:"grid",gap:"12px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("span",{style:{color:"var(--gray)"},children:"Создано:"}),o.jsx("span",{style:{fontWeight:"600"},children:((h=s.createdBy)==null?void 0:h.userName)||"Система"})]}),((g=s.createdBy)==null?void 0:g.userRole)&&o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("span",{style:{color:"var(--gray)"},children:"Роль:"}),o.jsx("span",{style:{fontWeight:"600"},children:s.createdBy.userRole==="superadmin"?"Суперадминистратор":"Администратор"})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("span",{style:{color:"var(--gray)"},children:"Дата создания:"}),o.jsx("span",{style:{fontWeight:"600"},children:new Intl.DateTimeFormat("ru-RU",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(s.createdAt)})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Информация об оплате"}),o.jsxs("div",{style:{display:"grid",gap:"12px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("span",{style:{color:"var(--gray)"},children:"Сумма:"}),o.jsx("span",{style:{fontWeight:"600",fontSize:"18px"},children:c(s.amount)})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("span",{style:{color:"var(--gray)"},children:"Способ оплаты:"}),o.jsx("span",{style:{fontWeight:"600"},children:d[s.paymentMethod]})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("span",{style:{color:"var(--gray)"},children:"Статус оплаты:"}),o.jsx(qd,{bookingId:s.id,currentStatus:s.paymentStatus||"awaiting_payment",paymentMethod:s.paymentMethod,onStatusUpdate:async()=>{r&&await r()}},`${s.id}-${s.paymentStatus}`)]})]})]}),s.paymentHistory&&s.paymentHistory.length>0&&o.jsx(wA,{history:s.paymentHistory})]})}),o.jsx("div",{className:"modal-footer",children:o.jsx("button",{className:"btn btn-secondary",onClick:n,children:"Закрыть"})})]})})}function SA({venueId:e,onRefresh:t}){const{admin:n}=Ht(),{hasPermission:r}=sn(),[s,i]=f.useState([]),[a,l]=f.useState(!0),[c,d]=f.useState("all"),[u,p]=f.useState("all"),[h,g]=f.useState(!1),[v,m]=f.useState(null),[y,x]=f.useState(!1);f.useEffect(()=>{w()},[e]);const w=async()=>{if(!e){console.log("No venueId provided to BookingsList");return}console.log("BookingsList: Fetching bookings for venue:",e);try{l(!0);const k=Ge(Pe(se,"bookings"),Ee("venueId","==",e)),M=await qe(k);console.log("BookingsList: Found bookings:",M.size);const L=M.docs.map(R=>{var D,I;const P=R.data();return console.log("BookingsList: Raw booking:",P),{id:R.id,...P,date:(D=P.date)!=null&&D.toDate?P.date.toDate():new Date(P.date),createdAt:(I=P.createdAt)!=null&&I.toDate?P.createdAt.toDate():new Date}}).sort((R,P)=>new Date(P.date).getTime()-new Date(R.date).getTime());console.log("BookingsList: Processed and sorted bookings:",L),i(L)}catch(k){console.error("Error fetching bookings:",k)}finally{l(!1)}},C=async k=>{if(confirm("Вы уверены, что хотите удалить это бронирование?"))try{await fl(Ie(se,"bookings",k)),w(),t&&t()}catch(M){console.error("Error deleting booking:",M),alert("Ошибка при удалении бронирования")}},j=s.filter(k=>!(c!=="all"&&k.status!==c||u!=="all"&&(k.paymentStatus||"awaiting_payment")!==u)),_=k=>new Intl.DateTimeFormat("ru-RU",{day:"numeric",month:"long",year:"numeric"}).format(k),S=k=>k||"—",E=k=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0}).format(k),T={cash:"Наличные",card_on_site:"Карта на месте",transfer:"Перевод",online:"Онлайн"};return a?o.jsx("div",{children:"Загрузка..."}):o.jsxs("div",{className:"section-card",children:[o.jsxs("div",{className:"section-header",children:[o.jsx("h2",{className:"section-title",children:"Список бронирований"}),o.jsxs("button",{className:"btn btn-secondary btn-icon",onClick:()=>g(!h),children:[o.jsx(WN,{}),"Фильтры"]})]}),h&&o.jsxs("div",{className:"booking-filters-mobile",style:{marginBottom:"24px",padding:"16px",background:"var(--background)",borderRadius:"8px",display:"flex",gap:"16px",flexWrap:"wrap"},children:[o.jsxs("div",{children:[o.jsx("label",{className:"form-label",style:{fontSize:"12px",marginBottom:"4px"},children:"Статус бронирования"}),o.jsxs("select",{className:"form-select",value:c,onChange:k=>d(k.target.value),style:{minWidth:"150px"},children:[o.jsx("option",{value:"all",children:"Все"}),o.jsx("option",{value:"confirmed",children:"Подтверждено"}),o.jsx("option",{value:"pending",children:"Ожидает"}),o.jsx("option",{value:"cancelled",children:"Отменено"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"form-label",style:{fontSize:"12px",marginBottom:"4px"},children:"Статус оплаты"}),o.jsxs("select",{className:"form-select",value:u,onChange:k=>p(k.target.value),style:{minWidth:"150px"},children:[o.jsx("option",{value:"all",children:"Все"}),o.jsx("option",{value:"awaiting_payment",children:"Ожидает оплаты"}),o.jsx("option",{value:"paid",children:"Оплачено"}),o.jsx("option",{value:"online_payment",children:"Онлайн оплата"}),o.jsx("option",{value:"cancelled",children:"Отменено"})]})]})]}),o.jsx("div",{className:"table-wrapper",children:o.jsxs("table",{children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Дата и время"}),o.jsx("th",{children:"Корт"}),o.jsx("th",{children:"Клиент"}),o.jsx("th",{children:"Сумма"}),o.jsx("th",{children:"Способ оплаты"}),o.jsx("th",{children:"Статус оплаты"}),o.jsx("th",{children:"Действия"})]})}),o.jsx("tbody",{children:j.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:7,style:{textAlign:"center",padding:"48px"},children:"Нет бронирований"})}):j.map(k=>o.jsxs("tr",{children:[o.jsxs("td",{children:[o.jsx("div",{children:_(k.date)}),o.jsxs("div",{style:{fontSize:"14px",color:"var(--gray)"},children:[S(k.startTime)," - ",S(k.endTime)]})]}),o.jsx("td",{children:k.courtName}),o.jsxs("td",{children:[o.jsx("div",{children:k.clientName||k.customerName}),o.jsx("div",{style:{fontSize:"14px",color:"var(--gray)"},children:k.clientPhone||k.customerPhone})]}),o.jsx("td",{style:{fontWeight:"600"},children:E(k.amount)}),o.jsx("td",{children:T[k.paymentMethod]||k.paymentMethod}),o.jsx("td",{children:o.jsx(qd,{bookingId:k.id,currentStatus:k.paymentStatus||"awaiting_payment",paymentMethod:k.paymentMethod,onStatusUpdate:w})}),o.jsx("td",{children:o.jsxs("div",{style:{display:"flex",gap:"8px"},children:[o.jsx("button",{className:"btn btn-secondary btn-icon",onClick:()=>{m(k),x(!0)},title:"Подробности",children:o.jsx(lm,{})}),r(["manage_bookings","manage_all_bookings"])&&o.jsx("button",{className:"btn btn-danger btn-icon",onClick:()=>C(k.id),title:"Удалить бронирование",children:o.jsx(xs,{})})]})})]},k.id))})]})}),o.jsx("div",{className:"bookings-mobile-cards",children:j.length===0?o.jsx("div",{style:{textAlign:"center",padding:"48px",color:"var(--gray)"},children:"Нет бронирований"}):j.map(k=>o.jsxs("div",{className:"booking-card-mobile",children:[o.jsxs("div",{className:"booking-card-header",children:[o.jsx("div",{className:"booking-card-court",children:k.courtName}),o.jsx("div",{className:"booking-card-amount",children:E(k.amount)})]}),o.jsxs("div",{className:"booking-card-client",children:[o.jsx("div",{className:"booking-card-client-name",children:k.clientName||k.customerName}),o.jsx("div",{className:"booking-card-client-phone",children:k.clientPhone||k.customerPhone})]}),o.jsxs("div",{className:"booking-card-info",children:[o.jsxs("div",{className:"booking-card-row",children:[o.jsx("span",{className:"booking-card-label",children:"Дата:"}),o.jsx("span",{className:"booking-card-value",children:_(k.date)})]}),o.jsxs("div",{className:"booking-card-row",children:[o.jsx("span",{className:"booking-card-label",children:"Время:"}),o.jsxs("span",{className:"booking-card-value",children:[S(k.startTime)," - ",S(k.endTime)]})]}),o.jsxs("div",{className:"booking-card-row",children:[o.jsx("span",{className:"booking-card-label",children:"Способ оплаты:"}),o.jsx("span",{className:"booking-card-value",children:T[k.paymentMethod]||k.paymentMethod})]})]}),o.jsxs("div",{className:"booking-card-footer",children:[o.jsx(qd,{bookingId:k.id,currentStatus:k.paymentStatus||"awaiting_payment",paymentMethod:k.paymentMethod,onStatusUpdate:w}),o.jsxs("div",{className:"booking-card-actions",children:[o.jsx("button",{className:"btn btn-secondary btn-icon",onClick:()=>{m(k),x(!0)},title:"Подробности",children:o.jsx(lm,{})}),r(["manage_bookings","manage_all_bookings"])&&o.jsx("button",{className:"btn btn-danger btn-icon",onClick:()=>C(k.id),title:"Удалить",children:o.jsx(xs,{})})]})]})]},k.id))}),o.jsx(vx,{booking:v,isOpen:y,onClose:()=>{x(!1),m(null)},onUpdate:w})]})}function KL(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function jA(e){const t=e.replace(/\D/g,"");return t.length===11&&(t.startsWith("7")||t.startsWith("8"))}function mm(e){const t=e.replace(/\D/g,"");if(t.length===11){if(t.startsWith("8"))return"+7"+t.substring(1);if(t.startsWith("7"))return"+"+t}return t.length===10?"+7"+t:e}function kA(e){return e.trim().length>=2&&e.trim().length<=100}function _A(e){const t=new Date;t.setHours(0,0,0,0);const n=new Date(e);return n.setHours(0,0,0,0),n>=t}function TA(e,t,n=60){const r=/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/;if(!r.test(e)||!r.test(t))return!1;const[s,i]=e.split(":").map(Number),[a,l]=t.split(":").map(Number),c=s*60+i,d=a*60+l;return d<=c?!1:d-c>=n}function gm(e){return e.replace(/[<>]/g,"").replace(/javascript:/gi,"").trim()}function EA({isOpen:e,onClose:t,onSuccess:n,venueId:r,preSelectedDate:s,preSelectedTime:i}){const{admin:a}=Ht(),[l,c]=f.useState([]),[d,u]=f.useState(!1),[p,h]=f.useState(""),[g,v]=f.useState(30),[m,y]=f.useState({clientName:"",clientPhone:"",courtId:"",date:s?s.toISOString().split("T")[0]:new Date().toISOString().split("T")[0],startTime:i||"10:00",duration:1,paymentMethod:"cash"}),[x,w]=f.useState([]),[C,j]=f.useState([]),[_,S]=f.useState(null),E=(R,P)=>{const[D,I]=R.split(":").map(Number),O=D+I/60,z=O+P;return C.some($=>{const[A,H]=$.startTime.split(":").map(Number),[Y,G]=$.endTime.split(":").map(Number),J=A+H/60,ae=Y+G/60;return O<ae&&z>J})},T=R=>{const P=[],O=23-R,z=g===60?1:.5;for(let $=7;$<=O;$+=z){const A=Math.floor($),H=$%1*60,Y=`${String(A).padStart(2,"0")}:${String(H).padStart(2,"0")}`;$+R<=23&&P.push(Y)}return P};f.useEffect(()=>{if(e&&r){k();const R=Pe(se,"venues",r,"courts"),P=yr(R,I=>{const O=I.docs.map(z=>({id:z.id,...z.data()}));c(O),m.courtId&&!O.find(z=>z.id===m.courtId)&&y(z=>({...z,courtId:""}))},I=>{console.error("Error listening to courts:",I)});s&&y(I=>({...I,date:s.toISOString().split("T")[0]})),i&&y(I=>({...I,startTime:i}));const D=T(m.duration);return w(D),()=>{P()}}},[e,r,s,i,g]),f.useEffect(()=>{const R=T(m.duration);w(R),!R.includes(m.startTime)&&R.length>0&&y(P=>({...P,startTime:R[0]}))},[m.duration,g]),f.useEffect(()=>{if(m.courtId&&m.date&&e){_&&(_(),S(null)),M();const R=Pe(se,"bookings"),P=Ge(R,Ee("courtId","==",m.courtId),Ee("date","==",m.date),Ee("status","in",["confirmed","pending"])),D=new Date(m.date);D.setHours(0,0,0,0);const I=new Date(m.date);I.setHours(23,59,59,999);const O=Ge(R,Ee("courtId","==",m.courtId),Ee("date",">=",$r.fromDate(D)),Ee("date","<=",$r.fromDate(I)),Ee("status","in",["confirmed","pending"])),z=new Map,$=yr(P,Y=>{Y.docs.forEach(G=>{z.set(G.id,{id:G.id,...G.data()})}),j(Array.from(z.values()))}),A=yr(O,Y=>{Y.docs.forEach(G=>{z.set(G.id,{id:G.id,...G.data()})}),j(Array.from(z.values()))}),H=()=>{$(),A()};S(()=>H)}return()=>{_&&(_(),S(null))}},[m.courtId,m.date,e]);const k=async()=>{if(r)try{const R=await St(Ie(se,"venues",r));if(R.exists()){const O=R.data();h(O.name||""),v(O.bookingSlotInterval||30)}const P=Pe(se,"venues",r,"courts"),I=(await qe(P)).docs.map(O=>({id:O.id,...O.data()}));c(I),I.length>0&&!m.courtId&&y(O=>({...O,courtId:I[0].id}))}catch(R){console.error("Error fetching courts:",R)}},M=async()=>{if(!(!r||!m.courtId||!m.date))try{const R=Pe(se,"bookings");let P=Ge(R,Ee("courtId","==",m.courtId),Ee("date","==",m.date),Ee("status","in",["confirmed","pending"])),D=await qe(P);if(D.empty){const O=new Date(m.date);O.setHours(0,0,0,0);const z=new Date(m.date);z.setHours(23,59,59,999),P=Ge(R,Ee("courtId","==",m.courtId),Ee("date",">=",$r.fromDate(O)),Ee("date","<=",$r.fromDate(z)),Ee("status","in",["confirmed","pending"])),D=await qe(P)}const I=D.docs.map(O=>({id:O.id,...O.data()}));j(I)}catch(R){console.error("Error fetching bookings:",R)}},N=R=>{const{name:P,value:D}=R.target;y(I=>({...I,[P]:P==="duration"?parseFloat(D):D}))},L=async R=>{if(R.preventDefault(),!r||!a)return;if(!kA(m.clientName)){alert("Имя должно быть от 2 до 100 символов");return}if(!jA(m.clientPhone)){alert("Некорректный номер телефона");return}const P=new Date;if(P.setFullYear(parseInt(m.date.split("-")[0]),parseInt(m.date.split("-")[1])-1,parseInt(m.date.split("-")[2])),!_A(P)){alert("Нельзя забронировать на прошедшую дату");return}const[D,I]=m.startTime.split(":").map(Number),O=D*60+I+m.duration,z=`${Math.floor(O/60).toString().padStart(2,"0")}:${(O%60).toString().padStart(2,"0")}`;if(!TA(m.startTime,z,m.duration)){alert("Некорректное время бронирования");return}u(!0);try{const $=l.find(F=>F.id===m.courtId);if(!$)return;const[A,H]=m.startTime.split(":").map(Number),Y=A+Math.floor(m.duration),G=H+m.duration%1*60,J=`${String(Y+Math.floor(G/60)).padStart(2,"0")}:${String(G%60).padStart(2,"0")}`,ae=m.paymentMethod==="online"?"online_payment":"awaiting_payment",V=new Date(m.date),[le]=m.startTime.split(":").map(Number),ee=V.getDay(),ie=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][ee];let K=0;if($.pricing&&$.pricing[ie]){const F=$.pricing[ie];if(K=F.basePrice,F.intervals&&F.intervals.length>0)for(const q of F.intervals){const[te]=q.from.split(":").map(Number),[ue]=q.to.split(":").map(Number);if(le>=te&&le<ue){K=q.price;break}}}else{const F=ee===0||ee===6;K=$.pricePerHour||(F?$.priceWeekend:$.priceWeekday)||1900}const B={venueId:r,courtId:m.courtId,courtName:$.name,venueName:p,clientName:gm(m.clientName),clientPhone:mm(m.clientPhone),customerName:gm(m.clientName),customerPhone:mm(m.clientPhone),date:m.date,time:m.startTime,startTime:m.startTime,endTime:J,duration:m.duration*60,gameType:"single",status:"confirmed",amount:m.duration*K,price:K,paymentMethod:m.paymentMethod,paymentStatus:ae,source:"admin",paymentHistory:[{timestamp:$r.now(),action:"created",userId:a.uid||"",userName:a.displayName||a.email||"Администратор"}],createdBy:{userId:a.uid||"",userName:a.displayName||a.email||"Администратор",userRole:a.role||"admin"},createdAt:$r.now()};await gr(Pe(se,"bookings"),B),y({clientName:"",clientPhone:"",courtId:l.length>0?l[0].id:"",date:new Date().toISOString().split("T")[0],startTime:"10:00",duration:1,paymentMethod:"cash"}),n(),t()}catch($){console.error("Error creating booking:",$),alert("Ошибка при создании бронирования: "+$.message)}finally{u(!1)}};return e?o.jsx("div",{className:"modal active",children:o.jsxs("div",{className:"modal-content",style:{maxWidth:"600px"},children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h2",{className:"modal-title",children:"Создать бронирование"}),o.jsx("button",{className:"modal-close",onClick:t,children:o.jsx(fp,{})})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("form",{onSubmit:L,children:[o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Имя клиента"}),o.jsx("input",{type:"text",className:"form-input",name:"clientName",value:m.clientName,onChange:N,placeholder:"Введите имя",required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Телефон"}),o.jsx("input",{type:"tel",className:"form-input",name:"clientPhone",value:m.clientPhone,onChange:N,placeholder:"+7 (___) ___-__-__",required:!0})]})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginTop:"20px"},children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Корт"}),o.jsxs("select",{className:"form-select",name:"courtId",value:m.courtId,onChange:N,required:!0,children:[o.jsx("option",{value:"",children:"Выберите корт"}),l.map(R=>{const P=new Date(m.date),D=P.getDay()===0||P.getDay()===6,I=R.pricePerHour||(D?R.priceWeekend:R.priceWeekday)||0;return o.jsxs("option",{value:R.id,children:[R.name," - ",I," ₽/час"]},R.id)})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Дата"}),o.jsx("input",{type:"date",className:"form-input",name:"date",value:m.date,onChange:N,required:!0})]})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginTop:"20px"},children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Длительность"}),o.jsxs("select",{className:"form-select",name:"duration",value:m.duration,onChange:N,children:[o.jsx("option",{value:"0.5",children:"30 минут"}),o.jsx("option",{value:"1",children:"1 час"}),o.jsx("option",{value:"1.5",children:"1.5 часа"}),o.jsx("option",{value:"2",children:"2 часа"}),o.jsx("option",{value:"2.5",children:"2.5 часа"}),o.jsx("option",{value:"3",children:"3 часа"})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Время начала"}),o.jsxs("select",{className:"form-select",name:"startTime",value:m.startTime,onChange:N,required:!0,children:[o.jsx("option",{value:"",children:"Выберите время"}),x.map(R=>{const P=E(R,m.duration),[D,I]=R.split(":").map(Number),O=D+Math.floor(m.duration),z=I+m.duration%1*60,$=O+Math.floor(z/60),A=z%60,H=`${String($).padStart(2,"0")}:${String(A).padStart(2,"0")}`;return o.jsxs("option",{value:R,disabled:P,children:[R," - ",H," ",P?"(Занято)":""]},R)})]})]})]}),o.jsxs("div",{className:"form-group",style:{marginTop:"20px"},children:[o.jsx("label",{className:"form-label",children:"Способ оплаты"}),o.jsxs("select",{className:"form-select",name:"paymentMethod",value:m.paymentMethod,onChange:N,children:[o.jsx("option",{value:"cash",children:"Оплата в клубе наличными"}),o.jsx("option",{value:"card_on_site",children:"Оплата в клубе картой"}),o.jsx("option",{value:"transfer",children:"Перевод на счет клуба"}),o.jsx("option",{value:"online",children:"Онлайн оплата"})]})]}),m.courtId&&m.duration&&m.startTime&&o.jsx("div",{style:{background:"var(--background)",padding:"20px",borderRadius:"8px",marginTop:"24px"},children:(()=>{const R=l.find(z=>z.id===m.courtId);if(!R)return null;const P=new Date(m.date),D=P.getDay()===0||P.getDay()===6,I=R.pricePerHour||(D?R.priceWeekend:R.priceWeekday)||0,O=I*m.duration;return o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("span",{style:{color:"var(--gray)"},children:"Стоимость за час:"}),o.jsxs("span",{style:{fontWeight:"500"},children:[I.toLocaleString("ru-RU")," ₽"]})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingTop:"12px",borderTop:"1px solid var(--extra-light-gray)",marginTop:"4px"},children:[o.jsx("span",{style:{fontWeight:"600",fontSize:"18px"},children:"Итого:"}),o.jsxs("span",{style:{fontWeight:"700",fontSize:"20px",color:"var(--primary)"},children:[O.toLocaleString("ru-RU")," ₽"]})]}),o.jsxs("div",{style:{fontSize:"14px",color:"var(--gray)",marginTop:"8px"},children:["Способ оплаты: ",m.paymentMethod==="cash"?"Оплата в клубе наличными":m.paymentMethod==="card_on_site"?"Оплата в клубе картой":m.paymentMethod==="transfer"?"Перевод на счет клуба":"Онлайн оплата"]})]})})()}),o.jsxs("div",{className:"modal-footer",style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid var(--extra-light-gray)"},children:[o.jsx("button",{type:"button",className:"btn btn-secondary",onClick:t,children:"Отмена"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Создание...":"Создать бронирование"})]})]})})]})}):null}function MA(){const{admin:e}=Ht(),{isSuperAdmin:t,hasPermission:n}=sn(),[r,s]=f.useState(null),[i,a]=f.useState([]),[l,c]=f.useState([]),[d,u]=f.useState([]),[p,h]=f.useState(!0),[g,v]=f.useState(new Date),[m,y]=f.useState({clientName:"",clientPhone:"",courtId:"",date:new Date().toISOString().split("T")[0],startTime:"10:00",duration:1.5,paymentMethod:"cash"}),[x,w]=f.useState([]),[C,j]=f.useState([]),[_,S]=f.useState(null),[E,T]=f.useState(!1),[k,M]=f.useState(!1),[N,L]=f.useState(null),[R,P]=f.useState(null),[D,I]=f.useState(null);f.useEffect(()=>{if(t){z();const B=localStorage.getItem("selectedVenueId");B?(s(B),A(B),H(B)):h(!1)}else e!=null&&e.venueId?(O(e.venueId),A(e.venueId),H(e.venueId)):h(!1)},[e,g,t]),f.useEffect(()=>{const B=V(m.duration);w(B),!B.includes(m.startTime)&&B.length>0&&y(F=>({...F,startTime:B[0]}))},[m.duration,m.date,i,r,e==null?void 0:e.venueId]),f.useEffect(()=>{m.courtId&&m.date&&Y()},[m.courtId,m.date]);const O=async B=>{try{const F=await St(Ie(se,"venues",B));if(F.exists()){const q={id:F.id,...F.data()};a([q])}}catch(F){console.error("Error fetching venue data:",F)}},z=async()=>{try{const F=(await qe(Pe(se,"venues"))).docs.map(q=>({id:q.id,...q.data()}));a(F)}catch(B){console.error("Error fetching venues:",B)}},$=B=>{s(B),localStorage.setItem("selectedVenueId",B),A(B),H(B)},A=async B=>{if(B)try{const F=Pe(se,"venues",B,"courts"),te=(await qe(F)).docs.map(ue=>({id:ue.id,...ue.data()}));u(te)}catch(F){console.error("Error fetching courts:",F)}},H=async B=>{if(B)try{h(!0);const F=new Date(g);F.setDate(g.getDate()-g.getDay()+1),F.setHours(0,0,0,0);const q=new Date(F);q.setDate(F.getDate()+6),q.setHours(23,59,59,999),console.log("Fetching bookings for venue:",B),console.log("Date range:",F,"to",q);const te=Ge(Pe(se,"bookings"),Ee("venueId","==",B)),ue=await qe(te);console.log("Found bookings:",ue.size);const Te=ue.docs.map(xe=>{var De,Me;const ve=xe.data();return console.log("Raw booking data:",ve),{id:xe.id,...ve,date:(De=ve.date)!=null&&De.toDate?ve.date.toDate():new Date(ve.date),createdAt:(Me=ve.createdAt)!=null&&Me.toDate?ve.createdAt.toDate():new Date(ve.createdAt||Date.now())}});console.log("All bookings data:",Te);const ce=Te.filter(xe=>{const ve=new Date(xe.date),De=ve>=F&&ve<=q;return console.log("Booking date:",ve,"In range:",De,"Venue match:",xe.venueId===B),De&&xe.venueId===B}).sort((xe,ve)=>new Date(ve.date).getTime()-new Date(xe.date).getTime());console.log("Filtered and sorted bookings:",ce),c(ce)}catch(F){console.error("Error fetching bookings:",F)}finally{h(!1)}},Y=async()=>{if(!(!r&&!(e!=null&&e.venueId))&&!(!m.courtId||!m.date))try{const B=Pe(se,"bookings"),F=Ge(B,Ee("venueId","==",r||(e==null?void 0:e.venueId)),Ee("courtId","==",m.courtId),Ee("date","==",$r.fromDate(new Date(m.date)))),te=(await qe(F)).docs.map(ue=>({id:ue.id,...ue.data()}));j(te)}catch(B){console.error("Error fetching bookings:",B)}},G=B=>{const F=new Date(g);F.setDate(g.getDate()+B*7),v(F)},J=()=>{const B=[],F=new Date(g);F.setDate(g.getDate()-g.getDay()+1);for(let q=0;q<7;q++){const te=new Date(F);te.setDate(F.getDate()+q),B.push(te)}return B},ae=(B,F,q)=>l.filter(te=>{const ue=new Date(te.date),Te=te.startTime||te.time;return ue.toDateString()===B.toDateString()&&Te===F&&te.courtId===q}),V=B=>{var De;const F=i.find(Me=>Me.id===(r||(e==null?void 0:e.venueId))),q=m.date?new Date(m.date).getDay()===0||new Date(m.date).getDay()===6:!1,te=((De=F==null?void 0:F.workingHours)==null?void 0:De[q?"weekend":"weekday"])||(q?"08:00-22:00":"07:00-23:00"),[ue,Te]=te.split("-"),[oe]=ue.split(":").map(Number),[ce]=Te.split(":").map(Number),xe=[],ve=ce-B;for(let Me=oe;Me<=ve;Me+=.5){const Re=Math.floor(Me),Ct=Me%1*60,Nt=`${String(Re).padStart(2,"0")}:${String(Ct).padStart(2,"0")}`;Me+B<=ce&&xe.push(Nt)}return xe},le=()=>{var oe;const B=[],F=i.find(ce=>ce.id===(r||(e==null?void 0:e.venueId))),q=m.date?new Date(m.date).getDay()===0||new Date(m.date).getDay()===6:!1,te=((oe=F==null?void 0:F.workingHours)==null?void 0:oe[q?"weekend":"weekday"])||(q?"08:00-22:00":"07:00-23:00");let ue=7,Te=23;if(te.includes("-")){const[ce,xe]=te.split("-").map(ve=>ve.trim());ce&&xe&&(ue=parseInt(ce.split(":")[0]),Te=parseInt(xe.split(":")[0]))}for(let ce=ue;ce<Te;ce++)B.push(`${ce.toString().padStart(2,"0")}:00`);return B},ee=f.useMemo(()=>le(),[i,r,e==null?void 0:e.venueId,m.date]),X=J(),ie=["Пн","Вт","Ср","Чт","Пт","Сб","Вс"],K=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"];return p?o.jsx("div",{children:"Загрузка..."}):n(["manage_bookings","manage_all_bookings","view_bookings"])?t&&!r?o.jsx("div",{children:o.jsxs("div",{className:"section-card",children:[o.jsx("div",{className:"section-header",children:o.jsx("h2",{className:"section-title",children:"Выберите клуб"})}),o.jsxs("div",{className:"form-group",style:{maxWidth:"400px"},children:[o.jsx("label",{className:"form-label",children:"Клуб"}),o.jsxs("select",{className:"form-select",value:r||"",onChange:B=>$(B.target.value),children:[o.jsx("option",{value:"",children:"Выберите клуб для управления"}),i.map(B=>o.jsx("option",{value:B.id,children:B.name},B.id))]}),o.jsx("p",{className:"form-hint",children:"Выберите клуб для просмотра календаря и создания бронирований"})]})]})}):(n(["manage_bookings","manage_all_bookings","create_bookings"]),o.jsx(Ro,{permission:["manage_bookings","manage_all_bookings","view_bookings"],children:o.jsxs("div",{children:[t&&o.jsx("div",{className:"section-card",style:{marginBottom:"24px"},children:o.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[o.jsx("label",{className:"form-label",children:"Управление клубом"}),o.jsxs("select",{className:"form-select",value:r||"",onChange:B=>$(B.target.value),style:{maxWidth:"400px"},children:[o.jsx("option",{value:"",children:"Выберите клуб"}),i.map(B=>o.jsx("option",{value:B.id,children:B.name},B.id))]})]})}),o.jsxs("div",{className:"section-card",children:[o.jsxs("div",{className:"calendar-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[o.jsx("h2",{className:"section-title",children:"Календарь бронирований"}),o.jsxs("div",{className:"calendar-nav",style:{display:"flex",alignItems:"center",gap:"16px"},children:[o.jsx("button",{onClick:()=>G(-1),style:{width:"32px",height:"32px",border:"1px solid var(--extra-light-gray)",background:"var(--white)",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx($N,{})}),o.jsxs("span",{style:{fontWeight:"600",minWidth:"150px",textAlign:"center"},children:[K[g.getMonth()]," ",g.getFullYear()]}),o.jsx("button",{onClick:()=>G(1),style:{width:"32px",height:"32px",border:"1px solid var(--extra-light-gray)",background:"var(--white)",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx(ON,{})}),o.jsx("button",{onClick:()=>v(new Date),style:{padding:"6px 12px",border:"1px solid var(--extra-light-gray)",background:"var(--white)",borderRadius:"6px",cursor:"pointer",fontSize:"14px",marginLeft:"16px"},children:"Сегодня"})]})]}),o.jsxs("div",{className:"calendar-grid",style:{display:"grid",gridTemplateColumns:"60px repeat(7, 1fr)",gap:"1px",background:"var(--extra-light-gray)",border:"1px solid var(--extra-light-gray)",borderRadius:"8px",overflow:"hidden"},children:[o.jsx("div",{style:{background:"var(--white)",padding:"12px"}}),X.map((B,F)=>o.jsxs("div",{className:"day-header",style:{fontWeight:"600",textAlign:"center",background:"var(--background)",padding:"12px"},children:[ie[F]," ",B.getDate()]},F)),ee.map(B=>o.jsxs(Fe.Fragment,{children:[o.jsx("div",{className:"time-slot",style:{fontSize:"12px",color:"var(--gray)",textAlign:"center",padding:"8px",background:"var(--white)"},children:B}),X.map((F,q)=>{const te=d.flatMap(oe=>ae(F,B,oe.id)),ue=N&&R&&F.toDateString()===N.toDateString()&&B===R,Te=D&&F.toDateString()===D.date.toDateString()&&B===D.time;return o.jsxs("div",{className:"booking-slot",style:{position:"relative",cursor:"pointer",minHeight:"60px",background:te.length>0?(()=>{const oe=te[0],ce=d.find(Re=>Re.id===oe.courtId),xe=(ce==null?void 0:ce.color)||"#00A86B",ve=parseInt(xe.slice(1,3),16),De=parseInt(xe.slice(3,5),16),Me=parseInt(xe.slice(5,7),16);return`rgba(${ve}, ${De}, ${Me}, 0.15)`})():ue?"rgba(0, 168, 107, 0.2)":Te?"rgba(0, 168, 107, 0.05)":"var(--white)",padding:"8px",overflow:"hidden",border:ue?"2px solid var(--primary)":"2px solid transparent",transition:"all 0.2s ease"},onMouseEnter:()=>{te.length===0&&I({date:F,time:B})},onMouseLeave:()=>{I(null)},onClick:()=>{te.length>0?(S(te[0]),T(!0)):(L(F),P(B),M(!0))},children:[te.length===0&&(Te||ue)&&o.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"12px",color:"var(--primary)",fontWeight:"600",textAlign:"center"},children:B}),te.map((oe,ce)=>{const xe=oe.paymentStatus||"awaiting_payment",ve={awaiting_payment:"#F59E0B",paid:"#10B981",online_payment:"#3B82F6",cancelled:"#EF4444"},De={awaiting_payment:"Ожидает",paid:"Оплачено",online_payment:"Онлайн",cancelled:"Отменено"};return o.jsxs("div",{style:{fontSize:"11px",marginBottom:"4px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[o.jsxs("div",{style:{fontWeight:"600",color:"var(--dark)",display:"flex",alignItems:"center",gap:"4px"},children:[(()=>{const Me=d.find(Re=>Re.id===oe.courtId);return Me!=null&&Me.color?o.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"2px",backgroundColor:Me.color,flexShrink:0}}):null})(),oe.courtName]}),o.jsxs("div",{className:"booking-slot-details",style:{color:"var(--gray)",fontSize:"10px"},children:[oe.clientName||oe.customerName,(oe.clientPhone||oe.customerPhone)&&o.jsx("span",{style:{fontSize:"9px",marginLeft:"4px"},children:oe.clientPhone||oe.customerPhone})]}),o.jsx("div",{className:"booking-slot-status",style:{fontSize:"9px",marginTop:"2px",color:ve[xe],fontWeight:"500"},children:De[xe]})]},ce)})]},`${B}-${q}`)})]},B))]})]}),o.jsx(SA,{venueId:r||(e==null?void 0:e.venueId)||"",onRefresh:()=>H(r||(e==null?void 0:e.venueId)||"")}),o.jsx(vx,{booking:_,isOpen:E,onClose:()=>{T(!1),S(null)},onUpdate:()=>H(r||(e==null?void 0:e.venueId)||"")}),o.jsx(EA,{isOpen:k,onClose:()=>{M(!1),L(null),P(null)},onSuccess:()=>{H(r||(e==null?void 0:e.venueId)||"")},venueId:r||(e==null?void 0:e.venueId)||"",preSelectedDate:N||void 0,preSelectedTime:R||void 0})]})})):o.jsxs(lt,{severity:"error",children:[o.jsx(ji,{children:"Доступ запрещен"}),"У вас недостаточно прав для просмотра бронирований."]})}function PA(){const{admin:e}=Ht(),{isSuperAdmin:t}=sn(),[n,r]=f.useState(null),[s,i]=f.useState([]),[a,l]=f.useState(!0),[c,d]=f.useState("");f.useEffect(()=>{if(t){const x=localStorage.getItem("selectedVenueId");x?(r(x),p(x)):l(!1)}else e!=null&&e.venueId&&p(e.venueId)},[e,t]);const u=x=>{r(x),localStorage.setItem("selectedVenueId",x),x&&p(x)},p=async x=>{const w=x||(e==null?void 0:e.venueId);if(w)try{l(!0);const C=Ge(Pe(se,"bookings"),Ee("venueId","==",w),Qm("createdAt","desc"),wa(100)),j=await qe(C),_=new Map;j.docs.forEach(S=>{var k,M,N;const E=S.data(),T=E.clientPhone;if(_.has(T)){const L=_.get(T);L.bookingsCount++,L.totalSpent+=E.amount||0,((k=E.date)==null?void 0:k.toDate())>L.lastVisit&&(L.lastVisit=E.date.toDate())}else _.set(T,{id:T,name:E.clientName,phone:E.clientPhone,bookingsCount:1,lastVisit:(M=E.date)==null?void 0:M.toDate(),totalSpent:E.amount||0,hasApp:E.paymentMethod==="app",venueId:e.venueId,createdAt:((N=E.createdAt)==null?void 0:N.toDate())||new Date})}),i(Array.from(_.values()))}catch(C){console.error("Error fetching customers:",C)}finally{l(!1)}},h=s.filter(x=>x.name.toLowerCase().includes(c.toLowerCase())||x.phone.includes(c)),g=x=>x.split(" ").map(w=>w[0]).join("").toUpperCase().slice(0,2),v=x=>{const w=["var(--primary)","var(--padel)","var(--badminton)","var(--tennis)"],C=x.charCodeAt(0)%w.length;return w[C]},m=x=>{if(!x)return"Нет данных";const C=Math.abs(new Date().getTime()-x.getTime()),j=Math.ceil(C/(1e3*60*60*24));return j===0?"Сегодня":j===1?"Вчера":j<7?`${j} дней назад`:j<30?`${Math.floor(j/7)} недель назад`:x.toLocaleDateString("ru-RU")},y=()=>{const x=[["Имя","Телефон","Количество бронирований","Потрачено","Последний визит"].join(","),...h.map(j=>{var _;return[j.name,j.phone,j.bookingsCount,j.totalSpent,((_=j.lastVisit)==null?void 0:_.toLocaleDateString("ru-RU"))||""].join(",")})].join(`
`),w=new Blob([x],{type:"text/csv;charset=utf-8;"}),C=document.createElement("a");C.href=URL.createObjectURL(w),C.download=`customers_${new Date().toISOString().split("T")[0]}.csv`,C.click()};return a?o.jsx("div",{children:"Загрузка..."}):t&&!n?o.jsx(No,{title:"Выберите клуб для просмотра клиентов"}):o.jsxs("div",{children:[t&&o.jsx(Do,{selectedVenueId:n,onVenueChange:u}),o.jsxs("div",{className:"section-card",children:[o.jsxs("div",{className:"section-header",children:[o.jsx("h2",{className:"section-title",children:"База клиентов"}),o.jsxs("div",{style:{display:"flex",gap:"12px"},children:[o.jsx("input",{type:"search",className:"form-input",placeholder:"Поиск по имени или телефону",style:{width:"300px"},value:c,onChange:x=>d(x.target.value)}),o.jsxs("button",{className:"btn btn-secondary",onClick:y,children:[o.jsx(BN,{fontSize:"small"}),"Экспорт"]})]})]}),o.jsx("div",{className:"table-wrapper",children:o.jsxs("table",{children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Клиент"}),o.jsx("th",{children:"Телефон"}),o.jsx("th",{children:"Бронирований"}),o.jsx("th",{children:"Потрачено"}),o.jsx("th",{children:"Последний визит"}),o.jsx("th",{children:"Статус в приложении"}),o.jsx("th",{children:"Действия"})]})}),o.jsx("tbody",{children:h.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:7,style:{textAlign:"center",padding:"48px",color:"var(--gray)"},children:"Клиенты не найдены"})}):h.map(x=>o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("div",{className:"customer-info",style:{display:"flex",alignItems:"center",gap:"12px"},children:[o.jsx("div",{className:"customer-avatar",style:{width:"40px",height:"40px",borderRadius:"50%",background:v(x.name),color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"600",fontSize:"16px"},children:g(x.name)}),o.jsx("div",{children:o.jsx("div",{className:"customer-name",style:{fontWeight:"600",color:"var(--dark)"},children:x.name})})]})}),o.jsx("td",{children:x.phone}),o.jsx("td",{children:x.bookingsCount}),o.jsxs("td",{children:[x.totalSpent.toLocaleString("ru-RU"),"₽"]}),o.jsx("td",{children:m(x.lastVisit)}),o.jsx("td",{children:x.hasApp?o.jsx("span",{style:{color:"var(--success)"},children:"✅ Установлено"}):o.jsx("span",{style:{color:"var(--warning)"},children:"📱 Не установлено"})}),o.jsx("td",{children:x.hasApp?o.jsx("button",{className:"btn btn-secondary",children:"Детали"}):o.jsxs("button",{className:"btn btn-secondary",children:[o.jsx(Bd,{fontSize:"small"}),"Отправить SMS"]})})]},x.id))})]})})]}),o.jsxs("div",{className:"section-card",children:[o.jsx("h2",{className:"section-title",children:"Статистика по клиентам"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"24px"},children:[o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("div",{style:{fontSize:"32px",fontWeight:"700",color:"var(--primary)"},children:s.length}),o.jsx("div",{style:{color:"var(--gray)",fontSize:"14px"},children:"Всего клиентов"})]}),o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("div",{style:{fontSize:"32px",fontWeight:"700",color:"var(--primary)"},children:s.filter(x=>x.hasApp).length}),o.jsx("div",{style:{color:"var(--gray)",fontSize:"14px"},children:"С приложением"})]}),o.jsxs("div",{style:{textAlign:"center"},children:[o.jsxs("div",{style:{fontSize:"32px",fontWeight:"700",color:"var(--primary)"},children:[Math.round(s.filter(x=>x.hasApp).length/s.length*100),"%"]}),o.jsx("div",{style:{color:"var(--gray)",fontSize:"14px"},children:"Конверсия в приложение"})]}),o.jsxs("div",{style:{textAlign:"center"},children:[o.jsxs("div",{style:{fontSize:"32px",fontWeight:"700",color:"var(--primary)"},children:[s.reduce((x,w)=>x+w.totalSpent,0).toLocaleString("ru-RU"),"₽"]}),o.jsx("div",{style:{color:"var(--gray)",fontSize:"14px"},children:"Общий доход"})]})]})]})]})}function IA(){const e=Sn();return o.jsxs(By,{maxWidth:"lg",sx:{py:8},children:[o.jsxs(ne,{textAlign:"center",mb:6,children:[o.jsx(W,{variant:"h2",component:"h1",gutterBottom:!0,children:"Sports Booking"}),o.jsx(W,{variant:"h5",color:"text.secondary",gutterBottom:!0,children:"Система бронирования спортивных кортов"}),o.jsx(W,{variant:"body1",color:"text.secondary",sx:{maxWidth:600,mx:"auto"},children:"Мобильное приложение для клиентов и веб-панель управления для клубов"})]}),o.jsxs(Ae,{container:!0,spacing:4,mb:6,children:[o.jsx(Ae,{item:!0,xs:12,md:6,children:o.jsx(ot,{children:o.jsxs(it,{sx:{p:4,textAlign:"center"},children:[o.jsx(KN,{sx:{fontSize:60,color:"primary.main",mb:2}}),o.jsx(W,{variant:"h5",gutterBottom:!0,children:"Для клиентов"}),o.jsx(W,{variant:"body1",color:"text.secondary",mb:3,children:"Скачайте мобильное приложение для бронирования кортов, поиска партнеров и оплаты"}),o.jsxs(ne,{display:"flex",gap:2,justifyContent:"center",flexWrap:"wrap",children:[o.jsx(_e,{variant:"outlined",disabled:!0,children:"App Store"}),o.jsx(_e,{variant:"outlined",disabled:!0,children:"Google Play"})]})]})})}),o.jsx(Ae,{item:!0,xs:12,md:6,children:o.jsx(ot,{children:o.jsxs(it,{sx:{p:4,textAlign:"center"},children:[o.jsx(sA,{sx:{fontSize:60,color:"primary.main",mb:2}}),o.jsx(W,{variant:"h5",gutterBottom:!0,children:"Для клубов"}),o.jsx(W,{variant:"body1",color:"text.secondary",mb:3,children:"Веб-панель управления для администраторов спортивных клубов"}),o.jsx(_e,{variant:"contained",size:"large",onClick:()=>e("/admin/login"),children:"Войти в админ-панель"})]})})})]}),o.jsxs(fn,{sx:{p:4,textAlign:"center"},children:[o.jsx(gp,{sx:{fontSize:80,color:"primary.main",mb:2}}),o.jsx(W,{variant:"h5",gutterBottom:!0,children:"QR-код для клиентов"}),o.jsx(W,{variant:"body1",color:"text.secondary",mb:3,children:"Разместите этот QR-код в вашем клубе, чтобы клиенты могли скачать приложение"}),o.jsx(ne,{sx:{maxWidth:200,height:200,mx:"auto",bgcolor:"grey.100",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:2},children:o.jsx(W,{color:"text.secondary",children:"QR-код приложения"})})]})]})}function RA({email:e,size:t="small"}){const[n,r]=f.useState(!1),[s,i]=f.useState(null),a=async()=>{r(!0);try{await Rb(en,e),i({type:"success",text:`Ссылка для сброса пароля отправлена на ${e}`})}catch(l){console.error("Error sending password reset email:",l),i({type:"error",text:"Ошибка при отправке письма. Попробуйте позже."})}finally{r(!1)}};return o.jsxs(o.Fragment,{children:[o.jsx(_e,{variant:"outlined",size:t,startIcon:n?o.jsx(Cn,{size:16}):o.jsx(YN,{}),onClick:a,disabled:n,children:"Сбросить пароль"}),o.jsx(Xy,{open:!!s,autoHideDuration:6e3,onClose:()=>i(null),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:s&&o.jsx(lt,{onClose:()=>i(null),severity:s.type,sx:{width:"100%"},children:s.text})})]})}const DA=[{value:"manage_bookings",label:"Управление бронированиями"},{value:"manage_courts",label:"Управление кортами"},{value:"manage_club",label:"Управление клубом"},{value:"manage_admins",label:"Управление администраторами клуба"},{value:"view_reports",label:"Просмотр отчетов"},{value:"view_bookings",label:"Просмотр бронирований"},{value:"create_bookings",label:"Создание бронирований"},{value:"manage_finance",label:"Управление финансами клуба"}],Xc={superadmin:["manage_all_venues","manage_all_bookings","manage_all_users","manage_platform_settings","view_all_reports","manage_finance","manage_admins"],admin:["manage_bookings","manage_courts","manage_club","manage_admins","manage_finance","view_reports","create_bookings"],manager:["view_bookings","create_bookings","view_reports"]};function NA(){const{isSuperAdmin:e}=sn(),[t,n]=f.useState([]),[r,s]=f.useState([]),[i,a]=f.useState(!0),[l,c]=f.useState(!1),[d,u]=f.useState(null),[p,h]=f.useState({name:"",email:"",password:"",role:"manager",venueId:"",permissions:[]}),[g,v]=f.useState("");f.useEffect(()=>{m()},[]);const m=async()=>{try{const S=await qe(Pe(se,"admins")),E=[];for(const M of S.docs){const N=M.data();let L="";if(N.venueId){const R=await qe(Ge(Pe(se,"venues"),Ee("__name__","==",N.venueId)));R.empty||(L=R.docs[0].data().name)}E.push({id:M.id,name:N.name,email:N.email,password:N.password,role:N.role,venueId:N.venueId,venueName:L,permissions:N.permissions||[]})}n(E);const k=(await qe(Pe(se,"venues"))).docs.map(M=>({id:M.id,name:M.data().name}));s(k),a(!1)}catch(S){console.error("Error loading data:",S),a(!1)}},y=S=>{S?(u(S),h({name:S.name,email:S.email,password:"",role:S.role,venueId:S.venueId||"",permissions:S.permissions})):(u(null),h({name:"",email:"",password:"",role:"admin",venueId:"",permissions:Xc.admin})),c(!0),v("")},x=()=>{c(!1),u(null),v("")},w=S=>{h({...p,role:S,permissions:Xc[S]})},C=S=>{const E=p.permissions.includes(S)?p.permissions.filter(T=>T!==S):[...p.permissions,S];h({...p,permissions:E})},j=async()=>{try{if(v(""),d){const S={name:p.name,role:p.role,venueId:p.venueId||null,permissions:p.permissions,updatedAt:new Date};await Ft(Ie(se,"admins",d.id),S)}else{if(!p.password){v("Пароль обязателен для нового администратора");return}const S=await Km(en,p.email,p.password);await gr(Pe(se,"admins"),{uid:S.user.uid,name:p.name,email:p.email,role:p.role,venueId:p.venueId||null,permissions:p.permissions,createdAt:new Date,updatedAt:new Date})}x(),m()}catch(S){console.error("Error saving admin:",S),S.code==="auth/email-already-in-use"?v("Пользователь с таким email уже существует"):S.code==="auth/weak-password"?v("Пароль должен содержать минимум 6 символов"):v("Ошибка при сохранении администратора")}},_=async S=>{const E=t.find(k=>k.id===S);if(!E)return;const T=`Вы уверены, что хотите удалить администратора ${E.name} (${E.email})?`;if(confirm(T))try{await fl(Ie(se,"admins",S)),await m(),alert(`Администратор ${E.name} успешно удален`)}catch(k){console.error("Error deleting admin:",k),alert("Ошибка при удалении администратора")}};return i?o.jsx(ne,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:o.jsx(Cn,{})}):o.jsx(Ro,{role:"superadmin",children:o.jsxs(ne,{children:[o.jsx(lt,{severity:"info",sx:{mb:3},children:"Данный раздел доступен только суперадминистраторам системы"}),o.jsxs(ne,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[o.jsx("h2",{children:"Управление администраторами"}),o.jsx(_e,{variant:"contained",startIcon:o.jsx(Xi,{}),onClick:()=>y(),children:"Добавить администратора"})]}),o.jsx(uc,{component:fn,children:o.jsxs(lc,{children:[o.jsx(pc,{children:o.jsxs(Gr,{children:[o.jsx(Be,{children:"Имя"}),o.jsx(Be,{children:"Email"}),o.jsx(Be,{children:"Роль"}),o.jsx(Be,{children:"Клуб"}),o.jsx(Be,{align:"right",children:"Действия"})]})}),o.jsx(dc,{children:t.map(S=>o.jsxs(Gr,{children:[o.jsx(Be,{children:S.name}),o.jsx(Be,{children:S.email}),o.jsx(Be,{children:o.jsx(Tr,{label:S.role,color:S.role==="superadmin"?"error":S.role==="admin"?"primary":"default",size:"small"})}),o.jsx(Be,{children:S.venueName||"-"}),o.jsx(Be,{align:"right",children:S.role!=="superadmin"&&o.jsxs(o.Fragment,{children:[o.jsx(RA,{email:S.email}),o.jsx(ln,{onClick:()=>y(S),children:o.jsx(Mi,{})}),e&&o.jsx(ln,{onClick:()=>_(S.id),color:"error",children:o.jsx(xs,{})})]})})]},S.id))})]})}),o.jsxs(or,{open:l,onClose:x,maxWidth:"sm",fullWidth:!0,children:[o.jsx(Cr,{children:d?"Редактировать администратора":"Добавить администратора"}),o.jsxs(ir,{children:[g&&o.jsx(lt,{severity:"error",sx:{mb:2},children:g}),o.jsx(Ye,{fullWidth:!0,label:"Имя",value:p.name,onChange:S=>h({...p,name:S.target.value}),margin:"normal"}),o.jsx(Ye,{fullWidth:!0,label:"Email",type:"email",value:p.email,onChange:S=>h({...p,email:S.target.value}),margin:"normal",disabled:!!d}),!d&&o.jsx(Ye,{fullWidth:!0,label:"Пароль",type:"password",value:p.password,onChange:S=>h({...p,password:S.target.value}),margin:"normal",required:!0}),o.jsxs(ar,{fullWidth:!0,margin:"normal",children:[o.jsx(Er,{children:"Роль"}),o.jsxs(dr,{value:p.role,onChange:S=>w(S.target.value),children:[o.jsx(Mt,{value:"admin",children:"Администратор"}),o.jsx(Mt,{value:"manager",children:"Менеджер"})]})]}),o.jsxs(ar,{fullWidth:!0,margin:"normal",children:[o.jsx(Er,{children:"Клуб"}),o.jsxs(dr,{value:p.venueId,onChange:S=>h({...p,venueId:S.target.value}),children:[o.jsx(Mt,{value:"",children:"Не выбран"}),r.map(S=>o.jsx(Mt,{value:S.id,children:S.name},S.id))]})]}),o.jsxs(ar,{component:"fieldset",margin:"normal",children:[o.jsx(Uy,{component:"legend",children:"Права доступа"}),o.jsx(_P,{children:DA.map(S=>o.jsx(nl,{control:o.jsx(iM,{checked:p.permissions.includes(S.value),onChange:()=>C(S.value),disabled:Xc[p.role].includes(S.value)}),label:S.label},S.value))})]})]}),o.jsxs(br,{children:[o.jsx(_e,{onClick:x,children:"Отмена"}),o.jsx(_e,{onClick:j,variant:"contained",children:d?"Сохранить":"Создать"})]})]})]})})}const hr={start:{name:"СТАРТ",price:0,pricePerCourt:0,limits:{maxCourts:2,maxBookingsPerMonth:-1,smsEmailNotifications:0,customDesign:!1,apiAccess:!1,multiVenue:!1,searchPriority:0,abTesting:!1,trainersModule:!1,personalManager:!1},features:["До 2 кортов бесплатно","Неограниченные бронирования","Управление расписанием","Онлайн-оплата (свой эквайринг)","Белый лейбл (логотип клуба)","Push-уведомления в приложении","Мобильное приложение для клиентов","Базовая отчетность","QR-коды для бронирований"]},standard:{name:"СТАНДАРТ",price:990,pricePerCourt:990,limits:{maxCourts:-1,maxBookingsPerMonth:-1,smsEmailNotifications:500,customDesign:!1,apiAccess:!1,multiVenue:!1,searchPriority:10,abTesting:!1,trainersModule:!1,personalManager:!1},features:["990₽ за корт в месяц","От 3 кортов","Неограниченные бронирования","SMS/Email уведомления (500 шт/месяц на корт)","Расширенная аналитика и отчеты","Управление ценами и скидками","Промокоды и акции","Интеграция с календарями","Экспорт данных в Excel","Приоритет в поиске (+10%)"]},pro:{name:"ПРОФИ",price:1990,pricePerCourt:1990,limits:{maxCourts:-1,maxBookingsPerMonth:-1,smsEmailNotifications:-1,customDesign:!0,apiAccess:!0,multiVenue:!0,searchPriority:30,abTesting:!0,trainersModule:!0,personalManager:!0},features:["1,990₽ за корт в месяц","От 1 корта","SMS/Email без ограничений","Белый лейбл PRO (кастомизация дизайна)","API доступ для интеграций","Мультиплощадки (управление сетью)","Топ в поиске (+30% видимости)","A/B тестирование цен","Модуль абонементов и пакетов","Модуль тренеров и расписания","Персональный менеджер"]},premium:{name:"ПРЕМИУМ",price:-1,limits:{maxCourts:-1,maxBookingsPerMonth:-1,smsEmailNotifications:-1,customDesign:!0,apiAccess:!0,multiVenue:!0,searchPriority:50,abTesting:!0,trainersModule:!0,personalManager:!0},features:["Все функции ПРОФИ","Т-Банк Мультирасчеты","Кастомные интеграции","Выделенный сервер","SLA гарантии","Приоритетная разработка функций","Выделенный менеджер 24/7"]}};function AA(){const e=Sn(),{isSuperAdmin:t}=sn(),{admin:n}=Ht(),[r,s]=f.useState([]),[i,a]=f.useState(!0),[l,c]=f.useState(null),[d,u]=f.useState(!1),[p,h]=f.useState(!1),[g,v]=f.useState("start"),[m,y]=f.useState(""),[x,w]=f.useState(null),[C,j]=f.useState(!1),[_,S]=f.useState(null),[E,T]=f.useState(!1),[k,M]=f.useState({name:"",address:"",city:"",phone:"",email:"",description:"",organizationType:"ИП",inn:"",bankAccount:""});f.useEffect(()=>{N()},[]);const N=async()=>{try{const A=await qe(Pe(se,"venues")),H=await Promise.all(A.docs.map(async Y=>{var le,ee,X,ie,K,B;const G=Y.data();G.location&&G.location._lat!==void 0&&(G.location={latitude:G.location._lat,longitude:G.location._long});const J=Ge(Pe(se,"subscriptions"),Ee("venueId","==",Y.id),Ee("status","in",["active","trial"])),ae=await qe(J);let V=null;if(!ae.empty){const F=ae.docs[0].data();V={id:ae.docs[0].id,...F,startDate:(le=F.startDate)==null?void 0:le.toDate(),endDate:(ee=F.endDate)==null?void 0:ee.toDate(),trialEndDate:(X=F.trialEndDate)==null?void 0:X.toDate(),nextBillingDate:(ie=F.nextBillingDate)==null?void 0:ie.toDate(),usage:{...F.usage,lastUpdated:(B=(K=F.usage)==null?void 0:K.lastUpdated)==null?void 0:B.toDate()}}}return{id:Y.id,...G,subscription:V}}));s(H),a(!1)}catch(A){console.error("Error loading venues:",A),a(!1)}},L=A=>{localStorage.setItem("selectedVenueId",A.id),e("/admin/club")},R=async A=>{try{const H=A.status==="active"?"inactive":"active";await Ft(Ie(se,"venues",A.id),{status:H,updatedAt:new Date}),N()}catch(H){console.error("Error updating venue status:",H)}},P=async A=>{try{const H=Ge(Pe(se,"admins"),Ee("venueId","==",A)),Y=await qe(H);if(!Y.empty){const ae=Y.size,V=Y.docs.map(le=>{const ee=le.data();return`- ${ee.name} (${ee.email}) - ${ee.role==="admin"?"Администратор":"Менеджер"}`}).join(`
`);alert(`Невозможно удалить клуб!

В клубе есть ${ae} сотрудник(ов):
${V}

Сначала удалите всех сотрудников клуба в разделе "Администраторы".`);return}const G=r.find(ae=>ae.id===A);if(!G)return;const J=`Вы уверены, что хотите удалить клуб "${G.name}"?

Это действие необратимо и удалит:
- Все данные клуба
- Все корты
- Все бронирования
- Всю историю`;confirm(J)&&(await fl(Ie(se,"venues",A)),await N(),alert(`Клуб "${G.name}" успешно удален`))}catch(H){console.error("Error deleting venue:",H),alert("Ошибка при удалении клуба")}},D=A=>`https://allcourt.ru/club/${A}`,I=A=>{const H=D(A);navigator.clipboard.writeText(H),w(A),setTimeout(()=>w(null),2e3)},O=A=>{S(A),j(!0)},z=A=>{var H;c(A),v(((H=A.subscription)==null?void 0:H.plan)||"start"),h(!0)},$=async()=>{var A,H;if(l)try{const Y={venueId:l.id,plan:g,status:"active",startDate:new Date,endDate:null,updatedAt:new Date,updatedBy:"superadmin",usage:((A=l.subscription)==null?void 0:A.usage)||{courtsCount:0,bookingsThisMonth:0,smsEmailsSent:0,lastUpdated:new Date}};(H=l.subscription)!=null&&H.id?await Ft(Ie(se,"subscriptions",l.subscription.id),{plan:g,updatedAt:new Date,updatedBy:"superadmin"}):await gr(Pe(se,"subscriptions"),Y),h(!1),N()}catch(Y){console.error("Error updating subscription:",Y),y("Ошибка при обновлении подписки")}};return i?o.jsx(ne,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:o.jsx(Cn,{})}):o.jsxs(Ro,{role:"superadmin",children:[o.jsxs(ne,{children:[o.jsx(lt,{severity:"info",sx:{mb:3},children:"Данный раздел доступен только суперадминистраторам системы"}),o.jsxs(ne,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[o.jsx(W,{variant:"h5",component:"h2",children:"Управление клубами"}),o.jsx(_e,{variant:"contained",startIcon:o.jsx(Xi,{}),onClick:()=>T(!0),children:"Добавить клуб"})]}),r.length===0?o.jsx(lt,{severity:"info",children:"Клубы не найдены. Создайте первый клуб для начала работы."}):o.jsx(Ae,{container:!0,spacing:3,children:r.map(A=>{var H,Y;return o.jsx(Ae,{item:!0,xs:12,md:6,lg:4,children:o.jsxs(ot,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[o.jsxs(it,{sx:{flexGrow:1},children:[o.jsxs(ne,{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2,children:[o.jsx(W,{variant:"h6",component:"h3",children:A.name}),o.jsx(Tr,{label:A.status==="active"?"Активен":"Неактивен",color:A.status==="active"?"success":"default",size:"small"})]}),o.jsxs(ne,{display:"flex",alignItems:"center",gap:1,mb:1,children:[o.jsx(VN,{fontSize:"small",color:"action"}),o.jsx(W,{variant:"body2",color:"text.secondary",children:A.address})]}),A.city&&o.jsx(ne,{display:"flex",alignItems:"center",gap:1,mb:1,children:o.jsx(W,{variant:"body2",color:"text.secondary",sx:{ml:3},children:A.city})}),A.location?o.jsx(ne,{display:"flex",alignItems:"center",gap:1,mb:1,children:o.jsxs(W,{variant:"body2",color:"text.secondary",sx:{ml:3,fontSize:"0.75rem"},children:["📍 ",(H=A.location.latitude)==null?void 0:H.toFixed(6),", ",(Y=A.location.longitude)==null?void 0:Y.toFixed(6)]})}):o.jsx(ne,{display:"flex",alignItems:"center",gap:1,mb:1,children:o.jsx(W,{variant:"body2",color:"warning.main",sx:{ml:3,fontSize:"0.75rem",fontStyle:"italic"},children:"⚠️ Координаты не указаны"})}),o.jsxs(ne,{display:"flex",alignItems:"center",gap:1,mb:1,children:[o.jsx(qN,{fontSize:"small",color:"action"}),o.jsx(W,{variant:"body2",color:"text.secondary",children:A.phone})]}),o.jsxs(ne,{display:"flex",alignItems:"center",gap:1,children:[o.jsx(Fd,{fontSize:"small",color:"action"}),o.jsx(W,{variant:"body2",color:"text.secondary",children:A.email})]}),A.description&&o.jsx(W,{variant:"body2",color:"text.secondary",mt:2,children:A.description}),A.status==="pending"&&o.jsxs(ne,{sx:{mt:2,p:1.5,bgcolor:"warning.light",borderRadius:1},children:[o.jsxs(ne,{display:"flex",alignItems:"center",gap:1,mb:1,children:[o.jsx(ol,{fontSize:"small",color:"warning"}),o.jsx(W,{variant:"subtitle2",color:"warning.dark",children:"Ожидает модерации"})]}),o.jsx(_e,{variant:"contained",size:"small",color:"success",onClick:async()=>{var G;try{await Ft(Ie(se,"venues",A.id),{status:"active",moderatedAt:new Date,moderatedBy:((G=en.currentUser)==null?void 0:G.uid)||"superadmin"}),N()}catch(J){console.error("Error activating venue:",J)}},children:"Активировать клуб"})]}),A.status==="active"&&t&&o.jsxs(ne,{sx:{mt:2,p:1.5,bgcolor:"success.light",borderRadius:1},children:[o.jsxs(ne,{display:"flex",alignItems:"center",gap:1,mb:1,children:[o.jsx(hp,{fontSize:"small",color:"success"}),o.jsx(W,{variant:"subtitle2",color:"success.dark",children:"Активный клуб"})]}),o.jsx(_e,{variant:"outlined",size:"small",color:"warning",onClick:async()=>{if(window.confirm("Вы уверены, что хотите отправить клуб на модерацию? Это заблокирует возможность бронирования."))try{await Ft(Ie(se,"venues",A.id),{status:"pending",moderatedAt:null,moderatedBy:null}),N()}catch(G){console.error("Error deactivating venue:",G)}},children:"Отправить на модерацию"})]}),o.jsxs(ne,{sx:{mt:2,p:1.5,bgcolor:"background.default",borderRadius:1},children:[o.jsxs(ne,{display:"flex",alignItems:"center",gap:1,mb:.5,children:[o.jsx(Od,{fontSize:"small",color:"primary"}),o.jsxs(W,{variant:"subtitle2",color:"primary",children:["Тариф: ",A.subscription?hr[A.subscription.plan].name:"Не определен"]})]}),A.subscription&&o.jsx(W,{variant:"caption",color:"text.secondary",children:hr[A.subscription.plan].price===0?"Бесплатный":`${hr[A.subscription.plan].price.toLocaleString("ru-RU")} ₽/мес`}),!A.subscription&&o.jsxs(W,{variant:"caption",color:"warning.main",children:[o.jsx(ol,{fontSize:"small",sx:{verticalAlign:"middle",mr:.5}}),"Требуется настройка подписки"]})]}),o.jsxs(ne,{sx:{mt:2,p:1.5,bgcolor:"background.default",borderRadius:1},children:[o.jsxs(ne,{display:"flex",alignItems:"center",gap:1,mb:1,children:[o.jsx(UN,{fontSize:"small",color:"action"}),o.jsx(W,{variant:"caption",color:"text.secondary",children:"Ссылка для клиентов:"})]}),o.jsxs(ne,{display:"flex",alignItems:"center",gap:1,children:[o.jsx(W,{variant:"caption",sx:{flex:1,fontFamily:"monospace",wordBreak:"break-all",p:.5,bgcolor:"white",borderRadius:.5},children:D(A.id)}),o.jsx(tm,{title:x===A.id?"Скопировано!":"Копировать ссылку",children:o.jsx(ln,{size:"small",onClick:()=>I(A.id),color:x===A.id?"success":"default",children:x===A.id?o.jsx(os,{fontSize:"small"}):o.jsx(ex,{fontSize:"small"})})}),o.jsx(tm,{title:"Показать QR код",children:o.jsx(ln,{size:"small",onClick:()=>O(A),children:o.jsx(gp,{fontSize:"small"})})})]})]})]}),o.jsxs(zE,{sx:{flexWrap:"wrap",gap:.5},children:[o.jsx(_e,{size:"small",onClick:()=>L(A),startIcon:o.jsx(Mi,{fontSize:"small"}),children:"Редактировать"}),o.jsx(_e,{size:"small",onClick:()=>z(A),startIcon:o.jsx(Od,{fontSize:"small"}),color:"secondary",children:"Тариф"}),o.jsx(_e,{size:"small",onClick:()=>R(A),children:A.status==="active"?"Деактивировать":"Активировать"}),o.jsx(ln,{size:"small",color:"error",onClick:()=>P(A.id),children:o.jsx(xs,{})})]})]})},A.id)})})]}),o.jsxs(or,{open:C,onClose:()=>j(!1),maxWidth:"sm",children:[o.jsxs(Cr,{children:["QR код для ",_==null?void 0:_.name]}),o.jsx(ir,{children:o.jsxs(ne,{sx:{textAlign:"center",p:2},children:[o.jsx(al,{value:_?D(_.id):"",size:256,level:"H",includeMargin:!0}),o.jsx(W,{variant:"body2",color:"text.secondary",sx:{mt:2},children:"Клиенты могут отсканировать этот QR код для бронирования"}),o.jsx(Lr,{sx:{my:2}}),o.jsx(W,{variant:"caption",sx:{fontFamily:"monospace"},children:_&&D(_.id)})]})}),o.jsxs(br,{children:[o.jsx(_e,{onClick:()=>j(!1),children:"Закрыть"}),o.jsx(_e,{variant:"contained",onClick:()=>{_&&I(_.id)},children:"Копировать ссылку"})]})]}),o.jsxs(or,{open:p,onClose:()=>h(!1),maxWidth:"sm",fullWidth:!0,children:[o.jsxs(Cr,{children:["Изменение тарифа для ",l==null?void 0:l.name]}),o.jsxs(ir,{children:[m&&o.jsx(lt,{severity:"error",sx:{mb:2},children:m}),o.jsxs(ne,{sx:{mt:2},children:[o.jsxs(ar,{fullWidth:!0,children:[o.jsx(Er,{children:"Тарифный план"}),o.jsx(dr,{value:g,onChange:A=>v(A.target.value),label:"Тарифный план",children:Object.entries(hr).filter(([A])=>A!=="premium").map(([A,H])=>o.jsx(Mt,{value:A,children:o.jsxs(ne,{children:[o.jsx(W,{variant:"body1",children:H.name}),o.jsx(W,{variant:"caption",color:"text.secondary",children:H.price===0?"Бесплатно":`${H.price.toLocaleString("ru-RU")} ₽/месяц`})]})},A))})]}),g&&o.jsxs(ne,{sx:{mt:3},children:[o.jsxs(W,{variant:"subtitle2",gutterBottom:!0,children:["Возможности тарифа ",hr[g].name,":"]}),o.jsx(mo,{dense:!0,children:hr[g].features.slice(0,5).map((A,H)=>o.jsx(er,{disablePadding:!0,children:o.jsx(tr,{primary:A,primaryTypographyProps:{variant:"body2"}})},H))})]}),o.jsx(lt,{severity:"info",sx:{mt:2},children:"Изменение тарифа вступит в силу немедленно. Клуб будет уведомлен об изменении."})]})]}),o.jsxs(br,{children:[o.jsx(_e,{onClick:()=>h(!1),children:"Отмена"}),o.jsx(_e,{onClick:$,variant:"contained",children:"Применить"})]})]}),o.jsxs(or,{open:E,onClose:()=>T(!1),maxWidth:"md",fullWidth:!0,children:[o.jsx(Cr,{children:"Добавить новый клуб"}),o.jsxs(ir,{children:[m&&o.jsx(lt,{severity:"error",sx:{mb:2},children:m}),o.jsxs(ne,{sx:{mt:2,display:"flex",flexDirection:"column",gap:2},children:[o.jsx(Ye,{label:"Название клуба",value:k.name,onChange:A=>M({...k,name:A.target.value}),fullWidth:!0,required:!0}),o.jsx(Ye,{label:"Адрес",value:k.address,onChange:A=>M({...k,address:A.target.value}),fullWidth:!0,required:!0}),o.jsx(Ye,{label:"Город",value:k.city,onChange:A=>M({...k,city:A.target.value}),fullWidth:!0,required:!0}),o.jsx(Ye,{label:"Телефон",value:k.phone,onChange:A=>M({...k,phone:A.target.value}),fullWidth:!0,required:!0,placeholder:"+7 (900) 123-45-67"}),o.jsx(Ye,{label:"Email",value:k.email,onChange:A=>M({...k,email:A.target.value}),fullWidth:!0,required:!0,type:"email"}),o.jsx(Ye,{label:"Описание",value:k.description,onChange:A=>M({...k,description:A.target.value}),fullWidth:!0,multiline:!0,rows:3}),o.jsxs(ar,{fullWidth:!0,children:[o.jsx(Er,{children:"Форма организации"}),o.jsxs(dr,{value:k.organizationType,onChange:A=>M({...k,organizationType:A.target.value}),label:"Форма организации",children:[o.jsx(Mt,{value:"ИП",children:"ИП"}),o.jsx(Mt,{value:"ООО",children:"ООО"}),o.jsx(Mt,{value:"Самозанятый",children:"Самозанятый"})]})]}),o.jsx(Ye,{label:"ИНН",value:k.inn,onChange:A=>M({...k,inn:A.target.value}),fullWidth:!0}),o.jsx(Ye,{label:"Расчетный счет",value:k.bankAccount,onChange:A=>M({...k,bankAccount:A.target.value}),fullWidth:!0})]})]}),o.jsxs(br,{children:[o.jsx(_e,{onClick:()=>{T(!1),y(""),M({name:"",address:"",city:"",phone:"",email:"",description:"",organizationType:"ИП",inn:"",bankAccount:""})},children:"Отмена"}),o.jsx(_e,{onClick:async()=>{try{if(!k.name||!k.address||!k.city||!k.phone||!k.email){y("Заполните все обязательные поля");return}const A=Ge(Pe(se,"venues"),Ee("email","==",k.email));if(!(await qe(A)).empty){y("Клуб с таким email уже существует");return}const Y={name:k.name,address:k.address,city:k.city,phone:k.phone,email:k.email,description:k.description||"",organizationType:k.organizationType,inn:k.inn||"",bankAccount:k.bankAccount||"",status:"pending",createdAt:new Date,updatedAt:new Date,logoUrl:"",amenities:[],location:null,moderatedAt:null,moderatedBy:null,courts:[],workingHours:{weekday:{start:"07:00",end:"23:00"},weekend:{start:"08:00",end:"22:00"}}};if(!en.currentUser){y("Необходимо авторизоваться");return}if(!t){y("Только суперадминистратор может создавать клубы");return}console.log("Creating venue with data:",Y),console.log("Firebase auth current user:",en.currentUser);const G=await gr(Pe(se,"venues"),Y);console.log("Venue created with ID:",G.id),await gr(Pe(se,"subscriptions"),{venueId:G.id,plan:"start",status:"active",startDate:new Date,endDate:null,createdAt:new Date,updatedAt:new Date,usage:{courtsCount:0,bookingsThisMonth:0,smsEmailsSent:0,lastUpdated:new Date}}),await gr(Pe(se,"admins"),{name:"Администратор",email:k.email,password:"123456",role:"admin",venueId:G.id,permissions:["manage_bookings","manage_courts","manage_clients","manage_settings"],createdAt:new Date,updatedAt:new Date}),T(!1),y(""),M({name:"",address:"",city:"",phone:"",email:"",description:"",organizationType:"ИП",inn:"",bankAccount:""}),N(),alert(`Клуб "${k.name}" успешно создан! Администратор: ${k.email}, пароль: 123456`)}catch(A){console.error("Error creating venue:",A),console.error("Error details:",{code:A==null?void 0:A.code,message:A==null?void 0:A.message,stack:A==null?void 0:A.stack}),y("Ошибка при создании клуба: "+((A==null?void 0:A.message)||"Неизвестная ошибка"))}},variant:"contained",children:"Создать"})]})]})]})}function fa(e){return new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function ma(e){return new Intl.DateTimeFormat("ru-RU",{year:"numeric",month:"long",day:"numeric"}).format(e)}const vm={start:"Старт",standard:"Стандарт",pro:"Профи",premium:"Премиум"},ga={start:0,standard:990,pro:1990,premium:2990},$A={start:["1 корт","Базовые функции","Email поддержка"],standard:["До 3 кортов","Онлайн-оплата","SMS-уведомления","Статистика"],pro:["До 10 кортов","Все функции Standard","Приоритетная поддержка","API доступ"],premium:["Неограниченно кортов","Все функции Pro","Персональный менеджер","Кастомизация"]};function OA(){var E;const{admin:e}=Ht(),[t,n]=f.useState(!0),[r,s]=f.useState(null),[i,a]=f.useState([]),[l,c]=f.useState(null),[d,u]=f.useState(!1),[p,h]=f.useState(""),[g,v]=f.useState(1),[m,y]=f.useState(!1),[x,w]=f.useState(null);f.useEffect(()=>{if(!(e!=null&&e.venueId))return;const T=yr(Ge(Pe(se,"subscriptions"),Ee("venueId","==",e.venueId),wa(1)),N=>{if(N.empty)s(null);else{const L=N.docs[0];s({id:L.id,...L.data()})}}),k=yr(Ge(Pe(se,"invoices"),Ee("venueId","==",e.venueId),Qm("createdAt","desc"),wa(20)),N=>{const L=N.docs.map(R=>({id:R.id,...R.data()}));a(L)}),M=yr(Ge(Pe(se,"payment_methods"),Ee("venueId","==",e.venueId),Ee("isDefault","==",!0),wa(1)),N=>{if(N.empty)c(null);else{const L=N.docs[0];c({id:L.id,...L.data()})}});return n(!1),()=>{T(),k(),M()}},[e]);const C=async()=>{if(!(!p||!g)){y(!0),w(null);try{const M=(await Cy(fk,"initSubscriptionPayment")({venueId:e==null?void 0:e.venueId,planKey:p,amount:ga[p]*g,courtsCount:g})).data;if(M.success&&M.paymentUrl)window.open(M.paymentUrl,"_blank"),u(!1);else throw new Error("Failed to initialize payment")}catch(T){console.error("Payment initialization error:",T),w(T.message||"Ошибка при инициализации платежа")}finally{y(!1)}}},j=T=>{const k={active:{label:"Активна",color:"success",icon:o.jsx(hp,{})},pending_payment:{label:"Ожидает оплаты",color:"warning",icon:o.jsx(Wd,{})},payment_failed:{label:"Ошибка оплаты",color:"error",icon:o.jsx(ol,{})},cancelled:{label:"Отменена",color:"default",icon:o.jsx(sl,{})}},M=k[T]||k.cancelled;return o.jsx(Tr,{label:M.label,color:M.color,size:"small",icon:M.icon})},_=T=>{const k={pending:{label:"Ожидает",color:"default"},processing:{label:"Обработка",color:"info"},paid:{label:"Оплачен",color:"success"},failed:{label:"Ошибка",color:"error"},refunded:{label:"Возврат",color:"warning"}},M=k[T]||k.pending;return o.jsx(Tr,{label:M.label,color:M.color,size:"small"})};if(t)return o.jsx(Ud,{children:o.jsx(ne,{sx:{width:"100%"},children:o.jsx(Yy,{})})});const S=r!=null&&r.endDate?Math.floor((r.endDate.toMillis()-Date.now())/(1e3*60*60*24)):0;return o.jsx(Ud,{children:o.jsxs(ne,{sx:{p:3},children:[o.jsx(W,{variant:"h5",gutterBottom:!0,children:"Управление подпиской"}),x&&o.jsx(lt,{severity:"error",sx:{mb:3},onClose:()=>w(null),children:x}),o.jsx(ot,{sx:{mb:3},children:o.jsxs(it,{children:[o.jsx(W,{variant:"h6",gutterBottom:!0,children:"Текущий тариф"}),r?o.jsxs(Ae,{container:!0,spacing:3,children:[o.jsx(Ae,{item:!0,xs:12,md:6,children:o.jsxs(Ls,{spacing:2,children:[o.jsxs(ne,{children:[o.jsx(W,{variant:"subtitle2",color:"text.secondary",children:"Тариф"}),o.jsx(W,{variant:"h4",children:vm[r.plan]})]}),o.jsxs(ne,{children:[o.jsx(W,{variant:"subtitle2",color:"text.secondary",children:"Статус"}),j(r.status)]}),o.jsxs(ne,{children:[o.jsx(W,{variant:"subtitle2",color:"text.secondary",children:"Количество кортов"}),o.jsx(W,{variant:"body1",children:r.courtsCount})]}),o.jsxs(ne,{children:[o.jsx(W,{variant:"subtitle2",color:"text.secondary",children:"Стоимость в месяц"}),o.jsx(W,{variant:"h5",children:fa(ga[r.plan]*r.courtsCount)})]})]})}),o.jsx(Ae,{item:!0,xs:12,md:6,children:o.jsxs(Ls,{spacing:2,children:[o.jsxs(ne,{children:[o.jsx(W,{variant:"subtitle2",color:"text.secondary",children:"Активна до"}),o.jsx(W,{variant:"body1",children:r.endDate?ma(r.endDate.toDate()):"Бессрочно"}),S>0&&S<=7&&o.jsxs(W,{variant:"caption",color:"warning.main",children:["Осталось ",S," дней"]})]}),o.jsxs(ne,{children:[o.jsx(W,{variant:"subtitle2",color:"text.secondary",children:"Автопродление"}),o.jsx(W,{variant:"body1",children:r.autoRenewal?"Включено":"Отключено"})]}),r.lastPaymentAt&&o.jsxs(ne,{children:[o.jsx(W,{variant:"subtitle2",color:"text.secondary",children:"Последний платеж"}),o.jsx(W,{variant:"body1",children:ma(r.lastPaymentAt.toDate())})]}),r.status==="payment_failed"&&r.gracePeriodEnd&&o.jsx(lt,{severity:"error",sx:{mt:2},children:o.jsxs(W,{variant:"body2",children:["Последний платеж не прошел. Подписка будет приостановлена"," ",ma(r.gracePeriodEnd.toDate()),", если оплата не поступит."]})})]})})]}):o.jsx(lt,{severity:"info",children:"У вас нет активной подписки"}),o.jsx(Lr,{sx:{my:3}}),o.jsxs(Ls,{direction:"row",spacing:2,children:[o.jsx(_e,{variant:"contained",onClick:()=>{h((r==null?void 0:r.plan)||"standard"),v((r==null?void 0:r.courtsCount)||1),u(!0)},children:"Изменить тариф"}),!l&&o.jsx(_e,{variant:"outlined",startIcon:o.jsx(Ld,{}),onClick:()=>{alert("Функция привязки карты будет добавлена")},children:"Привязать карту"})]})]})}),l&&o.jsx(ot,{sx:{mb:3},children:o.jsxs(it,{children:[o.jsx(W,{variant:"h6",gutterBottom:!0,children:"Способ оплаты"}),o.jsxs(Ls,{direction:"row",spacing:2,alignItems:"center",children:[o.jsx(Ld,{fontSize:"large",color:"action"}),o.jsxs(ne,{children:[o.jsxs(W,{variant:"body1",children:[l.brand," •••• ",l.last4]}),o.jsxs(W,{variant:"caption",color:"text.secondary",children:["Действует до ",l.expiryMonth,"/",l.expiryYear]})]})]})]})}),o.jsx(ot,{children:o.jsxs(it,{children:[o.jsx(W,{variant:"h6",gutterBottom:!0,children:"История платежей"}),i.length>0?o.jsx(uc,{component:fn,variant:"outlined",children:o.jsxs(lc,{children:[o.jsx(pc,{children:o.jsxs(Gr,{children:[o.jsx(Be,{children:"Дата"}),o.jsx(Be,{children:"Описание"}),o.jsx(Be,{children:"Сумма"}),o.jsx(Be,{children:"Статус"}),o.jsx(Be,{align:"right",children:"Действия"})]})}),o.jsx(dc,{children:i.map(T=>o.jsxs(Gr,{children:[o.jsx(Be,{children:ma(T.createdAt.toDate())}),o.jsx(Be,{children:T.description}),o.jsx(Be,{children:fa(T.amount)}),o.jsx(Be,{children:_(T.status)}),o.jsx(Be,{align:"right",children:o.jsx(_e,{size:"small",startIcon:o.jsx(nx,{}),onClick:()=>{alert("Функция скачивания чека будет добавлена")},children:"Чек"})})]},T.id))})]})}):o.jsx(W,{color:"text.secondary",children:"История платежей пуста"})]})}),o.jsxs(or,{open:d,onClose:()=>u(!1),maxWidth:"sm",fullWidth:!0,children:[o.jsx(Cr,{children:"Изменить тариф"}),o.jsx(ir,{children:o.jsxs(Ls,{spacing:3,sx:{mt:2},children:[o.jsx(Ye,{select:!0,fullWidth:!0,label:"Тариф",value:p,onChange:T=>h(T.target.value),children:Object.entries(vm).filter(([T])=>T!=="start").map(([T,k])=>o.jsxs(Mt,{value:T,children:[k," - ",fa(ga[T])," за корт/месяц"]},T))}),o.jsx(Ye,{type:"number",fullWidth:!0,label:"Количество кортов",value:g,onChange:T=>v(parseInt(T.target.value)||1),inputProps:{min:1,max:100}}),p&&o.jsxs(o.Fragment,{children:[o.jsxs(ne,{sx:{p:2,bgcolor:"grey.100",borderRadius:1},children:[o.jsx(W,{variant:"subtitle2",gutterBottom:!0,children:"Возможности тарифа:"}),o.jsx("ul",{style:{margin:0,paddingLeft:20},children:(E=$A[p])==null?void 0:E.map((T,k)=>o.jsx("li",{children:o.jsx(W,{variant:"body2",children:T})},k))})]}),o.jsx(Lr,{}),o.jsxs(ne,{sx:{textAlign:"center"},children:[o.jsx(W,{variant:"subtitle2",color:"text.secondary",children:"Итого к оплате:"}),o.jsx(W,{variant:"h4",children:fa(ga[p]*g)}),o.jsx(W,{variant:"caption",color:"text.secondary",children:"в месяц"})]})]})]})}),o.jsxs(br,{children:[o.jsx(_e,{onClick:()=>u(!1),children:"Отмена"}),o.jsx(_e,{variant:"contained",onClick:C,disabled:!p||!g||m,startIcon:m?o.jsx(Wd,{}):o.jsx(go,{}),children:m?"Обработка...":"Перейти к оплате"})]})]})]})})}const ym=[{id:"tbank",name:"Т-Банк",commission:2.5,fields:[{name:"shopId",label:"Shop ID",type:"text",required:!0,placeholder:"Например: shop_12345"},{name:"secretKey",label:"Secret Key",type:"password",required:!0},{name:"terminalKey",label:"Terminal Key",type:"text",required:!0}]},{id:"sber",name:"Сбербанк",commission:2.3,fields:[{name:"merchantLogin",label:"Merchant Login",type:"text",required:!0},{name:"password",label:"Пароль",type:"password",required:!0},{name:"gateway",label:"Gateway",type:"select",required:!0,options:[{value:"securepayments.sberbank.ru",label:"Боевой"},{value:"3dsec.sberbank.ru",label:"Тестовый"}]}]},{id:"yookassa",name:"ЮKassa",commission:2.8,fields:[{name:"shopId",label:"Shop ID",type:"text",required:!0},{name:"secretKey",label:"Secret Key",type:"password",required:!0}]},{id:"tinkoff",name:"Тинькофф",commission:2.49,fields:[{name:"terminalKey",label:"Terminal Key",type:"text",required:!0},{name:"password",label:"Пароль",type:"password",required:!0}]}];function LA(){const{admin:e,club:t}=Ht(),{isSuperAdmin:n}=sn(),[r,s]=f.useState(null),[i,a]=f.useState(!0),[l,c]=f.useState(!1),[d,u]=f.useState(!0),[p,h]=f.useState(!1),[g,v]=f.useState(""),[m,y]=f.useState({}),[x,w]=f.useState(!1),[C,j]=f.useState(null),[_,S]=f.useState(0);f.useEffect(()=>{if(n){const P=localStorage.getItem("selectedVenueId");P?(s(P),T(P)):a(!1)}else e!=null&&e.venueId&&T(e.venueId)},[e,n]);const E=P=>{s(P),localStorage.setItem("selectedVenueId",P),P&&T(P)},T=async P=>{const D=P||(e==null?void 0:e.venueId);if(D)try{a(!0);const I=await St(Ie(se,"venues",D));if(I.exists()){const O=I.data();h(O.paymentEnabled||!1),u(O.paymentTestMode!==!1),v(O.paymentProvider||""),O.paymentCredentials&&y(O.paymentCredentials),O.paymentProvider&&O.paymentCredentials?S(2):O.paymentProvider&&S(1)}a(!1)}catch(I){console.error("Error loading payment settings:",I),a(!1)}},k=P=>{v(P),y({}),S(1)},M=(P,D)=>{y(I=>({...I,[P]:D}))},N=async()=>{const P=n?r:e==null?void 0:e.venueId;if(!(!P||!g)){c(!0);try{await Ft(Ie(se,"venues",P),{paymentEnabled:p,paymentTestMode:d,paymentProvider:g,paymentCredentials:m,paymentUpdatedAt:new Date}),S(2),alert("Настройки успешно сохранены")}catch(D){console.error("Error saving payment settings:",D),alert("Ошибка при сохранении настроек")}finally{c(!1)}}},L=async()=>{w(!0),j(null),setTimeout(()=>{const P=Math.random()>.3;j({success:P,message:P?"Подключение успешно проверено. Платежи готовы к работе.":"Ошибка подключения. Проверьте правильность введенных данных."})},2e3)};if(i)return o.jsx(ne,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:o.jsx(Cn,{})});if(n&&!r)return o.jsx(No,{title:"Выберите клуб для настройки оплаты"});const R=ym.find(P=>P.id===g);return o.jsxs(ne,{children:[n&&o.jsx(Do,{selectedVenueId:r,onVenueChange:E}),o.jsx(W,{variant:"h5",component:"h2",gutterBottom:!0,children:"Настройки эквайринга"}),o.jsx(lt,{severity:"info",sx:{mb:3},children:"Подключите свой эквайринг для приема платежей от клиентов. Все платежи будут поступать напрямую на ваш расчетный счет."}),o.jsx(ot,{sx:{mb:3},children:o.jsxs(it,{children:[o.jsxs(ne,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[o.jsxs(ne,{children:[o.jsx(W,{variant:"h6",children:"Статус платежей"}),o.jsx(W,{variant:"body2",color:"text.secondary",children:p?"Платежи активны и готовы к приему":"Платежи не настроены"})]}),o.jsxs(ne,{display:"flex",alignItems:"center",gap:2,children:[o.jsx(nl,{control:o.jsx(Qs,{checked:d,onChange:P=>u(P.target.checked),disabled:!p}),label:"Тестовый режим"}),o.jsx(Tr,{icon:p?o.jsx(os,{}):o.jsx(ol,{}),label:p?"Подключено":"Не подключено",color:p?"success":"default"})]})]}),p&&R&&o.jsxs(ne,{mt:2,p:2,bgcolor:"background.default",borderRadius:1,children:[o.jsxs(W,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Провайдер: ",o.jsx("strong",{children:R.name})]}),o.jsxs(W,{variant:"body2",color:"text.secondary",children:["Комиссия: ",o.jsxs("strong",{children:[R.commission,"%"]})]})]})]})}),o.jsxs(UD,{activeStep:_,orientation:"vertical",children:[o.jsxs(Gc,{children:[o.jsx(Ra,{children:"Выберите платежного провайдера"}),o.jsxs(Qc,{children:[o.jsx(W,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Выберите банк или платежную систему, с которой у вас заключен договор эквайринга"}),o.jsx(ne,{sx:{mt:2,mb:3},children:ym.map(P=>o.jsx(fn,{sx:{p:2,mb:2,cursor:"pointer",border:g===P.id?2:1,borderColor:g===P.id?"primary.main":"divider","&:hover":{borderColor:"primary.main"}},onClick:()=>k(P.id),children:o.jsxs(ne,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[o.jsxs(ne,{display:"flex",alignItems:"center",gap:2,children:[o.jsx(IN,{color:"action"}),o.jsxs(ne,{children:[o.jsx(W,{variant:"subtitle1",children:P.name}),o.jsxs(W,{variant:"body2",color:"text.secondary",children:["Комиссия: ",P.commission,"%"]})]})]}),g===P.id&&o.jsx(os,{color:"primary"})]})},P.id))}),o.jsx(_e,{variant:"contained",onClick:()=>S(1),disabled:!g,children:"Продолжить"})]})]}),o.jsxs(Gc,{children:[o.jsx(Ra,{children:"Введите данные для подключения"}),o.jsx(Qc,{children:R&&o.jsxs(o.Fragment,{children:[o.jsxs(W,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Введите данные из личного кабинета ",R.name]}),o.jsx(ne,{sx:{mt:2},children:R.fields.map(P=>{var D;return o.jsx(ne,{sx:{mb:2},children:P.type==="select"?o.jsxs(ar,{fullWidth:!0,children:[o.jsx(Er,{children:P.label}),o.jsx(dr,{value:m[P.name]||"",onChange:I=>M(P.name,I.target.value),required:P.required,children:(D=P.options)==null?void 0:D.map(I=>o.jsx(Mt,{value:I.value,children:I.label},I.value))})]}):o.jsx(Ye,{fullWidth:!0,label:P.label,type:P.type,value:m[P.name]||"",onChange:I=>M(P.name,I.target.value),required:P.required,placeholder:P.placeholder})},P.name)})}),o.jsx(lt,{severity:"warning",icon:o.jsx(vp,{}),sx:{mt:2,mb:2},children:"Все данные хранятся в зашифрованном виде и используются только для проведения платежей"}),o.jsxs(ne,{sx:{mt:2},children:[o.jsx(_e,{variant:"contained",onClick:N,disabled:l||!R.fields.every(P=>!P.required||m[P.name]),startIcon:l?o.jsx(Cn,{size:20}):o.jsx(zd,{}),children:l?"Сохранение...":"Сохранить и продолжить"}),o.jsx(_e,{sx:{ml:1},onClick:()=>S(0),children:"Назад"})]})]})})]}),o.jsxs(Gc,{children:[o.jsx(Ra,{children:"Проверка подключения"}),o.jsxs(Qc,{children:[o.jsx(W,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Проверьте работу платежей в тестовом режиме перед началом приема реальных платежей"}),o.jsx(ne,{sx:{mt:3},children:o.jsx(_e,{variant:"contained",onClick:L,startIcon:o.jsx(ZN,{}),children:"Проверить подключение"})}),p&&o.jsxs(lt,{severity:"success",sx:{mt:3},children:["Поздравляем! Платежи настроены и готовы к работе.",d&&" Не забудьте отключить тестовый режим для приема реальных платежей."]})]})]})]}),o.jsx(ot,{sx:{mt:4},children:o.jsxs(it,{children:[o.jsx(W,{variant:"h6",gutterBottom:!0,children:"Преимущества собственного эквайринга"}),o.jsxs(mo,{children:[o.jsxs(er,{children:[o.jsx(Uc,{children:o.jsx(os,{color:"success"})}),o.jsx(tr,{primary:"Прямые платежи на ваш счет",secondary:"Деньги поступают напрямую без посредников"})]}),o.jsxs(er,{children:[o.jsx(Uc,{children:o.jsx(os,{color:"success"})}),o.jsx(tr,{primary:"Полный контроль",secondary:"Вы сами управляете возвратами и платежами"})]}),o.jsxs(er,{children:[o.jsx(Uc,{children:o.jsx(os,{color:"success"})}),o.jsx(tr,{primary:"Низкие комиссии",secondary:"Только комиссия вашего банка, без дополнительных сборов"})]})]})]})}),o.jsxs(or,{open:x,onClose:()=>w(!1),children:[o.jsx(Cr,{children:"Проверка подключения"}),o.jsx(ir,{children:C?o.jsx(lt,{severity:C.success?"success":"error",sx:{mt:1},children:C.message}):o.jsxs(ne,{display:"flex",alignItems:"center",gap:2,py:2,children:[o.jsx(Cn,{size:24}),o.jsx(W,{children:"Проверяем подключение..."})]})}),o.jsxs(br,{children:[o.jsx(_e,{onClick:()=>w(!1),children:"Закрыть"}),(C==null?void 0:C.success)&&o.jsx(_e,{variant:"contained",onClick:()=>{h(!0),w(!1),N()},children:"Активировать платежи"})]})]})]})}function FA(){const{isSuperAdmin:e}=sn(),[t,n]=f.useState(!0),[r,s]=f.useState(!1),[i,a]=f.useState({tbank:{terminalKey:"",password:"",notificationUrl:"https://europe-west1-sports-booking-app-1d7e5.cloudfunctions.net/tbankWebhook",testMode:!0},autoRenewal:!0,gracePeriodDays:3}),[l,c]=f.useState(!1),[d,u]=f.useState(!1),[p,h]=f.useState({totalRevenue:0,activeSubscriptions:0,pendingPayments:0,failedPayments:0}),[g,v]=f.useState(null),[m,y]=f.useState({});f.useEffect(()=>{x(),w(),C()},[]);const x=async()=>{try{const S=Ie(se,"settings","billing"),E=await St(S);if(E.exists()){const T=E.data();a(T)}}catch(S){console.error("Error loading billing config:",S)}finally{n(!1)}},w=async()=>{try{const S=Ge(Pe(se,"subscriptions"),Ee("status","==","active")),E=await qe(S);h({totalRevenue:0,activeSubscriptions:E.size,pendingPayments:0,failedPayments:0})}catch(S){console.error("Error loading billing stats:",S)}},C=()=>{const S={};Object.entries(hr).forEach(([E,T])=>{S[E]=T.price}),y(S)},j=async()=>{try{s(!0);const S=Ie(se,"settings","billing");await Xm(S,{...i,updatedAt:new Date},{merge:!0}),c(!1),alert("Настройки биллинга сохранены")}catch(S){console.error("Error saving billing config:",S),alert("Ошибка при сохранении настроек")}finally{s(!1)}},_=async S=>{try{alert(`Цена тарифа ${hr[S].name} обновлена`),v(null)}catch(E){console.error("Error updating plan price:",E),alert("Ошибка при обновлении цены")}};return e?t?o.jsx(ne,{sx:{display:"flex",justifyContent:"center",p:3},children:o.jsx(Cn,{})}):o.jsx(Ro,{requiredPermission:"superadmin",children:o.jsxs(ne,{sx:{p:3},children:[o.jsx(lt,{severity:"info",sx:{mb:3},children:"Данный раздел доступен только суперадминистраторам системы"}),o.jsx(W,{variant:"h4",gutterBottom:!0,children:"Настройки биллинга"}),o.jsxs(Ae,{container:!0,spacing:3,sx:{mb:3},children:[o.jsx(Ae,{item:!0,xs:12,sm:6,md:3,children:o.jsx(ot,{children:o.jsxs(it,{children:[o.jsxs(ne,{display:"flex",alignItems:"center",gap:1,children:[o.jsx(hc,{color:"primary"}),o.jsx(W,{color:"textSecondary",gutterBottom:!0,children:"Общий доход"})]}),o.jsxs(W,{variant:"h5",children:[p.totalRevenue.toLocaleString("ru-RU")," ₽"]})]})})}),o.jsx(Ae,{item:!0,xs:12,sm:6,md:3,children:o.jsx(ot,{children:o.jsxs(it,{children:[o.jsxs(ne,{display:"flex",alignItems:"center",gap:1,children:[o.jsx(fi,{color:"success"}),o.jsx(W,{color:"textSecondary",gutterBottom:!0,children:"Активные подписки"})]}),o.jsx(W,{variant:"h5",children:p.activeSubscriptions})]})})}),o.jsx(Ae,{item:!0,xs:12,sm:6,md:3,children:o.jsx(ot,{children:o.jsxs(it,{children:[o.jsxs(ne,{display:"flex",alignItems:"center",gap:1,children:[o.jsx(fi,{color:"warning"}),o.jsx(W,{color:"textSecondary",gutterBottom:!0,children:"Ожидают оплаты"})]}),o.jsx(W,{variant:"h5",children:p.pendingPayments})]})})}),o.jsx(Ae,{item:!0,xs:12,sm:6,md:3,children:o.jsx(ot,{children:o.jsxs(it,{children:[o.jsxs(ne,{display:"flex",alignItems:"center",gap:1,children:[o.jsx(fi,{color:"error"}),o.jsx(W,{color:"textSecondary",gutterBottom:!0,children:"Неудачные платежи"})]}),o.jsx(W,{variant:"h5",children:p.failedPayments})]})})})]}),o.jsx(ot,{sx:{mb:3},children:o.jsxs(it,{children:[o.jsxs(ne,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[o.jsx(W,{variant:"h6",children:"Настройки Т-Банк"}),l?o.jsxs(ne,{children:[o.jsx(_e,{startIcon:o.jsx(sl,{}),onClick:()=>{c(!1),x()},sx:{mr:1},children:"Отмена"}),o.jsx(_e,{startIcon:o.jsx(zd,{}),onClick:j,variant:"contained",disabled:r,children:"Сохранить"})]}):o.jsx(_e,{startIcon:o.jsx(Mi,{}),onClick:()=>c(!0),variant:"outlined",children:"Редактировать"})]}),o.jsxs(Ae,{container:!0,spacing:2,children:[o.jsx(Ae,{item:!0,xs:12,md:6,children:o.jsx(Ye,{label:"Terminal Key",value:i.tbank.terminalKey,onChange:S=>a({...i,tbank:{...i.tbank,terminalKey:S.target.value}}),fullWidth:!0,disabled:!l,helperText:"Ключ терминала для рекуррентных платежей"})}),o.jsx(Ae,{item:!0,xs:12,md:6,children:o.jsx(Ye,{label:"Password",type:d?"text":"password",value:i.tbank.password,onChange:S=>a({...i,tbank:{...i.tbank,password:S.target.value}}),fullWidth:!0,disabled:!l,helperText:"Пароль для API Т-Банк",InputProps:{endAdornment:l&&o.jsx(_e,{size:"small",onClick:()=>u(!d),children:d?"Скрыть":"Показать"})}})}),o.jsx(Ae,{item:!0,xs:12,children:o.jsx(Ye,{label:"Notification URL",value:i.tbank.notificationUrl,onChange:S=>a({...i,tbank:{...i.tbank,notificationUrl:S.target.value}}),fullWidth:!0,disabled:!l,helperText:"URL для получения уведомлений от Т-Банк"})}),o.jsxs(Ae,{item:!0,xs:12,children:[o.jsx(nl,{control:o.jsx(Qs,{checked:i.tbank.testMode,onChange:S=>a({...i,tbank:{...i.tbank,testMode:S.target.checked}}),disabled:!l}),label:"Тестовый режим"}),i.tbank.testMode&&o.jsx(lt,{severity:"warning",sx:{mt:1},children:"Включен тестовый режим. Реальные платежи не будут проводиться."})]})]})]})}),o.jsx(ot,{sx:{mb:3},children:o.jsxs(it,{children:[o.jsx(W,{variant:"h6",gutterBottom:!0,children:"Общие настройки"}),o.jsxs(Ae,{container:!0,spacing:2,children:[o.jsx(Ae,{item:!0,xs:12,children:o.jsx(nl,{control:o.jsx(Qs,{checked:i.autoRenewal,onChange:S=>a({...i,autoRenewal:S.target.checked}),disabled:!l}),label:"Автоматическое продление подписок"})}),o.jsx(Ae,{item:!0,xs:12,md:6,children:o.jsx(Ye,{label:"Льготный период (дней)",type:"number",value:i.gracePeriodDays,onChange:S=>a({...i,gracePeriodDays:parseInt(S.target.value)||0}),fullWidth:!0,disabled:!l,helperText:"Количество дней после неудачного платежа до блокировки"})})]})]})}),o.jsx(ot,{children:o.jsxs(it,{children:[o.jsx(W,{variant:"h6",gutterBottom:!0,children:"Тарифные планы"}),o.jsx(uc,{component:fn,variant:"outlined",children:o.jsxs(lc,{children:[o.jsx(pc,{children:o.jsxs(Gr,{children:[o.jsx(Be,{children:"Тариф"}),o.jsx(Be,{children:"Описание"}),o.jsx(Be,{align:"right",children:"Цена за корт/мес"}),o.jsx(Be,{align:"center",children:"Статус"}),o.jsx(Be,{align:"center",children:"Действия"})]})}),o.jsx(dc,{children:Object.entries(hr).map(([S,E])=>o.jsxs(Gr,{children:[o.jsx(Be,{children:o.jsx(W,{variant:"subtitle2",children:E.name})}),o.jsx(Be,{children:o.jsx(W,{variant:"body2",color:"textSecondary",children:E.features[0]})}),o.jsx(Be,{align:"right",children:g===S?o.jsx(Ye,{type:"number",value:m[S],onChange:T=>y({...m,[S]:parseInt(T.target.value)||0}),size:"small",sx:{width:120}}):o.jsx(W,{children:E.price===0?"Бесплатно":`${E.price.toLocaleString("ru-RU")} ₽`})}),o.jsx(Be,{align:"center",children:o.jsx(Tr,{label:"Активен",color:"success",size:"small"})}),o.jsx(Be,{align:"center",children:g===S?o.jsxs(o.Fragment,{children:[o.jsx(ln,{size:"small",onClick:()=>_(S),color:"primary",children:o.jsx(zd,{})}),o.jsx(ln,{size:"small",onClick:()=>{v(null),C()},children:o.jsx(sl,{})})]}):o.jsx(ln,{size:"small",onClick:()=>v(S),disabled:S==="start",children:o.jsx(Mi,{})})})]},S))})]})})]})})]})}):o.jsx(ne,{sx:{p:3},children:o.jsx(lt,{severity:"error",children:"У вас нет доступа к настройкам биллинга"})})}function zA(){const{admin:e}=Ht(),{isSuperAdmin:t}=sn(),[n,r]=f.useState(null),[s,i]=f.useState(!0),[a,l]=f.useState("month"),[c,d]=f.useState("all"),[u,p]=f.useState({totalRevenue:0,bookingsCount:0,averageCheck:0,revenueChange:0}),[h,g]=f.useState([]);f.useEffect(()=>{if(t){const y=localStorage.getItem("selectedVenueId");y?(r(y),m(y)):i(!1)}else e!=null&&e.venueId&&m(e.venueId)},[e,t,a,c]);const v=y=>{r(y),localStorage.setItem("selectedVenueId",y),y&&m(y)},m=async y=>{const x=y||(e==null?void 0:e.venueId);if(x)try{i(!0);const w=new Date;let C=new Date;switch(a){case"week":C.setDate(w.getDate()-7);break;case"month":C.setMonth(w.getMonth()-1);break;case"year":C.setFullYear(w.getFullYear()-1);break}console.log("Loading finance data for venue:",x),console.log("Period:",a,"Start date:",C);const j=Ge(Pe(se,"bookings"),Ee("venueId","==",x)),_=await qe(j);console.log("Total bookings found:",_.size);let S=_.docs.map(N=>{var L;return{id:N.id,...N.data(),date:(L=N.data().date)==null?void 0:L.toDate(),paymentStatus:N.data().paymentStatus||"awaiting_payment",paymentMethod:N.data().paymentMethod||"cash"}});S=S.filter(N=>N.date?N.date>=C&&N.status==="confirmed":!1),console.log("Bookings after date filter:",S.length),S=S.filter(N=>N.paymentStatus==="paid"||N.paymentStatus==="online_payment"),console.log("Paid bookings:",S.length),c!=="all"&&(S=S.filter(N=>N.paymentMethod===c));const E=S.reduce((N,L)=>N+(L.amount||0),0),T=S.length,k=T>0?E/T:0;p({totalRevenue:E,bookingsCount:T,averageCheck:k,revenueChange:15.5});const M=S.reduce((N,L)=>{var P;const R=(P=L.date)==null?void 0:P.toLocaleDateString("ru-RU");return N[R]||(N[R]={date:L.date,bookings:0,revenue:0}),N[R].bookings++,N[R].revenue+=L.amount||0,N},{});g(Object.values(M).slice(0,10))}catch(w){console.error("Error loading finance data:",w)}finally{i(!1)}};return s?o.jsx(ne,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:o.jsx(Cn,{})}):t&&!n?o.jsx(No,{title:"Выберите клуб для просмотра финансов"}):o.jsxs(ne,{children:[t&&o.jsx(Do,{selectedVenueId:n,onVenueChange:v}),o.jsxs(ne,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[o.jsx(W,{variant:"h5",component:"h2",children:"Финансовая аналитика"}),o.jsxs(ne,{display:"flex",gap:2,children:[o.jsxs(ar,{size:"small",sx:{minWidth:150},children:[o.jsx(Er,{children:"Способ оплаты"}),o.jsxs(dr,{value:c,label:"Способ оплаты",onChange:y=>d(y.target.value),children:[o.jsx(Mt,{value:"all",children:"Все"}),o.jsx(Mt,{value:"cash",children:"Наличные"}),o.jsx(Mt,{value:"card_on_site",children:"Карта на месте"}),o.jsx(Mt,{value:"transfer",children:"Перевод"}),o.jsx(Mt,{value:"online",children:"Онлайн оплата"})]})]}),o.jsxs(ar,{size:"small",sx:{minWidth:120},children:[o.jsx(Er,{children:"Период"}),o.jsxs(dr,{value:a,label:"Период",onChange:y=>l(y.target.value),children:[o.jsx(Mt,{value:"week",children:"Неделя"}),o.jsx(Mt,{value:"month",children:"Месяц"}),o.jsx(Mt,{value:"year",children:"Год"})]})]})]})]}),o.jsxs(Ae,{container:!0,spacing:3,mb:4,children:[o.jsx(Ae,{item:!0,xs:12,sm:6,md:3,children:o.jsx(ot,{children:o.jsxs(it,{children:[o.jsxs(ne,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[o.jsx(go,{color:"primary"}),o.jsx(Tr,{size:"small",label:`+${u.revenueChange}%`,color:"success",icon:o.jsx(hc,{})})]}),o.jsx(W,{color:"text.secondary",variant:"body2",children:"Общий доход"}),o.jsxs(W,{variant:"h5",component:"div",children:[u.totalRevenue.toLocaleString("ru-RU")," ₽"]})]})})}),o.jsx(Ae,{item:!0,xs:12,sm:6,md:3,children:o.jsx(ot,{children:o.jsxs(it,{children:[o.jsx(ne,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:o.jsx(nx,{color:"primary"})}),o.jsx(W,{color:"text.secondary",variant:"body2",children:"Количество бронирований"}),o.jsx(W,{variant:"h5",component:"div",children:u.bookingsCount})]})})}),o.jsx(Ae,{item:!0,xs:12,sm:6,md:3,children:o.jsx(ot,{children:o.jsxs(it,{children:[o.jsx(ne,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:o.jsx(go,{color:"primary"})}),o.jsx(W,{color:"text.secondary",variant:"body2",children:"Средний чек"}),o.jsxs(W,{variant:"h5",component:"div",children:[Math.round(u.averageCheck).toLocaleString("ru-RU")," ₽"]})]})})})]}),o.jsx(ot,{children:o.jsxs(it,{children:[o.jsx(W,{variant:"h6",component:"h3",gutterBottom:!0,children:"Последние транзакции"}),o.jsx(uc,{component:fn,variant:"outlined",children:o.jsxs(lc,{children:[o.jsx(pc,{children:o.jsxs(Gr,{children:[o.jsx(Be,{children:"Дата"}),o.jsx(Be,{align:"center",children:"Бронирований"}),o.jsx(Be,{align:"right",children:"Сумма"})]})}),o.jsx(dc,{children:h.map((y,x)=>{var w;return o.jsxs(Gr,{children:[o.jsx(Be,{children:(w=y.date)==null?void 0:w.toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"})}),o.jsx(Be,{align:"center",children:y.bookings}),o.jsxs(Be,{align:"right",children:[y.revenue.toLocaleString("ru-RU")," ₽"]})]},x)})})]})})]})})]})}function BA(){const{admin:e}=Ht(),{isSuperAdmin:t}=sn(),[n,r]=f.useState(null),[s,i]=f.useState(!0),[a,l]=f.useState({smsEnabled:!1,emailEnabled:!1,pushEnabled:!1,promotions:[]}),[c,d]=f.useState(!1),[u,p]=f.useState({name:"",description:"",discount:10,validUntil:"",active:!0});f.useEffect(()=>{if(t){const x=localStorage.getItem("selectedVenueId");x?(r(x),g(x)):i(!1)}else e!=null&&e.venueId&&g(e.venueId)},[e,t]);const h=x=>{r(x),localStorage.setItem("selectedVenueId",x),x&&g(x)},g=async x=>{const w=x||(e==null?void 0:e.venueId);if(w)try{i(!0);const C=await St(Ie(se,"venues",w));if(C.exists()){const j=C.data();l({smsEnabled:j.marketingSms||!1,emailEnabled:j.marketingEmail||!1,pushEnabled:j.marketingPush||!1,promotions:j.promotions||[]})}}catch(C){console.error("Error loading marketing data:",C)}finally{i(!1)}},v=async x=>{const w=t?n:e==null?void 0:e.venueId;if(!w)return;const C=!a[x];try{await Ft(Ie(se,"venues",w),{[`marketing${x.charAt(0).toUpperCase()+x.slice(1).replace("Enabled","")}`]:C}),l(j=>({...j,[x]:C}))}catch(j){console.error("Error updating notification settings:",j)}},m=async()=>{const x=t?n:e==null?void 0:e.venueId;if(!x)return;const w={...u,id:Date.now().toString(),createdAt:new Date};try{const C=[...a.promotions,w];await Ft(Ie(se,"venues",x),{promotions:C}),l(j=>({...j,promotions:C})),d(!1),p({name:"",description:"",discount:10,validUntil:"",active:!0})}catch(C){console.error("Error creating promotion:",C)}},y=async x=>{const w=t?n:e==null?void 0:e.venueId;if(w)try{const C=a.promotions.filter(j=>j.id!==x);await Ft(Ie(se,"venues",w),{promotions:C}),l(j=>({...j,promotions:C}))}catch(C){console.error("Error deleting promotion:",C)}};return s?o.jsx(ne,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:o.jsx(Cn,{})}):t&&!n?o.jsx(No,{title:"Выберите клуб для управления маркетингом"}):o.jsxs(ne,{children:[t&&o.jsx(Do,{selectedVenueId:n,onVenueChange:h}),o.jsx(W,{variant:"h5",component:"h2",gutterBottom:!0,children:"Маркетинг и продвижение"}),o.jsxs(Ae,{container:!0,spacing:3,children:[o.jsx(Ae,{item:!0,xs:12,md:6,children:o.jsx(ot,{children:o.jsxs(it,{children:[o.jsx(W,{variant:"h6",component:"h3",gutterBottom:!0,children:"Каналы коммуникации"}),o.jsxs(mo,{children:[o.jsxs(er,{children:[o.jsx(tr,{primary:"SMS-рассылки",secondary:"Отправка СМС клиентам о акциях и напоминаниях"}),o.jsx(ls,{children:o.jsx(Qs,{checked:a.smsEnabled,onChange:()=>v("smsEnabled")})})]}),o.jsxs(er,{children:[o.jsx(tr,{primary:"Email-рассылки",secondary:"Отправка писем с новостями и предложениями"}),o.jsx(ls,{children:o.jsx(Qs,{checked:a.emailEnabled,onChange:()=>v("emailEnabled")})})]}),o.jsxs(er,{children:[o.jsx(tr,{primary:"Push-уведомления",secondary:"Мгновенные уведомления в мобильном приложении"}),o.jsx(ls,{children:o.jsx(Qs,{checked:a.pushEnabled,onChange:()=>v("pushEnabled")})})]})]})]})})}),o.jsx(Ae,{item:!0,xs:12,md:6,children:o.jsx(ot,{children:o.jsxs(it,{children:[o.jsx(W,{variant:"h6",component:"h3",gutterBottom:!0,children:"Быстрые действия"}),o.jsxs(Ae,{container:!0,spacing:2,children:[o.jsx(Ae,{item:!0,xs:12,children:o.jsx(_e,{variant:"outlined",fullWidth:!0,startIcon:o.jsx(QN,{}),sx:{justifyContent:"flex-start",textAlign:"left"},children:"Генерировать QR-код клуба"})}),o.jsx(Ae,{item:!0,xs:12,children:o.jsx(_e,{variant:"outlined",fullWidth:!0,startIcon:o.jsx(rx,{}),sx:{justifyContent:"flex-start",textAlign:"left"},children:"Поделиться ссылкой на клуб"})}),o.jsx(Ae,{item:!0,xs:12,children:o.jsx(_e,{variant:"outlined",fullWidth:!0,startIcon:o.jsx(AN,{}),sx:{justifyContent:"flex-start",textAlign:"left"},children:"Создать рассылку"})})]})]})})}),o.jsx(Ae,{item:!0,xs:12,children:o.jsx(ot,{children:o.jsxs(it,{children:[o.jsxs(ne,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[o.jsx(W,{variant:"h6",component:"h3",children:"Активные акции"}),o.jsx(_e,{variant:"contained",startIcon:o.jsx(Xi,{}),onClick:()=>d(!0),children:"Создать акцию"})]}),a.promotions.length===0?o.jsx(lt,{severity:"info",children:"У вас пока нет активных акций. Создайте первую акцию для привлечения клиентов."}):o.jsx(mo,{children:a.promotions.map(x=>o.jsxs(er,{children:[o.jsx(tr,{primary:x.name,secondary:o.jsxs(ne,{children:[o.jsx(W,{variant:"body2",children:x.description}),o.jsxs(ne,{mt:1,children:[o.jsx(Tr,{size:"small",label:`-${x.discount}%`,color:"primary",sx:{mr:1}}),x.validUntil&&o.jsx(Tr,{size:"small",label:`До ${new Date(x.validUntil).toLocaleDateString("ru-RU")}`,variant:"outlined"})]})]})}),o.jsx(ls,{children:o.jsx(ln,{onClick:()=>y(x.id),children:o.jsx(xs,{})})})]},x.id))})]})})})]}),o.jsxs(or,{open:c,onClose:()=>d(!1),maxWidth:"sm",fullWidth:!0,children:[o.jsx(Cr,{children:"Создать акцию"}),o.jsxs(ir,{children:[o.jsx(Ye,{autoFocus:!0,margin:"dense",label:"Название акции",fullWidth:!0,variant:"outlined",value:u.name,onChange:x=>p(w=>({...w,name:x.target.value})),sx:{mb:2}}),o.jsx(Ye,{margin:"dense",label:"Описание",fullWidth:!0,multiline:!0,rows:3,variant:"outlined",value:u.description,onChange:x=>p(w=>({...w,description:x.target.value})),sx:{mb:2}}),o.jsx(Ye,{margin:"dense",label:"Размер скидки (%)",type:"number",fullWidth:!0,variant:"outlined",value:u.discount,onChange:x=>p(w=>({...w,discount:parseInt(x.target.value)||0})),sx:{mb:2}}),o.jsx(Ye,{margin:"dense",label:"Действует до",type:"date",fullWidth:!0,variant:"outlined",InputLabelProps:{shrink:!0},value:u.validUntil,onChange:x=>p(w=>({...w,validUntil:x.target.value}))})]}),o.jsxs(br,{children:[o.jsx(_e,{onClick:()=>d(!1),children:"Отмена"}),o.jsx(_e,{onClick:m,variant:"contained",children:"Создать"})]})]})]})}async function yx(e){try{console.log("Тестирование через Cloud Function...");const t=by(void 0,"europe-west1"),r=await Cy(t,"testEmailSending")({testEmail:e});return console.log("✅ Результат отправки через функцию:",r.data),r.data}catch(t){console.error("❌ Ошибка при отправке через функцию:",t),console.log("Попытка отправки напрямую в коллекцию mail...");try{const n=await gr(Pe(se,"mail"),{to:e,message:{subject:"Тест Email Extension - Все Корты",text:"Если вы видите это письмо, значит Firebase Extension работает корректно!",html:`
            <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
              <h2 style="color: #00A86B;">✅ Тест Email Extension</h2>
              <p>Если вы видите это письмо, значит Firebase Extension для отправки email работает корректно!</p>
              <hr style="border: 1px solid #eee; margin: 20px 0;">
              <p style="color: #666; font-size: 14px;">
                Отправлено через Firebase Extension (firestore-send-email)<br>
                Время: ${new Date().toLocaleString("ru-RU")}
              </p>
            </div>
          `}});return console.log("✅ Email добавлен в очередь отправки:",n.id),{success:!0,message:"Email добавлен в очередь",mailId:n.id}}catch(n){throw console.error("❌ Ошибка при добавлении в коллекцию mail:",n),n}}}typeof window<"u"&&(window.testEmailExtension=yx);const WA=({defaultEmail:e=""})=>{const[t,n]=f.useState(!1),[r,s]=f.useState(e),[i,a]=f.useState(!1),[l,c]=f.useState(null),d=async()=>{if(!r||!r.includes("@")){c({success:!1,message:"Введите корректный email"});return}a(!0),c(null);try{const u=await yx(r);c({success:!0,message:`Тестовое письмо отправлено на ${r}`})}catch(u){c({success:!1,message:u.message||"Ошибка при отправке"})}finally{a(!1)}};return o.jsxs(o.Fragment,{children:[o.jsx(_e,{variant:"contained",startIcon:o.jsx(Bd,{}),onClick:()=>n(!0),color:"primary",children:"Отправить тестовое письмо"}),o.jsxs(or,{open:t,onClose:()=>n(!1),maxWidth:"sm",fullWidth:!0,children:[o.jsx(Cr,{children:"Тестирование отправки Email"}),o.jsx(ir,{children:o.jsxs(ne,{sx:{mt:2},children:[o.jsx(Ye,{fullWidth:!0,label:"Email для теста",type:"email",value:r,onChange:u=>s(u.target.value),disabled:i,helperText:"Введите email, на который будет отправлено тестовое письмо"}),l&&o.jsx(lt,{severity:l.success?"success":"error",sx:{mt:2},children:l.message})]})}),o.jsxs(br,{children:[o.jsx(_e,{onClick:()=>n(!1),disabled:i,children:"Отмена"}),o.jsx(_e,{onClick:d,variant:"contained",disabled:i||!r,startIcon:i?o.jsx(Cn,{size:20}):o.jsx(Bd,{}),children:i?"Отправка...":"Отправить"})]})]})]})};function HA(){const{admin:e}=Ht(),{isSuperAdmin:t}=sn(),n=Sn(),[r,s]=f.useState({superAdminEmails:[]}),[i,a]=f.useState(""),[l,c]=f.useState(!0),[d,u]=f.useState(!1),[p,h]=f.useState(!1),[g,v]=f.useState("");Fe.useEffect(()=>{t?m():n("/admin/dashboard")},[t,n]);const m=async()=>{try{const C=Ie(se,"settings","notifications"),j=await St(C);if(j.exists()){const _=j.data();s(_)}}catch(C){console.error("Error loading notification settings:",C),v("Ошибка загрузки настроек")}finally{c(!1)}},y=C=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(C),x=async()=>{if(!i){v("Введите email");return}if(!y(i)){v("Неверный формат email");return}if(r.superAdminEmails.includes(i)){v("Этот email уже добавлен");return}u(!0),v("");try{const C=[...r.superAdminEmails,i],j=Ie(se,"settings","notifications");await Xm(j,{superAdminEmails:C,updatedAt:new Date},{merge:!0}),s({...r,superAdminEmails:C}),a(""),h(!0)}catch(C){console.error("Error adding email:",C),v("Ошибка при добавлении email")}finally{u(!1)}},w=async C=>{u(!0),v("");try{const j=r.superAdminEmails.filter(S=>S!==C),_=Ie(se,"settings","notifications");await Ft(_,{superAdminEmails:j,updatedAt:new Date}),s({...r,superAdminEmails:j}),h(!0)}catch(j){console.error("Error removing email:",j),v("Ошибка при удалении email")}finally{u(!1)}};return t?o.jsxs(ne,{sx:{p:3},children:[o.jsxs(ne,{sx:{mb:4,display:"flex",alignItems:"center",gap:2},children:[o.jsx(yp,{sx:{fontSize:32,color:"primary.main"}}),o.jsx(W,{variant:"h4",fontWeight:"bold",children:"Системные настройки"})]}),o.jsx(lt,{severity:"info",sx:{mb:3},children:"Данный раздел доступен только суперадминистраторам системы"}),o.jsxs(Ae,{container:!0,spacing:3,children:[o.jsx(Ae,{item:!0,xs:12,children:o.jsx(ot,{children:o.jsxs(it,{children:[o.jsxs(ne,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[o.jsx(Fd,{color:"primary"}),o.jsx(W,{variant:"h6",children:"Email уведомления для суперадминистраторов"})]}),o.jsx(W,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Эти email адреса будут получать уведомления о новых регистрациях клубов и других важных событиях"}),o.jsx(Lr,{sx:{my:2}}),l?o.jsx(ne,{sx:{display:"flex",justifyContent:"center",py:3},children:o.jsx(Cn,{})}):o.jsxs(o.Fragment,{children:[o.jsx(ne,{sx:{mb:3},children:o.jsxs(ne,{sx:{display:"flex",gap:2,mb:2},children:[o.jsx(Ye,{fullWidth:!0,size:"small",label:"Email для уведомлений",value:i,onChange:C=>a(C.target.value),onKeyPress:C=>{C.key==="Enter"&&x()},error:!!g,helperText:g,disabled:d}),o.jsx(_e,{variant:"contained",onClick:x,disabled:d||!i,startIcon:o.jsx(Xi,{}),children:"Добавить"})]})}),o.jsx(mo,{sx:{maxHeight:300,overflow:"auto"},children:r.superAdminEmails.length===0?o.jsx(er,{children:o.jsx(tr,{primary:"Нет добавленных email адресов",primaryTypographyProps:{color:"text.secondary",align:"center"}})}):r.superAdminEmails.map(C=>o.jsxs(er,{children:[o.jsx(tr,{primary:C,primaryTypographyProps:{fontWeight:500}}),o.jsx(ls,{children:o.jsx(ln,{edge:"end","aria-label":"delete",onClick:()=>w(C),disabled:d,children:o.jsx(xs,{})})})]},C))})]})]})})}),o.jsx(Ae,{item:!0,xs:12,md:6,children:o.jsx(ot,{children:o.jsxs(it,{children:[o.jsxs(ne,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[o.jsx(Fd,{color:"primary"}),o.jsx(W,{variant:"h6",children:"Email уведомления"})]}),o.jsx(W,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Тестирование работы email уведомлений системы"}),o.jsx(Lr,{sx:{my:2}}),o.jsxs(ne,{sx:{mb:2},children:[o.jsx(W,{variant:"subtitle2",gutterBottom:!0,children:"Текущие настройки:"}),o.jsx(W,{variant:"body2",color:"text.secondary",children:"SMTP сервер: smtp.timeweb.ru:465"}),o.jsx(W,{variant:"body2",color:"text.secondary",children:"От кого: noreply@allcourt.ru"}),o.jsx(W,{variant:"body2",color:"text.secondary",children:"Reply-to: support@allcourt.ru"})]}),o.jsxs(ne,{sx:{mt:3},children:[o.jsx(W,{variant:"subtitle2",gutterBottom:!0,children:"Действия:"}),o.jsx(WA,{defaultEmail:(e==null?void 0:e.email)||""}),o.jsx(W,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:1},children:"Нажмите кнопку для отправки тестового письма"})]})]})})}),o.jsx(Ae,{item:!0,xs:12,md:6,children:o.jsx(ot,{children:o.jsxs(it,{children:[o.jsxs(ne,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[o.jsx(vp,{color:"primary"}),o.jsx(W,{variant:"h6",children:"Безопасность"})]}),o.jsx(W,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Настройки безопасности и доступа"}),o.jsx(Lr,{sx:{my:2}}),o.jsx(W,{variant:"body2",color:"text.secondary",children:"Раздел в разработке"})]})})}),o.jsx(Ae,{item:!0,xs:12,md:6,children:o.jsx(ot,{children:o.jsxs(it,{children:[o.jsxs(ne,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[o.jsx(JN,{color:"primary"}),o.jsx(W,{variant:"h6",children:"База данных"})]}),o.jsx(W,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Информация о базе данных"}),o.jsx(Lr,{sx:{my:2}}),o.jsxs(ne,{children:[o.jsx(W,{variant:"subtitle2",gutterBottom:!0,children:"Firestore:"}),o.jsx(W,{variant:"body2",color:"text.secondary",children:"Проект: sports-booking-app-1d7e5"}),o.jsx(W,{variant:"body2",color:"text.secondary",children:"Регион: europe-west1"})]})]})})})]}),o.jsx(Xy,{open:p,autoHideDuration:3e3,onClose:()=>h(!1),message:"Настройки сохранены"})]}):null}function UA(){const{user:e}=Ht(),[t,n]=f.useState(null),[r,s]=f.useState("");return f.useEffect(()=>{(async()=>{if(!(e!=null&&e.email)){s("No user logged in");return}try{const a=Ge(Pe(se,"admins"),Ee("email","==",e.email)),l=await qe(a);if(l.empty)n({exists:!1,searchedEmail:e.email});else{const c=l.docs[0];n({id:c.id,data:c.data(),exists:!0})}}catch(a){s(a.message)}})()},[e]),o.jsxs(ne,{sx:{p:3},children:[o.jsx(W,{variant:"h4",gutterBottom:!0,children:"Debug Information"}),o.jsx(ot,{sx:{mb:2},children:o.jsxs(it,{children:[o.jsx(W,{variant:"h6",children:"Current User"}),o.jsx("pre",{children:JSON.stringify(e,null,2)})]})}),o.jsx(ot,{sx:{mb:2},children:o.jsxs(it,{children:[o.jsx(W,{variant:"h6",children:"Admin Search Result"}),o.jsx("pre",{children:JSON.stringify(t,null,2)})]})}),r&&o.jsx(ot,{children:o.jsxs(it,{children:[o.jsx(W,{variant:"h6",color:"error",children:"Error"}),o.jsx(W,{children:r})]})})]})}class VA extends f.Component{constructor(n){super(n);Ip(this,"handleReset",()=>{this.setState({hasError:!1,error:void 0})});this.state={hasError:!1}}static getDerivedStateFromError(n){return{hasError:!0,error:Vd(n)}}componentDidCatch(n,r){const s=Vd(n);ox(s,{componentStack:r.componentStack,errorBoundary:!0})}render(){return this.state.hasError&&this.state.error?this.props.fallback?this.props.fallback(this.state.error,this.handleReset):o.jsx(ne,{sx:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"400px",p:3},children:o.jsxs(fn,{elevation:3,sx:{p:4,maxWidth:500,textAlign:"center"},children:[o.jsx(FN,{sx:{fontSize:64,color:"error.main",mb:2}}),o.jsx(W,{variant:"h5",gutterBottom:!0,children:"Что-то пошло не так"}),o.jsx(W,{variant:"body1",color:"text.secondary",paragraph:!0,children:this.state.error.message}),!1,o.jsx(_e,{variant:"contained",startIcon:o.jsx(XN,{}),onClick:this.handleReset,sx:{mt:3},children:"Попробовать снова"})]})}):this.props.children}}const YA="modulepreload",GA=function(e){return"/admin/"+e},xm={},qA=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=GA(c),c in xm)return;xm[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":YA,d||(p.as="script"),p.crossOrigin="",p.href=c,l&&p.setAttribute("nonce",l),document.head.appendChild(p),d)return new Promise((h,g)=>{p.addEventListener("load",h),p.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},Se={loadingContainer:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},loadingContent:{textAlign:"center"},spinner:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"},errorContainer:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},errorCard:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},errorIcon:{fontSize:"48px",marginBottom:"var(--spacing-md)"},errorTitle:{marginBottom:"var(--spacing-sm)"},errorText:{color:"var(--text-secondary)"},pageContainer:{minHeight:"100vh",backgroundColor:"var(--background)"},heroImage:{width:"100%",height:"100%",objectFit:"cover",cursor:"pointer"},heroPlaceholder:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"8px",backgroundColor:"var(--extra-light-gray)"},heroPlaceholderIcon:{fontSize:"48px",color:"var(--light-gray)"},heroPlaceholderText:{color:"var(--gray)"},desktopGallery:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"var(--spacing-md)",marginBottom:"var(--spacing-xl)"},galleryImage:{width:"100%",height:"150px",objectFit:"cover",borderRadius:"var(--radius-md)",cursor:"pointer",transition:"transform 0.2s"},mobileGallery:{display:"flex",gap:"var(--spacing-sm)",overflowX:"auto",marginBottom:"var(--spacing-lg)",paddingBottom:"var(--spacing-sm)",WebkitOverflowScrolling:"touch"},mobileGalleryImage:{minWidth:"120px",width:"120px",height:"80px",objectFit:"cover",borderRadius:"var(--radius-sm)",cursor:"pointer"},clubInfoWrapper:{marginBottom:"var(--spacing-xl)"},clubTitle:{marginBottom:"var(--spacing-sm)"},clubInfoItems:{display:"flex",flexWrap:"wrap",gap:"var(--spacing-lg)",marginBottom:"var(--spacing-lg)"},infoItem:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},infoIcon:{color:"var(--gray)",fontSize:"var(--icon-size-md)"},descriptionSection:{marginBottom:"var(--spacing-lg)"},descriptionText:{color:"var(--text-secondary)",lineHeight:1.6},courtsWrapper:{marginBottom:"var(--spacing-lg)"},courtsWrapperDesktop:{marginBottom:"0"},courtsTitle:{marginBottom:"var(--spacing-lg)"},noCourtsCard:{textAlign:"center",padding:"var(--spacing-3xl)"},noCourtsIcon:{fontSize:"48px",color:"var(--light-gray)"},noCourtsText:{color:"var(--gray)",marginTop:"var(--spacing-md)"},courtCardContent:{display:"flex",justifyContent:"space-between",alignItems:"center"},courtInfo:{flex:1},courtName:{marginBottom:"var(--spacing-xs)"},courtDetails:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)",flexWrap:"wrap"},courtPricing:{textAlign:"right",minWidth:"120px"},courtPrice:{color:"var(--primary)"},courtPriceUnit:{color:"var(--gray)"},courtIndoor:{color:"var(--gray)"},courtSurface:{color:"var(--gray)"},sidebarBookingCard:{marginBottom:"var(--spacing-lg)"},selectedCourtSection:{marginBottom:"var(--spacing-xs)"},selectedCourtDetails:{display:"flex",justifyContent:"space-between",alignItems:"center"},selectedCourtType:{color:"var(--gray)"},selectedCourtPrice:{color:"var(--primary)"}},KA={contentPadding:{padding:"var(--spacing-xl)"}},Zc={container:{maxWidth:"1200px",margin:"0 auto",display:"grid",gridTemplateColumns:"1fr 400px",gap:"var(--spacing-2xl)",padding:"var(--spacing-2xl)",minHeight:"calc(100vh - 350px)"},mainContent:{flex:1},sidebar:{position:"sticky",top:"var(--spacing-2xl)",height:"fit-content",display:"flex",flexDirection:"column",gap:"var(--spacing-lg)"}};function Jc({src:e,alt:t,className:n,style:r,onClick:s,loading:i="lazy",onMouseOver:a,onMouseOut:l}){const[c,d]=f.useState(i==="eager"),[u,p]=f.useState(!1),h=f.useRef(null);return f.useEffect(()=>{if(i==="eager"||!h.current)return;const g=new IntersectionObserver(v=>{v.forEach(m=>{m.isIntersecting&&(d(!0),g.unobserve(m.target))})},{rootMargin:"50px"});return g.observe(h.current),()=>{h.current&&g.unobserve(h.current)}},[i]),u?o.jsx("div",{style:{...r,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"var(--extra-light-gray)",color:"var(--gray)"},className:n,children:o.jsx("span",{children:"📷"})}):o.jsx("img",{ref:h,src:c?e:void 0,alt:t,className:n,style:r,onClick:s,onMouseOver:a,onMouseOut:l,onError:()=>p(!0),loading:i})}const QA=Fe.lazy(()=>qA(()=>import("./BookingModal-DoiV5s5j.js"),__vite__mapDeps([0,1,2]))),bm={padel:"#3B82F6",tennis:"#00D632",badminton:"#F59E0B"},ed={padel:"Падел",tennis:"Теннис",badminton:"Бадминтон"},Cm={parking:"Парковка",showers:"Душевые",cafe:"Кафе",lockers:"Шкафчики",shop:"Магазин",wifi:"Wi-Fi",changing_rooms:"Раздевалки",equipment_rental:"Прокат снаряжения"};function XA(){const{clubId:e}=xo();Sn();const[t,n]=f.useState(null),[r,s]=f.useState([]),[i,a]=f.useState(!0),[l,c]=f.useState(""),[d,u]=f.useState(null),[p,h]=f.useState(!1),[g,v]=f.useState(!1),[m,y]=f.useState(0);f.useEffect(()=>{var k;if((k=t==null?void 0:t.photos)!=null&&k[0]){const M=document.createElement("link");return M.rel="preload",M.as="image",M.href=t.photos[0],document.head.appendChild(M),()=>{document.head.removeChild(M)}}},[t==null?void 0:t.photos]),f.useEffect(()=>{const k=performance.now();if(x().then(()=>{const M=performance.now()-k;console.log(`ClubPage loaded in ${M.toFixed(0)}ms`)}),e){const M=yr(Ge(Pe(se,"venues",e,"courts"),Ee("status","==","active")),N=>{const L=N.docs.map(R=>({id:R.id,...R.data()}));s(L)},N=>{console.error("Error listening to courts updates:",N)});return()=>M()}},[e]),f.useEffect(()=>{if(g){const k=M=>{M.key==="Escape"?_():M.key==="ArrowLeft"?S("prev"):M.key==="ArrowRight"&&S("next")};return document.addEventListener("keydown",k),()=>{document.removeEventListener("keydown",k)}}},[g]);const x=async()=>{if(!e){c("ID клуба не указан"),a(!1);return}try{const[k,M]=await Promise.all([St(Ie(se,"venues",e)),qe(Ge(Pe(se,"venues",e,"courts"),Ee("status","==","active")))]);if(!k.exists()){c("Клуб не найден"),a(!1);return}const N={id:k.id,...k.data()};if(k.data().status!=="active"){c("Клуб временно недоступен"),a(!1);return}console.log("Loaded venue data:",N);const L=M.docs.map(R=>({id:R.id,...R.data()}));n(N),s(L),a(!1)}catch(k){console.error("Error loading venue:",k),c("Ошибка при загрузке данных клуба"),a(!1)}},w=k=>{u(k)},C=()=>{if(d){if(!T){alert("Этот клуб находится на модерации и временно недоступен для бронирования.");return}console.log("Opening booking modal, venue:",t,"court:",d),h(!0)}},j=k=>{y(k),v(!0)},_=()=>{v(!1)},S=k=>{t!=null&&t.photos&&y(k==="prev"?M=>M===0?t.photos.length-1:M-1:M=>M===t.photos.length-1?0:M+1)};if(i)return o.jsxs("div",{style:Se.loadingContainer,children:[o.jsxs("div",{style:Se.loadingContent,children:[o.jsx("div",{className:"spinner",style:Se.spinner}),o.jsx("p",{className:"body-small",children:"Загрузка..."})]}),o.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]});if(l)return o.jsx("div",{style:Se.errorContainer,children:o.jsxs("div",{className:"flutter-card",style:Se.errorCard,children:[o.jsx("div",{style:Se.errorIcon,children:"❌"}),o.jsx("h2",{className:"h2",style:Se.errorTitle,children:"Ошибка"}),o.jsx("p",{className:"body",style:Se.errorText,children:l})]})});if(!t)return null;const E=window.innerWidth>768,T=t.status==="active";return o.jsxs("div",{style:Se.pageContainer,children:[!T&&o.jsx("div",{style:{backgroundColor:"#fff3cd",borderBottom:"1px solid #ffeaa7",padding:"var(--spacing-lg)",textAlign:"center"},children:o.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto"},children:[o.jsx("h3",{className:"h3",style:{color:"#856404",marginBottom:"var(--spacing-sm)"},children:"Клуб находится на модерации"}),o.jsx("p",{className:"body",style:{color:"#856404"},children:"Данный клуб еще не прошел проверку и временно недоступен для бронирования. Страница будет активирована после проверки администратором."})]})}),E&&o.jsx("div",{className:"hero-image",children:t.photos&&t.photos.length>0?o.jsx(Jc,{loading:"eager",src:t.photos[0],alt:t.name,style:Se.heroImage,onClick:()=>j(0)}):o.jsxs("div",{style:Se.heroPlaceholder,children:[o.jsx("span",{style:Se.heroPlaceholderIcon,children:"🏸"}),o.jsx("span",{className:"body-small",style:Se.heroPlaceholderText,children:"Фото клуба"})]})}),o.jsxs("div",{style:E?Zc.container:{...KA.contentPadding,paddingBottom:"calc(140px + var(--spacing-xl))"},children:[o.jsxs("div",{style:E?Zc.mainContent:{},children:[E&&t.photos&&t.photos.length>0&&o.jsx("div",{style:Se.desktopGallery,children:t.photos.map((k,M)=>o.jsx(Jc,{loading:"lazy",src:k,alt:`${t.name} - фото ${M+1}`,className:"gallery-image",style:Se.galleryImage,onMouseOver:N=>N.currentTarget.style.transform="scale(1.05)",onMouseOut:N=>N.currentTarget.style.transform="scale(1)",onClick:()=>j(M)},M))}),!E&&t.photos&&t.photos.length>0&&o.jsx("div",{style:Se.mobileGallery,children:t.photos.map((k,M)=>o.jsx(Jc,{loading:"lazy",src:k,alt:`${t.name} - фото ${M+1}`,style:Se.mobileGalleryImage,onClick:()=>j(M)},M))}),o.jsxs("div",{style:Se.clubInfoWrapper,children:[o.jsx("h1",{className:"h1",style:Se.clubTitle,children:t.name}),o.jsxs("div",{style:Se.clubInfoItems,children:[o.jsxs("div",{style:Se.infoItem,children:[o.jsx("span",{style:Se.infoIcon,children:"📍"}),o.jsx("span",{className:"body",children:t.address})]}),t.phone&&o.jsxs("div",{style:Se.infoItem,children:[o.jsx("span",{style:Se.infoIcon,children:"📞"}),o.jsx("span",{className:"body",children:t.phone})]})]})]}),!E&&o.jsxs("div",{style:Se.courtsWrapper,children:[o.jsx("h3",{className:"h2",style:Se.courtsTitle,children:"Доступные корты"}),r.length===0?o.jsxs("div",{className:"flutter-card",style:Se.noCourtsCard,children:[o.jsx("span",{style:Se.noCourtsIcon,children:"🎾"}),o.jsx("p",{className:"body",style:Se.noCourtsText,children:"Нет доступных кортов"})]}):o.jsx("div",{children:r.map(k=>{const M=(d==null?void 0:d.id)===k.id;return o.jsx("div",{className:`court-card ${M?"selected":""}`,onClick:()=>w(k),children:o.jsxs("div",{style:Se.courtCardContent,children:[o.jsxs("div",{style:Se.courtInfo,children:[o.jsx("h4",{className:"body-bold",style:Se.courtName,children:k.name}),o.jsxs("div",{style:Se.courtDetails,children:[o.jsx("span",{className:`sport-chip ${k.type}`,style:{backgroundColor:bm[k.type]},children:ed[k.type]}),k.indoor&&o.jsx("span",{className:"caption",style:Se.courtIndoor,children:"Крытый"}),k.surface&&o.jsxs("span",{className:"caption",style:Se.courtSurface,children:["• ",k.surface]})]})]}),o.jsxs("div",{style:Se.courtPricing,children:[o.jsxs("div",{className:"h3",style:Se.courtPrice,children:[k.pricePerHour||k.priceWeekday||0,"₽"]}),o.jsx("div",{className:"caption",style:Se.courtPriceUnit,children:"за час"})]})]})},k.id)})})]}),!E&&t.description&&o.jsxs("div",{className:"info-section",style:Se.descriptionSection,children:[o.jsx("h3",{className:"info-section-title",children:"О клубе"}),o.jsx("p",{className:"body",style:Se.descriptionText,children:t.description})]}),!E&&o.jsxs(o.Fragment,{children:[t.workingHours&&o.jsxs("div",{className:"info-section",style:{marginBottom:"var(--spacing-lg)"},children:[o.jsx("h3",{className:"info-section-title",children:"Часы работы"}),o.jsxs("div",{style:{display:"grid",gap:"var(--spacing-xs)"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("span",{className:"body",children:"Будние дни (пн-пт)"}),o.jsx("span",{className:"body",style:{color:"var(--gray)"},children:t.workingHours.weekday||"07:00-23:00"})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("span",{className:"body",children:"Выходные (сб-вс)"}),o.jsx("span",{className:"body",style:{color:"var(--gray)"},children:t.workingHours.weekend||"08:00-22:00"})]})]})]}),t.amenities&&t.amenities.length>0&&o.jsxs("div",{className:"info-section",style:{marginBottom:"var(--spacing-lg)"},children:[o.jsx("h3",{className:"info-section-title",children:"Удобства"}),o.jsx("div",{style:{display:"flex",flexWrap:"wrap"},children:t.amenities.map(k=>o.jsxs("div",{className:"amenity-item",children:[o.jsx("span",{className:"check-icon",children:"✓"}),o.jsx("span",{className:"body",children:Cm[k]||k})]},k))})]})]}),E&&o.jsxs("div",{style:Se.courtsWrapperDesktop,children:[o.jsx("h3",{className:"h2",style:Se.courtsTitle,children:"Доступные корты"}),r.length===0?o.jsxs("div",{className:"flutter-card",style:Se.noCourtsCard,children:[o.jsx("span",{style:Se.noCourtsIcon,children:"🎾"}),o.jsx("p",{className:"body",style:Se.noCourtsText,children:"Нет доступных кортов"})]}):o.jsx("div",{className:"courts-grid",children:r.map(k=>{const M=(d==null?void 0:d.id)===k.id;return o.jsx("div",{className:`court-card ${M?"selected":""}`,onClick:()=>w(k),children:o.jsxs("div",{style:Se.courtCardContent,children:[o.jsxs("div",{style:Se.courtInfo,children:[o.jsx("h4",{className:"body-bold",style:Se.courtName,children:k.name}),o.jsxs("div",{style:Se.courtDetails,children:[o.jsx("span",{className:`sport-chip ${k.type}`,style:{backgroundColor:bm[k.type]},children:ed[k.type]}),k.indoor&&o.jsx("span",{className:"caption",style:Se.courtIndoor,children:"Крытый"}),k.surface&&o.jsxs("span",{className:"caption",style:Se.courtSurface,children:["• ",k.surface]})]})]}),o.jsxs("div",{style:Se.courtPricing,children:[o.jsxs("div",{className:"h3",style:Se.courtPrice,children:[k.pricePerHour||k.priceWeekday||0,"₽"]}),o.jsx("div",{className:"caption",style:Se.courtPriceUnit,children:"за час"})]})]})},k.id)})})]}),E&&t.description&&o.jsxs("div",{className:"info-section",style:Se.descriptionSection,children:[o.jsx("h3",{className:"info-section-title",children:"О клубе"}),o.jsx("p",{className:"body",style:Se.descriptionText,children:t.description})]})]}),E&&o.jsxs("div",{style:Zc.sidebar,children:[o.jsxs("div",{className:"sticky-bottom-bar",style:Se.sidebarBookingCard,children:[d&&o.jsxs("div",{className:"selected-court-summary",children:[o.jsx("h4",{className:"body-bold",style:Se.selectedCourtSection,children:d.name}),o.jsxs("div",{style:Se.selectedCourtDetails,children:[o.jsx("span",{className:"body-small",style:Se.selectedCourtType,children:ed[d.type]}),o.jsxs("span",{className:"body-bold",style:Se.selectedCourtPrice,children:[d.pricePerHour||d.priceWeekday||0,"₽/час"]})]})]}),o.jsx("button",{className:"flutter-button",style:{width:"100%",marginBottom:"var(--spacing-md)"},onClick:C,disabled:!d,children:d?"Выбрать время":"Выберите корт"}),o.jsxs("div",{style:{textAlign:"center",padding:"var(--spacing-md)",backgroundColor:"var(--background)",borderRadius:"var(--radius-md)",marginTop:"var(--spacing-lg)"},children:[o.jsx("p",{className:"caption",style:{color:"var(--gray)",marginBottom:"var(--spacing-sm)"},children:"Удобнее в приложении"}),o.jsx("button",{style:{background:"var(--secondary)",color:"white",border:"none",borderRadius:"var(--radius-sm)",padding:"var(--spacing-xs) var(--spacing-md)",fontSize:"var(--text-caption)",fontWeight:"600",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"var(--spacing-xs)"},onClick:()=>{window.location.href=`allcourts://club/${e}`},children:"📱 Открыть в приложении"})]})]}),t.workingHours&&o.jsxs("div",{className:"info-section",style:{marginBottom:"var(--spacing-lg)"},children:[o.jsx("h3",{className:"info-section-title",children:"Часы работы"}),o.jsxs("div",{style:{display:"grid",gap:"var(--spacing-xs)"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("span",{className:"caption",children:"Будние дни (пн-пт)"}),o.jsx("span",{className:"caption",style:{color:"var(--gray)"},children:t.workingHours.weekday||"07:00-23:00"})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("span",{className:"caption",children:"Выходные (сб-вс)"}),o.jsx("span",{className:"caption",style:{color:"var(--gray)"},children:t.workingHours.weekend||"08:00-22:00"})]})]})]}),t.amenities&&t.amenities.length>0&&o.jsxs("div",{className:"info-section",children:[o.jsx("h3",{className:"info-section-title",children:"Удобства"}),o.jsx("div",{style:{display:"grid",gap:"var(--spacing-xs)"},children:t.amenities.map(k=>o.jsxs("div",{className:"amenity-item",style:{background:"transparent",padding:"var(--spacing-xs) 0",margin:0},children:[o.jsx("span",{className:"check-icon",children:"✓"}),o.jsx("span",{className:"caption",children:Cm[k]||k})]},k))})]})]})]}),!E&&o.jsx("div",{className:"sticky-bottom-bar",children:o.jsx("button",{className:"flutter-button",style:{width:"100%"},onClick:C,disabled:!d,children:d?`Выбрать время для ${d.name}`:"Выберите корт"})}),!E&&o.jsx("div",{className:"mobile-app-promo",style:{position:"fixed",bottom:"140px",right:"20px",zIndex:99},children:o.jsx("button",{style:{background:"var(--secondary)",color:"white",border:"none",borderRadius:"var(--radius-full)",padding:"var(--spacing-sm) var(--spacing-md)",fontSize:"var(--text-caption)",fontWeight:"600",boxShadow:"var(--shadow-lg)",cursor:"pointer",display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},onClick:()=>{window.location.href=`allcourts://club/${e}`},children:"📱 Открыть в приложении"})}),d&&t&&o.jsx(Fe.Suspense,{fallback:o.jsx("div",{}),children:o.jsx(QA,{isOpen:p,onClose:()=>h(!1),court:d,venue:t})}),g&&(t==null?void 0:t.photos)&&o.jsx("div",{className:"modal-backdrop",onClick:_,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.95)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center",padding:"var(--spacing-xl)"},children:o.jsxs("div",{onClick:k=>k.stopPropagation(),style:{position:"relative",maxWidth:"90vw",maxHeight:"90vh",display:"flex",alignItems:"center",justifyContent:"center"},children:[o.jsx("button",{onClick:_,style:{position:"absolute",top:"-40px",right:"0",background:"none",border:"none",color:"white",fontSize:"28px",cursor:"pointer",padding:"8px",zIndex:10,lineHeight:1},"aria-label":"Закрыть",children:"✕"}),t.photos.length>1&&o.jsx("button",{onClick:()=>S("prev"),style:{position:"absolute",left:window.innerWidth>768?"-50px":"10px",top:"50%",transform:"translateY(-50%)",background:"rgba(255, 255, 255, 0.1)",border:"none",color:"white",fontSize:"24px",cursor:"pointer",width:"40px",height:"40px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",transition:"background 0.2s",zIndex:5},onMouseEnter:k=>k.currentTarget.style.background="rgba(255, 255, 255, 0.2)",onMouseLeave:k=>k.currentTarget.style.background="rgba(255, 255, 255, 0.1)","aria-label":"Предыдущее фото",children:"←"}),o.jsx("img",{src:t.photos[m],alt:`${t.name} - фото ${m+1}`,style:{maxWidth:"100%",maxHeight:"90vh",objectFit:"contain",borderRadius:"var(--radius-md)"}}),t.photos.length>1&&o.jsx("button",{onClick:()=>S("next"),style:{position:"absolute",right:window.innerWidth>768?"-50px":"10px",top:"50%",transform:"translateY(-50%)",background:"rgba(255, 255, 255, 0.1)",border:"none",color:"white",fontSize:"24px",cursor:"pointer",width:"40px",height:"40px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",transition:"background 0.2s",zIndex:5},onMouseEnter:k=>k.currentTarget.style.background="rgba(255, 255, 255, 0.2)",onMouseLeave:k=>k.currentTarget.style.background="rgba(255, 255, 255, 0.1)","aria-label":"Следующее фото",children:"→"}),t.photos.length>1&&o.jsxs("div",{style:{position:"absolute",bottom:"-30px",left:"50%",transform:"translateX(-50%)",color:"white",fontSize:"14px",fontWeight:"500"},children:[m+1," / ",t.photos.length]})]})})]})}function Xe(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function de(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function me(e){de(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||jr(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Hr(e,t){de(2,arguments);var n=me(e),r=Xe(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function fc(e,t){de(2,arguments);var n=me(e).getTime(),r=Xe(t);return new Date(n+r)}function ZA(e,t){de(2,arguments);var n=Xe(t);return fc(e,n*1e3)}var JA=6e4;function nr(e,t){de(2,arguments);var n=Xe(t);return fc(e,n*JA)}var e$=36e5;function t$(e,t){de(2,arguments);var n=Xe(t);return fc(e,n*e$)}function n$(e,t){de(2,arguments);var n=Xe(t),r=n*7;return Hr(e,r)}function Da(e,t){de(2,arguments);var n=me(e),r=Xe(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var s=n.getDate(),i=new Date(n.getTime());i.setMonth(n.getMonth()+r+1,0);var a=i.getDate();return s>=a?i:(n.setFullYear(i.getFullYear(),i.getMonth(),s),n)}function wm(e,t){de(2,arguments);var n=Xe(t);return Da(e,n*12)}function r$(e,t){de(2,arguments);var n=me(e),r=me(t);return n.getFullYear()-r.getFullYear()}function mi(e,t){de(2,arguments);var n=me(e),r=me(t),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function s$(e,t){de(2,arguments);var n=me(e),r=me(t),s=mi(n,r),i=Math.abs(r$(n,r));n.setFullYear(1584),r.setFullYear(1584);var a=mi(n,r)===-s,l=s*(i-Number(a));return l===0?0:l}function o$(e,t){de(2,arguments);var n=me(e),r=me(t),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function Kd(e){de(1,arguments);var t=me(e);return t.setHours(23,59,59,999),t}function Qd(e){de(1,arguments);var t=me(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function i$(e){de(1,arguments);var t=me(e);return Kd(t).getTime()===Qd(t).getTime()}function xx(e,t){de(2,arguments);var n=me(e),r=me(t),s=mi(n,r),i=Math.abs(o$(n,r)),a;if(i<1)a=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);var l=mi(n,r)===-s;i$(me(e))&&i===1&&mi(e,r)===1&&(l=!1),a=s*(i-Number(l))}return a===0?0:a}var Sm={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},a$="trunc";function Zi(e){return e?Sm[e]:Sm[a$]}function l$(e,t,n){de(2,arguments);var r=xx(e,t)/3;return Zi(void 0)(r)}function ll(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Cs(e){de(1,arguments);var t=me(e);return t.setHours(0,0,0,0),t}var c$=864e5;function d$(e,t){de(2,arguments);var n=Cs(e),r=Cs(t),s=n.getTime()-ll(n),i=r.getTime()-ll(r);return Math.round((s-i)/c$)}function jm(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function bx(e,t){de(2,arguments);var n=me(e),r=me(t),s=jm(n,r),i=Math.abs(d$(n,r));n.setDate(n.getDate()-s*i);var a=+(jm(n,r)===-s),l=s*(i-a);return l===0?0:l}function u$(e,t,n){de(2,arguments);var r=bx(e,t)/7;return Zi(void 0)(r)}var mc=6e4,gc=36e5,p$=1e3;function vc(e,t){return de(2,arguments),me(e).getTime()-me(t).getTime()}function h$(e,t,n){de(2,arguments);var r=vc(e,t)/gc;return Zi(void 0)(r)}function f$(e,t,n){de(2,arguments);var r=vc(e,t)/mc;return Zi(void 0)(r)}function m$(e,t,n){de(2,arguments);var r=vc(e,t)/1e3;return Zi(void 0)(r)}function g$(e,t){var n;de(1,arguments);var r=e||{},s=me(r.start),i=me(r.end),a=i.getTime();if(!(s.getTime()<=a))throw new RangeError("Invalid interval");var l=[],c=s;c.setHours(0,0,0,0);var d=Number((n=void 0)!==null&&n!==void 0?n:1);if(d<1||isNaN(d))throw new RangeError("`options.step` must be a number greater than 1");for(;c.getTime()<=a;)l.push(me(c)),c.setDate(c.getDate()+d),c.setHours(0,0,0,0);return l}var v$={};function pr(){return v$}function td(e,t){var n,r,s,i,a,l,c,d;de(1,arguments);var u=pr(),p=Xe((n=(r=(s=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:u.weekStartsOn)!==null&&r!==void 0?r:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=me(e),g=h.getDay(),v=(g<p?-7:0)+6-(g-p);return h.setDate(h.getDate()+v),h.setHours(23,59,59,999),h}function nd(e){de(1,arguments);var t=me(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function y$(e){return de(1,arguments),e instanceof Date||jr(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Cx(e){if(de(1,arguments),!y$(e)&&typeof e!="number")return!1;var t=me(e);return!isNaN(Number(t))}function wx(e,t){de(2,arguments);var n=Xe(t);return fc(e,-n)}var x$=864e5;function b$(e){de(1,arguments);var t=me(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),s=n-r;return Math.floor(s/x$)+1}function vo(e){de(1,arguments);var t=1,n=me(e),r=n.getUTCDay(),s=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function Sx(e){de(1,arguments);var t=me(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=vo(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var a=vo(i);return t.getTime()>=s.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function C$(e){de(1,arguments);var t=Sx(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=vo(n);return r}var w$=6048e5;function jx(e){de(1,arguments);var t=me(e),n=vo(t).getTime()-C$(t).getTime();return Math.round(n/w$)+1}function Mr(e,t){var n,r,s,i,a,l,c,d;de(1,arguments);var u=pr(),p=Xe((n=(r=(s=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:u.weekStartsOn)!==null&&r!==void 0?r:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=me(e),g=h.getUTCDay(),v=(g<p?7:0)+g-p;return h.setUTCDate(h.getUTCDate()-v),h.setUTCHours(0,0,0,0),h}function xp(e,t){var n,r,s,i,a,l,c,d;de(1,arguments);var u=me(e),p=u.getUTCFullYear(),h=pr(),g=Xe((n=(r=(s=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:h.firstWeekContainsDate)!==null&&r!==void 0?r:(c=h.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setUTCFullYear(p+1,0,g),v.setUTCHours(0,0,0,0);var m=Mr(v,t),y=new Date(0);y.setUTCFullYear(p,0,g),y.setUTCHours(0,0,0,0);var x=Mr(y,t);return u.getTime()>=m.getTime()?p+1:u.getTime()>=x.getTime()?p:p-1}function S$(e,t){var n,r,s,i,a,l,c,d;de(1,arguments);var u=pr(),p=Xe((n=(r=(s=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:u.firstWeekContainsDate)!==null&&r!==void 0?r:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=xp(e,t),g=new Date(0);g.setUTCFullYear(h,0,p),g.setUTCHours(0,0,0,0);var v=Mr(g,t);return v}var j$=6048e5;function kx(e,t){de(1,arguments);var n=me(e),r=Mr(n,t).getTime()-S$(n,t).getTime();return Math.round(r/j$)+1}function Oe(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var Ar={y:function(t,n){var r=t.getUTCFullYear(),s=r>0?r:1-r;return Oe(n==="yy"?s%100:s,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):Oe(r+1,2)},d:function(t,n){return Oe(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return Oe(t.getUTCHours()%12||12,n.length)},H:function(t,n){return Oe(t.getUTCHours(),n.length)},m:function(t,n){return Oe(t.getUTCMinutes(),n.length)},s:function(t,n){return Oe(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,s=t.getUTCMilliseconds(),i=Math.floor(s*Math.pow(10,r-3));return Oe(i,n.length)}},$s={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},k$={G:function(t,n,r){var s=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var s=t.getUTCFullYear(),i=s>0?s:1-s;return r.ordinalNumber(i,{unit:"year"})}return Ar.y(t,n)},Y:function(t,n,r,s){var i=xp(t,s),a=i>0?i:1-i;if(n==="YY"){var l=a%100;return Oe(l,2)}return n==="Yo"?r.ordinalNumber(a,{unit:"year"}):Oe(a,n.length)},R:function(t,n){var r=Sx(t);return Oe(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return Oe(r,n.length)},Q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return Oe(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return Oe(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,n,r){var s=t.getUTCMonth();switch(n){case"M":case"MM":return Ar.M(t,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(t,n,r){var s=t.getUTCMonth();switch(n){case"L":return String(s+1);case"LL":return Oe(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(t,n,r,s){var i=kx(t,s);return n==="wo"?r.ordinalNumber(i,{unit:"week"}):Oe(i,n.length)},I:function(t,n,r){var s=jx(t);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):Oe(s,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):Ar.d(t,n)},D:function(t,n,r){var s=b$(t);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):Oe(s,n.length)},E:function(t,n,r){var s=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(t,n,r,s){var i=t.getUTCDay(),a=(i-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(a);case"ee":return Oe(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,n,r,s){var i=t.getUTCDay(),a=(i-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(a);case"cc":return Oe(a,n.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,n,r){var s=t.getUTCDay(),i=s===0?7:s;switch(n){case"i":return String(i);case"ii":return Oe(i,n.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(t,n,r){var s=t.getUTCHours(),i=s/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,n,r){var s=t.getUTCHours(),i;switch(s===12?i=$s.noon:s===0?i=$s.midnight:i=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,n,r){var s=t.getUTCHours(),i;switch(s>=17?i=$s.evening:s>=12?i=$s.afternoon:s>=4?i=$s.morning:i=$s.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var s=t.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Ar.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Ar.H(t,n)},K:function(t,n,r){var s=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):Oe(s,n.length)},k:function(t,n,r){var s=t.getUTCHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):Oe(s,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Ar.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Ar.s(t,n)},S:function(t,n){return Ar.S(t,n)},X:function(t,n,r,s){var i=s._originalDate||t,a=i.getTimezoneOffset();if(a===0)return"Z";switch(n){case"X":return _m(a);case"XXXX":case"XX":return ss(a);case"XXXXX":case"XXX":default:return ss(a,":")}},x:function(t,n,r,s){var i=s._originalDate||t,a=i.getTimezoneOffset();switch(n){case"x":return _m(a);case"xxxx":case"xx":return ss(a);case"xxxxx":case"xxx":default:return ss(a,":")}},O:function(t,n,r,s){var i=s._originalDate||t,a=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+km(a,":");case"OOOO":default:return"GMT"+ss(a,":")}},z:function(t,n,r,s){var i=s._originalDate||t,a=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+km(a,":");case"zzzz":default:return"GMT"+ss(a,":")}},t:function(t,n,r,s){var i=s._originalDate||t,a=Math.floor(i.getTime()/1e3);return Oe(a,n.length)},T:function(t,n,r,s){var i=s._originalDate||t,a=i.getTime();return Oe(a,n.length)}};function km(e,t){var n=e>0?"-":"+",r=Math.abs(e),s=Math.floor(r/60),i=r%60;if(i===0)return n+String(s);var a=t;return n+String(s)+a+Oe(i,2)}function _m(e,t){if(e%60===0){var n=e>0?"-":"+";return n+Oe(Math.abs(e)/60,2)}return ss(e,t)}function ss(e,t){var n=t||"",r=e>0?"-":"+",s=Math.abs(e),i=Oe(Math.floor(s/60),2),a=Oe(s%60,2);return r+i+n+a}var Tm=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},_x=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},_$=function(t,n){var r=t.match(/(P+)(p+)?/)||[],s=r[1],i=r[2];if(!i)return Tm(t,n);var a;switch(s){case"P":a=n.dateTime({width:"short"});break;case"PP":a=n.dateTime({width:"medium"});break;case"PPP":a=n.dateTime({width:"long"});break;case"PPPP":default:a=n.dateTime({width:"full"});break}return a.replace("{{date}}",Tm(s,n)).replace("{{time}}",_x(i,n))},Xd={p:_x,P:_$},T$=["D","DD"],E$=["YY","YYYY"];function Tx(e){return T$.indexOf(e)!==-1}function Ex(e){return E$.indexOf(e)!==-1}function cl(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var M$={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},P$=function(t,n,r){var s,i=M$[t];return typeof i=="string"?s=i:n===1?s=i.one:s=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function Xs(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var I$={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},R$={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},D$={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},N$={date:Xs({formats:I$,defaultWidth:"full"}),time:Xs({formats:R$,defaultWidth:"full"}),dateTime:Xs({formats:D$,defaultWidth:"full"})},A$={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},$$=function(t,n,r,s){return A$[t]};function Kn(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,a=n!=null&&n.width?String(n.width):i;s=e.formattingValues[a]||e.formattingValues[i]}else{var l=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[c]||e.values[l]}var d=e.argumentCallback?e.argumentCallback(t):t;return s[d]}}var O$={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},L$={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},F$={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},z$={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},B$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},W$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},H$=function(t,n){var r=Number(t),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},U$={ordinalNumber:H$,era:Kn({values:O$,defaultWidth:"wide"}),quarter:Kn({values:L$,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Kn({values:F$,defaultWidth:"wide"}),day:Kn({values:z$,defaultWidth:"wide"}),dayPeriod:Kn({values:B$,defaultWidth:"wide",formattingValues:W$,defaultFormattingWidth:"wide"})};function Qn(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;var a=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Y$(l,function(p){return p.test(a)}):V$(l,function(p){return p.test(a)}),d;d=e.valueCallback?e.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;var u=t.slice(a.length);return{value:d,rest:u}}}function V$(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function Y$(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function Mx(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var s=r[0],i=t.match(e.parsePattern);if(!i)return null;var a=e.valueCallback?e.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;var l=t.slice(s.length);return{value:a,rest:l}}}var G$=/^(\d+)(th|st|nd|rd)?/i,q$=/\d+/i,K$={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Q$={any:[/^b/i,/^(a|c)/i]},X$={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Z$={any:[/1/i,/2/i,/3/i,/4/i]},J$={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},eO={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},tO={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},nO={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},rO={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},sO={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},oO={ordinalNumber:Mx({matchPattern:G$,parsePattern:q$,valueCallback:function(t){return parseInt(t,10)}}),era:Qn({matchPatterns:K$,defaultMatchWidth:"wide",parsePatterns:Q$,defaultParseWidth:"any"}),quarter:Qn({matchPatterns:X$,defaultMatchWidth:"wide",parsePatterns:Z$,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Qn({matchPatterns:J$,defaultMatchWidth:"wide",parsePatterns:eO,defaultParseWidth:"any"}),day:Qn({matchPatterns:tO,defaultMatchWidth:"wide",parsePatterns:nO,defaultParseWidth:"any"}),dayPeriod:Qn({matchPatterns:rO,defaultMatchWidth:"any",parsePatterns:sO,defaultParseWidth:"any"})},bp={code:"en-US",formatDistance:P$,formatLong:N$,formatRelative:$$,localize:U$,match:oO,options:{weekStartsOn:0,firstWeekContainsDate:1}},iO=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,aO=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,lO=/^'([^]*?)'?$/,cO=/''/g,dO=/[a-zA-Z]/;function ft(e,t,n){var r,s,i,a,l,c,d,u,p,h,g,v,m,y,x,w,C,j;de(2,arguments);var _=String(t),S=pr(),E=(r=(s=n==null?void 0:n.locale)!==null&&s!==void 0?s:S.locale)!==null&&r!==void 0?r:bp,T=Xe((i=(a=(l=(c=n==null?void 0:n.firstWeekContainsDate)!==null&&c!==void 0?c:n==null||(d=n.locale)===null||d===void 0||(u=d.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&l!==void 0?l:S.firstWeekContainsDate)!==null&&a!==void 0?a:(p=S.locale)===null||p===void 0||(h=p.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=Xe((g=(v=(m=(y=n==null?void 0:n.weekStartsOn)!==null&&y!==void 0?y:n==null||(x=n.locale)===null||x===void 0||(w=x.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&m!==void 0?m:S.weekStartsOn)!==null&&v!==void 0?v:(C=S.locale)===null||C===void 0||(j=C.options)===null||j===void 0?void 0:j.weekStartsOn)!==null&&g!==void 0?g:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!E.localize)throw new RangeError("locale must contain localize property");if(!E.formatLong)throw new RangeError("locale must contain formatLong property");var M=me(e);if(!Cx(M))throw new RangeError("Invalid time value");var N=ll(M),L=wx(M,N),R={firstWeekContainsDate:T,weekStartsOn:k,locale:E,_originalDate:M},P=_.match(aO).map(function(D){var I=D[0];if(I==="p"||I==="P"){var O=Xd[I];return O(D,E.formatLong)}return D}).join("").match(iO).map(function(D){if(D==="''")return"'";var I=D[0];if(I==="'")return uO(D);var O=k$[I];if(O)return!(n!=null&&n.useAdditionalWeekYearTokens)&&Ex(D)&&cl(D,t,String(e)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&Tx(D)&&cl(D,t,String(e)),O(L,D,E.localize,R);if(I.match(dO))throw new RangeError("Format string contains an unescaped latin alphabet character `"+I+"`");return D}).join("");return P}function uO(e){var t=e.match(lO);return t?t[1].replace(cO,"'"):e}function pO(e){de(1,arguments);var t=me(e),n=t.getDate();return n}function Px(e){de(1,arguments);var t=me(e),n=t.getFullYear(),r=t.getMonth(),s=new Date(0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function hO(e){de(1,arguments);var t=me(e),n=t.getHours();return n}function fO(e){de(1,arguments);var t=me(e),n=t.getMinutes();return n}function mO(e){de(1,arguments);var t=me(e),n=t.getMonth();return n}function gO(e){de(1,arguments);var t=me(e),n=t.getSeconds();return n}function vO(e){de(1,arguments);var t=me(e),n=t.getMilliseconds();return n}function us(e,t){var n,r,s,i,a,l,c,d;de(1,arguments);var u=pr(),p=Xe((n=(r=(s=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:u.weekStartsOn)!==null&&r!==void 0?r:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=me(e),g=h.getDay(),v=(g<p?7:0)+g-p;return h.setDate(h.getDate()-v),h.setHours(0,0,0,0),h}function yO(e,t){var n,r,s,i,a,l,c,d;de(1,arguments);var u=me(e),p=u.getFullYear(),h=pr(),g=Xe((n=(r=(s=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:h.firstWeekContainsDate)!==null&&r!==void 0?r:(c=h.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setFullYear(p+1,0,g),v.setHours(0,0,0,0);var m=us(v,t),y=new Date(0);y.setFullYear(p,0,g),y.setHours(0,0,0,0);var x=us(y,t);return u.getTime()>=m.getTime()?p+1:u.getTime()>=x.getTime()?p:p-1}function xO(e,t){var n,r,s,i,a,l,c,d;de(1,arguments);var u=pr(),p=Xe((n=(r=(s=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:u.firstWeekContainsDate)!==null&&r!==void 0?r:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=yO(e,t),g=new Date(0);g.setFullYear(h,0,p),g.setHours(0,0,0,0);var v=us(g,t);return v}var bO=6048e5;function CO(e,t){de(1,arguments);var n=me(e),r=us(n,t).getTime()-xO(n,t).getTime();return Math.round(r/bO)+1}function wO(e){return de(1,arguments),me(e).getFullYear()}function Hn(e,t){de(2,arguments);var n=me(e),r=me(t);return n.getTime()>r.getTime()}function tn(e,t){de(2,arguments);var n=me(e),r=me(t);return n.getTime()<r.getTime()}function SO(e,t){de(2,arguments);var n=me(e),r=me(t);return n.getTime()===r.getTime()}function Ix(e,t){de(2,arguments);var n=Cs(e),r=Cs(t);return n.getTime()===r.getTime()}function jO(e,t){de(2,arguments);var n=me(e),r=me(t);return n.getFullYear()===r.getFullYear()}function kO(e,t){de(2,arguments);var n=me(e),r=me(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function Em(e){de(1,arguments);var t=me(e);return t.setMinutes(0,0,0),t}function _O(e,t){de(2,arguments);var n=Em(e),r=Em(t);return n.getTime()===r.getTime()}function Mm(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function TO(e,t){if(e){if(typeof e=="string")return Mm(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mm(e,t):void 0}}function Pm(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=TO(e))||t){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(d){throw d},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var d=n.next();return a=d.done,d},e:function(d){l=!0,i=d},f:function(){try{a||n.return==null||n.return()}finally{if(l)throw i}}}}function EO(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function Ze(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Za(e,t)}function dl(e){return dl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},dl(e)}function Rx(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rx=function(){return!!e})()}function MO(e,t){if(t&&(jr(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ce(e)}function Je(e){var t=Rx();return function(){var n,r=dl(e);if(t){var s=dl(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return MO(this,n)}}function He(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Gg(r.key),r)}}function Ue(e,t,n){return t&&PO(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function be(e,t,n){return(t=Gg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var IO=10,Dx=function(){function e(){He(this,e),be(this,"priority",void 0),be(this,"subPriority",0)}return Ue(e,[{key:"validate",value:function(n,r){return!0}}]),e}(),RO=function(e){Ze(n,e);var t=Je(n);function n(r,s,i,a,l){var c;return He(this,n),c=t.call(this),c.value=r,c.validateValue=s,c.setValue=i,c.priority=a,l&&(c.subPriority=l),c}return Ue(n,[{key:"validate",value:function(s,i){return this.validateValue(s,this.value,i)}},{key:"set",value:function(s,i,a){return this.setValue(s,i,this.value,a)}}]),n}(Dx),DO=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",IO),be(Ce(r),"subPriority",-1),r}return Ue(n,[{key:"set",value:function(s,i){if(i.timestampIsSet)return s;var a=new Date(0);return a.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),a.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),a}}]),n}(Dx),rt=function(){function e(){He(this,e),be(this,"incompatibleTokens",void 0),be(this,"priority",void 0),be(this,"subPriority",void 0)}return Ue(e,[{key:"run",value:function(n,r,s,i){var a=this.parse(n,r,s,i);return a?{setter:new RO(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}},{key:"validate",value:function(n,r,s){return!0}}]),e}(),NO=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",140),be(Ce(r),"incompatibleTokens",["R","u","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){switch(i){case"G":case"GG":case"GGG":return a.era(s,{width:"abbreviated"})||a.era(s,{width:"narrow"});case"GGGGG":return a.era(s,{width:"narrow"});case"GGGG":default:return a.era(s,{width:"wide"})||a.era(s,{width:"abbreviated"})||a.era(s,{width:"narrow"})}}},{key:"set",value:function(s,i,a){return i.era=a,s.setUTCFullYear(a,0,1),s.setUTCHours(0,0,0,0),s}}]),n}(rt),Pt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Xn={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function It(e,t){return e&&{value:t(e.value),rest:e.rest}}function wt(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function Zn(e,t){var n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};var r=n[1]==="+"?1:-1,s=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,a=n[5]?parseInt(n[5],10):0;return{value:r*(s*gc+i*mc+a*p$),rest:t.slice(n[0].length)}}function Nx(e){return wt(Pt.anyDigitsSigned,e)}function Tt(e,t){switch(e){case 1:return wt(Pt.singleDigit,t);case 2:return wt(Pt.twoDigits,t);case 3:return wt(Pt.threeDigits,t);case 4:return wt(Pt.fourDigits,t);default:return wt(new RegExp("^\\d{1,"+e+"}"),t)}}function ul(e,t){switch(e){case 1:return wt(Pt.singleDigitSigned,t);case 2:return wt(Pt.twoDigitsSigned,t);case 3:return wt(Pt.threeDigitsSigned,t);case 4:return wt(Pt.fourDigitsSigned,t);default:return wt(new RegExp("^-?\\d{1,"+e+"}"),t)}}function Cp(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Ax(e,t){var n=t>0,r=n?t:1-t,s;if(r<=50)s=e||100;else{var i=r+50,a=Math.floor(i/100)*100,l=e>=i%100;s=e+a-(l?100:0)}return n?s:1-s}function $x(e){return e%400===0||e%4===0&&e%100!==0}var AO=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",130),be(Ce(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){var l=function(d){return{year:d,isTwoDigitYear:i==="yy"}};switch(i){case"y":return It(Tt(4,s),l);case"yo":return It(a.ordinalNumber(s,{unit:"year"}),l);default:return It(Tt(i.length,s),l)}}},{key:"validate",value:function(s,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(s,i,a){var l=s.getUTCFullYear();if(a.isTwoDigitYear){var c=Ax(a.year,l);return s.setUTCFullYear(c,0,1),s.setUTCHours(0,0,0,0),s}var d=!("era"in i)||i.era===1?a.year:1-a.year;return s.setUTCFullYear(d,0,1),s.setUTCHours(0,0,0,0),s}}]),n}(rt),$O=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",130),be(Ce(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){var l=function(d){return{year:d,isTwoDigitYear:i==="YY"}};switch(i){case"Y":return It(Tt(4,s),l);case"Yo":return It(a.ordinalNumber(s,{unit:"year"}),l);default:return It(Tt(i.length,s),l)}}},{key:"validate",value:function(s,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(s,i,a,l){var c=xp(s,l);if(a.isTwoDigitYear){var d=Ax(a.year,c);return s.setUTCFullYear(d,0,l.firstWeekContainsDate),s.setUTCHours(0,0,0,0),Mr(s,l)}var u=!("era"in i)||i.era===1?a.year:1-a.year;return s.setUTCFullYear(u,0,l.firstWeekContainsDate),s.setUTCHours(0,0,0,0),Mr(s,l)}}]),n}(rt),OO=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",130),be(Ce(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i){return ul(i==="R"?4:i.length,s)}},{key:"set",value:function(s,i,a){var l=new Date(0);return l.setUTCFullYear(a,0,4),l.setUTCHours(0,0,0,0),vo(l)}}]),n}(rt),LO=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",130),be(Ce(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i){return ul(i==="u"?4:i.length,s)}},{key:"set",value:function(s,i,a){return s.setUTCFullYear(a,0,1),s.setUTCHours(0,0,0,0),s}}]),n}(rt),FO=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",120),be(Ce(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){switch(i){case"Q":case"QQ":return Tt(i.length,s);case"Qo":return a.ordinalNumber(s,{unit:"quarter"});case"QQQ":return a.quarter(s,{width:"abbreviated",context:"formatting"})||a.quarter(s,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(s,{width:"wide",context:"formatting"})||a.quarter(s,{width:"abbreviated",context:"formatting"})||a.quarter(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,i){return i>=1&&i<=4}},{key:"set",value:function(s,i,a){return s.setUTCMonth((a-1)*3,1),s.setUTCHours(0,0,0,0),s}}]),n}(rt),zO=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",120),be(Ce(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){switch(i){case"q":case"qq":return Tt(i.length,s);case"qo":return a.ordinalNumber(s,{unit:"quarter"});case"qqq":return a.quarter(s,{width:"abbreviated",context:"standalone"})||a.quarter(s,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(s,{width:"wide",context:"standalone"})||a.quarter(s,{width:"abbreviated",context:"standalone"})||a.quarter(s,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(s,i){return i>=1&&i<=4}},{key:"set",value:function(s,i,a){return s.setUTCMonth((a-1)*3,1),s.setUTCHours(0,0,0,0),s}}]),n}(rt),BO=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),be(Ce(r),"priority",110),r}return Ue(n,[{key:"parse",value:function(s,i,a){var l=function(d){return d-1};switch(i){case"M":return It(wt(Pt.month,s),l);case"MM":return It(Tt(2,s),l);case"Mo":return It(a.ordinalNumber(s,{unit:"month"}),l);case"MMM":return a.month(s,{width:"abbreviated",context:"formatting"})||a.month(s,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(s,{width:"wide",context:"formatting"})||a.month(s,{width:"abbreviated",context:"formatting"})||a.month(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=11}},{key:"set",value:function(s,i,a){return s.setUTCMonth(a,1),s.setUTCHours(0,0,0,0),s}}]),n}(rt),WO=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",110),be(Ce(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){var l=function(d){return d-1};switch(i){case"L":return It(wt(Pt.month,s),l);case"LL":return It(Tt(2,s),l);case"Lo":return It(a.ordinalNumber(s,{unit:"month"}),l);case"LLL":return a.month(s,{width:"abbreviated",context:"standalone"})||a.month(s,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(s,{width:"wide",context:"standalone"})||a.month(s,{width:"abbreviated",context:"standalone"})||a.month(s,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=11}},{key:"set",value:function(s,i,a){return s.setUTCMonth(a,1),s.setUTCHours(0,0,0,0),s}}]),n}(rt);function HO(e,t,n){de(2,arguments);var r=me(e),s=Xe(t),i=kx(r,n)-s;return r.setUTCDate(r.getUTCDate()-i*7),r}var UO=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",100),be(Ce(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){switch(i){case"w":return wt(Pt.week,s);case"wo":return a.ordinalNumber(s,{unit:"week"});default:return Tt(i.length,s)}}},{key:"validate",value:function(s,i){return i>=1&&i<=53}},{key:"set",value:function(s,i,a,l){return Mr(HO(s,a,l),l)}}]),n}(rt);function VO(e,t){de(2,arguments);var n=me(e),r=Xe(t),s=jx(n)-r;return n.setUTCDate(n.getUTCDate()-s*7),n}var YO=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",100),be(Ce(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){switch(i){case"I":return wt(Pt.week,s);case"Io":return a.ordinalNumber(s,{unit:"week"});default:return Tt(i.length,s)}}},{key:"validate",value:function(s,i){return i>=1&&i<=53}},{key:"set",value:function(s,i,a){return vo(VO(s,a))}}]),n}(rt),GO=[31,28,31,30,31,30,31,31,30,31,30,31],qO=[31,29,31,30,31,30,31,31,30,31,30,31],KO=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",90),be(Ce(r),"subPriority",1),be(Ce(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){switch(i){case"d":return wt(Pt.date,s);case"do":return a.ordinalNumber(s,{unit:"date"});default:return Tt(i.length,s)}}},{key:"validate",value:function(s,i){var a=s.getUTCFullYear(),l=$x(a),c=s.getUTCMonth();return l?i>=1&&i<=qO[c]:i>=1&&i<=GO[c]}},{key:"set",value:function(s,i,a){return s.setUTCDate(a),s.setUTCHours(0,0,0,0),s}}]),n}(rt),QO=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",90),be(Ce(r),"subpriority",1),be(Ce(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){switch(i){case"D":case"DD":return wt(Pt.dayOfYear,s);case"Do":return a.ordinalNumber(s,{unit:"date"});default:return Tt(i.length,s)}}},{key:"validate",value:function(s,i){var a=s.getUTCFullYear(),l=$x(a);return l?i>=1&&i<=366:i>=1&&i<=365}},{key:"set",value:function(s,i,a){return s.setUTCMonth(0,a),s.setUTCHours(0,0,0,0),s}}]),n}(rt);function wp(e,t,n){var r,s,i,a,l,c,d,u;de(2,arguments);var p=pr(),h=Xe((r=(s=(i=(a=n==null?void 0:n.weekStartsOn)!==null&&a!==void 0?a:n==null||(l=n.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&i!==void 0?i:p.weekStartsOn)!==null&&s!==void 0?s:(d=p.locale)===null||d===void 0||(u=d.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=me(e),v=Xe(t),m=g.getUTCDay(),y=v%7,x=(y+7)%7,w=(x<h?7:0)+v-m;return g.setUTCDate(g.getUTCDate()+w),g}var XO=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",90),be(Ce(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){switch(i){case"E":case"EE":case"EEE":return a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(s,{width:"wide",context:"formatting"})||a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=6}},{key:"set",value:function(s,i,a,l){return s=wp(s,a,l),s.setUTCHours(0,0,0,0),s}}]),n}(rt),ZO=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",90),be(Ce(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a,l){var c=function(u){var p=Math.floor((u-1)/7)*7;return(u+l.weekStartsOn+6)%7+p};switch(i){case"e":case"ee":return It(Tt(i.length,s),c);case"eo":return It(a.ordinalNumber(s,{unit:"day"}),c);case"eee":return a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"});case"eeeee":return a.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(s,{width:"wide",context:"formatting"})||a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=6}},{key:"set",value:function(s,i,a,l){return s=wp(s,a,l),s.setUTCHours(0,0,0,0),s}}]),n}(rt),JO=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",90),be(Ce(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a,l){var c=function(u){var p=Math.floor((u-1)/7)*7;return(u+l.weekStartsOn+6)%7+p};switch(i){case"c":case"cc":return It(Tt(i.length,s),c);case"co":return It(a.ordinalNumber(s,{unit:"day"}),c);case"ccc":return a.day(s,{width:"abbreviated",context:"standalone"})||a.day(s,{width:"short",context:"standalone"})||a.day(s,{width:"narrow",context:"standalone"});case"ccccc":return a.day(s,{width:"narrow",context:"standalone"});case"cccccc":return a.day(s,{width:"short",context:"standalone"})||a.day(s,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(s,{width:"wide",context:"standalone"})||a.day(s,{width:"abbreviated",context:"standalone"})||a.day(s,{width:"short",context:"standalone"})||a.day(s,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=6}},{key:"set",value:function(s,i,a,l){return s=wp(s,a,l),s.setUTCHours(0,0,0,0),s}}]),n}(rt);function e4(e,t){de(2,arguments);var n=Xe(t);n%7===0&&(n=n-7);var r=1,s=me(e),i=s.getUTCDay(),a=n%7,l=(a+7)%7,c=(l<r?7:0)+n-i;return s.setUTCDate(s.getUTCDate()+c),s}var t4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",90),be(Ce(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){var l=function(d){return d===0?7:d};switch(i){case"i":case"ii":return Tt(i.length,s);case"io":return a.ordinalNumber(s,{unit:"day"});case"iii":return It(a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"}),l);case"iiiii":return It(a.day(s,{width:"narrow",context:"formatting"}),l);case"iiiiii":return It(a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"}),l);case"iiii":default:return It(a.day(s,{width:"wide",context:"formatting"})||a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"}),l)}}},{key:"validate",value:function(s,i){return i>=1&&i<=7}},{key:"set",value:function(s,i,a){return s=e4(s,a),s.setUTCHours(0,0,0,0),s}}]),n}(rt),n4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",80),be(Ce(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){switch(i){case"a":case"aa":case"aaa":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(s,{width:"wide",context:"formatting"})||a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(s,i,a){return s.setUTCHours(Cp(a),0,0,0),s}}]),n}(rt),r4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",80),be(Ce(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){switch(i){case"b":case"bb":case"bbb":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(s,{width:"wide",context:"formatting"})||a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(s,i,a){return s.setUTCHours(Cp(a),0,0,0),s}}]),n}(rt),s4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",80),be(Ce(r),"incompatibleTokens",["a","b","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){switch(i){case"B":case"BB":case"BBB":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(s,{width:"wide",context:"formatting"})||a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(s,i,a){return s.setUTCHours(Cp(a),0,0,0),s}}]),n}(rt),o4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",70),be(Ce(r),"incompatibleTokens",["H","K","k","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){switch(i){case"h":return wt(Pt.hour12h,s);case"ho":return a.ordinalNumber(s,{unit:"hour"});default:return Tt(i.length,s)}}},{key:"validate",value:function(s,i){return i>=1&&i<=12}},{key:"set",value:function(s,i,a){var l=s.getUTCHours()>=12;return l&&a<12?s.setUTCHours(a+12,0,0,0):!l&&a===12?s.setUTCHours(0,0,0,0):s.setUTCHours(a,0,0,0),s}}]),n}(rt),i4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",70),be(Ce(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){switch(i){case"H":return wt(Pt.hour23h,s);case"Ho":return a.ordinalNumber(s,{unit:"hour"});default:return Tt(i.length,s)}}},{key:"validate",value:function(s,i){return i>=0&&i<=23}},{key:"set",value:function(s,i,a){return s.setUTCHours(a,0,0,0),s}}]),n}(rt),a4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",70),be(Ce(r),"incompatibleTokens",["h","H","k","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){switch(i){case"K":return wt(Pt.hour11h,s);case"Ko":return a.ordinalNumber(s,{unit:"hour"});default:return Tt(i.length,s)}}},{key:"validate",value:function(s,i){return i>=0&&i<=11}},{key:"set",value:function(s,i,a){var l=s.getUTCHours()>=12;return l&&a<12?s.setUTCHours(a+12,0,0,0):s.setUTCHours(a,0,0,0),s}}]),n}(rt),l4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",70),be(Ce(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){switch(i){case"k":return wt(Pt.hour24h,s);case"ko":return a.ordinalNumber(s,{unit:"hour"});default:return Tt(i.length,s)}}},{key:"validate",value:function(s,i){return i>=1&&i<=24}},{key:"set",value:function(s,i,a){var l=a<=24?a%24:a;return s.setUTCHours(l,0,0,0),s}}]),n}(rt),c4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",60),be(Ce(r),"incompatibleTokens",["t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){switch(i){case"m":return wt(Pt.minute,s);case"mo":return a.ordinalNumber(s,{unit:"minute"});default:return Tt(i.length,s)}}},{key:"validate",value:function(s,i){return i>=0&&i<=59}},{key:"set",value:function(s,i,a){return s.setUTCMinutes(a,0,0),s}}]),n}(rt),d4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",50),be(Ce(r),"incompatibleTokens",["t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){switch(i){case"s":return wt(Pt.second,s);case"so":return a.ordinalNumber(s,{unit:"second"});default:return Tt(i.length,s)}}},{key:"validate",value:function(s,i){return i>=0&&i<=59}},{key:"set",value:function(s,i,a){return s.setUTCSeconds(a,0),s}}]),n}(rt),u4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",30),be(Ce(r),"incompatibleTokens",["t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i){var a=function(c){return Math.floor(c*Math.pow(10,-i.length+3))};return It(Tt(i.length,s),a)}},{key:"set",value:function(s,i,a){return s.setUTCMilliseconds(a),s}}]),n}(rt),p4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",10),be(Ce(r),"incompatibleTokens",["t","T","x"]),r}return Ue(n,[{key:"parse",value:function(s,i){switch(i){case"X":return Zn(Xn.basicOptionalMinutes,s);case"XX":return Zn(Xn.basic,s);case"XXXX":return Zn(Xn.basicOptionalSeconds,s);case"XXXXX":return Zn(Xn.extendedOptionalSeconds,s);case"XXX":default:return Zn(Xn.extended,s)}}},{key:"set",value:function(s,i,a){return i.timestampIsSet?s:new Date(s.getTime()-a)}}]),n}(rt),h4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",10),be(Ce(r),"incompatibleTokens",["t","T","X"]),r}return Ue(n,[{key:"parse",value:function(s,i){switch(i){case"x":return Zn(Xn.basicOptionalMinutes,s);case"xx":return Zn(Xn.basic,s);case"xxxx":return Zn(Xn.basicOptionalSeconds,s);case"xxxxx":return Zn(Xn.extendedOptionalSeconds,s);case"xxx":default:return Zn(Xn.extended,s)}}},{key:"set",value:function(s,i,a){return i.timestampIsSet?s:new Date(s.getTime()-a)}}]),n}(rt),f4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",40),be(Ce(r),"incompatibleTokens","*"),r}return Ue(n,[{key:"parse",value:function(s){return Nx(s)}},{key:"set",value:function(s,i,a){return[new Date(a*1e3),{timestampIsSet:!0}]}}]),n}(rt),m4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",20),be(Ce(r),"incompatibleTokens","*"),r}return Ue(n,[{key:"parse",value:function(s){return Nx(s)}},{key:"set",value:function(s,i,a){return[new Date(a),{timestampIsSet:!0}]}}]),n}(rt),g4={G:new NO,y:new AO,Y:new $O,R:new OO,u:new LO,Q:new FO,q:new zO,M:new BO,L:new WO,w:new UO,I:new YO,d:new KO,D:new QO,E:new XO,e:new ZO,c:new JO,i:new t4,a:new n4,b:new r4,B:new s4,h:new o4,H:new i4,K:new a4,k:new l4,m:new c4,s:new d4,S:new u4,X:new p4,x:new h4,t:new f4,T:new m4},v4=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,y4=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,x4=/^'([^]*?)'?$/,b4=/''/g,C4=/\S/,w4=/[a-zA-Z]/;function Vt(e,t,n,r){var s,i,a,l,c,d,u,p,h,g,v,m,y,x,w,C,j,_;de(3,arguments);var S=String(e),E=String(t),T=pr(),k=(s=(i=r==null?void 0:r.locale)!==null&&i!==void 0?i:T.locale)!==null&&s!==void 0?s:bp;if(!k.match)throw new RangeError("locale must contain match property");var M=Xe((a=(l=(c=(d=r==null?void 0:r.firstWeekContainsDate)!==null&&d!==void 0?d:r==null||(u=r.locale)===null||u===void 0||(p=u.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&c!==void 0?c:T.firstWeekContainsDate)!==null&&l!==void 0?l:(h=T.locale)===null||h===void 0||(g=h.options)===null||g===void 0?void 0:g.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(M>=1&&M<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var N=Xe((v=(m=(y=(x=r==null?void 0:r.weekStartsOn)!==null&&x!==void 0?x:r==null||(w=r.locale)===null||w===void 0||(C=w.options)===null||C===void 0?void 0:C.weekStartsOn)!==null&&y!==void 0?y:T.weekStartsOn)!==null&&m!==void 0?m:(j=T.locale)===null||j===void 0||(_=j.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&v!==void 0?v:0);if(!(N>=0&&N<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(E==="")return S===""?me(n):new Date(NaN);var L={firstWeekContainsDate:M,weekStartsOn:N,locale:k},R=[new DO],P=E.match(y4).map(function(ee){var X=ee[0];if(X in Xd){var ie=Xd[X];return ie(ee,k.formatLong)}return ee}).join("").match(v4),D=[],I=Pm(P),O;try{var z=function(){var X=O.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&Ex(X)&&cl(X,E,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&Tx(X)&&cl(X,E,e);var ie=X[0],K=g4[ie];if(K){var B=K.incompatibleTokens;if(Array.isArray(B)){var F=D.find(function(te){return B.includes(te.token)||te.token===ie});if(F)throw new RangeError("The format string mustn't contain `".concat(F.fullToken,"` and `").concat(X,"` at the same time"))}else if(K.incompatibleTokens==="*"&&D.length>0)throw new RangeError("The format string mustn't contain `".concat(X,"` and any other token at the same time"));D.push({token:ie,fullToken:X});var q=K.run(S,X,k.match,L);if(!q)return{v:new Date(NaN)};R.push(q.setter),S=q.rest}else{if(ie.match(w4))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ie+"`");if(X==="''"?X="'":ie==="'"&&(X=S4(X)),S.indexOf(X)===0)S=S.slice(X.length);else return{v:new Date(NaN)}}};for(I.s();!(O=I.n()).done;){var $=z();if(jr($)==="object")return $.v}}catch(ee){I.e(ee)}finally{I.f()}if(S.length>0&&C4.test(S))return new Date(NaN);var A=R.map(function(ee){return ee.priority}).sort(function(ee,X){return X-ee}).filter(function(ee,X,ie){return ie.indexOf(ee)===X}).map(function(ee){return R.filter(function(X){return X.priority===ee}).sort(function(X,ie){return ie.subPriority-X.subPriority})}).map(function(ee){return ee[0]}),H=me(n);if(isNaN(H.getTime()))return new Date(NaN);var Y=wx(H,ll(H)),G={},J=Pm(A),ae;try{for(J.s();!(ae=J.n()).done;){var V=ae.value;if(!V.validate(Y,L))return new Date(NaN);var le=V.set(Y,G,L);Array.isArray(le)?(Y=le[0],EO(G,le[1])):Y=le}}catch(ee){J.e(ee)}finally{J.f()}return Y}function S4(e){return e.match(x4)[1].replace(b4,"'")}function j4(e,t){de(2,arguments);var n=me(e),r=Xe(t);return n.setDate(r),n}function k4(e,t){de(2,arguments);var n=me(e),r=Xe(t);return n.setHours(r),n}function _4(e,t){de(2,arguments);var n=me(e),r=Xe(t);return n.setMinutes(r),n}function T4(e,t){de(2,arguments);var n=me(e),r=Xe(t),s=n.getFullYear(),i=n.getDate(),a=new Date(0);a.setFullYear(s,r,15),a.setHours(0,0,0,0);var l=Px(a);return n.setMonth(r,Math.min(i,l)),n}function E4(e,t){de(2,arguments);var n=me(e),r=Xe(t);return n.setSeconds(r),n}function M4(e,t){de(2,arguments);var n=me(e),r=Xe(t);return n.setMilliseconds(r),n}function P4(e,t){de(2,arguments);var n=me(e),r=Xe(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function Im(e){de(1,arguments);var t=me(e);return t.setDate(1),t.setHours(0,0,0,0),t}function va(e){de(1,arguments);var t=me(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function I4(e,t){var n;de(1,arguments);var r=Xe((n=void 0)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var s=A4(e),i;if(s.date){var a=$4(s.date,r);i=O4(a.restDateString,a.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var l=i.getTime(),c=0,d;if(s.time&&(c=L4(s.time),isNaN(c)))return new Date(NaN);if(s.timezone){if(d=F4(s.timezone),isNaN(d))return new Date(NaN)}else{var u=new Date(l+c),p=new Date(0);return p.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),p.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),p}return new Date(l+c+d)}var ya={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},R4=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,D4=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,N4=/^([+-])(\d{2})(?::?(\d{2}))?$/;function A4(e){var t={},n=e.split(ya.dateTimeDelimiter),r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],ya.timeZoneDelimiter.test(t.date)&&(t.date=e.split(ya.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){var s=ya.timezone.exec(r);s?(t.time=r.replace(s[1],""),t.timezone=s[1]):t.time=r}return t}function $4(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:e.slice((r[1]||r[2]).length)}}function O4(e,t){if(t===null)return new Date(NaN);var n=e.match(R4);if(!n)return new Date(NaN);var r=!!n[4],s=Jo(n[1]),i=Jo(n[2])-1,a=Jo(n[3]),l=Jo(n[4]),c=Jo(n[5])-1;if(r)return U4(t,l,c)?z4(t,l,c):new Date(NaN);var d=new Date(0);return!W4(t,i,a)||!H4(t,s)?new Date(NaN):(d.setUTCFullYear(t,i,Math.max(s,a)),d)}function Jo(e){return e?parseInt(e):1}function L4(e){var t=e.match(D4);if(!t)return NaN;var n=rd(t[1]),r=rd(t[2]),s=rd(t[3]);return V4(n,r,s)?n*gc+r*mc+s*1e3:NaN}function rd(e){return e&&parseFloat(e.replace(",","."))||0}function F4(e){if(e==="Z")return 0;var t=e.match(N4);if(!t)return 0;var n=t[1]==="+"?-1:1,r=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return Y4(r,s)?n*(r*gc+s*mc):NaN}function z4(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var s=r.getUTCDay()||7,i=(t-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}var B4=[31,null,31,30,31,30,31,31,30,31,30,31];function Ox(e){return e%400===0||e%4===0&&e%100!==0}function W4(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(B4[t]||(Ox(e)?29:28))}function H4(e,t){return t>=1&&t<=(Ox(e)?366:365)}function U4(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function V4(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function Y4(e,t){return t>=0&&t<=59}function G4(e,t){var n,r;de(1,arguments);var s=me(e);if(isNaN(s.getTime()))throw new RangeError("Invalid time value");var i=String((n=t==null?void 0:t.format)!==null&&n!==void 0?n:"extended"),a=String((r=t==null?void 0:t.representation)!==null&&r!==void 0?r:"complete");if(i!=="extended"&&i!=="basic")throw new RangeError("format must be 'extended' or 'basic'");if(a!=="date"&&a!=="time"&&a!=="complete")throw new RangeError("representation must be 'date', 'time', or 'complete'");var l="",c="",d=i==="extended"?"-":"",u=i==="extended"?":":"";if(a!=="time"){var p=Oe(s.getDate(),2),h=Oe(s.getMonth()+1,2),g=Oe(s.getFullYear(),4);l="".concat(g).concat(d).concat(h).concat(d).concat(p)}if(a!=="date"){var v=s.getTimezoneOffset();if(v!==0){var m=Math.abs(v),y=Oe(Math.floor(m/60),2),x=Oe(m%60,2),w=v<0?"+":"-";c="".concat(w).concat(y,":").concat(x)}else c="Z";var C=Oe(s.getHours(),2),j=Oe(s.getMinutes(),2),_=Oe(s.getSeconds(),2),S=l===""?"":"T",E=[C,j,_].join(u);l="".concat(l).concat(S).concat(E).concat(c)}return l}function q4(e,t){de(2,arguments);var n=me(e).getTime(),r=me(t.start).getTime(),s=me(t.end).getTime();if(!(r<=s))throw new RangeError("Invalid interval");return n>=r&&n<=s}var Zd={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(c,d){switch(c){case"P":return d.date({width:"short"});case"PP":return d.date({width:"medium"});case"PPP":return d.date({width:"long"});case"PPPP":default:return d.date({width:"full"})}},r=function(c,d){switch(c){case"p":return d.time({width:"short"});case"pp":return d.time({width:"medium"});case"ppp":return d.time({width:"long"});case"pppp":default:return d.time({width:"full"})}},s=function(c,d){var u=c.match(/(P+)(p+)?/)||[],p=u[1],h=u[2];if(!h)return n(c,d);var g;switch(p){case"P":g=d.dateTime({width:"short"});break;case"PP":g=d.dateTime({width:"medium"});break;case"PPP":g=d.dateTime({width:"long"});break;case"PPPP":default:g=d.dateTime({width:"full"});break}return g.replace("{{date}}",n(p,d)).replace("{{time}}",r(h,d))},i={p:r,P:s},a=i;t.default=a,e.exports=t.default})(Zd,Zd.exports);var K4=Zd.exports;const Q4=ob(K4),X4={y:{sectionType:"year",contentType:"digit",maxLength:4},yy:"year",yyy:{sectionType:"year",contentType:"digit",maxLength:4},yyyy:"year",M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMMM:{sectionType:"month",contentType:"letter"},MMM:{sectionType:"month",contentType:"letter"},L:{sectionType:"month",contentType:"digit",maxLength:2},LL:"month",LLL:{sectionType:"month",contentType:"letter"},LLLL:{sectionType:"month",contentType:"letter"},d:{sectionType:"day",contentType:"digit",maxLength:2},dd:"day",do:{sectionType:"day",contentType:"digit-with-letter"},E:{sectionType:"weekDay",contentType:"letter"},EE:{sectionType:"weekDay",contentType:"letter"},EEE:{sectionType:"weekDay",contentType:"letter"},EEEE:{sectionType:"weekDay",contentType:"letter"},EEEEE:{sectionType:"weekDay",contentType:"letter"},i:{sectionType:"weekDay",contentType:"digit",maxLength:1},ii:"weekDay",iii:{sectionType:"weekDay",contentType:"letter"},iiii:{sectionType:"weekDay",contentType:"letter"},e:{sectionType:"weekDay",contentType:"digit",maxLength:1},ee:"weekDay",eee:{sectionType:"weekDay",contentType:"letter"},eeee:{sectionType:"weekDay",contentType:"letter"},eeeee:{sectionType:"weekDay",contentType:"letter"},eeeeee:{sectionType:"weekDay",contentType:"letter"},c:{sectionType:"weekDay",contentType:"digit",maxLength:1},cc:"weekDay",ccc:{sectionType:"weekDay",contentType:"letter"},cccc:{sectionType:"weekDay",contentType:"letter"},ccccc:{sectionType:"weekDay",contentType:"letter"},cccccc:{sectionType:"weekDay",contentType:"letter"},a:"meridiem",aa:"meridiem",aaa:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},Z4={year:"yyyy",month:"LLLL",monthShort:"MMM",dayOfMonth:"d",weekday:"EEEE",weekdayShort:"EEEEEE",hours24h:"HH",hours12h:"hh",meridiem:"aa",minutes:"mm",seconds:"ss",fullDate:"PP",fullDateWithWeekday:"PPPP",keyboardDate:"P",shortDate:"MMM d",normalDate:"d MMMM",normalDateWithWeekday:"EEE, MMM d",monthAndYear:"LLLL yyyy",monthAndDate:"MMMM d",fullTime:"p",fullTime12h:"hh:mm aa",fullTime24h:"HH:mm",fullDateTime:"PP p",fullDateTime12h:"PP hh:mm aa",fullDateTime24h:"PP HH:mm",keyboardDateTime:"P p",keyboardDateTime12h:"P hh:mm aa",keyboardDateTime24h:"P HH:mm"};class J4{constructor(t){this.isMUIAdapter=!0,this.isTimezoneCompatible=!1,this.lib="date-fns",this.locale=void 0,this.formats=void 0,this.formatTokenMap=X4,this.escapedCharacters={start:"'",end:"'"},this.longFormatters=void 0,this.date=i=>typeof i>"u"?new Date:i===null?null:new Date(i),this.dateWithTimezone=i=>this.date(i),this.getTimezone=()=>"default",this.setTimezone=i=>i,this.toJsDate=i=>i,this.getCurrentLocaleCode=()=>{var i;return((i=this.locale)==null?void 0:i.code)||"en-US"},this.is12HourCycleInCurrentLocale=()=>this.locale?/a/.test(this.locale.formatLong.time({width:"short"})):!0,this.expandFormat=i=>{const a=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;return i.match(a).map(l=>{const c=l[0];if(c==="p"||c==="P"){const d=this.longFormatters[c];return d(l,this.locale.formatLong)}return l}).join("")},this.getFormatHelperText=i=>this.expandFormat(i).replace(/(aaa|aa|a)/g,"(a|p)m").toLocaleLowerCase(),this.isNull=i=>i===null,this.formatNumber=i=>i,this.getMeridiemText=i=>i==="am"?"AM":"PM";const{locale:n,formats:r,longFormatters:s}=t;this.locale=n,this.formats=b({},Z4,r),this.longFormatters=s}}class e3 extends J4{constructor({locale:t,formats:n}={}){if(typeof Hr!="function")throw new Error(["MUI: The `date-fns` package v3.x is not compatible with this adapter.","Please, install v2.x of the package or use the `AdapterDateFnsV3` instead."].join(`
`));super({locale:t??bp,formats:n,longFormatters:Q4}),this.parseISO=r=>I4(r),this.toISO=r=>G4(r,{format:"extended"}),this.parse=(r,s)=>r===""?null:Vt(r,s,new Date,{locale:this.locale}),this.isValid=r=>Cx(this.date(r)),this.format=(r,s)=>this.formatByString(r,this.formats[s]),this.formatByString=(r,s)=>ft(r,s,{locale:this.locale}),this.getDiff=(r,s,i)=>{switch(i){case"years":return s$(r,this.date(s));case"quarters":return l$(r,this.date(s));case"months":return xx(r,this.date(s));case"weeks":return u$(r,this.date(s));case"days":return bx(r,this.date(s));case"hours":return h$(r,this.date(s));case"minutes":return f$(r,this.date(s));case"seconds":return m$(r,this.date(s));default:return vc(r,this.date(s))}},this.isEqual=(r,s)=>r===null&&s===null?!0:SO(r,s),this.isSameYear=(r,s)=>jO(r,s),this.isSameMonth=(r,s)=>kO(r,s),this.isSameDay=(r,s)=>Ix(r,s),this.isSameHour=(r,s)=>_O(r,s),this.isAfter=(r,s)=>Hn(r,s),this.isAfterYear=(r,s)=>Hn(r,nd(s)),this.isAfterDay=(r,s)=>Hn(r,Kd(s)),this.isBefore=(r,s)=>tn(r,s),this.isBeforeYear=(r,s)=>tn(r,va(s)),this.isBeforeDay=(r,s)=>tn(r,Cs(s)),this.isWithinRange=(r,[s,i])=>q4(r,{start:s,end:i}),this.startOfYear=r=>va(r),this.startOfMonth=r=>Im(r),this.startOfWeek=r=>us(r,{locale:this.locale}),this.startOfDay=r=>Cs(r),this.endOfYear=r=>nd(r),this.endOfMonth=r=>Qd(r),this.endOfWeek=r=>td(r,{locale:this.locale}),this.endOfDay=r=>Kd(r),this.addYears=(r,s)=>wm(r,s),this.addMonths=(r,s)=>Da(r,s),this.addWeeks=(r,s)=>n$(r,s),this.addDays=(r,s)=>Hr(r,s),this.addHours=(r,s)=>t$(r,s),this.addMinutes=(r,s)=>nr(r,s),this.addSeconds=(r,s)=>ZA(r,s),this.getYear=r=>wO(r),this.getMonth=r=>mO(r),this.getDate=r=>pO(r),this.getHours=r=>hO(r),this.getMinutes=r=>fO(r),this.getSeconds=r=>gO(r),this.getMilliseconds=r=>vO(r),this.setYear=(r,s)=>P4(r,s),this.setMonth=(r,s)=>T4(r,s),this.setDate=(r,s)=>j4(r,s),this.setHours=(r,s)=>k4(r,s),this.setMinutes=(r,s)=>_4(r,s),this.setSeconds=(r,s)=>E4(r,s),this.setMilliseconds=(r,s)=>M4(r,s),this.getDaysInMonth=r=>Px(r),this.getNextMonth=r=>Da(r,1),this.getPreviousMonth=r=>Da(r,-1),this.getMonthArray=r=>{const i=[va(r)];for(;i.length<12;){const a=i[i.length-1];i.push(this.getNextMonth(a))}return i},this.mergeDateAndTime=(r,s)=>this.setSeconds(this.setMinutes(this.setHours(r,this.getHours(s)),this.getMinutes(s)),this.getSeconds(s)),this.getWeekdays=()=>{const r=new Date;return g$({start:us(r,{locale:this.locale}),end:td(r,{locale:this.locale})}).map(s=>this.formatByString(s,"EEEEEE"))},this.getWeekArray=r=>{const s=us(Im(r),{locale:this.locale}),i=td(Qd(r),{locale:this.locale});let a=0,l=s;const c=[];for(;tn(l,i);){const d=Math.floor(a/7);c[d]=c[d]||[],c[d].push(l),l=Hr(l,1),a+=1}return c},this.getWeekNumber=r=>CO(r,{locale:this.locale}),this.getYearRange=(r,s)=>{const i=va(r),a=nd(s),l=[];let c=i;for(;tn(c,a);)l.push(c),c=wm(c,1);return l}}}const t3=["localeText"],Jd=f.createContext(null),n3=function(t){var n;const{localeText:r}=t,s=Z(t,t3),{utils:i,localeText:a}=(n=f.useContext(Jd))!=null?n:{utils:void 0,localeText:void 0},l=Ln({props:s,name:"MuiLocalizationProvider"}),{children:c,dateAdapter:d,dateFormats:u,dateLibInstance:p,adapterLocale:h,localeText:g}=l,v=f.useMemo(()=>b({},g,a,r),[g,a,r]),m=f.useMemo(()=>{if(!d)return i||null;const w=new d({locale:h,formats:u,instance:p});if(!w.isMUIAdapter)throw new Error(["MUI: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join(`
`));return w},[d,h,u,p,i]),y=f.useMemo(()=>m?{minDate:m.date("1900-01-01T00:00:00.000"),maxDate:m.date("2099-12-31T00:00:00.000")}:null,[m]),x=f.useMemo(()=>({utils:m,defaultDates:y,localeText:v}),[y,m,v]);return o.jsx(Jd.Provider,{value:x,children:c})};function r3(e){return typeof e=="string"}function s3(e,t,n){return e===void 0||r3(e)?t:{...t,ownerState:{...t.ownerState,...n}}}function o3(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function i3(e,t,n){return typeof e=="function"?e(t,n):e}function a3(...e){const t=f.useRef(void 0),n=f.useCallback(r=>{const s=e.map(i=>{if(i==null)return null;if(typeof i=="function"){const a=i,l=a(r);return typeof l=="function"?l:()=>{a(null)}}return i.current=r,()=>{i.current=null}});return()=>{s.forEach(i=>i==null?void 0:i())}},e);return f.useMemo(()=>e.every(r=>r==null)?null:r=>{t.current&&(t.current(),t.current=void 0),r!=null&&(t.current=n(r))},e)}function Rm(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function l3(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:s,className:i}=e;if(!t){const g=re(n==null?void 0:n.className,i,s==null?void 0:s.className,r==null?void 0:r.className),v={...n==null?void 0:n.style,...s==null?void 0:s.style,...r==null?void 0:r.style},m={...n,...s,...r};return g.length>0&&(m.className=g),Object.keys(v).length>0&&(m.style=v),{props:m,internalRef:void 0}}const a=o3({...s,...r}),l=Rm(r),c=Rm(s),d=t(a),u=re(d==null?void 0:d.className,n==null?void 0:n.className,i,s==null?void 0:s.className,r==null?void 0:r.className),p={...d==null?void 0:d.style,...n==null?void 0:n.style,...s==null?void 0:s.style,...r==null?void 0:r.style},h={...d,...n,...c,...l};return u.length>0&&(h.className=u),Object.keys(p).length>0&&(h.style=p),{props:h,internalRef:d.ref}}function Br(e){var p;const{elementType:t,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:s=!1,...i}=e,a=s?{}:i3(n,r),{props:l,internalRef:c}=l3({...i,externalSlotProps:a}),d=a3(c,a==null?void 0:a.ref,(p=e.additionalProps)==null?void 0:p.ref);return s3(t,{...l,ref:d},r)}const pl=(e,t,n)=>{let r=t;return r=e.setHours(r,e.getHours(n)),r=e.setMinutes(r,e.getMinutes(n)),r=e.setSeconds(r,e.getSeconds(n)),r},gi=({date:e,disableFuture:t,disablePast:n,maxDate:r,minDate:s,isDateDisabled:i,utils:a,timezone:l})=>{const c=pl(a,a.dateWithTimezone(void 0,l),e);n&&a.isBefore(s,c)&&(s=c),t&&a.isAfter(r,c)&&(r=c);let d=e,u=e;for(a.isBefore(e,s)&&(d=s,u=null),a.isAfter(e,r)&&(u&&(u=r),d=null);d||u;){if(d&&a.isAfter(d,r)&&(d=null),u&&a.isBefore(u,s)&&(u=null),d){if(!i(d))return d;d=a.addDays(d,1)}if(u){if(!i(u))return u;u=a.addDays(u,-1)}}return null},c3=(e,t)=>t==null||!e.isValid(t)?null:t,qr=(e,t,n)=>t==null||!e.isValid(t)?n:t,d3=(e,t,n)=>!e.isValid(t)&&t!=null&&!e.isValid(n)&&n!=null?!0:e.isEqual(t,n),u3=(e,t)=>{const r=[e.startOfYear(t)];for(;r.length<12;){const s=r[r.length-1];r.push(e.addMonths(s,1))}return r},Lx=(e,t,n)=>n==="date"?e.startOfDay(e.dateWithTimezone(void 0,t)):e.dateWithTimezone(void 0,t),p3=(e,t)=>{const n=e.startOfWeek(t);return[0,1,2,3,4,5,6].map(r=>e.addDays(n,r))},h3=({props:e,value:t,adapter:n})=>{if(t===null)return null;const{shouldDisableDate:r,shouldDisableMonth:s,shouldDisableYear:i,disablePast:a,disableFuture:l,timezone:c}=e,d=n.utils.dateWithTimezone(void 0,c),u=qr(n.utils,e.minDate,n.defaultDates.minDate),p=qr(n.utils,e.maxDate,n.defaultDates.maxDate);switch(!0){case!n.utils.isValid(t):return"invalidDate";case!!(r&&r(t)):return"shouldDisableDate";case!!(s&&s(t)):return"shouldDisableMonth";case!!(i&&i(t)):return"shouldDisableYear";case!!(l&&n.utils.isAfterDay(t,d)):return"disableFuture";case!!(a&&n.utils.isBeforeDay(t,d)):return"disablePast";case!!(u&&n.utils.isBeforeDay(t,u)):return"minDate";case!!(p&&n.utils.isAfterDay(t,p)):return"maxDate";default:return null}},f3=e=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:b({},e)}}}}),Fx={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"open previous view",openNextView:"open next view",calendarViewSwitchingButtonAriaLabel:e=>e==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",clockLabelText:(e,t,n)=>`Select ${e}. ${t===null?"No time selected":`Selected time is ${n.format(t,"fullTime")}`}`,hoursClockNumberText:e=>`${e} hours`,minutesClockNumberText:e=>`${e} minutes`,secondsClockNumberText:e=>`${e} seconds`,selectViewText:e=>`Select ${e}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:e=>`Week ${e}`,calendarWeekNumberText:e=>`${e}`,openDatePickerDialogue:(e,t)=>e!==null&&t.isValid(e)?`Choose date, selected date is ${t.format(e,"fullDate")}`:"Choose date",openTimePickerDialogue:(e,t)=>e!==null&&t.isValid(e)?`Choose time, selected time is ${t.format(e,"fullTime")}`:"Choose time",fieldClearLabel:"Clear value",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:e=>"Y".repeat(e.digitAmount),fieldMonthPlaceholder:e=>e.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:e=>e.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa"},m3=Fx;f3(Fx);const yc=()=>{const e=f.useContext(Jd);if(e===null)throw new Error(["MUI: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(e.utils===null)throw new Error(["MUI: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const t=f.useMemo(()=>b({},m3,e.localeText),[e.localeText]);return f.useMemo(()=>b({},e,{localeText:t}),[e,t])},on=()=>yc().utils,Sp=()=>yc().defaultDates,zx=()=>yc().localeText,xc=e=>{const t=on(),n=f.useRef();return n.current===void 0&&(n.current=t.dateWithTimezone(void 0,e)),n.current},Bx=({shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:n,minDate:r,maxDate:s,disableFuture:i,disablePast:a,timezone:l})=>{const c=yc();return f.useCallback(d=>h3({adapter:c,value:d,props:{shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:n,minDate:r,maxDate:s,disableFuture:i,disablePast:a,timezone:l}})!==null,[c,e,t,n,r,s,i,a,l])},Dm=(e,t)=>t.getHours(e)*3600+t.getMinutes(e)*60+t.getSeconds(e),g3=(e,t)=>(n,r)=>e?t.isAfter(n,r):Dm(n,t)>Dm(r,t),fr={year:1,month:2,day:3,minutes:5,seconds:6,milliseconds:7},ei=(e,t,n)=>{if(t===fr.year)return e.startOfYear(n);if(t===fr.month)return e.startOfMonth(n);if(t===fr.day)return e.startOfDay(n);let r=n;return t<fr.minutes&&(r=e.setMinutes(r,0)),t<fr.seconds&&(r=e.setSeconds(r,0)),t<fr.milliseconds&&(r=e.setMilliseconds(r,0)),r},v3=({props:e,utils:t,granularity:n,timezone:r,getTodayDate:s})=>{var i;let a=s?s():ei(t,n,Lx(t,r));e.minDate!=null&&t.isAfterDay(e.minDate,a)&&(a=ei(t,n,e.minDate)),e.maxDate!=null&&t.isBeforeDay(e.maxDate,a)&&(a=ei(t,n,e.maxDate));const l=g3((i=e.disableIgnoringDatePartForTimeValidation)!=null?i:!1,t);return e.minTime!=null&&l(e.minTime,a)&&(a=ei(t,n,e.disableIgnoringDatePartForTimeValidation?e.minTime:pl(t,a,e.minTime))),e.maxTime!=null&&l(a,e.maxTime)&&(a=ei(t,n,e.disableIgnoringDatePartForTimeValidation?e.maxTime:pl(t,a,e.maxTime))),a},y3=["value","referenceDate"],yo={emptyValue:null,getTodayValue:Lx,getInitialReferenceValue:e=>{let{value:t,referenceDate:n}=e,r=Z(e,y3);return t!=null&&r.utils.isValid(t)?t:n??v3(r)},cleanValue:c3,areValuesEqual:d3,isSameError:(e,t)=>e===t,hasError:e=>e!=null,defaultErrorState:null,getTimezone:(e,t)=>t==null||!e.isValid(t)?null:e.getTimezone(t),setTimezone:(e,t,n)=>n==null?null:e.setTimezone(n,t)},x3=(e,t,n)=>(r,s)=>{switch(s.type){case"changeMonth":return b({},r,{slideDirection:s.direction,currentMonth:s.newMonth,isMonthSwitchingAnimating:!e});case"finishMonthSwitchingAnimation":return b({},r,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(r.focusedDay!=null&&s.focusedDay!=null&&n.isSameDay(s.focusedDay,r.focusedDay))return r;const i=s.focusedDay!=null&&!t&&!n.isSameMonth(r.currentMonth,s.focusedDay);return b({},r,{focusedDay:s.focusedDay,isMonthSwitchingAnimating:i&&!e&&!s.withoutMonthSwitchingAnimation,currentMonth:i?n.startOfMonth(s.focusedDay):r.currentMonth,slideDirection:s.focusedDay!=null&&n.isAfterDay(s.focusedDay,r.currentMonth)?"left":"right"})}default:throw new Error("missing support")}},b3=e=>{const{value:t,referenceDate:n,defaultCalendarMonth:r,disableFuture:s,disablePast:i,disableSwitchToMonthOnDayFocus:a=!1,maxDate:l,minDate:c,onMonthChange:d,reduceAnimations:u,shouldDisableDate:p,timezone:h}=e,g=on(),v=f.useRef(x3(!!u,a,g)).current,m=f.useMemo(()=>{let E=null;return n?E=n:r&&(E=g.startOfMonth(r)),yo.getInitialReferenceValue({value:t,utils:g,timezone:h,props:e,referenceDate:E,granularity:fr.day})},[]),[y,x]=f.useReducer(v,{isMonthSwitchingAnimating:!1,focusedDay:m,currentMonth:g.startOfMonth(m),slideDirection:"left"}),w=f.useCallback(E=>{x(b({type:"changeMonth"},E)),d&&d(E.newMonth)},[d]),C=f.useCallback(E=>{const T=E;g.isSameMonth(T,y.currentMonth)||w({newMonth:g.startOfMonth(T),direction:g.isAfterDay(T,y.currentMonth)?"left":"right"})},[y.currentMonth,w,g]),j=Bx({shouldDisableDate:p,minDate:c,maxDate:l,disableFuture:s,disablePast:i,timezone:h}),_=f.useCallback(()=>{x({type:"finishMonthSwitchingAnimation"})},[]),S=Ne((E,T)=>{j(E)||x({type:"changeFocusedDay",focusedDay:E,withoutMonthSwitchingAnimation:T})});return{referenceDate:m,calendarState:y,changeMonth:C,changeFocusedDay:S,isDateDisabled:j,onMonthSwitchingAnimationEnd:_,handleChangeMonth:w}},C3=e=>pe("MuiPickersFadeTransitionGroup",e);he("MuiPickersFadeTransitionGroup",["root"]);const w3=e=>{const{classes:t}=e;return ge({root:["root"]},C3,t)},S3=U(Yi,{name:"MuiPickersFadeTransitionGroup",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"block",position:"relative"});function Wx(e){const t=Ln({props:e,name:"MuiPickersFadeTransitionGroup"}),{children:n,className:r,reduceAnimations:s,transKey:i}=t,a=w3(t),l=Vn();return s?n:o.jsx(S3,{className:re(a.root,r),children:o.jsx(Ki,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:l.transitions.duration.enteringScreen,enter:l.transitions.duration.enteringScreen,exit:0},children:n},i)})}const Pi=36,bc=2,jp=320,j3=280,Hx=334;function k3(e){return pe("MuiPickersDay",e)}const es=he("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),_3=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today","isFirstVisibleCell","isLastVisibleCell"],T3=e=>{const{selected:t,disableMargin:n,disableHighlightToday:r,today:s,disabled:i,outsideCurrentMonth:a,showDaysOutsideCurrentMonth:l,classes:c}=e,d=a&&!l;return ge({root:["root",t&&!d&&"selected",i&&"disabled",!n&&"dayWithMargin",!r&&s&&"today",a&&l&&"dayOutsideMonth",d&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},k3,c)},Ux=({theme:e,ownerState:t})=>b({},e.typography.caption,{width:Pi,height:Pi,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:e.transitions.create("background-color",{duration:e.transitions.duration.short}),color:(e.vars||e).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:no(e.palette.primary.main,e.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:no(e.palette.primary.main,e.palette.action.focusOpacity),[`&.${es.selected}`]:{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${es.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,fontWeight:e.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${es.disabled}:not(.${es.selected})`]:{color:(e.vars||e).palette.text.disabled},[`&.${es.disabled}&.${es.selected}`]:{opacity:.6}},!t.disableMargin&&{margin:`0 ${bc}px`},t.outsideCurrentMonth&&t.showDaysOutsideCurrentMonth&&{color:(e.vars||e).palette.text.secondary},!t.disableHighlightToday&&t.today&&{[`&:not(.${es.selected})`]:{border:`1px solid ${(e.vars||e).palette.text.secondary}`}}),Vx=(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableMargin&&t.dayWithMargin,!n.disableHighlightToday&&n.today&&t.today,!n.outsideCurrentMonth&&n.showDaysOutsideCurrentMonth&&t.dayOutsideMonth,n.outsideCurrentMonth&&!n.showDaysOutsideCurrentMonth&&t.hiddenDaySpacingFiller]},E3=U(Yr,{name:"MuiPickersDay",slot:"Root",overridesResolver:Vx})(Ux),M3=U("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:Vx})(({theme:e,ownerState:t})=>b({},Ux({theme:e,ownerState:t}),{opacity:0,pointerEvents:"none"})),ti=()=>{},P3=f.forwardRef(function(t,n){const r=Ln({props:t,name:"MuiPickersDay"}),{autoFocus:s=!1,className:i,day:a,disabled:l=!1,disableHighlightToday:c=!1,disableMargin:d=!1,isAnimating:u,onClick:p,onDaySelect:h,onFocus:g=ti,onBlur:v=ti,onKeyDown:m=ti,onMouseDown:y=ti,onMouseEnter:x=ti,outsideCurrentMonth:w,selected:C=!1,showDaysOutsideCurrentMonth:j=!1,children:_,today:S=!1}=r,E=Z(r,_3),T=b({},r,{autoFocus:s,disabled:l,disableHighlightToday:c,disableMargin:d,selected:C,showDaysOutsideCurrentMonth:j,today:S}),k=T3(T),M=on(),N=f.useRef(null),L=vt(N,n);rn(()=>{s&&!l&&!u&&!w&&N.current.focus()},[s,l,u,w]);const R=D=>{y(D),w&&D.preventDefault()},P=D=>{l||h(a),w&&D.currentTarget.focus(),p&&p(D)};return w&&!j?o.jsx(M3,{className:re(k.root,k.hiddenDaySpacingFiller,i),ownerState:T,role:E.role}):o.jsx(E3,b({className:re(k.root,i),ref:L,centerRipple:!0,disabled:l,tabIndex:C?0:-1,onKeyDown:D=>m(D,a),onFocus:D=>g(D,a),onBlur:D=>v(D,a),onMouseEnter:D=>x(D,a),onClick:P,onMouseDown:R},E,{ownerState:T,children:_||M.format(a,"dayOfMonth")}))}),I3=f.memo(P3),R3=e=>pe("MuiPickersSlideTransition",e),_n=he("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),D3=["children","className","reduceAnimations","slideDirection","transKey","classes"],N3=e=>{const{classes:t,slideDirection:n}=e,r={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${n}`],exitActive:[`slideExitActiveLeft-${n}`]};return ge(r,R3,t)},A3=U(Yi,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`.${_n["slideEnter-left"]}`]:t["slideEnter-left"]},{[`.${_n["slideEnter-right"]}`]:t["slideEnter-right"]},{[`.${_n.slideEnterActive}`]:t.slideEnterActive},{[`.${_n.slideExit}`]:t.slideExit},{[`.${_n["slideExitActiveLeft-left"]}`]:t["slideExitActiveLeft-left"]},{[`.${_n["slideExitActiveLeft-right"]}`]:t["slideExitActiveLeft-right"]}]})(({theme:e})=>{const t=e.transitions.create("transform",{duration:e.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${_n["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${_n["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${_n.slideEnterActive}`]:{transform:"translate(0%)",transition:t},[`& .${_n.slideExit}`]:{transform:"translate(0%)"},[`& .${_n["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:t,zIndex:0},[`& .${_n["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:t,zIndex:0}}});function $3(e){const t=Ln({props:e,name:"MuiPickersSlideTransition"}),{children:n,className:r,reduceAnimations:s,transKey:i}=t,a=Z(t,D3),l=N3(t),c=Vn();if(s)return o.jsx("div",{className:re(l.root,r),children:n});const d={exit:l.exit,enterActive:l.enterActive,enter:l.enter,exitActive:l.exitActive};return o.jsx(A3,{className:re(l.root,r),childFactory:u=>f.cloneElement(u,{classNames:d}),role:"presentation",children:o.jsx(qu,b({mountOnEnter:!0,unmountOnExit:!0,timeout:c.transitions.duration.complex,classNames:d},a,{children:n}),i)})}const O3=e=>pe("MuiDayCalendar",e);he("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const L3=["parentProps","day","focusableDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],F3=["ownerState"],z3=e=>{const{classes:t}=e;return ge({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},O3,t)},Yx=(Pi+bc*2)*6,B3=U("div",{name:"MuiDayCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({}),W3=U("div",{name:"MuiDayCalendar",slot:"Header",overridesResolver:(e,t)=>t.header})({display:"flex",justifyContent:"center",alignItems:"center"}),H3=U(W,{name:"MuiDayCalendar",slot:"WeekDayLabel",overridesResolver:(e,t)=>t.weekDayLabel})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.secondary})),U3=U(W,{name:"MuiDayCalendar",slot:"WeekNumberLabel",overridesResolver:(e,t)=>t.weekNumberLabel})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:e.palette.text.disabled})),V3=U(W,{name:"MuiDayCalendar",slot:"WeekNumber",overridesResolver:(e,t)=>t.weekNumber})(({theme:e})=>b({},e.typography.caption,{width:Pi,height:Pi,padding:0,margin:`0 ${bc}px`,color:e.palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),Y3=U("div",{name:"MuiDayCalendar",slot:"LoadingContainer",overridesResolver:(e,t)=>t.loadingContainer})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:Yx}),G3=U($3,{name:"MuiDayCalendar",slot:"SlideTransition",overridesResolver:(e,t)=>t.slideTransition})({minHeight:Yx}),q3=U("div",{name:"MuiDayCalendar",slot:"MonthContainer",overridesResolver:(e,t)=>t.monthContainer})({overflow:"hidden"}),K3=U("div",{name:"MuiDayCalendar",slot:"WeekContainer",overridesResolver:(e,t)=>t.weekContainer})({margin:`${bc}px 0`,display:"flex",justifyContent:"center"});function Q3(e){var t,n,r;let{parentProps:s,day:i,focusableDay:a,selectedDays:l,isDateDisabled:c,currentMonthNumber:d,isViewFocused:u}=e,p=Z(e,L3);const{disabled:h,disableHighlightToday:g,isMonthSwitchingAnimating:v,showDaysOutsideCurrentMonth:m,components:y,componentsProps:x,slots:w,slotProps:C,timezone:j}=s,_=on(),S=xc(j),E=a!==null&&_.isSameDay(i,a),T=l.some(O=>_.isSameDay(O,i)),k=_.isSameDay(i,S),M=(t=(n=w==null?void 0:w.day)!=null?n:y==null?void 0:y.Day)!=null?t:I3,N=Br({elementType:M,externalSlotProps:(r=C==null?void 0:C.day)!=null?r:x==null?void 0:x.day,additionalProps:b({disableHighlightToday:g,showDaysOutsideCurrentMonth:m,role:"gridcell",isAnimating:v,"data-timestamp":_.toJsDate(i).valueOf()},p),ownerState:b({},s,{day:i,selected:T})}),L=Z(N,F3),R=f.useMemo(()=>h||c(i),[h,c,i]),P=f.useMemo(()=>_.getMonth(i)!==d,[_,i,d]),D=f.useMemo(()=>{const O=_.startOfMonth(_.setMonth(i,d));return m?_.isSameDay(i,_.startOfWeek(O)):_.isSameDay(i,O)},[d,i,m,_]),I=f.useMemo(()=>{const O=_.endOfMonth(_.setMonth(i,d));return m?_.isSameDay(i,_.endOfWeek(O)):_.isSameDay(i,O)},[d,i,m,_]);return o.jsx(M,b({},L,{day:i,disabled:R,autoFocus:u&&E,today:k,outsideCurrentMonth:P,isFirstVisibleCell:D,isLastVisibleCell:I,selected:T,tabIndex:E?0:-1,"aria-selected":T,"aria-current":k?"date":void 0}))}function X3(e){const t=Ln({props:e,name:"MuiDayCalendar"}),{onFocusedDayChange:n,className:r,currentMonth:s,selectedDays:i,focusedDay:a,loading:l,onSelectedDaysChange:c,onMonthSwitchingAnimationEnd:d,readOnly:u,reduceAnimations:p,renderLoading:h=()=>o.jsx("span",{children:"..."}),slideDirection:g,TransitionProps:v,disablePast:m,disableFuture:y,minDate:x,maxDate:w,shouldDisableDate:C,shouldDisableMonth:j,shouldDisableYear:_,dayOfWeekFormatter:S,hasFocus:E,onFocusedViewChange:T,gridLabelId:k,displayWeekNumber:M,fixedWeekNumber:N,autoFocus:L,timezone:R}=t,P=xc(R),D=on(),I=z3(t),z=Vn().direction==="rtl",$=S||((oe,ce)=>D.format(ce,"weekdayShort").charAt(0).toUpperCase()),A=Bx({shouldDisableDate:C,shouldDisableMonth:j,shouldDisableYear:_,minDate:x,maxDate:w,disablePast:m,disableFuture:y,timezone:R}),H=zx(),[Y,G]=lr({name:"DayCalendar",state:"hasFocus",controlled:E,default:L??!1}),[J,ae]=f.useState(()=>a||P),V=Ne(oe=>{u||c(oe)}),le=oe=>{A(oe)||(n(oe),ae(oe),T==null||T(!0),G(!0))},ee=Ne((oe,ce)=>{switch(oe.key){case"ArrowUp":le(D.addDays(ce,-7)),oe.preventDefault();break;case"ArrowDown":le(D.addDays(ce,7)),oe.preventDefault();break;case"ArrowLeft":{const xe=D.addDays(ce,z?1:-1),ve=D.addMonths(ce,z?1:-1),De=gi({utils:D,date:xe,minDate:z?xe:D.startOfMonth(ve),maxDate:z?D.endOfMonth(ve):xe,isDateDisabled:A,timezone:R});le(De||xe),oe.preventDefault();break}case"ArrowRight":{const xe=D.addDays(ce,z?-1:1),ve=D.addMonths(ce,z?-1:1),De=gi({utils:D,date:xe,minDate:z?D.startOfMonth(ve):xe,maxDate:z?xe:D.endOfMonth(ve),isDateDisabled:A,timezone:R});le(De||xe),oe.preventDefault();break}case"Home":le(D.startOfWeek(ce)),oe.preventDefault();break;case"End":le(D.endOfWeek(ce)),oe.preventDefault();break;case"PageUp":le(D.addMonths(ce,1)),oe.preventDefault();break;case"PageDown":le(D.addMonths(ce,-1)),oe.preventDefault();break}}),X=Ne((oe,ce)=>le(ce)),ie=Ne((oe,ce)=>{Y&&D.isSameDay(J,ce)&&(T==null||T(!1))}),K=D.getMonth(s),B=f.useMemo(()=>i.filter(oe=>!!oe).map(oe=>D.startOfDay(oe)),[D,i]),F=K,q=f.useMemo(()=>f.createRef(),[F]),te=D.startOfWeek(P),ue=f.useMemo(()=>{const oe=D.startOfMonth(s),ce=D.endOfMonth(s);return A(J)||D.isAfterDay(J,ce)||D.isBeforeDay(J,oe)?gi({utils:D,date:J,minDate:oe,maxDate:ce,disablePast:m,disableFuture:y,isDateDisabled:A,timezone:R}):J},[s,y,m,J,A,D,R]),Te=f.useMemo(()=>{const oe=D.setTimezone(s,R),ce=D.getWeekArray(oe);let xe=D.addMonths(oe,1);for(;N&&ce.length<N;){const ve=D.getWeekArray(xe),De=D.isSameDay(ce[ce.length-1][0],ve[0][0]);ve.slice(De?1:0).forEach(Me=>{ce.length<N&&ce.push(Me)}),xe=D.addMonths(xe,1)}return ce},[s,N,D,R]);return o.jsxs(B3,{role:"grid","aria-labelledby":k,className:I.root,children:[o.jsxs(W3,{role:"row",className:I.header,children:[M&&o.jsx(U3,{variant:"caption",role:"columnheader","aria-label":H.calendarWeekNumberHeaderLabel,className:I.weekNumberLabel,children:H.calendarWeekNumberHeaderText}),p3(D,P).map((oe,ce)=>{var xe;const ve=D.format(oe,"weekdayShort");return o.jsx(H3,{variant:"caption",role:"columnheader","aria-label":D.format(D.addDays(te,ce),"weekday"),className:I.weekDayLabel,children:(xe=$==null?void 0:$(ve,oe))!=null?xe:ve},ve+ce.toString())})]}),l?o.jsx(Y3,{className:I.loadingContainer,children:h()}):o.jsx(G3,b({transKey:F,onExited:d,reduceAnimations:p,slideDirection:g,className:re(r,I.slideTransition)},v,{nodeRef:q,children:o.jsx(q3,{ref:q,role:"rowgroup",className:I.monthContainer,children:Te.map((oe,ce)=>o.jsxs(K3,{role:"row",className:I.weekContainer,"aria-rowindex":ce+1,children:[M&&o.jsx(V3,{className:I.weekNumber,role:"rowheader","aria-label":H.calendarWeekNumberAriaLabelText(D.getWeekNumber(oe[0])),children:H.calendarWeekNumberText(D.getWeekNumber(oe[0]))}),oe.map((xe,ve)=>o.jsx(Q3,{parentProps:t,day:xe,selectedDays:B,focusableDay:ue,onKeyDown:ee,onFocus:X,onBlur:ie,onDaySelect:V,isDateDisabled:A,currentMonthNumber:K,isViewFocused:Y,"aria-colindex":ve+1},xe.toString()))]},`week-${oe[0]}`))})}))]})}function Z3(e){return pe("MuiPickersMonth",e)}const xa=he("MuiPickersMonth",["root","monthButton","disabled","selected"]),J3=["autoFocus","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","aria-label","monthsPerRow"],e5=e=>{const{disabled:t,selected:n,classes:r}=e;return ge({root:["root"],monthButton:["monthButton",t&&"disabled",n&&"selected"]},Z3,r)},t5=U("div",{name:"MuiPickersMonth",slot:"Root",overridesResolver:(e,t)=>[t.root]})(({ownerState:e})=>({flexBasis:e.monthsPerRow===3?"33.3%":"25%",display:"flex",alignItems:"center",justifyContent:"center"})),n5=U("button",{name:"MuiPickersMonth",slot:"MonthButton",overridesResolver:(e,t)=>[t.monthButton,{[`&.${xa.disabled}`]:t.disabled},{[`&.${xa.selected}`]:t.selected}]})(({theme:e})=>b({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:no(e.palette.action.active,e.palette.action.hoverOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:no(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${xa.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${xa.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),r5=f.memo(function(t){const n=Ln({props:t,name:"MuiPickersMonth"}),{autoFocus:r,children:s,disabled:i,selected:a,value:l,tabIndex:c,onClick:d,onKeyDown:u,onFocus:p,onBlur:h,"aria-current":g,"aria-label":v}=n,m=Z(n,J3),y=f.useRef(null),x=e5(n);return rn(()=>{if(r){var w;(w=y.current)==null||w.focus()}},[r]),o.jsx(t5,b({className:x.root,ownerState:n},m,{children:o.jsx(n5,{ref:y,disabled:i,type:"button",role:"radio",tabIndex:i?-1:c,"aria-current":g,"aria-checked":a,"aria-label":v,onClick:w=>d(w,l),onKeyDown:w=>u(w,l),onFocus:w=>p(w,l),onBlur:w=>h(w,l),className:x.monthButton,ownerState:n,children:s})}))});function s5(e){return pe("MuiMonthCalendar",e)}he("MuiMonthCalendar",["root"]);const o5=({timezone:e,value:t,defaultValue:n,onChange:r,valueManager:s})=>{var i,a;const l=on(),c=f.useRef(n),d=(i=t??c.current)!=null?i:s.emptyValue,u=f.useMemo(()=>s.getTimezone(l,d),[l,s,d]),p=Ne(m=>u==null?m:s.setTimezone(l,u,m)),h=(a=e??u)!=null?a:"default",g=f.useMemo(()=>s.setTimezone(l,h,d),[s,l,h,d]),v=Ne((m,...y)=>{const x=p(m);r==null||r(x,...y)});return{value:g,handleValueChange:v,timezone:h}},kp=({name:e,timezone:t,value:n,defaultValue:r,onChange:s,valueManager:i})=>{const[a,l]=lr({name:e,state:"value",controlled:n,default:r??i.emptyValue}),c=Ne((d,...u)=>{l(d),s==null||s(d,...u)});return o5({timezone:t,value:a,defaultValue:void 0,onChange:c,valueManager:i})},i5=["className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","autoFocus","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId"],a5=e=>{const{classes:t}=e;return ge({root:["root"]},s5,t)};function l5(e,t){const n=on(),r=Sp(),s=Ln({props:e,name:t});return b({disableFuture:!1,disablePast:!1},s,{minDate:qr(n,s.minDate,r.minDate),maxDate:qr(n,s.maxDate,r.maxDate)})}const c5=U("div",{name:"MuiMonthCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexWrap:"wrap",alignContent:"stretch",padding:"0 4px",width:jp,boxSizing:"border-box"}),d5=f.forwardRef(function(t,n){const r=l5(t,"MuiMonthCalendar"),{className:s,value:i,defaultValue:a,referenceDate:l,disabled:c,disableFuture:d,disablePast:u,maxDate:p,minDate:h,onChange:g,shouldDisableMonth:v,readOnly:m,disableHighlightToday:y,autoFocus:x=!1,onMonthFocus:w,hasFocus:C,onFocusedViewChange:j,monthsPerRow:_=3,timezone:S,gridLabelId:E}=r,T=Z(r,i5),{value:k,handleValueChange:M,timezone:N}=kp({name:"MonthCalendar",timezone:S,value:i,defaultValue:a,onChange:g,valueManager:yo}),L=xc(N),R=jo(),P=on(),D=f.useMemo(()=>yo.getInitialReferenceValue({value:k,utils:P,props:r,timezone:N,referenceDate:l,granularity:fr.month}),[]),I=r,O=a5(I),z=f.useMemo(()=>P.getMonth(L),[P,L]),$=f.useMemo(()=>k!=null?P.getMonth(k):y?null:P.getMonth(D),[k,P,y,D]),[A,H]=f.useState(()=>$||z),[Y,G]=lr({name:"MonthCalendar",state:"hasFocus",controlled:C,default:x??!1}),J=Ne(K=>{G(K),j&&j(K)}),ae=f.useCallback(K=>{const B=P.startOfMonth(u&&P.isAfter(L,h)?L:h),F=P.startOfMonth(d&&P.isBefore(L,p)?L:p),q=P.startOfMonth(K);return P.isBefore(q,B)||P.isAfter(q,F)?!0:v?v(q):!1},[d,u,p,h,L,v,P]),V=Ne((K,B)=>{if(m)return;const F=P.setMonth(k??D,B);M(F)}),le=Ne(K=>{ae(P.setMonth(k??D,K))||(H(K),J(!0),w&&w(K))});f.useEffect(()=>{H(K=>$!==null&&K!==$?$:K)},[$]);const ee=Ne((K,B)=>{switch(K.key){case"ArrowUp":le((12+B-3)%12),K.preventDefault();break;case"ArrowDown":le((12+B+3)%12),K.preventDefault();break;case"ArrowLeft":le((12+B+(R.direction==="ltr"?-1:1))%12),K.preventDefault();break;case"ArrowRight":le((12+B+(R.direction==="ltr"?1:-1))%12),K.preventDefault();break}}),X=Ne((K,B)=>{le(B)}),ie=Ne((K,B)=>{A===B&&J(!1)});return o.jsx(c5,b({ref:n,className:re(O.root,s),ownerState:I,role:"radiogroup","aria-labelledby":E},T,{children:u3(P,k??D).map(K=>{const B=P.getMonth(K),F=P.format(K,"monthShort"),q=P.format(K,"month"),te=B===$,ue=c||ae(K);return o.jsx(r5,{selected:te,value:B,onClick:V,onKeyDown:ee,autoFocus:Y&&B===A,disabled:ue,tabIndex:B===A?0:-1,onFocus:X,onBlur:ie,"aria-current":z===B?"date":void 0,"aria-label":q,monthsPerRow:_,children:F},F)})}))});function u5(e){return pe("MuiPickersYear",e)}const ba=he("MuiPickersYear",["root","yearButton","selected","disabled"]),p5=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","yearsPerRow"],h5=e=>{const{disabled:t,selected:n,classes:r}=e;return ge({root:["root"],yearButton:["yearButton",t&&"disabled",n&&"selected"]},u5,r)},f5=U("div",{name:"MuiPickersYear",slot:"Root",overridesResolver:(e,t)=>[t.root]})(({ownerState:e})=>({flexBasis:e.yearsPerRow===3?"33.3%":"25%",display:"flex",alignItems:"center",justifyContent:"center"})),m5=U("button",{name:"MuiPickersYear",slot:"YearButton",overridesResolver:(e,t)=>[t.yearButton,{[`&.${ba.disabled}`]:t.disabled},{[`&.${ba.selected}`]:t.selected}]})(({theme:e})=>b({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{margin:"6px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.focusOpacity})`:no(e.palette.action.active,e.palette.action.focusOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:no(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${ba.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${ba.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),g5=f.memo(function(t){const n=Ln({props:t,name:"MuiPickersYear"}),{autoFocus:r,className:s,children:i,disabled:a,selected:l,value:c,tabIndex:d,onClick:u,onKeyDown:p,onFocus:h,onBlur:g,"aria-current":v}=n,m=Z(n,p5),y=f.useRef(null),x=h5(n);return f.useEffect(()=>{r&&y.current.focus()},[r]),o.jsx(f5,b({className:re(x.root,s),ownerState:n},m,{children:o.jsx(m5,{ref:y,disabled:a,type:"button",role:"radio",tabIndex:a?-1:d,"aria-current":v,"aria-checked":l,onClick:w=>u(w,c),onKeyDown:w=>p(w,c),onFocus:w=>h(w,c),onBlur:w=>g(w,c),className:x.yearButton,ownerState:n,children:i})}))});function v5(e){return pe("MuiYearCalendar",e)}he("MuiYearCalendar",["root"]);const y5=["autoFocus","className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsPerRow","timezone","gridLabelId"],x5=e=>{const{classes:t}=e;return ge({root:["root"]},v5,t)};function b5(e,t){var n;const r=on(),s=Sp(),i=Ln({props:e,name:t});return b({disablePast:!1,disableFuture:!1},i,{yearsPerRow:(n=i.yearsPerRow)!=null?n:3,minDate:qr(r,i.minDate,s.minDate),maxDate:qr(r,i.maxDate,s.maxDate)})}const C5=U("div",{name:"MuiYearCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",padding:"0 4px",width:jp,maxHeight:j3,boxSizing:"border-box",position:"relative"}),w5=f.forwardRef(function(t,n){const r=b5(t,"MuiYearCalendar"),{autoFocus:s,className:i,value:a,defaultValue:l,referenceDate:c,disabled:d,disableFuture:u,disablePast:p,maxDate:h,minDate:g,onChange:v,readOnly:m,shouldDisableYear:y,disableHighlightToday:x,onYearFocus:w,hasFocus:C,onFocusedViewChange:j,yearsPerRow:_,timezone:S,gridLabelId:E}=r,T=Z(r,y5),{value:k,handleValueChange:M,timezone:N}=kp({name:"YearCalendar",timezone:S,value:a,defaultValue:l,onChange:v,valueManager:yo}),L=xc(N),R=jo(),P=on(),D=f.useMemo(()=>yo.getInitialReferenceValue({value:k,utils:P,props:r,timezone:N,referenceDate:c,granularity:fr.year}),[]),I=r,O=x5(I),z=f.useMemo(()=>P.getYear(L),[P,L]),$=f.useMemo(()=>k!=null?P.getYear(k):x?null:P.getYear(D),[k,P,x,D]),[A,H]=f.useState(()=>$||z),[Y,G]=lr({name:"YearCalendar",state:"hasFocus",controlled:C,default:s??!1}),J=Ne(F=>{G(F),j&&j(F)}),ae=f.useCallback(F=>{if(p&&P.isBeforeYear(F,L)||u&&P.isAfterYear(F,L)||g&&P.isBeforeYear(F,g)||h&&P.isAfterYear(F,h))return!0;if(!y)return!1;const q=P.startOfYear(F);return y(q)},[u,p,h,g,L,y,P]),V=Ne((F,q)=>{if(m)return;const te=P.setYear(k??D,q);M(te)}),le=Ne(F=>{ae(P.setYear(k??D,F))||(H(F),J(!0),w==null||w(F))});f.useEffect(()=>{H(F=>$!==null&&F!==$?$:F)},[$]);const ee=Ne((F,q)=>{switch(F.key){case"ArrowUp":le(q-_),F.preventDefault();break;case"ArrowDown":le(q+_),F.preventDefault();break;case"ArrowLeft":le(q+(R.direction==="ltr"?-1:1)),F.preventDefault();break;case"ArrowRight":le(q+(R.direction==="ltr"?1:-1)),F.preventDefault();break}}),X=Ne((F,q)=>{le(q)}),ie=Ne((F,q)=>{A===q&&J(!1)}),K=f.useRef(null),B=vt(n,K);return f.useEffect(()=>{if(s||K.current===null)return;const F=K.current.querySelector('[tabindex="0"]');if(!F)return;const q=F.offsetHeight,te=F.offsetTop,ue=K.current.clientHeight,Te=K.current.scrollTop,oe=te+q;q>ue||te<Te||(K.current.scrollTop=oe-ue/2-q/2)},[s]),o.jsx(C5,b({ref:B,className:re(O.root,i),ownerState:I,role:"radiogroup","aria-labelledby":E},T,{children:P.getYearRange(g,h).map(F=>{const q=P.getYear(F),te=q===$,ue=d||ae(F);return o.jsx(g5,{selected:te,value:q,onClick:V,onKeyDown:ee,autoFocus:Y&&q===A,disabled:ue,tabIndex:q===A?0:-1,onFocus:X,onBlur:ie,"aria-current":z===q?"date":void 0,yearsPerRow:_,children:P.format(F,"year")},P.format(F,"year"))})}))});function S5({onChange:e,onViewChange:t,openTo:n,view:r,views:s,autoFocus:i,focusedView:a,onFocusedViewChange:l}){var c,d;const u=f.useRef(n),p=f.useRef(s),h=f.useRef(s.includes(n)?n:s[0]),[g,v]=lr({name:"useViews",state:"view",controlled:r,default:h.current}),m=f.useRef(i?g:null),[y,x]=lr({name:"useViews",state:"focusedView",controlled:a,default:m.current});f.useEffect(()=>{(u.current&&u.current!==n||p.current&&p.current.some(k=>!s.includes(k)))&&(v(s.includes(n)?n:s[0]),p.current=s,u.current=n)},[n,v,g,s]);const w=s.indexOf(g),C=(c=s[w-1])!=null?c:null,j=(d=s[w+1])!=null?d:null,_=Ne((k,M)=>{x(M?k:N=>k===N?null:N),l==null||l(k,M)}),S=Ne(k=>{_(k,!0),k!==g&&(v(k),t&&t(k))}),E=Ne(()=>{j&&S(j)}),T=Ne((k,M,N)=>{const L=M==="finish",R=N?s.indexOf(N)<s.length-1:!!j;if(e(k,L&&R?"partial":M,N),N&&N!==g){const D=s[s.indexOf(N)+1];D&&S(D)}else L&&E()});return{view:g,setView:S,focusedView:y,setFocusedView:_,nextView:j,previousView:C,defaultView:s.includes(n)?n:s[0],goToNextView:E,setValueAndGoToNextView:T}}const j5=e=>pe("MuiPickersCalendarHeader",e),k5=he("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),_5=fe(o.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),T5=fe(o.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),E5=fe(o.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight");fe(o.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar");fe(o.jsxs(f.Fragment,{children:[o.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),o.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock");fe(o.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange");fe(o.jsxs(f.Fragment,{children:[o.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),o.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time");fe(o.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");function M5(e){return pe("MuiPickersArrowSwitcher",e)}he("MuiPickersArrowSwitcher",["root","spacer","button"]);const P5=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel"],I5=["ownerState"],R5=["ownerState"],D5=U("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex"}),N5=U("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(e,t)=>t.spacer})(({theme:e})=>({width:e.spacing(3)})),Nm=U(ln,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(e,t)=>t.button})(({ownerState:e})=>b({},e.hidden&&{visibility:"hidden"})),A5=e=>{const{classes:t}=e;return ge({root:["root"],spacer:["spacer"],button:["button"]},M5,t)},$5=f.forwardRef(function(t,n){var r,s,i,a;const c=Vn().direction==="rtl",d=Ln({props:t,name:"MuiPickersArrowSwitcher"}),{children:u,className:p,slots:h,slotProps:g,isNextDisabled:v,isNextHidden:m,onGoToNext:y,nextLabel:x,isPreviousDisabled:w,isPreviousHidden:C,onGoToPrevious:j,previousLabel:_}=d,S=Z(d,P5),E=d,T=A5(E),k={isDisabled:v,isHidden:m,goTo:y,label:x},M={isDisabled:w,isHidden:C,goTo:j,label:_},N=(r=h==null?void 0:h.previousIconButton)!=null?r:Nm,L=Br({elementType:N,externalSlotProps:g==null?void 0:g.previousIconButton,additionalProps:{size:"medium",title:M.label,"aria-label":M.label,disabled:M.isDisabled,edge:"end",onClick:M.goTo},ownerState:b({},E,{hidden:M.isHidden}),className:T.button}),R=(s=h==null?void 0:h.nextIconButton)!=null?s:Nm,P=Br({elementType:R,externalSlotProps:g==null?void 0:g.nextIconButton,additionalProps:{size:"medium",title:k.label,"aria-label":k.label,disabled:k.isDisabled,edge:"start",onClick:k.goTo},ownerState:b({},E,{hidden:k.isHidden}),className:T.button}),D=(i=h==null?void 0:h.leftArrowIcon)!=null?i:T5,I=Br({elementType:D,externalSlotProps:g==null?void 0:g.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),O=Z(I,I5),z=(a=h==null?void 0:h.rightArrowIcon)!=null?a:E5,$=Br({elementType:z,externalSlotProps:g==null?void 0:g.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),A=Z($,R5);return o.jsxs(D5,b({ref:n,className:re(T.root,p),ownerState:E},S,{children:[o.jsx(N,b({},L,{children:c?o.jsx(z,b({},A)):o.jsx(D,b({},O))})),u?o.jsx(W,{variant:"subtitle1",component:"span",children:u}):o.jsx(N5,{className:T.spacer,ownerState:E}),o.jsx(R,b({},P,{children:c?o.jsx(D,b({},O)):o.jsx(z,b({},A))}))]}))});function O5(e,{disableFuture:t,maxDate:n,timezone:r}){const s=on();return f.useMemo(()=>{const i=s.dateWithTimezone(void 0,r),a=s.startOfMonth(t&&s.isBefore(i,n)?i:n);return!s.isAfter(a,e)},[t,n,e,s,r])}function L5(e,{disablePast:t,minDate:n,timezone:r}){const s=on();return f.useMemo(()=>{const i=s.dateWithTimezone(void 0,r),a=s.startOfMonth(t&&s.isAfter(i,n)?i:n);return!s.isBefore(a,e)},[t,n,e,s,r])}const F5=["slots","slotProps","components","componentsProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","timezone"],z5=["ownerState"],B5=e=>{const{classes:t}=e;return ge({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},j5,t)},W5=U("div",{name:"MuiPickersCalendarHeader",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",alignItems:"center",marginTop:16,marginBottom:8,paddingLeft:24,paddingRight:12,maxHeight:30,minHeight:30}),H5=U("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer",overridesResolver:(e,t)=>t.labelContainer})(({theme:e})=>b({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},e.typography.body1,{fontWeight:e.typography.fontWeightMedium})),U5=U("div",{name:"MuiPickersCalendarHeader",slot:"Label",overridesResolver:(e,t)=>t.label})({marginRight:6}),V5=U(ln,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton",overridesResolver:(e,t)=>t.switchViewButton})(({ownerState:e})=>b({marginRight:"auto"},e.view==="year"&&{[`.${k5.switchViewIcon}`]:{transform:"rotate(180deg)"}})),Y5=U(_5,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon",overridesResolver:(e,t)=>t.switchViewIcon})(({theme:e})=>({willChange:"transform",transition:e.transitions.create("transform"),transform:"rotate(0deg)"})),G5=f.forwardRef(function(t,n){var r,s,i,a;const l=zx(),c=on(),d=Ln({props:t,name:"MuiPickersCalendarHeader"}),{slots:u,slotProps:p,components:h,currentMonth:g,disabled:v,disableFuture:m,disablePast:y,maxDate:x,minDate:w,onMonthChange:C,onViewChange:j,view:_,reduceAnimations:S,views:E,labelId:T,className:k,timezone:M}=d,N=Z(d,F5),L=d,R=B5(d),P=(r=(s=u==null?void 0:u.switchViewButton)!=null?s:h==null?void 0:h.SwitchViewButton)!=null?r:V5,D=Br({elementType:P,externalSlotProps:p==null?void 0:p.switchViewButton,additionalProps:{size:"small","aria-label":l.calendarViewSwitchingButtonAriaLabel(_)},ownerState:L,className:R.switchViewButton}),I=(i=(a=u==null?void 0:u.switchViewIcon)!=null?a:h==null?void 0:h.SwitchViewIcon)!=null?i:Y5,O=Br({elementType:I,externalSlotProps:p==null?void 0:p.switchViewIcon,ownerState:void 0,className:R.switchViewIcon}),z=Z(O,z5),$=()=>C(c.addMonths(g,1),"left"),A=()=>C(c.addMonths(g,-1),"right"),H=O5(g,{disableFuture:m,maxDate:x,timezone:M}),Y=L5(g,{disablePast:y,minDate:w,timezone:M}),G=()=>{if(!(E.length===1||!j||v))if(E.length===2)j(E.find(J=>J!==_)||E[0]);else{const J=E.indexOf(_)!==0?0:1;j(E[J])}};return E.length===1&&E[0]==="year"?null:o.jsxs(W5,b({},N,{ownerState:L,className:re(k,R.root),ref:n,children:[o.jsxs(H5,{role:"presentation",onClick:G,ownerState:L,"aria-live":"polite",className:R.labelContainer,children:[o.jsx(Wx,{reduceAnimations:S,transKey:c.format(g,"monthAndYear"),children:o.jsx(U5,{id:T,ownerState:L,className:R.label,children:c.format(g,"monthAndYear")})}),E.length>1&&!v&&o.jsx(P,b({},D,{children:o.jsx(I,b({},z))}))]}),o.jsx(Ki,{in:_==="day",children:o.jsx($5,{slots:u,slotProps:p,onGoToPrevious:A,isPreviousDisabled:Y,previousLabel:l.previousMonth,onGoToNext:$,isNextDisabled:H,nextLabel:l.nextMonth})})]}))}),q5=U("div")({overflow:"hidden",width:jp,maxHeight:Hx,display:"flex",flexDirection:"column",margin:"0 auto"}),K5="@media (prefers-reduced-motion: reduce)",Zs=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),Am=Zs&&Zs[1]?parseInt(Zs[1],10):null,$m=Zs&&Zs[2]?parseInt(Zs[2],10):null,Q5=Am&&Am<10||$m&&$m<13||!1,X5=()=>uC(K5,{defaultMatches:!1})||Q5,Z5=e=>pe("MuiDateCalendar",e);he("MuiDateCalendar",["root","viewTransitionContainer"]);const J5=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","defaultCalendarMonth","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","components","componentsProps","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsPerRow","monthsPerRow","timezone"],eL=e=>{const{classes:t}=e;return ge({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},Z5,t)};function tL(e,t){var n,r,s,i,a,l,c;const d=on(),u=Sp(),p=X5(),h=Ln({props:e,name:t});return b({},h,{loading:(n=h.loading)!=null?n:!1,disablePast:(r=h.disablePast)!=null?r:!1,disableFuture:(s=h.disableFuture)!=null?s:!1,openTo:(i=h.openTo)!=null?i:"day",views:(a=h.views)!=null?a:["year","day"],reduceAnimations:(l=h.reduceAnimations)!=null?l:p,renderLoading:(c=h.renderLoading)!=null?c:()=>o.jsx("span",{children:"..."}),minDate:qr(d,h.minDate,u.minDate),maxDate:qr(d,h.maxDate,u.maxDate)})}const nL=U(q5,{name:"MuiDateCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"column",height:Hx}),rL=U(Wx,{name:"MuiDateCalendar",slot:"ViewTransitionContainer",overridesResolver:(e,t)=>t.viewTransitionContainer})({}),sL=f.forwardRef(function(t,n){var r,s,i;const a=on(),l=ko(),c=tL(t,"MuiDateCalendar"),{autoFocus:d,onViewChange:u,value:p,defaultValue:h,referenceDate:g,disableFuture:v,disablePast:m,defaultCalendarMonth:y,onChange:x,onYearChange:w,onMonthChange:C,reduceAnimations:j,shouldDisableDate:_,shouldDisableMonth:S,shouldDisableYear:E,view:T,views:k,openTo:M,className:N,disabled:L,readOnly:R,minDate:P,maxDate:D,disableHighlightToday:I,focusedView:O,onFocusedViewChange:z,showDaysOutsideCurrentMonth:$,fixedWeekNumber:A,dayOfWeekFormatter:H,components:Y,componentsProps:G,slots:J,slotProps:ae,loading:V,renderLoading:le,displayWeekNumber:ee,yearsPerRow:X,monthsPerRow:ie,timezone:K}=c,B=Z(c,J5),{value:F,handleValueChange:q,timezone:te}=kp({name:"DateCalendar",timezone:K,value:p,defaultValue:h,onChange:x,valueManager:yo}),{view:ue,setView:Te,focusedView:oe,setFocusedView:ce,goToNextView:xe,setValueAndGoToNextView:ve}=S5({view:T,views:k,openTo:M,onChange:q,onViewChange:u,autoFocus:d,focusedView:O,onFocusedViewChange:z}),{referenceDate:De,calendarState:Me,changeFocusedDay:Re,changeMonth:Ct,handleChangeMonth:Nt,isDateDisabled:At,onMonthSwitchingAnimationEnd:Qe}=b3({value:F,defaultCalendarMonth:y,referenceDate:g,reduceAnimations:j,onMonthChange:C,minDate:P,maxDate:D,shouldDisableDate:_,disablePast:m,disableFuture:v,timezone:te}),ke=L&&F||P,Et=L&&F||D,kn=`${l}-grid-label`,Xt=oe!==null,je=(r=(s=J==null?void 0:J.calendarHeader)!=null?s:Y==null?void 0:Y.CalendarHeader)!=null?r:G5,st=Br({elementType:je,externalSlotProps:(i=ae==null?void 0:ae.calendarHeader)!=null?i:G==null?void 0:G.calendarHeader,additionalProps:{views:k,view:ue,currentMonth:Me.currentMonth,onViewChange:Te,onMonthChange:(ht,gn)=>Nt({newMonth:ht,direction:gn}),minDate:ke,maxDate:Et,disabled:L,disablePast:m,disableFuture:v,reduceAnimations:j,timezone:te,labelId:kn,slots:J,slotProps:ae},ownerState:c}),xt=Ne(ht=>{const gn=a.startOfMonth(ht),Zr=a.endOfMonth(ht),Yn=At(ht)?gi({utils:a,date:ht,minDate:a.isBefore(P,gn)?gn:P,maxDate:a.isAfter(D,Zr)?Zr:D,disablePast:m,disableFuture:v,isDateDisabled:At,timezone:te}):ht;Yn?(ve(Yn,"finish"),C==null||C(gn)):(xe(),Ct(gn)),Re(Yn,!0)}),mn=Ne(ht=>{const gn=a.startOfYear(ht),Zr=a.endOfYear(ht),Yn=At(ht)?gi({utils:a,date:ht,minDate:a.isBefore(P,gn)?gn:P,maxDate:a.isAfter(D,Zr)?Zr:D,disablePast:m,disableFuture:v,isDateDisabled:At,timezone:te}):ht;Yn?(ve(Yn,"finish"),w==null||w(Yn)):(xe(),Ct(gn)),Re(Yn,!0)}),Rr=Ne(ht=>q(ht&&pl(a,ht,F??De),"finish",ue));f.useEffect(()=>{F!=null&&a.isValid(F)&&Ct(F)},[F]);const Ts=c,Ji=eL(Ts),Ao={disablePast:m,disableFuture:v,maxDate:D,minDate:P},$o={disableHighlightToday:I,readOnly:R,disabled:L,timezone:te,gridLabelId:kn},Es=f.useRef(ue);f.useEffect(()=>{Es.current!==ue&&(oe===Es.current&&ce(ue,!0),Es.current=ue)},[oe,ce,ue]);const ea=f.useMemo(()=>[F],[F]);return o.jsxs(nL,b({ref:n,className:re(Ji.root,N),ownerState:Ts},B,{children:[o.jsx(je,b({},st)),o.jsx(rL,{reduceAnimations:j,className:Ji.viewTransitionContainer,transKey:ue,ownerState:Ts,children:o.jsxs("div",{children:[ue==="year"&&o.jsx(w5,b({},Ao,$o,{value:F,onChange:mn,shouldDisableYear:E,hasFocus:Xt,onFocusedViewChange:ht=>ce("year",ht),yearsPerRow:X,referenceDate:De})),ue==="month"&&o.jsx(d5,b({},Ao,$o,{hasFocus:Xt,className:N,value:F,onChange:xt,shouldDisableMonth:S,onFocusedViewChange:ht=>ce("month",ht),monthsPerRow:ie,referenceDate:De})),ue==="day"&&o.jsx(X3,b({},Me,Ao,$o,{onMonthSwitchingAnimationEnd:Qe,onFocusedDayChange:Re,reduceAnimations:j,selectedDays:ea,onSelectedDaysChange:Rr,shouldDisableDate:_,shouldDisableMonth:S,shouldDisableYear:E,hasFocus:Xt,onFocusedViewChange:ht=>ce("day",ht),showDaysOutsideCurrentMonth:$,fixedWeekNumber:A,dayOfWeekFormatter:H,displayWeekNumber:ee,components:Y,componentsProps:G,slots:J,slotProps:ae,loading:V,renderLoading:le}))]})})]}))});function Gx(e){return de(1,arguments),Ix(e,Date.now())}function Js(){return Cs(Date.now())}function Om(e,t,n){de(2,arguments);var r=Mr(e,n),s=Mr(t,n);return r.getTime()===s.getTime()}function ni(e,t){if(e.one!==void 0&&t===1)return e.one;var n=t%10,r=t%100;return n===1&&r!==11?e.singularNominative.replace("{{count}}",String(t)):n>=2&&n<=4&&(r<10||r>20)?e.singularGenitive.replace("{{count}}",String(t)):e.pluralGenitive.replace("{{count}}",String(t))}function Zt(e){return function(t,n){return n!=null&&n.addSuffix?n.comparison&&n.comparison>0?e.future?ni(e.future,t):"через "+ni(e.regular,t):e.past?ni(e.past,t):ni(e.regular,t)+" назад":ni(e.regular,t)}}var oL={lessThanXSeconds:Zt({regular:{one:"меньше секунды",singularNominative:"меньше {{count}} секунды",singularGenitive:"меньше {{count}} секунд",pluralGenitive:"меньше {{count}} секунд"},future:{one:"меньше, чем через секунду",singularNominative:"меньше, чем через {{count}} секунду",singularGenitive:"меньше, чем через {{count}} секунды",pluralGenitive:"меньше, чем через {{count}} секунд"}}),xSeconds:Zt({regular:{singularNominative:"{{count}} секунда",singularGenitive:"{{count}} секунды",pluralGenitive:"{{count}} секунд"},past:{singularNominative:"{{count}} секунду назад",singularGenitive:"{{count}} секунды назад",pluralGenitive:"{{count}} секунд назад"},future:{singularNominative:"через {{count}} секунду",singularGenitive:"через {{count}} секунды",pluralGenitive:"через {{count}} секунд"}}),halfAMinute:function(t,n){return n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"через полминуты":"полминуты назад":"полминуты"},lessThanXMinutes:Zt({regular:{one:"меньше минуты",singularNominative:"меньше {{count}} минуты",singularGenitive:"меньше {{count}} минут",pluralGenitive:"меньше {{count}} минут"},future:{one:"меньше, чем через минуту",singularNominative:"меньше, чем через {{count}} минуту",singularGenitive:"меньше, чем через {{count}} минуты",pluralGenitive:"меньше, чем через {{count}} минут"}}),xMinutes:Zt({regular:{singularNominative:"{{count}} минута",singularGenitive:"{{count}} минуты",pluralGenitive:"{{count}} минут"},past:{singularNominative:"{{count}} минуту назад",singularGenitive:"{{count}} минуты назад",pluralGenitive:"{{count}} минут назад"},future:{singularNominative:"через {{count}} минуту",singularGenitive:"через {{count}} минуты",pluralGenitive:"через {{count}} минут"}}),aboutXHours:Zt({regular:{singularNominative:"около {{count}} часа",singularGenitive:"около {{count}} часов",pluralGenitive:"около {{count}} часов"},future:{singularNominative:"приблизительно через {{count}} час",singularGenitive:"приблизительно через {{count}} часа",pluralGenitive:"приблизительно через {{count}} часов"}}),xHours:Zt({regular:{singularNominative:"{{count}} час",singularGenitive:"{{count}} часа",pluralGenitive:"{{count}} часов"}}),xDays:Zt({regular:{singularNominative:"{{count}} день",singularGenitive:"{{count}} дня",pluralGenitive:"{{count}} дней"}}),aboutXWeeks:Zt({regular:{singularNominative:"около {{count}} недели",singularGenitive:"около {{count}} недель",pluralGenitive:"около {{count}} недель"},future:{singularNominative:"приблизительно через {{count}} неделю",singularGenitive:"приблизительно через {{count}} недели",pluralGenitive:"приблизительно через {{count}} недель"}}),xWeeks:Zt({regular:{singularNominative:"{{count}} неделя",singularGenitive:"{{count}} недели",pluralGenitive:"{{count}} недель"}}),aboutXMonths:Zt({regular:{singularNominative:"около {{count}} месяца",singularGenitive:"около {{count}} месяцев",pluralGenitive:"около {{count}} месяцев"},future:{singularNominative:"приблизительно через {{count}} месяц",singularGenitive:"приблизительно через {{count}} месяца",pluralGenitive:"приблизительно через {{count}} месяцев"}}),xMonths:Zt({regular:{singularNominative:"{{count}} месяц",singularGenitive:"{{count}} месяца",pluralGenitive:"{{count}} месяцев"}}),aboutXYears:Zt({regular:{singularNominative:"около {{count}} года",singularGenitive:"около {{count}} лет",pluralGenitive:"около {{count}} лет"},future:{singularNominative:"приблизительно через {{count}} год",singularGenitive:"приблизительно через {{count}} года",pluralGenitive:"приблизительно через {{count}} лет"}}),xYears:Zt({regular:{singularNominative:"{{count}} год",singularGenitive:"{{count}} года",pluralGenitive:"{{count}} лет"}}),overXYears:Zt({regular:{singularNominative:"больше {{count}} года",singularGenitive:"больше {{count}} лет",pluralGenitive:"больше {{count}} лет"},future:{singularNominative:"больше, чем через {{count}} год",singularGenitive:"больше, чем через {{count}} года",pluralGenitive:"больше, чем через {{count}} лет"}}),almostXYears:Zt({regular:{singularNominative:"почти {{count}} год",singularGenitive:"почти {{count}} года",pluralGenitive:"почти {{count}} лет"},future:{singularNominative:"почти через {{count}} год",singularGenitive:"почти через {{count}} года",pluralGenitive:"почти через {{count}} лет"}})},iL=function(t,n,r){return oL[t](n,r)},aL={full:"EEEE, d MMMM y 'г.'",long:"d MMMM y 'г.'",medium:"d MMM y 'г.'",short:"dd.MM.y"},lL={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},cL={any:"{{date}}, {{time}}"},dL={date:Xs({formats:aL,defaultWidth:"full"}),time:Xs({formats:lL,defaultWidth:"full"}),dateTime:Xs({formats:cL,defaultWidth:"any"})},_p=["воскресенье","понедельник","вторник","среду","четверг","пятницу","субботу"];function uL(e){var t=_p[e];switch(e){case 0:return"'в прошлое "+t+" в' p";case 1:case 2:case 4:return"'в прошлый "+t+" в' p";case 3:case 5:case 6:return"'в прошлую "+t+" в' p"}}function Lm(e){var t=_p[e];return e===2?"'во "+t+" в' p":"'в "+t+" в' p"}function pL(e){var t=_p[e];switch(e){case 0:return"'в следующее "+t+" в' p";case 1:case 2:case 4:return"'в следующий "+t+" в' p";case 3:case 5:case 6:return"'в следующую "+t+" в' p"}}var hL={lastWeek:function(t,n,r){var s=t.getUTCDay();return Om(t,n,r)?Lm(s):uL(s)},yesterday:"'вчера в' p",today:"'сегодня в' p",tomorrow:"'завтра в' p",nextWeek:function(t,n,r){var s=t.getUTCDay();return Om(t,n,r)?Lm(s):pL(s)},other:"P"},fL=function(t,n,r,s){var i=hL[t];return typeof i=="function"?i(n,r,s):i},mL={narrow:["до н.э.","н.э."],abbreviated:["до н. э.","н. э."],wide:["до нашей эры","нашей эры"]},gL={narrow:["1","2","3","4"],abbreviated:["1-й кв.","2-й кв.","3-й кв.","4-й кв."],wide:["1-й квартал","2-й квартал","3-й квартал","4-й квартал"]},vL={narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","март","апр.","май","июнь","июль","авг.","сент.","окт.","нояб.","дек."],wide:["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"]},yL={narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","мар.","апр.","мая","июн.","июл.","авг.","сент.","окт.","нояб.","дек."],wide:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"]},xL={narrow:["В","П","В","С","Ч","П","С"],short:["вс","пн","вт","ср","чт","пт","сб"],abbreviated:["вск","пнд","втр","срд","чтв","птн","суб"],wide:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"]},bL={narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утро",afternoon:"день",evening:"вечер",night:"ночь"}},CL={narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утра",afternoon:"дня",evening:"вечера",night:"ночи"}},wL=function(t,n){var r=Number(t),s=n==null?void 0:n.unit,i;return s==="date"?i="-е":s==="week"||s==="minute"||s==="second"?i="-я":i="-й",r+i},SL={ordinalNumber:wL,era:Kn({values:mL,defaultWidth:"wide"}),quarter:Kn({values:gL,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Kn({values:vL,defaultWidth:"wide",formattingValues:yL,defaultFormattingWidth:"wide"}),day:Kn({values:xL,defaultWidth:"wide"}),dayPeriod:Kn({values:bL,defaultWidth:"any",formattingValues:CL,defaultFormattingWidth:"wide"})},jL=/^(\d+)(-?(е|я|й|ое|ье|ая|ья|ый|ой|ий|ый))?/i,kL=/\d+/i,_L={narrow:/^((до )?н\.?\s?э\.?)/i,abbreviated:/^((до )?н\.?\s?э\.?)/i,wide:/^(до нашей эры|нашей эры|наша эра)/i},TL={any:[/^д/i,/^н/i]},EL={narrow:/^[1234]/i,abbreviated:/^[1234](-?[ыои]?й?)? кв.?/i,wide:/^[1234](-?[ыои]?й?)? квартал/i},ML={any:[/1/i,/2/i,/3/i,/4/i]},PL={narrow:/^[яфмаисонд]/i,abbreviated:/^(янв|фев|март?|апр|ма[йя]|июн[ья]?|июл[ья]?|авг|сент?|окт|нояб?|дек)\.?/i,wide:/^(январ[ья]|феврал[ья]|марта?|апрел[ья]|ма[йя]|июн[ья]|июл[ья]|августа?|сентябр[ья]|октябр[ья]|октябр[ья]|ноябр[ья]|декабр[ья])/i},IL={narrow:[/^я/i,/^ф/i,/^м/i,/^а/i,/^м/i,/^и/i,/^и/i,/^а/i,/^с/i,/^о/i,/^н/i,/^я/i],any:[/^я/i,/^ф/i,/^мар/i,/^ап/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^ав/i,/^с/i,/^о/i,/^н/i,/^д/i]},RL={narrow:/^[впсч]/i,short:/^(вс|во|пн|по|вт|ср|чт|че|пт|пя|сб|су)\.?/i,abbreviated:/^(вск|вос|пнд|пон|втр|вто|срд|сре|чтв|чет|птн|пят|суб).?/i,wide:/^(воскресень[ея]|понедельника?|вторника?|сред[аы]|четверга?|пятниц[аы]|суббот[аы])/i},DL={narrow:[/^в/i,/^п/i,/^в/i,/^с/i,/^ч/i,/^п/i,/^с/i],any:[/^в[ос]/i,/^п[он]/i,/^в/i,/^ср/i,/^ч/i,/^п[ят]/i,/^с[уб]/i]},NL={narrow:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,abbreviated:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,wide:/^([дп]п|полночь|полдень|утр[оа]|день|дня|вечера?|ноч[ьи])/i},AL={any:{am:/^дп/i,pm:/^пп/i,midnight:/^полн/i,noon:/^полд/i,morning:/^у/i,afternoon:/^д[ен]/i,evening:/^в/i,night:/^н/i}},$L={ordinalNumber:Mx({matchPattern:jL,parsePattern:kL,valueCallback:function(t){return parseInt(t,10)}}),era:Qn({matchPatterns:_L,defaultMatchWidth:"wide",parsePatterns:TL,defaultParseWidth:"any"}),quarter:Qn({matchPatterns:EL,defaultMatchWidth:"wide",parsePatterns:ML,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Qn({matchPatterns:PL,defaultMatchWidth:"wide",parsePatterns:IL,defaultParseWidth:"any"}),day:Qn({matchPatterns:RL,defaultMatchWidth:"wide",parsePatterns:DL,defaultParseWidth:"any"}),dayPeriod:Qn({matchPatterns:NL,defaultMatchWidth:"wide",parsePatterns:AL,defaultParseWidth:"any"})},ws={code:"ru",formatDistance:iL,formatLong:dL,formatRelative:fL,localize:SL,match:$L,options:{weekStartsOn:1,firstWeekContainsDate:1}};function OL(){const{clubId:e,courtId:t}=xo(),n=Sn(),[r,s]=f.useState(Js()),[i,a]=f.useState(null),[l,c]=f.useState(null),[d,u]=f.useState(!0),[p,h]=f.useState("");f.useEffect(()=>{g()},[e,t]);const g=async()=>{if(!e||!t){h("Некорректные параметры"),u(!1);return}try{const y=await St(Ie(se,"courts",t));if(!y.exists()){h("Корт не найден"),u(!1);return}const x={id:y.id,...y.data()};if(x.venueId!==e){h("Корт не принадлежит указанному клубу"),u(!1);return}a(x);const w=await St(Ie(se,"venues",e));w.exists()&&c({id:w.id,...w.data()}),u(!1)}catch(y){console.error("Error loading data:",y),h("Ошибка при загрузке данных"),u(!1)}},v=()=>{r&&n(`/club/${e}/court/${t}/time?date=${ft(r,"yyyy-MM-dd")}`)},m=y=>{const x=Js();if(y<x)return!0;const w=Hr(x,30);if(y>w)return!0;if(l!=null&&l.workingHours){const j=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][y.getDay()],_=l.workingHours[j];if(!_||!_.open&&!_.close)return!0}return!1};return d?o.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),o.jsx("p",{className:"body-small",children:"Загрузка..."})]}),o.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]}):p?o.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:o.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[o.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"❌"}),o.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Ошибка"}),o.jsx("p",{className:"body",style:{color:"var(--text-secondary)"},children:p})]})}):o.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[o.jsx("div",{style:{backgroundColor:"var(--white)",padding:"var(--spacing-md) var(--spacing-xl)",boxShadow:"var(--shadow-sm)",position:"sticky",top:0,zIndex:10},children:o.jsx("button",{onClick:()=>n(-1),style:{background:"none",border:"none",fontSize:"20px",cursor:"pointer",padding:"8px",marginLeft:"-8px",borderRadius:"50%",display:"inline-flex",alignItems:"center",justifyContent:"center",transition:"background 0.2s"},onMouseEnter:y=>y.currentTarget.style.background="var(--extra-light-gray)",onMouseLeave:y=>y.currentTarget.style.background="none",children:"←"})}),o.jsxs("div",{style:{padding:"var(--spacing-xl)"},children:[o.jsx("h1",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Выберите дату"}),i&&l&&o.jsxs("p",{className:"body-small",style:{marginBottom:"var(--spacing-xl)"},children:[l.name," • ",i.name]}),o.jsx("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)"},children:o.jsx(n3,{dateAdapter:e3,adapterLocale:ws,children:o.jsx(sL,{value:r,onChange:y=>s(y),shouldDisableDate:m,disablePast:!0,sx:{width:"100%",".MuiDayCalendar-weekContainer":{justifyContent:"space-around"},".MuiPickersDay-root":{fontSize:"var(--text-body)","&:hover":{backgroundColor:"var(--primary-light)"},"&.Mui-selected":{backgroundColor:"var(--primary)","&:hover":{backgroundColor:"var(--primary-dark)"}}},".MuiPickersCalendarHeader-label":{fontSize:"var(--text-body)",fontWeight:600},".MuiPickersArrowSwitcher-button":{color:"var(--primary)"}}})})}),r&&o.jsxs("div",{className:"info-section",style:{marginBottom:"var(--spacing-xl)"},children:[o.jsx("p",{className:"body-small",style:{marginBottom:"var(--spacing-xs)"},children:"Выбранная дата:"}),o.jsx("h3",{className:"h3",children:ft(r,"d MMMM yyyy",{locale:ws})})]}),o.jsx("div",{style:{backgroundColor:"var(--info)",color:"white",padding:"var(--spacing-md)",borderRadius:"var(--radius-md)",marginBottom:"calc(80px + var(--spacing-xl))"},children:o.jsx("p",{className:"caption",style:{color:"white"},children:"ℹ️ Бронирование доступно на 30 дней вперед. Серым цветом отмечены дни, когда клуб не работает."})})]}),o.jsx("div",{className:"sticky-bottom-bar",children:o.jsx("button",{className:"flutter-button",style:{width:"100%"},onClick:v,disabled:!r,children:"Выбрать время →"})})]})}function LL(){var O,z;const{clubId:e,courtId:t}=xo(),n=Sn(),[r]=zm(),s=r.get("date"),i=s?Vt(s,"yyyy-MM-dd",new Date):new Date,[a,l]=f.useState(null),[c,d]=f.useState(null),[u,p]=f.useState([]),[h,g]=f.useState(null),[v,m]=f.useState(60),[y,x]=f.useState([60,90,120]),[w,C]=f.useState(!0),[j,_]=f.useState(""),[S,E]=f.useState([]),[T,k]=f.useState([]),[M,N]=f.useState(0);f.useEffect(()=>{L()},[]),f.useEffect(()=>{R()},[e,t,M]),f.useEffect(()=>{c&&a&&P()},[c,a,u,v,M]);const L=()=>{const $=[],A=["Вс","Пн","Вт","Ср","Чт","Пт","Сб"];let H=-1;for(let Y=0;Y<7;Y++){const G=Hr(Js(),Y);$.push({date:G,day:A[G.getDay()],dayNumber:ft(G,"d")}),ft(G,"yyyy-MM-dd")===s&&(H=Y)}k($),N(H>=0?H:0)},R=async()=>{var $;if(!e||!t){_("Некорректные параметры"),C(!1);return}try{const A=await St(Ie(se,"courts",t));if(!A.exists()){_("Корт не найден"),C(!1);return}const H={id:A.id,...A.data()};l(H);const Y=await St(Ie(se,"venues",e));if(Y.exists()){const ee={id:Y.id,...Y.data()};if(d(ee),ee.bookingDurations){const X=[60,90,120].filter(ie=>ee.bookingDurations[ie]!==!1);x(X),X.includes(v)||m(X[0]||60)}}const G=(($=T[M])==null?void 0:$.date)||i,J=ft(G,"yyyy-MM-dd"),ae=Ge(Pe(se,"bookings"),Ee("courtId","==",t),Ee("date","==",J),Ee("status","in",["confirmed","pending"])),le=(await qe(ae)).docs.map(ee=>({id:ee.id,...ee.data()}));p(le),C(!1)}catch(A){console.error("Error loading data:",A),_("Ошибка при загрузке данных"),C(!1)}},P=()=>{var ee;if(!(c!=null&&c.workingHours)||!a)return;const $=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],A=((ee=T[M])==null?void 0:ee.date)||i,H=$[A.getDay()],Y=c.workingHours[H];if(!Y)return;const G=[],J=Vt(Y.open,"HH:mm",A),ae=Vt(Y.close,"HH:mm",A);let V=J;const le=new Date;for(;tn(V,ae);){const X=ft(V,"HH:mm"),ie=nr(V,v);let K=!0;if(Gx(A)&&tn(V,le)&&(K=!1),Hn(ie,ae)&&(K=!1),K)for(const q of u){const te=Vt(q.startTime,"HH:mm",A),ue=Vt(q.endTime,"HH:mm",A);if(Hn(V,te)&&tn(V,ue)||Hn(ie,te)&&tn(ie,ue)||tn(V,te)&&Hn(ie,ue)||ft(V,"HH:mm")===q.startTime){K=!1;break}}let B=a.pricePerHour;const F=V.getHours();F>=18&&F<21?B=Math.round(B*1.2):(F>=21||F<7)&&(B=Math.round(B*.8)),G.push({time:X,available:K,price:Math.round(B*v/60)}),V=nr(V,30)}E(G)},D=()=>{var H;if(!h)return;const $=((H=T[M])==null?void 0:H.date)||i,A=ft($,"yyyy-MM-dd");n(`/club/${e}/court/${t}/game-type?date=${A}&time=${h}&duration=${v}`)},I=$=>{N($),g(null)};return w?o.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),o.jsx("p",{className:"body-small",children:"Загрузка..."})]}),o.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]}):j?o.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:o.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[o.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"❌"}),o.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Ошибка"}),o.jsx("p",{className:"body",style:{color:"var(--text-secondary)"},children:j})]})}):o.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[o.jsx("div",{style:{backgroundColor:"var(--white)",padding:"var(--spacing-md) var(--spacing-xl)",boxShadow:"var(--shadow-sm)"},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-md)"},children:[o.jsx("button",{onClick:()=>n(-1),style:{width:"40px",height:"40px",background:"var(--divider)",border:"none",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"},children:"←"}),o.jsxs("div",{children:[o.jsx("h1",{className:"h3",style:{marginBottom:"4px"},children:"Выберите время"}),a&&c&&o.jsxs("p",{className:"caption",children:[c.name," • ",a.name]})]})]})}),o.jsx("div",{style:{height:"90px",padding:"var(--spacing-md) 0",backgroundColor:"var(--white)",borderBottom:"1px solid var(--divider)"},children:o.jsx("div",{style:{display:"flex",gap:"var(--spacing-sm)",padding:"0 var(--spacing-xl)",overflowX:"auto",WebkitOverflowScrolling:"touch"},children:T.map(($,A)=>{const H=M===A;return o.jsxs("button",{onClick:()=>I(A),style:{minWidth:"60px",height:"60px",backgroundColor:H?"var(--primary)":"var(--white)",color:H?"white":"var(--dark)",border:`2px solid ${H?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},children:[o.jsx("span",{className:"caption-bold",children:$.day}),o.jsx("span",{className:"body-bold",children:$.dayNumber})]},A)})})}),o.jsxs("div",{style:{padding:"var(--spacing-xl) var(--spacing-xl) 0"},children:[o.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Длительность игры"}),o.jsx("div",{style:{display:"flex",gap:"var(--spacing-sm)"},children:[60,90,120].map($=>{const A=y.includes($);return o.jsx("button",{onClick:()=>{A&&(m($),g(null))},disabled:!A,style:{flex:1,padding:"var(--spacing-sm)",backgroundColor:v===$?"var(--primary)":A?"var(--white)":"var(--extra-light-gray)",color:v===$?"white":A?"var(--dark)":"var(--gray)",border:`2px solid ${v===$?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",cursor:A?"pointer":"not-allowed",fontWeight:600,fontSize:"var(--text-body)",transition:"all 0.2s",opacity:A?1:.5},children:$===60?"1 час":$===90?"1.5 часа":"2 часа"},$)})})]}),o.jsxs("div",{style:{padding:"var(--spacing-xl)"},children:[o.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Свободное время"}),S.length===0?o.jsx("div",{className:"flutter-card",style:{textAlign:"center",padding:"var(--spacing-2xl)"},children:o.jsx("p",{className:"body",style:{color:"var(--gray)"},children:"Нет доступных слотов на выбранную дату"})}):o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"10px",marginBottom:"calc(120px + var(--spacing-xl))"},children:S.map($=>{const A=h===$.time;return o.jsxs("button",{onClick:()=>$.available&&g($.time),disabled:!$.available,style:{padding:"var(--spacing-sm) var(--spacing-xs)",backgroundColor:$.available?A?"var(--primary)":"var(--primary-light)":"var(--busy)",color:$.available?A?"white":"var(--dark)":"var(--busy-text)",border:`2px solid ${$.available?A?"var(--primary)":"var(--available)":"var(--busy)"}`,borderRadius:"var(--radius-sm)",cursor:$.available?"pointer":"not-allowed",opacity:1,transition:"all 0.2s",display:"flex",flexDirection:"column",alignItems:"center",gap:"2px",height:"60px",justifyContent:"center"},children:[o.jsx("span",{className:"body-bold",children:$.time}),$.available?o.jsx("span",{className:"caption",style:{color:A?"white":"var(--primary-dark)",fontSize:"var(--text-caption)"},children:A?"Выбрано":`${$.price}₽`}):o.jsx("span",{className:"caption",style:{color:"var(--busy-text)"},children:"Занято"})]},$.time)})})]}),o.jsxs("div",{style:{padding:"0 var(--spacing-xl) var(--spacing-xl)",display:"flex",gap:"var(--spacing-lg)",flexWrap:"wrap"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[o.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--white)",border:"2px solid var(--extra-light-gray)",borderRadius:"4px"}}),o.jsx("span",{className:"caption",children:"Свободно"})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[o.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--busy)",borderRadius:"4px"}}),o.jsx("span",{className:"caption",children:"Занято"})]})]}),o.jsxs("div",{className:"sticky-bottom-bar",style:{padding:"var(--spacing-xl)",borderRadius:"var(--radius-lg) var(--radius-lg) 0 0"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--spacing-sm)"},children:[o.jsx("span",{className:"body-small",style:{color:"var(--gray)"},children:h&&T[M]&&`${ft(T[M].date,"d MMMM",{locale:ws})}, ${h}-${ft(nr(Vt(h,"HH:mm",new Date),v),"HH:mm")}`}),h&&((O=S.find($=>$.time===h))==null?void 0:O.available)&&o.jsxs("span",{className:"h2",children:[(z=S.find($=>$.time===h))==null?void 0:z.price," ₽"]})]}),o.jsx("button",{className:"flutter-button",style:{width:"100%"},onClick:D,disabled:!h,children:"Далее"})]})]})}function FL(){const{clubId:e,courtId:t}=xo(),n=Sn(),[r]=zm(),s=r.get("date"),i=r.get("time"),a=r.get("duration"),[l,c]=f.useState("open"),[d,u]=f.useState(!1),[p,h]=f.useState({name:"",phone:"",email:"",comment:""}),[g,v]=f.useState({}),[m,y]=f.useState(!1),x=[{id:"private",title:"Приватная игра",subtitle:"Только для вас и ваших друзей",icon:"🔒",iconColor:"var(--gray)",tags:["Только для вас","Без посторонних"],available:!1},{id:"open",title:"Открытая игра",subtitle:"Найдите партнёров для игры",icon:"👥",iconColor:"var(--primary)",tags:["Найти партнёров","Разделить оплату"],available:!0},{id:"find",title:"Найти игру",subtitle:"Присоединитесь к существующей игре",icon:"🔍",iconColor:"var(--gray)",tags:["12 открытых игр"],available:!1}],w=_=>{_.available?(c(_.id),u(!0)):window.confirm(`Функция "${_.title}" доступна только в мобильном приложении "Все корты".

Перейти в приложение?`)&&(window.location.href=`allcourts://club/${e}/court/${t}?date=${s}&time=${i}&duration=${a}`)},C=()=>{const _={};return p.name.trim()||(_.name="Укажите ваше имя"),p.phone.trim()?/^[\d\s\+\-\(\)]+$/.test(p.phone)||(_.phone="Неверный формат телефона"):_.phone="Укажите номер телефона",p.email&&!/\S+@\S+\.\S+/.test(p.email)&&(_.email="Неверный формат email"),v(_),Object.keys(_).length===0},j=async()=>{if(C()){y(!0);try{const _={venueId:e,courtId:t,date:s,startTime:i,endTime:ft(nr(Vt(i,"HH:mm",new Date),parseInt(a)),"HH:mm"),duration:parseInt(a),gameType:l,customerName:p.name,customerPhone:p.phone,customerEmail:p.email,comment:p.comment,status:"pending",source:"web",createdAt:new Date,price:0},S=await gr(Pe(se,"bookings"),_);n(`/club/${e}/booking-confirmation/${S.id}`)}catch(_){console.error("Error creating booking:",_),alert("Ошибка при создании бронирования. Попробуйте еще раз.")}finally{y(!1)}}};return d?o.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[o.jsx("div",{style:{backgroundColor:"var(--white)",padding:"var(--spacing-md) var(--spacing-xl)",boxShadow:"var(--shadow-sm)"},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-md)"},children:[o.jsx("button",{onClick:()=>u(!1),style:{width:"40px",height:"40px",background:"var(--divider)",border:"none",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"},children:"←"}),o.jsx("div",{children:o.jsx("h1",{className:"h3",children:"Оформление бронирования"})})]})}),o.jsxs("div",{style:{padding:"var(--spacing-xl)"},children:[o.jsxs("div",{className:"info-section",style:{marginBottom:"var(--spacing-xl)"},children:[o.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Детали бронирования"}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-sm)"},children:[o.jsxs("div",{children:[o.jsx("span",{className:"caption",children:"Дата:"}),o.jsx("span",{className:"body",style:{marginLeft:"var(--spacing-xs)"},children:s&&ft(Vt(s,"yyyy-MM-dd",new Date),"d MMMM yyyy",{locale:ws})})]}),o.jsxs("div",{children:[o.jsx("span",{className:"caption",children:"Время:"}),o.jsxs("span",{className:"body",style:{marginLeft:"var(--spacing-xs)"},children:[i," - ",a&&ft(nr(Vt(i,"HH:mm",new Date),parseInt(a)),"HH:mm")]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"caption",children:"Тип игры:"}),o.jsx("span",{className:"body",style:{marginLeft:"var(--spacing-xs)"},children:"Открытая игра"})]})]})]}),o.jsxs("div",{style:{marginBottom:"calc(80px + var(--spacing-xl))"},children:[o.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Контактные данные"}),o.jsxs("div",{style:{marginBottom:"var(--spacing-md)"},children:[o.jsx("label",{className:"caption",style:{display:"block",marginBottom:"var(--spacing-xs)"},children:"Ваше имя *"}),o.jsx("input",{type:"text",value:p.name,onChange:_=>h({...p,name:_.target.value}),style:{width:"100%",padding:"var(--spacing-md)",border:`2px solid ${g.name?"var(--error)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",fontSize:"var(--text-body)",transition:"border-color 0.2s",outline:"none"},onFocus:_=>_.target.style.borderColor="var(--primary)",onBlur:_=>_.target.style.borderColor=g.name?"var(--error)":"var(--extra-light-gray)"}),g.name&&o.jsx("span",{className:"caption",style:{color:"var(--error)",marginTop:"var(--spacing-xs)"},children:g.name})]}),o.jsxs("div",{style:{marginBottom:"var(--spacing-md)"},children:[o.jsx("label",{className:"caption",style:{display:"block",marginBottom:"var(--spacing-xs)"},children:"Телефон *"}),o.jsx("input",{type:"tel",value:p.phone,onChange:_=>h({...p,phone:_.target.value}),placeholder:"+7 (999) 123-45-67",style:{width:"100%",padding:"var(--spacing-md)",border:`2px solid ${g.phone?"var(--error)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",fontSize:"var(--text-body)",transition:"border-color 0.2s",outline:"none"},onFocus:_=>_.target.style.borderColor="var(--primary)",onBlur:_=>_.target.style.borderColor=g.phone?"var(--error)":"var(--extra-light-gray)"}),g.phone&&o.jsx("span",{className:"caption",style:{color:"var(--error)",marginTop:"var(--spacing-xs)"},children:g.phone})]}),o.jsxs("div",{style:{marginBottom:"var(--spacing-md)"},children:[o.jsx("label",{className:"caption",style:{display:"block",marginBottom:"var(--spacing-xs)"},children:"Email (необязательно)"}),o.jsx("input",{type:"email",value:p.email,onChange:_=>h({...p,email:_.target.value}),style:{width:"100%",padding:"var(--spacing-md)",border:`2px solid ${g.email?"var(--error)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",fontSize:"var(--text-body)",transition:"border-color 0.2s",outline:"none"},onFocus:_=>_.target.style.borderColor="var(--primary)",onBlur:_=>_.target.style.borderColor=g.email?"var(--error)":"var(--extra-light-gray)"}),g.email&&o.jsx("span",{className:"caption",style:{color:"var(--error)",marginTop:"var(--spacing-xs)"},children:g.email})]}),o.jsxs("div",{style:{marginBottom:"var(--spacing-md)"},children:[o.jsx("label",{className:"caption",style:{display:"block",marginBottom:"var(--spacing-xs)"},children:"Комментарий (необязательно)"}),o.jsx("textarea",{value:p.comment,onChange:_=>h({...p,comment:_.target.value}),rows:3,style:{width:"100%",padding:"var(--spacing-md)",border:"2px solid var(--extra-light-gray)",borderRadius:"var(--radius-md)",fontSize:"var(--text-body)",transition:"border-color 0.2s",outline:"none",resize:"vertical"},onFocus:_=>_.target.style.borderColor="var(--primary)",onBlur:_=>_.target.style.borderColor="var(--extra-light-gray)"})]}),o.jsx("div",{style:{backgroundColor:"var(--info)",color:"white",padding:"var(--spacing-md)",borderRadius:"var(--radius-md)"},children:o.jsx("p",{className:"caption",style:{color:"white"},children:"ℹ️ После отправки заявки с вами свяжется менеджер клуба для подтверждения бронирования"})})]})]}),o.jsx("div",{className:"sticky-bottom-bar",children:o.jsx("button",{className:"flutter-button",style:{width:"100%"},onClick:j,disabled:m,children:m?"Отправка...":"Отправить заявку"})})]}):o.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[o.jsx("div",{style:{backgroundColor:"var(--white)",padding:"var(--spacing-md) var(--spacing-xl)",boxShadow:"var(--shadow-sm)"},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-md)"},children:[o.jsx("button",{onClick:()=>n(-1),style:{width:"40px",height:"40px",background:"var(--divider)",border:"none",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"},children:"←"}),o.jsx("div",{children:o.jsx("h1",{className:"h3",children:"Выберите формат игры"})})]})}),o.jsxs("div",{style:{padding:"var(--spacing-xl)"},children:[x.map(_=>o.jsxs("div",{onClick:()=>w(_),style:{backgroundColor:"var(--white)",borderRadius:"var(--radius-md)",padding:"var(--spacing-lg)",marginBottom:"var(--spacing-md)",cursor:"pointer",transition:"all 0.2s",border:`2px solid ${l===_.id&&_.available?"var(--primary)":"transparent"}`,boxShadow:l===_.id&&_.available?"0 2px 10px rgba(0, 211, 50, 0.1)":"none",opacity:_.available?1:.7,position:"relative"},onMouseEnter:S=>{_.available&&(S.currentTarget.style.transform="translateY(-2px)",S.currentTarget.style.boxShadow="var(--shadow-md)")},onMouseLeave:S=>{S.currentTarget.style.transform="none",S.currentTarget.style.boxShadow="none"},children:[!_.available&&o.jsx("div",{style:{position:"absolute",top:"var(--spacing-sm)",right:"var(--spacing-sm)",backgroundColor:"var(--secondary)",color:"white",padding:"4px 8px",borderRadius:"var(--radius-sm)",fontSize:"var(--text-tiny)",fontWeight:600},children:"В приложении"}),o.jsxs("div",{style:{display:"flex",gap:"var(--spacing-md)"},children:[o.jsx("div",{style:{width:"40px",height:"40px",backgroundColor:l===_.id&&_.available?"var(--primary)":"var(--divider)",borderRadius:"var(--radius-sm)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",flexShrink:0},children:o.jsx("span",{style:{filter:l===_.id&&_.available?"brightness(0) invert(1)":"none"},children:_.icon})}),o.jsxs("div",{style:{flex:1},children:[o.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-xxs)"},children:_.title}),o.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-sm)"},children:_.subtitle}),o.jsx("div",{style:{display:"flex",gap:"var(--spacing-xs)",flexWrap:"wrap"},children:_.tags.map((S,E)=>o.jsx("span",{style:{padding:"4px 16px",backgroundColor:l===_.id&&_.available?"var(--primary-light)":"var(--divider)",color:l===_.id&&_.available?"var(--primary-dark)":"var(--gray)",borderRadius:"var(--radius-xl)",fontSize:"var(--text-caption)",fontWeight:600},children:S},E))})]})]})]},_.id)),o.jsx("div",{style:{backgroundColor:"var(--warning)",color:"white",padding:"var(--spacing-md)",borderRadius:"var(--radius-md)",marginTop:"var(--spacing-xl)"},children:o.jsx("p",{className:"caption",style:{color:"white"},children:'⚠️ В веб-версии доступна только "Открытая игра". Для доступа ко всем типам игр скачайте мобильное приложение "Все корты".'})})]})]})}function zL(){const{clubId:e,bookingId:t}=xo(),n=Sn(),[r,s]=f.useState(null),[i,a]=f.useState(null),[l,c]=f.useState(null),[d,u]=f.useState(!0),[p,h]=f.useState("");f.useEffect(()=>{g()},[t]);const g=async()=>{if(!t){h("ID бронирования не указан"),u(!1);return}try{const m=await St(Ie(se,"bookings",t));if(!m.exists()){h("Бронирование не найдено"),u(!1);return}const y={id:m.id,...m.data()};s(y);const x=await St(Ie(se,"venues",y.venueId));x.exists()&&a(x.data());const w=await St(Ie(se,"courts",y.courtId));w.exists()&&c(w.data()),u(!1)}catch(m){console.error("Error loading booking:",m),h("Ошибка при загрузке данных бронирования"),u(!1)}};if(d)return o.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),o.jsx("p",{className:"body-small",children:"Загрузка..."})]}),o.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]});if(p)return o.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:o.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[o.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"❌"}),o.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Ошибка"}),o.jsx("p",{className:"body",style:{color:"var(--text-secondary)"},children:p})]})});if(!r||!i||!l)return null;const v=Vt(r.date,"yyyy-MM-dd",new Date);return o.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[o.jsxs("div",{style:{backgroundColor:"var(--success)",padding:"var(--spacing-3xl) var(--spacing-xl)",textAlign:"center",color:"white"},children:[o.jsx("div",{style:{width:"80px",height:"80px",backgroundColor:"white",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto var(--spacing-lg)",fontSize:"40px"},children:"✅"}),o.jsx("h1",{className:"h2",style:{color:"white",marginBottom:"var(--spacing-sm)"},children:"Заявка отправлена!"}),o.jsx("p",{className:"body",style:{color:"white",opacity:.9},children:"Ваша заявка на бронирование успешно отправлена"})]}),o.jsxs("div",{style:{padding:"var(--spacing-xl)"},children:[o.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)"},children:[o.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Что дальше?"}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-md)"},children:[o.jsxs("div",{style:{display:"flex",gap:"var(--spacing-md)"},children:[o.jsx("div",{style:{width:"32px",height:"32px",backgroundColor:"var(--primary-light)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,color:"var(--primary)"},children:"1"}),o.jsxs("div",{children:[o.jsx("p",{className:"body-bold",style:{marginBottom:"var(--spacing-xxs)"},children:"Ожидайте звонка"}),o.jsx("p",{className:"caption",children:"Менеджер клуба свяжется с вами в течение 30 минут"})]})]}),o.jsxs("div",{style:{display:"flex",gap:"var(--spacing-md)"},children:[o.jsx("div",{style:{width:"32px",height:"32px",backgroundColor:"var(--primary-light)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,color:"var(--primary)"},children:"2"}),o.jsxs("div",{children:[o.jsx("p",{className:"body-bold",style:{marginBottom:"var(--spacing-xxs)"},children:"Подтверждение бронирования"}),o.jsx("p",{className:"caption",children:"Вы получите SMS с подтверждением"})]})]}),o.jsxs("div",{style:{display:"flex",gap:"var(--spacing-md)"},children:[o.jsx("div",{style:{width:"32px",height:"32px",backgroundColor:"var(--primary-light)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,color:"var(--primary)"},children:"3"}),o.jsxs("div",{children:[o.jsx("p",{className:"body-bold",style:{marginBottom:"var(--spacing-xxs)"},children:"Оплата в клубе"}),o.jsx("p",{className:"caption",children:"Оплатите бронирование при посещении клуба"})]})]})]})]}),o.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)"},children:[o.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Детали бронирования"}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-md)"},children:[o.jsxs("div",{children:[o.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-xxs)"},children:"Клуб"}),o.jsx("p",{className:"body-bold",children:i.name}),o.jsx("p",{className:"caption",children:i.address})]}),o.jsx("div",{style:{height:"1px",backgroundColor:"var(--divider)",margin:"var(--spacing-xs) 0"}}),o.jsxs("div",{children:[o.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-xxs)"},children:"Корт"}),o.jsx("p",{className:"body-bold",children:l.name})]}),o.jsx("div",{style:{height:"1px",backgroundColor:"var(--divider)",margin:"var(--spacing-xs) 0"}}),o.jsxs("div",{style:{display:"flex",gap:"var(--spacing-xl)"},children:[o.jsxs("div",{style:{flex:1},children:[o.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-xxs)"},children:"Дата"}),o.jsx("p",{className:"body-bold",children:ft(v,"d MMMM",{locale:ws})})]}),o.jsxs("div",{style:{flex:1},children:[o.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-xxs)"},children:"Время"}),o.jsxs("p",{className:"body-bold",children:[r.startTime," - ",r.endTime]})]})]})]})]}),o.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)"},children:[o.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Ваши контакты"}),o.jsx("p",{className:"body",style:{marginBottom:"var(--spacing-xs)"},children:r.customerName}),o.jsx("p",{className:"caption",children:r.customerPhone}),r.customerEmail&&o.jsx("p",{className:"caption",children:r.customerEmail})]}),o.jsx("button",{className:"flutter-button",style:{width:"100%",marginBottom:"var(--spacing-md)"},onClick:()=>n(`/club/${e}`),children:"Вернуться к клубу"}),o.jsx("button",{className:"flutter-button-outlined",style:{width:"100%",backgroundColor:"transparent",color:"var(--primary)",border:"2px solid var(--primary)"},onClick:()=>{window.location.href=`allcourts://booking/${t}`},children:"Открыть в приложении 📱"}),o.jsxs("div",{style:{textAlign:"center",marginTop:"var(--spacing-3xl)",padding:"var(--spacing-xl)",backgroundColor:"var(--white)",borderRadius:"var(--radius-md)"},children:[o.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-sm)"},children:"Есть вопросы? Позвоните в клуб"}),o.jsxs("a",{href:`tel:${i.phone}`,style:{display:"inline-flex",alignItems:"center",gap:"var(--spacing-xs)",color:"var(--primary)",textDecoration:"none",fontSize:"var(--text-body-large)",fontWeight:600},children:["📞 ",i.phone]})]})]})]})}function BL(){var O,z;const{clubId:e,courtId:t}=xo(),n=Sn(),[r,s]=f.useState(null),[i,a]=f.useState(null),[l,c]=f.useState([]),[d,u]=f.useState(Js()),[p,h]=f.useState(null),[g,v]=f.useState(60),[m,y]=f.useState([60,90,120]),[x,w]=f.useState(!0),[C,j]=f.useState(""),[_,S]=f.useState([]),[E,T]=f.useState([]),[k,M]=f.useState(window.innerWidth<=768);f.useEffect(()=>{const $=()=>M(window.innerWidth<=768);return window.addEventListener("resize",$),()=>window.removeEventListener("resize",$)},[]),f.useEffect(()=>{N()},[]),f.useEffect(()=>{L()},[e,t]),f.useEffect(()=>{i&&r&&R()},[i,r,d,g]);const N=()=>{const $=[],A=["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],H=["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек"];for(let Y=0;Y<14;Y++){const G=Hr(Js(),Y);$.push({date:G,day:A[G.getDay()],dayNumber:ft(G,"d"),month:Y===0||G.getDate()===1?H[G.getMonth()]:void 0})}T($)},L=async()=>{if(!e||!t){j("Некорректные параметры"),w(!1);return}try{const $=await St(Ie(se,"courts",t));if(!$.exists()){j("Корт не найден"),w(!1);return}const A={id:$.id,...$.data()};s(A);const H=await St(Ie(se,"venues",e));if(H.exists()){const Y={id:H.id,...H.data()};if(a(Y),Y.bookingDurations){const G=[60,90,120].filter(J=>Y.bookingDurations[J]!==!1);y(G),G.includes(g)||v(G[0]||60)}}w(!1)}catch($){console.error("Error loading data:",$),j("Ошибка при загрузке данных"),w(!1)}},R=async()=>{if(!(!(i!=null&&i.workingHours)||!r))try{const $=ft(d,"yyyy-MM-dd"),A=Ge(Pe(se,"bookings"),Ee("courtId","==",t),Ee("date","==",$),Ee("status","in",["confirmed","pending"])),Y=(await qe(A)).docs.map(G=>({id:G.id,...G.data()}));c(Y),P(Y)}catch($){console.error("Error loading bookings:",$)}},P=$=>{if(!(i!=null&&i.workingHours)||!r)return;const H=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][d.getDay()],Y=i.workingHours[H];if(!Y)return;const G=[],J=Vt(Y.open,"HH:mm",d),ae=Vt(Y.close,"HH:mm",d);let V=J;const le=new Date;for(;tn(V,ae);){const ee=ft(V,"HH:mm"),X=nr(V,g);let ie=!0;if(Gx(d)&&tn(V,le)&&(ie=!1),Hn(X,ae)&&(ie=!1),ie)for(const F of $){const q=Vt(F.startTime,"HH:mm",d),te=Vt(F.endTime,"HH:mm",d);if(Hn(V,q)&&tn(V,te)||Hn(X,q)&&tn(X,te)||tn(V,q)&&Hn(X,te)||ft(V,"HH:mm")===F.startTime){ie=!1;break}}let K=r.pricePerHour;const B=V.getHours();B>=18&&B<21?K=Math.round(K*1.2):(B>=21||B<7)&&(K=Math.round(K*.8)),G.push({time:ee,available:ie,price:Math.round(K*g/60)}),V=nr(V,30)}S(G)},D=()=>{if(!p)return;const $=ft(d,"yyyy-MM-dd");n(`/club/${e}/court/${t}/game-type?date=${$}&time=${p}&duration=${g}`)},I=$=>{const A=Js();if($<A)return!0;const H=Hr(A,30);if($>H)return!0;if(i!=null&&i.workingHours){const G=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][$.getDay()],J=i.workingHours[G];if(!J||!J.open&&!J.close)return!0}return!1};return x?o.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),o.jsx("p",{className:"body-small",children:"Загрузка..."})]}),o.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]}):C?o.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:o.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[o.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"❌"}),o.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Ошибка"}),o.jsx("p",{className:"body",style:{color:"var(--text-secondary)"},children:C})]})}):o.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[o.jsx("div",{style:{backgroundColor:"var(--white)",padding:"var(--spacing-md) var(--spacing-xl)",boxShadow:"var(--shadow-sm)",position:"sticky",top:0,zIndex:10},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-md)"},children:[o.jsx("button",{onClick:()=>n(-1),style:{width:"40px",height:"40px",background:"var(--divider)",border:"none",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"},children:"←"}),o.jsxs("div",{children:[o.jsx("h1",{className:"h3",style:{marginBottom:"4px"},children:"Выберите время"}),r&&i&&o.jsxs("p",{className:"caption",children:[i.name," • ",r.name]})]})]})}),o.jsx("div",{style:{padding:k?"var(--spacing-md)":"var(--spacing-xl)",paddingBottom:k?"calc(140px + var(--spacing-xl))":"var(--spacing-xl)",maxWidth:"1200px",margin:"0 auto"},children:o.jsxs("div",{style:{display:k?"block":"grid",gridTemplateColumns:k?"1fr":"1fr 2fr",gap:"var(--spacing-xl)"},children:[o.jsxs("div",{children:[o.jsxs("div",{style:{marginBottom:"var(--spacing-xl)"},children:[o.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Выберите дату"}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"var(--spacing-sm)"},children:E.map(($,A)=>{const H=ft(d,"yyyy-MM-dd")===ft($.date,"yyyy-MM-dd"),Y=I($.date),G=A===0;return o.jsxs("div",{style:{textAlign:"center"},children:[$.month&&o.jsx("div",{className:"caption",style:{marginBottom:"var(--spacing-xs)",color:"var(--gray)",height:"16px"},children:$.month}),!$.month&&o.jsx("div",{style:{height:"16px",marginBottom:"var(--spacing-xs)"}}),o.jsxs("button",{onClick:()=>!Y&&u($.date),disabled:Y,style:{width:"100%",aspectRatio:"1",backgroundColor:H?"var(--primary)":Y?"var(--extra-light-gray)":"var(--white)",color:H?"white":Y?"var(--gray)":"var(--dark)",border:`2px solid ${H||G&&!Y?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",cursor:Y?"not-allowed":"pointer",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",transition:"all 0.2s",opacity:Y?.5:1,fontSize:"var(--text-caption)"},children:[o.jsx("span",{className:"caption-bold",children:$.day}),o.jsx("span",{className:"body-bold",children:$.dayNumber})]})]},A)})})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Длительность игры"}),o.jsx("div",{style:{display:"flex",gap:"var(--spacing-sm)"},children:[60,90,120].map($=>{const A=m.includes($);return o.jsx("button",{onClick:()=>{A&&(v($),h(null))},disabled:!A,style:{flex:1,padding:"var(--spacing-md)",backgroundColor:g===$?"var(--primary)":A?"var(--white)":"var(--extra-light-gray)",color:g===$?"white":A?"var(--dark)":"var(--gray)",border:`2px solid ${g===$?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",cursor:A?"pointer":"not-allowed",fontWeight:600,fontSize:"var(--text-body)",transition:"all 0.2s",opacity:A?1:.5},children:$===60?"1 час":$===90?"1.5 часа":"2 часа"},$)})})]})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:["Свободное время на ",ft(d,"d MMMM",{locale:ws})]}),_.length===0?o.jsx("div",{className:"flutter-card",style:{textAlign:"center",padding:"var(--spacing-2xl)"},children:o.jsx("p",{className:"body",style:{color:"var(--gray)"},children:"Нет доступных слотов на выбранную дату"})}):o.jsx("div",{style:{display:"grid",gridTemplateColumns:k?"repeat(3, 1fr)":"repeat(4, 1fr)",gap:"var(--spacing-sm)"},children:_.map($=>{const A=p===$.time;return o.jsxs("button",{onClick:()=>$.available&&h($.time),disabled:!$.available,style:{padding:"var(--spacing-md) var(--spacing-xs)",backgroundColor:$.available?A?"var(--primary)":"var(--primary-light)":"var(--busy)",color:$.available?A?"white":"var(--dark)":"var(--busy-text)",border:`2px solid ${$.available?A?"var(--primary)":"var(--available)":"var(--busy)"}`,borderRadius:"var(--radius-sm)",cursor:$.available?"pointer":"not-allowed",opacity:1,transition:"all 0.2s",display:"flex",flexDirection:"column",alignItems:"center",gap:"4px",minHeight:k?"60px":"70px",justifyContent:"center"},children:[o.jsxs("span",{className:"body-bold",style:{fontSize:"14px"},children:[$.time,"-",(()=>{const[H,Y]=$.time.split(":").map(Number),G=nr(Vt($.time,"HH:mm",new Date),g);return ft(G,"HH:mm")})()]}),$.available?A&&o.jsx("span",{className:"caption",style:{color:"white",fontSize:"var(--text-caption)"},children:"Выбрано"}):o.jsx("span",{className:"caption",style:{color:"var(--busy-text)"},children:"Занято"})]},$.time)})}),o.jsxs("div",{style:{marginTop:"var(--spacing-lg)",display:"flex",gap:"var(--spacing-lg)",flexWrap:"wrap"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[o.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--primary-light)",border:"2px solid var(--available)",borderRadius:"4px"}}),o.jsx("span",{className:"caption",children:"Свободно"})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[o.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--busy)",borderRadius:"4px"}}),o.jsx("span",{className:"caption",children:"Занято"})]})]})]})]})}),o.jsxs("div",{className:"sticky-bottom-bar",style:{padding:"var(--spacing-xl)",borderRadius:"var(--radius-lg) var(--radius-lg) 0 0"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--spacing-sm)"},children:[o.jsx("span",{className:"body-small",style:{color:"var(--gray)"},children:p&&`${ft(d,"d MMMM",{locale:ws})}, ${p}-${ft(nr(Vt(p,"HH:mm",new Date),g),"HH:mm")}`}),p&&((O=_.find($=>$.time===p))==null?void 0:O.available)&&o.jsxs("span",{className:"h2",children:[(z=_.find($=>$.time===p))==null?void 0:z.price," ₽"]})]}),o.jsx("button",{className:"flutter-button",style:{width:"100%"},onClick:D,disabled:!p,children:"Далее"})]})]})}const WL=ju({palette:{primary:{main:"#00A86B"},secondary:{main:"#1A1F36"},success:{main:"#10B981"},warning:{main:"#F59E0B"},error:{main:"#EF4444"},background:{default:"#F8F9FA"}},typography:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, sans-serif'}});function HL(){return o.jsxs(s2,{theme:WL,children:[o.jsx(l2,{}),o.jsx(VA,{children:o.jsx(mk,{children:o.jsx(ib,{children:o.jsxs(ab,{children:[o.jsx(ut,{path:"/",element:o.jsx(Ca,{to:"/admin/dashboard",replace:!0})}),o.jsx(ut,{path:"/info",element:o.jsx(IA,{})}),o.jsx(ut,{path:"/club/:clubId",element:o.jsx(XA,{})}),o.jsx(ut,{path:"/club/:clubId/court/:courtId/booking",element:o.jsx(BL,{})}),o.jsx(ut,{path:"/club/:clubId/court/:courtId/date",element:o.jsx(OL,{})}),o.jsx(ut,{path:"/club/:clubId/court/:courtId/time",element:o.jsx(LL,{})}),o.jsx(ut,{path:"/club/:clubId/court/:courtId/game-type",element:o.jsx(FL,{})}),o.jsx(ut,{path:"/club/:clubId/booking-confirmation/:bookingId",element:o.jsx(zL,{})}),o.jsx(ut,{path:"/login",element:o.jsx(iA,{})}),o.jsx(ut,{path:"/register",element:o.jsx(aA,{})}),o.jsx(ut,{path:"/admin/login",element:o.jsx(Ca,{to:"/login",replace:!0})}),o.jsx(ut,{path:"/admin/register",element:o.jsx(Ca,{to:"/register",replace:!0})}),o.jsxs(ut,{path:"/admin",element:o.jsx(PN,{children:o.jsx(Ud,{})}),children:[o.jsx(ut,{path:"dashboard",element:o.jsx(vA,{})}),o.jsx(ut,{path:"venues",element:o.jsx(AA,{})}),o.jsx(ut,{path:"billing-settings",element:o.jsx(FA,{})}),o.jsx(ut,{path:"admins",element:o.jsx(NA,{})}),o.jsx(ut,{path:"club",element:o.jsx(yA,{})}),o.jsx(ut,{path:"subscription",element:o.jsx(OA,{})}),o.jsx(ut,{path:"payment-settings",element:o.jsx(LA,{})}),o.jsx(ut,{path:"courts",element:o.jsx(xA,{})}),o.jsx(ut,{path:"bookings",element:o.jsx(MA,{})}),o.jsx(ut,{path:"finance",element:o.jsx(zA,{})}),o.jsx(ut,{path:"customers",element:o.jsx(PA,{})}),o.jsx(ut,{path:"marketing",element:o.jsx(BA,{})}),o.jsx(ut,{path:"settings",element:o.jsx(HA,{})}),o.jsx(ut,{path:"debug",element:o.jsx(UA,{})})]})]})})})})]})}id.createRoot(document.getElementById("root")).render(o.jsx(Fe.StrictMode,{children:o.jsx(HL,{})}));export{_4 as a,k4 as b,Hr as c,se as d,kA as e,ft as f,jA as g,KL as h,tn as i,o as j,_A as k,ws as l,gm as m,mm as n,Js as s};
