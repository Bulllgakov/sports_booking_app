import{r as u,s as me,f as k,q as z,w as m,c as E,T as B,o as ge,d as R,g as V,a as Le,b as Oe,i as Ye,j as e,e as Ge,l as ie,h as Qe}from"./index-DV6m5I88.js";function Ve({isOpen:A,onClose:_,court:n,venue:b}){const[q,F]=u.useState("datetime"),[y,ue]=u.useState(me()),[v,L]=u.useState(""),[h,re]=u.useState(60),[J,ye]=u.useState("private"),[G,K]=u.useState([]),[X,P]=u.useState(!1),[C,he]=u.useState(""),[O,xe]=u.useState(""),[Q,be]=u.useState(""),[Z,fe]=u.useState(""),[ee,ve]=u.useState(""),[te,je]=u.useState(""),[U,ae]=u.useState(null),[a,ke]=u.useState(window.innerWidth<=768);u.useEffect(()=>{const i=()=>{ke(window.innerWidth<=768)};return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]),u.useEffect(()=>{if(A){console.log("Modal opened, venue:",b,"bookingDurations:",b.bookingDurations);const i=b.bookingDurations||{60:!0,90:!0,120:!0},s=[60,90,120].filter(d=>i[d]!==!1);console.log("Available durations:",s),s.length>0&&!s.includes(h)&&re(s[0]),F("datetime"),L(""),K([]),n&&b&&H()}else U&&(U(),ae(null))},[A]),u.useEffect(()=>{if(q==="datetime"&&y&&n&&b){H();const i=new Date(y);i.setHours(0,0,0,0);const s=new Date(y);s.setHours(23,59,59,999);const d=k(y,"yyyy-MM-dd"),o=z(E(R,"bookings"),m("courtId","==",n.id),m("date","==",d),m("status","in",["confirmed","pending"])),t=z(E(R,"bookings"),m("courtId","==",n.id),m("date",">=",B.fromDate(i)),m("date","<=",B.fromDate(s)),m("status","in",["confirmed","pending"])),l=ge(o,p=>{console.log("Real-time update: bookings changed (string date)",p.docs.length,"bookings"),p.docs.forEach(x=>{console.log("Booking:",x.id,x.data())}),H()}),c=ge(t,p=>{console.log("Real-time update: bookings changed (timestamp date)",p.docs.length,"bookings"),p.docs.forEach(x=>{console.log("Booking:",x.id,x.data())}),H()}),j=()=>{l(),c()};ae(()=>j)}return()=>{U&&(U(),ae(null))}},[q,y,h,n.id,b.id]);const H=async(i,s)=>{var t;const d=i||h,o=s||y;console.log("Loading time slots for:",{date:o,courtId:n.id,courtName:n.name,venue:b.name,duration:d,workingHours:b.workingHours}),P(!0);try{const l=new Date(o);l.setHours(0,0,0,0);const c=new Date(o);c.setHours(23,59,59,999);const j=k(o,"yyyy-MM-dd");let p=z(E(R,"bookings"),m("courtId","==",n.id),m("date","==",j),m("status","in",["confirmed","pending"])),x=await V(p);x.empty&&(p=z(E(R,"bookings"),m("courtId","==",n.id),m("date",">=",B.fromDate(l)),m("date","<=",B.fromDate(c)),m("status","in",["confirmed","pending"])),x=await V(p));const I=x.docs.map(r=>{const g=r.data();let S=g.duration||60;return console.log("Processing booking:",r.id,{duration:g.duration,amount:g.amount,price:g.price,startTime:g.startTime,endTime:g.endTime}),{time:g.time||g.startTime,startTime:g.startTime||g.time,endTime:g.endTime,duration:S}});console.log("Found bookings:",I.length,I);const W=o.getDay(),w=W===0||W===6,T=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][W];console.log("Day of week:",W,"Day name:",T,"Is weekend:",w,"Working hours:",b.workingHours);const $=[];let N="07:00",D="23:00";if((t=b.workingHours)!=null&&t[T]){const r=b.workingHours[T];if(console.log("Found day-specific hours:",T,r),typeof r=="object"&&r.open&&r.close)N=r.open,D=r.close;else if(typeof r=="string"&&r.includes("-")){const[g,S]=r.split("-").map(Y=>Y.trim());g&&S&&(N=g,D=S)}}else if(b.workingHours){const r=b.workingHours[w?"weekend":"weekday"];if(console.log("Using weekday/weekend format:",w?"weekend":"weekday",r),typeof r=="string"&&r.includes("-")){const[g,S]=r.split("-").map(Y=>Y.trim());g&&S&&(N=g,D=S)}else typeof r=="object"&&r.open&&r.close&&(N=r.open,D=r.close)}else console.log("No working hours found, using defaults");console.log("Working hours parsed:",{openTime:N,closeTime:D});const[He,Ie]=N.split(":").map(Number),[We,Ee]=D.split(":").map(Number),ne=new Date,Be=k(o,"yyyy-MM-dd")===k(ne,"yyyy-MM-dd");let M=He*60+Ie;const oe=We*60+Ee;for(;M<oe;){const r=Math.floor(M/60),g=M%60,S=`${r.toString().padStart(2,"0")}:${g.toString().padStart(2,"0")}`,Y=Le(Oe(new Date(o),r),g);if(Be&&Ye(Y,ne)){M+=d;continue}if(M+d>oe)break;let le=!0;for(const ce of I){const se=ce.startTime.split(":");if(se.length!==2)continue;const ze=parseInt(se[0]),Ae=parseInt(se[1]),pe=ze*60+Ae,qe=pe+ce.duration,Fe=M+d;if(M<qe&&Fe>pe){le=!1;break}}const de=o.getDay(),Re=de===0||de===6,Pe=n.pricePerHour||(Re?n.priceWeekend:n.priceWeekday)||0,$e=Math.round(Pe*d/60);$.push({time:S,available:le,price:$e}),M+=30}K($),console.log("Loaded time slots:",$.length,$)}catch(l){console.error("Error loading time slots:",l),K([])}finally{P(!1)}},we=i=>{ue(i),L(""),H(h,i)},Ne=async i=>{P(!0);try{const s=new Date(y);s.setHours(0,0,0,0);const d=new Date(y);d.setHours(23,59,59,999);const o=k(y,"yyyy-MM-dd");let t=z(E(R,"bookings"),m("courtId","==",n.id),m("date","==",o),m("status","in",["confirmed","pending"])),l=await V(t);l.empty&&(t=z(E(R,"bookings"),m("courtId","==",n.id),m("date",">=",B.fromDate(s)),m("date","<=",B.fromDate(d)),m("status","in",["confirmed","pending"])),l=await V(t));const c=l.docs.map(w=>{const f=w.data();let T=f.duration||60;return console.log("Processing booking:",w.id,{duration:f.duration,amount:f.amount,price:f.price,startTime:f.startTime,endTime:f.endTime}),{time:f.time||f.startTime,startTime:f.startTime||f.time,endTime:f.endTime,duration:T}}),[j,p]=i.split(":").map(Number),x=j*60+p,I=x+h;let W=!0;for(const w of c){const f=w.startTime.split(":");if(f.length!==2)continue;const T=parseInt(f[0]),$=parseInt(f[1]),N=T*60+$,D=N+w.duration;if(x<D&&I>N){W=!1;break}}if(!W){alert("К сожалению, это время было только что забронировано. Пожалуйста, выберите другое время."),await H();return}L(i),F("gameType")}catch(s){console.error("Error checking availability:",s),alert("Ошибка проверки доступности. Попробуйте еще раз.")}finally{P(!1)}},Se=i=>{ye(i)},Te=async()=>{if(!C||!O||!Q||!Z||!ee||!te){alert("Пожалуйста, заполните все поля");return}P(!0);try{const[i,s]=v.split(":").map(Number),d=new Date(y);d.setHours(i,s,0,0);const o=new Date(d.getTime()+h*60*1e3),t={courtId:n.id,courtName:n.name,venueId:b.id,venueName:b.name,date:k(y,"yyyy-MM-dd"),time:v,startTime:v,endTime:`${o.getHours().toString().padStart(2,"0")}:${o.getMinutes().toString().padStart(2,"0")}`,duration:h,gameType:J,customerName:C,customerPhone:O,customerEmail:Q,clientName:C,clientPhone:O,price:Math.round((n.pricePerHour||n.priceWeekday||0)*h/60),amount:Math.round((n.pricePerHour||n.priceWeekday||0)*h/60),status:"confirmed",paymentStatus:"online_payment",paymentMethod:"online",paymentHistory:[{timestamp:B.now(),action:"created",userId:"web-client",userName:C}],createdBy:{userId:"web-client",userName:C,userRole:"client"},createdAt:new Date,source:"web"},l=await Qe(E(R,"bookings"),t);alert(`Бронирование успешно оплачено и создано! ID: ${l.id}`),_()}catch(i){console.error("Error creating booking:",i),alert("Ошибка при создании бронирования")}finally{P(!1)}};if(!A)return null;const De=()=>{var o;const i=[],s=["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек"],d=["Вс","Пн","Вт","Ср","Чт","Пт","Сб"];for(let t=0;t<14;t++)i.push(Ge(me(),t));return e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"h3",style:{marginBottom:"var(--spacing-lg)"},children:"Выберите дату и время"}),e.jsxs("div",{style:{display:a?"block":"grid",gridTemplateColumns:a?"1fr":"300px 1fr",gap:"var(--spacing-xl)"},children:[e.jsxs("div",{children:[e.jsxs("div",{style:{marginBottom:"var(--spacing-xl)"},children:[e.jsx("h4",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Дата бронирования"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"var(--spacing-xs)"},children:i.map((t,l)=>{const c=k(t,"yyyy-MM-dd")===k(y,"yyyy-MM-dd"),j=l===0,p=d[t.getDay()],x=l===0||t.getDate()===1;return e.jsxs("div",{style:{textAlign:"center"},children:[x&&e.jsx("div",{className:"caption",style:{marginBottom:"var(--spacing-xs)",color:"var(--gray)",height:"16px",fontSize:"11px"},children:s[t.getMonth()]}),!x&&e.jsx("div",{style:{height:"16px",marginBottom:"var(--spacing-xs)"}}),e.jsxs("button",{onClick:()=>we(t),style:{width:"100%",aspectRatio:"1",padding:"4px",border:`2px solid ${c||j?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-sm)",background:c?"var(--primary)":"var(--white)",color:c?"white":"var(--dark)",cursor:"pointer",transition:"all 0.2s",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:"12px"},children:[e.jsx("div",{className:"caption",style:{fontWeight:600,color:c?"white":"var(--gray)"},children:p}),e.jsx("div",{className:"body-bold",style:{fontSize:"16px",color:c?"white":"var(--dark)"},children:t.getDate()})]})]},t.toISOString())})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Длительность игры"}),e.jsx("div",{style:{display:"flex",gap:"var(--spacing-sm)"},children:[60,90,120].map(t=>{if(!((b.bookingDurations||{60:!0,90:!0,120:!0})[t]!==!1))return null;const j=y.getDay(),p=j===0||j===6,x=n.pricePerHour||(p?n.priceWeekend:n.priceWeekday)||0,I=Math.round(x*t/60);return e.jsxs("button",{onClick:()=>{t!==h&&(re(t),L(""),H(t))},style:{flex:1,padding:a?"var(--spacing-sm) var(--spacing-xs)":"var(--spacing-md)",border:`2px solid ${h===t?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",background:h===t?"var(--primary)":"var(--white)",color:h===t?"white":"var(--dark)",cursor:"pointer",transition:"all 0.2s",display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},children:[e.jsx("span",{className:"body-bold",style:{fontSize:a?"14px":"16px"},children:t===60?"1 час":t===90?"1.5 часа":"2 часа"}),e.jsxs("span",{className:"caption",style:{color:h===t?"white":"var(--primary)",fontWeight:600},children:[I,"₽"]})]},t)})})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:["Свободное время на ",k(y,"d MMMM",{locale:ie})]}),X?e.jsx("div",{style:{textAlign:"center",padding:"var(--spacing-3xl)"},children:e.jsx("div",{className:"spinner"})}):G.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{display:"grid",gridTemplateColumns:a?"repeat(3, 1fr)":"repeat(4, 1fr)",gap:"var(--spacing-sm)",maxHeight:a?"400px":"500px",overflowY:"auto",paddingRight:"var(--spacing-sm)",marginBottom:"var(--spacing-md)"},children:G.map(t=>{const l=v===t.time;return e.jsxs("button",{onClick:()=>t.available&&L(t.time),disabled:!t.available,style:{padding:"var(--spacing-md) var(--spacing-xs)",border:`2px solid ${t.available?l?"var(--primary)":"var(--light-gray)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-sm)",background:t.available?l?"var(--primary)":"var(--white)":"var(--extra-light-gray)",color:t.available?l?"white":"var(--dark)":"var(--gray)",cursor:t.available?"pointer":"not-allowed",transition:"all 0.2s",opacity:t.available?1:.5,display:"flex",flexDirection:"column",alignItems:"center",gap:"4px",minHeight:"65px",justifyContent:"center"},children:[e.jsxs("span",{className:"body-bold",style:{fontSize:"14px"},children:[t.time,"-",(()=>{const[c,j]=t.time.split(":").map(Number),p=new Date;return p.setHours(c,j,0,0),p.setTime(p.getTime()+h*60*1e3),`${p.getHours().toString().padStart(2,"0")}:${p.getMinutes().toString().padStart(2,"0")}`})()]}),t.available?l&&e.jsx("span",{className:"caption",style:{color:"white",fontWeight:600},children:"Выбрано"}):e.jsx("span",{className:"caption",children:"Занято"})]},t.time)})}),e.jsxs("div",{style:{display:"flex",gap:"var(--spacing-lg)",flexWrap:"wrap",marginTop:"var(--spacing-md)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[e.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--white)",border:"2px solid var(--light-gray)",borderRadius:"4px"}}),e.jsx("span",{className:"caption",children:"Свободно"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[e.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--extra-light-gray)",borderRadius:"4px"}}),e.jsx("span",{className:"caption",children:"Занято"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[e.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--primary)",borderRadius:"4px"}}),e.jsx("span",{className:"caption",children:"Выбрано"})]})]})]}):e.jsx("div",{style:{textAlign:"center",padding:"var(--spacing-xl)",color:"var(--gray)"},children:e.jsx("p",{className:"body",children:"Нет доступных слотов на выбранную дату"})})]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",position:a?"fixed":"static",bottom:a?"0":"auto",left:a?"0":"auto",right:a?"0":"auto",padding:a?"var(--spacing-lg)":"0",marginTop:a?"var(--spacing-xl)":"var(--spacing-lg)",background:a?"var(--white)":"transparent",borderTop:a?"1px solid var(--extra-light-gray)":"none",zIndex:10},children:[e.jsx("div",{style:{flex:1},children:v&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"caption",style:{color:"var(--gray)",marginBottom:"4px"},children:[k(y,"d MMMM",{locale:ie}),", ",v,"-",(()=>{const[t,l]=v.split(":").map(Number),c=new Date;return c.setHours(t,l,0,0),c.setTime(c.getTime()+h*60*1e3),`${c.getHours().toString().padStart(2,"0")}:${c.getMinutes().toString().padStart(2,"0")}`})()]}),e.jsxs("div",{className:"h3",style:{color:"var(--primary)"},children:[((o=G.find(t=>t.time===v))==null?void 0:o.price)||0," ₽"]})]})}),e.jsx("button",{className:"flutter-button",onClick:()=>Ne(v),disabled:!y||!v,style:{width:a?"50%":"auto",minWidth:"200px"},children:"Продолжить"})]})]})},Me=()=>e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"h3",style:{marginBottom:"var(--spacing-lg)"},children:"Выберите тип игры"}),e.jsxs("div",{style:{display:"grid",gap:"var(--spacing-md)"},children:[e.jsxs("button",{onClick:()=>Se("private"),style:{padding:"var(--spacing-lg)",border:`2px solid ${J==="private"?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",background:J==="private"?"var(--primary-light)":"var(--white)",cursor:"pointer",transition:"all 0.2s",textAlign:"left"},children:[e.jsx("div",{className:"body-bold",children:"Приватная игра"}),e.jsx("div",{className:"caption",style:{color:"var(--gray)"},children:"Для вас и ваших друзей"})]}),e.jsxs("button",{style:{padding:"var(--spacing-lg)",border:"2px solid var(--extra-light-gray)",borderRadius:"var(--radius-md)",background:"var(--extra-light-gray)",cursor:"not-allowed",transition:"all 0.2s",textAlign:"left",opacity:.6},disabled:!0,children:[e.jsx("div",{className:"body-bold",style:{color:"var(--gray)"},children:"Открытая игра"}),e.jsx("div",{className:"caption",style:{color:"var(--gray)"},children:"Присоединиться к игре (доступно в приложении)"})]})]}),e.jsxs("div",{style:{marginTop:"var(--spacing-xl)",display:"flex",justifyContent:"space-between",gap:"var(--spacing-md)",position:a?"fixed":"static",bottom:a?"0":"auto",left:a?"0":"auto",right:a?"0":"auto",padding:a?"var(--spacing-lg)":"0",background:a?"var(--white)":"transparent",borderTop:a?"1px solid var(--extra-light-gray)":"none",zIndex:10},children:[e.jsx("button",{className:"flutter-button-outlined",onClick:()=>F("datetime"),style:{flex:1,background:"var(--white)",color:"var(--primary)",border:"2px solid var(--primary)"},children:"Назад"}),e.jsx("button",{className:"flutter-button",onClick:()=>F("payment"),style:{flex:1},children:"Далее"})]})]}),Ce=()=>{const i=(()=>{const s=G.find(d=>d.time===v);return(s==null?void 0:s.price)||0})();return e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"h3",style:{marginBottom:"var(--spacing-lg)"},children:"Оплата бронирования"}),e.jsx("div",{className:"info-section",style:{marginBottom:"var(--spacing-lg)"},children:e.jsxs("div",{style:{display:"grid",gap:"var(--spacing-sm)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{className:"body",children:"Корт:"}),e.jsx("span",{className:"body-bold",children:n.name})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{className:"body",children:"Дата:"}),e.jsx("span",{className:"body-bold",children:k(y,"d MMMM yyyy",{locale:ie})})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{className:"body",children:"Время:"}),e.jsxs("span",{className:"body-bold",children:[v," - ",(()=>{const[s,d]=v.split(":").map(Number),o=new Date;return o.setHours(s,d,0,0),o.setTime(o.getTime()+h*60*1e3),`${o.getHours().toString().padStart(2,"0")}:${o.getMinutes().toString().padStart(2,"0")}`})()]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{className:"body",children:"Тип игры:"}),e.jsx("span",{className:"body-bold",children:"Приватная"})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingTop:"var(--spacing-sm)",borderTop:"1px solid var(--extra-light-gray)"},children:[e.jsx("span",{className:"body-bold",children:"Итого:"}),e.jsxs("span",{className:"h3",style:{color:"var(--primary)"},children:[i,"₽"]})]})]})}),e.jsxs("div",{style:{marginBottom:"var(--spacing-lg)"},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Имя"}),e.jsx("input",{type:"text",className:"form-input",value:C,onChange:s=>he(s.target.value),placeholder:"Иван Иванов",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Телефон"}),e.jsx("input",{type:"tel",className:"form-input",value:O,onChange:s=>xe(s.target.value),placeholder:"+7 (900) 123-45-67",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Email"}),e.jsx("input",{type:"email",className:"form-input",value:Q,onChange:s=>be(s.target.value),placeholder:"email@example.com",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Номер карты"}),e.jsx("input",{type:"text",className:"form-input",value:Z,onChange:s=>fe(s.target.value),placeholder:"1234 5678 9012 3456",maxLength:19,required:!0})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"var(--spacing-md)"},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Срок действия"}),e.jsx("input",{type:"text",className:"form-input",value:ee,onChange:s=>ve(s.target.value),placeholder:"MM/YY",maxLength:5,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"CVC"}),e.jsx("input",{type:"text",className:"form-input",value:te,onChange:s=>je(s.target.value),placeholder:"123",maxLength:3,required:!0})]})]})]}),e.jsxs("div",{style:{marginTop:"var(--spacing-xl)",display:"flex",justifyContent:"space-between",gap:"var(--spacing-md)",position:a?"fixed":"static",bottom:a?"0":"auto",left:a?"0":"auto",right:a?"0":"auto",padding:a?"var(--spacing-lg)":"0",background:a?"var(--white)":"transparent",borderTop:a?"1px solid var(--extra-light-gray)":"none",zIndex:10},children:[e.jsx("button",{className:"flutter-button-outlined",onClick:()=>F("gameType"),style:{flex:1,background:"var(--white)",color:"var(--primary)",border:"2px solid var(--primary)"},children:"Назад"}),e.jsx("button",{className:"flutter-button",onClick:Te,disabled:X||!C||!O||!Q||!Z||!ee||!te,style:{flex:1},children:X?e.jsx("div",{className:"spinner"}):`Оплатить ${i}₽`})]})]})};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"modal-backdrop",onClick:_,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",zIndex:1e3,display:A?"block":"none",animation:"fadeIn 0.2s ease"}}),e.jsxs("div",{className:"modal-content",style:{position:"fixed",top:a?"0":"50%",left:a?"0":"50%",transform:a?"none":"translate(-50%, -50%)",background:"var(--white)",borderRadius:a?"0":"var(--radius-xl)",padding:a?"var(--spacing-lg)":"var(--spacing-2xl)",maxWidth:a?"100%":"1000px",width:a?"100%":"90%",height:a?"100vh":"auto",maxHeight:a?"100vh":"85vh",overflowY:"auto",zIndex:1001,display:A?"block":"none",boxShadow:a?"none":"var(--shadow-xl)",animation:a?"slideUp 0.3s ease":"slideIn 0.3s ease"},children:[e.jsx("button",{onClick:_,style:{position:"absolute",top:"var(--spacing-md)",right:"var(--spacing-md)",background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"var(--gray)"},children:"×"}),q==="datetime"&&De(),q==="gameType"&&Me(),q==="payment"&&Ce()]}),e.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        
        @keyframes slideIn {
          from { 
            opacity: 0;
            transform: translate(-50%, -45%);
          }
          to { 
            opacity: 1;
            transform: translate(-50%, -50%);
          }
        }
        
        @keyframes slideUp {
          from { 
            opacity: 0;
            transform: translateY(100%);
          }
          to { 
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        .spinner {
          width: 40px;
          height: 40px;
          border: 3px solid var(--extra-light-gray);
          border-top-color: var(--primary);
          border-radius: 50%;
          animation: spin 1s linear infinite;
          margin: 0 auto;
        }
        
        @keyframes spin {
          to { transform: rotate(360deg); }
        }
        
        @media (max-width: 768px) {
          .modal-content {
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
            transform: none !important;
            width: 100% !important;
            height: 100vh !important;
            max-width: 100% !important;
            max-height: 100vh !important;
            border-radius: 0 !important;
            padding: var(--spacing-lg) !important;
          }
        }
      `})]})}export{Ve as default};
