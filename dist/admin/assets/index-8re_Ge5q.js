const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-D1snWqYT.js","assets/vendor-Bj75XVPh.js","assets/firebase-n6uIb8Jv.js"])))=>i.map(i=>d[i]);
var FI=Object.defineProperty;var kI=(e,t,n)=>t in e?FI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ib=(e,t,n)=>kI(e,typeof t!="symbol"?t+"":t,n);import{r as B,a as t5,R as Wv,b as iA,d as mn,e as bf,N as ld,u as vs,f as NI,O as _I,h as ho,L as yd,g as TI,i as Oc,B as UI,j as LI,k as gn}from"./vendor-Bj75XVPh.js";import{L as DI,a as ht,_ as n5,C as r5,r as Up,s as es,j as by,c as fo,b as wc,m as Lp,d as MI,S as QI,e as PI,f as nh,g as RI,h as HI,D as s5,q as OI,i as $I,k as zI,l as Fb,n as i5,o as WI,p as rh,t as KI,u as Sg,v as VI,w as GI,x as a5,y as o5,z as A5,A as qI,B as YI,F as l5,E as XI,G as JI,H as ZI,I as eF,J as tF,K as nF,M as rF,N as qt,O as Ft,P as It,Q as Gt,R as dn,T as yt,U as Kv,V as sF,W as c5,X as kb,Y as Nb,Z as _b,$ as In,a0 as iF,a1 as qi,a2 as $c,a3 as Xi,a4 as Zt,a5 as fp,a6 as oc,a7 as aF,a8 as u5,a9 as d5}from"./firebase-n6uIb8Jv.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var h5={exports:{}},Eg={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oF=B,AF=Symbol.for("react.element"),lF=Symbol.for("react.fragment"),cF=Object.prototype.hasOwnProperty,uF=oF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dF={key:!0,ref:!0,__self:!0,__source:!0};function f5(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)cF.call(t,r)&&!dF.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:AF,type:e,key:i,ref:o,props:s,_owner:uF.current}}Eg.Fragment=lF;Eg.jsx=f5;Eg.jsxs=f5;h5.exports=Eg;var a=h5.exports,Vv={},Tb=t5;Vv.createRoot=Tb.createRoot,Vv.hydrateRoot=Tb.hydrateRoot;function io(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}const hF=Object.freeze(Object.defineProperty({__proto__:null,default:io},Symbol.toStringTag,{value:"Module"})),PA="$$material";function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z.apply(null,arguments)}function Ve(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function fF(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function pF(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var gF=function(){function e(n){var r=this;this._insertTag=function(s){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,i),r.tags.push(s)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(pF(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var i=fF(s);try{i.insertRule(r,i.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var s;return(s=r.parentNode)==null?void 0:s.removeChild(r)}),this.tags=[],this.ctr=0},e}(),ls="-ms-",Dp="-moz-",En="-webkit-",p5="comm",wy="rule",By="decl",mF="@import",g5="@keyframes",vF="@layer",yF=Math.abs,jg=String.fromCharCode,xF=Object.assign;function bF(e,t){return Jr(e,0)^45?(((t<<2^Jr(e,0))<<2^Jr(e,1))<<2^Jr(e,2))<<2^Jr(e,3):0}function m5(e){return e.trim()}function wF(e,t){return(e=t.exec(e))?e[0]:e}function jn(e,t,n){return e.replace(t,n)}function Gv(e,t){return e.indexOf(t)}function Jr(e,t){return e.charCodeAt(t)|0}function Pd(e,t,n){return e.slice(t,n)}function la(e){return e.length}function Cy(e){return e.length}function wf(e,t){return t.push(e),e}function BF(e,t){return e.map(t).join("")}var Ig=1,Bc=1,v5=0,$s=0,Nr=0,zc="";function Fg(e,t,n,r,s,i,o){return{value:e,root:t,parent:n,type:r,props:s,children:i,line:Ig,column:Bc,length:o,return:""}}function Mu(e,t){return xF(Fg("",null,null,"",null,null,0),e,{length:-e.length},t)}function CF(){return Nr}function SF(){return Nr=$s>0?Jr(zc,--$s):0,Bc--,Nr===10&&(Bc=1,Ig--),Nr}function ri(){return Nr=$s<v5?Jr(zc,$s++):0,Bc++,Nr===10&&(Bc=1,Ig++),Nr}function ya(){return Jr(zc,$s)}function pp(){return $s}function sh(e,t){return Pd(zc,e,t)}function Rd(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function y5(e){return Ig=Bc=1,v5=la(zc=e),$s=0,[]}function x5(e){return zc="",e}function gp(e){return m5(sh($s-1,qv(e===91?e+2:e===40?e+1:e)))}function EF(e){for(;(Nr=ya())&&Nr<33;)ri();return Rd(e)>2||Rd(Nr)>3?"":" "}function jF(e,t){for(;--t&&ri()&&!(Nr<48||Nr>102||Nr>57&&Nr<65||Nr>70&&Nr<97););return sh(e,pp()+(t<6&&ya()==32&&ri()==32))}function qv(e){for(;ri();)switch(Nr){case e:return $s;case 34:case 39:e!==34&&e!==39&&qv(Nr);break;case 40:e===41&&qv(e);break;case 92:ri();break}return $s}function IF(e,t){for(;ri()&&e+Nr!==57;)if(e+Nr===84&&ya()===47)break;return"/*"+sh(t,$s-1)+"*"+jg(e===47?e:ri())}function FF(e){for(;!Rd(ya());)ri();return sh(e,$s)}function kF(e){return x5(mp("",null,null,null,[""],e=y5(e),0,[0],e))}function mp(e,t,n,r,s,i,o,A,l){for(var c=0,u=0,d=o,p=0,f=0,v=0,g=1,y=1,x=1,w=0,b="",j=s,_=i,k=r,D=b;y;)switch(v=w,w=ri()){case 40:if(v!=108&&Jr(D,d-1)==58){Gv(D+=jn(gp(w),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:D+=gp(w);break;case 9:case 10:case 13:case 32:D+=EF(v);break;case 92:D+=jF(pp()-1,7);continue;case 47:switch(ya()){case 42:case 47:wf(NF(IF(ri(),pp()),t,n),l);break;default:D+="/"}break;case 123*g:A[c++]=la(D)*x;case 125*g:case 59:case 0:switch(w){case 0:case 125:y=0;case 59+u:x==-1&&(D=jn(D,/\f/g,"")),f>0&&la(D)-d&&wf(f>32?Lb(D+";",r,n,d-1):Lb(jn(D," ","")+";",r,n,d-2),l);break;case 59:D+=";";default:if(wf(k=Ub(D,t,n,c,u,s,A,b,j=[],_=[],d),i),w===123)if(u===0)mp(D,t,k,k,j,i,d,A,_);else switch(p===99&&Jr(D,3)===110?100:p){case 100:case 108:case 109:case 115:mp(e,k,k,r&&wf(Ub(e,k,k,0,0,s,A,b,s,j=[],d),_),s,_,d,A,r?j:_);break;default:mp(D,k,k,k,[""],_,0,A,_)}}c=u=f=0,g=x=1,b=D="",d=o;break;case 58:d=1+la(D),f=v;default:if(g<1){if(w==123)--g;else if(w==125&&g++==0&&SF()==125)continue}switch(D+=jg(w),w*g){case 38:x=u>0?1:(D+="\f",-1);break;case 44:A[c++]=(la(D)-1)*x,x=1;break;case 64:ya()===45&&(D+=gp(ri())),p=ya(),u=d=la(b=D+=FF(pp())),w++;break;case 45:v===45&&la(D)==2&&(g=0)}}return i}function Ub(e,t,n,r,s,i,o,A,l,c,u){for(var d=s-1,p=s===0?i:[""],f=Cy(p),v=0,g=0,y=0;v<r;++v)for(var x=0,w=Pd(e,d+1,d=yF(g=o[v])),b=e;x<f;++x)(b=m5(g>0?p[x]+" "+w:jn(w,/&\f/g,p[x])))&&(l[y++]=b);return Fg(e,t,n,s===0?wy:A,l,c,u)}function NF(e,t,n){return Fg(e,t,n,p5,jg(CF()),Pd(e,2,-2),0)}function Lb(e,t,n,r){return Fg(e,t,n,By,Pd(e,0,r),Pd(e,r+1,-1),r)}function Ac(e,t){for(var n="",r=Cy(e),s=0;s<r;s++)n+=t(e[s],s,e,t)||"";return n}function _F(e,t,n,r){switch(e.type){case vF:if(e.children.length)break;case mF:case By:return e.return=e.return||e.value;case p5:return"";case g5:return e.return=e.value+"{"+Ac(e.children,r)+"}";case wy:e.value=e.props.join(",")}return la(n=Ac(e.children,r))?e.return=e.value+"{"+n+"}":""}function TF(e){var t=Cy(e);return function(n,r,s,i){for(var o="",A=0;A<t;A++)o+=e[A](n,r,s,i)||"";return o}}function UF(e){return function(t){t.root||(t=t.return)&&e(t)}}function b5(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var LF=function(t,n,r){for(var s=0,i=0;s=i,i=ya(),s===38&&i===12&&(n[r]=1),!Rd(i);)ri();return sh(t,$s)},DF=function(t,n){var r=-1,s=44;do switch(Rd(s)){case 0:s===38&&ya()===12&&(n[r]=1),t[r]+=LF($s-1,n,r);break;case 2:t[r]+=gp(s);break;case 4:if(s===44){t[++r]=ya()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=jg(s)}while(s=ri());return t},MF=function(t,n){return x5(DF(y5(t),n))},Db=new WeakMap,QF=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,s=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!Db.get(r))&&!s){Db.set(t,!0);for(var i=[],o=MF(n,i),A=r.props,l=0,c=0;l<o.length;l++)for(var u=0;u<A.length;u++,c++)t.props[c]=i[l]?o[l].replace(/&\f/g,A[u]):A[u]+" "+o[l]}}},PF=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function w5(e,t){switch(bF(e,t)){case 5103:return En+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return En+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return En+e+Dp+e+ls+e+e;case 6828:case 4268:return En+e+ls+e+e;case 6165:return En+e+ls+"flex-"+e+e;case 5187:return En+e+jn(e,/(\w+).+(:[^]+)/,En+"box-$1$2"+ls+"flex-$1$2")+e;case 5443:return En+e+ls+"flex-item-"+jn(e,/flex-|-self/,"")+e;case 4675:return En+e+ls+"flex-line-pack"+jn(e,/align-content|flex-|-self/,"")+e;case 5548:return En+e+ls+jn(e,"shrink","negative")+e;case 5292:return En+e+ls+jn(e,"basis","preferred-size")+e;case 6060:return En+"box-"+jn(e,"-grow","")+En+e+ls+jn(e,"grow","positive")+e;case 4554:return En+jn(e,/([^-])(transform)/g,"$1"+En+"$2")+e;case 6187:return jn(jn(jn(e,/(zoom-|grab)/,En+"$1"),/(image-set)/,En+"$1"),e,"")+e;case 5495:case 3959:return jn(e,/(image-set\([^]*)/,En+"$1$`$1");case 4968:return jn(jn(e,/(.+:)(flex-)?(.*)/,En+"box-pack:$3"+ls+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+En+e+e;case 4095:case 3583:case 4068:case 2532:return jn(e,/(.+)-inline(.+)/,En+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(la(e)-1-t>6)switch(Jr(e,t+1)){case 109:if(Jr(e,t+4)!==45)break;case 102:return jn(e,/(.+:)(.+)-([^]+)/,"$1"+En+"$2-$3$1"+Dp+(Jr(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Gv(e,"stretch")?w5(jn(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Jr(e,t+1)!==115)break;case 6444:switch(Jr(e,la(e)-3-(~Gv(e,"!important")&&10))){case 107:return jn(e,":",":"+En)+e;case 101:return jn(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+En+(Jr(e,14)===45?"inline-":"")+"box$3$1"+En+"$2$3$1"+ls+"$2box$3")+e}break;case 5936:switch(Jr(e,t+11)){case 114:return En+e+ls+jn(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return En+e+ls+jn(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return En+e+ls+jn(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return En+e+ls+e+e}return e}var RF=function(t,n,r,s){if(t.length>-1&&!t.return)switch(t.type){case By:t.return=w5(t.value,t.length);break;case g5:return Ac([Mu(t,{value:jn(t.value,"@","@"+En)})],s);case wy:if(t.length)return BF(t.props,function(i){switch(wF(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ac([Mu(t,{props:[jn(i,/:(read-\w+)/,":"+Dp+"$1")]})],s);case"::placeholder":return Ac([Mu(t,{props:[jn(i,/:(plac\w+)/,":"+En+"input-$1")]}),Mu(t,{props:[jn(i,/:(plac\w+)/,":"+Dp+"$1")]}),Mu(t,{props:[jn(i,/:(plac\w+)/,ls+"input-$1")]})],s)}return""})}},HF=[RF],B5=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var y=g.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var s=t.stylisPlugins||HF,i={},o,A=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(g){for(var y=g.getAttribute("data-emotion").split(" "),x=1;x<y.length;x++)i[y[x]]=!0;A.push(g)});var l,c=[QF,PF];{var u,d=[_F,UF(function(g){u.insert(g)})],p=TF(c.concat(s,d)),f=function(y){return Ac(kF(y),p)};l=function(y,x,w,b){u=w,f(y?y+"{"+x.styles+"}":x.styles),b&&(v.inserted[x.name]=!0)}}var v={key:n,sheet:new gF({key:n,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:i,registered:{},insert:l};return v.sheet.hydrate(A),v},C5={exports:{}},Un={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gr=typeof Symbol=="function"&&Symbol.for,Sy=Gr?Symbol.for("react.element"):60103,Ey=Gr?Symbol.for("react.portal"):60106,kg=Gr?Symbol.for("react.fragment"):60107,Ng=Gr?Symbol.for("react.strict_mode"):60108,_g=Gr?Symbol.for("react.profiler"):60114,Tg=Gr?Symbol.for("react.provider"):60109,Ug=Gr?Symbol.for("react.context"):60110,jy=Gr?Symbol.for("react.async_mode"):60111,Lg=Gr?Symbol.for("react.concurrent_mode"):60111,Dg=Gr?Symbol.for("react.forward_ref"):60112,Mg=Gr?Symbol.for("react.suspense"):60113,OF=Gr?Symbol.for("react.suspense_list"):60120,Qg=Gr?Symbol.for("react.memo"):60115,Pg=Gr?Symbol.for("react.lazy"):60116,$F=Gr?Symbol.for("react.block"):60121,zF=Gr?Symbol.for("react.fundamental"):60117,WF=Gr?Symbol.for("react.responder"):60118,KF=Gr?Symbol.for("react.scope"):60119;function ai(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Sy:switch(e=e.type,e){case jy:case Lg:case kg:case _g:case Ng:case Mg:return e;default:switch(e=e&&e.$$typeof,e){case Ug:case Dg:case Pg:case Qg:case Tg:return e;default:return t}}case Ey:return t}}}function S5(e){return ai(e)===Lg}Un.AsyncMode=jy;Un.ConcurrentMode=Lg;Un.ContextConsumer=Ug;Un.ContextProvider=Tg;Un.Element=Sy;Un.ForwardRef=Dg;Un.Fragment=kg;Un.Lazy=Pg;Un.Memo=Qg;Un.Portal=Ey;Un.Profiler=_g;Un.StrictMode=Ng;Un.Suspense=Mg;Un.isAsyncMode=function(e){return S5(e)||ai(e)===jy};Un.isConcurrentMode=S5;Un.isContextConsumer=function(e){return ai(e)===Ug};Un.isContextProvider=function(e){return ai(e)===Tg};Un.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Sy};Un.isForwardRef=function(e){return ai(e)===Dg};Un.isFragment=function(e){return ai(e)===kg};Un.isLazy=function(e){return ai(e)===Pg};Un.isMemo=function(e){return ai(e)===Qg};Un.isPortal=function(e){return ai(e)===Ey};Un.isProfiler=function(e){return ai(e)===_g};Un.isStrictMode=function(e){return ai(e)===Ng};Un.isSuspense=function(e){return ai(e)===Mg};Un.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===kg||e===Lg||e===_g||e===Ng||e===Mg||e===OF||typeof e=="object"&&e!==null&&(e.$$typeof===Pg||e.$$typeof===Qg||e.$$typeof===Tg||e.$$typeof===Ug||e.$$typeof===Dg||e.$$typeof===zF||e.$$typeof===WF||e.$$typeof===KF||e.$$typeof===$F)};Un.typeOf=ai;C5.exports=Un;var VF=C5.exports,E5=VF,GF={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},qF={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},j5={};j5[E5.ForwardRef]=GF;j5[E5.Memo]=qF;var YF=!0;function I5(e,t,n){var r="";return n.split(" ").forEach(function(s){e[s]!==void 0?t.push(e[s]+";"):s&&(r+=s+" ")}),r}var Iy=function(t,n,r){var s=t.key+"-"+n.name;(r===!1||YF===!1)&&t.registered[s]===void 0&&(t.registered[s]=n.styles)},Fy=function(t,n,r){Iy(t,n,r);var s=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var i=n;do t.insert(n===i?"."+s:"",i,t.sheet,!0),i=i.next;while(i!==void 0)}};function XF(e){for(var t=0,n,r=0,s=e.length;s>=4;++r,s-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(s){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var JF={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ZF=/[A-Z]|^ms/g,ek=/_EMO_([^_]+?)_([^]*?)_EMO_/g,F5=function(t){return t.charCodeAt(1)===45},Mb=function(t){return t!=null&&typeof t!="boolean"},U0=b5(function(e){return F5(e)?e:e.replace(ZF,"-$&").toLowerCase()}),Qb=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(ek,function(r,s,i){return ca={name:s,styles:i,next:ca},s})}return JF[t]!==1&&!F5(t)&&typeof n=="number"&&n!==0?n+"px":n};function Hd(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var s=n;if(s.anim===1)return ca={name:s.name,styles:s.styles,next:ca},s.name;var i=n;if(i.styles!==void 0){var o=i.next;if(o!==void 0)for(;o!==void 0;)ca={name:o.name,styles:o.styles,next:ca},o=o.next;var A=i.styles+";";return A}return tk(e,t,n)}case"function":{if(e!==void 0){var l=ca,c=n(e);return ca=l,Hd(e,t,c)}break}}var u=n;if(t==null)return u;var d=t[u];return d!==void 0?d:u}function tk(e,t,n){var r="";if(Array.isArray(n))for(var s=0;s<n.length;s++)r+=Hd(e,t,n[s])+";";else for(var i in n){var o=n[i];if(typeof o!="object"){var A=o;t!=null&&t[A]!==void 0?r+=i+"{"+t[A]+"}":Mb(A)&&(r+=U0(i)+":"+Qb(i,A)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var l=0;l<o.length;l++)Mb(o[l])&&(r+=U0(i)+":"+Qb(i,o[l])+";");else{var c=Hd(e,t,o);switch(i){case"animation":case"animationName":{r+=U0(i)+":"+c+";";break}default:r+=i+"{"+c+"}"}}}return r}var Pb=/label:\s*([^\s;{]+)\s*(;|$)/g,ca;function ih(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,s="";ca=void 0;var i=e[0];if(i==null||i.raw===void 0)r=!1,s+=Hd(n,t,i);else{var o=i;s+=o[0]}for(var A=1;A<e.length;A++)if(s+=Hd(n,t,e[A]),r){var l=i;s+=l[A]}Pb.lastIndex=0;for(var c="",u;(u=Pb.exec(s))!==null;)c+="-"+u[1];var d=XF(s)+c;return{name:d,styles:s,next:ca}}var nk=function(t){return t()},k5=Wv.useInsertionEffect?Wv.useInsertionEffect:!1,N5=k5||nk,Rb=k5||B.useLayoutEffect,_5=B.createContext(typeof HTMLElement<"u"?B5({key:"css"}):null),rk=_5.Provider,ky=function(t){return B.forwardRef(function(n,r){var s=B.useContext(_5);return t(n,s,r)})},Wc=B.createContext({}),Ny={}.hasOwnProperty,Yv="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",sk=function(t,n){var r={};for(var s in n)Ny.call(n,s)&&(r[s]=n[s]);return r[Yv]=t,r},ik=function(t){var n=t.cache,r=t.serialized,s=t.isStringTag;return Iy(n,r,s),N5(function(){return Fy(n,r,s)}),null},ak=ky(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var s=e[Yv],i=[r],o="";typeof e.className=="string"?o=I5(t.registered,i,e.className):e.className!=null&&(o=e.className+" ");var A=ih(i,void 0,B.useContext(Wc));o+=t.key+"-"+A.name;var l={};for(var c in e)Ny.call(e,c)&&c!=="css"&&c!==Yv&&(l[c]=e[c]);return l.className=o,n&&(l.ref=n),B.createElement(B.Fragment,null,B.createElement(ik,{cache:t,serialized:A,isStringTag:typeof s=="string"}),B.createElement(s,l))}),ok=ak,L0={exports:{}},Hb;function T5(){return Hb||(Hb=1,function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var i in s)({}).hasOwnProperty.call(s,i)&&(n[i]=s[i])}return n},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(L0)),L0.exports}T5();var Ob=function(t,n){var r=arguments;if(n==null||!Ny.call(n,"css"))return B.createElement.apply(void 0,r);var s=r.length,i=new Array(s);i[0]=ok,i[1]=sk(t,n);for(var o=2;o<s;o++)i[o]=r[o];return B.createElement.apply(null,i)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(Ob||(Ob={}));var Ak=ky(function(e,t){var n=e.styles,r=ih([n],void 0,B.useContext(Wc)),s=B.useRef();return Rb(function(){var i=t.key+"-global",o=new t.sheet.constructor({key:i,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),A=!1,l=document.querySelector('style[data-emotion="'+i+" "+r.name+'"]');return t.sheet.tags.length&&(o.before=t.sheet.tags[0]),l!==null&&(A=!0,l.setAttribute("data-emotion",i),o.hydrate([l])),s.current=[o,A],function(){o.flush()}},[t]),Rb(function(){var i=s.current,o=i[0],A=i[1];if(A){i[1]=!1;return}if(r.next!==void 0&&Fy(t,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}t.insert("",r,o,!1)},[t,r.name]),null});function qA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ih(t)}function po(){var e=qA.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var lk=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,ck=b5(function(e){return lk.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),uk=ck,dk=function(t){return t!=="theme"},$b=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?uk:dk},zb=function(t,n,r){var s;if(n){var i=n.shouldForwardProp;s=t.__emotion_forwardProp&&i?function(o){return t.__emotion_forwardProp(o)&&i(o)}:i}return typeof s!="function"&&r&&(s=t.__emotion_forwardProp),s},hk=function(t){var n=t.cache,r=t.serialized,s=t.isStringTag;return Iy(n,r,s),N5(function(){return Fy(n,r,s)}),null},fk=function e(t,n){var r=t.__emotion_real===t,s=r&&t.__emotion_base||t,i,o;n!==void 0&&(i=n.label,o=n.target);var A=zb(t,n,r),l=A||$b(s),c=!l("as");return function(){var u=arguments,d=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(i!==void 0&&d.push("label:"+i+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{var p=u[0];d.push(p[0]);for(var f=u.length,v=1;v<f;v++)d.push(u[v],p[v])}var g=ky(function(y,x,w){var b=c&&y.as||s,j="",_=[],k=y;if(y.theme==null){k={};for(var D in y)k[D]=y[D];k.theme=B.useContext(Wc)}typeof y.className=="string"?j=I5(x.registered,_,y.className):y.className!=null&&(j=y.className+" ");var N=ih(d.concat(_),x.registered,k);j+=x.key+"-"+N.name,o!==void 0&&(j+=" "+o);var U=c&&A===void 0?$b(b):l,L={};for(var E in y)c&&E==="as"||U(E)&&(L[E]=y[E]);return L.className=j,w&&(L.ref=w),B.createElement(B.Fragment,null,B.createElement(hk,{cache:x,serialized:N,isStringTag:typeof b=="string"}),B.createElement(b,L))});return g.displayName=i!==void 0?i:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=s,g.__emotion_styles=d,g.__emotion_forwardProp=A,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(y,x){var w=e(y,z({},n,x,{shouldForwardProp:zb(g,x,!0)}));return w.apply(void 0,d)},g}},pk=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Xv=fk.bind(null);pk.forEach(function(e){Xv[e]=Xv(e)});function gk(e,t){const n=B5({key:"css",prepend:e});if(t){const r=n.insert;n.insert=(...s)=>(s[1].styles.match(/^@layer\s+[^{]*$/)||(s[1].styles=`@layer mui {${s[1].styles}}`),r(...s))}return n}const D0=new Map;function mk(e){const{injectFirst:t,enableCssLayer:n,children:r}=e,s=B.useMemo(()=>{const i=`${t}-${n}`;if(typeof document=="object"&&D0.has(i))return D0.get(i);const o=gk(t,n);return D0.set(i,o),o},[t,n]);return t||n?a.jsx(rk,{value:s,children:r}):r}function vk(e){return e==null||Object.keys(e).length===0}function U5(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?s=>t(vk(s)?n:s):t;return a.jsx(Ak,{styles:r})}function _y(e,t){return Xv(e,t)}const L5=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},Wb=[];function Mp(e){return Wb[0]=e,ih(Wb)}const yk=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:U5,StyledEngineProvider:mk,ThemeContext:Wc,css:qA,default:_y,internal_processStyles:L5,internal_serializeStyles:Mp,keyframes:po},Symbol.toStringTag,{value:"Module"}));function Ya(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function D5(e){if(B.isValidElement(e)||!Ya(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=D5(e[n])}),t}function Es(e,t,n={clone:!0}){const r=n.clone?z({},e):e;return Ya(e)&&Ya(t)&&Object.keys(t).forEach(s=>{B.isValidElement(t[s])?r[s]=t[s]:Ya(t[s])&&Object.prototype.hasOwnProperty.call(e,s)&&Ya(e[s])?r[s]=Es(e[s],t[s],n):n.clone?r[s]=Ya(t[s])?D5(t[s]):t[s]:r[s]=t[s]}),r}const xk=Object.freeze(Object.defineProperty({__proto__:null,default:Es,isPlainObject:Ya},Symbol.toStringTag,{value:"Module"})),bk=["values","unit","step"],wk=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>z({},n,{[r.key]:r.val}),{})};function M5(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,s=Ve(e,bk),i=wk(t),o=Object.keys(i);function A(p){return`@media (min-width:${typeof t[p]=="number"?t[p]:p}${n})`}function l(p){return`@media (max-width:${(typeof t[p]=="number"?t[p]:p)-r/100}${n})`}function c(p,f){const v=o.indexOf(f);return`@media (min-width:${typeof t[p]=="number"?t[p]:p}${n}) and (max-width:${(v!==-1&&typeof t[o[v]]=="number"?t[o[v]]:f)-r/100}${n})`}function u(p){return o.indexOf(p)+1<o.length?c(p,o[o.indexOf(p)+1]):A(p)}function d(p){const f=o.indexOf(p);return f===0?A(o[1]):f===o.length-1?l(o[f]):c(p,o[o.indexOf(p)+1]).replace("@media","@media not all and")}return z({keys:o,values:i,up:A,down:l,between:c,only:u,not:d,unit:n},s)}const Bk={borderRadius:4};function xd(e,t){return t?Es(e,t,{clone:!1}):e}const Ty={xs:0,sm:600,md:900,lg:1200,xl:1536},Kb={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${Ty[e]}px)`};function zs(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const i=r.breakpoints||Kb;return t.reduce((o,A,l)=>(o[i.up(i.keys[l])]=n(t[l]),o),{})}if(typeof t=="object"){const i=r.breakpoints||Kb;return Object.keys(t).reduce((o,A)=>{if(Object.keys(i.values||Ty).indexOf(A)!==-1){const l=i.up(A);o[l]=n(t[A],A)}else{const l=A;o[l]=t[l]}return o},{})}return n(t)}function Q5(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((r,s)=>{const i=e.up(s);return r[i]={},r},{}))||{}}function Jv(e,t){return e.reduce((n,r)=>{const s=n[r];return(!s||Object.keys(s).length===0)&&delete n[r],n},t)}function Ck(e,...t){const n=Q5(e),r=[n,...t].reduce((s,i)=>Es(s,i),{});return Jv(Object.keys(n),r)}function Sk(e,t){if(typeof e!="object")return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((s,i)=>{i<e.length&&(n[s]=!0)}):r.forEach(s=>{e[s]!=null&&(n[s]=!0)}),n}function TA({values:e,breakpoints:t,base:n}){const r=n||Sk(e,t),s=Object.keys(r);if(s.length===0)return e;let i;return s.reduce((o,A,l)=>(Array.isArray(e)?(o[A]=e[l]!=null?e[l]:e[i],i=l):typeof e=="object"?(o[A]=e[A]!=null?e[A]:e[i],i=A):o[A]=e,o),{})}function Ke(e){if(typeof e!="string")throw new Error(io(7));return e.charAt(0).toUpperCase()+e.slice(1)}const Ek=Object.freeze(Object.defineProperty({__proto__:null,default:Ke},Symbol.toStringTag,{value:"Module"}));function Rg(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((s,i)=>s&&s[i]?s[i]:null,e);if(r!=null)return r}return t.split(".").reduce((r,s)=>r&&r[s]!=null?r[s]:null,e)}function Qp(e,t,n,r=n){let s;return typeof e=="function"?s=e(n):Array.isArray(e)?s=e[n]||r:s=Rg(e,n)||r,t&&(s=t(s,r,e)),s}function Cr(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:s}=e,i=o=>{if(o[t]==null)return null;const A=o[t],l=o.theme,c=Rg(l,r)||{};return zs(o,A,d=>{let p=Qp(c,s,d);return d===p&&typeof d=="string"&&(p=Qp(c,s,`${t}${d==="default"?"":Ke(d)}`,d)),n===!1?p:{[n]:p}})};return i.propTypes={},i.filterProps=[t],i}function jk(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const Ik={m:"margin",p:"padding"},Fk={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Vb={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},kk=jk(e=>{if(e.length>2)if(Vb[e])e=Vb[e];else return[e];const[t,n]=e.split(""),r=Ik[t],s=Fk[n]||"";return Array.isArray(s)?s.map(i=>r+i):[r+s]}),Uy=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Ly=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Uy,...Ly];function ah(e,t,n,r){var s;const i=(s=Rg(e,t,!1))!=null?s:n;return typeof i=="number"?o=>typeof o=="string"?o:i*o:Array.isArray(i)?o=>typeof o=="string"?o:i[o]:typeof i=="function"?i:()=>{}}function Dy(e){return ah(e,"spacing",8)}function RA(e,t){if(typeof t=="string"||t==null)return t;const n=Math.abs(t),r=e(n);return t>=0?r:typeof r=="number"?-r:`-${r}`}function Nk(e,t){return n=>e.reduce((r,s)=>(r[s]=RA(t,n),r),{})}function _k(e,t,n,r){if(t.indexOf(n)===-1)return null;const s=kk(n),i=Nk(s,r),o=e[n];return zs(e,o,i)}function P5(e,t){const n=Dy(e.theme);return Object.keys(e).map(r=>_k(e,t,r,n)).reduce(xd,{})}function Ar(e){return P5(e,Uy)}Ar.propTypes={};Ar.filterProps=Uy;function lr(e){return P5(e,Ly)}lr.propTypes={};lr.filterProps=Ly;function Tk(e=8){if(e.mui)return e;const t=Dy({spacing:e}),n=(...r)=>(r.length===0?[1]:r).map(i=>{const o=t(i);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function Hg(...e){const t=e.reduce((r,s)=>(s.filterProps.forEach(i=>{r[i]=s}),r),{}),n=r=>Object.keys(r).reduce((s,i)=>t[i]?xd(s,t[i](r)):s,{});return n.propTypes={},n.filterProps=e.reduce((r,s)=>r.concat(s.filterProps),[]),n}function wi(e){return typeof e!="number"?e:`${e}px solid`}function Ti(e,t){return Cr({prop:e,themeKey:"borders",transform:t})}const Uk=Ti("border",wi),Lk=Ti("borderTop",wi),Dk=Ti("borderRight",wi),Mk=Ti("borderBottom",wi),Qk=Ti("borderLeft",wi),Pk=Ti("borderColor"),Rk=Ti("borderTopColor"),Hk=Ti("borderRightColor"),Ok=Ti("borderBottomColor"),$k=Ti("borderLeftColor"),zk=Ti("outline",wi),Wk=Ti("outlineColor"),Og=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=ah(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:RA(t,r)});return zs(e,e.borderRadius,n)}return null};Og.propTypes={};Og.filterProps=["borderRadius"];Hg(Uk,Lk,Dk,Mk,Qk,Pk,Rk,Hk,Ok,$k,Og,zk,Wk);const $g=e=>{if(e.gap!==void 0&&e.gap!==null){const t=ah(e.theme,"spacing",8),n=r=>({gap:RA(t,r)});return zs(e,e.gap,n)}return null};$g.propTypes={};$g.filterProps=["gap"];const zg=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=ah(e.theme,"spacing",8),n=r=>({columnGap:RA(t,r)});return zs(e,e.columnGap,n)}return null};zg.propTypes={};zg.filterProps=["columnGap"];const Wg=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=ah(e.theme,"spacing",8),n=r=>({rowGap:RA(t,r)});return zs(e,e.rowGap,n)}return null};Wg.propTypes={};Wg.filterProps=["rowGap"];const Kk=Cr({prop:"gridColumn"}),Vk=Cr({prop:"gridRow"}),Gk=Cr({prop:"gridAutoFlow"}),qk=Cr({prop:"gridAutoColumns"}),Yk=Cr({prop:"gridAutoRows"}),Xk=Cr({prop:"gridTemplateColumns"}),Jk=Cr({prop:"gridTemplateRows"}),Zk=Cr({prop:"gridTemplateAreas"}),eN=Cr({prop:"gridArea"});Hg($g,zg,Wg,Kk,Vk,Gk,qk,Yk,Xk,Jk,Zk,eN);function lc(e,t){return t==="grey"?t:e}const tN=Cr({prop:"color",themeKey:"palette",transform:lc}),nN=Cr({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:lc}),rN=Cr({prop:"backgroundColor",themeKey:"palette",transform:lc});Hg(tN,nN,rN);function ei(e){return e<=1&&e!==0?`${e*100}%`:e}const sN=Cr({prop:"width",transform:ei}),My=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var r,s;const i=((r=e.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||Ty[n];return i?((s=e.theme)==null||(s=s.breakpoints)==null?void 0:s.unit)!=="px"?{maxWidth:`${i}${e.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:ei(n)}};return zs(e,e.maxWidth,t)}return null};My.filterProps=["maxWidth"];const iN=Cr({prop:"minWidth",transform:ei}),aN=Cr({prop:"height",transform:ei}),oN=Cr({prop:"maxHeight",transform:ei}),AN=Cr({prop:"minHeight",transform:ei});Cr({prop:"size",cssProperty:"width",transform:ei});Cr({prop:"size",cssProperty:"height",transform:ei});const lN=Cr({prop:"boxSizing"});Hg(sN,My,iN,aN,oN,AN,lN);const oh={border:{themeKey:"borders",transform:wi},borderTop:{themeKey:"borders",transform:wi},borderRight:{themeKey:"borders",transform:wi},borderBottom:{themeKey:"borders",transform:wi},borderLeft:{themeKey:"borders",transform:wi},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:wi},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Og},color:{themeKey:"palette",transform:lc},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:lc},backgroundColor:{themeKey:"palette",transform:lc},p:{style:lr},pt:{style:lr},pr:{style:lr},pb:{style:lr},pl:{style:lr},px:{style:lr},py:{style:lr},padding:{style:lr},paddingTop:{style:lr},paddingRight:{style:lr},paddingBottom:{style:lr},paddingLeft:{style:lr},paddingX:{style:lr},paddingY:{style:lr},paddingInline:{style:lr},paddingInlineStart:{style:lr},paddingInlineEnd:{style:lr},paddingBlock:{style:lr},paddingBlockStart:{style:lr},paddingBlockEnd:{style:lr},m:{style:Ar},mt:{style:Ar},mr:{style:Ar},mb:{style:Ar},ml:{style:Ar},mx:{style:Ar},my:{style:Ar},margin:{style:Ar},marginTop:{style:Ar},marginRight:{style:Ar},marginBottom:{style:Ar},marginLeft:{style:Ar},marginX:{style:Ar},marginY:{style:Ar},marginInline:{style:Ar},marginInlineStart:{style:Ar},marginInlineEnd:{style:Ar},marginBlock:{style:Ar},marginBlockStart:{style:Ar},marginBlockEnd:{style:Ar},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:$g},rowGap:{style:Wg},columnGap:{style:zg},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:ei},maxWidth:{style:My},minWidth:{transform:ei},height:{transform:ei},maxHeight:{transform:ei},minHeight:{transform:ei},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function cN(...e){const t=e.reduce((r,s)=>r.concat(Object.keys(s)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function uN(e,t){return typeof e=="function"?e(t):e}function R5(){function e(n,r,s,i){const o={[n]:r,theme:s},A=i[n];if(!A)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:u,style:d}=A;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const p=Rg(s,c)||{};return d?d(o):zs(o,r,v=>{let g=Qp(p,u,v);return v===g&&typeof v=="string"&&(g=Qp(p,u,`${n}${v==="default"?"":Ke(v)}`,v)),l===!1?g:{[l]:g}})}function t(n){var r;const{sx:s,theme:i={},nested:o}=n||{};if(!s)return null;const A=(r=i.unstable_sxConfig)!=null?r:oh;function l(c){let u=c;if(typeof c=="function")u=c(i);else if(typeof c!="object")return c;if(!u)return null;const d=Q5(i.breakpoints),p=Object.keys(d);let f=d;return Object.keys(u).forEach(v=>{const g=uN(u[v],i);if(g!=null)if(typeof g=="object")if(A[v])f=xd(f,e(v,g,i,A));else{const y=zs({theme:i},g,x=>({[v]:x}));cN(y,g)?f[v]=t({sx:g,theme:i,nested:!0}):f=xd(f,y)}else f=xd(f,e(v,g,i,A))}),!o&&i.modularCssLayers?{"@layer sx":Jv(p,f)}:Jv(p,f)}return Array.isArray(s)?s.map(l):l(s)}return t}const Kc=R5();Kc.filterProps=["sx"];function H5(e,t){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}:n.palette.mode===e?t:{}}const dN=["breakpoints","palette","spacing","shape"];function Vc(e={},...t){const{breakpoints:n={},palette:r={},spacing:s,shape:i={}}=e,o=Ve(e,dN),A=M5(n),l=Tk(s);let c=Es({breakpoints:A,direction:"ltr",components:{},palette:z({mode:"light"},r),spacing:l,shape:z({},Bk,i)},o);return c.applyStyles=H5,c=t.reduce((u,d)=>Es(u,d),c),c.unstable_sxConfig=z({},oh,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return Kc({sx:d,theme:this})},c}const hN=Object.freeze(Object.defineProperty({__proto__:null,default:Vc,private_createBreakpoints:M5,unstable_applyStyles:H5},Symbol.toStringTag,{value:"Module"}));function fN(e){return Object.keys(e).length===0}function Kg(e=null){const t=B.useContext(Wc);return!t||fN(t)?e:t}const pN=Vc();function Gc(e=pN){return Kg(e)}function M0(e){const t=Mp(e);return e!==t&&t.styles?(t.styles.match(/^@layer\s+[^{]*$/)||(t.styles=`@layer global{${t.styles}}`),t):e}function O5({styles:e,themeId:t,defaultTheme:n={}}){const r=Gc(n),s=t&&r[t]||r;let i=typeof e=="function"?e(s):e;return s.modularCssLayers&&(Array.isArray(i)?i=i.map(o=>M0(typeof o=="function"?o(s):o)):i=M0(i)),a.jsx(U5,{styles:i})}const gN=["sx"],mN=e=>{var t,n;const r={systemProps:{},otherProps:{}},s=(t=e==null||(n=e.theme)==null?void 0:n.unstable_sxConfig)!=null?t:oh;return Object.keys(e).forEach(i=>{s[i]?r.systemProps[i]=e[i]:r.otherProps[i]=e[i]}),r};function Ah(e){const{sx:t}=e,n=Ve(e,gN),{systemProps:r,otherProps:s}=mN(n);let i;return Array.isArray(t)?i=[r,...t]:typeof t=="function"?i=(...o)=>{const A=t(...o);return Ya(A)?z({},r,A):r}:i=z({},r,t),z({},s,{sx:i})}const vN=Object.freeze(Object.defineProperty({__proto__:null,default:Kc,extendSxProp:Ah,unstable_createStyleFunctionSx:R5,unstable_defaultSxConfig:oh},Symbol.toStringTag,{value:"Module"})),Gb=e=>e,yN=()=>{let e=Gb;return{configure(t){e=t},generate(t){return e(t)},reset(){e=Gb}}},$5=yN();function z5(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=z5(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ye(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=z5(e))&&(r&&(r+=" "),r+=t);return r}const xN=["className","component"];function bN(e={}){const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:s}=e,i=_y("div",{shouldForwardProp:A=>A!=="theme"&&A!=="sx"&&A!=="as"})(Kc);return B.forwardRef(function(l,c){const u=Gc(n),d=Ah(l),{className:p,component:f="div"}=d,v=Ve(d,xN);return a.jsx(i,z({as:f,ref:c,className:Ye(p,s?s(r):r),theme:t&&u[t]||u},v))})}const wN={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function at(e,t,n="Mui"){const r=wN[t];return r?`${n}-${r}`:`${$5.generate(e)}-${t}`}function ot(e,t,n="Mui"){const r={};return t.forEach(s=>{r[s]=at(e,s,n)}),r}var W5={exports:{}},On={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qy=Symbol.for("react.transitional.element"),Py=Symbol.for("react.portal"),Vg=Symbol.for("react.fragment"),Gg=Symbol.for("react.strict_mode"),qg=Symbol.for("react.profiler"),Yg=Symbol.for("react.consumer"),Xg=Symbol.for("react.context"),Jg=Symbol.for("react.forward_ref"),Zg=Symbol.for("react.suspense"),em=Symbol.for("react.suspense_list"),tm=Symbol.for("react.memo"),nm=Symbol.for("react.lazy"),BN=Symbol.for("react.view_transition"),CN=Symbol.for("react.client.reference");function Ui(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Qy:switch(e=e.type,e){case Vg:case qg:case Gg:case Zg:case em:case BN:return e;default:switch(e=e&&e.$$typeof,e){case Xg:case Jg:case nm:case tm:return e;case Yg:return e;default:return t}}case Py:return t}}}On.ContextConsumer=Yg;On.ContextProvider=Xg;On.Element=Qy;On.ForwardRef=Jg;On.Fragment=Vg;On.Lazy=nm;On.Memo=tm;On.Portal=Py;On.Profiler=qg;On.StrictMode=Gg;On.Suspense=Zg;On.SuspenseList=em;On.isContextConsumer=function(e){return Ui(e)===Yg};On.isContextProvider=function(e){return Ui(e)===Xg};On.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Qy};On.isForwardRef=function(e){return Ui(e)===Jg};On.isFragment=function(e){return Ui(e)===Vg};On.isLazy=function(e){return Ui(e)===nm};On.isMemo=function(e){return Ui(e)===tm};On.isPortal=function(e){return Ui(e)===Py};On.isProfiler=function(e){return Ui(e)===qg};On.isStrictMode=function(e){return Ui(e)===Gg};On.isSuspense=function(e){return Ui(e)===Zg};On.isSuspenseList=function(e){return Ui(e)===em};On.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Vg||e===qg||e===Gg||e===Zg||e===em||typeof e=="object"&&e!==null&&(e.$$typeof===nm||e.$$typeof===tm||e.$$typeof===Xg||e.$$typeof===Yg||e.$$typeof===Jg||e.$$typeof===CN||e.getModuleId!==void 0)};On.typeOf=Ui;W5.exports=On;var qb=W5.exports;const SN=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function K5(e){const t=`${e}`.match(SN);return t&&t[1]||""}function V5(e,t=""){return e.displayName||e.name||K5(e)||t}function Yb(e,t,n){const r=V5(t);return e.displayName||(r!==""?`${n}(${r})`:n)}function EN(e){if(e!=null){if(typeof e=="string")return e;if(typeof e=="function")return V5(e,"Component");if(typeof e=="object")switch(e.$$typeof){case qb.ForwardRef:return Yb(e,e.render,"ForwardRef");case qb.Memo:return Yb(e,e.type,"memo");default:return}}}const jN=Object.freeze(Object.defineProperty({__proto__:null,default:EN,getFunctionName:K5},Symbol.toStringTag,{value:"Module"})),IN=["ownerState"],FN=["variants"],kN=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function NN(e){return Object.keys(e).length===0}function _N(e){return typeof e=="string"&&e.charCodeAt(0)>96}function Q0(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function Xb(e,t){return t&&e&&typeof e=="object"&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}const TN=Vc(),UN=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function Bf({defaultTheme:e,theme:t,themeId:n}){return NN(t)?e:t[n]||t}function LN(e){return e?(t,n)=>n[e]:null}function vp(e,t,n){let{ownerState:r}=t,s=Ve(t,IN);const i=typeof e=="function"?e(z({ownerState:r},s)):e;if(Array.isArray(i))return i.flatMap(o=>vp(o,z({ownerState:r},s),n));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:o=[]}=i;let l=Ve(i,FN);return o.forEach(c=>{let u=!0;if(typeof c.props=="function"?u=c.props(z({ownerState:r},s,r)):Object.keys(c.props).forEach(d=>{(r==null?void 0:r[d])!==c.props[d]&&s[d]!==c.props[d]&&(u=!1)}),u){Array.isArray(l)||(l=[l]);const d=typeof c.style=="function"?c.style(z({ownerState:r},s,r)):c.style;l.push(n?Xb(Mp(d),n):d)}}),l}return n?Xb(Mp(i),n):i}function DN(e={}){const{themeId:t,defaultTheme:n=TN,rootShouldForwardProp:r=Q0,slotShouldForwardProp:s=Q0}=e,i=o=>Kc(z({},o,{theme:Bf(z({},o,{defaultTheme:n,themeId:t}))}));return i.__mui_systemSx=!0,(o,A={})=>{L5(o,k=>k.filter(D=>!(D!=null&&D.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:p=LN(UN(c))}=A,f=Ve(A,kN),v=l&&l.startsWith("Mui")||c?"components":"custom",g=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,y=d||!1;let x,w=Q0;c==="Root"||c==="root"?w=r:c?w=s:_N(o)&&(w=void 0);const b=_y(o,z({shouldForwardProp:w,label:x},f)),j=k=>typeof k=="function"&&k.__emotion_real!==k||Ya(k)?D=>{const N=Bf({theme:D.theme,defaultTheme:n,themeId:t});return vp(k,z({},D,{theme:N}),N.modularCssLayers?v:void 0)}:k,_=(k,...D)=>{let N=j(k);const U=D?D.map(j):[];l&&p&&U.push(I=>{const T=Bf(z({},I,{defaultTheme:n,themeId:t}));if(!T.components||!T.components[l]||!T.components[l].styleOverrides)return null;const P=T.components[l].styleOverrides,K={};return Object.entries(P).forEach(([Q,F])=>{K[Q]=vp(F,z({},I,{theme:T}),T.modularCssLayers?"theme":void 0)}),p(I,K)}),l&&!g&&U.push(I=>{var T;const P=Bf(z({},I,{defaultTheme:n,themeId:t})),K=P==null||(T=P.components)==null||(T=T[l])==null?void 0:T.variants;return vp({variants:K},z({},I,{theme:P}),P.modularCssLayers?"theme":void 0)}),y||U.push(i);const L=U.length-D.length;if(Array.isArray(k)&&L>0){const I=new Array(L).fill("");N=[...k,...I],N.raw=[...k.raw,...I]}const E=b(N,...U);return o.muiName&&(E.muiName=o.muiName),E};return b.withConfig&&(_.withConfig=b.withConfig),_}}const G5=DN();function Od(e,t){const n=z({},t);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=z({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const s=e[r]||{},i=t[r];n[r]={},!i||!Object.keys(i)?n[r]=s:!s||!Object.keys(s)?n[r]=i:(n[r]=z({},i),Object.keys(s).forEach(o=>{n[r][o]=Od(s[o],i[o])}))}else n[r]===void 0&&(n[r]=e[r])}),n}function q5(e){const{theme:t,name:n,props:r}=e;return!t||!t.components||!t.components[n]||!t.components[n].defaultProps?r:Od(t.components[n].defaultProps,r)}function Ry({props:e,name:t,defaultTheme:n,themeId:r}){let s=Gc(n);return r&&(s=s[r]||s),q5({theme:s,name:t,props:e})}const ms=typeof window<"u"?B.useLayoutEffect:B.useEffect;function MN(e,t,n,r,s){const[i,o]=B.useState(()=>s&&n?n(e).matches:r?r(e).matches:t);return ms(()=>{let A=!0;if(!n)return;const l=n(e),c=()=>{A&&o(l.matches)};return c(),l.addListener(c),()=>{A=!1,l.removeListener(c)}},[e,n]),i}const Y5=B.useSyncExternalStore;function QN(e,t,n,r,s){const i=B.useCallback(()=>t,[t]),o=B.useMemo(()=>{if(s&&n)return()=>n(e).matches;if(r!==null){const{matches:u}=r(e);return()=>u}return i},[i,e,r,s,n]),[A,l]=B.useMemo(()=>{if(n===null)return[i,()=>()=>{}];const u=n(e);return[()=>u.matches,d=>(u.addListener(d),()=>{u.removeListener(d)})]},[i,n,e]);return Y5(l,A,o)}function PN(e,t={}){const n=Kg(),r=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:s=!1,matchMedia:i=r?window.matchMedia:null,ssrMatchMedia:o=null,noSsr:A=!1}=q5({name:"MuiUseMediaQuery",props:t,theme:n});let l=e;return l=l.replace(/^@media( ?)/m,""),(Y5!==void 0?QN:MN)(l,s,i,o,A)}function X5(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}const RN=Object.freeze(Object.defineProperty({__proto__:null,default:X5},Symbol.toStringTag,{value:"Module"}));function HN(e,t=0,n=1){return X5(e,t,n)}function ON(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,s)=>s<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function J5(e){if(e.type)return e;if(e.charAt(0)==="#")return J5(ON(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(io(9,e));let r=e.substring(t+1,e.length-1),s;if(n==="color"){if(r=r.split(" "),s=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(s)===-1)throw new Error(io(10,s))}else r=r.split(",");return r=r.map(i=>parseFloat(i)),{type:n,values:r,colorSpace:s}}function $N(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((s,i)=>i<3?parseInt(s,10):s):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function Cc(e,t){return e=J5(e),t=HN(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,$N(e)}function Jb(...e){return e.reduce((t,n)=>n==null?t:function(...s){t.apply(this,s),n.apply(this,s)},()=>{})}function rm(e,t=166){let n;function r(...s){const i=()=>{e.apply(this,s)};clearTimeout(n),n=setTimeout(i,t)}return r.clear=()=>{clearTimeout(n)},r}function yp(e,t){var n,r;return B.isValidElement(e)&&t.indexOf((n=e.type.muiName)!=null?n:(r=e.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function Mr(e){return e&&e.ownerDocument||document}function ao(e){return Mr(e).defaultView||window}function Zv(e,t){typeof e=="function"?e(t):e&&(e.current=t)}let Zb=0;function zN(e){const[t,n]=B.useState(e),r=e||t;return B.useEffect(()=>{t==null&&(Zb+=1,n(`mui-${Zb}`))},[t]),r}const e2=Wv.useId;function qc(e){if(e2!==void 0){const t=e2();return e??t}return zN(e)}function Sa({controlled:e,default:t,name:n,state:r="value"}){const{current:s}=B.useRef(e!==void 0),[i,o]=B.useState(t),A=s?e:i,l=B.useCallback(c=>{s||o(c)},[]);return[A,l]}function Vt(e){const t=B.useRef(e);return ms(()=>{t.current=e}),B.useRef((...n)=>(0,t.current)(...n)).current}function Xn(...e){return B.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{Zv(n,t)})},e)}const t2={};function WN(e,t){const n=B.useRef(t2);return n.current===t2&&(n.current=e(t)),n}const KN=[];function VN(e){B.useEffect(e,KN)}class lh{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new lh}start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}}function Ro(){const e=WN(lh.create).current;return VN(e.disposeEffect),e}let sm=!0,e1=!1;const GN=new lh,qN={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function YN(e){const{type:t,tagName:n}=e;return!!(n==="INPUT"&&qN[t]&&!e.readOnly||n==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function XN(e){e.metaKey||e.altKey||e.ctrlKey||(sm=!0)}function P0(){sm=!1}function JN(){this.visibilityState==="hidden"&&e1&&(sm=!0)}function ZN(e){e.addEventListener("keydown",XN,!0),e.addEventListener("mousedown",P0,!0),e.addEventListener("pointerdown",P0,!0),e.addEventListener("touchstart",P0,!0),e.addEventListener("visibilitychange",JN,!0)}function e_(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return sm||YN(t)}function Z5(){const e=B.useCallback(s=>{s!=null&&ZN(s.ownerDocument)},[]),t=B.useRef(!1);function n(){return t.current?(e1=!0,GN.start(100,()=>{e1=!1}),t.current=!1,!0):!1}function r(s){return e_(s)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:r,onBlur:n,ref:e}}function e4(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}let jl;function t4(){if(jl)return jl;const e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),jl="reverse",e.scrollLeft>0?jl="default":(e.scrollLeft=1,e.scrollLeft===0&&(jl="negative")),document.body.removeChild(e),jl}function t_(e,t){const n=e.scrollLeft;if(t!=="rtl")return n;switch(t4()){case"negative":return e.scrollWidth-e.clientWidth+n;case"reverse":return e.scrollWidth-e.clientWidth-n;default:return n}}function lt(e,t,n=void 0){const r={};return Object.keys(e).forEach(s=>{r[s]=e[s].reduce((i,o)=>{if(o){const A=t(o);A!==""&&i.push(A),n&&n[o]&&i.push(n[o])}return i},[]).join(" ")}),r}function Sc(e){return typeof e=="string"}function Zl(e,t,n){return e===void 0||Sc(e)?t:z({},t,{ownerState:z({},t.ownerState,n)})}function Pp(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function n2(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function n4(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:s,className:i}=e;if(!t){const f=Ye(n==null?void 0:n.className,i,s==null?void 0:s.className,r==null?void 0:r.className),v=z({},n==null?void 0:n.style,s==null?void 0:s.style,r==null?void 0:r.style),g=z({},n,s,r);return f.length>0&&(g.className=f),Object.keys(v).length>0&&(g.style=v),{props:g,internalRef:void 0}}const o=Pp(z({},s,r)),A=n2(r),l=n2(s),c=t(o),u=Ye(c==null?void 0:c.className,n==null?void 0:n.className,i,s==null?void 0:s.className,r==null?void 0:r.className),d=z({},c==null?void 0:c.style,n==null?void 0:n.style,s==null?void 0:s.style,r==null?void 0:r.style),p=z({},c,n,l,A);return u.length>0&&(p.className=u),Object.keys(d).length>0&&(p.style=d),{props:p,internalRef:c.ref}}function r4(e,t,n){return typeof e=="function"?e(t,n):e}const n_=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Ii(e){var t;const{elementType:n,externalSlotProps:r,ownerState:s,skipResolvingSlotProps:i=!1}=e,o=Ve(e,n_),A=i?{}:r4(r,s),{props:l,internalRef:c}=n4(z({},o,{externalSlotProps:A})),u=Xn(c,A==null?void 0:A.ref,(t=e.additionalProps)==null?void 0:t.ref);return Zl(n,z({},l,{ref:u}),s)}function YA(e){if(parseInt(B.version,10)>=19){var t;return(e==null||(t=e.props)==null?void 0:t.ref)||null}return(e==null?void 0:e.ref)||null}const s4=B.createContext(null);function i4(){return B.useContext(s4)}const r_=typeof Symbol=="function"&&Symbol.for,s_=r_?Symbol.for("mui.nested"):"__THEME_NESTED__";function i_(e,t){return typeof t=="function"?t(e):z({},e,t)}function a_(e){const{children:t,theme:n}=e,r=i4(),s=B.useMemo(()=>{const i=r===null?n:i_(r,n);return i!=null&&(i[s_]=r!==null),i},[n,r]);return a.jsx(s4.Provider,{value:s,children:t})}const o_=["value"],a4=B.createContext();function A_(e){let{value:t}=e,n=Ve(e,o_);return a.jsx(a4.Provider,z({value:t??!0},n))}const ch=()=>{const e=B.useContext(a4);return e??!1},o4=B.createContext(void 0);function l_({value:e,children:t}){return a.jsx(o4.Provider,{value:e,children:t})}function c_(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const s=t.components[n];return s.defaultProps?Od(s.defaultProps,r):!s.styleOverrides&&!s.variants?Od(s,r):r}function u_({props:e,name:t}){const n=B.useContext(o4);return c_({props:e,name:t,theme:{components:n}})}function d_(e){const t=Kg(),n=qc()||"",{modularCssLayers:r}=e;let s="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!r||t!==null?s="":typeof r=="string"?s=r.replace(/mui(?!\.)/g,s):s=`@layer ${s};`,ms(()=>{const i=document.querySelector("head");if(!i)return;const o=i.firstChild;if(s){var A;if(o&&(A=o.hasAttribute)!=null&&A.call(o,"data-mui-layer-order")&&o.getAttribute("data-mui-layer-order")===n)return;const c=document.createElement("style");c.setAttribute("data-mui-layer-order",n),c.textContent=s,i.prepend(c)}else{var l;(l=i.querySelector(`style[data-mui-layer-order="${n}"]`))==null||l.remove()}},[s,n]),s?a.jsx(O5,{styles:s}):null}const r2={};function s2(e,t,n,r=!1){return B.useMemo(()=>{const s=e&&t[e]||t;if(typeof n=="function"){const i=n(s),o=e?z({},t,{[e]:i}):i;return r?()=>o:o}return e?z({},t,{[e]:n}):z({},t,n)},[e,t,n,r])}function h_(e){const{children:t,theme:n,themeId:r}=e,s=Kg(r2),i=i4()||r2,o=s2(r,s,n),A=s2(r,i,n,!0),l=o.direction==="rtl",c=d_(o);return a.jsx(a_,{theme:A,children:a.jsx(Wc.Provider,{value:o,children:a.jsx(A_,{value:l,children:a.jsxs(l_,{value:o==null?void 0:o.components,children:[c,t]})})})})}function cn(e){"@babel/helpers - typeof";return cn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cn(e)}function f_(e,t){if(cn(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(cn(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A4(e){var t=f_(e,"string");return cn(t)=="symbol"?t:t+""}const p_=["className","component","disableGutters","fixed","maxWidth","classes"],g_=Vc(),m_=G5("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${Ke(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),v_=e=>Ry({props:e,name:"MuiContainer",defaultTheme:g_}),y_=(e,t)=>{const n=l=>at(t,l),{classes:r,fixed:s,disableGutters:i,maxWidth:o}=e,A={root:["root",o&&`maxWidth${Ke(String(o))}`,s&&"fixed",i&&"disableGutters"]};return lt(A,n,r)};function x_(e={}){const{createStyledComponent:t=m_,useThemeProps:n=v_,componentName:r="MuiContainer"}=e,s=t(({theme:o,ownerState:A})=>z({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!A.disableGutters&&{paddingLeft:o.spacing(2),paddingRight:o.spacing(2),[o.breakpoints.up("sm")]:{paddingLeft:o.spacing(3),paddingRight:o.spacing(3)}}),({theme:o,ownerState:A})=>A.fixed&&Object.keys(o.breakpoints.values).reduce((l,c)=>{const u=c,d=o.breakpoints.values[u];return d!==0&&(l[o.breakpoints.up(u)]={maxWidth:`${d}${o.breakpoints.unit}`}),l},{}),({theme:o,ownerState:A})=>z({},A.maxWidth==="xs"&&{[o.breakpoints.up("xs")]:{maxWidth:Math.max(o.breakpoints.values.xs,444)}},A.maxWidth&&A.maxWidth!=="xs"&&{[o.breakpoints.up(A.maxWidth)]:{maxWidth:`${o.breakpoints.values[A.maxWidth]}${o.breakpoints.unit}`}}));return B.forwardRef(function(A,l){const c=n(A),{className:u,component:d="div",disableGutters:p=!1,fixed:f=!1,maxWidth:v="lg"}=c,g=Ve(c,p_),y=z({},c,{component:d,disableGutters:p,fixed:f,maxWidth:v}),x=y_(y,r);return a.jsx(s,z({as:d,ownerState:y,className:Ye(x.root,u),ref:l},g))})}const b_=["component","direction","spacing","divider","children","className","useFlexGap"],w_=Vc(),B_=G5("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function C_(e){return Ry({props:e,name:"MuiStack",defaultTheme:w_})}function S_(e,t){const n=B.Children.toArray(e).filter(Boolean);return n.reduce((r,s,i)=>(r.push(s),i<n.length-1&&r.push(B.cloneElement(t,{key:`separator-${i}`})),r),[])}const E_=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],j_=({ownerState:e,theme:t})=>{let n=z({display:"flex",flexDirection:"column"},zs({theme:t},TA({values:e.direction,breakpoints:t.breakpoints.values}),r=>({flexDirection:r})));if(e.spacing){const r=Dy(t),s=Object.keys(t.breakpoints.values).reduce((l,c)=>((typeof e.spacing=="object"&&e.spacing[c]!=null||typeof e.direction=="object"&&e.direction[c]!=null)&&(l[c]=!0),l),{}),i=TA({values:e.direction,base:s}),o=TA({values:e.spacing,base:s});typeof i=="object"&&Object.keys(i).forEach((l,c,u)=>{if(!i[l]){const p=c>0?i[u[c-1]]:"column";i[l]=p}}),n=Es(n,zs({theme:t},o,(l,c)=>e.useFlexGap?{gap:RA(r,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${E_(c?i[c]:e.direction)}`]:RA(r,l)}}))}return n=Ck(t.breakpoints,n),n};function I_(e={}){const{createStyledComponent:t=B_,useThemeProps:n=C_,componentName:r="MuiStack"}=e,s=()=>lt({root:["root"]},l=>at(r,l),{}),i=t(j_);return B.forwardRef(function(l,c){const u=n(l),d=Ah(u),{component:p="div",direction:f="column",spacing:v=0,divider:g,children:y,className:x,useFlexGap:w=!1}=d,b=Ve(d,b_),j={direction:f,spacing:v,useFlexGap:w},_=s();return a.jsx(i,z({as:p,ownerState:j,ref:c,className:Ye(_.root,x)},b,{children:g?S_(y,g):y}))})}function F_(e,t){return z({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}var Sr={},l4={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(l4);var c4=l4.exports;const k_=iA(hF),N_=iA(RN);var u4=c4;Object.defineProperty(Sr,"__esModule",{value:!0});var on=Sr.alpha=p4;Sr.blend=$_;Sr.colorChannel=void 0;var Ec=Sr.darken=Oy;Sr.decomposeColor=Fi;var __=Sr.emphasize=g4,T_=Sr.getContrastRatio=Q_;Sr.getLuminance=Rp;Sr.hexToRgb=d4;Sr.hslToRgb=f4;var jc=Sr.lighten=$y;Sr.private_safeAlpha=P_;Sr.private_safeColorChannel=void 0;Sr.private_safeDarken=R_;Sr.private_safeEmphasize=O_;Sr.private_safeLighten=H_;Sr.recomposeColor=Yc;Sr.rgbToHex=M_;var i2=u4(k_),U_=u4(N_);function Hy(e,t=0,n=1){return(0,U_.default)(e,t,n)}function d4(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,s)=>s<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function L_(e){const t=e.toString(16);return t.length===1?`0${t}`:t}function Fi(e){if(e.type)return e;if(e.charAt(0)==="#")return Fi(d4(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,i2.default)(9,e));let r=e.substring(t+1,e.length-1),s;if(n==="color"){if(r=r.split(" "),s=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(s)===-1)throw new Error((0,i2.default)(10,s))}else r=r.split(",");return r=r.map(i=>parseFloat(i)),{type:n,values:r,colorSpace:s}}const h4=e=>{const t=Fi(e);return t.values.slice(0,3).map((n,r)=>t.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};Sr.colorChannel=h4;const D_=(e,t)=>{try{return h4(e)}catch{return e}};Sr.private_safeColorChannel=D_;function Yc(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((s,i)=>i<3?parseInt(s,10):s):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function M_(e){if(e.indexOf("#")===0)return e;const{values:t}=Fi(e);return`#${t.map((n,r)=>L_(r===3?Math.round(255*n):n)).join("")}`}function f4(e){e=Fi(e);const{values:t}=e,n=t[0],r=t[1]/100,s=t[2]/100,i=r*Math.min(s,1-s),o=(c,u=(c+n/30)%12)=>s-i*Math.max(Math.min(u-3,9-u,1),-1);let A="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return e.type==="hsla"&&(A+="a",l.push(t[3])),Yc({type:A,values:l})}function Rp(e){e=Fi(e);let t=e.type==="hsl"||e.type==="hsla"?Fi(f4(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Q_(e,t){const n=Rp(e),r=Rp(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function p4(e,t){return e=Fi(e),t=Hy(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,Yc(e)}function P_(e,t,n){try{return p4(e,t)}catch{return e}}function Oy(e,t){if(e=Fi(e),t=Hy(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]*=1-t;return Yc(e)}function R_(e,t,n){try{return Oy(e,t)}catch{return e}}function $y(e,t){if(e=Fi(e),t=Hy(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return Yc(e)}function H_(e,t,n){try{return $y(e,t)}catch{return e}}function g4(e,t=.15){return Rp(e)>.5?Oy(e,t):$y(e,t)}function O_(e,t,n){try{return g4(e,t)}catch{return e}}function $_(e,t,n,r=1){const s=(l,c)=>Math.round((l**(1/r)*(1-n)+c**(1/r)*n)**r),i=Fi(e),o=Fi(t),A=[s(i.values[0],o.values[0]),s(i.values[1],o.values[1]),s(i.values[2],o.values[2])];return Yc({type:"rgb",values:A})}const $d={black:"#000",white:"#fff"},z_={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Il={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Fl={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Qu={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},kl={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Nl={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},_l={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},W_=["mode","contrastThreshold","tonalOffset"],a2={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:$d.white,default:$d.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},R0={text:{primary:$d.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:$d.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function o2(e,t,n,r){const s=r.light||r,i=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=jc(e.main,s):t==="dark"&&(e.dark=Ec(e.main,i)))}function K_(e="light"){return e==="dark"?{main:kl[200],light:kl[50],dark:kl[400]}:{main:kl[700],light:kl[400],dark:kl[800]}}function V_(e="light"){return e==="dark"?{main:Il[200],light:Il[50],dark:Il[400]}:{main:Il[500],light:Il[300],dark:Il[700]}}function G_(e="light"){return e==="dark"?{main:Fl[500],light:Fl[300],dark:Fl[700]}:{main:Fl[700],light:Fl[400],dark:Fl[800]}}function q_(e="light"){return e==="dark"?{main:Nl[400],light:Nl[300],dark:Nl[700]}:{main:Nl[700],light:Nl[500],dark:Nl[900]}}function Y_(e="light"){return e==="dark"?{main:_l[400],light:_l[300],dark:_l[700]}:{main:_l[800],light:_l[500],dark:_l[900]}}function X_(e="light"){return e==="dark"?{main:Qu[400],light:Qu[300],dark:Qu[700]}:{main:"#ed6c02",light:Qu[500],dark:Qu[900]}}function J_(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,s=Ve(e,W_),i=e.primary||K_(t),o=e.secondary||V_(t),A=e.error||G_(t),l=e.info||q_(t),c=e.success||Y_(t),u=e.warning||X_(t);function d(g){return T_(g,R0.text.primary)>=n?R0.text.primary:a2.text.primary}const p=({color:g,name:y,mainShade:x=500,lightShade:w=300,darkShade:b=700})=>{if(g=z({},g),!g.main&&g[x]&&(g.main=g[x]),!g.hasOwnProperty("main"))throw new Error(io(11,y?` (${y})`:"",x));if(typeof g.main!="string")throw new Error(io(12,y?` (${y})`:"",JSON.stringify(g.main)));return o2(g,"light",w,r),o2(g,"dark",b,r),g.contrastText||(g.contrastText=d(g.main)),g},f={dark:R0,light:a2};return Es(z({common:z({},$d),mode:t,primary:p({color:i,name:"primary"}),secondary:p({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:A,name:"error"}),warning:p({color:u,name:"warning"}),info:p({color:l,name:"info"}),success:p({color:c,name:"success"}),grey:z_,contrastThreshold:n,getContrastText:d,augmentColor:p,tonalOffset:r},f[t]),s)}const Z_=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function eT(e){return Math.round(e*1e5)/1e5}const A2={textTransform:"uppercase"},l2='"Roboto", "Helvetica", "Arial", sans-serif';function tT(e,t){const n=typeof t=="function"?t(e):t,{fontFamily:r=l2,fontSize:s=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:A=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:d}=n,p=Ve(n,Z_),f=s/14,v=d||(x=>`${x/c*f}rem`),g=(x,w,b,j,_)=>z({fontFamily:r,fontWeight:x,fontSize:v(w),lineHeight:b},r===l2?{letterSpacing:`${eT(j/w)}em`}:{},_,u),y={h1:g(i,96,1.167,-1.5),h2:g(i,60,1.2,-.5),h3:g(o,48,1.167,0),h4:g(o,34,1.235,.25),h5:g(o,24,1.334,0),h6:g(A,20,1.6,.15),subtitle1:g(o,16,1.75,.15),subtitle2:g(A,14,1.57,.1),body1:g(o,16,1.5,.15),body2:g(o,14,1.43,.15),button:g(A,14,1.75,.4,A2),caption:g(o,12,1.66,.4),overline:g(o,12,2.66,1,A2),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Es(z({htmlFontSize:c,pxToRem:v,fontFamily:r,fontSize:s,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:A,fontWeightBold:l},y),p,{clone:!1})}const nT=.2,rT=.14,sT=.12;function er(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${nT})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${rT})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${sT})`].join(",")}const iT=["none",er(0,2,1,-1,0,1,1,0,0,1,3,0),er(0,3,1,-2,0,2,2,0,0,1,5,0),er(0,3,3,-2,0,3,4,0,0,1,8,0),er(0,2,4,-1,0,4,5,0,0,1,10,0),er(0,3,5,-1,0,5,8,0,0,1,14,0),er(0,3,5,-1,0,6,10,0,0,1,18,0),er(0,4,5,-2,0,7,10,1,0,2,16,1),er(0,5,5,-3,0,8,10,1,0,3,14,2),er(0,5,6,-3,0,9,12,1,0,3,16,2),er(0,6,6,-3,0,10,14,1,0,4,18,3),er(0,6,7,-4,0,11,15,1,0,4,20,3),er(0,7,8,-4,0,12,17,2,0,5,22,4),er(0,7,8,-4,0,13,19,2,0,5,24,4),er(0,7,9,-4,0,14,21,2,0,5,26,4),er(0,8,9,-5,0,15,22,2,0,6,28,5),er(0,8,10,-5,0,16,24,2,0,6,30,5),er(0,8,11,-5,0,17,26,2,0,6,32,5),er(0,9,11,-5,0,18,28,2,0,7,34,6),er(0,9,12,-6,0,19,29,2,0,7,36,6),er(0,10,13,-6,0,20,31,3,0,8,38,7),er(0,10,13,-6,0,21,33,3,0,8,40,7),er(0,10,14,-6,0,22,35,3,0,8,42,7),er(0,11,14,-7,0,23,36,3,0,9,44,8),er(0,11,15,-7,0,24,38,3,0,9,46,8)],aT=["duration","easing","delay"],oT={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},m4={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function c2(e){return`${Math.round(e)}ms`}function AT(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function lT(e){const t=z({},oT,e.easing),n=z({},m4,e.duration);return z({getAutoHeightDuration:AT,create:(s=["all"],i={})=>{const{duration:o=n.standard,easing:A=t.easeInOut,delay:l=0}=i;return Ve(i,aT),(Array.isArray(s)?s:[s]).map(c=>`${c} ${typeof o=="string"?o:c2(o)} ${A} ${typeof l=="string"?l:c2(l)}`).join(",")}},e,{easing:t,duration:n})}const cT={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},uT=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function zy(e={},...t){const{mixins:n={},palette:r={},transitions:s={},typography:i={}}=e,o=Ve(e,uT);if(e.vars&&e.generateCssVars===void 0)throw new Error(io(18));const A=J_(r),l=Vc(e);let c=Es(l,{mixins:F_(l.breakpoints,n),palette:A,shadows:iT.slice(),typography:tT(A,i),transitions:lT(s),zIndex:z({},cT)});return c=Es(c,o),c=t.reduce((u,d)=>Es(u,d),c),c.unstable_sxConfig=z({},oh,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return Kc({sx:d,theme:this})},c}const im=zy();function Li(){const e=Gc(im);return e[PA]||e}function Di({props:e,name:t}){return Ry({props:e,name:t,defaultTheme:im,themeId:PA})}var uh={},H0={exports:{}},u2;function dT(){return u2||(u2=1,function(e){function t(n,r){if(n==null)return{};var s={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(r.indexOf(i)!==-1)continue;s[i]=n[i]}return s}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(H0)),H0.exports}const v4=iA(yk),hT=iA(xk),fT=iA(Ek),pT=iA(jN),gT=iA(hN),mT=iA(vN);var Xc=c4;Object.defineProperty(uh,"__esModule",{value:!0});var vT=uh.default=NT;uh.shouldForwardProp=xp;uh.systemDefaultTheme=void 0;var yi=Xc(T5()),t1=Xc(dT()),Hp=ST(v4),yT=hT;Xc(fT);Xc(pT);var xT=Xc(gT),bT=Xc(mT);const wT=["ownerState"],BT=["variants"],CT=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function y4(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(y4=function(r){return r?n:t})(e)}function ST(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=y4(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=s?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}function ET(e){return Object.keys(e).length===0}function jT(e){return typeof e=="string"&&e.charCodeAt(0)>96}function xp(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function d2(e,t){return t&&e&&typeof e=="object"&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}const IT=uh.systemDefaultTheme=(0,xT.default)(),FT=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function Cf({defaultTheme:e,theme:t,themeId:n}){return ET(t)?e:t[n]||t}function kT(e){return e?(t,n)=>n[e]:null}function bp(e,t,n){let{ownerState:r}=t,s=(0,t1.default)(t,wT);const i=typeof e=="function"?e((0,yi.default)({ownerState:r},s)):e;if(Array.isArray(i))return i.flatMap(o=>bp(o,(0,yi.default)({ownerState:r},s),n));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:o=[]}=i;let l=(0,t1.default)(i,BT);return o.forEach(c=>{let u=!0;if(typeof c.props=="function"?u=c.props((0,yi.default)({ownerState:r},s,r)):Object.keys(c.props).forEach(d=>{(r==null?void 0:r[d])!==c.props[d]&&s[d]!==c.props[d]&&(u=!1)}),u){Array.isArray(l)||(l=[l]);const d=typeof c.style=="function"?c.style((0,yi.default)({ownerState:r},s,r)):c.style;l.push(n?d2((0,Hp.internal_serializeStyles)(d),n):d)}}),l}return n?d2((0,Hp.internal_serializeStyles)(i),n):i}function NT(e={}){const{themeId:t,defaultTheme:n=IT,rootShouldForwardProp:r=xp,slotShouldForwardProp:s=xp}=e,i=o=>(0,bT.default)((0,yi.default)({},o,{theme:Cf((0,yi.default)({},o,{defaultTheme:n,themeId:t}))}));return i.__mui_systemSx=!0,(o,A={})=>{(0,Hp.internal_processStyles)(o,k=>k.filter(D=>!(D!=null&&D.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:p=kT(FT(c))}=A,f=(0,t1.default)(A,CT),v=l&&l.startsWith("Mui")||c?"components":"custom",g=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,y=d||!1;let x,w=xp;c==="Root"||c==="root"?w=r:c?w=s:jT(o)&&(w=void 0);const b=(0,Hp.default)(o,(0,yi.default)({shouldForwardProp:w,label:x},f)),j=k=>typeof k=="function"&&k.__emotion_real!==k||(0,yT.isPlainObject)(k)?D=>{const N=Cf({theme:D.theme,defaultTheme:n,themeId:t});return bp(k,(0,yi.default)({},D,{theme:N}),N.modularCssLayers?v:void 0)}:k,_=(k,...D)=>{let N=j(k);const U=D?D.map(j):[];l&&p&&U.push(I=>{const T=Cf((0,yi.default)({},I,{defaultTheme:n,themeId:t}));if(!T.components||!T.components[l]||!T.components[l].styleOverrides)return null;const P=T.components[l].styleOverrides,K={};return Object.entries(P).forEach(([Q,F])=>{K[Q]=bp(F,(0,yi.default)({},I,{theme:T}),T.modularCssLayers?"theme":void 0)}),p(I,K)}),l&&!g&&U.push(I=>{var T;const P=Cf((0,yi.default)({},I,{defaultTheme:n,themeId:t})),K=P==null||(T=P.components)==null||(T=T[l])==null?void 0:T.variants;return bp({variants:K},(0,yi.default)({},I,{theme:P}),P.modularCssLayers?"theme":void 0)}),y||U.push(i);const L=U.length-D.length;if(Array.isArray(k)&&L>0){const I=new Array(L).fill("");N=[...k,...I],N.raw=[...k.raw,...I]}const E=b(N,...U);return o.muiName&&(E.muiName=o.muiName),E};return b.withConfig&&(_.withConfig=b.withConfig),_}}function x4(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Ws=e=>x4(e)&&e!=="classes",Te=vT({themeId:PA,defaultTheme:im,rootShouldForwardProp:Ws}),_T=["theme"];function TT(e){let{theme:t}=e,n=Ve(e,_T);const r=t[PA];let s=r||t;return typeof t!="function"&&(r&&!r.vars?s=z({},r,{vars:null}):t&&!t.vars&&(s=z({},t,{vars:null}))),a.jsx(h_,z({},n,{themeId:r?PA:void 0,theme:s}))}const h2=e=>{let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,(t/100).toFixed(2)};function wt(e){return u_(e)}function b4(e){return a.jsx(O5,z({},e,{defaultTheme:im,themeId:PA}))}const UT=(e,t)=>z({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),LT=e=>z({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),DT=(e,t=!1)=>{var n;const r={};t&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach(([o,A])=>{var l;r[e.getColorSchemeSelector(o).replace(/\s*&/,"")]={colorScheme:(l=A.palette)==null?void 0:l.mode}});let s=z({html:UT(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:z({margin:0},LT(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},r);const i=(n=e.components)==null||(n=n.MuiCssBaseline)==null?void 0:n.styleOverrides;return i&&(s=[s,i]),s};function MT(e){const t=wt({props:e,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=t;return a.jsxs(B.Fragment,{children:[a.jsx(b4,{styles:s=>DT(s,r)}),n]})}var f2={};const p2="@firebase/database",g2="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let w4="";function QT(e){w4=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),es(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:by(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return fo(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new PT(t)}}catch{}return new RT},FA=B4("localStorage"),HT=B4("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc=new DI("@firebase/database"),OT=function(){let e=1;return function(){return e++}}(),C4=function(e){const t=MI(e),n=new QI;n.update(t);const r=n.digest();return PI.encodeByteArray(r)},dh=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=dh.apply(null,r):typeof r=="object"?t+=es(r):t+=r,t+=" "}return t};let bd=null,m2=!0;const $T=function(e,t){ht(!0,"Can't turn on custom loggers persistently."),cc.logLevel=HI.VERBOSE,bd=cc.log.bind(cc)},ds=function(...e){if(m2===!0&&(m2=!1,bd===null&&HT.get("logging_enabled")===!0&&$T()),bd){const t=dh.apply(null,e);bd(t)}},hh=function(e){return function(...t){ds(e,...t)}},n1=function(...e){const t="FIREBASE INTERNAL ERROR: "+dh(...e);cc.error(t)},oo=function(...e){const t=`FIREBASE FATAL ERROR: ${dh(...e)}`;throw cc.error(t),new Error(t)},si=function(...e){const t="FIREBASE WARNING: "+dh(...e);cc.warn(t)},zT=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&si("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},S4=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},WT=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ic="[MIN_NAME]",HA="[MAX_NAME]",Jc=function(e,t){if(e===t)return 0;if(e===Ic||t===HA)return-1;if(t===Ic||e===HA)return 1;{const n=v2(e),r=v2(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},KT=function(e,t){return e===t?0:e<t?-1:1},Pu=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+es(t))},Wy=function(e){if(typeof e!="object"||e===null)return es(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=es(t[r]),n+=":",n+=Wy(e[t[r]]);return n+="}",n},E4=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let s=0;s<n;s+=t)s+t>n?r.push(e.substring(s,n)):r.push(e.substring(s,s+t));return r};function ki(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const j4=function(e){ht(!S4(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let s,i,o,A,l;e===0?(i=0,o=0,s=1/e===-1/0?1:0):(s=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(A=Math.min(Math.floor(Math.log(e)/Math.LN2),r),i=A+r,o=Math.round(e*Math.pow(2,n-A)-Math.pow(2,n))):(i=0,o=Math.round(e/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=t;l;l-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(s?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let p=parseInt(u.substr(l,8),2).toString(16);p.length===1&&(p="0"+p),d=d+p}return d.toLowerCase()},VT=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},GT=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},qT=new RegExp("^-?(0*)\\d{1,10}$"),YT=-2147483648,XT=2147483647,v2=function(e){if(qT.test(e)){const t=Number(e);if(t>=YT&&t<=XT)return t}return null},fh=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw si("Exception was thrown by user callback.",n),t},Math.floor(0))}},JT=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},wd=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){si(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(ds("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',si(t)}}class wp{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}wp.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="5",I4="v",F4="s",k4="r",N4="f",_4=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,T4="ls",U4="p",r1="ac",L4="websocket",D4="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(t,n,r,s,i=!1,o="",A=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=A,this.isUsingEmulator=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=FA.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&FA.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function tU(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function Q4(e,t,n){ht(typeof t=="string","typeof type must == string"),ht(typeof n=="object","typeof params must == object");let r;if(t===L4)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===D4)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);tU(e)&&(n.ns=e.namespace);const s=[];return ki(n,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(){this.counters_={}}incrementCounter(t,n=1){fo(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return KI(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0={},$0={};function Vy(e){const t=e.toString();return O0[t]||(O0[t]=new nU),O0[t]}function rU(e,t){const n=e.toString();return $0[n]||($0[n]=t()),$0[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&fh(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2="start",iU="close",aU="pLPCommand",oU="pRTLPCB",P4="id",R4="pw",H4="ser",AU="cb",lU="seg",cU="ts",uU="d",dU="dframe",O4=1870,$4=30,hU=O4-$4,fU=25e3,pU=3e4;class ec{constructor(t,n,r,s,i,o,A){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=A,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=hh(t),this.stats_=Vy(n),this.urlFn=l=>(this.appCheckToken&&(l[r1]=this.appCheckToken),Q4(n,D4,l))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new sU(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(pU)),WT(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Gy((...i)=>{const[o,A,l,c,u]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===y2)this.id=A,this.password=l;else if(o===iU)A?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(A,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,A]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,A)},()=>{this.onClosed_()},this.urlFn);const r={};r[y2]="t",r[H4]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[AU]=this.scriptTagHolder.uniqueCallbackIdentifier),r[I4]=Ky,this.transportSessionId&&(r[F4]=this.transportSessionId),this.lastSessionId&&(r[T4]=this.lastSessionId),this.applicationId&&(r[U4]=this.applicationId),this.appCheckToken&&(r[r1]=this.appCheckToken),typeof location<"u"&&location.hostname&&_4.test(location.hostname)&&(r[k4]=N4);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ec.forceAllow_=!0}static forceDisallow(){ec.forceDisallow_=!0}static isAvailable(){return ec.forceAllow_?!0:!ec.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!VT()&&!GT()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=es(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=VI(n),s=E4(r,hU);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[dU]="t",r[P4]=t,r[R4]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=es(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Gy{constructor(t,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=OT(),window[aU+this.uniqueCallbackIdentifier]=t,window[oU+this.uniqueCallbackIdentifier]=n,this.myIFrame=Gy.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(A){ds("frame writing exception"),A.stack&&ds(A.stack),ds(A)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||ds("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[P4]=this.myID,t[R4]=this.myPW,t[H4]=this.currentSerial;let n=this.urlFn(t),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+$4+r.length<=O4;){const o=this.pendingSegs.shift();r=r+"&"+lU+s+"="+o.seg+"&"+cU+s+"="+o.ts+"&"+uU+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(fU)),i=()=>{clearTimeout(s),r()};this.addTag(t,i)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{ds("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU=16384,mU=45e3;let Op=null;typeof MozWebSocket<"u"?Op=MozWebSocket:typeof WebSocket<"u"&&(Op=WebSocket);class Vi{constructor(t,n,r,s,i,o,A){this.connId=t,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=hh(this.connId),this.stats_=Vy(n),this.connURL=Vi.connectionURL_(n,o,A,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,s,i){const o={};return o[I4]=Ky,typeof location<"u"&&location.hostname&&_4.test(location.hostname)&&(o[k4]=N4),n&&(o[F4]=n),r&&(o[T4]=r),s&&(o[r1]=s),i&&(o[U4]=i),Q4(t,L4,o)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,FA.set("previous_websocket_failure",!0);try{let r;GI(),this.mySock=new Op(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Vi.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&Op!==null&&!Vi.forceDisallow_}static previouslyFailed(){return FA.isInMemoryStorage||FA.get("previous_websocket_failure")===!0}markConnectionHealthy(){FA.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=by(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(ht(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=es(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=E4(n,gU);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(mU))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Vi.responsesRequiredToBeHealthy=2;Vi.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[ec,Vi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=Vi&&Vi.isAvailable();let r=n&&!Vi.previouslyFailed();if(t.webSocketOnly&&(n||si("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Vi];else{const s=this.transports_=[];for(const i of zd.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);zd.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}zd.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU=6e4,yU=5e3,xU=10*1024,bU=100*1024,z0="t",x2="d",wU="s",b2="r",BU="e",w2="o",B2="a",C2="n",S2="p",CU="h";class SU{constructor(t,n,r,s,i,o,A,l,c,u){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=A,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=hh("c:"+this.id+":"),this.transportManager_=new zd(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=t.healthyTimeout||0;s>0&&(this.healthyTimeout_=wd(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>bU?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>xU?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(z0 in t){const n=t[z0];n===B2?this.upgradeIfSecondaryHealthy_():n===b2?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===w2&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=Pu("t",t),r=Pu("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:S2,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:B2,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:C2,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=Pu("t",t),r=Pu("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=Pu(z0,t);if(x2 in t){const r=t[x2];if(n===CU){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===C2){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===wU?this.onConnectionShutdown_(r):n===b2?this.onReset_(r):n===BU?n1("Server Error: "+r):n===w2?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):n1("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,s=t.h;this.sessionId=t.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Ky!==r&&si("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),wd(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(vU))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):wd(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(yU))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:S2,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(FA.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{put(t,n,r,s){}merge(t,n,r,s){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(t){this.allowedEvents_=t,this.listeners_={},ht(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const s=this.getInitialEvent(t);s&&n.apply(r,s)}off(t,n,r){this.validateEventType_(t);const s=this.listeners_[t]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(t){ht(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p extends W4{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!i5()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new $p}getInitialEvent(t){return ht(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=32,j2=768;class Jn{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function Mn(){return new Jn("")}function vn(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Jo(e){return e.pieces_.length-e.pieceNum_}function qn(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Jn(e.pieces_,t)}function K4(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function EU(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function V4(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function G4(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Jn(t,0)}function Vr(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Jn)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new Jn(n,0)}function un(e){return e.pieceNum_>=e.pieces_.length}function Ci(e,t){const n=vn(e),r=vn(t);if(n===null)return t;if(n===r)return Ci(qn(e),qn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function q4(e,t){if(Jo(e)!==Jo(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Yi(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Jo(e)>Jo(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class jU{constructor(t,n){this.errorPrefix_=n,this.parts_=V4(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Sg(this.parts_[r]);Y4(this)}}function IU(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Sg(t),Y4(e)}function FU(e){const t=e.parts_.pop();e.byteLength_-=Sg(t),e.parts_.length>0&&(e.byteLength_-=1)}function Y4(e){if(e.byteLength_>j2)throw new Error(e.errorPrefix_+"has a key path longer than "+j2+" bytes ("+e.byteLength_+").");if(e.parts_.length>E2)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+E2+") or object contains a cycle "+bA(e))}function bA(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy extends W4{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new qy}getInitialEvent(t){return ht(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru=1e3,kU=60*5*1e3,I2=30*1e3,NU=1.3,_U=3e4,TU="server_kill",F2=3;class Za extends z4{constructor(t,n,r,s,i,o,A,l){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=A,this.authOverride_=l,this.id=Za.nextPersistentConnectionId_++,this.log_=hh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ru,this.maxReconnectDelay_=kU,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");qy.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&$p.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const s=++this.requestNumber_,i={r:s,a:t,b:n};this.log_(es(i)),ht(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(t){this.initConnection_();const n=new s5,s={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:o=>{const A=o.d;o.s==="ok"?n.resolve(A):n.reject(A)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(t,n,r,s){this.initConnection_();const i=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),ht(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ht(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const A={onComplete:s,hashFn:n,query:t,tag:r};this.listens.get(o).set(i,A),this.connected_&&this.sendListen_(A)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";t.tag&&(i.q=n._queryObject,i.t=t.tag),i.h=t.hashFn(),this.sendRequest(o,i,A=>{const l=A.d,c=A.s;Za.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(s))===t&&(this.log_("listen response",A),c!=="ok"&&this.removeListen_(r,s),t.onComplete&&t.onComplete(c,l))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&fo(t,"w")){const r=wc(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();si(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||$I(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=I2)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=zI(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===t&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),ht(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,t._queryObject,n)}sendUnlisten_(t,n,r,s){this.log_("Unlisten on "+t+" for "+n);const i={p:t},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(t,n,r,s){this.putInternal("p",t,n,r,s)}merge(t,n,r,s){this.putInternal("m",t,n,r,s)}putInternal(t,n,r,s,i){this.initConnection_();const o={p:n,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:s}),this.outstandingPutCount_++;const A=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(A):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+es(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):n1("Unrecognized action received from server: "+es(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){ht(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ru,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Ru,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>_U&&(this.reconnectDelay_=Ru),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*NU)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Za.nextConnectionId_++,i=this.lastSessionId;let o=!1,A=null;const l=function(){A?A.close():(o=!0,r())},c=function(d){ht(A,"sendRequest call when we're not connected not allowed."),A.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,p]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?ds("getToken() completed but was canceled"):(ds("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=p&&p.token,A=new SU(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,f=>{si(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(TU)},i))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&si(d),l())}}}interrupt(t){ds("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){ds("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Fb(this.interruptReasons_)&&(this.reconnectDelay_=Ru,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(i=>Wy(i)).join("$"):r="default";const s=this.removeListen_(t,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,n){const r=new Jn(t).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(t,n){ds("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=F2&&(this.reconnectDelay_=I2,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){ds("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=F2&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+w4.replace(/\./g,"-")]=1,i5()?t["framework.cordova"]=1:WI()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=$p.getInstance().currentlyOnline();return Fb(this.interruptReasons_)&&t}}Za.nextPersistentConnectionId_=0;Za.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new yn(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new yn(Ic,t),s=new yn(Ic,n);return this.compare(r,s)!==0}minPost(){return yn.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sf;class X4 extends am{static get __EMPTY_NODE(){return Sf}static set __EMPTY_NODE(t){Sf=t}compare(t,n){return Jc(t.name,n.name)}isDefinedOn(t){throw nh("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return yn.MIN}maxPost(){return new yn(HA,Sf)}makePost(t,n){return ht(typeof t=="string","KeyIndex indexValue must always be a string."),new yn(t,Sf)}toString(){return".key"}}const uc=new X4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(t,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(t=t,o=n?r(t.key,n):1,s&&(o*=-1),o<0)this.isReverse_?t=t.left:t=t.right;else if(o===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class zr{constructor(t,n,r,s,i){this.key=t,this.value=n,this.color=r??zr.RED,this.left=s??Ps.EMPTY_NODE,this.right=i??Ps.EMPTY_NODE}copy(t,n,r,s,i){return new zr(t??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let s=this;const i=r(t,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(t,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(t,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ps.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,s;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return Ps.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,zr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,zr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}zr.RED=!0;zr.BLACK=!1;class UU{copy(t,n,r,s,i){return this}insert(t,n,r){return new zr(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ps{constructor(t,n=Ps.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new Ps(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,zr.BLACK,null,null))}remove(t){return new Ps(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,zr.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Ef(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Ef(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Ef(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Ef(this.root_,null,this.comparator_,!0,t)}}Ps.EMPTY_NODE=new UU;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LU(e,t){return Jc(e.name,t.name)}function Yy(e,t){return Jc(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let s1;function DU(e){s1=e}const J4=function(e){return typeof e=="number"?"number:"+j4(e):"string:"+e},Z4=function(e){if(e.isLeafNode()){const t=e.val();ht(typeof t=="string"||typeof t=="number"||typeof t=="object"&&fo(t,".sv"),"Priority must be a string or number.")}else ht(e===s1||e.isEmpty(),"priority of unexpected type.");ht(e===s1||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let k2;class $r{constructor(t,n=$r.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,ht(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Z4(this.priorityNode_)}static set __childrenNodeConstructor(t){k2=t}static get __childrenNodeConstructor(){return k2}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new $r(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:$r.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return un(t)?this:vn(t)===".priority"?this.priorityNode_:$r.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:$r.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=vn(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ht(r!==".priority"||Jo(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,$r.__childrenNodeConstructor.EMPTY_NODE.updateChild(qn(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+J4(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=j4(this.value_):t+=this.value_,this.lazyHash_=C4(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===$r.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof $r.__childrenNodeConstructor?-1:(ht(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,s=$r.VALUE_TYPE_ORDER.indexOf(n),i=$r.VALUE_TYPE_ORDER.indexOf(r);return ht(s>=0,"Unknown leaf type: "+n),ht(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}$r.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eS,tS;function MU(e){eS=e}function QU(e){tS=e}class PU extends am{compare(t,n){const r=t.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?Jc(t.name,n.name):i}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return yn.MIN}maxPost(){return new yn(HA,new $r("[PRIORITY-POST]",tS))}makePost(t,n){const r=eS(t);return new yn(n,new $r("[PRIORITY-POST]",r))}toString(){return".priority"}}const gs=new PU;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU=Math.log(2);class HU{constructor(t){const n=i=>parseInt(Math.log(i)/RU,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const s=r(this.count);this.bits_=t+1&s}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const zp=function(e,t,n,r){e.sort(t);const s=function(l,c){const u=c-l;let d,p;if(u===0)return null;if(u===1)return d=e[l],p=n?n(d):d,new zr(p,d.node,zr.BLACK,null,null);{const f=parseInt(u/2,10)+l,v=s(l,f),g=s(f+1,c);return d=e[f],p=n?n(d):d,new zr(p,d.node,zr.BLACK,v,g)}},i=function(l){let c=null,u=null,d=e.length;const p=function(v,g){const y=d-v,x=d;d-=v;const w=s(y+1,x),b=e[y],j=n?n(b):b;f(new zr(j,b.node,g,null,w))},f=function(v){c?(c.left=v,c=v):(u=v,c=v)};for(let v=0;v<l.count;++v){const g=l.nextBitIsOne(),y=Math.pow(2,l.count-(v+1));g?p(y,zr.BLACK):(p(y,zr.BLACK),p(y,zr.RED))}return u},o=new HU(e.length),A=i(o);return new Ps(r||t,A)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let W0;const Tl={};class Xa{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return ht(Tl&&gs,"ChildrenNode.ts has not been loaded"),W0=W0||new Xa({".priority":Tl},{".priority":gs}),W0}get(t){const n=wc(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Ps?n:null}hasIndex(t){return fo(this.indexSet_,t.toString())}addIndex(t,n){ht(t!==uc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(yn.Wrap);let o=i.getNext();for(;o;)s=s||t.isDefinedOn(o.node),r.push(o),o=i.getNext();let A;s?A=zp(r,t.getCompare()):A=Tl;const l=t.toString(),c=Object.assign({},this.indexSet_);c[l]=t;const u=Object.assign({},this.indexes_);return u[l]=A,new Xa(u,c)}addToIndexes(t,n){const r=Lp(this.indexes_,(s,i)=>{const o=wc(this.indexSet_,i);if(ht(o,"Missing index implementation for "+i),s===Tl)if(o.isDefinedOn(t.node)){const A=[],l=n.getIterator(yn.Wrap);let c=l.getNext();for(;c;)c.name!==t.name&&A.push(c),c=l.getNext();return A.push(t),zp(A,o.getCompare())}else return Tl;else{const A=n.get(t.name);let l=s;return A&&(l=l.remove(new yn(t.name,A))),l.insert(t,t.node)}});return new Xa(r,this.indexSet_)}removeFromIndexes(t,n){const r=Lp(this.indexes_,s=>{if(s===Tl)return s;{const i=n.get(t.name);return i?s.remove(new yn(t.name,i)):s}});return new Xa(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hu;class Nn{constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Z4(this.priorityNode_),this.children_.isEmpty()&&ht(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Hu||(Hu=new Nn(new Ps(Yy),null,Xa.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Hu}updatePriority(t){return this.children_.isEmpty()?this:new Nn(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?Hu:n}}getChild(t){const n=vn(t);return n===null?this:this.getImmediateChild(n).getChild(qn(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(ht(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new yn(t,n);let s,i;n.isEmpty()?(s=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?Hu:this.priorityNode_;return new Nn(s,o,i)}}updateChild(t,n){const r=vn(t);if(r===null)return n;{ht(vn(t)!==".priority"||Jo(t)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(qn(t),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(gs,(o,A)=>{n[o]=A.val(t),r++,i&&Nn.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!t&&i&&s<2*r){const o=[];for(const A in n)o[A]=n[A];return o}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+J4(this.getPriority().val())+":"),this.forEachChild(gs,(n,r)=>{const s=r.hash();s!==""&&(t+=":"+n+":"+s)}),this.lazyHash_=t===""?"":C4(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new yn(t,n));return i?i.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new yn(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new yn(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,yn.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,t)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,yn.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,t)>0;)s.getNext(),i=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===ph?-1:0}withIndex(t){if(t===uc||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new Nn(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===uc||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(gs),s=n.getIterator(gs);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(t){return t===uc?null:this.indexMap_.get(t.toString())}}Nn.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class OU extends Nn{constructor(){super(new Ps(Yy),Nn.EMPTY_NODE,Xa.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Nn.EMPTY_NODE}isEmpty(){return!1}}const ph=new OU;Object.defineProperties(yn,{MIN:{value:new yn(Ic,Nn.EMPTY_NODE)},MAX:{value:new yn(HA,ph)}});X4.__EMPTY_NODE=Nn.EMPTY_NODE;$r.__childrenNodeConstructor=Nn;DU(ph);QU(ph);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $U=!0;function hs(e,t=null){if(e===null)return Nn.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),ht(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new $r(n,hs(t))}if(!(e instanceof Array)&&$U){const n=[];let r=!1;if(ki(e,(o,A)=>{if(o.substring(0,1)!=="."){const l=hs(A);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new yn(o,l)))}}),n.length===0)return Nn.EMPTY_NODE;const i=zp(n,LU,o=>o.name,Yy);if(r){const o=zp(n,gs.getCompare());return new Nn(i,hs(t),new Xa({".priority":o},{".priority":gs}))}else return new Nn(i,hs(t),Xa.Default)}else{let n=Nn.EMPTY_NODE;return ki(e,(r,s)=>{if(fo(e,r)&&r.substring(0,1)!=="."){const i=hs(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(hs(t))}}MU(hs);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU extends am{constructor(t){super(),this.indexPath_=t,ht(!un(t)&&vn(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?Jc(t.name,n.name):i}makePost(t,n){const r=hs(t),s=Nn.EMPTY_NODE.updateChild(this.indexPath_,r);return new yn(n,s)}maxPost(){const t=Nn.EMPTY_NODE.updateChild(this.indexPath_,ph);return new yn(HA,t)}toString(){return V4(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU extends am{compare(t,n){const r=t.node.compareTo(n.node);return r===0?Jc(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return yn.MIN}maxPost(){return yn.MAX}makePost(t,n){const r=hs(t);return new yn(n,r)}toString(){return".value"}}const KU=new WU;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VU(e){return{type:"value",snapshotNode:e}}function GU(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function qU(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function N2(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function YU(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=gs}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ht(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ht(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ic}hasEnd(){return this.endSet_}getIndexEndValue(){return ht(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ht(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:HA}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ht(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===gs}copy(){const t=new Xy;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function _2(e){const t={};if(e.isDefault())return t;let n;if(e.index_===gs?n="$priority":e.index_===KU?n="$value":e.index_===uc?n="$key":(ht(e.index_ instanceof zU,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=es(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=es(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+es(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=es(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+es(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function T2(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==gs&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp extends z4{constructor(t,n,r,s){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=hh("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(ht(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,s){const i=t._path.toString();this.log_("Listen called for "+i+" "+t._queryIdentifier);const o=Wp.getListenId_(t,r),A={};this.listens_[o]=A;const l=_2(t._queryParams);this.restRequest_(i+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(i,d,!1,r),wc(this.listens_,o)===A){let p;c?c===401?p="permission_denied":p="rest_error:"+c:p="ok",s(p,null)}})}unlisten(t,n){const r=Wp.getListenId_(t,n);delete this.listens_[r]}get(t){const n=_2(t._queryParams),r=t._path.toString(),s=new s5;return this.restRequest_(r+".json",n,(i,o)=>{let A=o;i===404&&(A=null,i=null),i===null?(this.onDataUpdate_(r,A,!1,null),s.resolve(A)):s.reject(new Error(A))}),s.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+OI(n);this.log_("Sending REST request for "+o);const A=new XMLHttpRequest;A.onreadystatechange=()=>{if(r&&A.readyState===4){this.log_("REST Response for "+o+" received. status:",A.status,"response:",A.responseText);let l=null;if(A.status>=200&&A.status<300){try{l=by(A.responseText)}catch{si("Failed to parse JSON response for "+o+": "+A.responseText)}r(null,l)}else A.status!==401&&A.status!==404&&si("Got unsuccessful REST response for "+o+" Status: "+A.status),r(A.status);r=null}},A.open("GET",o,!0),A.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(){this.rootNode_=Nn.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(){return{value:null,children:new Map}}function nS(e,t,n){if(un(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const r=vn(t);e.children.has(r)||e.children.set(r,Kp());const s=e.children.get(r);t=qn(t),nS(s,t,n)}}function i1(e,t,n){e.value!==null?n(t,e.value):JU(e,(r,s)=>{const i=new Jn(t.toString()+"/"+r);i1(s,i,n)})}function JU(e,t){e.children.forEach((n,r)=>{t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&ki(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=10*1e3,e6=30*1e3,t6=5*60*1e3;class n6{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new ZU(t);const r=U2+(e6-U2)*Math.random();wd(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;ki(t,(s,i)=>{i>0&&fo(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),wd(this.reportStats_.bind(this),Math.floor(Math.random()*2*t6))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pa;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(pa||(pa={}));function rS(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function sS(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function iS(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=pa.ACK_USER_WRITE,this.source=rS()}operationForChild(t){if(un(this.path)){if(this.affectedTree.value!=null)return ht(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Jn(t));return new Vp(Mn(),n,this.revert)}}else return ht(vn(this.path)===t,"operationForChild called for unrelated child."),new Vp(qn(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=pa.OVERWRITE}operationForChild(t){return un(this.path)?new OA(this.source,Mn(),this.snap.getImmediateChild(t)):new OA(this.source,qn(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=pa.MERGE}operationForChild(t){if(un(this.path)){const n=this.children.subtree(new Jn(t));return n.isEmpty()?null:n.value?new OA(this.source,Mn(),n.value):new Wd(this.source,Mn(),n)}else return ht(vn(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Wd(this.source,qn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(un(t))return this.isFullyInitialized()&&!this.filtered_;const n=vn(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}function r6(e,t,n,r){const s=[],i=[];return t.forEach(o=>{o.type==="child_changed"&&e.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(YU(o.childName,o.snapshotNode))}),Ou(e,s,"child_removed",t,r,n),Ou(e,s,"child_added",t,r,n),Ou(e,s,"child_moved",i,r,n),Ou(e,s,"child_changed",t,r,n),Ou(e,s,"value",t,r,n),s}function Ou(e,t,n,r,s,i){const o=r.filter(A=>A.type===n);o.sort((A,l)=>i6(e,A,l)),o.forEach(A=>{const l=s6(e,A,i);s.forEach(c=>{c.respondsTo(A.type)&&t.push(c.createEvent(l,e.query_))})})}function s6(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function i6(e,t,n){if(t.childName==null||n.childName==null)throw nh("Should only compare child_ events.");const r=new yn(t.childName,t.snapshotNode),s=new yn(n.childName,n.snapshotNode);return e.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(e,t){return{eventCache:e,serverCache:t}}function Bd(e,t,n,r){return aS(new Jy(t,n,r),e.serverCache)}function oS(e,t,n,r){return aS(e.eventCache,new Jy(t,n,r))}function a1(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function $A(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let K0;const a6=()=>(K0||(K0=new Ps(KT)),K0);class Gn{constructor(t,n=a6()){this.value=t,this.children=n}static fromObject(t){let n=new Gn(null);return ki(t,(r,s)=>{n=n.set(new Jn(r),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:Mn(),value:this.value};if(un(t))return null;{const r=vn(t),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(qn(t),n);return i!=null?{path:Vr(new Jn(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(un(t))return this;{const n=vn(t),r=this.children.get(n);return r!==null?r.subtree(qn(t)):new Gn(null)}}set(t,n){if(un(t))return new Gn(n,this.children);{const r=vn(t),i=(this.children.get(r)||new Gn(null)).set(qn(t),n),o=this.children.insert(r,i);return new Gn(this.value,o)}}remove(t){if(un(t))return this.children.isEmpty()?new Gn(null):new Gn(null,this.children);{const n=vn(t),r=this.children.get(n);if(r){const s=r.remove(qn(t));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new Gn(null):new Gn(this.value,i)}else return this}}get(t){if(un(t))return this.value;{const n=vn(t),r=this.children.get(n);return r?r.get(qn(t)):null}}setTree(t,n){if(un(t))return n;{const r=vn(t),i=(this.children.get(r)||new Gn(null)).setTree(qn(t),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new Gn(this.value,o)}}fold(t){return this.fold_(Mn(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(Vr(t,s),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,Mn(),n)}findOnPath_(t,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(un(t))return null;{const i=vn(t),o=this.children.get(i);return o?o.findOnPath_(qn(t),Vr(n,i),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,Mn(),n)}foreachOnPath_(t,n,r){if(un(t))return this;{this.value&&r(n,this.value);const s=vn(t),i=this.children.get(s);return i?i.foreachOnPath_(qn(t),Vr(n,s),r):new Gn(null)}}foreach(t){this.foreach_(Mn(),t)}foreach_(t,n){this.children.inorderTraversal((r,s)=>{s.foreach_(Vr(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(t){this.writeTree_=t}static empty(){return new Ji(new Gn(null))}}function Cd(e,t,n){if(un(t))return new Ji(new Gn(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const s=r.path;let i=r.value;const o=Ci(s,t);return i=i.updateChild(o,n),new Ji(e.writeTree_.set(s,i))}else{const s=new Gn(n),i=e.writeTree_.setTree(t,s);return new Ji(i)}}}function L2(e,t,n){let r=e;return ki(n,(s,i)=>{r=Cd(r,Vr(t,s),i)}),r}function D2(e,t){if(un(t))return Ji.empty();{const n=e.writeTree_.setTree(t,new Gn(null));return new Ji(n)}}function o1(e,t){return XA(e,t)!=null}function XA(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Ci(n.path,t)):null}function M2(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(gs,(r,s)=>{t.push(new yn(r,s))}):e.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&t.push(new yn(r,s.value))}),t}function Go(e,t){if(un(t))return e;{const n=XA(e,t);return n!=null?new Ji(new Gn(n)):new Ji(e.writeTree_.subtree(t))}}function A1(e){return e.writeTree_.isEmpty()}function Fc(e,t){return AS(Mn(),e.writeTree_,t)}function AS(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((s,i)=>{s===".priority"?(ht(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=AS(Vr(e,s),i,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(Vr(e,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(e,t){return fS(t,e)}function o6(e,t,n,r,s){ht(r>e.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:s}),s&&(e.visibleWrites=Cd(e.visibleWrites,t,n)),e.lastWriteId=r}function A6(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function l6(e,t){const n=e.allWrites.findIndex(A=>A.writeId===t);ht(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let s=r.visible,i=!1,o=e.allWrites.length-1;for(;s&&o>=0;){const A=e.allWrites[o];A.visible&&(o>=n&&c6(A,r.path)?s=!1:Yi(r.path,A.path)&&(i=!0)),o--}if(s){if(i)return u6(e),!0;if(r.snap)e.visibleWrites=D2(e.visibleWrites,r.path);else{const A=r.children;ki(A,l=>{e.visibleWrites=D2(e.visibleWrites,Vr(r.path,l))})}return!0}else return!1}function c6(e,t){if(e.snap)return Yi(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Yi(Vr(e.path,n),t))return!0;return!1}function u6(e){e.visibleWrites=cS(e.allWrites,d6,Mn()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function d6(e){return e.visible}function cS(e,t,n){let r=Ji.empty();for(let s=0;s<e.length;++s){const i=e[s];if(t(i)){const o=i.path;let A;if(i.snap)Yi(n,o)?(A=Ci(n,o),r=Cd(r,A,i.snap)):Yi(o,n)&&(A=Ci(o,n),r=Cd(r,Mn(),i.snap.getChild(A)));else if(i.children){if(Yi(n,o))A=Ci(n,o),r=L2(r,A,i.children);else if(Yi(o,n))if(A=Ci(o,n),un(A))r=L2(r,Mn(),i.children);else{const l=wc(i.children,vn(A));if(l){const c=l.getChild(qn(A));r=Cd(r,Mn(),c)}}}else throw nh("WriteRecord should have .snap or .children")}}return r}function uS(e,t,n,r,s){if(!r&&!s){const i=XA(e.visibleWrites,t);if(i!=null)return i;{const o=Go(e.visibleWrites,t);if(A1(o))return n;if(n==null&&!o1(o,Mn()))return null;{const A=n||Nn.EMPTY_NODE;return Fc(o,A)}}}else{const i=Go(e.visibleWrites,t);if(!s&&A1(i))return n;if(!s&&n==null&&!o1(i,Mn()))return null;{const o=function(c){return(c.visible||s)&&(!r||!~r.indexOf(c.writeId))&&(Yi(c.path,t)||Yi(t,c.path))},A=cS(e.allWrites,o,t),l=n||Nn.EMPTY_NODE;return Fc(A,l)}}}function h6(e,t,n){let r=Nn.EMPTY_NODE;const s=XA(e.visibleWrites,t);if(s)return s.isLeafNode()||s.forEachChild(gs,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(n){const i=Go(e.visibleWrites,t);return n.forEachChild(gs,(o,A)=>{const l=Fc(Go(i,new Jn(o)),A);r=r.updateImmediateChild(o,l)}),M2(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=Go(e.visibleWrites,t);return M2(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function f6(e,t,n,r,s){ht(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=Vr(t,n);if(o1(e.visibleWrites,i))return null;{const o=Go(e.visibleWrites,i);return A1(o)?s.getChild(n):Fc(o,s.getChild(n))}}function p6(e,t,n,r){const s=Vr(t,n),i=XA(e.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const o=Go(e.visibleWrites,s);return Fc(o,r.getNode().getImmediateChild(n))}else return null}function g6(e,t){return XA(e.visibleWrites,t)}function m6(e,t,n,r,s,i,o){let A;const l=Go(e.visibleWrites,t),c=XA(l,Mn());if(c!=null)A=c;else if(n!=null)A=Fc(l,n);else return[];if(A=A.withIndex(o),!A.isEmpty()&&!A.isLeafNode()){const u=[],d=o.getCompare(),p=i?A.getReverseIteratorFrom(r,o):A.getIteratorFrom(r,o);let f=p.getNext();for(;f&&u.length<s;)d(f,r)!==0&&u.push(f),f=p.getNext();return u}else return[]}function v6(){return{visibleWrites:Ji.empty(),allWrites:[],lastWriteId:-1}}function l1(e,t,n,r){return uS(e.writeTree,e.treePath,t,n,r)}function dS(e,t){return h6(e.writeTree,e.treePath,t)}function Q2(e,t,n,r){return f6(e.writeTree,e.treePath,t,n,r)}function Gp(e,t){return g6(e.writeTree,Vr(e.treePath,t))}function y6(e,t,n,r,s,i){return m6(e.writeTree,e.treePath,t,n,r,s,i)}function Zy(e,t,n){return p6(e.writeTree,e.treePath,t,n)}function hS(e,t){return fS(Vr(e.treePath,t),e.writeTree)}function fS(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;ht(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ht(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,N2(r,t.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,qU(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,GU(r,t.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,N2(r,t.snapshotNode,s.oldSnap));else throw nh("Illegal combination of changes: "+t+" occurred after "+s)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const pS=new b6;class ex{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new Jy(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Zy(this.writes_,t,r)}}getChildAfterChild(t,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:$A(this.viewCache_),i=y6(this.writes_,s,n,1,r,t);return i.length===0?null:i[0]}}function w6(e,t){ht(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),ht(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function B6(e,t,n,r,s){const i=new x6;let o,A;if(n.type===pa.OVERWRITE){const c=n;c.source.fromUser?o=c1(e,t,c.path,c.snap,r,s,i):(ht(c.source.fromServer,"Unknown source."),A=c.source.tagged||t.serverCache.isFiltered()&&!un(c.path),o=qp(e,t,c.path,c.snap,r,s,A,i))}else if(n.type===pa.MERGE){const c=n;c.source.fromUser?o=S6(e,t,c.path,c.children,r,s,i):(ht(c.source.fromServer,"Unknown source."),A=c.source.tagged||t.serverCache.isFiltered(),o=u1(e,t,c.path,c.children,r,s,A,i))}else if(n.type===pa.ACK_USER_WRITE){const c=n;c.revert?o=I6(e,t,c.path,r,s,i):o=E6(e,t,c.path,c.affectedTree,r,s,i)}else if(n.type===pa.LISTEN_COMPLETE)o=j6(e,t,n.path,r,i);else throw nh("Unknown operation type: "+n.type);const l=i.getChanges();return C6(t,o,l),{viewCache:o,changes:l}}function C6(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=a1(e);(n.length>0||!e.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(VU(a1(t)))}}function gS(e,t,n,r,s,i){const o=t.eventCache;if(Gp(r,n)!=null)return t;{let A,l;if(un(n))if(ht(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const c=$A(t),u=c instanceof Nn?c:Nn.EMPTY_NODE,d=dS(r,u);A=e.filter.updateFullNode(t.eventCache.getNode(),d,i)}else{const c=l1(r,$A(t));A=e.filter.updateFullNode(t.eventCache.getNode(),c,i)}else{const c=vn(n);if(c===".priority"){ht(Jo(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=t.serverCache.getNode();const d=Q2(r,n,u,l);d!=null?A=e.filter.updatePriority(u,d):A=o.getNode()}else{const u=qn(n);let d;if(o.isCompleteForChild(c)){l=t.serverCache.getNode();const p=Q2(r,n,o.getNode(),l);p!=null?d=o.getNode().getImmediateChild(c).updateChild(u,p):d=o.getNode().getImmediateChild(c)}else d=Zy(r,c,t.serverCache);d!=null?A=e.filter.updateChild(o.getNode(),c,d,u,s,i):A=o.getNode()}}return Bd(t,A,o.isFullyInitialized()||un(n),e.filter.filtersNodes())}}function qp(e,t,n,r,s,i,o,A){const l=t.serverCache;let c;const u=o?e.filter:e.filter.getIndexedFilter();if(un(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),f,null)}else{const f=vn(n);if(!l.isCompleteForPath(n)&&Jo(n)>1)return t;const v=qn(n),y=l.getNode().getImmediateChild(f).updateChild(v,r);f===".priority"?c=u.updatePriority(l.getNode(),y):c=u.updateChild(l.getNode(),f,y,v,pS,null)}const d=oS(t,c,l.isFullyInitialized()||un(n),u.filtersNodes()),p=new ex(s,d,i);return gS(e,d,n,s,p,A)}function c1(e,t,n,r,s,i,o){const A=t.eventCache;let l,c;const u=new ex(s,t,i);if(un(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,o),l=Bd(t,c,!0,e.filter.filtersNodes());else{const d=vn(n);if(d===".priority")c=e.filter.updatePriority(t.eventCache.getNode(),r),l=Bd(t,c,A.isFullyInitialized(),A.isFiltered());else{const p=qn(n),f=A.getNode().getImmediateChild(d);let v;if(un(p))v=r;else{const g=u.getCompleteChild(d);g!=null?K4(p)===".priority"&&g.getChild(G4(p)).isEmpty()?v=g:v=g.updateChild(p,r):v=Nn.EMPTY_NODE}if(f.equals(v))l=t;else{const g=e.filter.updateChild(A.getNode(),d,v,p,u,o);l=Bd(t,g,A.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function P2(e,t){return e.eventCache.isCompleteForChild(t)}function S6(e,t,n,r,s,i,o){let A=t;return r.foreach((l,c)=>{const u=Vr(n,l);P2(t,vn(u))&&(A=c1(e,A,u,c,s,i,o))}),r.foreach((l,c)=>{const u=Vr(n,l);P2(t,vn(u))||(A=c1(e,A,u,c,s,i,o))}),A}function R2(e,t,n){return n.foreach((r,s)=>{t=t.updateChild(r,s)}),t}function u1(e,t,n,r,s,i,o,A){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l=t,c;un(n)?c=r:c=new Gn(null).setTree(n,r);const u=t.serverCache.getNode();return c.children.inorderTraversal((d,p)=>{if(u.hasChild(d)){const f=t.serverCache.getNode().getImmediateChild(d),v=R2(e,f,p);l=qp(e,l,new Jn(d),v,s,i,o,A)}}),c.children.inorderTraversal((d,p)=>{const f=!t.serverCache.isCompleteForChild(d)&&p.value===null;if(!u.hasChild(d)&&!f){const v=t.serverCache.getNode().getImmediateChild(d),g=R2(e,v,p);l=qp(e,l,new Jn(d),g,s,i,o,A)}}),l}function E6(e,t,n,r,s,i,o){if(Gp(s,n)!=null)return t;const A=t.serverCache.isFiltered(),l=t.serverCache;if(r.value!=null){if(un(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return qp(e,t,n,l.getNode().getChild(n),s,i,A,o);if(un(n)){let c=new Gn(null);return l.getNode().forEachChild(uc,(u,d)=>{c=c.set(new Jn(u),d)}),u1(e,t,n,c,s,i,A,o)}else return t}else{let c=new Gn(null);return r.foreach((u,d)=>{const p=Vr(n,u);l.isCompleteForPath(p)&&(c=c.set(u,l.getNode().getChild(p)))}),u1(e,t,n,c,s,i,A,o)}}function j6(e,t,n,r,s){const i=t.serverCache,o=oS(t,i.getNode(),i.isFullyInitialized()||un(n),i.isFiltered());return gS(e,o,n,r,pS,s)}function I6(e,t,n,r,s,i){let o;if(Gp(r,n)!=null)return t;{const A=new ex(r,t,s),l=t.eventCache.getNode();let c;if(un(n)||vn(n)===".priority"){let u;if(t.serverCache.isFullyInitialized())u=l1(r,$A(t));else{const d=t.serverCache.getNode();ht(d instanceof Nn,"serverChildren would be complete if leaf node"),u=dS(r,d)}u=u,c=e.filter.updateFullNode(l,u,i)}else{const u=vn(n);let d=Zy(r,u,t.serverCache);d==null&&t.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=e.filter.updateChild(l,u,d,qn(n),A,i):t.eventCache.getNode().hasChild(u)?c=e.filter.updateChild(l,u,Nn.EMPTY_NODE,qn(n),A,i):c=l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=l1(r,$A(t)),o.isLeafNode()&&(c=e.filter.updateFullNode(c,o,i)))}return o=t.serverCache.isFullyInitialized()||Gp(r,Mn())!=null,Bd(t,c,o,e.filter.filtersNodes())}}function F6(e,t){const n=$A(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!un(t)&&!n.getImmediateChild(vn(t)).isEmpty())?n.getChild(t):null}function H2(e,t,n,r){t.type===pa.MERGE&&t.source.queryId!==null&&(ht($A(e.viewCache_),"We should always have a full cache before handling merges"),ht(a1(e.viewCache_),"Missing event cache, even though we have a server cache"));const s=e.viewCache_,i=B6(e.processor_,s,t,n,r);return w6(e.processor_,i.viewCache),ht(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=i.viewCache,k6(e,i.changes,i.viewCache.eventCache.getNode())}function k6(e,t,n,r){const s=e.eventRegistrations_;return r6(e.eventGenerator_,t,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let O2;function N6(e){ht(!O2,"__referenceConstructor has already been defined"),O2=e}function tx(e,t,n,r){const s=t.source.queryId;if(s!==null){const i=e.views.get(s);return ht(i!=null,"SyncTree gave us an op for an invalid query."),H2(i,t,n,r)}else{let i=[];for(const o of e.views.values())i=i.concat(H2(o,t,n,r));return i}}function nx(e,t){let n=null;for(const r of e.views.values())n=n||F6(r,t);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $2;function _6(e){ht(!$2,"__referenceConstructor has already been defined"),$2=e}class z2{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Gn(null),this.pendingWriteTree_=v6(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function T6(e,t,n,r,s){return o6(e.pendingWriteTree_,t,n,r,s),s?Am(e,new OA(rS(),t,n)):[]}function tc(e,t,n=!1){const r=A6(e.pendingWriteTree_,t);if(l6(e.pendingWriteTree_,t)){let i=new Gn(null);return r.snap!=null?i=i.set(Mn(),!0):ki(r.children,o=>{i=i.set(new Jn(o),!0)}),Am(e,new Vp(r.path,i,n))}else return[]}function om(e,t,n){return Am(e,new OA(sS(),t,n))}function U6(e,t,n){const r=Gn.fromObject(n);return Am(e,new Wd(sS(),t,r))}function L6(e,t,n,r){const s=xS(e,r);if(s!=null){const i=bS(s),o=i.path,A=i.queryId,l=Ci(o,t),c=new OA(iS(A),l,n);return wS(e,o,c)}else return[]}function D6(e,t,n,r){const s=xS(e,r);if(s){const i=bS(s),o=i.path,A=i.queryId,l=Ci(o,t),c=Gn.fromObject(n),u=new Wd(iS(A),l,c);return wS(e,o,u)}else return[]}function mS(e,t,n){const s=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(o,A)=>{const l=Ci(o,t),c=nx(A,l);if(c)return c});return uS(s,t,i,n,!0)}function Am(e,t){return vS(t,e.syncPointTree_,null,lS(e.pendingWriteTree_,Mn()))}function vS(e,t,n,r){if(un(e.path))return yS(e,t,n,r);{const s=t.get(Mn());n==null&&s!=null&&(n=nx(s,Mn()));let i=[];const o=vn(e.path),A=e.operationForChild(o),l=t.children.get(o);if(l&&A){const c=n?n.getImmediateChild(o):null,u=hS(r,o);i=i.concat(vS(A,l,c,u))}return s&&(i=i.concat(tx(s,e,r,n))),i}}function yS(e,t,n,r){const s=t.get(Mn());n==null&&s!=null&&(n=nx(s,Mn()));let i=[];return t.children.inorderTraversal((o,A)=>{const l=n?n.getImmediateChild(o):null,c=hS(r,o),u=e.operationForChild(o);u&&(i=i.concat(yS(u,A,l,c)))}),s&&(i=i.concat(tx(s,e,r,n))),i}function xS(e,t){return e.tagToQueryMap.get(t)}function bS(e){const t=e.indexOf("$");return ht(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Jn(e.substr(0,t))}}function wS(e,t,n){const r=e.syncPointTree_.get(t);ht(r,"Missing sync point for query tag that we're tracking");const s=lS(e.pendingWriteTree_,t);return tx(r,n,s,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new rx(n)}node(){return this.node_}}class sx{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=Vr(this.path_,t);return new sx(this.syncTree_,n)}node(){return mS(this.syncTree_,this.path_)}}const M6=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},W2=function(e,t,n){if(!e||typeof e!="object")return e;if(ht(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return Q6(e[".sv"],t,n);if(typeof e[".sv"]=="object")return P6(e[".sv"],t);ht(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},Q6=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:ht(!1,"Unexpected server value: "+e)}},P6=function(e,t,n){e.hasOwnProperty("increment")||ht(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&ht(!1,"Unexpected increment value: "+r);const s=t.node();if(ht(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},R6=function(e,t,n,r){return ix(t,new sx(n,e),r)},H6=function(e,t,n){return ix(e,new rx(t),n)};function ix(e,t,n){const r=e.getPriority().val(),s=W2(r,t.getImmediateChild(".priority"),n);let i;if(e.isLeafNode()){const o=e,A=W2(o.getValue(),t,n);return A!==o.getValue()||s!==o.getPriority().val()?new $r(A,hs(s)):e}else{const o=e;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new $r(s))),o.forEachChild(gs,(A,l)=>{const c=ix(l,t.getImmediateChild(A),n);c!==l&&(i=i.updateImmediateChild(A,c))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function ox(e,t){let n=t instanceof Jn?t:new Jn(t),r=e,s=vn(n);for(;s!==null;){const i=wc(r.node.children,s)||{children:{},childCount:0};r=new ax(s,r,i),n=qn(n),s=vn(n)}return r}function Zc(e){return e.node.value}function BS(e,t){e.node.value=t,d1(e)}function CS(e){return e.node.childCount>0}function O6(e){return Zc(e)===void 0&&!CS(e)}function lm(e,t){ki(e.node.children,(n,r)=>{t(new ax(n,e,r))})}function SS(e,t,n,r){n&&t(e),lm(e,s=>{SS(s,t,!0)})}function $6(e,t,n){let r=e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function gh(e){return new Jn(e.parent===null?e.name:gh(e.parent)+"/"+e.name)}function d1(e){e.parent!==null&&z6(e.parent,e.name,e)}function z6(e,t,n){const r=O6(n),s=fo(e.node.children,t);r&&s?(delete e.node.children[t],e.node.childCount--,d1(e)):!r&&!s&&(e.node.children[t]=n.node,e.node.childCount++,d1(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W6=/[\[\].#$\/\u0000-\u001F\u007F]/,K6=/[\[\].#$\u0000-\u001F\u007F]/,V0=10*1024*1024,ES=function(e){return typeof e=="string"&&e.length!==0&&!W6.test(e)},V6=function(e){return typeof e=="string"&&e.length!==0&&!K6.test(e)},G6=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),V6(e)},jS=function(e,t,n){const r=n instanceof Jn?new jU(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+bA(r));if(typeof t=="function")throw new Error(e+"contains a function "+bA(r)+" with contents = "+t.toString());if(S4(t))throw new Error(e+"contains "+t.toString()+" "+bA(r));if(typeof t=="string"&&t.length>V0/3&&Sg(t)>V0)throw new Error(e+"contains a string greater than "+V0+" utf8 bytes "+bA(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let s=!1,i=!1;if(ki(t,(o,A)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!ES(o)))throw new Error(e+" contains an invalid key ("+o+") "+bA(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);IU(r,o),jS(e,A,r),FU(r)}),s&&i)throw new Error(e+' contains ".value" child '+bA(r)+" in addition to actual children.")}},q6=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!ES(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!G6(n))throw new Error(RI(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function X6(e,t){let n=null;for(let r=0;r<t.length;r++){const s=t[r],i=s.getPath();n!==null&&!q4(i,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&e.eventLists_.push(n)}function JA(e,t,n){X6(e,n),J6(e,r=>Yi(r,t)||Yi(t,r))}function J6(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const s=e.eventLists_[r];if(s){const i=s.path;t(i)?(Z6(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function Z6(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const r=n.getEventRunner();bd&&ds("event: "+n.toString()),fh(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL="repo_interrupt",tL=25;class nL{constructor(t,n,r,s){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Y6,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Kp(),this.transactionQueueTree_=new ax,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function rL(e,t,n){if(e.stats_=Vy(e.repoInfo_),e.forceRestClient_||JT())e.server_=new Wp(e.repoInfo_,(r,s,i,o)=>{K2(e,r,s,i,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>V2(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{es(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Za(e.repoInfo_,t,(r,s,i,o)=>{K2(e,r,s,i,o)},r=>{V2(e,r)},r=>{iL(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=rU(e.repoInfo_,()=>new n6(e.stats_,e.server_)),e.infoData_=new XU,e.infoSyncTree_=new z2({startListening:(r,s,i,o)=>{let A=[];const l=e.infoData_.getNode(r._path);return l.isEmpty()||(A=om(e.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),A},stopListening:()=>{}}),Ax(e,"connected",!1),e.serverSyncTree_=new z2({startListening:(r,s,i,o)=>(e.server_.listen(r,i,s,(A,l)=>{const c=o(A,l);JA(e.eventQueue_,r._path,c)}),[]),stopListening:(r,s)=>{e.server_.unlisten(r,s)}})}function sL(e){const n=e.infoData_.getNode(new Jn(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function IS(e){return M6({timestamp:sL(e)})}function K2(e,t,n,r,s){e.dataUpdateCount++;const i=new Jn(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(s)if(r){const l=Lp(n,c=>hs(c));o=D6(e.serverSyncTree_,i,l,s)}else{const l=hs(n);o=L6(e.serverSyncTree_,i,l,s)}else if(r){const l=Lp(n,c=>hs(c));o=U6(e.serverSyncTree_,i,l)}else{const l=hs(n);o=om(e.serverSyncTree_,i,l)}let A=i;o.length>0&&(A=cx(e,i)),JA(e.eventQueue_,A,o)}function V2(e,t){Ax(e,"connected",t),t===!1&&oL(e)}function iL(e,t){ki(t,(n,r)=>{Ax(e,n,r)})}function Ax(e,t,n){const r=new Jn("/.info/"+t),s=hs(n);e.infoData_.updateSnapshot(r,s);const i=om(e.infoSyncTree_,r,s);JA(e.eventQueue_,r,i)}function aL(e){return e.nextWriteId_++}function oL(e){FS(e,"onDisconnectEvents");const t=IS(e),n=Kp();i1(e.onDisconnect_,Mn(),(s,i)=>{const o=R6(s,i,e.serverSyncTree_,t);nS(n,s,o)});let r=[];i1(n,Mn(),(s,i)=>{r=r.concat(om(e.serverSyncTree_,s,i));const o=uL(e,s);cx(e,o)}),e.onDisconnect_=Kp(),JA(e.eventQueue_,Mn(),r)}function AL(e){e.persistentConnection_&&e.persistentConnection_.interrupt(eL)}function FS(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),ds(n,...t)}function kS(e,t,n){return mS(e.serverSyncTree_,t,n)||Nn.EMPTY_NODE}function lx(e,t=e.transactionQueueTree_){if(t||cm(e,t),Zc(t)){const n=_S(e,t);ht(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&lL(e,gh(t),n)}else CS(t)&&lm(t,n=>{lx(e,n)})}function lL(e,t,n){const r=n.map(c=>c.currentWriteId),s=kS(e,t,r);let i=s;const o=s.hash();for(let c=0;c<n.length;c++){const u=n[c];ht(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Ci(t,u.path);i=i.updateChild(d,u.currentOutputSnapshotRaw)}const A=i.val(!0),l=t;e.server_.put(l.toString(),A,c=>{FS(e,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let p=0;p<n.length;p++)n[p].status=2,u=u.concat(tc(e.serverSyncTree_,n[p].currentWriteId)),n[p].onComplete&&d.push(()=>n[p].onComplete(null,!0,n[p].currentOutputSnapshotResolved)),n[p].unwatcher();cm(e,ox(e.transactionQueueTree_,t)),lx(e,e.transactionQueueTree_),JA(e.eventQueue_,t,u);for(let p=0;p<d.length;p++)fh(d[p])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{si("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}cx(e,t)}},o)}function cx(e,t){const n=NS(e,t),r=gh(n),s=_S(e,n);return cL(e,s,r),r}function cL(e,t,n){if(t.length===0)return;const r=[];let s=[];const o=t.filter(A=>A.status===0).map(A=>A.currentWriteId);for(let A=0;A<t.length;A++){const l=t[A],c=Ci(n,l.path);let u=!1,d;if(ht(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,s=s.concat(tc(e.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=tL)u=!0,d="maxretry",s=s.concat(tc(e.serverSyncTree_,l.currentWriteId,!0));else{const p=kS(e,l.path,o);l.currentInputSnapshot=p;const f=t[A].update(p.val());if(f!==void 0){jS("transaction failed: Data returned ",f,l.path);let v=hs(f);typeof f=="object"&&f!=null&&fo(f,".priority")||(v=v.updatePriority(p.getPriority()));const y=l.currentWriteId,x=IS(e),w=H6(v,p,x);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=w,l.currentWriteId=aL(e),o.splice(o.indexOf(y),1),s=s.concat(T6(e.serverSyncTree_,l.path,w,l.currentWriteId,l.applyLocally)),s=s.concat(tc(e.serverSyncTree_,y,!0))}else u=!0,d="nodata",s=s.concat(tc(e.serverSyncTree_,l.currentWriteId,!0))}JA(e.eventQueue_,n,s),s=[],u&&(t[A].status=2,function(p){setTimeout(p,Math.floor(0))}(t[A].unwatcher),t[A].onComplete&&(d==="nodata"?r.push(()=>t[A].onComplete(null,!1,t[A].currentInputSnapshot)):r.push(()=>t[A].onComplete(new Error(d),!1,null))))}cm(e,e.transactionQueueTree_);for(let A=0;A<r.length;A++)fh(r[A]);lx(e,e.transactionQueueTree_)}function NS(e,t){let n,r=e.transactionQueueTree_;for(n=vn(t);n!==null&&Zc(r)===void 0;)r=ox(r,n),t=qn(t),n=vn(t);return r}function _S(e,t){const n=[];return TS(e,t,n),n.sort((r,s)=>r.order-s.order),n}function TS(e,t,n){const r=Zc(t);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);lm(t,s=>{TS(e,s,n)})}function cm(e,t){const n=Zc(t);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,BS(t,n.length>0?n:void 0)}lm(t,r=>{cm(e,r)})}function uL(e,t){const n=gh(NS(e,t)),r=ox(e.transactionQueueTree_,t);return $6(r,s=>{G0(e,s)}),G0(e,r),SS(r,s=>{G0(e,s)}),n}function G0(e,t){const n=Zc(t);if(n){const r=[];let s=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(ht(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(ht(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(tc(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?BS(t,void 0):n.length=i+1,JA(e.eventQueue_,gh(t),s);for(let o=0;o<r.length;o++)fh(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dL(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}t+="/"+s}return t}function hL(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):si(`Invalid query segment '${n}' in query '${e}'`)}return t}const G2=function(e,t){const n=fL(e),r=n.namespace;n.domain==="firebase.com"&&oo(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&oo("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||zT();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new M4(n.host,n.secure,r,s,t,"",r!==n.subdomain),path:new Jn(n.pathString)}},fL=function(e){let t="",n="",r="",s="",i="",o=!0,A="https",l=443;if(typeof e=="string"){let c=e.indexOf("//");c>=0&&(A=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");u===-1&&(u=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(s=dL(e.substring(u,d)));const p=hL(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(o=A==="https"||A==="wss",l=parseInt(t.substring(c+1),10)):c=t.length;const f=t.slice(0,c);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const v=t.indexOf(".");r=t.substring(0,v).toLowerCase(),n=t.substring(v+1),i=r}"ns"in p&&(i=p.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:o,scheme:A,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(t,n,r,s){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return un(this._path)?null:K4(this._path)}get ref(){return new eu(this._repo,this._path)}get _queryIdentifier(){const t=T2(this._queryParams),n=Wy(t);return n==="{}"?"default":n}get _queryObject(){return T2(this._queryParams)}isEqual(t){if(t=rh(t),!(t instanceof ux))return!1;const n=this._repo===t._repo,r=q4(this._path,t._path),s=this._queryIdentifier===t._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+EU(this._path)}}class eu extends ux{constructor(t,n){super(t,n,new Xy,!1)}get parent(){const t=G4(this._path);return t===null?null:new eu(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}N6(eu);_6(eu);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL="FIREBASE_DATABASE_EMULATOR_HOST",h1={};let gL=!1;function mL(e,t,n,r){e.repoInfo_=new M4(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}function vL(e,t,n,r,s){let i=r||e.options.databaseURL;i===void 0&&(e.options.projectId||oo("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ds("Using default host for project ",e.options.projectId),i=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o=G2(i,s),A=o.repoInfo,l;typeof process<"u"&&f2&&(l=f2[pL]),l?(i=`http://${l}?ns=${A.namespace}`,o=G2(i,s),A=o.repoInfo):o.repoInfo.secure;const c=new eU(e.name,e.options,t);q6("Invalid Firebase Database URL",o),un(o.path)||oo("Database URL must point to the root of a Firebase Database (not including a child path).");const u=xL(A,e,c,new ZT(e.name,n));return new bL(u,e)}function yL(e,t){const n=h1[t];(!n||n[e.key]!==e)&&oo(`Database ${t}(${e.repoInfo_}) has already been deleted.`),AL(e),delete n[e.key]}function xL(e,t,n,r){let s=h1[t.name];s||(s={},h1[t.name]=s);let i=s[e.toURLString()];return i&&oo("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new nL(e,gL,n,r),s[e.toURLString()]=i,i}class bL{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(rL(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new eu(this._repo,Mn())),this._rootInternal}_delete(){return this._rootInternal!==null&&(yL(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&oo("Cannot call "+t+" on a deleted database.")}}function wL(e=a5(),t){const n=o5(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=A5("database");r&&BL(n,...r)}return n}function BL(e,t,n,r={}){e=rh(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&oo("Cannot call useEmulator() after instance has already been initialized.");const s=e._repoInternal;let i;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&oo('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new wp(wp.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:qI(r.mockUserToken,e.app.options.projectId);i=new wp(o)}mL(s,t,n,i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(e){QT(YI),n5(new r5("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return vL(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),Up(p2,g2,e),Up(p2,g2,"esm2017")}Za.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Za.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};CL();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL="type.googleapis.com/google.protobuf.Int64Value",EL="type.googleapis.com/google.protobuf.UInt64Value";function US(e,t){const n={};for(const r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}function f1(e){if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(t=>f1(t));if(typeof e=="function"||typeof e=="object")return US(e,t=>f1(t));throw new Error("Data cannot be encoded in JSON: "+e)}function Yp(e){if(e==null)return e;if(e["@type"])switch(e["@type"]){case SL:case EL:{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(t=>Yp(t)):typeof e=="function"||typeof e=="object"?US(e,t=>Yp(t)):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dc extends l5{constructor(t,n,r){super(`${dx}/${t}`,n||""),this.details=r}}function jL(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function IL(e,t){let n=jL(e),r=n,s;try{const i=t&&t.error;if(i){const o=i.status;if(typeof o=="string"){if(!q2[o])return new dc("internal","internal");n=q2[o],r=o}const A=i.message;typeof A=="string"&&(r=A),s=i.details,s!==void 0&&(s=Yp(s))}}catch{}return n==="ok"?null:new dc(n,r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(t,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(s=>this.auth=s,()=>{}),this.messaging||n.get().then(s=>this.messaging=s,()=>{}),this.appCheck||r.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const t=await this.auth.getToken();return t==null?void 0:t.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.appCheck){const n=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(t){const n=await this.getAuthToken(),r=await this.getMessagingToken(),s=await this.getAppCheckToken(t);return{authToken:n,messagingToken:r,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="us-central1";function kL(e){let t=null;return{promise:new Promise((n,r)=>{t=setTimeout(()=>{r(new dc("deadline-exceeded","deadline-exceeded"))},e)}),cancel:()=>{t&&clearTimeout(t)}}}class NL{constructor(t,n,r,s,i=p1,o){this.app=t,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new FL(n,r,s),this.cancelAllRequests=new Promise(A=>{this.deleteService=()=>Promise.resolve(A())});try{const A=new URL(i);this.customDomain=A.origin+(A.pathname==="/"?"":A.pathname),this.region=p1}catch{this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(t){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${n}.cloudfunctions.net/${t}`}}function _L(e,t,n){e.emulatorOrigin=`http://${t}:${n}`}function TL(e,t,n){return r=>LL(e,t,r,n||{})}async function UL(e,t,n,r){n["Content-Type"]="application/json";let s;try{s=await r(e,{method:"POST",body:JSON.stringify(t),headers:n})}catch{return{status:0,json:null}}let i=null;try{i=await s.json()}catch{}return{status:s.status,json:i}}function LL(e,t,n,r){const s=e._url(t);return DL(e,s,n,r)}async function DL(e,t,n,r){n=f1(n);const s={data:n},i={},o=await e.contextProvider.getContext(r.limitedUseAppCheckTokens);o.authToken&&(i.Authorization="Bearer "+o.authToken),o.messagingToken&&(i["Firebase-Instance-ID-Token"]=o.messagingToken),o.appCheckToken!==null&&(i["X-Firebase-AppCheck"]=o.appCheckToken);const A=r.timeout||7e4,l=kL(A),c=await Promise.race([UL(t,s,i,e.fetchImpl),l.promise,e.cancelAllRequests]);if(l.cancel(),!c)throw new dc("cancelled","Firebase Functions instance was deleted.");const u=IL(c.status,c.json);if(u)throw u;if(!c.json)throw new dc("internal","Response is not valid JSON object.");let d=c.json.data;if(typeof d>"u"&&(d=c.json.result),typeof d>"u")throw new dc("internal","Response is missing data field.");return{data:Yp(d)}}const Y2="@firebase/functions",X2="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML="auth-internal",QL="app-check-internal",PL="messaging-internal";function RL(e,t){const n=(r,{instanceIdentifier:s})=>{const i=r.getProvider("app").getImmediate(),o=r.getProvider(ML),A=r.getProvider(PL),l=r.getProvider(QL);return new NL(i,o,A,l,s,e)};n5(new r5(dx,n,"PUBLIC").setMultipleInstances(!0)),Up(Y2,X2,t),Up(Y2,X2,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(e=a5(),t=p1){const r=o5(rh(e),dx).getImmediate({identifier:t}),s=A5("functions");return s&&LS(r,...s),r}function LS(e,t,n){_L(rh(e),t,n)}function Ss(e,t,n){return TL(rh(e),t,n)}RL(fetch.bind(self));const HL=Object.freeze(Object.defineProperty({__proto__:null,connectFunctionsEmulator:LS,getFunctions:um,httpsCallable:Ss},Symbol.toStringTag,{value:"Module"})),OL={apiKey:"AIzaSyAnp3SY9XEyF-le5q_Tcv-7Le2qqvtz0ZM",authDomain:"sports-booking-app-1d7e5.firebaseapp.com",databaseURL:"https://sports-booking-app-1d7e5-default-rtdb.europe-west1.firebasedatabase.app",projectId:"sports-booking-app-1d7e5",storageBucket:"sports-booking-app-1d7e5.firebasestorage.app",messagingSenderId:"648540980109",appId:"1:648540980109:web:97fbe182c59bb2641ab3c4",measurementId:"G-VL4MCP1PZP"},mh=XI(OL),Oe=JI(mh,{experimentalForceLongPolling:!1,cacheSizeBytes:50*1024*1024}),fs=ZI(mh);eF(fs,nF).catch(e=>{console.error("Error setting persistence:",e)});const g1=tF(mh);wL(mh);const Zo=um(mh,"europe-west1"),$L=Object.freeze(Object.defineProperty({__proto__:null,auth:fs,db:Oe,functions:Zo,storage:g1},Symbol.toStringTag,{value:"Module"})),DS=B.createContext(void 0),Er=()=>{const e=B.useContext(DS);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},zL=({children:e})=>{const[t,n]=B.useState(null),[r,s]=B.useState(null),[i,o]=B.useState(null),[A,l]=B.useState(!0);B.useEffect(()=>rF(fs,async f=>{if(console.log("🔄 Auth state changed:",(f==null?void 0:f.email)||"no user","at",new Date().toLocaleTimeString()),f)console.log("🔐 User authenticated:",{uid:f.uid,email:f.email,emailVerified:f.emailVerified,providerId:f.providerId,metadata:f.metadata});else{console.log("🚪 User signed out or session expired");const v=localStorage.getItem("authToken");console.log("📦 Local storage auth token:",v?"exists":"not found")}if(f)try{console.log("🔍 Searching for admin with email:",f.email);const v=qt(Ft(Oe,"admins"),It("email","==",f.email)),g=await Gt(v);if(console.log("📊 Admin search result:",g.empty?"not found":"found"),g.empty)console.warn("Admin not found for user:",f.email),n(f),s(null),o(null);else{const y=g.docs[0],x={id:y.id,...y.data()};if(console.log("✅ Admin data loaded:",x),n(f),s(x),x.venueId){const w=await dn(yt(Oe,"venues",x.venueId));w.exists()&&o({id:w.id,...w.data()})}else x.role==="superadmin"&&o(null)}}catch(v){console.error("Error fetching admin data:",v),n(null),s(null),o(null)}else n(null),s(null),o(null);l(!1)}),[]);const d={user:t,admin:r,club:i,loading:A,logout:async()=>{try{await Kv(fs),n(null),s(null),o(null)}catch(p){console.error("Logout error:",p)}},refreshClubData:async()=>{if(r!=null&&r.venueId)try{console.log("Refreshing club data for venue:",r.venueId);const p=await dn(yt(Oe,"venues",r.venueId));if(p.exists()){const f=p.data();console.log("Loaded venue data:",f),o({id:p.id,name:f.name||"",address:f.address||"",phone:f.phone||"",email:f.email||"",city:f.city||"",location:f.location,description:f.description,logoUrl:f.logoUrl,photos:f.photos||[],amenities:f.amenities,organizationType:f.organizationType,inn:f.inn,bankAccount:f.bankAccount,legalName:f.legalName,ogrn:f.ogrn,kpp:f.kpp,legalAddress:f.legalAddress,bankName:f.bankName,bankBik:f.bankBik,bankCorrespondentAccount:f.bankCorrespondentAccount,directorName:f.directorName,directorPosition:f.directorPosition,workingHours:f.workingHours,bookingDurations:f.bookingDurations,bookingSlotInterval:f.bookingSlotInterval})}}catch(p){console.error("Error refreshing club data:",p)}}};return a.jsx(DS.Provider,{value:d,children:e})};function WL(e){return at("MuiSvgIcon",e)}ot("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const KL=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],VL=e=>{const{color:t,fontSize:n,classes:r}=e,s={root:["root",t!=="inherit"&&`color${Ke(t)}`,`fontSize${Ke(n)}`]};return lt(s,WL,r)},GL=Te("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${Ke(n.color)}`],t[`fontSize${Ke(n.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var n,r,s,i,o,A,l,c,u,d,p,f,v;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=e.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(s=e.transitions)==null||(s=s.duration)==null?void 0:s.shorter}),fontSize:{inherit:"inherit",small:((i=e.typography)==null||(o=i.pxToRem)==null?void 0:o.call(i,20))||"1.25rem",medium:((A=e.typography)==null||(l=A.pxToRem)==null?void 0:l.call(A,24))||"1.5rem",large:((c=e.typography)==null||(u=c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}[t.fontSize],color:(d=(p=(e.vars||e).palette)==null||(p=p[t.color])==null?void 0:p.main)!=null?d:{action:(f=(e.vars||e).palette)==null||(f=f.action)==null?void 0:f.active,disabled:(v=(e.vars||e).palette)==null||(v=v.action)==null?void 0:v.disabled,inherit:void 0}[t.color]}}),Xp=B.forwardRef(function(t,n){const r=wt({props:t,name:"MuiSvgIcon"}),{children:s,className:i,color:o="inherit",component:A="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:p="0 0 24 24"}=r,f=Ve(r,KL),v=B.isValidElement(s)&&s.type==="svg",g=z({},r,{color:o,component:A,fontSize:l,instanceFontSize:t.fontSize,inheritViewBox:u,viewBox:p,hasSvgAsChild:v}),y={};u||(y.viewBox=p);const x=VL(g);return a.jsxs(GL,z({as:A,className:Ye(x.root,i),focusable:"false",color:c,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},y,f,v&&s.props,{ownerState:g,children:[v?s.props.children:s,d?a.jsx("title",{children:d}):null]}))});Xp.muiName="SvgIcon";function st(e,t){function n(r,s){return a.jsx(Xp,z({"data-testid":`${t}Icon`,ref:s},r,{children:e}))}return n.muiName=Xp.muiName,B.memo(B.forwardRef(n))}function Jp(e,t){return Jp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Jp(e,t)}function hx(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Jp(e,t)}function qL(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function YL(e,t){e.classList?e.classList.add(t):qL(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function J2(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function XL(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=J2(e.className,t):e.setAttribute("class",J2(e.className&&e.className.baseVal||"",t))}const Z2={disabled:!1},Zp=mn.createContext(null);var MS=function(t){return t.scrollTop},cd="unmounted",wA="exited",BA="entering",Wl="entered",m1="exiting",Mi=function(e){hx(t,e);function t(r,s){var i;i=e.call(this,r,s)||this;var o=s,A=o&&!o.isMounting?r.enter:r.appear,l;return i.appearStatus=null,r.in?A?(l=wA,i.appearStatus=BA):l=Wl:r.unmountOnExit||r.mountOnEnter?l=cd:l=wA,i.state={status:l},i.nextCallback=null,i}t.getDerivedStateFromProps=function(s,i){var o=s.in;return o&&i.status===cd?{status:wA}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(s){var i=null;if(s!==this.props){var o=this.state.status;this.props.in?o!==BA&&o!==Wl&&(i=BA):(o===BA||o===Wl)&&(i=m1)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var s=this.props.timeout,i,o,A;return i=o=A=s,s!=null&&typeof s!="number"&&(i=s.exit,o=s.enter,A=s.appear!==void 0?s.appear:o),{exit:i,enter:o,appear:A}},n.updateStatus=function(s,i){if(s===void 0&&(s=!1),i!==null)if(this.cancelNextCallback(),i===BA){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:bf.findDOMNode(this);o&&MS(o)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===wA&&this.setState({status:cd})},n.performEnter=function(s){var i=this,o=this.props.enter,A=this.context?this.context.isMounting:s,l=this.props.nodeRef?[A]:[bf.findDOMNode(this),A],c=l[0],u=l[1],d=this.getTimeouts(),p=A?d.appear:d.enter;if(!s&&!o||Z2.disabled){this.safeSetState({status:Wl},function(){i.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:BA},function(){i.props.onEntering(c,u),i.onTransitionEnd(p,function(){i.safeSetState({status:Wl},function(){i.props.onEntered(c,u)})})})},n.performExit=function(){var s=this,i=this.props.exit,o=this.getTimeouts(),A=this.props.nodeRef?void 0:bf.findDOMNode(this);if(!i||Z2.disabled){this.safeSetState({status:wA},function(){s.props.onExited(A)});return}this.props.onExit(A),this.safeSetState({status:m1},function(){s.props.onExiting(A),s.onTransitionEnd(o.exit,function(){s.safeSetState({status:wA},function(){s.props.onExited(A)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(s,i){i=this.setNextCallback(i),this.setState(s,i)},n.setNextCallback=function(s){var i=this,o=!0;return this.nextCallback=function(A){o&&(o=!1,i.nextCallback=null,s(A))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(s,i){this.setNextCallback(i);var o=this.props.nodeRef?this.props.nodeRef.current:bf.findDOMNode(this),A=s==null&&!this.props.addEndListener;if(!o||A){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}s!=null&&setTimeout(this.nextCallback,s)},n.render=function(){var s=this.state.status;if(s===cd)return null;var i=this.props,o=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var A=Ve(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return mn.createElement(Zp.Provider,{value:null},typeof o=="function"?o(s,A):mn.cloneElement(mn.Children.only(o),A))},t}(mn.Component);Mi.contextType=Zp;Mi.propTypes={};function Ul(){}Mi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ul,onEntering:Ul,onEntered:Ul,onExit:Ul,onExiting:Ul,onExited:Ul};Mi.UNMOUNTED=cd;Mi.EXITED=wA;Mi.ENTERING=BA;Mi.ENTERED=Wl;Mi.EXITING=m1;var JL=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return YL(t,r)})},q0=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return XL(t,r)})},fx=function(e){hx(t,e);function t(){for(var r,s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(A,l){var c=r.resolveArguments(A,l),u=c[0],d=c[1];r.removeClasses(u,"exit"),r.addClass(u,d?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(A,l)},r.onEntering=function(A,l){var c=r.resolveArguments(A,l),u=c[0],d=c[1],p=d?"appear":"enter";r.addClass(u,p,"active"),r.props.onEntering&&r.props.onEntering(A,l)},r.onEntered=function(A,l){var c=r.resolveArguments(A,l),u=c[0],d=c[1],p=d?"appear":"enter";r.removeClasses(u,p),r.addClass(u,p,"done"),r.props.onEntered&&r.props.onEntered(A,l)},r.onExit=function(A){var l=r.resolveArguments(A),c=l[0];r.removeClasses(c,"appear"),r.removeClasses(c,"enter"),r.addClass(c,"exit","base"),r.props.onExit&&r.props.onExit(A)},r.onExiting=function(A){var l=r.resolveArguments(A),c=l[0];r.addClass(c,"exit","active"),r.props.onExiting&&r.props.onExiting(A)},r.onExited=function(A){var l=r.resolveArguments(A),c=l[0];r.removeClasses(c,"exit"),r.addClass(c,"exit","done"),r.props.onExited&&r.props.onExited(A)},r.resolveArguments=function(A,l){return r.props.nodeRef?[r.props.nodeRef.current,A]:[A,l]},r.getClassNames=function(A){var l=r.props.classNames,c=typeof l=="string",u=c&&l?l+"-":"",d=c?""+u+A:l[A],p=c?d+"-active":l[A+"Active"],f=c?d+"-done":l[A+"Done"];return{baseClassName:d,activeClassName:p,doneClassName:f}},r}var n=t.prototype;return n.addClass=function(s,i,o){var A=this.getClassNames(i)[o+"ClassName"],l=this.getClassNames("enter"),c=l.doneClassName;i==="appear"&&o==="done"&&c&&(A+=" "+c),o==="active"&&s&&MS(s),A&&(this.appliedClasses[i][o]=A,JL(s,A))},n.removeClasses=function(s,i){var o=this.appliedClasses[i],A=o.base,l=o.active,c=o.done;this.appliedClasses[i]={},A&&q0(s,A),l&&q0(s,l),c&&q0(s,c)},n.render=function(){var s=this.props;s.classNames;var i=Ve(s,["classNames"]);return mn.createElement(Mi,z({},i,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(mn.Component);fx.defaultProps={classNames:""};fx.propTypes={};function Bt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function px(e,t){var n=function(i){return t&&B.isValidElement(i)?t(i):i},r=Object.create(null);return e&&B.Children.map(e,function(s){return s}).forEach(function(s){r[s.key]=n(s)}),r}function ZL(e,t){e=e||{},t=t||{};function n(u){return u in t?t[u]:e[u]}var r=Object.create(null),s=[];for(var i in e)i in t?s.length&&(r[i]=s,s=[]):s.push(i);var o,A={};for(var l in t){if(r[l])for(o=0;o<r[l].length;o++){var c=r[l][o];A[r[l][o]]=n(c)}A[l]=n(l)}for(o=0;o<s.length;o++)A[s[o]]=n(s[o]);return A}function kA(e,t,n){return n[t]!=null?n[t]:e.props[t]}function eD(e,t){return px(e.children,function(n){return B.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:kA(n,"appear",e),enter:kA(n,"enter",e),exit:kA(n,"exit",e)})})}function tD(e,t,n){var r=px(e.children),s=ZL(t,r);return Object.keys(s).forEach(function(i){var o=s[i];if(B.isValidElement(o)){var A=i in t,l=i in r,c=t[i],u=B.isValidElement(c)&&!c.props.in;l&&(!A||u)?s[i]=B.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:kA(o,"exit",e),enter:kA(o,"enter",e)}):!l&&A&&!u?s[i]=B.cloneElement(o,{in:!1}):l&&A&&B.isValidElement(c)&&(s[i]=B.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:kA(o,"exit",e),enter:kA(o,"enter",e)}))}}),s}var nD=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},rD={component:"div",childFactory:function(t){return t}},vh=function(e){hx(t,e);function t(r,s){var i;i=e.call(this,r,s)||this;var o=i.handleExited.bind(Bt(i));return i.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},i}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(s,i){var o=i.children,A=i.handleExited,l=i.firstRender;return{children:l?eD(s,A):tD(s,o,A),firstRender:!1}},n.handleExited=function(s,i){var o=px(this.props.children);s.key in o||(s.props.onExited&&s.props.onExited(i),this.mounted&&this.setState(function(A){var l=z({},A.children);return delete l[s.key],{children:l}}))},n.render=function(){var s=this.props,i=s.component,o=s.childFactory,A=Ve(s,["component","childFactory"]),l=this.state.contextValue,c=nD(this.state.children).map(o);return delete A.appear,delete A.enter,delete A.exit,i===null?mn.createElement(Zp.Provider,{value:l},c):mn.createElement(Zp.Provider,{value:l},mn.createElement(i,A,c))},t}(mn.Component);vh.propTypes={};vh.defaultProps=rD;const QS=e=>e.scrollTop;function kc(e,t){var n,r;const{timeout:s,easing:i,style:o={}}=e;return{duration:(n=o.transitionDuration)!=null?n:typeof s=="number"?s:s[t.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof i=="object"?i[t.mode]:i,delay:o.transitionDelay}}function sD(e){return at("MuiCollapse",e)}ot("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const iD=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],aD=e=>{const{orientation:t,classes:n}=e,r={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return lt(r,sD,n)},oD=Te("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.state==="entered"&&t.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&t.hidden]}})(({theme:e,ownerState:t})=>z({height:0,overflow:"hidden",transition:e.transitions.create("height")},t.orientation==="horizontal"&&{height:"auto",width:0,transition:e.transitions.create("width")},t.state==="entered"&&z({height:"auto",overflow:"visible"},t.orientation==="horizontal"&&{width:"auto"}),t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&{visibility:"hidden"})),AD=Te("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})(({ownerState:e})=>z({display:"flex",width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),lD=Te("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})(({ownerState:e})=>z({width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),gx=B.forwardRef(function(t,n){const r=wt({props:t,name:"MuiCollapse"}),{addEndListener:s,children:i,className:o,collapsedSize:A="0px",component:l,easing:c,in:u,onEnter:d,onEntered:p,onEntering:f,onExit:v,onExited:g,onExiting:y,orientation:x="vertical",style:w,timeout:b=m4.standard,TransitionComponent:j=Mi}=r,_=Ve(r,iD),k=z({},r,{orientation:x,collapsedSize:A}),D=aD(k),N=Li(),U=Ro(),L=B.useRef(null),E=B.useRef(),I=typeof A=="number"?`${A}px`:A,T=x==="horizontal",P=T?"width":"height",K=B.useRef(null),Q=Xn(n,K),F=Y=>ee=>{if(Y){const ce=K.current;ee===void 0?Y(ce):Y(ce,ee)}},$=()=>L.current?L.current[T?"clientWidth":"clientHeight"]:0,O=F((Y,ee)=>{L.current&&T&&(L.current.style.position="absolute"),Y.style[P]=I,d&&d(Y,ee)}),H=F((Y,ee)=>{const ce=$();L.current&&T&&(L.current.style.position="");const{duration:Ae,easing:Ee}=kc({style:w,timeout:b,easing:c},{mode:"enter"});if(b==="auto"){const fe=N.transitions.getAutoHeightDuration(ce);Y.style.transitionDuration=`${fe}ms`,E.current=fe}else Y.style.transitionDuration=typeof Ae=="string"?Ae:`${Ae}ms`;Y.style[P]=`${ce}px`,Y.style.transitionTimingFunction=Ee,f&&f(Y,ee)}),ie=F((Y,ee)=>{Y.style[P]="auto",p&&p(Y,ee)}),M=F(Y=>{Y.style[P]=`${$()}px`,v&&v(Y)}),W=F(g),V=F(Y=>{const ee=$(),{duration:ce,easing:Ae}=kc({style:w,timeout:b,easing:c},{mode:"exit"});if(b==="auto"){const Ee=N.transitions.getAutoHeightDuration(ee);Y.style.transitionDuration=`${Ee}ms`,E.current=Ee}else Y.style.transitionDuration=typeof ce=="string"?ce:`${ce}ms`;Y.style[P]=I,Y.style.transitionTimingFunction=Ae,y&&y(Y)}),X=Y=>{b==="auto"&&U.start(E.current||0,Y),s&&s(K.current,Y)};return a.jsx(j,z({in:u,onEnter:O,onEntered:ie,onEntering:H,onExit:M,onExited:W,onExiting:V,addEndListener:X,nodeRef:K,timeout:b==="auto"?null:b},_,{children:(Y,ee)=>a.jsx(oD,z({as:l,className:Ye(D.root,o,{entered:D.entered,exited:!u&&I==="0px"&&D.hidden}[Y]),style:z({[T?"minWidth":"minHeight"]:I},w),ref:Q},ee,{ownerState:z({},k,{state:Y}),children:a.jsx(AD,{ownerState:z({},k,{state:Y}),className:D.wrapper,ref:L,children:a.jsx(lD,{ownerState:z({},k,{state:Y}),className:D.wrapperInner,children:i})})}))}))});gx.muiSupportAuto=!0;function cD(e){return at("MuiPaper",e)}ot("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const uD=["className","component","elevation","square","variant"],dD=e=>{const{square:t,elevation:n,variant:r,classes:s}=e,i={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${n}`]};return lt(i,cD,s)},hD=Te("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(({theme:e,ownerState:t})=>{var n;return z({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.divider}`},t.variant==="elevation"&&z({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${on("#fff",h2(t.elevation))}, ${on("#fff",h2(t.elevation))})`},e.vars&&{backgroundImage:(n=e.vars.overlays)==null?void 0:n[t.elevation]}))}),Wn=B.forwardRef(function(t,n){const r=wt({props:t,name:"MuiPaper"}),{className:s,component:i="div",elevation:o=1,square:A=!1,variant:l="elevation"}=r,c=Ve(r,uD),u=z({},r,{component:i,elevation:o,square:A,variant:l}),d=dD(u);return a.jsx(hD,z({as:i,ownerState:u,className:Ye(d.root,s),ref:n},c))}),fD=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],pD=["component","slots","slotProps"],gD=["component"];function ew(e,t){const{className:n,elementType:r,ownerState:s,externalForwardedProps:i,getSlotOwnerState:o,internalForwardedProps:A}=t,l=Ve(t,fD),{component:c,slots:u={[e]:void 0},slotProps:d={[e]:void 0}}=i,p=Ve(i,pD),f=u[e]||r,v=r4(d[e],s),g=n4(z({className:n},l,{externalForwardedProps:e==="root"?p:void 0,externalSlotProps:v})),{props:{component:y},internalRef:x}=g,w=Ve(g.props,gD),b=Xn(x,v==null?void 0:v.ref,t.ref),j=o?o(w):{},_=z({},s,j),k=e==="root"?y||c:y,D=Zl(f,z({},e==="root"&&!c&&!u[e]&&A,e!=="root"&&!u[e]&&A,w,k&&{as:k},{ref:b}),_);return Object.keys(j).forEach(N=>{delete D[N]}),[f,D]}function mD(e){const{className:t,classes:n,pulsate:r=!1,rippleX:s,rippleY:i,rippleSize:o,in:A,onExited:l,timeout:c}=e,[u,d]=B.useState(!1),p=Ye(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),f={width:o,height:o,top:-(o/2)+i,left:-(o/2)+s},v=Ye(n.child,u&&n.childLeaving,r&&n.childPulsate);return!A&&!u&&d(!0),B.useEffect(()=>{if(!A&&l!=null){const g=setTimeout(l,c);return()=>{clearTimeout(g)}}},[l,A,c]),a.jsx("span",{className:p,style:f,children:a.jsx("span",{className:v})})}const bi=ot("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),vD=["center","classes","className"];let dm=e=>e,tw,nw,rw,sw;const v1=550,yD=80,xD=po(tw||(tw=dm`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),bD=po(nw||(nw=dm`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),wD=po(rw||(rw=dm`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),BD=Te("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),CD=Te(mD,{name:"MuiTouchRipple",slot:"Ripple"})(sw||(sw=dm`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),bi.rippleVisible,xD,v1,({theme:e})=>e.transitions.easing.easeInOut,bi.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,bi.child,bi.childLeaving,bD,v1,({theme:e})=>e.transitions.easing.easeInOut,bi.childPulsate,wD,({theme:e})=>e.transitions.easing.easeInOut),SD=B.forwardRef(function(t,n){const r=wt({props:t,name:"MuiTouchRipple"}),{center:s=!1,classes:i={},className:o}=r,A=Ve(r,vD),[l,c]=B.useState([]),u=B.useRef(0),d=B.useRef(null);B.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const p=B.useRef(!1),f=Ro(),v=B.useRef(null),g=B.useRef(null),y=B.useCallback(j=>{const{pulsate:_,rippleX:k,rippleY:D,rippleSize:N,cb:U}=j;c(L=>[...L,a.jsx(CD,{classes:{ripple:Ye(i.ripple,bi.ripple),rippleVisible:Ye(i.rippleVisible,bi.rippleVisible),ripplePulsate:Ye(i.ripplePulsate,bi.ripplePulsate),child:Ye(i.child,bi.child),childLeaving:Ye(i.childLeaving,bi.childLeaving),childPulsate:Ye(i.childPulsate,bi.childPulsate)},timeout:v1,pulsate:_,rippleX:k,rippleY:D,rippleSize:N},u.current)]),u.current+=1,d.current=U},[i]),x=B.useCallback((j={},_={},k=()=>{})=>{const{pulsate:D=!1,center:N=s||_.pulsate,fakeElement:U=!1}=_;if((j==null?void 0:j.type)==="mousedown"&&p.current){p.current=!1;return}(j==null?void 0:j.type)==="touchstart"&&(p.current=!0);const L=U?null:g.current,E=L?L.getBoundingClientRect():{width:0,height:0,left:0,top:0};let I,T,P;if(N||j===void 0||j.clientX===0&&j.clientY===0||!j.clientX&&!j.touches)I=Math.round(E.width/2),T=Math.round(E.height/2);else{const{clientX:K,clientY:Q}=j.touches&&j.touches.length>0?j.touches[0]:j;I=Math.round(K-E.left),T=Math.round(Q-E.top)}if(N)P=Math.sqrt((2*E.width**2+E.height**2)/3),P%2===0&&(P+=1);else{const K=Math.max(Math.abs((L?L.clientWidth:0)-I),I)*2+2,Q=Math.max(Math.abs((L?L.clientHeight:0)-T),T)*2+2;P=Math.sqrt(K**2+Q**2)}j!=null&&j.touches?v.current===null&&(v.current=()=>{y({pulsate:D,rippleX:I,rippleY:T,rippleSize:P,cb:k})},f.start(yD,()=>{v.current&&(v.current(),v.current=null)})):y({pulsate:D,rippleX:I,rippleY:T,rippleSize:P,cb:k})},[s,y,f]),w=B.useCallback(()=>{x({},{pulsate:!0})},[x]),b=B.useCallback((j,_)=>{if(f.clear(),(j==null?void 0:j.type)==="touchend"&&v.current){v.current(),v.current=null,f.start(0,()=>{b(j,_)});return}v.current=null,c(k=>k.length>0?k.slice(1):k),d.current=_},[f]);return B.useImperativeHandle(n,()=>({pulsate:w,start:x,stop:b}),[w,x,b]),a.jsx(BD,z({className:Ye(bi.root,i.root,o),ref:g},A,{children:a.jsx(vh,{component:null,exit:!0,children:l})}))});function ED(e){return at("MuiButtonBase",e)}const jD=ot("MuiButtonBase",["root","disabled","focusVisible"]),ID=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],FD=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:s}=e,o=lt({root:["root",t&&"disabled",n&&"focusVisible"]},ED,s);return n&&r&&(o.root+=` ${r}`),o},kD=Te("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${jD.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Ea=B.forwardRef(function(t,n){const r=wt({props:t,name:"MuiButtonBase"}),{action:s,centerRipple:i=!1,children:o,className:A,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:p=!1,LinkComponent:f="a",onBlur:v,onClick:g,onContextMenu:y,onDragLeave:x,onFocus:w,onFocusVisible:b,onKeyDown:j,onKeyUp:_,onMouseDown:k,onMouseLeave:D,onMouseUp:N,onTouchEnd:U,onTouchMove:L,onTouchStart:E,tabIndex:I=0,TouchRippleProps:T,touchRippleRef:P,type:K}=r,Q=Ve(r,ID),F=B.useRef(null),$=B.useRef(null),O=Xn($,P),{isFocusVisibleRef:H,onFocus:ie,onBlur:M,ref:W}=Z5(),[V,X]=B.useState(!1);c&&V&&X(!1),B.useImperativeHandle(s,()=>({focusVisible:()=>{X(!0),F.current.focus()}}),[]);const[Y,ee]=B.useState(!1);B.useEffect(()=>{ee(!0)},[]);const ce=Y&&!u&&!c;B.useEffect(()=>{V&&p&&!u&&Y&&$.current.pulsate()},[u,p,V,Y]);function Ae(_e,Me,Ie=d){return Vt(nt=>(Me&&Me(nt),!Ie&&$.current&&$.current[_e](nt),!0))}const Ee=Ae("start",k),fe=Ae("stop",y),we=Ae("stop",x),de=Ae("stop",N),Be=Ae("stop",_e=>{V&&_e.preventDefault(),D&&D(_e)}),pe=Ae("start",E),se=Ae("stop",U),me=Ae("stop",L),ne=Ae("stop",_e=>{M(_e),H.current===!1&&X(!1),v&&v(_e)},!1),ae=Vt(_e=>{F.current||(F.current=_e.currentTarget),ie(_e),H.current===!0&&(X(!0),b&&b(_e)),w&&w(_e)}),he=()=>{const _e=F.current;return l&&l!=="button"&&!(_e.tagName==="A"&&_e.href)},ge=B.useRef(!1),Ce=Vt(_e=>{p&&!ge.current&&V&&$.current&&_e.key===" "&&(ge.current=!0,$.current.stop(_e,()=>{$.current.start(_e)})),_e.target===_e.currentTarget&&he()&&_e.key===" "&&_e.preventDefault(),j&&j(_e),_e.target===_e.currentTarget&&he()&&_e.key==="Enter"&&!c&&(_e.preventDefault(),g&&g(_e))}),ye=Vt(_e=>{p&&_e.key===" "&&$.current&&V&&!_e.defaultPrevented&&(ge.current=!1,$.current.stop(_e,()=>{$.current.pulsate(_e)})),_&&_(_e),g&&_e.target===_e.currentTarget&&he()&&_e.key===" "&&!_e.defaultPrevented&&g(_e)});let Le=l;Le==="button"&&(Q.href||Q.to)&&(Le=f);const We={};Le==="button"?(We.type=K===void 0?"button":K,We.disabled=c):(!Q.href&&!Q.to&&(We.role="button"),c&&(We["aria-disabled"]=c));const De=Xn(n,W,F),$e=z({},r,{centerRipple:i,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:p,tabIndex:I,focusVisible:V}),Ge=FD($e);return a.jsxs(kD,z({as:Le,className:Ye(Ge.root,A),ownerState:$e,onBlur:ne,onClick:g,onContextMenu:fe,onFocus:ae,onKeyDown:Ce,onKeyUp:ye,onMouseDown:Ee,onMouseLeave:Be,onMouseUp:de,onDragLeave:we,onTouchEnd:se,onTouchMove:me,onTouchStart:pe,ref:De,tabIndex:c?-1:I,type:K},We,Q,{children:[o,ce?a.jsx(SD,z({ref:O,center:i},T)):null]}))});function ND(e){return at("MuiAlert",e)}const iw=ot("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function _D(e){return at("MuiIconButton",e)}const TD=ot("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),UD=["edge","children","className","color","disabled","disableFocusRipple","size"],LD=e=>{const{classes:t,disabled:n,color:r,edge:s,size:i}=e,o={root:["root",n&&"disabled",r!=="default"&&`color${Ke(r)}`,s&&`edge${Ke(s)}`,`size${Ke(i)}`]};return lt(o,_D,t)},DD=Te(Ea,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${Ke(n.color)}`],n.edge&&t[`edge${Ke(n.edge)}`],t[`size${Ke(n.size)}`]]}})(({theme:e,ownerState:t})=>z({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:on(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12}),({theme:e,ownerState:t})=>{var n;const r=(n=(e.vars||e).palette)==null?void 0:n[t.color];return z({},t.color==="inherit"&&{color:"inherit"},t.color!=="inherit"&&t.color!=="default"&&z({color:r==null?void 0:r.main},!t.disableRipple&&{"&:hover":z({},r&&{backgroundColor:e.vars?`rgba(${r.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:on(r.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),t.size==="small"&&{padding:5,fontSize:e.typography.pxToRem(18)},t.size==="large"&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${TD.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),js=B.forwardRef(function(t,n){const r=wt({props:t,name:"MuiIconButton"}),{edge:s=!1,children:i,className:o,color:A="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium"}=r,d=Ve(r,UD),p=z({},r,{edge:s,color:A,disabled:l,disableFocusRipple:c,size:u}),f=LD(p);return a.jsx(DD,z({className:Ye(f.root,o),centerRipple:!0,focusRipple:!c,disabled:l,ref:n},d,{ownerState:p,children:i}))}),MD=st(a.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),QD=st(a.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),PD=st(a.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),RD=st(a.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),HD=st(a.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),OD=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],$D=e=>{const{variant:t,color:n,severity:r,classes:s}=e,i={root:["root",`color${Ke(n||r)}`,`${t}${Ke(n||r)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return lt(i,ND,s)},zD=Te(Wn,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${Ke(n.color||n.severity)}`]]}})(({theme:e})=>{const t=e.palette.mode==="light"?Ec:jc,n=e.palette.mode==="light"?jc:Ec;return z({},e.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(e.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:e.vars?e.vars.palette.Alert[`${r}Color`]:t(e.palette[r].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${r}StandardBg`]:n(e.palette[r].light,.9),[`& .${iw.icon}`]:e.vars?{color:e.vars.palette.Alert[`${r}IconColor`]}:{color:e.palette[r].main}}})),...Object.entries(e.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:e.vars?e.vars.palette.Alert[`${r}Color`]:t(e.palette[r].light,.6),border:`1px solid ${(e.vars||e).palette[r].light}`,[`& .${iw.icon}`]:e.vars?{color:e.vars.palette.Alert[`${r}IconColor`]}:{color:e.palette[r].main}}})),...Object.entries(e.palette).filter(([,r])=>r.main&&r.dark).map(([r])=>({props:{colorSeverity:r,variant:"filled"},style:z({fontWeight:e.typography.fontWeightMedium},e.vars?{color:e.vars.palette.Alert[`${r}FilledColor`],backgroundColor:e.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:e.palette.mode==="dark"?e.palette[r].dark:e.palette[r].main,color:e.palette.getContrastText(e.palette[r].main)})}))]})}),WD=Te("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),KD=Te("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),aw=Te("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),ow={success:a.jsx(MD,{fontSize:"inherit"}),warning:a.jsx(QD,{fontSize:"inherit"}),error:a.jsx(PD,{fontSize:"inherit"}),info:a.jsx(RD,{fontSize:"inherit"})},Yt=B.forwardRef(function(t,n){const r=wt({props:t,name:"MuiAlert"}),{action:s,children:i,className:o,closeText:A="Close",color:l,components:c={},componentsProps:u={},icon:d,iconMapping:p=ow,onClose:f,role:v="alert",severity:g="success",slotProps:y={},slots:x={},variant:w="standard"}=r,b=Ve(r,OD),j=z({},r,{color:l,severity:g,variant:w,colorSeverity:l||g}),_=$D(j),k={slots:z({closeButton:c.CloseButton,closeIcon:c.CloseIcon},x),slotProps:z({},u,y)},[D,N]=ew("closeButton",{elementType:js,externalForwardedProps:k,ownerState:j}),[U,L]=ew("closeIcon",{elementType:HD,externalForwardedProps:k,ownerState:j});return a.jsxs(zD,z({role:v,elevation:0,ownerState:j,className:Ye(_.root,o),ref:n},b,{children:[d!==!1?a.jsx(WD,{ownerState:j,className:_.icon,children:d||p[g]||ow[g]}):null,a.jsx(KD,{ownerState:j,className:_.message,children:i}),s!=null?a.jsx(aw,{ownerState:j,className:_.action,children:s}):null,s==null&&f?a.jsx(aw,{ownerState:j,className:_.action,children:a.jsx(D,z({size:"small","aria-label":A,title:A,color:"inherit",onClick:f},N,{children:a.jsx(U,z({fontSize:"small"},L))}))}):null]}))});function VD(e){return at("MuiTypography",e)}ot("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const GD=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],qD=e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:s,variant:i,classes:o}=e,A={root:["root",i,e.align!=="inherit"&&`align${Ke(t)}`,n&&"gutterBottom",r&&"noWrap",s&&"paragraph"]};return lt(A,VD,o)},YD=Te("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],n.align!=="inherit"&&t[`align${Ke(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>z({margin:0},t.variant==="inherit"&&{font:"inherit"},t.variant!=="inherit"&&e.typography[t.variant],t.align!=="inherit"&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),Aw={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},XD={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},JD=e=>XD[e]||e,le=B.forwardRef(function(t,n){const r=wt({props:t,name:"MuiTypography"}),s=JD(r.color),i=Ah(z({},r,{color:s})),{align:o="inherit",className:A,component:l,gutterBottom:c=!1,noWrap:u=!1,paragraph:d=!1,variant:p="body1",variantMapping:f=Aw}=i,v=Ve(i,GD),g=z({},i,{align:o,color:s,className:A,component:l,gutterBottom:c,noWrap:u,paragraph:d,variant:p,variantMapping:f}),y=l||(d?"p":f[p]||Aw[p])||"span",x=qD(g);return a.jsx(YD,z({as:y,ref:n,ownerState:g,className:Ye(x.root,A)},v))});function ZD(e){return at("MuiAlertTitle",e)}ot("MuiAlertTitle",["root"]);const eM=["className"],tM=e=>{const{classes:t}=e;return lt({root:["root"]},ZD,t)},nM=Te(le,{name:"MuiAlertTitle",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({fontWeight:e.typography.fontWeightMedium,marginTop:-2})),zA=B.forwardRef(function(t,n){const r=wt({props:t,name:"MuiAlertTitle"}),{className:s}=r,i=Ve(r,eM),o=r,A=tM(o);return a.jsx(nM,z({gutterBottom:!0,component:"div",ownerState:o,ref:n,className:Ye(A.root,s)},i))});var mx={};Object.defineProperty(mx,"__esModule",{value:!0});var PS=mx.default=void 0,rM=iM(B),sM=v4;function RS(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(RS=function(r){return r?n:t})(e)}function iM(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=RS(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var o=s?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}function aM(e){return Object.keys(e).length===0}function oM(e=null){const t=rM.useContext(sM.ThemeContext);return!t||aM(t)?e:t}PS=mx.default=oM;var Hs="top",Ni="bottom",_i="right",Os="left",vx="auto",yh=[Hs,Ni,_i,Os],Nc="start",Kd="end",AM="clippingParents",HS="viewport",$u="popper",lM="reference",lw=yh.reduce(function(e,t){return e.concat([t+"-"+Nc,t+"-"+Kd])},[]),OS=[].concat(yh,[vx]).reduce(function(e,t){return e.concat([t,t+"-"+Nc,t+"-"+Kd])},[]),cM="beforeRead",uM="read",dM="afterRead",hM="beforeMain",fM="main",pM="afterMain",gM="beforeWrite",mM="write",vM="afterWrite",yM=[cM,uM,dM,hM,fM,pM,gM,mM,vM];function ja(e){return e?(e.nodeName||"").toLowerCase():null}function ii(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function WA(e){var t=ii(e).Element;return e instanceof t||e instanceof Element}function ji(e){var t=ii(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function yx(e){if(typeof ShadowRoot>"u")return!1;var t=ii(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function xM(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},s=t.attributes[n]||{},i=t.elements[n];!ji(i)||!ja(i)||(Object.assign(i.style,r),Object.keys(s).forEach(function(o){var A=s[o];A===!1?i.removeAttribute(o):i.setAttribute(o,A===!0?"":A)}))})}function bM(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var s=t.elements[r],i=t.attributes[r]||{},o=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),A=o.reduce(function(l,c){return l[c]="",l},{});!ji(s)||!ja(s)||(Object.assign(s.style,A),Object.keys(i).forEach(function(l){s.removeAttribute(l)}))})}}const wM={name:"applyStyles",enabled:!0,phase:"write",fn:xM,effect:bM,requires:["computeStyles"]};function xa(e){return e.split("-")[0]}var UA=Math.max,eg=Math.min,_c=Math.round;function y1(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function $S(){return!/^((?!chrome|android).)*safari/i.test(y1())}function Tc(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),s=1,i=1;t&&ji(e)&&(s=e.offsetWidth>0&&_c(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&_c(r.height)/e.offsetHeight||1);var o=WA(e)?ii(e):window,A=o.visualViewport,l=!$S()&&n,c=(r.left+(l&&A?A.offsetLeft:0))/s,u=(r.top+(l&&A?A.offsetTop:0))/i,d=r.width/s,p=r.height/i;return{width:d,height:p,top:u,right:c+d,bottom:u+p,left:c,x:c,y:u}}function xx(e){var t=Tc(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function zS(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&yx(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ao(e){return ii(e).getComputedStyle(e)}function BM(e){return["table","td","th"].indexOf(ja(e))>=0}function aA(e){return((WA(e)?e.ownerDocument:e.document)||window.document).documentElement}function hm(e){return ja(e)==="html"?e:e.assignedSlot||e.parentNode||(yx(e)?e.host:null)||aA(e)}function cw(e){return!ji(e)||Ao(e).position==="fixed"?null:e.offsetParent}function CM(e){var t=/firefox/i.test(y1()),n=/Trident/i.test(y1());if(n&&ji(e)){var r=Ao(e);if(r.position==="fixed")return null}var s=hm(e);for(yx(s)&&(s=s.host);ji(s)&&["html","body"].indexOf(ja(s))<0;){var i=Ao(s);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return s;s=s.parentNode}return null}function xh(e){for(var t=ii(e),n=cw(e);n&&BM(n)&&Ao(n).position==="static";)n=cw(n);return n&&(ja(n)==="html"||ja(n)==="body"&&Ao(n).position==="static")?t:n||CM(e)||t}function bx(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Sd(e,t,n){return UA(e,eg(t,n))}function SM(e,t,n){var r=Sd(e,t,n);return r>n?n:r}function WS(){return{top:0,right:0,bottom:0,left:0}}function KS(e){return Object.assign({},WS(),e)}function VS(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var EM=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,KS(typeof t!="number"?t:VS(t,yh))};function jM(e){var t,n=e.state,r=e.name,s=e.options,i=n.elements.arrow,o=n.modifiersData.popperOffsets,A=xa(n.placement),l=bx(A),c=[Os,_i].indexOf(A)>=0,u=c?"height":"width";if(!(!i||!o)){var d=EM(s.padding,n),p=xx(i),f=l==="y"?Hs:Os,v=l==="y"?Ni:_i,g=n.rects.reference[u]+n.rects.reference[l]-o[l]-n.rects.popper[u],y=o[l]-n.rects.reference[l],x=xh(i),w=x?l==="y"?x.clientHeight||0:x.clientWidth||0:0,b=g/2-y/2,j=d[f],_=w-p[u]-d[v],k=w/2-p[u]/2+b,D=Sd(j,k,_),N=l;n.modifiersData[r]=(t={},t[N]=D,t.centerOffset=D-k,t)}}function IM(e){var t=e.state,n=e.options,r=n.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=t.elements.popper.querySelector(s),!s)||zS(t.elements.popper,s)&&(t.elements.arrow=s))}const FM={name:"arrow",enabled:!0,phase:"main",fn:jM,effect:IM,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Uc(e){return e.split("-")[1]}var kM={top:"auto",right:"auto",bottom:"auto",left:"auto"};function NM(e,t){var n=e.x,r=e.y,s=t.devicePixelRatio||1;return{x:_c(n*s)/s||0,y:_c(r*s)/s||0}}function uw(e){var t,n=e.popper,r=e.popperRect,s=e.placement,i=e.variation,o=e.offsets,A=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,p=o.x,f=p===void 0?0:p,v=o.y,g=v===void 0?0:v,y=typeof u=="function"?u({x:f,y:g}):{x:f,y:g};f=y.x,g=y.y;var x=o.hasOwnProperty("x"),w=o.hasOwnProperty("y"),b=Os,j=Hs,_=window;if(c){var k=xh(n),D="clientHeight",N="clientWidth";if(k===ii(n)&&(k=aA(n),Ao(k).position!=="static"&&A==="absolute"&&(D="scrollHeight",N="scrollWidth")),k=k,s===Hs||(s===Os||s===_i)&&i===Kd){j=Ni;var U=d&&k===_&&_.visualViewport?_.visualViewport.height:k[D];g-=U-r.height,g*=l?1:-1}if(s===Os||(s===Hs||s===Ni)&&i===Kd){b=_i;var L=d&&k===_&&_.visualViewport?_.visualViewport.width:k[N];f-=L-r.width,f*=l?1:-1}}var E=Object.assign({position:A},c&&kM),I=u===!0?NM({x:f,y:g},ii(n)):{x:f,y:g};if(f=I.x,g=I.y,l){var T;return Object.assign({},E,(T={},T[j]=w?"0":"",T[b]=x?"0":"",T.transform=(_.devicePixelRatio||1)<=1?"translate("+f+"px, "+g+"px)":"translate3d("+f+"px, "+g+"px, 0)",T))}return Object.assign({},E,(t={},t[j]=w?g+"px":"",t[b]=x?f+"px":"",t.transform="",t))}function _M(e){var t=e.state,n=e.options,r=n.gpuAcceleration,s=r===void 0?!0:r,i=n.adaptive,o=i===void 0?!0:i,A=n.roundOffsets,l=A===void 0?!0:A,c={placement:xa(t.placement),variation:Uc(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,uw(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,uw(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const TM={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:_M,data:{}};var jf={passive:!0};function UM(e){var t=e.state,n=e.instance,r=e.options,s=r.scroll,i=s===void 0?!0:s,o=r.resize,A=o===void 0?!0:o,l=ii(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&c.forEach(function(u){u.addEventListener("scroll",n.update,jf)}),A&&l.addEventListener("resize",n.update,jf),function(){i&&c.forEach(function(u){u.removeEventListener("scroll",n.update,jf)}),A&&l.removeEventListener("resize",n.update,jf)}}const LM={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:UM,data:{}};var DM={left:"right",right:"left",bottom:"top",top:"bottom"};function Bp(e){return e.replace(/left|right|bottom|top/g,function(t){return DM[t]})}var MM={start:"end",end:"start"};function dw(e){return e.replace(/start|end/g,function(t){return MM[t]})}function wx(e){var t=ii(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Bx(e){return Tc(aA(e)).left+wx(e).scrollLeft}function QM(e,t){var n=ii(e),r=aA(e),s=n.visualViewport,i=r.clientWidth,o=r.clientHeight,A=0,l=0;if(s){i=s.width,o=s.height;var c=$S();(c||!c&&t==="fixed")&&(A=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:A+Bx(e),y:l}}function PM(e){var t,n=aA(e),r=wx(e),s=(t=e.ownerDocument)==null?void 0:t.body,i=UA(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=UA(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),A=-r.scrollLeft+Bx(e),l=-r.scrollTop;return Ao(s||n).direction==="rtl"&&(A+=UA(n.clientWidth,s?s.clientWidth:0)-i),{width:i,height:o,x:A,y:l}}function Cx(e){var t=Ao(e),n=t.overflow,r=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function GS(e){return["html","body","#document"].indexOf(ja(e))>=0?e.ownerDocument.body:ji(e)&&Cx(e)?e:GS(hm(e))}function Ed(e,t){var n;t===void 0&&(t=[]);var r=GS(e),s=r===((n=e.ownerDocument)==null?void 0:n.body),i=ii(r),o=s?[i].concat(i.visualViewport||[],Cx(r)?r:[]):r,A=t.concat(o);return s?A:A.concat(Ed(hm(o)))}function x1(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function RM(e,t){var n=Tc(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function hw(e,t,n){return t===HS?x1(QM(e,n)):WA(t)?RM(t,n):x1(PM(aA(e)))}function HM(e){var t=Ed(hm(e)),n=["absolute","fixed"].indexOf(Ao(e).position)>=0,r=n&&ji(e)?xh(e):e;return WA(r)?t.filter(function(s){return WA(s)&&zS(s,r)&&ja(s)!=="body"}):[]}function OM(e,t,n,r){var s=t==="clippingParents"?HM(e):[].concat(t),i=[].concat(s,[n]),o=i[0],A=i.reduce(function(l,c){var u=hw(e,c,r);return l.top=UA(u.top,l.top),l.right=eg(u.right,l.right),l.bottom=eg(u.bottom,l.bottom),l.left=UA(u.left,l.left),l},hw(e,o,r));return A.width=A.right-A.left,A.height=A.bottom-A.top,A.x=A.left,A.y=A.top,A}function qS(e){var t=e.reference,n=e.element,r=e.placement,s=r?xa(r):null,i=r?Uc(r):null,o=t.x+t.width/2-n.width/2,A=t.y+t.height/2-n.height/2,l;switch(s){case Hs:l={x:o,y:t.y-n.height};break;case Ni:l={x:o,y:t.y+t.height};break;case _i:l={x:t.x+t.width,y:A};break;case Os:l={x:t.x-n.width,y:A};break;default:l={x:t.x,y:t.y}}var c=s?bx(s):null;if(c!=null){var u=c==="y"?"height":"width";switch(i){case Nc:l[c]=l[c]-(t[u]/2-n[u]/2);break;case Kd:l[c]=l[c]+(t[u]/2-n[u]/2);break}}return l}function Vd(e,t){t===void 0&&(t={});var n=t,r=n.placement,s=r===void 0?e.placement:r,i=n.strategy,o=i===void 0?e.strategy:i,A=n.boundary,l=A===void 0?AM:A,c=n.rootBoundary,u=c===void 0?HS:c,d=n.elementContext,p=d===void 0?$u:d,f=n.altBoundary,v=f===void 0?!1:f,g=n.padding,y=g===void 0?0:g,x=KS(typeof y!="number"?y:VS(y,yh)),w=p===$u?lM:$u,b=e.rects.popper,j=e.elements[v?w:p],_=OM(WA(j)?j:j.contextElement||aA(e.elements.popper),l,u,o),k=Tc(e.elements.reference),D=qS({reference:k,element:b,placement:s}),N=x1(Object.assign({},b,D)),U=p===$u?N:k,L={top:_.top-U.top+x.top,bottom:U.bottom-_.bottom+x.bottom,left:_.left-U.left+x.left,right:U.right-_.right+x.right},E=e.modifiersData.offset;if(p===$u&&E){var I=E[s];Object.keys(L).forEach(function(T){var P=[_i,Ni].indexOf(T)>=0?1:-1,K=[Hs,Ni].indexOf(T)>=0?"y":"x";L[T]+=I[K]*P})}return L}function $M(e,t){t===void 0&&(t={});var n=t,r=n.placement,s=n.boundary,i=n.rootBoundary,o=n.padding,A=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?OS:l,u=Uc(r),d=u?A?lw:lw.filter(function(v){return Uc(v)===u}):yh,p=d.filter(function(v){return c.indexOf(v)>=0});p.length===0&&(p=d);var f=p.reduce(function(v,g){return v[g]=Vd(e,{placement:g,boundary:s,rootBoundary:i,padding:o})[xa(g)],v},{});return Object.keys(f).sort(function(v,g){return f[v]-f[g]})}function zM(e){if(xa(e)===vx)return[];var t=Bp(e);return[dw(e),t,dw(t)]}function WM(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var s=n.mainAxis,i=s===void 0?!0:s,o=n.altAxis,A=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,p=n.altBoundary,f=n.flipVariations,v=f===void 0?!0:f,g=n.allowedAutoPlacements,y=t.options.placement,x=xa(y),w=x===y,b=l||(w||!v?[Bp(y)]:zM(y)),j=[y].concat(b).reduce(function(V,X){return V.concat(xa(X)===vx?$M(t,{placement:X,boundary:u,rootBoundary:d,padding:c,flipVariations:v,allowedAutoPlacements:g}):X)},[]),_=t.rects.reference,k=t.rects.popper,D=new Map,N=!0,U=j[0],L=0;L<j.length;L++){var E=j[L],I=xa(E),T=Uc(E)===Nc,P=[Hs,Ni].indexOf(I)>=0,K=P?"width":"height",Q=Vd(t,{placement:E,boundary:u,rootBoundary:d,altBoundary:p,padding:c}),F=P?T?_i:Os:T?Ni:Hs;_[K]>k[K]&&(F=Bp(F));var $=Bp(F),O=[];if(i&&O.push(Q[I]<=0),A&&O.push(Q[F]<=0,Q[$]<=0),O.every(function(V){return V})){U=E,N=!1;break}D.set(E,O)}if(N)for(var H=v?3:1,ie=function(X){var Y=j.find(function(ee){var ce=D.get(ee);if(ce)return ce.slice(0,X).every(function(Ae){return Ae})});if(Y)return U=Y,"break"},M=H;M>0;M--){var W=ie(M);if(W==="break")break}t.placement!==U&&(t.modifiersData[r]._skip=!0,t.placement=U,t.reset=!0)}}const KM={name:"flip",enabled:!0,phase:"main",fn:WM,requiresIfExists:["offset"],data:{_skip:!1}};function fw(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function pw(e){return[Hs,_i,Ni,Os].some(function(t){return e[t]>=0})}function VM(e){var t=e.state,n=e.name,r=t.rects.reference,s=t.rects.popper,i=t.modifiersData.preventOverflow,o=Vd(t,{elementContext:"reference"}),A=Vd(t,{altBoundary:!0}),l=fw(o,r),c=fw(A,s,i),u=pw(l),d=pw(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const GM={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:VM};function qM(e,t,n){var r=xa(e),s=[Os,Hs].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,o=i[0],A=i[1];return o=o||0,A=(A||0)*s,[Os,_i].indexOf(r)>=0?{x:A,y:o}:{x:o,y:A}}function YM(e){var t=e.state,n=e.options,r=e.name,s=n.offset,i=s===void 0?[0,0]:s,o=OS.reduce(function(u,d){return u[d]=qM(d,t.rects,i),u},{}),A=o[t.placement],l=A.x,c=A.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}const XM={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:YM};function JM(e){var t=e.state,n=e.name;t.modifiersData[n]=qS({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const ZM={name:"popperOffsets",enabled:!0,phase:"read",fn:JM,data:{}};function eQ(e){return e==="x"?"y":"x"}function tQ(e){var t=e.state,n=e.options,r=e.name,s=n.mainAxis,i=s===void 0?!0:s,o=n.altAxis,A=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,p=n.tether,f=p===void 0?!0:p,v=n.tetherOffset,g=v===void 0?0:v,y=Vd(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),x=xa(t.placement),w=Uc(t.placement),b=!w,j=bx(x),_=eQ(j),k=t.modifiersData.popperOffsets,D=t.rects.reference,N=t.rects.popper,U=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,L=typeof U=="number"?{mainAxis:U,altAxis:U}:Object.assign({mainAxis:0,altAxis:0},U),E=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,I={x:0,y:0};if(k){if(i){var T,P=j==="y"?Hs:Os,K=j==="y"?Ni:_i,Q=j==="y"?"height":"width",F=k[j],$=F+y[P],O=F-y[K],H=f?-N[Q]/2:0,ie=w===Nc?D[Q]:N[Q],M=w===Nc?-N[Q]:-D[Q],W=t.elements.arrow,V=f&&W?xx(W):{width:0,height:0},X=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:WS(),Y=X[P],ee=X[K],ce=Sd(0,D[Q],V[Q]),Ae=b?D[Q]/2-H-ce-Y-L.mainAxis:ie-ce-Y-L.mainAxis,Ee=b?-D[Q]/2+H+ce+ee+L.mainAxis:M+ce+ee+L.mainAxis,fe=t.elements.arrow&&xh(t.elements.arrow),we=fe?j==="y"?fe.clientTop||0:fe.clientLeft||0:0,de=(T=E==null?void 0:E[j])!=null?T:0,Be=F+Ae-de-we,pe=F+Ee-de,se=Sd(f?eg($,Be):$,F,f?UA(O,pe):O);k[j]=se,I[j]=se-F}if(A){var me,ne=j==="x"?Hs:Os,ae=j==="x"?Ni:_i,he=k[_],ge=_==="y"?"height":"width",Ce=he+y[ne],ye=he-y[ae],Le=[Hs,Os].indexOf(x)!==-1,We=(me=E==null?void 0:E[_])!=null?me:0,De=Le?Ce:he-D[ge]-N[ge]-We+L.altAxis,$e=Le?he+D[ge]+N[ge]-We-L.altAxis:ye,Ge=f&&Le?SM(De,he,$e):Sd(f?De:Ce,he,f?$e:ye);k[_]=Ge,I[_]=Ge-he}t.modifiersData[r]=I}}const nQ={name:"preventOverflow",enabled:!0,phase:"main",fn:tQ,requiresIfExists:["offset"]};function rQ(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function sQ(e){return e===ii(e)||!ji(e)?wx(e):rQ(e)}function iQ(e){var t=e.getBoundingClientRect(),n=_c(t.width)/e.offsetWidth||1,r=_c(t.height)/e.offsetHeight||1;return n!==1||r!==1}function aQ(e,t,n){n===void 0&&(n=!1);var r=ji(t),s=ji(t)&&iQ(t),i=aA(t),o=Tc(e,s,n),A={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((ja(t)!=="body"||Cx(i))&&(A=sQ(t)),ji(t)?(l=Tc(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):i&&(l.x=Bx(i))),{x:o.left+A.scrollLeft-l.x,y:o.top+A.scrollTop-l.y,width:o.width,height:o.height}}function oQ(e){var t=new Map,n=new Set,r=[];e.forEach(function(i){t.set(i.name,i)});function s(i){n.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(A){if(!n.has(A)){var l=t.get(A);l&&s(l)}}),r.push(i)}return e.forEach(function(i){n.has(i.name)||s(i)}),r}function AQ(e){var t=oQ(e);return yM.reduce(function(n,r){return n.concat(t.filter(function(s){return s.phase===r}))},[])}function lQ(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function cQ(e){var t=e.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var gw={placement:"bottom",modifiers:[],strategy:"absolute"};function mw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function uQ(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,s=t.defaultOptions,i=s===void 0?gw:s;return function(A,l,c){c===void 0&&(c=i);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},gw,i),modifiersData:{},elements:{reference:A,popper:l},attributes:{},styles:{}},d=[],p=!1,f={state:u,setOptions:function(x){var w=typeof x=="function"?x(u.options):x;g(),u.options=Object.assign({},i,u.options,w),u.scrollParents={reference:WA(A)?Ed(A):A.contextElement?Ed(A.contextElement):[],popper:Ed(l)};var b=AQ(cQ([].concat(r,u.options.modifiers)));return u.orderedModifiers=b.filter(function(j){return j.enabled}),v(),f.update()},forceUpdate:function(){if(!p){var x=u.elements,w=x.reference,b=x.popper;if(mw(w,b)){u.rects={reference:aQ(w,xh(b),u.options.strategy==="fixed"),popper:xx(b)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(L){return u.modifiersData[L.name]=Object.assign({},L.data)});for(var j=0;j<u.orderedModifiers.length;j++){if(u.reset===!0){u.reset=!1,j=-1;continue}var _=u.orderedModifiers[j],k=_.fn,D=_.options,N=D===void 0?{}:D,U=_.name;typeof k=="function"&&(u=k({state:u,options:N,name:U,instance:f})||u)}}}},update:lQ(function(){return new Promise(function(y){f.forceUpdate(),y(u)})}),destroy:function(){g(),p=!0}};if(!mw(A,l))return f;f.setOptions(c).then(function(y){!p&&c.onFirstUpdate&&c.onFirstUpdate(y)});function v(){u.orderedModifiers.forEach(function(y){var x=y.name,w=y.options,b=w===void 0?{}:w,j=y.effect;if(typeof j=="function"){var _=j({state:u,name:x,instance:f,options:b}),k=function(){};d.push(_||k)}})}function g(){d.forEach(function(y){return y()}),d=[]}return f}}var dQ=[LM,ZM,TM,wM,XM,KM,nQ,FM,GM],hQ=uQ({defaultModifiers:dQ});function fQ(e){return typeof e=="function"?e():e}const YS=B.forwardRef(function(t,n){const{children:r,container:s,disablePortal:i=!1}=t,[o,A]=B.useState(null),l=Xn(B.isValidElement(r)?YA(r):null,n);if(ms(()=>{i||A(fQ(s)||document.body)},[s,i]),ms(()=>{if(o&&!i)return Zv(n,o),()=>{Zv(n,null)}},[n,o,i]),i){if(B.isValidElement(r)){const c={ref:l};return B.cloneElement(r,c)}return a.jsx(B.Fragment,{children:r})}return a.jsx(B.Fragment,{children:o&&t5.createPortal(r,o)})});function pQ(e){return at("MuiPopper",e)}ot("MuiPopper",["root"]);const gQ=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],mQ=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function vQ(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function b1(e){return typeof e=="function"?e():e}function yQ(e){return e.nodeType!==void 0}const xQ=e=>{const{classes:t}=e;return lt({root:["root"]},pQ,t)},bQ={},wQ=B.forwardRef(function(t,n){var r;const{anchorEl:s,children:i,direction:o,disablePortal:A,modifiers:l,open:c,placement:u,popperOptions:d,popperRef:p,slotProps:f={},slots:v={},TransitionProps:g}=t,y=Ve(t,gQ),x=B.useRef(null),w=Xn(x,n),b=B.useRef(null),j=Xn(b,p),_=B.useRef(j);ms(()=>{_.current=j},[j]),B.useImperativeHandle(p,()=>b.current,[]);const k=vQ(u,o),[D,N]=B.useState(k),[U,L]=B.useState(b1(s));B.useEffect(()=>{b.current&&b.current.forceUpdate()}),B.useEffect(()=>{s&&L(b1(s))},[s]),ms(()=>{if(!U||!c)return;const K=$=>{N($.placement)};let Q=[{name:"preventOverflow",options:{altBoundary:A}},{name:"flip",options:{altBoundary:A}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:$})=>{K($)}}];l!=null&&(Q=Q.concat(l)),d&&d.modifiers!=null&&(Q=Q.concat(d.modifiers));const F=hQ(U,x.current,z({placement:k},d,{modifiers:Q}));return _.current(F),()=>{F.destroy(),_.current(null)}},[U,A,l,c,d,k]);const E={placement:D};g!==null&&(E.TransitionProps=g);const I=xQ(t),T=(r=v.root)!=null?r:"div",P=Ii({elementType:T,externalSlotProps:f.root,externalForwardedProps:y,additionalProps:{role:"tooltip",ref:w},ownerState:t,className:I.root});return a.jsx(T,z({},P,{children:typeof i=="function"?i(E):i}))}),BQ=B.forwardRef(function(t,n){const{anchorEl:r,children:s,container:i,direction:o="ltr",disablePortal:A=!1,keepMounted:l=!1,modifiers:c,open:u,placement:d="bottom",popperOptions:p=bQ,popperRef:f,style:v,transition:g=!1,slotProps:y={},slots:x={}}=t,w=Ve(t,mQ),[b,j]=B.useState(!0),_=()=>{j(!1)},k=()=>{j(!0)};if(!l&&!u&&(!g||b))return null;let D;if(i)D=i;else if(r){const L=b1(r);D=L&&yQ(L)?Mr(L).body:Mr(null).body}const N=!u&&l&&(!g||b)?"none":void 0,U=g?{in:u,onEnter:_,onExited:k}:void 0;return a.jsx(YS,{disablePortal:A,container:D,children:a.jsx(wQ,z({anchorEl:r,direction:o,disablePortal:A,modifiers:c,ref:n,open:g?!b:u,placement:d,popperOptions:p,popperRef:f,slotProps:y,slots:x},w,{style:z({position:"fixed",top:0,left:0,display:N},v),TransitionProps:U,children:s}))})}),CQ=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],SQ=Te(BQ,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),XS=B.forwardRef(function(t,n){var r;const s=PS(),i=wt({props:t,name:"MuiPopper"}),{anchorEl:o,component:A,components:l,componentsProps:c,container:u,disablePortal:d,keepMounted:p,modifiers:f,open:v,placement:g,popperOptions:y,popperRef:x,transition:w,slots:b,slotProps:j}=i,_=Ve(i,CQ),k=(r=b==null?void 0:b.root)!=null?r:l==null?void 0:l.Root,D=z({anchorEl:o,container:u,disablePortal:d,keepMounted:p,modifiers:f,open:v,placement:g,popperOptions:y,popperRef:x,transition:w},_);return a.jsx(SQ,z({as:A,direction:s==null?void 0:s.direction,slots:{root:k},slotProps:j??c},D,{ref:n}))}),EQ=st(a.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function jQ(e){return at("MuiChip",e)}const Cn=ot("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),IQ=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],FQ=e=>{const{classes:t,disabled:n,size:r,color:s,iconColor:i,onDelete:o,clickable:A,variant:l}=e,c={root:["root",l,n&&"disabled",`size${Ke(r)}`,`color${Ke(s)}`,A&&"clickable",A&&`clickableColor${Ke(s)}`,o&&"deletable",o&&`deletableColor${Ke(s)}`,`${l}${Ke(s)}`],label:["label",`label${Ke(r)}`],avatar:["avatar",`avatar${Ke(r)}`,`avatarColor${Ke(s)}`],icon:["icon",`icon${Ke(r)}`,`iconColor${Ke(i)}`],deleteIcon:["deleteIcon",`deleteIcon${Ke(r)}`,`deleteIconColor${Ke(s)}`,`deleteIcon${Ke(l)}Color${Ke(s)}`]};return lt(c,jQ,t)},kQ=Te("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:r,iconColor:s,clickable:i,onDelete:o,size:A,variant:l}=n;return[{[`& .${Cn.avatar}`]:t.avatar},{[`& .${Cn.avatar}`]:t[`avatar${Ke(A)}`]},{[`& .${Cn.avatar}`]:t[`avatarColor${Ke(r)}`]},{[`& .${Cn.icon}`]:t.icon},{[`& .${Cn.icon}`]:t[`icon${Ke(A)}`]},{[`& .${Cn.icon}`]:t[`iconColor${Ke(s)}`]},{[`& .${Cn.deleteIcon}`]:t.deleteIcon},{[`& .${Cn.deleteIcon}`]:t[`deleteIcon${Ke(A)}`]},{[`& .${Cn.deleteIcon}`]:t[`deleteIconColor${Ke(r)}`]},{[`& .${Cn.deleteIcon}`]:t[`deleteIcon${Ke(l)}Color${Ke(r)}`]},t.root,t[`size${Ke(A)}`],t[`color${Ke(r)}`],i&&t.clickable,i&&r!=="default"&&t[`clickableColor${Ke(r)})`],o&&t.deletable,o&&r!=="default"&&t[`deletableColor${Ke(r)}`],t[l],t[`${l}${Ke(r)}`]]}})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return z({maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Cn.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Cn.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:n,fontSize:e.typography.pxToRem(12)},[`& .${Cn.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${Cn.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${Cn.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${Cn.icon}`]:z({marginLeft:5,marginRight:-6},t.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},t.iconColor===t.color&&z({color:e.vars?e.vars.palette.Chip.defaultIconColor:n},t.color!=="default"&&{color:"inherit"})),[`& .${Cn.deleteIcon}`]:z({WebkitTapHighlightColor:"transparent",color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.26)`:on(e.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:on(e.palette.text.primary,.4)}},t.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},t.color!=="default"&&{color:e.vars?`rgba(${e.vars.palette[t.color].contrastTextChannel} / 0.7)`:on(e.palette[t.color].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].contrastText}})},t.size==="small"&&{height:24},t.color!=="default"&&{backgroundColor:(e.vars||e).palette[t.color].main,color:(e.vars||e).palette[t.color].contrastText},t.onDelete&&{[`&.${Cn.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:on(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},t.onDelete&&t.color!=="default"&&{[`&.${Cn.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}})},({theme:e,ownerState:t})=>z({},t.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:on(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)},[`&.${Cn.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:on(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},"&:active":{boxShadow:(e.vars||e).shadows[1]}},t.clickable&&t.color!=="default"&&{[`&:hover, &.${Cn.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}}),({theme:e,ownerState:t})=>z({},t.variant==="outlined"&&{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${Cn.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${Cn.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${Cn.avatar}`]:{marginLeft:4},[`& .${Cn.avatarSmall}`]:{marginLeft:2},[`& .${Cn.icon}`]:{marginLeft:4},[`& .${Cn.iconSmall}`]:{marginLeft:2},[`& .${Cn.deleteIcon}`]:{marginRight:5},[`& .${Cn.deleteIconSmall}`]:{marginRight:3}},t.variant==="outlined"&&t.color!=="default"&&{color:(e.vars||e).palette[t.color].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:on(e.palette[t.color].main,.7)}`,[`&.${Cn.clickable}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:on(e.palette[t.color].main,e.palette.action.hoverOpacity)},[`&.${Cn.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.focusOpacity})`:on(e.palette[t.color].main,e.palette.action.focusOpacity)},[`& .${Cn.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:on(e.palette[t.color].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].main}}})),NQ=Te("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:r}=n;return[t.label,t[`label${Ke(r)}`]]}})(({ownerState:e})=>z({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},e.variant==="outlined"&&{paddingLeft:11,paddingRight:11},e.size==="small"&&{paddingLeft:8,paddingRight:8},e.size==="small"&&e.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function vw(e){return e.key==="Backspace"||e.key==="Delete"}const Zi=B.forwardRef(function(t,n){const r=wt({props:t,name:"MuiChip"}),{avatar:s,className:i,clickable:o,color:A="default",component:l,deleteIcon:c,disabled:u=!1,icon:d,label:p,onClick:f,onDelete:v,onKeyDown:g,onKeyUp:y,size:x="medium",variant:w="filled",tabIndex:b,skipFocusWhenDisabled:j=!1}=r,_=Ve(r,IQ),k=B.useRef(null),D=Xn(k,n),N=O=>{O.stopPropagation(),v&&v(O)},U=O=>{O.currentTarget===O.target&&vw(O)&&O.preventDefault(),g&&g(O)},L=O=>{O.currentTarget===O.target&&(v&&vw(O)?v(O):O.key==="Escape"&&k.current&&k.current.blur()),y&&y(O)},E=o!==!1&&f?!0:o,I=E||v?Ea:l||"div",T=z({},r,{component:I,disabled:u,size:x,color:A,iconColor:B.isValidElement(d)&&d.props.color||A,onDelete:!!v,clickable:E,variant:w}),P=FQ(T),K=I===Ea?z({component:l||"div",focusVisibleClassName:P.focusVisible},v&&{disableRipple:!0}):{};let Q=null;v&&(Q=c&&B.isValidElement(c)?B.cloneElement(c,{className:Ye(c.props.className,P.deleteIcon),onClick:N}):a.jsx(EQ,{className:Ye(P.deleteIcon),onClick:N}));let F=null;s&&B.isValidElement(s)&&(F=B.cloneElement(s,{className:Ye(P.avatar,s.props.className)}));let $=null;return d&&B.isValidElement(d)&&($=B.cloneElement(d,{className:Ye(P.icon,d.props.className)})),a.jsxs(kQ,z({as:I,className:Ye(P.root,i),disabled:E&&u?!0:void 0,onClick:f,onKeyDown:U,onKeyUp:L,ref:D,tabIndex:j&&u?-1:b,ownerState:T},K,_,{children:[F||$,a.jsx(NQ,{className:Ye(P.label),ownerState:T,children:p}),Q]}))}),_Q=["onChange","maxRows","minRows","style","value"];function If(e){return parseInt(e,10)||0}const TQ={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function UQ(e){for(const t in e)return!1;return!0}function yw(e){return UQ(e)||e.outerHeightStyle===0&&!e.overflowing}const LQ=B.forwardRef(function(t,n){const{onChange:r,maxRows:s,minRows:i=1,style:o,value:A}=t,l=Ve(t,_Q),{current:c}=B.useRef(A!=null),u=B.useRef(null),d=Xn(n,u),p=B.useRef(null),f=B.useRef(null),v=B.useCallback(()=>{const b=u.current,j=f.current;if(!b||!j)return;const k=ao(b).getComputedStyle(b);if(k.width==="0px")return{outerHeightStyle:0,overflowing:!1};j.style.width=k.width,j.value=b.value||t.placeholder||"x",j.value.slice(-1)===`
`&&(j.value+=" ");const D=k.boxSizing,N=If(k.paddingBottom)+If(k.paddingTop),U=If(k.borderBottomWidth)+If(k.borderTopWidth),L=j.scrollHeight;j.value="x";const E=j.scrollHeight;let I=L;i&&(I=Math.max(Number(i)*E,I)),s&&(I=Math.min(Number(s)*E,I)),I=Math.max(I,E);const T=I+(D==="border-box"?N+U:0),P=Math.abs(I-L)<=1;return{outerHeightStyle:T,overflowing:P}},[s,i,t.placeholder]),g=Vt(()=>{const b=u.current,j=v();if(!b||!j||yw(j))return!1;const _=j.outerHeightStyle;return p.current!=null&&p.current!==_}),y=B.useCallback(()=>{const b=u.current,j=v();if(!b||!j||yw(j))return;const _=j.outerHeightStyle;p.current!==_&&(p.current=_,b.style.height=`${_}px`),b.style.overflow=j.overflowing?"hidden":""},[v]),x=B.useRef(-1);ms(()=>{const b=rm(y),j=u==null?void 0:u.current;if(!j)return;const _=ao(j);_.addEventListener("resize",b);let k;return typeof ResizeObserver<"u"&&(k=new ResizeObserver(()=>{g()&&(k.unobserve(j),cancelAnimationFrame(x.current),y(),x.current=requestAnimationFrame(()=>{k.observe(j)}))}),k.observe(j)),()=>{b.clear(),cancelAnimationFrame(x.current),_.removeEventListener("resize",b),k&&k.disconnect()}},[v,y,g]),ms(()=>{y()});const w=b=>{c||y(),r&&r(b)};return a.jsxs(B.Fragment,{children:[a.jsx("textarea",z({value:A,onChange:w,ref:d,rows:i,style:o},l)),a.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:f,tabIndex:-1,style:z({},TQ.shadow,o,{paddingTop:0,paddingBottom:0})})]})});function oA({props:e,states:t,muiFormControl:n}){return t.reduce((r,s)=>(r[s]=e[s],n&&typeof e[s]>"u"&&(r[s]=n[s]),r),{})}const fm=B.createContext(void 0);function ka(){return B.useContext(fm)}function xw(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function tg(e,t=!1){return e&&(xw(e.value)&&e.value!==""||t&&xw(e.defaultValue)&&e.defaultValue!=="")}function DQ(e){return e.startAdornment}function MQ(e){return at("MuiInputBase",e)}const Lc=ot("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),QQ=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],pm=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,n.size==="small"&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${Ke(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},gm=(e,t)=>{const{ownerState:n}=e;return[t.input,n.size==="small"&&t.inputSizeSmall,n.multiline&&t.inputMultiline,n.type==="search"&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},PQ=e=>{const{classes:t,color:n,disabled:r,error:s,endAdornment:i,focused:o,formControl:A,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:d,size:p,startAdornment:f,type:v}=e,g={root:["root",`color${Ke(n)}`,r&&"disabled",s&&"error",l&&"fullWidth",o&&"focused",A&&"formControl",p&&p!=="medium"&&`size${Ke(p)}`,u&&"multiline",f&&"adornedStart",i&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled",v==="search"&&"inputTypeSearch",u&&"inputMultiline",p==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",f&&"inputAdornedStart",i&&"inputAdornedEnd",d&&"readOnly"]};return lt(g,MQ,t)},mm=Te("div",{name:"MuiInputBase",slot:"Root",overridesResolver:pm})(({theme:e,ownerState:t})=>z({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Lc.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&z({padding:"4px 0 5px"},t.size==="small"&&{paddingTop:1}),t.fullWidth&&{width:"100%"})),vm=Te("input",{name:"MuiInputBase",slot:"Input",overridesResolver:gm})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light",r=z({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),s={opacity:"0 !important"},i=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return z({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Lc.formControl} &`]:{"&::-webkit-input-placeholder":s,"&::-moz-placeholder":s,"&:-ms-input-placeholder":s,"&::-ms-input-placeholder":s,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus:-ms-input-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${Lc.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},t.size==="small"&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},t.type==="search"&&{MozAppearance:"textfield"})}),RQ=a.jsx(b4,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Sx=B.forwardRef(function(t,n){var r;const s=wt({props:t,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:o,autoFocus:A,className:l,components:c={},componentsProps:u={},defaultValue:d,disabled:p,disableInjectingGlobalStyles:f,endAdornment:v,fullWidth:g=!1,id:y,inputComponent:x="input",inputProps:w={},inputRef:b,maxRows:j,minRows:_,multiline:k=!1,name:D,onBlur:N,onChange:U,onClick:L,onFocus:E,onKeyDown:I,onKeyUp:T,placeholder:P,readOnly:K,renderSuffix:Q,rows:F,slotProps:$={},slots:O={},startAdornment:H,type:ie="text",value:M}=s,W=Ve(s,QQ),V=w.value!=null?w.value:M,{current:X}=B.useRef(V!=null),Y=B.useRef(),ee=B.useCallback(Ge=>{},[]),ce=Xn(Y,b,w.ref,ee),[Ae,Ee]=B.useState(!1),fe=ka(),we=oA({props:s,muiFormControl:fe,states:["color","disabled","error","hiddenLabel","size","required","filled"]});we.focused=fe?fe.focused:Ae,B.useEffect(()=>{!fe&&p&&Ae&&(Ee(!1),N&&N())},[fe,p,Ae,N]);const de=fe&&fe.onFilled,Be=fe&&fe.onEmpty,pe=B.useCallback(Ge=>{tg(Ge)?de&&de():Be&&Be()},[de,Be]);ms(()=>{X&&pe({value:V})},[V,pe,X]);const se=Ge=>{if(we.disabled){Ge.stopPropagation();return}E&&E(Ge),w.onFocus&&w.onFocus(Ge),fe&&fe.onFocus?fe.onFocus(Ge):Ee(!0)},me=Ge=>{N&&N(Ge),w.onBlur&&w.onBlur(Ge),fe&&fe.onBlur?fe.onBlur(Ge):Ee(!1)},ne=(Ge,..._e)=>{if(!X){const Me=Ge.target||Y.current;if(Me==null)throw new Error(io(1));pe({value:Me.value})}w.onChange&&w.onChange(Ge,..._e),U&&U(Ge,..._e)};B.useEffect(()=>{pe(Y.current)},[]);const ae=Ge=>{Y.current&&Ge.currentTarget===Ge.target&&Y.current.focus(),L&&L(Ge)};let he=x,ge=w;k&&he==="input"&&(F?ge=z({type:void 0,minRows:F,maxRows:F},ge):ge=z({type:void 0,maxRows:j,minRows:_},ge),he=LQ);const Ce=Ge=>{pe(Ge.animationName==="mui-auto-fill-cancel"?Y.current:{value:"x"})};B.useEffect(()=>{fe&&fe.setAdornedStart(!!H)},[fe,H]);const ye=z({},s,{color:we.color||"primary",disabled:we.disabled,endAdornment:v,error:we.error,focused:we.focused,formControl:fe,fullWidth:g,hiddenLabel:we.hiddenLabel,multiline:k,size:we.size,startAdornment:H,type:ie}),Le=PQ(ye),We=O.root||c.Root||mm,De=$.root||u.root||{},$e=O.input||c.Input||vm;return ge=z({},ge,(r=$.input)!=null?r:u.input),a.jsxs(B.Fragment,{children:[!f&&RQ,a.jsxs(We,z({},De,!Sc(We)&&{ownerState:z({},ye,De.ownerState)},{ref:n,onClick:ae},W,{className:Ye(Le.root,De.className,l,K&&"MuiInputBase-readOnly"),children:[H,a.jsx(fm.Provider,{value:null,children:a.jsx($e,z({ownerState:ye,"aria-invalid":we.error,"aria-describedby":i,autoComplete:o,autoFocus:A,defaultValue:d,disabled:we.disabled,id:y,onAnimationStart:Ce,name:D,placeholder:P,readOnly:K,required:we.required,rows:F,value:V,onKeyDown:I,onKeyUp:T,type:ie},ge,!Sc($e)&&{as:he,ownerState:z({},ye,ge.ownerState)},{ref:ce,className:Ye(Le.input,ge.className,K&&"MuiInputBase-readOnly"),onBlur:me,onChange:ne,onFocus:se}))}),v,Q?Q(z({},we,{startAdornment:H})):null]}))]})});function HQ(e){return at("MuiInput",e)}const zu=z({},Lc,ot("MuiInput",["root","underline","input"]));function OQ(e){return at("MuiOutlinedInput",e)}const ko=z({},Lc,ot("MuiOutlinedInput",["root","notchedOutline","input"]));function $Q(e){return at("MuiFilledInput",e)}const vA=z({},Lc,ot("MuiFilledInput",["root","underline","input"])),zQ=st(a.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),WQ=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],KQ={entering:{opacity:1},entered:{opacity:1}},bh=B.forwardRef(function(t,n){const r=Li(),s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:i,appear:o=!0,children:A,easing:l,in:c,onEnter:u,onEntered:d,onEntering:p,onExit:f,onExited:v,onExiting:g,style:y,timeout:x=s,TransitionComponent:w=Mi}=t,b=Ve(t,WQ),j=B.useRef(null),_=Xn(j,YA(A),n),k=P=>K=>{if(P){const Q=j.current;K===void 0?P(Q):P(Q,K)}},D=k(p),N=k((P,K)=>{QS(P);const Q=kc({style:y,timeout:x,easing:l},{mode:"enter"});P.style.webkitTransition=r.transitions.create("opacity",Q),P.style.transition=r.transitions.create("opacity",Q),u&&u(P,K)}),U=k(d),L=k(g),E=k(P=>{const K=kc({style:y,timeout:x,easing:l},{mode:"exit"});P.style.webkitTransition=r.transitions.create("opacity",K),P.style.transition=r.transitions.create("opacity",K),f&&f(P)}),I=k(v),T=P=>{i&&i(j.current,P)};return a.jsx(w,z({appear:o,in:c,nodeRef:j,onEnter:N,onEntered:U,onEntering:D,onExit:E,onExited:I,onExiting:L,addEndListener:T,timeout:x},b,{children:(P,K)=>B.cloneElement(A,z({style:z({opacity:0,visibility:P==="exited"&&!c?"hidden":void 0},KQ[P],y,A.props.style),ref:_},K))}))});function VQ(e){return at("MuiBackdrop",e)}ot("MuiBackdrop",["root","invisible"]);const GQ=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],qQ=e=>{const{classes:t,invisible:n}=e;return lt({root:["root",n&&"invisible"]},VQ,t)},YQ=Te("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})(({ownerState:e})=>z({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"})),JS=B.forwardRef(function(t,n){var r,s,i;const o=wt({props:t,name:"MuiBackdrop"}),{children:A,className:l,component:c="div",components:u={},componentsProps:d={},invisible:p=!1,open:f,slotProps:v={},slots:g={},TransitionComponent:y=bh,transitionDuration:x}=o,w=Ve(o,GQ),b=z({},o,{component:c,invisible:p}),j=qQ(b),_=(r=v.root)!=null?r:d.root;return a.jsx(y,z({in:f,timeout:x},w,{children:a.jsx(YQ,z({"aria-hidden":!0},_,{as:(s=(i=g.root)!=null?i:u.Root)!=null?s:c,className:Ye(j.root,l,_==null?void 0:_.className),ownerState:z({},b,_==null?void 0:_.ownerState),classes:j,ref:n,children:A}))}))}),XQ=ot("MuiBox",["root"]),JQ=zy(),Ue=bN({themeId:PA,defaultTheme:JQ,defaultClassName:XQ.root,generateClassName:$5.generate});function ZQ(e){return at("MuiButton",e)}const Ff=ot("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),eP=B.createContext({}),tP=B.createContext(void 0),nP=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],rP=e=>{const{color:t,disableElevation:n,fullWidth:r,size:s,variant:i,classes:o}=e,A={root:["root",i,`${i}${Ke(t)}`,`size${Ke(s)}`,`${i}Size${Ke(s)}`,`color${Ke(t)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${Ke(s)}`],endIcon:["icon","endIcon",`iconSize${Ke(s)}`]},l=lt(A,ZQ,o);return z({},o,l)},ZS=e=>z({},e.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},e.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},e.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),sP=Te(Ea,{shouldForwardProp:e=>Ws(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${Ke(n.color)}`],t[`size${Ke(n.size)}`],t[`${n.variant}Size${Ke(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(({theme:e,ownerState:t})=>{var n,r;const s=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],i=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return z({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":z({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:on(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="text"&&t.color!=="inherit"&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:on(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="outlined"&&t.color!=="inherit"&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:on(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="contained"&&{backgroundColor:e.vars?e.vars.palette.Button.inheritContainedHoverBg:i,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},t.variant==="contained"&&t.color!=="inherit"&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":z({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${Ff.focusVisible}`]:z({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${Ff.disabled}`]:z({color:(e.vars||e).palette.action.disabled},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},t.variant==="contained"&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},t.variant==="text"&&{padding:"6px 8px"},t.variant==="text"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main},t.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},t.variant==="outlined"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${on(e.palette[t.color].main,.5)}`},t.variant==="contained"&&{color:e.vars?e.vars.palette.text.primary:(n=(r=e.palette).getContrastText)==null?void 0:n.call(r,e.palette.grey[300]),backgroundColor:e.vars?e.vars.palette.Button.inheritContainedBg:s,boxShadow:(e.vars||e).shadows[2]},t.variant==="contained"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},t.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},t.size==="small"&&t.variant==="text"&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="text"&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="outlined"&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="outlined"&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="contained"&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="contained"&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Ff.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Ff.disabled}`]:{boxShadow:"none"}}),iP=Te("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${Ke(n.size)}`]]}})(({ownerState:e})=>z({display:"inherit",marginRight:8,marginLeft:-4},e.size==="small"&&{marginLeft:-2},ZS(e))),aP=Te("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${Ke(n.size)}`]]}})(({ownerState:e})=>z({display:"inherit",marginRight:-4,marginLeft:8},e.size==="small"&&{marginRight:-2},ZS(e))),jt=B.forwardRef(function(t,n){const r=B.useContext(eP),s=B.useContext(tP),i=Od(r,t),o=wt({props:i,name:"MuiButton"}),{children:A,color:l="primary",component:c="button",className:u,disabled:d=!1,disableElevation:p=!1,disableFocusRipple:f=!1,endIcon:v,focusVisibleClassName:g,fullWidth:y=!1,size:x="medium",startIcon:w,type:b,variant:j="text"}=o,_=Ve(o,nP),k=z({},o,{color:l,component:c,disabled:d,disableElevation:p,disableFocusRipple:f,fullWidth:y,size:x,type:b,variant:j}),D=rP(k),N=w&&a.jsx(iP,{className:D.startIcon,ownerState:k,children:w}),U=v&&a.jsx(aP,{className:D.endIcon,ownerState:k,children:v}),L=s||"";return a.jsxs(sP,z({ownerState:k,className:Ye(r.className,D.root,u,L),component:c,disabled:d,focusRipple:!f,focusVisibleClassName:Ye(D.focusVisible,g),ref:n,type:b},_,{classes:D,children:[N,A,U]}))});function oP(e){return at("MuiCard",e)}ot("MuiCard",["root"]);const AP=["className","raised"],lP=e=>{const{classes:t}=e;return lt({root:["root"]},oP,t)},cP=Te(Wn,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),An=B.forwardRef(function(t,n){const r=wt({props:t,name:"MuiCard"}),{className:s,raised:i=!1}=r,o=Ve(r,AP),A=z({},r,{raised:i}),l=lP(A);return a.jsx(cP,z({className:Ye(l.root,s),elevation:i?8:void 0,ref:n,ownerState:A},o))});function uP(e){return at("MuiCardActions",e)}ot("MuiCardActions",["root","spacing"]);const dP=["disableSpacing","className"],hP=e=>{const{classes:t,disableSpacing:n}=e;return lt({root:["root",!n&&"spacing"]},uP,t)},fP=Te("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})(({ownerState:e})=>z({display:"flex",alignItems:"center",padding:8},!e.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),pP=B.forwardRef(function(t,n){const r=wt({props:t,name:"MuiCardActions"}),{disableSpacing:s=!1,className:i}=r,o=Ve(r,dP),A=z({},r,{disableSpacing:s}),l=hP(A);return a.jsx(fP,z({className:Ye(l.root,i),ownerState:A,ref:n},o))});function gP(e){return at("MuiCardContent",e)}ot("MuiCardContent",["root"]);const mP=["className","component"],vP=e=>{const{classes:t}=e;return lt({root:["root"]},gP,t)},yP=Te("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),ln=B.forwardRef(function(t,n){const r=wt({props:t,name:"MuiCardContent"}),{className:s,component:i="div"}=r,o=Ve(r,mP),A=z({},r,{component:i}),l=vP(A);return a.jsx(yP,z({as:i,className:Ye(l.root,s),ownerState:A,ref:n},o))});function xP(e){return at("PrivateSwitchBase",e)}ot("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const bP=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],wP=e=>{const{classes:t,checked:n,disabled:r,edge:s}=e,i={root:["root",n&&"checked",r&&"disabled",s&&`edge${Ke(s)}`],input:["input"]};return lt(i,xP,t)},BP=Te(Ea,{name:"MuiSwitchBase"})(({ownerState:e})=>z({padding:9,borderRadius:"50%"},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12})),CP=Te("input",{name:"MuiSwitchBase",shouldForwardProp:Ws})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),eE=B.forwardRef(function(t,n){const{autoFocus:r,checked:s,checkedIcon:i,className:o,defaultChecked:A,disabled:l,disableFocusRipple:c=!1,edge:u=!1,icon:d,id:p,inputProps:f,inputRef:v,name:g,onBlur:y,onChange:x,onFocus:w,readOnly:b,required:j=!1,tabIndex:_,type:k,value:D}=t,N=Ve(t,bP),[U,L]=Sa({controlled:s,default:!!A,name:"SwitchBase",state:"checked"}),E=ka(),I=O=>{w&&w(O),E&&E.onFocus&&E.onFocus(O)},T=O=>{y&&y(O),E&&E.onBlur&&E.onBlur(O)},P=O=>{if(O.nativeEvent.defaultPrevented)return;const H=O.target.checked;L(H),x&&x(O,H)};let K=l;E&&typeof K>"u"&&(K=E.disabled);const Q=k==="checkbox"||k==="radio",F=z({},t,{checked:U,disabled:K,disableFocusRipple:c,edge:u}),$=wP(F);return a.jsxs(BP,z({component:"span",className:Ye($.root,o),centerRipple:!0,focusRipple:!c,disabled:K,tabIndex:null,role:void 0,onFocus:I,onBlur:T,ownerState:F,ref:n},N,{children:[a.jsx(CP,z({autoFocus:r,checked:s,defaultChecked:A,className:$.input,disabled:K,id:Q?p:void 0,name:g,onChange:P,readOnly:b,ref:v,required:j,ownerState:F,tabIndex:_,type:k},k==="checkbox"&&D===void 0?{}:{value:D},f)),U?i:d]}))}),SP=st(a.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),EP=st(a.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),jP=st(a.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function IP(e){return at("MuiCheckbox",e)}const Y0=ot("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),FP=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],kP=e=>{const{classes:t,indeterminate:n,color:r,size:s}=e,i={root:["root",n&&"indeterminate",`color${Ke(r)}`,`size${Ke(s)}`]},o=lt(i,IP,t);return z({},t,o)},NP=Te(eE,{shouldForwardProp:e=>Ws(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,t[`size${Ke(n.size)}`],n.color!=="default"&&t[`color${Ke(n.color)}`]]}})(({theme:e,ownerState:t})=>z({color:(e.vars||e).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${t.color==="default"?e.vars.palette.action.activeChannel:e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:on(t.color==="default"?e.palette.action.active:e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${Y0.checked}, &.${Y0.indeterminate}`]:{color:(e.vars||e).palette[t.color].main},[`&.${Y0.disabled}`]:{color:(e.vars||e).palette.action.disabled}})),_P=a.jsx(EP,{}),TP=a.jsx(SP,{}),UP=a.jsx(jP,{}),CA=B.forwardRef(function(t,n){var r,s;const i=wt({props:t,name:"MuiCheckbox"}),{checkedIcon:o=_P,color:A="primary",icon:l=TP,indeterminate:c=!1,indeterminateIcon:u=UP,inputProps:d,size:p="medium",className:f}=i,v=Ve(i,FP),g=c?u:l,y=c?u:o,x=z({},i,{color:A,indeterminate:c,size:p}),w=kP(x);return a.jsx(NP,z({type:"checkbox",inputProps:z({"data-indeterminate":c},d),icon:B.cloneElement(g,{fontSize:(r=g.props.fontSize)!=null?r:p}),checkedIcon:B.cloneElement(y,{fontSize:(s=y.props.fontSize)!=null?s:p}),ownerState:x,ref:n,className:Ye(w.root,f)},v,{classes:w}))});function LP(e){return at("MuiCircularProgress",e)}ot("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const DP=["className","color","disableShrink","size","style","thickness","value","variant"];let ym=e=>e,bw,ww,Bw,Cw;const No=44,MP=po(bw||(bw=ym`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),QP=po(ww||(ww=ym`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),PP=e=>{const{classes:t,variant:n,color:r,disableShrink:s}=e,i={root:["root",n,`color${Ke(r)}`],svg:["svg"],circle:["circle",`circle${Ke(n)}`,s&&"circleDisableShrink"]};return lt(i,LP,t)},RP=Te("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${Ke(n.color)}`]]}})(({ownerState:e,theme:t})=>z({display:"inline-block"},e.variant==="determinate"&&{transition:t.transitions.create("transform")},e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main}),({ownerState:e})=>e.variant==="indeterminate"&&qA(Bw||(Bw=ym`
      animation: ${0} 1.4s linear infinite;
    `),MP)),HP=Te("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),OP=Te("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${Ke(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(({ownerState:e,theme:t})=>z({stroke:"currentColor"},e.variant==="determinate"&&{transition:t.transitions.create("stroke-dashoffset")},e.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink&&qA(Cw||(Cw=ym`
      animation: ${0} 1.4s ease-in-out infinite;
    `),QP)),Dr=B.forwardRef(function(t,n){const r=wt({props:t,name:"MuiCircularProgress"}),{className:s,color:i="primary",disableShrink:o=!1,size:A=40,style:l,thickness:c=3.6,value:u=0,variant:d="indeterminate"}=r,p=Ve(r,DP),f=z({},r,{color:i,disableShrink:o,size:A,thickness:c,value:u,variant:d}),v=PP(f),g={},y={},x={};if(d==="determinate"){const w=2*Math.PI*((No-c)/2);g.strokeDasharray=w.toFixed(3),x["aria-valuenow"]=Math.round(u),g.strokeDashoffset=`${((100-u)/100*w).toFixed(3)}px`,y.transform="rotate(-90deg)"}return a.jsx(RP,z({className:Ye(v.root,s),style:z({width:A,height:A},y,l),ownerState:f,ref:n,role:"progressbar"},x,p,{children:a.jsx(HP,{className:v.svg,ownerState:f,viewBox:`${No/2} ${No/2} ${No} ${No}`,children:a.jsx(OP,{className:v.circle,style:g,ownerState:f,cx:No,cy:No,r:(No-c)/2,fill:"none",strokeWidth:c})})}))});function Sw(e){return e.substring(2).toLowerCase()}function $P(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function zP(e){const{children:t,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:s,touchEvent:i="onTouchEnd"}=e,o=B.useRef(!1),A=B.useRef(null),l=B.useRef(!1),c=B.useRef(!1);B.useEffect(()=>(setTimeout(()=>{l.current=!0},0),()=>{l.current=!1}),[]);const u=Xn(YA(t),A),d=Vt(v=>{const g=c.current;c.current=!1;const y=Mr(A.current);if(!l.current||!A.current||"clientX"in v&&$P(v,y))return;if(o.current){o.current=!1;return}let x;v.composedPath?x=v.composedPath().indexOf(A.current)>-1:x=!y.documentElement.contains(v.target)||A.current.contains(v.target),!x&&(n||!g)&&s(v)}),p=v=>g=>{c.current=!0;const y=t.props[v];y&&y(g)},f={ref:u};return i!==!1&&(f[i]=p(i)),B.useEffect(()=>{if(i!==!1){const v=Sw(i),g=Mr(A.current),y=()=>{o.current=!0};return g.addEventListener(v,d),g.addEventListener("touchmove",y),()=>{g.removeEventListener(v,d),g.removeEventListener("touchmove",y)}}},[d,i]),r!==!1&&(f[r]=p(r)),B.useEffect(()=>{if(r!==!1){const v=Sw(r),g=Mr(A.current);return g.addEventListener(v,d),()=>{g.removeEventListener(v,d)}}},[d,r]),a.jsx(B.Fragment,{children:B.cloneElement(t,f)})}const jd=x_({createStyledComponent:Te("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${Ke(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>wt({props:e,name:"MuiContainer"})});function WP(e){const t=Mr(e);return t.body===e?ao(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function Id(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Ew(e){return parseInt(ao(e).getComputedStyle(e).paddingRight,10)||0}function KP(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName)!==-1,r=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||r}function jw(e,t,n,r,s){const i=[t,n,...r];[].forEach.call(e.children,o=>{const A=i.indexOf(o)===-1,l=!KP(o);A&&l&&Id(o,s)})}function X0(e,t){let n=-1;return e.some((r,s)=>t(r)?(n=s,!0):!1),n}function VP(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(WP(r)){const o=e4(Mr(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${Ew(r)+o}px`;const A=Mr(r).querySelectorAll(".mui-fixed");[].forEach.call(A,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${Ew(l)+o}px`})}let i;if(r.parentNode instanceof DocumentFragment)i=Mr(r).body;else{const o=r.parentElement,A=ao(r);i=(o==null?void 0:o.nodeName)==="HTML"&&A.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:i.style.overflow,property:"overflow",el:i},{value:i.style.overflowX,property:"overflow-x",el:i},{value:i.style.overflowY,property:"overflow-y",el:i}),i.style.overflow="hidden"}return()=>{n.forEach(({value:i,el:o,property:A})=>{i?o.style.setProperty(A,i):o.style.removeProperty(A)})}}function GP(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class qP{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(t,n){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&Id(t.modalRef,!1);const s=GP(n);jw(n,t.mount,t.modalRef,s,!0);const i=X0(this.containers,o=>o.container===n);return i!==-1?(this.containers[i].modals.push(t),r):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:s}),r)}mount(t,n){const r=X0(this.containers,i=>i.modals.indexOf(t)!==-1),s=this.containers[r];s.restore||(s.restore=VP(s,n))}remove(t,n=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const s=X0(this.containers,o=>o.modals.indexOf(t)!==-1),i=this.containers[s];if(i.modals.splice(i.modals.indexOf(t),1),this.modals.splice(r,1),i.modals.length===0)i.restore&&i.restore(),t.modalRef&&Id(t.modalRef,n),jw(i.container,t.mount,t.modalRef,i.hiddenSiblings,!1),this.containers.splice(s,1);else{const o=i.modals[i.modals.length-1];o.modalRef&&Id(o.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const YP=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function XP(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function JP(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=r=>e.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function ZP(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||JP(e))}function eR(e){const t=[],n=[];return Array.from(e.querySelectorAll(YP)).forEach((r,s)=>{const i=XP(r);i===-1||!ZP(r)||(i===0?t.push(r):n.push({documentOrder:s,tabIndex:i,node:r}))}),n.sort((r,s)=>r.tabIndex===s.tabIndex?r.documentOrder-s.documentOrder:r.tabIndex-s.tabIndex).map(r=>r.node).concat(t)}function tR(){return!0}function nR(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:s=!1,getTabbable:i=eR,isEnabled:o=tR,open:A}=e,l=B.useRef(!1),c=B.useRef(null),u=B.useRef(null),d=B.useRef(null),p=B.useRef(null),f=B.useRef(!1),v=B.useRef(null),g=Xn(YA(t),v),y=B.useRef(null);B.useEffect(()=>{!A||!v.current||(f.current=!n)},[n,A]),B.useEffect(()=>{if(!A||!v.current)return;const b=Mr(v.current);return v.current.contains(b.activeElement)||(v.current.hasAttribute("tabIndex")||v.current.setAttribute("tabIndex","-1"),f.current&&v.current.focus()),()=>{s||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[A]),B.useEffect(()=>{if(!A||!v.current)return;const b=Mr(v.current),j=D=>{y.current=D,!(r||!o()||D.key!=="Tab")&&b.activeElement===v.current&&D.shiftKey&&(l.current=!0,u.current&&u.current.focus())},_=()=>{const D=v.current;if(D===null)return;if(!b.hasFocus()||!o()||l.current){l.current=!1;return}if(D.contains(b.activeElement)||r&&b.activeElement!==c.current&&b.activeElement!==u.current)return;if(b.activeElement!==p.current)p.current=null;else if(p.current!==null)return;if(!f.current)return;let N=[];if((b.activeElement===c.current||b.activeElement===u.current)&&(N=i(v.current)),N.length>0){var U,L;const E=!!((U=y.current)!=null&&U.shiftKey&&((L=y.current)==null?void 0:L.key)==="Tab"),I=N[0],T=N[N.length-1];typeof I!="string"&&typeof T!="string"&&(E?T.focus():I.focus())}else D.focus()};b.addEventListener("focusin",_),b.addEventListener("keydown",j,!0);const k=setInterval(()=>{b.activeElement&&b.activeElement.tagName==="BODY"&&_()},50);return()=>{clearInterval(k),b.removeEventListener("focusin",_),b.removeEventListener("keydown",j,!0)}},[n,r,s,o,A,i]);const x=b=>{d.current===null&&(d.current=b.relatedTarget),f.current=!0,p.current=b.target;const j=t.props.onFocus;j&&j(b)},w=b=>{d.current===null&&(d.current=b.relatedTarget),f.current=!0};return a.jsxs(B.Fragment,{children:[a.jsx("div",{tabIndex:A?0:-1,onFocus:w,ref:c,"data-testid":"sentinelStart"}),B.cloneElement(t,{ref:g,onFocus:x}),a.jsx("div",{tabIndex:A?0:-1,onFocus:w,ref:u,"data-testid":"sentinelEnd"})]})}function rR(e){return typeof e=="function"?e():e}function sR(e){return e?e.props.hasOwnProperty("in"):!1}const iR=new qP;function aR(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:s=iR,closeAfterTransition:i=!1,onTransitionEnter:o,onTransitionExited:A,children:l,onClose:c,open:u,rootRef:d}=e,p=B.useRef({}),f=B.useRef(null),v=B.useRef(null),g=Xn(v,d),[y,x]=B.useState(!u),w=sR(l);let b=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(b=!1);const j=()=>Mr(f.current),_=()=>(p.current.modalRef=v.current,p.current.mount=f.current,p.current),k=()=>{s.mount(_(),{disableScrollLock:r}),v.current&&(v.current.scrollTop=0)},D=Vt(()=>{const Q=rR(t)||j().body;s.add(_(),Q),v.current&&k()}),N=B.useCallback(()=>s.isTopModal(_()),[s]),U=Vt(Q=>{f.current=Q,Q&&(u&&N()?k():v.current&&Id(v.current,b))}),L=B.useCallback(()=>{s.remove(_(),b)},[b,s]);B.useEffect(()=>()=>{L()},[L]),B.useEffect(()=>{u?D():(!w||!i)&&L()},[u,L,w,i,D]);const E=Q=>F=>{var $;($=Q.onKeyDown)==null||$.call(Q,F),!(F.key!=="Escape"||F.which===229||!N())&&(n||(F.stopPropagation(),c&&c(F,"escapeKeyDown")))},I=Q=>F=>{var $;($=Q.onClick)==null||$.call(Q,F),F.target===F.currentTarget&&c&&c(F,"backdropClick")};return{getRootProps:(Q={})=>{const F=Pp(e);delete F.onTransitionEnter,delete F.onTransitionExited;const $=z({},F,Q);return z({role:"presentation"},$,{onKeyDown:E($),ref:g})},getBackdropProps:(Q={})=>{const F=Q;return z({"aria-hidden":!0},F,{onClick:I(F),open:u})},getTransitionProps:()=>{const Q=()=>{x(!1),o&&o()},F=()=>{x(!0),A&&A(),i&&L()};return{onEnter:Jb(Q,l==null?void 0:l.props.onEnter),onExited:Jb(F,l==null?void 0:l.props.onExited)}},rootRef:g,portalRef:U,isTopModal:N,exited:y,hasTransition:w}}function oR(e){return at("MuiModal",e)}ot("MuiModal",["root","hidden","backdrop"]);const AR=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],lR=e=>{const{open:t,exited:n,classes:r}=e;return lt({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},oR,r)},cR=Te("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(({theme:e,ownerState:t})=>z({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"})),uR=Te(JS,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),tE=B.forwardRef(function(t,n){var r,s,i,o,A,l;const c=wt({name:"MuiModal",props:t}),{BackdropComponent:u=uR,BackdropProps:d,className:p,closeAfterTransition:f=!1,children:v,container:g,component:y,components:x={},componentsProps:w={},disableAutoFocus:b=!1,disableEnforceFocus:j=!1,disableEscapeKeyDown:_=!1,disablePortal:k=!1,disableRestoreFocus:D=!1,disableScrollLock:N=!1,hideBackdrop:U=!1,keepMounted:L=!1,onBackdropClick:E,open:I,slotProps:T,slots:P}=c,K=Ve(c,AR),Q=z({},c,{closeAfterTransition:f,disableAutoFocus:b,disableEnforceFocus:j,disableEscapeKeyDown:_,disablePortal:k,disableRestoreFocus:D,disableScrollLock:N,hideBackdrop:U,keepMounted:L}),{getRootProps:F,getBackdropProps:$,getTransitionProps:O,portalRef:H,isTopModal:ie,exited:M,hasTransition:W}=aR(z({},Q,{rootRef:n})),V=z({},Q,{exited:M}),X=lR(V),Y={};if(v.props.tabIndex===void 0&&(Y.tabIndex="-1"),W){const{onEnter:de,onExited:Be}=O();Y.onEnter=de,Y.onExited=Be}const ee=(r=(s=P==null?void 0:P.root)!=null?s:x.Root)!=null?r:cR,ce=(i=(o=P==null?void 0:P.backdrop)!=null?o:x.Backdrop)!=null?i:u,Ae=(A=T==null?void 0:T.root)!=null?A:w.root,Ee=(l=T==null?void 0:T.backdrop)!=null?l:w.backdrop,fe=Ii({elementType:ee,externalSlotProps:Ae,externalForwardedProps:K,getSlotProps:F,additionalProps:{ref:n,as:y},ownerState:V,className:Ye(p,Ae==null?void 0:Ae.className,X==null?void 0:X.root,!V.open&&V.exited&&(X==null?void 0:X.hidden))}),we=Ii({elementType:ce,externalSlotProps:Ee,additionalProps:d,getSlotProps:de=>$(z({},de,{onClick:Be=>{E&&E(Be),de!=null&&de.onClick&&de.onClick(Be)}})),className:Ye(Ee==null?void 0:Ee.className,d==null?void 0:d.className,X==null?void 0:X.backdrop),ownerState:V});return!L&&!I&&(!W||M)?null:a.jsx(YS,{ref:H,container:g,disablePortal:k,children:a.jsxs(ee,z({},fe,{children:[!U&&u?a.jsx(ce,z({},we)):null,a.jsx(nR,{disableEnforceFocus:j,disableAutoFocus:b,disableRestoreFocus:D,isEnabled:ie,open:I,children:B.cloneElement(v,Y)})]}))})});function dR(e){return at("MuiDialog",e)}const J0=ot("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),nE=B.createContext({}),hR=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],fR=Te(JS,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),pR=e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:s,fullScreen:i}=e,o={root:["root"],container:["container",`scroll${Ke(n)}`],paper:["paper",`paperScroll${Ke(n)}`,`paperWidth${Ke(String(r))}`,s&&"paperFullWidth",i&&"paperFullScreen"]};return lt(o,dR,t)},gR=Te(tE,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),mR=Te("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${Ke(n.scroll)}`]]}})(({ownerState:e})=>z({height:"100%","@media print":{height:"auto"},outline:0},e.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},e.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),vR=Te(Wn,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${Ke(n.scroll)}`],t[`paperWidth${Ke(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})(({theme:e,ownerState:t})=>z({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},t.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},t.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!t.maxWidth&&{maxWidth:"calc(100% - 64px)"},t.maxWidth==="xs"&&{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${J0.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.maxWidth&&t.maxWidth!=="xs"&&{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`,[`&.${J0.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.fullWidth&&{width:"calc(100% - 64px)"},t.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${J0.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),ba=B.forwardRef(function(t,n){const r=wt({props:t,name:"MuiDialog"}),s=Li(),i={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":A,BackdropComponent:l,BackdropProps:c,children:u,className:d,disableEscapeKeyDown:p=!1,fullScreen:f=!1,fullWidth:v=!1,maxWidth:g="sm",onBackdropClick:y,onClick:x,onClose:w,open:b,PaperComponent:j=Wn,PaperProps:_={},scroll:k="paper",TransitionComponent:D=bh,transitionDuration:N=i,TransitionProps:U}=r,L=Ve(r,hR),E=z({},r,{disableEscapeKeyDown:p,fullScreen:f,fullWidth:v,maxWidth:g,scroll:k}),I=pR(E),T=B.useRef(),P=$=>{T.current=$.target===$.currentTarget},K=$=>{x&&x($),T.current&&(T.current=null,y&&y($),w&&w($,"backdropClick"))},Q=qc(A),F=B.useMemo(()=>({titleId:Q}),[Q]);return a.jsx(gR,z({className:Ye(I.root,d),closeAfterTransition:!0,components:{Backdrop:fR},componentsProps:{backdrop:z({transitionDuration:N,as:l},c)},disableEscapeKeyDown:p,onClose:w,open:b,ref:n,onClick:K,ownerState:E},L,{children:a.jsx(D,z({appear:!0,in:b,timeout:N,role:"presentation"},U,{children:a.jsx(mR,{className:Ye(I.container),onMouseDown:P,ownerState:E,children:a.jsx(vR,z({as:j,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":Q},_,{className:Ye(I.paper,_.className),ownerState:E,children:a.jsx(nE.Provider,{value:F,children:u})}))})}))}))});function yR(e){return at("MuiDialogActions",e)}ot("MuiDialogActions",["root","spacing"]);const xR=["className","disableSpacing"],bR=e=>{const{classes:t,disableSpacing:n}=e;return lt({root:["root",!n&&"spacing"]},yR,t)},wR=Te("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})(({ownerState:e})=>z({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),eo=B.forwardRef(function(t,n){const r=wt({props:t,name:"MuiDialogActions"}),{className:s,disableSpacing:i=!1}=r,o=Ve(r,xR),A=z({},r,{disableSpacing:i}),l=bR(A);return a.jsx(wR,z({className:Ye(l.root,s),ownerState:A,ref:n},o))});function BR(e){return at("MuiDialogContent",e)}ot("MuiDialogContent",["root","dividers"]);function CR(e){return at("MuiDialogTitle",e)}const SR=ot("MuiDialogTitle",["root"]),ER=["className","dividers"],jR=e=>{const{classes:t,dividers:n}=e;return lt({root:["root",n&&"dividers"]},BR,t)},IR=Te("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(({theme:e,ownerState:t})=>z({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${SR.root} + &`]:{paddingTop:0}})),wa=B.forwardRef(function(t,n){const r=wt({props:t,name:"MuiDialogContent"}),{className:s,dividers:i=!1}=r,o=Ve(r,ER),A=z({},r,{dividers:i}),l=jR(A);return a.jsx(IR,z({className:Ye(l.root,s),ownerState:A,ref:n},o))}),FR=["className","id"],kR=e=>{const{classes:t}=e;return lt({root:["root"]},CR,t)},NR=Te(le,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),to=B.forwardRef(function(t,n){const r=wt({props:t,name:"MuiDialogTitle"}),{className:s,id:i}=r,o=Ve(r,FR),A=r,l=kR(A),{titleId:c=i}=B.useContext(nE);return a.jsx(NR,z({component:"h2",className:Ye(l.root,s),ownerState:A,ref:n,variant:"h6",id:i??c},o))});function _R(e){return at("MuiDivider",e)}const Iw=ot("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),TR=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],UR=e=>{const{absolute:t,children:n,classes:r,flexItem:s,light:i,orientation:o,textAlign:A,variant:l}=e;return lt({root:["root",t&&"absolute",l,i&&"light",o==="vertical"&&"vertical",s&&"flexItem",n&&"withChildren",n&&o==="vertical"&&"withChildrenVertical",A==="right"&&o!=="vertical"&&"textAlignRight",A==="left"&&o!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",o==="vertical"&&"wrapperVertical"]},_R,r)},LR=Te("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,n.orientation==="vertical"&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&n.orientation==="vertical"&&t.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&t.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&t.textAlignLeft]}})(({theme:e,ownerState:t})=>z({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:on(e.palette.divider,.08)},t.variant==="inset"&&{marginLeft:72},t.variant==="middle"&&t.orientation==="horizontal"&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},t.variant==="middle"&&t.orientation==="vertical"&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},t.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:e})=>z({},e.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:e,ownerState:t})=>z({},t.children&&t.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,borderTopStyle:"inherit"}}),({theme:e,ownerState:t})=>z({},t.children&&t.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`,borderLeftStyle:"inherit"}}),({ownerState:e})=>z({},e.textAlign==="right"&&e.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},e.textAlign==="left"&&e.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),DR=Te("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,n.orientation==="vertical"&&t.wrapperVertical]}})(({theme:e,ownerState:t})=>z({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`},t.orientation==="vertical"&&{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`})),xi=B.forwardRef(function(t,n){const r=wt({props:t,name:"MuiDivider"}),{absolute:s=!1,children:i,className:o,component:A=i?"div":"hr",flexItem:l=!1,light:c=!1,orientation:u="horizontal",role:d=A!=="hr"?"separator":void 0,textAlign:p="center",variant:f="fullWidth"}=r,v=Ve(r,TR),g=z({},r,{absolute:s,component:A,flexItem:l,light:c,orientation:u,role:d,textAlign:p,variant:f}),y=UR(g);return a.jsx(LR,z({as:A,className:Ye(y.root,o),role:d,ref:n,ownerState:g},v,{children:i?a.jsx(DR,{className:y.wrapper,ownerState:g,children:i}):null}))});xi.muiSkipListHighlight=!0;const MR=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],QR=e=>{const{classes:t,disableUnderline:n}=e,s=lt({root:["root",!n&&"underline"],input:["input"]},$Q,t);return z({},t,s)},PR=Te(mm,{shouldForwardProp:e=>Ws(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...pm(e,t),!n.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{var n;const r=e.palette.mode==="light",s=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",A=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return z({position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:i,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:i}},[`&.${vA.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:i},[`&.${vA.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:A}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(e.vars||e).palette[t.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${vA.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${vA.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:s}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${vA.disabled}, .${vA.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${vA.disabled}:before`]:{borderBottomStyle:"dotted"}},t.startAdornment&&{paddingLeft:12},t.endAdornment&&{paddingRight:12},t.multiline&&z({padding:"25px 12px 8px"},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9}))}),RR=Te(vm,{name:"MuiFilledInput",slot:"Input",overridesResolver:gm})(({theme:e,ownerState:t})=>z({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9},t.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),Ex=B.forwardRef(function(t,n){var r,s,i,o;const A=wt({props:t,name:"MuiFilledInput"}),{components:l={},componentsProps:c,fullWidth:u=!1,inputComponent:d="input",multiline:p=!1,slotProps:f,slots:v={},type:g="text"}=A,y=Ve(A,MR),x=z({},A,{fullWidth:u,inputComponent:d,multiline:p,type:g}),w=QR(A),b={root:{ownerState:x},input:{ownerState:x}},j=f??c?Es(b,f??c):b,_=(r=(s=v.root)!=null?s:l.Root)!=null?r:PR,k=(i=(o=v.input)!=null?o:l.Input)!=null?i:RR;return a.jsx(Sx,z({slots:{root:_,input:k},componentsProps:j,fullWidth:u,inputComponent:d,multiline:p,ref:n,type:g},y,{classes:w}))});Ex.muiName="Input";function HR(e){return at("MuiFormControl",e)}ot("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const OR=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],$R=e=>{const{classes:t,margin:n,fullWidth:r}=e,s={root:["root",n!=="none"&&`margin${Ke(n)}`,r&&"fullWidth"]};return lt(s,HR,t)},zR=Te("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:e},t)=>z({},t.root,t[`margin${Ke(e.margin)}`],e.fullWidth&&t.fullWidth)})(({ownerState:e})=>z({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},e.margin==="normal"&&{marginTop:16,marginBottom:8},e.margin==="dense"&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"})),Ba=B.forwardRef(function(t,n){const r=wt({props:t,name:"MuiFormControl"}),{children:s,className:i,color:o="primary",component:A="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:d=!1,hiddenLabel:p=!1,margin:f="none",required:v=!1,size:g="medium",variant:y="outlined"}=r,x=Ve(r,OR),w=z({},r,{color:o,component:A,disabled:l,error:c,fullWidth:d,hiddenLabel:p,margin:f,required:v,size:g,variant:y}),b=$R(w),[j,_]=B.useState(()=>{let T=!1;return s&&B.Children.forEach(s,P=>{if(!yp(P,["Input","Select"]))return;const K=yp(P,["Select"])?P.props.input:P;K&&DQ(K.props)&&(T=!0)}),T}),[k,D]=B.useState(()=>{let T=!1;return s&&B.Children.forEach(s,P=>{yp(P,["Input","Select"])&&(tg(P.props,!0)||tg(P.props.inputProps,!0))&&(T=!0)}),T}),[N,U]=B.useState(!1);l&&N&&U(!1);const L=u!==void 0&&!l?u:N;let E;const I=B.useMemo(()=>({adornedStart:j,setAdornedStart:_,color:o,disabled:l,error:c,filled:k,focused:L,fullWidth:d,hiddenLabel:p,size:g,onBlur:()=>{U(!1)},onEmpty:()=>{D(!1)},onFilled:()=>{D(!0)},onFocus:()=>{U(!0)},registerEffect:E,required:v,variant:y}),[j,o,l,c,k,L,d,p,E,v,g,y]);return a.jsx(fm.Provider,{value:I,children:a.jsx(zR,z({as:A,ownerState:w,className:Ye(b.root,i),ref:n},x,{children:s}))})}),Kl=I_({createStyledComponent:Te("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>wt({props:e,name:"MuiStack"})});function WR(e){return at("MuiFormControlLabel",e)}const ud=ot("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),KR=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],VR=e=>{const{classes:t,disabled:n,labelPlacement:r,error:s,required:i}=e,o={root:["root",n&&"disabled",`labelPlacement${Ke(r)}`,s&&"error",i&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",s&&"error"]};return lt(o,WR,t)},GR=Te("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${ud.label}`]:t.label},t.root,t[`labelPlacement${Ke(n.labelPlacement)}`]]}})(({theme:e,ownerState:t})=>z({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${ud.disabled}`]:{cursor:"default"}},t.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},t.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},t.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${ud.label}`]:{[`&.${ud.disabled}`]:{color:(e.vars||e).palette.text.disabled}}})),qR=Te("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${ud.error}`]:{color:(e.vars||e).palette.error.main}})),Zr=B.forwardRef(function(t,n){var r,s;const i=wt({props:t,name:"MuiFormControlLabel"}),{className:o,componentsProps:A={},control:l,disabled:c,disableTypography:u,label:d,labelPlacement:p="end",required:f,slotProps:v={}}=i,g=Ve(i,KR),y=ka(),x=(r=c??l.props.disabled)!=null?r:y==null?void 0:y.disabled,w=f??l.props.required,b={disabled:x,required:w};["checked","name","onChange","value","inputRef"].forEach(U=>{typeof l.props[U]>"u"&&typeof i[U]<"u"&&(b[U]=i[U])});const j=oA({props:i,muiFormControl:y,states:["error"]}),_=z({},i,{disabled:x,labelPlacement:p,required:w,error:j.error}),k=VR(_),D=(s=v.typography)!=null?s:A.typography;let N=d;return N!=null&&N.type!==le&&!u&&(N=a.jsx(le,z({component:"span"},D,{className:Ye(k.label,D==null?void 0:D.className),children:N}))),a.jsxs(GR,z({className:Ye(k.root,o),ownerState:_,ref:n},g,{children:[B.cloneElement(l,b),w?a.jsxs(Kl,{display:"block",children:[N,a.jsxs(qR,{ownerState:_,"aria-hidden":!0,className:k.asterisk,children:[" ","*"]})]}):N]}))});function YR(e){return at("MuiFormGroup",e)}ot("MuiFormGroup",["root","row","error"]);const XR=["className","row"],JR=e=>{const{classes:t,row:n,error:r}=e;return lt({root:["root",n&&"row",r&&"error"]},YR,t)},ZR=Te("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.row&&t.row]}})(({ownerState:e})=>z({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"})),rE=B.forwardRef(function(t,n){const r=wt({props:t,name:"MuiFormGroup"}),{className:s,row:i=!1}=r,o=Ve(r,XR),A=ka(),l=oA({props:r,muiFormControl:A,states:["error"]}),c=z({},r,{row:i,error:l.error}),u=JR(c);return a.jsx(ZR,z({className:Ye(u.root,s),ownerState:c,ref:n},o))});function e8(e){return at("MuiFormHelperText",e)}const Fw=ot("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var kw;const t8=["children","className","component","disabled","error","filled","focused","margin","required","variant"],n8=e=>{const{classes:t,contained:n,size:r,disabled:s,error:i,filled:o,focused:A,required:l}=e,c={root:["root",s&&"disabled",i&&"error",r&&`size${Ke(r)}`,n&&"contained",A&&"focused",o&&"filled",l&&"required"]};return lt(c,e8,t)},r8=Te("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${Ke(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})(({theme:e,ownerState:t})=>z({color:(e.vars||e).palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${Fw.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${Fw.error}`]:{color:(e.vars||e).palette.error.main}},t.size==="small"&&{marginTop:4},t.contained&&{marginLeft:14,marginRight:14})),s8=B.forwardRef(function(t,n){const r=wt({props:t,name:"MuiFormHelperText"}),{children:s,className:i,component:o="p"}=r,A=Ve(r,t8),l=ka(),c=oA({props:r,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),u=z({},r,{component:o,contained:c.variant==="filled"||c.variant==="outlined",variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),d=n8(u);return a.jsx(r8,z({as:o,ownerState:u,className:Ye(d.root,i),ref:n},A,{children:s===" "?kw||(kw=a.jsx("span",{className:"notranslate",children:"​"})):s}))});function i8(e){return at("MuiFormLabel",e)}const Fd=ot("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),a8=["children","className","color","component","disabled","error","filled","focused","required"],o8=e=>{const{classes:t,color:n,focused:r,disabled:s,error:i,filled:o,required:A}=e,l={root:["root",`color${Ke(n)}`,s&&"disabled",i&&"error",o&&"filled",r&&"focused",A&&"required"],asterisk:["asterisk",i&&"error"]};return lt(l,i8,t)},A8=Te("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:e},t)=>z({},t.root,e.color==="secondary"&&t.colorSecondary,e.filled&&t.filled)})(({theme:e,ownerState:t})=>z({color:(e.vars||e).palette.text.secondary},e.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Fd.focused}`]:{color:(e.vars||e).palette[t.color].main},[`&.${Fd.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${Fd.error}`]:{color:(e.vars||e).palette.error.main}})),l8=Te("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${Fd.error}`]:{color:(e.vars||e).palette.error.main}})),sE=B.forwardRef(function(t,n){const r=wt({props:t,name:"MuiFormLabel"}),{children:s,className:i,component:o="label"}=r,A=Ve(r,a8),l=ka(),c=oA({props:r,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),u=z({},r,{color:c.color||"primary",component:o,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),d=o8(u);return a.jsxs(A8,z({as:o,ownerState:u,className:Ye(d.root,i),ref:n},A,{children:[s,c.required&&a.jsxs(l8,{ownerState:u,"aria-hidden":!0,className:d.asterisk,children:[" ","*"]})]}))}),Nw=B.createContext();function c8(e){return at("MuiGrid",e)}const u8=[0,1,2,3,4,5,6,7,8,9,10],d8=["column-reverse","column","row-reverse","row"],h8=["nowrap","wrap-reverse","wrap"],Wu=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Gd=ot("MuiGrid",["root","container","item","zeroMinWidth",...u8.map(e=>`spacing-xs-${e}`),...d8.map(e=>`direction-xs-${e}`),...h8.map(e=>`wrap-xs-${e}`),...Wu.map(e=>`grid-xs-${e}`),...Wu.map(e=>`grid-sm-${e}`),...Wu.map(e=>`grid-md-${e}`),...Wu.map(e=>`grid-lg-${e}`),...Wu.map(e=>`grid-xl-${e}`)]),f8=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function hc(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function p8({theme:e,ownerState:t}){let n;return e.breakpoints.keys.reduce((r,s)=>{let i={};if(t[s]&&(n=t[s]),!n)return r;if(n===!0)i={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")i={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const o=TA({values:t.columns,breakpoints:e.breakpoints.values}),A=typeof o=="object"?o[s]:o;if(A==null)return r;const l=`${Math.round(n/A*1e8)/1e6}%`;let c={};if(t.container&&t.item&&t.columnSpacing!==0){const u=e.spacing(t.columnSpacing);if(u!=="0px"){const d=`calc(${l} + ${hc(u)})`;c={flexBasis:d,maxWidth:d}}}i=z({flexBasis:l,flexGrow:0,maxWidth:l},c)}return e.breakpoints.values[s]===0?Object.assign(r,i):r[e.breakpoints.up(s)]=i,r},{})}function g8({theme:e,ownerState:t}){const n=TA({values:t.direction,breakpoints:e.breakpoints.values});return zs({theme:e},n,r=>{const s={flexDirection:r};return r.indexOf("column")===0&&(s[`& > .${Gd.item}`]={maxWidth:"none"}),s})}function iE({breakpoints:e,values:t}){let n="";Object.keys(t).forEach(s=>{n===""&&t[s]!==0&&(n=s)});const r=Object.keys(e).sort((s,i)=>e[s]-e[i]);return r.slice(0,r.indexOf(n))}function m8({theme:e,ownerState:t}){const{container:n,rowSpacing:r}=t;let s={};if(n&&r!==0){const i=TA({values:r,breakpoints:e.breakpoints.values});let o;typeof i=="object"&&(o=iE({breakpoints:e.breakpoints.values,values:i})),s=zs({theme:e},i,(A,l)=>{var c;const u=e.spacing(A);return u!=="0px"?{marginTop:`-${hc(u)}`,[`& > .${Gd.item}`]:{paddingTop:hc(u)}}:(c=o)!=null&&c.includes(l)?{}:{marginTop:0,[`& > .${Gd.item}`]:{paddingTop:0}}})}return s}function v8({theme:e,ownerState:t}){const{container:n,columnSpacing:r}=t;let s={};if(n&&r!==0){const i=TA({values:r,breakpoints:e.breakpoints.values});let o;typeof i=="object"&&(o=iE({breakpoints:e.breakpoints.values,values:i})),s=zs({theme:e},i,(A,l)=>{var c;const u=e.spacing(A);return u!=="0px"?{width:`calc(100% + ${hc(u)})`,marginLeft:`-${hc(u)}`,[`& > .${Gd.item}`]:{paddingLeft:hc(u)}}:(c=o)!=null&&c.includes(l)?{}:{width:"100%",marginLeft:0,[`& > .${Gd.item}`]:{paddingLeft:0}}})}return s}function y8(e,t,n={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[n[`spacing-xs-${String(e)}`]];const r=[];return t.forEach(s=>{const i=e[s];Number(i)>0&&r.push(n[`spacing-${s}-${String(i)}`])}),r}const x8=Te("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:s,item:i,spacing:o,wrap:A,zeroMinWidth:l,breakpoints:c}=n;let u=[];r&&(u=y8(o,c,t));const d=[];return c.forEach(p=>{const f=n[p];f&&d.push(t[`grid-${p}-${String(f)}`])}),[t.root,r&&t.container,i&&t.item,l&&t.zeroMinWidth,...u,s!=="row"&&t[`direction-xs-${String(s)}`],A!=="wrap"&&t[`wrap-xs-${String(A)}`],...d]}})(({ownerState:e})=>z({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},e.wrap!=="wrap"&&{flexWrap:e.wrap}),g8,m8,v8,p8);function b8(e,t){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const n=[];return t.forEach(r=>{const s=e[r];if(Number(s)>0){const i=`spacing-${r}-${String(s)}`;n.push(i)}}),n}const w8=e=>{const{classes:t,container:n,direction:r,item:s,spacing:i,wrap:o,zeroMinWidth:A,breakpoints:l}=e;let c=[];n&&(c=b8(i,l));const u=[];l.forEach(p=>{const f=e[p];f&&u.push(`grid-${p}-${String(f)}`)});const d={root:["root",n&&"container",s&&"item",A&&"zeroMinWidth",...c,r!=="row"&&`direction-xs-${String(r)}`,o!=="wrap"&&`wrap-xs-${String(o)}`,...u]};return lt(d,c8,t)},Ut=B.forwardRef(function(t,n){const r=wt({props:t,name:"MuiGrid"}),{breakpoints:s}=Li(),i=Ah(r),{className:o,columns:A,columnSpacing:l,component:c="div",container:u=!1,direction:d="row",item:p=!1,rowSpacing:f,spacing:v=0,wrap:g="wrap",zeroMinWidth:y=!1}=i,x=Ve(i,f8),w=f||v,b=l||v,j=B.useContext(Nw),_=u?A||12:j,k={},D=z({},x);s.keys.forEach(L=>{x[L]!=null&&(k[L]=x[L],delete D[L])});const N=z({},i,{columns:_,container:u,direction:d,item:p,rowSpacing:w,columnSpacing:b,wrap:g,zeroMinWidth:y,spacing:v},k,{breakpoints:s.keys}),U=w8(N);return a.jsx(Nw.Provider,{value:_,children:a.jsx(x8,z({ownerState:N,className:Ye(U.root,o),as:c,ref:n},D))})}),B8=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function w1(e){return`scale(${e}, ${e**2})`}const C8={entering:{opacity:1,transform:w1(1)},entered:{opacity:1,transform:"none"}},Z0=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),qd=B.forwardRef(function(t,n){const{addEndListener:r,appear:s=!0,children:i,easing:o,in:A,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:p,onExiting:f,style:v,timeout:g="auto",TransitionComponent:y=Mi}=t,x=Ve(t,B8),w=Ro(),b=B.useRef(),j=Li(),_=B.useRef(null),k=Xn(_,YA(i),n),D=K=>Q=>{if(K){const F=_.current;Q===void 0?K(F):K(F,Q)}},N=D(u),U=D((K,Q)=>{QS(K);const{duration:F,delay:$,easing:O}=kc({style:v,timeout:g,easing:o},{mode:"enter"});let H;g==="auto"?(H=j.transitions.getAutoHeightDuration(K.clientHeight),b.current=H):H=F,K.style.transition=[j.transitions.create("opacity",{duration:H,delay:$}),j.transitions.create("transform",{duration:Z0?H:H*.666,delay:$,easing:O})].join(","),l&&l(K,Q)}),L=D(c),E=D(f),I=D(K=>{const{duration:Q,delay:F,easing:$}=kc({style:v,timeout:g,easing:o},{mode:"exit"});let O;g==="auto"?(O=j.transitions.getAutoHeightDuration(K.clientHeight),b.current=O):O=Q,K.style.transition=[j.transitions.create("opacity",{duration:O,delay:F}),j.transitions.create("transform",{duration:Z0?O:O*.666,delay:Z0?F:F||O*.333,easing:$})].join(","),K.style.opacity=0,K.style.transform=w1(.75),d&&d(K)}),T=D(p),P=K=>{g==="auto"&&w.start(b.current||0,K),r&&r(_.current,K)};return a.jsx(y,z({appear:s,in:A,nodeRef:_,onEnter:U,onEntered:L,onEntering:N,onExit:I,onExited:T,onExiting:E,addEndListener:P,timeout:g==="auto"?null:g},x,{children:(K,Q)=>B.cloneElement(i,z({style:z({opacity:0,transform:w1(.75),visibility:K==="exited"&&!A?"hidden":void 0},C8[K],v,i.props.style),ref:k},Q))}))});qd.muiSupportAuto=!0;const S8=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],E8=e=>{const{classes:t,disableUnderline:n}=e,s=lt({root:["root",!n&&"underline"],input:["input"]},HQ,t);return z({},t,s)},j8=Te(mm,{shouldForwardProp:e=>Ws(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...pm(e,t),!n.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{let r=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(r=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),z({position:"relative"},t.formControl&&{"label + &":{marginTop:16}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${zu.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${zu.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${zu.disabled}, .${zu.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${zu.disabled}:before`]:{borderBottomStyle:"dotted"}})}),I8=Te(vm,{name:"MuiInput",slot:"Input",overridesResolver:gm})({}),jx=B.forwardRef(function(t,n){var r,s,i,o;const A=wt({props:t,name:"MuiInput"}),{disableUnderline:l,components:c={},componentsProps:u,fullWidth:d=!1,inputComponent:p="input",multiline:f=!1,slotProps:v,slots:g={},type:y="text"}=A,x=Ve(A,S8),w=E8(A),j={root:{ownerState:{disableUnderline:l}}},_=v??u?Es(v??u,j):j,k=(r=(s=g.root)!=null?s:c.Root)!=null?r:j8,D=(i=(o=g.input)!=null?o:c.Input)!=null?i:I8;return a.jsx(Sx,z({slots:{root:k,input:D},slotProps:_,fullWidth:d,inputComponent:p,multiline:f,ref:n,type:y},x,{classes:w}))});jx.muiName="Input";function F8(e){return at("MuiInputAdornment",e)}const _w=ot("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var Tw;const k8=["children","className","component","disablePointerEvents","disableTypography","position","variant"],N8=(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${Ke(n.position)}`],n.disablePointerEvents===!0&&t.disablePointerEvents,t[n.variant]]},_8=e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:r,position:s,size:i,variant:o}=e,A={root:["root",n&&"disablePointerEvents",s&&`position${Ke(s)}`,o,r&&"hiddenLabel",i&&`size${Ke(i)}`]};return lt(A,F8,t)},T8=Te("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:N8})(({theme:e,ownerState:t})=>z({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active},t.variant==="filled"&&{[`&.${_w.positionStart}&:not(.${_w.hiddenLabel})`]:{marginTop:16}},t.position==="start"&&{marginRight:8},t.position==="end"&&{marginLeft:8},t.disablePointerEvents===!0&&{pointerEvents:"none"})),U8=B.forwardRef(function(t,n){const r=wt({props:t,name:"MuiInputAdornment"}),{children:s,className:i,component:o="div",disablePointerEvents:A=!1,disableTypography:l=!1,position:c,variant:u}=r,d=Ve(r,k8),p=ka()||{};let f=u;u&&p.variant,p&&!f&&(f=p.variant);const v=z({},r,{hiddenLabel:p.hiddenLabel,size:p.size,disablePointerEvents:A,position:c,variant:f}),g=_8(v);return a.jsx(fm.Provider,{value:null,children:a.jsx(T8,z({as:o,ownerState:v,className:Ye(g.root,i),ref:n},d,{children:typeof s=="string"&&!l?a.jsx(le,{color:"text.secondary",children:s}):a.jsxs(B.Fragment,{children:[c==="start"?Tw||(Tw=a.jsx("span",{className:"notranslate",children:"​"})):null,s]})}))})});function L8(e){return at("MuiInputLabel",e)}ot("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const D8=["disableAnimation","margin","shrink","variant","className"],M8=e=>{const{classes:t,formControl:n,size:r,shrink:s,disableAnimation:i,variant:o,required:A}=e,l={root:["root",n&&"formControl",!i&&"animated",s&&"shrink",r&&r!=="normal"&&`size${Ke(r)}`,o],asterisk:[A&&"asterisk"]},c=lt(l,L8,t);return z({},t,c)},Q8=Te(sE,{shouldForwardProp:e=>Ws(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Fd.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,n.size==="small"&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})(({theme:e,ownerState:t})=>z({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},t.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},t.size==="small"&&{transform:"translate(0, 17px) scale(1)"},t.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!t.disableAnimation&&{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},t.variant==="filled"&&z({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},t.shrink&&z({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},t.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),t.variant==="outlined"&&z({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},t.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),lo=B.forwardRef(function(t,n){const r=wt({name:"MuiInputLabel",props:t}),{disableAnimation:s=!1,shrink:i,className:o}=r,A=Ve(r,D8),l=ka();let c=i;typeof c>"u"&&l&&(c=l.filled||l.focused||l.adornedStart);const u=oA({props:r,muiFormControl:l,states:["size","variant","required","focused"]}),d=z({},r,{disableAnimation:s,formControl:l,shrink:c,size:u.size,variant:u.variant,required:u.required,focused:u.focused}),p=M8(d);return a.jsx(Q8,z({"data-shrink":c,ownerState:d,ref:n,className:Ye(p.root,o)},A,{classes:p}))});function P8(e){return at("MuiLinearProgress",e)}ot("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const R8=["className","color","value","valueBuffer","variant"];let tu=e=>e,Uw,Lw,Dw,Mw,Qw,Pw;const B1=4,H8=po(Uw||(Uw=tu`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),O8=po(Lw||(Lw=tu`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),$8=po(Dw||(Dw=tu`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),z8=e=>{const{classes:t,variant:n,color:r}=e,s={root:["root",`color${Ke(r)}`,n],dashed:["dashed",`dashedColor${Ke(r)}`],bar1:["bar",`barColor${Ke(r)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar",n!=="buffer"&&`barColor${Ke(r)}`,n==="buffer"&&`color${Ke(r)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return lt(s,P8,t)},Ix=(e,t)=>t==="inherit"?"currentColor":e.vars?e.vars.palette.LinearProgress[`${t}Bg`]:e.palette.mode==="light"?jc(e.palette[t].main,.62):Ec(e.palette[t].main,.5),W8=Te("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`color${Ke(n.color)}`],t[n.variant]]}})(({ownerState:e,theme:t})=>z({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:Ix(t,e.color)},e.color==="inherit"&&e.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},e.variant==="buffer"&&{backgroundColor:"transparent"},e.variant==="query"&&{transform:"rotate(180deg)"})),K8=Te("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.dashed,t[`dashedColor${Ke(n.color)}`]]}})(({ownerState:e,theme:t})=>{const n=Ix(t,e.color);return z({position:"absolute",marginTop:0,height:"100%",width:"100%"},e.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},qA(Mw||(Mw=tu`
    animation: ${0} 3s infinite linear;
  `),$8)),V8=Te("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t[`barColor${Ke(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&t.bar1Indeterminate,n.variant==="determinate"&&t.bar1Determinate,n.variant==="buffer"&&t.bar1Buffer]}})(({ownerState:e,theme:t})=>z({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:e.color==="inherit"?"currentColor":(t.vars||t).palette[e.color].main},e.variant==="determinate"&&{transition:`transform .${B1}s linear`},e.variant==="buffer"&&{zIndex:1,transition:`transform .${B1}s linear`}),({ownerState:e})=>(e.variant==="indeterminate"||e.variant==="query")&&qA(Qw||(Qw=tu`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),H8)),G8=Te("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t[`barColor${Ke(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&t.bar2Indeterminate,n.variant==="buffer"&&t.bar2Buffer]}})(({ownerState:e,theme:t})=>z({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},e.variant!=="buffer"&&{backgroundColor:e.color==="inherit"?"currentColor":(t.vars||t).palette[e.color].main},e.color==="inherit"&&{opacity:.3},e.variant==="buffer"&&{backgroundColor:Ix(t,e.color),transition:`transform .${B1}s linear`}),({ownerState:e})=>(e.variant==="indeterminate"||e.variant==="query")&&qA(Pw||(Pw=tu`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),O8)),aE=B.forwardRef(function(t,n){const r=wt({props:t,name:"MuiLinearProgress"}),{className:s,color:i="primary",value:o,valueBuffer:A,variant:l="indeterminate"}=r,c=Ve(r,R8),u=z({},r,{color:i,variant:l}),d=z8(u),p=ch(),f={},v={bar1:{},bar2:{}};if((l==="determinate"||l==="buffer")&&o!==void 0){f["aria-valuenow"]=Math.round(o),f["aria-valuemin"]=0,f["aria-valuemax"]=100;let g=o-100;p&&(g=-g),v.bar1.transform=`translateX(${g}%)`}if(l==="buffer"&&A!==void 0){let g=(A||0)-100;p&&(g=-g),v.bar2.transform=`translateX(${g}%)`}return a.jsxs(W8,z({className:Ye(d.root,s),ownerState:u,role:"progressbar"},f,{ref:n},c,{children:[l==="buffer"?a.jsx(K8,{className:d.dashed,ownerState:u}):null,a.jsx(V8,{className:d.bar1,ownerState:u,style:v.bar1}),l==="determinate"?null:a.jsx(G8,{className:d.bar2,ownerState:u,style:v.bar2})]}))}),no=B.createContext({});function q8(e){return at("MuiList",e)}ot("MuiList",["root","padding","dense","subheader"]);const Y8=["children","className","component","dense","disablePadding","subheader"],X8=e=>{const{classes:t,disablePadding:n,dense:r,subheader:s}=e;return lt({root:["root",!n&&"padding",r&&"dense",s&&"subheader"]},q8,t)},J8=Te("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})(({ownerState:e})=>z({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0})),Dc=B.forwardRef(function(t,n){const r=wt({props:t,name:"MuiList"}),{children:s,className:i,component:o="ul",dense:A=!1,disablePadding:l=!1,subheader:c}=r,u=Ve(r,Y8),d=B.useMemo(()=>({dense:A}),[A]),p=z({},r,{component:o,dense:A,disablePadding:l}),f=X8(p);return a.jsx(no.Provider,{value:d,children:a.jsxs(J8,z({as:o,className:Ye(f.root,i),ref:n,ownerState:p},u,{children:[c,s]}))})});function Z8(e){return at("MuiListItem",e)}const Vl=ot("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),eH=ot("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function tH(e){return at("MuiListItemSecondaryAction",e)}ot("MuiListItemSecondaryAction",["root","disableGutters"]);const nH=["className"],rH=e=>{const{disableGutters:t,classes:n}=e;return lt({root:["root",t&&"disableGutters"]},tH,n)},sH=Te("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})(({ownerState:e})=>z({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},e.disableGutters&&{right:0})),NA=B.forwardRef(function(t,n){const r=wt({props:t,name:"MuiListItemSecondaryAction"}),{className:s}=r,i=Ve(r,nH),o=B.useContext(no),A=z({},r,{disableGutters:o.disableGutters}),l=rH(A);return a.jsx(sH,z({className:Ye(l.root,s),ownerState:A,ref:n},i))});NA.muiName="ListItemSecondaryAction";const iH=["className"],aH=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],oH=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.alignItems==="flex-start"&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.button&&t.button,n.hasSecondaryAction&&t.secondaryAction]},AH=e=>{const{alignItems:t,button:n,classes:r,dense:s,disabled:i,disableGutters:o,disablePadding:A,divider:l,hasSecondaryAction:c,selected:u}=e;return lt({root:["root",s&&"dense",!o&&"gutters",!A&&"padding",l&&"divider",i&&"disabled",n&&"button",t==="flex-start"&&"alignItemsFlexStart",c&&"secondaryAction",u&&"selected"],container:["container"]},Z8,r)},lH=Te("div",{name:"MuiListItem",slot:"Root",overridesResolver:oH})(({theme:e,ownerState:t})=>z({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!t.disablePadding&&z({paddingTop:8,paddingBottom:8},t.dense&&{paddingTop:4,paddingBottom:4},!t.disableGutters&&{paddingLeft:16,paddingRight:16},!!t.secondaryAction&&{paddingRight:48}),!!t.secondaryAction&&{[`& > .${eH.root}`]:{paddingRight:48}},{[`&.${Vl.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Vl.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:on(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${Vl.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:on(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${Vl.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.alignItems==="flex-start"&&{alignItems:"flex-start"},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},t.button&&{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Vl.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:on(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:on(e.palette.primary.main,e.palette.action.selectedOpacity)}}},t.hasSecondaryAction&&{paddingRight:48})),cH=Te("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),ga=B.forwardRef(function(t,n){const r=wt({props:t,name:"MuiListItem"}),{alignItems:s="center",autoFocus:i=!1,button:o=!1,children:A,className:l,component:c,components:u={},componentsProps:d={},ContainerComponent:p="li",ContainerProps:{className:f}={},dense:v=!1,disabled:g=!1,disableGutters:y=!1,disablePadding:x=!1,divider:w=!1,focusVisibleClassName:b,secondaryAction:j,selected:_=!1,slotProps:k={},slots:D={}}=r,N=Ve(r.ContainerProps,iH),U=Ve(r,aH),L=B.useContext(no),E=B.useMemo(()=>({dense:v||L.dense||!1,alignItems:s,disableGutters:y}),[s,L.dense,v,y]),I=B.useRef(null);ms(()=>{i&&I.current&&I.current.focus()},[i]);const T=B.Children.toArray(A),P=T.length&&yp(T[T.length-1],["ListItemSecondaryAction"]),K=z({},r,{alignItems:s,autoFocus:i,button:o,dense:E.dense,disabled:g,disableGutters:y,disablePadding:x,divider:w,hasSecondaryAction:P,selected:_}),Q=AH(K),F=Xn(I,n),$=D.root||u.Root||lH,O=k.root||d.root||{},H=z({className:Ye(Q.root,O.className,l),disabled:g},U);let ie=c||"li";return o&&(H.component=c||"div",H.focusVisibleClassName=Ye(Vl.focusVisible,b),ie=Ea),P?(ie=!H.component&&!c?"div":ie,p==="li"&&(ie==="li"?ie="div":H.component==="li"&&(H.component="div")),a.jsx(no.Provider,{value:E,children:a.jsxs(cH,z({as:p,className:Ye(Q.container,f),ref:F,ownerState:K},N,{children:[a.jsx($,z({},O,!Sc($)&&{as:ie,ownerState:z({},K,O.ownerState)},H,{children:T})),T.pop()]}))})):a.jsx(no.Provider,{value:E,children:a.jsxs($,z({},O,{as:ie,ref:F},!Sc($)&&{ownerState:z({},K,O.ownerState)},H,{children:[T,j&&a.jsx(NA,{children:j})]}))})});function uH(e){return at("MuiListItemIcon",e)}const Rw=ot("MuiListItemIcon",["root","alignItemsFlexStart"]),dH=["className"],hH=e=>{const{alignItems:t,classes:n}=e;return lt({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},uH,n)},fH=Te("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.alignItems==="flex-start"&&t.alignItemsFlexStart]}})(({theme:e,ownerState:t})=>z({minWidth:56,color:(e.vars||e).palette.action.active,flexShrink:0,display:"inline-flex"},t.alignItems==="flex-start"&&{marginTop:8})),ev=B.forwardRef(function(t,n){const r=wt({props:t,name:"MuiListItemIcon"}),{className:s}=r,i=Ve(r,dH),o=B.useContext(no),A=z({},r,{alignItems:o.alignItems}),l=hH(A);return a.jsx(fH,z({className:Ye(l.root,s),ownerState:A,ref:n},i))});function pH(e){return at("MuiListItemText",e)}const ng=ot("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),gH=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],mH=e=>{const{classes:t,inset:n,primary:r,secondary:s,dense:i}=e;return lt({root:["root",n&&"inset",i&&"dense",r&&s&&"multiline"],primary:["primary"],secondary:["secondary"]},pH,t)},vH=Te("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${ng.primary}`]:t.primary},{[`& .${ng.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})(({ownerState:e})=>z({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56})),ma=B.forwardRef(function(t,n){const r=wt({props:t,name:"MuiListItemText"}),{children:s,className:i,disableTypography:o=!1,inset:A=!1,primary:l,primaryTypographyProps:c,secondary:u,secondaryTypographyProps:d}=r,p=Ve(r,gH),{dense:f}=B.useContext(no);let v=l??s,g=u;const y=z({},r,{disableTypography:o,inset:A,primary:!!v,secondary:!!g,dense:f}),x=mH(y);return v!=null&&v.type!==le&&!o&&(v=a.jsx(le,z({variant:f?"body2":"body1",className:x.primary,component:c!=null&&c.variant?void 0:"span",display:"block"},c,{children:v}))),g!=null&&g.type!==le&&!o&&(g=a.jsx(le,z({variant:"body2",className:x.secondary,color:"text.secondary",display:"block"},d,{children:g}))),a.jsxs(vH,z({className:Ye(x.root,i),ownerState:y,ref:n},p,{children:[v,g]}))}),yH=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function tv(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function Hw(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function oE(e,t){if(t===void 0)return!0;let n=e.innerText;return n===void 0&&(n=e.textContent),n=n.trim().toLowerCase(),n.length===0?!1:t.repeating?n[0]===t.keys[0]:n.indexOf(t.keys.join(""))===0}function Ku(e,t,n,r,s,i){let o=!1,A=s(e,t,t?n:!1);for(;A;){if(A===e.firstChild){if(o)return!1;o=!0}const l=r?!1:A.disabled||A.getAttribute("aria-disabled")==="true";if(!A.hasAttribute("tabindex")||!oE(A,i)||l)A=s(e,A,n);else return A.focus(),!0}return!1}const xH=B.forwardRef(function(t,n){const{actions:r,autoFocus:s=!1,autoFocusItem:i=!1,children:o,className:A,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:d="selectedMenu"}=t,p=Ve(t,yH),f=B.useRef(null),v=B.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});ms(()=>{s&&f.current.focus()},[s]),B.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(b,{direction:j})=>{const _=!f.current.style.width;if(b.clientHeight<f.current.clientHeight&&_){const k=`${e4(Mr(b))}px`;f.current.style[j==="rtl"?"paddingLeft":"paddingRight"]=k,f.current.style.width=`calc(100% + ${k})`}return f.current}}),[]);const g=b=>{const j=f.current,_=b.key,k=Mr(j).activeElement;if(_==="ArrowDown")b.preventDefault(),Ku(j,k,c,l,tv);else if(_==="ArrowUp")b.preventDefault(),Ku(j,k,c,l,Hw);else if(_==="Home")b.preventDefault(),Ku(j,null,c,l,tv);else if(_==="End")b.preventDefault(),Ku(j,null,c,l,Hw);else if(_.length===1){const D=v.current,N=_.toLowerCase(),U=performance.now();D.keys.length>0&&(U-D.lastTime>500?(D.keys=[],D.repeating=!0,D.previousKeyMatched=!0):D.repeating&&N!==D.keys[0]&&(D.repeating=!1)),D.lastTime=U,D.keys.push(N);const L=k&&!D.repeating&&oE(k,D);D.previousKeyMatched&&(L||Ku(j,k,!1,l,tv,D))?b.preventDefault():D.previousKeyMatched=!1}u&&u(b)},y=Xn(f,n);let x=-1;B.Children.forEach(o,(b,j)=>{if(!B.isValidElement(b)){x===j&&(x+=1,x>=o.length&&(x=-1));return}b.props.disabled||(d==="selectedMenu"&&b.props.selected||x===-1)&&(x=j),x===j&&(b.props.disabled||b.props.muiSkipListHighlight||b.type.muiSkipListHighlight)&&(x+=1,x>=o.length&&(x=-1))});const w=B.Children.map(o,(b,j)=>{if(j===x){const _={};return i&&(_.autoFocus=!0),b.props.tabIndex===void 0&&d==="selectedMenu"&&(_.tabIndex=0),B.cloneElement(b,_)}return b});return a.jsx(Dc,z({role:"menu",ref:y,className:A,onKeyDown:g,tabIndex:s?0:-1},p,{children:w}))});function bH(e){return at("MuiPopover",e)}ot("MuiPopover",["root","paper"]);const wH=["onEntering"],BH=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],CH=["slotProps"];function Ow(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.height/2:t==="bottom"&&(n=e.height),n}function $w(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.width/2:t==="right"&&(n=e.width),n}function zw(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function nv(e){return typeof e=="function"?e():e}const SH=e=>{const{classes:t}=e;return lt({root:["root"],paper:["paper"]},bH,t)},EH=Te(tE,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),AE=Te(Wn,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),jH=B.forwardRef(function(t,n){var r,s,i;const o=wt({props:t,name:"MuiPopover"}),{action:A,anchorEl:l,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:d="anchorEl",children:p,className:f,container:v,elevation:g=8,marginThreshold:y=16,open:x,PaperProps:w={},slots:b,slotProps:j,transformOrigin:_={vertical:"top",horizontal:"left"},TransitionComponent:k=qd,transitionDuration:D="auto",TransitionProps:{onEntering:N}={},disableScrollLock:U=!1}=o,L=Ve(o.TransitionProps,wH),E=Ve(o,BH),I=(r=j==null?void 0:j.paper)!=null?r:w,T=B.useRef(),P=Xn(T,I.ref),K=z({},o,{anchorOrigin:c,anchorReference:d,elevation:g,marginThreshold:y,externalPaperSlotProps:I,transformOrigin:_,TransitionComponent:k,transitionDuration:D,TransitionProps:L}),Q=SH(K),F=B.useCallback(()=>{if(d==="anchorPosition")return u;const de=nv(l),pe=(de&&de.nodeType===1?de:Mr(T.current).body).getBoundingClientRect();return{top:pe.top+Ow(pe,c.vertical),left:pe.left+$w(pe,c.horizontal)}},[l,c.horizontal,c.vertical,u,d]),$=B.useCallback(de=>({vertical:Ow(de,_.vertical),horizontal:$w(de,_.horizontal)}),[_.horizontal,_.vertical]),O=B.useCallback(de=>{const Be={width:de.offsetWidth,height:de.offsetHeight},pe=$(Be);if(d==="none")return{top:null,left:null,transformOrigin:zw(pe)};const se=F();let me=se.top-pe.vertical,ne=se.left-pe.horizontal;const ae=me+Be.height,he=ne+Be.width,ge=ao(nv(l)),Ce=ge.innerHeight-y,ye=ge.innerWidth-y;if(y!==null&&me<y){const Le=me-y;me-=Le,pe.vertical+=Le}else if(y!==null&&ae>Ce){const Le=ae-Ce;me-=Le,pe.vertical+=Le}if(y!==null&&ne<y){const Le=ne-y;ne-=Le,pe.horizontal+=Le}else if(he>ye){const Le=he-ye;ne-=Le,pe.horizontal+=Le}return{top:`${Math.round(me)}px`,left:`${Math.round(ne)}px`,transformOrigin:zw(pe)}},[l,d,F,$,y]),[H,ie]=B.useState(x),M=B.useCallback(()=>{const de=T.current;if(!de)return;const Be=O(de);Be.top!==null&&(de.style.top=Be.top),Be.left!==null&&(de.style.left=Be.left),de.style.transformOrigin=Be.transformOrigin,ie(!0)},[O]);B.useEffect(()=>(U&&window.addEventListener("scroll",M),()=>window.removeEventListener("scroll",M)),[l,U,M]);const W=(de,Be)=>{N&&N(de,Be),M()},V=()=>{ie(!1)};B.useEffect(()=>{x&&M()}),B.useImperativeHandle(A,()=>x?{updatePosition:()=>{M()}}:null,[x,M]),B.useEffect(()=>{if(!x)return;const de=rm(()=>{M()}),Be=ao(l);return Be.addEventListener("resize",de),()=>{de.clear(),Be.removeEventListener("resize",de)}},[l,x,M]);let X=D;D==="auto"&&!k.muiSupportAuto&&(X=void 0);const Y=v||(l?Mr(nv(l)).body:void 0),ee=(s=b==null?void 0:b.root)!=null?s:EH,ce=(i=b==null?void 0:b.paper)!=null?i:AE,Ae=Ii({elementType:ce,externalSlotProps:z({},I,{style:H?I.style:z({},I.style,{opacity:0})}),additionalProps:{elevation:g,ref:P},ownerState:K,className:Ye(Q.paper,I==null?void 0:I.className)}),Ee=Ii({elementType:ee,externalSlotProps:(j==null?void 0:j.root)||{},externalForwardedProps:E,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:Y,open:x},ownerState:K,className:Ye(Q.root,f)}),{slotProps:fe}=Ee,we=Ve(Ee,CH);return a.jsx(ee,z({},we,!Sc(ee)&&{slotProps:fe,disableScrollLock:U},{children:a.jsx(k,z({appear:!0,in:x,onEntering:W,onExited:V,timeout:X},L,{children:a.jsx(ce,z({},Ae,{children:p}))}))}))});function IH(e){return at("MuiMenu",e)}ot("MuiMenu",["root","paper","list"]);const FH=["onEntering"],kH=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],NH={vertical:"top",horizontal:"right"},_H={vertical:"top",horizontal:"left"},TH=e=>{const{classes:t}=e;return lt({root:["root"],paper:["paper"],list:["list"]},IH,t)},UH=Te(jH,{shouldForwardProp:e=>Ws(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),LH=Te(AE,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),DH=Te(xH,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),MH=B.forwardRef(function(t,n){var r,s;const i=wt({props:t,name:"MuiMenu"}),{autoFocus:o=!0,children:A,className:l,disableAutoFocusItem:c=!1,MenuListProps:u={},onClose:d,open:p,PaperProps:f={},PopoverClasses:v,transitionDuration:g="auto",TransitionProps:{onEntering:y}={},variant:x="selectedMenu",slots:w={},slotProps:b={}}=i,j=Ve(i.TransitionProps,FH),_=Ve(i,kH),k=ch(),D=z({},i,{autoFocus:o,disableAutoFocusItem:c,MenuListProps:u,onEntering:y,PaperProps:f,transitionDuration:g,TransitionProps:j,variant:x}),N=TH(D),U=o&&!c&&p,L=B.useRef(null),E=($,O)=>{L.current&&L.current.adjustStyleForScrollbar($,{direction:k?"rtl":"ltr"}),y&&y($,O)},I=$=>{$.key==="Tab"&&($.preventDefault(),d&&d($,"tabKeyDown"))};let T=-1;B.Children.map(A,($,O)=>{B.isValidElement($)&&($.props.disabled||(x==="selectedMenu"&&$.props.selected||T===-1)&&(T=O))});const P=(r=w.paper)!=null?r:LH,K=(s=b.paper)!=null?s:f,Q=Ii({elementType:w.root,externalSlotProps:b.root,ownerState:D,className:[N.root,l]}),F=Ii({elementType:P,externalSlotProps:K,ownerState:D,className:N.paper});return a.jsx(UH,z({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:k?"right":"left"},transformOrigin:k?NH:_H,slots:{paper:P,root:w.root},slotProps:{root:Q,paper:F},open:p,ref:n,transitionDuration:g,TransitionProps:z({onEntering:E},j),ownerState:D},_,{classes:v,children:a.jsx(DH,z({onKeyDown:I,actions:L,autoFocus:o&&(T===-1||c),autoFocusItem:U,variant:x},u,{className:Ye(N.list,u.className),children:A}))}))});function QH(e){return at("MuiMenuItem",e)}const Vu=ot("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),PH=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],RH=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]},HH=e=>{const{disabled:t,dense:n,divider:r,disableGutters:s,selected:i,classes:o}=e,l=lt({root:["root",n&&"dense",t&&"disabled",!s&&"gutters",r&&"divider",i&&"selected"]},QH,o);return z({},o,l)},OH=Te(Ea,{shouldForwardProp:e=>Ws(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:RH})(({theme:e,ownerState:t})=>z({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Vu.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:on(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${Vu.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:on(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${Vu.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:on(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:on(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${Vu.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Vu.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${Iw.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${Iw.inset}`]:{marginLeft:52},[`& .${ng.root}`]:{marginTop:0,marginBottom:0},[`& .${ng.inset}`]:{paddingLeft:36},[`& .${Rw.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&z({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${Rw.root} svg`]:{fontSize:"1.25rem"}}))),vr=B.forwardRef(function(t,n){const r=wt({props:t,name:"MuiMenuItem"}),{autoFocus:s=!1,component:i="li",dense:o=!1,divider:A=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:d,className:p}=r,f=Ve(r,PH),v=B.useContext(no),g=B.useMemo(()=>({dense:o||v.dense||!1,disableGutters:l}),[v.dense,o,l]),y=B.useRef(null);ms(()=>{s&&y.current&&y.current.focus()},[s]);const x=z({},r,{dense:g.dense,divider:A,disableGutters:l}),w=HH(r),b=Xn(y,n);let j;return r.disabled||(j=d!==void 0?d:-1),a.jsx(no.Provider,{value:g,children:a.jsx(OH,z({ref:b,role:u,tabIndex:j,component:i,focusVisibleClassName:Ye(w.focusVisible,c),className:Ye(w.root,p)},f,{ownerState:x,classes:w}))})});function $H(e){return at("MuiNativeSelect",e)}const Fx=ot("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),zH=["className","disabled","error","IconComponent","inputRef","variant"],WH=e=>{const{classes:t,variant:n,disabled:r,multiple:s,open:i,error:o}=e,A={select:["select",n,r&&"disabled",s&&"multiple",o&&"error"],icon:["icon",`icon${Ke(n)}`,i&&"iconOpen",r&&"disabled"]};return lt(A,$H,t)},lE=({ownerState:e,theme:t})=>z({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":z({},t.vars?{backgroundColor:`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:t.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${Fx.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},e.variant==="filled"&&{"&&&":{paddingRight:32}},e.variant==="outlined"&&{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}),KH=Te("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Ws,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${Fx.multiple}`]:t.multiple}]}})(lE),cE=({ownerState:e,theme:t})=>z({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${Fx.disabled}`]:{color:(t.vars||t).palette.action.disabled}},e.open&&{transform:"rotate(180deg)"},e.variant==="filled"&&{right:7},e.variant==="outlined"&&{right:7}),VH=Te("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${Ke(n.variant)}`],n.open&&t.iconOpen]}})(cE),GH=B.forwardRef(function(t,n){const{className:r,disabled:s,error:i,IconComponent:o,inputRef:A,variant:l="standard"}=t,c=Ve(t,zH),u=z({},t,{disabled:s,variant:l,error:i}),d=WH(u);return a.jsxs(B.Fragment,{children:[a.jsx(KH,z({ownerState:u,className:Ye(d.select,r),disabled:s,ref:A||n},c)),t.multiple?null:a.jsx(VH,{as:o,ownerState:u,className:d.icon})]})});var Ww;const qH=["children","classes","className","label","notched"],YH=Te("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:Ws})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),XH=Te("legend",{name:"MuiNotchedOutlined",shouldForwardProp:Ws})(({ownerState:e,theme:t})=>z({float:"unset",width:"auto",overflow:"hidden"},!e.withLabel&&{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},e.withLabel&&z({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},e.notched&&{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})})));function JH(e){const{className:t,label:n,notched:r}=e,s=Ve(e,qH),i=n!=null&&n!=="",o=z({},e,{notched:r,withLabel:i});return a.jsx(YH,z({"aria-hidden":!0,className:t,ownerState:o},s,{children:a.jsx(XH,{ownerState:o,children:i?a.jsx("span",{children:n}):Ww||(Ww=a.jsx("span",{className:"notranslate",children:"​"}))})}))}const ZH=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],eO=e=>{const{classes:t}=e,r=lt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},OQ,t);return z({},t,r)},tO=Te(mm,{shouldForwardProp:e=>Ws(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:pm})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return z({position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${ko.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${ko.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${ko.focused} .${ko.notchedOutline}`]:{borderColor:(e.vars||e).palette[t.color].main,borderWidth:2},[`&.${ko.error} .${ko.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${ko.disabled} .${ko.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}},t.startAdornment&&{paddingLeft:14},t.endAdornment&&{paddingRight:14},t.multiline&&z({padding:"16.5px 14px"},t.size==="small"&&{padding:"8.5px 14px"}))}),nO=Te(JH,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),rO=Te(vm,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:gm})(({theme:e,ownerState:t})=>z({padding:"16.5px 14px"},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{padding:"8.5px 14px"},t.multiline&&{padding:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0})),kx=B.forwardRef(function(t,n){var r,s,i,o,A;const l=wt({props:t,name:"MuiOutlinedInput"}),{components:c={},fullWidth:u=!1,inputComponent:d="input",label:p,multiline:f=!1,notched:v,slots:g={},type:y="text"}=l,x=Ve(l,ZH),w=eO(l),b=ka(),j=oA({props:l,muiFormControl:b,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),_=z({},l,{color:j.color||"primary",disabled:j.disabled,error:j.error,focused:j.focused,formControl:b,fullWidth:u,hiddenLabel:j.hiddenLabel,multiline:f,size:j.size,type:y}),k=(r=(s=g.root)!=null?s:c.Root)!=null?r:tO,D=(i=(o=g.input)!=null?o:c.Input)!=null?i:rO;return a.jsx(Sx,z({slots:{root:k,input:D},renderSuffix:N=>a.jsx(nO,{ownerState:_,className:w.notchedOutline,label:p!=null&&p!==""&&j.required?A||(A=a.jsxs(B.Fragment,{children:[p," ","*"]})):p,notched:typeof v<"u"?v:!!(N.startAdornment||N.filled||N.focused)}),fullWidth:u,inputComponent:d,multiline:f,ref:n,type:y},x,{classes:z({},w,{notchedOutline:null})}))});kx.muiName="Input";function sO(e){return at("MuiSelect",e)}const Gu=ot("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var Kw;const iO=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],aO=Te("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${Gu.select}`]:t.select},{[`&.${Gu.select}`]:t[n.variant]},{[`&.${Gu.error}`]:t.error},{[`&.${Gu.multiple}`]:t.multiple}]}})(lE,{[`&.${Gu.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),oO=Te("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${Ke(n.variant)}`],n.open&&t.iconOpen]}})(cE),AO=Te("input",{shouldForwardProp:e=>x4(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Vw(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function lO(e){return e==null||typeof e=="string"&&!e.trim()}const cO=e=>{const{classes:t,variant:n,disabled:r,multiple:s,open:i,error:o}=e,A={select:["select",n,r&&"disabled",s&&"multiple",o&&"error"],icon:["icon",`icon${Ke(n)}`,i&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return lt(A,sO,t)},uO=B.forwardRef(function(t,n){var r;const{"aria-describedby":s,"aria-label":i,autoFocus:o,autoWidth:A,children:l,className:c,defaultOpen:u,defaultValue:d,disabled:p,displayEmpty:f,error:v=!1,IconComponent:g,inputRef:y,labelId:x,MenuProps:w={},multiple:b,name:j,onBlur:_,onChange:k,onClose:D,onFocus:N,onOpen:U,open:L,readOnly:E,renderValue:I,SelectDisplayProps:T={},tabIndex:P,value:K,variant:Q="standard"}=t,F=Ve(t,iO),[$,O]=Sa({controlled:K,default:d,name:"Select"}),[H,ie]=Sa({controlled:L,default:u,name:"Select"}),M=B.useRef(null),W=B.useRef(null),[V,X]=B.useState(null),{current:Y}=B.useRef(L!=null),[ee,ce]=B.useState(),Ae=Xn(n,y),Ee=B.useCallback(He=>{W.current=He,He&&X(He)},[]),fe=V==null?void 0:V.parentNode;B.useImperativeHandle(Ae,()=>({focus:()=>{W.current.focus()},node:M.current,value:$}),[$]),B.useEffect(()=>{u&&H&&V&&!Y&&(ce(A?null:fe.clientWidth),W.current.focus())},[V,A]),B.useEffect(()=>{o&&W.current.focus()},[o]),B.useEffect(()=>{if(!x)return;const He=Mr(W.current).getElementById(x);if(He){const xt=()=>{getSelection().isCollapsed&&W.current.focus()};return He.addEventListener("click",xt),()=>{He.removeEventListener("click",xt)}}},[x]);const we=(He,xt)=>{He?U&&U(xt):D&&D(xt),Y||(ce(A?null:fe.clientWidth),ie(He))},de=He=>{He.button===0&&(He.preventDefault(),W.current.focus(),we(!0,He))},Be=He=>{we(!1,He)},pe=B.Children.toArray(l),se=He=>{const xt=pe.find(Qe=>Qe.props.value===He.target.value);xt!==void 0&&(O(xt.props.value),k&&k(He,xt))},me=He=>xt=>{let Qe;if(xt.currentTarget.hasAttribute("tabindex")){if(b){Qe=Array.isArray($)?$.slice():[];const et=$.indexOf(He.props.value);et===-1?Qe.push(He.props.value):Qe.splice(et,1)}else Qe=He.props.value;if(He.props.onClick&&He.props.onClick(xt),$!==Qe&&(O(Qe),k)){const et=xt.nativeEvent||xt,Pe=new et.constructor(et.type,et);Object.defineProperty(Pe,"target",{writable:!0,value:{value:Qe,name:j}}),k(Pe,He)}b||we(!1,xt)}},ne=He=>{E||[" ","ArrowUp","ArrowDown","Enter"].indexOf(He.key)!==-1&&(He.preventDefault(),we(!0,He))},ae=V!==null&&H,he=He=>{!ae&&_&&(Object.defineProperty(He,"target",{writable:!0,value:{value:$,name:j}}),_(He))};delete F["aria-invalid"];let ge,Ce;const ye=[];let Le=!1;(tg({value:$})||f)&&(I?ge=I($):Le=!0);const We=pe.map(He=>{if(!B.isValidElement(He))return null;let xt;if(b){if(!Array.isArray($))throw new Error(io(2));xt=$.some(Qe=>Vw(Qe,He.props.value)),xt&&Le&&ye.push(He.props.children)}else xt=Vw($,He.props.value),xt&&Le&&(Ce=He.props.children);return B.cloneElement(He,{"aria-selected":xt?"true":"false",onClick:me(He),onKeyUp:Qe=>{Qe.key===" "&&Qe.preventDefault(),He.props.onKeyUp&&He.props.onKeyUp(Qe)},role:"option",selected:xt,value:void 0,"data-value":He.props.value})});Le&&(b?ye.length===0?ge=null:ge=ye.reduce((He,xt,Qe)=>(He.push(xt),Qe<ye.length-1&&He.push(", "),He),[]):ge=Ce);let De=ee;!A&&Y&&V&&(De=fe.clientWidth);let $e;typeof P<"u"?$e=P:$e=p?null:0;const Ge=T.id||(j?`mui-component-select-${j}`:void 0),_e=z({},t,{variant:Q,value:$,open:ae,error:v}),Me=cO(_e),Ie=z({},w.PaperProps,(r=w.slotProps)==null?void 0:r.paper),nt=qc();return a.jsxs(B.Fragment,{children:[a.jsx(aO,z({ref:Ee,tabIndex:$e,role:"combobox","aria-controls":nt,"aria-disabled":p?"true":void 0,"aria-expanded":ae?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[x,Ge].filter(Boolean).join(" ")||void 0,"aria-describedby":s,onKeyDown:ne,onMouseDown:p||E?null:de,onBlur:he,onFocus:N},T,{ownerState:_e,className:Ye(T.className,Me.select,c),id:Ge,children:lO(ge)?Kw||(Kw=a.jsx("span",{className:"notranslate",children:"​"})):ge})),a.jsx(AO,z({"aria-invalid":v,value:Array.isArray($)?$.join(","):$,name:j,ref:M,"aria-hidden":!0,onChange:se,tabIndex:-1,disabled:p,className:Me.nativeInput,autoFocus:o,ownerState:_e},F)),a.jsx(oO,{as:g,className:Me.icon,ownerState:_e}),a.jsx(MH,z({id:`menu-${j||""}`,anchorEl:fe,open:ae,onClose:Be,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},w,{MenuListProps:z({"aria-labelledby":x,role:"listbox","aria-multiselectable":b?"true":void 0,disableListWrap:!0,id:nt},w.MenuListProps),slotProps:z({},w.slotProps,{paper:z({},Ie,{style:z({minWidth:De},Ie!=null?Ie.style:null)})}),children:We}))]})}),dO=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],hO=["root"],fO=e=>{const{classes:t}=e;return t},Nx={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>Ws(e)&&e!=="variant",slot:"Root"},pO=Te(jx,Nx)(""),gO=Te(kx,Nx)(""),mO=Te(Ex,Nx)(""),Ia=B.forwardRef(function(t,n){const r=wt({name:"MuiSelect",props:t}),{autoWidth:s=!1,children:i,classes:o={},className:A,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=zQ,id:d,input:p,inputProps:f,label:v,labelId:g,MenuProps:y,multiple:x=!1,native:w=!1,onClose:b,onOpen:j,open:_,renderValue:k,SelectDisplayProps:D,variant:N="outlined"}=r,U=Ve(r,dO),L=w?GH:uO,E=ka(),I=oA({props:r,muiFormControl:E,states:["variant","error"]}),T=I.variant||N,P=z({},r,{variant:T,classes:o}),K=fO(P),Q=Ve(K,hO),F=p||{standard:a.jsx(pO,{ownerState:P}),outlined:a.jsx(gO,{label:v,ownerState:P}),filled:a.jsx(mO,{ownerState:P})}[T],$=Xn(n,YA(F));return a.jsx(B.Fragment,{children:B.cloneElement(F,z({inputComponent:L,inputProps:z({children:i,error:I.error,IconComponent:u,variant:T,type:void 0,multiple:x},w?{id:d}:{autoWidth:s,defaultOpen:l,displayEmpty:c,labelId:g,MenuProps:y,onClose:b,onOpen:j,open:_,renderValue:k,SelectDisplayProps:z({id:d},D)},f,{classes:f?Es(Q,f.classes):Q},p?p.props.inputProps:{})},(x&&w||c)&&T==="outlined"?{notched:!0}:{},{ref:$,className:Ye(F.props.className,A,K.root)},!p&&{variant:T},U))})});Ia.muiName="Select";function vO(e={}){const{autoHideDuration:t=null,disableWindowBlurListener:n=!1,onClose:r,open:s,resumeHideDuration:i}=e,o=Ro();B.useEffect(()=>{if(!s)return;function x(w){w.defaultPrevented||(w.key==="Escape"||w.key==="Esc")&&(r==null||r(w,"escapeKeyDown"))}return document.addEventListener("keydown",x),()=>{document.removeEventListener("keydown",x)}},[s,r]);const A=Vt((x,w)=>{r==null||r(x,w)}),l=Vt(x=>{!r||x==null||o.start(x,()=>{A(null,"timeout")})});B.useEffect(()=>(s&&l(t),o.clear),[s,t,l,o]);const c=x=>{r==null||r(x,"clickaway")},u=o.clear,d=B.useCallback(()=>{t!=null&&l(i??t*.5)},[t,i,l]),p=x=>w=>{const b=x.onBlur;b==null||b(w),d()},f=x=>w=>{const b=x.onFocus;b==null||b(w),u()},v=x=>w=>{const b=x.onMouseEnter;b==null||b(w),u()},g=x=>w=>{const b=x.onMouseLeave;b==null||b(w),d()};return B.useEffect(()=>{if(!n&&s)return window.addEventListener("focus",d),window.addEventListener("blur",u),()=>{window.removeEventListener("focus",d),window.removeEventListener("blur",u)}},[n,s,d,u]),{getRootProps:(x={})=>{const w=z({},Pp(e),Pp(x));return z({role:"presentation"},x,w,{onBlur:p(w),onFocus:f(w),onMouseEnter:v(w),onMouseLeave:g(w)})},onClickAway:c}}function yO(e){return at("MuiSnackbarContent",e)}ot("MuiSnackbarContent",["root","message","action"]);const xO=["action","className","message","role"],bO=e=>{const{classes:t}=e;return lt({root:["root"],action:["action"],message:["message"]},yO,t)},wO=Te(Wn,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>{const t=e.palette.mode==="light"?.8:.98,n=__(e.palette.background.default,t);return z({},e.typography.body2,{color:e.vars?e.vars.palette.SnackbarContent.color:e.palette.getContrastText(n),backgroundColor:e.vars?e.vars.palette.SnackbarContent.bg:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,flexGrow:1,[e.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),BO=Te("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0"}),CO=Te("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),SO=B.forwardRef(function(t,n){const r=wt({props:t,name:"MuiSnackbarContent"}),{action:s,className:i,message:o,role:A="alert"}=r,l=Ve(r,xO),c=r,u=bO(c);return a.jsxs(wO,z({role:A,square:!0,elevation:6,className:Ye(u.root,i),ownerState:c,ref:n},l,{children:[a.jsx(BO,{className:u.message,ownerState:c,children:o}),s?a.jsx(CO,{className:u.action,ownerState:c,children:s}):null]}))});function EO(e){return at("MuiSnackbar",e)}ot("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const jO=["onEnter","onExited"],IO=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],FO=e=>{const{classes:t,anchorOrigin:n}=e,r={root:["root",`anchorOrigin${Ke(n.vertical)}${Ke(n.horizontal)}`]};return lt(r,EO,t)},Gw=Te("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`anchorOrigin${Ke(n.anchorOrigin.vertical)}${Ke(n.anchorOrigin.horizontal)}`]]}})(({theme:e,ownerState:t})=>{const n={left:"50%",right:"auto",transform:"translateX(-50%)"};return z({zIndex:(e.vars||e).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},t.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},t.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},t.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[e.breakpoints.up("sm")]:z({},t.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},t.anchorOrigin.horizontal==="center"&&n,t.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},t.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),uE=B.forwardRef(function(t,n){const r=wt({props:t,name:"MuiSnackbar"}),s=Li(),i={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{action:o,anchorOrigin:{vertical:A,horizontal:l}={vertical:"bottom",horizontal:"left"},autoHideDuration:c=null,children:u,className:d,ClickAwayListenerProps:p,ContentProps:f,disableWindowBlurListener:v=!1,message:g,open:y,TransitionComponent:x=qd,transitionDuration:w=i,TransitionProps:{onEnter:b,onExited:j}={}}=r,_=Ve(r.TransitionProps,jO),k=Ve(r,IO),D=z({},r,{anchorOrigin:{vertical:A,horizontal:l},autoHideDuration:c,disableWindowBlurListener:v,TransitionComponent:x,transitionDuration:w}),N=FO(D),{getRootProps:U,onClickAway:L}=vO(z({},D)),[E,I]=B.useState(!0),T=Ii({elementType:Gw,getSlotProps:U,externalForwardedProps:k,ownerState:D,additionalProps:{ref:n},className:[N.root,d]}),P=Q=>{I(!0),j&&j(Q)},K=(Q,F)=>{I(!1),b&&b(Q,F)};return!y&&E?null:a.jsx(zP,z({onClickAway:L},p,{children:a.jsx(Gw,z({},T,{children:a.jsx(x,z({appear:!0,in:y,timeout:w,direction:A==="top"?"down":"up",onEnter:K,onExited:P},_,{children:u||a.jsx(SO,z({message:g,action:o},f))}))}))}))});function kO(e){return at("MuiTooltip",e)}const Ho=ot("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),NO=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function _O(e){return Math.round(e*1e5)/1e5}const TO=e=>{const{classes:t,disableInteractive:n,arrow:r,touch:s,placement:i}=e,o={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",s&&"touch",`tooltipPlacement${Ke(i.split("-")[0])}`],arrow:["arrow"]};return lt(o,kO,t)},UO=Te(XS,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})(({theme:e,ownerState:t,open:n})=>z({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none"},!t.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},t.arrow&&{[`&[data-popper-placement*="bottom"] .${Ho.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Ho.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Ho.arrow}`]:z({},t.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${Ho.arrow}`]:z({},t.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),LO=Te("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t[`tooltipPlacement${Ke(n.placement.split("-")[0])}`]]}})(({theme:e,ownerState:t})=>z({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:on(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},t.arrow&&{position:"relative",margin:0},t.touch&&{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${_O(16/14)}em`,fontWeight:e.typography.fontWeightRegular},{[`.${Ho.popper}[data-popper-placement*="left"] &`]:z({transformOrigin:"right center"},t.isRtl?z({marginLeft:"14px"},t.touch&&{marginLeft:"24px"}):z({marginRight:"14px"},t.touch&&{marginRight:"24px"})),[`.${Ho.popper}[data-popper-placement*="right"] &`]:z({transformOrigin:"left center"},t.isRtl?z({marginRight:"14px"},t.touch&&{marginRight:"24px"}):z({marginLeft:"14px"},t.touch&&{marginLeft:"24px"})),[`.${Ho.popper}[data-popper-placement*="top"] &`]:z({transformOrigin:"center bottom",marginBottom:"14px"},t.touch&&{marginBottom:"24px"}),[`.${Ho.popper}[data-popper-placement*="bottom"] &`]:z({transformOrigin:"center top",marginTop:"14px"},t.touch&&{marginTop:"24px"})})),DO=Te("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:on(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let kf=!1;const qw=new lh;let qu={x:0,y:0};function Nf(e,t){return(n,...r)=>{t&&t(n,...r),e(n,...r)}}const Yw=B.forwardRef(function(t,n){var r,s,i,o,A,l,c,u,d,p,f,v,g,y,x,w,b,j,_;const k=wt({props:t,name:"MuiTooltip"}),{arrow:D=!1,children:N,components:U={},componentsProps:L={},describeChild:E=!1,disableFocusListener:I=!1,disableHoverListener:T=!1,disableInteractive:P=!1,disableTouchListener:K=!1,enterDelay:Q=100,enterNextDelay:F=0,enterTouchDelay:$=700,followCursor:O=!1,id:H,leaveDelay:ie=0,leaveTouchDelay:M=1500,onClose:W,onOpen:V,open:X,placement:Y="bottom",PopperComponent:ee,PopperProps:ce={},slotProps:Ae={},slots:Ee={},title:fe,TransitionComponent:we=qd,TransitionProps:de}=k,Be=Ve(k,NO),pe=B.isValidElement(N)?N:a.jsx("span",{children:N}),se=Li(),me=ch(),[ne,ae]=B.useState(),[he,ge]=B.useState(null),Ce=B.useRef(!1),ye=P||O,Le=Ro(),We=Ro(),De=Ro(),$e=Ro(),[Ge,_e]=Sa({controlled:X,default:!1,name:"Tooltip",state:"open"});let Me=Ge;const Ie=qc(H),nt=B.useRef(),He=Vt(()=>{nt.current!==void 0&&(document.body.style.WebkitUserSelect=nt.current,nt.current=void 0),$e.clear()});B.useEffect(()=>He,[He]);const xt=Ht=>{qw.clear(),kf=!0,_e(!0),V&&!Me&&V(Ht)},Qe=Vt(Ht=>{qw.start(800+ie,()=>{kf=!1}),_e(!1),W&&Me&&W(Ht),Le.start(se.transitions.duration.shortest,()=>{Ce.current=!1})}),et=Ht=>{Ce.current&&Ht.type!=="touchstart"||(ne&&ne.removeAttribute("title"),We.clear(),De.clear(),Q||kf&&F?We.start(kf?F:Q,()=>{xt(Ht)}):xt(Ht))},Pe=Ht=>{We.clear(),De.start(ie,()=>{Qe(Ht)})},{isFocusVisibleRef:rt,onBlur:Nt,onFocus:Et,ref:Xt}=Z5(),[,$t]=B.useState(!1),Mt=Ht=>{Nt(Ht),rt.current===!1&&($t(!1),Pe(Ht))},it=Ht=>{ne||ae(Ht.currentTarget),Et(Ht),rt.current===!0&&($t(!0),et(Ht))},ft=Ht=>{Ce.current=!0;const jr=pe.props;jr.onTouchStart&&jr.onTouchStart(Ht)},Vn=Ht=>{ft(Ht),De.clear(),Le.clear(),He(),nt.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",$e.start($,()=>{document.body.style.WebkitUserSelect=nt.current,et(Ht)})},Jt=Ht=>{pe.props.onTouchEnd&&pe.props.onTouchEnd(Ht),He(),De.start(M,()=>{Qe(Ht)})};B.useEffect(()=>{if(!Me)return;function Ht(jr){(jr.key==="Escape"||jr.key==="Esc")&&Qe(jr)}return document.addEventListener("keydown",Ht),()=>{document.removeEventListener("keydown",Ht)}},[Qe,Me]);const Qr=Xn(YA(pe),Xt,ae,n);!fe&&fe!==0&&(Me=!1);const sr=B.useRef(),Ct=Ht=>{const jr=pe.props;jr.onMouseMove&&jr.onMouseMove(Ht),qu={x:Ht.clientX,y:Ht.clientY},sr.current&&sr.current.update()},en={},kt=typeof fe=="string";E?(en.title=!Me&&kt&&!T?fe:null,en["aria-describedby"]=Me?Ie:null):(en["aria-label"]=kt?fe:null,en["aria-labelledby"]=Me&&!kt?Ie:null);const Ln=z({},en,Be,pe.props,{className:Ye(Be.className,pe.props.className),onTouchStart:ft,ref:Qr},O?{onMouseMove:Ct}:{}),Pn={};K||(Ln.onTouchStart=Vn,Ln.onTouchEnd=Jt),T||(Ln.onMouseOver=Nf(et,Ln.onMouseOver),Ln.onMouseLeave=Nf(Pe,Ln.onMouseLeave),ye||(Pn.onMouseOver=et,Pn.onMouseLeave=Pe)),I||(Ln.onFocus=Nf(it,Ln.onFocus),Ln.onBlur=Nf(Mt,Ln.onBlur),ye||(Pn.onFocus=it,Pn.onBlur=Mt));const Zn=B.useMemo(()=>{var Ht;let jr=[{name:"arrow",enabled:!!he,options:{element:he,padding:4}}];return(Ht=ce.popperOptions)!=null&&Ht.modifiers&&(jr=jr.concat(ce.popperOptions.modifiers)),z({},ce.popperOptions,{modifiers:jr})},[he,ce]),dr=z({},k,{isRtl:me,arrow:D,disableInteractive:ye,placement:Y,PopperComponentProp:ee,touch:Ce.current}),oi=TO(dr),Vs=(r=(s=Ee.popper)!=null?s:U.Popper)!=null?r:UO,Fs=(i=(o=(A=Ee.transition)!=null?A:U.Transition)!=null?o:we)!=null?i:qd,ks=(l=(c=Ee.tooltip)!=null?c:U.Tooltip)!=null?l:LO,Ns=(u=(d=Ee.arrow)!=null?d:U.Arrow)!=null?u:DO,Ai=Zl(Vs,z({},ce,(p=Ae.popper)!=null?p:L.popper,{className:Ye(oi.popper,ce==null?void 0:ce.className,(f=(v=Ae.popper)!=null?v:L.popper)==null?void 0:f.className)}),dr),_s=Zl(Fs,z({},de,(g=Ae.transition)!=null?g:L.transition),dr),li=Zl(ks,z({},(y=Ae.tooltip)!=null?y:L.tooltip,{className:Ye(oi.tooltip,(x=(w=Ae.tooltip)!=null?w:L.tooltip)==null?void 0:x.className)}),dr),La=Zl(Ns,z({},(b=Ae.arrow)!=null?b:L.arrow,{className:Ye(oi.arrow,(j=(_=Ae.arrow)!=null?_:L.arrow)==null?void 0:j.className)}),dr);return a.jsxs(B.Fragment,{children:[B.cloneElement(pe,Ln),a.jsx(Vs,z({as:ee??XS,placement:Y,anchorEl:O?{getBoundingClientRect:()=>({top:qu.y,left:qu.x,right:qu.x,bottom:qu.y,width:0,height:0})}:ne,popperRef:sr,open:ne?Me:!1,id:Ie,transition:!0},Pn,Ai,{popperOptions:Zn,children:({TransitionProps:Ht})=>a.jsx(Fs,z({timeout:se.transitions.duration.shorter},Ht,_s,{children:a.jsxs(ks,z({},li,{children:[fe,D?a.jsx(Ns,z({},La,{ref:ge})):null]}))}))}))]})}),wh=B.createContext({}),xm=B.createContext({});function MO(e){return at("MuiStep",e)}ot("MuiStep",["root","horizontal","vertical","alternativeLabel","completed"]);const QO=["active","children","className","component","completed","disabled","expanded","index","last"],PO=e=>{const{classes:t,orientation:n,alternativeLabel:r,completed:s}=e;return lt({root:["root",n,r&&"alternativeLabel",s&&"completed"]},MO,t)},RO=Te("div",{name:"MuiStep",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.alternativeLabel&&t.alternativeLabel,n.completed&&t.completed]}})(({ownerState:e})=>z({},e.orientation==="horizontal"&&{paddingLeft:8,paddingRight:8},e.alternativeLabel&&{flex:1,position:"relative"})),rv=B.forwardRef(function(t,n){const r=wt({props:t,name:"MuiStep"}),{active:s,children:i,className:o,component:A="div",completed:l,disabled:c,expanded:u=!1,index:d,last:p}=r,f=Ve(r,QO),{activeStep:v,connector:g,alternativeLabel:y,orientation:x,nonLinear:w}=B.useContext(wh);let[b=!1,j=!1,_=!1]=[s,l,c];v===d?b=s!==void 0?s:!0:!w&&v>d?j=l!==void 0?l:!0:!w&&v<d&&(_=c!==void 0?c:!0);const k=B.useMemo(()=>({index:d,last:p,expanded:u,icon:d+1,active:b,completed:j,disabled:_}),[d,p,u,b,j,_]),D=z({},r,{active:b,orientation:x,alternativeLabel:y,completed:j,disabled:_,expanded:u,component:A}),N=PO(D),U=a.jsxs(RO,z({as:A,className:Ye(N.root,o),ref:n,ownerState:D},f,{children:[g&&y&&d!==0?g:null,i]}));return a.jsx(xm.Provider,{value:k,children:g&&!y&&d!==0?a.jsxs(B.Fragment,{children:[g,U]}):U})}),HO=st(a.jsx("path",{d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"}),"CheckCircle"),OO=st(a.jsx("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning");function $O(e){return at("MuiStepIcon",e)}const sv=ot("MuiStepIcon",["root","active","completed","error","text"]);var Xw;const zO=["active","className","completed","error","icon"],WO=e=>{const{classes:t,active:n,completed:r,error:s}=e;return lt({root:["root",n&&"active",r&&"completed",s&&"error"],text:["text"]},$O,t)},iv=Te(Xp,{name:"MuiStepIcon",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({display:"block",transition:e.transitions.create("color",{duration:e.transitions.duration.shortest}),color:(e.vars||e).palette.text.disabled,[`&.${sv.completed}`]:{color:(e.vars||e).palette.primary.main},[`&.${sv.active}`]:{color:(e.vars||e).palette.primary.main},[`&.${sv.error}`]:{color:(e.vars||e).palette.error.main}})),KO=Te("text",{name:"MuiStepIcon",slot:"Text",overridesResolver:(e,t)=>t.text})(({theme:e})=>({fill:(e.vars||e).palette.primary.contrastText,fontSize:e.typography.caption.fontSize,fontFamily:e.typography.fontFamily})),VO=B.forwardRef(function(t,n){const r=wt({props:t,name:"MuiStepIcon"}),{active:s=!1,className:i,completed:o=!1,error:A=!1,icon:l}=r,c=Ve(r,zO),u=z({},r,{active:s,completed:o,error:A}),d=WO(u);if(typeof l=="number"||typeof l=="string"){const p=Ye(i,d.root);return A?a.jsx(iv,z({as:OO,className:p,ref:n,ownerState:u},c)):o?a.jsx(iv,z({as:HO,className:p,ref:n,ownerState:u},c)):a.jsxs(iv,z({className:p,ref:n,ownerState:u},c,{children:[Xw||(Xw=a.jsx("circle",{cx:"12",cy:"12",r:"12"})),a.jsx(KO,{className:d.text,x:"12",y:"12",textAnchor:"middle",dominantBaseline:"central",ownerState:u,children:l})]}))}return l});function GO(e){return at("MuiStepLabel",e)}const Oo=ot("MuiStepLabel",["root","horizontal","vertical","label","active","completed","error","disabled","iconContainer","alternativeLabel","labelContainer"]),qO=["children","className","componentsProps","error","icon","optional","slotProps","StepIconComponent","StepIconProps"],YO=e=>{const{classes:t,orientation:n,active:r,completed:s,error:i,disabled:o,alternativeLabel:A}=e;return lt({root:["root",n,i&&"error",o&&"disabled",A&&"alternativeLabel"],label:["label",r&&"active",s&&"completed",i&&"error",o&&"disabled",A&&"alternativeLabel"],iconContainer:["iconContainer",r&&"active",s&&"completed",i&&"error",o&&"disabled",A&&"alternativeLabel"],labelContainer:["labelContainer",A&&"alternativeLabel"]},GO,t)},XO=Te("span",{name:"MuiStepLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation]]}})(({ownerState:e})=>z({display:"flex",alignItems:"center",[`&.${Oo.alternativeLabel}`]:{flexDirection:"column"},[`&.${Oo.disabled}`]:{cursor:"default"}},e.orientation==="vertical"&&{textAlign:"left",padding:"8px 0"})),JO=Te("span",{name:"MuiStepLabel",slot:"Label",overridesResolver:(e,t)=>t.label})(({theme:e})=>z({},e.typography.body2,{display:"block",transition:e.transitions.create("color",{duration:e.transitions.duration.shortest}),[`&.${Oo.active}`]:{color:(e.vars||e).palette.text.primary,fontWeight:500},[`&.${Oo.completed}`]:{color:(e.vars||e).palette.text.primary,fontWeight:500},[`&.${Oo.alternativeLabel}`]:{marginTop:16},[`&.${Oo.error}`]:{color:(e.vars||e).palette.error.main}})),ZO=Te("span",{name:"MuiStepLabel",slot:"IconContainer",overridesResolver:(e,t)=>t.iconContainer})(()=>({flexShrink:0,display:"flex",paddingRight:8,[`&.${Oo.alternativeLabel}`]:{paddingRight:0}})),e7=Te("span",{name:"MuiStepLabel",slot:"LabelContainer",overridesResolver:(e,t)=>t.labelContainer})(({theme:e})=>({width:"100%",color:(e.vars||e).palette.text.secondary,[`&.${Oo.alternativeLabel}`]:{textAlign:"center"}})),Cp=B.forwardRef(function(t,n){var r;const s=wt({props:t,name:"MuiStepLabel"}),{children:i,className:o,componentsProps:A={},error:l=!1,icon:c,optional:u,slotProps:d={},StepIconComponent:p,StepIconProps:f}=s,v=Ve(s,qO),{alternativeLabel:g,orientation:y}=B.useContext(wh),{active:x,disabled:w,completed:b,icon:j}=B.useContext(xm),_=c||j;let k=p;_&&!k&&(k=VO);const D=z({},s,{active:x,alternativeLabel:g,completed:b,disabled:w,error:l,orientation:y}),N=YO(D),U=(r=d.label)!=null?r:A.label;return a.jsxs(XO,z({className:Ye(N.root,o),ref:n,ownerState:D},v,{children:[_||k?a.jsx(ZO,{className:N.iconContainer,ownerState:D,children:a.jsx(k,z({completed:b,active:x,error:l,icon:_},f))}):null,a.jsxs(e7,{className:N.labelContainer,ownerState:D,children:[i?a.jsx(JO,z({ownerState:D},U,{className:Ye(N.label,U==null?void 0:U.className),children:i})):null,u]})]}))});Cp.muiName="StepLabel";function t7(e){return at("MuiStepConnector",e)}ot("MuiStepConnector",["root","horizontal","vertical","alternativeLabel","active","completed","disabled","line","lineHorizontal","lineVertical"]);const n7=["className"],r7=e=>{const{classes:t,orientation:n,alternativeLabel:r,active:s,completed:i,disabled:o}=e,A={root:["root",n,r&&"alternativeLabel",s&&"active",i&&"completed",o&&"disabled"],line:["line",`line${Ke(n)}`]};return lt(A,t7,t)},s7=Te("div",{name:"MuiStepConnector",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.alternativeLabel&&t.alternativeLabel,n.completed&&t.completed]}})(({ownerState:e})=>z({flex:"1 1 auto"},e.orientation==="vertical"&&{marginLeft:12},e.alternativeLabel&&{position:"absolute",top:12,left:"calc(-50% + 20px)",right:"calc(50% + 20px)"})),i7=Te("span",{name:"MuiStepConnector",slot:"Line",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.line,t[`line${Ke(n.orientation)}`]]}})(({ownerState:e,theme:t})=>{const n=t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[600];return z({display:"block",borderColor:t.vars?t.vars.palette.StepConnector.border:n},e.orientation==="horizontal"&&{borderTopStyle:"solid",borderTopWidth:1},e.orientation==="vertical"&&{borderLeftStyle:"solid",borderLeftWidth:1,minHeight:24})}),a7=B.forwardRef(function(t,n){const r=wt({props:t,name:"MuiStepConnector"}),{className:s}=r,i=Ve(r,n7),{alternativeLabel:o,orientation:A="horizontal"}=B.useContext(wh),{active:l,disabled:c,completed:u}=B.useContext(xm),d=z({},r,{alternativeLabel:o,orientation:A,active:l,completed:u,disabled:c}),p=r7(d);return a.jsx(s7,z({className:Ye(p.root,s),ref:n,ownerState:d},i,{children:a.jsx(i7,{className:p.line,ownerState:d})}))});function o7(e){return at("MuiStepContent",e)}ot("MuiStepContent",["root","last","transition"]);const A7=["children","className","TransitionComponent","transitionDuration","TransitionProps"],l7=e=>{const{classes:t,last:n}=e;return lt({root:["root",n&&"last"],transition:["transition"]},o7,t)},c7=Te("div",{name:"MuiStepContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.last&&t.last]}})(({ownerState:e,theme:t})=>z({marginLeft:12,paddingLeft:20,paddingRight:8,borderLeft:t.vars?`1px solid ${t.vars.palette.StepContent.border}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[600]}`},e.last&&{borderLeft:"none"})),u7=Te(gx,{name:"MuiStepContent",slot:"Transition",overridesResolver:(e,t)=>t.transition})({}),av=B.forwardRef(function(t,n){const r=wt({props:t,name:"MuiStepContent"}),{children:s,className:i,TransitionComponent:o=gx,transitionDuration:A="auto",TransitionProps:l}=r,c=Ve(r,A7),{orientation:u}=B.useContext(wh),{active:d,last:p,expanded:f}=B.useContext(xm),v=z({},r,{last:p}),g=l7(v);let y=A;return A==="auto"&&!o.muiSupportAuto&&(y=void 0),a.jsx(c7,z({className:Ye(g.root,i),ref:n,ownerState:v},c,{children:a.jsx(u7,z({as:o,in:d||f,className:g.transition,ownerState:v,timeout:y,unmountOnExit:!0},l,{children:s}))}))});function d7(e){return at("MuiStepper",e)}ot("MuiStepper",["root","horizontal","vertical","nonLinear","alternativeLabel"]);const h7=["activeStep","alternativeLabel","children","className","component","connector","nonLinear","orientation"],f7=e=>{const{orientation:t,nonLinear:n,alternativeLabel:r,classes:s}=e;return lt({root:["root",t,n&&"nonLinear",r&&"alternativeLabel"]},d7,s)},p7=Te("div",{name:"MuiStepper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.alternativeLabel&&t.alternativeLabel,n.nonLinear&&t.nonLinear]}})(({ownerState:e})=>z({display:"flex"},e.orientation==="horizontal"&&{flexDirection:"row",alignItems:"center"},e.orientation==="vertical"&&{flexDirection:"column"},e.alternativeLabel&&{alignItems:"flex-start"})),g7=a.jsx(a7,{}),m7=B.forwardRef(function(t,n){const r=wt({props:t,name:"MuiStepper"}),{activeStep:s=0,alternativeLabel:i=!1,children:o,className:A,component:l="div",connector:c=g7,nonLinear:u=!1,orientation:d="horizontal"}=r,p=Ve(r,h7),f=z({},r,{nonLinear:u,alternativeLabel:i,orientation:d,component:l}),v=f7(f),g=B.Children.toArray(o).filter(Boolean),y=g.map((w,b)=>B.cloneElement(w,z({index:b,last:b+1===g.length},w.props))),x=B.useMemo(()=>({activeStep:s,alternativeLabel:i,connector:c,nonLinear:u,orientation:d}),[s,i,c,u,d]);return a.jsx(wh.Provider,{value:x,children:a.jsx(p7,z({as:l,ownerState:f,className:Ye(v.root,A),ref:n},p,{children:y}))})});function v7(e){return at("MuiSwitch",e)}const Bs=ot("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),y7=["className","color","edge","size","sx"],x7=e=>{const{classes:t,edge:n,size:r,color:s,checked:i,disabled:o}=e,A={root:["root",n&&`edge${Ke(n)}`,`size${Ke(r)}`],switchBase:["switchBase",`color${Ke(s)}`,i&&"checked",o&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},l=lt(A,v7,t);return z({},t,l)},b7=Te("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.edge&&t[`edge${Ke(n.edge)}`],t[`size${Ke(n.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${Bs.thumb}`]:{width:16,height:16},[`& .${Bs.switchBase}`]:{padding:4,[`&.${Bs.checked}`]:{transform:"translateX(16px)"}}}}]}),w7=Te(eE,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.switchBase,{[`& .${Bs.input}`]:t.input},n.color!=="default"&&t[`color${Ke(n.color)}`]]}})(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${Bs.checked}`]:{transform:"translateX(20px)"},[`&.${Bs.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${Bs.checked} + .${Bs.track}`]:{opacity:.5},[`&.${Bs.disabled} + .${Bs.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${Bs.input}`]:{left:"-100%",width:"300%"}}),({theme:e})=>({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:on(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(e.palette).filter(([,t])=>t.main&&t.light).map(([t])=>({props:{color:t},style:{[`&.${Bs.checked}`]:{color:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:on(e.palette[t].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Bs.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t}DisabledColor`]:`${e.palette.mode==="light"?jc(e.palette[t].main,.62):Ec(e.palette[t].main,.55)}`}},[`&.${Bs.checked} + .${Bs.track}`]:{backgroundColor:(e.vars||e).palette[t].main}}}))]})),B7=Te("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`})),C7=Te("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),Zs=B.forwardRef(function(t,n){const r=wt({props:t,name:"MuiSwitch"}),{className:s,color:i="primary",edge:o=!1,size:A="medium",sx:l}=r,c=Ve(r,y7),u=z({},r,{color:i,edge:o,size:A}),d=x7(u),p=a.jsx(C7,{className:d.thumb,ownerState:u});return a.jsxs(b7,{className:Ye(d.root,s),sx:l,ownerState:u,children:[a.jsx(w7,z({type:"checkbox",icon:p,checkedIcon:p,ref:n,ownerState:u},c,{classes:z({},d,{root:d.switchBase})})),a.jsx(B7,{className:d.track,ownerState:u})]})});function S7(e){return at("MuiTab",e)}const _o=ot("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),E7=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],j7=e=>{const{classes:t,textColor:n,fullWidth:r,wrapped:s,icon:i,label:o,selected:A,disabled:l}=e,c={root:["root",i&&o&&"labelIcon",`textColor${Ke(n)}`,r&&"fullWidth",s&&"wrapped",A&&"selected",l&&"disabled"],iconWrapper:["iconWrapper"]};return lt(c,S7,t)},I7=Te(Ea,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.label&&n.icon&&t.labelIcon,t[`textColor${Ke(n.textColor)}`],n.fullWidth&&t.fullWidth,n.wrapped&&t.wrapped,{[`& .${_o.iconWrapper}`]:t.iconWrapper}]}})(({theme:e,ownerState:t})=>z({},e.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},t.label&&{flexDirection:t.iconPosition==="top"||t.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},t.icon&&t.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${_o.iconWrapper}`]:z({},t.iconPosition==="top"&&{marginBottom:6},t.iconPosition==="bottom"&&{marginTop:6},t.iconPosition==="start"&&{marginRight:e.spacing(1)},t.iconPosition==="end"&&{marginLeft:e.spacing(1)})},t.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${_o.selected}`]:{opacity:1},[`&.${_o.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.textColor==="primary"&&{color:(e.vars||e).palette.text.secondary,[`&.${_o.selected}`]:{color:(e.vars||e).palette.primary.main},[`&.${_o.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.textColor==="secondary"&&{color:(e.vars||e).palette.text.secondary,[`&.${_o.selected}`]:{color:(e.vars||e).palette.secondary.main},[`&.${_o.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},t.wrapped&&{fontSize:e.typography.pxToRem(12)})),Yu=B.forwardRef(function(t,n){const r=wt({props:t,name:"MuiTab"}),{className:s,disabled:i=!1,disableFocusRipple:o=!1,fullWidth:A,icon:l,iconPosition:c="top",indicator:u,label:d,onChange:p,onClick:f,onFocus:v,selected:g,selectionFollowsFocus:y,textColor:x="inherit",value:w,wrapped:b=!1}=r,j=Ve(r,E7),_=z({},r,{disabled:i,disableFocusRipple:o,selected:g,icon:!!l,iconPosition:c,label:!!d,fullWidth:A,textColor:x,wrapped:b}),k=j7(_),D=l&&d&&B.isValidElement(l)?B.cloneElement(l,{className:Ye(k.iconWrapper,l.props.className)}):l,N=L=>{!g&&p&&p(L,w),f&&f(L)},U=L=>{y&&!g&&p&&p(L,w),v&&v(L)};return a.jsxs(I7,z({focusRipple:!o,className:Ye(k.root,s),ref:n,role:"tab","aria-selected":g,disabled:i,onClick:N,onFocus:U,ownerState:_,tabIndex:g?0:-1},j,{children:[c==="top"||c==="start"?a.jsxs(B.Fragment,{children:[D,d]}):a.jsxs(B.Fragment,{children:[d,D]}),u]}))}),dE=B.createContext();function F7(e){return at("MuiTable",e)}ot("MuiTable",["root","stickyHeader"]);const k7=["className","component","padding","size","stickyHeader"],N7=e=>{const{classes:t,stickyHeader:n}=e;return lt({root:["root",n&&"stickyHeader"]},F7,t)},_7=Te("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>z({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":z({},e.typography.body2,{padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},t.stickyHeader&&{borderCollapse:"separate"})),Jw="table",Bh=B.forwardRef(function(t,n){const r=wt({props:t,name:"MuiTable"}),{className:s,component:i=Jw,padding:o="normal",size:A="medium",stickyHeader:l=!1}=r,c=Ve(r,k7),u=z({},r,{component:i,padding:o,size:A,stickyHeader:l}),d=N7(u),p=B.useMemo(()=>({padding:o,size:A,stickyHeader:l}),[o,A,l]);return a.jsx(dE.Provider,{value:p,children:a.jsx(_7,z({as:i,role:i===Jw?null:"table",ref:n,className:Ye(d.root,s),ownerState:u},c))})}),bm=B.createContext();function T7(e){return at("MuiTableBody",e)}ot("MuiTableBody",["root"]);const U7=["className","component"],L7=e=>{const{classes:t}=e;return lt({root:["root"]},T7,t)},D7=Te("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),M7={variant:"body"},Zw="tbody",Ch=B.forwardRef(function(t,n){const r=wt({props:t,name:"MuiTableBody"}),{className:s,component:i=Zw}=r,o=Ve(r,U7),A=z({},r,{component:i}),l=L7(A);return a.jsx(bm.Provider,{value:M7,children:a.jsx(D7,z({className:Ye(l.root,s),as:i,ref:n,role:i===Zw?null:"rowgroup",ownerState:A},o))})});function Q7(e){return at("MuiTableCell",e)}const P7=ot("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),R7=["align","className","component","padding","scope","size","sortDirection","variant"],H7=e=>{const{classes:t,variant:n,align:r,padding:s,size:i,stickyHeader:o}=e,A={root:["root",n,o&&"stickyHeader",r!=="inherit"&&`align${Ke(r)}`,s!=="normal"&&`padding${Ke(s)}`,`size${Ke(i)}`]};return lt(A,Q7,t)},O7=Te("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${Ke(n.size)}`],n.padding!=="normal"&&t[`padding${Ke(n.padding)}`],n.align!=="inherit"&&t[`align${Ke(n.align)}`],n.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>z({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?jc(on(e.palette.divider,1),.88):Ec(on(e.palette.divider,1),.68)}`,textAlign:"left",padding:16},t.variant==="head"&&{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},t.variant==="body"&&{color:(e.vars||e).palette.text.primary},t.variant==="footer"&&{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},t.size==="small"&&{padding:"6px 16px",[`&.${P7.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},t.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},t.padding==="none"&&{padding:0},t.align==="left"&&{textAlign:"left"},t.align==="center"&&{textAlign:"center"},t.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},t.align==="justify"&&{textAlign:"justify"},t.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default})),Wt=B.forwardRef(function(t,n){const r=wt({props:t,name:"MuiTableCell"}),{align:s="inherit",className:i,component:o,padding:A,scope:l,size:c,sortDirection:u,variant:d}=r,p=Ve(r,R7),f=B.useContext(dE),v=B.useContext(bm),g=v&&v.variant==="head";let y;o?y=o:y=g?"th":"td";let x=l;y==="td"?x=void 0:!x&&g&&(x="col");const w=d||v&&v.variant,b=z({},r,{align:s,component:y,padding:A||(f&&f.padding?f.padding:"normal"),size:c||(f&&f.size?f.size:"medium"),sortDirection:u,stickyHeader:w==="head"&&f&&f.stickyHeader,variant:w}),j=H7(b);let _=null;return u&&(_=u==="asc"?"ascending":"descending"),a.jsx(O7,z({as:y,ref:n,className:Ye(j.root,i),"aria-sort":_,scope:x,ownerState:b},p))});function $7(e){return at("MuiTableContainer",e)}ot("MuiTableContainer",["root"]);const z7=["className","component"],W7=e=>{const{classes:t}=e;return lt({root:["root"]},$7,t)},K7=Te("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),Sh=B.forwardRef(function(t,n){const r=wt({props:t,name:"MuiTableContainer"}),{className:s,component:i="div"}=r,o=Ve(r,z7),A=z({},r,{component:i}),l=W7(A);return a.jsx(K7,z({ref:n,as:i,className:Ye(l.root,s),ownerState:A},o))});function V7(e){return at("MuiTableHead",e)}ot("MuiTableHead",["root"]);const G7=["className","component"],q7=e=>{const{classes:t}=e;return lt({root:["root"]},V7,t)},Y7=Te("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),X7={variant:"head"},eB="thead",Eh=B.forwardRef(function(t,n){const r=wt({props:t,name:"MuiTableHead"}),{className:s,component:i=eB}=r,o=Ve(r,G7),A=z({},r,{component:i}),l=q7(A);return a.jsx(bm.Provider,{value:X7,children:a.jsx(Y7,z({as:i,className:Ye(l.root,s),ref:n,role:i===eB?null:"rowgroup",ownerState:A},o))})}),J7=st(a.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),Z7=st(a.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function e9(e){return at("MuiTableRow",e)}const tB=ot("MuiTableRow",["root","selected","hover","head","footer"]),t9=["className","component","hover","selected"],n9=e=>{const{classes:t,selected:n,hover:r,head:s,footer:i}=e;return lt({root:["root",n&&"selected",r&&"hover",s&&"head",i&&"footer"]},e9,t)},r9=Te("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.head&&t.head,n.footer&&t.footer]}})(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${tB.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${tB.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:on(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:on(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}})),nB="tr",Fa=B.forwardRef(function(t,n){const r=wt({props:t,name:"MuiTableRow"}),{className:s,component:i=nB,hover:o=!1,selected:A=!1}=r,l=Ve(r,t9),c=B.useContext(bm),u=z({},r,{component:i,hover:o,selected:A,head:c&&c.variant==="head",footer:c&&c.variant==="footer"}),d=n9(u);return a.jsx(r9,z({as:i,ref:n,className:Ye(d.root,s),role:i===nB?null:"row",ownerState:u},l))});function s9(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function i9(e,t,n,r={},s=()=>{}){const{ease:i=s9,duration:o=300}=r;let A=null;const l=t[e];let c=!1;const u=()=>{c=!0},d=p=>{if(c){s(new Error("Animation cancelled"));return}A===null&&(A=p);const f=Math.min(1,(p-A)/o);if(t[e]=i(f)*(n-l)+l,f>=1){requestAnimationFrame(()=>{s(null)});return}requestAnimationFrame(d)};return l===n?(s(new Error("Element already at target position")),u):(requestAnimationFrame(d),u)}const a9=["onChange"],o9={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function A9(e){const{onChange:t}=e,n=Ve(e,a9),r=B.useRef(),s=B.useRef(null),i=()=>{r.current=s.current.offsetHeight-s.current.clientHeight};return ms(()=>{const o=rm(()=>{const l=r.current;i(),l!==r.current&&t(r.current)}),A=ao(s.current);return A.addEventListener("resize",o),()=>{o.clear(),A.removeEventListener("resize",o)}},[t]),B.useEffect(()=>{i(),t(r.current)},[t]),a.jsx("div",z({style:o9},n,{ref:s}))}function l9(e){return at("MuiTabScrollButton",e)}const c9=ot("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),u9=["className","slots","slotProps","direction","orientation","disabled"],d9=e=>{const{classes:t,orientation:n,disabled:r}=e;return lt({root:["root",n,r&&"disabled"]},l9,t)},h9=Te(Ea,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.orientation&&t[n.orientation]]}})(({ownerState:e})=>z({width:40,flexShrink:0,opacity:.8,[`&.${c9.disabled}`]:{opacity:0}},e.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${e.isRtl?-90:90}deg)`}})),f9=B.forwardRef(function(t,n){var r,s;const i=wt({props:t,name:"MuiTabScrollButton"}),{className:o,slots:A={},slotProps:l={},direction:c}=i,u=Ve(i,u9),d=ch(),p=z({isRtl:d},i),f=d9(p),v=(r=A.StartScrollButtonIcon)!=null?r:J7,g=(s=A.EndScrollButtonIcon)!=null?s:Z7,y=Ii({elementType:v,externalSlotProps:l.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:p}),x=Ii({elementType:g,externalSlotProps:l.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:p});return a.jsx(h9,z({component:"div",className:Ye(f.root,o),ref:n,role:null,ownerState:p,tabIndex:null},u,{children:c==="left"?a.jsx(v,z({},y)):a.jsx(g,z({},x))}))});function p9(e){return at("MuiTabs",e)}const ov=ot("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),g9=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],rB=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,sB=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,_f=(e,t,n)=>{let r=!1,s=n(e,t);for(;s;){if(s===e.firstChild){if(r)return;r=!0}const i=s.disabled||s.getAttribute("aria-disabled")==="true";if(!s.hasAttribute("tabindex")||i)s=n(e,s);else{s.focus();return}}},m9=e=>{const{vertical:t,fixed:n,hideScrollbar:r,scrollableX:s,scrollableY:i,centered:o,scrollButtonsHideMobile:A,classes:l}=e;return lt({root:["root",t&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",s&&"scrollableX",i&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",o&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",A&&"scrollButtonsHideMobile"],scrollableX:[s&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},p9,l)},v9=Te("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${ov.scrollButtons}`]:t.scrollButtons},{[`& .${ov.scrollButtons}`]:n.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,n.vertical&&t.vertical]}})(({ownerState:e,theme:t})=>z({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},e.vertical&&{flexDirection:"column"},e.scrollButtonsHideMobile&&{[`& .${ov.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}})),y9=Te("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.scroller,n.fixed&&t.fixed,n.hideScrollbar&&t.hideScrollbar,n.scrollableX&&t.scrollableX,n.scrollableY&&t.scrollableY]}})(({ownerState:e})=>z({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},e.fixed&&{overflowX:"hidden",width:"100%"},e.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},e.scrollableX&&{overflowX:"auto",overflowY:"hidden"},e.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),x9=Te("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.flexContainer,n.vertical&&t.flexContainerVertical,n.centered&&t.centered]}})(({ownerState:e})=>z({display:"flex"},e.vertical&&{flexDirection:"column"},e.centered&&{justifyContent:"center"})),b9=Te("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})(({ownerState:e,theme:t})=>z({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create()},e.indicatorColor==="primary"&&{backgroundColor:(t.vars||t).palette.primary.main},e.indicatorColor==="secondary"&&{backgroundColor:(t.vars||t).palette.secondary.main},e.vertical&&{height:"100%",width:2,right:0})),w9=Te(A9)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),iB={},B9=B.forwardRef(function(t,n){const r=wt({props:t,name:"MuiTabs"}),s=Li(),i=ch(),{"aria-label":o,"aria-labelledby":A,action:l,centered:c=!1,children:u,className:d,component:p="div",allowScrollButtonsMobile:f=!1,indicatorColor:v="primary",onChange:g,orientation:y="horizontal",ScrollButtonComponent:x=f9,scrollButtons:w="auto",selectionFollowsFocus:b,slots:j={},slotProps:_={},TabIndicatorProps:k={},TabScrollButtonProps:D={},textColor:N="primary",value:U,variant:L="standard",visibleScrollbar:E=!1}=r,I=Ve(r,g9),T=L==="scrollable",P=y==="vertical",K=P?"scrollTop":"scrollLeft",Q=P?"top":"left",F=P?"bottom":"right",$=P?"clientHeight":"clientWidth",O=P?"height":"width",H=z({},r,{component:p,allowScrollButtonsMobile:f,indicatorColor:v,orientation:y,vertical:P,scrollButtons:w,textColor:N,variant:L,visibleScrollbar:E,fixed:!T,hideScrollbar:T&&!E,scrollableX:T&&!P,scrollableY:T&&P,centered:c&&!T,scrollButtonsHideMobile:!f}),ie=m9(H),M=Ii({elementType:j.StartScrollButtonIcon,externalSlotProps:_.startScrollButtonIcon,ownerState:H}),W=Ii({elementType:j.EndScrollButtonIcon,externalSlotProps:_.endScrollButtonIcon,ownerState:H}),[V,X]=B.useState(!1),[Y,ee]=B.useState(iB),[ce,Ae]=B.useState(!1),[Ee,fe]=B.useState(!1),[we,de]=B.useState(!1),[Be,pe]=B.useState({overflow:"hidden",scrollbarWidth:0}),se=new Map,me=B.useRef(null),ne=B.useRef(null),ae=()=>{const Qe=me.current;let et;if(Qe){const rt=Qe.getBoundingClientRect();et={clientWidth:Qe.clientWidth,scrollLeft:Qe.scrollLeft,scrollTop:Qe.scrollTop,scrollLeftNormalized:t_(Qe,i?"rtl":"ltr"),scrollWidth:Qe.scrollWidth,top:rt.top,bottom:rt.bottom,left:rt.left,right:rt.right}}let Pe;if(Qe&&U!==!1){const rt=ne.current.children;if(rt.length>0){const Nt=rt[se.get(U)];Pe=Nt?Nt.getBoundingClientRect():null}}return{tabsMeta:et,tabMeta:Pe}},he=Vt(()=>{const{tabsMeta:Qe,tabMeta:et}=ae();let Pe=0,rt;if(P)rt="top",et&&Qe&&(Pe=et.top-Qe.top+Qe.scrollTop);else if(rt=i?"right":"left",et&&Qe){const Et=i?Qe.scrollLeftNormalized+Qe.clientWidth-Qe.scrollWidth:Qe.scrollLeft;Pe=(i?-1:1)*(et[rt]-Qe[rt]+Et)}const Nt={[rt]:Pe,[O]:et?et[O]:0};if(isNaN(Y[rt])||isNaN(Y[O]))ee(Nt);else{const Et=Math.abs(Y[rt]-Nt[rt]),Xt=Math.abs(Y[O]-Nt[O]);(Et>=1||Xt>=1)&&ee(Nt)}}),ge=(Qe,{animation:et=!0}={})=>{et?i9(K,me.current,Qe,{duration:s.transitions.duration.standard}):me.current[K]=Qe},Ce=Qe=>{let et=me.current[K];P?et+=Qe:(et+=Qe*(i?-1:1),et*=i&&t4()==="reverse"?-1:1),ge(et)},ye=()=>{const Qe=me.current[$];let et=0;const Pe=Array.from(ne.current.children);for(let rt=0;rt<Pe.length;rt+=1){const Nt=Pe[rt];if(et+Nt[$]>Qe){rt===0&&(et=Qe);break}et+=Nt[$]}return et},Le=()=>{Ce(-1*ye())},We=()=>{Ce(ye())},De=B.useCallback(Qe=>{pe({overflow:null,scrollbarWidth:Qe})},[]),$e=()=>{const Qe={};Qe.scrollbarSizeListener=T?a.jsx(w9,{onChange:De,className:Ye(ie.scrollableX,ie.hideScrollbar)}):null;const Pe=T&&(w==="auto"&&(ce||Ee)||w===!0);return Qe.scrollButtonStart=Pe?a.jsx(x,z({slots:{StartScrollButtonIcon:j.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:M},orientation:y,direction:i?"right":"left",onClick:Le,disabled:!ce},D,{className:Ye(ie.scrollButtons,D.className)})):null,Qe.scrollButtonEnd=Pe?a.jsx(x,z({slots:{EndScrollButtonIcon:j.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:W},orientation:y,direction:i?"left":"right",onClick:We,disabled:!Ee},D,{className:Ye(ie.scrollButtons,D.className)})):null,Qe},Ge=Vt(Qe=>{const{tabsMeta:et,tabMeta:Pe}=ae();if(!(!Pe||!et)){if(Pe[Q]<et[Q]){const rt=et[K]+(Pe[Q]-et[Q]);ge(rt,{animation:Qe})}else if(Pe[F]>et[F]){const rt=et[K]+(Pe[F]-et[F]);ge(rt,{animation:Qe})}}}),_e=Vt(()=>{T&&w!==!1&&de(!we)});B.useEffect(()=>{const Qe=rm(()=>{me.current&&he()});let et;const Pe=Et=>{Et.forEach(Xt=>{Xt.removedNodes.forEach($t=>{var Mt;(Mt=et)==null||Mt.unobserve($t)}),Xt.addedNodes.forEach($t=>{var Mt;(Mt=et)==null||Mt.observe($t)})}),Qe(),_e()},rt=ao(me.current);rt.addEventListener("resize",Qe);let Nt;return typeof ResizeObserver<"u"&&(et=new ResizeObserver(Qe),Array.from(ne.current.children).forEach(Et=>{et.observe(Et)})),typeof MutationObserver<"u"&&(Nt=new MutationObserver(Pe),Nt.observe(ne.current,{childList:!0})),()=>{var Et,Xt;Qe.clear(),rt.removeEventListener("resize",Qe),(Et=Nt)==null||Et.disconnect(),(Xt=et)==null||Xt.disconnect()}},[he,_e]),B.useEffect(()=>{const Qe=Array.from(ne.current.children),et=Qe.length;if(typeof IntersectionObserver<"u"&&et>0&&T&&w!==!1){const Pe=Qe[0],rt=Qe[et-1],Nt={root:me.current,threshold:.99},Et=it=>{Ae(!it[0].isIntersecting)},Xt=new IntersectionObserver(Et,Nt);Xt.observe(Pe);const $t=it=>{fe(!it[0].isIntersecting)},Mt=new IntersectionObserver($t,Nt);return Mt.observe(rt),()=>{Xt.disconnect(),Mt.disconnect()}}},[T,w,we,u==null?void 0:u.length]),B.useEffect(()=>{X(!0)},[]),B.useEffect(()=>{he()}),B.useEffect(()=>{Ge(iB!==Y)},[Ge,Y]),B.useImperativeHandle(l,()=>({updateIndicator:he,updateScrollButtons:_e}),[he,_e]);const Me=a.jsx(b9,z({},k,{className:Ye(ie.indicator,k.className),ownerState:H,style:z({},Y,k.style)}));let Ie=0;const nt=B.Children.map(u,Qe=>{if(!B.isValidElement(Qe))return null;const et=Qe.props.value===void 0?Ie:Qe.props.value;se.set(et,Ie);const Pe=et===U;return Ie+=1,B.cloneElement(Qe,z({fullWidth:L==="fullWidth",indicator:Pe&&!V&&Me,selected:Pe,selectionFollowsFocus:b,onChange:g,textColor:N,value:et},Ie===1&&U===!1&&!Qe.props.tabIndex?{tabIndex:0}:{}))}),He=Qe=>{const et=ne.current,Pe=Mr(et).activeElement;if(Pe.getAttribute("role")!=="tab")return;let Nt=y==="horizontal"?"ArrowLeft":"ArrowUp",Et=y==="horizontal"?"ArrowRight":"ArrowDown";switch(y==="horizontal"&&i&&(Nt="ArrowRight",Et="ArrowLeft"),Qe.key){case Nt:Qe.preventDefault(),_f(et,Pe,sB);break;case Et:Qe.preventDefault(),_f(et,Pe,rB);break;case"Home":Qe.preventDefault(),_f(et,null,rB);break;case"End":Qe.preventDefault(),_f(et,null,sB);break}},xt=$e();return a.jsxs(v9,z({className:Ye(ie.root,d),ownerState:H,ref:n,as:p},I,{children:[xt.scrollButtonStart,xt.scrollbarSizeListener,a.jsxs(y9,{className:ie.scroller,ownerState:H,style:{overflow:Be.overflow,[P?`margin${i?"Left":"Right"}`:"marginBottom"]:E?void 0:-Be.scrollbarWidth},ref:me,children:[a.jsx(x9,{"aria-label":o,"aria-labelledby":A,"aria-orientation":y==="vertical"?"vertical":null,className:ie.flexContainer,ownerState:H,onKeyDown:He,ref:ne,role:"tablist",children:nt}),V&&Me]}),xt.scrollButtonEnd]}))});function C9(e){return at("MuiTextField",e)}ot("MuiTextField",["root"]);const S9=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],E9={standard:jx,filled:Ex,outlined:kx},j9=e=>{const{classes:t}=e;return lt({root:["root"]},C9,t)},I9=Te(Ba,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Kt=B.forwardRef(function(t,n){const r=wt({props:t,name:"MuiTextField"}),{autoComplete:s,autoFocus:i=!1,children:o,className:A,color:l="primary",defaultValue:c,disabled:u=!1,error:d=!1,FormHelperTextProps:p,fullWidth:f=!1,helperText:v,id:g,InputLabelProps:y,inputProps:x,InputProps:w,inputRef:b,label:j,maxRows:_,minRows:k,multiline:D=!1,name:N,onBlur:U,onChange:L,onFocus:E,placeholder:I,required:T=!1,rows:P,select:K=!1,SelectProps:Q,type:F,value:$,variant:O="outlined"}=r,H=Ve(r,S9),ie=z({},r,{autoFocus:i,color:l,disabled:u,error:d,fullWidth:f,multiline:D,required:T,select:K,variant:O}),M=j9(ie),W={};O==="outlined"&&(y&&typeof y.shrink<"u"&&(W.notched=y.shrink),W.label=j),K&&((!Q||!Q.native)&&(W.id=void 0),W["aria-describedby"]=void 0);const V=qc(g),X=v&&V?`${V}-helper-text`:void 0,Y=j&&V?`${V}-label`:void 0,ee=E9[O],ce=a.jsx(ee,z({"aria-describedby":X,autoComplete:s,autoFocus:i,defaultValue:c,fullWidth:f,multiline:D,name:N,rows:P,maxRows:_,minRows:k,type:F,value:$,id:V,inputRef:b,onBlur:U,onChange:L,onFocus:E,placeholder:I,inputProps:x},W,w));return a.jsxs(I9,z({className:Ye(M.root,A),disabled:u,error:d,fullWidth:f,ref:n,required:T,color:l,variant:O,ownerState:ie},H,{children:[j!=null&&j!==""&&a.jsx(lo,z({htmlFor:V,id:Y},y,{children:j})),K?a.jsx(Ia,z({"aria-describedby":X,id:V,labelId:Y,value:$,input:ce},Q,{children:o})):ce,v&&a.jsx(s8,z({id:X},p,{children:v}))]}))});function F9({children:e}){const{user:t,admin:n,loading:r}=Er();return console.log("🛡️ ProtectedRoute check:",{user:(t==null?void 0:t.email)||"no user",admin:(n==null?void 0:n.email)||"no admin",loading:r}),r?a.jsx(Ue,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",children:a.jsx(Dr,{})}):!t||!n?(console.log("🚫 Access denied, redirecting to login"),a.jsx(ld,{to:"/login",replace:!0})):a.jsx(a.Fragment,{children:e})}const k9=st([a.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),a.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"AccessTime"),N9=st(a.jsx("path",{d:"M4 10h3v7H4zm6.5 0h3v7h-3zM2 19h20v3H2zm15-9h3v7h-3zm-5-9L2 6v2h20V6z"}),"AccountBalance"),hE=st(a.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle"),nu=st(a.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),_9=st(a.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-5h2zm4 0h-2v-3h2zm0-5h-2v-2h2zm4 5h-2V7h2z"}),"Analytics"),aB=st(a.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),T9=st(a.jsx("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8z"}),"ArrowDownward"),U9=st(a.jsx("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8z"}),"ArrowUpward"),eA=st(a.jsx("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4"}),"AttachMoney"),C1=st(a.jsx("path",{d:"M12 7V3H2v18h20V7zM6 19H4v-2h2zm0-4H4v-2h2zm0-4H4V9h2zm0-4H4V5h2zm4 12H8v-2h2zm0-4H8v-2h2zm0-4H8V9h2zm0-4H8V5h2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8zm-2-8h-2v2h2zm0 4h-2v2h2z"}),"Business"),wm=st(a.jsx("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 16H5V10h14zM9 14H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2zm-8 4H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2z"}),"CalendarMonth"),L9=st(a.jsx("path",{d:"M18 11v2h4v-2zm-2 6.61c.96.71 2.21 1.65 3.2 2.39.4-.53.8-1.07 1.2-1.6-.99-.74-2.24-1.68-3.2-2.4-.4.54-.8 1.08-1.2 1.61M20.4 5.6c-.4-.53-.8-1.07-1.2-1.6-.99.74-2.24 1.68-3.2 2.4.4.53.8 1.07 1.2 1.6.96-.72 2.21-1.65 3.2-2.4M4 9c-1.1 0-2 .9-2 2v2c0 1.1.9 2 2 2h1v4h2v-4h1l5 3V6L8 9zm11.5 3c0-1.33-.58-2.53-1.5-3.35v6.69c.92-.81 1.5-2.01 1.5-3.34"}),"Campaign"),Ja=st(a.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel"),S1=st(a.jsx("path",{d:"M20 2H4c-1.11 0-2 .89-2 2v11c0 1.11.89 2 2 2h4v5l4-2 4 2v-5h4c1.11 0 2-.89 2-2V4c0-1.11-.89-2-2-2m0 13H4v-2h16zm0-5H4V4h16z"}),"CardMembership"),Po=st(a.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),Bm=st(a.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),D9=st(a.jsx("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft"),M9=st(a.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight"),Cm=st(a.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),fE=st(a.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy"),E1=st(a.jsx("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4v-6h16zm0-10H4V6h16z"}),"CreditCard"),Q9=st(a.jsx("path",{d:"M3 13h8V3H3zm0 8h8v-6H3zm10 0h8V11h-8zm0-18v6h8V3z"}),"Dashboard"),ZA=st(a.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),Mc=st(a.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),j1=st(a.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email"),P9=st(a.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error"),R9=st(a.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"ErrorOutline"),H9=st(a.jsx("path",{d:"M10.09 15.59 11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"ExitToApp"),O9=st(a.jsx("path",{d:"M19 9h-4V3H9v6H5l7 7zM5 18v2h14v-2z"}),"FileDownload"),$9=st(a.jsx("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"}),"FilterList"),pE=st(a.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"}),"History"),z9=st(a.jsx("path",{d:"m18 22-.01-6L14 12l3.99-4.01L18 2H6v6l4 4-4 3.99V22zM8 7.5V4h8v3.5l-4 4z"}),"HourglassBottom"),W9=st(a.jsx("path",{d:"M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2zm10 14.5V20H8v-3.5l4-4zm-4-5-4-4V4h8v3.5z"}),"HourglassEmpty"),gE=st(a.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info"),K9=st(a.jsx("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),"Link"),V9=st(a.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"}),"LocationOn"),G9=st(a.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l4 4 4-4H6c0-3.86 3.14-7 7-7s7 3.14 7 7-3.14 7-7 7c-1.9 0-3.62-.76-4.88-1.99L6.7 18.42C8.32 20.01 10.55 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m2 8v-1c0-1.1-.9-2-2-2s-2 .9-2 2v1c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-3c0-.55-.45-1-1-1m-1 0h-2v-1c0-.55.45-1 1-1s1 .45 1 1z"}),"LockReset"),q9=st(a.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),mE=st(a.jsx("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1z"}),"Notifications"),fc=st(a.jsx("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4v-6h16zm0-10H4V6h16z"}),"Payment"),_x=st(a.jsx("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"People"),Y9=st(a.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person"),X9=st(a.jsx("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m-9-2V7H4v3H1v2h3v3h2v-3h3v-2zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"PersonAdd"),I1=st(a.jsx("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02z"}),"Phone"),J9=st(a.jsx("path",{d:"M16 1H8C6.34 1 5 2.34 5 4v16c0 1.66 1.34 3 3 3h8c1.66 0 3-1.34 3-3V4c0-1.66-1.34-3-3-3m-2 20h-4v-1h4zm3.25-3H6.75V4h10.5z"}),"PhoneAndroid"),Z9=st(a.jsx("path",{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3m-3 11H8v-5h8zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m-1-9H6v4h12z"}),"Print"),e$=st(a.jsx("path",{d:"M3 11h8V3H3zm2-6h4v4H5zM3 21h8v-8H3zm2-6h4v4H5zm8-12v8h8V3zm6 6h-4V5h4zm0 10h2v2h-2zm-6-6h2v2h-2zm2 2h2v2h-2zm-2 2h2v2h-2zm2 2h2v2h-2zm2-2h2v2h-2zm0-4h2v2h-2zm2 2h2v2h-2z"}),"QrCode"),Tx=st(a.jsx("path",{d:"M15 21h-2v-2h2zm-2-7h-2v5h2zm8-2h-2v4h2zm-2-2h-2v2h2zM7 12H5v2h2zm-2-2H3v2h2zm7-5h2V3h-2zm-7.5-.5v3h3v-3zM9 9H3V3h6zm-4.5 7.5v3h3v-3zM9 21H3v-6h6zm7.5-16.5v3h3v-3zM21 9h-6V3h6zm-2 10v-3h-4v2h2v3h4v-2zm-2-7h-4v2h4zm-4-2H7v2h2v2h2v-2h2zm1-1V7h-2V5h-2v4zM6.75 5.25h-1.5v1.5h1.5zm0 12h-1.5v1.5h1.5zm12-12h-1.5v1.5h1.5z"}),"QrCode2"),vE=st(a.jsx("path",{d:"M18 17H6v-2h12zm0-4H6v-2h12zm0-4H6V7h12zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2z"}),"Receipt"),yE=st(a.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh"),rg=st(a.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save"),t$=st([a.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),a.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"Schedule"),xE=st(a.jsx("path",{d:"M5 13.18v4L12 21l7-3.82v-4L12 17zM12 3 1 9l11 6 9-4.91V17h2V9z"}),"School"),n$=st(a.jsx("path",{d:"M19.8 18.4 14 10.67V6.5l1.35-1.69c.26-.33.03-.81-.39-.81H9.04c-.42 0-.65.48-.39.81L10 6.5v4.17L4.2 18.4c-.49.66-.02 1.6.8 1.6h14c.82 0 1.29-.94.8-1.6"}),"Science"),r$=st(a.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search"),s$=st([a.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3 6.08 3 3.28 5.64 3.03 9h2.02C5.3 6.75 7.18 5 9.5 5 11.99 5 14 7.01 14 9.5S11.99 14 9.5 14c-.17 0-.33-.03-.5-.05v2.02c.17.02.33.03.5.03 1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19z"},"0"),a.jsx("path",{d:"M6.47 10.82 4 13.29l-2.47-2.47-.71.71L3.29 14 .82 16.47l.71.71L4 14.71l2.47 2.47.71-.71L4.71 14l2.47-2.47z"},"1")],"SearchOff"),Ux=st(a.jsx("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11z"}),"Security"),F1=st(a.jsx("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send"),Lx=st(a.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),bE=st(a.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92"}),"Share"),i$=st(a.jsx("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5z"}),"Shield"),wE=st(a.jsx("path",{d:"M19.52 2.49C17.18.15 12.9.62 9.97 3.55c-1.6 1.6-2.52 3.87-2.54 5.46-.02 1.58.26 3.89-1.35 5.5l-4.24 4.24 1.42 1.42 4.24-4.24c1.61-1.61 3.92-1.33 5.5-1.35s3.86-.94 5.46-2.54c2.92-2.93 3.4-7.21 1.06-9.55m-9.2 9.19c-1.53-1.53-1.05-4.61 1.06-6.72s5.18-2.59 6.72-1.06c1.53 1.53 1.05 4.61-1.06 6.72s-5.18 2.59-6.72 1.06M18 17c.53 0 1.04.21 1.41.59.78.78.78 2.05 0 2.83-.37.37-.88.58-1.41.58s-1.04-.21-1.41-.59c-.78-.78-.78-2.05 0-2.83.37-.37.88-.58 1.41-.58m0-2c-1.02 0-2.05.39-2.83 1.17-1.56 1.56-1.56 4.09 0 5.66.78.78 1.81 1.17 2.83 1.17s2.05-.39 2.83-1.17c1.56-1.56 1.56-4.09 0-5.66C20.05 15.39 19.02 15 18 15"}),"SportsTennis"),a$=st(a.jsx("path",{d:"M2 20h20v-4H2zm2-3h2v2H4zM2 4v4h20V4zm4 3H4V5h2zm-4 7h20v-4H2zm2-3h2v2H4z"}),"Storage"),o$=st(a.jsx("path",{d:"M20 4H4v2h16zm1 10v-2l-1-5H4l-1 5v2h1v6h10v-6h4v6h2v-6zm-9 4H6v-4h6z"}),"Store"),A$=st(a.jsx("path",{d:"M16.5 12c1.38 0 2.49-1.12 2.49-2.5S17.88 7 16.5 7C15.12 7 14 8.12 14 9.5s1.12 2.5 2.5 2.5M9 11c1.66 0 2.99-1.34 2.99-3S10.66 5 9 5C7.34 5 6 6.34 6 8s1.34 3 3 3m7.5 3c-1.83 0-5.5.92-5.5 2.75V19h11v-2.25c0-1.83-3.67-2.75-5.5-2.75M9 13c-2.33 0-7 1.17-7 3.5V19h7v-2.25c0-.85.33-2.34 2.37-3.47C10.5 13.1 9.66 13 9 13"}),"SupervisorAccount"),sg=st(a.jsx("path",{d:"M9 1h6v2H9zm10.03 6.39 1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42C16.07 4.74 14.12 4 12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9 9-4.03 9-9c0-2.12-.74-4.07-1.97-5.61M13 14h-2V8h2z"}),"Timer"),Sm=st(a.jsx("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp"),l$=st(a.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),c$=st(a.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff"),KA=st(a.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning"),u$=st(a.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m-5 14H4v-4h11zm0-5H4V9h11zm5 5h-4V9h4z"}),"Web"),ns=()=>{const{admin:e}=Er(),t=p=>e?e.role==="superadmin"?!0:Array.isArray(p)?p.some(f=>e.permissions.includes(f)):e.permissions.includes(p):!1;return{hasPermission:t,hasAllPermissions:p=>e?e.role==="superadmin"?!0:p.every(f=>e.permissions.includes(f)):!1,hasRole:p=>e?Array.isArray(p)?p.includes(e.role):e.role===p:!1,canAccessVenue:p=>e?e.role==="superadmin"?!0:e.venueId===p:!1,canManageAdmins:()=>t("manage_admins"),canManageAllVenues:()=>t("manage_all_venues"),canViewFinance:()=>t(["manage_finance","view_reports"]),canManageBookings:()=>t(["manage_bookings","manage_all_bookings"]),canManageCourts:()=>t(["manage_courts","manage_all_venues"]),canManageClub:()=>(e==null?void 0:e.role)==="superadmin"||(e==null?void 0:e.role)==="admin"&&(e!=null&&e.venueId)?!0:t(["manage_club","manage_all_venues"]),canViewReports:()=>t(["view_reports","view_all_reports"]),permissions:(e==null?void 0:e.permissions)||[],role:(e==null?void 0:e.role)||null,isSuperAdmin:(e==null?void 0:e.role)==="superadmin",isAdmin:(e==null?void 0:e.role)==="admin",isManager:(e==null?void 0:e.role)==="manager"}};function k1({size:e=60,backgroundColor:t="#00A86B",courtColor:n="white",className:r}){return a.jsxs("svg",{viewBox:"0 0 120 120",xmlns:"http://www.w3.org/2000/svg",width:e,height:e,className:r,children:[a.jsx("rect",{x:"0",y:"0",width:"120",height:"120",rx:"24",fill:t}),a.jsx("rect",{x:"20",y:"20",width:"80",height:"80",rx:"8",fill:"none",stroke:n,strokeWidth:"3"}),a.jsx("line",{x1:"20",y1:"60",x2:"100",y2:"60",stroke:n,strokeWidth:"3"}),a.jsx("line",{x1:"60",y1:"20",x2:"60",y2:"100",stroke:n,strokeWidth:"3"})]})}function N1(){var x;const e=vs(),t=NI(),{club:n,logout:r,admin:s}=Er(),{hasPermission:i,hasRole:o,isSuperAdmin:A,canViewFinance:l,canManageClub:c}=ns(),[u,d]=B.useState(!1),p=[{path:"/admin/dashboard",label:"Главная",icon:a.jsx(Q9,{})},{path:"/admin/bookings",label:"Календарь",icon:a.jsx(wm,{}),permission:["manage_bookings","manage_all_bookings","view_bookings"]},{path:"/admin/trainers",label:"Тренеры",icon:a.jsx(xE,{}),permission:["manage_club","manage_all_venues"]},...A?[{path:"/admin/venues",label:"Все клубы",icon:a.jsx(o$,{})},{path:"/admin/billing-settings",label:"Настройки биллинга",icon:a.jsx(fc,{})},{path:"/admin/admins",label:"Администраторы",icon:a.jsx(A$,{})}]:[],...c()?[{path:"/admin/club",label:"Управление клубом",icon:a.jsx(C1,{})}]:[],{path:"/admin/subscription",label:"Подписка",icon:a.jsx(S1,{}),permission:["manage_club","manage_all_venues"]},{path:"/admin/payment-settings",label:"Настройки оплаты",icon:a.jsx(E1,{}),permission:["manage_club","manage_all_venues"]},{path:"/admin/courts",label:"Корты",icon:a.jsx(wE,{}),permission:["manage_courts","manage_all_venues"]},{path:"/admin/customers",label:"Клиенты",icon:a.jsx(_x,{}),permission:["manage_all_users","manage_club"]},...l()?[{path:"/admin/finance",label:"Финансы",icon:a.jsx(eA,{})}]:[],{path:"/admin/marketing",label:"Маркетинг",icon:a.jsx(Sm,{}),roles:["superadmin","admin"]},...A?[{path:"/admin/settings",label:"Системные настройки",icon:a.jsx(Lx,{})}]:[]].filter(w=>!(w.permission&&!i(w.permission)||w.roles&&!o(w.roles))),f=w=>t.pathname===w,v=w=>{e(w),window.innerWidth<=768&&d(!1)},g=()=>{d(!u)},y=()=>{const w=p.find(b=>f(b.path));return(w==null?void 0:w.label)||"Главная"};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:`sidebar-overlay ${u?"active":""}`,onClick:g}),a.jsxs("aside",{className:`sidebar ${u?"active":""}`,children:[a.jsx("button",{className:"sidebar-close",onClick:g,children:a.jsx(Cm,{})}),a.jsx("div",{className:"logo-section",children:a.jsxs("div",{className:"platform-logo",children:[a.jsx(k1,{size:40}),a.jsx("div",{className:"logo-text",children:"Все Корты"})]})}),a.jsx("nav",{className:"nav-menu",children:p.map(w=>a.jsxs("a",{className:`nav-item ${f(w.path)?"active":""}`,onClick:()=>v(w.path),children:[a.jsx("span",{className:"nav-icon",children:w.icon}),a.jsx("span",{children:w.label})]},w.path))})]}),a.jsxs("div",{className:"main-container",children:[a.jsxs("header",{className:"header",children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[a.jsx("button",{className:"menu-toggle",onClick:g,children:a.jsx(q9,{})}),a.jsx("h1",{className:"page-title",children:y()})]}),a.jsxs("div",{className:"header-actions",children:[a.jsx("button",{className:"notification-btn",children:a.jsx(mE,{fontSize:"small"})}),!A&&n&&a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginRight:"16px",padding:"8px 16px",background:"var(--background)",borderRadius:"8px",border:"1px solid var(--extra-light-gray)"},children:[a.jsx("div",{style:{width:"32px",height:"32px",background:"var(--primary)",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"12px",fontWeight:"700",overflow:"hidden"},children:n.logoUrl?a.jsx("img",{src:n.logoUrl,alt:n.name,style:{width:"100%",height:"100%",objectFit:"cover"}}):((x=n.name)==null?void 0:x.substring(0,2).toUpperCase())||"CL"}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[a.jsx("span",{style:{fontSize:"14px",fontWeight:"600",color:"var(--dark)",lineHeight:"1.2"},children:n.name}),a.jsx("span",{style:{fontSize:"12px",color:"var(--gray)",lineHeight:"1.2"},children:(s==null?void 0:s.role)==="admin"?"Администратор":"Менеджер"})]})]}),a.jsxs("div",{className:"user-menu",children:[!A&&a.jsxs("div",{className:"user-info",children:[a.jsx("span",{className:"user-name",children:s==null?void 0:s.name}),a.jsx("span",{className:"user-role",children:s==null?void 0:s.role})]}),A&&a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginRight:"8px"},children:[a.jsx("div",{style:{width:"32px",height:"32px",background:"#ef4444",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"12px",fontWeight:"700"},children:"SA"}),a.jsx("span",{style:{fontSize:"14px",fontWeight:"600",color:"var(--dark)"},children:"Суперадминистратор"})]}),!A&&a.jsx("button",{className:"user-btn",children:a.jsx(hE,{fontSize:"small"})}),a.jsx("button",{className:"logout-btn",onClick:r,title:"Выйти",children:a.jsx(H9,{fontSize:"small"})})]})]})]}),a.jsx("div",{className:"content",children:a.jsx(_I,{})})]})]})}const oB={"auth/email-already-in-use":"Этот email уже используется","auth/invalid-email":"Некорректный email адрес","auth/weak-password":"Пароль слишком слабый. Минимум 6 символов","auth/user-not-found":"Пользователь не найден","auth/wrong-password":"Неверный пароль","auth/too-many-requests":"Слишком много попыток. Попробуйте позже","auth/user-disabled":"Аккаунт заблокирован","auth/expired-action-code":"Ссылка устарела","auth/invalid-action-code":"Недействительная ссылка","auth/network-request-failed":"Ошибка сети. Проверьте интернет-соединение","permission-denied":"У вас нет прав для выполнения этого действия","not-found":"Запрашиваемые данные не найдены","already-exists":"Такая запись уже существует","resource-exhausted":"Превышен лимит запросов","failed-precondition":"Операция не может быть выполнена в текущем состоянии",aborted:"Операция была прервана","out-of-range":"Значение вне допустимого диапазона",unimplemented:"Функция не реализована",internal:"Внутренняя ошибка сервера",unavailable:"Сервис временно недоступен","data-loss":"Данные повреждены или утеряны",unauthenticated:"Требуется авторизация","booking/slot-occupied":"Это время уже занято","booking/invalid-date":"Некорректная дата бронирования","booking/past-date":"Нельзя забронировать на прошедшую дату","payment/card-declined":"Карта отклонена банком","payment/insufficient-funds":"Недостаточно средств на карте","payment/processing-error":"Ошибка обработки платежа"};function _1(e){var t,n,r;if(console.error("Error caught:",e),e.code&&e.code.startsWith("auth/"))return{type:"AUTH",code:e.code,message:oB[e.code]||e.message||"Ошибка авторизации",originalError:e};if(e instanceof l5||e.code){const s=oB[e.code]||e.message||"Ошибка базы данных";let i="SERVER";return e.code==="permission-denied"||e.code==="unauthenticated"?i="PERMISSION":e.code==="not-found"?i="NOT_FOUND":(e.code==="unavailable"||(t=e.code)!=null&&t.includes("network"))&&(i="NETWORK"),{type:i,code:e.code,message:s,originalError:e}}return(n=e.message)!=null&&n.toLowerCase().includes("network")||(r=e.message)!=null&&r.toLowerCase().includes("fetch")?{type:"NETWORK",message:"Ошибка сети. Проверьте интернет-соединение",originalError:e}:e.type==="validation"||e.validationErrors?{type:"VALIDATION",message:e.message||"Ошибка валидации данных",details:e.validationErrors,originalError:e}:{type:"UNKNOWN",message:e.message||"Произошла неизвестная ошибка",originalError:e}}function d$(e){return typeof e=="string"?e:e.message?e.message:"Произошла ошибка. Попробуйте еще раз"}function BE(e,t){const n=new Date().toISOString();console.group(`🚨 Error at ${n}`),e.type&&console.error("Type:",e.type),e.code&&console.error("Code:",e.code),console.error("Message:",e.message||"Unknown error"),t&&console.error("Context:",t),e.originalError&&console.error("Original error:",e.originalError),e.details&&console.error("Details:",e.details),console.trace("Stack trace"),console.groupEnd()}function h$(){const e=vs(),[t,n]=B.useState(""),[r,s]=B.useState(""),[i,o]=B.useState(!1),[A,l]=B.useState(null),[c,u]=B.useState(!1),d=async p=>{p.preventDefault(),l(null),u(!0);try{if(!t.trim())throw new Error("Email обязателен");if(!r)throw new Error("Пароль обязателен");const f=await sF(fs,t,r),v=qt(Ft(Oe,"admins"),It("email","==",f.user.email));if((await Gt(v)).empty)throw new Error("У вас нет прав доступа к админ-панели");setTimeout(()=>{e("/admin/dashboard")},100)}catch(f){const v=_1(f);BE(v,{component:"Login",email:t}),l(d$(v))}finally{u(!1)}};return a.jsx(Ue,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"#f5f5f5"},children:a.jsx(An,{sx:{maxWidth:400,width:"100%",mx:2},children:a.jsxs(ln,{sx:{p:4},children:[a.jsx(le,{variant:"h4",component:"h1",gutterBottom:!0,align:"center",children:"Админ-панель"}),a.jsx(le,{variant:"body2",color:"text.secondary",align:"center",sx:{mb:3},children:"Вход для сотрудников клубов"}),A&&a.jsx(Yt,{severity:"error",sx:{mb:2},children:A}),a.jsxs("form",{onSubmit:d,children:[a.jsx(Kt,{fullWidth:!0,label:"Email",type:"email",value:t,onChange:p=>n(p.target.value),margin:"normal",required:!0,autoComplete:"email",autoFocus:!0}),a.jsx(Kt,{fullWidth:!0,label:"Пароль",type:i?"text":"password",value:r,onChange:p=>s(p.target.value),margin:"normal",required:!0,autoComplete:"current-password",InputProps:{endAdornment:a.jsx(U8,{position:"end",children:a.jsx(js,{onClick:()=>o(!i),edge:"end",children:i?a.jsx(c$,{}):a.jsx(l$,{})})})}}),a.jsx(jt,{type:"submit",fullWidth:!0,variant:"contained",size:"large",sx:{mt:3,mb:2},disabled:c||!t||!r,startIcon:c&&a.jsx(Dr,{size:20,color:"inherit"}),children:c?"Вход...":"Войти"})]}),a.jsx(le,{variant:"body2",color:"text.secondary",align:"center",sx:{mt:2},children:"Забыли пароль? Обратитесь к администратору системы"}),a.jsx(Ue,{sx:{mt:3,pt:3,borderTop:1,borderColor:"divider"},children:a.jsxs(le,{variant:"body2",color:"text.secondary",align:"center",children:["Хотите зарегистрировать свой клуб?"," ",a.jsx(jt,{variant:"text",onClick:()=>e("/register"),sx:{textTransform:"none"},children:"Создать аккаунт"})]})})]})})})}const AB=[{icon:a.jsx(wE,{}),title:"Управление кортами",description:"Настройка расписания и цен"},{icon:a.jsx(wm,{}),title:"Онлайн-бронирование",description:"Прием заявок 24/7"},{icon:a.jsx(_x,{}),title:"База клиентов",description:"CRM система для клуба"},{icon:a.jsx(_9,{}),title:"Аналитика и отчеты",description:"Статистика доходов и загрузки"},{icon:a.jsx(mE,{}),title:"Уведомления",description:"SMS и email рассылки"},{icon:a.jsx(fc,{}),title:"Онлайн-оплата",description:"Прием платежей картами"},{icon:a.jsx(Lx,{}),title:"Гибкие настройки",description:"Адаптация под ваш клуб"},{icon:a.jsx(Ux,{}),title:"Безопасность",description:"Защита данных клиентов"}];function f$(){const e=vs(),[t,n]=B.useState(!1),[r,s]=B.useState(""),[i,o]=B.useState(!1),[A,l]=B.useState(!1),[c,u]=B.useState(0),[d,p]=B.useState(0),[f,v]=B.useState(!1),[g,y]=B.useState({name:"",address:"",city:"",phone:"",email:"",description:"",organizationType:"ИП",inn:"",bankAccount:"",adminPassword:""});B.useEffect(()=>{if(t){v(!0),p(0),u(0);const b=setInterval(()=>{u(_=>_>=95?(clearInterval(b),95):_+Math.random()*10)},500),j=setInterval(()=>{p(_=>_>=AB.length-1?(clearInterval(j),_):_+1)},2e3);return()=>{clearInterval(b),clearInterval(j)}}else v(!1),u(0),p(0)},[t]);const x=()=>{const b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let j="";for(let _=0;_<10;_++)j+=b.charAt(Math.floor(Math.random()*b.length));return j},w=async b=>{b.preventDefault(),console.log("Form submitted with data:",g),s(""),n(!0);try{if(!g.name||!g.address||!g.city||!g.phone||!g.email){s("Заполните все обязательные поля"),n(!1);return}const j=g.adminPassword||x();console.log("Generated/provided password:",j),fs.currentUser&&(console.log("Signing out current user:",fs.currentUser.email),await Kv(fs)),console.log("Creating user with email:",g.email);const k=(await c5(fs,g.email,j)).user.uid;console.log("User created successfully with ID:",k);const D={name:g.name,address:g.address,city:g.city,phone:g.phone,email:g.email,description:g.description||"",organizationType:g.organizationType,inn:g.inn,bankAccount:g.bankAccount||"",status:"pending",createdAt:new Date,updatedAt:new Date,logoUrl:"",amenities:[],location:null};console.log("Creating venue with data:",D);let N=!1,U="";try{console.log("Creating club via Cloud Function..."),console.log("Sending data:",{venueData:D,password:j,userId:k});const E=await(await fetch("https://europe-west1-sports-booking-app-1d7e5.cloudfunctions.net/createClubHttp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({venueData:D,password:j,userId:k})})).json();if(E.success)console.log("Club created via Cloud Function!"),N=!0,U=E.venueId;else throw new Error(E.error||"Unknown error")}catch(L){throw console.error("Cloud Function failed:",L),L}if(N)l(!1);else{console.log("Saving registration for manual processing...");const L={id:k,userId:k,venueData:D,password:j,timestamp:new Date().toISOString(),status:"pending_manual_creation"};localStorage.setItem("pendingClubRegistration_"+k,JSON.stringify(L)),l(!0)}y({...g,adminPassword:j}),(N||!A)&&u(100),fs.currentUser&&(await Kv(fs),console.log("Signed out after club creation")),o(!0),console.log("Registration completed successfully!")}catch(j){console.error("Error creating club:",j),console.error("Error details:",{code:j==null?void 0:j.code,message:j==null?void 0:j.message,stack:j==null?void 0:j.stack}),j.code==="auth/email-already-in-use"?s("Этот email уже используется. Пожалуйста, войдите в систему."):j.code==="auth/weak-password"?s("Пароль слишком слабый. Минимум 6 символов."):j.code==="auth/invalid-email"?s("Неверный формат email адреса."):s("Ошибка при создании клуба: "+(j.message||"Неизвестная ошибка"))}finally{n(!1)}};return a.jsxs(jd,{component:"main",maxWidth:"md",children:[a.jsxs(Ue,{sx:{marginTop:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[a.jsx(k1,{size:60,className:"mb-4"}),a.jsx(le,{component:"h1",variant:"h4",gutterBottom:!0,children:"Регистрация клуба"}),a.jsx(le,{variant:"body2",color:"textSecondary",align:"center",sx:{mb:3},children:"Создайте аккаунт для управления вашим спортивным клубом"}),a.jsxs(Wn,{sx:{width:"100%",p:4},children:[r&&a.jsx(Yt,{severity:"error",sx:{mb:3},children:r}),a.jsxs("form",{onSubmit:w,children:[a.jsxs(Ue,{sx:{display:"grid",gap:2,gridTemplateColumns:{md:"1fr 1fr"}},children:[a.jsx(le,{variant:"h6",sx:{gridColumn:"1 / -1",mb:1},children:"Информация о клубе"}),a.jsx(Kt,{label:"Название клуба",value:g.name,onChange:b=>y({...g,name:b.target.value}),fullWidth:!0,required:!0}),a.jsx(Kt,{label:"Адрес",value:g.address,onChange:b=>y({...g,address:b.target.value}),fullWidth:!0,required:!0}),a.jsx(Kt,{label:"Город",value:g.city,onChange:b=>y({...g,city:b.target.value}),fullWidth:!0,required:!0}),a.jsx(Kt,{label:"Телефон",value:g.phone,onChange:b=>y({...g,phone:b.target.value}),fullWidth:!0,required:!0,placeholder:"+7 (900) 123-45-67"}),a.jsx(Kt,{label:"Email",value:g.email,onChange:b=>y({...g,email:b.target.value}),fullWidth:!0,required:!0,type:"email",sx:{gridColumn:"1 / -1"}}),a.jsx(le,{variant:"h6",sx:{gridColumn:"1 / -1",mt:2,mb:1},children:"Юридическая информация"}),a.jsxs(Ba,{fullWidth:!0,children:[a.jsx(lo,{children:"Форма организации"}),a.jsxs(Ia,{value:g.organizationType,onChange:b=>y({...g,organizationType:b.target.value}),label:"Форма организации",children:[a.jsx(vr,{value:"ИП",children:"ИП"}),a.jsx(vr,{value:"ООО",children:"ООО"}),a.jsx(vr,{value:"Самозанятый",children:"Самозанятый"})]})]}),a.jsx(Kt,{label:"ИНН",value:g.inn,onChange:b=>y({...g,inn:b.target.value}),fullWidth:!0}),a.jsx(Kt,{label:"Пароль администратора (необязательно)",value:g.adminPassword,onChange:b=>y({...g,adminPassword:b.target.value}),fullWidth:!0,type:"password",helperText:"Если не указан, будет сгенерирован автоматически"})]}),a.jsxs(Ue,{sx:{mt:3,display:"flex",gap:2,justifyContent:"flex-end"},children:[a.jsx(jt,{type:"button",onClick:()=>e("/admin/login"),disabled:t,children:"Уже есть аккаунт?"}),a.jsx(jt,{type:"submit",variant:"contained",disabled:t,children:t?"Создание...":"Создать клуб"})]})]})]})]}),a.jsxs(ba,{open:i,onClose:()=>{},maxWidth:"sm",fullWidth:!0,children:[a.jsx(to,{children:a.jsxs(Ue,{display:"flex",alignItems:"center",gap:2,children:[a.jsx(C1,{color:A?"warning":"success"}),A?"Регистрация отправлена!":"Клуб успешно создан!"]})}),a.jsxs(wa,{children:[a.jsx(Yt,{severity:A?"warning":"success",sx:{mb:2},children:A?"Ваша заявка принята! Мы свяжемся с вами в течение 24 часов для завершения регистрации.":"Сохраните эти данные для входа в систему"}),a.jsxs(Ue,{sx:{display:"flex",flexDirection:"column",gap:2},children:[a.jsxs(Ue,{children:[a.jsx(le,{variant:"body2",color:"textSecondary",children:"Название клуба"}),a.jsx(le,{variant:"body1",fontWeight:"bold",children:g.name})]}),a.jsxs(Ue,{children:[a.jsx(le,{variant:"body2",color:"textSecondary",children:"Email администратора"}),a.jsx(le,{variant:"body1",fontWeight:"bold",children:g.email})]}),a.jsxs(Ue,{children:[a.jsx(le,{variant:"body2",color:"textSecondary",children:"Пароль администратора"}),a.jsx(le,{variant:"body1",fontWeight:"bold",children:g.adminPassword})]})]})]}),a.jsxs(eo,{sx:{justifyContent:"space-between",px:3,pb:3},children:[a.jsx(jt,{onClick:()=>e("/"),variant:"outlined",children:"На главную"}),!A&&a.jsx(jt,{onClick:()=>window.open("/admin/login","_blank"),variant:"contained",startIcon:a.jsx(C1,{}),children:"Вход для админов"})]})]}),a.jsx(ba,{open:t,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{background:"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)",borderRadius:3}},children:a.jsx(wa,{sx:{py:4},children:a.jsxs(Ue,{textAlign:"center",children:[a.jsx(k1,{size:80,className:"mb-4"}),a.jsx(le,{variant:"h5",gutterBottom:!0,sx:{mb:4,fontWeight:600},children:"Создаем ваш клуб..."}),a.jsxs(Ue,{sx:{mb:4},children:[a.jsx(aE,{variant:"determinate",value:c,sx:{height:8,borderRadius:4,backgroundColor:"rgba(0, 168, 107, 0.1)","& .MuiLinearProgress-bar":{borderRadius:4,backgroundColor:"#00A86B"}}}),a.jsxs(le,{variant:"caption",sx:{mt:1,display:"block"},children:[Math.round(c),"%"]})]}),f&&a.jsx(Ue,{sx:{minHeight:120},children:AB.map((b,j)=>a.jsx(bh,{in:d>=j,timeout:1e3,style:{display:d===j?"block":"none"},children:a.jsxs(Ue,{children:[a.jsx(Ue,{sx:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:60,height:60,borderRadius:"50%",backgroundColor:"rgba(0, 168, 107, 0.1)",mb:2},children:mn.cloneElement(b.icon,{sx:{fontSize:30,color:"#00A86B"}})}),a.jsx(le,{variant:"h6",gutterBottom:!0,children:b.title}),a.jsx(le,{variant:"body2",color:"textSecondary",children:b.description})]})},j))}),a.jsx(le,{variant:"body2",color:"textSecondary",sx:{mt:3},children:"Настраиваем систему управления для вашего клуба..."})]})})})]})}var p$=Object.defineProperty,ig=Object.getOwnPropertySymbols,CE=Object.prototype.hasOwnProperty,SE=Object.prototype.propertyIsEnumerable,lB=(e,t,n)=>t in e?p$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,T1=(e,t)=>{for(var n in t||(t={}))CE.call(t,n)&&lB(e,n,t[n]);if(ig)for(var n of ig(t))SE.call(t,n)&&lB(e,n,t[n]);return e},U1=(e,t)=>{var n={};for(var r in e)CE.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ig)for(var r of ig(e))t.indexOf(r)<0&&SE.call(e,r)&&(n[r]=e[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var VA;(e=>{const t=class tn{constructor(l,c,u,d){if(this.version=l,this.errorCorrectionLevel=c,this.modules=[],this.isFunction=[],l<tn.MIN_VERSION||l>tn.MAX_VERSION)throw new RangeError("Version value out of range");if(d<-1||d>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let p=[];for(let v=0;v<this.size;v++)p.push(!1);for(let v=0;v<this.size;v++)this.modules.push(p.slice()),this.isFunction.push(p.slice());this.drawFunctionPatterns();const f=this.addEccAndInterleave(u);if(this.drawCodewords(f),d==-1){let v=1e9;for(let g=0;g<8;g++){this.applyMask(g),this.drawFormatBits(g);const y=this.getPenaltyScore();y<v&&(d=g,v=y),this.applyMask(g)}}s(0<=d&&d<=7),this.mask=d,this.applyMask(d),this.drawFormatBits(d),this.isFunction=[]}static encodeText(l,c){const u=e.QrSegment.makeSegments(l);return tn.encodeSegments(u,c)}static encodeBinary(l,c){const u=e.QrSegment.makeBytes(l);return tn.encodeSegments([u],c)}static encodeSegments(l,c,u=1,d=40,p=-1,f=!0){if(!(tn.MIN_VERSION<=u&&u<=d&&d<=tn.MAX_VERSION)||p<-1||p>7)throw new RangeError("Invalid value");let v,g;for(v=u;;v++){const b=tn.getNumDataCodewords(v,c)*8,j=o.getTotalBits(l,v);if(j<=b){g=j;break}if(v>=d)throw new RangeError("Data too long")}for(const b of[tn.Ecc.MEDIUM,tn.Ecc.QUARTILE,tn.Ecc.HIGH])f&&g<=tn.getNumDataCodewords(v,b)*8&&(c=b);let y=[];for(const b of l){n(b.mode.modeBits,4,y),n(b.numChars,b.mode.numCharCountBits(v),y);for(const j of b.getData())y.push(j)}s(y.length==g);const x=tn.getNumDataCodewords(v,c)*8;s(y.length<=x),n(0,Math.min(4,x-y.length),y),n(0,(8-y.length%8)%8,y),s(y.length%8==0);for(let b=236;y.length<x;b^=253)n(b,8,y);let w=[];for(;w.length*8<y.length;)w.push(0);return y.forEach((b,j)=>w[j>>>3]|=b<<7-(j&7)),new tn(v,c,w,p)}getModule(l,c){return 0<=l&&l<this.size&&0<=c&&c<this.size&&this.modules[c][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let u=0;u<this.size;u++)this.setFunctionModule(6,u,u%2==0),this.setFunctionModule(u,6,u%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),c=l.length;for(let u=0;u<c;u++)for(let d=0;d<c;d++)u==0&&d==0||u==0&&d==c-1||u==c-1&&d==0||this.drawAlignmentPattern(l[u],l[d]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const c=this.errorCorrectionLevel.formatBits<<3|l;let u=c;for(let p=0;p<10;p++)u=u<<1^(u>>>9)*1335;const d=(c<<10|u)^21522;s(d>>>15==0);for(let p=0;p<=5;p++)this.setFunctionModule(8,p,r(d,p));this.setFunctionModule(8,7,r(d,6)),this.setFunctionModule(8,8,r(d,7)),this.setFunctionModule(7,8,r(d,8));for(let p=9;p<15;p++)this.setFunctionModule(14-p,8,r(d,p));for(let p=0;p<8;p++)this.setFunctionModule(this.size-1-p,8,r(d,p));for(let p=8;p<15;p++)this.setFunctionModule(8,this.size-15+p,r(d,p));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let u=0;u<12;u++)l=l<<1^(l>>>11)*7973;const c=this.version<<12|l;s(c>>>18==0);for(let u=0;u<18;u++){const d=r(c,u),p=this.size-11+u%3,f=Math.floor(u/3);this.setFunctionModule(p,f,d),this.setFunctionModule(f,p,d)}}drawFinderPattern(l,c){for(let u=-4;u<=4;u++)for(let d=-4;d<=4;d++){const p=Math.max(Math.abs(d),Math.abs(u)),f=l+d,v=c+u;0<=f&&f<this.size&&0<=v&&v<this.size&&this.setFunctionModule(f,v,p!=2&&p!=4)}}drawAlignmentPattern(l,c){for(let u=-2;u<=2;u++)for(let d=-2;d<=2;d++)this.setFunctionModule(l+d,c+u,Math.max(Math.abs(d),Math.abs(u))!=1)}setFunctionModule(l,c,u){this.modules[c][l]=u,this.isFunction[c][l]=!0}addEccAndInterleave(l){const c=this.version,u=this.errorCorrectionLevel;if(l.length!=tn.getNumDataCodewords(c,u))throw new RangeError("Invalid argument");const d=tn.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c],p=tn.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c],f=Math.floor(tn.getNumRawDataModules(c)/8),v=d-f%d,g=Math.floor(f/d);let y=[];const x=tn.reedSolomonComputeDivisor(p);for(let b=0,j=0;b<d;b++){let _=l.slice(j,j+g-p+(b<v?0:1));j+=_.length;const k=tn.reedSolomonComputeRemainder(_,x);b<v&&_.push(0),y.push(_.concat(k))}let w=[];for(let b=0;b<y[0].length;b++)y.forEach((j,_)=>{(b!=g-p||_>=v)&&w.push(j[b])});return s(w.length==f),w}drawCodewords(l){if(l.length!=Math.floor(tn.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let c=0;for(let u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(let d=0;d<this.size;d++)for(let p=0;p<2;p++){const f=u-p,g=(u+1&2)==0?this.size-1-d:d;!this.isFunction[g][f]&&c<l.length*8&&(this.modules[g][f]=r(l[c>>>3],7-(c&7)),c++)}}s(c==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let c=0;c<this.size;c++)for(let u=0;u<this.size;u++){let d;switch(l){case 0:d=(u+c)%2==0;break;case 1:d=c%2==0;break;case 2:d=u%3==0;break;case 3:d=(u+c)%3==0;break;case 4:d=(Math.floor(u/3)+Math.floor(c/2))%2==0;break;case 5:d=u*c%2+u*c%3==0;break;case 6:d=(u*c%2+u*c%3)%2==0;break;case 7:d=((u+c)%2+u*c%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[c][u]&&d&&(this.modules[c][u]=!this.modules[c][u])}}getPenaltyScore(){let l=0;for(let p=0;p<this.size;p++){let f=!1,v=0,g=[0,0,0,0,0,0,0];for(let y=0;y<this.size;y++)this.modules[p][y]==f?(v++,v==5?l+=tn.PENALTY_N1:v>5&&l++):(this.finderPenaltyAddHistory(v,g),f||(l+=this.finderPenaltyCountPatterns(g)*tn.PENALTY_N3),f=this.modules[p][y],v=1);l+=this.finderPenaltyTerminateAndCount(f,v,g)*tn.PENALTY_N3}for(let p=0;p<this.size;p++){let f=!1,v=0,g=[0,0,0,0,0,0,0];for(let y=0;y<this.size;y++)this.modules[y][p]==f?(v++,v==5?l+=tn.PENALTY_N1:v>5&&l++):(this.finderPenaltyAddHistory(v,g),f||(l+=this.finderPenaltyCountPatterns(g)*tn.PENALTY_N3),f=this.modules[y][p],v=1);l+=this.finderPenaltyTerminateAndCount(f,v,g)*tn.PENALTY_N3}for(let p=0;p<this.size-1;p++)for(let f=0;f<this.size-1;f++){const v=this.modules[p][f];v==this.modules[p][f+1]&&v==this.modules[p+1][f]&&v==this.modules[p+1][f+1]&&(l+=tn.PENALTY_N2)}let c=0;for(const p of this.modules)c=p.reduce((f,v)=>f+(v?1:0),c);const u=this.size*this.size,d=Math.ceil(Math.abs(c*20-u*10)/u)-1;return s(0<=d&&d<=9),l+=d*tn.PENALTY_N4,s(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,c=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let u=[6];for(let d=this.size-7;u.length<l;d-=c)u.splice(1,0,d);return u}}static getNumRawDataModules(l){if(l<tn.MIN_VERSION||l>tn.MAX_VERSION)throw new RangeError("Version number out of range");let c=(16*l+128)*l+64;if(l>=2){const u=Math.floor(l/7)+2;c-=(25*u-10)*u-55,l>=7&&(c-=36)}return s(208<=c&&c<=29648),c}static getNumDataCodewords(l,c){return Math.floor(tn.getNumRawDataModules(l)/8)-tn.ECC_CODEWORDS_PER_BLOCK[c.ordinal][l]*tn.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let c=[];for(let d=0;d<l-1;d++)c.push(0);c.push(1);let u=1;for(let d=0;d<l;d++){for(let p=0;p<c.length;p++)c[p]=tn.reedSolomonMultiply(c[p],u),p+1<c.length&&(c[p]^=c[p+1]);u=tn.reedSolomonMultiply(u,2)}return c}static reedSolomonComputeRemainder(l,c){let u=c.map(d=>0);for(const d of l){const p=d^u.shift();u.push(0),c.forEach((f,v)=>u[v]^=tn.reedSolomonMultiply(f,p))}return u}static reedSolomonMultiply(l,c){if(l>>>8||c>>>8)throw new RangeError("Byte out of range");let u=0;for(let d=7;d>=0;d--)u=u<<1^(u>>>7)*285,u^=(c>>>d&1)*l;return s(u>>>8==0),u}finderPenaltyCountPatterns(l){const c=l[1];s(c<=this.size*3);const u=c>0&&l[2]==c&&l[3]==c*3&&l[4]==c&&l[5]==c;return(u&&l[0]>=c*4&&l[6]>=c?1:0)+(u&&l[6]>=c*4&&l[0]>=c?1:0)}finderPenaltyTerminateAndCount(l,c,u){return l&&(this.finderPenaltyAddHistory(c,u),c=0),c+=this.size,this.finderPenaltyAddHistory(c,u),this.finderPenaltyCountPatterns(u)}finderPenaltyAddHistory(l,c){c[0]==0&&(l+=this.size),c.pop(),c.unshift(l)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(A,l,c){if(l<0||l>31||A>>>l)throw new RangeError("Value out of range");for(let u=l-1;u>=0;u--)c.push(A>>>u&1)}function r(A,l){return(A>>>l&1)!=0}function s(A){if(!A)throw new Error("Assertion error")}const i=class or{constructor(l,c,u){if(this.mode=l,this.numChars=c,this.bitData=u,c<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}static makeBytes(l){let c=[];for(const u of l)n(u,8,c);return new or(or.Mode.BYTE,l.length,c)}static makeNumeric(l){if(!or.isNumeric(l))throw new RangeError("String contains non-numeric characters");let c=[];for(let u=0;u<l.length;){const d=Math.min(l.length-u,3);n(parseInt(l.substring(u,u+d),10),d*3+1,c),u+=d}return new or(or.Mode.NUMERIC,l.length,c)}static makeAlphanumeric(l){if(!or.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let c=[],u;for(u=0;u+2<=l.length;u+=2){let d=or.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u))*45;d+=or.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u+1)),n(d,11,c)}return u<l.length&&n(or.ALPHANUMERIC_CHARSET.indexOf(l.charAt(u)),6,c),new or(or.Mode.ALPHANUMERIC,l.length,c)}static makeSegments(l){return l==""?[]:or.isNumeric(l)?[or.makeNumeric(l)]:or.isAlphanumeric(l)?[or.makeAlphanumeric(l)]:[or.makeBytes(or.toUtf8ByteArray(l))]}static makeEci(l){let c=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)n(l,8,c);else if(l<16384)n(2,2,c),n(l,14,c);else if(l<1e6)n(6,3,c),n(l,21,c);else throw new RangeError("ECI assignment value out of range");return new or(or.Mode.ECI,0,c)}static isNumeric(l){return or.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return or.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,c){let u=0;for(const d of l){const p=d.mode.numCharCountBits(c);if(d.numChars>=1<<p)return 1/0;u+=4+p+d.bitData.length}return u}static toUtf8ByteArray(l){l=encodeURI(l);let c=[];for(let u=0;u<l.length;u++)l.charAt(u)!="%"?c.push(l.charCodeAt(u)):(c.push(parseInt(l.substring(u+1,u+3),16)),u+=2);return c}};i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=i;e.QrSegment=i})(VA||(VA={}));(e=>{(t=>{const n=class{constructor(s,i){this.ordinal=s,this.formatBits=i}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(VA||(VA={}));(e=>{(t=>{const n=class{constructor(s,i){this.modeBits=s,this.numBitsCharCount=i}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(VA||(VA={}));var nc=VA;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var g$={L:nc.QrCode.Ecc.LOW,M:nc.QrCode.Ecc.MEDIUM,Q:nc.QrCode.Ecc.QUARTILE,H:nc.QrCode.Ecc.HIGH},EE=128,jE="L",IE="#FFFFFF",FE="#000000",kE=!1,NE=1,m$=4,v$=0,y$=.1;function _E(e,t=0){const n=[];return e.forEach(function(r,s){let i=null;r.forEach(function(o,A){if(!o&&i!==null){n.push(`M${i+t} ${s+t}h${A-i}v1H${i+t}z`),i=null;return}if(A===r.length-1){if(!o)return;i===null?n.push(`M${A+t},${s+t} h1v1H${A+t}z`):n.push(`M${i+t},${s+t} h${A+1-i}v1H${i+t}z`);return}o&&i===null&&(i=A)})}),n.join("")}function TE(e,t){return e.slice().map((n,r)=>r<t.y||r>=t.y+t.h?n:n.map((s,i)=>i<t.x||i>=t.x+t.w?s:!1))}function x$(e,t,n,r){if(r==null)return null;const s=e.length+n*2,i=Math.floor(t*y$),o=s/t,A=(r.width||i)*o,l=(r.height||i)*o,c=r.x==null?e.length/2-A/2:r.x*o,u=r.y==null?e.length/2-l/2:r.y*o,d=r.opacity==null?1:r.opacity;let p=null;if(r.excavate){let v=Math.floor(c),g=Math.floor(u),y=Math.ceil(A+c-v),x=Math.ceil(l+u-g);p={x:v,y:g,w:y,h:x}}const f=r.crossOrigin;return{x:c,y:u,h:l,w:A,excavation:p,opacity:d,crossOrigin:f}}function b$(e,t){return t!=null?Math.max(Math.floor(t),0):e?m$:v$}function UE({value:e,level:t,minVersion:n,includeMargin:r,marginSize:s,imageSettings:i,size:o,boostLevel:A}){let l=mn.useMemo(()=>{const v=(Array.isArray(e)?e:[e]).reduce((g,y)=>(g.push(...nc.QrSegment.makeSegments(y)),g),[]);return nc.QrCode.encodeSegments(v,g$[t],n,void 0,void 0,A)},[e,t,n,A]);const{cells:c,margin:u,numCells:d,calculatedImageSettings:p}=mn.useMemo(()=>{let f=l.getModules();const v=b$(r,s),g=f.length+v*2,y=x$(f,o,v,i);return{cells:f,margin:v,numCells:g,calculatedImageSettings:y}},[l,o,i,r,s]);return{qrcode:l,margin:u,cells:c,numCells:d,calculatedImageSettings:p}}var w$=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),B$=mn.forwardRef(function(t,n){const r=t,{value:s,size:i=EE,level:o=jE,bgColor:A=IE,fgColor:l=FE,includeMargin:c=kE,minVersion:u=NE,boostLevel:d,marginSize:p,imageSettings:f}=r,g=U1(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:y}=g,x=U1(g,["style"]),w=f==null?void 0:f.src,b=mn.useRef(null),j=mn.useRef(null),_=mn.useCallback(P=>{b.current=P,typeof n=="function"?n(P):n&&(n.current=P)},[n]),[k,D]=mn.useState(!1),{margin:N,cells:U,numCells:L,calculatedImageSettings:E}=UE({value:s,level:o,minVersion:u,boostLevel:d,includeMargin:c,marginSize:p,imageSettings:f,size:i});mn.useEffect(()=>{if(b.current!=null){const P=b.current,K=P.getContext("2d");if(!K)return;let Q=U;const F=j.current,$=E!=null&&F!==null&&F.complete&&F.naturalHeight!==0&&F.naturalWidth!==0;$&&E.excavation!=null&&(Q=TE(U,E.excavation));const O=window.devicePixelRatio||1;P.height=P.width=i*O;const H=i/L*O;K.scale(H,H),K.fillStyle=A,K.fillRect(0,0,L,L),K.fillStyle=l,w$?K.fill(new Path2D(_E(Q,N))):U.forEach(function(ie,M){ie.forEach(function(W,V){W&&K.fillRect(V+N,M+N,1,1)})}),E&&(K.globalAlpha=E.opacity),$&&K.drawImage(F,E.x+N,E.y+N,E.w,E.h)}}),mn.useEffect(()=>{D(!1)},[w]);const I=T1({height:i,width:i},y);let T=null;return w!=null&&(T=mn.createElement("img",{src:w,key:w,style:{display:"none"},onLoad:()=>{D(!0)},ref:j,crossOrigin:E==null?void 0:E.crossOrigin})),mn.createElement(mn.Fragment,null,mn.createElement("canvas",T1({style:I,height:i,width:i,ref:_,role:"img"},x)),T)});B$.displayName="QRCodeCanvas";var ag=mn.forwardRef(function(t,n){const r=t,{value:s,size:i=EE,level:o=jE,bgColor:A=IE,fgColor:l=FE,includeMargin:c=kE,minVersion:u=NE,boostLevel:d,title:p,marginSize:f,imageSettings:v}=r,g=U1(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:y,cells:x,numCells:w,calculatedImageSettings:b}=UE({value:s,level:o,minVersion:u,boostLevel:d,includeMargin:c,marginSize:f,imageSettings:v,size:i});let j=x,_=null;v!=null&&b!=null&&(b.excavation!=null&&(j=TE(x,b.excavation)),_=mn.createElement("image",{href:v.src,height:b.h,width:b.w,x:b.x+y,y:b.y+y,preserveAspectRatio:"none",opacity:b.opacity,crossOrigin:b.crossOrigin}));const k=_E(j,y);return mn.createElement("svg",T1({height:i,width:i,viewBox:`0 0 ${w} ${w}`,ref:n,role:"img"},g),!!p&&mn.createElement("title",null,p),mn.createElement("path",{fill:A,d:`M0,0 h${w}v${w}H0z`,shapeRendering:"crispEdges"}),mn.createElement("path",{fill:l,d:k,shapeRendering:"crispEdges"}),_)});ag.displayName="QRCodeSVG";const C$="modulepreload",S$=function(e){return"/admin/"+e},cB={},Yd=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),A=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=S$(l),l in cB)return;cB[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":C$,c||(d.as="script"),d.crossOrigin="",d.href=l,A&&d.setAttribute("nonce",A),document.head.appendChild(d),c)return new Promise((p,f)=>{d.addEventListener("load",p),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const A=new Event("vite:preloadError",{cancelable:!0});if(A.payload=o,window.dispatchEvent(A),!A.defaultPrevented)throw o}return s.then(o=>{for(const A of o||[])A.status==="rejected"&&i(A.reason);return t().catch(i)})};var ps=Uint8Array,ni=Uint16Array,Dx=Int32Array,Em=new ps([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),jm=new ps([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),L1=new ps([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),LE=function(e,t){for(var n=new ni(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var s=new Dx(n[30]),r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)s[i]=i-n[r]<<5|r;return{b:n,r:s}},DE=LE(Em,2),ME=DE.b,D1=DE.r;ME[28]=258,D1[258]=28;var QE=LE(jm,0),E$=QE.b,uB=QE.r,M1=new ni(32768);for(var Yn=0;Yn<32768;++Yn){var To=(Yn&43690)>>1|(Yn&21845)<<1;To=(To&52428)>>2|(To&13107)<<2,To=(To&61680)>>4|(To&3855)<<4,M1[Yn]=((To&65280)>>8|(To&255)<<8)>>1}var Ca=function(e,t,n){for(var r=e.length,s=0,i=new ni(t);s<r;++s)e[s]&&++i[e[s]-1];var o=new ni(t);for(s=1;s<t;++s)o[s]=o[s-1]+i[s-1]<<1;var A;if(n){A=new ni(1<<t);var l=15-t;for(s=0;s<r;++s)if(e[s])for(var c=s<<4|e[s],u=t-e[s],d=o[e[s]-1]++<<u,p=d|(1<<u)-1;d<=p;++d)A[M1[d]>>l]=c}else for(A=new ni(r),s=0;s<r;++s)e[s]&&(A[s]=M1[o[e[s]-1]++]>>15-e[s]);return A},tA=new ps(288);for(var Yn=0;Yn<144;++Yn)tA[Yn]=8;for(var Yn=144;Yn<256;++Yn)tA[Yn]=9;for(var Yn=256;Yn<280;++Yn)tA[Yn]=7;for(var Yn=280;Yn<288;++Yn)tA[Yn]=8;var Xd=new ps(32);for(var Yn=0;Yn<32;++Yn)Xd[Yn]=5;var j$=Ca(tA,9,0),I$=Ca(tA,9,1),F$=Ca(Xd,5,0),k$=Ca(Xd,5,1),Av=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},$i=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},lv=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},Mx=function(e){return(e+7)/8|0},PE=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new ps(e.subarray(t,n))},N$=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ki=function(e,t,n){var r=new Error(t||N$[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,Ki),!n)throw r;return r},_$=function(e,t,n,r){var s=e.length,i=0;if(!s||t.f&&!t.l)return n||new ps(0);var o=!n,A=o||t.i!=2,l=t.i;o&&(n=new ps(s*3));var c=function(fe){var we=n.length;if(fe>we){var de=new ps(Math.max(we*2,fe));de.set(n),n=de}},u=t.f||0,d=t.p||0,p=t.b||0,f=t.l,v=t.d,g=t.m,y=t.n,x=s*8;do{if(!f){u=$i(e,d,1);var w=$i(e,d+1,3);if(d+=3,w)if(w==1)f=I$,v=k$,g=9,y=5;else if(w==2){var k=$i(e,d,31)+257,D=$i(e,d+10,15)+4,N=k+$i(e,d+5,31)+1;d+=14;for(var U=new ps(N),L=new ps(19),E=0;E<D;++E)L[L1[E]]=$i(e,d+E*3,7);d+=D*3;for(var I=Av(L),T=(1<<I)-1,P=Ca(L,I,1),E=0;E<N;){var K=P[$i(e,d,T)];d+=K&15;var b=K>>4;if(b<16)U[E++]=b;else{var Q=0,F=0;for(b==16?(F=3+$i(e,d,3),d+=2,Q=U[E-1]):b==17?(F=3+$i(e,d,7),d+=3):b==18&&(F=11+$i(e,d,127),d+=7);F--;)U[E++]=Q}}var $=U.subarray(0,k),O=U.subarray(k);g=Av($),y=Av(O),f=Ca($,g,1),v=Ca(O,y,1)}else Ki(1);else{var b=Mx(d)+4,j=e[b-4]|e[b-3]<<8,_=b+j;if(_>s){l&&Ki(0);break}A&&c(p+j),n.set(e.subarray(b,_),p),t.b=p+=j,t.p=d=_*8,t.f=u;continue}if(d>x){l&&Ki(0);break}}A&&c(p+131072);for(var H=(1<<g)-1,ie=(1<<y)-1,M=d;;M=d){var Q=f[lv(e,d)&H],W=Q>>4;if(d+=Q&15,d>x){l&&Ki(0);break}if(Q||Ki(2),W<256)n[p++]=W;else if(W==256){M=d,f=null;break}else{var V=W-254;if(W>264){var E=W-257,X=Em[E];V=$i(e,d,(1<<X)-1)+ME[E],d+=X}var Y=v[lv(e,d)&ie],ee=Y>>4;Y||Ki(3),d+=Y&15;var O=E$[ee];if(ee>3){var X=jm[ee];O+=lv(e,d)&(1<<X)-1,d+=X}if(d>x){l&&Ki(0);break}A&&c(p+131072);var ce=p+V;if(p<O){var Ae=i-O,Ee=Math.min(O,ce);for(Ae+p<0&&Ki(3);p<Ee;++p)n[p]=r[Ae+p]}for(;p<ce;++p)n[p]=n[p-O]}}t.l=f,t.p=M,t.b=p,t.f=u,f&&(u=1,t.m=g,t.d=v,t.n=y)}while(!u);return p!=n.length&&o?PE(n,0,p):n.subarray(0,p)},Wa=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},Xu=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},cv=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var s=n.length,i=n.slice();if(!s)return{t:HE,l:0};if(s==1){var o=new ps(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(_,k){return _.f-k.f}),n.push({s:-1,f:25001});var A=n[0],l=n[1],c=0,u=1,d=2;for(n[0]={s:-1,f:A.f+l.f,l:A,r:l};u!=s-1;)A=n[n[c].f<n[d].f?c++:d++],l=n[c!=u&&n[c].f<n[d].f?c++:d++],n[u++]={s:-1,f:A.f+l.f,l:A,r:l};for(var p=i[0].s,r=1;r<s;++r)i[r].s>p&&(p=i[r].s);var f=new ni(p+1),v=Q1(n[u-1],f,0);if(v>t){var r=0,g=0,y=v-t,x=1<<y;for(i.sort(function(k,D){return f[D.s]-f[k.s]||k.f-D.f});r<s;++r){var w=i[r].s;if(f[w]>t)g+=x-(1<<v-f[w]),f[w]=t;else break}for(g>>=y;g>0;){var b=i[r].s;f[b]<t?g-=1<<t-f[b]++-1:++r}for(;r>=0&&g;--r){var j=i[r].s;f[j]==t&&(--f[j],++g)}v=t}return{t:new ps(f),l:v}},Q1=function(e,t,n){return e.s==-1?Math.max(Q1(e.l,t,n+1),Q1(e.r,t,n+1)):t[e.s]=n},dB=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new ni(++t),r=0,s=e[0],i=1,o=function(l){n[r++]=l},A=1;A<=t;++A)if(e[A]==s&&A!=t)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=e[A]}return{c:n.subarray(0,r),n:t}},Ju=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},RE=function(e,t,n){var r=n.length,s=Mx(t+2);e[s]=r&255,e[s+1]=r>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var i=0;i<r;++i)e[s+i+4]=n[i];return(s+4+r)*8},hB=function(e,t,n,r,s,i,o,A,l,c,u){Wa(t,u++,n),++s[256];for(var d=cv(s,15),p=d.t,f=d.l,v=cv(i,15),g=v.t,y=v.l,x=dB(p),w=x.c,b=x.n,j=dB(g),_=j.c,k=j.n,D=new ni(19),N=0;N<w.length;++N)++D[w[N]&31];for(var N=0;N<_.length;++N)++D[_[N]&31];for(var U=cv(D,7),L=U.t,E=U.l,I=19;I>4&&!L[L1[I-1]];--I);var T=c+5<<3,P=Ju(s,tA)+Ju(i,Xd)+o,K=Ju(s,p)+Ju(i,g)+o+14+3*I+Ju(D,L)+2*D[16]+3*D[17]+7*D[18];if(l>=0&&T<=P&&T<=K)return RE(t,u,e.subarray(l,l+c));var Q,F,$,O;if(Wa(t,u,1+(K<P)),u+=2,K<P){Q=Ca(p,f,0),F=p,$=Ca(g,y,0),O=g;var H=Ca(L,E,0);Wa(t,u,b-257),Wa(t,u+5,k-1),Wa(t,u+10,I-4),u+=14;for(var N=0;N<I;++N)Wa(t,u+3*N,L[L1[N]]);u+=3*I;for(var ie=[w,_],M=0;M<2;++M)for(var W=ie[M],N=0;N<W.length;++N){var V=W[N]&31;Wa(t,u,H[V]),u+=L[V],V>15&&(Wa(t,u,W[N]>>5&127),u+=W[N]>>12)}}else Q=j$,F=tA,$=F$,O=Xd;for(var N=0;N<A;++N){var X=r[N];if(X>255){var V=X>>18&31;Xu(t,u,Q[V+257]),u+=F[V+257],V>7&&(Wa(t,u,X>>23&31),u+=Em[V]);var Y=X&31;Xu(t,u,$[Y]),u+=O[Y],Y>3&&(Xu(t,u,X>>5&8191),u+=jm[Y])}else Xu(t,u,Q[X]),u+=F[X]}return Xu(t,u,Q[256]),u+F[256]},T$=new Dx([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),HE=new ps(0),U$=function(e,t,n,r,s,i){var o=i.z||e.length,A=new ps(r+o+5*(1+Math.ceil(o/7e3))+s),l=A.subarray(r,A.length-s),c=i.l,u=(i.r||0)&7;if(t){u&&(l[0]=i.r>>3);for(var d=T$[t-1],p=d>>13,f=d&8191,v=(1<<n)-1,g=i.p||new ni(32768),y=i.h||new ni(v+1),x=Math.ceil(n/3),w=2*x,b=function(Be){return(e[Be]^e[Be+1]<<x^e[Be+2]<<w)&v},j=new Dx(25e3),_=new ni(288),k=new ni(32),D=0,N=0,U=i.i||0,L=0,E=i.w||0,I=0;U+2<o;++U){var T=b(U),P=U&32767,K=y[T];if(g[P]=K,y[T]=P,E<=U){var Q=o-U;if((D>7e3||L>24576)&&(Q>423||!c)){u=hB(e,l,0,j,_,k,N,L,I,U-I,u),L=D=N=0,I=U;for(var F=0;F<286;++F)_[F]=0;for(var F=0;F<30;++F)k[F]=0}var $=2,O=0,H=f,ie=P-K&32767;if(Q>2&&T==b(U-ie))for(var M=Math.min(p,Q)-1,W=Math.min(32767,U),V=Math.min(258,Q);ie<=W&&--H&&P!=K;){if(e[U+$]==e[U+$-ie]){for(var X=0;X<V&&e[U+X]==e[U+X-ie];++X);if(X>$){if($=X,O=ie,X>M)break;for(var Y=Math.min(ie,X-2),ee=0,F=0;F<Y;++F){var ce=U-ie+F&32767,Ae=g[ce],Ee=ce-Ae&32767;Ee>ee&&(ee=Ee,K=ce)}}}P=K,K=g[P],ie+=P-K&32767}if(O){j[L++]=268435456|D1[$]<<18|uB[O];var fe=D1[$]&31,we=uB[O]&31;N+=Em[fe]+jm[we],++_[257+fe],++k[we],E=U+$,++D}else j[L++]=e[U],++_[e[U]]}}for(U=Math.max(U,E);U<o;++U)j[L++]=e[U],++_[e[U]];u=hB(e,l,c,j,_,k,N,L,I,U-I,u),c||(i.r=u&7|l[u/8|0]<<3,u-=7,i.h=y,i.p=g,i.i=U,i.w=E)}else{for(var U=i.w||0;U<o+c;U+=65535){var de=U+65535;de>=o&&(l[u/8|0]=c,de=o),u=RE(l,u+1,e.subarray(U,de))}i.i=o}return PE(A,0,r+Mx(u)+s)},OE=function(){var e=1,t=0;return{p:function(n){for(var r=e,s=t,i=n.length|0,o=0;o!=i;){for(var A=Math.min(o+2655,i);o<A;++o)s+=r+=n[o];r=(r&65535)+15*(r>>16),s=(s&65535)+15*(s>>16)}e=r,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},L$=function(e,t,n,r,s){if(!s&&(s={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new ps(i.length+e.length);o.set(i),o.set(e,i.length),e=o,s.w=i.length}return U$(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,s)},$E=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},D$=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=OE();s.p(t.dictionary),$E(e,2,s.d())}},M$=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Ki(6,"invalid zlib data"),(e[1]>>5&1)==1&&Ki(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function P1(e,t){t||(t={});var n=OE();n.p(e);var r=L$(e,t,t.dictionary?6:2,4);return D$(r,t),$E(r,r.length-4,n.d()),r}function Q$(e,t){return _$(e.subarray(M$(e),-4),{i:2},t,t)}var P$=typeof TextDecoder<"u"&&new TextDecoder,R$=0;try{P$.decode(HE,{stream:!0}),R$=1}catch{}var Dt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function uv(){Dt.console&&typeof Dt.console.log=="function"&&Dt.console.log.apply(Dt.console,arguments)}var Hn={log:uv,warn:function(e){Dt.console&&(typeof Dt.console.warn=="function"?Dt.console.warn.apply(Dt.console,arguments):uv.call(null,arguments))},error:function(e){Dt.console&&(typeof Dt.console.error=="function"?Dt.console.error.apply(Dt.console,arguments):uv(e))}};function dv(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){SA(r.response,t,n)},r.onerror=function(){Hn.error("could not download file")},r.send()}function fB(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Tf(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var kd,R1,SA=Dt.saveAs||((typeof window>"u"?"undefined":cn(window))!=="object"||window!==Dt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=Dt.URL||Dt.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?fB(s.href)?dv(e,t,n):Tf(s,s.target="_blank"):Tf(s)):(s.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){Tf(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(fB(e))dv(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){Tf(r)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:cn(i)!=="object"&&(Hn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return dv(e,t,n);var s=e.type==="application/octet-stream",i=/constructor/i.test(Dt.HTMLElement)||Dt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&i)&&(typeof FileReader>"u"?"undefined":cn(FileReader))==="object"){var A=new FileReader;A.onloadend=function(){var u=A.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},A.readAsDataURL(e)}else{var l=Dt.URL||Dt.webkitURL,c=l.createObjectURL(e);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function zE(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(A){return[parseInt(A[1]),parseInt(A[2]),parseInt(A[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(A){return[parseInt(A[1],16),parseInt(A[2],16),parseInt(A[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(A){return[parseInt(A[1]+A[1],16),parseInt(A[2]+A[2],16),parseInt(A[3]+A[3],16)]}}],r=0;r<n.length;r++){var s=n[r].re,i=n[r].process,o=s.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var A=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return A.length==1&&(A="0"+A),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+A+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function hv(e,t){var n=e[0],r=e[1],s=e[2],i=e[3];n=is(n,r,s,i,t[0],7,-680876936),i=is(i,n,r,s,t[1],12,-389564586),s=is(s,i,n,r,t[2],17,606105819),r=is(r,s,i,n,t[3],22,-1044525330),n=is(n,r,s,i,t[4],7,-176418897),i=is(i,n,r,s,t[5],12,1200080426),s=is(s,i,n,r,t[6],17,-1473231341),r=is(r,s,i,n,t[7],22,-45705983),n=is(n,r,s,i,t[8],7,1770035416),i=is(i,n,r,s,t[9],12,-1958414417),s=is(s,i,n,r,t[10],17,-42063),r=is(r,s,i,n,t[11],22,-1990404162),n=is(n,r,s,i,t[12],7,1804603682),i=is(i,n,r,s,t[13],12,-40341101),s=is(s,i,n,r,t[14],17,-1502002290),n=as(n,r=is(r,s,i,n,t[15],22,1236535329),s,i,t[1],5,-165796510),i=as(i,n,r,s,t[6],9,-1069501632),s=as(s,i,n,r,t[11],14,643717713),r=as(r,s,i,n,t[0],20,-373897302),n=as(n,r,s,i,t[5],5,-701558691),i=as(i,n,r,s,t[10],9,38016083),s=as(s,i,n,r,t[15],14,-660478335),r=as(r,s,i,n,t[4],20,-405537848),n=as(n,r,s,i,t[9],5,568446438),i=as(i,n,r,s,t[14],9,-1019803690),s=as(s,i,n,r,t[3],14,-187363961),r=as(r,s,i,n,t[8],20,1163531501),n=as(n,r,s,i,t[13],5,-1444681467),i=as(i,n,r,s,t[2],9,-51403784),s=as(s,i,n,r,t[7],14,1735328473),n=os(n,r=as(r,s,i,n,t[12],20,-1926607734),s,i,t[5],4,-378558),i=os(i,n,r,s,t[8],11,-2022574463),s=os(s,i,n,r,t[11],16,1839030562),r=os(r,s,i,n,t[14],23,-35309556),n=os(n,r,s,i,t[1],4,-1530992060),i=os(i,n,r,s,t[4],11,1272893353),s=os(s,i,n,r,t[7],16,-155497632),r=os(r,s,i,n,t[10],23,-1094730640),n=os(n,r,s,i,t[13],4,681279174),i=os(i,n,r,s,t[0],11,-358537222),s=os(s,i,n,r,t[3],16,-722521979),r=os(r,s,i,n,t[6],23,76029189),n=os(n,r,s,i,t[9],4,-640364487),i=os(i,n,r,s,t[12],11,-421815835),s=os(s,i,n,r,t[15],16,530742520),n=As(n,r=os(r,s,i,n,t[2],23,-995338651),s,i,t[0],6,-198630844),i=As(i,n,r,s,t[7],10,1126891415),s=As(s,i,n,r,t[14],15,-1416354905),r=As(r,s,i,n,t[5],21,-57434055),n=As(n,r,s,i,t[12],6,1700485571),i=As(i,n,r,s,t[3],10,-1894986606),s=As(s,i,n,r,t[10],15,-1051523),r=As(r,s,i,n,t[1],21,-2054922799),n=As(n,r,s,i,t[8],6,1873313359),i=As(i,n,r,s,t[15],10,-30611744),s=As(s,i,n,r,t[6],15,-1560198380),r=As(r,s,i,n,t[13],21,1309151649),n=As(n,r,s,i,t[4],6,-145523070),i=As(i,n,r,s,t[11],10,-1120210379),s=As(s,i,n,r,t[2],15,718787259),r=As(r,s,i,n,t[9],21,-343485551),e[0]=$o(n,e[0]),e[1]=$o(r,e[1]),e[2]=$o(s,e[2]),e[3]=$o(i,e[3])}function Im(e,t,n,r,s,i){return t=$o($o(t,e),$o(r,i)),$o(t<<s|t>>>32-s,n)}function is(e,t,n,r,s,i,o){return Im(t&n|~t&r,e,t,s,i,o)}function as(e,t,n,r,s,i,o){return Im(t&r|n&~r,e,t,s,i,o)}function os(e,t,n,r,s,i,o){return Im(t^n^r,e,t,s,i,o)}function As(e,t,n,r,s,i,o){return Im(n^(t|~r),e,t,s,i,o)}function WE(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)hv(r,H$(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(hv(r,s),t=0;t<16;t++)s[t]=0;return s[14]=8*n,hv(r,s),r}function H$(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}kd=Dt.atob.bind(Dt),R1=Dt.btoa.bind(Dt);var pB="0123456789abcdef".split("");function O$(e){for(var t="",n=0;n<4;n++)t+=pB[e>>8*n+4&15]+pB[e>>8*n&15];return t}function $$(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function H1(e){return WE(e).map($$).join("")}var z$=function(e){for(var t=0;t<e.length;t++)e[t]=O$(e[t]);return e.join("")}(WE("hello"))!="5d41402abc4b2a76b9719d911017c592";function $o(e,t){if(z$){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function O1(e,t){var n,r,s,i;if(e!==n){for(var o=(s=e,i=1+(256/e.length>>0),new Array(i+1).join(s)),A=[],l=0;l<256;l++)A[l]=l;var c=0;for(l=0;l<256;l++){var u=A[l];c=(c+u+o.charCodeAt(l))%256,A[l]=A[c],A[c]=u}n=e,r=A}else A=r;var d=t.length,p=0,f=0,v="";for(l=0;l<d;l++)f=(f+(u=A[p=(p+1)%256]))%256,A[p]=A[f],A[f]=u,o=A[(A[p]+A[f])%256],v+=String.fromCharCode(t.charCodeAt(l)^o);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var gB={print:4,modify:8,copy:16,"annot-forms":32};function Gl(e,t,n,r){this.v=1,this.r=2;var s=192;e.forEach(function(A){if(gB.perm!==void 0)throw new Error("Invalid permission: "+A);s+=gB[A]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^s)),this.encryptionKey=H1(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=O1(this.encryptionKey,this.padding)}function ql(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var s=e.charCodeAt(r);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?t+="#"+("0"+s.toString(16)).slice(-2):t+=e[r]}return t}function mB(e){if(cn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,s){if(s=s||!1,typeof n!="string"||typeof r!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var i=Math.random().toString(35);return t[n][i]=[r,!!s],i},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var i in t[n]){var o=t[n][i];try{o[0].apply(e,r)}catch(A){Dt.console&&Hn.error("jsPDF PubSub Error",A.message,A)}o[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function og(e){if(!(this instanceof og))return new og(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function KE(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function jA(e,t,n,r,s){if(!(this instanceof jA))return new jA(e,t,n,r,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,KE.call(this,r,s)}function rc(e,t,n,r,s){if(!(this instanceof rc))return new rc(e,t,n,r,s);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,KE.call(this,r,s)}function Lt(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],s=arguments[2],i=arguments[3],o=[],A=1,l=16,c="S",u=null;cn(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,s=e.format||s,i=e.compress||e.compressPdf||i,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),A=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var d=e.putOnlyUsedFonts||!1,p={},f={internal:{},__private__:{}};f.__private__.PubSub=mB;var v="1.3",g=f.__private__.getPdfVersion=function(){return v};f.__private__.setPdfVersion=function(C){v=C};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return y};var x=f.__private__.getPageFormat=function(C){return y[C]};s=s||"a4";var w={COMPAT:"compat",ADVANCED:"advanced"},b=w.COMPAT;function j(){this.saveGraphicsState(),se(new Ct(Ie,0,0,-Ie,0,vo()*Ie).toString()+" cm"),this.setFontSize(this.getFontSize()/Ie),c="n",b=w.ADVANCED}function _(){this.restoreGraphicsState(),c="S",b=w.COMPAT}var k=f.__private__.combineFontStyleAndFontWeight=function(C,q){if(C=="bold"&&q=="normal"||C=="bold"&&q==400||C=="normal"&&q=="italic"||C=="bold"&&q=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return q&&(C=q==400||q==="normal"?C==="italic"?"italic":"normal":q!=700&&q!=="bold"||C!=="normal"?(q==700?"bold":q)+""+C:"bold"),C};f.advancedAPI=function(C){var q=b===w.COMPAT;return q&&j.call(this),typeof C!="function"||(C(this),q&&_.call(this)),this},f.compatAPI=function(C){var q=b===w.ADVANCED;return q&&_.call(this),typeof C!="function"||(C(this),q&&j.call(this)),this},f.isAdvancedAPI=function(){return b===w.ADVANCED};var D,N=function(C){if(b!==w.ADVANCED)throw new Error(C+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},U=f.roundToPrecision=f.__private__.roundToPrecision=function(C,q){var ue=t||q;if(isNaN(C)||isNaN(ue))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return C.toFixed(ue).replace(/0+$/,"")};D=f.hpf=f.__private__.hpf=typeof l=="number"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return U(C,l)}:l==="smart"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return U(C,C>-1&&C<1?16:5)}:function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return U(C,16)};var L=f.f2=f.__private__.f2=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f2");return U(C,2)},E=f.__private__.f3=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f3");return U(C,3)},I=f.scale=f.__private__.scale=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.scale");return b===w.COMPAT?C*Ie:b===w.ADVANCED?C:void 0},T=function(C){return b===w.COMPAT?vo()-C:b===w.ADVANCED?C:void 0},P=function(C){return I(T(C))};f.__private__.setPrecision=f.setPrecision=function(C){typeof parseInt(C,10)=="number"&&(t=parseInt(C,10))};var K,Q="00000000000000000000000000000000",F=f.__private__.getFileId=function(){return Q},$=f.__private__.setFileId=function(C){return Q=C!==void 0&&/^[a-fA-F0-9]{32}$/.test(C)?C.toUpperCase():Q.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(rs=new Gl(u.userPermissions,u.userPassword,u.ownerPassword,Q)),Q};f.setFileId=function(C){return $(C),this},f.getFileId=function(){return F()};var O=f.__private__.convertDateToPDFDate=function(C){var q=C.getTimezoneOffset(),ue=q<0?"+":"-",ve=Math.floor(Math.abs(q/60)),Fe=Math.abs(q%60),ze=[ue,V(ve),"'",V(Fe),"'"].join("");return["D:",C.getFullYear(),V(C.getMonth()+1),V(C.getDate()),V(C.getHours()),V(C.getMinutes()),V(C.getSeconds()),ze].join("")},H=f.__private__.convertPDFDateToDate=function(C){var q=parseInt(C.substr(2,4),10),ue=parseInt(C.substr(6,2),10)-1,ve=parseInt(C.substr(8,2),10),Fe=parseInt(C.substr(10,2),10),ze=parseInt(C.substr(12,2),10),tt=parseInt(C.substr(14,2),10);return new Date(q,ue,ve,Fe,ze,tt,0)},ie=f.__private__.setCreationDate=function(C){var q;if(C===void 0&&(C=new Date),C instanceof Date)q=O(C);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(C))throw new Error("Invalid argument passed to jsPDF.setCreationDate");q=C}return K=q},M=f.__private__.getCreationDate=function(C){var q=K;return C==="jsDate"&&(q=H(K)),q};f.setCreationDate=function(C){return ie(C),this},f.getCreationDate=function(C){return M(C)};var W,V=f.__private__.padd2=function(C){return("0"+parseInt(C)).slice(-2)},X=f.__private__.padd2Hex=function(C){return("00"+(C=C.toString())).substr(C.length)},Y=0,ee=[],ce=[],Ae=0,Ee=[],fe=[],we=!1,de=ce,Be=function(){Y=0,Ae=0,ce=[],ee=[],Ee=[],Vs=Zn(),Fs=Zn()};f.__private__.setCustomOutputDestination=function(C){we=!0,de=C};var pe=function(C){we||(de=C)};f.__private__.resetCustomOutputDestination=function(){we=!1,de=ce};var se=f.__private__.out=function(C){return C=C.toString(),Ae+=C.length+1,de.push(C),de},me=f.__private__.write=function(C){return se(arguments.length===1?C.toString():Array.prototype.join.call(arguments," "))},ne=f.__private__.getArrayBuffer=function(C){for(var q=C.length,ue=new ArrayBuffer(q),ve=new Uint8Array(ue);q--;)ve[q]=C.charCodeAt(q);return ue},ae=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return ae};var he=e.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(C){return he=b===w.ADVANCED?C/Ie:C,this};var ge,Ce=f.__private__.getFontSize=f.getFontSize=function(){return b===w.COMPAT?he:he*Ie},ye=e.R2L||!1;f.__private__.setR2L=f.setR2L=function(C){return ye=C,this},f.__private__.getR2L=f.getR2L=function(){return ye};var Le,We=f.__private__.setZoomMode=function(C){var q=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(C))ge=C;else if(isNaN(C)){if(q.indexOf(C)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+C+'" is not recognized.');ge=C}else ge=parseInt(C,10)};f.__private__.getZoomMode=function(){return ge};var De,$e=f.__private__.setPageMode=function(C){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(C)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+C+'" is not recognized.');Le=C};f.__private__.getPageMode=function(){return Le};var Ge=f.__private__.setLayoutMode=function(C){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(C)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+C+'" is not recognized.');De=C};f.__private__.getLayoutMode=function(){return De},f.__private__.setDisplayMode=f.setDisplayMode=function(C,q,ue){return We(C),Ge(q),$e(ue),this};var _e={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(C){if(Object.keys(_e).indexOf(C)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return _e[C]},f.__private__.getDocumentProperties=function(){return _e},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(C){for(var q in _e)_e.hasOwnProperty(q)&&C[q]&&(_e[q]=C[q]);return this},f.__private__.setDocumentProperty=function(C,q){if(Object.keys(_e).indexOf(C)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return _e[C]=q};var Me,Ie,nt,He,xt,Qe={},et={},Pe=[],rt={},Nt={},Et={},Xt={},$t=null,Mt=0,it=[],ft=new mB(f),Vn=e.hotfixes||[],Jt={},Qr={},sr=[],Ct=function C(q,ue,ve,Fe,ze,tt){if(!(this instanceof C))return new C(q,ue,ve,Fe,ze,tt);isNaN(q)&&(q=1),isNaN(ue)&&(ue=0),isNaN(ve)&&(ve=0),isNaN(Fe)&&(Fe=1),isNaN(ze)&&(ze=0),isNaN(tt)&&(tt=0),this._matrix=[q,ue,ve,Fe,ze,tt]};Object.defineProperty(Ct.prototype,"sx",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(Ct.prototype,"shy",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(Ct.prototype,"shx",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(Ct.prototype,"sy",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(Ct.prototype,"tx",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(Ct.prototype,"ty",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(Ct.prototype,"a",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(Ct.prototype,"b",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(Ct.prototype,"c",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(Ct.prototype,"d",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(Ct.prototype,"e",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(Ct.prototype,"f",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(Ct.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ct.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ct.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ct.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ct.prototype.join=function(C){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(C)},Ct.prototype.multiply=function(C){var q=C.sx*this.sx+C.shy*this.shx,ue=C.sx*this.shy+C.shy*this.sy,ve=C.shx*this.sx+C.sy*this.shx,Fe=C.shx*this.shy+C.sy*this.sy,ze=C.tx*this.sx+C.ty*this.shx+this.tx,tt=C.tx*this.shy+C.ty*this.sy+this.ty;return new Ct(q,ue,ve,Fe,ze,tt)},Ct.prototype.decompose=function(){var C=this.sx,q=this.shy,ue=this.shx,ve=this.sy,Fe=this.tx,ze=this.ty,tt=Math.sqrt(C*C+q*q),gt=(C/=tt)*ue+(q/=tt)*ve;ue-=C*gt,ve-=q*gt;var _t=Math.sqrt(ue*ue+ve*ve);return gt/=_t,C*(ve/=_t)<q*(ue/=_t)&&(C=-C,q=-q,gt=-gt,tt=-tt),{scale:new Ct(tt,0,0,_t,0,0),translate:new Ct(1,0,0,1,Fe,ze),rotate:new Ct(C,q,-q,C,0,0),skew:new Ct(1,0,gt,1,0,0)}},Ct.prototype.toString=function(C){return this.join(" ")},Ct.prototype.inversed=function(){var C=this.sx,q=this.shy,ue=this.shx,ve=this.sy,Fe=this.tx,ze=this.ty,tt=1/(C*ve-q*ue),gt=ve*tt,_t=-q*tt,Ot=-ue*tt,Pt=C*tt;return new Ct(gt,_t,Ot,Pt,-gt*Fe-Ot*ze,-_t*Fe-Pt*ze)},Ct.prototype.applyToPoint=function(C){var q=C.x*this.sx+C.y*this.shx+this.tx,ue=C.x*this.shy+C.y*this.sy+this.ty;return new ul(q,ue)},Ct.prototype.applyToRectangle=function(C){var q=this.applyToPoint(C),ue=this.applyToPoint(new ul(C.x+C.w,C.y+C.h));return new mu(q.x,q.y,ue.x-q.x,ue.y-q.y)},Ct.prototype.clone=function(){var C=this.sx,q=this.shy,ue=this.shx,ve=this.sy,Fe=this.tx,ze=this.ty;return new Ct(C,q,ue,ve,Fe,ze)},f.Matrix=Ct;var en=f.matrixMult=function(C,q){return q.multiply(C)},kt=new Ct(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=kt;var Ln=function(C,q){if(!Nt[C]){var ue=(q instanceof jA?"Sh":"P")+(Object.keys(rt).length+1).toString(10);q.id=ue,Nt[C]=ue,rt[ue]=q,ft.publish("addPattern",q)}};f.ShadingPattern=jA,f.TilingPattern=rc,f.addShadingPattern=function(C,q){return N("addShadingPattern()"),Ln(C,q),this},f.beginTilingPattern=function(C){N("beginTilingPattern()"),Gh(C.boundingBox[0],C.boundingBox[1],C.boundingBox[2]-C.boundingBox[0],C.boundingBox[3]-C.boundingBox[1],C.matrix)},f.endTilingPattern=function(C,q){N("endTilingPattern()"),q.stream=fe[W].join(`
`),Ln(C,q),ft.publish("endTilingPattern",q),sr.pop().restore()};var Pn=f.__private__.newObject=function(){var C=Zn();return dr(C,!0),C},Zn=f.__private__.newObjectDeferred=function(){return Y++,ee[Y]=function(){return Ae},Y},dr=function(C,q){return q=typeof q=="boolean"&&q,ee[C]=Ae,q&&se(C+" 0 obj"),C},oi=f.__private__.newAdditionalObject=function(){var C={objId:Zn(),content:""};return Ee.push(C),C},Vs=Zn(),Fs=Zn(),ks=f.__private__.decodeColorString=function(C){var q=C.split(" ");if(q.length!==2||q[1]!=="g"&&q[1]!=="G")q.length===5&&(q[4]==="k"||q[4]==="K")&&(q=[(1-q[0])*(1-q[3]),(1-q[1])*(1-q[3]),(1-q[2])*(1-q[3]),"r"]);else{var ue=parseFloat(q[0]);q=[ue,ue,ue,"r"]}for(var ve="#",Fe=0;Fe<3;Fe++)ve+=("0"+Math.floor(255*parseFloat(q[Fe])).toString(16)).slice(-2);return ve},Ns=f.__private__.encodeColorString=function(C){var q;typeof C=="string"&&(C={ch1:C});var ue=C.ch1,ve=C.ch2,Fe=C.ch3,ze=C.ch4,tt=C.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ue=="string"&&ue.charAt(0)!=="#"){var gt=new zE(ue);if(gt.ok)ue=gt.toHex();else if(!/^\d*\.?\d*$/.test(ue))throw new Error('Invalid color "'+ue+'" passed to jsPDF.encodeColorString.')}if(typeof ue=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ue)&&(ue="#"+ue[1]+ue[1]+ue[2]+ue[2]+ue[3]+ue[3]),typeof ue=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ue)){var _t=parseInt(ue.substr(1),16);ue=_t>>16&255,ve=_t>>8&255,Fe=255&_t}if(ve===void 0||ze===void 0&&ue===ve&&ve===Fe)if(typeof ue=="string")q=ue+" "+tt[0];else switch(C.precision){case 2:q=L(ue/255)+" "+tt[0];break;case 3:default:q=E(ue/255)+" "+tt[0]}else if(ze===void 0||cn(ze)==="object"){if(ze&&!isNaN(ze.a)&&ze.a===0)return q=["1.","1.","1.",tt[1]].join(" ");if(typeof ue=="string")q=[ue,ve,Fe,tt[1]].join(" ");else switch(C.precision){case 2:q=[L(ue/255),L(ve/255),L(Fe/255),tt[1]].join(" ");break;default:case 3:q=[E(ue/255),E(ve/255),E(Fe/255),tt[1]].join(" ")}}else if(typeof ue=="string")q=[ue,ve,Fe,ze,tt[2]].join(" ");else switch(C.precision){case 2:q=[L(ue),L(ve),L(Fe),L(ze),tt[2]].join(" ");break;case 3:default:q=[E(ue),E(ve),E(Fe),E(ze),tt[2]].join(" ")}return q},Ai=f.__private__.getFilters=function(){return o},_s=f.__private__.putStream=function(C){var q=(C=C||{}).data||"",ue=C.filters||Ai(),ve=C.alreadyAppliedFilters||[],Fe=C.addLength1||!1,ze=q.length,tt=C.objectId,gt=function(ss){return ss};if(u!==null&&tt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(gt=rs.encryptor(tt,0));var _t={};ue===!0&&(ue=["FlateEncode"]);var Ot=C.additionalKeyValues||[],Pt=(_t=Lt.API.processDataByFilters!==void 0?Lt.API.processDataByFilters(q,ue):{data:q,reverseChain:[]}).reverseChain+(Array.isArray(ve)?ve.join(" "):ve.toString());if(_t.data.length!==0&&(Ot.push({key:"Length",value:_t.data.length}),Fe===!0&&Ot.push({key:"Length1",value:ze})),Pt.length!=0)if(Pt.split("/").length-1==1)Ot.push({key:"Filter",value:Pt});else{Ot.push({key:"Filter",value:"["+Pt+"]"});for(var pn=0;pn<Ot.length;pn+=1)if(Ot[pn].key==="DecodeParms"){for(var nr=[],ir=0;ir<_t.reverseChain.split("/").length-1;ir+=1)nr.push("null");nr.push(Ot[pn].value),Ot[pn].value="["+nr.join(" ")+"]"}}se("<<");for(var Ir=0;Ir<Ot.length;Ir++)se("/"+Ot[Ir].key+" "+Ot[Ir].value);se(">>"),_t.data.length!==0&&(se("stream"),se(gt(_t.data)),se("endstream"))},li=f.__private__.putPage=function(C){var q=C.number,ue=C.data,ve=C.objId,Fe=C.contentsObjId;dr(ve,!0),se("<</Type /Page"),se("/Parent "+C.rootDictionaryObjId+" 0 R"),se("/Resources "+C.resourceDictionaryObjId+" 0 R"),se("/MediaBox ["+parseFloat(D(C.mediaBox.bottomLeftX))+" "+parseFloat(D(C.mediaBox.bottomLeftY))+" "+D(C.mediaBox.topRightX)+" "+D(C.mediaBox.topRightY)+"]"),C.cropBox!==null&&se("/CropBox ["+D(C.cropBox.bottomLeftX)+" "+D(C.cropBox.bottomLeftY)+" "+D(C.cropBox.topRightX)+" "+D(C.cropBox.topRightY)+"]"),C.bleedBox!==null&&se("/BleedBox ["+D(C.bleedBox.bottomLeftX)+" "+D(C.bleedBox.bottomLeftY)+" "+D(C.bleedBox.topRightX)+" "+D(C.bleedBox.topRightY)+"]"),C.trimBox!==null&&se("/TrimBox ["+D(C.trimBox.bottomLeftX)+" "+D(C.trimBox.bottomLeftY)+" "+D(C.trimBox.topRightX)+" "+D(C.trimBox.topRightY)+"]"),C.artBox!==null&&se("/ArtBox ["+D(C.artBox.bottomLeftX)+" "+D(C.artBox.bottomLeftY)+" "+D(C.artBox.topRightX)+" "+D(C.artBox.topRightY)+"]"),typeof C.userUnit=="number"&&C.userUnit!==1&&se("/UserUnit "+C.userUnit),ft.publish("putPage",{objId:ve,pageContext:it[q],pageNumber:q,page:ue}),se("/Contents "+Fe+" 0 R"),se(">>"),se("endobj");var ze=ue.join(`
`);return b===w.ADVANCED&&(ze+=`
Q`),dr(Fe,!0),_s({data:ze,filters:Ai(),objectId:Fe}),se("endobj"),ve},La=f.__private__.putPages=function(){var C,q,ue=[];for(C=1;C<=Mt;C++)it[C].objId=Zn(),it[C].contentsObjId=Zn();for(C=1;C<=Mt;C++)ue.push(li({number:C,data:fe[C],objId:it[C].objId,contentsObjId:it[C].contentsObjId,mediaBox:it[C].mediaBox,cropBox:it[C].cropBox,bleedBox:it[C].bleedBox,trimBox:it[C].trimBox,artBox:it[C].artBox,userUnit:it[C].userUnit,rootDictionaryObjId:Vs,resourceDictionaryObjId:Fs}));dr(Vs,!0),se("<</Type /Pages");var ve="/Kids [";for(q=0;q<Mt;q++)ve+=ue[q]+" 0 R ";se(ve+"]"),se("/Count "+Mt),se(">>"),se("endobj"),ft.publish("postPutPages")},Ht=function(C){ft.publish("putFont",{font:C,out:se,newObject:Pn,putStream:_s}),C.isAlreadyPutted!==!0&&(C.objectNumber=Pn(),se("<<"),se("/Type /Font"),se("/BaseFont /"+ql(C.postScriptName)),se("/Subtype /Type1"),typeof C.encoding=="string"&&se("/Encoding /"+C.encoding),se("/FirstChar 32"),se("/LastChar 255"),se(">>"),se("endobj"))},jr=function(){for(var C in Qe)Qe.hasOwnProperty(C)&&(d===!1||d===!0&&p.hasOwnProperty(C))&&Ht(Qe[C])},tl=function(C){C.objectNumber=Pn();var q=[];q.push({key:"Type",value:"/XObject"}),q.push({key:"Subtype",value:"/Form"}),q.push({key:"BBox",value:"["+[D(C.x),D(C.y),D(C.x+C.width),D(C.y+C.height)].join(" ")+"]"}),q.push({key:"Matrix",value:"["+C.matrix.toString()+"]"});var ue=C.pages[1].join(`
`);_s({data:ue,additionalKeyValues:q,objectId:C.objectNumber}),se("endobj")},nl=function(){for(var C in Jt)Jt.hasOwnProperty(C)&&tl(Jt[C])},kh=function(C,q){var ue,ve=[],Fe=1/(q-1);for(ue=0;ue<1;ue+=Fe)ve.push(ue);if(ve.push(1),C[0].offset!=0){var ze={offset:0,color:C[0].color};C.unshift(ze)}if(C[C.length-1].offset!=1){var tt={offset:1,color:C[C.length-1].color};C.push(tt)}for(var gt="",_t=0,Ot=0;Ot<ve.length;Ot++){for(ue=ve[Ot];ue>C[_t+1].offset;)_t++;var Pt=C[_t].offset,pn=(ue-Pt)/(C[_t+1].offset-Pt),nr=C[_t].color,ir=C[_t+1].color;gt+=X(Math.round((1-pn)*nr[0]+pn*ir[0]).toString(16))+X(Math.round((1-pn)*nr[1]+pn*ir[1]).toString(16))+X(Math.round((1-pn)*nr[2]+pn*ir[2]).toString(16))}return gt.trim()},Km=function(C,q){q||(q=21);var ue=Pn(),ve=kh(C.colors,q),Fe=[];Fe.push({key:"FunctionType",value:"0"}),Fe.push({key:"Domain",value:"[0.0 1.0]"}),Fe.push({key:"Size",value:"["+q+"]"}),Fe.push({key:"BitsPerSample",value:"8"}),Fe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Fe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),_s({data:ve,additionalKeyValues:Fe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ue}),se("endobj"),C.objectNumber=Pn(),se("<< /ShadingType "+C.type),se("/ColorSpace /DeviceRGB");var ze="/Coords ["+D(parseFloat(C.coords[0]))+" "+D(parseFloat(C.coords[1]))+" ";C.type===2?ze+=D(parseFloat(C.coords[2]))+" "+D(parseFloat(C.coords[3])):ze+=D(parseFloat(C.coords[2]))+" "+D(parseFloat(C.coords[3]))+" "+D(parseFloat(C.coords[4]))+" "+D(parseFloat(C.coords[5])),se(ze+="]"),C.matrix&&se("/Matrix ["+C.matrix.toString()+"]"),se("/Function "+ue+" 0 R"),se("/Extend [true true]"),se(">>"),se("endobj")},Vm=function(C,q){var ue=Zn(),ve=Pn();q.push({resourcesOid:ue,objectOid:ve}),C.objectNumber=ve;var Fe=[];Fe.push({key:"Type",value:"/Pattern"}),Fe.push({key:"PatternType",value:"1"}),Fe.push({key:"PaintType",value:"1"}),Fe.push({key:"TilingType",value:"1"}),Fe.push({key:"BBox",value:"["+C.boundingBox.map(D).join(" ")+"]"}),Fe.push({key:"XStep",value:D(C.xStep)}),Fe.push({key:"YStep",value:D(C.yStep)}),Fe.push({key:"Resources",value:ue+" 0 R"}),C.matrix&&Fe.push({key:"Matrix",value:"["+C.matrix.toString()+"]"}),_s({data:C.stream,additionalKeyValues:Fe,objectId:C.objectNumber}),se("endobj")},rl=function(C){var q;for(q in rt)rt.hasOwnProperty(q)&&(rt[q]instanceof jA?Km(rt[q]):rt[q]instanceof rc&&Vm(rt[q],C))},Nh=function(C){for(var q in C.objectNumber=Pn(),se("<<"),C)switch(q){case"opacity":se("/ca "+L(C[q]));break;case"stroke-opacity":se("/CA "+L(C[q]))}se(">>"),se("endobj")},Gm=function(){var C;for(C in Et)Et.hasOwnProperty(C)&&Nh(Et[C])},ou=function(){for(var C in se("/XObject <<"),Jt)Jt.hasOwnProperty(C)&&Jt[C].objectNumber>=0&&se("/"+C+" "+Jt[C].objectNumber+" 0 R");ft.publish("putXobjectDict"),se(">>")},qm=function(){rs.oid=Pn(),se("<<"),se("/Filter /Standard"),se("/V "+rs.v),se("/R "+rs.r),se("/U <"+rs.toHexString(rs.U)+">"),se("/O <"+rs.toHexString(rs.O)+">"),se("/P "+rs.P),se(">>"),se("endobj")},_h=function(){for(var C in se("/Font <<"),Qe)Qe.hasOwnProperty(C)&&(d===!1||d===!0&&p.hasOwnProperty(C))&&se("/"+C+" "+Qe[C].objectNumber+" 0 R");se(">>")},Ym=function(){if(Object.keys(rt).length>0){for(var C in se("/Shading <<"),rt)rt.hasOwnProperty(C)&&rt[C]instanceof jA&&rt[C].objectNumber>=0&&se("/"+C+" "+rt[C].objectNumber+" 0 R");ft.publish("putShadingPatternDict"),se(">>")}},sl=function(C){if(Object.keys(rt).length>0){for(var q in se("/Pattern <<"),rt)rt.hasOwnProperty(q)&&rt[q]instanceof f.TilingPattern&&rt[q].objectNumber>=0&&rt[q].objectNumber<C&&se("/"+q+" "+rt[q].objectNumber+" 0 R");ft.publish("putTilingPatternDict"),se(">>")}},Xm=function(){if(Object.keys(Et).length>0){var C;for(C in se("/ExtGState <<"),Et)Et.hasOwnProperty(C)&&Et[C].objectNumber>=0&&se("/"+C+" "+Et[C].objectNumber+" 0 R");ft.publish("putGStateDict"),se(">>")}},hr=function(C){dr(C.resourcesOid,!0),se("<<"),se("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),_h(),Ym(),sl(C.objectOid),Xm(),ou(),se(">>"),se("endobj")},Th=function(){var C=[];jr(),Gm(),nl(),rl(C),ft.publish("putResources"),C.forEach(hr),hr({resourcesOid:Fs,objectOid:Number.MAX_SAFE_INTEGER}),ft.publish("postPutResources")},Uh=function(){ft.publish("putAdditionalObjects");for(var C=0;C<Ee.length;C++){var q=Ee[C];dr(q.objId,!0),se(q.content),se("endobj")}ft.publish("postPutAdditionalObjects")},Lh=function(C){et[C.fontName]=et[C.fontName]||{},et[C.fontName][C.fontStyle]=C.id},Au=function(C,q,ue,ve,Fe){var ze={id:"F"+(Object.keys(Qe).length+1).toString(10),postScriptName:C,fontName:q,fontStyle:ue,encoding:ve,isStandardFont:Fe||!1,metadata:{}};return ft.publish("addFont",{font:ze,instance:this}),Qe[ze.id]=ze,Lh(ze),ze.id},Jm=function(C){for(var q=0,ue=ae.length;q<ue;q++){var ve=Au.call(this,C[q][0],C[q][1],C[q][2],ae[q][3],!0);d===!1&&(p[ve]=!0);var Fe=C[q][0].split("-");Lh({id:ve,fontName:Fe[0],fontStyle:Fe[1]||""})}ft.publish("addFonts",{fonts:Qe,dictionary:et})},Qi=function(C){return C.foo=function(){try{return C.apply(this,arguments)}catch(ve){var q=ve.stack||"";~q.indexOf(" at ")&&(q=q.split(" at ")[1]);var ue="Error in function "+q.split(`
`)[0].split("<")[0]+": "+ve.message;if(!Dt.console)throw new Error(ue);Dt.console.error(ue,ve),Dt.alert&&alert(ue)}},C.foo.bar=C,C.foo},il=function(C,q){var ue,ve,Fe,ze,tt,gt,_t,Ot,Pt;if(Fe=(q=q||{}).sourceEncoding||"Unicode",tt=q.outputEncoding,(q.autoencode||tt)&&Qe[Me].metadata&&Qe[Me].metadata[Fe]&&Qe[Me].metadata[Fe].encoding&&(ze=Qe[Me].metadata[Fe].encoding,!tt&&Qe[Me].encoding&&(tt=Qe[Me].encoding),!tt&&ze.codePages&&(tt=ze.codePages[0]),typeof tt=="string"&&(tt=ze[tt]),tt)){for(_t=!1,gt=[],ue=0,ve=C.length;ue<ve;ue++)(Ot=tt[C.charCodeAt(ue)])?gt.push(String.fromCharCode(Ot)):gt.push(C[ue]),gt[ue].charCodeAt(0)>>8&&(_t=!0);C=gt.join("")}for(ue=C.length;_t===void 0&&ue!==0;)C.charCodeAt(ue-1)>>8&&(_t=!0),ue--;if(!_t)return C;for(gt=q.noBOM?[]:[254,255],ue=0,ve=C.length;ue<ve;ue++){if((Pt=(Ot=C.charCodeAt(ue))>>8)>>8)throw new Error("Character at position "+ue+" of string '"+C+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");gt.push(Pt),gt.push(Ot-(Pt<<8))}return String.fromCharCode.apply(void 0,gt)},Ts=f.__private__.pdfEscape=f.pdfEscape=function(C,q){return il(C,q).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},lu=f.__private__.beginPage=function(C){fe[++Mt]=[],it[Mt]={objId:0,contentsObjId:0,userUnit:Number(A),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(C[0]),topRightY:Number(C[1])}},Mh(Mt),pe(fe[W])},Dh=function(C,q){var ue,ve,Fe;switch(n=q||n,typeof C=="string"&&(ue=x(C.toLowerCase()),Array.isArray(ue)&&(ve=ue[0],Fe=ue[1])),Array.isArray(C)&&(ve=C[0]*Ie,Fe=C[1]*Ie),isNaN(ve)&&(ve=s[0],Fe=s[1]),(ve>14400||Fe>14400)&&(Hn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ve=Math.min(14400,ve),Fe=Math.min(14400,Fe)),s=[ve,Fe],n.substr(0,1)){case"l":Fe>ve&&(s=[Fe,ve]);break;case"p":ve>Fe&&(s=[Fe,ve])}lu(s),$h(hu),se(Pi),pu!==0&&se(pu+" J"),gu!==0&&se(gu+" j"),ft.publish("addPage",{pageNumber:Mt})},Zm=function(C){C>0&&C<=Mt&&(fe.splice(C,1),it.splice(C,1),Mt--,W>Mt&&(W=Mt),this.setPage(W))},Mh=function(C){C>0&&C<=Mt&&(W=C)},e0=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return fe.length-1},Qh=function(C,q,ue){var ve,Fe=void 0;return ue=ue||{},C=C!==void 0?C:Qe[Me].fontName,q=q!==void 0?q:Qe[Me].fontStyle,ve=C.toLowerCase(),et[ve]!==void 0&&et[ve][q]!==void 0?Fe=et[ve][q]:et[C]!==void 0&&et[C][q]!==void 0?Fe=et[C][q]:ue.disableWarning===!1&&Hn.warn("Unable to look up font label for font '"+C+"', '"+q+"'. Refer to getFontList() for available fonts."),Fe||ue.noFallback||(Fe=et.times[q])==null&&(Fe=et.times.normal),Fe},t0=f.__private__.putInfo=function(){var C=Pn(),q=function(ve){return ve};for(var ue in u!==null&&(q=rs.encryptor(C,0)),se("<<"),se("/Producer ("+Ts(q("jsPDF "+Lt.version))+")"),_e)_e.hasOwnProperty(ue)&&_e[ue]&&se("/"+ue.substr(0,1).toUpperCase()+ue.substr(1)+" ("+Ts(q(_e[ue]))+")");se("/CreationDate ("+Ts(q(K))+")"),se(">>"),se("endobj")},cu=f.__private__.putCatalog=function(C){var q=(C=C||{}).rootDictionaryObjId||Vs;switch(Pn(),se("<<"),se("/Type /Catalog"),se("/Pages "+q+" 0 R"),ge||(ge="fullwidth"),ge){case"fullwidth":se("/OpenAction [3 0 R /FitH null]");break;case"fullheight":se("/OpenAction [3 0 R /FitV null]");break;case"fullpage":se("/OpenAction [3 0 R /Fit]");break;case"original":se("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ue=""+ge;ue.substr(ue.length-1)==="%"&&(ge=parseInt(ge)/100),typeof ge=="number"&&se("/OpenAction [3 0 R /XYZ null null "+L(ge)+"]")}switch(De||(De="continuous"),De){case"continuous":se("/PageLayout /OneColumn");break;case"single":se("/PageLayout /SinglePage");break;case"two":case"twoleft":se("/PageLayout /TwoColumnLeft");break;case"tworight":se("/PageLayout /TwoColumnRight")}Le&&se("/PageMode /"+Le),ft.publish("putCatalog"),se(">>"),se("endobj")},n0=f.__private__.putTrailer=function(){se("trailer"),se("<<"),se("/Size "+(Y+1)),se("/Root "+Y+" 0 R"),se("/Info "+(Y-1)+" 0 R"),u!==null&&se("/Encrypt "+rs.oid+" 0 R"),se("/ID [ <"+Q+"> <"+Q+"> ]"),se(">>")},r0=f.__private__.putHeader=function(){se("%PDF-"+v),se("%ºß¬à")},s0=f.__private__.putXRef=function(){var C="0000000000";se("xref"),se("0 "+(Y+1)),se("0000000000 65535 f ");for(var q=1;q<=Y;q++)typeof ee[q]=="function"?se((C+ee[q]()).slice(-10)+" 00000 n "):ee[q]!==void 0?se((C+ee[q]).slice(-10)+" 00000 n "):se("0000000000 00000 n ")},Da=f.__private__.buildDocument=function(){Be(),pe(ce),ft.publish("buildDocument"),r0(),La(),Uh(),Th(),u!==null&&qm(),t0(),cu();var C=Ae;return s0(),n0(),se("startxref"),se(""+C),se("%%EOF"),pe(fe[W]),ce.join(`
`)},al=f.__private__.getBlob=function(C){return new Blob([ne(C)],{type:"application/pdf"})},ol=f.output=f.__private__.output=Qi(function(C,q){switch(typeof(q=q||{})=="string"?q={filename:q}:q.filename=q.filename||"generated.pdf",C){case void 0:return Da();case"save":f.save(q.filename);break;case"arraybuffer":return ne(Da());case"blob":return al(Da());case"bloburi":case"bloburl":if(Dt.URL!==void 0&&typeof Dt.URL.createObjectURL=="function")return Dt.URL&&Dt.URL.createObjectURL(al(Da()))||void 0;Hn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ue="",ve=Da();try{ue=R1(ve)}catch{ue=R1(unescape(encodeURIComponent(ve)))}return"data:application/pdf;filename="+q.filename+";base64,"+ue;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Dt)==="[object Window]"){var Fe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ze=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';q.pdfObjectUrl&&(Fe=q.pdfObjectUrl,ze="");var tt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Fe+'"'+ze+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(q)+");<\/script></body></html>",gt=Dt.open();return gt!==null&&gt.document.write(tt),gt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Dt)==="[object Window]"){var _t='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(q.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+q.filename+'" width="500px" height="400px" /></body></html>',Ot=Dt.open();if(Ot!==null){Ot.document.write(_t);var Pt=this;Ot.document.documentElement.querySelector("#pdfViewer").onload=function(){Ot.document.title=q.filename,Ot.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Pt.output("bloburl"))}}return Ot}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Dt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var pn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",q)+'"></iframe></body></html>',nr=Dt.open();if(nr!==null&&(nr.document.write(pn),nr.document.title=q.filename),nr||typeof safari>"u")return nr;break;case"datauri":case"dataurl":return Dt.document.location.href=this.output("datauristring",q);default:return null}}),Ph=function(C){return Array.isArray(Vn)===!0&&Vn.indexOf(C)>-1};switch(r){case"pt":Ie=1;break;case"mm":Ie=72/25.4;break;case"cm":Ie=72/2.54;break;case"in":Ie=72;break;case"px":Ie=Ph("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ie=12;break;case"ex":Ie=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Ie=r}var rs=null;ie(),$();var i0=function(C){return u!==null?rs.encryptor(C,0):function(q){return q}},Rh=f.__private__.getPageInfo=f.getPageInfo=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:it[C].objId,pageNumber:C,pageContext:it[C]}},Qt=f.__private__.getPageInfoByObjId=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var q in it)if(it[q].objId===C)break;return Rh(q)},a0=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:it[W].objId,pageNumber:W,pageContext:it[W]}};f.addPage=function(){return Dh.apply(this,arguments),this},f.setPage=function(){return Mh.apply(this,arguments),pe.call(this,fe[W]),this},f.insertPage=function(C){return this.addPage(),this.movePage(W,C),this},f.movePage=function(C,q){var ue,ve;if(C>q){ue=fe[C],ve=it[C];for(var Fe=C;Fe>q;Fe--)fe[Fe]=fe[Fe-1],it[Fe]=it[Fe-1];fe[q]=ue,it[q]=ve,this.setPage(q)}else if(C<q){ue=fe[C],ve=it[C];for(var ze=C;ze<q;ze++)fe[ze]=fe[ze+1],it[ze]=it[ze+1];fe[q]=ue,it[q]=ve,this.setPage(q)}return this},f.deletePage=function(){return Zm.apply(this,arguments),this},f.__private__.text=f.text=function(C,q,ue,ve,Fe){var ze,tt,gt,_t,Ot,Pt,pn,nr,ir,Ir=(ve=ve||{}).scope||this;if(typeof C=="number"&&typeof q=="number"&&(typeof ue=="string"||Array.isArray(ue))){var ss=ue;ue=q,q=C,C=ss}if(arguments[3]instanceof Ct?(N("The transform parameter of text() with a Matrix value"),ir=Fe):(gt=arguments[4],_t=arguments[5],cn(pn=arguments[3])==="object"&&pn!==null||(typeof gt=="string"&&(_t=gt,gt=null),typeof pn=="string"&&(_t=pn,pn=null),typeof pn=="number"&&(gt=pn,pn=null),ve={flags:pn,angle:gt,align:_t})),isNaN(q)||isNaN(ue)||C==null)throw new Error("Invalid arguments passed to jsPDF.text");if(C.length===0)return Ir;var Pr="",Ri=!1,Gs=typeof ve.lineHeightFactor=="number"?ve.lineHeightFactor:lA,ia=Ir.internal.scaleFactor;function qh($n){return $n=$n.split("	").join(Array(ve.TabLen||9).join(" ")),Ts($n,pn)}function bu($n){for(var zn,pr=$n.concat(),Tr=[],Ha=pr.length;Ha--;)typeof(zn=pr.shift())=="string"?Tr.push(zn):Array.isArray($n)&&(zn.length===1||zn[1]===void 0&&zn[2]===void 0)?Tr.push(zn[0]):Tr.push([zn[0],zn[1],zn[2]]);return Tr}function wu($n,zn){var pr;if(typeof $n=="string")pr=zn($n)[0];else if(Array.isArray($n)){for(var Tr,Ha,ku=$n.concat(),wl=[],ef=ku.length;ef--;)typeof(Tr=ku.shift())=="string"?wl.push(zn(Tr)[0]):Array.isArray(Tr)&&typeof Tr[0]=="string"&&(Ha=zn(Tr[0],Tr[1],Tr[2]),wl.push([Ha[0],Ha[1],Ha[2]]));pr=wl}return pr}var hl=!1,Bu=!0;if(typeof C=="string")hl=!0;else if(Array.isArray(C)){var Cu=C.concat();tt=[];for(var fl,qr=Cu.length;qr--;)(typeof(fl=Cu.shift())!="string"||Array.isArray(fl)&&typeof fl[0]!="string")&&(Bu=!1);hl=Bu}if(hl===!1)throw new Error('Type of text must be string or Array. "'+C+'" is not recognized.');typeof C=="string"&&(C=C.match(/[\r?\n]/)?C.split(/\r\n|\r|\n/g):[C]);var pl=he/Ir.internal.scaleFactor,gl=pl*(Gs-1);switch(ve.baseline){case"bottom":ue-=gl;break;case"top":ue+=pl-gl;break;case"hanging":ue+=pl-2*gl;break;case"middle":ue+=pl/2-gl}if((Pt=ve.maxWidth||0)>0&&(typeof C=="string"?C=Ir.splitTextToSize(C,Pt):Object.prototype.toString.call(C)==="[object Array]"&&(C=C.reduce(function($n,zn){return $n.concat(Ir.splitTextToSize(zn,Pt))},[]))),ze={text:C,x:q,y:ue,options:ve,mutex:{pdfEscape:Ts,activeFontKey:Me,fonts:Qe,activeFontSize:he}},ft.publish("preProcessText",ze),C=ze.text,gt=(ve=ze.options).angle,!(ir instanceof Ct)&&gt&&typeof gt=="number"){gt*=Math.PI/180,ve.rotationDirection===0&&(gt=-gt),b===w.ADVANCED&&(gt=-gt);var ml=Math.cos(gt),Su=Math.sin(gt);ir=new Ct(ml,Su,-Su,ml,0,0)}else gt&&gt instanceof Ct&&(ir=gt);b!==w.ADVANCED||ir||(ir=kt),(Ot=ve.charSpace||cl)!==void 0&&(Pr+=D(I(Ot))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(nr=ve.horizontalScale)!==void 0&&(Pr+=D(100*nr)+` Tz
`),ve.lang;var Us=-1,g0=ve.renderingMode!==void 0?ve.renderingMode:ve.stroke,Eu=Ir.internal.getCurrentPageInfo().pageContext;switch(g0){case 0:case!1:case"fill":Us=0;break;case 1:case!0:case"stroke":Us=1;break;case 2:case"fillThenStroke":Us=2;break;case 3:case"invisible":Us=3;break;case 4:case"fillAndAddForClipping":Us=4;break;case 5:case"strokeAndAddPathForClipping":Us=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Us=6;break;case 7:case"addToPathForClipping":Us=7}var Yh=Eu.usedRenderingMode!==void 0?Eu.usedRenderingMode:-1;Us!==-1?Pr+=Us+` Tr
`:Yh!==-1&&(Pr+=`0 Tr
`),Us!==-1&&(Eu.usedRenderingMode=Us),_t=ve.align||"left";var ci,vl=he*Gs,Xh=Ir.internal.pageSize.getWidth(),Jh=Qe[Me];Ot=ve.charSpace||cl,Pt=ve.maxWidth||0,pn=Object.assign({autoencode:!0,noBOM:!0},ve.flags);var yo=[],dA=function($n){return Ir.getStringUnitWidth($n,{font:Jh,charSpace:Ot,fontSize:he,doKerning:!1})*he/ia};if(Object.prototype.toString.call(C)==="[object Array]"){var Ls;tt=bu(C),_t!=="left"&&(ci=tt.map(dA));var ys,xo=0;if(_t==="right"){q-=ci[0],C=[],qr=tt.length;for(var Qa=0;Qa<qr;Qa++)Qa===0?(ys=sa(q),Ls=Ma(ue)):(ys=I(xo-ci[Qa]),Ls=-vl),C.push([tt[Qa],ys,Ls]),xo=ci[Qa]}else if(_t==="center"){q-=ci[0]/2,C=[],qr=tt.length;for(var Pa=0;Pa<qr;Pa++)Pa===0?(ys=sa(q),Ls=Ma(ue)):(ys=I((xo-ci[Pa])/2),Ls=-vl),C.push([tt[Pa],ys,Ls]),xo=ci[Pa]}else if(_t==="left"){C=[],qr=tt.length;for(var yl=0;yl<qr;yl++)C.push(tt[yl])}else if(_t==="justify"&&Jh.encoding==="Identity-H"){C=[],qr=tt.length,Pt=Pt!==0?Pt:Xh;for(var Ra=0,fr=0;fr<qr;fr++)if(Ls=fr===0?Ma(ue):-vl,ys=fr===0?sa(q):Ra,fr<qr-1){var ju=I((Pt-ci[fr])/(tt[fr].split(" ").length-1)),xs=tt[fr].split(" ");C.push([xs[0]+" ",ys,Ls]),Ra=0;for(var ui=1;ui<xs.length;ui++){var xl=(dA(xs[ui-1]+" "+xs[ui])-dA(xs[ui]))*ia+ju;ui==xs.length-1?C.push([xs[ui],xl,0]):C.push([xs[ui]+" ",xl,0]),Ra-=xl}}else C.push([tt[fr],ys,Ls]);C.push(["",Ra,0])}else{if(_t!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(C=[],qr=tt.length,Pt=Pt!==0?Pt:Xh,fr=0;fr<qr;fr++)Ls=fr===0?Ma(ue):-vl,ys=fr===0?sa(q):0,fr<qr-1?yo.push(D(I((Pt-ci[fr])/(tt[fr].split(" ").length-1)))):yo.push(0),C.push([tt[fr],ys,Ls])}}var Zh=typeof ve.R2L=="boolean"?ve.R2L:ye;Zh===!0&&(C=wu(C,function($n,zn,pr){return[$n.split("").reverse().join(""),zn,pr]})),ze={text:C,x:q,y:ue,options:ve,mutex:{pdfEscape:Ts,activeFontKey:Me,fonts:Qe,activeFontSize:he}},ft.publish("postProcessText",ze),C=ze.text,Ri=ze.mutex.isHex||!1;var Iu=Qe[Me].encoding;Iu!=="WinAnsiEncoding"&&Iu!=="StandardEncoding"||(C=wu(C,function($n,zn,pr){return[qh($n),zn,pr]})),tt=bu(C),C=[];for(var hA,fA,bo,pA=0,bl=1,gA=Array.isArray(tt[0])?bl:pA,wo="",Fu=function($n,zn,pr){var Tr="";return pr instanceof Ct?(pr=typeof ve.angle=="number"?en(pr,new Ct(1,0,0,1,$n,zn)):en(new Ct(1,0,0,1,$n,zn),pr),b===w.ADVANCED&&(pr=en(new Ct(1,0,0,-1,0,0),pr)),Tr=pr.join(" ")+` Tm
`):Tr=D($n)+" "+D(zn)+` Td
`,Tr},di=0;di<tt.length;di++){switch(wo="",gA){case bl:bo=(Ri?"<":"(")+tt[di][0]+(Ri?">":")"),hA=parseFloat(tt[di][1]),fA=parseFloat(tt[di][2]);break;case pA:bo=(Ri?"<":"(")+tt[di]+(Ri?">":")"),hA=sa(q),fA=Ma(ue)}yo!==void 0&&yo[di]!==void 0&&(wo=yo[di]+` Tw
`),di===0?C.push(wo+Fu(hA,fA,ir)+bo):gA===pA?C.push(wo+bo):gA===bl&&C.push(wo+Fu(hA,fA,ir)+bo)}C=gA===pA?C.join(` Tj
T* `):C.join(` Tj
`),C+=` Tj
`;var hi=`BT
/`;return hi+=Me+" "+he+` Tf
`,hi+=D(he*Gs)+` TL
`,hi+=cA+`
`,hi+=Pr,hi+=C,se(hi+="ET"),p[Me]=!0,Ir};var o0=f.__private__.clip=f.clip=function(C){return se(C==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return o0("evenodd")},f.__private__.discardPath=f.discardPath=function(){return se("n"),this};var ra=f.__private__.isValidStyle=function(C){var q=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(C)!==-1&&(q=!0),q};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(C){return ra(C)&&(c=C),this};var Hh=f.__private__.getStyle=f.getStyle=function(C){var q=c;switch(C){case"D":case"S":q="S";break;case"F":q="f";break;case"FD":case"DF":q="B";break;case"f":case"f*":case"B":case"B*":q=C}return q},Oh=f.close=function(){return se("h"),this};f.stroke=function(){return se("S"),this},f.fill=function(C){return Al("f",C),this},f.fillEvenOdd=function(C){return Al("f*",C),this},f.fillStroke=function(C){return Al("B",C),this},f.fillStrokeEvenOdd=function(C){return Al("B*",C),this};var Al=function(C,q){cn(q)==="object"?l0(q,C):se(C)},uu=function(C){C===null||b===w.ADVANCED&&C===void 0||(C=Hh(C),se(C))};function A0(C,q,ue,ve,Fe){var ze=new rc(q||this.boundingBox,ue||this.xStep,ve||this.yStep,this.gState,Fe||this.matrix);ze.stream=this.stream;var tt=C+"$$"+this.cloneIndex+++"$$";return Ln(tt,ze),ze}var l0=function(C,q){var ue=Nt[C.key],ve=rt[ue];if(ve instanceof jA)se("q"),se(c0(q)),ve.gState&&f.setGState(ve.gState),se(C.matrix.toString()+" cm"),se("/"+ue+" sh"),se("Q");else if(ve instanceof rc){var Fe=new Ct(1,0,0,-1,0,vo());C.matrix&&(Fe=Fe.multiply(C.matrix||kt),ue=A0.call(ve,C.key,C.boundingBox,C.xStep,C.yStep,Fe).id),se("q"),se("/Pattern cs"),se("/"+ue+" scn"),ve.gState&&f.setGState(ve.gState),se(q),se("Q")}},c0=function(C){switch(C){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},du=f.moveTo=function(C,q){return se(D(I(C))+" "+D(P(q))+" m"),this},AA=f.lineTo=function(C,q){return se(D(I(C))+" "+D(P(q))+" l"),this},go=f.curveTo=function(C,q,ue,ve,Fe,ze){return se([D(I(C)),D(P(q)),D(I(ue)),D(P(ve)),D(I(Fe)),D(P(ze)),"c"].join(" ")),this};f.__private__.line=f.line=function(C,q,ue,ve,Fe){if(isNaN(C)||isNaN(q)||isNaN(ue)||isNaN(ve)||!ra(Fe))throw new Error("Invalid arguments passed to jsPDF.line");return b===w.COMPAT?this.lines([[ue-C,ve-q]],C,q,[1,1],Fe||"S"):this.lines([[ue-C,ve-q]],C,q,[1,1]).stroke()},f.__private__.lines=f.lines=function(C,q,ue,ve,Fe,ze){var tt,gt,_t,Ot,Pt,pn,nr,ir,Ir,ss,Pr,Ri;if(typeof C=="number"&&(Ri=ue,ue=q,q=C,C=Ri),ve=ve||[1,1],ze=ze||!1,isNaN(q)||isNaN(ue)||!Array.isArray(C)||!Array.isArray(ve)||!ra(Fe)||typeof ze!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(du(q,ue),tt=ve[0],gt=ve[1],Ot=C.length,ss=q,Pr=ue,_t=0;_t<Ot;_t++)(Pt=C[_t]).length===2?(ss=Pt[0]*tt+ss,Pr=Pt[1]*gt+Pr,AA(ss,Pr)):(pn=Pt[0]*tt+ss,nr=Pt[1]*gt+Pr,ir=Pt[2]*tt+ss,Ir=Pt[3]*gt+Pr,ss=Pt[4]*tt+ss,Pr=Pt[5]*gt+Pr,go(pn,nr,ir,Ir,ss,Pr));return ze&&Oh(),uu(Fe),this},f.path=function(C){for(var q=0;q<C.length;q++){var ue=C[q],ve=ue.c;switch(ue.op){case"m":du(ve[0],ve[1]);break;case"l":AA(ve[0],ve[1]);break;case"c":go.apply(this,ve);break;case"h":Oh()}}return this},f.__private__.rect=f.rect=function(C,q,ue,ve,Fe){if(isNaN(C)||isNaN(q)||isNaN(ue)||isNaN(ve)||!ra(Fe))throw new Error("Invalid arguments passed to jsPDF.rect");return b===w.COMPAT&&(ve=-ve),se([D(I(C)),D(P(q)),D(I(ue)),D(I(ve)),"re"].join(" ")),uu(Fe),this},f.__private__.triangle=f.triangle=function(C,q,ue,ve,Fe,ze,tt){if(isNaN(C)||isNaN(q)||isNaN(ue)||isNaN(ve)||isNaN(Fe)||isNaN(ze)||!ra(tt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ue-C,ve-q],[Fe-ue,ze-ve],[C-Fe,q-ze]],C,q,[1,1],tt,!0),this},f.__private__.roundedRect=f.roundedRect=function(C,q,ue,ve,Fe,ze,tt){if(isNaN(C)||isNaN(q)||isNaN(ue)||isNaN(ve)||isNaN(Fe)||isNaN(ze)||!ra(tt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var gt=4/3*(Math.SQRT2-1);return Fe=Math.min(Fe,.5*ue),ze=Math.min(ze,.5*ve),this.lines([[ue-2*Fe,0],[Fe*gt,0,Fe,ze-ze*gt,Fe,ze],[0,ve-2*ze],[0,ze*gt,-Fe*gt,ze,-Fe,ze],[2*Fe-ue,0],[-Fe*gt,0,-Fe,-ze*gt,-Fe,-ze],[0,2*ze-ve],[0,-ze*gt,Fe*gt,-ze,Fe,-ze]],C+Fe,q,[1,1],tt,!0),this},f.__private__.ellipse=f.ellipse=function(C,q,ue,ve,Fe){if(isNaN(C)||isNaN(q)||isNaN(ue)||isNaN(ve)||!ra(Fe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ze=4/3*(Math.SQRT2-1)*ue,tt=4/3*(Math.SQRT2-1)*ve;return du(C+ue,q),go(C+ue,q-tt,C+ze,q-ve,C,q-ve),go(C-ze,q-ve,C-ue,q-tt,C-ue,q),go(C-ue,q+tt,C-ze,q+ve,C,q+ve),go(C+ze,q+ve,C+ue,q+tt,C+ue,q),uu(Fe),this},f.__private__.circle=f.circle=function(C,q,ue,ve){if(isNaN(C)||isNaN(q)||isNaN(ue)||!ra(ve))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(C,q,ue,ue,ve)},f.setFont=function(C,q,ue){return ue&&(q=k(q,ue)),Me=Qh(C,q,{disableWarning:!1}),this};var u0=f.__private__.getFont=f.getFont=function(){return Qe[Qh.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var C,q,ue={};for(C in et)if(et.hasOwnProperty(C))for(q in ue[C]=[],et[C])et[C].hasOwnProperty(q)&&ue[C].push(q);return ue},f.addFont=function(C,q,ue,ve,Fe){var ze=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ze.indexOf(arguments[3])!==-1?Fe=arguments[3]:arguments[3]&&ze.indexOf(arguments[3])==-1&&(ue=k(ue,ve)),Fe=Fe||"Identity-H",Au.call(this,C,q,ue,Fe)};var lA,hu=e.lineWidth||.200025,ll=f.__private__.getLineWidth=f.getLineWidth=function(){return hu},$h=f.__private__.setLineWidth=f.setLineWidth=function(C){return hu=C,se(D(I(C))+" w"),this};f.__private__.setLineDash=Lt.API.setLineDash=Lt.API.setLineDashPattern=function(C,q){if(C=C||[],q=q||0,isNaN(q)||!Array.isArray(C))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return C=C.map(function(ue){return D(I(ue))}).join(" "),q=D(I(q)),se("["+C+"] "+q+" d"),this};var zh=f.__private__.getLineHeight=f.getLineHeight=function(){return he*lA};f.__private__.getLineHeight=f.getLineHeight=function(){return he*lA};var Wh=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(C){return typeof(C=C||1.15)=="number"&&(lA=C),this},Kh=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return lA};Wh(e.lineHeight);var sa=f.__private__.getHorizontalCoordinate=function(C){return I(C)},Ma=f.__private__.getVerticalCoordinate=function(C){return b===w.ADVANCED?C:it[W].mediaBox.topRightY-it[W].mediaBox.bottomLeftY-I(C)},d0=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(C){return D(sa(C))},mo=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(C){return D(Ma(C))},Pi=e.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return ks(Pi)},f.__private__.setStrokeColor=f.setDrawColor=function(C,q,ue,ve){return Pi=Ns({ch1:C,ch2:q,ch3:ue,ch4:ve,pdfColorType:"draw",precision:2}),se(Pi),this};var fu=e.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return ks(fu)},f.__private__.setFillColor=f.setFillColor=function(C,q,ue,ve){return fu=Ns({ch1:C,ch2:q,ch3:ue,ch4:ve,pdfColorType:"fill",precision:2}),se(fu),this};var cA=e.textColor||"0 g",h0=f.__private__.getTextColor=f.getTextColor=function(){return ks(cA)};f.__private__.setTextColor=f.setTextColor=function(C,q,ue,ve){return cA=Ns({ch1:C,ch2:q,ch3:ue,ch4:ve,pdfColorType:"text",precision:3}),this};var cl=e.charSpace,f0=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(cl||0)};f.__private__.setCharSpace=f.setCharSpace=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return cl=C,this};var pu=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(C){var q=f.CapJoinStyles[C];if(q===void 0)throw new Error("Line cap style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return pu=q,se(q+" J"),this};var gu=0;f.__private__.setLineJoin=f.setLineJoin=function(C){var q=f.CapJoinStyles[C];if(q===void 0)throw new Error("Line join style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return gu=q,se(q+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(C){if(C=C||0,isNaN(C))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return se(D(I(C))+" M"),this},f.GState=og,f.setGState=function(C){(C=typeof C=="string"?Et[Xt[C]]:Vh(null,C)).equals($t)||(se("/"+C.id+" gs"),$t=C)};var Vh=function(C,q){if(!C||!Xt[C]){var ue=!1;for(var ve in Et)if(Et.hasOwnProperty(ve)&&Et[ve].equals(q)){ue=!0;break}if(ue)q=Et[ve];else{var Fe="GS"+(Object.keys(Et).length+1).toString(10);Et[Fe]=q,q.id=Fe}return C&&(Xt[C]=q.id),ft.publish("addGState",q),q}};f.addGState=function(C,q){return Vh(C,q),this},f.saveGraphicsState=function(){return se("q"),Pe.push({key:Me,size:he,color:cA}),this},f.restoreGraphicsState=function(){se("Q");var C=Pe.pop();return Me=C.key,he=C.size,cA=C.color,$t=null,this},f.setCurrentTransformationMatrix=function(C){return se(C.toString()+" cm"),this},f.comment=function(C){return se("#"+C),this};var ul=function(C,q){var ue=C||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ue},set:function(ze){isNaN(ze)||(ue=parseFloat(ze))}});var ve=q||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ve},set:function(ze){isNaN(ze)||(ve=parseFloat(ze))}});var Fe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Fe},set:function(ze){Fe=ze.toString()}}),this},mu=function(C,q,ue,ve){ul.call(this,C,q),this.type="rect";var Fe=ue||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Fe},set:function(tt){isNaN(tt)||(Fe=parseFloat(tt))}});var ze=ve||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ze},set:function(tt){isNaN(tt)||(ze=parseFloat(tt))}}),this},vu=function(){this.page=Mt,this.currentPage=W,this.pages=fe.slice(0),this.pagesContext=it.slice(0),this.x=nt,this.y=He,this.matrix=xt,this.width=uA(W),this.height=vo(W),this.outputDestination=de,this.id="",this.objectNumber=-1};vu.prototype.restore=function(){Mt=this.page,W=this.currentPage,it=this.pagesContext,fe=this.pages,nt=this.x,He=this.y,xt=this.matrix,yu(W,this.width),xu(W,this.height),de=this.outputDestination};var Gh=function(C,q,ue,ve,Fe){sr.push(new vu),Mt=W=0,fe=[],nt=C,He=q,xt=Fe,lu([ue,ve])},p0=function(C){if(Qr[C])sr.pop().restore();else{var q=new vu,ue="Xo"+(Object.keys(Jt).length+1).toString(10);q.id=ue,Qr[C]=ue,Jt[ue]=q,ft.publish("addFormObject",q),sr.pop().restore()}};for(var dl in f.beginFormObject=function(C,q,ue,ve,Fe){return Gh(C,q,ue,ve,Fe),this},f.endFormObject=function(C){return p0(C),this},f.doFormObject=function(C,q){var ue=Jt[Qr[C]];return se("q"),se(q.toString()+" cm"),se("/"+ue.id+" Do"),se("Q"),this},f.getFormObject=function(C){var q=Jt[Qr[C]];return{x:q.x,y:q.y,width:q.width,height:q.height,matrix:q.matrix}},f.save=function(C,q){return C=C||"generated.pdf",(q=q||{}).returnPromise=q.returnPromise||!1,q.returnPromise===!1?(SA(al(Da()),C),typeof SA.unload=="function"&&Dt.setTimeout&&setTimeout(SA.unload,911),this):new Promise(function(ue,ve){try{var Fe=SA(al(Da()),C);typeof SA.unload=="function"&&Dt.setTimeout&&setTimeout(SA.unload,911),ue(Fe)}catch(ze){ve(ze.message)}})},Lt.API)Lt.API.hasOwnProperty(dl)&&(dl==="events"&&Lt.API.events.length?function(C,q){var ue,ve,Fe;for(Fe=q.length-1;Fe!==-1;Fe--)ue=q[Fe][0],ve=q[Fe][1],C.subscribe.apply(C,[ue].concat(typeof ve=="function"?[ve]:ve))}(ft,Lt.API.events):f[dl]=Lt.API[dl]);var uA=f.getPageWidth=function(C){return(it[C=C||W].mediaBox.topRightX-it[C].mediaBox.bottomLeftX)/Ie},yu=f.setPageWidth=function(C,q){it[C].mediaBox.topRightX=q*Ie+it[C].mediaBox.bottomLeftX},vo=f.getPageHeight=function(C){return(it[C=C||W].mediaBox.topRightY-it[C].mediaBox.bottomLeftY)/Ie},xu=f.setPageHeight=function(C,q){it[C].mediaBox.topRightY=q*Ie+it[C].mediaBox.bottomLeftY};return f.internal={pdfEscape:Ts,getStyle:Hh,getFont:u0,getFontSize:Ce,getCharSpace:f0,getTextColor:h0,getLineHeight:zh,getLineHeightFactor:Kh,getLineWidth:ll,write:me,getHorizontalCoordinate:sa,getVerticalCoordinate:Ma,getCoordinateString:d0,getVerticalCoordinateString:mo,collections:{},newObject:Pn,newAdditionalObject:oi,newObjectDeferred:Zn,newObjectDeferredBegin:dr,getFilters:Ai,putStream:_s,events:ft,scaleFactor:Ie,pageSize:{getWidth:function(){return uA(W)},setWidth:function(C){yu(W,C)},getHeight:function(){return vo(W)},setHeight:function(C){xu(W,C)}},encryptionOptions:u,encryption:rs,getEncryptor:i0,output:ol,getNumberOfPages:e0,pages:fe,out:se,f2:L,f3:E,getPageInfo:Rh,getPageInfoByObjId:Qt,getCurrentPageInfo:a0,getPDFVersion:g,Point:ul,Rectangle:mu,Matrix:Ct,hasHotfix:Ph},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return uA(W)},set:function(C){yu(W,C)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return vo(W)},set:function(C){xu(W,C)},enumerable:!0,configurable:!0}),Jm.call(f,ae),Me="F1",Dh(s,n),ft.publish("initialized"),f}Gl.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Gl.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Gl.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},Gl.prototype.processOwnerPassword=function(e,t){return O1(H1(t).substr(0,5),e)},Gl.prototype.encryptor=function(e,t){var n=H1(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return O1(n,r)}},og.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||cn(e)!==cn(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},Lt.API={events:[]},Lt.version="3.0.1";var cr=Lt.API,Qx=1,el=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ll=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Rt=function(e){return e.toFixed(2)},Uo=function(e){return e.toFixed(5)};cr.__acroform__={};var Ks=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},vB=function(e){return e*Qx},Aa=function(e){var t=new GE,n=St.internal.getHeight(e)||0,r=St.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Rt(r)),Number(Rt(n))],t},W$=cr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},K$=cr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},V$=cr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},yr=cr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return V$(e,t-1)},xr=cr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return W$(e,t-1)},br=cr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return K$(e,t-1)},G$=cr.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,s=e[0],i=e[1],o=e[2],A=e[3],l={};return l.lowerLeft_X=n(s)||0,l.lowerLeft_Y=r(i+A)||0,l.upperRight_X=n(s+o)||0,l.upperRight_Y=r(i)||0,[Number(Rt(l.lowerLeft_X)),Number(Rt(l.lowerLeft_Y)),Number(Rt(l.upperRight_X)),Number(Rt(l.upperRight_Y))]},q$=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=$1(e,n),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+Rt(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Aa(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},$1=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(E){return E.split(`
`)}):s.map(function(E){return[E]});var i=n,o=St.internal.getHeight(e)||0;o=o<0?-o:o;var A=St.internal.getWidth(e)||0;A=A<0?-A:A;var l=function(E,I,T){if(E+1<s.length){var P=I+" "+s[E+1][0];return Uf(P,e,T).width<=A-4}return!1};i++;e:for(;i>0;){t="",i--;var c,u,d=Uf("3",e,i).height,p=e.multiline?o-i:(o-d)/2,f=p+=2,v=0,g=0,y=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+Uf(t,e,i=12).width+", FieldWidth:"+A+`
`;break}for(var x="",w=0,b=0;b<s.length;b++)if(s.hasOwnProperty(b)){var j=!1;if(s[b].length!==1&&y!==s[b].length-1){if((d+2)*(w+2)+2>o)continue e;x+=s[b][y],j=!0,g=b,b--}else{x=(x+=s[b][y]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var _=parseInt(b),k=l(_,x,i),D=b>=s.length-1;if(k&&!D){x+=" ",y=0;continue}if(k||D){if(D)g=_;else if(e.multiline&&(d+2)*(w+2)+2>o)continue e}else{if(!e.multiline||(d+2)*(w+2)+2>o)continue e;g=_}}for(var N="",U=v;U<=g;U++){var L=s[U];if(e.multiline){if(U===g){N+=L[y]+" ",y=(y+1)%L.length;continue}if(U===v){N+=L[L.length-1]+" ";continue}}N+=L[0]+" "}switch(N=N.substr(N.length-1)==" "?N.substr(0,N.length-1):N,u=Uf(N,e,i).width,e.textAlign){case"right":c=A-u-2;break;case"center":c=(A-u)/2;break;case"left":default:c=2}t+=Rt(c)+" "+Rt(f)+` Td
`,t+="("+el(N)+`) Tj
`,t+=-Rt(c)+` 0 Td
`,f=-(i+2),u=0,v=j?g:g+1,w++,x=""}break}return r.text=t,r.fontSize=i,r},Uf=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:s}},Y$={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},X$=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},J$=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,s=e[n];t.internal.newObjectDeferredBegin(s.objId,!0),cn(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete e[r]}},Z$=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(ea.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Y$)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Qx=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new qE,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in r)if(r.hasOwnProperty(s)){var i=r[s];i.objId=void 0,i.hasAnnotation&&X$(i,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,s){var i=!r;for(var o in r||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var A=r[o],l=[],c=A.Rect;if(A.Rect&&(A.Rect=G$(A.Rect,s)),s.internal.newObjectDeferredBegin(A.objId,!0),A.DA=St.createDefaultAppearanceStream(A),cn(A)==="object"&&typeof A.getKeyValueListForStream=="function"&&(l=A.getKeyValueListForStream()),A.Rect=c,A.hasAppearanceStream&&!A.appearanceStreamContent){var u=q$(A);l.push({key:"AP",value:"<</N "+u+">>"}),s.internal.acroformPlugin.xForms.push(u)}if(A.appearanceStreamContent){var d="";for(var p in A.appearanceStreamContent)if(A.appearanceStreamContent.hasOwnProperty(p)){var f=A.appearanceStreamContent[p];if(d+="/"+p+" ",d+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var v=f[o];typeof v=="function"&&(v=v.call(s,A)),d+="/"+o+" "+v+" ",s.internal.acroformPlugin.xForms.indexOf(v)>=0||s.internal.acroformPlugin.xForms.push(v)}}else typeof(v=f)=="function"&&(v=v.call(s,A)),d+="/"+o+" "+v,s.internal.acroformPlugin.xForms.indexOf(v)>=0||s.internal.acroformPlugin.xForms.push(v);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}s.internal.putStream({additionalKeyValues:l,objectId:A.objId}),s.internal.out("endobj")}i&&J$(s.internal.acroformPlugin.xForms,s)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},VE=cr.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(o){return o};if(Array.isArray(e)){for(var s="[",i=0;i<e.length;i++)switch(i!==0&&(s+=" "),cn(e[i])){case"boolean":case"number":case"object":s+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),s+="("+el(r(e[i].toString()))+")"):s+=e[i].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},fv=function(e,t,n){var r=function(s){return s};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+el(r(e))+")"},va=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};va.prototype.toString=function(){return this.objId+" 0 R"},va.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},va.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],s=this[r];s&&(Array.isArray(s)?e.push({key:r,value:VE(s,this.objId,this.scope)}):s instanceof va?(s.scope=this.scope,e.push({key:r,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:r,value:s}))}return e};var GE=function(){va.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};Ks(GE,va);var qE=function(){va.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+el(n(e))+")"}},set:function(n){e=n}})};Ks(qE,va);var ea=function e(){va.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');t=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!yr(t,3)},set:function(x){x?this.F=xr(t,3):this.F=br(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');n=x}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(x){r=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(x){r[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(x){r[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(x){r[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(x){r[3]=x}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Ag)return;i="FieldObject"+e.FieldNum++}var x=function(w){return w};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+el(x(i))+")"},set:function(x){i=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(x){i=x}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var A="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return A},set:function(x){A=x}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/Qx:c},set:function(x){c=x}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(x){u=x}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof Ag||this instanceof LA))return fv(d,this.objId,this.scope)},set:function(x){x=x.toString(),d=x}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Wr?p:fv(p,this.objId,this.scope)},set:function(x){x=x.toString(),p=this instanceof Wr?x:x.substr(0,1)==="("?Ll(x.substr(1,x.length-2)):Ll(x)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Wr?Ll(p.substr(1,p.length-1)):p},set:function(x){x=x.toString(),p=this instanceof Wr?"/"+x:x}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Wr?f:fv(f,this.objId,this.scope)},set:function(x){x=x.toString(),f=this instanceof Wr?x:x.substr(0,1)==="("?Ll(x.substr(1,x.length-2)):Ll(x)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Wr?Ll(f.substr(1,f.length-1)):f},set:function(x){x=x.toString(),f=this instanceof Wr?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(x){x=!!x,g=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(x){v=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,1)},set:function(x){x?this.Ff=xr(this.Ff,1):this.Ff=br(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,2)},set:function(x){x?this.Ff=xr(this.Ff,2):this.Ff=br(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,3)},set:function(x){x?this.Ff=xr(this.Ff,3):this.Ff=br(this.Ff,3)}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(y!==null)return y},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');y=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(y){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:y=2;break;case"center":case 1:y=1;break;case"left":case 0:default:y=0}}})};Ks(ea,va);var pc=function(){ea.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return VE(t,this.objId,this.scope)},set:function(n){var r,s;s=[],typeof(r=n)=="string"&&(s=function(i,o,A){A||(A=1);for(var l,c=[];l=o.exec(i);)c.push(l[A]);return c}(r,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,18)},set:function(n){n?this.Ff=xr(this.Ff,18):this.Ff=br(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=xr(this.Ff,19):this.Ff=br(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,20)},set:function(n){n?(this.Ff=xr(this.Ff,20),t.sort()):this.Ff=br(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,22)},set:function(n){n?this.Ff=xr(this.Ff,22):this.Ff=br(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,23)},set:function(n){n?this.Ff=xr(this.Ff,23):this.Ff=br(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,27)},set:function(n){n?this.Ff=xr(this.Ff,27):this.Ff=br(this.Ff,27)}}),this.hasAppearanceStream=!1};Ks(pc,ea);var gc=function(){pc.call(this),this.fontName="helvetica",this.combo=!1};Ks(gc,pc);var mc=function(){gc.call(this),this.combo=!0};Ks(mc,gc);var Sp=function(){mc.call(this),this.edit=!0};Ks(Sp,mc);var Wr=function(){ea.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,15)},set:function(n){n?this.Ff=xr(this.Ff,15):this.Ff=br(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,16)},set:function(n){n?this.Ff=xr(this.Ff,16):this.Ff=br(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,17)},set:function(n){n?this.Ff=xr(this.Ff,17):this.Ff=br(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,26)},set:function(n){n?this.Ff=xr(this.Ff,26):this.Ff=br(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(i){return i};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,s=[];for(r in s.push("<<"),t)s.push("/"+r+" ("+el(n(t[r]))+")");return s.push(">>"),s.join(`
`)}},set:function(n){cn(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};Ks(Wr,ea);var Ep=function(){Wr.call(this),this.pushButton=!0};Ks(Ep,Wr);var vc=function(){Wr.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Ks(vc,Wr);var Ag=function(){var e,t;ea.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(A){return A};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),r)o.push("/"+i+" ("+el(s(r[i]))+")");return o.push(">>"),o.join(`
`)},set:function(s){cn(s)==="object"&&(r=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(s){typeof s=="string"&&(r.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(s){n="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=St.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ks(Ag,ea),vc.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},vc.prototype.createOption=function(e){var t=new Ag;return t.Parent=this,t.optionName=e,this.Kids.push(t),ez.call(this.scope,t),t};var jp=function(){Wr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=St.CheckBox.createAppearanceStream()};Ks(jp,Wr);var LA=function(){ea.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,13)},set:function(t){t?this.Ff=xr(this.Ff,13):this.Ff=br(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,21)},set:function(t){t?this.Ff=xr(this.Ff,21):this.Ff=br(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,23)},set:function(t){t?this.Ff=xr(this.Ff,23):this.Ff=br(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,24)},set:function(t){t?this.Ff=xr(this.Ff,24):this.Ff=br(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,25)},set:function(t){t?this.Ff=xr(this.Ff,25):this.Ff=br(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,26)},set:function(t){t?this.Ff=xr(this.Ff,26):this.Ff=br(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ks(LA,ea);var Ip=function(){LA.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,14)},set:function(e){e?this.Ff=xr(this.Ff,14):this.Ff=br(this.Ff,14)}}),this.password=!0};Ks(Ip,LA);var St={CheckBox:{createAppearanceStream:function(){return{N:{On:St.CheckBox.YesNormal},D:{On:St.CheckBox.YesPushDown,Off:St.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Aa(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),i=$1(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+Rt(St.internal.getWidth(e))+" "+Rt(St.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Rt(i.fontSize)+" Tf "+s),n.push("BT"),n.push(i.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=Aa(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),s=[],i=St.internal.getHeight(e),o=St.internal.getWidth(e),A=$1(e,e.caption);return s.push("1 g"),s.push("0 0 "+Rt(o)+" "+Rt(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Rt(o-1)+" "+Rt(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+n+" "+Rt(A.fontSize)+" Tf "+r),s.push(A.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=Aa(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Rt(St.internal.getWidth(e))+" "+Rt(St.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:St.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=St.RadioButton.Circle.YesNormal,t.D[e]=St.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Aa(e);t.scope=e.scope;var n=[],r=St.internal.getWidth(e)<=St.internal.getHeight(e)?St.internal.getWidth(e)/4:St.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=St.internal.Bezier_C,i=Number((r*s).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Uo(St.internal.getWidth(e)/2)+" "+Uo(St.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),n.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),n.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),n.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Aa(e);t.scope=e.scope;var n=[],r=St.internal.getWidth(e)<=St.internal.getHeight(e)?St.internal.getWidth(e)/4:St.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),i=Number((s*St.internal.Bezier_C).toFixed(5)),o=Number((r*St.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Uo(St.internal.getWidth(e)/2)+" "+Uo(St.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),n.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),n.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),n.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Uo(St.internal.getWidth(e)/2)+" "+Uo(St.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Aa(e);t.scope=e.scope;var n=[],r=St.internal.getWidth(e)<=St.internal.getHeight(e)?St.internal.getWidth(e)/4:St.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),i=Number((s*St.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Uo(St.internal.getWidth(e)/2)+" "+Uo(St.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),n.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),n.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),n.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:St.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=St.RadioButton.Cross.YesNormal,t.D[e]=St.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Aa(e);t.scope=e.scope;var n=[],r=St.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+Rt(St.internal.getWidth(e)-2)+" "+Rt(St.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Rt(r.x1.x)+" "+Rt(r.x1.y)+" m"),n.push(Rt(r.x2.x)+" "+Rt(r.x2.y)+" l"),n.push(Rt(r.x4.x)+" "+Rt(r.x4.y)+" m"),n.push(Rt(r.x3.x)+" "+Rt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Aa(e);t.scope=e.scope;var n=St.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+Rt(St.internal.getWidth(e))+" "+Rt(St.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Rt(St.internal.getWidth(e)-2)+" "+Rt(St.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Rt(n.x1.x)+" "+Rt(n.x1.y)+" m"),r.push(Rt(n.x2.x)+" "+Rt(n.x2.y)+" l"),r.push(Rt(n.x4.x)+" "+Rt(n.x4.y)+" m"),r.push(Rt(n.x3.x)+" "+Rt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Aa(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Rt(St.internal.getWidth(e))+" "+Rt(St.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};St.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=St.internal.getWidth(e),n=St.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},St.internal.getWidth=function(e){var t=0;return cn(e)==="object"&&(t=vB(e.Rect[2])),t},St.internal.getHeight=function(e){var t=0;return cn(e)==="object"&&(t=vB(e.Rect[3])),t};var ez=cr.addField=function(e){if(Z$(this,e),!(e instanceof ea))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};cr.AcroFormChoiceField=pc,cr.AcroFormListBox=gc,cr.AcroFormComboBox=mc,cr.AcroFormEditBox=Sp,cr.AcroFormButton=Wr,cr.AcroFormPushButton=Ep,cr.AcroFormRadioButton=vc,cr.AcroFormCheckBox=jp,cr.AcroFormTextField=LA,cr.AcroFormPasswordField=Ip,cr.AcroFormAppearance=St,cr.AcroForm={ChoiceField:pc,ListBox:gc,ComboBox:mc,EditBox:Sp,Button:Wr,PushButton:Ep,RadioButton:vc,CheckBox:jp,TextField:LA,PasswordField:Ip,Appearance:St},Lt.AcroForm={ChoiceField:pc,ListBox:gc,ComboBox:mc,EditBox:Sp,Button:Wr,PushButton:Ep,RadioButton:vc,CheckBox:jp,TextField:LA,PasswordField:Ip,Appearance:St};Lt.AcroForm;function YE(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(E,I){var T,P,K,Q,F,$=t;if((I=I||t)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(k(E))for(F in n)for(K=n[F],T=0;T<K.length;T+=1){for(Q=!0,P=0;P<K[T].length;P+=1)if(K[T][P]!==void 0&&K[T][P]!==E[P]){Q=!1;break}if(Q===!0){$=F;break}}else for(F in n)for(K=n[F],T=0;T<K.length;T+=1){for(Q=!0,P=0;P<K[T].length;P+=1)if(K[T][P]!==void 0&&K[T][P]!==E.charCodeAt(P)){Q=!1;break}if(Q===!0){$=F;break}}return $===t&&I!==t&&($=I),$},s=function E(I){for(var T=this.internal.write,P=this.internal.putStream,K=(0,this.internal.getFilters)();K.indexOf("FlateEncode")!==-1;)K.splice(K.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var Q=[];if(Q.push({key:"Type",value:"/XObject"}),Q.push({key:"Subtype",value:"/Image"}),Q.push({key:"Width",value:I.width}),Q.push({key:"Height",value:I.height}),I.colorSpace===y.INDEXED?Q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(Q.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===y.DEVICE_CMYK&&Q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Q.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&Q.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)){for(var F="",$=0,O=I.transparency.length;$<O;$++)F+=I.transparency[$]+" "+I.transparency[$]+" ";Q.push({key:"Mask",value:"["+F+"]"})}I.sMask!==void 0&&Q.push({key:"SMask",value:I.objectId+1+" 0 R"});var H=I.filter!==void 0?["/"+I.filter]:void 0;if(P({data:I.data,additionalKeyValues:Q,alreadyAppliedFilters:H,objectId:I.objectId}),T("endobj"),"sMask"in I&&I.sMask!==void 0){var ie="/Predictor "+I.predictor+" /Colors 1 /BitsPerComponent "+I.bitsPerComponent+" /Columns "+I.width,M={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:I.bitsPerComponent,decodeParameters:ie,data:I.sMask};"filter"in I&&(M.filter=I.filter),E.call(this,M)}if(I.colorSpace===y.INDEXED){var W=this.internal.newObject();P({data:N(new Uint8Array(I.palette)),objectId:W}),T("endobj")}},i=function(){var E=this.internal.collections.addImage_images;for(var I in E)s.call(this,E[I])},o=function(){var E,I=this.internal.collections.addImage_images,T=this.internal.write;for(var P in I)T("/I"+(E=I[P]).index,E.objectId,"0","R")},A=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var E=this.internal.collections.addImage_images;return A.call(this),E},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(E){return typeof e["process"+E.toUpperCase()]=="function"},d=function(E){return cn(E)==="object"&&E.nodeType===1},p=function(E,I){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var T=""+E.getAttribute("src");if(T.indexOf("data:image/")===0)return kd(unescape(T).split("base64,").pop());var P=e.loadFile(T,!0);if(P!==void 0)return P}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var K;switch(I){case"PNG":K="image/png";break;case"WEBP":K="image/webp";break;case"JPEG":case"JPG":default:K="image/jpeg"}return kd(E.toDataURL(K,1).split("base64,").pop())}},f=function(E){var I=this.internal.collections.addImage_images;if(I){for(var T in I)if(E===I[T].alias)return I[T]}},v=function(E,I,T){return E||I||(E=-96,I=-96),E<0&&(E=-1*T.width*72/E/this.internal.scaleFactor),I<0&&(I=-1*T.height*72/I/this.internal.scaleFactor),E===0&&(E=I*T.width/T.height),I===0&&(I=E*T.height/T.width),[E,I]},g=function(E,I,T,P,K,Q){var F=v.call(this,T,P,K),$=this.internal.getCoordinateString,O=this.internal.getVerticalCoordinateString,H=l.call(this);if(T=F[0],P=F[1],H[K.index]=K,Q){Q*=Math.PI/180;var ie=Math.cos(Q),M=Math.sin(Q),W=function(X){return X.toFixed(4)},V=[W(ie),W(M),W(-1*M),W(ie),0,0,"cm"]}this.internal.write("q"),Q?(this.internal.write([1,"0","0",1,$(E),O(I+P),"cm"].join(" ")),this.internal.write(V.join(" ")),this.internal.write([$(T),"0","0",$(P),"0","0","cm"].join(" "))):this.internal.write([$(T),"0","0",$(P),$(E),O(I+P),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+K.index+" Do"),this.internal.write("Q")},y=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=e.__addimage__.sHashCode=function(E){var I,T,P=0;if(typeof E=="string")for(T=E.length,I=0;I<T;I++)P=(P<<5)-P+E.charCodeAt(I),P|=0;else if(k(E))for(T=E.byteLength/2,I=0;I<T;I++)P=(P<<5)-P+E[I],P|=0;return P},b=e.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var I=!0;return E.length===0&&(I=!1),E.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(I=!1),I},j=e.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var I=E.indexOf(",");return I<0?null:E.substring(0,I).trim().endsWith("base64")?E.substring(I+1):null},_=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(E){return _()&&E instanceof ArrayBuffer};var k=e.__addimage__.isArrayBufferView=function(E){return _()&&typeof Uint32Array<"u"&&(E instanceof Int8Array||E instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array)},D=e.__addimage__.binaryStringToUint8Array=function(E){for(var I=E.length,T=new Uint8Array(I),P=0;P<I;P++)T[P]=E.charCodeAt(P);return T},N=e.__addimage__.arrayBufferToBinaryString=function(E){for(var I="",T=k(E)?E:new Uint8Array(E),P=0;P<T.length;P+=8192)I+=String.fromCharCode.apply(null,T.subarray(P,P+8192));return I};e.addImage=function(){var E,I,T,P,K,Q,F,$,O;if(typeof arguments[1]=="number"?(I=t,T=arguments[1],P=arguments[2],K=arguments[3],Q=arguments[4],F=arguments[5],$=arguments[6],O=arguments[7]):(I=arguments[1],T=arguments[2],P=arguments[3],K=arguments[4],Q=arguments[5],F=arguments[6],$=arguments[7],O=arguments[8]),cn(E=arguments[0])==="object"&&!d(E)&&"imageData"in E){var H=E;E=H.imageData,I=H.format||I||t,T=H.x||T||0,P=H.y||P||0,K=H.w||H.width||K,Q=H.h||H.height||Q,F=H.alias||F,$=H.compression||$,O=H.rotation||H.angle||O}var ie=this.internal.getFilters();if($===void 0&&ie.indexOf("FlateEncode")!==-1&&($="SLOW"),isNaN(T)||isNaN(P))throw new Error("Invalid coordinates passed to jsPDF.addImage");A.call(this);var M=U.call(this,E,I,F,$);return g.call(this,T,P,K,Q,M,O),this};var U=function(E,I,T,P){var K,Q,F;if(typeof E=="string"&&r(E)===t){E=unescape(E);var $=L(E,!1);($!==""||($=e.loadFile(E,!0))!==void 0)&&(E=$)}if(d(E)&&(E=p(E,I)),I=r(E,I),!u(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((F=T)==null||F.length===0)&&(T=function(O){return typeof O=="string"||k(O)?w(O):k(O.data)?w(O.data):null}(E)),(K=f.call(this,T))||(_()&&(E instanceof Uint8Array||I==="RGBA"||(Q=E,E=D(E))),K=this["process"+I.toUpperCase()](E,c.call(this),T,function(O){return O&&typeof O=="string"&&(O=O.toUpperCase()),O in e.image_compression?O:x.NONE}(P),Q)),!K)throw new Error("An unknown error occurred whilst processing the image.");return K},L=e.__addimage__.convertBase64ToBinaryString=function(E,I){I=typeof I!="boolean"||I;var T,P="";if(typeof E=="string"){var K;T=(K=j(E))!==null&&K!==void 0?K:E;try{P=kd(T)}catch(Q){if(I)throw b(T)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return P};e.getImageProperties=function(E){var I,T,P="";if(d(E)&&(E=p(E)),typeof E=="string"&&r(E)===t&&((P=L(E,!1))===""&&(P=e.loadFile(E)||""),E=P),T=r(E),!u(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(!_()||E instanceof Uint8Array||(E=D(E)),!(I=this["process"+T.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=T,I}})(Lt.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};Lt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,s,i,o=this.internal.getCoordinateString,A=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,u=!1,d=0;d<c.length&&!u;d++)switch((r=c[d]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var p=0;p<c.length;p++){r=c[p];var f=this.internal.pdfEscape,v=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(g.objId),w=r.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+o(r.bounds.x)+" "+A(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+A(r.bounds.y)+"] ")+"/Contents ("+f(x(r.contents))+")",i+=" /Popup "+y.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+f(x(w))+") >>",g.content=i;var b=g.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+o(r.bounds.x+30)+" "+A(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+A(r.bounds.y)+"] ")+" /Parent "+b,r.open&&(i+=" /Open true"),i+=" >>",y.content=i,this.internal.write(g.objId,"0 R",y.objId,"0 R");break;case"freetext":s="/Rect ["+o(r.bounds.x)+" "+A(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+A(r.bounds.y+r.bounds.h)+"] ";var j=r.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+f(v(r.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+j+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(r.options.name){var _=this.annotations._nameMap[r.options.name];r.options.pageNumber=_.page,r.options.top=_.y}else r.options.top||(r.options.top=0);if(s="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",i="",r.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+f(v(r.options.url))+") >>";else if(r.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,i+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var k=A(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),i+=" /XYZ "+r.options.left+" "+k+" "+r.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,s,i,o){var A=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;A.pageContext.annotations.push({finalBounds:{x:l(n),y:c(r),w:l(n+s),h:c(r+i)},options:o,type:"link"})},e.textWithLink=function(n,r,s,i){var o,A,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){A=i.maxWidth;var u=this.splitTextToSize(n,A).length;o=Math.ceil(c*u)}else A=l,o=c;return this.text(n,r,s,i),s+=.2*c,i.align==="center"&&(r-=l/2),i.align==="right"&&(r-=l),this.link(r,s-c,A,o,i),l},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(Lt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},A=e.__arabicParser__.isArabicEndLetter=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(g){return o(g)&&s.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length==4},d=e.__arabicParser__.resolveLigatures=function(g){var y=0,x=n,w="",b=0;for(y=0;y<g.length;y+=1)x[g.charCodeAt(y)]!==void 0?(b++,typeof(x=x[g.charCodeAt(y)])=="number"&&(w+=String.fromCharCode(x),x=n,b=0),y===g.length-1&&(x=n,w+=g.charAt(y-(b-1)),y-=b-1,b=0)):(x=n,w+=g.charAt(y-b),y-=b,b=0);return w};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&r[g.charCodeAt(0)]!==void 0};var p=e.__arabicParser__.getCorrectForm=function(g,y,x){return o(g)?i(g)===!1?-1:!c(g)||!o(y)&&!o(x)||!o(x)&&A(y)||A(g)&&!o(y)||A(g)&&l(y)||A(g)&&A(y)?0:u(g)&&o(y)&&!A(y)&&o(x)&&c(x)?3:A(g)||!o(x)?1:2:-1},f=function(g){var y=0,x=0,w=0,b="",j="",_="",k=(g=g||"").split("\\s+"),D=[];for(y=0;y<k.length;y+=1){for(D.push(""),x=0;x<k[y].length;x+=1)b=k[y][x],j=k[y][x-1],_=k[y][x+1],o(b)?(w=p(b,j,_),D[y]+=w!==-1?String.fromCharCode(t[b.charCodeAt(0)][w]):b):D[y]+=b;D[y]=d(D[y])}return D.join(" ")},v=e.__arabicParser__.processArabic=e.processArabic=function(){var g,y=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(y)){var w=0;for(x=[],w=0;w<y.length;w+=1)Array.isArray(y[w])?x.push([f(y[w][0]),y[w][1],y[w][2]]):x.push([f(y[w])]);g=x}else g=f(y);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",v])}(Lt.API),Lt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(A){n=A}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(A){r=isNaN(A)||Number.isInteger(A)===!1||A<0?150:A,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(A){s=isNaN(A)||Number.isInteger(A)===!1||A<0?300:A,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(A){i=A}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(A){o=A}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var s;if((n=n||"2d")!=="2d")return null;for(s in r)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=r[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Lt.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(g){v=g}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),d=c.font||this.getFont(),p=c.scaleFactor||this.internal.scaleFactor,f=0,v=0,g=0,y=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var x=c.maxWidth;x>0?typeof l=="string"?l=this.splitTextToSize(l,x):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(b,j){return b.concat(y.splitTextToSize(j,x))},[])):l=Array.isArray(l)?l:[l];for(var w=0;w<l.length;w++)f<(g=this.getStringUnitWidth(l[w],{font:d})*u)&&(f=g);return f!==0&&(v=l.length),{w:f/=p,h:Math.max((v*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/p,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,d=this.internal.__cell__.margins||t,p=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,f&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};e.table=function(l,c,u,d,p){if(r.call(this),!u)throw new Error("No data for PDF table.");var f,v,g,y,x=[],w=[],b=[],j={},_={},k=[],D=[],N=(p=p||{}).autoSize||!1,U=p.printHeaders!==!1,L=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,E=p.margins||Object.assign({width:this.getPageWidth()},t),I=typeof p.padding=="number"?p.padding:3,T=p.headerBackgroundColor||"#c8c8c8",P=p.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=U,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=L,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=T,this.internal.__cell__.headerTextColor=P,this.setFontSize(L),d==null)w=x=Object.keys(u[0]),b=x.map(function(){return"left"});else if(Array.isArray(d)&&cn(d[0])==="object")for(x=d.map(function(H){return H.name}),w=d.map(function(H){return H.prompt||H.name||""}),b=d.map(function(H){return H.align||"left"}),f=0;f<d.length;f+=1)_[d[f].name]=d[f].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(w=x=d,b=x.map(function(){return"left"}));if(N||Array.isArray(d)&&typeof d[0]=="string")for(f=0;f<x.length;f+=1){for(j[y=x[f]]=u.map(function(H){return H[y]}),this.setFont(void 0,"bold"),k.push(this.getTextDimensions(w[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=j[y],this.setFont(void 0,"normal"),g=0;g<v.length;g+=1)k.push(this.getTextDimensions(v[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);_[y]=Math.max.apply(null,k)+I+I,k=[]}if(U){var K={};for(f=0;f<x.length;f+=1)K[x[f]]={},K[x[f]].text=w[f],K[x[f]].align=b[f];var Q=A.call(this,K,_);D=x.map(function(H){return new i(l,c,_[H],Q,K[H].text,void 0,K[H].align)}),this.setTableHeaderRow(D),this.printHeaderRow(1,!1)}var F=d.reduce(function(H,ie){return H[ie.name]=ie.align,H},{});for(f=0;f<u.length;f+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:f,data:u[f]},this);var $=A.call(this,u[f],_);for(g=0;g<x.length;g+=1){var O=u[f][x[g]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:f,col:g,data:O},this),o.call(this,new i(l,c,_[x[g]],$,O,f+2,F[x[g]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var A=function(l,c){var u=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(f){var v=l[f];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,c[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*d/p+u+u},this).reduce(function(f,v){return Math.max(f,v)},0)};e.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,p.push(u)),u.lineNumber=l;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(v)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),n=!1}}(Lt.API);var XE={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},JE=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],z1=YE(JE),ZE=[100,200,300,400,500,600,700,800,900],tz=YE(ZE);function W1(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(i){return XE[i=i||"normal"]?i:"normal"}(e.style),r=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),s=function(i){return typeof z1[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,n,r].join(" ")}}}function yB(e,t,n,r){var s;for(s=n;s>=0&&s<t.length;s+=r)if(e[t[s]])return e[t[s]];for(s=n;s>=0&&s<t.length;s-=r)if(e[t[s]])return e[t[s]]}var nz={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},xB={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function bB(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function rz(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",s=Object.assign({},nz,n.genericFontFamilies||{}),i=null,o=null,A=0;A<t.length;++A)if(s[(i=W1(t[A])).family]&&(i.family=s[i.family]),e.hasOwnProperty(i.family)){o=e[i.family];break}if(!(o=o||e[r]))throw new Error("Could not find a font-family for the rule '"+bB(i)+"' and default family '"+r+"'.");if(o=function(l,c){if(c[l])return c[l];var u=z1[l],d=u<=z1.normal?-1:1,p=yB(c,JE,u,d);if(!p)throw new Error("Could not find a matching font-stretch value for "+l);return p}(i.stretch,o),o=function(l,c){if(c[l])return c[l];for(var u=XE[l],d=0;d<u.length;++d)if(c[u[d]])return c[u[d]];throw new Error("Could not find a matching font-style for "+l)}(i.style,o),!(o=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=tz[l],d=yB(c,ZE,u,l<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+l);return d}(i.weight,o)))throw new Error("Failed to resolve a font for the rule '"+bB(i)+"'.");return o}function wB(e){return e.trimLeft()}function sz(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function iz(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Lf,BB,CB,pv=["times"];(function(e){var t,n,r,s,i,o,A,l,c,u=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new l,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new o,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new o,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new d(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,A=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var d=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=M;Object.defineProperty(this,"pdf",{get:function(){return W}});var V=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return V},set:function(pe){V=!!pe}});var X=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return X},set:function(pe){X=!!pe}});var Y=0;Object.defineProperty(this,"posX",{get:function(){return Y},set:function(pe){isNaN(pe)||(Y=pe)}});var ee=0;Object.defineProperty(this,"posY",{get:function(){return ee},set:function(pe){isNaN(pe)||(ee=pe)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(pe){var se;typeof pe=="number"?se=[pe,pe,pe,pe]:((se=new Array(4))[0]=pe[0],se[1]=pe.length>=2?pe[1]:se[0],se[2]=pe.length>=3?pe[2]:se[0],se[3]=pe.length>=4?pe[3]:se[1]),c.margin=se}});var ce=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ce},set:function(pe){ce=pe}});var Ae=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ae},set:function(pe){Ae=pe}});var Ee=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ee},set:function(pe){Ee=pe}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(pe){pe instanceof u&&(c=pe)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(pe){c.path=pe}});var fe=[];Object.defineProperty(this,"ctxStack",{get:function(){return fe},set:function(pe){fe=pe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(pe){var se;se=p(pe),this.ctx.fillStyle=se.style,this.ctx.isFillTransparent=se.a===0,this.ctx.fillOpacity=se.a,this.pdf.setFillColor(se.r,se.g,se.b,{a:se.a}),this.pdf.setTextColor(se.r,se.g,se.b,{a:se.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(pe){var se=p(pe);this.ctx.strokeStyle=se.style,this.ctx.isStrokeTransparent=se.a===0,this.ctx.strokeOpacity=se.a,se.a===0?this.pdf.setDrawColor(255,255,255):(se.a,this.pdf.setDrawColor(se.r,se.g,se.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(pe){["butt","round","square"].indexOf(pe)!==-1&&(this.ctx.lineCap=pe,this.pdf.setLineCap(pe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(pe){isNaN(pe)||(this.ctx.lineWidth=pe,this.pdf.setLineWidth(pe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(pe){["bevel","round","miter"].indexOf(pe)!==-1&&(this.ctx.lineJoin=pe,this.pdf.setLineJoin(pe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(pe){isNaN(pe)||(this.ctx.miterLimit=pe,this.pdf.setMiterLimit(pe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(pe){this.ctx.textBaseline=pe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(pe){["right","end","center","left","start"].indexOf(pe)!==-1&&(this.ctx.textAlign=pe)}});var we=null;function de(pe,se){if(we===null){var me=function(ne){var ae=[];return Object.keys(ne).forEach(function(he){ne[he].forEach(function(ge){var Ce=null;switch(ge){case"bold":Ce={family:he,weight:"bold"};break;case"italic":Ce={family:he,style:"italic"};break;case"bolditalic":Ce={family:he,weight:"bold",style:"italic"};break;case"":case"normal":Ce={family:he}}Ce!==null&&(Ce.ref={name:he,style:ge},ae.push(Ce))})}),ae}(pe.getFontList());we=function(ne){for(var ae={},he=0;he<ne.length;++he){var ge=W1(ne[he]),Ce=ge.family,ye=ge.stretch,Le=ge.style,We=ge.weight;ae[Ce]=ae[Ce]||{},ae[Ce][ye]=ae[Ce][ye]||{},ae[Ce][ye][Le]=ae[Ce][ye][Le]||{},ae[Ce][ye][Le][We]=ge}return ae}(me.concat(se))}return we}var Be=null;Object.defineProperty(this,"fontFaces",{get:function(){return Be},set:function(pe){we=null,Be=pe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(pe){var se;if(this.ctx.font=pe,(se=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(pe))!==null){var me=se[1];se[2];var ne=se[3],ae=se[4];se[5];var he=se[6],ge=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ae)[2];ae=Math.floor(ge==="px"?parseFloat(ae)*this.pdf.internal.scaleFactor:ge==="em"?parseFloat(ae)*this.pdf.getFontSize():parseFloat(ae)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ae);var Ce=function(_e){var Me,Ie,nt=[],He=_e.trim();if(He==="")return pv;if(He in xB)return[xB[He]];for(;He!=="";){switch(Ie=null,Me=(He=wB(He)).charAt(0)){case'"':case"'":Ie=sz(He.substring(1),Me);break;default:Ie=iz(He)}if(Ie===null||(nt.push(Ie[0]),(He=wB(Ie[1]))!==""&&He.charAt(0)!==","))return pv;He=He.replace(/^,/,"")}return nt}(he);if(this.fontFaces){var ye=rz(de(this.pdf,this.fontFaces),Ce.map(function(_e){return{family:_e,stretch:"normal",weight:ne,style:me}}));this.pdf.setFont(ye.ref.name,ye.ref.style)}else{var Le="";(ne==="bold"||parseInt(ne,10)>=700||me==="bold")&&(Le="bold"),me==="italic"&&(Le+="italic"),Le.length===0&&(Le="normal");for(var We="",De={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},$e=0;$e<Ce.length;$e++){if(this.pdf.internal.getFont(Ce[$e],Le,{noFallback:!0,disableWarning:!0})!==void 0){We=Ce[$e];break}if(Le==="bolditalic"&&this.pdf.internal.getFont(Ce[$e],"bold",{noFallback:!0,disableWarning:!0})!==void 0)We=Ce[$e],Le="bold";else if(this.pdf.internal.getFont(Ce[$e],"normal",{noFallback:!0,disableWarning:!0})!==void 0){We=Ce[$e],Le="normal";break}}if(We===""){for(var Ge=0;Ge<Ce.length;Ge++)if(De[Ce[Ge]]){We=De[Ce[Ge]];break}}We=We===""?"Times":We,this.pdf.setFont(We,Le)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(pe){this.ctx.globalCompositeOperation=pe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(pe){this.ctx.globalAlpha=pe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(pe){this.ctx.lineDashOffset=pe,ie.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(pe){this.ctx.lineDash=pe,ie.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(pe){this.ctx.ignoreClearRect=!!pe}})};d.prototype.setLineDash=function(M){this.lineDash=M},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){j.call(this,"fill",!1)},d.prototype.stroke=function(){j.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(M,W){if(isNaN(M)||isNaN(W))throw Hn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var V=this.ctx.transform.applyToPoint(new o(M,W));this.path.push({type:"mt",x:V.x,y:V.y}),this.ctx.lastPoint=new o(M,W)},d.prototype.closePath=function(){var M=new o(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&cn(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){M=new o(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(M.x,M.y)},d.prototype.lineTo=function(M,W){if(isNaN(M)||isNaN(W))throw Hn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var V=this.ctx.transform.applyToPoint(new o(M,W));this.path.push({type:"lt",x:V.x,y:V.y}),this.ctx.lastPoint=new o(V.x,V.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),j.call(this,null,!0)},d.prototype.quadraticCurveTo=function(M,W,V,X){if(isNaN(V)||isNaN(X)||isNaN(M)||isNaN(W))throw Hn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Y=this.ctx.transform.applyToPoint(new o(V,X)),ee=this.ctx.transform.applyToPoint(new o(M,W));this.path.push({type:"qct",x1:ee.x,y1:ee.y,x:Y.x,y:Y.y}),this.ctx.lastPoint=new o(Y.x,Y.y)},d.prototype.bezierCurveTo=function(M,W,V,X,Y,ee){if(isNaN(Y)||isNaN(ee)||isNaN(M)||isNaN(W)||isNaN(V)||isNaN(X))throw Hn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ce=this.ctx.transform.applyToPoint(new o(Y,ee)),Ae=this.ctx.transform.applyToPoint(new o(M,W)),Ee=this.ctx.transform.applyToPoint(new o(V,X));this.path.push({type:"bct",x1:Ae.x,y1:Ae.y,x2:Ee.x,y2:Ee.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new o(ce.x,ce.y)},d.prototype.arc=function(M,W,V,X,Y,ee){if(isNaN(M)||isNaN(W)||isNaN(V)||isNaN(X)||isNaN(Y))throw Hn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ee=!!ee,!this.ctx.transform.isIdentity){var ce=this.ctx.transform.applyToPoint(new o(M,W));M=ce.x,W=ce.y;var Ae=this.ctx.transform.applyToPoint(new o(0,V)),Ee=this.ctx.transform.applyToPoint(new o(0,0));V=Math.sqrt(Math.pow(Ae.x-Ee.x,2)+Math.pow(Ae.y-Ee.y,2))}Math.abs(Y-X)>=2*Math.PI&&(X=0,Y=2*Math.PI),this.path.push({type:"arc",x:M,y:W,radius:V,startAngle:X,endAngle:Y,counterclockwise:ee})},d.prototype.arcTo=function(M,W,V,X,Y){throw new Error("arcTo not implemented.")},d.prototype.rect=function(M,W,V,X){if(isNaN(M)||isNaN(W)||isNaN(V)||isNaN(X))throw Hn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,W),this.lineTo(M+V,W),this.lineTo(M+V,W+X),this.lineTo(M,W+X),this.lineTo(M,W),this.lineTo(M+V,W),this.lineTo(M,W)},d.prototype.fillRect=function(M,W,V,X){if(isNaN(M)||isNaN(W)||isNaN(V)||isNaN(X))throw Hn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var Y={};this.lineCap!=="butt"&&(Y.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Y.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,W,V,X),this.fill(),Y.hasOwnProperty("lineCap")&&(this.lineCap=Y.lineCap),Y.hasOwnProperty("lineJoin")&&(this.lineJoin=Y.lineJoin)}},d.prototype.strokeRect=function(M,W,V,X){if(isNaN(M)||isNaN(W)||isNaN(V)||isNaN(X))throw Hn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(M,W,V,X),this.stroke())},d.prototype.clearRect=function(M,W,V,X){if(isNaN(M)||isNaN(W)||isNaN(V)||isNaN(X))throw Hn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,W,V,X))},d.prototype.save=function(M){M=typeof M!="boolean"||M;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var X=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=X}},d.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("Q");this.pdf.setPage(W),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(M){var W,V,X,Y;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))W=0,V=0,X=0,Y=0;else{var ee=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(ee!==null)W=parseInt(ee[1]),V=parseInt(ee[2]),X=parseInt(ee[3]),Y=1;else if((ee=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)W=parseInt(ee[1]),V=parseInt(ee[2]),X=parseInt(ee[3]),Y=parseFloat(ee[4]);else{if(Y=1,typeof M=="string"&&M.charAt(0)!=="#"){var ce=new zE(M);M=ce.ok?ce.toHex():"#000000"}M.length===4?(W=M.substring(1,2),W+=W,V=M.substring(2,3),V+=V,X=M.substring(3,4),X+=X):(W=M.substring(1,3),V=M.substring(3,5),X=M.substring(5,7)),W=parseInt(W,16),V=parseInt(V,16),X=parseInt(X,16)}}return{r:W,g:V,b:X,a:Y,style:M}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(M,W,V,X){if(isNaN(W)||isNaN(V)||typeof M!="string")throw Hn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(X=isNaN(X)?void 0:X,!f.call(this)){var Y=$(this.ctx.transform.rotation),ee=this.ctx.transform.scaleX;I.call(this,{text:M,x:W,y:V,scale:ee,angle:Y,align:this.textAlign,maxWidth:X})}},d.prototype.strokeText=function(M,W,V,X){if(isNaN(W)||isNaN(V)||typeof M!="string")throw Hn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){X=isNaN(X)?void 0:X;var Y=$(this.ctx.transform.rotation),ee=this.ctx.transform.scaleX;I.call(this,{text:M,x:W,y:V,scale:ee,renderingMode:"stroke",angle:Y,align:this.textAlign,maxWidth:X})}},d.prototype.measureText=function(M){if(typeof M!="string")throw Hn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,V=this.pdf.internal.scaleFactor,X=W.internal.getFontSize(),Y=W.getStringUnitWidth(M)*X/W.internal.scaleFactor,ee=function(ce){var Ae=(ce=ce||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ae}}),this};return new ee({width:Y*=Math.round(96*V/72*1e4)/1e4})},d.prototype.scale=function(M,W){if(isNaN(M)||isNaN(W))throw Hn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var V=new l(M,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(V)},d.prototype.rotate=function(M){if(isNaN(M))throw Hn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new l(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},d.prototype.translate=function(M,W){if(isNaN(M)||isNaN(W))throw Hn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var V=new l(1,0,0,1,M,W);this.ctx.transform=this.ctx.transform.multiply(V)},d.prototype.transform=function(M,W,V,X,Y,ee){if(isNaN(M)||isNaN(W)||isNaN(V)||isNaN(X)||isNaN(Y)||isNaN(ee))throw Hn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ce=new l(M,W,V,X,Y,ee);this.ctx.transform=this.ctx.transform.multiply(ce)},d.prototype.setTransform=function(M,W,V,X,Y,ee){M=isNaN(M)?1:M,W=isNaN(W)?0:W,V=isNaN(V)?0:V,X=isNaN(X)?1:X,Y=isNaN(Y)?0:Y,ee=isNaN(ee)?0:ee,this.ctx.transform=new l(M,W,V,X,Y,ee)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(M,W,V,X,Y,ee,ce,Ae,Ee){var fe=this.pdf.getImageProperties(M),we=1,de=1,Be=1,pe=1;X!==void 0&&Ae!==void 0&&(Be=Ae/X,pe=Ee/Y,we=fe.width/X*Ae/X,de=fe.height/Y*Ee/Y),ee===void 0&&(ee=W,ce=V,W=0,V=0),X!==void 0&&Ae===void 0&&(Ae=X,Ee=Y),X===void 0&&Ae===void 0&&(Ae=fe.width,Ee=fe.height);for(var se,me=this.ctx.transform.decompose(),ne=$(me.rotate.shx),ae=new l,he=(ae=(ae=(ae=ae.multiply(me.translate)).multiply(me.skew)).multiply(me.scale)).applyToRectangle(new A(ee-W*Be,ce-V*pe,X*we,Y*de)),ge=y.call(this,he),Ce=[],ye=0;ye<ge.length;ye+=1)Ce.indexOf(ge[ye])===-1&&Ce.push(ge[ye]);if(b(Ce),this.autoPaging)for(var Le=Ce[0],We=Ce[Ce.length-1],De=Le;De<We+1;De++){this.pdf.setPage(De);var $e=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ge=De===1?this.posY+this.margin[0]:this.margin[0],_e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Me=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ie=De===1?0:_e+(De-2)*Me;if(this.ctx.clip_path.length!==0){var nt=this.path;se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(se,this.posX+this.margin[3],-Ie+Ge+this.ctx.prevPageLastElemOffset),_.call(this,"fill",!0),this.path=nt}var He=JSON.parse(JSON.stringify(he));He=w([He],this.posX+this.margin[3],-Ie+Ge+this.ctx.prevPageLastElemOffset)[0];var xt=(De>Le||De<We)&&g.call(this);xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$e,Me,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",He.x,He.y,He.w,He.h,null,null,ne),xt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",he.x,he.y,he.w,he.h,null,null,ne)};var y=function(M,W,V){var X=[];W=W||this.pdf.internal.pageSize.width,V=V||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Y=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":X.push(Math.floor((M.y+Y)/V)+1);break;case"arc":X.push(Math.floor((M.y+Y-M.radius)/V)+1),X.push(Math.floor((M.y+Y+M.radius)/V)+1);break;case"qct":var ee=O(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);X.push(Math.floor((ee.y+Y)/V)+1),X.push(Math.floor((ee.y+ee.h+Y)/V)+1);break;case"bct":var ce=H(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);X.push(Math.floor((ce.y+Y)/V)+1),X.push(Math.floor((ce.y+ce.h+Y)/V)+1);break;case"rect":X.push(Math.floor((M.y+Y)/V)+1),X.push(Math.floor((M.y+M.h+Y)/V)+1)}for(var Ae=0;Ae<X.length;Ae+=1)for(;this.pdf.internal.getNumberOfPages()<X[Ae];)x.call(this);return X},x=function(){var M=this.fillStyle,W=this.strokeStyle,V=this.font,X=this.lineCap,Y=this.lineWidth,ee=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=W,this.font=V,this.lineCap=X,this.lineWidth=Y,this.lineJoin=ee},w=function(M,W,V){for(var X=0;X<M.length;X++)switch(M[X].type){case"bct":M[X].x2+=W,M[X].y2+=V;case"qct":M[X].x1+=W,M[X].y1+=V;case"mt":case"lt":case"arc":default:M[X].x+=W,M[X].y+=V}return M},b=function(M){return M.sort(function(W,V){return W-V})},j=function(M,W){for(var V,X,Y=this.fillStyle,ee=this.strokeStyle,ce=this.lineCap,Ae=this.lineWidth,Ee=Math.abs(Ae*this.ctx.transform.scaleX),fe=this.lineJoin,we=JSON.parse(JSON.stringify(this.path)),de=JSON.parse(JSON.stringify(this.path)),Be=[],pe=0;pe<de.length;pe++)if(de[pe].x!==void 0)for(var se=y.call(this,de[pe]),me=0;me<se.length;me+=1)Be.indexOf(se[me])===-1&&Be.push(se[me]);for(var ne=0;ne<Be.length;ne++)for(;this.pdf.internal.getNumberOfPages()<Be[ne];)x.call(this);if(b(Be),this.autoPaging)for(var ae=Be[0],he=Be[Be.length-1],ge=ae;ge<he+1;ge++){this.pdf.setPage(ge),this.fillStyle=Y,this.strokeStyle=ee,this.lineCap=ce,this.lineWidth=Ee,this.lineJoin=fe;var Ce=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ye=ge===1?this.posY+this.margin[0]:this.margin[0],Le=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],We=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],De=ge===1?0:Le+(ge-2)*We;if(this.ctx.clip_path.length!==0){var $e=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(V,this.posX+this.margin[3],-De+ye+this.ctx.prevPageLastElemOffset),_.call(this,M,!0),this.path=$e}if(X=JSON.parse(JSON.stringify(we)),this.path=w(X,this.posX+this.margin[3],-De+ye+this.ctx.prevPageLastElemOffset),W===!1||ge===0){var Ge=(ge>ae||ge<he)&&g.call(this);Ge&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ce,We,null).clip().discardPath()),_.call(this,M,W),Ge&&this.pdf.restoreGraphicsState()}this.lineWidth=Ae}else this.lineWidth=Ee,_.call(this,M,W),this.lineWidth=Ae;this.path=we},_=function(M,W){if((M!=="stroke"||W||!v.call(this))&&(M==="stroke"||W||!f.call(this))){for(var V,X,Y=[],ee=this.path,ce=0;ce<ee.length;ce++){var Ae=ee[ce];switch(Ae.type){case"begin":Y.push({begin:!0});break;case"close":Y.push({close:!0});break;case"mt":Y.push({start:Ae,deltas:[],abs:[]});break;case"lt":var Ee=Y.length;if(ee[ce-1]&&!isNaN(ee[ce-1].x)&&(V=[Ae.x-ee[ce-1].x,Ae.y-ee[ce-1].y],Ee>0)){for(;Ee>=0;Ee--)if(Y[Ee-1].close!==!0&&Y[Ee-1].begin!==!0){Y[Ee-1].deltas.push(V),Y[Ee-1].abs.push(Ae);break}}break;case"bct":V=[Ae.x1-ee[ce-1].x,Ae.y1-ee[ce-1].y,Ae.x2-ee[ce-1].x,Ae.y2-ee[ce-1].y,Ae.x-ee[ce-1].x,Ae.y-ee[ce-1].y],Y[Y.length-1].deltas.push(V);break;case"qct":var fe=ee[ce-1].x+2/3*(Ae.x1-ee[ce-1].x),we=ee[ce-1].y+2/3*(Ae.y1-ee[ce-1].y),de=Ae.x+2/3*(Ae.x1-Ae.x),Be=Ae.y+2/3*(Ae.y1-Ae.y),pe=Ae.x,se=Ae.y;V=[fe-ee[ce-1].x,we-ee[ce-1].y,de-ee[ce-1].x,Be-ee[ce-1].y,pe-ee[ce-1].x,se-ee[ce-1].y],Y[Y.length-1].deltas.push(V);break;case"arc":Y.push({deltas:[],abs:[],arc:!0}),Array.isArray(Y[Y.length-1].abs)&&Y[Y.length-1].abs.push(Ae)}}X=W?null:M==="stroke"?"stroke":"fill";for(var me=!1,ne=0;ne<Y.length;ne++)if(Y[ne].arc)for(var ae=Y[ne].abs,he=0;he<ae.length;he++){var ge=ae[he];ge.type==="arc"?N.call(this,ge.x,ge.y,ge.radius,ge.startAngle,ge.endAngle,ge.counterclockwise,void 0,W,!me):T.call(this,ge.x,ge.y),me=!0}else if(Y[ne].close===!0)this.pdf.internal.out("h"),me=!1;else if(Y[ne].begin!==!0){var Ce=Y[ne].start.x,ye=Y[ne].start.y;P.call(this,Y[ne].deltas,Ce,ye),me=!0}X&&U.call(this,X),W&&L.call(this)}},k=function(M){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,V=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-V;case"top":return M+W-V;case"hanging":return M+W-2*V;case"middle":return M+W/2-V;case"ideographic":return M;case"alphabetic":default:return M}},D=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(W,V){this.colorStops.push([W,V])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var N=function(M,W,V,X,Y,ee,ce,Ae,Ee){for(var fe=Q.call(this,V,X,Y,ee),we=0;we<fe.length;we++){var de=fe[we];we===0&&(Ee?E.call(this,de.x1+M,de.y1+W):T.call(this,de.x1+M,de.y1+W)),K.call(this,M,W,de.x2,de.y2,de.x3,de.y3,de.x4,de.y4)}Ae?L.call(this):U.call(this,ce)},U=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},L=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(M,W){this.pdf.internal.out(n(M)+" "+r(W)+" m")},I=function(M){var W;switch(M.align){case"right":case"end":W="right";break;case"center":W="center";break;case"left":case"start":default:W="left"}var V=this.pdf.getTextDimensions(M.text),X=k.call(this,M.y),Y=D.call(this,X)-V.h,ee=this.ctx.transform.applyToPoint(new o(M.x,X)),ce=this.ctx.transform.decompose(),Ae=new l;Ae=(Ae=(Ae=Ae.multiply(ce.translate)).multiply(ce.skew)).multiply(ce.scale);for(var Ee,fe,we,de=this.ctx.transform.applyToRectangle(new A(M.x,X,V.w,V.h)),Be=Ae.applyToRectangle(new A(M.x,Y,V.w,V.h)),pe=y.call(this,Be),se=[],me=0;me<pe.length;me+=1)se.indexOf(pe[me])===-1&&se.push(pe[me]);if(b(se),this.autoPaging)for(var ne=se[0],ae=se[se.length-1],he=ne;he<ae+1;he++){this.pdf.setPage(he);var ge=he===1?this.posY+this.margin[0]:this.margin[0],Ce=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ye=this.pdf.internal.pageSize.height-this.margin[2],Le=ye-this.margin[0],We=this.pdf.internal.pageSize.width-this.margin[1],De=We-this.margin[3],$e=he===1?0:Ce+(he-2)*Le;if(this.ctx.clip_path.length!==0){var Ge=this.path;Ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Ee,this.posX+this.margin[3],-1*$e+ge),_.call(this,"fill",!0),this.path=Ge}var _e=w([JSON.parse(JSON.stringify(Be))],this.posX+this.margin[3],-$e+ge+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(fe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(fe*M.scale),we=this.lineWidth,this.lineWidth=we*M.scale);var Me=this.autoPaging!=="text";if(Me||_e.y+_e.h<=ye){if(Me||_e.y>=ge&&_e.x<=We){var Ie=Me?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||We-_e.x)[0],nt=w([JSON.parse(JSON.stringify(de))],this.posX+this.margin[3],-$e+ge+this.ctx.prevPageLastElemOffset)[0],He=Me&&(he>ne||he<ae)&&g.call(this);He&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],De,Le,null).clip().discardPath()),this.pdf.text(Ie,nt.x,nt.y,{angle:M.angle,align:W,renderingMode:M.renderingMode}),He&&this.pdf.restoreGraphicsState()}}else _e.y<ye&&(this.ctx.prevPageLastElemOffset+=ye-_e.y);M.scale>=.01&&(this.pdf.setFontSize(fe),this.lineWidth=we)}else M.scale>=.01&&(fe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(fe*M.scale),we=this.lineWidth,this.lineWidth=we*M.scale),this.pdf.text(M.text,ee.x+this.posX,ee.y+this.posY,{angle:M.angle,align:W,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(fe),this.lineWidth=we)},T=function(M,W,V,X){V=V||0,X=X||0,this.pdf.internal.out(n(M+V)+" "+r(W+X)+" l")},P=function(M,W,V){return this.pdf.lines(M,W,V,null,null)},K=function(M,W,V,X,Y,ee,ce,Ae){this.pdf.internal.out([t(s(V+M)),t(i(X+W)),t(s(Y+M)),t(i(ee+W)),t(s(ce+M)),t(i(Ae+W)),"c"].join(" "))},Q=function(M,W,V,X){for(var Y=2*Math.PI,ee=Math.PI/2;W>V;)W-=Y;var ce=Math.abs(V-W);ce<Y&&X&&(ce=Y-ce);for(var Ae=[],Ee=X?-1:1,fe=W;ce>1e-5;){var we=fe+Ee*Math.min(ce,ee);Ae.push(F.call(this,M,fe,we)),ce-=Math.abs(we-fe),fe=we}return Ae},F=function(M,W,V){var X=(V-W)/2,Y=M*Math.cos(X),ee=M*Math.sin(X),ce=Y,Ae=-ee,Ee=ce*ce+Ae*Ae,fe=Ee+ce*Y+Ae*ee,we=4/3*(Math.sqrt(2*Ee*fe)-fe)/(ce*ee-Ae*Y),de=ce-we*Ae,Be=Ae+we*ce,pe=de,se=-Be,me=X+W,ne=Math.cos(me),ae=Math.sin(me);return{x1:M*Math.cos(W),y1:M*Math.sin(W),x2:de*ne-Be*ae,y2:de*ae+Be*ne,x3:pe*ne-se*ae,y3:pe*ae+se*ne,x4:M*Math.cos(V),y4:M*Math.sin(V)}},$=function(M){return 180*M/Math.PI},O=function(M,W,V,X,Y,ee){var ce=M+.5*(V-M),Ae=W+.5*(X-W),Ee=Y+.5*(V-Y),fe=ee+.5*(X-ee),we=Math.min(M,Y,ce,Ee),de=Math.max(M,Y,ce,Ee),Be=Math.min(W,ee,Ae,fe),pe=Math.max(W,ee,Ae,fe);return new A(we,Be,de-we,pe-Be)},H=function(M,W,V,X,Y,ee,ce,Ae){var Ee,fe,we,de,Be,pe,se,me,ne,ae,he,ge,Ce,ye,Le=V-M,We=X-W,De=Y-V,$e=ee-X,Ge=ce-Y,_e=Ae-ee;for(fe=0;fe<41;fe++)ne=(se=(we=M+(Ee=fe/40)*Le)+Ee*((Be=V+Ee*De)-we))+Ee*(Be+Ee*(Y+Ee*Ge-Be)-se),ae=(me=(de=W+Ee*We)+Ee*((pe=X+Ee*$e)-de))+Ee*(pe+Ee*(ee+Ee*_e-pe)-me),fe==0?(he=ne,ge=ae,Ce=ne,ye=ae):(he=Math.min(he,ne),ge=Math.min(ge,ae),Ce=Math.max(Ce,ne),ye=Math.max(ye,ae));return new A(Math.round(he),Math.round(ge),Math.round(Ce-he),Math.round(ye-ge))},ie=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,W,V=(M=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:W}));this.prevLineDash!==V&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=V)}}})(Lt.API),function(e){var t=function(i){var o,A,l,c,u,d,p,f,v,g;for(A=[],l=0,c=(i+=o="\0\0\0\0".slice(i.length%4||4)).length;c>l;l+=4)(u=(i.charCodeAt(l)<<24)+(i.charCodeAt(l+1)<<16)+(i.charCodeAt(l+2)<<8)+i.charCodeAt(l+3))!==0?(d=(u=((u=((u=((u=(u-(g=u%85))/85)-(v=u%85))/85)-(f=u%85))/85)-(p=u%85))/85)%85,A.push(d+33,p+33,f+33,v+33,g+33)):A.push(122);return function(y,x){for(var w=x;w>0;w--)y.pop()}(A,o.length),String.fromCharCode.apply(String,A)+"~>"},n=function(i){var o,A,l,c,u,d=String,p="length",f=255,v="charCodeAt",g="slice",y="replace";for(i[g](-2),i=i[g](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),l=[],c=0,u=(i+=o="uuuuu"[g](i[p]%5||5))[p];u>c;c+=5)A=52200625*(i[v](c)-33)+614125*(i[v](c+1)-33)+7225*(i[v](c+2)-33)+85*(i[v](c+3)-33)+(i[v](c+4)-33),l.push(f&A>>24,f&A>>16,f&A>>8,f&A);return function(x,w){for(var b=w;b>0;b--)x.pop()}(l,o[p]),d.fromCharCode.apply(d,l)},r=function(i){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),o.test(i)===!1)return"";for(var A="",l=0;l<i.length;l+=2)A+=String.fromCharCode("0x"+(i[l]+i[l+1]));return A},s=function(i){for(var o=new Uint8Array(i.length),A=i.length;A--;)o[A]=i.charCodeAt(A);return i=(o=P1(o)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};e.processDataByFilters=function(i,o){var A=0,l=i||"",c=[];for(typeof(o=o||[])=="string"&&(o=[o]),A=0;A<o.length;A+=1)switch(o[A]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=s(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[A]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(Lt.API),function(e){e.loadFile=function(t,n,r){return function(s,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var A=void 0;try{A=function(l,c,u){var d=new XMLHttpRequest,p=0,f=function(v){var g=v.length,y=[],x=String.fromCharCode;for(p=0;p<g;p+=1)y.push(x(255&v.charCodeAt(p)));return y.join("")};if(d.open("GET",l,!c),d.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(d.onload=function(){d.status===200?u(f(this.responseText)):u(void 0)}),d.send(null),c&&d.status===200)return f(d.responseText)}(s,i,o)}catch{}return A}(t,n,r)},e.loadImageFile=e.loadFile}(Lt.API),function(e){function t(){return(Dt.html2canvas?Promise.resolve(Dt.html2canvas):Yd(()=>Promise.resolve().then(()=>Vq),void 0)).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(Dt.DOMPurify?Promise.resolve(Dt.DOMPurify):Yd(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var A=cn(o);return A==="undefined"?"undefined":A==="string"||o instanceof String?"string":A==="number"||o instanceof Number?"number":A==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":A==="object"?"object":"unknown"},s=function(o,A){var l=document.createElement(o);for(var c in A.className&&(l.className=A.className),A.innerHTML&&A.dompurify&&(l.innerHTML=A.dompurify.sanitize(A.innerHTML)),A.style)l.style[c]=A.style[c];return l},i=function o(A){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,o,1,[o])).set(A)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(o,A){return o.__proto__=A||i.prototype,o},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(o,A){return this.then(function(){switch(A=A||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(l){return this.set({src:s("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},i.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},A=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),p=c.firstChild;p;p=p.nextSibling)u!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||d.appendChild(l(p,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);A.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(A),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(A){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,A(this.prop.container,l)}).then(function(A){(this.opt.html2canvas.onrendered||function(){})(A),this.prop.canvas=A,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(A){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var p=0;p<c.length;++p){var f=c[p],v=f.src.find(function(g){return g.format==="truetype"});v&&l.addFont(v.url,f.ref.name,f.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,l.context2d.save(!0),A(this.prop.container,d)}).then(function(A){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(A),this.prop.canvas=A,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(o,A,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,A):this.outputPdf(o,A)},i.prototype.outputPdf=function(o,A){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,A)})},i.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},i.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(o){if(r(o)!=="object")return this;var A=Object.keys(o||{}).map(function(l){if(l in i.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(A)})},i.prototype.get=function(o,A){return this.then(function(){var l=o in i.template.prop?this.prop[o]:this.opt[o];return A?A(l):l})},i.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},i.prototype.setPageSize=function(o){function A(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(o=o||Lt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:A(o.inner.width,o.k),height:A(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},i.prototype.setProgress=function(o,A,l,c){return o!=null&&(this.progress.val=o),A!=null&&(this.progress.state=A),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(o,A,l,c){return this.setProgress(o?this.progress.val+o:null,A||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},i.prototype.then=function(o,A){var l=this;return this.thenCore(o,A,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(d){return l.updateProgress(null,c),d}).then(c,u).then(function(d){return l.updateProgress(1),d})})},i.prototype.thenCore=function(o,A,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),A&&(A=A.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),u=l.call(c,o,A);return i.convert(u,this.__proto__)},i.prototype.thenExternal=function(o,A){return Promise.prototype.then.call(this,o,A)},i.prototype.thenList=function(o){var A=this;return o.forEach(function(l){A=A.thenCore(l)}),A},i.prototype.catch=function(o){o&&(o=o.bind(this));var A=Promise.prototype.catch.call(this,o);return i.convert(A,this)},i.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},i.prototype.error=function(o){return this.then(function(){throw new Error(o)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,Lt.getPageSize=function(o,A,l){if(cn(o)==="object"){var c=o;o=c.orientation,A=c.unit||A,l=c.format||l}A=A||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var u,d=(""+l).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(A){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+A}var f,v=0,g=0;if(p.hasOwnProperty(d))v=p[d][1]/u,g=p[d][0]/u;else try{v=l[1],g=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",g>v&&(f=g,g=v,v=f);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",v>g&&(f=g,g=v,v=f)}return{width:g,height:v,unit:A,k:u,orientation:o}},e.html=function(o,A){(A=A||{}).callback=A.callback||function(){},A.html2canvas=A.html2canvas||{},A.html2canvas.canvas=A.html2canvas.canvas||this.canvas,A.jsPDF=A.jsPDF||this,A.fontFaces=A.fontFaces?A.fontFaces.map(W1):null;var l=new i(A);return A.worker?l:l.from(o).doCallback()}}(Lt.API),Lt.API.addJS=function(e){return CB=e,this.internal.events.subscribe("postPutResources",function(){Lf=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Lf+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),BB=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+CB+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Lf!==void 0&&BB!==void 0&&this.internal.out("/Names <</JavaScript "+Lf+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=n.outline.render().split(/\r\n/),i=0;i<s.length;i++){var o=s[i],A=r.exec(o);if(A!=null){var l=A[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(i=0;i<c;i++){var d=n.internal.newObject();u.push(d);var p=n.internal.getPageInfo(i+1);n.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var f=n.internal.newObject();for(n.internal.write("<< /Names [ "),i=0;i<u.length;i++)n.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+f+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,s,i){var o={title:s,options:i,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var s=0;s<r.children.length;s++)this.genIds_r(r.children[s])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<r.children.length;i++){var o=r.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),i>0&&this.line("/Prev "+this.makeRef(r.children[i-1])),i<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var A=this.count=this.count_r({count:0},o);if(A>0&&this.line("/Count "+A),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,s){for(var i=0;i<s.children.length;i++)r.count++,this.count_r(r,s.children[i]);return r.count}}])}(Lt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,s,i,o,A){var l,c=this.decode.DCT_DECODE,u=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(d){for(var p,f=256*d.charCodeAt(4)+d.charCodeAt(5),v=d.length,g={width:0,height:0,numcomponents:1},y=4;y<v;y+=2){if(y+=f,t.indexOf(d.charCodeAt(y+1))!==-1){p=256*d.charCodeAt(y+5)+d.charCodeAt(y+6),g={width:256*d.charCodeAt(y+7)+d.charCodeAt(y+8),height:p,numcomponents:d.charCodeAt(y+9)};break}f=256*d.charCodeAt(y+2)+d.charCodeAt(y+3)}return g}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:A=this.color_spaces.DEVICE_GRAY;break;case 4:A=this.color_spaces.DEVICE_CMYK;break;case 3:A=this.color_spaces.DEVICE_RGB}u={data:n,width:l.width,height:l.height,colorSpace:A,bitsPerComponent:8,filter:c,index:r,alias:s}}return u}}(Lt.API);var Dl,Df,SB,EB,jB,az=function(){var e,t,n;function r(i){var o,A,l,c,u,d,p,f,v,g,y,x,w,b;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(o=this.readUInt32(),v=(function(){var j,_;for(_=[],j=0;j<4;++j)_.push(String.fromCharCode(this.data[this.pos++]));return _}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,d.delay=1e3*u/c,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(v==="fdAT"&&(this.pos+=4,o-=4),i=(d!=null?d.data:void 0)||this.imgData,x=0;0<=o?x<o:x>o;0<=o?++x:--x)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((g=l-this.transparency.indexed.length)>0)for(w=0;0<=g?w<g:w>g;0<=g?++w:--w)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":p=(y=this.read(o)).indexOf(0),f=String.fromCharCode.apply(String,y.slice(0,p)),this.text[f]=String.fromCharCode.apply(String,y.slice(p+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(b=this.colorType)===4||b===6,A=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*A,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(i){var o,A;for(A=[],o=0;0<=i?o<i:o>i;0<=i?++o:--o)A.push(this.data[this.pos++]);return A},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(i){var o=this.pixelBitlength/8,A=new Uint8Array(this.width*this.height*o),l=0,c=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function u(d,p,f,v){var g,y,x,w,b,j,_,k,D,N,U,L,E,I,T,P,K,Q,F,$,O,H=Math.ceil((c.width-d)/f),ie=Math.ceil((c.height-p)/v),M=c.width==H&&c.height==ie;for(I=o*H,L=M?A:new Uint8Array(I*ie),j=i.length,E=0,y=0;E<ie&&l<j;){switch(i[l++]){case 0:for(w=K=0;K<I;w=K+=1)L[y++]=i[l++];break;case 1:for(w=Q=0;Q<I;w=Q+=1)g=i[l++],b=w<o?0:L[y-o],L[y++]=(g+b)%256;break;case 2:for(w=F=0;F<I;w=F+=1)g=i[l++],x=(w-w%o)/o,T=E&&L[(E-1)*I+x*o+w%o],L[y++]=(T+g)%256;break;case 3:for(w=$=0;$<I;w=$+=1)g=i[l++],x=(w-w%o)/o,b=w<o?0:L[y-o],T=E&&L[(E-1)*I+x*o+w%o],L[y++]=(g+Math.floor((b+T)/2))%256;break;case 4:for(w=O=0;O<I;w=O+=1)g=i[l++],x=(w-w%o)/o,b=w<o?0:L[y-o],E===0?T=P=0:(T=L[(E-1)*I+x*o+w%o],P=x&&L[(E-1)*I+(x-1)*o+w%o]),_=b+T-P,k=Math.abs(_-b),N=Math.abs(_-T),U=Math.abs(_-P),D=k<=N&&k<=U?b:N<=U?T:P,L[y++]=(g+D)%256;break;default:throw new Error("Invalid filter algorithm: "+i[l-1])}if(!M){var W=((p+E*v)*c.width+d)*o,V=E*I;for(w=0;w<H;w+=1){for(var X=0;X<o;X+=1)A[W++]=L[V++];W+=(f-1)*o}}E++}}return i=Q$(i),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),A},r.prototype.decodePalette=function(){var i,o,A,l,c,u,d,p,f;for(A=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+A.length),l=0,i=0,o=d=0,p=A.length;d<p;o=d+=3)c[l++]=A[o],c[l++]=A[o+1],c[l++]=A[o+2],c[l++]=(f=u[i++])!=null?f:255;return c},r.prototype.copyToImageData=function(i,o){var A,l,c,u,d,p,f,v,g,y,x;if(l=this.colors,g=null,A=this.hasAlphaChannel,this.palette.length&&(g=(x=this._decodedPalette)!=null?x:this._decodedPalette=this.decodePalette(),l=4,A=!0),v=(c=i.data||i).length,d=g||o,u=p=0,l===1)for(;u<v;)f=g?4*o[u/4]:p,y=d[f++],c[u++]=y,c[u++]=y,c[u++]=y,c[u++]=A?d[f++]:255,p=f;else for(;u<v;)f=g?4*o[u/4]:p,c[u++]=d[f++],c[u++]=d[f++],c[u++]=d[f++],c[u++]=A?d[f++]:255,p=f},r.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var s=function(){if(Object.prototype.toString.call(Dt)==="[object Window]"){try{t=Dt.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return s(),e=function(i){var o;if(s()===!0)return n.width=i.width,n.height=i.height,n.clearRect(0,0,i.width,i.height),n.putImageData(i,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(i){var o,A,l,c,u,d,p,f;if(this.animation){for(f=[],A=u=0,d=(p=this.animation.frames).length;u<d;A=++u)o=p[A],l=i.createImageData(o.width,o.height),c=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,c),o.imageData=l,f.push(o.image=e(l));return f}},r.prototype.renderFrame=function(i,o){var A,l,c;return A=(l=this.animation.frames)[o],c=l[o-1],o===0&&i.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?i.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&i.putImageData(c.imageData,c.xOffset,c.yOffset),A.blendOp===0&&i.clearRect(A.xOffset,A.yOffset,A.width,A.height),i.drawImage(A.image,A.xOffset,A.yOffset)},r.prototype.animate=function(i){var o,A,l,c,u,d,p=this;return A=0,d=this.animation,c=d.numFrames,l=d.frames,u=d.numPlays,(o=function(){var f,v;if(f=A++%c,v=l[f],p.renderFrame(i,f),c>1&&A/c<u)return p.animation._timeout=setTimeout(o,v.delay)})()},r.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},r.prototype.render=function(i){var o,A;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,o=i.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(A=o.createImageData(this.width,this.height),this.copyToImageData(A,this.decodePixels()),o.putImageData(A,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function oz(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,s=e[t++],i=s>>7,o=1<<(7&s)+1;e[t++],e[t++];var A=null,l=null;i&&(A=t,l=o,t+=3*o);var c=!0,u=[],d=0,p=null,f=0,v=null;for(this.width=n,this.height=r;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,v=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];d=e[t++]|e[t++]<<8,p=e[t++],!(1&g)&&(p=null),f=g>>2&7,t++;break;case 254:for(;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var y=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,j=e[t++],_=j>>6&1,k=1<<(7&j)+1,D=A,N=l,U=!1;j>>7&&(U=!0,D=t,N=k,t+=3*k);var L=t;for(t++;;){var E;if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}u.push({x:y,y:x,width:w,height:b,has_local_palette:U,palette_offset:D,palette_size:N,data_offset:L,data_length:t-L,transparent_index:p,interlaced:!!_,delay:d,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return v},this.frameInfo=function(I){if(I<0||I>=u.length)throw new Error("Frame index out of range.");return u[I]},this.decodeAndBlitFrameBGRA=function(I,T){var P=this.frameInfo(I),K=P.width*P.height,Q=new Uint8Array(K);IB(e,P.data_offset,Q,K);var F=P.palette_offset,$=P.transparent_index;$===null&&($=256);var O=P.width,H=n-O,ie=O,M=4*(P.y*n+P.x),W=4*((P.y+P.height)*n+P.x),V=M,X=4*H;P.interlaced===!0&&(X+=4*n*7);for(var Y=8,ee=0,ce=Q.length;ee<ce;++ee){var Ae=Q[ee];if(ie===0&&(ie=O,(V+=X)>=W&&(X=4*H+4*n*(Y-1),V=M+(O+H)*(Y<<1),Y>>=1)),Ae===$)V+=4;else{var Ee=e[F+3*Ae],fe=e[F+3*Ae+1],we=e[F+3*Ae+2];T[V++]=we,T[V++]=fe,T[V++]=Ee,T[V++]=255}--ie}},this.decodeAndBlitFrameRGBA=function(I,T){var P=this.frameInfo(I),K=P.width*P.height,Q=new Uint8Array(K);IB(e,P.data_offset,Q,K);var F=P.palette_offset,$=P.transparent_index;$===null&&($=256);var O=P.width,H=n-O,ie=O,M=4*(P.y*n+P.x),W=4*((P.y+P.height)*n+P.x),V=M,X=4*H;P.interlaced===!0&&(X+=4*n*7);for(var Y=8,ee=0,ce=Q.length;ee<ce;++ee){var Ae=Q[ee];if(ie===0&&(ie=O,(V+=X)>=W&&(X=4*H+4*n*(Y-1),V=M+(O+H)*(Y<<1),Y>>=1)),Ae===$)V+=4;else{var Ee=e[F+3*Ae],fe=e[F+3*Ae+1],we=e[F+3*Ae+2];T[V++]=Ee,T[V++]=fe,T[V++]=we,T[V++]=255}--ie}}}function IB(e,t,n,r){for(var s=e[t++],i=1<<s,o=i+1,A=o+1,l=s+1,c=(1<<l)-1,u=0,d=0,p=0,f=e[t++],v=new Int32Array(4096),g=null;;){for(;u<16&&f!==0;)d|=e[t++]<<u,u+=8,f===1?f=e[t++]:--f;if(u<l)break;var y=d&c;if(d>>=l,u-=l,y!==i){if(y===o)break;for(var x=y<A?y:g,w=0,b=x;b>i;)b=v[b]>>8,++w;var j=b;if(p+w+(x!==y?1:0)>r)return void Hn.log("Warning, gif stream longer than expected.");n[p++]=j;var _=p+=w;for(x!==y&&(n[p++]=j),b=x;w--;)b=v[b],n[--_]=255&b,b>>=8;g!==null&&A<4096&&(v[A++]=g<<8|j,A>=c+1&&l<12&&(++l,c=c<<1|1)),g=y}else A=o+1,c=(1<<(l=s+1))-1,g=null}return p!==r&&Hn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function gv(e){var t,n,r,s,i,o=Math.floor,A=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(65535),p=new Array(65535),f=new Array(64),v=new Array(64),g=[],y=0,x=7,w=new Array(64),b=new Array(64),j=new Array(64),_=new Array(256),k=new Array(2048),D=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],N=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],L=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],P=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],K=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Q(M,W){for(var V=0,X=0,Y=new Array,ee=1;ee<=16;ee++){for(var ce=1;ce<=M[ee];ce++)Y[W[X]]=[],Y[W[X]][0]=V,Y[W[X]][1]=ee,X++,V++;V*=2}return Y}function F(M){for(var W=M[0],V=M[1]-1;V>=0;)W&1<<V&&(y|=1<<x),V--,--x<0&&(y==255?($(255),$(0)):$(y),x=7,y=0)}function $(M){g.push(M)}function O(M){$(M>>8&255),$(255&M)}function H(M,W,V,X,Y){for(var ee,ce=Y[0],Ae=Y[240],Ee=function(ae,he){var ge,Ce,ye,Le,We,De,$e,Ge,_e,Me,Ie=0;for(_e=0;_e<8;++_e){ge=ae[Ie],Ce=ae[Ie+1],ye=ae[Ie+2],Le=ae[Ie+3],We=ae[Ie+4],De=ae[Ie+5],$e=ae[Ie+6];var nt=ge+(Ge=ae[Ie+7]),He=ge-Ge,xt=Ce+$e,Qe=Ce-$e,et=ye+De,Pe=ye-De,rt=Le+We,Nt=Le-We,Et=nt+rt,Xt=nt-rt,$t=xt+et,Mt=xt-et;ae[Ie]=Et+$t,ae[Ie+4]=Et-$t;var it=.707106781*(Mt+Xt);ae[Ie+2]=Xt+it,ae[Ie+6]=Xt-it;var ft=.382683433*((Et=Nt+Pe)-(Mt=Qe+He)),Vn=.5411961*Et+ft,Jt=1.306562965*Mt+ft,Qr=.707106781*($t=Pe+Qe),sr=He+Qr,Ct=He-Qr;ae[Ie+5]=Ct+Vn,ae[Ie+3]=Ct-Vn,ae[Ie+1]=sr+Jt,ae[Ie+7]=sr-Jt,Ie+=8}for(Ie=0,_e=0;_e<8;++_e){ge=ae[Ie],Ce=ae[Ie+8],ye=ae[Ie+16],Le=ae[Ie+24],We=ae[Ie+32],De=ae[Ie+40],$e=ae[Ie+48];var en=ge+(Ge=ae[Ie+56]),kt=ge-Ge,Ln=Ce+$e,Pn=Ce-$e,Zn=ye+De,dr=ye-De,oi=Le+We,Vs=Le-We,Fs=en+oi,ks=en-oi,Ns=Ln+Zn,Ai=Ln-Zn;ae[Ie]=Fs+Ns,ae[Ie+32]=Fs-Ns;var _s=.707106781*(Ai+ks);ae[Ie+16]=ks+_s,ae[Ie+48]=ks-_s;var li=.382683433*((Fs=Vs+dr)-(Ai=Pn+kt)),La=.5411961*Fs+li,Ht=1.306562965*Ai+li,jr=.707106781*(Ns=dr+Pn),tl=kt+jr,nl=kt-jr;ae[Ie+40]=nl+La,ae[Ie+24]=nl-La,ae[Ie+8]=tl+Ht,ae[Ie+56]=tl-Ht,Ie++}for(_e=0;_e<64;++_e)Me=ae[_e]*he[_e],f[_e]=Me>0?Me+.5|0:Me-.5|0;return f}(M,W),fe=0;fe<64;++fe)v[D[fe]]=Ee[fe];var we=v[0]-V;V=v[0],we==0?F(X[0]):(F(X[p[ee=32767+we]]),F(d[ee]));for(var de=63;de>0&&v[de]==0;)de--;if(de==0)return F(ce),V;for(var Be,pe=1;pe<=de;){for(var se=pe;v[pe]==0&&pe<=de;)++pe;var me=pe-se;if(me>=16){Be=me>>4;for(var ne=1;ne<=Be;++ne)F(Ae);me&=15}ee=32767+v[pe],F(Y[(me<<4)+p[ee]]),F(d[ee]),pe++}return de!=63&&F(ce),V}function ie(M){M=Math.min(Math.max(M,1),100),i!=M&&(function(W){for(var V=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],X=0;X<64;X++){var Y=o((V[X]*W+50)/100);Y=Math.min(Math.max(Y,1),255),A[D[X]]=Y}for(var ee=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ce=0;ce<64;ce++){var Ae=o((ee[ce]*W+50)/100);Ae=Math.min(Math.max(Ae,1),255),l[D[ce]]=Ae}for(var Ee=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],fe=0,we=0;we<8;we++)for(var de=0;de<8;de++)c[fe]=1/(A[D[fe]]*Ee[we]*Ee[de]*8),u[fe]=1/(l[D[fe]]*Ee[we]*Ee[de]*8),fe++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),i=M)}this.encode=function(M,W){W&&ie(W),g=new Array,y=0,x=7,O(65496),O(65504),O(16),$(74),$(70),$(73),$(70),$(0),$(1),$(1),$(0),O(1),O(1),$(0),$(0),function(){O(65499),O(132),$(0);for(var Ce=0;Ce<64;Ce++)$(A[Ce]);$(1);for(var ye=0;ye<64;ye++)$(l[ye])}(),function(Ce,ye){O(65472),O(17),$(8),O(ye),O(Ce),$(3),$(1),$(17),$(0),$(2),$(17),$(1),$(3),$(17),$(1)}(M.width,M.height),function(){O(65476),O(418),$(0);for(var Ce=0;Ce<16;Ce++)$(N[Ce+1]);for(var ye=0;ye<=11;ye++)$(U[ye]);$(16);for(var Le=0;Le<16;Le++)$(L[Le+1]);for(var We=0;We<=161;We++)$(E[We]);$(1);for(var De=0;De<16;De++)$(I[De+1]);for(var $e=0;$e<=11;$e++)$(T[$e]);$(17);for(var Ge=0;Ge<16;Ge++)$(P[Ge+1]);for(var _e=0;_e<=161;_e++)$(K[_e])}(),O(65498),O(12),$(3),$(1),$(0),$(2),$(17),$(3),$(17),$(0),$(63),$(0);var V=0,X=0,Y=0;y=0,x=7,this.encode.displayName="_encode_";for(var ee,ce,Ae,Ee,fe,we,de,Be,pe,se=M.data,me=M.width,ne=M.height,ae=4*me,he=0;he<ne;){for(ee=0;ee<ae;){for(fe=ae*he+ee,de=-1,Be=0,pe=0;pe<64;pe++)we=fe+(Be=pe>>3)*ae+(de=4*(7&pe)),he+Be>=ne&&(we-=ae*(he+1+Be-ne)),ee+de>=ae&&(we-=ee+de-ae+4),ce=se[we++],Ae=se[we++],Ee=se[we++],w[pe]=(k[ce]+k[Ae+256>>0]+k[Ee+512>>0]>>16)-128,b[pe]=(k[ce+768>>0]+k[Ae+1024>>0]+k[Ee+1280>>0]>>16)-128,j[pe]=(k[ce+1280>>0]+k[Ae+1536>>0]+k[Ee+1792>>0]>>16)-128;V=H(w,c,V,t,r),X=H(b,u,X,n,s),Y=H(j,u,Y,n,s),ee+=32}he+=8}if(x>=0){var ge=[];ge[1]=x+1,ge[0]=(1<<x+1)-1,F(ge)}return O(65497),new Uint8Array(g)},e=e||50,function(){for(var M=String.fromCharCode,W=0;W<256;W++)_[W]=M(W)}(),t=Q(N,U),n=Q(I,T),r=Q(L,E),s=Q(P,K),function(){for(var M=1,W=2,V=1;V<=15;V++){for(var X=M;X<W;X++)p[32767+X]=V,d[32767+X]=[],d[32767+X][1]=V,d[32767+X][0]=X;for(var Y=-(W-1);Y<=-M;Y++)p[32767+Y]=V,d[32767+Y]=[],d[32767+Y][1]=V,d[32767+Y][0]=W-1+Y;M<<=1,W<<=1}}(),function(){for(var M=0;M<256;M++)k[M]=19595*M,k[M+256>>0]=38470*M,k[M+512>>0]=7471*M+32768,k[M+768>>0]=-11059*M,k[M+1024>>0]=-21709*M,k[M+1280>>0]=32768*M+8421375,k[M+1536>>0]=-27439*M,k[M+1792>>0]=-5329*M}(),ie(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function zi(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function FB(e){function t(N){if(!N)throw Error("assert :P")}function n(N,U,L){for(var E=0;4>E;E++)if(N[U+E]!=L.charCodeAt(E))return!0;return!1}function r(N,U,L,E,I){for(var T=0;T<I;T++)N[U+T]=L[E+T]}function s(N,U,L,E){for(var I=0;I<E;I++)N[U+I]=L}function i(N){return new Int32Array(N)}function o(N,U){for(var L=[],E=0;E<N;E++)L.push(new U);return L}function A(N,U){var L=[];return function E(I,T,P){for(var K=P[T],Q=0;Q<K&&(I.push(P.length>T+1?[]:new U),!(P.length<T+1));Q++)E(I[Q],T+1,P)}(L,0,N),L}var l=function(){var N=this;function U(h,m){for(var S=1<<m-1>>>0;h&S;)S>>>=1;return S?(h&S-1)+S:h}function L(h,m,S,R,G){t(!(R%S));do h[m+(R-=S)]=G;while(0<R)}function E(h,m,S,R,G){if(t(2328>=G),512>=G)var J=i(512);else if((J=i(G))==null)return 0;return function(Z,te,re,oe,xe,ke){var Ne,je,Je=te,Re=1<<re,be=i(16),Se=i(16);for(t(xe!=0),t(oe!=null),t(Z!=null),t(0<re),je=0;je<xe;++je){if(15<oe[je])return 0;++be[oe[je]]}if(be[0]==xe)return 0;for(Se[1]=0,Ne=1;15>Ne;++Ne){if(be[Ne]>1<<Ne)return 0;Se[Ne+1]=Se[Ne]+be[Ne]}for(je=0;je<xe;++je)Ne=oe[je],0<oe[je]&&(ke[Se[Ne]++]=je);if(Se[15]==1)return(oe=new I).g=0,oe.value=ke[0],L(Z,Je,1,Re,oe),Re;var qe,Ze=-1,Xe=Re-1,vt=0,ct=1,Tt=1,dt=1<<re;for(je=0,Ne=1,xe=2;Ne<=re;++Ne,xe<<=1){if(ct+=Tt<<=1,0>(Tt-=be[Ne]))return 0;for(;0<be[Ne];--be[Ne])(oe=new I).g=Ne,oe.value=ke[je++],L(Z,Je+vt,xe,dt,oe),vt=U(vt,Ne)}for(Ne=re+1,xe=2;15>=Ne;++Ne,xe<<=1){if(ct+=Tt<<=1,0>(Tt-=be[Ne]))return 0;for(;0<be[Ne];--be[Ne]){if(oe=new I,(vt&Xe)!=Ze){for(Je+=dt,qe=1<<(Ze=Ne)-re;15>Ze&&!(0>=(qe-=be[Ze]));)++Ze,qe<<=1;Re+=dt=1<<(qe=Ze-re),Z[te+(Ze=vt&Xe)].g=qe+re,Z[te+Ze].value=Je-te-Ze}oe.g=Ne-re,oe.value=ke[je++],L(Z,Je+(vt>>re),xe,dt,oe),vt=U(vt,Ne)}}return ct!=2*Se[15]-1?0:Re}(h,m,S,R,G,J)}function I(){this.value=this.g=0}function T(){this.value=this.g=0}function P(){this.G=o(5,I),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(qr,T)}function K(h,m,S,R){t(h!=null),t(m!=null),t(2147483648>R),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=m,h.pa=S,h.Jd=m,h.Yc=S+R,h.Zc=4<=R?S+R-4+1:S,ee(h)}function Q(h,m){for(var S=0;0<m--;)S|=Ae(h,128)<<m;return S}function F(h,m){var S=Q(h,m);return ce(h)?-S:S}function $(h,m,S,R){var G,J=0;for(t(h!=null),t(m!=null),t(4294967288>R),h.Sb=R,h.Ra=0,h.u=0,h.h=0,4<R&&(R=4),G=0;G<R;++G)J+=m[S+G]<<8*G;h.Ra=J,h.bb=R,h.oa=m,h.pa=S}function O(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<ml-8>>>0,++h.bb,h.u-=8;V(h)&&(h.h=1,h.u=0)}function H(h,m){if(t(0<=m),!h.h&&m<=gl){var S=W(h)&pl[m];return h.u+=m,O(h),S}return h.h=1,h.u=0}function ie(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function M(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function W(h){return h.Ra>>>(h.u&ml-1)>>>0}function V(h){return t(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>ml}function X(h,m){h.u=m,h.h=V(h)}function Y(h){h.u>=Su&&(t(h.u>=Su),O(h))}function ee(h){t(h!=null&&h.oa!=null),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(t(h!=null&&h.oa!=null),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function ce(h){return Q(h,1)}function Ae(h,m){var S=h.Ca;0>h.b&&ee(h);var R=h.b,G=S*m>>>8,J=(h.I>>>R>G)+0;for(J?(S-=G,h.I-=G+1<<R>>>0):S=G+1,R=S,G=0;256<=R;)G+=8,R>>=8;return R=7^G+Us[R],h.b-=R,h.Ca=(S<<R)-1,J}function Ee(h,m,S){h[m+0]=S>>24&255,h[m+1]=S>>16&255,h[m+2]=S>>8&255,h[m+3]=S>>0&255}function fe(h,m){return h[m+0]<<0|h[m+1]<<8}function we(h,m){return fe(h,m)|h[m+2]<<16}function de(h,m){return fe(h,m)|fe(h,m+2)<<16}function Be(h,m){var S=1<<m;return t(h!=null),t(0<m),h.X=i(S),h.X==null?0:(h.Mb=32-m,h.Xa=m,1)}function pe(h,m){t(h!=null),t(m!=null),t(h.Xa==m.Xa),r(m.X,0,h.X,0,1<<m.Xa)}function se(){this.X=[],this.Xa=this.Mb=0}function me(h,m,S,R){t(S!=null),t(R!=null);var G=S[0],J=R[0];return G==0&&(G=(h*J+m/2)/m),J==0&&(J=(m*G+h/2)/h),0>=G||0>=J?0:(S[0]=G,R[0]=J,1)}function ne(h,m){return h+(1<<m)-1>>>m}function ae(h,m){return((4278255360&h)+(4278255360&m)>>>0&4278255360)+((16711935&h)+(16711935&m)>>>0&16711935)>>>0}function he(h,m){N[m]=function(S,R,G,J,Z,te,re){var oe;for(oe=0;oe<Z;++oe){var xe=N[h](te[re+oe-1],G,J+oe);te[re+oe]=ae(S[R+oe],xe)}}}function ge(){this.ud=this.hd=this.jd=0}function Ce(h,m){return((4278124286&(h^m))>>>1)+(h&m)>>>0}function ye(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function Le(h,m){return ye(h+(h-m+.5>>1))}function We(h,m,S){return Math.abs(m-S)-Math.abs(h-S)}function De(h,m,S,R,G,J,Z){for(R=J[Z-1],S=0;S<G;++S)J[Z+S]=R=ae(h[m+S],R)}function $e(h,m,S,R,G){var J;for(J=0;J<S;++J){var Z=h[m+J],te=Z>>8&255,re=16711935&(re=(re=16711935&Z)+((te<<16)+te));R[G+J]=(4278255360&Z)+re>>>0}}function Ge(h,m){m.jd=h>>0&255,m.hd=h>>8&255,m.ud=h>>16&255}function _e(h,m,S,R,G,J){var Z;for(Z=0;Z<R;++Z){var te=m[S+Z],re=te>>>8,oe=te,xe=255&(xe=(xe=te>>>16)+((h.jd<<24>>24)*(re<<24>>24)>>>5));oe=255&(oe=(oe=oe+((h.hd<<24>>24)*(re<<24>>24)>>>5))+((h.ud<<24>>24)*(xe<<24>>24)>>>5)),G[J+Z]=(4278255360&te)+(xe<<16)+oe}}function Me(h,m,S,R,G){N[m]=function(J,Z,te,re,oe,xe,ke,Ne,je){for(re=ke;re<Ne;++re)for(ke=0;ke<je;++ke)oe[xe++]=G(te[R(J[Z++])])},N[h]=function(J,Z,te,re,oe,xe,ke){var Ne=8>>J.b,je=J.Ea,Je=J.K[0],Re=J.w;if(8>Ne)for(J=(1<<J.b)-1,Re=(1<<Ne)-1;Z<te;++Z){var be,Se=0;for(be=0;be<je;++be)be&J||(Se=R(re[oe++])),xe[ke++]=G(Je[Se&Re]),Se>>=Ne}else N["VP8LMapColor"+S](re,oe,Je,Re,xe,ke,Z,te,je)}}function Ie(h,m,S,R,G){for(S=m+S;m<S;){var J=h[m++];R[G++]=J>>16&255,R[G++]=J>>8&255,R[G++]=J>>0&255}}function nt(h,m,S,R,G){for(S=m+S;m<S;){var J=h[m++];R[G++]=J>>16&255,R[G++]=J>>8&255,R[G++]=J>>0&255,R[G++]=J>>24&255}}function He(h,m,S,R,G){for(S=m+S;m<S;){var J=(Z=h[m++])>>16&240|Z>>12&15,Z=Z>>0&240|Z>>28&15;R[G++]=J,R[G++]=Z}}function xt(h,m,S,R,G){for(S=m+S;m<S;){var J=(Z=h[m++])>>16&248|Z>>13&7,Z=Z>>5&224|Z>>3&31;R[G++]=J,R[G++]=Z}}function Qe(h,m,S,R,G){for(S=m+S;m<S;){var J=h[m++];R[G++]=J>>0&255,R[G++]=J>>8&255,R[G++]=J>>16&255}}function et(h,m,S,R,G,J){if(J==0)for(S=m+S;m<S;)Ee(R,((J=h[m++])[0]>>24|J[1]>>8&65280|J[2]<<8&16711680|J[3]<<24)>>>0),G+=32;else r(R,G,h,m,S)}function Pe(h,m){N[m][0]=N[h+"0"],N[m][1]=N[h+"1"],N[m][2]=N[h+"2"],N[m][3]=N[h+"3"],N[m][4]=N[h+"4"],N[m][5]=N[h+"5"],N[m][6]=N[h+"6"],N[m][7]=N[h+"7"],N[m][8]=N[h+"8"],N[m][9]=N[h+"9"],N[m][10]=N[h+"10"],N[m][11]=N[h+"11"],N[m][12]=N[h+"12"],N[m][13]=N[h+"13"],N[m][14]=N[h+"0"],N[m][15]=N[h+"0"]}function rt(h){return h==y0||h==x0||h==of||h==b0}function Nt(){this.eb=[],this.size=this.A=this.fb=0}function Et(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Xt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Nt,this.f.kb=new Et,this.sd=null}function $t(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Mt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function it(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function ft(h,m){var S=h.T,R=m.ba.f.RGBA,G=R.eb,J=R.fb+h.ka*R.A,Z=pi[m.ba.S],te=h.y,re=h.O,oe=h.f,xe=h.N,ke=h.ea,Ne=h.W,je=m.cc,Je=m.dc,Re=m.Mc,be=m.Nc,Se=h.ka,qe=h.ka+h.T,Ze=h.U,Xe=Ze+1>>1;for(Se==0?Z(te,re,null,null,oe,xe,ke,Ne,oe,xe,ke,Ne,G,J,null,null,Ze):(Z(m.ec,m.fc,te,re,je,Je,Re,be,oe,xe,ke,Ne,G,J-R.A,G,J,Ze),++S);Se+2<qe;Se+=2)je=oe,Je=xe,Re=ke,be=Ne,xe+=h.Rc,Ne+=h.Rc,J+=2*R.A,Z(te,(re+=2*h.fa)-h.fa,te,re,je,Je,Re,be,oe,xe,ke,Ne,G,J-R.A,G,J,Ze);return re+=h.fa,h.j+qe<h.o?(r(m.ec,m.fc,te,re,Ze),r(m.cc,m.dc,oe,xe,Xe),r(m.Mc,m.Nc,ke,Ne,Xe),S--):1&qe||Z(te,re,null,null,oe,xe,ke,Ne,oe,xe,ke,Ne,G,J+R.A,null,null,Ze),S}function Vn(h,m,S){var R=h.F,G=[h.J];if(R!=null){var J=h.U,Z=m.ba.S,te=Z==af||Z==of;m=m.ba.f.RGBA;var re=[0],oe=h.ka;re[0]=h.T,h.Kb&&(oe==0?--re[0]:(--oe,G[0]-=h.width),h.j+h.ka+h.T==h.o&&(re[0]=h.o-h.j-oe));var xe=m.eb;oe=m.fb+oe*m.A,h=zn(R,G[0],h.width,J,re,xe,oe+(te?0:3),m.A),t(S==re),h&&rt(Z)&&hi(xe,oe,te,J,re,m.A)}return 0}function Jt(h){var m=h.ma,S=m.ba.S,R=11>S,G=S==rf||S==sf||S==af||S==v0||S==12||rt(S);if(m.memory=null,m.Ib=null,m.Jb=null,m.Nd=null,!Bu(m.Oa,h,G?11:12))return 0;if(G&&rt(S)&&tt(),h.da)alert("todo:use_scaling");else{if(R){if(m.Ib=it,h.Kb){if(S=h.U+1>>1,m.memory=i(h.U+2*S),m.memory==null)return 0;m.ec=m.memory,m.fc=0,m.cc=m.ec,m.dc=m.fc+h.U,m.Mc=m.cc,m.Nc=m.dc+S,m.Ib=ft,tt()}}else alert("todo:EmitYUV");G&&(m.Jb=Vn,R&&Fe())}if(R&&!cb){for(h=0;256>h;++h)cI[h]=89858*(h-128)+lf>>Af,hI[h]=-22014*(h-128)+lf,dI[h]=-45773*(h-128),uI[h]=113618*(h-128)+lf>>Af;for(h=_u;h<C0;++h)m=76283*(h-16)+lf>>Af,fI[h-_u]=Gs(m,255),pI[h-_u]=Gs(m+8>>4,15);cb=1}return 1}function Qr(h){var m=h.ma,S=h.U,R=h.T;return t(!(1&h.ka)),0>=S||0>=R?0:(S=m.Ib(h,m),m.Jb!=null&&m.Jb(h,m,S),m.Dc+=S,1)}function sr(h){h.ma.memory=null}function Ct(h,m,S,R){return H(h,8)!=47?0:(m[0]=H(h,14)+1,S[0]=H(h,14)+1,R[0]=H(h,1),H(h,3)!=0?0:!h.h)}function en(h,m){if(4>h)return h+1;var S=h-2>>1;return(2+(1&h)<<S)+H(m,S)+1}function kt(h,m){return 120<m?m-120:1<=(S=((S=Yj[m-1])>>4)*h+(8-(15&S)))?S:1;var S}function Ln(h,m,S){var R=W(S),G=h[m+=255&R].g-8;return 0<G&&(X(S,S.u+8),R=W(S),m+=h[m].value,m+=R&(1<<G)-1),X(S,S.u+h[m].g),h[m].value}function Pn(h,m,S){return S.g+=h.g,S.value+=h.value<<m>>>0,t(8>=S.g),h.g}function Zn(h,m,S){var R=h.xc;return t((m=R==0?0:h.vc[h.md*(S>>R)+(m>>R)])<h.Wb),h.Ya[m]}function dr(h,m,S,R){var G=h.ab,J=h.c*m,Z=h.C;m=Z+m;var te=S,re=R;for(R=h.Ta,S=h.Ua;0<G--;){var oe=h.gc[G],xe=Z,ke=m,Ne=te,je=re,Je=(re=R,te=S,oe.Ea);switch(t(xe<ke),t(ke<=oe.nc),oe.hc){case 2:Yh(Ne,je,(ke-xe)*Je,re,te);break;case 0:var Re=xe,be=ke,Se=re,qe=te,Ze=(dt=oe).Ea;Re==0&&(g0(Ne,je,null,null,1,Se,qe),De(Ne,je+1,0,0,Ze-1,Se,qe+1),je+=Ze,qe+=Ze,++Re);for(var Xe=1<<dt.b,vt=Xe-1,ct=ne(Ze,dt.b),Tt=dt.K,dt=dt.w+(Re>>dt.b)*ct;Re<be;){var Sn=Tt,_n=dt,xn=1;for(Eu(Ne,je,Se,qe-Ze,1,Se,qe);xn<Ze;){var sn=(xn&~vt)+Xe;sn>Ze&&(sn=Ze),(0,yo[Sn[_n++]>>8&15])(Ne,je+ +xn,Se,qe+xn-Ze,sn-xn,Se,qe+xn),xn=sn}je+=Ze,qe+=Ze,++Re&vt||(dt+=ct)}ke!=oe.nc&&r(re,te-Je,re,te+(ke-xe-1)*Je,Je);break;case 1:for(Je=Ne,be=je,Ze=(Ne=oe.Ea)-(qe=Ne&~(Se=(je=1<<oe.b)-1)),Re=ne(Ne,oe.b),Xe=oe.K,oe=oe.w+(xe>>oe.b)*Re;xe<ke;){for(vt=Xe,ct=oe,Tt=new ge,dt=be+qe,Sn=be+Ne;be<dt;)Ge(vt[ct++],Tt),dA(Tt,Je,be,je,re,te),be+=je,te+=je;be<Sn&&(Ge(vt[ct++],Tt),dA(Tt,Je,be,Ze,re,te),be+=Ze,te+=Ze),++xe&Se||(oe+=Re)}break;case 3:if(Ne==re&&je==te&&0<oe.b){for(be=re,Ne=Je=te+(ke-xe)*Je-(qe=(ke-xe)*ne(oe.Ea,oe.b)),je=re,Se=te,Re=[],qe=(Ze=qe)-1;0<=qe;--qe)Re[qe]=je[Se+qe];for(qe=Ze-1;0<=qe;--qe)be[Ne+qe]=Re[qe];ci(oe,xe,ke,re,Je,re,te)}else ci(oe,xe,ke,Ne,je,re,te)}te=R,re=S}re!=S&&r(R,S,te,re,J)}function oi(h,m){var S=h.V,R=h.Ba+h.c*h.C,G=m-h.C;if(t(m<=h.l.o),t(16>=G),0<G){var J=h.l,Z=h.Ta,te=h.Ua,re=J.width;if(dr(h,G,S,R),G=te=[te],t((S=h.C)<(R=m)),t(J.v<J.va),R>J.o&&(R=J.o),S<J.j){var oe=J.j-S;S=J.j,G[0]+=oe*re}if(S>=R?S=0:(G[0]+=4*J.v,J.ka=S-J.j,J.U=J.va-J.v,J.T=R-S,S=1),S){if(te=te[0],11>(S=h.ca).S){var xe=S.f.RGBA,ke=(R=S.S,G=J.U,J=J.T,oe=xe.eb,xe.A),Ne=J;for(xe=xe.fb+h.Ma*xe.A;0<Ne--;){var je=Z,Je=te,Re=G,be=oe,Se=xe;switch(R){case nf:Ls(je,Je,Re,be,Se);break;case rf:ys(je,Je,Re,be,Se);break;case y0:ys(je,Je,Re,be,Se),hi(be,Se,0,Re,1,0);break;case tb:Pa(je,Je,Re,be,Se);break;case sf:et(je,Je,Re,be,Se,1);break;case x0:et(je,Je,Re,be,Se,1),hi(be,Se,0,Re,1,0);break;case af:et(je,Je,Re,be,Se,0);break;case of:et(je,Je,Re,be,Se,0),hi(be,Se,1,Re,1,0);break;case v0:xo(je,Je,Re,be,Se);break;case b0:xo(je,Je,Re,be,Se),$n(be,Se,Re,1,0);break;case nb:Qa(je,Je,Re,be,Se);break;default:t(0)}te+=re,xe+=ke}h.Ma+=J}else alert("todo:EmitRescaledRowsYUVA");t(h.Ma<=S.height)}}h.C=m,t(h.C<=h.i)}function Vs(h){var m;if(0<h.ua)return 0;for(m=0;m<h.Wb;++m){var S=h.Ya[m].G,R=h.Ya[m].H;if(0<S[1][R[1]+0].g||0<S[2][R[2]+0].g||0<S[3][R[3]+0].g)return 0}return 1}function Fs(h,m,S,R,G,J){if(h.Z!=0){var Z=h.qd,te=h.rd;for(t(Co[h.Z]!=null);m<S;++m)Co[h.Z](Z,te,R,G,R,G,J),Z=R,te=G,G+=J;h.qd=Z,h.rd=te}}function ks(h,m){var S=h.l.ma,R=S.Z==0||S.Z==1?h.l.j:h.C;if(R=h.C<R?R:h.C,t(m<=h.l.o),m>R){var G=h.l.width,J=S.ca,Z=S.tb+G*R,te=h.V,re=h.Ba+h.c*R,oe=h.gc;t(h.ab==1),t(oe[0].hc==3),Xh(oe[0],R,m,te,re,J,Z),Fs(S,R,m,J,Z,G)}h.C=h.Ma=m}function Ns(h,m,S,R,G,J,Z){var te=h.$/R,re=h.$%R,oe=h.m,xe=h.s,ke=S+h.$,Ne=ke;G=S+R*G;var je=S+R*J,Je=280+xe.ua,Re=h.Pb?te:16777216,be=0<xe.ua?xe.Wa:null,Se=xe.wc,qe=ke<je?Zn(xe,re,te):null;t(h.C<J),t(je<=G);var Ze=!1;e:for(;;){for(;Ze||ke<je;){var Xe=0;if(te>=Re){var vt=ke-S;t((Re=h).Pb),Re.wd=Re.m,Re.xd=vt,0<Re.s.ua&&pe(Re.s.Wa,Re.s.vb),Re=te+Jj}if(re&Se||(qe=Zn(xe,re,te)),t(qe!=null),qe.Qb&&(m[ke]=qe.qb,Ze=!0),!Ze)if(Y(oe),qe.jc){Xe=oe,vt=m;var ct=ke,Tt=qe.pd[W(Xe)&qr-1];t(qe.jc),256>Tt.g?(X(Xe,Xe.u+Tt.g),vt[ct]=Tt.value,Xe=0):(X(Xe,Xe.u+Tt.g-256),t(256<=Tt.value),Xe=Tt.value),Xe==0&&(Ze=!0)}else Xe=Ln(qe.G[0],qe.H[0],oe);if(oe.h)break;if(Ze||256>Xe){if(!Ze)if(qe.nd)m[ke]=(qe.qb|Xe<<8)>>>0;else{if(Y(oe),Ze=Ln(qe.G[1],qe.H[1],oe),Y(oe),vt=Ln(qe.G[2],qe.H[2],oe),ct=Ln(qe.G[3],qe.H[3],oe),oe.h)break;m[ke]=(ct<<24|Ze<<16|Xe<<8|vt)>>>0}if(Ze=!1,++ke,++re>=R&&(re=0,++te,Z!=null&&te<=J&&!(te%16)&&Z(h,te),be!=null))for(;Ne<ke;)Xe=m[Ne++],be.X[(506832829*Xe&4294967295)>>>be.Mb]=Xe}else if(280>Xe){if(Xe=en(Xe-256,oe),vt=Ln(qe.G[4],qe.H[4],oe),Y(oe),vt=kt(R,vt=en(vt,oe)),oe.h)break;if(ke-S<vt||G-ke<Xe)break e;for(ct=0;ct<Xe;++ct)m[ke+ct]=m[ke+ct-vt];for(ke+=Xe,re+=Xe;re>=R;)re-=R,++te,Z!=null&&te<=J&&!(te%16)&&Z(h,te);if(t(ke<=G),re&Se&&(qe=Zn(xe,re,te)),be!=null)for(;Ne<ke;)Xe=m[Ne++],be.X[(506832829*Xe&4294967295)>>>be.Mb]=Xe}else{if(!(Xe<Je))break e;for(Ze=Xe-280,t(be!=null);Ne<ke;)Xe=m[Ne++],be.X[(506832829*Xe&4294967295)>>>be.Mb]=Xe;Xe=ke,t(!(Ze>>>(vt=be).Xa)),m[Xe]=vt.X[Ze],Ze=!0}Ze||t(oe.h==V(oe))}if(h.Pb&&oe.h&&ke<G)t(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&pe(h.s.vb,h.s.Wa);else{if(oe.h)break e;Z!=null&&Z(h,te>J?J:te),h.a=0,h.$=ke-S}return 1}return h.a=3,0}function Ai(h){t(h!=null),h.vc=null,h.yc=null,h.Ya=null;var m=h.Wa;m!=null&&(m.X=null),h.vb=null,t(h!=null)}function _s(){var h=new p0;return h==null?null:(h.a=0,h.xb=ib,Pe("Predictor","VP8LPredictors"),Pe("Predictor","VP8LPredictors_C"),Pe("PredictorAdd","VP8LPredictorsAdd"),Pe("PredictorAdd","VP8LPredictorsAdd_C"),Yh=$e,dA=_e,Ls=Ie,ys=nt,xo=He,Qa=xt,Pa=Qe,N.VP8LMapColor32b=vl,N.VP8LMapColor8b=Jh,h)}function li(h,m,S,R,G){var J=1,Z=[h],te=[m],re=R.m,oe=R.s,xe=null,ke=0;e:for(;;){if(S)for(;J&&H(re,1);){var Ne=Z,je=te,Je=R,Re=1,be=Je.m,Se=Je.gc[Je.ab],qe=H(be,2);if(Je.Oc&1<<qe)J=0;else{switch(Je.Oc|=1<<qe,Se.hc=qe,Se.Ea=Ne[0],Se.nc=je[0],Se.K=[null],++Je.ab,t(4>=Je.ab),qe){case 0:case 1:Se.b=H(be,3)+2,Re=li(ne(Se.Ea,Se.b),ne(Se.nc,Se.b),0,Je,Se.K),Se.K=Se.K[0];break;case 3:var Ze,Xe=H(be,8)+1,vt=16<Xe?0:4<Xe?1:2<Xe?2:3;if(Ne[0]=ne(Se.Ea,vt),Se.b=vt,Ze=Re=li(Xe,1,0,Je,Se.K)){var ct,Tt=Xe,dt=Se,Sn=1<<(8>>dt.b),_n=i(Sn);if(_n==null)Ze=0;else{var xn=dt.K[0],sn=dt.w;for(_n[0]=dt.K[0][0],ct=1;ct<1*Tt;++ct)_n[ct]=ae(xn[sn+ct],_n[ct-1]);for(;ct<4*Sn;++ct)_n[ct]=0;dt.K[0]=null,dt.K[0]=_n,Ze=1}}Re=Ze;break;case 2:break;default:t(0)}J=Re}}if(Z=Z[0],te=te[0],J&&H(re,1)&&!(J=1<=(ke=H(re,4))&&11>=ke)){R.a=3;break e}var Rn;if(Rn=J)t:{var Dn,zt,Fr,Ds=R,kr=Z,Ms=te,Tn=ke,Ys=S,Xs=Ds.m,Rr=Ds.s,Yr=[null],bs=1,gi=0,aa=Xj[Tn];n:for(;;){if(Ys&&H(Xs,1)){var Hr=H(Xs,3)+2,$a=ne(kr,Hr),mA=ne(Ms,Hr),Bl=$a*mA;if(!li($a,mA,0,Ds,Yr))break n;for(Yr=Yr[0],Rr.xc=Hr,Dn=0;Dn<Bl;++Dn){var So=Yr[Dn]>>8&65535;Yr[Dn]=So,So>=bs&&(bs=So+1)}}if(Xs.h)break n;for(zt=0;5>zt;++zt){var ar=rb[zt];!zt&&0<Tn&&(ar+=1<<Tn),gi<ar&&(gi=ar)}var S0=o(bs*aa,I),hb=bs,fb=o(hb,P);if(fb==null)var uf=null;else t(65536>=hb),uf=fb;var Tu=i(gi);if(uf==null||Tu==null||S0==null){Ds.a=1;break n}var df=S0;for(Dn=Fr=0;Dn<bs;++Dn){var Oi=uf[Dn],Cl=Oi.G,Sl=Oi.H,pb=0,hf=1,gb=0;for(zt=0;5>zt;++zt){ar=rb[zt],Cl[zt]=df,Sl[zt]=Fr,!zt&&0<Tn&&(ar+=1<<Tn);s:{var ff,E0=ar,pf=Ds,Uu=Tu,vI=df,yI=Fr,j0=0,Eo=pf.m,xI=H(Eo,1);if(s(Uu,0,0,E0),xI){var bI=H(Eo,1)+1,wI=H(Eo,1),mb=H(Eo,wI==0?1:8);Uu[mb]=1,bI==2&&(Uu[mb=H(Eo,8)]=1);var gf=1}else{var vb=i(19),yb=H(Eo,4)+4;if(19<yb){pf.a=3;var mf=0;break s}for(ff=0;ff<yb;++ff)vb[qj[ff]]=H(Eo,3);var I0=void 0,Lu=void 0,xb=pf,BI=vb,vf=E0,bb=Uu,F0=0,jo=xb.m,wb=8,Bb=o(128,I);r:for(;E(Bb,0,7,BI,19);){if(H(jo,1)){var CI=2+2*H(jo,3);if((I0=2+H(jo,CI))>vf)break r}else I0=vf;for(Lu=0;Lu<vf&&I0--;){Y(jo);var Cb=Bb[0+(127&W(jo))];X(jo,jo.u+Cb.g);var El=Cb.value;if(16>El)bb[Lu++]=El,El!=0&&(wb=El);else{var SI=El==16,Sb=El-16,EI=Vj[Sb],Eb=H(jo,Kj[Sb])+EI;if(Lu+Eb>vf)break r;for(var jI=SI?wb:0;0<Eb--;)bb[Lu++]=jI}}F0=1;break r}F0||(xb.a=3),gf=F0}(gf=gf&&!Eo.h)&&(j0=E(vI,yI,8,Uu,E0)),gf&&j0!=0?mf=j0:(pf.a=3,mf=0)}if(mf==0)break n;if(hf&&Gj[zt]==1&&(hf=df[Fr].g==0),pb+=df[Fr].g,Fr+=mf,3>=zt){var Du,k0=Tu[0];for(Du=1;Du<ar;++Du)Tu[Du]>k0&&(k0=Tu[Du]);gb+=k0}}if(Oi.nd=hf,Oi.Qb=0,hf&&(Oi.qb=(Cl[3][Sl[3]+0].value<<24|Cl[1][Sl[1]+0].value<<16|Cl[2][Sl[2]+0].value)>>>0,pb==0&&256>Cl[0][Sl[0]+0].value&&(Oi.Qb=1,Oi.qb+=Cl[0][Sl[0]+0].value<<8)),Oi.jc=!Oi.Qb&&6>gb,Oi.jc){var yf,za=Oi;for(yf=0;yf<qr;++yf){var Io=yf,Fo=za.pd[Io],xf=za.G[0][za.H[0]+Io];256<=xf.value?(Fo.g=xf.g+256,Fo.value=xf.value):(Fo.g=0,Fo.value=0,Io>>=Pn(xf,8,Fo),Io>>=Pn(za.G[1][za.H[1]+Io],16,Fo),Io>>=Pn(za.G[2][za.H[2]+Io],0,Fo),Pn(za.G[3][za.H[3]+Io],24,Fo))}}}Rr.vc=Yr,Rr.Wb=bs,Rr.Ya=uf,Rr.yc=S0,Rn=1;break t}Rn=0}if(!(J=Rn)){R.a=3;break e}if(0<ke){if(oe.ua=1<<ke,!Be(oe.Wa,ke)){R.a=1,J=0;break e}}else oe.ua=0;var N0=R,jb=Z,II=te,_0=N0.s,T0=_0.xc;if(N0.c=jb,N0.i=II,_0.md=ne(jb,T0),_0.wc=T0==0?-1:(1<<T0)-1,S){R.xb=iI;break e}if((xe=i(Z*te))==null){R.a=1,J=0;break e}J=(J=Ns(R,xe,0,Z,te,te,null))&&!re.h;break e}return J?(G!=null?G[0]=xe:(t(xe==null),t(S)),R.$=0,S||Ai(oe)):Ai(oe),J}function La(h,m){var S=h.c*h.i,R=S+m+16*m;return t(h.c<=m),h.V=i(R),h.V==null?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+S+m,1)}function Ht(h,m){var S=h.C,R=m-S,G=h.V,J=h.Ba+h.c*S;for(t(m<=h.l.o);0<R;){var Z=16<R?16:R,te=h.l.ma,re=h.l.width,oe=re*Z,xe=te.ca,ke=te.tb+re*S,Ne=h.Ta,je=h.Ua;dr(h,Z,G,J),pr(Ne,je,xe,ke,oe),Fs(te,S,S+Z,xe,ke,re),R-=Z,G+=Z*h.c,S+=Z}t(S==m),h.C=h.Ma=m}function jr(){this.ub=this.yd=this.td=this.Rb=0}function tl(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function nl(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function kh(){this.Yb=function(){var h=[];return function m(S,R,G){for(var J=G[R],Z=0;Z<J&&(S.push(G.length>R+1?[]:0),!(G.length<R+1));Z++)m(S[Z],R+1,G)}(h,0,[3,11]),h}()}function Km(){this.jb=i(3),this.Wc=A([4,8],kh),this.Xc=A([4,17],kh)}function Vm(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function rl(){this.ld=this.La=this.dd=this.tc=0}function Nh(){this.Na=this.la=0}function Gm(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ou(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function qm(){this.uc=this.M=this.Nb=0,this.wa=Array(new rl),this.Y=0,this.ya=Array(new ou),this.aa=0,this.l=new sl}function _h(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Ym(){this.cb=this.a=0,this.sc="",this.m=new ie,this.Od=new jr,this.Kc=new tl,this.ed=new Vm,this.Qa=new nl,this.Ic=this.$c=this.Aa=0,this.D=new qm,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,ie),this.ia=0,this.pb=o(4,Gm),this.Pa=new Km,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new _h),this.Hd=0,this.rb=Array(new Nh),this.sb=0,this.wa=Array(new rl),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ou),this.L=this.aa=0,this.gd=A([4,2],rl),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function sl(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Xm(){var h=new Ym;return h!=null&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,Nu||(Nu=Lh)),h}function hr(h,m,S){return h.a==0&&(h.a=m,h.sc=S,h.cb=0),0}function Th(h,m,S){return 3<=S&&h[m+0]==157&&h[m+1]==1&&h[m+2]==42}function Uh(h,m){if(h==null)return 0;if(h.a=0,h.sc="OK",m==null)return hr(h,2,"null VP8Io passed to VP8GetHeaders()");var S=m.data,R=m.w,G=m.ha;if(4>G)return hr(h,7,"Truncated header.");var J=S[R+0]|S[R+1]<<8|S[R+2]<<16,Z=h.Od;if(Z.Rb=!(1&J),Z.td=J>>1&7,Z.yd=J>>4&1,Z.ub=J>>5,3<Z.td)return hr(h,3,"Incorrect keyframe parameters.");if(!Z.yd)return hr(h,4,"Frame not displayable.");R+=3,G-=3;var te=h.Kc;if(Z.Rb){if(7>G)return hr(h,7,"cannot parse picture header");if(!Th(S,R,G))return hr(h,3,"Bad code word");te.c=16383&(S[R+4]<<8|S[R+3]),te.Td=S[R+4]>>6,te.i=16383&(S[R+6]<<8|S[R+5]),te.Ud=S[R+6]>>6,R+=7,G-=7,h.za=te.c+15>>4,h.Ub=te.i+15>>4,m.width=te.c,m.height=te.i,m.Da=0,m.j=0,m.v=0,m.va=m.width,m.o=m.height,m.da=0,m.ib=m.width,m.hb=m.height,m.U=m.width,m.T=m.height,s((J=h.Pa).jb,0,255,J.jb.length),t((J=h.Qa)!=null),J.Cb=0,J.Bb=0,J.Fb=1,s(J.Zb,0,0,J.Zb.length),s(J.Lb,0,0,J.Lb)}if(Z.ub>G)return hr(h,7,"bad partition length");K(J=h.m,S,R,Z.ub),R+=Z.ub,G-=Z.ub,Z.Rb&&(te.Ld=ce(J),te.Kd=ce(J)),te=h.Qa;var re,oe=h.Pa;if(t(J!=null),t(te!=null),te.Cb=ce(J),te.Cb){if(te.Bb=ce(J),ce(J)){for(te.Fb=ce(J),re=0;4>re;++re)te.Zb[re]=ce(J)?F(J,7):0;for(re=0;4>re;++re)te.Lb[re]=ce(J)?F(J,6):0}if(te.Bb)for(re=0;3>re;++re)oe.jb[re]=ce(J)?Q(J,8):255}else te.Bb=0;if(J.Ka)return hr(h,3,"cannot parse segment header");if((te=h.ed).zd=ce(J),te.Tb=Q(J,6),te.wb=Q(J,3),te.Pc=ce(J),te.Pc&&ce(J)){for(oe=0;4>oe;++oe)ce(J)&&(te.vd[oe]=F(J,6));for(oe=0;4>oe;++oe)ce(J)&&(te.od[oe]=F(J,6))}if(h.L=te.Tb==0?0:te.zd?1:2,J.Ka)return hr(h,3,"cannot parse filter header");var xe=G;if(G=re=R,R=re+xe,te=xe,h.Xb=(1<<Q(h.m,2))-1,xe<3*(oe=h.Xb))S=7;else{for(re+=3*oe,te-=3*oe,xe=0;xe<oe;++xe){var ke=S[G+0]|S[G+1]<<8|S[G+2]<<16;ke>te&&(ke=te),K(h.Jc[+xe],S,re,ke),re+=ke,te-=ke,G+=3}K(h.Jc[+oe],S,re,te),S=re<R?0:5}if(S!=0)return hr(h,S,"cannot parse partitions");for(S=Q(re=h.m,7),G=ce(re)?F(re,4):0,R=ce(re)?F(re,4):0,te=ce(re)?F(re,4):0,oe=ce(re)?F(re,4):0,re=ce(re)?F(re,4):0,xe=h.Qa,ke=0;4>ke;++ke){if(xe.Cb){var Ne=xe.Zb[ke];xe.Fb||(Ne+=S)}else{if(0<ke){h.pb[ke]=h.pb[0];continue}Ne=S}var je=h.pb[ke];je.Sc[0]=w0[Gs(Ne+G,127)],je.Sc[1]=B0[Gs(Ne+0,127)],je.Eb[0]=2*w0[Gs(Ne+R,127)],je.Eb[1]=101581*B0[Gs(Ne+te,127)]>>16,8>je.Eb[1]&&(je.Eb[1]=8),je.Qc[0]=w0[Gs(Ne+oe,117)],je.Qc[1]=B0[Gs(Ne+re,127)],je.lc=Ne+re}if(!Z.Rb)return hr(h,4,"Not a key frame.");for(ce(J),Z=h.Pa,S=0;4>S;++S){for(G=0;8>G;++G)for(R=0;3>R;++R)for(te=0;11>te;++te)oe=Ae(J,rI[S][G][R][te])?Q(J,8):tI[S][G][R][te],Z.Wc[S][G].Yb[R][te]=oe;for(G=0;17>G;++G)Z.Xc[S][G]=Z.Wc[S][sI[G]]}return h.kc=ce(J),h.kc&&(h.Bd=Q(J,8)),h.cb=1}function Lh(h,m,S,R,G,J,Z){var te=m[G].Yb[S];for(S=0;16>G;++G){if(!Ae(h,te[S+0]))return G;for(;!Ae(h,te[S+1]);)if(te=m[++G].Yb[0],S=0,G==16)return 16;var re=m[G+1].Yb;if(Ae(h,te[S+2])){var oe=h,xe=0;if(Ae(oe,(Ne=te)[(ke=S)+3]))if(Ae(oe,Ne[ke+6])){for(te=0,ke=2*(xe=Ae(oe,Ne[ke+8]))+(Ne=Ae(oe,Ne[ke+9+xe])),xe=0,Ne=Zj[ke];Ne[te];++te)xe+=xe+Ae(oe,Ne[te]);xe+=3+(8<<ke)}else Ae(oe,Ne[ke+7])?(xe=7+2*Ae(oe,165),xe+=Ae(oe,145)):xe=5+Ae(oe,159);else xe=Ae(oe,Ne[ke+4])?3+Ae(oe,Ne[ke+5]):2;te=re[2]}else xe=1,te=re[1];re=Z+eI[G],0>(oe=h).b&&ee(oe);var ke,Ne=oe.b,je=(ke=oe.Ca>>1)-(oe.I>>Ne)>>31;--oe.b,oe.Ca+=je,oe.Ca|=1,oe.I-=(ke+1&je)<<Ne,J[re]=((xe^je)-je)*R[(0<G)+0]}return 16}function Au(h){var m=h.rb[h.sb-1];m.la=0,m.Na=0,s(h.zc,0,0,h.zc.length),h.ja=0}function Jm(h,m){if(h==null)return 0;if(m==null)return hr(h,2,"NULL VP8Io parameter in VP8Decode().");if(!h.cb&&!Uh(h,m))return 0;if(t(h.cb),m.ac==null||m.ac(m)){m.ob&&(h.L=0);var S=cf[h.L];if(h.L==2?(h.yb=0,h.zb=0):(h.yb=m.v-S>>4,h.zb=m.j-S>>4,0>h.yb&&(h.yb=0),0>h.zb&&(h.zb=0)),h.Va=m.o+15+S>>4,h.Hb=m.va+15+S>>4,h.Hb>h.za&&(h.Hb=h.za),h.Va>h.Ub&&(h.Va=h.Ub),0<h.L){var R=h.ed;for(S=0;4>S;++S){var G;if(h.Qa.Cb){var J=h.Qa.Lb[S];h.Qa.Fb||(J+=R.Tb)}else J=R.Tb;for(G=0;1>=G;++G){var Z=h.gd[S][G],te=J;if(R.Pc&&(te+=R.vd[0],G&&(te+=R.od[0])),0<(te=0>te?0:63<te?63:te)){var re=te;0<R.wb&&(re=4<R.wb?re>>2:re>>1)>9-R.wb&&(re=9-R.wb),1>re&&(re=1),Z.dd=re,Z.tc=2*te+re,Z.ld=40<=te?2:15<=te?1:0}else Z.tc=0;Z.La=G}}}S=0}else hr(h,6,"Frame setup failed"),S=h.a;if(S=S==0){if(S){h.$c=0,0<h.Aa||(h.Ic=mI);e:{S=h.Ic,R=4*(re=h.za);var oe=32*re,xe=re+1,ke=0<h.L?re*(0<h.Aa?2:1):0,Ne=(h.Aa==2?2:1)*re;if((Z=R+832+(G=3*(16*S+cf[h.L])/2*oe)+(J=h.Fa!=null&&0<h.Fa.length?h.Kc.c*h.Kc.i:0))!=Z)S=0;else{if(Z>h.Vb){if(h.Vb=0,h.Ec=i(Z),h.Fc=0,h.Ec==null){S=hr(h,1,"no memory during frame initialization.");break e}h.Vb=Z}Z=h.Ec,te=h.Fc,h.Ac=Z,h.Bc=te,te+=R,h.Gd=o(oe,_h),h.Hd=0,h.rb=o(xe+1,Nh),h.sb=1,h.wa=ke?o(ke,rl):null,h.Y=0,h.D.Nb=0,h.D.wa=h.wa,h.D.Y=h.Y,0<h.Aa&&(h.D.Y+=re),t(!0),h.oc=Z,h.pc=te,te+=832,h.ya=o(Ne,ou),h.aa=0,h.D.ya=h.ya,h.D.aa=h.aa,h.Aa==2&&(h.D.aa+=re),h.R=16*re,h.B=8*re,re=(oe=cf[h.L])*h.R,oe=oe/2*h.B,h.sa=Z,h.ta=te+re,h.qa=h.sa,h.ra=h.ta+16*S*h.R+oe,h.Ha=h.qa,h.Ia=h.ra+8*S*h.B+oe,h.$c=0,te+=G,h.mb=J?Z:null,h.nb=J?te:null,t(te+J<=h.Fc+h.Vb),Au(h),s(h.Ac,h.Bc,0,R),S=1}}if(S){if(m.ka=0,m.y=h.sa,m.O=h.ta,m.f=h.qa,m.N=h.ra,m.ea=h.Ha,m.Vd=h.Ia,m.fa=h.R,m.Rc=h.B,m.F=null,m.J=0,!ef){for(S=-255;255>=S;++S)Tr[255+S]=0>S?-S:S;for(S=-1020;1020>=S;++S)Ha[1020+S]=-128>S?-128:127<S?127:S;for(S=-112;112>=S;++S)ku[112+S]=-16>S?-16:15<S?15:S;for(S=-255;510>=S;++S)wl[255+S]=0>S?0:255<S?255:S;ef=1}yl=t0,Ra=Zm,ju=Mh,xs=e0,ui=Qh,fr=Dh,xl=fu,Zh=cA,Iu=f0,hA=pu,fA=h0,bo=cl,pA=gu,bl=Vh,gA=Kh,wo=sa,Fu=Ma,di=d0,Hi[0]=ra,Hi[1]=n0,Hi[2]=a0,Hi[3]=o0,Hi[4]=Hh,Hi[5]=Al,Hi[6]=Oh,Hi[7]=uu,Hi[8]=l0,Hi[9]=A0,Bo[0]=Ph,Bo[1]=s0,Bo[2]=Da,Bo[3]=al,Bo[4]=rs,Bo[5]=i0,Bo[6]=Rh,Oa[0]=go,Oa[1]=r0,Oa[2]=c0,Oa[3]=du,Oa[4]=lA,Oa[5]=u0,Oa[6]=hu,S=1}else S=0}S&&(S=function(je,Je){for(je.M=0;je.M<je.Va;++je.M){var Re,be=je.Jc[je.M&je.Xb],Se=je.m,qe=je;for(Re=0;Re<qe.za;++Re){var Ze=Se,Xe=qe,vt=Xe.Ac,ct=Xe.Bc+4*Re,Tt=Xe.zc,dt=Xe.ya[Xe.aa+Re];if(Xe.Qa.Bb?dt.$b=Ae(Ze,Xe.Pa.jb[0])?2+Ae(Ze,Xe.Pa.jb[2]):Ae(Ze,Xe.Pa.jb[1]):dt.$b=0,Xe.kc&&(dt.Ad=Ae(Ze,Xe.Bd)),dt.Za=!Ae(Ze,145)+0,dt.Za){var Sn=dt.Ob,_n=0;for(Xe=0;4>Xe;++Xe){var xn,sn=Tt[0+Xe];for(xn=0;4>xn;++xn){sn=nI[vt[ct+xn]][sn];for(var Rn=sb[Ae(Ze,sn[0])];0<Rn;)Rn=sb[2*Rn+Ae(Ze,sn[Rn])];sn=-Rn,vt[ct+xn]=sn}r(Sn,_n,vt,ct,4),_n+=4,Tt[0+Xe]=sn}}else sn=Ae(Ze,156)?Ae(Ze,128)?1:3:Ae(Ze,163)?2:0,dt.Ob[0]=sn,s(vt,ct,sn,4),s(Tt,0,sn,4);dt.Dd=Ae(Ze,142)?Ae(Ze,114)?Ae(Ze,183)?1:3:2:0}if(qe.m.Ka)return hr(je,7,"Premature end-of-partition0 encountered.");for(;je.ja<je.za;++je.ja){if(qe=be,Ze=(Se=je).rb[Se.sb-1],vt=Se.rb[Se.sb+Se.ja],Re=Se.ya[Se.aa+Se.ja],ct=Se.kc?Re.Ad:0)Ze.la=vt.la=0,Re.Za||(Ze.Na=vt.Na=0),Re.Hc=0,Re.Gc=0,Re.ia=0;else{var Dn,zt;if(Ze=vt,vt=qe,ct=Se.Pa.Xc,Tt=Se.ya[Se.aa+Se.ja],dt=Se.pb[Tt.$b],Xe=Tt.ad,Sn=0,_n=Se.rb[Se.sb-1],sn=xn=0,s(Xe,Sn,0,384),Tt.Za)var Fr=0,Ds=ct[3];else{Rn=i(16);var kr=Ze.Na+_n.Na;if(kr=Nu(vt,ct[1],kr,dt.Eb,0,Rn,0),Ze.Na=_n.Na=(0<kr)+0,1<kr)yl(Rn,0,Xe,Sn);else{var Ms=Rn[0]+3>>3;for(Rn=0;256>Rn;Rn+=16)Xe[Sn+Rn]=Ms}Fr=1,Ds=ct[0]}var Tn=15&Ze.la,Ys=15&_n.la;for(Rn=0;4>Rn;++Rn){var Xs=1&Ys;for(Ms=zt=0;4>Ms;++Ms)Tn=Tn>>1|(Xs=(kr=Nu(vt,Ds,kr=Xs+(1&Tn),dt.Sc,Fr,Xe,Sn))>Fr)<<7,zt=zt<<2|(3<kr?3:1<kr?2:Xe[Sn+0]!=0),Sn+=16;Tn>>=4,Ys=Ys>>1|Xs<<7,xn=(xn<<8|zt)>>>0}for(Ds=Tn,Fr=Ys>>4,Dn=0;4>Dn;Dn+=2){for(zt=0,Tn=Ze.la>>4+Dn,Ys=_n.la>>4+Dn,Rn=0;2>Rn;++Rn){for(Xs=1&Ys,Ms=0;2>Ms;++Ms)kr=Xs+(1&Tn),Tn=Tn>>1|(Xs=0<(kr=Nu(vt,ct[2],kr,dt.Qc,0,Xe,Sn)))<<3,zt=zt<<2|(3<kr?3:1<kr?2:Xe[Sn+0]!=0),Sn+=16;Tn>>=2,Ys=Ys>>1|Xs<<5}sn|=zt<<4*Dn,Ds|=Tn<<4<<Dn,Fr|=(240&Ys)<<Dn}Ze.la=Ds,_n.la=Fr,Tt.Hc=xn,Tt.Gc=sn,Tt.ia=43690&sn?0:dt.ia,ct=!(xn|sn)}if(0<Se.L&&(Se.wa[Se.Y+Se.ja]=Se.gd[Re.$b][Re.Za],Se.wa[Se.Y+Se.ja].La|=!ct),qe.Ka)return hr(je,7,"Premature end-of-file encountered.")}if(Au(je),Se=Je,qe=1,Re=(be=je).D,Ze=0<be.L&&be.M>=be.zb&&be.M<=be.Va,be.Aa==0)e:{if(Re.M=be.M,Re.uc=Ze,wu(be,Re),qe=1,Re=(zt=be.D).Nb,Ze=(sn=cf[be.L])*be.R,vt=sn/2*be.B,Rn=16*Re*be.R,Ms=8*Re*be.B,ct=be.sa,Tt=be.ta-Ze+Rn,dt=be.qa,Xe=be.ra-vt+Ms,Sn=be.Ha,_n=be.Ia-vt+Ms,Ys=(Tn=zt.M)==0,xn=Tn>=be.Va-1,be.Aa==2&&wu(be,zt),zt.uc)for(Xs=(kr=be).D.M,t(kr.D.uc),zt=kr.yb;zt<kr.Hb;++zt){Fr=zt,Ds=Xs;var Rr=(Yr=(ar=kr).D).Nb;Dn=ar.R;var Yr=Yr.wa[Yr.Y+Fr],bs=ar.sa,gi=ar.ta+16*Rr*Dn+16*Fr,aa=Yr.dd,Hr=Yr.tc;if(Hr!=0)if(t(3<=Hr),ar.L==1)0<Fr&&wo(bs,gi,Dn,Hr+4),Yr.La&&di(bs,gi,Dn,Hr),0<Ds&&gA(bs,gi,Dn,Hr+4),Yr.La&&Fu(bs,gi,Dn,Hr);else{var $a=ar.B,mA=ar.qa,Bl=ar.ra+8*Rr*$a+8*Fr,So=ar.Ha,ar=ar.Ia+8*Rr*$a+8*Fr;Rr=Yr.ld,0<Fr&&(Zh(bs,gi,Dn,Hr+4,aa,Rr),hA(mA,Bl,So,ar,$a,Hr+4,aa,Rr)),Yr.La&&(bo(bs,gi,Dn,Hr,aa,Rr),bl(mA,Bl,So,ar,$a,Hr,aa,Rr)),0<Ds&&(xl(bs,gi,Dn,Hr+4,aa,Rr),Iu(mA,Bl,So,ar,$a,Hr+4,aa,Rr)),Yr.La&&(fA(bs,gi,Dn,Hr,aa,Rr),pA(mA,Bl,So,ar,$a,Hr,aa,Rr))}}if(be.ia&&alert("todo:DitherRow"),Se.put!=null){if(zt=16*Tn,Tn=16*(Tn+1),Ys?(Se.y=be.sa,Se.O=be.ta+Rn,Se.f=be.qa,Se.N=be.ra+Ms,Se.ea=be.Ha,Se.W=be.Ia+Ms):(zt-=sn,Se.y=ct,Se.O=Tt,Se.f=dt,Se.N=Xe,Se.ea=Sn,Se.W=_n),xn||(Tn-=sn),Tn>Se.o&&(Tn=Se.o),Se.F=null,Se.J=null,be.Fa!=null&&0<be.Fa.length&&zt<Tn&&(Se.J=xu(be,Se,zt,Tn-zt),Se.F=be.mb,Se.F==null&&Se.F.length==0)){qe=hr(be,3,"Could not decode alpha data.");break e}zt<Se.j&&(sn=Se.j-zt,zt=Se.j,t(!(1&sn)),Se.O+=be.R*sn,Se.N+=be.B*(sn>>1),Se.W+=be.B*(sn>>1),Se.F!=null&&(Se.J+=Se.width*sn)),zt<Tn&&(Se.O+=Se.v,Se.N+=Se.v>>1,Se.W+=Se.v>>1,Se.F!=null&&(Se.J+=Se.v),Se.ka=zt-Se.j,Se.U=Se.va-Se.v,Se.T=Tn-zt,qe=Se.put(Se))}Re+1!=be.Ic||xn||(r(be.sa,be.ta-Ze,ct,Tt+16*be.R,Ze),r(be.qa,be.ra-vt,dt,Xe+8*be.B,vt),r(be.Ha,be.Ia-vt,Sn,_n+8*be.B,vt))}if(!qe)return hr(je,6,"Output aborted.")}return 1}(h,m)),m.bc!=null&&m.bc(m),S&=1}return S?(h.cb=0,S):0}function Qi(h,m,S,R,G){G=h[m+S+32*R]+(G>>3),h[m+S+32*R]=-256&G?0>G?0:255:G}function il(h,m,S,R,G,J){Qi(h,m,0,S,R+G),Qi(h,m,1,S,R+J),Qi(h,m,2,S,R-J),Qi(h,m,3,S,R-G)}function Ts(h){return(20091*h>>16)+h}function lu(h,m,S,R){var G,J=0,Z=i(16);for(G=0;4>G;++G){var te=h[m+0]+h[m+8],re=h[m+0]-h[m+8],oe=(35468*h[m+4]>>16)-Ts(h[m+12]),xe=Ts(h[m+4])+(35468*h[m+12]>>16);Z[J+0]=te+xe,Z[J+1]=re+oe,Z[J+2]=re-oe,Z[J+3]=te-xe,J+=4,m++}for(G=J=0;4>G;++G)te=(h=Z[J+0]+4)+Z[J+8],re=h-Z[J+8],oe=(35468*Z[J+4]>>16)-Ts(Z[J+12]),Qi(S,R,0,0,te+(xe=Ts(Z[J+4])+(35468*Z[J+12]>>16))),Qi(S,R,1,0,re+oe),Qi(S,R,2,0,re-oe),Qi(S,R,3,0,te-xe),J++,R+=32}function Dh(h,m,S,R){var G=h[m+0]+4,J=35468*h[m+4]>>16,Z=Ts(h[m+4]),te=35468*h[m+1]>>16;il(S,R,0,G+Z,h=Ts(h[m+1]),te),il(S,R,1,G+J,h,te),il(S,R,2,G-J,h,te),il(S,R,3,G-Z,h,te)}function Zm(h,m,S,R,G){lu(h,m,S,R),G&&lu(h,m+16,S,R+4)}function Mh(h,m,S,R){Ra(h,m+0,S,R,1),Ra(h,m+32,S,R+128,1)}function e0(h,m,S,R){var G;for(h=h[m+0]+4,G=0;4>G;++G)for(m=0;4>m;++m)Qi(S,R,m,G,h)}function Qh(h,m,S,R){h[m+0]&&xs(h,m+0,S,R),h[m+16]&&xs(h,m+16,S,R+4),h[m+32]&&xs(h,m+32,S,R+128),h[m+48]&&xs(h,m+48,S,R+128+4)}function t0(h,m,S,R){var G,J=i(16);for(G=0;4>G;++G){var Z=h[m+0+G]+h[m+12+G],te=h[m+4+G]+h[m+8+G],re=h[m+4+G]-h[m+8+G],oe=h[m+0+G]-h[m+12+G];J[0+G]=Z+te,J[8+G]=Z-te,J[4+G]=oe+re,J[12+G]=oe-re}for(G=0;4>G;++G)Z=(h=J[0+4*G]+3)+J[3+4*G],te=J[1+4*G]+J[2+4*G],re=J[1+4*G]-J[2+4*G],oe=h-J[3+4*G],S[R+0]=Z+te>>3,S[R+16]=oe+re>>3,S[R+32]=Z-te>>3,S[R+48]=oe-re>>3,R+=64}function cu(h,m,S){var R,G=m-32,J=qs,Z=255-h[G-1];for(R=0;R<S;++R){var te,re=J,oe=Z+h[m-1];for(te=0;te<S;++te)h[m+te]=re[oe+h[G+te]];m+=32}}function n0(h,m){cu(h,m,4)}function r0(h,m){cu(h,m,8)}function s0(h,m){cu(h,m,16)}function Da(h,m){var S;for(S=0;16>S;++S)r(h,m+32*S,h,m-32,16)}function al(h,m){var S;for(S=16;0<S;--S)s(h,m,h[m-1],16),m+=32}function ol(h,m,S){var R;for(R=0;16>R;++R)s(m,S+32*R,h,16)}function Ph(h,m){var S,R=16;for(S=0;16>S;++S)R+=h[m-1+32*S]+h[m+S-32];ol(R>>5,h,m)}function rs(h,m){var S,R=8;for(S=0;16>S;++S)R+=h[m-1+32*S];ol(R>>4,h,m)}function i0(h,m){var S,R=8;for(S=0;16>S;++S)R+=h[m+S-32];ol(R>>4,h,m)}function Rh(h,m){ol(128,h,m)}function Qt(h,m,S){return h+2*m+S+2>>2}function a0(h,m){var S,R=m-32;for(R=new Uint8Array([Qt(h[R-1],h[R+0],h[R+1]),Qt(h[R+0],h[R+1],h[R+2]),Qt(h[R+1],h[R+2],h[R+3]),Qt(h[R+2],h[R+3],h[R+4])]),S=0;4>S;++S)r(h,m+32*S,R,0,R.length)}function o0(h,m){var S=h[m-1],R=h[m-1+32],G=h[m-1+64],J=h[m-1+96];Ee(h,m+0,16843009*Qt(h[m-1-32],S,R)),Ee(h,m+32,16843009*Qt(S,R,G)),Ee(h,m+64,16843009*Qt(R,G,J)),Ee(h,m+96,16843009*Qt(G,J,J))}function ra(h,m){var S,R=4;for(S=0;4>S;++S)R+=h[m+S-32]+h[m-1+32*S];for(R>>=3,S=0;4>S;++S)s(h,m+32*S,R,4)}function Hh(h,m){var S=h[m-1+0],R=h[m-1+32],G=h[m-1+64],J=h[m-1-32],Z=h[m+0-32],te=h[m+1-32],re=h[m+2-32],oe=h[m+3-32];h[m+0+96]=Qt(R,G,h[m-1+96]),h[m+1+96]=h[m+0+64]=Qt(S,R,G),h[m+2+96]=h[m+1+64]=h[m+0+32]=Qt(J,S,R),h[m+3+96]=h[m+2+64]=h[m+1+32]=h[m+0+0]=Qt(Z,J,S),h[m+3+64]=h[m+2+32]=h[m+1+0]=Qt(te,Z,J),h[m+3+32]=h[m+2+0]=Qt(re,te,Z),h[m+3+0]=Qt(oe,re,te)}function Oh(h,m){var S=h[m+1-32],R=h[m+2-32],G=h[m+3-32],J=h[m+4-32],Z=h[m+5-32],te=h[m+6-32],re=h[m+7-32];h[m+0+0]=Qt(h[m+0-32],S,R),h[m+1+0]=h[m+0+32]=Qt(S,R,G),h[m+2+0]=h[m+1+32]=h[m+0+64]=Qt(R,G,J),h[m+3+0]=h[m+2+32]=h[m+1+64]=h[m+0+96]=Qt(G,J,Z),h[m+3+32]=h[m+2+64]=h[m+1+96]=Qt(J,Z,te),h[m+3+64]=h[m+2+96]=Qt(Z,te,re),h[m+3+96]=Qt(te,re,re)}function Al(h,m){var S=h[m-1+0],R=h[m-1+32],G=h[m-1+64],J=h[m-1-32],Z=h[m+0-32],te=h[m+1-32],re=h[m+2-32],oe=h[m+3-32];h[m+0+0]=h[m+1+64]=J+Z+1>>1,h[m+1+0]=h[m+2+64]=Z+te+1>>1,h[m+2+0]=h[m+3+64]=te+re+1>>1,h[m+3+0]=re+oe+1>>1,h[m+0+96]=Qt(G,R,S),h[m+0+64]=Qt(R,S,J),h[m+0+32]=h[m+1+96]=Qt(S,J,Z),h[m+1+32]=h[m+2+96]=Qt(J,Z,te),h[m+2+32]=h[m+3+96]=Qt(Z,te,re),h[m+3+32]=Qt(te,re,oe)}function uu(h,m){var S=h[m+0-32],R=h[m+1-32],G=h[m+2-32],J=h[m+3-32],Z=h[m+4-32],te=h[m+5-32],re=h[m+6-32],oe=h[m+7-32];h[m+0+0]=S+R+1>>1,h[m+1+0]=h[m+0+64]=R+G+1>>1,h[m+2+0]=h[m+1+64]=G+J+1>>1,h[m+3+0]=h[m+2+64]=J+Z+1>>1,h[m+0+32]=Qt(S,R,G),h[m+1+32]=h[m+0+96]=Qt(R,G,J),h[m+2+32]=h[m+1+96]=Qt(G,J,Z),h[m+3+32]=h[m+2+96]=Qt(J,Z,te),h[m+3+64]=Qt(Z,te,re),h[m+3+96]=Qt(te,re,oe)}function A0(h,m){var S=h[m-1+0],R=h[m-1+32],G=h[m-1+64],J=h[m-1+96];h[m+0+0]=S+R+1>>1,h[m+2+0]=h[m+0+32]=R+G+1>>1,h[m+2+32]=h[m+0+64]=G+J+1>>1,h[m+1+0]=Qt(S,R,G),h[m+3+0]=h[m+1+32]=Qt(R,G,J),h[m+3+32]=h[m+1+64]=Qt(G,J,J),h[m+3+64]=h[m+2+64]=h[m+0+96]=h[m+1+96]=h[m+2+96]=h[m+3+96]=J}function l0(h,m){var S=h[m-1+0],R=h[m-1+32],G=h[m-1+64],J=h[m-1+96],Z=h[m-1-32],te=h[m+0-32],re=h[m+1-32],oe=h[m+2-32];h[m+0+0]=h[m+2+32]=S+Z+1>>1,h[m+0+32]=h[m+2+64]=R+S+1>>1,h[m+0+64]=h[m+2+96]=G+R+1>>1,h[m+0+96]=J+G+1>>1,h[m+3+0]=Qt(te,re,oe),h[m+2+0]=Qt(Z,te,re),h[m+1+0]=h[m+3+32]=Qt(S,Z,te),h[m+1+32]=h[m+3+64]=Qt(R,S,Z),h[m+1+64]=h[m+3+96]=Qt(G,R,S),h[m+1+96]=Qt(J,G,R)}function c0(h,m){var S;for(S=0;8>S;++S)r(h,m+32*S,h,m-32,8)}function du(h,m){var S;for(S=0;8>S;++S)s(h,m,h[m-1],8),m+=32}function AA(h,m,S){var R;for(R=0;8>R;++R)s(m,S+32*R,h,8)}function go(h,m){var S,R=8;for(S=0;8>S;++S)R+=h[m+S-32]+h[m-1+32*S];AA(R>>4,h,m)}function u0(h,m){var S,R=4;for(S=0;8>S;++S)R+=h[m+S-32];AA(R>>3,h,m)}function lA(h,m){var S,R=4;for(S=0;8>S;++S)R+=h[m-1+32*S];AA(R>>3,h,m)}function hu(h,m){AA(128,h,m)}function ll(h,m,S){var R=h[m-S],G=h[m+0],J=3*(G-R)+m0[1020+h[m-2*S]-h[m+S]],Z=tf[112+(J+4>>3)];h[m-S]=qs[255+R+tf[112+(J+3>>3)]],h[m+0]=qs[255+G-Z]}function $h(h,m,S,R){var G=h[m+0],J=h[m+S];return fi[255+h[m-2*S]-h[m-S]]>R||fi[255+J-G]>R}function zh(h,m,S,R){return 4*fi[255+h[m-S]-h[m+0]]+fi[255+h[m-2*S]-h[m+S]]<=R}function Wh(h,m,S,R,G){var J=h[m-3*S],Z=h[m-2*S],te=h[m-S],re=h[m+0],oe=h[m+S],xe=h[m+2*S],ke=h[m+3*S];return 4*fi[255+te-re]+fi[255+Z-oe]>R?0:fi[255+h[m-4*S]-J]<=G&&fi[255+J-Z]<=G&&fi[255+Z-te]<=G&&fi[255+ke-xe]<=G&&fi[255+xe-oe]<=G&&fi[255+oe-re]<=G}function Kh(h,m,S,R){var G=2*R+1;for(R=0;16>R;++R)zh(h,m+R,S,G)&&ll(h,m+R,S)}function sa(h,m,S,R){var G=2*R+1;for(R=0;16>R;++R)zh(h,m+R*S,1,G)&&ll(h,m+R*S,1)}function Ma(h,m,S,R){var G;for(G=3;0<G;--G)Kh(h,m+=4*S,S,R)}function d0(h,m,S,R){var G;for(G=3;0<G;--G)sa(h,m+=4,S,R)}function mo(h,m,S,R,G,J,Z,te){for(J=2*J+1;0<G--;){if(Wh(h,m,S,J,Z))if($h(h,m,S,te))ll(h,m,S);else{var re=h,oe=m,xe=S,ke=re[oe-2*xe],Ne=re[oe-xe],je=re[oe+0],Je=re[oe+xe],Re=re[oe+2*xe],be=27*(qe=m0[1020+3*(je-Ne)+m0[1020+ke-Je]])+63>>7,Se=18*qe+63>>7,qe=9*qe+63>>7;re[oe-3*xe]=qs[255+re[oe-3*xe]+qe],re[oe-2*xe]=qs[255+ke+Se],re[oe-xe]=qs[255+Ne+be],re[oe+0]=qs[255+je-be],re[oe+xe]=qs[255+Je-Se],re[oe+2*xe]=qs[255+Re-qe]}m+=R}}function Pi(h,m,S,R,G,J,Z,te){for(J=2*J+1;0<G--;){if(Wh(h,m,S,J,Z))if($h(h,m,S,te))ll(h,m,S);else{var re=h,oe=m,xe=S,ke=re[oe-xe],Ne=re[oe+0],je=re[oe+xe],Je=tf[112+((Re=3*(Ne-ke))+4>>3)],Re=tf[112+(Re+3>>3)],be=Je+1>>1;re[oe-2*xe]=qs[255+re[oe-2*xe]+be],re[oe-xe]=qs[255+ke+Re],re[oe+0]=qs[255+Ne-Je],re[oe+xe]=qs[255+je-be]}m+=R}}function fu(h,m,S,R,G,J){mo(h,m,S,1,16,R,G,J)}function cA(h,m,S,R,G,J){mo(h,m,1,S,16,R,G,J)}function h0(h,m,S,R,G,J){var Z;for(Z=3;0<Z;--Z)Pi(h,m+=4*S,S,1,16,R,G,J)}function cl(h,m,S,R,G,J){var Z;for(Z=3;0<Z;--Z)Pi(h,m+=4,1,S,16,R,G,J)}function f0(h,m,S,R,G,J,Z,te){mo(h,m,G,1,8,J,Z,te),mo(S,R,G,1,8,J,Z,te)}function pu(h,m,S,R,G,J,Z,te){mo(h,m,1,G,8,J,Z,te),mo(S,R,1,G,8,J,Z,te)}function gu(h,m,S,R,G,J,Z,te){Pi(h,m+4*G,G,1,8,J,Z,te),Pi(S,R+4*G,G,1,8,J,Z,te)}function Vh(h,m,S,R,G,J,Z,te){Pi(h,m+4,1,G,8,J,Z,te),Pi(S,R+4,1,G,8,J,Z,te)}function ul(){this.ba=new Xt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Mt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function mu(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function vu(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Gh(){this.ua=0,this.Wa=new se,this.vb=new se,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new P,this.yc=new I}function p0(){this.xb=this.a=0,this.l=new sl,this.ca=new Xt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new M,this.Pb=0,this.wd=new M,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Gh,this.ab=0,this.gc=o(4,vu),this.Oc=0}function dl(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new sl,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function uA(h,m,S,R,G,J,Z){for(h=h==null?0:h[m+0],m=0;m<Z;++m)G[J+m]=h+S[R+m]&255,h=G[J+m]}function yu(h,m,S,R,G,J,Z){var te;if(h==null)uA(null,null,S,R,G,J,Z);else for(te=0;te<Z;++te)G[J+te]=h[m+te]+S[R+te]&255}function vo(h,m,S,R,G,J,Z){if(h==null)uA(null,null,S,R,G,J,Z);else{var te,re=h[m+0],oe=re,xe=re;for(te=0;te<Z;++te)oe=xe+(re=h[m+te])-oe,xe=S[R+te]+(-256&oe?0>oe?0:255:oe)&255,oe=re,G[J+te]=xe}}function xu(h,m,S,R){var G=m.width,J=m.o;if(t(h!=null&&m!=null),0>S||0>=R||S+R>J)return null;if(!h.Cc){if(h.ga==null){var Z;if(h.ga=new dl,(Z=h.ga==null)||(Z=m.width*m.o,t(h.Gb.length==0),h.Gb=i(Z),h.Uc=0,h.Gb==null?Z=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,Z=1),Z=!Z),!Z){Z=h.ga;var te=h.Fa,re=h.P,oe=h.qc,xe=h.mb,ke=h.nb,Ne=re+1,je=oe-1,Je=Z.l;if(t(te!=null&&xe!=null&&m!=null),Co[0]=null,Co[1]=uA,Co[2]=yu,Co[3]=vo,Z.ca=xe,Z.tb=ke,Z.c=m.width,Z.i=m.height,t(0<Z.c&&0<Z.i),1>=oe)m=0;else if(Z.$a=te[re+0]>>0&3,Z.Z=te[re+0]>>2&3,Z.Lc=te[re+0]>>4&3,re=te[re+0]>>6&3,0>Z.$a||1<Z.$a||4<=Z.Z||1<Z.Lc||re)m=0;else if(Je.put=Qr,Je.ac=Jt,Je.bc=sr,Je.ma=Z,Je.width=m.width,Je.height=m.height,Je.Da=m.Da,Je.v=m.v,Je.va=m.va,Je.j=m.j,Je.o=m.o,Z.$a)e:{t(Z.$a==1),m=_s();t:for(;;){if(m==null){m=0;break e}if(t(Z!=null),Z.mc=m,m.c=Z.c,m.i=Z.i,m.l=Z.l,m.l.ma=Z,m.l.width=Z.c,m.l.height=Z.i,m.a=0,$(m.m,te,Ne,je),!li(Z.c,Z.i,1,m,null)||(m.ab==1&&m.gc[0].hc==3&&Vs(m.s)?(Z.ic=1,te=m.c*m.i,m.Ta=null,m.Ua=0,m.V=i(te),m.Ba=0,m.V==null?(m.a=1,m=0):m=1):(Z.ic=0,m=La(m,Z.c)),!m))break t;m=1;break e}Z.mc=null,m=0}else m=je>=Z.c*Z.i;Z=!m}if(Z)return null;h.ga.Lc!=1?h.Ga=0:R=J-S}t(h.ga!=null),t(S+R<=J);e:{if(m=(te=h.ga).c,J=te.l.o,te.$a==0){if(Ne=h.rc,je=h.Vc,Je=h.Fa,re=h.P+1+S*m,oe=h.mb,xe=h.nb+S*m,t(re<=h.P+h.qc),te.Z!=0)for(t(Co[te.Z]!=null),Z=0;Z<R;++Z)Co[te.Z](Ne,je,Je,re,oe,xe,m),Ne=oe,je=xe,xe+=m,re+=m;else for(Z=0;Z<R;++Z)r(oe,xe,Je,re,m),Ne=oe,je=xe,xe+=m,re+=m;h.rc=Ne,h.Vc=je}else{if(t(te.mc!=null),m=S+R,t((Z=te.mc)!=null),t(m<=Z.i),Z.C>=m)m=1;else if(te.ic||Fe(),te.ic){te=Z.V,Ne=Z.Ba,je=Z.c;var Re=Z.i,be=(Je=1,re=Z.$/je,oe=Z.$%je,xe=Z.m,ke=Z.s,Z.$),Se=je*Re,qe=je*m,Ze=ke.wc,Xe=be<qe?Zn(ke,oe,re):null;t(be<=Se),t(m<=Re),t(Vs(ke));t:for(;;){for(;!xe.h&&be<qe;){if(oe&Ze||(Xe=Zn(ke,oe,re)),t(Xe!=null),Y(xe),256>(Re=Ln(Xe.G[0],Xe.H[0],xe)))te[Ne+be]=Re,++be,++oe>=je&&(oe=0,++re<=m&&!(re%16)&&ks(Z,re));else{if(!(280>Re)){Je=0;break t}Re=en(Re-256,xe);var vt,ct=Ln(Xe.G[4],Xe.H[4],xe);if(Y(xe),!(be>=(ct=kt(je,ct=en(ct,xe)))&&Se-be>=Re)){Je=0;break t}for(vt=0;vt<Re;++vt)te[Ne+be+vt]=te[Ne+be+vt-ct];for(be+=Re,oe+=Re;oe>=je;)oe-=je,++re<=m&&!(re%16)&&ks(Z,re);be<qe&&oe&Ze&&(Xe=Zn(ke,oe,re))}t(xe.h==V(xe))}ks(Z,re>m?m:re);break t}!Je||xe.h&&be<Se?(Je=0,Z.a=xe.h?5:3):Z.$=be,m=Je}else m=Ns(Z,Z.V,Z.Ba,Z.c,Z.i,m,Ht);if(!m){R=0;break e}}S+R>=J&&(h.Cc=1),R=1}if(!R)return null;if(h.Cc&&((R=h.ga)!=null&&(R.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+S*G}function C(h,m,S,R,G,J){for(;0<G--;){var Z,te=h,re=m+(S?1:0),oe=h,xe=m+(S?0:3);for(Z=0;Z<R;++Z){var ke=oe[xe+4*Z];ke!=255&&(ke*=32897,te[re+4*Z+0]=te[re+4*Z+0]*ke>>23,te[re+4*Z+1]=te[re+4*Z+1]*ke>>23,te[re+4*Z+2]=te[re+4*Z+2]*ke>>23)}m+=J}}function q(h,m,S,R,G){for(;0<R--;){var J;for(J=0;J<S;++J){var Z=h[m+2*J+0],te=15&(oe=h[m+2*J+1]),re=4369*te,oe=(240&oe|oe>>4)*re>>16;h[m+2*J+0]=(240&Z|Z>>4)*re>>16&240|(15&Z|Z<<4)*re>>16>>4&15,h[m+2*J+1]=240&oe|te}m+=G}}function ue(h,m,S,R,G,J,Z,te){var re,oe,xe=255;for(oe=0;oe<G;++oe){for(re=0;re<R;++re){var ke=h[m+re];J[Z+4*re]=ke,xe&=ke}m+=S,Z+=te}return xe!=255}function ve(h,m,S,R,G){var J;for(J=0;J<G;++J)S[R+J]=h[m+J]>>8}function Fe(){hi=C,$n=q,zn=ue,pr=ve}function ze(h,m,S){N[h]=function(R,G,J,Z,te,re,oe,xe,ke,Ne,je,Je,Re,be,Se,qe,Ze){var Xe,vt=Ze-1>>1,ct=te[re+0]|oe[xe+0]<<16,Tt=ke[Ne+0]|je[Je+0]<<16;t(R!=null);var dt=3*ct+Tt+131074>>2;for(m(R[G+0],255&dt,dt>>16,Re,be),J!=null&&(dt=3*Tt+ct+131074>>2,m(J[Z+0],255&dt,dt>>16,Se,qe)),Xe=1;Xe<=vt;++Xe){var Sn=te[re+Xe]|oe[xe+Xe]<<16,_n=ke[Ne+Xe]|je[Je+Xe]<<16,xn=ct+Sn+Tt+_n+524296,sn=xn+2*(Sn+Tt)>>3;dt=sn+ct>>1,ct=(xn=xn+2*(ct+_n)>>3)+Sn>>1,m(R[G+2*Xe-1],255&dt,dt>>16,Re,be+(2*Xe-1)*S),m(R[G+2*Xe-0],255&ct,ct>>16,Re,be+(2*Xe-0)*S),J!=null&&(dt=xn+Tt>>1,ct=sn+_n>>1,m(J[Z+2*Xe-1],255&dt,dt>>16,Se,qe+(2*Xe-1)*S),m(J[Z+2*Xe+0],255&ct,ct>>16,Se,qe+(2*Xe+0)*S)),ct=Sn,Tt=_n}1&Ze||(dt=3*ct+Tt+131074>>2,m(R[G+Ze-1],255&dt,dt>>16,Re,be+(Ze-1)*S),J!=null&&(dt=3*Tt+ct+131074>>2,m(J[Z+Ze-1],255&dt,dt>>16,Se,qe+(Ze-1)*S)))}}function tt(){pi[nf]=aI,pi[rf]=ab,pi[tb]=oI,pi[sf]=ob,pi[af]=Ab,pi[v0]=lb,pi[nb]=AI,pi[y0]=ab,pi[x0]=ob,pi[of]=Ab,pi[b0]=lb}function gt(h){return h&-16384?0>h?0:255:h>>lI}function _t(h,m){return gt((19077*h>>8)+(26149*m>>8)-14234)}function Ot(h,m,S){return gt((19077*h>>8)-(6419*m>>8)-(13320*S>>8)+8708)}function Pt(h,m){return gt((19077*h>>8)+(33050*m>>8)-17685)}function pn(h,m,S,R,G){R[G+0]=_t(h,S),R[G+1]=Ot(h,m,S),R[G+2]=Pt(h,m)}function nr(h,m,S,R,G){R[G+0]=Pt(h,m),R[G+1]=Ot(h,m,S),R[G+2]=_t(h,S)}function ir(h,m,S,R,G){var J=Ot(h,m,S);m=J<<3&224|Pt(h,m)>>3,R[G+0]=248&_t(h,S)|J>>5,R[G+1]=m}function Ir(h,m,S,R,G){var J=240&Pt(h,m)|15;R[G+0]=240&_t(h,S)|Ot(h,m,S)>>4,R[G+1]=J}function ss(h,m,S,R,G){R[G+0]=255,pn(h,m,S,R,G+1)}function Pr(h,m,S,R,G){nr(h,m,S,R,G),R[G+3]=255}function Ri(h,m,S,R,G){pn(h,m,S,R,G),R[G+3]=255}function Gs(h,m){return 0>h?0:h>m?m:h}function ia(h,m,S){N[h]=function(R,G,J,Z,te,re,oe,xe,ke){for(var Ne=xe+(-2&ke)*S;xe!=Ne;)m(R[G+0],J[Z+0],te[re+0],oe,xe),m(R[G+1],J[Z+0],te[re+0],oe,xe+S),G+=2,++Z,++re,xe+=2*S;1&ke&&m(R[G+0],J[Z+0],te[re+0],oe,xe)}}function qh(h,m,S){return S==0?h==0?m==0?6:5:m==0?4:0:S}function bu(h,m,S,R,G){switch(h>>>30){case 3:Ra(m,S,R,G,0);break;case 2:fr(m,S,R,G);break;case 1:xs(m,S,R,G)}}function wu(h,m){var S,R,G=m.M,J=m.Nb,Z=h.oc,te=h.pc+40,re=h.oc,oe=h.pc+584,xe=h.oc,ke=h.pc+600;for(S=0;16>S;++S)Z[te+32*S-1]=129;for(S=0;8>S;++S)re[oe+32*S-1]=129,xe[ke+32*S-1]=129;for(0<G?Z[te-1-32]=re[oe-1-32]=xe[ke-1-32]=129:(s(Z,te-32-1,127,21),s(re,oe-32-1,127,9),s(xe,ke-32-1,127,9)),R=0;R<h.za;++R){var Ne=m.ya[m.aa+R];if(0<R){for(S=-1;16>S;++S)r(Z,te+32*S-4,Z,te+32*S+12,4);for(S=-1;8>S;++S)r(re,oe+32*S-4,re,oe+32*S+4,4),r(xe,ke+32*S-4,xe,ke+32*S+4,4)}var je=h.Gd,Je=h.Hd+R,Re=Ne.ad,be=Ne.Hc;if(0<G&&(r(Z,te-32,je[Je].y,0,16),r(re,oe-32,je[Je].f,0,8),r(xe,ke-32,je[Je].ea,0,8)),Ne.Za){var Se=Z,qe=te-32+16;for(0<G&&(R>=h.za-1?s(Se,qe,je[Je].y[15],4):r(Se,qe,je[Je+1].y,0,4)),S=0;4>S;S++)Se[qe+128+S]=Se[qe+256+S]=Se[qe+384+S]=Se[qe+0+S];for(S=0;16>S;++S,be<<=2)Se=Z,qe=te+ub[S],Hi[Ne.Ob[S]](Se,qe),bu(be,Re,16*+S,Se,qe)}else if(Se=qh(R,G,Ne.Ob[0]),Bo[Se](Z,te),be!=0)for(S=0;16>S;++S,be<<=2)bu(be,Re,16*+S,Z,te+ub[S]);for(S=Ne.Gc,Se=qh(R,G,Ne.Dd),Oa[Se](re,oe),Oa[Se](xe,ke),be=Re,Se=re,qe=oe,255&(Ne=S>>0)&&(170&Ne?ju(be,256,Se,qe):ui(be,256,Se,qe)),Ne=xe,be=ke,255&(S>>=8)&&(170&S?ju(Re,320,Ne,be):ui(Re,320,Ne,be)),G<h.Ub-1&&(r(je[Je].y,0,Z,te+480,16),r(je[Je].f,0,re,oe+224,8),r(je[Je].ea,0,xe,ke+224,8)),S=8*J*h.B,je=h.sa,Je=h.ta+16*R+16*J*h.R,Re=h.qa,Ne=h.ra+8*R+S,be=h.Ha,Se=h.Ia+8*R+S,S=0;16>S;++S)r(je,Je+S*h.R,Z,te+32*S,16);for(S=0;8>S;++S)r(Re,Ne+S*h.B,re,oe+32*S,8),r(be,Se+S*h.B,xe,ke+32*S,8)}}function hl(h,m,S,R,G,J,Z,te,re){var oe=[0],xe=[0],ke=0,Ne=re!=null?re.kd:0,je=re??new mu;if(h==null||12>S)return 7;je.data=h,je.w=m,je.ha=S,m=[m],S=[S],je.gb=[je.gb];e:{var Je=m,Re=S,be=je.gb;if(t(h!=null),t(Re!=null),t(be!=null),be[0]=0,12<=Re[0]&&!n(h,Je[0],"RIFF")){if(n(h,Je[0]+8,"WEBP")){be=3;break e}var Se=de(h,Je[0]+4);if(12>Se||4294967286<Se){be=3;break e}if(Ne&&Se>Re[0]-8){be=7;break e}be[0]=Se,Je[0]+=12,Re[0]-=12}be=0}if(be!=0)return be;for(Se=0<je.gb[0],S=S[0];;){e:{var qe=h;Re=m,be=S;var Ze=oe,Xe=xe,vt=Je=[0];if((dt=ke=[ke])[0]=0,8>be[0])be=7;else{if(!n(qe,Re[0],"VP8X")){if(de(qe,Re[0]+4)!=10){be=3;break e}if(18>be[0]){be=7;break e}var ct=de(qe,Re[0]+8),Tt=1+we(qe,Re[0]+12);if(2147483648<=Tt*(qe=1+we(qe,Re[0]+15))){be=3;break e}vt!=null&&(vt[0]=ct),Ze!=null&&(Ze[0]=Tt),Xe!=null&&(Xe[0]=qe),Re[0]+=18,be[0]-=18,dt[0]=1}be=0}}if(ke=ke[0],Je=Je[0],be!=0)return be;if(Re=!!(2&Je),!Se&&ke)return 3;if(J!=null&&(J[0]=!!(16&Je)),Z!=null&&(Z[0]=Re),te!=null&&(te[0]=0),Z=oe[0],Je=xe[0],ke&&Re&&re==null){be=0;break}if(4>S){be=7;break}if(Se&&ke||!Se&&!ke&&!n(h,m[0],"ALPH")){S=[S],je.na=[je.na],je.P=[je.P],je.Sa=[je.Sa];e:{ct=h,be=m,Se=S;var dt=je.gb;Ze=je.na,Xe=je.P,vt=je.Sa,Tt=22,t(ct!=null),t(Se!=null),qe=be[0];var Sn=Se[0];for(t(Ze!=null),t(vt!=null),Ze[0]=null,Xe[0]=null,vt[0]=0;;){if(be[0]=qe,Se[0]=Sn,8>Sn){be=7;break e}var _n=de(ct,qe+4);if(4294967286<_n){be=3;break e}var xn=8+_n+1&-2;if(Tt+=xn,0<dt&&Tt>dt){be=3;break e}if(!n(ct,qe,"VP8 ")||!n(ct,qe,"VP8L")){be=0;break e}if(Sn[0]<xn){be=7;break e}n(ct,qe,"ALPH")||(Ze[0]=ct,Xe[0]=qe+8,vt[0]=_n),qe+=xn,Sn-=xn}}if(S=S[0],je.na=je.na[0],je.P=je.P[0],je.Sa=je.Sa[0],be!=0)break}S=[S],je.Ja=[je.Ja],je.xa=[je.xa];e:if(dt=h,be=m,Se=S,Ze=je.gb[0],Xe=je.Ja,vt=je.xa,ct=be[0],qe=!n(dt,ct,"VP8 "),Tt=!n(dt,ct,"VP8L"),t(dt!=null),t(Se!=null),t(Xe!=null),t(vt!=null),8>Se[0])be=7;else{if(qe||Tt){if(dt=de(dt,ct+4),12<=Ze&&dt>Ze-12){be=3;break e}if(Ne&&dt>Se[0]-8){be=7;break e}Xe[0]=dt,be[0]+=8,Se[0]-=8,vt[0]=Tt}else vt[0]=5<=Se[0]&&dt[ct+0]==47&&!(dt[ct+4]>>5),Xe[0]=Se[0];be=0}if(S=S[0],je.Ja=je.Ja[0],je.xa=je.xa[0],m=m[0],be!=0)break;if(4294967286<je.Ja)return 3;if(te==null||Re||(te[0]=je.xa?2:1),Z=[Z],Je=[Je],je.xa){if(5>S){be=7;break}te=Z,Ne=Je,Re=J,h==null||5>S?h=0:5<=S&&h[m+0]==47&&!(h[m+4]>>5)?(Se=[0],dt=[0],Ze=[0],$(Xe=new M,h,m,S),Ct(Xe,Se,dt,Ze)?(te!=null&&(te[0]=Se[0]),Ne!=null&&(Ne[0]=dt[0]),Re!=null&&(Re[0]=Ze[0]),h=1):h=0):h=0}else{if(10>S){be=7;break}te=Je,h==null||10>S||!Th(h,m+3,S-3)?h=0:(Ne=h[m+0]|h[m+1]<<8|h[m+2]<<16,Re=16383&(h[m+7]<<8|h[m+6]),h=16383&(h[m+9]<<8|h[m+8]),1&Ne||3<(Ne>>1&7)||!(Ne>>4&1)||Ne>>5>=je.Ja||!Re||!h?h=0:(Z&&(Z[0]=Re),te&&(te[0]=h),h=1))}if(!h||(Z=Z[0],Je=Je[0],ke&&(oe[0]!=Z||xe[0]!=Je)))return 3;re!=null&&(re[0]=je,re.offset=m-re.w,t(4294967286>m-re.w),t(re.offset==re.ha-S));break}return be==0||be==7&&ke&&re==null?(J!=null&&(J[0]|=je.na!=null&&0<je.na.length),R!=null&&(R[0]=Z),G!=null&&(G[0]=Je),0):be}function Bu(h,m,S){var R=m.width,G=m.height,J=0,Z=0,te=R,re=G;if(m.Da=h!=null&&0<h.Da,m.Da&&(te=h.cd,re=h.bd,J=h.v,Z=h.j,11>S||(J&=-2,Z&=-2),0>J||0>Z||0>=te||0>=re||J+te>R||Z+re>G))return 0;if(m.v=J,m.j=Z,m.va=J+te,m.o=Z+re,m.U=te,m.T=re,m.da=h!=null&&0<h.da,m.da){if(!me(te,re,S=[h.ib],J=[h.hb]))return 0;m.ib=S[0],m.hb=J[0]}return m.ob=h!=null&&h.ob,m.Kb=h==null||!h.Sd,m.da&&(m.ob=m.ib<3*R/4&&m.hb<3*G/4,m.Kb=0),1}function Cu(h){if(h==null)return 2;if(11>h.S){var m=h.f.RGBA;m.fb+=(h.height-1)*m.A,m.A=-m.A}else m=h.f.kb,h=h.height,m.O+=(h-1)*m.fa,m.fa=-m.fa,m.N+=(h-1>>1)*m.Ab,m.Ab=-m.Ab,m.W+=(h-1>>1)*m.Db,m.Db=-m.Db,m.F!=null&&(m.J+=(h-1)*m.lb,m.lb=-m.lb);return 0}function fl(h,m,S,R){if(R==null||0>=h||0>=m)return 2;if(S!=null){if(S.Da){var G=S.cd,J=S.bd,Z=-2&S.v,te=-2&S.j;if(0>Z||0>te||0>=G||0>=J||Z+G>h||te+J>m)return 2;h=G,m=J}if(S.da){if(!me(h,m,G=[S.ib],J=[S.hb]))return 2;h=G[0],m=J[0]}}R.width=h,R.height=m;e:{var re=R.width,oe=R.height;if(h=R.S,0>=re||0>=oe||!(h>=nf&&13>h))h=2;else{if(0>=R.Rd&&R.sd==null){Z=J=G=m=0;var xe=(te=re*db[h])*oe;if(11>h||(J=(oe+1)/2*(m=(re+1)/2),h==12&&(Z=(G=re)*oe)),(oe=i(xe+2*J+Z))==null){h=1;break e}R.sd=oe,11>h?((re=R.f.RGBA).eb=oe,re.fb=0,re.A=te,re.size=xe):((re=R.f.kb).y=oe,re.O=0,re.fa=te,re.Fd=xe,re.f=oe,re.N=0+xe,re.Ab=m,re.Cd=J,re.ea=oe,re.W=0+xe+J,re.Db=m,re.Ed=J,h==12&&(re.F=oe,re.J=0+xe+2*J),re.Tc=Z,re.lb=G)}if(m=1,G=R.S,J=R.width,Z=R.height,G>=nf&&13>G)if(11>G)h=R.f.RGBA,m&=(te=Math.abs(h.A))*(Z-1)+J<=h.size,m&=te>=J*db[G],m&=h.eb!=null;else{h=R.f.kb,te=(J+1)/2,xe=(Z+1)/2,re=Math.abs(h.fa),oe=Math.abs(h.Ab);var ke=Math.abs(h.Db),Ne=Math.abs(h.lb),je=Ne*(Z-1)+J;m&=re*(Z-1)+J<=h.Fd,m&=oe*(xe-1)+te<=h.Cd,m=(m&=ke*(xe-1)+te<=h.Ed)&re>=J&oe>=te&ke>=te,m&=h.y!=null,m&=h.f!=null,m&=h.ea!=null,G==12&&(m&=Ne>=J,m&=je<=h.Tc,m&=h.F!=null)}else m=0;h=m?0:2}}return h!=0||S!=null&&S.fd&&(h=Cu(R)),h}var qr=64,pl=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],gl=24,ml=32,Su=8,Us=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];he("Predictor0","PredictorAdd0"),N.Predictor0=function(){return 4278190080},N.Predictor1=function(h){return h},N.Predictor2=function(h,m,S){return m[S+0]},N.Predictor3=function(h,m,S){return m[S+1]},N.Predictor4=function(h,m,S){return m[S-1]},N.Predictor5=function(h,m,S){return Ce(Ce(h,m[S+1]),m[S+0])},N.Predictor6=function(h,m,S){return Ce(h,m[S-1])},N.Predictor7=function(h,m,S){return Ce(h,m[S+0])},N.Predictor8=function(h,m,S){return Ce(m[S-1],m[S+0])},N.Predictor9=function(h,m,S){return Ce(m[S+0],m[S+1])},N.Predictor10=function(h,m,S){return Ce(Ce(h,m[S-1]),Ce(m[S+0],m[S+1]))},N.Predictor11=function(h,m,S){var R=m[S+0];return 0>=We(R>>24&255,h>>24&255,(m=m[S-1])>>24&255)+We(R>>16&255,h>>16&255,m>>16&255)+We(R>>8&255,h>>8&255,m>>8&255)+We(255&R,255&h,255&m)?R:h},N.Predictor12=function(h,m,S){var R=m[S+0];return(ye((h>>24&255)+(R>>24&255)-((m=m[S-1])>>24&255))<<24|ye((h>>16&255)+(R>>16&255)-(m>>16&255))<<16|ye((h>>8&255)+(R>>8&255)-(m>>8&255))<<8|ye((255&h)+(255&R)-(255&m)))>>>0},N.Predictor13=function(h,m,S){var R=m[S-1];return(Le((h=Ce(h,m[S+0]))>>24&255,R>>24&255)<<24|Le(h>>16&255,R>>16&255)<<16|Le(h>>8&255,R>>8&255)<<8|Le(h>>0&255,R>>0&255))>>>0};var g0=N.PredictorAdd0;N.PredictorAdd1=De,he("Predictor2","PredictorAdd2"),he("Predictor3","PredictorAdd3"),he("Predictor4","PredictorAdd4"),he("Predictor5","PredictorAdd5"),he("Predictor6","PredictorAdd6"),he("Predictor7","PredictorAdd7"),he("Predictor8","PredictorAdd8"),he("Predictor9","PredictorAdd9"),he("Predictor10","PredictorAdd10"),he("Predictor11","PredictorAdd11"),he("Predictor12","PredictorAdd12"),he("Predictor13","PredictorAdd13");var Eu=N.PredictorAdd2;Me("ColorIndexInverseTransform","MapARGB","32b",function(h){return h>>8&255},function(h){return h}),Me("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(h){return h},function(h){return h>>8&255});var Yh,ci=N.ColorIndexInverseTransform,vl=N.MapARGB,Xh=N.VP8LColorIndexInverseTransformAlpha,Jh=N.MapAlpha,yo=N.VP8LPredictorsAdd=[];yo.length=16,(N.VP8LPredictors=[]).length=16,(N.VP8LPredictorsAdd_C=[]).length=16,(N.VP8LPredictors_C=[]).length=16;var dA,Ls,ys,xo,Qa,Pa,yl,Ra,fr,ju,xs,ui,xl,Zh,Iu,hA,fA,bo,pA,bl,gA,wo,Fu,di,hi,$n,zn,pr,Tr=i(511),Ha=i(2041),ku=i(225),wl=i(767),ef=0,m0=Ha,tf=ku,qs=wl,fi=Tr,nf=0,rf=1,tb=2,sf=3,af=4,v0=5,nb=6,y0=7,x0=8,of=9,b0=10,Kj=[2,3,7],Vj=[3,3,11],rb=[280,256,256,256,40],Gj=[0,1,1,1,0],qj=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Yj=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Xj=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Jj=8,w0=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],B0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Nu=null,Zj=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],eI=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],sb=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],tI=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],nI=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],rI=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],sI=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Bo=[],Hi=[],Oa=[],iI=1,ib=2,Co=[],pi=[];ze("UpsampleRgbLinePair",pn,3),ze("UpsampleBgrLinePair",nr,3),ze("UpsampleRgbaLinePair",Ri,4),ze("UpsampleBgraLinePair",Pr,4),ze("UpsampleArgbLinePair",ss,4),ze("UpsampleRgba4444LinePair",Ir,2),ze("UpsampleRgb565LinePair",ir,2);var aI=N.UpsampleRgbLinePair,oI=N.UpsampleBgrLinePair,ab=N.UpsampleRgbaLinePair,ob=N.UpsampleBgraLinePair,Ab=N.UpsampleArgbLinePair,lb=N.UpsampleRgba4444LinePair,AI=N.UpsampleRgb565LinePair,Af=16,lf=1<<Af-1,_u=-227,C0=482,lI=6,cb=0,cI=i(256),uI=i(256),dI=i(256),hI=i(256),fI=i(C0-_u),pI=i(C0-_u);ia("YuvToRgbRow",pn,3),ia("YuvToBgrRow",nr,3),ia("YuvToRgbaRow",Ri,4),ia("YuvToBgraRow",Pr,4),ia("YuvToArgbRow",ss,4),ia("YuvToRgba4444Row",Ir,2),ia("YuvToRgb565Row",ir,2);var ub=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],cf=[0,2,8],gI=[8,7,6,4,4,2,2,2,1,1,1,1],mI=1;this.WebPDecodeRGBA=function(h,m,S,R,G){var J=rf,Z=new ul,te=new Xt;Z.ba=te,te.S=J,te.width=[te.width],te.height=[te.height];var re=te.width,oe=te.height,xe=new $t;if(xe==null||h==null)var ke=2;else t(xe!=null),ke=hl(h,m,S,xe.width,xe.height,xe.Pd,xe.Qd,xe.format,null);if(ke!=0?re=0:(re!=null&&(re[0]=xe.width[0]),oe!=null&&(oe[0]=xe.height[0]),re=1),re){te.width=te.width[0],te.height=te.height[0],R!=null&&(R[0]=te.width),G!=null&&(G[0]=te.height);e:{if(R=new sl,(G=new mu).data=h,G.w=m,G.ha=S,G.kd=1,m=[0],t(G!=null),((h=hl(G.data,G.w,G.ha,null,null,null,m,null,G))==0||h==7)&&m[0]&&(h=4),(m=h)==0){if(t(Z!=null),R.data=G.data,R.w=G.w+G.offset,R.ha=G.ha-G.offset,R.put=Qr,R.ac=Jt,R.bc=sr,R.ma=Z,G.xa){if((h=_s())==null){Z=1;break e}if(function(Ne,je){var Je=[0],Re=[0],be=[0];t:for(;;){if(Ne==null)return 0;if(je==null)return Ne.a=2,0;if(Ne.l=je,Ne.a=0,$(Ne.m,je.data,je.w,je.ha),!Ct(Ne.m,Je,Re,be)){Ne.a=3;break t}if(Ne.xb=ib,je.width=Je[0],je.height=Re[0],!li(Je[0],Re[0],1,Ne,null))break t;return 1}return t(Ne.a!=0),0}(h,R)){if(R=(m=fl(R.width,R.height,Z.Oa,Z.ba))==0){t:{R=h;n:for(;;){if(R==null){R=0;break t}if(t(R.s.yc!=null),t(R.s.Ya!=null),t(0<R.s.Wb),t((S=R.l)!=null),t((G=S.ma)!=null),R.xb!=0){if(R.ca=G.ba,R.tb=G.tb,t(R.ca!=null),!Bu(G.Oa,S,sf)){R.a=2;break n}if(!La(R,S.width)||S.da)break n;if((S.da||rt(R.ca.S))&&Fe(),11>R.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),R.ca.f.kb.F!=null&&Fe()),R.Pb&&0<R.s.ua&&R.s.vb.X==null&&!Be(R.s.vb,R.s.Wa.Xa)){R.a=1;break n}R.xb=0}if(!Ns(R,R.V,R.Ba,R.c,R.i,S.o,oi))break n;G.Dc=R.Ma,R=1;break t}t(R.a!=0),R=0}R=!R}R&&(m=h.a)}else m=h.a}else{if((h=new Xm)==null){Z=1;break e}if(h.Fa=G.na,h.P=G.P,h.qc=G.Sa,Uh(h,R)){if((m=fl(R.width,R.height,Z.Oa,Z.ba))==0){if(h.Aa=0,S=Z.Oa,t((G=h)!=null),S!=null){if(0<(re=0>(re=S.Md)?0:100<re?255:255*re/100)){for(oe=xe=0;4>oe;++oe)12>(ke=G.pb[oe]).lc&&(ke.ia=re*gI[0>ke.lc?0:ke.lc]>>3),xe|=ke.ia;xe&&(alert("todo:VP8InitRandom"),G.ia=1)}G.Ga=S.Id,100<G.Ga?G.Ga=100:0>G.Ga&&(G.Ga=0)}Jm(h,R)||(m=h.a)}}else m=h.a}m==0&&Z.Oa!=null&&Z.Oa.fd&&(m=Cu(Z.ba))}Z=m}J=Z!=0?null:11>J?te.f.RGBA.eb:te.f.kb.y}else J=null;return J};var db=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(N,U){for(var L="",E=0;E<4;E++)L+=String.fromCharCode(N[U++]);return L}function u(N,U){return(N[U+0]<<0|N[U+1]<<8|N[U+2]<<16)>>>0}function d(N,U){return(N[U+0]<<0|N[U+1]<<8|N[U+2]<<16|N[U+3]<<24)>>>0}new l;var p=[0],f=[0],v=[],g=new l,y=e,x=function(N,U){var L={},E=0,I=!1,T=0,P=0;if(L.frames=[],!function(W,V,X,Y){for(var ee=0;ee<Y;ee++)if(W[V+ee]!=X.charCodeAt(ee))return!0;return!1}(N,U,"RIFF",4)){for(d(N,U+=4),U+=8;U<N.length;){var K=c(N,U),Q=d(N,U+=4);U+=4;var F=Q+(1&Q);switch(K){case"VP8 ":case"VP8L":L.frames[E]===void 0&&(L.frames[E]={}),(H=L.frames[E]).src_off=I?P:U-8,H.src_size=T+Q+8,E++,I&&(I=!1,T=0,P=0);break;case"VP8X":(H=L.header={}).feature_flags=N[U];var $=U+4;H.canvas_width=1+u(N,$),$+=3,H.canvas_height=1+u(N,$),$+=3;break;case"ALPH":I=!0,T=F+8,P=U-8;break;case"ANIM":(H=L.header).bgcolor=d(N,U),$=U+4,H.loop_count=(ie=N)[(M=$)+0]<<0|ie[M+1]<<8,$+=2;break;case"ANMF":var O,H;(H=L.frames[E]={}).offset_x=2*u(N,U),U+=3,H.offset_y=2*u(N,U),U+=3,H.width=1+u(N,U),U+=3,H.height=1+u(N,U),U+=3,H.duration=u(N,U),U+=3,O=N[U++],H.dispose=1&O,H.blend=O>>1&1}K!="ANMF"&&(U+=F)}var ie,M;return L}}(y,0);x.response=y,x.rgbaoutput=!0,x.dataurl=!1;var w=x.header?x.header:null,b=x.frames?x.frames:null;if(w){w.loop_counter=w.loop_count,p=[w.canvas_height],f=[w.canvas_width];for(var j=0;j<b.length&&b[j].blend!=0;j++);}var _=b[0],k=g.WebPDecodeRGBA(y,_.src_off,_.src_size,f,p);_.rgba=k,_.imgwidth=f[0],_.imgheight=p[0];for(var D=0;D<f[0]*p[0]*4;D++)v[D]=k[D];return this.width=f,this.height=p,this.data=v,this}(function(e){var t=function(){return typeof P1=="function"},n=function(p,f,v,g){var y=4,x=o;switch(g){case e.image_compression.FAST:y=1,x=i;break;case e.image_compression.MEDIUM:y=6,x=A;break;case e.image_compression.SLOW:y=9,x=l}p=r(p,f,v,x);var w=P1(p,{level:y});return e.__addimage__.arrayBufferToBinaryString(w)},r=function(p,f,v,g){for(var y,x,w,b=p.length/f,j=new Uint8Array(p.length+b),_=u(),k=0;k<b;k+=1){if(w=k*f,y=p.subarray(w,w+f),g)j.set(g(y,v,x),w+k);else{for(var D,N=_.length,U=[];D<N;D+=1)U[D]=_[D](y,v,x);var L=d(U.concat());j.set(U[L],w+k)}x=y}return j},s=function(p){var f=Array.apply([],p);return f.unshift(0),f},i=function(p,f){var v,g=[],y=p.length;g[0]=1;for(var x=0;x<y;x+=1)v=p[x-f]||0,g[x+1]=p[x]-v+256&255;return g},o=function(p,f,v){var g,y=[],x=p.length;y[0]=2;for(var w=0;w<x;w+=1)g=v&&v[w]||0,y[w+1]=p[w]-g+256&255;return y},A=function(p,f,v){var g,y,x=[],w=p.length;x[0]=3;for(var b=0;b<w;b+=1)g=p[b-f]||0,y=v&&v[b]||0,x[b+1]=p[b]+256-(g+y>>>1)&255;return x},l=function(p,f,v){var g,y,x,w,b=[],j=p.length;b[0]=4;for(var _=0;_<j;_+=1)g=p[_-f]||0,y=v&&v[_]||0,x=v&&v[_-f]||0,w=c(g,y,x),b[_+1]=p[_]-w+256&255;return b},c=function(p,f,v){if(p===f&&f===v)return p;var g=Math.abs(f-v),y=Math.abs(p-v),x=Math.abs(p+f-v-v);return g<=y&&g<=x?p:y<=x?f:v},u=function(){return[s,i,o,A,l]},d=function(p){var f=p.map(function(v){return v.reduce(function(g,y){return g+Math.abs(y)},0)});return f.indexOf(Math.min.apply(null,f))};e.processPNG=function(p,f,v,g){var y,x,w,b,j,_,k,D,N,U,L,E,I,T,P,K=this.decode.FLATE_DECODE,Q="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(w=new az(p)).imgData,x=w.bits,y=w.colorSpace,j=w.colors,[4,6].indexOf(w.colorType)!==-1){if(w.bits===8){N=(D=w.pixelBitlength==32?new Uint32Array(w.decodePixels().buffer):w.pixelBitlength==16?new Uint16Array(w.decodePixels().buffer):new Uint8Array(w.decodePixels().buffer)).length,L=new Uint8Array(N*w.colors),U=new Uint8Array(N);var F,$=w.pixelBitlength-w.bits;for(T=0,P=0;T<N;T++){for(I=D[T],F=0;F<$;)L[P++]=I>>>F&255,F+=w.bits;U[T]=I>>>F&255}}if(w.bits===16){N=(D=new Uint32Array(w.decodePixels().buffer)).length,L=new Uint8Array(N*(32/w.pixelBitlength)*w.colors),U=new Uint8Array(N*(32/w.pixelBitlength)),E=w.colors>1,T=0,P=0;for(var O=0;T<N;)I=D[T++],L[P++]=I>>>0&255,E&&(L[P++]=I>>>16&255,I=D[T++],L[P++]=I>>>0&255),U[O++]=I>>>16&255;x=8}g!==e.image_compression.NONE&&t()?(p=n(L,w.width*w.colors,w.colors,g),k=n(U,w.width,1,g)):(p=L,k=U,K=void 0)}if(w.colorType===3&&(y=this.color_spaces.INDEXED,_=w.palette,w.transparency.indexed)){var H=w.transparency.indexed,ie=0;for(T=0,N=H.length;T<N;++T)ie+=H[T];if((ie/=255)===N-1&&H.indexOf(0)!==-1)b=[H.indexOf(0)];else if(ie!==N){for(D=w.decodePixels(),U=new Uint8Array(D.length),T=0,N=D.length;T<N;T++)U[T]=H[D[T]];k=n(U,w.width,1)}}var M=function(W){var V;switch(W){case e.image_compression.FAST:V=11;break;case e.image_compression.MEDIUM:V=13;break;case e.image_compression.SLOW:V=14;break;default:V=12}return V}(g);return K===this.decode.FLATE_DECODE&&(Q="/Predictor "+M+" "),Q+="/Colors "+j+" /BitsPerComponent "+x+" /Columns "+w.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),(k&&this.__addimage__.isArrayBuffer(k)||this.__addimage__.isArrayBufferView(k))&&(k=this.__addimage__.arrayBufferToBinaryString(k)),{alias:v,data:p,index:f,filter:K,decodeParameters:Q,transparency:b,palette:_,sMask:k,predictor:M,width:w.width,height:w.height,bitsPerComponent:x,colorSpace:y}}}})(Lt.API),function(e){e.processGIF89A=function(t,n,r,s){var i=new oz(t),o=i.width,A=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:A},u=new gv(100).encode(c,100);return e.processJPEG.call(this,u,n,r,s)},e.processGIF87A=e.processGIF89A}(Lt.API),zi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:r,blue:n,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},zi.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){Hn.log("bit decode error:"+n)}},zi.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var i=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*s*4,A=0;A<8&&8*s+A<this.width;A++){var l=this.palette[i>>7-A&1];this.data[o+4*A]=l.blue,this.data[o+4*A+1]=l.green,this.data[o+4*A+2]=l.red,this.data[o+4*A+3]=255}n!==0&&(this.pos+=4-n)}},zi.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<e;s++){var i=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*s*4,A=i>>4,l=15&i,c=this.palette[A];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*s+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},zi.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+4*r;if(s<this.palette.length){var o=this.palette[s];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},zi.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,A=(i>>5&t)/t*255|0,l=(i>>10&t)/t*255|0,c=i>>15?255:0,u=r*this.width*4+4*s;this.data[u]=l,this.data[u+1]=A,this.data[u+2]=o,this.data[u+3]=c}this.pos+=e}},zi.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var A=(o&t)/t*255|0,l=(o>>5&n)/n*255|0,c=(o>>11)/t*255|0,u=s*this.width*4+4*i;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=A,this.data[u+3]=255}this.pos+=e}},zi.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},zi.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),A=t*this.width*4+4*n;this.data[A]=i,this.data[A+1]=s,this.data[A+2]=r,this.data[A+3]=o}},zi.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,s){var i=new zi(t,!1),o=i.width,A=i.height,l={data:i.getData(),width:o,height:A},c=new gv(100).encode(l,100);return e.processJPEG.call(this,c,n,r,s)}}(Lt.API),FB.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,s){var i=new FB(t),o=i.width,A=i.height,l={data:i.getData(),width:o,height:A},c=new gv(100).encode(l,100);return e.processJPEG.call(this,c,n,r,s)}}(Lt.API),Lt.API.processRGBA=function(e,t,n){for(var r=e.data,s=r.length,i=new Uint8Array(s/4*3),o=new Uint8Array(s/4),A=0,l=0,c=0;c<s;c+=4){var u=r[c],d=r[c+1],p=r[c+2],f=r[c+3];i[A++]=u,i[A++]=d,i[A++]=p,o[l++]=f}var v=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:v,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Lt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Dl=Lt.API,Df=Dl.getCharWidthsArray=function(e,t){var n,r,s=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),A=t.widths?t.widths:s.metadata.Unicode.widths,l=A.fof?A.fof:1,c=t.kerning?t.kerning:s.metadata.Unicode.kerning,u=c.fof?c.fof:1,d=t.doKerning!==!1,p=0,f=e.length,v=0,g=A[0]||l,y=[];for(n=0;n<f;n++)r=e.charCodeAt(n),typeof s.metadata.widthOfString=="function"?y.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+o*(1e3/i)||0)/1e3):(p=d&&cn(c[r])==="object"&&!isNaN(parseInt(c[r][v],10))?c[r][v]/u:0,y.push((A[r]||g)/l+p)),v=r;return y},SB=Dl.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return Dl.processArabic&&(e=Dl.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,s)/n:Df.apply(this,arguments).reduce(function(i,o){return i+o},0)},EB=function(e,t,n,r){for(var s=[],i=0,o=e.length,A=0;i!==o&&A+t[i]<n;)A+=t[i],i++;s.push(e.slice(0,i));var l=i;for(A=0;i!==o;)A+t[i]>r&&(s.push(e.slice(l,i)),A=0,l=i),A+=t[i],i++;return l!==i&&s.push(e.slice(l,i)),s},jB=function(e,t,n){n||(n={});var r,s,i,o,A,l,c,u=[],d=[u],p=n.textIndent||0,f=0,v=0,g=e.split(" "),y=Df.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?g[0].length+2:n.lineIndent||0){var x=Array(l).join(" "),w=[];g.map(function(j){(j=j.split(/\s*\n/)).length>1?w=w.concat(j.map(function(_,k){return(k&&_.length?`
`:"")+_})):w.push(j[0])}),g=w,l=SB.apply(this,[x,n])}for(i=0,o=g.length;i<o;i++){var b=0;if(r=g[i],l&&r[0]==`
`&&(r=r.substr(1),b=1),p+f+(v=(s=Df.apply(this,[r,n])).reduce(function(j,_){return j+_},0))>t||b){if(v>t){for(A=EB.apply(this,[r,s,t-(p+f),t]),u.push(A.shift()),u=[A.pop()];A.length;)d.push([A.shift()]);v=s.slice(r.length-(u[0]?u[0].length:0)).reduce(function(j,_){return j+_},0)}else u=[r];d.push(u),p=v+l,f=y}else u.push(r),p+=f+v,f=y}return c=l?function(j,_){return(_?x:"")+j.join(" ")}:function(j){return j.join(" ")},d.map(c)},Dl.splitTextToSize=function(e,t,n){var r,s=(n=n||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var d=this.internal.getFont(u.fontName,u.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/s;i.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=n.lineIndent;var A,l,c=[];for(A=0,l=r.length;A<l;A++)c=c.concat(jB.apply(this,[r[A],o,i]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},s=0;s<t.length;s++)n[t[s]]="0123456789abcdef"[s],r["0123456789abcdef"[s]]=t[s];var i=function(d){return"0x"+parseInt(d,10).toString(16)},o=e.__fontmetrics__.compress=function(d){var p,f,v,g,y=["{"];for(var x in d){if(p=d[x],isNaN(parseInt(x,10))?f="'"+x+"'":(x=parseInt(x,10),f=(f=i(x).slice(2)).slice(0,-1)+r[f.slice(-1)]),typeof p=="number")p<0?(v=i(p).slice(3),g="-"):(v=i(p).slice(2),g=""),v=g+v.slice(0,-1)+r[v.slice(-1)];else{if(cn(p)!=="object")throw new Error("Don't know what to do with value type "+cn(p)+".");v=o(p)}y.push(f+v)}return y.push("}"),y.join("")},A=e.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,f,v,g,y={},x=1,w=y,b=[],j="",_="",k=d.length-1,D=1;D<k;D+=1)(g=d[D])=="'"?p?(v=p.join(""),p=void 0):p=[]:p?p.push(g):g=="{"?(b.push([w,v]),w={},v=void 0):g=="}"?((f=b.pop())[0][f[1]]=w,v=void 0,w=f[0]):g=="-"?x=-1:v===void 0?n.hasOwnProperty(g)?(j+=n[g],v=parseInt(j,16)*x,x=1,j=""):j+=g:n.hasOwnProperty(g)?(_+=n[g],w[v]=parseInt(_,16)*x,x=1,v=void 0,_=""):_+=g;return y},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:A("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":A("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":A("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":A("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:A("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:A("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":A("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:A("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":A("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":A("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":A("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(d){var p=d.font,f=u.Unicode[p.postScriptName];f&&(p.metadata.Unicode={},p.metadata.Unicode.widths=f.widths,p.metadata.Unicode.kerning=f.kerning);var v=c.Unicode[p.postScriptName];v&&(p.metadata.Unicode.encoding=v,p.encoding=v.codePages[0])}])}(Lt.API),function(e){var t=function(n){for(var r=n.length,s=new Uint8Array(r),i=0;i<r;i++)s[i]=n.charCodeAt(i);return s};e.API.events.push(["addFont",function(n){var r=void 0,s=n.font,i=n.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(r=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(o,A){A=/^\x00\x01\x00\x00/.test(A)?t(A):t(kd(A)),o.metadata=e.API.TTFFont.open(A),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(s,r)}}])}(Lt),function(e){function t(){return(Dt.canvg?Promise.resolve(Dt.canvg):Yd(()=>import("./index.es-D1snWqYT.js"),__vite__mapDeps([0,1,2]))).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}Lt.API.addSvgAsImage=function(n,r,s,i,o,A,l,c){if(isNaN(r)||isNaN(s))throw Hn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw Hn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=i,u.height=o;var d=u.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,u.width,u.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return t().then(function(v){return v.fromString(d,n,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(p)}).then(function(){f.addImage(u.toDataURL("image/jpeg",1),r,s,i,o,l,c)})}}(),Lt.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(t,n);return this},Lt.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,s,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},A=Object.keys(o),l=[],c=0,u=0,d=0;function p(v,g){var y,x=!1;for(y=0;y<v.length;y+=1)v[y]===g&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var f=A.length;for(d=0;d<f;d+=1)n[A[d]].value=n[A[d]].defaultValue,n[A[d]].explicitSet=!1}if(cn(e)==="object"){for(s in e)if(i=e[s],p(A,s)&&i!==void 0){if(n[s].type==="boolean"&&typeof i=="boolean")n[s].value=i;else if(n[s].type==="name"&&p(n[s].valueSet,i))n[s].value=i;else if(n[s].type==="integer"&&Number.isInteger(i))n[s].value=i;else if(n[s].type==="array"){for(c=0;c<i.length;c+=1)if(r=!0,i[c].length===1&&typeof i[c][0]=="number")l.push(String(i[c]-1));else if(i[c].length>1){for(u=0;u<i[c].length;u+=1)typeof i[c][u]!="number"&&(r=!1);r===!0&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}n[s].value="["+l.join(" ")+"]"}else n[s].value=n[s].defaultValue;n[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,g=[];for(v in n)n[v].explicitSet===!0&&(n[v].type==="name"?g.push("/"+v+" /"+n[v].value):g.push("/"+v+" "+n[v].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),A=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=i.length+o.length+A.length+s.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(s+i+o+A+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(Lt.API),function(e){var t=e.API,n=t.pdfEscape16=function(i,o){for(var A,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],d=0,p=i.length;d<p;++d){if(A=o.metadata.characterToGlyph(i.charCodeAt(d)),o.metadata.glyIdsUsed.push(A),o.metadata.toUnicode[A]=i.charCodeAt(d),l.indexOf(A)==-1&&(l.push(A),l.push([parseInt(o.metadata.widthOfGlyph(A),10)])),A=="0")return u.join("");A=A.toString(16),u.push(c[4-A.length],A)}return u.join("")},r=function(i){var o,A,l,c,u,d,p;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,p=(A=Object.keys(i).sort(function(f,v){return f-v})).length;d<p;d++)o=A[d],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(c=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var A=o.font,l=o.out,c=o.newObject,u=o.putStream;if(A.metadata instanceof e.API.TTFFont&&A.encoding==="Identity-H"){for(var d=A.metadata.Unicode.widths,p=A.metadata.subset.encode(A.metadata.glyIdsUsed,1),f="",v=0;v<p.length;v++)f+=String.fromCharCode(p[v]);var g=c();u({data:f,addLength1:!0,objectId:g}),l("endobj");var y=c();u({data:r(A.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var x=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+ql(A.fontName)),l("/FontFile2 "+g+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(A.metadata.bbox)),l("/Flags "+A.metadata.flags),l("/StemV "+A.metadata.stemV),l("/ItalicAngle "+A.metadata.italicAngle),l("/Ascent "+A.metadata.ascender),l("/Descent "+A.metadata.decender),l("/CapHeight "+A.metadata.capHeight),l(">>"),l("endobj");var w=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+ql(A.fontName)),l("/FontDescriptor "+x+" 0 R"),l("/W "+e.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+A.encoding+")"),l(">>"),l(">>"),l("endobj"),A.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+y+" 0 R"),l("/BaseFont /"+ql(A.fontName)),l("/Encoding /"+A.encoding),l("/DescendantFonts ["+w+" 0 R]"),l(">>"),l("endobj"),A.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var A=o.font,l=o.out,c=o.newObject,u=o.putStream;if(A.metadata instanceof e.API.TTFFont&&A.encoding==="WinAnsiEncoding"){for(var d=A.metadata.rawData,p="",f=0;f<d.length;f++)p+=String.fromCharCode(d[f]);var v=c();u({data:p,addLength1:!0,objectId:v}),l("endobj");var g=c();u({data:r(A.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var y=c();l("<<"),l("/Descent "+A.metadata.decender),l("/CapHeight "+A.metadata.capHeight),l("/StemV "+A.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+v+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(A.metadata.bbox)),l("/FontName /"+ql(A.fontName)),l("/ItalicAngle "+A.metadata.italicAngle),l("/Ascent "+A.metadata.ascender),l(">>"),l("endobj"),A.objectNumber=c();for(var x=0;x<A.metadata.hmtx.widths.length;x++)A.metadata.hmtx.widths[x]=parseInt(A.metadata.hmtx.widths[x]*(1e3/A.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+ql(A.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+A.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(A.metadata.hmtx.widths)+">>"),l("endobj"),A.isAlreadyPutted=!0}})(i)}]);var s=function(i){var o,A=i.text||"",l=i.x,c=i.y,u=i.options||{},d=i.mutex||{},p=d.pdfEscape,f=d.activeFontKey,v=d.fonts,g=f,y="",x=0,w="",b=v[g].encoding;if(v[g].encoding!=="Identity-H")return{text:A,x:l,y:c,options:u,mutex:d};for(w=A,g=f,Array.isArray(A)&&(w=A[0]),x=0;x<w.length;x+=1)v[g].metadata.hasOwnProperty("cmap")&&(o=v[g].metadata.cmap.unicode.codeMap[w[x].charCodeAt(0)]),o||w[x].charCodeAt(0)<256&&v[g].metadata.hasOwnProperty("Unicode")?y+=w[x]:y+="";var j="";return parseInt(g.slice(1))<14||b==="WinAnsiEncoding"?j=p(y,g).split("").map(function(_){return _.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(j=n(y,v[g])),d.isHex=!0,{text:j,x:l,y:c,options:u,mutex:d}};t.events.push(["postProcessText",function(i){var o=i.text||"",A=[],l={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?A.push([s(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):A.push(s(Object.assign({},l,{text:o[c]})).text);i.text=A}else i.text=s(Object.assign({},l,{text:o})).text}])}(Lt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Lt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var s,i,o,A,l,c,u,d=t,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,b=0;this.__bidiEngine__={};var j=function(E){var I=E.charCodeAt(),T=I>>8,P=g[T];return P!==void 0?d[256*P+(255&I)]:T===252||T===253?"AL":x.test(T)?"L":T===8?"R":"N"},_=function(E){for(var I,T=0;T<E.length;T++){if((I=j(E.charAt(T)))==="L")return!1;if(I==="R")return!0}return!1},k=function(E,I,T,P){var K,Q,F,$,O=I[P];switch(O){case"L":case"R":w=!1;break;case"N":case"AN":break;case"EN":w&&(O="AN");break;case"AL":w=!0,O="R";break;case"WS":O="N";break;case"CS":P<1||P+1>=I.length||(K=T[P-1])!=="EN"&&K!=="AN"||(Q=I[P+1])!=="EN"&&Q!=="AN"?O="N":w&&(Q="AN"),O=Q===K?Q:"N";break;case"ES":O=(K=P>0?T[P-1]:"B")==="EN"&&P+1<I.length&&I[P+1]==="EN"?"EN":"N";break;case"ET":if(P>0&&T[P-1]==="EN"){O="EN";break}if(w){O="N";break}for(F=P+1,$=I.length;F<$&&I[F]==="ET";)F++;O=F<$&&I[F]==="EN"?"EN":"N";break;case"NSM":if(o&&!A){for($=I.length,F=P+1;F<$&&I[F]==="NSM";)F++;if(F<$){var H=E[P],ie=H>=1425&&H<=2303||H===64286;if(K=I[F],ie&&(K==="R"||K==="AL")){O="R";break}}}O=P<1||(K=I[P-1])==="B"?"N":T[P-1];break;case"B":w=!1,s=!0,O=b;break;case"S":i=!0,O="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"BN":O="N"}return O},D=function(E,I,T){var P=E.split("");return T&&N(P,T,{hiLevel:b}),P.reverse(),I&&I.reverse(),P.join("")},N=function(E,I,T){var P,K,Q,F,$,O=-1,H=E.length,ie=0,M=[],W=b?f:p,V=[];for(w=!1,s=!1,i=!1,K=0;K<H;K++)V[K]=j(E[K]);for(Q=0;Q<H;Q++){if($=ie,M[Q]=k(E,V,M,Q),P=240&(ie=W[$][v[M[Q]]]),ie&=15,I[Q]=F=W[ie][5],P>0)if(P===16){for(K=O;K<Q;K++)I[K]=1;O=-1}else O=-1;if(W[ie][6])O===-1&&(O=Q);else if(O>-1){for(K=O;K<Q;K++)I[K]=F;O=-1}V[Q]==="B"&&(I[Q]=0),T.hiLevel|=F}i&&function(X,Y,ee){for(var ce=0;ce<ee;ce++)if(X[ce]==="S"){Y[ce]=b;for(var Ae=ce-1;Ae>=0&&X[Ae]==="WS";Ae--)Y[Ae]=b}}(V,I,H)},U=function(E,I,T,P,K){if(!(K.hiLevel<E)){if(E===1&&b===1&&!s)return I.reverse(),void(T&&T.reverse());for(var Q,F,$,O,H=I.length,ie=0;ie<H;){if(P[ie]>=E){for($=ie+1;$<H&&P[$]>=E;)$++;for(O=ie,F=$-1;O<F;O++,F--)Q=I[O],I[O]=I[F],I[F]=Q,T&&(Q=T[O],T[O]=T[F],T[F]=Q);ie=$}ie++}}},L=function(E,I,T){var P=E.split(""),K={hiLevel:b};return T||(T=[]),N(P,T,K),function(Q,F,$){if($.hiLevel!==0&&u)for(var O,H=0;H<Q.length;H++)F[H]===1&&(O=y.indexOf(Q[H]))>=0&&(Q[H]=y[O+1])}(P,T,K),U(2,P,I,T,K),U(1,P,I,T,K),P.join("")};return this.__bidiEngine__.doBidiReorder=function(E,I,T){if(function(K,Q){if(Q)for(var F=0;F<K.length;F++)Q[F]=F;A===void 0&&(A=_(K)),c===void 0&&(c=_(K))}(E,I),o||!l||c)if(o&&l&&A^c)b=A?1:0,E=D(E,I,T);else if(!o&&l&&c)b=A?1:0,E=L(E,I,T),E=D(E,I);else if(!o||A||l||c){if(o&&!l&&A^c)E=D(E,I),A?(b=0,E=L(E,I,T)):(b=1,E=L(E,I,T),E=D(E,I));else if(o&&A&&!l&&c)b=1,E=L(E,I,T),E=D(E,I);else if(!o&&!l&&A^c){var P=u;A?(b=1,E=L(E,I,T),b=0,u=!1,E=L(E,I,T),u=P):(b=0,E=L(E,I,T),E=D(E,I),b=1,u=!1,E=L(E,I,T),u=P,E=D(E,I))}}else b=0,E=L(E,I,T);else b=A?1:0,E=L(E,I,T);return E},this.__bidiEngine__.setOptions=function(E){E&&(o=E.isInputVisual,l=E.isOutputVisual,A=E.isInputRtl,c=E.isOutputRtl,u=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var s=r.text;r.x,r.y;var i=r.options||{};r.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,n.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var A=0;for(o=[],A=0;A<s.length;A+=1)Object.prototype.toString.call(s[A])==="[object Array]"?o.push([n.doBidiReorder(s[A][0]),s[A][1],s[A][2]]):o.push([n.doBidiReorder(s[A])]);r.text=o}else r.text=n.doBidiReorder(s);n.setOptions({isInputVisual:!0})}])}(Lt),Lt.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new nA(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new wz(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Az(this.contents),this.head=new cz(this),this.name=new pz(this),this.cmap=new e3(this),this.toUnicode={},this.hhea=new uz(this),this.maxp=new gz(this),this.hmtx=new mz(this),this.post=new hz(this),this.os2=new dz(this),this.loca=new bz(this),this.glyf=new vz(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,A,l,c;for(c=[],o=0,A=(l=this.bbox).length;o<A;o++)t=l[o],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(s=this.post.italic_angle),32768&(n=s>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var s,i,o,A;for(o=0,i=0,A=(t=""+t).length;0<=A?i<A:i>A;i=0<=A?++i:--i)s=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(s))+r*(1e3/n)||0;return o*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var ta,nA=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,s;for(s=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)s.push(this.writeByte(t.charCodeAt(n)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,s,i,o,A,l;return t=this.readByte(),n=this.readByte(),r=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),A=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^s)+16777216*(255^i)+65536*(255^o)+256*(255^A)+(255^l)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*s+16777216*i+65536*o+256*A+l},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,s,i;for(i=[],r=0,s=t.length;r<s;r++)n=t[r],i.push(this.writeByte(n));return i},e}(),Az=function(){var e;function t(n){var r,s,i;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,s,i,o,A,l,c,u,d,p,f,v,g;for(g in f=Object.keys(n).length,l=Math.log(2),d=16*Math.floor(Math.log(f)/l),o=Math.floor(d/l),u=16*f-d,(s=new nA).writeInt(this.scalarType),s.writeShort(f),s.writeShort(d),s.writeShort(o),s.writeShort(u),i=16*f,c=s.pos+i,A=null,v=[],n)for(p=n[g],s.writeString(g),s.writeInt(e(p)),s.writeInt(c),s.writeInt(p.length),v=v.concat(p),g==="head"&&(A=c),c+=p.length;c%4;)v.push(0),c++;return s.write(v),r=2981146554-e(s.data),s.pos=A+8,s.writeUInt32(r),s.data},e=function(n){var r,s,i,o;for(n=t3.call(n);n.length%4;)n.push(0);for(i=new nA(n),s=0,r=0,o=n.length;r<o;r=r+=4)s+=i.readUInt32();return 4294967295&s},t}(),lz={}.hasOwnProperty,Na=function(e,t){for(var n in t)lz.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};ta=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var cz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Na(t,ta),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var r;return(r=new nA).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},t}(),kB=function(){function e(t,n){var r,s,i,o,A,l,c,u,d,p,f,v,g,y,x,w,b;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),d=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(f=t.readUInt16(),p=f/2,t.pos+=6,i=function(){var j,_;for(_=[],l=j=0;0<=p?j<p:j>p;l=0<=p?++j:--j)_.push(t.readUInt16());return _}(),t.pos+=2,g=function(){var j,_;for(_=[],l=j=0;0<=p?j<p:j>p;l=0<=p?++j:--j)_.push(t.readUInt16());return _}(),c=function(){var j,_;for(_=[],l=j=0;0<=p?j<p:j>p;l=0<=p?++j:--j)_.push(t.readUInt16());return _}(),u=function(){var j,_;for(_=[],l=j=0;0<=p?j<p:j>p;l=0<=p?++j:--j)_.push(t.readUInt16());return _}(),s=(this.length-t.pos+this.offset)/2,A=function(){var j,_;for(_=[],l=j=0;0<=s?j<s:j>s;l=0<=s?++j:--j)_.push(t.readUInt16());return _}(),l=x=0,b=i.length;x<b;l=++x)for(y=i[l],r=w=v=g[l];v<=y?w<=y:w>=y;r=v<=y?++w:--w)u[l]===0?o=r+c[l]:(o=A[u[l]/2+(r-v)-(p-l)]||0)!==0&&(o+=c[l]),this.codeMap[r]=65535&o}t.pos=d}return e.encode=function(t,n){var r,s,i,o,A,l,c,u,d,p,f,v,g,y,x,w,b,j,_,k,D,N,U,L,E,I,T,P,K,Q,F,$,O,H,ie,M,W,V,X,Y,ee,ce,Ae,Ee,fe,we;switch(P=new nA,o=Object.keys(t).sort(function(de,Be){return de-Be}),n){case"macroman":for(g=0,y=function(){var de=[];for(v=0;v<256;++v)de.push(0);return de}(),w={0:0},i={},K=0,O=o.length;K<O;K++)w[Ae=t[s=o[K]]]==null&&(w[Ae]=++g),i[s]={old:t[s],new:w[t[s]]},y[s]=w[t[s]];return P.writeUInt16(1),P.writeUInt16(0),P.writeUInt32(12),P.writeUInt16(0),P.writeUInt16(262),P.writeUInt16(0),P.write(y),{charMap:i,subtable:P.data,maxGlyphID:g+1};case"unicode":for(I=[],d=[],b=0,w={},r={},x=c=null,Q=0,H=o.length;Q<H;Q++)w[_=t[s=o[Q]]]==null&&(w[_]=++b),r[s]={old:_,new:w[_]},A=w[_]-s,x!=null&&A===c||(x&&d.push(x),I.push(s),c=A),x=s;for(x&&d.push(x),d.push(65535),I.push(65535),L=2*(U=I.length),N=2*Math.pow(Math.log(U)/Math.LN2,2),p=Math.log(N/2)/Math.LN2,D=2*U-N,l=[],k=[],f=[],v=F=0,ie=I.length;F<ie;v=++F){if(E=I[v],u=d[v],E===65535){l.push(0),k.push(0);break}if(E-(T=r[E].new)>=32768)for(l.push(0),k.push(2*(f.length+U-v)),s=$=E;E<=u?$<=u:$>=u;s=E<=u?++$:--$)f.push(r[s].new);else l.push(T-E),k.push(0)}for(P.writeUInt16(3),P.writeUInt16(1),P.writeUInt32(12),P.writeUInt16(4),P.writeUInt16(16+8*U+2*f.length),P.writeUInt16(0),P.writeUInt16(L),P.writeUInt16(N),P.writeUInt16(p),P.writeUInt16(D),ee=0,M=d.length;ee<M;ee++)s=d[ee],P.writeUInt16(s);for(P.writeUInt16(0),ce=0,W=I.length;ce<W;ce++)s=I[ce],P.writeUInt16(s);for(Ee=0,V=l.length;Ee<V;Ee++)A=l[Ee],P.writeUInt16(A);for(fe=0,X=k.length;fe<X;fe++)j=k[fe],P.writeUInt16(j);for(we=0,Y=f.length;we<Y;we++)g=f[we],P.writeUInt16(g);return{charMap:r,subtable:P.data,maxGlyphID:b+1}}},e}(),e3=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Na(t,ta),t.prototype.tag="cmap",t.prototype.parse=function(n){var r,s,i;for(n.pos=this.offset,this.version=n.readUInt16(),i=n.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)r=new kB(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(n,r){var s,i;return r==null&&(r="macroman"),s=kB.encode(n,r),(i=new nA).writeUInt16(0),i.writeUInt16(1),s.table=i.data.concat(s.subtable),s},t}(),uz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Na(t,ta),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),dz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Na(t,ta),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,s;for(s=[],r=0;r<10;++r)s.push(n.readByte());return s}(),this.charRange=function(){var r,s;for(s=[],r=0;r<4;++r)s.push(n.readInt());return s}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,s;for(s=[],r=0;r<2;r=++r)s.push(n.readInt());return s}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),hz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Na(t,ta),t.prototype.tag="post",t.prototype.parse=function(n){var r,s,i;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(s=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=s?o<s:o>s;o=0<=s?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],i=[];n.pos<this.offset+this.length;)r=n.readByte(),i.push(this.names.push(n.readString(r)));return i;case 151552:return s=n.readUInt16(),this.offsets=n.read(s);case 196608:break;case 262144:return this.map=(function(){var A,l,c;for(c=[],o=A=0,l=this.file.maxp.numGlyphs;0<=l?A<l:A>l;o=0<=l?++A:--A)c.push(n.readUInt32());return c}).call(this)}},t}(),fz=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},pz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Na(t,ta),t.prototype.tag="name",t.prototype.parse=function(n){var r,s,i,o,A,l,c,u,d,p,f;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),s=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)s.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(c={},o=d=0,p=s.length;d<p;o=++d)i=s[o],n.pos=i.offset,u=n.readString(i.length),A=new fz(u,i),c[f=i.nameID]==null&&(c[f]=[]),c[i.nameID].push(A);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t}(),gz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Na(t,ta),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),mz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Na(t,ta),t.prototype.tag="hmtx",t.prototype.parse=function(n){var r,s,i,o,A,l,c;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],r=u=0;0<=i?u<i:u>i;r=0<=i?++u:--u)d.push(n.readInt16());return d}(),this.widths=(function(){var u,d,p,f;for(f=[],u=0,d=(p=this.metrics).length;u<d;u++)o=p[u],f.push(o.advance);return f}).call(this),s=this.widths[this.widths.length-1],c=[],r=A=0;0<=i?A<i:A>i;r=0<=i?++A:--A)c.push(this.widths.push(s));return c},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),t3=[].slice,vz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Na(t,ta),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var r,s,i,o,A,l,c,u,d,p;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,s=o.indexOf(n),(i=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+s,A=(l=new nA(r.read(i))).readShort(),u=l.readShort(),p=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[n]=A===-1?new xz(l,u,p,c,d):new yz(l,A,u,p,c,d),this.cache[n]))},t.prototype.encode=function(n,r,s){var i,o,A,l,c;for(A=[],o=[],l=0,c=r.length;l<c;l++)i=n[r[l]],o.push(A.length),i&&(A=A.concat(i.encode(s)));return o.push(A.length),{table:A,offsets:o}},t}(),yz=function(){function e(t,n,r,s,i,o){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=s,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),xz=function(){function e(t,n,r,s,i){var o,A;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;A=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&A;)o.pos+=1&A?4:2,128&A?o.pos+=8:64&A?o.pos+=4:8&A&&(o.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new nA(t3.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),bz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Na(t,ta),t.prototype.tag="loca",t.prototype.parse=function(n){var r,s;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,o;for(o=[],s=0,i=this.length;s<i;s+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],s=0,i=this.length;s<i;s+=4)o.push(n.readUInt32());return o}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,r){for(var s=new Uint32Array(this.offsets.length),i=0,o=0,A=0;A<s.length;++A)if(s[A]=i,o<r.length&&r[o]==A){++o,s[A]=i;var l=this.offsets[A],c=this.offsets[A+1]-l;c>0&&(i+=c)}for(var u=new Array(4*s.length),d=0;d<s.length;++d)u[4*d+3]=255&s[d],u[4*d+2]=(65280&s[d])>>8,u[4*d+1]=(16711680&s[d])>>16,u[4*d]=(4278190080&s[d])>>24;return u},t}(),wz=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,s,i;for(n in s=this.font.cmap.tables[0].codeMap,t={},i=this.subset)r=i[n],t[n]=s[r];return t},e.prototype.glyphsFor=function(t){var n,r,s,i,o,A,l;for(s={},o=0,A=t.length;o<A;o++)s[i=t[o]]=this.font.glyf.glyphFor(i);for(i in n=[],s)(r=s[i])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(i in l=this.glyphsFor(n))r=l[i],s[i]=r;return s},e.prototype.encode=function(t,n){var r,s,i,o,A,l,c,u,d,p,f,v,g,y,x;for(s in r=e3.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),f={0:0},x=r.charMap)f[(l=x[s]).old]=l.new;for(v in p=r.maxGlyphID,o)v in f||(f[v]=p++);return u=function(w){var b,j;for(b in j={},w)j[w[b]]=b;return j}(f),d=Object.keys(u).sort(function(w,b){return w-b}),g=function(){var w,b,j;for(j=[],w=0,b=d.length;w<b;w++)A=d[w],j.push(u[A]);return j}(),i=this.font.glyf.encode(o,g,f),c=this.font.loca.encode(i.offsets,g),y={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y)},e}();Lt.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,s,i,o;if(Array.isArray(n))return"["+function(){var A,l,c;for(c=[],A=0,l=n.length;A<l;A++)r=n[A],c.push(t.convert(r));return c}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(s in i=["<<"],n)o=n[s],i.push("/"+s+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+n},t}();/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var K1=function(e,t){return K1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},K1(e,t)};function na(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");K1(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var V1=function(){return V1=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},V1.apply(this,arguments)};function Cs(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function A(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(A,l)}c((r=r.apply(e,[])).next())})}function cs(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function A(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,s=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){n.label=c[1];break}if(c[0]===6&&n.label<i[1]){n.label=i[1],i=c;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(c);break}i[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(u){c=[6,u],s=0}finally{r=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Mf(e,t,n){if(arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||t)}var co=function(){function e(t,n,r,s){this.left=t,this.top=n,this.width=r,this.height=s}return e.prototype.add=function(t,n,r,s){return new e(this.left+t,this.top+n,this.width+r,this.height+s)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var r=Array.from(n).find(function(s){return s.width!==0});return r?new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),Fm=function(e,t){return co.fromClientRect(e,t.getBoundingClientRect())},Bz=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),s=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new co(0,0,r,s)},km=function(e){for(var t=[],n=0,r=e.length;n<r;){var s=e.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var i=e.charCodeAt(n++);(i&64512)===56320?t.push(((s&1023)<<10)+(i&1023)+65536):(t.push(s),n--)}else t.push(s)}return t},mr=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],s=-1,i="";++s<n;){var o=e[s];o<=65535?r.push(o):(o-=65536,r.push((o>>10)+55296,o%1024+56320)),(s+1===n||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},NB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Cz=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Qf=0;Qf<NB.length;Qf++)Cz[NB.charCodeAt(Qf)]=Qf;var _B="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",dd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Pf=0;Pf<_B.length;Pf++)dd[_B.charCodeAt(Pf)]=Pf;var Sz=function(e){var t=e.length*.75,n=e.length,r,s=0,i,o,A,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),u=Array.isArray(c)?c:new Uint8Array(c);for(r=0;r<n;r+=4)i=dd[e.charCodeAt(r)],o=dd[e.charCodeAt(r+1)],A=dd[e.charCodeAt(r+2)],l=dd[e.charCodeAt(r+3)],u[s++]=i<<2|o>>4,u[s++]=(o&15)<<4|A>>2,u[s++]=(A&3)<<6|l&63;return c},Ez=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},jz=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},DA=5,Px=11,mv=2,Iz=Px-DA,n3=65536>>DA,Fz=1<<DA,vv=Fz-1,kz=1024>>DA,Nz=n3+kz,_z=Nz,Tz=32,Uz=_z+Tz,Lz=65536>>Px,Dz=1<<Iz,Mz=Dz-1,TB=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},Qz=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},Pz=function(e,t){var n=Sz(e),r=Array.isArray(n)?jz(n):new Uint32Array(n),s=Array.isArray(n)?Ez(n):new Uint16Array(n),i=24,o=TB(s,i/2,r[4]/2),A=r[5]===2?TB(s,(i+r[4])/2):Qz(r,Math.ceil((i+r[4])/4));return new Rz(r[0],r[1],r[2],r[3],o,A)},Rz=function(){function e(t,n,r,s,i,o){this.initialValue=t,this.errorValue=n,this.highStart=r,this.highValueIndex=s,this.index=i,this.data=o}return e.prototype.get=function(t){var n;if(t>=0){if(t<55296||t>56319&&t<=65535)return n=this.index[t>>DA],n=(n<<mv)+(t&vv),this.data[n];if(t<=65535)return n=this.index[n3+(t-55296>>DA)],n=(n<<mv)+(t&vv),this.data[n];if(t<this.highStart)return n=Uz-Lz+(t>>Px),n=this.index[n],n+=t>>DA&Mz,n=this.index[n],n=(n<<mv)+(t&vv),this.data[n];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),UB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Hz=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Rf=0;Rf<UB.length;Rf++)Hz[UB.charCodeAt(Rf)]=Rf;var Oz="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",LB=50,$z=1,r3=2,s3=3,zz=4,Wz=5,DB=7,i3=8,MB=9,zo=10,G1=11,QB=12,q1=13,Kz=14,hd=15,Y1=16,Hf=17,Zu=18,Vz=19,PB=20,X1=21,ed=22,yv=23,Ml=24,Js=25,fd=26,pd=27,Ql=28,Gz=29,IA=30,qz=31,Of=32,$f=33,J1=34,Z1=35,ey=36,Jd=37,ty=38,Fp=39,kp=40,xv=41,a3=42,Yz=43,Xz=[9001,65288],o3="!",an="×",zf="÷",ny=Pz(Oz),Ka=[IA,ey],ry=[$z,r3,s3,Wz],A3=[zo,i3],RB=[pd,fd],Jz=ry.concat(A3),HB=[ty,Fp,kp,J1,Z1],Zz=[hd,q1],eW=function(e,t){t===void 0&&(t="strict");var n=[],r=[],s=[];return e.forEach(function(i,o){var A=ny.get(i);if(A>LB?(s.push(!0),A-=LB):s.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return r.push(o),n.push(Y1);if(A===zz||A===G1){if(o===0)return r.push(o),n.push(IA);var l=n[o-1];return Jz.indexOf(l)===-1?(r.push(r[o-1]),n.push(l)):(r.push(o),n.push(IA))}if(r.push(o),A===qz)return n.push(t==="strict"?X1:Jd);if(A===a3||A===Gz)return n.push(IA);if(A===Yz)return i>=131072&&i<=196605||i>=196608&&i<=262141?n.push(Jd):n.push(IA);n.push(A)}),[r,n,s]},bv=function(e,t,n,r){var s=r[n];if(Array.isArray(e)?e.indexOf(s)!==-1:e===s)for(var i=n;i<=r.length;){i++;var o=r[i];if(o===t)return!0;if(o!==zo)break}if(s===zo)for(var i=n;i>0;){i--;var A=r[i];if(Array.isArray(e)?e.indexOf(A)!==-1:e===A)for(var l=n;l<=r.length;){l++;var o=r[l];if(o===t)return!0;if(o!==zo)break}if(A!==zo)break}return!1},OB=function(e,t){for(var n=e;n>=0;){var r=t[n];if(r===zo)n--;else return r}return 0},tW=function(e,t,n,r,s){if(n[r]===0)return an;var i=r-1;if(Array.isArray(s)&&s[i]===!0)return an;var o=i-1,A=i+1,l=t[i],c=o>=0?t[o]:0,u=t[A];if(l===r3&&u===s3)return an;if(ry.indexOf(l)!==-1)return o3;if(ry.indexOf(u)!==-1||A3.indexOf(u)!==-1)return an;if(OB(i,t)===i3)return zf;if(ny.get(e[i])===G1||(l===Of||l===$f)&&ny.get(e[A])===G1||l===DB||u===DB||l===MB||[zo,q1,hd].indexOf(l)===-1&&u===MB||[Hf,Zu,Vz,Ml,Ql].indexOf(u)!==-1||OB(i,t)===ed||bv(yv,ed,i,t)||bv([Hf,Zu],X1,i,t)||bv(QB,QB,i,t))return an;if(l===zo)return zf;if(l===yv||u===yv)return an;if(u===Y1||l===Y1)return zf;if([q1,hd,X1].indexOf(u)!==-1||l===Kz||c===ey&&Zz.indexOf(l)!==-1||l===Ql&&u===ey||u===PB||Ka.indexOf(u)!==-1&&l===Js||Ka.indexOf(l)!==-1&&u===Js||l===pd&&[Jd,Of,$f].indexOf(u)!==-1||[Jd,Of,$f].indexOf(l)!==-1&&u===fd||Ka.indexOf(l)!==-1&&RB.indexOf(u)!==-1||RB.indexOf(l)!==-1&&Ka.indexOf(u)!==-1||[pd,fd].indexOf(l)!==-1&&(u===Js||[ed,hd].indexOf(u)!==-1&&t[A+1]===Js)||[ed,hd].indexOf(l)!==-1&&u===Js||l===Js&&[Js,Ql,Ml].indexOf(u)!==-1)return an;if([Js,Ql,Ml,Hf,Zu].indexOf(u)!==-1)for(var d=i;d>=0;){var p=t[d];if(p===Js)return an;if([Ql,Ml].indexOf(p)!==-1)d--;else break}if([pd,fd].indexOf(u)!==-1)for(var d=[Hf,Zu].indexOf(l)!==-1?o:i;d>=0;){var p=t[d];if(p===Js)return an;if([Ql,Ml].indexOf(p)!==-1)d--;else break}if(ty===l&&[ty,Fp,J1,Z1].indexOf(u)!==-1||[Fp,J1].indexOf(l)!==-1&&[Fp,kp].indexOf(u)!==-1||[kp,Z1].indexOf(l)!==-1&&u===kp||HB.indexOf(l)!==-1&&[PB,fd].indexOf(u)!==-1||HB.indexOf(u)!==-1&&l===pd||Ka.indexOf(l)!==-1&&Ka.indexOf(u)!==-1||l===Ml&&Ka.indexOf(u)!==-1||Ka.concat(Js).indexOf(l)!==-1&&u===ed&&Xz.indexOf(e[A])===-1||Ka.concat(Js).indexOf(u)!==-1&&l===Zu)return an;if(l===xv&&u===xv){for(var f=n[i],v=1;f>0&&(f--,t[f]===xv);)v++;if(v%2!==0)return an}return l===Of&&u===$f?an:zf},nW=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=eW(e,t.lineBreak),r=n[0],s=n[1],i=n[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(s=s.map(function(A){return[Js,IA,a3].indexOf(A)!==-1?Jd:A}));var o=t.wordBreak==="keep-all"?i.map(function(A,l){return A&&e[l]>=19968&&e[l]<=40959}):void 0;return[r,s,o]},rW=function(){function e(t,n,r,s){this.codePoints=t,this.required=n===o3,this.start=r,this.end=s}return e.prototype.slice=function(){return mr.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),sW=function(e,t){var n=km(e),r=nW(n,t),s=r[0],i=r[1],o=r[2],A=n.length,l=0,c=0;return{next:function(){if(c>=A)return{done:!0,value:null};for(var u=an;c<A&&(u=tW(n,i,s,++c,o))===an;);if(u!==an||c===A){var d=new rW(n,u,l,c);return l=c,{value:d,done:!1}}return{done:!0,value:null}}}},iW=1,aW=2,jh=4,$B=8,lg=10,zB=47,Nd=92,oW=9,AW=32,Wf=34,td=61,lW=35,cW=36,uW=37,Kf=39,Vf=40,nd=41,dW=95,Qs=45,hW=33,fW=60,pW=62,gW=64,mW=91,vW=93,yW=61,xW=123,Gf=63,bW=125,WB=124,wW=126,BW=128,KB=65533,wv=42,_A=43,CW=44,SW=58,EW=59,Zd=46,jW=0,IW=8,FW=11,kW=14,NW=31,_W=127,oa=-1,l3=48,c3=97,u3=101,TW=102,UW=117,LW=122,d3=65,h3=69,f3=70,DW=85,MW=90,us=function(e){return e>=l3&&e<=57},QW=function(e){return e>=55296&&e<=57343},Pl=function(e){return us(e)||e>=d3&&e<=f3||e>=c3&&e<=TW},PW=function(e){return e>=c3&&e<=LW},RW=function(e){return e>=d3&&e<=MW},HW=function(e){return PW(e)||RW(e)},OW=function(e){return e>=BW},qf=function(e){return e===lg||e===oW||e===AW},cg=function(e){return HW(e)||OW(e)||e===dW},VB=function(e){return cg(e)||us(e)||e===Qs},$W=function(e){return e>=jW&&e<=IW||e===FW||e>=kW&&e<=NW||e===_W},Qo=function(e,t){return e!==Nd?!1:t!==lg},Yf=function(e,t,n){return e===Qs?cg(t)||Qo(t,n):cg(e)?!0:!!(e===Nd&&Qo(e,t))},Bv=function(e,t,n){return e===_A||e===Qs?us(t)?!0:t===Zd&&us(n):us(e===Zd?t:e)},zW=function(e){var t=0,n=1;(e[t]===_A||e[t]===Qs)&&(e[t]===Qs&&(n=-1),t++);for(var r=[];us(e[t]);)r.push(e[t++]);var s=r.length?parseInt(mr.apply(void 0,r),10):0;e[t]===Zd&&t++;for(var i=[];us(e[t]);)i.push(e[t++]);var o=i.length,A=o?parseInt(mr.apply(void 0,i),10):0;(e[t]===h3||e[t]===u3)&&t++;var l=1;(e[t]===_A||e[t]===Qs)&&(e[t]===Qs&&(l=-1),t++);for(var c=[];us(e[t]);)c.push(e[t++]);var u=c.length?parseInt(mr.apply(void 0,c),10):0;return n*(s+A*Math.pow(10,-o))*Math.pow(10,l*u)},WW={type:2},KW={type:3},VW={type:4},GW={type:13},qW={type:8},YW={type:21},XW={type:9},JW={type:10},ZW={type:11},eK={type:12},tK={type:14},Xf={type:23},nK={type:1},rK={type:25},sK={type:24},iK={type:26},aK={type:27},oK={type:28},AK={type:29},lK={type:31},sy={type:32},p3=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(km(t))},e.prototype.read=function(){for(var t=[],n=this.consumeToken();n!==sy;)t.push(n),n=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case Wf:return this.consumeStringToken(Wf);case lW:var n=this.peekCodePoint(0),r=this.peekCodePoint(1),s=this.peekCodePoint(2);if(VB(n)||Qo(r,s)){var i=Yf(n,r,s)?aW:iW,o=this.consumeName();return{type:5,value:o,flags:i}}break;case cW:if(this.peekCodePoint(0)===td)return this.consumeCodePoint(),GW;break;case Kf:return this.consumeStringToken(Kf);case Vf:return WW;case nd:return KW;case wv:if(this.peekCodePoint(0)===td)return this.consumeCodePoint(),tK;break;case _A:if(Bv(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case CW:return VW;case Qs:var A=t,l=this.peekCodePoint(0),c=this.peekCodePoint(1);if(Bv(A,l,c))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(Yf(A,l,c))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(l===Qs&&c===pW)return this.consumeCodePoint(),this.consumeCodePoint(),sK;break;case Zd:if(Bv(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case zB:if(this.peekCodePoint(0)===wv)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===wv&&(u=this.consumeCodePoint(),u===zB))return this.consumeToken();if(u===oa)return this.consumeToken()}break;case SW:return iK;case EW:return aK;case fW:if(this.peekCodePoint(0)===hW&&this.peekCodePoint(1)===Qs&&this.peekCodePoint(2)===Qs)return this.consumeCodePoint(),this.consumeCodePoint(),rK;break;case gW:var d=this.peekCodePoint(0),p=this.peekCodePoint(1),f=this.peekCodePoint(2);if(Yf(d,p,f)){var o=this.consumeName();return{type:7,value:o}}break;case mW:return oK;case Nd:if(Qo(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case vW:return AK;case yW:if(this.peekCodePoint(0)===td)return this.consumeCodePoint(),qW;break;case xW:return ZW;case bW:return eK;case UW:case DW:var v=this.peekCodePoint(0),g=this.peekCodePoint(1);return v===_A&&(Pl(g)||g===Gf)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case WB:if(this.peekCodePoint(0)===td)return this.consumeCodePoint(),XW;if(this.peekCodePoint(0)===WB)return this.consumeCodePoint(),YW;break;case wW:if(this.peekCodePoint(0)===td)return this.consumeCodePoint(),JW;break;case oa:return sy}return qf(t)?(this.consumeWhiteSpace(),lK):us(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):cg(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:mr(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],n=this.consumeCodePoint();Pl(n)&&t.length<6;)t.push(n),n=this.consumeCodePoint();for(var r=!1;n===Gf&&t.length<6;)t.push(n),n=this.consumeCodePoint(),r=!0;if(r){var s=parseInt(mr.apply(void 0,t.map(function(l){return l===Gf?l3:l})),16),i=parseInt(mr.apply(void 0,t.map(function(l){return l===Gf?f3:l})),16);return{type:30,start:s,end:i}}var o=parseInt(mr.apply(void 0,t),16);if(this.peekCodePoint(0)===Qs&&Pl(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var A=[];Pl(n)&&A.length<6;)A.push(n),n=this.consumeCodePoint();var i=parseInt(mr.apply(void 0,A),16);return{type:30,start:o,end:i}}else return{type:30,start:o,end:o}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===Vf?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Vf?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===oa)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===Kf||n===Wf){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===oa||this.peekCodePoint(0)===nd)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),Xf)}for(;;){var s=this.consumeCodePoint();if(s===oa||s===nd)return{type:22,value:mr.apply(void 0,t)};if(qf(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===oa||this.peekCodePoint(0)===nd?(this.consumeCodePoint(),{type:22,value:mr.apply(void 0,t)}):(this.consumeBadUrlRemnants(),Xf);if(s===Wf||s===Kf||s===Vf||$W(s))return this.consumeBadUrlRemnants(),Xf;if(s===Nd)if(Qo(s,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Xf;else t.push(s)}},e.prototype.consumeWhiteSpace=function(){for(;qf(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===nd||t===oa)return;Qo(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var n=5e4,r="";t>0;){var s=Math.min(n,t);r+=mr.apply(void 0,this._value.splice(0,s)),t-=s}return this._value.shift(),r},e.prototype.consumeStringToken=function(t){var n="",r=0;do{var s=this._value[r];if(s===oa||s===void 0||s===t)return n+=this.consumeStringSlice(r),{type:0,value:n};if(s===lg)return this._value.splice(0,r),nK;if(s===Nd){var i=this._value[r+1];i!==oa&&i!==void 0&&(i===lg?(n+=this.consumeStringSlice(r),r=-1,this._value.shift()):Qo(s,i)&&(n+=this.consumeStringSlice(r),n+=mr(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},e.prototype.consumeNumber=function(){var t=[],n=jh,r=this.peekCodePoint(0);for((r===_A||r===Qs)&&t.push(this.consumeCodePoint());us(this.peekCodePoint(0));)t.push(this.consumeCodePoint());r=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(r===Zd&&us(s))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),n=$B;us(this.peekCodePoint(0));)t.push(this.consumeCodePoint());r=this.peekCodePoint(0),s=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((r===h3||r===u3)&&((s===_A||s===Qs)&&us(i)||us(s)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),n=$B;us(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[zW(t),n]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),n=t[0],r=t[1],s=this.peekCodePoint(0),i=this.peekCodePoint(1),o=this.peekCodePoint(2);if(Yf(s,i,o)){var A=this.consumeName();return{type:15,number:n,flags:r,unit:A}}return s===uW?(this.consumeCodePoint(),{type:16,number:n,flags:r}):{type:17,number:n,flags:r}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(Pl(t)){for(var n=mr(t);Pl(this.peekCodePoint(0))&&n.length<6;)n+=mr(this.consumeCodePoint());qf(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(n,16);return r===0||QW(r)||r>1114111?KB:r}return t===oa?KB:t},e.prototype.consumeName=function(){for(var t="";;){var n=this.consumeCodePoint();if(VB(n))t+=mr(n);else if(Qo(n,this.peekCodePoint(0)))t+=mr(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),t}},e}(),g3=function(){function e(t){this._tokens=t}return e.create=function(t){var n=new p3;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var n=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var n=this.consumeComponentValue();if(n.type===32)return t;t.push(n),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var n={type:t,values:[]},r=this.consumeToken();;){if(r.type===32||uK(r,t))return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue()),r=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var n={name:t.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?sy:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),Ih=function(e){return e.type===15},ru=function(e){return e.type===17},Qn=function(e){return e.type===20},cK=function(e){return e.type===0},iy=function(e,t){return Qn(e)&&e.value===t},m3=function(e){return e.type!==31},Qc=function(e){return e.type!==31&&e.type!==4},_a=function(e){var t=[],n=[];return e.forEach(function(r){if(r.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(n),n=[];return}r.type!==31&&n.push(r)}),n.length&&t.push(n),t},uK=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},rA=function(e){return e.type===17||e.type===15},_r=function(e){return e.type===16||rA(e)},v3=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},ts={type:17,number:0,flags:jh},Rx={type:16,number:50,flags:jh},Wo={type:16,number:100,flags:jh},gd=function(e,t,n){var r=e[0],s=e[1];return[Kn(r,t),Kn(typeof s<"u"?s:r,n)]},Kn=function(e,t){if(e.type===16)return e.number/100*t;if(Ih(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},y3="deg",x3="grad",b3="rad",w3="turn",Nm={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case y3:return Math.PI*t.number/180;case x3:return Math.PI/200*t.number;case b3:return t.number;case w3:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},B3=function(e){return e.type===15&&(e.unit===y3||e.unit===x3||e.unit===b3||e.unit===w3)},C3=function(e){var t=e.filter(Qn).map(function(n){return n.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ts,ts];case"to top":case"bottom":return Si(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ts,Wo];case"to right":case"left":return Si(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Wo,Wo];case"to bottom":case"top":return Si(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Wo,ts];case"to left":case"right":return Si(270)}return 0},Si=function(e){return Math.PI*e/180},qo={name:"color",parse:function(e,t){if(t.type===18){var n=dK[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return n(e,t.values)}if(t.type===5){if(t.value.length===3){var r=t.value.substring(0,1),s=t.value.substring(1,2),i=t.value.substring(2,3);return Ko(parseInt(r+r,16),parseInt(s+s,16),parseInt(i+i,16),1)}if(t.value.length===4){var r=t.value.substring(0,1),s=t.value.substring(1,2),i=t.value.substring(2,3),o=t.value.substring(3,4);return Ko(parseInt(r+r,16),parseInt(s+s,16),parseInt(i+i,16),parseInt(o+o,16)/255)}if(t.value.length===6){var r=t.value.substring(0,2),s=t.value.substring(2,4),i=t.value.substring(4,6);return Ko(parseInt(r,16),parseInt(s,16),parseInt(i,16),1)}if(t.value.length===8){var r=t.value.substring(0,2),s=t.value.substring(2,4),i=t.value.substring(4,6),o=t.value.substring(6,8);return Ko(parseInt(r,16),parseInt(s,16),parseInt(i,16),parseInt(o,16)/255)}}if(t.type===20){var A=ro[t.value.toUpperCase()];if(typeof A<"u")return A}return ro.TRANSPARENT}},Yo=function(e){return(255&e)===0},Or=function(e){var t=255&e,n=255&e>>8,r=255&e>>16,s=255&e>>24;return t<255?"rgba("+s+","+r+","+n+","+t/255+")":"rgb("+s+","+r+","+n+")"},Ko=function(e,t,n,r){return(e<<24|t<<16|n<<8|Math.round(r*255)<<0)>>>0},GB=function(e,t){if(e.type===17)return e.number;if(e.type===16){var n=t===3?1:255;return t===3?e.number/100*n:Math.round(e.number/100*n)}return 0},qB=function(e,t){var n=t.filter(Qc);if(n.length===3){var r=n.map(GB),s=r[0],i=r[1],o=r[2];return Ko(s,i,o,1)}if(n.length===4){var A=n.map(GB),s=A[0],i=A[1],o=A[2],l=A[3];return Ko(s,i,o,l)}return 0};function Cv(e,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-e)*n*6+e:n<1/2?t:n<2/3?(t-e)*6*(2/3-n)+e:e}var YB=function(e,t){var n=t.filter(Qc),r=n[0],s=n[1],i=n[2],o=n[3],A=(r.type===17?Si(r.number):Nm.parse(e,r))/(Math.PI*2),l=_r(s)?s.number/100:0,c=_r(i)?i.number/100:0,u=typeof o<"u"&&_r(o)?Kn(o,1):1;if(l===0)return Ko(c*255,c*255,c*255,1);var d=c<=.5?c*(l+1):c+l-c*l,p=c*2-d,f=Cv(p,d,A+1/3),v=Cv(p,d,A),g=Cv(p,d,A-1/3);return Ko(f*255,v*255,g*255,u)},dK={hsl:YB,hsla:YB,rgb:qB,rgba:qB},_d=function(e,t){return qo.parse(e,g3.create(t).parseComponentValue())},ro={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},hK={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(n){if(Qn(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},fK={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},_m=function(e,t){var n=qo.parse(e,t[0]),r=t[1];return r&&_r(r)?{color:n,stop:r}:{color:n,stop:null}},XB=function(e,t){var n=e[0],r=e[e.length-1];n.stop===null&&(n.stop=ts),r.stop===null&&(r.stop=Wo);for(var s=[],i=0,o=0;o<e.length;o++){var A=e[o].stop;if(A!==null){var l=Kn(A,t);l>i?s.push(l):s.push(i),i=l}else s.push(null)}for(var c=null,o=0;o<s.length;o++){var u=s[o];if(u===null)c===null&&(c=o);else if(c!==null){for(var d=o-c,p=s[c-1],f=(u-p)/(d+1),v=1;v<=d;v++)s[c+v-1]=f*v;c=null}}return e.map(function(g,y){var x=g.color;return{color:x,stop:Math.max(Math.min(1,s[y]/t),0)}})},pK=function(e,t,n){var r=t/2,s=n/2,i=Kn(e[0],t)-r,o=s-Kn(e[1],n);return(Math.atan2(o,i)+Math.PI*2)%(Math.PI*2)},gK=function(e,t,n){var r=typeof e=="number"?e:pK(e,t,n),s=Math.abs(t*Math.sin(r))+Math.abs(n*Math.cos(r)),i=t/2,o=n/2,A=s/2,l=Math.sin(r-Math.PI/2)*A,c=Math.cos(r-Math.PI/2)*A;return[s,i-c,i+c,o-l,o+l]},Wi=function(e,t){return Math.sqrt(e*e+t*t)},JB=function(e,t,n,r,s){var i=[[0,0],[0,t],[e,0],[e,t]];return i.reduce(function(o,A){var l=A[0],c=A[1],u=Wi(n-l,r-c);return(s?u<o.optimumDistance:u>o.optimumDistance)?{optimumCorner:A,optimumDistance:u}:o},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},mK=function(e,t,n,r,s){var i=0,o=0;switch(e.size){case 0:e.shape===0?i=o=Math.min(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-s)):e.shape===1&&(i=Math.min(Math.abs(t),Math.abs(t-r)),o=Math.min(Math.abs(n),Math.abs(n-s)));break;case 2:if(e.shape===0)i=o=Math.min(Wi(t,n),Wi(t,n-s),Wi(t-r,n),Wi(t-r,n-s));else if(e.shape===1){var A=Math.min(Math.abs(n),Math.abs(n-s))/Math.min(Math.abs(t),Math.abs(t-r)),l=JB(r,s,t,n,!0),c=l[0],u=l[1];i=Wi(c-t,(u-n)/A),o=A*i}break;case 1:e.shape===0?i=o=Math.max(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-s)):e.shape===1&&(i=Math.max(Math.abs(t),Math.abs(t-r)),o=Math.max(Math.abs(n),Math.abs(n-s)));break;case 3:if(e.shape===0)i=o=Math.max(Wi(t,n),Wi(t,n-s),Wi(t-r,n),Wi(t-r,n-s));else if(e.shape===1){var A=Math.max(Math.abs(n),Math.abs(n-s))/Math.max(Math.abs(t),Math.abs(t-r)),d=JB(r,s,t,n,!1),c=d[0],u=d[1];i=Wi(c-t,(u-n)/A),o=A*i}break}return Array.isArray(e.size)&&(i=Kn(e.size[0],r),o=e.size.length===2?Kn(e.size[1],s):i),[i,o]},vK=function(e,t){var n=Si(180),r=[];return _a(t).forEach(function(s,i){if(i===0){var o=s[0];if(o.type===20&&o.value==="to"){n=C3(s);return}else if(B3(o)){n=Nm.parse(e,o);return}}var A=_m(e,s);r.push(A)}),{angle:n,stops:r,type:1}},Jf=function(e,t){var n=Si(180),r=[];return _a(t).forEach(function(s,i){if(i===0){var o=s[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){n=C3(s);return}else if(B3(o)){n=(Nm.parse(e,o)+Si(270))%Si(360);return}}var A=_m(e,s);r.push(A)}),{angle:n,stops:r,type:1}},yK=function(e,t){var n=Si(180),r=[],s=1,i=0,o=3,A=[];return _a(t).forEach(function(l,c){var u=l[0];if(c===0){if(Qn(u)&&u.value==="linear"){s=1;return}else if(Qn(u)&&u.value==="radial"){s=2;return}}if(u.type===18){if(u.name==="from"){var d=qo.parse(e,u.values[0]);r.push({stop:ts,color:d})}else if(u.name==="to"){var d=qo.parse(e,u.values[0]);r.push({stop:Wo,color:d})}else if(u.name==="color-stop"){var p=u.values.filter(Qc);if(p.length===2){var d=qo.parse(e,p[1]),f=p[0];ru(f)&&r.push({stop:{type:16,number:f.number*100,flags:f.flags},color:d})}}}}),s===1?{angle:(n+Si(180))%Si(360),stops:r,type:s}:{size:o,shape:i,stops:r,position:A,type:s}},S3="closest-side",E3="farthest-side",j3="closest-corner",I3="farthest-corner",F3="circle",k3="ellipse",N3="cover",_3="contain",xK=function(e,t){var n=0,r=3,s=[],i=[];return _a(t).forEach(function(o,A){var l=!0;if(A===0){var c=!1;l=o.reduce(function(d,p){if(c)if(Qn(p))switch(p.value){case"center":return i.push(Rx),d;case"top":case"left":return i.push(ts),d;case"right":case"bottom":return i.push(Wo),d}else(_r(p)||rA(p))&&i.push(p);else if(Qn(p))switch(p.value){case F3:return n=0,!1;case k3:return n=1,!1;case"at":return c=!0,!1;case S3:return r=0,!1;case N3:case E3:return r=1,!1;case _3:case j3:return r=2,!1;case I3:return r=3,!1}else if(rA(p)||_r(p))return Array.isArray(r)||(r=[]),r.push(p),!1;return d},l)}if(l){var u=_m(e,o);s.push(u)}}),{size:r,shape:n,stops:s,position:i,type:2}},Zf=function(e,t){var n=0,r=3,s=[],i=[];return _a(t).forEach(function(o,A){var l=!0;if(A===0?l=o.reduce(function(u,d){if(Qn(d))switch(d.value){case"center":return i.push(Rx),!1;case"top":case"left":return i.push(ts),!1;case"right":case"bottom":return i.push(Wo),!1}else if(_r(d)||rA(d))return i.push(d),!1;return u},l):A===1&&(l=o.reduce(function(u,d){if(Qn(d))switch(d.value){case F3:return n=0,!1;case k3:return n=1,!1;case _3:case S3:return r=0,!1;case E3:return r=1,!1;case j3:return r=2,!1;case N3:case I3:return r=3,!1}else if(rA(d)||_r(d))return Array.isArray(r)||(r=[]),r.push(d),!1;return u},l)),l){var c=_m(e,o);s.push(c)}}),{size:r,shape:n,stops:s,position:i,type:2}},bK=function(e){return e.type===1},wK=function(e){return e.type===2},Hx={name:"image",parse:function(e,t){if(t.type===22){var n={url:t.value,type:0};return e.cache.addImage(t.value),n}if(t.type===18){var r=T3[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return r(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function BK(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!T3[e.name])}var T3={"linear-gradient":vK,"-moz-linear-gradient":Jf,"-ms-linear-gradient":Jf,"-o-linear-gradient":Jf,"-webkit-linear-gradient":Jf,"radial-gradient":xK,"-moz-radial-gradient":Zf,"-ms-radial-gradient":Zf,"-o-radial-gradient":Zf,"-webkit-radial-gradient":Zf,"-webkit-gradient":yK},CK={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var n=t[0];return n.type===20&&n.value==="none"?[]:t.filter(function(r){return Qc(r)&&BK(r)}).map(function(r){return Hx.parse(e,r)})}},SK={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(n){if(Qn(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},EK={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return _a(t).map(function(n){return n.filter(_r)}).map(v3)}},jK={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return _a(t).map(function(n){return n.filter(Qn).map(function(r){return r.value}).join(" ")}).map(IK)}},IK=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},yc;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(yc||(yc={}));var FK={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return _a(t).map(function(n){return n.filter(kK)})}},kK=function(e){return Qn(e)||_r(e)},Tm=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},NK=Tm("top"),_K=Tm("right"),TK=Tm("bottom"),UK=Tm("left"),Um=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,n){return v3(n.filter(_r))}}},LK=Um("top-left"),DK=Um("top-right"),MK=Um("bottom-right"),QK=Um("bottom-left"),Lm=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},PK=Lm("top"),RK=Lm("right"),HK=Lm("bottom"),OK=Lm("left"),Dm=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,n){return Ih(n)?n.number:0}}},$K=Dm("top"),zK=Dm("right"),WK=Dm("bottom"),KK=Dm("left"),VK={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},GK={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},qK={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Qn).reduce(function(n,r){return n|YK(r.value)},0)}},YK=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},XK={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},JK={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},ug;(function(e){e.NORMAL="normal",e.STRICT="strict"})(ug||(ug={}));var ZK={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return ug.STRICT;case"normal":default:return ug.NORMAL}}},eV={name:"line-height",initialValue:"normal",prefix:!1,type:4},ZB=function(e,t){return Qn(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:_r(e)?Kn(e,t):t},tV={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:Hx.parse(e,t)}},nV={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},ay={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Mm=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},rV=Mm("top"),sV=Mm("right"),iV=Mm("bottom"),aV=Mm("left"),oV={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Qn).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},AV={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},Qm=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},lV=Qm("top"),cV=Qm("right"),uV=Qm("bottom"),dV=Qm("left"),hV={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},fV={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},pV={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&iy(t[0],"none")?[]:_a(t).map(function(n){for(var r={color:ro.TRANSPARENT,offsetX:ts,offsetY:ts,blur:ts},s=0,i=0;i<n.length;i++){var o=n[i];rA(o)?(s===0?r.offsetX=o:s===1?r.offsetY=o:r.blur=o,s++):r.color=qo.parse(e,o)}return r})}},gV={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},mV={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var n=xV[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return n(t.values)}return null}},vV=function(e){var t=e.filter(function(n){return n.type===17}).map(function(n){return n.number});return t.length===6?t:null},yV=function(e){var t=e.filter(function(l){return l.type===17}).map(function(l){return l.number}),n=t[0],r=t[1];t[2],t[3];var s=t[4],i=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var o=t[12],A=t[13];return t[14],t[15],t.length===16?[n,r,s,i,o,A]:null},xV={matrix:vV,matrix3d:yV},eC={type:16,number:50,flags:jh},bV=[eC,eC],wV={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var n=t.filter(_r);return n.length!==2?bV:[n[0],n[1]]}},BV={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Td;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(Td||(Td={}));var CV={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return Td.BREAK_ALL;case"keep-all":return Td.KEEP_ALL;case"normal":default:return Td.NORMAL}}},SV={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(ru(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},U3={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},EV={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return ru(t)?t.number:1}},jV={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},IV={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Qn).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},FV={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var n=[],r=[];return t.forEach(function(s){switch(s.type){case 20:case 0:n.push(s.value);break;case 17:n.push(s.number.toString());break;case 4:r.push(n.join(" ")),n.length=0;break}}),n.length&&r.push(n.join(" ")),r.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},kV={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},NV={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(ru(t))return t.number;if(Qn(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},_V={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Qn).map(function(n){return n.value})}},TV={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Ur=function(e,t){return(e&t)!==0},UV={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var n=t[0];return n.type===20&&n.value==="none"?[]:t}},LV={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var n=t[0];if(n.type===20&&n.value==="none")return null;for(var r=[],s=t.filter(m3),i=0;i<s.length;i++){var o=s[i],A=s[i+1];if(o.type===20){var l=A&&ru(A)?A.number:1;r.push({counter:o.value,increment:l})}}return r}},DV={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var n=[],r=t.filter(m3),s=0;s<r.length;s++){var i=r[s],o=r[s+1];if(Qn(i)&&i.value!=="none"){var A=o&&ru(o)?o.number:0;n.push({counter:i.value,reset:A})}}return n}},MV={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(Ih).map(function(n){return U3.parse(e,n)})}},QV={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var n=t[0];if(n.type===20&&n.value==="none")return null;var r=[],s=t.filter(cK);if(s.length%2!==0)return null;for(var i=0;i<s.length;i+=2){var o=s[i].value,A=s[i+1].value;r.push({open:o,close:A})}return r}},tC=function(e,t,n){if(!e)return"";var r=e[Math.min(t,e.length-1)];return r?n?r.open:r.close:""},PV={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&iy(t[0],"none")?[]:_a(t).map(function(n){for(var r={color:255,offsetX:ts,offsetY:ts,blur:ts,spread:ts,inset:!1},s=0,i=0;i<n.length;i++){var o=n[i];iy(o,"inset")?r.inset=!0:rA(o)?(s===0?r.offsetX=o:s===1?r.offsetY=o:s===2?r.blur=o:r.spread=o,s++):r.color=qo.parse(e,o)}return r})}},RV={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var n=[0,1,2],r=[];return t.filter(Qn).forEach(function(s){switch(s.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),n.forEach(function(s){r.indexOf(s)===-1&&r.push(s)}),r}},HV={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},OV={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Ih(t)?t.number:0}},$V=function(){function e(t,n){var r,s;this.animationDuration=bt(t,MV,n.animationDuration),this.backgroundClip=bt(t,hK,n.backgroundClip),this.backgroundColor=bt(t,fK,n.backgroundColor),this.backgroundImage=bt(t,CK,n.backgroundImage),this.backgroundOrigin=bt(t,SK,n.backgroundOrigin),this.backgroundPosition=bt(t,EK,n.backgroundPosition),this.backgroundRepeat=bt(t,jK,n.backgroundRepeat),this.backgroundSize=bt(t,FK,n.backgroundSize),this.borderTopColor=bt(t,NK,n.borderTopColor),this.borderRightColor=bt(t,_K,n.borderRightColor),this.borderBottomColor=bt(t,TK,n.borderBottomColor),this.borderLeftColor=bt(t,UK,n.borderLeftColor),this.borderTopLeftRadius=bt(t,LK,n.borderTopLeftRadius),this.borderTopRightRadius=bt(t,DK,n.borderTopRightRadius),this.borderBottomRightRadius=bt(t,MK,n.borderBottomRightRadius),this.borderBottomLeftRadius=bt(t,QK,n.borderBottomLeftRadius),this.borderTopStyle=bt(t,PK,n.borderTopStyle),this.borderRightStyle=bt(t,RK,n.borderRightStyle),this.borderBottomStyle=bt(t,HK,n.borderBottomStyle),this.borderLeftStyle=bt(t,OK,n.borderLeftStyle),this.borderTopWidth=bt(t,$K,n.borderTopWidth),this.borderRightWidth=bt(t,zK,n.borderRightWidth),this.borderBottomWidth=bt(t,WK,n.borderBottomWidth),this.borderLeftWidth=bt(t,KK,n.borderLeftWidth),this.boxShadow=bt(t,PV,n.boxShadow),this.color=bt(t,VK,n.color),this.direction=bt(t,GK,n.direction),this.display=bt(t,qK,n.display),this.float=bt(t,XK,n.cssFloat),this.fontFamily=bt(t,FV,n.fontFamily),this.fontSize=bt(t,kV,n.fontSize),this.fontStyle=bt(t,TV,n.fontStyle),this.fontVariant=bt(t,_V,n.fontVariant),this.fontWeight=bt(t,NV,n.fontWeight),this.letterSpacing=bt(t,JK,n.letterSpacing),this.lineBreak=bt(t,ZK,n.lineBreak),this.lineHeight=bt(t,eV,n.lineHeight),this.listStyleImage=bt(t,tV,n.listStyleImage),this.listStylePosition=bt(t,nV,n.listStylePosition),this.listStyleType=bt(t,ay,n.listStyleType),this.marginTop=bt(t,rV,n.marginTop),this.marginRight=bt(t,sV,n.marginRight),this.marginBottom=bt(t,iV,n.marginBottom),this.marginLeft=bt(t,aV,n.marginLeft),this.opacity=bt(t,EV,n.opacity);var i=bt(t,oV,n.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=bt(t,AV,n.overflowWrap),this.paddingTop=bt(t,lV,n.paddingTop),this.paddingRight=bt(t,cV,n.paddingRight),this.paddingBottom=bt(t,uV,n.paddingBottom),this.paddingLeft=bt(t,dV,n.paddingLeft),this.paintOrder=bt(t,RV,n.paintOrder),this.position=bt(t,fV,n.position),this.textAlign=bt(t,hV,n.textAlign),this.textDecorationColor=bt(t,jV,(r=n.textDecorationColor)!==null&&r!==void 0?r:n.color),this.textDecorationLine=bt(t,IV,(s=n.textDecorationLine)!==null&&s!==void 0?s:n.textDecoration),this.textShadow=bt(t,pV,n.textShadow),this.textTransform=bt(t,gV,n.textTransform),this.transform=bt(t,mV,n.transform),this.transformOrigin=bt(t,wV,n.transformOrigin),this.visibility=bt(t,BV,n.visibility),this.webkitTextStrokeColor=bt(t,HV,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=bt(t,OV,n.webkitTextStrokeWidth),this.wordBreak=bt(t,CV,n.wordBreak),this.zIndex=bt(t,SV,n.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return Yo(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return Ur(this.display,4)||Ur(this.display,33554432)||Ur(this.display,268435456)||Ur(this.display,536870912)||Ur(this.display,67108864)||Ur(this.display,134217728)},e}(),zV=function(){function e(t,n){this.content=bt(t,UV,n.content),this.quotes=bt(t,QV,n.quotes)}return e}(),nC=function(){function e(t,n){this.counterIncrement=bt(t,LV,n.counterIncrement),this.counterReset=bt(t,DV,n.counterReset)}return e}(),bt=function(e,t,n){var r=new p3,s=n!==null&&typeof n<"u"?n.toString():t.initialValue;r.write(s);var i=new g3(r.read());switch(t.type){case 2:var o=i.parseComponentValue();return t.parse(e,Qn(o)?o.value:t.initialValue);case 0:return t.parse(e,i.parseComponentValue());case 1:return t.parse(e,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(t.format){case"angle":return Nm.parse(e,i.parseComponentValue());case"color":return qo.parse(e,i.parseComponentValue());case"image":return Hx.parse(e,i.parseComponentValue());case"length":var A=i.parseComponentValue();return rA(A)?A:ts;case"length-percentage":var l=i.parseComponentValue();return _r(l)?l:ts;case"time":return U3.parse(e,i.parseComponentValue())}break}},WV="data-html2canvas-debug",KV=function(e){var t=e.getAttribute(WV);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},oy=function(e,t){var n=KV(e);return n===1||t===n},Ta=function(){function e(t,n){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,oy(n,3))debugger;this.styles=new $V(t,window.getComputedStyle(n,null)),cy(n)&&(this.styles.animationDuration.some(function(r){return r>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=Fm(this.context,n),oy(n,4)&&(this.flags|=16)}return e}(),VV="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",rC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",md=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ep=0;ep<rC.length;ep++)md[rC.charCodeAt(ep)]=ep;var GV=function(e){var t=e.length*.75,n=e.length,r,s=0,i,o,A,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),u=Array.isArray(c)?c:new Uint8Array(c);for(r=0;r<n;r+=4)i=md[e.charCodeAt(r)],o=md[e.charCodeAt(r+1)],A=md[e.charCodeAt(r+2)],l=md[e.charCodeAt(r+3)],u[s++]=i<<2|o>>4,u[s++]=(o&15)<<4|A>>2,u[s++]=(A&3)<<6|l&63;return c},qV=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},YV=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},MA=5,Ox=11,Sv=2,XV=Ox-MA,L3=65536>>MA,JV=1<<MA,Ev=JV-1,ZV=1024>>MA,eG=L3+ZV,tG=eG,nG=32,rG=tG+nG,sG=65536>>Ox,iG=1<<XV,aG=iG-1,sC=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},oG=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},AG=function(e,t){var n=GV(e),r=Array.isArray(n)?YV(n):new Uint32Array(n),s=Array.isArray(n)?qV(n):new Uint16Array(n),i=24,o=sC(s,i/2,r[4]/2),A=r[5]===2?sC(s,(i+r[4])/2):oG(r,Math.ceil((i+r[4])/4));return new lG(r[0],r[1],r[2],r[3],o,A)},lG=function(){function e(t,n,r,s,i,o){this.initialValue=t,this.errorValue=n,this.highStart=r,this.highValueIndex=s,this.index=i,this.data=o}return e.prototype.get=function(t){var n;if(t>=0){if(t<55296||t>56319&&t<=65535)return n=this.index[t>>MA],n=(n<<Sv)+(t&Ev),this.data[n];if(t<=65535)return n=this.index[L3+(t-55296>>MA)],n=(n<<Sv)+(t&Ev),this.data[n];if(t<this.highStart)return n=rG-sG+(t>>Ox),n=this.index[n],n+=t>>MA&aG,n=this.index[n],n=(n<<Sv)+(t&Ev),this.data[n];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),iC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",cG=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var tp=0;tp<iC.length;tp++)cG[iC.charCodeAt(tp)]=tp;var uG=1,jv=2,Iv=3,aC=4,oC=5,dG=7,AC=8,Fv=9,kv=10,lC=11,cC=12,uC=13,dC=14,Nv=15,hG=function(e){for(var t=[],n=0,r=e.length;n<r;){var s=e.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var i=e.charCodeAt(n++);(i&64512)===56320?t.push(((s&1023)<<10)+(i&1023)+65536):(t.push(s),n--)}else t.push(s)}return t},fG=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],s=-1,i="";++s<n;){var o=e[s];o<=65535?r.push(o):(o-=65536,r.push((o>>10)+55296,o%1024+56320)),(s+1===n||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},pG=AG(VV),vi="×",_v="÷",gG=function(e){return pG.get(e)},mG=function(e,t,n){var r=n-2,s=t[r],i=t[n-1],o=t[n];if(i===jv&&o===Iv)return vi;if(i===jv||i===Iv||i===aC||o===jv||o===Iv||o===aC)return _v;if(i===AC&&[AC,Fv,lC,cC].indexOf(o)!==-1||(i===lC||i===Fv)&&(o===Fv||o===kv)||(i===cC||i===kv)&&o===kv||o===uC||o===oC||o===dG||i===uG)return vi;if(i===uC&&o===dC){for(;s===oC;)s=t[--r];if(s===dC)return vi}if(i===Nv&&o===Nv){for(var A=0;s===Nv;)A++,s=t[--r];if(A%2===0)return vi}return _v},vG=function(e){var t=hG(e),n=t.length,r=0,s=0,i=t.map(gG);return{next:function(){if(r>=n)return{done:!0,value:null};for(var o=vi;r<n&&(o=mG(t,i,++r))===vi;);if(o!==vi||r===n){var A=fG.apply(null,t.slice(s,r));return s=r,{value:A,done:!1}}return{done:!0,value:null}}}},yG=function(e){for(var t=vG(e),n=[],r;!(r=t.next()).done;)r.value&&n.push(r.value.slice());return n},xG=function(e){var t=123;if(e.createRange){var n=e.createRange();if(n.getBoundingClientRect){var r=e.createElement("boundtest");r.style.height=t+"px",r.style.display="block",e.body.appendChild(r),n.selectNode(r);var s=n.getBoundingClientRect(),i=Math.round(s.height);if(e.body.removeChild(r),i===t)return!0}}return!1},bG=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=t.firstChild,s=km(r.data).map(function(l){return mr(l)}),i=0,o={},A=s.every(function(l,c){n.setStart(r,i),n.setEnd(r,i+l.length);var u=n.getBoundingClientRect();i+=l.length;var d=u.x>o.x||u.y>o.y;return o=u,c===0?!0:d});return e.body.removeChild(t),A},wG=function(){return typeof new Image().crossOrigin<"u"},BG=function(){return typeof new XMLHttpRequest().responseType=="string"},CG=function(e){var t=new Image,n=e.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(t,0,0),n.toDataURL()}catch{return!1}return!0},hC=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},SG=function(e){var t=e.createElement("canvas"),n=100;t.width=n,t.height=n;var r=t.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var s=new Image,i=t.toDataURL();s.src=i;var o=Ay(n,n,0,0,s);return r.fillStyle="red",r.fillRect(0,0,n,n),fC(o).then(function(A){r.drawImage(A,0,0);var l=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var c=e.createElement("div");return c.style.backgroundImage="url("+i+")",c.style.height=n+"px",hC(l)?fC(Ay(n,n,0,0,c)):Promise.reject(!1)}).then(function(A){return r.drawImage(A,0,0),hC(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},Ay=function(e,t,n,r,s){var i="http://www.w3.org/2000/svg",o=document.createElementNS(i,"svg"),A=document.createElementNS(i,"foreignObject");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",t.toString()),A.setAttributeNS(null,"width","100%"),A.setAttributeNS(null,"height","100%"),A.setAttributeNS(null,"x",n.toString()),A.setAttributeNS(null,"y",r.toString()),A.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(A),A.appendChild(s),o},fC=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Xr={get SUPPORT_RANGE_BOUNDS(){var e=xG(document);return Object.defineProperty(Xr,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Xr.SUPPORT_RANGE_BOUNDS&&bG(document);return Object.defineProperty(Xr,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=CG(document);return Object.defineProperty(Xr,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?SG(document):Promise.resolve(!1);return Object.defineProperty(Xr,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=wG();return Object.defineProperty(Xr,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=BG();return Object.defineProperty(Xr,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Xr,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Xr,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},Ud=function(){function e(t,n){this.text=t,this.bounds=n}return e}(),EG=function(e,t,n,r){var s=FG(t,n),i=[],o=0;return s.forEach(function(A){if(n.textDecorationLine.length||A.trim().length>0)if(Xr.SUPPORT_RANGE_BOUNDS){var l=pC(r,o,A.length).getClientRects();if(l.length>1){var c=$x(A),u=0;c.forEach(function(p){i.push(new Ud(p,co.fromDOMRectList(e,pC(r,u+o,p.length).getClientRects()))),u+=p.length})}else i.push(new Ud(A,co.fromDOMRectList(e,l)))}else{var d=r.splitText(A.length);i.push(new Ud(A,jG(e,r))),r=d}else Xr.SUPPORT_RANGE_BOUNDS||(r=r.splitText(A.length));o+=A.length}),i},jG=function(e,t){var n=t.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(t.cloneNode(!0));var s=t.parentNode;if(s){s.replaceChild(r,t);var i=Fm(e,r);return r.firstChild&&s.replaceChild(r.firstChild,r),i}}return co.EMPTY},pC=function(e,t,n){var r=e.ownerDocument;if(!r)throw new Error("Node has no owner document");var s=r.createRange();return s.setStart(e,t),s.setEnd(e,t+n),s},$x=function(e){if(Xr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(n){return n.segment})}return yG(e)},IG=function(e,t){if(Xr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(e)).map(function(r){return r.segment})}return NG(e,t)},FG=function(e,t){return t.letterSpacing!==0?$x(e):IG(e,t)},kG=[32,160,4961,65792,65793,4153,4241],NG=function(e,t){for(var n=sW(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),r=[],s,i=function(){if(s.value){var o=s.value.slice(),A=km(o),l="";A.forEach(function(c){kG.indexOf(c)===-1?l+=mr(c):(l.length&&r.push(l),r.push(mr(c)),l="")}),l.length&&r.push(l)}};!(s=n.next()).done;)i();return r},_G=function(){function e(t,n,r){this.text=TG(n.data,r.textTransform),this.textBounds=EG(t,this.text,r,n)}return e}(),TG=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(UG,LG);case 2:return e.toUpperCase();default:return e}},UG=/(^|\s|:|-|\(|\))([a-z])/g,LG=function(e,t,n){return e.length>0?t+n.toUpperCase():e},D3=function(e){na(t,e);function t(n,r){var s=e.call(this,n,r)||this;return s.src=r.currentSrc||r.src,s.intrinsicWidth=r.naturalWidth,s.intrinsicHeight=r.naturalHeight,s.context.cache.addImage(s.src),s}return t}(Ta),M3=function(e){na(t,e);function t(n,r){var s=e.call(this,n,r)||this;return s.canvas=r,s.intrinsicWidth=r.width,s.intrinsicHeight=r.height,s}return t}(Ta),Q3=function(e){na(t,e);function t(n,r){var s=e.call(this,n,r)||this,i=new XMLSerializer,o=Fm(n,r);return r.setAttribute("width",o.width+"px"),r.setAttribute("height",o.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(r)),s.intrinsicWidth=r.width.baseVal.value,s.intrinsicHeight=r.height.baseVal.value,s.context.cache.addImage(s.svg),s}return t}(Ta),P3=function(e){na(t,e);function t(n,r){var s=e.call(this,n,r)||this;return s.value=r.value,s}return t}(Ta),ly=function(e){na(t,e);function t(n,r){var s=e.call(this,n,r)||this;return s.start=r.start,s.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,s}return t}(Ta),DG=[{type:15,flags:0,unit:"px",number:3}],MG=[{type:16,flags:0,number:50}],QG=function(e){return e.width>e.height?new co(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new co(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},PG=function(e){var t=e.type===RG?new Array(e.value.length+1).join("•"):e.value;return t.length===0?e.placeholder||"":t},dg="checkbox",hg="radio",RG="password",gC=707406591,zx=function(e){na(t,e);function t(n,r){var s=e.call(this,n,r)||this;switch(s.type=r.type.toLowerCase(),s.checked=r.checked,s.value=PG(r),(s.type===dg||s.type===hg)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=QG(s.bounds)),s.type){case dg:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=DG;break;case hg:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=MG;break}return s}return t}(Ta),R3=function(e){na(t,e);function t(n,r){var s=e.call(this,n,r)||this,i=r.options[r.selectedIndex||0];return s.value=i&&i.text||"",s}return t}(Ta),H3=function(e){na(t,e);function t(n,r){var s=e.call(this,n,r)||this;return s.value=r.value,s}return t}(Ta),O3=function(e){na(t,e);function t(n,r){var s=e.call(this,n,r)||this;s.src=r.src,s.width=parseInt(r.width,10)||0,s.height=parseInt(r.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){s.tree=z3(n,r.contentWindow.document.documentElement);var i=r.contentWindow.document.documentElement?_d(n,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):ro.TRANSPARENT,o=r.contentWindow.document.body?_d(n,getComputedStyle(r.contentWindow.document.body).backgroundColor):ro.TRANSPARENT;s.backgroundColor=Yo(i)?Yo(o)?s.styles.backgroundColor:o:i}}catch{}return s}return t}(Ta),HG=["OL","UL","MENU"],Np=function(e,t,n,r){for(var s=t.firstChild,i=void 0;s;s=i)if(i=s.nextSibling,W3(s)&&s.data.trim().length>0)n.textNodes.push(new _G(e,s,n.styles));else if(sc(s))if(q3(s)&&s.assignedNodes)s.assignedNodes().forEach(function(A){return Np(e,A,n,r)});else{var o=$3(e,s);o.styles.isVisible()&&(OG(s,o,r)?o.flags|=4:$G(o.styles)&&(o.flags|=2),HG.indexOf(s.tagName)!==-1&&(o.flags|=8),n.elements.push(o),s.slot,s.shadowRoot?Np(e,s.shadowRoot,o,r):!fg(s)&&!K3(s)&&!pg(s)&&Np(e,s,o,r))}},$3=function(e,t){return uy(t)?new D3(e,t):V3(t)?new M3(e,t):K3(t)?new Q3(e,t):zG(t)?new P3(e,t):WG(t)?new ly(e,t):KG(t)?new zx(e,t):pg(t)?new R3(e,t):fg(t)?new H3(e,t):G3(t)?new O3(e,t):new Ta(e,t)},z3=function(e,t){var n=$3(e,t);return n.flags|=4,Np(e,t,n,n),n},OG=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||Wx(e)&&n.styles.isTransparent()},$G=function(e){return e.isPositioned()||e.isFloating()},W3=function(e){return e.nodeType===Node.TEXT_NODE},sc=function(e){return e.nodeType===Node.ELEMENT_NODE},cy=function(e){return sc(e)&&typeof e.style<"u"&&!_p(e)},_p=function(e){return typeof e.className=="object"},zG=function(e){return e.tagName==="LI"},WG=function(e){return e.tagName==="OL"},KG=function(e){return e.tagName==="INPUT"},VG=function(e){return e.tagName==="HTML"},K3=function(e){return e.tagName==="svg"},Wx=function(e){return e.tagName==="BODY"},V3=function(e){return e.tagName==="CANVAS"},mC=function(e){return e.tagName==="VIDEO"},uy=function(e){return e.tagName==="IMG"},G3=function(e){return e.tagName==="IFRAME"},vC=function(e){return e.tagName==="STYLE"},GG=function(e){return e.tagName==="SCRIPT"},fg=function(e){return e.tagName==="TEXTAREA"},pg=function(e){return e.tagName==="SELECT"},q3=function(e){return e.tagName==="SLOT"},yC=function(e){return e.tagName.indexOf("-")>0},qG=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var n=this.counters[t];return n&&n.length?n[n.length-1]:1},e.prototype.getCounterValues=function(t){var n=this.counters[t];return n||[]},e.prototype.pop=function(t){var n=this;t.forEach(function(r){return n.counters[r].pop()})},e.prototype.parse=function(t){var n=this,r=t.counterIncrement,s=t.counterReset,i=!0;r!==null&&r.forEach(function(A){var l=n.counters[A.counter];l&&A.increment!==0&&(i=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=A.increment)});var o=[];return i&&s.forEach(function(A){var l=n.counters[A.counter];o.push(A.counter),l||(l=n.counters[A.counter]=[]),l.push(A.reset)}),o},e}(),xC={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},bC={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},YG={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},XG={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},Rl=function(e,t,n,r,s,i){return e<t||e>n?eh(e,s,i.length>0):r.integers.reduce(function(o,A,l){for(;e>=A;)e-=A,o+=r.values[l];return o},"")+i},Y3=function(e,t,n,r){var s="";do n||e--,s=r(e)+s,e/=t;while(e*t>=t);return s},gr=function(e,t,n,r,s){var i=n-t+1;return(e<0?"-":"")+(Y3(Math.abs(e),i,r,function(o){return mr(Math.floor(o%i)+t)})+s)},yA=function(e,t,n){n===void 0&&(n=". ");var r=t.length;return Y3(Math.abs(e),r,!1,function(s){return t[Math.floor(s%r)]})+n},Yl=1,Do=2,Mo=4,vd=8,Va=function(e,t,n,r,s,i){if(e<-9999||e>9999)return eh(e,4,s.length>0);var o=Math.abs(e),A=s;if(o===0)return t[0]+A;for(var l=0;o>0&&l<=4;l++){var c=o%10;c===0&&Ur(i,Yl)&&A!==""?A=t[c]+A:c>1||c===1&&l===0||c===1&&l===1&&Ur(i,Do)||c===1&&l===1&&Ur(i,Mo)&&e>100||c===1&&l>1&&Ur(i,vd)?A=t[c]+(l>0?n[l-1]:"")+A:c===1&&l>0&&(A=n[l-1]+A),o=Math.floor(o/10)}return(e<0?r:"")+A},wC="十百千萬",BC="拾佰仟萬",CC="マイナス",Tv="마이너스",eh=function(e,t,n){var r=n?". ":"",s=n?"、":"",i=n?", ":"",o=n?" ":"";switch(t){case 0:return"•"+o;case 1:return"◦"+o;case 2:return"◾"+o;case 5:var A=gr(e,48,57,!0,r);return A.length<4?"0"+A:A;case 4:return yA(e,"〇一二三四五六七八九",s);case 6:return Rl(e,1,3999,xC,3,r).toLowerCase();case 7:return Rl(e,1,3999,xC,3,r);case 8:return gr(e,945,969,!1,r);case 9:return gr(e,97,122,!1,r);case 10:return gr(e,65,90,!1,r);case 11:return gr(e,1632,1641,!0,r);case 12:case 49:return Rl(e,1,9999,bC,3,r);case 35:return Rl(e,1,9999,bC,3,r).toLowerCase();case 13:return gr(e,2534,2543,!0,r);case 14:case 30:return gr(e,6112,6121,!0,r);case 15:return yA(e,"子丑寅卯辰巳午未申酉戌亥",s);case 16:return yA(e,"甲乙丙丁戊己庚辛壬癸",s);case 17:case 48:return Va(e,"零一二三四五六七八九",wC,"負",s,Do|Mo|vd);case 47:return Va(e,"零壹貳參肆伍陸柒捌玖",BC,"負",s,Yl|Do|Mo|vd);case 42:return Va(e,"零一二三四五六七八九",wC,"负",s,Do|Mo|vd);case 41:return Va(e,"零壹贰叁肆伍陆柒捌玖",BC,"负",s,Yl|Do|Mo|vd);case 26:return Va(e,"〇一二三四五六七八九","十百千万",CC,s,0);case 25:return Va(e,"零壱弐参四伍六七八九","拾百千万",CC,s,Yl|Do|Mo);case 31:return Va(e,"영일이삼사오육칠팔구","십백천만",Tv,i,Yl|Do|Mo);case 33:return Va(e,"零一二三四五六七八九","十百千萬",Tv,i,0);case 32:return Va(e,"零壹貳參四五六七八九","拾百千",Tv,i,Yl|Do|Mo);case 18:return gr(e,2406,2415,!0,r);case 20:return Rl(e,1,19999,XG,3,r);case 21:return gr(e,2790,2799,!0,r);case 22:return gr(e,2662,2671,!0,r);case 22:return Rl(e,1,10999,YG,3,r);case 23:return yA(e,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return yA(e,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return gr(e,3302,3311,!0,r);case 28:return yA(e,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",s);case 29:return yA(e,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",s);case 34:return gr(e,3792,3801,!0,r);case 37:return gr(e,6160,6169,!0,r);case 38:return gr(e,4160,4169,!0,r);case 39:return gr(e,2918,2927,!0,r);case 40:return gr(e,1776,1785,!0,r);case 43:return gr(e,3046,3055,!0,r);case 44:return gr(e,3174,3183,!0,r);case 45:return gr(e,3664,3673,!0,r);case 46:return gr(e,3872,3881,!0,r);case 3:default:return gr(e,48,57,!0,r)}},X3="data-html2canvas-ignore",SC=function(){function e(t,n,r){if(this.context=t,this.options=r,this.scrolledElements=[],this.referenceElement=n,this.counters=new qG,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,n){var r=this,s=JG(t,n);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var i=t.defaultView.pageXOffset,o=t.defaultView.pageYOffset,A=s.contentWindow,l=A.document,c=tq(s).then(function(){return Cs(r,void 0,void 0,function(){var u,d;return cs(this,function(p){switch(p.label){case 0:return this.scrolledElements.forEach(iq),A&&(A.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(A.scrollY!==n.top||A.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(A.scrollX-n.left,A.scrollY-n.top,0,0))),u=this.options.onclone,d=this.clonedReferenceElement,typeof d>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:p.sent(),p.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,eq(l)]:[3,4];case 3:p.sent(),p.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(l,d)}).then(function(){return s})]:[2,s]}})})});return l.open(),l.write(rq(document.doctype)+"<html></html>"),sq(this.referenceElement.ownerDocument,i,o),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),c},e.prototype.createElementClone=function(t){if(oy(t,2))debugger;if(V3(t))return this.createCanvasClone(t);if(mC(t))return this.createVideoClone(t);if(vC(t))return this.createStyleClone(t);var n=t.cloneNode(!1);return uy(n)&&(uy(t)&&t.currentSrc&&t.currentSrc!==t.src&&(n.src=t.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),yC(n)?this.createCustomElementClone(n):n},e.prototype.createCustomElementClone=function(t){var n=document.createElement("html2canvascustomelement");return Uv(t.style,n),n},e.prototype.createStyleClone=function(t){try{var n=t.sheet;if(n&&n.cssRules){var r=[].slice.call(n.cssRules,0).reduce(function(i,o){return o&&typeof o.cssText=="string"?i+o.cssText:i},""),s=t.cloneNode(!1);return s.textContent=r,s}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var n;if(this.options.inlineImages&&t.ownerDocument){var r=t.ownerDocument.createElement("img");try{return r.src=t.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var s=t.cloneNode(!1);try{s.width=t.width,s.height=t.height;var i=t.getContext("2d"),o=s.getContext("2d");if(o)if(!this.options.allowTaint&&i)o.putImageData(i.getImageData(0,0,t.width,t.height),0,0);else{var A=(n=t.getContext("webgl2"))!==null&&n!==void 0?n:t.getContext("webgl");if(A){var l=A.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}o.drawImage(t,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return s},e.prototype.createVideoClone=function(t){var n=t.ownerDocument.createElement("canvas");n.width=t.offsetWidth,n.height=t.offsetHeight;var r=n.getContext("2d");try{return r&&(r.drawImage(t,0,0,n.width,n.height),this.options.allowTaint||r.getImageData(0,0,n.width,n.height)),n}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var s=t.ownerDocument.createElement("canvas");return s.width=t.offsetWidth,s.height=t.offsetHeight,s},e.prototype.appendChildNode=function(t,n,r){(!sc(n)||!GG(n)&&!n.hasAttribute(X3)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!sc(n)||!vC(n))&&t.appendChild(this.cloneNode(n,r))},e.prototype.cloneChildNodes=function(t,n,r){for(var s=this,i=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;i;i=i.nextSibling)if(sc(i)&&q3(i)&&typeof i.assignedNodes=="function"){var o=i.assignedNodes();o.length&&o.forEach(function(A){return s.appendChildNode(n,A,r)})}else this.appendChildNode(n,i,r)},e.prototype.cloneNode=function(t,n){if(W3(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var r=t.ownerDocument.defaultView;if(r&&sc(t)&&(cy(t)||_p(t))){var s=this.createElementClone(t);s.style.transitionProperty="none";var i=r.getComputedStyle(t),o=r.getComputedStyle(t,":before"),A=r.getComputedStyle(t,":after");this.referenceElement===t&&cy(s)&&(this.clonedReferenceElement=s),Wx(s)&&Aq(s);var l=this.counters.parse(new nC(this.context,i)),c=this.resolvePseudoContent(t,s,o,Ld.BEFORE);yC(t)&&(n=!0),mC(t)||this.cloneChildNodes(t,s,n),c&&s.insertBefore(c,s.firstChild);var u=this.resolvePseudoContent(t,s,A,Ld.AFTER);return u&&s.appendChild(u),this.counters.pop(l),(i&&(this.options.copyStyles||_p(t))&&!G3(t)||n)&&Uv(i,s),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([s,t.scrollLeft,t.scrollTop]),(fg(t)||pg(t))&&(fg(s)||pg(s))&&(s.value=t.value),s}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,n,r,s){var i=this;if(r){var o=r.content,A=n.ownerDocument;if(!(!A||!o||o==="none"||o==="-moz-alt-content"||r.display==="none")){this.counters.parse(new nC(this.context,r));var l=new zV(this.context,r),c=A.createElement("html2canvaspseudoelement");Uv(r,c),l.content.forEach(function(d){if(d.type===0)c.appendChild(A.createTextNode(d.value));else if(d.type===22){var p=A.createElement("img");p.src=d.value,p.style.opacity="1",c.appendChild(p)}else if(d.type===18){if(d.name==="attr"){var f=d.values.filter(Qn);f.length&&c.appendChild(A.createTextNode(t.getAttribute(f[0].value)||""))}else if(d.name==="counter"){var v=d.values.filter(Qc),g=v[0],y=v[1];if(g&&Qn(g)){var x=i.counters.getCounterValue(g.value),w=y&&Qn(y)?ay.parse(i.context,y.value):3;c.appendChild(A.createTextNode(eh(x,w,!1)))}}else if(d.name==="counters"){var b=d.values.filter(Qc),g=b[0],j=b[1],y=b[2];if(g&&Qn(g)){var _=i.counters.getCounterValues(g.value),k=y&&Qn(y)?ay.parse(i.context,y.value):3,D=j&&j.type===0?j.value:"",N=_.map(function(E){return eh(E,k,!1)}).join(D);c.appendChild(A.createTextNode(N))}}}else if(d.type===20)switch(d.value){case"open-quote":c.appendChild(A.createTextNode(tC(l.quotes,i.quoteDepth++,!0)));break;case"close-quote":c.appendChild(A.createTextNode(tC(l.quotes,--i.quoteDepth,!1)));break;default:c.appendChild(A.createTextNode(d.value))}}),c.className=dy+" "+hy;var u=s===Ld.BEFORE?" "+dy:" "+hy;return _p(n)?n.className.baseValue+=u:n.className+=u,c}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e}(),Ld;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(Ld||(Ld={}));var JG=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute(X3,"true"),e.body.appendChild(n),n},ZG=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},eq=function(e){return Promise.all([].slice.call(e.images,0).map(ZG))},tq=function(e){return new Promise(function(t,n){var r=e.contentWindow;if(!r)return n("No window assigned for iframe");var s=r.document;r.onload=e.onload=function(){r.onload=e.onload=null;var i=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(i),t(e))},50)}})},nq=["all","d","content"],Uv=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e.item(n);nq.indexOf(r)===-1&&t.style.setProperty(r,e.getPropertyValue(r))}return t},rq=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},sq=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},iq=function(e){var t=e[0],n=e[1],r=e[2];t.scrollLeft=n,t.scrollTop=r},aq=":before",oq=":after",dy="___html2canvas___pseudoelement_before",hy="___html2canvas___pseudoelement_after",EC=`{
    content: "" !important;
    display: none !important;
}`,Aq=function(e){lq(e,"."+dy+aq+EC+`
         .`+hy+oq+EC)},lq=function(e,t){var n=e.ownerDocument;if(n){var r=n.createElement("style");r.textContent=t,e.appendChild(r)}},J3=function(){function e(){}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),cq=function(){function e(t,n){this.context=t,this._options=n,this._cache={}}return e.prototype.addImage=function(t){var n=Promise.resolve();return this.has(t)||(Dv(t)||fq(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),n},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return Cs(this,void 0,void 0,function(){var n,r,s,i,o=this;return cs(this,function(A){switch(A.label){case 0:return n=J3.isSameOrigin(t),r=!Lv(t)&&this._options.useCORS===!0&&Xr.SUPPORT_CORS_IMAGES&&!n,s=!Lv(t)&&!n&&!Dv(t)&&typeof this._options.proxy=="string"&&Xr.SUPPORT_CORS_XHR&&!r,!n&&this._options.allowTaint===!1&&!Lv(t)&&!Dv(t)&&!s&&!r?[2]:(i=t,s?[4,this.proxy(i)]:[3,2]);case 1:i=A.sent(),A.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(l,c){var u=new Image;u.onload=function(){return l(u)},u.onerror=c,(pq(i)||r)&&(u.crossOrigin="anonymous"),u.src=i,u.complete===!0&&setTimeout(function(){return l(u)},500),o._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,A.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var n=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var s=t.substring(0,256);return new Promise(function(i,o){var A=Xr.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(A==="text")i(l.response);else{var d=new FileReader;d.addEventListener("load",function(){return i(d.result)},!1),d.addEventListener("error",function(p){return o(p)},!1),d.readAsDataURL(l.response)}else o("Failed to proxy resource "+s+" with status code "+l.status)},l.onerror=o;var c=r.indexOf("?")>-1?"&":"?";if(l.open("GET",""+r+c+"url="+encodeURIComponent(t)+"&responseType="+A),A!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=A),n._options.imageTimeout){var u=n._options.imageTimeout;l.timeout=u,l.ontimeout=function(){return o("Timed out ("+u+"ms) proxying "+s)}}l.send()})},e}(),uq=/^data:image\/svg\+xml/i,dq=/^data:image\/.*;base64,/i,hq=/^data:image\/.*/i,fq=function(e){return Xr.SUPPORT_SVG_DRAWING||!gq(e)},Lv=function(e){return hq.test(e)},pq=function(e){return dq.test(e)},Dv=function(e){return e.substr(0,4)==="blob"},gq=function(e){return e.substr(-3).toLowerCase()==="svg"||uq.test(e)},pt=function(){function e(t,n){this.type=0,this.x=t,this.y=n}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),Hl=function(e,t,n){return new pt(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},np=function(){function e(t,n,r,s){this.type=1,this.start=t,this.startControl=n,this.endControl=r,this.end=s}return e.prototype.subdivide=function(t,n){var r=Hl(this.start,this.startControl,t),s=Hl(this.startControl,this.endControl,t),i=Hl(this.endControl,this.end,t),o=Hl(r,s,t),A=Hl(s,i,t),l=Hl(o,A,t);return n?new e(this.start,r,o,l):new e(l,A,i,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),Bi=function(e){return e.type===1},mq=function(){function e(t){var n=t.styles,r=t.bounds,s=gd(n.borderTopLeftRadius,r.width,r.height),i=s[0],o=s[1],A=gd(n.borderTopRightRadius,r.width,r.height),l=A[0],c=A[1],u=gd(n.borderBottomRightRadius,r.width,r.height),d=u[0],p=u[1],f=gd(n.borderBottomLeftRadius,r.width,r.height),v=f[0],g=f[1],y=[];y.push((i+l)/r.width),y.push((v+d)/r.width),y.push((o+g)/r.height),y.push((c+p)/r.height);var x=Math.max.apply(Math,y);x>1&&(i/=x,o/=x,l/=x,c/=x,d/=x,p/=x,v/=x,g/=x);var w=r.width-l,b=r.height-p,j=r.width-d,_=r.height-g,k=n.borderTopWidth,D=n.borderRightWidth,N=n.borderBottomWidth,U=n.borderLeftWidth,L=Kn(n.paddingTop,t.bounds.width),E=Kn(n.paddingRight,t.bounds.width),I=Kn(n.paddingBottom,t.bounds.width),T=Kn(n.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||o>0?tr(r.left+U/3,r.top+k/3,i-U/3,o-k/3,kn.TOP_LEFT):new pt(r.left+U/3,r.top+k/3),this.topRightBorderDoubleOuterBox=i>0||o>0?tr(r.left+w,r.top+k/3,l-D/3,c-k/3,kn.TOP_RIGHT):new pt(r.left+r.width-D/3,r.top+k/3),this.bottomRightBorderDoubleOuterBox=d>0||p>0?tr(r.left+j,r.top+b,d-D/3,p-N/3,kn.BOTTOM_RIGHT):new pt(r.left+r.width-D/3,r.top+r.height-N/3),this.bottomLeftBorderDoubleOuterBox=v>0||g>0?tr(r.left+U/3,r.top+_,v-U/3,g-N/3,kn.BOTTOM_LEFT):new pt(r.left+U/3,r.top+r.height-N/3),this.topLeftBorderDoubleInnerBox=i>0||o>0?tr(r.left+U*2/3,r.top+k*2/3,i-U*2/3,o-k*2/3,kn.TOP_LEFT):new pt(r.left+U*2/3,r.top+k*2/3),this.topRightBorderDoubleInnerBox=i>0||o>0?tr(r.left+w,r.top+k*2/3,l-D*2/3,c-k*2/3,kn.TOP_RIGHT):new pt(r.left+r.width-D*2/3,r.top+k*2/3),this.bottomRightBorderDoubleInnerBox=d>0||p>0?tr(r.left+j,r.top+b,d-D*2/3,p-N*2/3,kn.BOTTOM_RIGHT):new pt(r.left+r.width-D*2/3,r.top+r.height-N*2/3),this.bottomLeftBorderDoubleInnerBox=v>0||g>0?tr(r.left+U*2/3,r.top+_,v-U*2/3,g-N*2/3,kn.BOTTOM_LEFT):new pt(r.left+U*2/3,r.top+r.height-N*2/3),this.topLeftBorderStroke=i>0||o>0?tr(r.left+U/2,r.top+k/2,i-U/2,o-k/2,kn.TOP_LEFT):new pt(r.left+U/2,r.top+k/2),this.topRightBorderStroke=i>0||o>0?tr(r.left+w,r.top+k/2,l-D/2,c-k/2,kn.TOP_RIGHT):new pt(r.left+r.width-D/2,r.top+k/2),this.bottomRightBorderStroke=d>0||p>0?tr(r.left+j,r.top+b,d-D/2,p-N/2,kn.BOTTOM_RIGHT):new pt(r.left+r.width-D/2,r.top+r.height-N/2),this.bottomLeftBorderStroke=v>0||g>0?tr(r.left+U/2,r.top+_,v-U/2,g-N/2,kn.BOTTOM_LEFT):new pt(r.left+U/2,r.top+r.height-N/2),this.topLeftBorderBox=i>0||o>0?tr(r.left,r.top,i,o,kn.TOP_LEFT):new pt(r.left,r.top),this.topRightBorderBox=l>0||c>0?tr(r.left+w,r.top,l,c,kn.TOP_RIGHT):new pt(r.left+r.width,r.top),this.bottomRightBorderBox=d>0||p>0?tr(r.left+j,r.top+b,d,p,kn.BOTTOM_RIGHT):new pt(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=v>0||g>0?tr(r.left,r.top+_,v,g,kn.BOTTOM_LEFT):new pt(r.left,r.top+r.height),this.topLeftPaddingBox=i>0||o>0?tr(r.left+U,r.top+k,Math.max(0,i-U),Math.max(0,o-k),kn.TOP_LEFT):new pt(r.left+U,r.top+k),this.topRightPaddingBox=l>0||c>0?tr(r.left+Math.min(w,r.width-D),r.top+k,w>r.width+D?0:Math.max(0,l-D),Math.max(0,c-k),kn.TOP_RIGHT):new pt(r.left+r.width-D,r.top+k),this.bottomRightPaddingBox=d>0||p>0?tr(r.left+Math.min(j,r.width-U),r.top+Math.min(b,r.height-N),Math.max(0,d-D),Math.max(0,p-N),kn.BOTTOM_RIGHT):new pt(r.left+r.width-D,r.top+r.height-N),this.bottomLeftPaddingBox=v>0||g>0?tr(r.left+U,r.top+Math.min(_,r.height-N),Math.max(0,v-U),Math.max(0,g-N),kn.BOTTOM_LEFT):new pt(r.left+U,r.top+r.height-N),this.topLeftContentBox=i>0||o>0?tr(r.left+U+T,r.top+k+L,Math.max(0,i-(U+T)),Math.max(0,o-(k+L)),kn.TOP_LEFT):new pt(r.left+U+T,r.top+k+L),this.topRightContentBox=l>0||c>0?tr(r.left+Math.min(w,r.width+U+T),r.top+k+L,w>r.width+U+T?0:l-U+T,c-(k+L),kn.TOP_RIGHT):new pt(r.left+r.width-(D+E),r.top+k+L),this.bottomRightContentBox=d>0||p>0?tr(r.left+Math.min(j,r.width-(U+T)),r.top+Math.min(b,r.height+k+L),Math.max(0,d-(D+E)),p-(N+I),kn.BOTTOM_RIGHT):new pt(r.left+r.width-(D+E),r.top+r.height-(N+I)),this.bottomLeftContentBox=v>0||g>0?tr(r.left+U+T,r.top+_,Math.max(0,v-(U+T)),g-(N+I),kn.BOTTOM_LEFT):new pt(r.left+U+T,r.top+r.height-(N+I))}return e}(),kn;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(kn||(kn={}));var tr=function(e,t,n,r,s){var i=4*((Math.sqrt(2)-1)/3),o=n*i,A=r*i,l=e+n,c=t+r;switch(s){case kn.TOP_LEFT:return new np(new pt(e,c),new pt(e,c-A),new pt(l-o,t),new pt(l,t));case kn.TOP_RIGHT:return new np(new pt(e,t),new pt(e+o,t),new pt(l,c-A),new pt(l,c));case kn.BOTTOM_RIGHT:return new np(new pt(l,t),new pt(l,t+A),new pt(e+o,c),new pt(e,c));case kn.BOTTOM_LEFT:default:return new np(new pt(l,c),new pt(l-o,c),new pt(e,t+A),new pt(e,t))}},gg=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},vq=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},mg=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},yq=function(){function e(t,n,r){this.offsetX=t,this.offsetY=n,this.matrix=r,this.type=0,this.target=6}return e}(),rp=function(){function e(t,n){this.path=t,this.target=n,this.type=1}return e}(),xq=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),bq=function(e){return e.type===0},Z3=function(e){return e.type===1},wq=function(e){return e.type===2},jC=function(e,t){return e.length===t.length?e.some(function(n,r){return n===t[r]}):!1},Bq=function(e,t,n,r,s){return e.map(function(i,o){switch(o){case 0:return i.add(t,n);case 1:return i.add(t+r,n);case 2:return i.add(t+r,n+s);case 3:return i.add(t,n+s)}return i})},ej=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),tj=function(){function e(t,n){if(this.container=t,this.parent=n,this.effects=[],this.curves=new mq(this.container),this.container.styles.opacity<1&&this.effects.push(new xq(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new yq(r,s,i))}if(this.container.styles.overflowX!==0){var o=gg(this.curves),A=mg(this.curves);jC(o,A)?this.effects.push(new rp(o,6)):(this.effects.push(new rp(o,2)),this.effects.push(new rp(A,4)))}}return e.prototype.getEffects=function(t){for(var n=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,s=this.effects.slice(0);r;){var i=r.effects.filter(function(l){return!Z3(l)});if(n||r.container.styles.position!==0||!r.parent){if(s.unshift.apply(s,i),n=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var o=gg(r.curves),A=mg(r.curves);jC(o,A)||s.unshift(new rp(A,6))}}else s.unshift.apply(s,i);r=r.parent}return s.filter(function(l){return Ur(l.target,t)})},e}(),fy=function(e,t,n,r){e.container.elements.forEach(function(s){var i=Ur(s.flags,4),o=Ur(s.flags,2),A=new tj(s,e);Ur(s.styles.display,2048)&&r.push(A);var l=Ur(s.flags,8)?[]:r;if(i||o){var c=i||s.styles.isPositioned()?n:t,u=new ej(A);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var d=s.styles.zIndex.order;if(d<0){var p=0;c.negativeZIndex.some(function(v,g){return d>v.element.container.styles.zIndex.order?(p=g,!1):p>0}),c.negativeZIndex.splice(p,0,u)}else if(d>0){var f=0;c.positiveZIndex.some(function(v,g){return d>=v.element.container.styles.zIndex.order?(f=g+1,!1):f>0}),c.positiveZIndex.splice(f,0,u)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else s.styles.isFloating()?c.nonPositionedFloats.push(u):c.nonPositionedInlineLevel.push(u);fy(A,u,i?u:n,l)}else s.styles.isInlineLevel()?t.inlineLevel.push(A):t.nonInlineLevel.push(A),fy(A,t,n,l);Ur(s.flags,8)&&nj(s,l)})},nj=function(e,t){for(var n=e instanceof ly?e.start:1,r=e instanceof ly?e.reversed:!1,s=0;s<t.length;s++){var i=t[s];i.container instanceof P3&&typeof i.container.value=="number"&&i.container.value!==0&&(n=i.container.value),i.listValue=eh(n,i.container.styles.listStyleType,!0),n+=r?-1:1}},Cq=function(e){var t=new tj(e,null),n=new ej(t),r=[];return fy(t,n,n,r),nj(t.container,r),n},IC=function(e,t){switch(t){case 0:return Ei(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return Ei(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return Ei(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return Ei(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},Sq=function(e,t){switch(t){case 0:return Ei(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return Ei(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return Ei(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return Ei(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},Eq=function(e,t){switch(t){case 0:return Ei(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return Ei(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return Ei(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return Ei(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},jq=function(e,t){switch(t){case 0:return sp(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return sp(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return sp(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return sp(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},sp=function(e,t){var n=[];return Bi(e)?n.push(e.subdivide(.5,!1)):n.push(e),Bi(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},Ei=function(e,t,n,r){var s=[];return Bi(e)?s.push(e.subdivide(.5,!1)):s.push(e),Bi(n)?s.push(n.subdivide(.5,!0)):s.push(n),Bi(r)?s.push(r.subdivide(.5,!0).reverse()):s.push(r),Bi(t)?s.push(t.subdivide(.5,!1).reverse()):s.push(t),s},rj=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},vg=function(e){var t=e.styles,n=e.bounds,r=Kn(t.paddingLeft,n.width),s=Kn(t.paddingRight,n.width),i=Kn(t.paddingTop,n.width),o=Kn(t.paddingBottom,n.width);return n.add(r+t.borderLeftWidth,i+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+r+s),-(t.borderTopWidth+t.borderBottomWidth+i+o))},Iq=function(e,t){return e===0?t.bounds:e===2?vg(t):rj(t)},Fq=function(e,t){return e===0?t.bounds:e===2?vg(t):rj(t)},Mv=function(e,t,n){var r=Iq(Xl(e.styles.backgroundOrigin,t),e),s=Fq(Xl(e.styles.backgroundClip,t),e),i=kq(Xl(e.styles.backgroundSize,t),n,r),o=i[0],A=i[1],l=gd(Xl(e.styles.backgroundPosition,t),r.width-o,r.height-A),c=Nq(Xl(e.styles.backgroundRepeat,t),l,i,r,s),u=Math.round(r.left+l[0]),d=Math.round(r.top+l[1]);return[c,u,d,o,A]},Ol=function(e){return Qn(e)&&e.value===yc.AUTO},ip=function(e){return typeof e=="number"},kq=function(e,t,n){var r=t[0],s=t[1],i=t[2],o=e[0],A=e[1];if(!o)return[0,0];if(_r(o)&&A&&_r(A))return[Kn(o,n.width),Kn(A,n.height)];var l=ip(i);if(Qn(o)&&(o.value===yc.CONTAIN||o.value===yc.COVER)){if(ip(i)){var c=n.width/n.height;return c<i!=(o.value===yc.COVER)?[n.width,n.width/i]:[n.height*i,n.height]}return[n.width,n.height]}var u=ip(r),d=ip(s),p=u||d;if(Ol(o)&&(!A||Ol(A))){if(u&&d)return[r,s];if(!l&&!p)return[n.width,n.height];if(p&&l){var f=u?r:s*i,v=d?s:r/i;return[f,v]}var g=u?r:n.width,y=d?s:n.height;return[g,y]}if(l){var x=0,w=0;return _r(o)?x=Kn(o,n.width):_r(A)&&(w=Kn(A,n.height)),Ol(o)?x=w*i:(!A||Ol(A))&&(w=x/i),[x,w]}var b=null,j=null;if(_r(o)?b=Kn(o,n.width):A&&_r(A)&&(j=Kn(A,n.height)),b!==null&&(!A||Ol(A))&&(j=u&&d?b/r*s:n.height),j!==null&&Ol(o)&&(b=u&&d?j/s*r:n.width),b!==null&&j!==null)return[b,j];throw new Error("Unable to calculate background-size for element")},Xl=function(e,t){var n=e[t];return typeof n>"u"?e[0]:n},Nq=function(e,t,n,r,s){var i=t[0],o=t[1],A=n[0],l=n[1];switch(e){case 2:return[new pt(Math.round(r.left),Math.round(r.top+o)),new pt(Math.round(r.left+r.width),Math.round(r.top+o)),new pt(Math.round(r.left+r.width),Math.round(l+r.top+o)),new pt(Math.round(r.left),Math.round(l+r.top+o))];case 3:return[new pt(Math.round(r.left+i),Math.round(r.top)),new pt(Math.round(r.left+i+A),Math.round(r.top)),new pt(Math.round(r.left+i+A),Math.round(r.height+r.top)),new pt(Math.round(r.left+i),Math.round(r.height+r.top))];case 1:return[new pt(Math.round(r.left+i),Math.round(r.top+o)),new pt(Math.round(r.left+i+A),Math.round(r.top+o)),new pt(Math.round(r.left+i+A),Math.round(r.top+o+l)),new pt(Math.round(r.left+i),Math.round(r.top+o+l))];default:return[new pt(Math.round(s.left),Math.round(s.top)),new pt(Math.round(s.left+s.width),Math.round(s.top)),new pt(Math.round(s.left+s.width),Math.round(s.height+s.top)),new pt(Math.round(s.left),Math.round(s.height+s.top))]}},_q="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",FC="Hidden Text",Tq=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,n){var r=this._document.createElement("div"),s=this._document.createElement("img"),i=this._document.createElement("span"),o=this._document.body;r.style.visibility="hidden",r.style.fontFamily=t,r.style.fontSize=n,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",o.appendChild(r),s.src=_q,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",i.style.fontFamily=t,i.style.fontSize=n,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(FC)),r.appendChild(i),r.appendChild(s);var A=s.offsetTop-i.offsetTop+2;r.removeChild(i),r.appendChild(this._document.createTextNode(FC)),r.style.lineHeight="normal",s.style.verticalAlign="super";var l=s.offsetTop-r.offsetTop+2;return o.removeChild(r),{baseline:A,middle:l}},e.prototype.getMetrics=function(t,n){var r=t+" "+n;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(t,n)),this._data[r]},e}(),sj=function(){function e(t,n){this.context=t,this.options=n}return e}(),Uq=1e4,Lq=function(e){na(t,e);function t(n,r){var s=e.call(this,n,r)||this;return s._activeEffects=[],s.canvas=r.canvas?r.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),r.canvas||(s.canvas.width=Math.floor(r.width*r.scale),s.canvas.height=Math.floor(r.height*r.scale),s.canvas.style.width=r.width+"px",s.canvas.style.height=r.height+"px"),s.fontMetrics=new Tq(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-r.x,-r.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),s}return t.prototype.applyEffects=function(n){for(var r=this;this._activeEffects.length;)this.popEffect();n.forEach(function(s){return r.applyEffect(s)})},t.prototype.applyEffect=function(n){this.ctx.save(),wq(n)&&(this.ctx.globalAlpha=n.opacity),bq(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),Z3(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(n){return Cs(this,void 0,void 0,function(){var r;return cs(this,function(s){switch(s.label){case 0:return r=n.element.container.styles,r.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(n){return Cs(this,void 0,void 0,function(){return cs(this,function(r){switch(r.label){case 0:if(Ur(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(n)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(n,r,s){var i=this;if(r===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+s);else{var o=$x(n.text);o.reduce(function(A,l){return i.ctx.fillText(l,A,n.bounds.top+s),A+i.ctx.measureText(l).width},n.bounds.left)}},t.prototype.createFontStyle=function(n){var r=n.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),s=Rq(n.fontFamily).join(", "),i=Ih(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,r,n.fontWeight,i,s].join(" "),s,i]},t.prototype.renderTextNode=function(n,r){return Cs(this,void 0,void 0,function(){var s,i,o,A,l,c,u,d,p=this;return cs(this,function(f){return s=this.createFontStyle(r),i=s[0],o=s[1],A=s[2],this.ctx.font=i,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(o,A),c=l.baseline,u=l.middle,d=r.paintOrder,n.textBounds.forEach(function(v){d.forEach(function(g){switch(g){case 0:p.ctx.fillStyle=Or(r.color),p.renderTextWithLetterSpacing(v,r.letterSpacing,c);var y=r.textShadow;y.length&&v.text.trim().length&&(y.slice(0).reverse().forEach(function(x){p.ctx.shadowColor=Or(x.color),p.ctx.shadowOffsetX=x.offsetX.number*p.options.scale,p.ctx.shadowOffsetY=x.offsetY.number*p.options.scale,p.ctx.shadowBlur=x.blur.number,p.renderTextWithLetterSpacing(v,r.letterSpacing,c)}),p.ctx.shadowColor="",p.ctx.shadowOffsetX=0,p.ctx.shadowOffsetY=0,p.ctx.shadowBlur=0),r.textDecorationLine.length&&(p.ctx.fillStyle=Or(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(x){switch(x){case 1:p.ctx.fillRect(v.bounds.left,Math.round(v.bounds.top+c),v.bounds.width,1);break;case 2:p.ctx.fillRect(v.bounds.left,Math.round(v.bounds.top),v.bounds.width,1);break;case 3:p.ctx.fillRect(v.bounds.left,Math.ceil(v.bounds.top+u),v.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&v.text.trim().length&&(p.ctx.strokeStyle=Or(r.webkitTextStrokeColor),p.ctx.lineWidth=r.webkitTextStrokeWidth,p.ctx.lineJoin=window.chrome?"miter":"round",p.ctx.strokeText(v.text,v.bounds.left,v.bounds.top+c)),p.ctx.strokeStyle="",p.ctx.lineWidth=0,p.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(n,r,s){if(s&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var i=vg(n),o=mg(r);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,n.intrinsicWidth,n.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(n){return Cs(this,void 0,void 0,function(){var r,s,i,o,A,l,w,w,c,u,d,p,j,f,v,_,g,y,x,w,b,j,_;return cs(this,function(k){switch(k.label){case 0:this.applyEffects(n.getEffects(4)),r=n.container,s=n.curves,i=r.styles,o=0,A=r.textNodes,k.label=1;case 1:return o<A.length?(l=A[o],[4,this.renderTextNode(l,i)]):[3,4];case 2:k.sent(),k.label=3;case 3:return o++,[3,1];case 4:if(!(r instanceof D3))return[3,8];k.label=5;case 5:return k.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return w=k.sent(),this.renderReplacedElement(r,s,w),[3,8];case 7:return k.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof M3&&this.renderReplacedElement(r,s,r.canvas),!(r instanceof Q3))return[3,12];k.label=9;case 9:return k.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return w=k.sent(),this.renderReplacedElement(r,s,w),[3,12];case 11:return k.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof O3&&r.tree?(c=new t(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,c.render(r.tree)]):[3,14];case 13:u=k.sent(),r.width&&r.height&&this.ctx.drawImage(u,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),k.label=14;case 14:if(r instanceof zx&&(d=Math.min(r.bounds.width,r.bounds.height),r.type===dg?r.checked&&(this.ctx.save(),this.path([new pt(r.bounds.left+d*.39363,r.bounds.top+d*.79),new pt(r.bounds.left+d*.16,r.bounds.top+d*.5549),new pt(r.bounds.left+d*.27347,r.bounds.top+d*.44071),new pt(r.bounds.left+d*.39694,r.bounds.top+d*.5649),new pt(r.bounds.left+d*.72983,r.bounds.top+d*.23),new pt(r.bounds.left+d*.84,r.bounds.top+d*.34085),new pt(r.bounds.left+d*.39363,r.bounds.top+d*.79)]),this.ctx.fillStyle=Or(gC),this.ctx.fill(),this.ctx.restore()):r.type===hg&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+d/2,r.bounds.top+d/2,d/4,0,Math.PI*2,!0),this.ctx.fillStyle=Or(gC),this.ctx.fill(),this.ctx.restore())),Dq(r)&&r.value.length){switch(p=this.createFontStyle(i),j=p[0],f=p[1],v=this.fontMetrics.getMetrics(j,f).baseline,this.ctx.font=j,this.ctx.fillStyle=Or(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Qq(r.styles.textAlign),_=vg(r),g=0,r.styles.textAlign){case 1:g+=_.width/2;break;case 2:g+=_.width;break}y=_.add(g,0,0,-_.height/2+1),this.ctx.save(),this.path([new pt(_.left,_.top),new pt(_.left+_.width,_.top),new pt(_.left+_.width,_.top+_.height),new pt(_.left,_.top+_.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Ud(r.value,y),i.letterSpacing,v),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Ur(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(x=r.styles.listStyleImage,x.type!==0)return[3,18];w=void 0,b=x.url,k.label=15;case 15:return k.trys.push([15,17,,18]),[4,this.context.cache.match(b)];case 16:return w=k.sent(),this.ctx.drawImage(w,r.bounds.left-(w.width+10),r.bounds.top),[3,18];case 17:return k.sent(),this.context.logger.error("Error loading list-style-image "+b),[3,18];case 18:return[3,20];case 19:n.listValue&&r.styles.listStyleType!==-1&&(j=this.createFontStyle(i)[0],this.ctx.font=j,this.ctx.fillStyle=Or(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",_=new co(r.bounds.left,r.bounds.top+Kn(r.styles.paddingTop,r.bounds.width),r.bounds.width,ZB(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Ud(n.listValue,_),i.letterSpacing,ZB(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),k.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(n){return Cs(this,void 0,void 0,function(){var r,s,x,i,o,x,A,l,x,c,u,x,d,p,x,f,v,x,g,y,x;return cs(this,function(w){switch(w.label){case 0:if(Ur(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:w.sent(),r=0,s=n.negativeZIndex,w.label=2;case 2:return r<s.length?(x=s[r],[4,this.renderStack(x)]):[3,5];case 3:w.sent(),w.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:w.sent(),i=0,o=n.nonInlineLevel,w.label=7;case 7:return i<o.length?(x=o[i],[4,this.renderNode(x)]):[3,10];case 8:w.sent(),w.label=9;case 9:return i++,[3,7];case 10:A=0,l=n.nonPositionedFloats,w.label=11;case 11:return A<l.length?(x=l[A],[4,this.renderStack(x)]):[3,14];case 12:w.sent(),w.label=13;case 13:return A++,[3,11];case 14:c=0,u=n.nonPositionedInlineLevel,w.label=15;case 15:return c<u.length?(x=u[c],[4,this.renderStack(x)]):[3,18];case 16:w.sent(),w.label=17;case 17:return c++,[3,15];case 18:d=0,p=n.inlineLevel,w.label=19;case 19:return d<p.length?(x=p[d],[4,this.renderNode(x)]):[3,22];case 20:w.sent(),w.label=21;case 21:return d++,[3,19];case 22:f=0,v=n.zeroOrAutoZIndexOrTransformedOrOpacity,w.label=23;case 23:return f<v.length?(x=v[f],[4,this.renderStack(x)]):[3,26];case 24:w.sent(),w.label=25;case 25:return f++,[3,23];case 26:g=0,y=n.positiveZIndex,w.label=27;case 27:return g<y.length?(x=y[g],[4,this.renderStack(x)]):[3,30];case 28:w.sent(),w.label=29;case 29:return g++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},t.prototype.formatPath=function(n){var r=this;n.forEach(function(s,i){var o=Bi(s)?s.start:s;i===0?r.ctx.moveTo(o.x,o.y):r.ctx.lineTo(o.x,o.y),Bi(s)&&r.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},t.prototype.renderRepeat=function(n,r,s,i){this.path(n),this.ctx.fillStyle=r,this.ctx.translate(s,i),this.ctx.fill(),this.ctx.translate(-s,-i)},t.prototype.resizeImage=function(n,r,s){var i;if(n.width===r&&n.height===s)return n;var o=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,A=o.createElement("canvas");A.width=Math.max(1,r),A.height=Math.max(1,s);var l=A.getContext("2d");return l.drawImage(n,0,0,n.width,n.height,0,0,r,s),A},t.prototype.renderBackgroundImage=function(n){return Cs(this,void 0,void 0,function(){var r,s,i,o,A,l;return cs(this,function(c){switch(c.label){case 0:r=n.styles.backgroundImage.length-1,s=function(u){var d,p,f,L,Q,F,T,P,N,v,L,Q,F,T,P,g,y,x,w,b,j,_,k,D,N,U,L,E,I,T,P,K,Q,F,$,O,H,ie,M,W,V,X;return cs(this,function(Y){switch(Y.label){case 0:if(u.type!==0)return[3,5];d=void 0,p=u.url,Y.label=1;case 1:return Y.trys.push([1,3,,4]),[4,i.context.cache.match(p)];case 2:return d=Y.sent(),[3,4];case 3:return Y.sent(),i.context.logger.error("Error loading background-image "+p),[3,4];case 4:return d&&(f=Mv(n,r,[d.width,d.height,d.width/d.height]),L=f[0],Q=f[1],F=f[2],T=f[3],P=f[4],N=i.ctx.createPattern(i.resizeImage(d,T,P),"repeat"),i.renderRepeat(L,N,Q,F)),[3,6];case 5:bK(u)?(v=Mv(n,r,[null,null,null]),L=v[0],Q=v[1],F=v[2],T=v[3],P=v[4],g=gK(u.angle,T,P),y=g[0],x=g[1],w=g[2],b=g[3],j=g[4],_=document.createElement("canvas"),_.width=T,_.height=P,k=_.getContext("2d"),D=k.createLinearGradient(x,b,w,j),XB(u.stops,y).forEach(function(ee){return D.addColorStop(ee.stop,Or(ee.color))}),k.fillStyle=D,k.fillRect(0,0,T,P),T>0&&P>0&&(N=i.ctx.createPattern(_,"repeat"),i.renderRepeat(L,N,Q,F))):wK(u)&&(U=Mv(n,r,[null,null,null]),L=U[0],E=U[1],I=U[2],T=U[3],P=U[4],K=u.position.length===0?[Rx]:u.position,Q=Kn(K[0],T),F=Kn(K[K.length-1],P),$=mK(u,Q,F,T,P),O=$[0],H=$[1],O>0&&H>0&&(ie=i.ctx.createRadialGradient(E+Q,I+F,0,E+Q,I+F,O),XB(u.stops,O*2).forEach(function(ee){return ie.addColorStop(ee.stop,Or(ee.color))}),i.path(L),i.ctx.fillStyle=ie,O!==H?(M=n.bounds.left+.5*n.bounds.width,W=n.bounds.top+.5*n.bounds.height,V=H/O,X=1/V,i.ctx.save(),i.ctx.translate(M,W),i.ctx.transform(1,0,0,V,0,0),i.ctx.translate(-M,-W),i.ctx.fillRect(E,X*(I-W)+W,T,P*X),i.ctx.restore()):i.ctx.fill())),Y.label=6;case 6:return r--,[2]}})},i=this,o=0,A=n.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return o<A.length?(l=A[o],[5,s(l)]):[3,4];case 2:c.sent(),c.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(n,r,s){return Cs(this,void 0,void 0,function(){return cs(this,function(i){return this.path(IC(s,r)),this.ctx.fillStyle=Or(n),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(n,r,s,i){return Cs(this,void 0,void 0,function(){var o,A;return cs(this,function(l){switch(l.label){case 0:return r<3?[4,this.renderSolidBorder(n,s,i)]:[3,2];case 1:return l.sent(),[2];case 2:return o=Sq(i,s),this.path(o),this.ctx.fillStyle=Or(n),this.ctx.fill(),A=Eq(i,s),this.path(A),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(n){return Cs(this,void 0,void 0,function(){var r,s,i,o,A,l,c,u,d=this;return cs(this,function(p){switch(p.label){case 0:return this.applyEffects(n.getEffects(2)),r=n.container.styles,s=!Yo(r.backgroundColor)||r.backgroundImage.length,i=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],o=Mq(Xl(r.backgroundClip,0),n.curves),s||r.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),Yo(r.backgroundColor)||(this.ctx.fillStyle=Or(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:p.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(f){d.ctx.save();var v=gg(n.curves),g=f.inset?0:Uq,y=Bq(v,-g+(f.inset?1:-1)*f.spread.number,(f.inset?1:-1)*f.spread.number,f.spread.number*(f.inset?-2:2),f.spread.number*(f.inset?-2:2));f.inset?(d.path(v),d.ctx.clip(),d.mask(y)):(d.mask(v),d.ctx.clip(),d.path(y)),d.ctx.shadowOffsetX=f.offsetX.number+g,d.ctx.shadowOffsetY=f.offsetY.number,d.ctx.shadowColor=Or(f.color),d.ctx.shadowBlur=f.blur.number,d.ctx.fillStyle=f.inset?Or(f.color):"rgba(0,0,0,1)",d.ctx.fill(),d.ctx.restore()}),p.label=2;case 2:A=0,l=0,c=i,p.label=3;case 3:return l<c.length?(u=c[l],u.style!==0&&!Yo(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,A,n.curves,2)]:[3,11]):[3,13];case 4:return p.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,A,n.curves,3)];case 6:return p.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,A,n.curves)];case 8:return p.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,A,n.curves)];case 10:p.sent(),p.label=11;case 11:A++,p.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(n,r,s,i,o){return Cs(this,void 0,void 0,function(){var A,l,c,u,d,p,f,v,g,y,x,w,b,j,_,k,_,k;return cs(this,function(D){return this.ctx.save(),A=jq(i,s),l=IC(i,s),o===2&&(this.path(l),this.ctx.clip()),Bi(l[0])?(c=l[0].start.x,u=l[0].start.y):(c=l[0].x,u=l[0].y),Bi(l[1])?(d=l[1].end.x,p=l[1].end.y):(d=l[1].x,p=l[1].y),s===0||s===2?f=Math.abs(c-d):f=Math.abs(u-p),this.ctx.beginPath(),o===3?this.formatPath(A):this.formatPath(l.slice(0,2)),v=r<3?r*3:r*2,g=r<3?r*2:r,o===3&&(v=r,g=r),y=!0,f<=v*2?y=!1:f<=v*2+g?(x=f/(2*v+g),v*=x,g*=x):(w=Math.floor((f+g)/(v+g)),b=(f-w*v)/(w-1),j=(f-(w+1)*v)/w,g=j<=0||Math.abs(g-b)<Math.abs(g-j)?b:j),y&&(o===3?this.ctx.setLineDash([0,v+g]):this.ctx.setLineDash([v,g])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=Or(n),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(Bi(l[0])&&(_=l[3],k=l[0],this.ctx.beginPath(),this.formatPath([new pt(_.end.x,_.end.y),new pt(k.start.x,k.start.y)]),this.ctx.stroke()),Bi(l[1])&&(_=l[1],k=l[2],this.ctx.beginPath(),this.formatPath([new pt(_.end.x,_.end.y),new pt(k.start.x,k.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(n){return Cs(this,void 0,void 0,function(){var r;return cs(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Or(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=Cq(n),[4,this.renderStack(r)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(sj),Dq=function(e){return e instanceof H3||e instanceof R3?!0:e instanceof zx&&e.type!==hg&&e.type!==dg},Mq=function(e,t){switch(e){case 0:return gg(t);case 2:return vq(t);case 1:default:return mg(t)}},Qq=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Pq=["-apple-system","system-ui"],Rq=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return Pq.indexOf(t)===-1}):e},Hq=function(e){na(t,e);function t(n,r){var s=e.call(this,n,r)||this;return s.canvas=r.canvas?r.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=r,s.canvas.width=Math.floor(r.width*r.scale),s.canvas.height=Math.floor(r.height*r.scale),s.canvas.style.width=r.width+"px",s.canvas.style.height=r.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-r.x,-r.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),s}return t.prototype.render=function(n){return Cs(this,void 0,void 0,function(){var r,s;return cs(this,function(i){switch(i.label){case 0:return r=Ay(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,Oq(r)];case 1:return s=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Or(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(sj),Oq=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},$q=function(){function e(t){var n=t.id,r=t.enabled;this.id=n,this.enabled=r,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Mf([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Mf([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Mf([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Mf([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e}(),zq=function(){function e(t,n){var r;this.windowBounds=n,this.instanceName="#"+e.instanceCount++,this.logger=new $q({id:this.instanceName,enabled:t.logging}),this.cache=(r=t.cache)!==null&&r!==void 0?r:new cq(this,t)}return e.instanceCount=1,e}(),ij=function(e,t){return t===void 0&&(t={}),Wq(e,t)};typeof window<"u"&&J3.setContext(window);var Wq=function(e,t){return Cs(void 0,void 0,void 0,function(){var n,r,s,i,o,A,l,c,u,d,p,f,v,g,y,x,w,b,j,_,D,k,D,N,U,L,E,I,T,P,K,Q,F,$,O,H,ie,M,W,V;return cs(this,function(X){switch(X.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=e.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(r=n.defaultView,!r)throw new Error("Document is not attached to a Window");return s={allowTaint:(N=t.allowTaint)!==null&&N!==void 0?N:!1,imageTimeout:(U=t.imageTimeout)!==null&&U!==void 0?U:15e3,proxy:t.proxy,useCORS:(L=t.useCORS)!==null&&L!==void 0?L:!1},i=V1({logging:(E=t.logging)!==null&&E!==void 0?E:!0,cache:t.cache},s),o={windowWidth:(I=t.windowWidth)!==null&&I!==void 0?I:r.innerWidth,windowHeight:(T=t.windowHeight)!==null&&T!==void 0?T:r.innerHeight,scrollX:(P=t.scrollX)!==null&&P!==void 0?P:r.pageXOffset,scrollY:(K=t.scrollY)!==null&&K!==void 0?K:r.pageYOffset},A=new co(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),l=new zq(i,A),c=(Q=t.foreignObjectRendering)!==null&&Q!==void 0?Q:!1,u={allowTaint:(F=t.allowTaint)!==null&&F!==void 0?F:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:c,copyStyles:c},l.logger.debug("Starting document clone with size "+A.width+"x"+A.height+" scrolled to "+-A.left+","+-A.top),d=new SC(l,e,u),p=d.clonedReferenceElement,p?[4,d.toIFrame(n,A)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return f=X.sent(),v=Wx(p)||VG(p)?Bz(p.ownerDocument):Fm(l,p),g=v.width,y=v.height,x=v.left,w=v.top,b=Kq(l,p,t.backgroundColor),j={canvas:t.canvas,backgroundColor:b,scale:(O=($=t.scale)!==null&&$!==void 0?$:r.devicePixelRatio)!==null&&O!==void 0?O:1,x:((H=t.x)!==null&&H!==void 0?H:0)+x,y:((ie=t.y)!==null&&ie!==void 0?ie:0)+w,width:(M=t.width)!==null&&M!==void 0?M:Math.ceil(g),height:(W=t.height)!==null&&W!==void 0?W:Math.ceil(y)},c?(l.logger.debug("Document cloned, using foreign object rendering"),D=new Hq(l,j),[4,D.render(p)]):[3,3];case 2:return _=X.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+x+","+w+" with size "+g+"x"+y+" using computed rendering"),l.logger.debug("Starting DOM parsing"),k=z3(l,p),b===k.styles.backgroundColor&&(k.styles.backgroundColor=ro.TRANSPARENT),l.logger.debug("Starting renderer for element at "+j.x+","+j.y+" with size "+j.width+"x"+j.height),D=new Lq(l,j),[4,D.render(k)];case 4:_=X.sent(),X.label=5;case 5:return(!((V=t.removeContainer)!==null&&V!==void 0)||V)&&(SC.destroy(f)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,_]}})})},Kq=function(e,t,n){var r=t.ownerDocument,s=r.documentElement?_d(e,getComputedStyle(r.documentElement).backgroundColor):ro.TRANSPARENT,i=r.body?_d(e,getComputedStyle(r.body).backgroundColor):ro.TRANSPARENT,o=typeof n=="string"?_d(e,n):n===null?ro.TRANSPARENT:4294967295;return t===r.documentElement?Yo(s)?Yo(i)?o:i:s:o};const Vq=Object.freeze(Object.defineProperty({__proto__:null,default:ij},Symbol.toStringTag,{value:"Module"})),rd=({title:e,value:t,icon:n,change:r,isPositive:s,description:i})=>a.jsxs("div",{className:"stat-card",style:{position:"relative"},children:[a.jsxs("div",{className:"stat-header",children:[a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[a.jsx("span",{className:"stat-label",children:e}),i&&a.jsx("span",{style:{fontSize:"11px",color:"var(--light-gray)",lineHeight:"1.3",maxWidth:"200px"},children:i})]}),a.jsx("div",{className:"stat-icon",children:n})]}),a.jsx("div",{className:"stat-value",children:t}),r!=null&&a.jsxs("div",{className:`stat-change ${s?"":"negative"}`,children:[s?a.jsx(U9,{fontSize:"small"}):a.jsx(T9,{fontSize:"small"}),r]})]});function Gq(){var E,I;const{currentUser:e,admin:t}=Er(),{isSuperAdmin:n}=ns(),[r,s]=B.useState(null),[i,o]=B.useState(!1),[A,l]=B.useState(!1),[c,u]=B.useState([]),[d,p]=B.useState({todayBookings:0,todayRevenue:0,todayIncome:0,utilization:0,activeCustomers:0,bookingsChange:0,revenueChange:0,incomeChange:0,utilizationChange:0}),[f,v]=B.useState(!0),[g,y]=B.useState([]),[x,w]=B.useState("all"),[b,j]=B.useState("");B.useEffect(()=>{(async()=>{if(n)await _(),x==="all"?await k():await D(x);else if(t!=null&&t.venueId){s(t.venueId);try{const P=await dn(yt(Oe,"venues",t.venueId));if(P.exists()){const K=P.data();j(K.name||""),y([{id:t.venueId,name:K.name||""}])}}catch(P){console.error("Error loading venue data:",P)}await D(t.venueId)}v(!1)})()},[e,t,n,x]);const _=async()=>{try{const T=qt(Ft(Oe,"venues"),It("status","==","active")),K=(await Gt(T)).docs.map(Q=>({id:Q.id,name:Q.data().name}));y(K)}catch(T){console.error("Error loading venues:",T)}},k=async()=>{var T;try{const P=new Date,K=new Date(P.getFullYear(),P.getMonth(),P.getDate()),Q=new Date(P.getFullYear(),P.getMonth(),P.getDate(),23,59,59);let F=g;if(F.length===0){const de=qt(Ft(Oe,"venues"),It("status","==","active"));F=(await Gt(de)).docs.map(pe=>({id:pe.id,name:pe.data().name}))}const $=qt(Ft(Oe,"bookings")),O=await Gt($),H=O.docs.filter(de=>{var se,me;const Be=de.data(),pe=(me=(se=Be.date)==null?void 0:se.toDate)==null?void 0:me.call(se);return pe?pe>=K&&pe<=Q&&Be.status==="confirmed":!1}),ie=H.filter(de=>{const Be=de.data().paymentStatus;return Be==="paid"||Be==="online_payment"}),M=H.length,W=ie.reduce((de,Be)=>de+(Be.data().amount||0),0),V=O.docs.sort((de,Be)=>{var me,ne,ae,he,ge,Ce,ye,Le;const pe=((ne=(me=de.data().createdAt)==null?void 0:me.toDate)==null?void 0:ne.call(me))||((he=(ae=de.data().date)==null?void 0:ae.toDate)==null?void 0:he.call(ae))||new Date(0);return(((Ce=(ge=Be.data().createdAt)==null?void 0:ge.toDate)==null?void 0:Ce.call(ge))||((Le=(ye=Be.data().date)==null?void 0:ye.toDate)==null?void 0:Le.call(ye))||new Date(0)).getTime()-pe.getTime()}).slice(0,10),X=[];for(const de of V){const Be=de.data();let pe="",se="Корт";if(Be.venueId){const me=F.find(ne=>ne.id===Be.venueId);if(pe=(me==null?void 0:me.name)||"",Be.courtId)try{const ne=await dn(de(Oe,"venues",Be.venueId,"courts",Be.courtId));ne.exists()&&(se=ne.data().name)}catch(ne){console.error("Error fetching court:",ne)}}X.push({id:de.id,clientName:Be.clientName||Be.customerName||"Неизвестный клиент",courtName:pe?`${pe} - ${se}`:se,date:((T=Be.date)==null?void 0:T.toDate())||new Date,startTime:Be.startTime||Be.time||"",endTime:Be.endTime||"",status:Be.status||"pending",paymentStatus:Be.paymentStatus,amount:Be.amount||0})}u(X);let Y=0;for(const de of F){const Be=qt(Ft(Oe,"venues",de.id,"courts"),It("status","==","active")),pe=await Gt(Be);Y+=pe.size}const ee=Y*16,ce=ee>0?Math.round(M/ee*100):0,Ae=new Date;Ae.setDate(Ae.getDate()-30);const Ee=O.docs.filter(de=>{var se,me;const pe=(me=(se=de.data().date)==null?void 0:se.toDate)==null?void 0:me.call(se);return pe&&pe>=Ae}),fe=new Set(Ee.map(de=>de.data().clientPhone||de.data().customerPhone)),we=O.docs.reduce((de,Be)=>{var ne,ae;const pe=Be.data(),me=(pe.paymentHistory||[]).some(he=>{var ge,Ce;if(he.action==="paid"||he.action==="payment_completed"){const ye=((Ce=(ge=he.timestamp)==null?void 0:ge.toDate)==null?void 0:Ce.call(ge))||new Date(he.timestamp);return ye>=K&&ye<=Q}return!1});if(!me&&(pe.paymentStatus==="paid"||pe.paymentStatus==="online_payment")){const he=((ae=(ne=pe.createdAt)==null?void 0:ne.toDate)==null?void 0:ae.call(ne))||new Date(pe.createdAt);if(he>=K&&he<=Q)return de+(pe.amount||0)}return me?de+(pe.amount||0):de},0);p({todayBookings:M,todayRevenue:W,todayIncome:we,utilization:ce,activeCustomers:fe.size,bookingsChange:15,revenueChange:10,incomeChange:8,utilizationChange:-3})}catch(P){console.error("Error loading all venues data:",P)}},D=async T=>{var P,K;try{const Q=new Date,F=new Date(Q.getFullYear(),Q.getMonth(),Q.getDate()),$=new Date(Q.getFullYear(),Q.getMonth(),Q.getDate(),23,59,59),O=qt(Ft(Oe,"bookings"),It("venueId","==",T)),ie=(await Gt(O)).docs.map(ne=>({id:ne.id,...ne.data()})).sort((ne,ae)=>{var Ce,ye,Le,We,De,$e,Ge,_e;const he=((ye=(Ce=ne.createdAt)==null?void 0:Ce.toDate)==null?void 0:ye.call(Ce))||((We=(Le=ne.date)==null?void 0:Le.toDate)==null?void 0:We.call(Le))||new Date(0);return((($e=(De=ae.createdAt)==null?void 0:De.toDate)==null?void 0:$e.call(De))||((_e=(Ge=ae.date)==null?void 0:Ge.toDate)==null?void 0:_e.call(Ge))||new Date(0)).getTime()-he.getTime()}).slice(0,5),M=[];for(const ne of ie){let ae=ne.courtName||"Корт";if(ne.courtId&&!ne.courtName)try{const he=await dn(yt(Oe,"venues",T,"courts",ne.courtId));he.exists()&&(ae=he.data().name)}catch(he){console.error("Error fetching court:",he)}M.push({id:ne.id,clientName:ne.clientName||ne.customerName||"Неизвестный клиент",courtName:ae,date:((K=(P=ne.date)==null?void 0:P.toDate)==null?void 0:K.call(P))||new Date,startTime:ne.startTime||ne.time||"",endTime:ne.endTime||"",status:ne.status||"pending",paymentStatus:ne.paymentStatus,amount:ne.amount||0})}u(M);const W=qt(Ft(Oe,"bookings"),It("venueId","==",T)),V=await Gt(W),X=V.docs.filter(ne=>{var ge,Ce;const ae=ne.data(),he=(Ce=(ge=ae.date)==null?void 0:ge.toDate)==null?void 0:Ce.call(ge);return he?he>=F&&he<=$&&ae.status==="confirmed":!1}),Y=X.filter(ne=>{const ae=ne.data().paymentStatus;return ae==="paid"||ae==="online_payment"}),ee=X.length,ce=Y.reduce((ne,ae)=>ne+(ae.data().amount||0),0),Ae=qt(Ft(Oe,"venues",T,"courts"),It("status","==","active")),we=(await Gt(Ae)).size*16,de=we>0?Math.round(ee/we*100):0,Be=new Date;Be.setDate(Be.getDate()-30);const pe=V.docs.filter(ne=>{var ge,Ce;const he=(Ce=(ge=ne.data().date)==null?void 0:ge.toDate)==null?void 0:Ce.call(ge);return he&&he>=Be}),se=new Set(pe.map(ne=>ne.data().clientPhone||ne.data().customerPhone)),me=V.docs.reduce((ne,ae)=>{var ye,Le;const he=ae.data(),Ce=(he.paymentHistory||[]).some(We=>{var De,$e;if(We.action==="paid"||We.action==="payment_completed"){const Ge=(($e=(De=We.timestamp)==null?void 0:De.toDate)==null?void 0:$e.call(De))||new Date(We.timestamp);return Ge>=F&&Ge<=$}return!1});if(!Ce&&(he.paymentStatus==="paid"||he.paymentStatus==="online_payment")){const We=((Le=(ye=he.createdAt)==null?void 0:ye.toDate)==null?void 0:Le.call(ye))||new Date(he.createdAt);if(We>=F&&We<=$)return ne+(he.amount||0)}return Ce?ne+(he.amount||0):ne},0);p({todayBookings:ee,todayRevenue:ce,todayIncome:me,utilization:de,activeCustomers:se.size,bookingsChange:12,revenueChange:8,incomeChange:5,utilizationChange:-5})}catch(Q){console.error("Error loading dashboard data:",Q)}},N=()=>{const T=n?x:r;return!T||T==="all"?"":`https://allcourt.ru/club/${T}`},U=()=>{const T=N();T&&(navigator.clipboard.writeText(T),l(!0),setTimeout(()=>l(!1),2e3))},L=async()=>{const T=N();if(T)if(navigator.share)try{await navigator.share({title:"Забронировать корт",text:"Забронируйте корт в нашем клубе",url:T})}catch(P){console.log("Share failed:",P)}else U()};return f?a.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},children:a.jsx("div",{children:"Загрузка..."})}):a.jsxs("div",{children:[n&&a.jsx("div",{className:"section-card",style:{marginBottom:"24px"},children:a.jsx("div",{style:{display:"flex",alignItems:"center",gap:"16px",justifyContent:"space-between",flexWrap:"wrap"},children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[a.jsx("label",{style:{fontWeight:"600"},children:"Фильтр по клубу:"}),a.jsxs("select",{className:"form-select",style:{maxWidth:"300px"},value:x,onChange:T=>w(T.target.value),children:[a.jsx("option",{value:"all",children:"Все клубы"}),g.map(T=>a.jsx("option",{value:T.id,children:T.name},T.id))]})]})})}),(r&&!n||n&&x!=="all")&&a.jsxs("div",{className:"section-card",style:{marginBottom:"24px"},children:[a.jsx("div",{className:"section-header",children:a.jsxs("h2",{className:"section-title",children:["Ссылка для бронирования",n&&x!=="all"&&a.jsxs("span",{style:{fontSize:"16px",color:"var(--gray)",marginLeft:"8px"},children:["(",(E=g.find(T=>T.id===x))==null?void 0:E.name,")"]})]})}),a.jsxs("div",{style:{display:"flex",gap:"24px",alignItems:"center",flexWrap:"wrap"},children:[a.jsxs("div",{onClick:()=>o(!0),style:{cursor:"pointer",padding:"8px",border:"1px solid var(--extra-light-gray)",borderRadius:"8px",transition:"all 0.3s ease"},onMouseEnter:T=>T.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)",onMouseLeave:T=>T.currentTarget.style.boxShadow="none",children:[a.jsx(ag,{value:N(),size:120,level:"M",includeMargin:!0}),a.jsx("div",{style:{textAlign:"center",marginTop:"8px"},children:a.jsxs("button",{className:"btn btn-secondary btn-icon",children:[a.jsx(Tx,{fontSize:"small"}),a.jsx("span",{children:"Увеличить"})]})})]}),a.jsxs("div",{style:{flex:1,minWidth:"250px"},children:[a.jsxs("div",{style:{marginBottom:"12px"},children:[a.jsx("label",{style:{fontSize:"14px",color:"var(--gray)",display:"block",marginBottom:"4px"},children:"Отправьте эту ссылку клиентам:"}),a.jsxs("div",{style:{display:"flex",gap:"8px",padding:"12px",background:"var(--background)",borderRadius:"8px",alignItems:"center"},children:[a.jsx("input",{type:"text",value:N(),readOnly:!0,style:{flex:1,border:"none",background:"transparent",fontSize:"14px",outline:"none"}}),a.jsxs("button",{className:"btn btn-primary btn-icon",onClick:U,children:[A?a.jsx(Po,{fontSize:"small"}):a.jsx(fE,{fontSize:"small"}),a.jsx("span",{children:A?"Скопировано":"Копировать"})]})]})]}),a.jsx("div",{style:{display:"flex",gap:"8px"},children:a.jsxs("button",{className:"btn btn-secondary",onClick:L,children:[a.jsx(bE,{fontSize:"small"}),a.jsx("span",{children:"Поделиться"})]})})]})]})]}),n&&a.jsx("h2",{style:{marginBottom:"24px",fontSize:"24px",fontWeight:"700"},children:x==="all"?"Общая статистика по всем клубам":`Статистика клуба "${(I=g.find(T=>T.id===x))==null?void 0:I.name}"`}),a.jsxs("div",{className:"stats-grid",children:[a.jsx(rd,{title:"Бронирований сегодня",value:d.todayBookings,icon:a.jsx(wm,{}),change:`${d.bookingsChange>0?"+":""}${d.bookingsChange}% от вчера`,isPositive:d.bookingsChange>0,description:"Количество игр на сегодня"}),a.jsx(rd,{title:"Поступления за сегодня",value:`${d.todayIncome.toLocaleString("ru-RU")}₽`,icon:a.jsx(eA,{}),change:`${d.incomeChange>0?"+":""}${d.incomeChange}% от вчера`,isPositive:d.incomeChange>0,description:"Все платежи, пришедшие сегодня (независимо от даты игры)"}),a.jsx(rd,{title:"Доход за сегодня",value:`${d.todayRevenue.toLocaleString("ru-RU")}₽`,icon:a.jsx(eA,{}),change:`${d.revenueChange>0?"+":""}${d.revenueChange}% от вчера`,isPositive:d.revenueChange>0,description:"Деньги от игр, состоявшихся сегодня (со статусом оплачен)"}),a.jsx(rd,{title:"Загрузка кортов",value:`${d.utilization}%`,icon:a.jsx(Sm,{}),change:`${d.utilizationChange>0?"+":""}${d.utilizationChange}% от вчера`,isPositive:d.utilizationChange>0,description:"Процент занятых слотов от максимума"}),a.jsx(rd,{title:"Активных клиентов",value:d.activeCustomers,icon:a.jsx(_x,{}),change:"за последние 30 дней",isPositive:!0,description:"Уникальные клиенты за месяц"})]}),a.jsxs("div",{className:"section-card",children:[a.jsxs("div",{className:"section-header",children:[a.jsx("h2",{className:"section-title",children:"Последние бронирования"}),a.jsx("button",{className:"btn btn-secondary",onClick:()=>window.location.href="/admin/bookings",children:"Все бронирования"})]}),a.jsx("div",{className:"table-wrapper",children:f?a.jsx("div",{style:{textAlign:"center",padding:"40px"},children:"Загрузка..."}):c.length===0?a.jsx("div",{style:{textAlign:"center",padding:"40px",color:"var(--gray)"},children:"Пока нет бронирований"}):a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Клиент"}),a.jsx("th",{children:n&&x==="all"?"Клуб / Корт":"Корт"}),a.jsx("th",{children:"Дата и время"}),a.jsx("th",{children:"Статус"}),a.jsx("th",{children:"Сумма"})]})}),a.jsx("tbody",{children:c.map(T=>a.jsxs("tr",{children:[a.jsx("td",{children:T.clientName}),a.jsx("td",{children:T.courtName}),a.jsxs("td",{children:[T.date.toLocaleDateString("ru-RU"),", ",T.startTime,T.endTime&&`-${T.endTime}`]}),a.jsxs("td",{children:[T.status==="confirmed"&&a.jsxs(a.Fragment,{children:[(T.paymentStatus==="paid"||T.paymentStatus==="online_payment")&&a.jsx("span",{style:{color:"var(--success)"},children:"✅ Оплачено"}),T.paymentStatus==="awaiting_payment"&&a.jsx("span",{style:{color:"var(--warning)"},children:"⏳ Ожидает оплаты"}),T.paymentStatus==="not_required"&&a.jsx("span",{style:{color:"var(--success)"},children:"✅ Подтверждено"}),!T.paymentStatus&&a.jsx("span",{style:{color:"var(--success)"},children:"✅ Подтверждено"})]}),T.status==="pending"&&a.jsx("span",{style:{color:"var(--warning)"},children:"⏳ Ожидает подтверждения"}),T.status==="cancelled"&&a.jsx("span",{style:{color:"var(--danger)"},children:"❌ Отменено"})]}),a.jsxs("td",{children:[T.amount.toLocaleString("ru-RU"),"₽"]})]},T.id))})]})})]}),i&&a.jsx("div",{className:"modal active",onClick:()=>o(!1),style:{display:"flex",position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:1e3,alignItems:"center",justifyContent:"center"},children:a.jsxs("div",{className:"modal-content",onClick:T=>T.stopPropagation(),style:{background:"white",borderRadius:"12px",padding:"24px",maxWidth:"400px",width:"90%",textAlign:"center"},children:[a.jsxs("div",{className:"modal-header",style:{marginBottom:"24px"},children:[a.jsx("h2",{className:"modal-title",children:"QR код для бронирования"}),a.jsx("button",{className:"modal-close",onClick:()=>o(!1),style:{position:"absolute",right:"24px",top:"24px",background:"none",border:"none",fontSize:"24px",cursor:"pointer"},children:"×"})]}),a.jsxs("div",{className:"modal-body",children:[a.jsx(ag,{id:"modal-qr-code",value:N(),size:256,level:"H",includeMargin:!0}),a.jsxs("p",{style:{marginTop:"16px",color:"var(--gray)",fontSize:"14px"},children:["Клиенты могут отсканировать этот QR код,",a.jsx("br",{}),"чтобы забронировать корт"]}),a.jsx("div",{style:{marginTop:"24px"},children:a.jsx("button",{className:"btn btn-primary",onClick:async()=>{var T;try{const P=document.getElementById("modal-qr-code");if(!P){console.error("QR code SVG element not found"),alert("Не удалось найти QR код. Попробуйте еще раз.");return}const K=document.createElement("div");K.style.position="absolute",K.style.left="-9999px",K.style.top="-9999px",K.style.backgroundColor="white",K.style.width="1600px",K.style.height="1600px",K.style.display="flex",K.style.alignItems="center",K.style.justifyContent="center",document.body.appendChild(K);const Q=document.createElement("div");Q.style.width="1600px",Q.style.height="1600px",Q.innerHTML=`
                        <svg width="1600" height="1600" viewBox="0 0 256 256" xmlns="http://www.w3.org/2000/svg" style="width: 100%; height: 100%;">
                          ${P.innerHTML}
                        </svg>
                      `,K.appendChild(Q);const F=await ij(K,{backgroundColor:"white",scale:1,width:1600,height:1600}),$=new Lt({orientation:"portrait",unit:"mm",format:"a4"}),O=210,H=297,ie=180,M=(O-ie)/2,W=(H-ie)/2,V=F.toDataURL("image/png");$.addImage(V,"PNG",M,W,ie,ie);const Y=`qr-code-${(n?(T=g.find(ee=>ee.id===x))==null?void 0:T.name:b)||"booking"}-${new Date().getTime()}.pdf`;$.save(Y),document.body.removeChild(K)}catch(P){console.error("Error downloading QR code:",P),alert("Ошибка при скачивании QR кода. Попробуйте еще раз.")}},children:"Скачать QR код"})})]})]})})]})}const su=({children:e,permission:t,role:n,requireAll:r=!1,fallback:s})=>{const{hasPermission:i,hasAllPermissions:o,hasRole:A}=ns();return n&&!A(n)?s?a.jsx(a.Fragment,{children:s}):a.jsxs(Yt,{severity:"error",sx:{mt:2},children:[a.jsx(zA,{children:"Доступ запрещен"}),"У вас недостаточно прав для просмотра этой страницы."]}):t&&!(r&&Array.isArray(t)?o(t):i(t))?s?a.jsx(a.Fragment,{children:s}):a.jsxs(Yt,{severity:"error",sx:{mt:2},children:[a.jsx(zA,{children:"Доступ запрещен"}),"У вас недостаточно прав для просмотра этой страницы."]}):a.jsx(a.Fragment,{children:e})},iu=({selectedVenueId:e,onVenueChange:t,label:n="Управление клубом",showHint:r=!1})=>{const[s,i]=B.useState([]),[o,A]=B.useState(!0);B.useEffect(()=>{l()},[]);const l=async()=>{try{const c=qt(Ft(Oe,"venues"),It("status","==","active")),d=(await Gt(c)).docs.map(p=>({id:p.id,...p.data()}));i(d)}catch(c){console.error("Error fetching venues:",c)}finally{A(!1)}};return o?a.jsx("div",{children:"Загрузка клубов..."}):a.jsx("div",{className:"section-card",style:{marginBottom:"24px"},children:a.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[a.jsx("label",{className:"form-label",children:n}),a.jsxs("select",{className:"form-select",value:e||"",onChange:c=>t(c.target.value),style:{maxWidth:"400px"},children:[a.jsx("option",{value:"",children:"Выберите клуб"}),s.map(c=>a.jsx("option",{value:c.id,children:c.name},c.id))]}),r&&a.jsx("p",{className:"form-hint",children:"Выберите клуб для управления"})]})})},au=({title:e})=>{const[t,n]=B.useState([]),[r,s]=B.useState(!0);B.useEffect(()=>{i()},[]);const i=async()=>{try{const A=qt(Ft(Oe,"venues"),It("status","==","active")),c=(await Gt(A)).docs.map(u=>({id:u.id,...u.data()}));n(c)}catch(A){console.error("Error fetching venues:",A)}finally{s(!1)}},o=A=>{A&&(localStorage.setItem("selectedVenueId",A),window.location.reload())};return r?a.jsx("div",{children:"Загрузка..."}):a.jsx("div",{children:a.jsxs("div",{className:"section-card",children:[a.jsx("div",{className:"section-header",children:a.jsx("h2",{className:"section-title",children:e})}),a.jsxs("div",{className:"form-group",style:{maxWidth:"400px"},children:[a.jsx("label",{className:"form-label",children:"Клуб"}),a.jsxs("select",{className:"form-select",value:"",onChange:A=>o(A.target.value),children:[a.jsx("option",{value:"",children:"Выберите клуб для управления"}),t.map(A=>a.jsx("option",{value:A.id,children:A.name},A.id))]}),a.jsx("p",{className:"form-hint",children:"Выберите клуб для просмотра и управления"})]})]})})};function qq(){const e=vs(),{club:t,admin:n,refreshClubData:r}=Er(),{isSuperAdmin:s,canManageClub:i}=ns(),[o,A]=B.useState(null),[l,c]=B.useState(null),[u,d]=B.useState(!1),[p,f]=B.useState(!1),[v,g]=B.useState(null),[y,x]=B.useState({name:"",phone:"",address:"",city:"",latitude:"",longitude:"",description:"",timezone:"Europe/Moscow",amenities:{showers:!1,parking:!1,cafe:!1,proshop:!1,lockers:!1},organizationType:"",inn:"",bankAccount:"",legalName:"",ogrn:"",kpp:"",legalAddress:"",bankName:"",bankBik:"",bankCorrespondentAccount:"",directorName:"",directorPosition:"",workingHours:{monday:"07:00-23:00",tuesday:"07:00-23:00",wednesday:"07:00-23:00",thursday:"07:00-23:00",friday:"07:00-23:00",saturday:"08:00-22:00",sunday:"08:00-22:00"},bookingDurations:{60:!0,90:!0,120:!0},bookingSlotInterval:60}),[w,b]=B.useState([]),[j,_]=B.useState(!1);B.useEffect(()=>{var F,$,O,H,ie,M,W,V;if(s){const X=localStorage.getItem("selectedVenueId");X&&(A(X),D(X))}else t&&(console.log("Updating form data from club:",t),x({name:t.name||"",phone:t.phone||"",address:t.address||"",city:t.city||"",latitude:(($=(F=t.location)==null?void 0:F._lat)==null?void 0:$.toString())||((H=(O=t.location)==null?void 0:O.latitude)==null?void 0:H.toString())||"",longitude:((M=(ie=t.location)==null?void 0:ie._long)==null?void 0:M.toString())||((V=(W=t.location)==null?void 0:W.longitude)==null?void 0:V.toString())||"",description:t.description||"",timezone:t.timezone||"Europe/Moscow",amenities:{showers:Array.isArray(t.amenities)&&t.amenities.includes("showers")||!1,parking:Array.isArray(t.amenities)&&t.amenities.includes("parking")||!1,cafe:Array.isArray(t.amenities)&&t.amenities.includes("cafe")||!1,proshop:Array.isArray(t.amenities)&&t.amenities.includes("proshop")||!1,lockers:Array.isArray(t.amenities)&&t.amenities.includes("lockers")||!1},organizationType:t.organizationType||"",inn:t.inn||"",bankAccount:t.bankAccount||"",legalName:t.legalName||"",ogrn:t.ogrn||"",kpp:t.kpp||"",legalAddress:t.legalAddress||"",bankName:t.bankName||"",bankBik:t.bankBik||"",bankCorrespondentAccount:t.bankCorrespondentAccount||"",directorName:t.directorName||"",directorPosition:t.directorPosition||"",workingHours:t.workingHours||{monday:"07:00-23:00",tuesday:"07:00-23:00",wednesday:"07:00-23:00",thursday:"07:00-23:00",friday:"07:00-23:00",saturday:"08:00-22:00",sunday:"08:00-22:00"},bookingDurations:t.bookingDurations||{60:!0,90:!0,120:!0},bookingSlotInterval:t.bookingSlotInterval||60}),b(t.photos||[]))},[t,s]);const k=F=>{A(F),localStorage.setItem("selectedVenueId",F),F&&D(F)},D=async F=>{var $,O,H,ie,M,W,V,X;try{console.log("Loading venue data for:",F);const Y=await dn(yt(Oe,"venues",F));if(Y.exists()){const ee=Y.data();console.log("Venue data loaded:",ee),c({id:Y.id,...ee}),x({name:ee.name||"",phone:ee.phone||"",address:ee.address||"",city:ee.city||"",latitude:((O=($=ee.location)==null?void 0:$._lat)==null?void 0:O.toString())||((ie=(H=ee.location)==null?void 0:H.latitude)==null?void 0:ie.toString())||"",longitude:((W=(M=ee.location)==null?void 0:M._long)==null?void 0:W.toString())||((X=(V=ee.location)==null?void 0:V.longitude)==null?void 0:X.toString())||"",description:ee.description||"",timezone:ee.timezone||"Europe/Moscow",amenities:{showers:Array.isArray(ee.amenities)&&ee.amenities.includes("showers")||!1,parking:Array.isArray(ee.amenities)&&ee.amenities.includes("parking")||!1,cafe:Array.isArray(ee.amenities)&&ee.amenities.includes("cafe")||!1,proshop:Array.isArray(ee.amenities)&&ee.amenities.includes("proshop")||!1,lockers:Array.isArray(ee.amenities)&&ee.amenities.includes("lockers")||!1},organizationType:ee.organizationType||"",inn:ee.inn||"",bankAccount:ee.bankAccount||"",legalName:ee.legalName||"",ogrn:ee.ogrn||"",kpp:ee.kpp||"",legalAddress:ee.legalAddress||"",bankName:ee.bankName||"",bankBik:ee.bankBik||"",bankCorrespondentAccount:ee.bankCorrespondentAccount||"",directorName:ee.directorName||"",directorPosition:ee.directorPosition||"",workingHours:ee.workingHours||{monday:"07:00-23:00",tuesday:"07:00-23:00",wednesday:"07:00-23:00",thursday:"07:00-23:00",friday:"07:00-23:00",saturday:"08:00-22:00",sunday:"08:00-22:00"},bookingDurations:ee.bookingDurations||{60:!0,90:!0,120:!0},bookingSlotInterval:ee.bookingSlotInterval||60}),b(ee.photos||[])}}catch(Y){console.error("Error loading venue:",Y)}},N=F=>{const{name:$,value:O}=F.target;x(H=>({...H,[$]:O}))},U=F=>{x($=>({...$,amenities:{...$.amenities,[F]:!$.amenities[F]}}))},L=async F=>{var H;const $=(H=F.target.files)==null?void 0:H[0];if(!$)return;const O=s?o:n==null?void 0:n.venueId;if(!O){g("Не выбран клуб");return}try{d(!0);const ie=kb(g1,`clubs/${O}/logo.${$.name.split(".").pop()}`),M=await Nb(ie,$),W=await _b(M.ref);await In(yt(Oe,"venues",O),{logoUrl:W}),s&&l?c({...l,logoUrl:W}):await r(),f(!0),setTimeout(()=>f(!1),3e3)}catch(ie){console.error("Error uploading logo:",ie),g("Ошибка при загрузке логотипа")}finally{d(!1)}},E=async F=>{const $=F.target.files;if(!$||$.length===0)return;const O=s?o:n==null?void 0:n.venueId;if(!O){g("Не выбран клуб");return}if(w.length+$.length>5){g("Максимальное количество фотографий - 5");return}try{_(!0);const H=[];for(let W=0;W<$.length;W++){const V=$[W];if(V.size>5*1024*1024){g(`Файл ${V.name} превышает максимальный размер 5 МБ`);continue}if(!V.type.startsWith("image/")){g(`Файл ${V.name} не является изображением`);continue}const Y=`photo_${Date.now()}_${W}.${V.name.split(".").pop()}`,ee=kb(g1,`clubs/${O}/photos/${Y}`);H.push(Nb(ee,V).then(async ce=>await _b(ce.ref)))}const ie=await Promise.all(H),M=[...w,...ie];b(M),await In(yt(Oe,"venues",O),{photos:M}),s&&l?c({...l,photos:M}):await r(),f(!0),setTimeout(()=>f(!1),3e3)}catch(H){console.error("Error uploading photos:",H),g("Ошибка при загрузке фотографий")}finally{_(!1)}},I=async()=>{const F=s?o:n==null?void 0:n.venueId;if(!F){g("Не выбран клуб");return}try{d(!0),await In(yt(Oe,"venues",F),{logoUrl:null}),s&&l?c({...l,logoUrl:null}):await r(),f(!0),setTimeout(()=>f(!1),3e3)}catch($){console.error("Error deleting logo:",$),g("Ошибка при удалении логотипа")}finally{d(!1)}},T=async(F,$)=>{const O=s?o:n==null?void 0:n.venueId;if(!O){g("Не выбран клуб");return}try{d(!0);const H=w.filter((ie,M)=>M!==$);b(H),await In(yt(Oe,"venues",O),{photos:H}),s&&l?c({...l,photos:H}):await r(),f(!0),setTimeout(()=>f(!1),3e3)}catch(H){console.error("Error deleting photo:",H),g("Ошибка при удалении фотографии")}finally{d(!1)}},P=async F=>{F.preventDefault();const $=s?o:n==null?void 0:n.venueId;if($)try{d(!0);const O=Object.entries(y.amenities).filter(([ie,M])=>M).map(([ie])=>ie),H={name:y.name,phone:y.phone,address:y.address,city:y.city,description:y.description,timezone:y.timezone,amenities:O,workingHours:y.workingHours,bookingDurations:y.bookingDurations,bookingSlotInterval:y.bookingSlotInterval,updatedAt:new Date};y.latitude&&y.longitude&&(H.location=new iF(parseFloat(y.latitude),parseFloat(y.longitude))),await In(yt(Oe,"venues",$),H),s&&l?await D($):(await r(),console.log("Club data refreshed successfully")),f(!0),setTimeout(()=>f(!1),3e3)}catch(O){console.error("Error updating club:",O),g("Ошибка при сохранении данных")}finally{d(!1)}},K=async F=>{F.preventDefault();const $=s?o:n==null?void 0:n.venueId;if($)try{d(!0);const O={organizationType:y.organizationType,inn:y.inn,bankAccount:y.bankAccount,legalName:y.legalName,ogrn:y.ogrn,kpp:y.kpp,legalAddress:y.legalAddress,bankName:y.bankName,bankBik:y.bankBik,bankCorrespondentAccount:y.bankCorrespondentAccount,directorName:y.directorName,directorPosition:y.directorPosition,updatedAt:new Date};await In(yt(Oe,"venues",$),O),s&&l?await D($):(await r(),console.log("Club data refreshed successfully")),f(!0),setTimeout(()=>f(!1),3e3)}catch(O){console.error("Error updating requisites:",O),g("Ошибка при сохранении реквизитов")}finally{d(!1)}};if(!i())return a.jsxs(Yt,{severity:"error",children:[a.jsx(zA,{children:"Доступ запрещен"}),"У вас недостаточно прав для управления клубом."]});if(s&&!o)return a.jsx(au,{title:"Выберите клуб для управления"});const Q=s?l:t;return a.jsx(su,{permission:["manage_club","manage_all_venues"],children:a.jsxs("div",{children:[s&&a.jsx(iu,{selectedVenueId:o,onVenueChange:k}),a.jsxs("div",{className:"section-card",children:[a.jsxs("h2",{className:"section-title",children:["Информация о клубе",s&&l&&a.jsx("span",{style:{fontSize:"16px",color:"var(--gray)",marginLeft:"16px"},children:l.name})]}),a.jsxs("div",{style:{backgroundColor:"#e3f2fd",padding:"12px 16px",borderRadius:"8px",marginBottom:"20px",fontSize:"14px",color:"#1976d2"},children:[a.jsx("strong",{children:"💡 Как получить координаты:"}),a.jsx("br",{}),"1. Откройте ",a.jsx("a",{href:"https://maps.google.com",target:"_blank",rel:"noopener noreferrer",style:{color:"#1976d2"},children:"Google Maps"}),a.jsx("br",{}),"2. Найдите ваш клуб на карте",a.jsx("br",{}),"3. Кликните правой кнопкой мыши на нужное место",a.jsx("br",{}),"4. Скопируйте координаты (первое число - широта, второе - долгота)"]}),a.jsxs("form",{onSubmit:P,children:[v&&a.jsx(Yt,{severity:"error",sx:{mb:3},onClose:()=>g(null),children:v}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Логотип клуба"}),a.jsxs("div",{className:"logo-uploader",style:{display:"flex",alignItems:"center",gap:"24px"},children:[a.jsx("div",{className:"logo-preview",style:{width:"120px",height:"120px",border:"2px dashed var(--extra-light-gray)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",background:"var(--background)",position:"relative"},onMouseEnter:F=>{const $=F.currentTarget.querySelector("button");$&&($.style.opacity="1")},onMouseLeave:F=>{const $=F.currentTarget.querySelector("button");$&&($.style.opacity="0")},children:Q!=null&&Q.logoUrl?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:Q.logoUrl,alt:Q.name,style:{width:"100%",height:"100%",objectFit:"cover"}}),a.jsx("button",{type:"button",onClick:I,style:{position:"absolute",top:"4px",right:"4px",width:"28px",height:"28px",borderRadius:"50%",background:"rgba(255, 255, 255, 0.9)",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",opacity:0,transition:"opacity 0.2s"},disabled:u,children:a.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"#dc2626",children:a.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}):a.jsxs("div",{style:{textAlign:"center",color:"var(--gray)"},children:[a.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"var(--light-gray)",children:a.jsx("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"})}),a.jsx("p",{style:{fontSize:"12px",marginTop:"8px"},children:"Нажмите для загрузки"})]})}),a.jsxs("div",{children:[a.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>{var F;return(F=document.getElementById("logoInput"))==null?void 0:F.click()},disabled:u,children:"Загрузить логотип"}),a.jsx("input",{type:"file",id:"logoInput",accept:"image/*",style:{display:"none"},onChange:L}),a.jsxs("p",{className:"form-hint",children:["Рекомендуемый размер: 500x500px",a.jsx("br",{}),"Максимум 2MB. PNG, JPG или SVG"]})]})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Фотографии клуба"}),a.jsx("div",{style:{marginBottom:"16px"},children:a.jsx("p",{className:"form-hint",children:"Максимум 5 фотографий, до 5 МБ каждая. Рекомендуемый размер: 1920x1080px"})}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"16px",marginBottom:"16px"},children:[w.map((F,$)=>a.jsxs("div",{style:{position:"relative",paddingBottom:"56.25%",overflow:"hidden",borderRadius:"12px",background:"var(--extra-light-gray)"},children:[a.jsx("img",{src:F,alt:`Фото ${$+1}`,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}}),a.jsx("button",{type:"button",onClick:()=>T(F,$),style:{position:"absolute",top:"8px",right:"8px",width:"32px",height:"32px",borderRadius:"50%",background:"rgba(255, 255, 255, 0.9)",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},disabled:u,children:a.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"#dc2626",children:a.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]},$)),w.length<5&&a.jsx("div",{onClick:()=>{var F;return(F=document.getElementById("photosInput"))==null?void 0:F.click()},style:{position:"relative",paddingBottom:"56.25%",overflow:"hidden",borderRadius:"12px",border:"2px dashed var(--extra-light-gray)",background:"var(--background)",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:F=>{F.currentTarget.style.borderColor="var(--primary)",F.currentTarget.style.background="rgba(0, 214, 50, 0.05)"},onMouseLeave:F=>{F.currentTarget.style.borderColor="var(--extra-light-gray)",F.currentTarget.style.background="var(--background)"},children:a.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",color:"var(--gray)"},children:[a.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"var(--light-gray)",children:a.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})}),a.jsx("p",{style:{fontSize:"14px",marginTop:"8px"},children:j?"Загрузка...":"Добавить фото"})]})})]}),a.jsx("input",{type:"file",id:"photosInput",accept:"image/*",multiple:!0,style:{display:"none"},onChange:E,disabled:j||w.length>=5})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Название клуба"}),a.jsx("input",{type:"text",className:"form-input",name:"name",value:y.name,onChange:N,required:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Телефон"}),a.jsx("input",{type:"tel",className:"form-input",name:"phone",value:y.phone,onChange:N,required:!0})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Адрес"}),a.jsx("input",{type:"text",className:"form-input",name:"address",value:y.address,onChange:N,required:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Город"}),a.jsx("input",{type:"text",className:"form-input",name:"city",value:y.city,onChange:N,placeholder:"Например: Москва"})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Широта (Latitude)"}),a.jsx("input",{type:"number",step:"0.000001",className:"form-input",name:"latitude",value:y.latitude,onChange:N,placeholder:"55.755831"})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Долгота (Longitude)"}),a.jsx("input",{type:"number",step:"0.000001",className:"form-input",name:"longitude",value:y.longitude,onChange:N,placeholder:"37.617673"})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Описание"}),a.jsx("textarea",{className:"form-textarea",name:"description",value:y.description,onChange:N,rows:4})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Часовой пояс"}),a.jsxs("select",{className:"form-select",name:"timezone",value:y.timezone,onChange:N,required:!0,children:[a.jsx("option",{value:"Europe/Kaliningrad",children:"Калининград (UTC+2)"}),a.jsx("option",{value:"Europe/Moscow",children:"Москва (UTC+3)"}),a.jsx("option",{value:"Europe/Samara",children:"Самара (UTC+4)"}),a.jsx("option",{value:"Asia/Yekaterinburg",children:"Екатеринбург (UTC+5)"}),a.jsx("option",{value:"Asia/Omsk",children:"Омск (UTC+6)"}),a.jsx("option",{value:"Asia/Krasnoyarsk",children:"Красноярск (UTC+7)"}),a.jsx("option",{value:"Asia/Irkutsk",children:"Иркутск (UTC+8)"}),a.jsx("option",{value:"Asia/Yakutsk",children:"Якутск (UTC+9)"}),a.jsx("option",{value:"Asia/Vladivostok",children:"Владивосток (UTC+10)"}),a.jsx("option",{value:"Asia/Magadan",children:"Магадан (UTC+11)"}),a.jsx("option",{value:"Asia/Kamchatka",children:"Камчатка (UTC+12)"})]}),a.jsx("div",{style:{marginTop:"8px",fontSize:"14px",color:"#666"},children:"Выберите часовой пояс, в котором работает ваш клуб. Это важно для корректного отображения времени в уведомлениях."})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Удобства"}),a.jsxs("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap",marginTop:"12px"},children:[a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[a.jsx("input",{type:"checkbox",checked:y.amenities.showers,onChange:()=>U("showers")}),"Душевые"]}),a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[a.jsx("input",{type:"checkbox",checked:y.amenities.parking,onChange:()=>U("parking")}),"Парковка"]}),a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[a.jsx("input",{type:"checkbox",checked:y.amenities.cafe,onChange:()=>U("cafe")}),"Кафе"]}),a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[a.jsx("input",{type:"checkbox",checked:y.amenities.proshop,onChange:()=>U("proshop")}),"Pro Shop"]}),a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[a.jsx("input",{type:"checkbox",checked:y.amenities.lockers,onChange:()=>U("lockers")}),"Раздевалки"]})]})]}),a.jsxs("div",{style:{marginTop:"32px"},children:[a.jsx("h3",{className:"section-subtitle",children:"Режим работы"}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px",marginTop:"16px"},children:[{key:"monday",label:"Понедельник"},{key:"tuesday",label:"Вторник"},{key:"wednesday",label:"Среда"},{key:"thursday",label:"Четверг"},{key:"friday",label:"Пятница"},{key:"saturday",label:"Суббота"},{key:"sunday",label:"Воскресенье"}].map(F=>a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:F.label}),a.jsx("input",{type:"text",className:"form-input",value:y.workingHours[F.key],onChange:$=>x(O=>({...O,workingHours:{...O.workingHours,[F.key]:$.target.value}})),placeholder:"07:00-23:00"}),a.jsx("span",{className:"form-hint",children:"ЧЧ:ММ-ЧЧ:ММ"})]},F.key))})]}),a.jsxs("div",{style:{marginTop:"32px"},children:[a.jsx("h3",{className:"section-subtitle",children:"Доступные длительности бронирования"}),a.jsxs("div",{style:{display:"flex",gap:"24px",flexWrap:"wrap",marginTop:"16px"},children:[a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[a.jsx("input",{type:"checkbox",checked:y.bookingDurations[60],onChange:()=>x(F=>({...F,bookingDurations:{...F.bookingDurations,60:!F.bookingDurations[60]}}))}),"1 час"]}),a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[a.jsx("input",{type:"checkbox",checked:y.bookingDurations[90],onChange:()=>x(F=>({...F,bookingDurations:{...F.bookingDurations,90:!F.bookingDurations[90]}}))}),"1.5 часа"]}),a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[a.jsx("input",{type:"checkbox",checked:y.bookingDurations[120],onChange:()=>x(F=>({...F,bookingDurations:{...F.bookingDurations,120:!F.bookingDurations[120]}}))}),"2 часа"]})]}),a.jsx("p",{className:"form-hint",style:{marginTop:"8px"},children:"Выберите, какие длительности бронирования будут доступны клиентам"})]}),a.jsxs("div",{style:{marginTop:"32px"},children:[a.jsx("h3",{className:"section-subtitle",children:"Интервал временных слотов"}),a.jsxs("div",{style:{display:"flex",gap:"16px",marginTop:"16px"},children:[a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[a.jsx("input",{type:"radio",name:"bookingSlotInterval",value:"30",checked:y.bookingSlotInterval===30,onChange:()=>x(F=>({...F,bookingSlotInterval:30}))}),"Каждые 30 минут"]}),a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[a.jsx("input",{type:"radio",name:"bookingSlotInterval",value:"60",checked:y.bookingSlotInterval===60,onChange:()=>x(F=>({...F,bookingSlotInterval:60}))}),"Только с 00 минут (стандарт)"]})]}),a.jsx("p",{className:"form-hint",style:{marginTop:"8px"},children:'Выберите интервал доступных слотов для бронирования. При выборе "Только с 00 минут" клиенты смогут бронировать только с начала часа (например, 10:00, 11:00, 12:00)'})]}),a.jsxs("div",{style:{display:"flex",gap:"12px"},children:[a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"Сохранение...":"Сохранить изменения"}),a.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{var $,O,H,ie,M,W,V,X;const F=s?l:t;F&&x({name:F.name||"",phone:F.phone||"",address:F.address||"",city:F.city||"",latitude:((O=($=F.location)==null?void 0:$._lat)==null?void 0:O.toString())||((ie=(H=F.location)==null?void 0:H.latitude)==null?void 0:ie.toString())||"",longitude:((W=(M=F.location)==null?void 0:M._long)==null?void 0:W.toString())||((X=(V=F.location)==null?void 0:V.longitude)==null?void 0:X.toString())||"",description:F.description||"",amenities:{showers:Array.isArray(F.amenities)&&F.amenities.includes("showers")||!1,parking:Array.isArray(F.amenities)&&F.amenities.includes("parking")||!1,cafe:Array.isArray(F.amenities)&&F.amenities.includes("cafe")||!1,proshop:Array.isArray(F.amenities)&&F.amenities.includes("proshop")||!1,lockers:Array.isArray(F.amenities)&&F.amenities.includes("lockers")||!1},organizationType:F.organizationType||"",inn:F.inn||"",bankAccount:F.bankAccount||"",legalName:F.legalName||"",ogrn:F.ogrn||"",kpp:F.kpp||"",legalAddress:F.legalAddress||"",bankName:F.bankName||"",bankBik:F.bankBik||"",bankCorrespondentAccount:F.bankCorrespondentAccount||"",directorName:F.directorName||"",directorPosition:F.directorPosition||"",workingHours:F.workingHours||{monday:"07:00-23:00",tuesday:"07:00-23:00",wednesday:"07:00-23:00",thursday:"07:00-23:00",friday:"07:00-23:00",saturday:"08:00-22:00",sunday:"08:00-22:00"},bookingDurations:F.bookingDurations||{60:!0,90:!0,120:!0},bookingSlotInterval:F.bookingSlotInterval||60})},children:"Отмена"})]}),p&&a.jsx("div",{style:{marginTop:"16px",padding:"12px",background:"rgba(16, 185, 129, 0.1)",color:"var(--success)",borderRadius:"8px",fontSize:"14px"},children:"✅ Изменения успешно сохранены"})]})]}),a.jsxs("div",{className:"section-card",children:[a.jsx("h2",{className:"section-title",children:"Реквизиты организации"}),a.jsxs("form",{onSubmit:K,children:[a.jsxs("div",{className:"form-group",style:{marginTop:"24px"},children:[a.jsx("label",{className:"form-label",children:"Тип организации"}),a.jsxs("select",{className:"form-select",name:"organizationType",value:y.organizationType,onChange:N,children:[a.jsx("option",{value:"",children:"Выберите тип"}),a.jsx("option",{value:"ИП",children:"ИП"}),a.jsx("option",{value:"ООО",children:"ООО"}),a.jsx("option",{value:"АО",children:"АО"}),a.jsx("option",{value:"НКО",children:"НКО"}),a.jsx("option",{value:"Самозанятый",children:"Самозанятый"})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Юридическое наименование"}),a.jsx("input",{type:"text",className:"form-input",name:"legalName",value:y.legalName,onChange:N,placeholder:"ООО «Название организации»"})]}),a.jsxs("div",{className:"form-row",children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"ИНН"}),a.jsx("input",{type:"text",className:"form-input",name:"inn",value:y.inn,onChange:N,placeholder:"1234567890"})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"КПП"}),a.jsx("input",{type:"text",className:"form-input",name:"kpp",value:y.kpp,onChange:N,placeholder:"123456789"})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"ОГРН / ОГРНИП"}),a.jsx("input",{type:"text",className:"form-input",name:"ogrn",value:y.ogrn,onChange:N,placeholder:"1234567890123"})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Юридический адрес"}),a.jsx("input",{type:"text",className:"form-input",name:"legalAddress",value:y.legalAddress,onChange:N,placeholder:"123456, г. Москва, ул. Примерная, д. 1, офис 1"})]}),a.jsx("h3",{style:{marginTop:"32px",marginBottom:"16px",fontSize:"18px"},children:"Банковские реквизиты"}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Наименование банка"}),a.jsx("input",{type:"text",className:"form-input",name:"bankName",value:y.bankName,onChange:N,placeholder:"ПАО Сбербанк"})]}),a.jsxs("div",{className:"form-row",children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"БИК банка"}),a.jsx("input",{type:"text",className:"form-input",name:"bankBik",value:y.bankBik,onChange:N,placeholder:"044525225"})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Корр. счет"}),a.jsx("input",{type:"text",className:"form-input",name:"bankCorrespondentAccount",value:y.bankCorrespondentAccount,onChange:N,placeholder:"30101810400000000225"})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Расчетный счет"}),a.jsx("input",{type:"text",className:"form-input",name:"bankAccount",value:y.bankAccount,onChange:N,placeholder:"40702810900000123456"})]}),a.jsx("h3",{style:{marginTop:"32px",marginBottom:"16px",fontSize:"18px"},children:"Руководитель"}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"ФИО руководителя"}),a.jsx("input",{type:"text",className:"form-input",name:"directorName",value:y.directorName,onChange:N,placeholder:"Иванов Иван Иванович"})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Должность"}),a.jsx("input",{type:"text",className:"form-input",name:"directorPosition",value:y.directorPosition,onChange:N,placeholder:"Генеральный директор"})]}),a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"Сохранение...":"Сохранить реквизиты"}),p&&a.jsx("div",{style:{marginTop:"16px",padding:"12px",background:"rgba(16, 185, 129, 0.1)",color:"var(--success)",borderRadius:"8px",fontSize:"14px"},children:"✅ Реквизиты успешно сохранены"})]}),a.jsxs("div",{style:{marginTop:"24px",padding:"16px",background:"var(--background)",borderRadius:"8px",textAlign:"center"},children:[a.jsx("p",{style:{fontSize:"14px",color:"var(--gray)",marginBottom:"12px"},children:"Для настройки приема платежей от клиентов"}),a.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>e("/admin/payment-settings"),style:{width:"auto"},children:"Перейти к настройкам эквайринга"})]})]})]})})}const ap=["#00A86B","#2E86AB","#FF6B6B","#F39C12","#8E44AD","#E91E63","#00BCD4","#795548","#607D8B","#FF5722","#009688","#3F51B5","#FFEB3B","#4CAF50","#FF9800"];function Yq(){const{admin:e}=Er(),{isSuperAdmin:t,canManageCourts:n}=ns(),[r,s]=B.useState(null),[i,o]=B.useState([]),[A,l]=B.useState(!0),[c,u]=B.useState(!1),[d,p]=B.useState(!1),[f,v]=B.useState(null),[g,y]=B.useState({name:"",type:"padel",courtType:"indoor",pricing:{monday:{basePrice:1900,intervals:[]},tuesday:{basePrice:1900,intervals:[]},wednesday:{basePrice:1900,intervals:[]},thursday:{basePrice:1900,intervals:[]},friday:{basePrice:1900,intervals:[]},saturday:{basePrice:2400,intervals:[]},sunday:{basePrice:2400,intervals:[]}},holidayPricing:[],status:"active",color:"#00A86B"});B.useEffect(()=>{if(t){const L=localStorage.getItem("selectedVenueId");L&&(s(L),w(L))}else e!=null&&e.venueId&&w(e.venueId)},[e,t]);const x=L=>{s(L),localStorage.setItem("selectedVenueId",L),L&&w(L)},w=async L=>{if(L)try{l(!0);const E=qt(Ft(Oe,"venues",L,"courts")),T=(await Gt(E)).docs.map((P,K)=>{const Q=P.data();if(!Q.color){const F=K%ap.length;Q.color=ap[F],In(P.ref,{color:Q.color})}return{id:P.id,...Q}});o(T)}catch(E){console.error("Error fetching courts:",E)}finally{l(!1)}},b=()=>{const L=i.map(I=>I.color).filter(Boolean);for(const I of ap)if(!L.includes(I))return I;const E=ap.reduce((I,T)=>(I[T]=L.filter(P=>P===T).length,I),{});return Object.entries(E).sort((I,T)=>I[1]-T[1])[0][0]},j=L=>{const{name:E,value:I}=L.target;y(T=>({...T,[E]:E.includes("price")?Number(I):I}))},_=async L=>{var I,T,P,K,Q,F,$,O,H,ie,M,W,V,X;L.preventDefault();const E=t?r:e==null?void 0:e.venueId;if(E)try{const Y={...g,holidayPricing:Array.isArray(g.holidayPricing)?g.holidayPricing:[],pricing:{monday:{basePrice:((I=g.pricing.monday)==null?void 0:I.basePrice)||1900,intervals:Array.isArray((T=g.pricing.monday)==null?void 0:T.intervals)?g.pricing.monday.intervals:[]},tuesday:{basePrice:((P=g.pricing.tuesday)==null?void 0:P.basePrice)||1900,intervals:Array.isArray((K=g.pricing.tuesday)==null?void 0:K.intervals)?g.pricing.tuesday.intervals:[]},wednesday:{basePrice:((Q=g.pricing.wednesday)==null?void 0:Q.basePrice)||1900,intervals:Array.isArray((F=g.pricing.wednesday)==null?void 0:F.intervals)?g.pricing.wednesday.intervals:[]},thursday:{basePrice:(($=g.pricing.thursday)==null?void 0:$.basePrice)||1900,intervals:Array.isArray((O=g.pricing.thursday)==null?void 0:O.intervals)?g.pricing.thursday.intervals:[]},friday:{basePrice:((H=g.pricing.friday)==null?void 0:H.basePrice)||1900,intervals:Array.isArray((ie=g.pricing.friday)==null?void 0:ie.intervals)?g.pricing.friday.intervals:[]},saturday:{basePrice:((M=g.pricing.saturday)==null?void 0:M.basePrice)||2400,intervals:Array.isArray((W=g.pricing.saturday)==null?void 0:W.intervals)?g.pricing.saturday.intervals:[]},sunday:{basePrice:((V=g.pricing.sunday)==null?void 0:V.basePrice)||2400,intervals:Array.isArray((X=g.pricing.sunday)==null?void 0:X.intervals)?g.pricing.sunday.intervals:[]}}};f?await In(yt(Oe,"venues",E,"courts",f.id),{...Y,updatedAt:new Date}):await qi(Ft(Oe,"venues",E,"courts"),{...Y,createdAt:new Date}),u(!1),v(null);const ee=b();y({name:"",type:"padel",courtType:"indoor",pricing:{monday:{basePrice:1900,intervals:[]},tuesday:{basePrice:1900,intervals:[]},wednesday:{basePrice:1900,intervals:[]},thursday:{basePrice:1900,intervals:[]},friday:{basePrice:1900,intervals:[]},saturday:{basePrice:2400,intervals:[]},sunday:{basePrice:2400,intervals:[]}},holidayPricing:[],status:"active",color:ee}),w(E),p(!0),setTimeout(()=>p(!1),3e3)}catch(Y){console.error("Error saving court:",Y)}},k=L=>{var T,P,K,Q,F,$,O;v(L);const E={monday:{basePrice:1900,intervals:[]},tuesday:{basePrice:1900,intervals:[]},wednesday:{basePrice:1900,intervals:[]},thursday:{basePrice:1900,intervals:[]},friday:{basePrice:1900,intervals:[]},saturday:{basePrice:2400,intervals:[]},sunday:{basePrice:2400,intervals:[]}},I={monday:(T=L.pricing)!=null&&T.monday?{basePrice:L.pricing.monday.basePrice||1900,intervals:L.pricing.monday.intervals||[]}:E.monday,tuesday:(P=L.pricing)!=null&&P.tuesday?{basePrice:L.pricing.tuesday.basePrice||1900,intervals:L.pricing.tuesday.intervals||[]}:E.tuesday,wednesday:(K=L.pricing)!=null&&K.wednesday?{basePrice:L.pricing.wednesday.basePrice||1900,intervals:L.pricing.wednesday.intervals||[]}:E.wednesday,thursday:(Q=L.pricing)!=null&&Q.thursday?{basePrice:L.pricing.thursday.basePrice||1900,intervals:L.pricing.thursday.intervals||[]}:E.thursday,friday:(F=L.pricing)!=null&&F.friday?{basePrice:L.pricing.friday.basePrice||1900,intervals:L.pricing.friday.intervals||[]}:E.friday,saturday:($=L.pricing)!=null&&$.saturday?{basePrice:L.pricing.saturday.basePrice||2400,intervals:L.pricing.saturday.intervals||[]}:E.saturday,sunday:(O=L.pricing)!=null&&O.sunday?{basePrice:L.pricing.sunday.basePrice||2400,intervals:L.pricing.sunday.intervals||[]}:E.sunday};y({name:L.name,type:L.type,courtType:L.courtType,pricing:I,holidayPricing:L.holidayPricing||[],status:L.status,color:L.color||"#00A86B"}),u(!0)},D=async L=>{if(window.confirm("Вы уверены, что хотите удалить этот корт?"))try{const E=t?r:e==null?void 0:e.venueId;if(!E)return;await $c(yt(Oe,"venues",E,"courts",L)),w(E),p(!0),setTimeout(()=>p(!1),3e3)}catch(E){console.error("Error deleting court:",E)}},N=L=>{switch(L){case"tennis":return"tennis";case"padel":return"padel";case"badminton":return"badminton";default:return"padel"}},U=L=>{switch(L){case"tennis":return"Теннис";case"padel":return"Падел";case"badminton":return"Бадминтон";default:return L}};return A?a.jsx("div",{children:"Загрузка..."}):n()?t&&!r?a.jsx(au,{title:"Выберите клуб для управления кортами"}):a.jsxs(su,{permission:["manage_courts","manage_all_venues"],children:[a.jsxs("div",{children:[t&&a.jsx(iu,{selectedVenueId:r,onVenueChange:x}),a.jsxs("div",{className:"section-card",children:[a.jsxs("div",{className:"section-header",children:[a.jsx("h2",{className:"section-title",children:"Управление кортами"}),a.jsxs("button",{className:"btn btn-primary",onClick:()=>{const L=b();y(E=>({...E,color:L})),u(!0)},children:[a.jsx(nu,{fontSize:"small"}),"Добавить корт"]})]}),d&&a.jsx("div",{style:{marginTop:"16px",marginBottom:"16px",padding:"12px",background:"rgba(16, 185, 129, 0.1)",color:"var(--success)",borderRadius:"8px",fontSize:"14px"},children:"✅ Корт успешно сохранен"}),a.jsx("div",{className:"courts-grid",children:i.map(L=>a.jsxs("div",{className:"court-card",children:[a.jsx("div",{className:"court-header",children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[L.color&&a.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"4px",backgroundColor:L.color,border:"1px solid #e5e7eb"}}),a.jsxs("div",{children:[a.jsx("div",{className:"court-name",children:L.name}),a.jsx("span",{className:`court-type ${N(L.type)}`,children:U(L.type)})]})]})}),a.jsxs("div",{className:"court-details",children:[a.jsxs("div",{children:["Тип: ",L.courtType==="indoor"?"Крытый":"Открытый"]}),a.jsx("div",{children:L.pricing?(()=>{try{const E=Object.values(L.pricing).filter(I=>I&&I.basePrice).map(I=>I.basePrice);return E.length===0?a.jsx(a.Fragment,{children:"Цены не установлены"}):a.jsxs(a.Fragment,{children:["Цены: от ",Math.min(...E),"₽ до ",Math.max(...E),"₽"]})}catch(E){return console.error("Error displaying court prices:",E,L),a.jsx(a.Fragment,{children:"Ошибка отображения цен"})}})():a.jsxs(a.Fragment,{children:["Будни: ",L.priceWeekday||1900,"₽ | Вых: ",L.priceWeekend||2400,"₽"]})}),a.jsxs("div",{children:["Статус: ",L.status==="active"?"Активен":L.status==="maintenance"?"Обслуживание":"Неактивен"]})]}),a.jsxs("div",{className:"court-actions",children:[a.jsxs("button",{className:"btn btn-secondary",onClick:()=>k(L),children:[a.jsx(Mc,{fontSize:"small"}),"Редактировать"]}),a.jsx("button",{className:"btn btn-danger",onClick:()=>D(L.id),style:{marginLeft:"auto"},children:a.jsx(ZA,{fontSize:"small"})})]})]},L.id))}),i.length===0&&a.jsxs("div",{style:{textAlign:"center",padding:"48px",color:"var(--gray)"},children:[a.jsx("p",{children:"У вас пока нет кортов"}),a.jsx("p",{children:'Нажмите "Добавить корт", чтобы создать первый'})]})]})]}),a.jsx("div",{className:`modal ${c?"active":""}`,children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h3",{className:"modal-title",children:f?"Редактировать корт":"Добавить корт"}),a.jsx("button",{className:"modal-close",onClick:()=>{u(!1),v(null);const L=b();y({name:"",type:"padel",courtType:"indoor",pricing:{monday:{basePrice:1900,intervals:[]},tuesday:{basePrice:1900,intervals:[]},wednesday:{basePrice:1900,intervals:[]},thursday:{basePrice:1900,intervals:[]},friday:{basePrice:1900,intervals:[]},saturday:{basePrice:2400,intervals:[]},sunday:{basePrice:2400,intervals:[]}},holidayPricing:[],status:"active",color:L})},children:a.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),a.jsxs("form",{onSubmit:_,children:[a.jsxs("div",{className:"modal-body",children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Название корта"}),a.jsx("input",{type:"text",className:"form-input",name:"name",value:g.name,onChange:j,placeholder:"Например: Падел корт 1",required:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Вид спорта"}),a.jsxs("select",{className:"form-select",name:"type",value:g.type,onChange:j,children:[a.jsx("option",{value:"padel",children:"Падел"}),a.jsx("option",{value:"tennis",children:"Теннис"}),a.jsx("option",{value:"badminton",children:"Бадминтон"})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Тип корта"}),a.jsxs("select",{className:"form-select",name:"courtType",value:g.courtType,onChange:j,children:[a.jsx("option",{value:"indoor",children:"Крытый"}),a.jsx("option",{value:"outdoor",children:"Открытый"})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Ценовая политика"}),a.jsx("div",{style:{marginTop:"16px"},children:[{key:"monday",label:"Понедельник"},{key:"tuesday",label:"Вторник"},{key:"wednesday",label:"Среда"},{key:"thursday",label:"Четверг"},{key:"friday",label:"Пятница"},{key:"saturday",label:"Суббота"},{key:"sunday",label:"Воскресенье"}].map(L=>a.jsxs("div",{style:{marginBottom:"24px",padding:"16px",background:"#f8f9fa",borderRadius:"8px"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"12px"},children:[a.jsx("h4",{style:{margin:0},children:L.label}),a.jsx("input",{type:"number",className:"form-input",style:{width:"120px"},value:g.pricing[L.key].basePrice,onChange:E=>{const I=Number(E.target.value);y(T=>({...T,pricing:{...T.pricing,[L.key]:{...T.pricing[L.key],basePrice:I}}}))},min:"0",placeholder:"Базовая цена"}),a.jsx("span",{style:{marginLeft:"8px"},children:"₽/час"})]}),a.jsxs("div",{style:{marginTop:"12px"},children:[a.jsx("div",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"8px"},children:"Интервалы с особыми ценами:"}),(()=>{const E=g.pricing[L.key];return((E==null?void 0:E.intervals)||[]).map((T,P)=>a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[a.jsx("input",{type:"time",className:"form-input",style:{width:"140px"},value:T.from,onChange:K=>{const Q=[...g.pricing[L.key].intervals||[]];Q[P].from=K.target.value,y(F=>({...F,pricing:{...F.pricing,[L.key]:{...F.pricing[L.key],intervals:Q}}}))},step:"3600"}),a.jsx("span",{children:"-"}),a.jsx("input",{type:"time",className:"form-input",style:{width:"140px"},value:T.to,onChange:K=>{const Q=[...g.pricing[L.key].intervals||[]];Q[P].to=K.target.value,y(F=>({...F,pricing:{...F.pricing,[L.key]:{...F.pricing[L.key],intervals:Q}}}))},step:"3600"}),a.jsx("input",{type:"number",className:"form-input",style:{width:"120px"},value:T.price,onChange:K=>{const Q=[...g.pricing[L.key].intervals||[]];Q[P].price=Number(K.target.value),y(F=>({...F,pricing:{...F.pricing,[L.key]:{...F.pricing[L.key],intervals:Q}}}))},min:"0",placeholder:"Цена"}),a.jsx("span",{children:"₽"}),a.jsx("button",{type:"button",className:"btn btn-secondary",style:{padding:"4px 8px"},onClick:()=>{const K=(g.pricing[L.key].intervals||[]).filter((Q,F)=>F!==P);y(Q=>({...Q,pricing:{...Q.pricing,[L.key]:{...Q.pricing[L.key],intervals:K}}}))},children:"Удалить"})]},P))})(),a.jsx("button",{type:"button",className:"btn btn-link",style:{padding:"4px 8px",fontSize:"14px"},onClick:()=>{const E=[...g.pricing[L.key].intervals||[],{from:"09:00",to:"11:00",price:g.pricing[L.key].basePrice*1.5}];y(I=>({...I,pricing:{...I.pricing,[L.key]:{...I.pricing[L.key],intervals:E}}}))},children:"+ Добавить интервал"})]})]},L.key))})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Праздничные дни"}),a.jsx("div",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"16px"},children:"В праздничные дни действует фиксированная цена, независимо от дня недели и временных интервалов"}),a.jsxs("div",{children:[(g.holidayPricing||[]).map((E,I)=>a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px",padding:"12px",background:"#f8f9fa",borderRadius:"8px"},children:[a.jsx("input",{type:"text",className:"form-input",style:{width:"100px"},placeholder:"ММ-ДД",value:E.date,onChange:T=>{const P=[...g.holidayPricing||[]];P[I].date=T.target.value,y(K=>({...K,holidayPricing:P}))}}),a.jsx("input",{type:"text",className:"form-input",style:{flex:1},placeholder:"Название праздника (необязательно)",value:E.name||"",onChange:T=>{const P=[...g.holidayPricing||[]];P[I].name=T.target.value,y(K=>({...K,holidayPricing:P}))}}),a.jsx("input",{type:"number",className:"form-input",style:{width:"120px"},placeholder:"Цена",value:E.price,onChange:T=>{const P=[...g.holidayPricing||[]];P[I].price=Number(T.target.value),y(K=>({...K,holidayPricing:P}))}}),a.jsx("button",{type:"button",className:"btn btn-secondary",style:{padding:"4px 8px"},onClick:()=>{const T=(g.holidayPricing||[]).filter((P,K)=>K!==I);y(P=>({...P,holidayPricing:T}))},children:"✕"})]},I)),a.jsx("button",{type:"button",className:"btn btn-link",style:{padding:"4px 8px",fontSize:"14px"},onClick:()=>{const L=[...g.holidayPricing||[],{date:"",price:3e3,name:""}];y(E=>({...E,holidayPricing:L}))},children:"+ Добавить праздничный день"})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Статус"}),a.jsxs("select",{className:"form-select",name:"status",value:g.status,onChange:j,children:[a.jsx("option",{value:"active",children:"Активен"}),a.jsx("option",{value:"maintenance",children:"На обслуживании"}),a.jsx("option",{value:"inactive",children:"Неактивен"})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Цвет корта"}),a.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[a.jsx("input",{type:"color",className:"form-input",name:"color",value:g.color,onChange:j,style:{width:"80px",height:"48px",padding:"4px",cursor:"pointer"}}),a.jsx("input",{type:"text",className:"form-input",value:g.color,onChange:L=>y(E=>({...E,color:L.target.value})),placeholder:"#00A86B",style:{flex:1}})]}),a.jsx("div",{className:"form-hint",children:"Этот цвет будет использоваться для визуального отображения корта в календаре"})]})]}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{u(!1),v(null)},children:"Отмена"}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:f?"Сохранить изменения":"Добавить корт"})]})]})]})})]}):a.jsxs(Yt,{severity:"error",children:[a.jsx(zA,{children:"Доступ запрещен"}),"У вас недостаточно прав для управления кортами."]})}const kC={awaiting_payment:"Ожидает оплаты",paid:"Оплачено",online_payment:"Онлайн оплата",cancelled:"Отменено",refunded:"Возврат",expired:"Время истекло",error:"Ошибка","":"-"},NC={awaiting_payment:"#F59E0B",paid:"#10B981",online_payment:"#3B82F6",cancelled:"#EF4444",refunded:"#8B5CF6",expired:"#6B7280",error:"#DC2626","":"#9CA3AF"},_C={awaiting_payment:sg,paid:Bm,online_payment:eA,cancelled:Ja,refunded:Ja,expired:sg,error:Ja,"":Ja};function aj({bookingId:e,currentStatus:t,paymentMethod:n,onStatusUpdate:r,onRefund:s}){const{admin:i}=Er(),[o,A]=B.useState(!1),[l,c]=B.useState(!1),[u,d]=B.useState(null),[p,f]=B.useState(t);B.useEffect(()=>{f(t)},[t]),B.useEffect(()=>{if(!e)return;const w=Xi(yt(Oe,"bookings",e),b=>{if(b.exists()){const _=b.data().paymentStatus||"";f(_)}});return()=>w()},[e]);const v=p==="awaiting_payment"&&n!=="online",g=async w=>{if(!i){alert("Ошибка: пользователь не авторизован");return}A(!0);try{const b=yt(Oe,"bookings",e),j=await dn(b);if(!j.exists())throw new Error("Бронирование не найдено");const k=j.data().paymentHistory||[],D={timestamp:Zt.now(),action:w,userId:i.uid||"unknown",userName:i.displayName||i.email||"Администратор"},N={paymentStatus:w};Array.isArray(k)?N.paymentHistory=[...k,D]:N.paymentHistory=[D],w==="cancelled"?N.status="cancelled":w==="paid"&&(N.status="confirmed"),Object.keys(N).forEach(U=>{N[U]===void 0&&delete N[U]}),await In(b,N),c(!1),d(null),await new Promise(U=>setTimeout(U,500)),f(w),r&&await r()}catch(b){console.error("Error updating payment status:",b);let j="Ошибка при обновлении статуса оплаты";b.code==="permission-denied"?j="У вас нет прав для изменения статуса оплаты":b.code==="not-found"?j="Бронирование не найдено":b.message&&(j=`Ошибка: ${b.message}`),alert(j)}finally{A(!1)}},y=p||"",x=_C[y]||_C.cancelled;return a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"6px 12px",background:`${NC[y]}1A`,color:NC[y],borderRadius:"20px",fontSize:"14px",fontWeight:"600"},children:[a.jsx(x,{style:{fontSize:"18px"}}),a.jsx("span",{children:kC[y]}),v&&a.jsxs("div",{style:{marginLeft:"8px",display:"flex",gap:"4px"},children:[a.jsx("button",{onClick:()=>{d("paid"),c(!0)},disabled:o,style:{padding:"4px 8px",fontSize:"12px",background:"#10B981",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",opacity:o?.6:1},children:"Оплачено"}),a.jsx("button",{onClick:()=>{d("cancelled"),c(!0)},disabled:o,style:{padding:"4px 8px",fontSize:"12px",background:"#EF4444",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",opacity:o?.6:1},children:"Отменить"})]}),p==="paid"&&s&&a.jsx("button",{onClick:s,disabled:o,style:{marginLeft:"8px",padding:"4px 8px",fontSize:"12px",background:"#8B5CF6",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",opacity:o?.5:1},title:"Оформить возврат",children:"Возврат"})]}),l&&u&&a.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:a.jsxs("div",{style:{background:"white",padding:"24px",borderRadius:"12px",maxWidth:"400px",width:"90%"},children:[a.jsx("h3",{style:{marginBottom:"16px"},children:"Подтверждение"}),a.jsxs("p",{style:{marginBottom:"24px"},children:['Вы уверены, что хотите изменить статус оплаты на "',kC[u],'"?']}),a.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[a.jsx("button",{onClick:()=>{c(!1),d(null)},style:{padding:"8px 16px",background:"#E5E7EB",border:"none",borderRadius:"8px",cursor:"pointer"},children:"Отмена"}),a.jsx("button",{onClick:()=>g(u),disabled:o,style:{padding:"8px 16px",background:u==="paid"?"#10B981":"#EF4444",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",opacity:o?.6:1},children:o?"Обновление...":"Подтвердить"})]})]})})]})}function oj({createdAt:e,paymentMethod:t,paymentStatus:n}){const[r,s]=B.useState(0),[i,o]=B.useState(!1);if(B.useEffect(()=>{if(n==="paid"||n==="cancelled"||t==="transfer"||t==="cash"||t==="card_on_site")return;const c=()=>{const d=new Date,p=new Date(e),f=Math.floor((d.getTime()-p.getTime())/(1e3*60));let v=30;t==="online"&&(v=15);const g=v-f;g<=0?(o(!0),s(0)):(o(!1),s(g))};c();const u=setInterval(c,3e4);return()=>clearInterval(u)},[e,t,n]),n==="paid"||n==="cancelled"||t==="transfer"||t==="cash"||t==="card_on_site"||r===0&&!i)return null;const A=()=>i?"Время истекло":r<=5?`${r} мин`:`${r} мин`,l=()=>i?{color:"var(--danger)",fontWeight:"600"}:r<=5?{color:"var(--warning)",fontWeight:"600"}:{color:"var(--gray)"};return a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",fontSize:"12px",...l()},children:[i?a.jsx(KA,{style:{fontSize:"16px"}}):a.jsx(k9,{style:{fontSize:"16px"}}),a.jsx("span",{children:A()})]})}const Xq={created:"Создано бронирование",paid:"Оплачено",cancelled:"Отменено"},TC={created:"#6B7280",paid:"#10B981",cancelled:"#EF4444"};function Jq({history:e}){if(!e||e.length===0)return null;const t=n=>{const r=n.toDate?n.toDate():new Date(n);return new Intl.DateTimeFormat("ru-RU",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(r)};return a.jsxs("div",{style:{marginTop:"16px",padding:"16px",background:"var(--background)",borderRadius:"8px"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px",color:"var(--gray)",fontSize:"14px",fontWeight:"600"},children:[a.jsx(pE,{style:{fontSize:"18px"}}),"История платежей"]}),a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:e.map((n,r)=>a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"8px",background:"var(--white)",borderRadius:"6px",fontSize:"14px"},children:[a.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:TC[n.action],flexShrink:0}}),a.jsxs("div",{style:{flex:1},children:[a.jsx("div",{style:{color:TC[n.action],fontWeight:"500"},children:Xq[n.action]}),a.jsx("div",{style:{color:"var(--gray)",fontSize:"12px",marginTop:"2px"},children:t(n.timestamp)})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",color:"var(--gray)",fontSize:"12px"},children:[a.jsx(hE,{style:{fontSize:"16px"}}),n.userName||"Администратор"]}),n.note&&a.jsx("div",{style:{fontSize:"12px",color:"var(--gray)",fontStyle:"italic"},children:n.note})]},r))})]})}const Zq={cash:"Оплата в клубе наличными",card_on_site:"Оплата в клубе картой",transfer:"Перевод на р.счет клуба (юр.лицо)",online:"Онлайн оплата",sberbank_card:"На карту Сбербанка",tbank_card:"На карту Т-Банка",vtb_card:"На карту ВТБ"};function Kx(e){return Zq[e]||e}function Aj({isOpen:e,onClose:t,booking:n,onSuccess:r}){const{admin:s}=Er(),[i,o]=B.useState(!1),[A,l]=B.useState("");if(!e||!n)return null;const c=async()=>{if(!s||!n)return;if(!A.trim()){alert("Пожалуйста, укажите причину возврата");return}const p=new Date(n.date),f=new Date(p.getFullYear(),p.getMonth(),p.getDate(),23,59,59,999);if(new Date>f){alert(`Возврат невозможен после окончания дня бронирования (${p.toLocaleDateString("ru-RU")}). Возврат был доступен до конца этого дня.`);return}o(!0);try{if(n.paymentMethod==="online"){const x=(await Ss(Zo,"processBookingRefund")({bookingId:n.id,reason:A})).data;if(x.success)alert("Запрос на возврат отправлен в платежную систему. Статус бронирования будет обновлен автоматически после подтверждения возврата.");else throw new Error(x.error||"Ошибка при создании возврата")}else{const g=yt(Oe,"bookings",n.id);await In(g,{status:"cancelled",paymentStatus:"refunded",refundedAt:Zt.now(),refundReason:A,refundedBy:{userId:s.uid||"",userName:s.displayName||s.email||"Администратор"},paymentHistory:fp({timestamp:Zt.now(),action:"refunded",userId:s.uid||"",userName:s.displayName||s.email||"Администратор",note:`Возврат: ${A}`})}),alert("Возврат успешно оформлен. Бронирование отменено.")}r(),t(),l("")}catch(g){console.error("Error processing refund:",g),g.code==="functions/already-exists"?alert(g.message||"Возврат по этому бронированию уже выполнен или обрабатывается"):alert("Ошибка при оформлении возврата: "+(g.message||"Неизвестная ошибка"))}finally{o(!1)}},u=p=>new Intl.DateTimeFormat("ru-RU",{day:"numeric",month:"long",year:"numeric"}).format(p),d=p=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0}).format(p);return a.jsx("div",{className:"modal active",onClick:p=>{p.target===p.currentTarget&&t()},children:a.jsxs("div",{className:"modal-content",style:{maxWidth:"500px"},children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h2",{className:"modal-title",children:"Оформление возврата"}),a.jsx("button",{className:"modal-close",onClick:t,children:a.jsx(Cm,{})})]}),a.jsxs("div",{className:"modal-body",children:[(()=>{const p=new Date(n.date),f=new Date;return p.getFullYear()===f.getFullYear()&&p.getMonth()===f.getMonth()&&p.getDate()===f.getDate()?a.jsxs("div",{style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid var(--danger)",borderRadius:"8px",padding:"16px",marginBottom:"24px",display:"flex",gap:"12px"},children:[a.jsx(KA,{style:{color:"var(--danger)",flexShrink:0}}),a.jsxs("div",{children:[a.jsx("div",{style:{fontWeight:"600",marginBottom:"8px",color:"var(--danger)"},children:"Внимание! Последний день для возврата"}),a.jsx("div",{style:{fontSize:"14px"},children:"Сегодня последний день, когда возможен возврат по этому бронированию. После 23:59 возврат будет недоступен."})]})]}):null})(),a.jsxs("div",{style:{background:"rgba(245, 158, 11, 0.1)",border:"1px solid var(--warning)",borderRadius:"8px",padding:"16px",marginBottom:"24px",display:"flex",gap:"12px"},children:[a.jsx(KA,{style:{color:"var(--warning)",flexShrink:0}}),a.jsxs("div",{children:[a.jsx("div",{style:{fontWeight:"600",marginBottom:"8px"},children:"Важно! Способ возврата"}),a.jsxs("div",{style:{fontSize:"14px",color:"var(--gray)"},children:["Возврат должен быть осуществлен тем же способом, что и оплата.",n.paymentMethod==="online"?a.jsx("div",{style:{marginTop:"8px",color:"var(--danger)"},children:"Для онлайн оплаты возврат будет произведен автоматически через платежную систему. Бронирование будет отменено только после подтверждения возврата от платежной системы."}):a.jsxs("div",{style:{marginTop:"8px"},children:["Способ оплаты: ",a.jsx("strong",{children:Kx(n.paymentMethod)}),a.jsx("br",{}),"После подтверждения возврата бронирование будет отменено немедленно."]})]})]})]}),a.jsxs("div",{style:{background:"var(--background)",borderRadius:"8px",padding:"16px",marginBottom:"24px"},children:[a.jsx("h3",{style:{fontSize:"16px",marginBottom:"12px"},children:"Детали бронирования"}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("span",{style:{color:"var(--gray)"},children:"Клиент:"}),a.jsx("span",{children:n.clientName||n.customerName})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("span",{style:{color:"var(--gray)"},children:"Корт:"}),a.jsx("span",{children:n.courtName})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("span",{style:{color:"var(--gray)"},children:"Дата:"}),a.jsx("span",{children:u(n.date)})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("span",{style:{color:"var(--gray)"},children:"Время:"}),a.jsxs("span",{children:[n.startTime," - ",n.endTime]})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingTop:"8px",borderTop:"1px solid var(--extra-light-gray)",fontWeight:"600",fontSize:"18px"},children:[a.jsx("span",{children:"Сумма к возврату:"}),a.jsx("span",{style:{color:"var(--danger)"},children:d(n.amount)})]})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Причина возврата *"}),a.jsx("textarea",{className:"form-textarea",placeholder:"Укажите причину возврата...",value:A,onChange:p=>l(p.target.value),rows:3,required:!0})]})]}),a.jsxs("div",{className:"modal-footer",style:{paddingTop:"24px",borderTop:"1px solid var(--extra-light-gray)",display:"flex",gap:"12px",justifyContent:"flex-end"},children:[a.jsx("button",{type:"button",className:"btn btn-secondary",onClick:t,disabled:i,children:"Отмена"}),a.jsx("button",{type:"button",className:"btn btn-danger",onClick:c,disabled:i||!A.trim(),children:i?"Оформление...":"Оформить возврат"})]})]})})}function eY(e){return new Date(e+"T00:00:00")}function tY(e){return Zt.fromDate(e)}function yg(e,t){const[n,r]=e.split(":").map(Number),s=n*60+r+t,i=Math.floor(s/60)%24,o=s%60;return`${String(i).padStart(2,"0")}:${String(o).padStart(2,"0")}`}function nY(e){return Math.round(e*60)}function Jl(e,t){if(!t){const[o,A,l]=e.split("-").map(Number);return new Date(Date.UTC(o,A-1,l,0,0,0))}const n=new Date(e+"T00:00:00"),s=new Intl.DateTimeFormat("en-US",{timeZone:t,year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1}).formatToParts(n),i={};return s.forEach(o=>{o.type!=="literal"&&(i[o.type]=parseInt(o.value))}),new Date(Date.UTC(i.year,i.month-1,i.day,0,0,0))}function ic(e,t){if(!e)return new Date;if(e!=null&&e.toDate&&typeof e.toDate=="function"){const n=e.toDate(),r=n.getUTCHours();if(r>=19&&r<=23){const l=new Date(n);l.setUTCDate(l.getUTCDate()+1);const c=l.getUTCFullYear(),u=String(l.getUTCMonth()+1).padStart(2,"0"),d=String(l.getUTCDate()).padStart(2,"0"),p=`${c}-${u}-${d}`;return Jl(p,t)}const s=n.getUTCFullYear(),i=String(n.getUTCMonth()+1).padStart(2,"0"),o=String(n.getUTCDate()).padStart(2,"0"),A=`${s}-${i}-${o}`;return Jl(A,t)}if(e!=null&&e.seconds&&typeof e.seconds=="number"){const n=new Date(e.seconds*1e3),r=n.getUTCHours();if(r>=19&&r<=23){const l=new Date(n);l.setUTCDate(l.getUTCDate()+1);const c=l.getUTCFullYear(),u=String(l.getUTCMonth()+1).padStart(2,"0"),d=String(l.getUTCDate()).padStart(2,"0"),p=`${c}-${u}-${d}`;return Jl(p,t)}const s=n.getUTCFullYear(),i=String(n.getUTCMonth()+1).padStart(2,"0"),o=String(n.getUTCDate()).padStart(2,"0"),A=`${s}-${i}-${o}`;return Jl(A,t)}return e instanceof Date?e:typeof e=="string"?e.match(/^\d{4}-\d{2}-\d{2}$/)?Jl(e,t):new Date(e):typeof e=="number"?new Date(e):new Date}function rY(e,t){if(!t){const r=e.getUTCFullYear(),s=String(e.getUTCMonth()+1).padStart(2,"0"),i=String(e.getUTCDate()).padStart(2,"0");return`${r}-${s}-${i}`}return new Intl.DateTimeFormat("en-CA",{timeZone:t,year:"numeric",month:"2-digit",day:"2-digit"}).format(e)}function py(e,t){const n=rY(e,t),r=Jl(n,t);let s=r.getUTCDay();return s=s===0?6:s-1,r.setUTCDate(r.getUTCDate()-s),r}function sY(e,t){const n=py(e,t),r=new Date(n);return r.setUTCDate(r.getUTCDate()+6),r.setUTCHours(23,59,59,999),r}function lj({booking:e,isOpen:t,onClose:n,onUpdate:r}){var g,y,x,w;const{club:s}=Er(),[i,o]=B.useState(e),[A,l]=B.useState(!1),c=(s==null?void 0:s.timezone)||"Europe/Moscow";B.useEffect(()=>{if(e&&t){u(e.id);const b=Xi(yt(Oe,"bookings",e.id),j=>{if(j.exists()){const _=j.data(),k=ic(_.date,c),D=ic(_.createdAt,c),N=_.duration?yg(_.startTime||_.time||"00:00",_.duration):_.endTime||"",U={id:j.id,..._,date:k,createdAt:D,startTime:_.startTime||_.time||"00:00",endTime:N,clientName:_.customerName||_.clientName,clientPhone:_.customerPhone||_.clientPhone,customerName:_.customerName||_.clientName,customerPhone:_.customerPhone||_.clientPhone,paymentStatus:_.paymentStatus||"awaiting_payment",paymentHistory:_.paymentHistory||[]};o(U)}});return()=>b()}},[e==null?void 0:e.id,t]);const u=async b=>{console.log("Loading fresh booking data:",b);try{const j=await dn(yt(Oe,"bookings",b));if(j.exists()){const _=j.data(),k=ic(_.date,c),D=ic(_.createdAt,c),N=_.duration?yg(_.startTime||_.time||"00:00",_.duration):_.endTime||"",U={id:j.id,..._,date:k,createdAt:D,startTime:_.startTime||_.time||"00:00",endTime:N,clientName:_.customerName||_.clientName,clientPhone:_.customerPhone||_.clientPhone,customerName:_.customerName||_.clientName,customerPhone:_.customerPhone||_.clientPhone,paymentStatus:_.paymentStatus||"awaiting_payment",paymentHistory:_.paymentHistory||[]};console.log("Fresh booking loaded with payment status:",U.paymentStatus),o(U)}}catch(j){console.error("Error loading fresh booking:",j)}};if(!t||!i)return null;const d=b=>new Intl.DateTimeFormat("ru-RU",{weekday:"long",day:"numeric",month:"long",year:"numeric"}).format(b),p=b=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0}).format(b),f={confirmed:"Подтверждено",pending:"Ожидает",cancelled:"Отменено"},v={confirmed:"#10B981",pending:"#F59E0B",cancelled:"#EF4444"};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"modal active",onClick:b=>{b.target===b.currentTarget&&n()},children:a.jsxs("div",{className:"modal-content",style:{maxWidth:"700px"},children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h2",{className:"modal-title",children:"Детали бронирования"}),a.jsx("button",{className:"modal-close",onClick:n,children:a.jsx(Cm,{})})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("div",{style:{display:"grid",gap:"24px"},children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Информация о бронировании"}),a.jsxs("div",{style:{display:"grid",gap:"12px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("span",{style:{color:"var(--gray)"},children:"Корт:"}),a.jsx("span",{style:{fontWeight:"600"},children:i.courtName})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("span",{style:{color:"var(--gray)"},children:"Дата:"}),a.jsx("span",{style:{fontWeight:"600"},children:d(i.date)})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("span",{style:{color:"var(--gray)"},children:"Время:"}),a.jsxs("span",{style:{fontWeight:"600"},children:[i.startTime," - ",i.endTime]})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("span",{style:{color:"var(--gray)"},children:"Статус:"}),a.jsx("span",{style:{fontWeight:"600",color:v[i.status]},children:f[i.status]})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Информация о клиенте"}),a.jsxs("div",{style:{display:"grid",gap:"12px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("span",{style:{color:"var(--gray)"},children:"Имя:"}),a.jsx("span",{style:{fontWeight:"600"},children:i.clientName||i.customerName})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("span",{style:{color:"var(--gray)"},children:"Телефон:"}),a.jsx("span",{style:{fontWeight:"600"},children:i.clientPhone||i.customerPhone})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Информация о создании"}),a.jsxs("div",{style:{display:"grid",gap:"12px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("span",{style:{color:"var(--gray)"},children:"Создано:"}),a.jsx("span",{style:{fontWeight:"600"},children:((g=i.createdBy)==null?void 0:g.userName)||"Система"})]}),((y=i.createdBy)==null?void 0:y.userRole)&&a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("span",{style:{color:"var(--gray)"},children:"Роль:"}),a.jsx("span",{style:{fontWeight:"600"},children:i.createdBy.userRole==="superadmin"?"Суперадминистратор":"Администратор"})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("span",{style:{color:"var(--gray)"},children:"Дата создания:"}),a.jsx("span",{style:{fontWeight:"600"},children:new Intl.DateTimeFormat("ru-RU",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(i.createdAt)})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Информация об оплате"}),a.jsxs("div",{style:{display:"grid",gap:"12px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("span",{style:{color:"var(--gray)"},children:"Сумма:"}),a.jsx("span",{style:{fontWeight:"600",fontSize:"18px"},children:p(i.amount)})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("span",{style:{color:"var(--gray)"},children:"Способ оплаты:"}),a.jsx("span",{style:{fontWeight:"600"},children:Kx(i.paymentMethod)})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx("span",{style:{color:"var(--gray)"},children:"Статус оплаты:"}),a.jsx(aj,{bookingId:i.id,currentStatus:i.paymentStatus||"awaiting_payment",paymentMethod:i.paymentMethod,onStatusUpdate:async()=>{r&&await r()},onRefund:()=>{l(!0)}},`${i.id}-${i.paymentStatus}`)]}),i.paymentStatus==="awaiting_payment"&&a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx("span",{style:{color:"var(--gray)"},children:"До отмены:"}),a.jsx(oj,{createdAt:i.createdAt,paymentMethod:i.paymentMethod,paymentStatus:i.paymentStatus})]}),i.paymentMethod==="online"&&i.paymentStatus==="awaiting_payment"&&(i.paymentUrl||((x=i.paymentSmsInfo)==null?void 0:x.paymentUrl))&&a.jsxs("div",{style:{marginTop:"12px",padding:"12px",background:"rgba(245, 158, 11, 0.1)",borderRadius:"8px",border:"1px solid rgba(245, 158, 11, 0.3)"},children:[a.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"var(--warning)",marginBottom:"8px"},children:"Ссылка на оплату"}),a.jsx("div",{style:{fontSize:"12px",color:"var(--gray)",marginBottom:"8px"},children:i.paymentSmsInfo?`SMS отправлено на ${i.paymentSmsInfo.sentTo}`:"Клиент может оплатить по этой ссылке"}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px",background:"white",borderRadius:"6px",border:"1px solid var(--extra-light-gray)"},children:[a.jsx("input",{type:"text",value:i.paymentUrl||((w=i.paymentSmsInfo)==null?void 0:w.paymentUrl)||"",readOnly:!0,style:{flex:1,border:"none",outline:"none",fontSize:"12px",background:"transparent"}}),a.jsx("button",{onClick:()=>{var j;const b=i.paymentUrl||((j=i.paymentSmsInfo)==null?void 0:j.paymentUrl)||"";navigator.clipboard.writeText(b),alert("Ссылка скопирована!")},style:{padding:"4px 12px",background:"var(--primary)",color:"white",border:"none",borderRadius:"4px",fontSize:"12px",cursor:"pointer"},children:"Копировать"})]})]})]})]}),i.paymentHistory&&i.paymentHistory.length>0&&a.jsx(Jq,{history:i.paymentHistory})]})}),a.jsx("div",{className:"modal-footer",children:a.jsx("button",{className:"btn btn-secondary",onClick:n,children:"Закрыть"})})]})}),a.jsx(Aj,{isOpen:A,onClose:()=>{l(!1)},booking:i,onSuccess:()=>{l(!1),r&&r()}})]})}function iY({venueId:e,bookings:t,onRefresh:n}){const{admin:r}=Er(),{isSuperAdmin:s}=ns(),[i,o]=B.useState([]),[A,l]=B.useState(!0),[c,u]=B.useState("all"),[d,p]=B.useState("all"),[f,v]=B.useState(!1),[g,y]=B.useState(null),[x,w]=B.useState(!1),[b,j]=B.useState(!1),[_,k]=B.useState(null),[D,N]=B.useState("desc");B.useEffect(()=>{t?(console.log("BookingsList received bookings (first 5):",t.slice(0,5).map(F=>{var $,O;return{id:F.id,name:F.customerName||F.clientName,createdAt:F.createdAt,createdAtType:typeof F.createdAt,hasToDate:!!(($=F.createdAt)!=null&&$.toDate),hasSeconds:!!((O=F.createdAt)!=null&&O.seconds)}})),o(t),l(!1)):U()},[e,t]);const U=async()=>{if(!t){if(!e){console.log("No venueId provided to BookingsList");return}console.log("BookingsList: Fetching bookings for venue:",e);try{l(!0);const F=qt(Ft(Oe,"bookings"),It("venueId","==",e)),$=await Gt(F);console.log("BookingsList: Found bookings:",$.size);const O=$.docs.map(H=>{var V,X,Y,ee;const ie=H.data();console.log("BookingsList: Raw booking:",ie);let M;(V=ie.createdAt)!=null&&V.toDate?M=ie.createdAt.toDate():ie.createdAt instanceof Date?M=ie.createdAt:typeof ie.createdAt=="string"?M=new Date(ie.createdAt):(X=ie.createdAt)!=null&&X.seconds?M=new Date(ie.createdAt.seconds*1e3):(M=new Date,console.warn("No createdAt for booking:",H.id));let W;return(Y=ie.date)!=null&&Y.toDate?W=ie.date.toDate():ie.date instanceof Date?W=ie.date:typeof ie.date=="string"?W=new Date(ie.date):(ee=ie.date)!=null&&ee.seconds?W=new Date(ie.date.seconds*1e3):W=new Date,{id:H.id,...ie,date:W,createdAt:M}});console.log("BookingsList: Processed bookings:",O),o(O)}catch(F){console.error("Error fetching bookings:",F)}finally{l(!1)}}},L=F=>{if(!s)return!1;const $=F.status==="cancelled",O=!F.paymentStatus||F.paymentStatus==="awaiting_payment"||F.paymentStatus==="cancelled",H=F.paymentStatus==="refunded",ie=F.paymentStatus==="error";return $&&(O||H)||ie},E=async(F,$)=>{if(!L($)){alert("Удалить можно только отмененное бронирование без оплаты/с возвратом средств, или бронирование с ошибкой оплаты");return}if(confirm(`Вы уверены, что хотите удалить это бронирование?

Это действие необратимо!`))try{await $c(yt(Oe,"bookings",F)),n?n():U()}catch(O){console.error("Error deleting booking:",O),alert("Ошибка при удалении бронирования")}},T=[...i.filter(F=>!(c!=="all"&&F.status!==c||d!=="all"&&(F.paymentStatus||"awaiting_payment")!==d))].sort((F,$)=>{var ie,M,W,V,X,Y,ee,ce;let O,H;return F.createdAt instanceof Date?O=F.createdAt:(ie=F.createdAt)!=null&&ie.toDate?O=F.createdAt.toDate():(M=F.createdAt)!=null&&M.seconds?O=new Date(F.createdAt.seconds*1e3):typeof F.createdAt=="string"?O=new Date(F.createdAt):F.date instanceof Date?O=F.date:(W=F.date)!=null&&W.toDate?O=F.date.toDate():(V=F.date)!=null&&V.seconds?O=new Date(F.date.seconds*1e3):O=new Date(0),$.createdAt instanceof Date?H=$.createdAt:(X=$.createdAt)!=null&&X.toDate?H=$.createdAt.toDate():(Y=$.createdAt)!=null&&Y.seconds?H=new Date($.createdAt.seconds*1e3):typeof $.createdAt=="string"?H=new Date($.createdAt):$.date instanceof Date?H=$.date:(ee=$.date)!=null&&ee.toDate?H=$.date.toDate():(ce=$.date)!=null&&ce.seconds?H=new Date($.date.seconds*1e3):H=new Date(0),D==="desc"?H.getTime()-O.getTime():O.getTime()-H.getTime()}),P=F=>new Intl.DateTimeFormat("ru-RU",{day:"numeric",month:"long",year:"numeric"}).format(F),K=F=>F||"—",Q=F=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0}).format(F);return A?a.jsx("div",{children:"Загрузка..."}):a.jsxs("div",{className:"section-card",children:[a.jsxs("div",{className:"section-header",children:[a.jsx("h2",{className:"section-title",children:"Список бронирований"}),a.jsxs("button",{className:"btn btn-secondary btn-icon",onClick:()=>v(!f),children:[a.jsx($9,{}),"Фильтры"]})]}),f&&a.jsxs("div",{className:"booking-filters-mobile",style:{marginBottom:"24px",padding:"16px",background:"var(--background)",borderRadius:"8px",display:"flex",gap:"16px",flexWrap:"wrap"},children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",style:{fontSize:"12px",marginBottom:"4px"},children:"Статус бронирования"}),a.jsxs("select",{className:"form-select",value:c,onChange:F=>u(F.target.value),style:{minWidth:"150px"},children:[a.jsx("option",{value:"all",children:"Все"}),a.jsx("option",{value:"confirmed",children:"Подтверждено"}),a.jsx("option",{value:"pending",children:"Ожидает"}),a.jsx("option",{value:"cancelled",children:"Отменено"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",style:{fontSize:"12px",marginBottom:"4px"},children:"Статус оплаты"}),a.jsxs("select",{className:"form-select",value:d,onChange:F=>p(F.target.value),style:{minWidth:"150px"},children:[a.jsx("option",{value:"all",children:"Все"}),a.jsx("option",{value:"awaiting_payment",children:"Ожидает оплаты"}),a.jsx("option",{value:"paid",children:"Оплачено"}),a.jsx("option",{value:"online_payment",children:"Онлайн оплата"}),a.jsx("option",{value:"cancelled",children:"Отменено"})]})]})]}),a.jsx("div",{className:"table-wrapper",style:{overflowX:"auto",WebkitOverflowScrolling:"touch"},children:a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{onClick:()=>N(F=>F==="desc"?"asc":"desc"),style:{cursor:"pointer",userSelect:"none"},children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:["Дата создания",a.jsx("span",{style:{color:"var(--primary)"},children:D==="desc"?"↓":"↑"})]})}),a.jsx("th",{children:"Дата и время"}),a.jsx("th",{children:"Корт"}),a.jsx("th",{children:"Клиент"}),a.jsx("th",{children:"Сумма"}),a.jsx("th",{children:"Способ оплаты"}),a.jsx("th",{children:"Статус оплаты"}),a.jsx("th",{children:"Действия"})]})}),a.jsx("tbody",{children:T.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:8,style:{textAlign:"center",padding:"48px"},children:"Нет бронирований"})}):T.map(F=>a.jsxs("tr",{children:[a.jsx("td",{children:(()=>{var O,H;let $=null;return F.createdAt instanceof Date?$=F.createdAt:(O=F.createdAt)!=null&&O.toDate?$=F.createdAt.toDate():(H=F.createdAt)!=null&&H.seconds?$=new Date(F.createdAt.seconds*1e3):typeof F.createdAt=="string"&&($=new Date(F.createdAt)),$&&!isNaN($.getTime())?a.jsxs(a.Fragment,{children:[a.jsx("div",{children:P($)}),a.jsx("div",{style:{fontSize:"14px",color:"var(--gray)"},children:$.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"})})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{children:"Неизвестно"}),a.jsx("div",{style:{fontSize:"14px",color:"var(--gray)"},children:"—"})]})})()}),a.jsxs("td",{children:[a.jsx("div",{children:P(F.date)}),a.jsxs("div",{style:{fontSize:"14px",color:"var(--gray)"},children:[K(F.startTime)," - ",K(F.endTime)]})]}),a.jsx("td",{children:F.courtName}),a.jsxs("td",{children:[a.jsx("div",{children:F.clientName||F.customerName}),a.jsx("div",{style:{fontSize:"14px",color:"var(--gray)"},children:F.clientPhone||F.customerPhone})]}),a.jsx("td",{style:{fontWeight:"600"},children:Q(F.amount)}),a.jsx("td",{children:Kx(F.paymentMethod)}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[a.jsx(aj,{bookingId:F.id,currentStatus:F.paymentStatus||"awaiting_payment",paymentMethod:F.paymentMethod,onStatusUpdate:U,onRefund:()=>{k(F),j(!0)}}),F.createdAt&&a.jsx(oj,{createdAt:F.createdAt,paymentMethod:F.paymentMethod,paymentStatus:F.paymentStatus})]})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",gap:"8px"},children:[a.jsx("button",{className:"btn btn-secondary btn-icon",onClick:()=>{y(F),w(!0)},title:"Подробности",children:a.jsx(gE,{})}),L(F)&&a.jsx("button",{className:"btn btn-danger btn-icon",onClick:()=>E(F.id,F),title:"Удалить бронирование (отмененные без оплаты или с ошибкой)",children:a.jsx(ZA,{})})]})})]},F.id))})]})}),a.jsx(lj,{booking:g,isOpen:x,onClose:()=>{w(!1),y(null)},onUpdate:U}),a.jsx(Aj,{isOpen:b,onClose:()=>{j(!1),k(null)},booking:_,onSuccess:()=>{U(),j(!1),k(null)}})]})}function cj(e,t){if(!t||t.length===0)return null;const n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0"),s=`${n}-${r}`;return t.find(i=>i.date===s)||null}function Pc(e,t,n,r,s,i,o){const[A,l]=t.split(":").map(Number);let c=0,u=A,d=l,p=n;for(;p>0;){const f=Math.min(60-d,p),v=f/60,g=cj(e,s);if(g)c+=g.price*v;else if(r){const y=e.getDay(),w=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][y],b=r[w];if(b){let j=b.basePrice;if(b.intervals)for(const _ of b.intervals){const k=parseInt(_.from.split(":")[0]),D=parseInt(_.to.split(":")[0]);if(u>=k&&u<D){j=_.price;break}}c+=j*v}else{const _=e.getDay()===0||e.getDay()===6?o||2400:i||1900;c+=_*v}}else{const x=e.getDay()===0||e.getDay()===6?o||2400:i||1900;c+=x*v}p-=f,d+=f,d>=60&&(u+=Math.floor(d/60),d=d%60)}return Math.round(c)}function aY(e,t,n,r,s,i,o){const A=[],[l,c]=t.split(":").map(Number);let u=l,d=c,p=n;for(;p>0;){const f=Math.min(60-d,p),v=f/60,g=`${String(u).padStart(2,"0")}:${String(d).padStart(2,"0")}`,y=d+f,x=u+Math.floor(y/60),w=y%60,b=`${String(x).padStart(2,"0")}:${String(w).padStart(2,"0")}`;let j=0;const _=cj(e,s);if(_)j=_.price*v;else if(r){const k=e.getDay(),N=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][k],U=r[N];if(U){let L=U.basePrice;if(U.intervals)for(const E of U.intervals){const I=parseInt(E.from.split(":")[0]),T=parseInt(E.to.split(":")[0]);if(u>=I&&u<T){L=E.price;break}}j=L*v}else j=(e.getDay()===0||e.getDay()===6?o||2400:i||1900)*v}else j=(e.getDay()===0||e.getDay()===6?o||2400:i||1900)*v;(f===60||p<=60)&&A.push({time:`${g} - ${b}`,price:Math.round(j)}),p-=f,d+=f,d>=60&&(u+=Math.floor(d/60),d=d%60)}return A}function oY(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function uj(e){const t=e.replace(/\D/g,"");return t.length===11&&(t.startsWith("7")||t.startsWith("8"))}function ac(e){const t=e.replace(/\D/g,"");if(t.length===11){if(t.startsWith("8"))return"+7"+t.substring(1);if(t.startsWith("7"))return"+"+t}return t.length===10?"+7"+t:e}function dj(e){return e.trim().length>=2&&e.trim().length<=100}function hj(e){const t=new Date;t.setHours(0,0,0,0);const n=new Date(e);return n.setHours(0,0,0,0),n>=t}function AY(e,t,n=60){const r=/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/;if(!r.test(e)||!r.test(t))return!1;const[s,i]=e.split(":").map(Number),[o,A]=t.split(":").map(Number),l=s*60+i,c=o*60+A;return c<=l?!1:c-l>=n}function Dd(e){return e.replace(/[<>]/g,"").replace(/javascript:/gi,"").trim()}function lY({isOpen:e,onClose:t,onSuccess:n,venueId:r,preSelectedDate:s,preSelectedTime:i,preSelectedCourtId:o}){const{admin:A}=Er(),[l,c]=B.useState([]),[u,d]=B.useState(!1),[p,f]=B.useState(""),[v,g]=B.useState(30),[y,x]=B.useState({monday:{open:"07:00",close:"23:00"},tuesday:{open:"07:00",close:"23:00"},wednesday:{open:"07:00",close:"23:00"},thursday:{open:"07:00",close:"23:00"},friday:{open:"07:00",close:"23:00"},saturday:{open:"08:00",close:"22:00"},sunday:{open:"08:00",close:"22:00"}}),w=me=>{const ne=me.getFullYear(),ae=String(me.getMonth()+1).padStart(2,"0"),he=String(me.getDate()).padStart(2,"0");return`${ne}-${ae}-${he}`},[b,j]=B.useState({clientName:"",clientPhone:"+7",courtId:o||"",date:w(s||new Date),startTime:i||"10:00",duration:1,paymentMethod:"online"}),[_,k]=B.useState([]),[D,N]=B.useState([]),[U,L]=B.useState(null),[E,I]=B.useState({cash:!0,card_on_site:!0,transfer:!0,sberbank_card:!0,tbank_card:!0,vtb_card:!0}),[T,P]=B.useState(""),[K,Q]=B.useState([]),[F,$]=B.useState(null),[O,H]=B.useState(!1),[ie,M]=B.useState(!1),[W,V]=B.useState(!1),X=B.useRef(null),Y=async me=>{if(!me||me.length<2){Q([]);return}H(!0);try{const ne=qt(Ft(Oe,"bookings"),It("venueId","==",r),oc(2e3)),ae=await Gt(ne),he=new Map;ae.docs.forEach(Ce=>{var He,xt;const ye=Ce.data(),Le=ye.customerPhone||ye.clientPhone,We=ye.customerName||ye.clientName;if(!Le||!We)return;const De=me.toLowerCase().trim(),$e=We.toLowerCase(),Ge=me.replace(/\D/g,""),_e=Le.replace(/\D/g,""),Me=De.length>0&&$e.includes(De),Ie=Ge.length>=3&&_e.includes(Ge);if(!Me&&!Ie)return;const nt=Le;if(he.has(nt)){const Qe=he.get(nt);Qe.bookingsCount++;const et=(He=ye.date)!=null&&He.toDate?ye.date.toDate():new Date(ye.date);(!Qe.lastVisit||et>Qe.lastVisit)&&(Qe.lastVisit=et)}else{const Qe=(xt=ye.date)!=null&&xt.toDate?ye.date.toDate():new Date(ye.date);he.set(nt,{id:nt,name:We,phone:Le,email:ye.customerEmail||ye.clientEmail,bookingsCount:1,lastVisit:Qe})}});const ge=Array.from(he.values()).sort((Ce,ye)=>ye.bookingsCount!==Ce.bookingsCount?ye.bookingsCount-Ce.bookingsCount:Ce.lastVisit&&ye.lastVisit?ye.lastVisit.getTime()-Ce.lastVisit.getTime():0).slice(0,10);Q(ge)}catch(ne){console.error("Error searching customers:",ne)}finally{H(!1)}},ee=me=>{$(me),j(ne=>({...ne,clientName:me.name,clientPhone:me.phone})),P(""),Q([]),V(!1)},ce=()=>{$(null),j(me=>({...me,clientName:"",clientPhone:"+7"})),M(!1),P("")},Ae=(me,ne)=>{const ae=l.find(ge=>ge.id===b.courtId);if(!ae)return 0;const he=new Date(b.date);return Pc(he,me,ne*60,ae.pricing,ae.holidayPricing,ae.priceWeekday,ae.priceWeekend)},Ee=(me,ne)=>{const[ae,he]=me.split(":").map(Number),ge=ae+he/60,Ce=ge+ne;return D.some(Le=>{const[We,De]=Le.startTime.split(":").map(Number),[$e,Ge]=Le.endTime.split(":").map(Number),_e=We+De/60,Me=$e+Ge/60;return ge<Me&&Ce>_e})},fe=me=>{const ne=[],ae=new Date(b.date),ge=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][ae.getDay()],Ce=y[ge];let ye="08:00",Le="22:00";if(Ce)if(typeof Ce=="string"&&Ce.includes("-")){const[He,xt]=Ce.split("-").map(Qe=>Qe.trim());ye=He||"08:00",Le=xt||"22:00"}else Ce.open&&Ce.close&&(ye=Ce.open,Le=Ce.close);const[We,De]=ye.split(":").map(Number),[$e,Ge]=Le.split(":").map(Number),_e=We+De/60,Me=$e+Ge/60,Ie=Me-me,nt=v===60?1:.5;for(let He=_e;He<=Ie;He+=nt){const xt=Math.floor(He),Qe=He%1*60,et=`${String(xt).padStart(2,"0")}:${String(Qe).padStart(2,"0")}`;He+me<=Me&&ne.push(et)}return ne};B.useEffect(()=>{const me=setTimeout(()=>{T&&!ie?(Y(T),V(!0)):V(!1)},300);return()=>clearTimeout(me)},[T,ie]),B.useEffect(()=>{const me=ne=>{X.current&&!X.current.contains(ne.target)&&V(!1)};return document.addEventListener("mousedown",me),()=>{document.removeEventListener("mousedown",me)}},[]);const we=async()=>{if(r)try{const me=await dn(yt(Oe,"venues",r));if(me.exists()){const ne=me.data();ne.enabledPaymentMethods&&I(ne.enabledPaymentMethods)}}catch(me){console.error("Error loading payment methods settings:",me)}};B.useEffect(()=>{if(e&&r){de(),we(),!E[b.paymentMethod]&&b.paymentMethod!=="online"&&j(he=>({...he,paymentMethod:"online"}));const me=Ft(Oe,"venues",r,"courts"),ne=Xi(me,he=>{const ge=he.docs.map(Ce=>({id:Ce.id,...Ce.data()}));c(ge),b.courtId&&!ge.find(Ce=>Ce.id===b.courtId)&&j(Ce=>({...Ce,courtId:""}))},he=>{console.error("Error listening to courts:",he)});s&&j(he=>({...he,date:w(s)})),i&&j(he=>({...he,startTime:i})),j(he=>({...he,courtId:o||""}));const ae=fe(b.duration);if(k(ae),o&&(s||b.date)){const he=s?w(s):b.date;Be(o,he)}return()=>{ne()}}else e||(P(""),Q([]),$(null),H(!1),M(!1),V(!1))},[e,r,s,i,o,v]),B.useEffect(()=>{const me=fe(b.duration);k(me),!me.includes(b.startTime)&&me.length>0&&j(ne=>({...ne,startTime:me[0]}))},[b.duration,b.date,v,y]),B.useEffect(()=>{e&&b.courtId&&b.date&&Be(b.courtId,b.date)},[b.date,b.courtId,e]),B.useEffect(()=>{if(b.courtId&&b.date&&e){U&&(U(),L(null)),Be(b.courtId,b.date);const me=Ft(Oe,"bookings"),ne=new Date(b.date);ne.setHours(0,0,0,0);const ae=new Date(b.date);ae.setHours(23,59,59,999);const he=qt(me,It("courtId","==",b.courtId),It("date",">=",Zt.fromDate(ne)),It("date","<=",Zt.fromDate(ae))),ge=Xi(he,Ce=>{const ye=new Map;Ce.docs.forEach(Le=>{const We=Le.data(),De=We.status||"pending",$e=We.paymentStatus||"awaiting_payment";De!=="cancelled"&&$e!=="cancelled"&&$e!=="refunded"&&$e!=="error"&&(De==="confirmed"||De==="pending"||$e==="paid"||$e==="online_payment"||$e==="awaiting_payment")&&ye.set(Le.id,{id:Le.id,...We})}),N(Array.from(ye.values()))});L(()=>ge)}return()=>{U&&(U(),L(null))}},[b.courtId,b.date,e]);const de=async()=>{if(r)try{const me=await dn(yt(Oe,"venues",r));if(me.exists()){const ge=me.data();f(ge.name||""),g(ge.bookingSlotInterval||60),ge.workingHours&&x(ge.workingHours)}const ne=Ft(Oe,"venues",r,"courts"),he=(await Gt(ne)).docs.map(ge=>({id:ge.id,...ge.data()}));c(he),he.length>0&&!b.courtId&&j(ge=>({...ge,courtId:he[0].id}))}catch(me){console.error("Error fetching courts:",me)}},Be=async(me,ne)=>{const ae=me||b.courtId,he=ne||b.date;if(!(!r||!ae||!he))try{const ge=Ft(Oe,"bookings"),Ce=new Date(he);Ce.setHours(0,0,0,0);const ye=new Date(he);ye.setHours(23,59,59,999);const Le=qt(ge,It("courtId","==",ae),It("date",">=",Zt.fromDate(Ce)),It("date","<=",Zt.fromDate(ye))),$e=(await Gt(Le)).docs.map(Ge=>({id:Ge.id,...Ge.data()})).filter(Ge=>{const _e=Ge.status||"pending",Me=Ge.paymentStatus||"awaiting_payment";return _e!=="cancelled"&&Me!=="cancelled"&&Me!=="refunded"&&Me!=="error"&&(_e==="confirmed"||_e==="pending"||Me==="paid"||Me==="online_payment"||Me==="awaiting_payment")});N($e)}catch(ge){console.error("Error fetching bookings:",ge)}},pe=me=>{const{name:ne,value:ae}=me.target;j(he=>({...he,[ne]:ne==="duration"?parseFloat(ae):ae}))},se=async me=>{if(me.preventDefault(),!r||!A||u)return;if(!b.clientName){alert("Пожалуйста, укажите имя клиента");return}if(!b.clientPhone){alert("Пожалуйста, укажите телефон клиента");return}if(!dj(b.clientName)){alert("Имя должно быть от 2 до 100 символов");return}if(!uj(b.clientPhone)){alert("Некорректный номер телефона");return}if(!b.courtId){alert("Пожалуйста, выберите корт");return}if(Ee(b.startTime,b.duration)){alert("Выбранное время уже занято. Пожалуйста, выберите другое время.");return}const ne=new Date;if(ne.setFullYear(parseInt(b.date.split("-")[0]),parseInt(b.date.split("-")[1])-1,parseInt(b.date.split("-")[2])),!hj(ne)){alert("Нельзя забронировать на прошедшую дату");return}const[ae,he]=b.startTime.split(":").map(Number),ge=ae*60+he+b.duration*60,Ce=`${Math.floor(ge/60).toString().padStart(2,"0")}:${(ge%60).toString().padStart(2,"0")}`;if(!AY(b.startTime,Ce,b.duration*60)){alert("Некорректное время бронирования");return}d(!0);try{const ye=l.find(it=>it.id===b.courtId);if(!ye)return;const[Le,We]=b.startTime.split(":").map(Number),De=Le+Math.floor(b.duration),$e=We+b.duration%1*60,Ge=`${String(De+Math.floor($e/60)).padStart(2,"0")}:${String($e%60).padStart(2,"0")}`,_e=new Date(b.date+"T00:00:00"),Me=new Date(_e);Me.setHours(0,0,0,0);const Ie=new Date(_e);Ie.setHours(23,59,59,999);const nt=qt(Ft(Oe,"bookings"),It("courtId","==",b.courtId),It("date",">=",Zt.fromDate(Me)),It("date","<=",Zt.fromDate(Ie)));if((await Gt(nt)).docs.filter(it=>{const ft=it.data(),Vn=ft.status||"pending",Jt=ft.paymentStatus||"awaiting_payment";if(Vn==="cancelled"||Jt==="cancelled"||Jt==="refunded"||Jt==="error"||!(Vn==="confirmed"||Vn==="pending"||Jt==="paid"||Jt==="online_payment"||Jt==="awaiting_payment")||ft.venueId!==r)return!1;const Qr=ft.startTime||ft.time,sr=ft.endTime,Ct=Le*60+We,en=Ct+b.duration*60,[kt,Ln]=Qr.split(":").map(Number),[Pn,Zn]=sr.split(":").map(Number),dr=kt*60+Ln,oi=Pn*60+Zn;return Ct<oi&&en>dr}).length>0){alert("К сожалению, выбранное время уже занято. Пожалуйста, выберите другое время."),d(!1);return}const Qe="awaiting_payment",et="pending",Pe=nY(b.duration),rt=Ae(b.startTime,b.duration),Nt=b.duration>0?rt/b.duration:0,Et=eY(b.date),Xt={venueId:r,courtId:b.courtId,courtName:ye.name,venueName:p,customerName:Dd(b.clientName),customerPhone:ac(b.clientPhone),date:tY(Et),startTime:b.startTime,duration:Pe,gameType:"single",status:et,amount:rt,price:Nt,paymentMethod:b.paymentMethod,paymentStatus:Qe,source:"admin",time:b.startTime,endTime:yg(b.startTime,Pe),clientName:Dd(b.clientName),clientPhone:ac(b.clientPhone),paymentHistory:[{timestamp:Zt.now(),action:"created",userId:A.uid||"",userName:A.displayName||A.email||"Администратор"}],createdBy:{userId:A.uid||"",userName:A.displayName||A.email||"Администратор",userRole:A.role||"admin"},createdAt:Zt.now()},$t=await qi(Ft(Oe,"bookings"),Xt);if(b.paymentMethod==="online"){console.log("Инициализация онлайн платежа для бронирования:",$t.id);try{const ft=(await dn(yt(Oe,"venues",r))).data();if(console.log("Настройки платежей venue:",{paymentEnabled:ft==null?void 0:ft.paymentEnabled,paymentProvider:ft==null?void 0:ft.paymentProvider,hasCredentials:!!(ft!=null&&ft.paymentCredentials)}),!(ft!=null&&ft.paymentEnabled))throw new Error("Платежи не включены для этой площадки");if(!(ft!=null&&ft.paymentProvider)||!(ft!=null&&ft.paymentCredentials))throw new Error("Платежный провайдер не настроен для этой площадки");const Vn=window.location.origin,Jt=`${Vn}/club/${r}/booking-payment/${$t.id}`;console.log("Вызов функции initBookingPayment с параметрами:",{bookingId:$t.id,amount:rt,venueId:r});const sr=await Ss(Zo,"initBookingPayment")({bookingId:$t.id,amount:rt,description:`Оплата бронирования корта ${ye.name} на ${b.date} ${b.startTime}`,returnUrl:`${Vn}/payment-result?bookingId=${$t.id}`,userId:A.uid||"",customerPhone:ac(b.clientPhone),customerEmail:""});console.log("Результат инициализации платежа:",sr.data);const Ct=sr.data;if(Ct.success&&Ct.paymentUrl){console.log("Платеж успешно инициализирован, обновляем бронирование"),await In(yt(Oe,"bookings",$t.id),{paymentStatus:"awaiting_payment",paymentId:Ct.paymentId,paymentUrl:Ct.paymentUrl,paymentHistory:fp({timestamp:Zt.now(),action:"payment_initialized",userId:A.uid||"",userName:A.displayName||A.email||"Администратор",note:"Платеж инициализирован"})});try{console.log("Отправка SMS с ссылкой на оплату");const en={bookingId:$t.id,phone:ac(b.clientPhone),customerName:Dd(b.clientName),venueName:p||"",courtName:ye.name||"",date:b.date,time:b.startTime,paymentUrl:Ct.paymentUrl};console.log("SMS параметры:",en),await Ss(Zo,"sendBookingPaymentSMS")(en),console.log("SMS со ссылкой на оплату отправлено успешно"),alert(`Бронирование создано! SMS со ссылкой на оплату отправлено на номер ${b.clientPhone}`)}catch(en){console.error("Ошибка отправки SMS:",en),console.error("Детали ошибки:",{code:en==null?void 0:en.code,message:en==null?void 0:en.message,details:en==null?void 0:en.details}),alert(`Бронирование создано, но не удалось отправить SMS: ${(en==null?void 0:en.message)||"Неизвестная ошибка"}`)}}else console.error("Payment initialization failed:",Ct.error),await In(yt(Oe,"bookings",$t.id),{paymentStatus:"error",paymentError:Ct.error||"Не удалось инициализировать платеж",paymentHistory:fp({timestamp:Zt.now(),action:"payment_error",userId:A.uid||"",userName:A.displayName||A.email||"Администратор",note:`Ошибка инициализации платежа: ${Ct.error||"Unknown error"}`})})}catch(it){console.error("Error initializing payment:",it),await In(yt(Oe,"bookings",$t.id),{paymentStatus:"error",paymentError:it instanceof Error?it.message:"Ошибка при инициализации платежа",paymentHistory:fp({timestamp:Zt.now(),action:"payment_error",userId:A.uid||"",userName:A.displayName||A.email||"Администратор",note:`Ошибка: ${it instanceof Error?it.message:"Unknown error"}`})})}}j({clientName:"",clientPhone:"+7",courtId:l.length>0?l[0].id:"",date:w(new Date),startTime:"10:00",duration:1,paymentMethod:"online"}),P(""),Q([]),$(null),M(!1);const Mt={id:$t.id,...Xt,date:Et,courtName:ye.name,venueName:p,endTime:yg(b.startTime,Pe)};n(Mt),t()}catch(ye){console.error("Error creating booking:",ye),alert("Ошибка при создании бронирования: "+ye.message)}finally{d(!1)}};return e?a.jsx("div",{className:"modal active",onClick:me=>{me.target===me.currentTarget&&t()},children:a.jsxs("div",{className:"modal-content",style:{maxWidth:"600px"},children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h2",{className:"modal-title",children:"Создать бронирование"}),a.jsx("button",{className:"modal-close",onClick:t,children:a.jsx(Cm,{})})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("form",{onSubmit:se,children:[a.jsx("div",{style:{marginBottom:"24px",padding:"16px",background:"#f8f9fa",borderRadius:"8px"},children:F?a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[a.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:"var(--primary)",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"600"},children:F.name.substring(0,2).toUpperCase()}),a.jsxs("div",{children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx("span",{style:{fontWeight:"600"},children:F.name}),a.jsx(Po,{style:{fontSize:"16px",color:"var(--success)"}})]}),a.jsx("div",{style:{fontSize:"14px",color:"#6b7280"},children:F.phone}),a.jsxs("div",{style:{fontSize:"12px",color:"#9ca3af"},children:[F.bookingsCount," бронирований"]})]})]}),a.jsx("button",{type:"button",className:"btn btn-secondary",onClick:ce,children:"Изменить"})]}):ie?a.jsxs("div",{children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px"},children:[a.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",margin:0},children:"Новый клиент"}),a.jsx("button",{type:"button",className:"btn btn-secondary btn-icon",onClick:()=>{M(!1),j(me=>({...me,clientName:"",clientPhone:"+7"})),P("")},style:{padding:"4px 8px",fontSize:"14px"},children:"Отмена"})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Имя клиента"}),a.jsx("input",{type:"text",className:"form-input",name:"clientName",value:b.clientName,onChange:pe,disabled:u,placeholder:"Введите имя",required:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Телефон"}),a.jsx("input",{type:"tel",className:"form-input",name:"clientPhone",value:b.clientPhone,onChange:pe,disabled:u,placeholder:"+7 (___) ___-__-__",required:!0})]})]})]}):a.jsx("div",{children:a.jsxs("div",{className:"form-group",style:{marginBottom:0,position:"relative"},ref:X,children:[a.jsx("label",{className:"form-label",children:"Поиск клиента"}),a.jsx("input",{type:"text",className:"form-input",placeholder:"Введите имя или телефон...",value:T,onChange:me=>P(me.target.value),disabled:u,onFocus:()=>T&&V(!0)}),(O||K.length>0)&&T&&W&&a.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,zIndex:1e3,marginTop:"4px",background:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",maxHeight:"240px",overflowY:"auto"},children:O?a.jsx("div",{style:{padding:"12px",textAlign:"center",color:"#6b7280"},children:"Поиск..."}):K.map(me=>a.jsxs("div",{style:{padding:"12px",borderBottom:"1px solid #f3f4f6",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"12px"},onMouseEnter:ne=>{ne.currentTarget.style.backgroundColor="#f9fafb"},onMouseLeave:ne=>{ne.currentTarget.style.backgroundColor="white"},onClick:()=>ee(me),children:[a.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:"#e5e7eb",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:"600",flexShrink:0},children:me.name.substring(0,2).toUpperCase()}),a.jsx("div",{style:{flex:1},children:a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontWeight:"600",fontSize:"14px"},children:me.name}),a.jsx("div",{style:{fontSize:"13px",color:"#6b7280"},children:me.phone})]}),a.jsxs("div",{style:{textAlign:"right"},children:[a.jsxs("div",{style:{fontSize:"12px",color:"#9ca3af"},children:[me.bookingsCount," брон."]}),me.lastVisit&&a.jsx("div",{style:{fontSize:"11px",color:"#9ca3af"},children:new Date(me.lastVisit).toLocaleDateString("ru-RU")})]})]})})]},me.id))}),T&&K.length===0&&!O&&W&&a.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,zIndex:1e3,marginTop:"4px",background:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",padding:"16px",textAlign:"center"},children:a.jsxs("button",{type:"button",className:"btn btn-primary",onClick:()=>{M(!0),V(!1);const me=T.trim(),ne=/^[+]?[78]?[\d\s\-\(\)]+$/.test(me)&&/\d/.test(me)&&me.replace(/\D/g,"").length>=6;j(ne?ae=>({...ae,clientPhone:me}):ae=>({...ae,clientName:me}))},style:{width:"100%"},children:[a.jsx(X9,{fontSize:"small"}),"Создать нового клиента"]})})]})})}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginTop:"20px"},children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Корт"}),a.jsxs("select",{className:"form-select",name:"courtId",value:b.courtId,onChange:pe,disabled:u,required:!0,children:[a.jsx("option",{value:"",children:"Выберите корт"}),l.map(me=>a.jsx("option",{value:me.id,children:me.name},me.id))]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Дата"}),a.jsx("input",{type:"date",className:"form-input",name:"date",value:b.date,onChange:pe,disabled:u,required:!0})]})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginTop:"20px"},children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Длительность"}),a.jsxs("select",{className:"form-select",name:"duration",value:b.duration,onChange:pe,disabled:u,children:[a.jsx("option",{value:"0.5",children:"30 минут"}),a.jsx("option",{value:"1",children:"1 час"}),a.jsx("option",{value:"1.5",children:"1.5 часа"}),a.jsx("option",{value:"2",children:"2 часа"}),a.jsx("option",{value:"2.5",children:"2.5 часа"}),a.jsx("option",{value:"3",children:"3 часа"})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Доступные интервалы"}),a.jsxs("select",{className:"form-select",name:"startTime",value:b.startTime,onChange:pe,disabled:u,required:!0,children:[a.jsx("option",{value:"",children:"Выберите время"}),_.map(me=>{const ne=Ee(me,b.duration),[ae,he]=me.split(":").map(Number),ge=ae+Math.floor(b.duration),Ce=he+b.duration%1*60,ye=ge+Math.floor(Ce/60),Le=Ce%60,We=`${String(ye).padStart(2,"0")}:${String(Le).padStart(2,"0")}`,De=Ae(me,b.duration);return a.jsxs("option",{value:me,disabled:ne,style:ne?{color:"#9CA3AF",backgroundColor:"#F3F4F6"}:{},children:[me," - ",We," ",ne?"❌ ЗАНЯТО":` - ${De.toLocaleString("ru-RU")}₽`]},me)})]}),a.jsxs("div",{style:{marginTop:"6px",fontSize:"12px",color:"#6B7280",display:"flex",alignItems:"center",gap:"4px"},children:[a.jsx("svg",{width:"14",height:"14",viewBox:"0 0 20 20",fill:"none",children:a.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",fill:"#9CA3AF"})}),"Местное время клуба"]})]})]}),a.jsxs("div",{className:"form-group",style:{marginTop:"20px"},children:[a.jsx("label",{className:"form-label",children:"Способ оплаты"}),a.jsxs("select",{className:"form-select",name:"paymentMethod",value:b.paymentMethod,onChange:pe,disabled:u,children:[E.cash&&a.jsx("option",{value:"cash",children:"Оплата в клубе наличными"}),E.card_on_site&&a.jsx("option",{value:"card_on_site",children:"Оплата в клубе картой"}),E.transfer&&a.jsx("option",{value:"transfer",children:"Перевод на р.счет клуба (юр.лицо)"}),E.sberbank_card&&a.jsx("option",{value:"sberbank_card",children:"На карту Сбербанка"}),E.tbank_card&&a.jsx("option",{value:"tbank_card",children:"На карту Т-Банка"}),E.vtb_card&&a.jsx("option",{value:"vtb_card",children:"На карту ВТБ"}),a.jsx("option",{value:"online",children:"Онлайн оплата (Автоматическое подтверждение оплаты, ссылка на оплату в смс и в МП)"})]}),b.paymentMethod&&a.jsx("div",{style:{marginTop:"8px",padding:"8px 12px",backgroundColor:b.paymentMethod==="online"?"rgba(239, 68, 68, 0.1)":b.paymentMethod==="transfer"||b.paymentMethod==="cash"||b.paymentMethod==="card_on_site"?"rgba(16, 185, 129, 0.1)":"rgba(245, 158, 11, 0.1)",borderRadius:"6px",fontSize:"13px",color:b.paymentMethod==="online"?"var(--danger)":b.paymentMethod==="transfer"||b.paymentMethod==="cash"||b.paymentMethod==="card_on_site"?"var(--success)":"var(--warning)"},children:b.paymentMethod==="online"?"⏱️ На оплату дается 15 минут. Статус меняется автоматически после оплаты.":b.paymentMethod==="transfer"||b.paymentMethod==="cash"||b.paymentMethod==="card_on_site"?"✓ Без ограничения по времени. Бронирование может ожидать оплату любое время.":b.paymentMethod==="sberbank_card"||b.paymentMethod==="tbank_card"||b.paymentMethod==="vtb_card"?"⏱️ На оплату дается 30 минут. Администратор должен подтвердить оплату.":""})]}),b.courtId&&b.duration&&b.startTime&&a.jsx("div",{style:{background:"var(--background)",padding:"20px",borderRadius:"8px",marginTop:"24px"},children:(()=>{const me=l.find(_e=>_e.id===b.courtId);if(!me)return null;const ne=Ae(b.startTime,b.duration),ae=parseInt(b.startTime.split(":")[0]),he=new Date(b.date),ge=he.getDay()===0||he.getDay()===6,Ce=he.getDay(),Le=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][Ce],We=b.duration>1?aY(he,b.startTime,b.duration*60,me.pricing,me.holidayPricing,me.priceWeekday,me.priceWeekend):[];let De=null,$e=0,Ge=!1;if(me.holidayPricing&&me.holidayPricing.length>0){const _e=String(he.getMonth()+1).padStart(2,"0"),Me=String(he.getDate()).padStart(2,"0"),Ie=`${_e}-${Me}`,nt=me.holidayPricing.find(He=>He.date===Ie);nt&&(Ge=!0,$e=nt.price,De={isHoliday:!0})}if(!Ge&&me.pricing&&me.pricing[Le]){const _e=me.pricing[Le];$e=_e.basePrice,_e.intervals&&(De=_e.intervals.find(Me=>{const Ie=parseInt(Me.from.split(":")[0]),nt=parseInt(Me.to.split(":")[0]);return ae>=Ie&&ae<nt}),De&&($e=De.price))}else Ge||($e=me.pricePerHour||(ge?me.priceWeekend:me.priceWeekday)||0);return a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[b.duration>1&&We.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"var(--gray)"},children:"Детализация по часам:"}),We.map((_e,Me)=>a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"14px"},children:[a.jsx("span",{style:{color:"var(--gray)"},children:_e.time}),a.jsxs("span",{style:{fontWeight:"500"},children:[_e.price.toLocaleString("ru-RU")," ₽"]})]},Me))]}):a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx("span",{style:{color:"var(--gray)"},children:De?De.isHoliday?a.jsx(a.Fragment,{children:"Праздничный день:"}):a.jsxs(a.Fragment,{children:["Особый тариф (",De.from," - ",De.to,"):"]}):a.jsx(a.Fragment,{children:"Стоимость за час:"})}),a.jsxs("span",{style:{fontWeight:"500"},children:[$e.toLocaleString("ru-RU")," ₽"]})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingTop:"12px",borderTop:"1px solid var(--extra-light-gray)",marginTop:"4px"},children:[a.jsx("span",{style:{fontWeight:"600",fontSize:"18px"},children:"Итого:"}),a.jsxs("span",{style:{fontWeight:"700",fontSize:"20px",color:"var(--primary)"},children:[ne.toLocaleString("ru-RU")," ₽"]})]})]})})()}),a.jsxs("div",{className:"modal-footer",style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid var(--extra-light-gray)"},children:[a.jsx("button",{type:"button",className:"btn btn-secondary",onClick:t,disabled:u,children:"Отмена"}),a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"Создание...":"Создать бронирование"})]})]})})]})}):null}function cY(){const{admin:e,club:t}=Er(),{isSuperAdmin:n,hasPermission:r}=ns(),[s,i]=B.useState(null),[o,A]=B.useState([]),[l,c]=B.useState([]),[u,d]=B.useState([]),[p,f]=B.useState([]),[v,g]=B.useState(!0),[y,x]=B.useState(new Date),[w,b]=B.useState({clientName:"",clientPhone:"",courtId:"",date:new Date().toISOString().split("T")[0],startTime:"10:00",duration:1.5,paymentMethod:"cash"}),[j,_]=B.useState([]),[k,D]=B.useState([]),[N,U]=B.useState(null),[L,E]=B.useState(!1),[I,T]=B.useState(!1),[P,K]=B.useState(null),[Q,F]=B.useState(null),[$,O]=B.useState(null),[H,ie]=B.useState(null);B.useEffect(()=>{if(n){W();const ne=localStorage.getItem("selectedVenueId");ne?(i(ne),X(ne),Y(ne)):g(!1)}else e!=null&&e.venueId?(M(e.venueId),X(e.venueId),Y(e.venueId)):g(!1);return()=>{H&&H()}},[e,y,n]),B.useEffect(()=>{const ne=fe(w.duration);_(ne),!ne.includes(w.startTime)&&ne.length>0&&b(ae=>({...ae,startTime:ne[0]}))},[w.duration,w.date,o,s,e==null?void 0:e.venueId]),B.useEffect(()=>{w.courtId&&w.date&&ee()},[w.courtId,w.date]);const M=async ne=>{try{const ae=await dn(yt(Oe,"venues",ne));if(ae.exists()){const he={id:ae.id,...ae.data()};A([he])}}catch(ae){console.error("Error fetching venue data:",ae)}},W=async()=>{try{const ae=(await Gt(Ft(Oe,"venues"))).docs.map(he=>({id:he.id,...he.data()}));A(ae)}catch(ne){console.error("Error fetching venues:",ne)}},V=ne=>{i(ne),localStorage.setItem("selectedVenueId",ne),X(ne),Y(ne)},X=async ne=>{if(ne)try{const ae=Ft(Oe,"venues",ne,"courts"),ge=(await Gt(ae)).docs.map(Ce=>({id:Ce.id,...Ce.data()}));f(ge)}catch(ae){console.error("Error fetching courts:",ae)}},Y=async ne=>{if(ne){H&&H();try{g(!0);let ae=(t==null?void 0:t.timezone)||"Europe/Moscow";if(n&&ne){const Le=await dn(yt(Oe,"venues",ne));Le.exists()&&(ae=Le.data().timezone||"Europe/Moscow")}const he=py(y,ae),ge=sY(y,ae),Ce=qt(Ft(Oe,"bookings"),It("venueId","==",ne)),ye=Xi(Ce,Le=>{try{const We=Le.docs.map(Me=>{const Ie=Me.data(),nt=ic(Ie.date,ae),He=Ie.createdAt?ic(Ie.createdAt,ae):nt;return Ie.createdAt||console.log("Booking without createdAt:",Me.id,"using date as fallback:",nt),{id:Me.id,...Ie,status:Ie.status||"pending",paymentStatus:Ie.paymentStatus||"awaiting_payment",venueId:Ie.venueId||"",courtId:Ie.courtId||"",startTime:Ie.startTime||"",endTime:Ie.endTime||"",customerName:Ie.customerName||"",customerPhone:Ie.customerPhone||"",amount:Ie.amount||Ie.totalPrice||0,date:nt,createdAt:He}}),Ge=We.filter(Me=>{if(!Me||!Me.date||!Me.venueId)return console.warn("Invalid booking data:",Me),!1;try{const Ie=new Date(Me.date);return isNaN(Ie.getTime())?(console.warn("Invalid booking date:",Me.date),!1):Ie>=he&&Ie<=ge&&Me.venueId===ne}catch(Ie){return console.error("Error filtering booking:",Me.id,Ie),!1}}).filter(Me=>{if(!Me||!Me.id)return console.warn("Invalid booking for calendar:",Me),!1;try{const Ie=Me.status||"pending",nt=Me.paymentStatus||"awaiting_payment";return Ie!=="cancelled"&&nt!=="cancelled"&&nt!=="refunded"&&nt!=="error"&&(Ie==="confirmed"||Ie==="pending"||nt==="paid"||nt==="awaiting_payment")}catch(Ie){return console.error("Error processing booking for calendar:",Me.id,Ie),!1}}).sort((Me,Ie)=>{try{const nt=new Date(Me.date||new Date);return new Date(Ie.date||new Date).getTime()-nt.getTime()}catch(nt){return console.error("Error sorting calendar bookings:",nt),0}}),_e=[...We].sort((Me,Ie)=>{var xt,Qe,et,Pe,rt,Nt,Et,Xt;let nt,He;return Me.createdAt instanceof Date?nt=Me.createdAt:(xt=Me.createdAt)!=null&&xt.toDate?nt=Me.createdAt.toDate():(Qe=Me.createdAt)!=null&&Qe.seconds?nt=new Date(Me.createdAt.seconds*1e3):typeof Me.createdAt=="string"?nt=new Date(Me.createdAt):Me.date instanceof Date?nt=Me.date:(et=Me.date)!=null&&et.toDate?nt=Me.date.toDate():(Pe=Me.date)!=null&&Pe.seconds?nt=new Date(Me.date.seconds*1e3):nt=new Date(0),Ie.createdAt instanceof Date?He=Ie.createdAt:(rt=Ie.createdAt)!=null&&rt.toDate?He=Ie.createdAt.toDate():(Nt=Ie.createdAt)!=null&&Nt.seconds?He=new Date(Ie.createdAt.seconds*1e3):typeof Ie.createdAt=="string"?He=new Date(Ie.createdAt):Ie.date instanceof Date?He=Ie.date:(Et=Ie.date)!=null&&Et.toDate?He=Ie.date.toDate():(Xt=Ie.date)!=null&&Xt.seconds?He=new Date(Ie.date.seconds*1e3):He=new Date(0),He.getTime()-nt.getTime()});c(Ge),d(_e),g(!1)}catch(We){console.error("Error processing bookings snapshot:",We),g(!1),c([]),d([])}},Le=>{console.error("Error in bookings listener:",Le),g(!1)});ie(()=>ye)}catch(ae){console.error("Error setting up bookings listener:",ae),g(!1)}}},ee=async()=>{if(!(!s&&!(e!=null&&e.venueId))&&!(!w.courtId||!w.date))try{const ne=Ft(Oe,"bookings"),ae=qt(ne,It("venueId","==",s||(e==null?void 0:e.venueId)),It("courtId","==",w.courtId),It("date","==",Zt.fromDate(new Date(w.date)))),ge=(await Gt(ae)).docs.map(Ce=>({id:Ce.id,...Ce.data()}));D(ge)}catch(ne){console.error("Error fetching bookings:",ne)}},ce=ne=>{const ae=new Date(y);ae.setDate(y.getDate()+ne*7),x(ae)},Ae=()=>{if(!y)return[];const ne=(t==null?void 0:t.timezone)||"Europe/Moscow",ae=[],he=py(y,ne);for(let ge=0;ge<7;ge++){const Ce=new Date(he);Ce.setUTCDate(he.getUTCDate()+ge),ae.push(Ce)}return ae},Ee=(ne,ae,he)=>{if(!ne||!ae||!he)return[];try{return l.filter(ge=>{var Ie;if(!ge||!ge.date)return!1;const Ce=ge.date instanceof Date?ge.date:(Ie=ge.date)!=null&&Ie.toDate?ge.date.toDate():new Date(ge.date);if(!Ce||!ne||Ce.toDateString()!==ne.toDateString()||ge.courtId!==he)return!1;const ye=ge.startTime||ge.time,Le=ge.endTime;if(!ye)return!1;const[We,De]=ae.split(":").map(Number),$e=We*60+De,[Ge,_e]=ye.split(":").map(Number),Me=Ge*60+_e;if(Le){const[nt,He]=Le.split(":").map(Number),xt=nt*60+He;return $e>=Me&&$e<xt}else if(ge.duration){const nt=Me+ge.duration*60;return $e>=Me&&$e<nt}else return ye===ae})}catch(ge){return console.error("Error in getBookingsForSlot:",ge,{date:ne,time:ae,courtId:he}),[]}},fe=ne=>{var Ge;const ae=o.find(_e=>_e.id===(s||(e==null?void 0:e.venueId))),he=w.date?new Date(w.date).getDay()===0||new Date(w.date).getDay()===6:!1,ge=((Ge=ae==null?void 0:ae.workingHours)==null?void 0:Ge[he?"weekend":"weekday"])||(he?"08:00-22:00":"07:00-23:00"),[Ce,ye]=ge.split("-"),[Le]=Ce.split(":").map(Number),[We]=ye.split(":").map(Number),De=[],$e=We-ne;for(let _e=Le;_e<=$e;_e+=.5){const Me=Math.floor(_e),Ie=_e%1*60,nt=`${String(Me).padStart(2,"0")}:${String(Ie).padStart(2,"0")}`;_e+ne<=We&&De.push(nt)}return De},we=(ne,ae)=>{const ge=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][ne.getDay()];let Ce=null,ye=null;if(ae!=null&&ae.workingHours){const Le=ae.workingHours[ge];if(Le){if(typeof Le=="string"&&Le.includes("-")){const[We,De]=Le.split("-").map($e=>$e.trim());We&&De&&(Ce=parseInt(We.split(":")[0]),ye=parseInt(De.split(":")[0]))}else if(Le.open&&Le.close){const[We]=Le.open.split(":").map(Number),[De]=Le.close.split(":").map(Number);Ce=We,ye=De}}else{const We=ne.getDay()===0||ne.getDay()===6,De=ae.workingHours[We?"weekend":"weekday"];if(De&&typeof De=="string"&&De.includes("-")){const[$e,Ge]=De.split("-").map(_e=>_e.trim());$e&&Ge&&(Ce=parseInt($e.split(":")[0]),ye=parseInt(Ge.split(":")[0]))}}}return Ce!==null&&ye!==null?{startHour:Ce,endHour:ye}:{startHour:8,endHour:22}},de=()=>{const ne=[],ae=o.find(ye=>ye.id===(s||(e==null?void 0:e.venueId)));let he=24,ge=0;Ae().forEach(ye=>{const{startHour:Le,endHour:We}=we(ye,ae);he=Math.min(he,Le),ge=Math.max(ge,We)});for(let ye=he;ye<ge;ye++)ne.push(`${ye.toString().padStart(2,"0")}:00`);return ne},Be=B.useMemo(()=>de(),[o,s,e==null?void 0:e.venueId,w.date]),pe=Ae(),se=["Пн","Вт","Ср","Чт","Пт","Сб","Вс"],me=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"];return v?a.jsx("div",{children:"Загрузка..."}):r(["manage_bookings","manage_all_bookings","view_bookings"])?n&&!s?a.jsx("div",{children:a.jsxs("div",{className:"section-card",children:[a.jsx("div",{className:"section-header",children:a.jsx("h2",{className:"section-title",children:"Выберите клуб"})}),a.jsxs("div",{className:"form-group",style:{maxWidth:"400px"},children:[a.jsx("label",{className:"form-label",children:"Клуб"}),a.jsxs("select",{className:"form-select",value:s||"",onChange:ne=>V(ne.target.value),children:[a.jsx("option",{value:"",children:"Выберите клуб для управления"}),o.map(ne=>a.jsx("option",{value:ne.id,children:ne.name},ne.id))]}),a.jsx("p",{className:"form-hint",children:"Выберите клуб для просмотра календаря и создания бронирований"})]})]})}):(r(["manage_bookings","manage_all_bookings","create_bookings"]),a.jsx(su,{permission:["manage_bookings","manage_all_bookings","view_bookings"],children:a.jsxs("div",{children:[n&&a.jsx("div",{className:"section-card",style:{marginBottom:"24px"},children:a.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[a.jsx("label",{className:"form-label",children:"Управление клубом"}),a.jsxs("select",{className:"form-select",value:s||"",onChange:ne=>V(ne.target.value),style:{maxWidth:"400px"},children:[a.jsx("option",{value:"",children:"Выберите клуб"}),o.map(ne=>a.jsx("option",{value:ne.id,children:ne.name},ne.id))]})]})}),a.jsxs("div",{className:"section-card",children:[a.jsxs("div",{className:"calendar-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[a.jsx("h2",{className:"section-title",children:"Календарь бронирований"}),a.jsxs("div",{className:"calendar-nav",style:{display:"flex",alignItems:"center",gap:"16px"},children:[a.jsx("button",{onClick:()=>ce(-1),style:{width:"32px",height:"32px",border:"1px solid var(--extra-light-gray)",background:"var(--white)",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(D9,{})}),a.jsxs("span",{style:{fontWeight:"600",minWidth:"150px",textAlign:"center"},children:[me[y.getMonth()]," ",y.getFullYear()]}),a.jsx("button",{onClick:()=>ce(1),style:{width:"32px",height:"32px",border:"1px solid var(--extra-light-gray)",background:"var(--white)",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(M9,{})}),a.jsx("button",{onClick:()=>x(new Date),style:{padding:"6px 12px",border:"1px solid var(--extra-light-gray)",background:"var(--white)",borderRadius:"6px",cursor:"pointer",fontSize:"14px",marginLeft:"16px"},children:"Сегодня"})]})]}),p.length>0&&a.jsxs("div",{style:{display:"flex",gap:"16px",marginTop:"16px",marginBottom:"8px",flexWrap:"wrap"},children:[a.jsx("div",{style:{fontSize:"12px",color:"var(--gray)",fontWeight:"600"},children:"Корты:"}),p.map((ne,ae)=>a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"12px"},children:[a.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"3px",backgroundColor:ne.color||"#00A86B",border:"1px solid rgba(0, 0, 0, 0.1)"}}),a.jsx("span",{children:ne.name}),ae<p.length-1&&a.jsx("span",{style:{color:"var(--extra-light-gray)",marginLeft:"4px"},children:"|"})]},ne.id))]}),a.jsxs("div",{className:"calendar-grid",style:{display:"grid",gridTemplateColumns:"60px repeat(7, 1fr)",gap:"1px",background:"var(--extra-light-gray)",border:"1px solid var(--extra-light-gray)",borderRadius:"8px",overflow:"hidden"},children:[a.jsx("div",{style:{background:"var(--white)",padding:"12px"}}),(pe||[]).map((ne,ae)=>a.jsxs("div",{className:"day-header",style:{fontWeight:"600",textAlign:"center",background:"var(--background)",padding:"12px"},children:[se[ae]," ",ne?ne.getDate():""]},ae)),(Be||[]).map(ne=>a.jsxs(mn.Fragment,{children:[a.jsx("div",{className:"time-slot",style:{fontSize:"12px",color:"var(--gray)",textAlign:"center",padding:"8px",background:"var(--white)"},children:ne||""}),(pe||[]).map((ae,he)=>a.jsx("div",{className:"booking-slot-container",style:{display:"flex",flexDirection:"column",minHeight:`${Math.max(60,p.length*40)}px`,background:"var(--white)",border:"1px solid var(--extra-light-gray)",borderRadius:"4px",overflow:"hidden"},children:(p||[]).map((ge,Ce)=>{const ye=ae&&ne&&(ge!=null&&ge.id)?Ee(ae,ne,ge.id)[0]:null,Le=P&&Q&&ae&&ae.toDateString()===P.toDateString()&&ne===Q&&w.courtId===ge.id,We=$&&ae&&ae.toDateString()===$.date.toDateString()&&ne===$.time&&$.courtId===ge.id,De=o.find(Ie=>Ie.id===(s||(e==null?void 0:e.venueId))),{startHour:$e,endHour:Ge}=we(ae,De),_e=parseInt(ne.split(":")[0]),Me=_e<$e||_e>=Ge;return a.jsxs("div",{className:"court-slot",style:{flex:1,position:"relative",cursor:Me&&!ye?"not-allowed":"pointer",minHeight:"40px",background:Me&&!ye?"repeating-linear-gradient(45deg, #f3f4f6, #f3f4f6 10px, #e5e7eb 10px, #e5e7eb 20px)":ye?(()=>{const Ie=ye.paymentStatus||"awaiting_payment";let nt="#9CA3AF";Ie==="awaiting_payment"?nt="#F59E0B":Ie==="paid"||Ie==="online_payment"?nt="#10B981":Ie==="cancelled"||Ie==="refunded"?nt="#EF4444":Ie==="error"?nt="#DC2626":Ie==="not_required"?nt="#6B7280":Ie==="expired"&&(nt="#374151");const He=parseInt(nt.slice(1,3),16),xt=parseInt(nt.slice(3,5),16),Qe=parseInt(nt.slice(5,7),16);return`rgba(${He}, ${xt}, ${Qe}, 0.15)`})():Le?"rgba(0, 168, 107, 0.2)":We?"rgba(0, 168, 107, 0.05)":"transparent",padding:"4px 8px",borderTop:Ce>0?"1px solid var(--extra-light-gray)":"none",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:()=>{!ye&&!Me&&O({date:ae,time:ne,courtId:ge.id})},onMouseLeave:()=>{O(null)},onClick:()=>{if(ye)U(ye),E(!0);else{const Ie=o.find(Qe=>Qe.id===(s||(e==null?void 0:e.venueId))),{startHour:nt,endHour:He}=we(ae,Ie),xt=parseInt(ne.split(":")[0]);if(xt<nt||xt>=He){alert(`Клуб не работает в это время. Режим работы: ${nt}:00 - ${He}:00`);return}K(ae),F(ne),b(Qe=>({...Qe,courtId:ge.id})),T(!0)}},children:[!ye&&(We||Le)&&a.jsxs("div",{style:{fontSize:"11px",color:ge.color||"var(--primary)",fontWeight:"600",textAlign:"center",display:"flex",alignItems:"center",gap:"4px",justifyContent:"center"},children:[ge.color&&a.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"2px",backgroundColor:ge.color,flexShrink:0}}),ge.name]}),ye&&a.jsxs("div",{style:{fontSize:"10px",width:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[a.jsxs("div",{style:{fontWeight:"600",color:"var(--dark)",display:"flex",alignItems:"center",gap:"4px"},children:[(ge==null?void 0:ge.color)&&a.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"2px",backgroundColor:ge.color,flexShrink:0}}),(ye==null?void 0:ye.clientName)||(ye==null?void 0:ye.customerName)||"Клиент"]}),((ye==null?void 0:ye.clientPhone)||(ye==null?void 0:ye.customerPhone))&&a.jsx("div",{style:{color:"var(--gray)",fontSize:"9px",marginTop:"1px"},children:ye.clientPhone||ye.customerPhone})]})]},ge.id)})},`${ne||"unknown"}-${he}`))]},ne))]})]}),a.jsx(iY,{venueId:s||(e==null?void 0:e.venueId)||"",bookings:u,onRefresh:()=>Y(s||(e==null?void 0:e.venueId)||"")}),a.jsx(lj,{booking:N,isOpen:L,onClose:()=>{E(!1),U(null)},onUpdate:()=>Y(s||(e==null?void 0:e.venueId)||"")}),a.jsx(lY,{isOpen:I,onClose:()=>{T(!1),K(null),F(null),b(ne=>({...ne,courtId:""}))},onSuccess:ne=>{Y(s||(e==null?void 0:e.venueId)||""),ne&&(U(ne),E(!0))},venueId:s||(e==null?void 0:e.venueId)||"",preSelectedDate:P||void 0,preSelectedTime:Q||void 0,preSelectedCourtId:w.courtId||void 0})]})})):a.jsxs(Yt,{severity:"error",children:[a.jsx("strong",{children:"Доступ запрещен"}),a.jsx("br",{}),"У вас недостаточно прав для просмотра бронирований."]})}function uY(){var K;const{admin:e}=Er(),{isSuperAdmin:t}=ns(),[n,r]=B.useState(null),[s,i]=B.useState([]),[o,A]=B.useState(!0),[l,c]=B.useState(""),[u,d]=B.useState(null),[p,f]=B.useState([]),[v,g]=B.useState(!1),[y,x]=B.useState(null),[w,b]=B.useState({day:"",month:""});B.useEffect(()=>{if(t){const Q=localStorage.getItem("selectedVenueId");Q?(r(Q),_(Q)):A(!1)}else e!=null&&e.venueId&&_(e.venueId)},[e,t]);const j=Q=>{r(Q),localStorage.setItem("selectedVenueId",Q),Q&&_(Q)},_=async Q=>{const F=Q||(e==null?void 0:e.venueId);if(F)try{A(!0);const $=qt(Ft(Oe,"bookings"),It("venueId","==",F),oc(1e3)),O=await Gt($),H=new Map;O.docs.forEach(M=>{var ce,Ae,Ee;const W=M.data(),V=W.customerPhone||W.clientPhone,X=W.customerName||W.clientName;if(!V||!X)return;const Y=V,ee=W.status!=="cancelled";if(H.has(Y)){const fe=H.get(Y);if(fe.name=X,ee){fe.bookingsCount++,fe.totalSpent+=W.amount||W.totalPrice||W.price||0;const we=(ce=W.date)!=null&&ce.toDate?W.date.toDate():new Date(W.date);(!fe.lastVisit||we>fe.lastVisit)&&(fe.lastVisit=we)}}else{const fe=(Ae=W.date)!=null&&Ae.toDate?W.date.toDate():new Date(W.date),we=(Ee=W.createdAt)!=null&&Ee.toDate?W.createdAt.toDate():new Date(W.createdAt||new Date);H.set(Y,{id:Y,name:X,phone:V,email:W.customerEmail||W.clientEmail,bookingsCount:ee?1:0,lastVisit:ee?fe:void 0,totalSpent:ee&&(W.amount||W.totalPrice||W.price)||0,hasApp:W.paymentMethod==="app"||W.paymentMethod==="mobile",venueId:F,createdAt:we})}});const ie=Array.from(H.values()).sort((M,W)=>M.lastVisit?W.lastVisit?W.lastVisit.getTime()-M.lastVisit.getTime():-1:1);i(ie)}catch($){console.error("Error fetching customers:",$)}finally{A(!1)}},k=s.filter(Q=>Q.name.toLowerCase().includes(l.toLowerCase())||Q.phone.includes(l)),D=Q=>Q.split(" ").map(F=>F[0]).join("").toUpperCase().slice(0,2),N=Q=>{const F=["var(--primary)","var(--padel)","var(--badminton)","var(--tennis)"],$=Q.charCodeAt(0)%F.length;return F[$]},U=Q=>{if(!Q)return"Нет данных";const $=Math.abs(new Date().getTime()-Q.getTime()),O=Math.ceil($/(1e3*60*60*24));return O===0?"Сегодня":O===1?"Вчера":O<7?`${O} дней назад`:O<30?`${Math.floor(O/7)} недель назад`:Q.toLocaleDateString("ru-RU")},L=Q=>{const[F,$]=Q.split("-"),O=["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек"];return`${parseInt($)} ${O[parseInt(F)-1]}`},E=Q=>{x(Q),b({day:"",month:""})},I=async()=>{if(!y||!w.day||!w.month)return;const Q=`${w.month.padStart(2,"0")}-${w.day.padStart(2,"0")}`;i(F=>F.map($=>$.id===y?{...$,birthday:Q}:$)),x(null),b({day:"",month:""})},T=()=>{const Q=[["Имя","Телефон","Количество бронирований","Потрачено","Последний визит"].join(","),...k.map(O=>{var H;return[O.name,O.phone,O.bookingsCount,O.totalSpent,((H=O.lastVisit)==null?void 0:H.toLocaleDateString("ru-RU"))||""].join(",")})].join(`
`),F=new Blob([Q],{type:"text/csv;charset=utf-8;"}),$=document.createElement("a");$.href=URL.createObjectURL(F),$.download=`customers_${new Date().toISOString().split("T")[0]}.csv`,$.click()},P=async Q=>{const F=s.find($=>$.id===Q);if(F)try{g(!0),d(Q);const $=t?n:e==null?void 0:e.venueId;if(!$)return;const O=qt(Ft(Oe,"bookings"),It("venueId","==",$),oc(100)),H=await Gt(O),ie=[];H.docs.forEach(W=>{var Y;const V=W.data();(V.customerPhone||V.clientPhone)===F.phone&&ie.push({id:W.id,date:(Y=V.date)!=null&&Y.toDate?V.date.toDate():new Date(V.date),courtName:V.courtName||"Корт",startTime:V.startTime,endTime:V.endTime,amount:V.amount||V.totalPrice||V.price||0,status:V.status||"confirmed",paymentStatus:V.paymentStatus})});const M=ie.sort((W,V)=>V.date.getTime()-W.date.getTime());f(M)}catch($){console.error("Error loading customer history:",$)}finally{g(!1)}};return o?a.jsx("div",{children:"Загрузка..."}):t&&!n?a.jsx(au,{title:"Выберите клуб для просмотра клиентов"}):a.jsxs("div",{children:[t&&a.jsx(iu,{selectedVenueId:n,onVenueChange:j}),a.jsxs("div",{className:"section-card",children:[a.jsxs("div",{className:"section-header",children:[a.jsx("h2",{className:"section-title",children:"База клиентов"}),a.jsxs("div",{style:{display:"flex",gap:"12px"},children:[a.jsx("input",{type:"search",className:"form-input",placeholder:"Поиск по имени или телефону",style:{width:"300px"},value:l,onChange:Q=>c(Q.target.value)}),a.jsx("button",{className:"btn btn-secondary",onClick:()=>_(t?n:e==null?void 0:e.venueId),title:"Обновить список клиентов",children:"🔄"}),a.jsxs("button",{className:"btn btn-secondary",onClick:T,children:[a.jsx(O9,{fontSize:"small"}),"Экспорт"]})]})]}),a.jsxs("div",{style:{padding:"12px 16px",background:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)",borderLeft:"3px solid var(--primary)",marginBottom:"16px",borderRadius:"4px"},children:[a.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:a.jsx("span",{style:{fontSize:"14px",fontWeight:"600",color:"var(--dark)"},children:"📊 Ограничения тарифа"})}),a.jsxs("p",{style:{fontSize:"13px",color:"var(--gray)",margin:0},children:["В бесплатном тарифе доступно отображение до ",a.jsx("strong",{children:"1000 клиентов"}),". Всего найдено: ",a.jsx("strong",{children:s.length})," клиентов.",s.length>=1e3&&a.jsx("span",{style:{color:"var(--warning)",marginLeft:"8px"},children:"⚠️ Достигнут лимит отображения"})]})]}),a.jsx("div",{className:"table-wrapper",children:a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Клиент"}),a.jsx("th",{children:"Телефон"}),a.jsx("th",{children:"Бронирований"}),a.jsx("th",{children:"Потрачено"}),a.jsx("th",{children:a.jsxs("div",{children:["Последний визит",a.jsx("div",{style:{fontSize:"11px",fontWeight:"normal",color:"var(--gray)",marginTop:"2px"},children:"Последнее не отмененное бронирование"})]})}),a.jsx("th",{children:"День рождения"}),a.jsx("th",{children:"Статус в приложении"}),a.jsx("th",{children:"Действия"})]})}),a.jsx("tbody",{children:k.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:8,style:{textAlign:"center",padding:"48px",color:"var(--gray)"},children:"Клиенты не найдены"})}):k.map(Q=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("div",{className:"customer-info",style:{display:"flex",alignItems:"center",gap:"12px"},children:[a.jsx("div",{className:"customer-avatar",style:{width:"40px",height:"40px",borderRadius:"50%",background:N(Q.name),color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"600",fontSize:"16px"},children:D(Q.name)}),a.jsx("div",{children:a.jsx("div",{className:"customer-name",style:{fontWeight:"600",color:"var(--dark)"},children:Q.name})})]})}),a.jsx("td",{children:Q.phone}),a.jsx("td",{children:Q.bookingsCount}),a.jsxs("td",{children:[Q.totalSpent.toLocaleString("ru-RU"),"₽"]}),a.jsx("td",{children:U(Q.lastVisit)}),a.jsx("td",{children:Q.birthday?a.jsx("span",{children:L(Q.birthday)}):a.jsx("button",{className:"btn btn-link",style:{padding:"4px 8px",fontSize:"12px"},onClick:()=>E(Q.id),children:"Добавить"})}),a.jsx("td",{children:Q.hasApp?a.jsx("span",{style:{color:"var(--success)"},children:"✅ Установлено"}):a.jsx("span",{style:{color:"var(--warning)"},children:"📱 Не установлено"})}),a.jsx("td",{children:a.jsxs("button",{className:"btn btn-secondary",onClick:()=>P(Q.id),title:"История бронирований",children:[a.jsx(pE,{fontSize:"small"}),"История"]})})]},Q.id))})]})})]}),a.jsxs("div",{className:"section-card",children:[a.jsx("h2",{className:"section-title",children:"Статистика по клиентам"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"24px"},children:[a.jsxs("div",{style:{textAlign:"center"},children:[a.jsx("div",{style:{fontSize:"32px",fontWeight:"700",color:"var(--primary)"},children:s.length}),a.jsx("div",{style:{color:"var(--gray)",fontSize:"14px"},children:"Всего клиентов"})]}),a.jsxs("div",{style:{textAlign:"center"},children:[a.jsx("div",{style:{fontSize:"32px",fontWeight:"700",color:"var(--primary)"},children:s.filter(Q=>Q.hasApp).length}),a.jsx("div",{style:{color:"var(--gray)",fontSize:"14px"},children:"С приложением"})]}),a.jsxs("div",{style:{textAlign:"center"},children:[a.jsxs("div",{style:{fontSize:"32px",fontWeight:"700",color:"var(--primary)"},children:[s.length>0?Math.round(s.filter(Q=>Q.hasApp).length/s.length*100):0,"%"]}),a.jsx("div",{style:{color:"var(--gray)",fontSize:"14px"},children:"Конверсия в приложение"})]}),a.jsxs("div",{style:{textAlign:"center"},children:[a.jsxs("div",{style:{fontSize:"32px",fontWeight:"700",color:"var(--primary)"},children:[s.reduce((Q,F)=>Q+F.totalSpent,0).toLocaleString("ru-RU"),"₽"]}),a.jsx("div",{style:{color:"var(--gray)",fontSize:"14px"},children:"Общий доход"})]})]})]}),u&&a.jsx("div",{className:`modal ${u?"active":""}`,children:a.jsxs("div",{className:"modal-content",style:{maxWidth:"800px"},children:[a.jsxs("div",{className:"modal-header",children:[a.jsxs("h3",{className:"modal-title",children:["История бронирований: ",(K=s.find(Q=>Q.id===u))==null?void 0:K.name]}),a.jsx("button",{className:"modal-close",onClick:()=>{d(null),f([])},children:a.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),a.jsxs("div",{className:"modal-body",children:[v?a.jsx("div",{style:{textAlign:"center",padding:"48px"},children:"Загрузка истории..."}):p.length===0?a.jsx("div",{style:{textAlign:"center",padding:"48px",color:"var(--gray)"},children:"История бронирований пуста"}):a.jsx("div",{className:"table-wrapper",children:a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Дата и время"}),a.jsx("th",{children:"Корт"}),a.jsx("th",{children:"Сумма"}),a.jsx("th",{children:"Статус"})]})}),a.jsx("tbody",{children:p.map(Q=>a.jsxs("tr",{children:[a.jsxs("td",{children:[Q.date.toLocaleDateString("ru-RU")," ",Q.startTime," - ",Q.endTime]}),a.jsx("td",{children:Q.courtName}),a.jsxs("td",{children:[Q.amount.toLocaleString("ru-RU"),"₽"]}),a.jsx("td",{children:a.jsx("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"12px",background:Q.status==="confirmed"?"rgba(16, 185, 129, 0.1)":"rgba(245, 158, 11, 0.1)",color:Q.status==="confirmed"?"var(--success)":"var(--warning)"},children:Q.status==="confirmed"?"Подтверждено":Q.status==="cancelled"?"Отменено":"В ожидании"})})]},Q.id))})]})}),a.jsx("div",{style:{marginTop:"24px",padding:"16px",background:"var(--background)",borderRadius:"8px"},children:a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px",textAlign:"center"},children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontWeight:"700",fontSize:"18px"},children:p.length}),a.jsx("div",{style:{fontSize:"14px",color:"var(--gray)"},children:"Всего бронирований"})]}),a.jsxs("div",{children:[a.jsxs("div",{style:{fontWeight:"700",fontSize:"18px"},children:[p.reduce((Q,F)=>Q+F.amount,0).toLocaleString("ru-RU"),"₽"]}),a.jsx("div",{style:{fontSize:"14px",color:"var(--gray)"},children:"Общая сумма"})]}),a.jsxs("div",{children:[a.jsxs("div",{style:{fontWeight:"700",fontSize:"18px"},children:[p.length>0?Math.round(p.reduce((Q,F)=>Q+F.amount,0)/p.length).toLocaleString("ru-RU"):0,"₽"]}),a.jsx("div",{style:{fontSize:"14px",color:"var(--gray)"},children:"Средний чек"})]})]})})]})]})}),y&&a.jsx("div",{className:"modal active",children:a.jsxs("div",{className:"modal-content",style:{maxWidth:"400px"},children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h3",{className:"modal-title",children:"Добавить день рождения"}),a.jsx("button",{className:"modal-close",onClick:()=>{x(null),b({day:"",month:""})},children:a.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),a.jsxs("div",{className:"modal-body",children:[a.jsx("p",{style:{marginBottom:"20px",color:"var(--gray)"},children:"Укажите день и месяц рождения клиента (год не требуется)"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"День"}),a.jsx("input",{type:"number",className:"form-input",placeholder:"1-31",min:"1",max:"31",value:w.day,onChange:Q=>b(F=>({...F,day:Q.target.value}))})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Месяц"}),a.jsxs("select",{className:"form-select",value:w.month,onChange:Q=>b(F=>({...F,month:Q.target.value})),children:[a.jsx("option",{value:"",children:"Выберите месяц"}),a.jsx("option",{value:"01",children:"Январь"}),a.jsx("option",{value:"02",children:"Февраль"}),a.jsx("option",{value:"03",children:"Март"}),a.jsx("option",{value:"04",children:"Апрель"}),a.jsx("option",{value:"05",children:"Май"}),a.jsx("option",{value:"06",children:"Июнь"}),a.jsx("option",{value:"07",children:"Июль"}),a.jsx("option",{value:"08",children:"Август"}),a.jsx("option",{value:"09",children:"Сентябрь"}),a.jsx("option",{value:"10",children:"Октябрь"}),a.jsx("option",{value:"11",children:"Ноябрь"}),a.jsx("option",{value:"12",children:"Декабрь"})]})]})]}),a.jsxs("div",{style:{marginTop:"24px",display:"flex",gap:"12px",justifyContent:"flex-end"},children:[a.jsx("button",{className:"btn btn-secondary",onClick:()=>{x(null),b({day:"",month:""})},children:"Отмена"}),a.jsx("button",{className:"btn btn-primary",onClick:I,disabled:!w.day||!w.month,children:"Сохранить"})]})]})]})})]})}function dY(){const e=vs();return a.jsxs(jd,{maxWidth:"lg",sx:{py:8},children:[a.jsxs(Ue,{textAlign:"center",mb:6,children:[a.jsx(le,{variant:"h2",component:"h1",gutterBottom:!0,children:"Sports Booking"}),a.jsx(le,{variant:"h5",color:"text.secondary",gutterBottom:!0,children:"Система бронирования спортивных кортов"}),a.jsx(le,{variant:"body1",color:"text.secondary",sx:{maxWidth:600,mx:"auto"},children:"Мобильное приложение для клиентов и веб-панель управления для клубов"})]}),a.jsxs(Ut,{container:!0,spacing:4,mb:6,children:[a.jsx(Ut,{item:!0,xs:12,md:6,children:a.jsx(An,{children:a.jsxs(ln,{sx:{p:4,textAlign:"center"},children:[a.jsx(J9,{sx:{fontSize:60,color:"primary.main",mb:2}}),a.jsx(le,{variant:"h5",gutterBottom:!0,children:"Для клиентов"}),a.jsx(le,{variant:"body1",color:"text.secondary",mb:3,children:"Скачайте мобильное приложение для бронирования кортов, поиска партнеров и оплаты"}),a.jsxs(Ue,{display:"flex",gap:2,justifyContent:"center",flexWrap:"wrap",children:[a.jsx(jt,{variant:"outlined",disabled:!0,children:"App Store"}),a.jsx(jt,{variant:"outlined",disabled:!0,children:"Google Play"})]})]})})}),a.jsx(Ut,{item:!0,xs:12,md:6,children:a.jsx(An,{children:a.jsxs(ln,{sx:{p:4,textAlign:"center"},children:[a.jsx(u$,{sx:{fontSize:60,color:"primary.main",mb:2}}),a.jsx(le,{variant:"h5",gutterBottom:!0,children:"Для клубов"}),a.jsx(le,{variant:"body1",color:"text.secondary",mb:3,children:"Веб-панель управления для администраторов спортивных клубов"}),a.jsx(jt,{variant:"contained",size:"large",onClick:()=>e("/admin/login"),children:"Войти в админ-панель"})]})})})]}),a.jsxs(Wn,{sx:{p:4,textAlign:"center"},children:[a.jsx(Tx,{sx:{fontSize:80,color:"primary.main",mb:2}}),a.jsx(le,{variant:"h5",gutterBottom:!0,children:"QR-код для клиентов"}),a.jsx(le,{variant:"body1",color:"text.secondary",mb:3,children:"Разместите этот QR-код в вашем клубе, чтобы клиенты могли скачать приложение"}),a.jsx(Ue,{sx:{maxWidth:200,height:200,mx:"auto",bgcolor:"grey.100",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:2},children:a.jsx(le,{color:"text.secondary",children:"QR-код приложения"})})]})]})}function hY({email:e,size:t="small"}){const[n,r]=B.useState(!1),[s,i]=B.useState(null),o=async()=>{r(!0);try{await aF(fs,e),i({type:"success",text:`Ссылка для сброса пароля отправлена на ${e}`})}catch(A){console.error("Error sending password reset email:",A),i({type:"error",text:"Ошибка при отправке письма. Попробуйте позже."})}finally{r(!1)}};return a.jsxs(a.Fragment,{children:[a.jsx(jt,{variant:"outlined",size:t,startIcon:n?a.jsx(Dr,{size:16}):a.jsx(G9,{}),onClick:o,disabled:n,children:"Сбросить пароль"}),a.jsx(uE,{open:!!s,autoHideDuration:6e3,onClose:()=>i(null),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:s&&a.jsx(Yt,{onClose:()=>i(null),severity:s.type,sx:{width:"100%"},children:s.text})})]})}const fY=[{value:"manage_bookings",label:"Управление бронированиями"},{value:"manage_courts",label:"Управление кортами"},{value:"manage_club",label:"Управление клубом"},{value:"manage_admins",label:"Управление администраторами клуба"},{value:"view_reports",label:"Просмотр отчетов"},{value:"view_bookings",label:"Просмотр бронирований"},{value:"create_bookings",label:"Создание бронирований"},{value:"manage_finance",label:"Управление финансами клуба"}],Qv={superadmin:["manage_all_venues","manage_all_bookings","manage_all_users","manage_platform_settings","view_all_reports","manage_finance","manage_admins"],admin:["manage_bookings","manage_courts","manage_club","manage_admins","manage_finance","view_reports","create_bookings"],manager:["view_bookings","create_bookings","view_reports"]};function pY(){const{isSuperAdmin:e}=ns(),[t,n]=B.useState([]),[r,s]=B.useState([]),[i,o]=B.useState(!0),[A,l]=B.useState(!1),[c,u]=B.useState(null),[d,p]=B.useState({name:"",email:"",password:"",role:"manager",venueId:"",permissions:[]}),[f,v]=B.useState("");B.useEffect(()=>{g()},[]);const g=async()=>{try{const k=await Gt(Ft(Oe,"admins")),D=[];for(const L of k.docs){const E=L.data();let I="";if(E.venueId){const T=await Gt(qt(Ft(Oe,"venues"),It("__name__","==",E.venueId)));T.empty||(I=T.docs[0].data().name)}D.push({id:L.id,name:E.name,email:E.email,password:E.password,role:E.role,venueId:E.venueId,venueName:I,permissions:E.permissions||[]})}n(D);const U=(await Gt(Ft(Oe,"venues"))).docs.map(L=>({id:L.id,name:L.data().name}));s(U),o(!1)}catch(k){console.error("Error loading data:",k),o(!1)}},y=k=>{k?(u(k),p({name:k.name,email:k.email,password:"",role:k.role,venueId:k.venueId||"",permissions:k.permissions})):(u(null),p({name:"",email:"",password:"",role:"admin",venueId:"",permissions:Qv.admin})),l(!0),v("")},x=()=>{l(!1),u(null),v("")},w=k=>{p({...d,role:k,permissions:Qv[k]})},b=k=>{const D=d.permissions.includes(k)?d.permissions.filter(N=>N!==k):[...d.permissions,k];p({...d,permissions:D})},j=async()=>{try{if(v(""),c){const k={name:d.name,role:d.role,venueId:d.venueId||null,permissions:d.permissions,updatedAt:new Date};await In(yt(Oe,"admins",c.id),k)}else{if(!d.password){v("Пароль обязателен для нового администратора");return}const k=await c5(fs,d.email,d.password);await qi(Ft(Oe,"admins"),{uid:k.user.uid,name:d.name,email:d.email,role:d.role,venueId:d.venueId||null,permissions:d.permissions,createdAt:new Date,updatedAt:new Date})}x(),g()}catch(k){console.error("Error saving admin:",k),k.code==="auth/email-already-in-use"?v("Пользователь с таким email уже существует"):k.code==="auth/weak-password"?v("Пароль должен содержать минимум 6 символов"):v("Ошибка при сохранении администратора")}},_=async k=>{const D=t.find(U=>U.id===k);if(!D)return;const N=`Вы уверены, что хотите удалить администратора ${D.name} (${D.email})?`;if(confirm(N))try{await $c(yt(Oe,"admins",k)),await g(),alert(`Администратор ${D.name} успешно удален`)}catch(U){console.error("Error deleting admin:",U),alert("Ошибка при удалении администратора")}};return i?a.jsx(Ue,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:a.jsx(Dr,{})}):a.jsx(su,{role:"superadmin",children:a.jsxs(Ue,{children:[a.jsx(Yt,{severity:"info",sx:{mb:3},children:"Данный раздел доступен только суперадминистраторам системы"}),a.jsxs(Ue,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[a.jsx("h2",{children:"Управление администраторами"}),a.jsx(jt,{variant:"contained",startIcon:a.jsx(nu,{}),onClick:()=>y(),children:"Добавить администратора"})]}),a.jsx(Sh,{component:Wn,children:a.jsxs(Bh,{children:[a.jsx(Eh,{children:a.jsxs(Fa,{children:[a.jsx(Wt,{children:"Имя"}),a.jsx(Wt,{children:"Email"}),a.jsx(Wt,{children:"Роль"}),a.jsx(Wt,{children:"Клуб"}),a.jsx(Wt,{align:"right",children:"Действия"})]})}),a.jsx(Ch,{children:t.map(k=>a.jsxs(Fa,{children:[a.jsx(Wt,{children:k.name}),a.jsx(Wt,{children:k.email}),a.jsx(Wt,{children:a.jsx(Zi,{label:k.role,color:k.role==="superadmin"?"error":k.role==="admin"?"primary":"default",size:"small"})}),a.jsx(Wt,{children:k.venueName||"-"}),a.jsx(Wt,{align:"right",children:k.role!=="superadmin"&&a.jsxs(a.Fragment,{children:[a.jsx(hY,{email:k.email}),a.jsx(js,{onClick:()=>y(k),children:a.jsx(Mc,{})}),e&&a.jsx(js,{onClick:()=>_(k.id),color:"error",children:a.jsx(ZA,{})})]})})]},k.id))})]})}),a.jsxs(ba,{open:A,onClose:x,maxWidth:"sm",fullWidth:!0,children:[a.jsx(to,{children:c?"Редактировать администратора":"Добавить администратора"}),a.jsxs(wa,{children:[f&&a.jsx(Yt,{severity:"error",sx:{mb:2},children:f}),a.jsx(Kt,{fullWidth:!0,label:"Имя",value:d.name,onChange:k=>p({...d,name:k.target.value}),margin:"normal"}),a.jsx(Kt,{fullWidth:!0,label:"Email",type:"email",value:d.email,onChange:k=>p({...d,email:k.target.value}),margin:"normal",disabled:!!c}),!c&&a.jsx(Kt,{fullWidth:!0,label:"Пароль",type:"password",value:d.password,onChange:k=>p({...d,password:k.target.value}),margin:"normal",required:!0}),a.jsxs(Ba,{fullWidth:!0,margin:"normal",children:[a.jsx(lo,{children:"Роль"}),a.jsxs(Ia,{value:d.role,onChange:k=>w(k.target.value),children:[a.jsx(vr,{value:"admin",children:"Администратор"}),a.jsx(vr,{value:"manager",children:"Менеджер"})]})]}),a.jsxs(Ba,{fullWidth:!0,margin:"normal",children:[a.jsx(lo,{children:"Клуб"}),a.jsxs(Ia,{value:d.venueId,onChange:k=>p({...d,venueId:k.target.value}),children:[a.jsx(vr,{value:"",children:"Не выбран"}),r.map(k=>a.jsx(vr,{value:k.id,children:k.name},k.id))]})]}),a.jsxs(Ba,{component:"fieldset",margin:"normal",children:[a.jsx(sE,{component:"legend",children:"Права доступа"}),a.jsx(rE,{children:fY.map(k=>a.jsx(Zr,{control:a.jsx(CA,{checked:d.permissions.includes(k.value),onChange:()=>b(k.value),disabled:Qv[d.role].includes(k.value)}),label:k.label},k.value))})]})]}),a.jsxs(eo,{children:[a.jsx(jt,{onClick:x,children:"Отмена"}),a.jsx(jt,{onClick:j,variant:"contained",children:c?"Сохранить":"Создать"})]})]})]})})}const Ga={start:{name:"СТАРТ",price:0,pricePerCourt:0,limits:{maxCourts:2,maxBookingsPerMonth:-1,smsEmailNotifications:0,customDesign:!1,apiAccess:!1,multiVenue:!1,searchPriority:0,abTesting:!1,trainersModule:!1,personalManager:!1},features:["До 2 кортов бесплатно","Неограниченные бронирования","Управление расписанием","Онлайн-оплата (свой эквайринг)","Белый лейбл (логотип клуба)","Push-уведомления в приложении","Мобильное приложение для клиентов","Базовая отчетность","QR-коды для бронирований"]},standard:{name:"СТАНДАРТ",price:990,pricePerCourt:990,limits:{maxCourts:-1,maxBookingsPerMonth:-1,smsEmailNotifications:500,customDesign:!1,apiAccess:!1,multiVenue:!1,searchPriority:10,abTesting:!1,trainersModule:!1,personalManager:!1},features:["990₽ за корт в месяц","От 3 кортов","Неограниченные бронирования","SMS/Email уведомления (500 шт/месяц на корт)","Расширенная аналитика и отчеты","Управление ценами и скидками","Промокоды и акции","Интеграция с календарями","Экспорт данных в Excel","Приоритет в поиске (+10%)"]},pro:{name:"ПРОФИ",price:1990,pricePerCourt:1990,limits:{maxCourts:-1,maxBookingsPerMonth:-1,smsEmailNotifications:-1,customDesign:!0,apiAccess:!0,multiVenue:!0,searchPriority:30,abTesting:!0,trainersModule:!0,personalManager:!0},features:["1,990₽ за корт в месяц","От 1 корта","SMS/Email без ограничений","Белый лейбл PRO (кастомизация дизайна)","API доступ для интеграций","Мультиплощадки (управление сетью)","Топ в поиске (+30% видимости)","A/B тестирование цен","Модуль абонементов и пакетов","Модуль тренеров и расписания","Персональный менеджер"]},premium:{name:"ПРЕМИУМ",price:-1,limits:{maxCourts:-1,maxBookingsPerMonth:-1,smsEmailNotifications:-1,customDesign:!0,apiAccess:!0,multiVenue:!0,searchPriority:50,abTesting:!0,trainersModule:!0,personalManager:!0},features:["Все функции ПРОФИ","Т-Банк Мультирасчеты","Кастомные интеграции","Выделенный сервер","SLA гарантии","Приоритетная разработка функций","Выделенный менеджер 24/7"]}};function gY(){const e=vs(),{isSuperAdmin:t}=ns(),{admin:n}=Er(),[r,s]=B.useState([]),[i,o]=B.useState(!0),[A,l]=B.useState(null),[c,u]=B.useState(!1),[d,p]=B.useState(!1),[f,v]=B.useState("start"),[g,y]=B.useState(""),[x,w]=B.useState(null),[b,j]=B.useState(!1),[_,k]=B.useState(null),[D,N]=B.useState(!1),[U,L]=B.useState({name:"",address:"",city:"",phone:"",email:"",description:"",organizationType:"ИП",inn:"",bankAccount:""});B.useEffect(()=>{E()},[]);const E=async()=>{try{const H=await Gt(Ft(Oe,"venues")),ie=await Promise.all(H.docs.map(async M=>{var ee,ce,Ae,Ee,fe,we;const W=M.data();W.location&&W.location._lat!==void 0&&(W.location={latitude:W.location._lat,longitude:W.location._long});const V=qt(Ft(Oe,"subscriptions"),It("venueId","==",M.id),It("status","in",["active","trial"])),X=await Gt(V);let Y=null;if(!X.empty){const de=X.docs[0].data();Y={id:X.docs[0].id,...de,startDate:(ee=de.startDate)==null?void 0:ee.toDate(),endDate:(ce=de.endDate)==null?void 0:ce.toDate(),trialEndDate:(Ae=de.trialEndDate)==null?void 0:Ae.toDate(),nextBillingDate:(Ee=de.nextBillingDate)==null?void 0:Ee.toDate(),usage:{...de.usage,lastUpdated:(we=(fe=de.usage)==null?void 0:fe.lastUpdated)==null?void 0:we.toDate()}}}return{id:M.id,...W,subscription:Y}}));s(ie),o(!1)}catch(H){console.error("Error loading venues:",H),o(!1)}},I=H=>{localStorage.setItem("selectedVenueId",H.id),e("/admin/club")},T=async H=>{try{const ie=H.status==="active"?"inactive":"active";await In(yt(Oe,"venues",H.id),{status:ie,updatedAt:new Date}),E()}catch(ie){console.error("Error updating venue status:",ie)}},P=async H=>{try{const ie=qt(Ft(Oe,"admins"),It("venueId","==",H)),M=await Gt(ie);if(!M.empty){const X=M.size,Y=M.docs.map(ee=>{const ce=ee.data();return`- ${ce.name} (${ce.email}) - ${ce.role==="admin"?"Администратор":"Менеджер"}`}).join(`
`);alert(`Невозможно удалить клуб!

В клубе есть ${X} сотрудник(ов):
${Y}

Сначала удалите всех сотрудников клуба в разделе "Администраторы".`);return}const W=r.find(X=>X.id===H);if(!W)return;const V=`Вы уверены, что хотите удалить клуб "${W.name}"?

Это действие необратимо и удалит:
- Все данные клуба
- Все корты
- Все бронирования
- Всю историю`;confirm(V)&&(await $c(yt(Oe,"venues",H)),await E(),alert(`Клуб "${W.name}" успешно удален`))}catch(ie){console.error("Error deleting venue:",ie),alert("Ошибка при удалении клуба")}},K=H=>`https://allcourt.ru/club/${H}`,Q=H=>{const ie=K(H);navigator.clipboard.writeText(ie),w(H),setTimeout(()=>w(null),2e3)},F=H=>{k(H),j(!0)},$=H=>{var ie;l(H),v(((ie=H.subscription)==null?void 0:ie.plan)||"start"),p(!0)},O=async()=>{var H,ie;if(A)try{const M={venueId:A.id,plan:f,status:"active",startDate:new Date,endDate:null,updatedAt:new Date,updatedBy:"superadmin",usage:((H=A.subscription)==null?void 0:H.usage)||{courtsCount:0,bookingsThisMonth:0,smsEmailsSent:0,lastUpdated:new Date}};(ie=A.subscription)!=null&&ie.id?await In(yt(Oe,"subscriptions",A.subscription.id),{plan:f,updatedAt:new Date,updatedBy:"superadmin"}):await qi(Ft(Oe,"subscriptions"),M),p(!1),E()}catch(M){console.error("Error updating subscription:",M),y("Ошибка при обновлении подписки")}};return i?a.jsx(Ue,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:a.jsx(Dr,{})}):a.jsxs(su,{role:"superadmin",children:[a.jsxs(Ue,{children:[a.jsx(Yt,{severity:"info",sx:{mb:3},children:"Данный раздел доступен только суперадминистраторам системы"}),a.jsxs(Ue,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[a.jsx(le,{variant:"h5",component:"h2",children:"Управление клубами"}),a.jsx(jt,{variant:"contained",startIcon:a.jsx(nu,{}),onClick:()=>N(!0),children:"Добавить клуб"})]}),r.length===0?a.jsx(Yt,{severity:"info",children:"Клубы не найдены. Создайте первый клуб для начала работы."}):a.jsx(Ut,{container:!0,spacing:3,children:r.map(H=>{var ie,M;return a.jsx(Ut,{item:!0,xs:12,md:6,lg:4,children:a.jsxs(An,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[a.jsxs(ln,{sx:{flexGrow:1},children:[a.jsxs(Ue,{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2,children:[a.jsx(le,{variant:"h6",component:"h3",children:H.name}),a.jsx(Zi,{label:H.status==="active"?"Активен":"Неактивен",color:H.status==="active"?"success":"default",size:"small"})]}),a.jsxs(Ue,{display:"flex",alignItems:"center",gap:1,mb:1,children:[a.jsx(V9,{fontSize:"small",color:"action"}),a.jsx(le,{variant:"body2",color:"text.secondary",children:H.address})]}),H.city&&a.jsx(Ue,{display:"flex",alignItems:"center",gap:1,mb:1,children:a.jsx(le,{variant:"body2",color:"text.secondary",sx:{ml:3},children:H.city})}),H.location?a.jsx(Ue,{display:"flex",alignItems:"center",gap:1,mb:1,children:a.jsxs(le,{variant:"body2",color:"text.secondary",sx:{ml:3,fontSize:"0.75rem"},children:["📍 ",(ie=H.location.latitude)==null?void 0:ie.toFixed(6),", ",(M=H.location.longitude)==null?void 0:M.toFixed(6)]})}):a.jsx(Ue,{display:"flex",alignItems:"center",gap:1,mb:1,children:a.jsx(le,{variant:"body2",color:"warning.main",sx:{ml:3,fontSize:"0.75rem",fontStyle:"italic"},children:"⚠️ Координаты не указаны"})}),a.jsxs(Ue,{display:"flex",alignItems:"center",gap:1,mb:1,children:[a.jsx(I1,{fontSize:"small",color:"action"}),a.jsx(le,{variant:"body2",color:"text.secondary",children:H.phone})]}),a.jsxs(Ue,{display:"flex",alignItems:"center",gap:1,children:[a.jsx(j1,{fontSize:"small",color:"action"}),a.jsx(le,{variant:"body2",color:"text.secondary",children:H.email})]}),H.description&&a.jsx(le,{variant:"body2",color:"text.secondary",mt:2,children:H.description}),H.status==="pending"&&a.jsxs(Ue,{sx:{mt:2,p:1.5,bgcolor:"warning.light",borderRadius:1},children:[a.jsxs(Ue,{display:"flex",alignItems:"center",gap:1,mb:1,children:[a.jsx(KA,{fontSize:"small",color:"warning"}),a.jsx(le,{variant:"subtitle2",color:"warning.dark",children:"Ожидает модерации"})]}),a.jsx(jt,{variant:"contained",size:"small",color:"success",onClick:async()=>{var W;try{await In(yt(Oe,"venues",H.id),{status:"active",moderatedAt:new Date,moderatedBy:((W=fs.currentUser)==null?void 0:W.uid)||"superadmin"}),E()}catch(V){console.error("Error activating venue:",V)}},children:"Активировать клуб"})]}),H.status==="active"&&t&&a.jsxs(Ue,{sx:{mt:2,p:1.5,bgcolor:"success.light",borderRadius:1},children:[a.jsxs(Ue,{display:"flex",alignItems:"center",gap:1,mb:1,children:[a.jsx(Bm,{fontSize:"small",color:"success"}),a.jsx(le,{variant:"subtitle2",color:"success.dark",children:"Активный клуб"})]}),a.jsx(jt,{variant:"outlined",size:"small",color:"warning",onClick:async()=>{if(window.confirm("Вы уверены, что хотите отправить клуб на модерацию? Это заблокирует возможность бронирования."))try{await In(yt(Oe,"venues",H.id),{status:"pending",moderatedAt:null,moderatedBy:null}),E()}catch(W){console.error("Error deactivating venue:",W)}},children:"Отправить на модерацию"})]}),a.jsxs(Ue,{sx:{mt:2,p:1.5,bgcolor:"background.default",borderRadius:1},children:[a.jsxs(Ue,{display:"flex",alignItems:"center",gap:1,mb:.5,children:[a.jsx(S1,{fontSize:"small",color:"primary"}),a.jsxs(le,{variant:"subtitle2",color:"primary",children:["Тариф: ",H.subscription?Ga[H.subscription.plan].name:"Не определен"]})]}),H.subscription&&a.jsx(le,{variant:"caption",color:"text.secondary",children:Ga[H.subscription.plan].price===0?"Бесплатный":`${Ga[H.subscription.plan].price.toLocaleString("ru-RU")} ₽/мес`}),!H.subscription&&a.jsxs(le,{variant:"caption",color:"warning.main",children:[a.jsx(KA,{fontSize:"small",sx:{verticalAlign:"middle",mr:.5}}),"Требуется настройка подписки"]})]}),a.jsxs(Ue,{sx:{mt:2,p:1.5,bgcolor:"background.default",borderRadius:1},children:[a.jsxs(Ue,{display:"flex",alignItems:"center",gap:1,mb:1,children:[a.jsx(K9,{fontSize:"small",color:"action"}),a.jsx(le,{variant:"caption",color:"text.secondary",children:"Ссылка для клиентов:"})]}),a.jsxs(Ue,{display:"flex",alignItems:"center",gap:1,children:[a.jsx(le,{variant:"caption",sx:{flex:1,fontFamily:"monospace",wordBreak:"break-all",p:.5,bgcolor:"white",borderRadius:.5},children:K(H.id)}),a.jsx(Yw,{title:x===H.id?"Скопировано!":"Копировать ссылку",children:a.jsx(js,{size:"small",onClick:()=>Q(H.id),color:x===H.id?"success":"default",children:x===H.id?a.jsx(Po,{fontSize:"small"}):a.jsx(fE,{fontSize:"small"})})}),a.jsx(Yw,{title:"Показать QR код",children:a.jsx(js,{size:"small",onClick:()=>F(H),children:a.jsx(Tx,{fontSize:"small"})})})]})]})]}),a.jsxs(pP,{sx:{flexWrap:"wrap",gap:.5},children:[a.jsx(jt,{size:"small",onClick:()=>I(H),startIcon:a.jsx(Mc,{fontSize:"small"}),children:"Редактировать"}),a.jsx(jt,{size:"small",onClick:()=>$(H),startIcon:a.jsx(S1,{fontSize:"small"}),color:"secondary",children:"Тариф"}),a.jsx(jt,{size:"small",onClick:()=>T(H),children:H.status==="active"?"Деактивировать":"Активировать"}),a.jsx(js,{size:"small",color:"error",onClick:()=>P(H.id),children:a.jsx(ZA,{})})]})]})},H.id)})})]}),a.jsxs(ba,{open:b,onClose:()=>j(!1),maxWidth:"sm",children:[a.jsxs(to,{children:["QR код для ",_==null?void 0:_.name]}),a.jsx(wa,{children:a.jsxs(Ue,{sx:{textAlign:"center",p:2},children:[a.jsx(ag,{value:_?K(_.id):"",size:256,level:"H",includeMargin:!0}),a.jsx(le,{variant:"body2",color:"text.secondary",sx:{mt:2},children:"Клиенты могут отсканировать этот QR код для бронирования"}),a.jsx(xi,{sx:{my:2}}),a.jsx(le,{variant:"caption",sx:{fontFamily:"monospace"},children:_&&K(_.id)})]})}),a.jsxs(eo,{children:[a.jsx(jt,{onClick:()=>j(!1),children:"Закрыть"}),a.jsx(jt,{variant:"contained",onClick:()=>{_&&Q(_.id)},children:"Копировать ссылку"})]})]}),a.jsxs(ba,{open:d,onClose:()=>p(!1),maxWidth:"sm",fullWidth:!0,children:[a.jsxs(to,{children:["Изменение тарифа для ",A==null?void 0:A.name]}),a.jsxs(wa,{children:[g&&a.jsx(Yt,{severity:"error",sx:{mb:2},children:g}),a.jsxs(Ue,{sx:{mt:2},children:[a.jsxs(Ba,{fullWidth:!0,children:[a.jsx(lo,{children:"Тарифный план"}),a.jsx(Ia,{value:f,onChange:H=>v(H.target.value),label:"Тарифный план",children:Object.entries(Ga).filter(([H])=>H!=="premium").map(([H,ie])=>a.jsx(vr,{value:H,children:a.jsxs(Ue,{children:[a.jsx(le,{variant:"body1",children:ie.name}),a.jsx(le,{variant:"caption",color:"text.secondary",children:ie.price===0?"Бесплатно":`${ie.price.toLocaleString("ru-RU")} ₽/месяц`})]})},H))})]}),f&&a.jsxs(Ue,{sx:{mt:3},children:[a.jsxs(le,{variant:"subtitle2",gutterBottom:!0,children:["Возможности тарифа ",Ga[f].name,":"]}),a.jsx(Dc,{dense:!0,children:Ga[f].features.slice(0,5).map((H,ie)=>a.jsx(ga,{disablePadding:!0,children:a.jsx(ma,{primary:H,primaryTypographyProps:{variant:"body2"}})},ie))})]}),a.jsx(Yt,{severity:"info",sx:{mt:2},children:"Изменение тарифа вступит в силу немедленно. Клуб будет уведомлен об изменении."})]})]}),a.jsxs(eo,{children:[a.jsx(jt,{onClick:()=>p(!1),children:"Отмена"}),a.jsx(jt,{onClick:O,variant:"contained",children:"Применить"})]})]}),a.jsxs(ba,{open:D,onClose:()=>N(!1),maxWidth:"md",fullWidth:!0,children:[a.jsx(to,{children:"Добавить новый клуб"}),a.jsxs(wa,{children:[g&&a.jsx(Yt,{severity:"error",sx:{mb:2},children:g}),a.jsxs(Ue,{sx:{mt:2,display:"flex",flexDirection:"column",gap:2},children:[a.jsx(Kt,{label:"Название клуба",value:U.name,onChange:H=>L({...U,name:H.target.value}),fullWidth:!0,required:!0}),a.jsx(Kt,{label:"Адрес",value:U.address,onChange:H=>L({...U,address:H.target.value}),fullWidth:!0,required:!0}),a.jsx(Kt,{label:"Город",value:U.city,onChange:H=>L({...U,city:H.target.value}),fullWidth:!0,required:!0}),a.jsx(Kt,{label:"Телефон",value:U.phone,onChange:H=>L({...U,phone:H.target.value}),fullWidth:!0,required:!0,placeholder:"+7 (900) 123-45-67"}),a.jsx(Kt,{label:"Email",value:U.email,onChange:H=>L({...U,email:H.target.value}),fullWidth:!0,required:!0,type:"email"}),a.jsx(Kt,{label:"Описание",value:U.description,onChange:H=>L({...U,description:H.target.value}),fullWidth:!0,multiline:!0,rows:3}),a.jsxs(Ba,{fullWidth:!0,children:[a.jsx(lo,{children:"Форма организации"}),a.jsxs(Ia,{value:U.organizationType,onChange:H=>L({...U,organizationType:H.target.value}),label:"Форма организации",children:[a.jsx(vr,{value:"ИП",children:"ИП"}),a.jsx(vr,{value:"ООО",children:"ООО"}),a.jsx(vr,{value:"Самозанятый",children:"Самозанятый"})]})]}),a.jsx(Kt,{label:"ИНН",value:U.inn,onChange:H=>L({...U,inn:H.target.value}),fullWidth:!0}),a.jsx(Kt,{label:"Расчетный счет",value:U.bankAccount,onChange:H=>L({...U,bankAccount:H.target.value}),fullWidth:!0})]})]}),a.jsxs(eo,{children:[a.jsx(jt,{onClick:()=>{N(!1),y(""),L({name:"",address:"",city:"",phone:"",email:"",description:"",organizationType:"ИП",inn:"",bankAccount:""})},children:"Отмена"}),a.jsx(jt,{onClick:async()=>{try{if(!U.name||!U.address||!U.city||!U.phone||!U.email){y("Заполните все обязательные поля");return}const H=qt(Ft(Oe,"venues"),It("email","==",U.email));if(!(await Gt(H)).empty){y("Клуб с таким email уже существует");return}const M={name:U.name,address:U.address,city:U.city,phone:U.phone,email:U.email,description:U.description||"",organizationType:U.organizationType,inn:U.inn||"",bankAccount:U.bankAccount||"",status:"pending",createdAt:new Date,updatedAt:new Date,logoUrl:"",amenities:[],location:null,moderatedAt:null,moderatedBy:null,courts:[],workingHours:{weekday:{start:"07:00",end:"23:00"},weekend:{start:"08:00",end:"22:00"}}};if(!fs.currentUser){y("Необходимо авторизоваться");return}if(!t){y("Только суперадминистратор может создавать клубы");return}console.log("Creating venue with data:",M),console.log("Firebase auth current user:",fs.currentUser);const W=await qi(Ft(Oe,"venues"),M);console.log("Venue created with ID:",W.id),await qi(Ft(Oe,"subscriptions"),{venueId:W.id,plan:"start",status:"active",startDate:new Date,endDate:null,createdAt:new Date,updatedAt:new Date,usage:{courtsCount:0,bookingsThisMonth:0,smsEmailsSent:0,lastUpdated:new Date}}),await qi(Ft(Oe,"admins"),{name:"Администратор",email:U.email,password:"123456",role:"admin",venueId:W.id,permissions:["manage_bookings","manage_courts","manage_clients","manage_settings"],createdAt:new Date,updatedAt:new Date}),N(!1),y(""),L({name:"",address:"",city:"",phone:"",email:"",description:"",organizationType:"ИП",inn:"",bankAccount:""}),E(),alert(`Клуб "${U.name}" успешно создан! Администратор: ${U.email}, пароль: 123456`)}catch(H){console.error("Error creating venue:",H),console.error("Error details:",{code:H==null?void 0:H.code,message:H==null?void 0:H.message,stack:H==null?void 0:H.stack}),y("Ошибка при создании клуба: "+((H==null?void 0:H.message)||"Неизвестная ошибка"))}},variant:"contained",children:"Создать"})]})]})]})}function op(e){return new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function Ap(e){return new Intl.DateTimeFormat("ru-RU",{year:"numeric",month:"long",day:"numeric"}).format(e)}const UC={start:"Старт",standard:"Стандарт",pro:"Профи",premium:"Премиум"},lp={start:0,standard:990,pro:1990,premium:2990},mY={start:["1 корт","Базовые функции","Email поддержка"],standard:["До 3 кортов","Онлайн-оплата","SMS-уведомления","Статистика"],pro:["До 10 кортов","Все функции Standard","Приоритетная поддержка","API доступ"],premium:["Неограниченно кортов","Все функции Pro","Персональный менеджер","Кастомизация"]};function vY(){var D;const{admin:e}=Er(),[t,n]=B.useState(!0),[r,s]=B.useState(null),[i,o]=B.useState([]),[A,l]=B.useState(null),[c,u]=B.useState(!1),[d,p]=B.useState(""),[f,v]=B.useState(1),[g,y]=B.useState(!1),[x,w]=B.useState(null);B.useEffect(()=>{if(!(e!=null&&e.venueId))return;const N=Xi(qt(Ft(Oe,"subscriptions"),It("venueId","==",e.venueId),oc(1)),E=>{if(E.empty)s(null);else{const I=E.docs[0];s({id:I.id,...I.data()})}}),U=Xi(qt(Ft(Oe,"invoices"),It("venueId","==",e.venueId),u5("createdAt","desc"),oc(20)),E=>{const I=E.docs.map(T=>({id:T.id,...T.data()}));o(I)}),L=Xi(qt(Ft(Oe,"payment_methods"),It("venueId","==",e.venueId),It("isDefault","==",!0),oc(1)),E=>{if(E.empty)l(null);else{const I=E.docs[0];l({id:I.id,...I.data()})}});return n(!1),()=>{N(),U(),L()}},[e]);const b=async()=>{if(!(!d||!f)){y(!0),w(null);try{const L=(await Ss(Zo,"initSubscriptionPayment")({venueId:e==null?void 0:e.venueId,planKey:d,amount:lp[d]*f,courtsCount:f})).data;if(L.success&&L.paymentUrl)window.open(L.paymentUrl,"_blank"),u(!1);else throw new Error("Failed to initialize payment")}catch(N){console.error("Payment initialization error:",N),w(N.message||"Ошибка при инициализации платежа")}finally{y(!1)}}},j=N=>{const U={active:{label:"Активна",color:"success",icon:a.jsx(Bm,{})},pending_payment:{label:"Ожидает оплаты",color:"warning",icon:a.jsx(sg,{})},payment_failed:{label:"Ошибка оплаты",color:"error",icon:a.jsx(KA,{})},cancelled:{label:"Отменена",color:"default",icon:a.jsx(Ja,{})}},L=U[N]||U.cancelled;return a.jsx(Zi,{label:L.label,color:L.color,size:"small",icon:L.icon})},_=N=>{const U={pending:{label:"Ожидает",color:"default"},processing:{label:"Обработка",color:"info"},paid:{label:"Оплачен",color:"success"},failed:{label:"Ошибка",color:"error"},refunded:{label:"Возврат",color:"warning"}},L=U[N]||U.pending;return a.jsx(Zi,{label:L.label,color:L.color,size:"small"})};if(t)return a.jsx(N1,{children:a.jsx(Ue,{sx:{width:"100%"},children:a.jsx(aE,{})})});const k=r!=null&&r.endDate?Math.floor((r.endDate.toMillis()-Date.now())/(1e3*60*60*24)):0;return a.jsx(N1,{children:a.jsxs(Ue,{sx:{p:3},children:[a.jsx(le,{variant:"h5",gutterBottom:!0,children:"Управление подпиской"}),x&&a.jsx(Yt,{severity:"error",sx:{mb:3},onClose:()=>w(null),children:x}),a.jsx(An,{sx:{mb:3},children:a.jsxs(ln,{children:[a.jsx(le,{variant:"h6",gutterBottom:!0,children:"Текущий тариф"}),r?a.jsxs(Ut,{container:!0,spacing:3,children:[a.jsx(Ut,{item:!0,xs:12,md:6,children:a.jsxs(Kl,{spacing:2,children:[a.jsxs(Ue,{children:[a.jsx(le,{variant:"subtitle2",color:"text.secondary",children:"Тариф"}),a.jsx(le,{variant:"h4",children:UC[r.plan]})]}),a.jsxs(Ue,{children:[a.jsx(le,{variant:"subtitle2",color:"text.secondary",children:"Статус"}),j(r.status)]}),a.jsxs(Ue,{children:[a.jsx(le,{variant:"subtitle2",color:"text.secondary",children:"Количество кортов"}),a.jsx(le,{variant:"body1",children:r.courtsCount})]}),a.jsxs(Ue,{children:[a.jsx(le,{variant:"subtitle2",color:"text.secondary",children:"Стоимость в месяц"}),a.jsx(le,{variant:"h5",children:op(lp[r.plan]*r.courtsCount)})]})]})}),a.jsx(Ut,{item:!0,xs:12,md:6,children:a.jsxs(Kl,{spacing:2,children:[a.jsxs(Ue,{children:[a.jsx(le,{variant:"subtitle2",color:"text.secondary",children:"Активна до"}),a.jsx(le,{variant:"body1",children:r.endDate?Ap(r.endDate.toDate()):"Бессрочно"}),k>0&&k<=7&&a.jsxs(le,{variant:"caption",color:"warning.main",children:["Осталось ",k," дней"]})]}),a.jsxs(Ue,{children:[a.jsx(le,{variant:"subtitle2",color:"text.secondary",children:"Автопродление"}),a.jsx(le,{variant:"body1",children:r.autoRenewal?"Включено":"Отключено"})]}),r.lastPaymentAt&&a.jsxs(Ue,{children:[a.jsx(le,{variant:"subtitle2",color:"text.secondary",children:"Последний платеж"}),a.jsx(le,{variant:"body1",children:Ap(r.lastPaymentAt.toDate())})]}),r.status==="payment_failed"&&r.gracePeriodEnd&&a.jsx(Yt,{severity:"error",sx:{mt:2},children:a.jsxs(le,{variant:"body2",children:["Последний платеж не прошел. Подписка будет приостановлена"," ",Ap(r.gracePeriodEnd.toDate()),", если оплата не поступит."]})})]})})]}):a.jsx(Yt,{severity:"info",children:"У вас нет активной подписки"}),a.jsx(xi,{sx:{my:3}}),a.jsxs(Kl,{direction:"row",spacing:2,children:[a.jsx(jt,{variant:"contained",onClick:()=>{p((r==null?void 0:r.plan)||"standard"),v((r==null?void 0:r.courtsCount)||1),u(!0)},children:"Изменить тариф"}),!A&&a.jsx(jt,{variant:"outlined",startIcon:a.jsx(E1,{}),onClick:()=>{alert("Функция привязки карты будет добавлена")},children:"Привязать карту"})]})]})}),A&&a.jsx(An,{sx:{mb:3},children:a.jsxs(ln,{children:[a.jsx(le,{variant:"h6",gutterBottom:!0,children:"Способ оплаты"}),a.jsxs(Kl,{direction:"row",spacing:2,alignItems:"center",children:[a.jsx(E1,{fontSize:"large",color:"action"}),a.jsxs(Ue,{children:[a.jsxs(le,{variant:"body1",children:[A.brand," •••• ",A.last4]}),a.jsxs(le,{variant:"caption",color:"text.secondary",children:["Действует до ",A.expiryMonth,"/",A.expiryYear]})]})]})]})}),a.jsx(An,{children:a.jsxs(ln,{children:[a.jsx(le,{variant:"h6",gutterBottom:!0,children:"История платежей"}),i.length>0?a.jsx(Sh,{component:Wn,variant:"outlined",children:a.jsxs(Bh,{children:[a.jsx(Eh,{children:a.jsxs(Fa,{children:[a.jsx(Wt,{children:"Дата"}),a.jsx(Wt,{children:"Описание"}),a.jsx(Wt,{children:"Сумма"}),a.jsx(Wt,{children:"Статус"}),a.jsx(Wt,{align:"right",children:"Действия"})]})}),a.jsx(Ch,{children:i.map(N=>a.jsxs(Fa,{children:[a.jsx(Wt,{children:Ap(N.createdAt.toDate())}),a.jsx(Wt,{children:N.description}),a.jsx(Wt,{children:op(N.amount)}),a.jsx(Wt,{children:_(N.status)}),a.jsx(Wt,{align:"right",children:a.jsx(jt,{size:"small",startIcon:a.jsx(vE,{}),onClick:()=>{alert("Функция скачивания чека будет добавлена")},children:"Чек"})})]},N.id))})]})}):a.jsx(le,{color:"text.secondary",children:"История платежей пуста"})]})}),a.jsxs(ba,{open:c,onClose:()=>u(!1),maxWidth:"sm",fullWidth:!0,children:[a.jsx(to,{children:"Изменить тариф"}),a.jsx(wa,{children:a.jsxs(Kl,{spacing:3,sx:{mt:2},children:[a.jsx(Kt,{select:!0,fullWidth:!0,label:"Тариф",value:d,onChange:N=>p(N.target.value),children:Object.entries(UC).filter(([N])=>N!=="start").map(([N,U])=>a.jsxs(vr,{value:N,children:[U," - ",op(lp[N])," за корт/месяц"]},N))}),a.jsx(Kt,{type:"number",fullWidth:!0,label:"Количество кортов",value:f,onChange:N=>v(parseInt(N.target.value)||1),inputProps:{min:1,max:100}}),d&&a.jsxs(a.Fragment,{children:[a.jsxs(Ue,{sx:{p:2,bgcolor:"grey.100",borderRadius:1},children:[a.jsx(le,{variant:"subtitle2",gutterBottom:!0,children:"Возможности тарифа:"}),a.jsx("ul",{style:{margin:0,paddingLeft:20},children:(D=mY[d])==null?void 0:D.map((N,U)=>a.jsx("li",{children:a.jsx(le,{variant:"body2",children:N})},U))})]}),a.jsx(xi,{}),a.jsxs(Ue,{sx:{textAlign:"center"},children:[a.jsx(le,{variant:"subtitle2",color:"text.secondary",children:"Итого к оплате:"}),a.jsx(le,{variant:"h4",children:op(lp[d]*f)}),a.jsx(le,{variant:"caption",color:"text.secondary",children:"в месяц"})]})]})]})}),a.jsxs(eo,{children:[a.jsx(jt,{onClick:()=>u(!1),children:"Отмена"}),a.jsx(jt,{variant:"contained",onClick:b,disabled:!d||!f||g,startIcon:g?a.jsx(sg,{}):a.jsx(eA,{}),children:g?"Обработка...":"Перейти к оплате"})]})]})]})})}const LC=[{id:"tbank",name:"Т-Банк",commission:2.5,fields:[{name:"shopId",label:"Shop ID",type:"text",required:!0,placeholder:"Например: shop_12345"},{name:"secretKey",label:"Secret Key",type:"password",required:!0},{name:"terminalKey",label:"Terminal Key",type:"text",required:!0}]},{id:"yookassa",name:"ЮKassa",commission:2.8,fields:[{name:"shopId",label:"Shop ID",type:"text",required:!0},{name:"secretKey",label:"Secret Key",type:"password",required:!0}]}];function yY(){const{admin:e,club:t}=Er(),{isSuperAdmin:n}=ns(),[r,s]=B.useState(null),[i,o]=B.useState(!0),[A,l]=B.useState(!1),[c,u]=B.useState(!0),[d,p]=B.useState(!1),[f,v]=B.useState(""),[g,y]=B.useState({}),[x,w]=B.useState(!1),[b,j]=B.useState(null),[_,k]=B.useState(0),[D,N]=B.useState({cash:!0,card_on_site:!0,transfer:!0,sberbank_card:!0,tbank_card:!0,vtb_card:!0});B.useEffect(()=>{if(n){const Q=localStorage.getItem("selectedVenueId");Q?(s(Q),L(Q)):o(!1)}else e!=null&&e.venueId&&L(e.venueId)},[e,n]);const U=Q=>{s(Q),localStorage.setItem("selectedVenueId",Q),Q&&L(Q)},L=async Q=>{const F=Q||(e==null?void 0:e.venueId);if(F)try{o(!0);const $=await dn(yt(Oe,"venues",F));if($.exists()){const O=$.data();p(O.paymentEnabled||!1),u(O.paymentTestMode!==!1),v(O.paymentProvider||""),O.paymentCredentials&&y(O.paymentCredentials),O.enabledPaymentMethods?N(O.enabledPaymentMethods):N({cash:!0,card_on_site:!0,transfer:!0,sberbank_card:!0,tbank_card:!0,vtb_card:!0}),O.paymentProvider&&O.paymentCredentials?k(2):O.paymentProvider&&k(1)}o(!1)}catch($){console.error("Error loading payment settings:",$),o(!1)}},E=Q=>{v(Q),y({}),k(1)},I=(Q,F)=>{y($=>({...$,[Q]:F}))},T=async()=>{const Q=n?r:e==null?void 0:e.venueId;if(!(!Q||!f)){l(!0);try{const $={paymentEnabled:d,paymentTestMode:f==="yookassa"?!1:c,paymentProvider:f,paymentCredentials:g,enabledPaymentMethods:D,paymentUpdatedAt:new Date};console.log("Saving payment settings:",{venueId:Q,...$}),await In(yt(Oe,"venues",Q),$),k(2),alert("Настройки успешно сохранены")}catch(F){console.error("Error saving payment settings:",F),alert("Ошибка при сохранении настроек")}finally{l(!1)}}},P=async()=>{w(!0),j(null);const Q=n?r:e==null?void 0:e.venueId;if(!(!Q||!f))try{const $=await(await Yd(async()=>{const{httpsCallable:O}=await Promise.resolve().then(()=>HL);return{httpsCallable:O}},void 0)).httpsCallable((await Yd(async()=>{const{functions:O}=await Promise.resolve().then(()=>$L);return{functions:O}},void 0)).functions,"testPaymentConnection")({venueId:Q,provider:f,credentials:g});j($.data)}catch(F){console.error("Error testing connection:",F),j({success:!1,message:F.message||"Ошибка при проверке подключения"})}};if(i)return a.jsx(Ue,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:a.jsx(Dr,{})});if(n&&!r)return a.jsx(au,{title:"Выберите клуб для настройки оплаты"});const K=LC.find(Q=>Q.id===f);return a.jsxs(Ue,{children:[n&&a.jsx(iu,{selectedVenueId:r,onVenueChange:U}),a.jsx(le,{variant:"h5",component:"h2",gutterBottom:!0,children:"Настройки эквайринга"}),a.jsx(Yt,{severity:"info",sx:{mb:3},children:"Подключите свой эквайринг для приема платежей от клиентов. Все платежи будут поступать напрямую на ваш расчетный счет."}),a.jsx(An,{sx:{mb:3},children:a.jsxs(ln,{children:[a.jsxs(Ue,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[a.jsxs(Ue,{children:[a.jsx(le,{variant:"h6",children:"Статус платежей"}),a.jsx(le,{variant:"body2",color:"text.secondary",children:d?"Платежи активны и готовы к приему":"Платежи не настроены"})]}),a.jsxs(Ue,{display:"flex",alignItems:"center",gap:2,children:[f!=="yookassa"&&a.jsx(Zr,{control:a.jsx(Zs,{checked:c,onChange:Q=>u(Q.target.checked),disabled:!d}),label:"Тестовый режим"}),a.jsx(Zi,{icon:d?a.jsx(Po,{}):a.jsx(KA,{}),label:d?"Подключено":"Не подключено",color:d?"success":"default"})]})]}),d&&K&&a.jsxs(Ue,{mt:2,p:2,bgcolor:"background.default",borderRadius:1,children:[a.jsxs(le,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Провайдер: ",a.jsx("strong",{children:K.name})]}),a.jsxs(le,{variant:"body2",color:"text.secondary",children:["Комиссия: ",a.jsxs("strong",{children:[K.commission,"%"]})]})]})]})}),a.jsxs(m7,{activeStep:_,orientation:"vertical",children:[a.jsxs(rv,{children:[a.jsx(Cp,{children:"Выберите платежного провайдера"}),a.jsxs(av,{children:[a.jsx(le,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Выберите банк или платежную систему, с которой у вас заключен договор эквайринга"}),a.jsx(Ue,{sx:{mt:2,mb:3},children:LC.map(Q=>a.jsx(Wn,{sx:{p:2,mb:2,cursor:"pointer",border:f===Q.id?2:1,borderColor:f===Q.id?"primary.main":"divider","&:hover":{borderColor:"primary.main"}},onClick:()=>E(Q.id),children:a.jsxs(Ue,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[a.jsxs(Ue,{display:"flex",alignItems:"center",gap:2,children:[a.jsx(N9,{color:"action"}),a.jsxs(Ue,{children:[a.jsx(le,{variant:"subtitle1",children:Q.name}),a.jsxs(le,{variant:"body2",color:"text.secondary",children:["Комиссия: ",Q.commission,"%"]})]})]}),f===Q.id&&a.jsx(Po,{color:"primary"})]})},Q.id))}),a.jsx(jt,{variant:"contained",onClick:()=>k(1),disabled:!f,children:"Продолжить"})]})]}),a.jsxs(rv,{children:[a.jsx(Cp,{children:"Введите данные для подключения"}),a.jsx(av,{children:K&&a.jsxs(a.Fragment,{children:[a.jsxs(le,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Введите данные из личного кабинета ",K.name]}),f==="yookassa"&&a.jsx(Yt,{severity:"info",sx:{mt:2,mb:2},children:"YooKassa не поддерживает тестовый режим через API. Используйте реальные ключи и проводите тестовые платежи на небольшие суммы с последующим возвратом."}),a.jsx(Ue,{sx:{mt:2},children:K.fields.map(Q=>{var F;return a.jsx(Ue,{sx:{mb:2},children:Q.type==="select"?a.jsxs(Ba,{fullWidth:!0,children:[a.jsx(lo,{children:Q.label}),a.jsx(Ia,{value:g[Q.name]||"",onChange:$=>I(Q.name,$.target.value),required:Q.required,children:(F=Q.options)==null?void 0:F.map($=>a.jsx(vr,{value:$.value,children:$.label},$.value))})]}):a.jsx(Kt,{fullWidth:!0,label:Q.label,type:Q.type,value:g[Q.name]||"",onChange:$=>I(Q.name,$.target.value),required:Q.required,placeholder:Q.placeholder,helperText:Q.name==="secretKey"&&f==="yookassa"?"Используйте OAuth токен (live_xxx или test_xxx). Для возвратов токен должен иметь права refunds:write":Q.placeholder})},Q.name)})}),a.jsx(Yt,{severity:"warning",icon:a.jsx(Ux,{}),sx:{mt:2,mb:2},children:"Все данные хранятся в зашифрованном виде и используются только для проведения платежей"}),a.jsxs(Ue,{sx:{mt:2},children:[a.jsx(jt,{variant:"contained",onClick:T,disabled:A||!K.fields.every(Q=>!Q.required||g[Q.name]),startIcon:A?a.jsx(Dr,{size:20}):a.jsx(rg,{}),children:A?"Сохранение...":"Сохранить и продолжить"}),a.jsx(jt,{sx:{ml:1},onClick:()=>k(0),children:"Назад"})]})]})})]}),a.jsxs(rv,{children:[a.jsx(Cp,{children:"Проверка подключения"}),a.jsxs(av,{children:[a.jsx(le,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Проверьте работу платежей в тестовом режиме перед началом приема реальных платежей"}),a.jsx(Ue,{sx:{mt:3},children:a.jsx(jt,{variant:"contained",onClick:P,startIcon:a.jsx(n$,{}),children:"Проверить подключение"})}),d&&a.jsxs(a.Fragment,{children:[a.jsxs(Yt,{severity:"success",sx:{mt:3},children:["Поздравляем! Платежи настроены и готовы к работе.",f==="yookassa"?" YooKassa работает только с реальными платежами.":c&&" Не забудьте отключить тестовый режим для приема реальных платежей."]}),a.jsxs(Ue,{sx:{mt:2,mb:2},children:[a.jsx(jt,{variant:"outlined",color:"primary",onClick:()=>{k(1),p(!1)},children:"Изменить настройки платежей"}),f==="yookassa"&&a.jsx(le,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Если возвраты не работают, создайте новый OAuth токен с правами на возвраты в личном кабинете YooKassa"})]}),f==="yookassa"&&a.jsxs(Yt,{severity:"warning",icon:a.jsx(gE,{}),sx:{mt:2},children:[a.jsx(le,{variant:"subtitle2",gutterBottom:!0,children:"Важно! Для завершения настройки YooKassa:"}),a.jsxs(Ue,{component:"ol",sx:{pl:2,mb:0},children:[a.jsx("li",{children:"Войдите в личный кабинет YooKassa"}),a.jsx("li",{children:'Перейдите в раздел "Настройки" → "Уведомления" → "HTTP-уведомления"'}),a.jsxs("li",{children:["Укажите URL для уведомлений: ",a.jsx("strong",{children:"https://allcourt.ru/api/webhooks/yookassa"})]}),a.jsx("li",{children:'Выберите события: "Успешная оплата", "Отмена платежа", "Возврат платежа"'}),a.jsx("li",{children:"Сохраните настройки"})]}),a.jsxs(le,{variant:"body2",sx:{mt:1},children:[a.jsx("strong",{children:"Важно!"})," Без настройки webhook в личном кабинете YooKassa статусы платежей не будут обновляться автоматически."]})]})]})]})]})]}),a.jsx(An,{sx:{mt:4},children:a.jsxs(ln,{children:[a.jsx(le,{variant:"h6",gutterBottom:!0,children:"Доступные способы оплаты в админ-панели"}),a.jsx(le,{variant:"body2",color:"text.secondary",gutterBottom:!0,sx:{mb:2},children:"Выберите, какие способы оплаты будут доступны администраторам при создании бронирований. Онлайн оплата всегда доступна и не может быть отключена."}),a.jsxs(rE,{children:[a.jsx(Zr,{control:a.jsx(CA,{checked:D.cash,onChange:Q=>N(F=>({...F,cash:Q.target.checked}))}),label:a.jsxs(Ue,{children:[a.jsx(le,{children:"Оплата в клубе наличными"}),a.jsx(le,{variant:"caption",color:"text.secondary",children:"✓ Без ограничения по времени"})]})}),a.jsx(Zr,{control:a.jsx(CA,{checked:D.card_on_site,onChange:Q=>N(F=>({...F,card_on_site:Q.target.checked}))}),label:a.jsxs(Ue,{children:[a.jsx(le,{children:"Оплата в клубе картой"}),a.jsx(le,{variant:"caption",color:"text.secondary",children:"✓ Без ограничения по времени"})]})}),a.jsx(Zr,{control:a.jsx(CA,{checked:D.transfer,onChange:Q=>N(F=>({...F,transfer:Q.target.checked}))}),label:a.jsxs(Ue,{children:[a.jsx(le,{children:"Перевод на р.счет клуба (юр.лицо)"}),a.jsx(le,{variant:"caption",color:"text.secondary",children:"✓ Без ограничения по времени"})]})}),a.jsx(Zr,{control:a.jsx(CA,{checked:D.sberbank_card,onChange:Q=>N(F=>({...F,sberbank_card:Q.target.checked}))}),label:a.jsxs(Ue,{children:[a.jsx(le,{children:"На карту Сбербанка"}),a.jsx(le,{variant:"caption",color:"text.secondary",children:"⏱️ 30 минут на подтверждение оплаты"})]})}),a.jsx(Zr,{control:a.jsx(CA,{checked:D.tbank_card,onChange:Q=>N(F=>({...F,tbank_card:Q.target.checked}))}),label:a.jsxs(Ue,{children:[a.jsx(le,{children:"На карту Т-Банка"}),a.jsx(le,{variant:"caption",color:"text.secondary",children:"⏱️ 30 минут на подтверждение оплаты"})]})}),a.jsx(Zr,{control:a.jsx(CA,{checked:D.vtb_card,onChange:Q=>N(F=>({...F,vtb_card:Q.target.checked}))}),label:a.jsxs(Ue,{children:[a.jsx(le,{children:"На карту ВТБ"}),a.jsx(le,{variant:"caption",color:"text.secondary",children:"⏱️ 30 минут на подтверждение оплаты"})]})})]}),a.jsx(Ue,{sx:{mt:3},children:a.jsx(jt,{variant:"contained",onClick:async()=>{const Q=n?r:e==null?void 0:e.venueId;if(Q)try{l(!0),await In(yt(Oe,"venues",Q),{enabledPaymentMethods:D,paymentMethodsUpdatedAt:new Date}),alert("Настройки способов оплаты сохранены")}catch(F){console.error("Error saving payment methods:",F),alert("Ошибка при сохранении настроек")}finally{l(!1)}},disabled:A,startIcon:A?a.jsx(Dr,{size:20}):a.jsx(rg,{}),children:A?"Сохранение...":"Сохранить настройки способов оплаты"})})]})}),a.jsx(An,{sx:{mt:4},children:a.jsxs(ln,{children:[a.jsx(le,{variant:"h6",gutterBottom:!0,children:"Преимущества собственного эквайринга"}),a.jsxs(Dc,{children:[a.jsxs(ga,{children:[a.jsx(ev,{children:a.jsx(Po,{color:"success"})}),a.jsx(ma,{primary:"Прямые платежи на ваш счет",secondary:"Деньги поступают напрямую без посредников"})]}),a.jsxs(ga,{children:[a.jsx(ev,{children:a.jsx(Po,{color:"success"})}),a.jsx(ma,{primary:"Полный контроль",secondary:"Вы сами управляете возвратами и платежами"})]}),a.jsxs(ga,{children:[a.jsx(ev,{children:a.jsx(Po,{color:"success"})}),a.jsx(ma,{primary:"Низкие комиссии",secondary:"Только комиссия вашего банка, без дополнительных сборов"})]})]})]})}),a.jsxs(ba,{open:x,onClose:()=>w(!1),children:[a.jsx(to,{children:"Проверка подключения"}),a.jsx(wa,{children:b?a.jsx(Yt,{severity:b.success?"success":"error",sx:{mt:1},children:b.message}):a.jsxs(Ue,{display:"flex",alignItems:"center",gap:2,py:2,children:[a.jsx(Dr,{size:24}),a.jsx(le,{children:"Проверяем подключение..."})]})}),a.jsxs(eo,{children:[a.jsx(jt,{onClick:()=>w(!1),children:"Закрыть"}),(b==null?void 0:b.success)&&a.jsx(jt,{variant:"contained",onClick:async()=>{p(!0),w(!1);const Q=n?r:e==null?void 0:e.venueId;if(!(!Q||!f)){l(!0);try{const $={paymentEnabled:!0,paymentTestMode:f==="yookassa"?!1:c,paymentProvider:f,paymentCredentials:g,paymentUpdatedAt:new Date};console.log("Activating payments:",{venueId:Q,...$}),await In(yt(Oe,"venues",Q),$),k(2),alert("Платежи успешно активированы!")}catch(F){console.error("Error activating payments:",F),alert("Ошибка при активации платежей")}finally{l(!1)}}},children:"Активировать платежи"})]})]})]})}function xY(){const{isSuperAdmin:e}=ns(),[t,n]=B.useState(!0),[r,s]=B.useState(!1),[i,o]=B.useState({tbank:{terminalKey:"",password:"",notificationUrl:"https://europe-west1-sports-booking-app-1d7e5.cloudfunctions.net/tbankWebhook",testMode:!0},autoRenewal:!0,gracePeriodDays:3}),[A,l]=B.useState(!1),[c,u]=B.useState(!1),[d,p]=B.useState({totalRevenue:0,activeSubscriptions:0,pendingPayments:0,failedPayments:0}),[f,v]=B.useState(null),[g,y]=B.useState({});B.useEffect(()=>{x(),w(),b()},[]);const x=async()=>{try{const k=yt(Oe,"settings","billing"),D=await dn(k);if(D.exists()){const N=D.data();o(N)}}catch(k){console.error("Error loading billing config:",k)}finally{n(!1)}},w=async()=>{try{const k=qt(Ft(Oe,"subscriptions"),It("status","==","active")),D=await Gt(k);p({totalRevenue:0,activeSubscriptions:D.size,pendingPayments:0,failedPayments:0})}catch(k){console.error("Error loading billing stats:",k)}},b=()=>{const k={};Object.entries(Ga).forEach(([D,N])=>{k[D]=N.price}),y(k)},j=async()=>{try{s(!0);const k=yt(Oe,"settings","billing");await d5(k,{...i,updatedAt:new Date},{merge:!0}),l(!1),alert("Настройки биллинга сохранены")}catch(k){console.error("Error saving billing config:",k),alert("Ошибка при сохранении настроек")}finally{s(!1)}},_=async k=>{try{alert(`Цена тарифа ${Ga[k].name} обновлена`),v(null)}catch(D){console.error("Error updating plan price:",D),alert("Ошибка при обновлении цены")}};return e?t?a.jsx(Ue,{sx:{display:"flex",justifyContent:"center",p:3},children:a.jsx(Dr,{})}):a.jsx(su,{requiredPermission:"superadmin",children:a.jsxs(Ue,{sx:{p:3},children:[a.jsx(Yt,{severity:"info",sx:{mb:3},children:"Данный раздел доступен только суперадминистраторам системы"}),a.jsx(le,{variant:"h4",gutterBottom:!0,children:"Настройки биллинга"}),a.jsxs(Ut,{container:!0,spacing:3,sx:{mb:3},children:[a.jsx(Ut,{item:!0,xs:12,sm:6,md:3,children:a.jsx(An,{children:a.jsxs(ln,{children:[a.jsxs(Ue,{display:"flex",alignItems:"center",gap:1,children:[a.jsx(Sm,{color:"primary"}),a.jsx(le,{color:"textSecondary",gutterBottom:!0,children:"Общий доход"})]}),a.jsxs(le,{variant:"h5",children:[d.totalRevenue.toLocaleString("ru-RU")," ₽"]})]})})}),a.jsx(Ut,{item:!0,xs:12,sm:6,md:3,children:a.jsx(An,{children:a.jsxs(ln,{children:[a.jsxs(Ue,{display:"flex",alignItems:"center",gap:1,children:[a.jsx(fc,{color:"success"}),a.jsx(le,{color:"textSecondary",gutterBottom:!0,children:"Активные подписки"})]}),a.jsx(le,{variant:"h5",children:d.activeSubscriptions})]})})}),a.jsx(Ut,{item:!0,xs:12,sm:6,md:3,children:a.jsx(An,{children:a.jsxs(ln,{children:[a.jsxs(Ue,{display:"flex",alignItems:"center",gap:1,children:[a.jsx(fc,{color:"warning"}),a.jsx(le,{color:"textSecondary",gutterBottom:!0,children:"Ожидают оплаты"})]}),a.jsx(le,{variant:"h5",children:d.pendingPayments})]})})}),a.jsx(Ut,{item:!0,xs:12,sm:6,md:3,children:a.jsx(An,{children:a.jsxs(ln,{children:[a.jsxs(Ue,{display:"flex",alignItems:"center",gap:1,children:[a.jsx(fc,{color:"error"}),a.jsx(le,{color:"textSecondary",gutterBottom:!0,children:"Неудачные платежи"})]}),a.jsx(le,{variant:"h5",children:d.failedPayments})]})})})]}),a.jsx(An,{sx:{mb:3},children:a.jsxs(ln,{children:[a.jsxs(Ue,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[a.jsx(le,{variant:"h6",children:"Настройки Т-Банк"}),A?a.jsxs(Ue,{children:[a.jsx(jt,{startIcon:a.jsx(Ja,{}),onClick:()=>{l(!1),x()},sx:{mr:1},children:"Отмена"}),a.jsx(jt,{startIcon:a.jsx(rg,{}),onClick:j,variant:"contained",disabled:r,children:"Сохранить"})]}):a.jsx(jt,{startIcon:a.jsx(Mc,{}),onClick:()=>l(!0),variant:"outlined",children:"Редактировать"})]}),a.jsxs(Ut,{container:!0,spacing:2,children:[a.jsx(Ut,{item:!0,xs:12,md:6,children:a.jsx(Kt,{label:"Terminal Key",value:i.tbank.terminalKey,onChange:k=>o({...i,tbank:{...i.tbank,terminalKey:k.target.value}}),fullWidth:!0,disabled:!A,helperText:"Ключ терминала для рекуррентных платежей"})}),a.jsx(Ut,{item:!0,xs:12,md:6,children:a.jsx(Kt,{label:"Password",type:c?"text":"password",value:i.tbank.password,onChange:k=>o({...i,tbank:{...i.tbank,password:k.target.value}}),fullWidth:!0,disabled:!A,helperText:"Пароль для API Т-Банк",InputProps:{endAdornment:A&&a.jsx(jt,{size:"small",onClick:()=>u(!c),children:c?"Скрыть":"Показать"})}})}),a.jsx(Ut,{item:!0,xs:12,children:a.jsx(Kt,{label:"Notification URL",value:i.tbank.notificationUrl,onChange:k=>o({...i,tbank:{...i.tbank,notificationUrl:k.target.value}}),fullWidth:!0,disabled:!A,helperText:"URL для получения уведомлений от Т-Банк"})}),a.jsxs(Ut,{item:!0,xs:12,children:[a.jsx(Zr,{control:a.jsx(Zs,{checked:i.tbank.testMode,onChange:k=>o({...i,tbank:{...i.tbank,testMode:k.target.checked}}),disabled:!A}),label:"Тестовый режим"}),i.tbank.testMode&&a.jsx(Yt,{severity:"warning",sx:{mt:1},children:"Включен тестовый режим. Реальные платежи не будут проводиться."})]})]})]})}),a.jsx(An,{sx:{mb:3},children:a.jsxs(ln,{children:[a.jsx(le,{variant:"h6",gutterBottom:!0,children:"Общие настройки"}),a.jsxs(Ut,{container:!0,spacing:2,children:[a.jsx(Ut,{item:!0,xs:12,children:a.jsx(Zr,{control:a.jsx(Zs,{checked:i.autoRenewal,onChange:k=>o({...i,autoRenewal:k.target.checked}),disabled:!A}),label:"Автоматическое продление подписок"})}),a.jsx(Ut,{item:!0,xs:12,md:6,children:a.jsx(Kt,{label:"Льготный период (дней)",type:"number",value:i.gracePeriodDays,onChange:k=>o({...i,gracePeriodDays:parseInt(k.target.value)||0}),fullWidth:!0,disabled:!A,helperText:"Количество дней после неудачного платежа до блокировки"})})]})]})}),a.jsx(An,{children:a.jsxs(ln,{children:[a.jsx(le,{variant:"h6",gutterBottom:!0,children:"Тарифные планы"}),a.jsx(Sh,{component:Wn,variant:"outlined",children:a.jsxs(Bh,{children:[a.jsx(Eh,{children:a.jsxs(Fa,{children:[a.jsx(Wt,{children:"Тариф"}),a.jsx(Wt,{children:"Описание"}),a.jsx(Wt,{align:"right",children:"Цена за корт/мес"}),a.jsx(Wt,{align:"center",children:"Статус"}),a.jsx(Wt,{align:"center",children:"Действия"})]})}),a.jsx(Ch,{children:Object.entries(Ga).map(([k,D])=>a.jsxs(Fa,{children:[a.jsx(Wt,{children:a.jsx(le,{variant:"subtitle2",children:D.name})}),a.jsx(Wt,{children:a.jsx(le,{variant:"body2",color:"textSecondary",children:D.features[0]})}),a.jsx(Wt,{align:"right",children:f===k?a.jsx(Kt,{type:"number",value:g[k],onChange:N=>y({...g,[k]:parseInt(N.target.value)||0}),size:"small",sx:{width:120}}):a.jsx(le,{children:D.price===0?"Бесплатно":`${D.price.toLocaleString("ru-RU")} ₽`})}),a.jsx(Wt,{align:"center",children:a.jsx(Zi,{label:"Активен",color:"success",size:"small"})}),a.jsx(Wt,{align:"center",children:f===k?a.jsxs(a.Fragment,{children:[a.jsx(js,{size:"small",onClick:()=>_(k),color:"primary",children:a.jsx(rg,{})}),a.jsx(js,{size:"small",onClick:()=>{v(null),b()},children:a.jsx(Ja,{})})]}):a.jsx(js,{size:"small",onClick:()=>v(k),disabled:k==="start",children:a.jsx(Mc,{})})})]},k))})]})})]})})]})}):a.jsx(Ue,{sx:{p:3},children:a.jsx(Yt,{severity:"error",children:"У вас нет доступа к настройкам биллинга"})})}function bY(){const{admin:e}=Er(),{isSuperAdmin:t}=ns(),[n,r]=B.useState(null),[s,i]=B.useState(!0),[o,A]=B.useState("month"),[l,c]=B.useState("all"),[u,d]=B.useState({totalRevenue:0,bookingsCount:0,averageCheck:0,revenueChange:0}),[p,f]=B.useState([]);B.useEffect(()=>{if(t){const y=localStorage.getItem("selectedVenueId");y?(r(y),g(y)):i(!1)}else e!=null&&e.venueId&&g(e.venueId)},[e,t,o,l]);const v=y=>{r(y),localStorage.setItem("selectedVenueId",y),y&&g(y)},g=async y=>{const x=y||(e==null?void 0:e.venueId);if(x)try{i(!0);const w=new Date;let b=new Date;switch(o){case"week":b.setDate(w.getDate()-7);break;case"month":b.setMonth(w.getMonth()-1);break;case"year":b.setFullYear(w.getFullYear()-1);break}console.log("Loading finance data for venue:",x),console.log("Period:",o,"Start date:",b);const j=qt(Ft(Oe,"bookings"),It("venueId","==",x)),_=await Gt(j);console.log("Total bookings found:",_.size);let k=_.docs.map(E=>{var I;return{id:E.id,...E.data(),date:(I=E.data().date)==null?void 0:I.toDate(),paymentStatus:E.data().paymentStatus||"awaiting_payment",paymentMethod:E.data().paymentMethod||"cash"}});k=k.filter(E=>E.date?E.date>=b&&E.status==="confirmed":!1),console.log("Bookings after date filter:",k.length),k=k.filter(E=>E.paymentStatus==="paid"||E.paymentStatus==="online_payment"),console.log("Paid bookings:",k.length),l!=="all"&&(k=k.filter(E=>E.paymentMethod===l));const D=k.reduce((E,I)=>E+(I.amount||0),0),N=k.length,U=N>0?D/N:0;d({totalRevenue:D,bookingsCount:N,averageCheck:U,revenueChange:15.5});const L=k.reduce((E,I)=>{var P;const T=(P=I.date)==null?void 0:P.toLocaleDateString("ru-RU");return E[T]||(E[T]={date:I.date,bookings:0,revenue:0}),E[T].bookings++,E[T].revenue+=I.amount||0,E},{});f(Object.values(L).slice(0,10))}catch(w){console.error("Error loading finance data:",w)}finally{i(!1)}};return s?a.jsx(Ue,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:a.jsx(Dr,{})}):t&&!n?a.jsx(au,{title:"Выберите клуб для просмотра финансов"}):a.jsxs(Ue,{children:[t&&a.jsx(iu,{selectedVenueId:n,onVenueChange:v}),a.jsxs(Ue,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[a.jsx(le,{variant:"h5",component:"h2",children:"Финансовая аналитика"}),a.jsxs(Ue,{display:"flex",gap:2,children:[a.jsxs(Ba,{size:"small",sx:{minWidth:150},children:[a.jsx(lo,{children:"Способ оплаты"}),a.jsxs(Ia,{value:l,label:"Способ оплаты",onChange:y=>c(y.target.value),children:[a.jsx(vr,{value:"all",children:"Все"}),a.jsx(vr,{value:"cash",children:"Наличные"}),a.jsx(vr,{value:"card_on_site",children:"Карта на месте"}),a.jsx(vr,{value:"transfer",children:"Перевод"}),a.jsx(vr,{value:"online",children:"Онлайн оплата"})]})]}),a.jsxs(Ba,{size:"small",sx:{minWidth:120},children:[a.jsx(lo,{children:"Период"}),a.jsxs(Ia,{value:o,label:"Период",onChange:y=>A(y.target.value),children:[a.jsx(vr,{value:"week",children:"Неделя"}),a.jsx(vr,{value:"month",children:"Месяц"}),a.jsx(vr,{value:"year",children:"Год"})]})]})]})]}),a.jsxs(Ut,{container:!0,spacing:3,mb:4,children:[a.jsx(Ut,{item:!0,xs:12,sm:6,md:3,children:a.jsx(An,{children:a.jsxs(ln,{children:[a.jsxs(Ue,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[a.jsx(eA,{color:"primary"}),a.jsx(Zi,{size:"small",label:`+${u.revenueChange}%`,color:"success",icon:a.jsx(Sm,{})})]}),a.jsx(le,{color:"text.secondary",variant:"body2",children:"Общий доход"}),a.jsxs(le,{variant:"h5",component:"div",children:[u.totalRevenue.toLocaleString("ru-RU")," ₽"]})]})})}),a.jsx(Ut,{item:!0,xs:12,sm:6,md:3,children:a.jsx(An,{children:a.jsxs(ln,{children:[a.jsx(Ue,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:a.jsx(vE,{color:"primary"})}),a.jsx(le,{color:"text.secondary",variant:"body2",children:"Количество бронирований"}),a.jsx(le,{variant:"h5",component:"div",children:u.bookingsCount})]})})}),a.jsx(Ut,{item:!0,xs:12,sm:6,md:3,children:a.jsx(An,{children:a.jsxs(ln,{children:[a.jsx(Ue,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:a.jsx(eA,{color:"primary"})}),a.jsx(le,{color:"text.secondary",variant:"body2",children:"Средний чек"}),a.jsxs(le,{variant:"h5",component:"div",children:[Math.round(u.averageCheck).toLocaleString("ru-RU")," ₽"]})]})})})]}),a.jsx(An,{children:a.jsxs(ln,{children:[a.jsx(le,{variant:"h6",component:"h3",gutterBottom:!0,children:"Последние транзакции"}),a.jsx(Sh,{component:Wn,variant:"outlined",children:a.jsxs(Bh,{children:[a.jsx(Eh,{children:a.jsxs(Fa,{children:[a.jsx(Wt,{children:"Дата"}),a.jsx(Wt,{align:"center",children:"Бронирований"}),a.jsx(Wt,{align:"right",children:"Сумма"})]})}),a.jsx(Ch,{children:p.map((y,x)=>{var w;return a.jsxs(Fa,{children:[a.jsx(Wt,{children:(w=y.date)==null?void 0:w.toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"})}),a.jsx(Wt,{align:"center",children:y.bookings}),a.jsxs(Wt,{align:"right",children:[y.revenue.toLocaleString("ru-RU")," ₽"]})]},x)})})]})})]})})]})}function wY(){const{admin:e}=Er(),{isSuperAdmin:t}=ns(),[n,r]=B.useState(null),[s,i]=B.useState(!0),[o,A]=B.useState({smsEnabled:!1,emailEnabled:!1,pushEnabled:!1,promotions:[]}),[l,c]=B.useState(!1),[u,d]=B.useState({name:"",description:"",discount:10,validUntil:"",active:!0});B.useEffect(()=>{if(t){const x=localStorage.getItem("selectedVenueId");x?(r(x),f(x)):i(!1)}else e!=null&&e.venueId&&f(e.venueId)},[e,t]);const p=x=>{r(x),localStorage.setItem("selectedVenueId",x),x&&f(x)},f=async x=>{const w=x||(e==null?void 0:e.venueId);if(w)try{i(!0);const b=await dn(yt(Oe,"venues",w));if(b.exists()){const j=b.data();A({smsEnabled:j.marketingSms||!1,emailEnabled:j.marketingEmail||!1,pushEnabled:j.marketingPush||!1,promotions:j.promotions||[]})}}catch(b){console.error("Error loading marketing data:",b)}finally{i(!1)}},v=async x=>{const w=t?n:e==null?void 0:e.venueId;if(!w)return;const b=!o[x];try{await In(yt(Oe,"venues",w),{[`marketing${x.charAt(0).toUpperCase()+x.slice(1).replace("Enabled","")}`]:b}),A(j=>({...j,[x]:b}))}catch(j){console.error("Error updating notification settings:",j)}},g=async()=>{const x=t?n:e==null?void 0:e.venueId;if(!x)return;const w={...u,id:Date.now().toString(),createdAt:new Date};try{const b=[...o.promotions,w];await In(yt(Oe,"venues",x),{promotions:b}),A(j=>({...j,promotions:b})),c(!1),d({name:"",description:"",discount:10,validUntil:"",active:!0})}catch(b){console.error("Error creating promotion:",b)}},y=async x=>{const w=t?n:e==null?void 0:e.venueId;if(w)try{const b=o.promotions.filter(j=>j.id!==x);await In(yt(Oe,"venues",w),{promotions:b}),A(j=>({...j,promotions:b}))}catch(b){console.error("Error deleting promotion:",b)}};return s?a.jsx(Ue,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:a.jsx(Dr,{})}):t&&!n?a.jsx(au,{title:"Выберите клуб для управления маркетингом"}):a.jsxs(Ue,{children:[t&&a.jsx(iu,{selectedVenueId:n,onVenueChange:p}),a.jsx(le,{variant:"h5",component:"h2",gutterBottom:!0,children:"Маркетинг и продвижение"}),a.jsxs(Ut,{container:!0,spacing:3,children:[a.jsx(Ut,{item:!0,xs:12,md:6,children:a.jsx(An,{children:a.jsxs(ln,{children:[a.jsx(le,{variant:"h6",component:"h3",gutterBottom:!0,children:"Каналы коммуникации"}),a.jsxs(Dc,{children:[a.jsxs(ga,{children:[a.jsx(ma,{primary:"SMS-рассылки",secondary:"Отправка СМС клиентам о акциях и напоминаниях"}),a.jsx(NA,{children:a.jsx(Zs,{checked:o.smsEnabled,onChange:()=>v("smsEnabled")})})]}),a.jsxs(ga,{children:[a.jsx(ma,{primary:"Email-рассылки",secondary:"Отправка писем с новостями и предложениями"}),a.jsx(NA,{children:a.jsx(Zs,{checked:o.emailEnabled,onChange:()=>v("emailEnabled")})})]}),a.jsxs(ga,{children:[a.jsx(ma,{primary:"Push-уведомления",secondary:"Мгновенные уведомления в мобильном приложении"}),a.jsx(NA,{children:a.jsx(Zs,{checked:o.pushEnabled,onChange:()=>v("pushEnabled")})})]})]})]})})}),a.jsx(Ut,{item:!0,xs:12,md:6,children:a.jsx(An,{children:a.jsxs(ln,{children:[a.jsx(le,{variant:"h6",component:"h3",gutterBottom:!0,children:"Быстрые действия"}),a.jsxs(Ut,{container:!0,spacing:2,children:[a.jsx(Ut,{item:!0,xs:12,children:a.jsx(jt,{variant:"outlined",fullWidth:!0,startIcon:a.jsx(e$,{}),sx:{justifyContent:"flex-start",textAlign:"left"},children:"Генерировать QR-код клуба"})}),a.jsx(Ut,{item:!0,xs:12,children:a.jsx(jt,{variant:"outlined",fullWidth:!0,startIcon:a.jsx(bE,{}),sx:{justifyContent:"flex-start",textAlign:"left"},children:"Поделиться ссылкой на клуб"})}),a.jsx(Ut,{item:!0,xs:12,children:a.jsx(jt,{variant:"outlined",fullWidth:!0,startIcon:a.jsx(L9,{}),sx:{justifyContent:"flex-start",textAlign:"left"},children:"Создать рассылку"})})]})]})})}),a.jsx(Ut,{item:!0,xs:12,children:a.jsx(An,{children:a.jsxs(ln,{children:[a.jsxs(Ue,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[a.jsx(le,{variant:"h6",component:"h3",children:"Активные акции"}),a.jsx(jt,{variant:"contained",startIcon:a.jsx(nu,{}),onClick:()=>c(!0),children:"Создать акцию"})]}),o.promotions.length===0?a.jsx(Yt,{severity:"info",children:"У вас пока нет активных акций. Создайте первую акцию для привлечения клиентов."}):a.jsx(Dc,{children:o.promotions.map(x=>a.jsxs(ga,{children:[a.jsx(ma,{primary:x.name,secondary:a.jsxs(Ue,{children:[a.jsx(le,{variant:"body2",children:x.description}),a.jsxs(Ue,{mt:1,children:[a.jsx(Zi,{size:"small",label:`-${x.discount}%`,color:"primary",sx:{mr:1}}),x.validUntil&&a.jsx(Zi,{size:"small",label:`До ${new Date(x.validUntil).toLocaleDateString("ru-RU")}`,variant:"outlined"})]})]})}),a.jsx(NA,{children:a.jsx(js,{onClick:()=>y(x.id),children:a.jsx(ZA,{})})})]},x.id))})]})})})]}),a.jsxs(ba,{open:l,onClose:()=>c(!1),maxWidth:"sm",fullWidth:!0,children:[a.jsx(to,{children:"Создать акцию"}),a.jsxs(wa,{children:[a.jsx(Kt,{autoFocus:!0,margin:"dense",label:"Название акции",fullWidth:!0,variant:"outlined",value:u.name,onChange:x=>d(w=>({...w,name:x.target.value})),sx:{mb:2}}),a.jsx(Kt,{margin:"dense",label:"Описание",fullWidth:!0,multiline:!0,rows:3,variant:"outlined",value:u.description,onChange:x=>d(w=>({...w,description:x.target.value})),sx:{mb:2}}),a.jsx(Kt,{margin:"dense",label:"Размер скидки (%)",type:"number",fullWidth:!0,variant:"outlined",value:u.discount,onChange:x=>d(w=>({...w,discount:parseInt(x.target.value)||0})),sx:{mb:2}}),a.jsx(Kt,{margin:"dense",label:"Действует до",type:"date",fullWidth:!0,variant:"outlined",InputLabelProps:{shrink:!0},value:u.validUntil,onChange:x=>d(w=>({...w,validUntil:x.target.value}))})]}),a.jsxs(eo,{children:[a.jsx(jt,{onClick:()=>c(!1),children:"Отмена"}),a.jsx(jt,{onClick:g,variant:"contained",children:"Создать"})]})]})]})}async function fj(e){try{console.log("Тестирование через Cloud Function...");const t=um(void 0,"europe-west1"),r=await Ss(t,"testEmailSending")({testEmail:e});return console.log("✅ Результат отправки через функцию:",r.data),r.data}catch(t){console.error("❌ Ошибка при отправке через функцию:",t),console.log("Попытка отправки напрямую в коллекцию mail...");try{const n=await qi(Ft(Oe,"mail"),{to:e,message:{subject:"Тест Email Extension - Все Корты",text:"Если вы видите это письмо, значит Firebase Extension работает корректно!",html:`
            <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
              <h2 style="color: #00A86B;">✅ Тест Email Extension</h2>
              <p>Если вы видите это письмо, значит Firebase Extension для отправки email работает корректно!</p>
              <hr style="border: 1px solid #eee; margin: 20px 0;">
              <p style="color: #666; font-size: 14px;">
                Отправлено через Firebase Extension (firestore-send-email)<br>
                Время: ${new Date().toLocaleString("ru-RU")}
              </p>
            </div>
          `}});return console.log("✅ Email добавлен в очередь отправки:",n.id),{success:!0,message:"Email добавлен в очередь",mailId:n.id}}catch(n){throw console.error("❌ Ошибка при добавлении в коллекцию mail:",n),n}}}typeof window<"u"&&(window.testEmailExtension=fj);const BY=({defaultEmail:e=""})=>{const[t,n]=B.useState(!1),[r,s]=B.useState(e),[i,o]=B.useState(!1),[A,l]=B.useState(null),c=async()=>{if(!r||!r.includes("@")){l({success:!1,message:"Введите корректный email"});return}o(!0),l(null);try{const u=await fj(r);l({success:!0,message:`Тестовое письмо отправлено на ${r}`})}catch(u){l({success:!1,message:u.message||"Ошибка при отправке"})}finally{o(!1)}};return a.jsxs(a.Fragment,{children:[a.jsx(jt,{variant:"contained",startIcon:a.jsx(F1,{}),onClick:()=>n(!0),color:"primary",children:"Отправить тестовое письмо"}),a.jsxs(ba,{open:t,onClose:()=>n(!1),maxWidth:"sm",fullWidth:!0,children:[a.jsx(to,{children:"Тестирование отправки Email"}),a.jsx(wa,{children:a.jsxs(Ue,{sx:{mt:2},children:[a.jsx(Kt,{fullWidth:!0,label:"Email для теста",type:"email",value:r,onChange:u=>s(u.target.value),disabled:i,helperText:"Введите email, на который будет отправлено тестовое письмо"}),A&&a.jsx(Yt,{severity:A.success?"success":"error",sx:{mt:2},children:A.message})]})}),a.jsxs(eo,{children:[a.jsx(jt,{onClick:()=>n(!1),disabled:i,children:"Отмена"}),a.jsx(jt,{onClick:c,variant:"contained",disabled:i||!r,startIcon:i?a.jsx(Dr,{size:20}):a.jsx(F1,{}),children:i?"Отправка...":"Отправить"})]})]})]})};function bn(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function At(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function ut(e){At(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||cn(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function so(e,t){At(2,arguments);var n=ut(e),r=bn(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function Tp(e,t){At(2,arguments);var n=ut(e),r=bn(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var s=n.getDate(),i=new Date(n.getTime());i.setMonth(n.getMonth()+r+1,0);var o=i.getDate();return s>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),s),n)}function Pm(e,t){At(2,arguments);var n=ut(e).getTime(),r=bn(t);return new Date(n+r)}var CY=36e5;function SY(e,t){At(2,arguments);var n=bn(t);return Pm(e,n*CY)}var EY={};function Ua(){return EY}function QA(e,t){var n,r,s,i,o,A,l,c;At(1,arguments);var u=Ua(),d=bn((n=(r=(s=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(A=o.options)===null||A===void 0?void 0:A.weekStartsOn)!==null&&s!==void 0?s:u.weekStartsOn)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=ut(e),f=p.getDay(),v=(f<d?7:0)+f-d;return p.setDate(p.getDate()-v),p.setHours(0,0,0,0),p}function xg(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function GA(e){At(1,arguments);var t=ut(e);return t.setHours(0,0,0,0),t}var jY=864e5;function IY(e,t){At(2,arguments);var n=GA(e),r=GA(t),s=n.getTime()-xg(n),i=r.getTime()-xg(r);return Math.round((s-i)/jY)}var FY=6e4;function Gi(e,t){At(2,arguments);var n=bn(t);return Pm(e,n*FY)}function kY(e,t){At(2,arguments);var n=bn(t);return Pm(e,n*1e3)}function NY(e,t){At(2,arguments);var n=bn(t),r=n*7;return so(e,r)}function DC(e,t){At(2,arguments);var n=bn(t);return Tp(e,n*12)}function Md(e,t){At(2,arguments);var n=ut(e),r=ut(t),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}var Rm=6e4,Hm=36e5,_Y=1e3;function pj(e,t){At(2,arguments);var n=GA(e),r=GA(t);return n.getTime()===r.getTime()}function TY(e){return At(1,arguments),e instanceof Date||cn(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function gj(e){if(At(1,arguments),!TY(e)&&typeof e!="number")return!1;var t=ut(e);return!isNaN(Number(t))}function UY(e,t){At(2,arguments);var n=ut(e),r=ut(t),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function LY(e,t){At(2,arguments);var n=ut(e),r=ut(t);return n.getFullYear()-r.getFullYear()}function MC(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function mj(e,t){At(2,arguments);var n=ut(e),r=ut(t),s=MC(n,r),i=Math.abs(IY(n,r));n.setDate(n.getDate()-s*i);var o=+(MC(n,r)===-s),A=s*(i-o);return A===0?0:A}function Om(e,t){return At(2,arguments),ut(e).getTime()-ut(t).getTime()}var QC={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},DY="trunc";function Fh(e){return e?QC[e]:QC[DY]}function MY(e,t,n){At(2,arguments);var r=Om(e,t)/Hm;return Fh(void 0)(r)}function QY(e,t,n){At(2,arguments);var r=Om(e,t)/Rm;return Fh(void 0)(r)}function gy(e){At(1,arguments);var t=ut(e);return t.setHours(23,59,59,999),t}function my(e){At(1,arguments);var t=ut(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function PY(e){At(1,arguments);var t=ut(e);return gy(t).getTime()===my(t).getTime()}function vj(e,t){At(2,arguments);var n=ut(e),r=ut(t),s=Md(n,r),i=Math.abs(UY(n,r)),o;if(i<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);var A=Md(n,r)===-s;PY(ut(e))&&i===1&&Md(e,r)===1&&(A=!1),o=s*(i-Number(A))}return o===0?0:o}function RY(e,t,n){At(2,arguments);var r=vj(e,t)/3;return Fh(void 0)(r)}function HY(e,t,n){At(2,arguments);var r=Om(e,t)/1e3;return Fh(void 0)(r)}function OY(e,t,n){At(2,arguments);var r=mj(e,t)/7;return Fh(void 0)(r)}function $Y(e,t){At(2,arguments);var n=ut(e),r=ut(t),s=Md(n,r),i=Math.abs(LY(n,r));n.setFullYear(1584),r.setFullYear(1584);var o=Md(n,r)===-s,A=s*(i-Number(o));return A===0?0:A}function zY(e,t){var n;At(1,arguments);var r=e||{},s=ut(r.start),i=ut(r.end),o=i.getTime();if(!(s.getTime()<=o))throw new RangeError("Invalid interval");var A=[],l=s;l.setHours(0,0,0,0);var c=Number((n=void 0)!==null&&n!==void 0?n:1);if(c<1||isNaN(c))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=o;)A.push(ut(l)),l.setDate(l.getDate()+c),l.setHours(0,0,0,0);return A}function PC(e){At(1,arguments);var t=ut(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Pv(e){At(1,arguments);var t=ut(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function cp(e){At(1,arguments);var t=ut(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Rv(e,t){var n,r,s,i,o,A,l,c;At(1,arguments);var u=Ua(),d=bn((n=(r=(s=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(A=o.options)===null||A===void 0?void 0:A.weekStartsOn)!==null&&s!==void 0?s:u.weekStartsOn)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=ut(e),f=p.getDay(),v=(f<d?-7:0)+6-(f-d);return p.setDate(p.getDate()+v),p.setHours(23,59,59,999),p}function yj(e,t){At(2,arguments);var n=bn(t);return Pm(e,-n)}var WY=864e5;function KY(e){At(1,arguments);var t=ut(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),s=n-r;return Math.floor(s/WY)+1}function Rc(e){At(1,arguments);var t=1,n=ut(e),r=n.getUTCDay(),s=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function xj(e){At(1,arguments);var t=ut(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=Rc(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var o=Rc(i);return t.getTime()>=s.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function VY(e){At(1,arguments);var t=xj(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=Rc(n);return r}var GY=6048e5;function bj(e){At(1,arguments);var t=ut(e),n=Rc(t).getTime()-VY(t).getTime();return Math.round(n/GY)+1}function uo(e,t){var n,r,s,i,o,A,l,c;At(1,arguments);var u=Ua(),d=bn((n=(r=(s=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(A=o.options)===null||A===void 0?void 0:A.weekStartsOn)!==null&&s!==void 0?s:u.weekStartsOn)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=ut(e),f=p.getUTCDay(),v=(f<d?7:0)+f-d;return p.setUTCDate(p.getUTCDate()-v),p.setUTCHours(0,0,0,0),p}function Vx(e,t){var n,r,s,i,o,A,l,c;At(1,arguments);var u=ut(e),d=u.getUTCFullYear(),p=Ua(),f=bn((n=(r=(s=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(A=o.options)===null||A===void 0?void 0:A.firstWeekContainsDate)!==null&&s!==void 0?s:p.firstWeekContainsDate)!==null&&r!==void 0?r:(l=p.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setUTCFullYear(d+1,0,f),v.setUTCHours(0,0,0,0);var g=uo(v,t),y=new Date(0);y.setUTCFullYear(d,0,f),y.setUTCHours(0,0,0,0);var x=uo(y,t);return u.getTime()>=g.getTime()?d+1:u.getTime()>=x.getTime()?d:d-1}function qY(e,t){var n,r,s,i,o,A,l,c;At(1,arguments);var u=Ua(),d=bn((n=(r=(s=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(A=o.options)===null||A===void 0?void 0:A.firstWeekContainsDate)!==null&&s!==void 0?s:u.firstWeekContainsDate)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=Vx(e,t),f=new Date(0);f.setUTCFullYear(p,0,d),f.setUTCHours(0,0,0,0);var v=uo(f,t);return v}var YY=6048e5;function wj(e,t){At(1,arguments);var n=ut(e),r=uo(n,t).getTime()-qY(n,t).getTime();return Math.round(r/YY)+1}function nn(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var Lo={y:function(t,n){var r=t.getUTCFullYear(),s=r>0?r:1-r;return nn(n==="yy"?s%100:s,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):nn(r+1,2)},d:function(t,n){return nn(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return nn(t.getUTCHours()%12||12,n.length)},H:function(t,n){return nn(t.getUTCHours(),n.length)},m:function(t,n){return nn(t.getUTCMinutes(),n.length)},s:function(t,n){return nn(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,s=t.getUTCMilliseconds(),i=Math.floor(s*Math.pow(10,r-3));return nn(i,n.length)}},$l={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},XY={G:function(t,n,r){var s=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var s=t.getUTCFullYear(),i=s>0?s:1-s;return r.ordinalNumber(i,{unit:"year"})}return Lo.y(t,n)},Y:function(t,n,r,s){var i=Vx(t,s),o=i>0?i:1-i;if(n==="YY"){var A=o%100;return nn(A,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):nn(o,n.length)},R:function(t,n){var r=xj(t);return nn(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return nn(r,n.length)},Q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return nn(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return nn(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,n,r){var s=t.getUTCMonth();switch(n){case"M":case"MM":return Lo.M(t,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(t,n,r){var s=t.getUTCMonth();switch(n){case"L":return String(s+1);case"LL":return nn(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(t,n,r,s){var i=wj(t,s);return n==="wo"?r.ordinalNumber(i,{unit:"week"}):nn(i,n.length)},I:function(t,n,r){var s=bj(t);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):nn(s,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):Lo.d(t,n)},D:function(t,n,r){var s=KY(t);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):nn(s,n.length)},E:function(t,n,r){var s=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(t,n,r,s){var i=t.getUTCDay(),o=(i-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return nn(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,n,r,s){var i=t.getUTCDay(),o=(i-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return nn(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,n,r){var s=t.getUTCDay(),i=s===0?7:s;switch(n){case"i":return String(i);case"ii":return nn(i,n.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(t,n,r){var s=t.getUTCHours(),i=s/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,n,r){var s=t.getUTCHours(),i;switch(s===12?i=$l.noon:s===0?i=$l.midnight:i=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,n,r){var s=t.getUTCHours(),i;switch(s>=17?i=$l.evening:s>=12?i=$l.afternoon:s>=4?i=$l.morning:i=$l.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var s=t.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Lo.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Lo.H(t,n)},K:function(t,n,r){var s=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):nn(s,n.length)},k:function(t,n,r){var s=t.getUTCHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):nn(s,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Lo.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Lo.s(t,n)},S:function(t,n){return Lo.S(t,n)},X:function(t,n,r,s){var i=s._originalDate||t,o=i.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return HC(o);case"XXXX":case"XX":return EA(o);case"XXXXX":case"XXX":default:return EA(o,":")}},x:function(t,n,r,s){var i=s._originalDate||t,o=i.getTimezoneOffset();switch(n){case"x":return HC(o);case"xxxx":case"xx":return EA(o);case"xxxxx":case"xxx":default:return EA(o,":")}},O:function(t,n,r,s){var i=s._originalDate||t,o=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+RC(o,":");case"OOOO":default:return"GMT"+EA(o,":")}},z:function(t,n,r,s){var i=s._originalDate||t,o=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+RC(o,":");case"zzzz":default:return"GMT"+EA(o,":")}},t:function(t,n,r,s){var i=s._originalDate||t,o=Math.floor(i.getTime()/1e3);return nn(o,n.length)},T:function(t,n,r,s){var i=s._originalDate||t,o=i.getTime();return nn(o,n.length)}};function RC(e,t){var n=e>0?"-":"+",r=Math.abs(e),s=Math.floor(r/60),i=r%60;if(i===0)return n+String(s);var o=t;return n+String(s)+o+nn(i,2)}function HC(e,t){if(e%60===0){var n=e>0?"-":"+";return n+nn(Math.abs(e)/60,2)}return EA(e,t)}function EA(e,t){var n=t||"",r=e>0?"-":"+",s=Math.abs(e),i=nn(Math.floor(s/60),2),o=nn(s%60,2);return r+i+n+o}var OC=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},Bj=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},JY=function(t,n){var r=t.match(/(P+)(p+)?/)||[],s=r[1],i=r[2];if(!i)return OC(t,n);var o;switch(s){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",OC(s,n)).replace("{{time}}",Bj(i,n))},vy={p:Bj,P:JY},ZY=["D","DD"],eX=["YY","YYYY"];function Cj(e){return ZY.indexOf(e)!==-1}function Sj(e){return eX.indexOf(e)!==-1}function bg(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var tX={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},nX=function(t,n,r){var s,i=tX[t];return typeof i=="string"?s=i:n===1?s=i.one:s=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function xc(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var rX={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},sX={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},iX={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},aX={date:xc({formats:rX,defaultWidth:"full"}),time:xc({formats:sX,defaultWidth:"full"}),dateTime:xc({formats:iX,defaultWidth:"full"})},oX={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},AX=function(t,n,r,s){return oX[t]};function ua(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=n!=null&&n.width?String(n.width):i;s=e.formattingValues[o]||e.formattingValues[i]}else{var A=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[l]||e.values[A]}var c=e.argumentCallback?e.argumentCallback(t):t;return s[c]}}var lX={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},cX={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},uX={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dX={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},hX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},fX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},pX=function(t,n){var r=Number(t),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},gX={ordinalNumber:pX,era:ua({values:lX,defaultWidth:"wide"}),quarter:ua({values:cX,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:ua({values:uX,defaultWidth:"wide"}),day:ua({values:dX,defaultWidth:"wide"}),dayPeriod:ua({values:hX,defaultWidth:"wide",formattingValues:fX,defaultFormattingWidth:"wide"})};function da(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;var o=i[0],A=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(A)?vX(A,function(d){return d.test(o)}):mX(A,function(d){return d.test(o)}),c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;var u=t.slice(o.length);return{value:c,rest:u}}}function mX(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function vX(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function Ej(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var s=r[0],i=t.match(e.parsePattern);if(!i)return null;var o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;var A=t.slice(s.length);return{value:o,rest:A}}}var yX=/^(\d+)(th|st|nd|rd)?/i,xX=/\d+/i,bX={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},wX={any:[/^b/i,/^(a|c)/i]},BX={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},CX={any:[/1/i,/2/i,/3/i,/4/i]},SX={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},EX={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},jX={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},IX={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},FX={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},kX={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},NX={ordinalNumber:Ej({matchPattern:yX,parsePattern:xX,valueCallback:function(t){return parseInt(t,10)}}),era:da({matchPatterns:bX,defaultMatchWidth:"wide",parsePatterns:wX,defaultParseWidth:"any"}),quarter:da({matchPatterns:BX,defaultMatchWidth:"wide",parsePatterns:CX,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:da({matchPatterns:SX,defaultMatchWidth:"wide",parsePatterns:EX,defaultParseWidth:"any"}),day:da({matchPatterns:jX,defaultMatchWidth:"wide",parsePatterns:IX,defaultParseWidth:"any"}),dayPeriod:da({matchPatterns:FX,defaultMatchWidth:"any",parsePatterns:kX,defaultParseWidth:"any"})},Gx={code:"en-US",formatDistance:nX,formatLong:aX,formatRelative:AX,localize:gX,match:NX,options:{weekStartsOn:0,firstWeekContainsDate:1}},_X=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,TX=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,UX=/^'([^]*?)'?$/,LX=/''/g,DX=/[a-zA-Z]/;function rn(e,t,n){var r,s,i,o,A,l,c,u,d,p,f,v,g,y,x,w,b,j;At(2,arguments);var _=String(t),k=Ua(),D=(r=(s=n==null?void 0:n.locale)!==null&&s!==void 0?s:k.locale)!==null&&r!==void 0?r:Gx,N=bn((i=(o=(A=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(c=n.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&A!==void 0?A:k.firstWeekContainsDate)!==null&&o!==void 0?o:(d=k.locale)===null||d===void 0||(p=d.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(N>=1&&N<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var U=bn((f=(v=(g=(y=n==null?void 0:n.weekStartsOn)!==null&&y!==void 0?y:n==null||(x=n.locale)===null||x===void 0||(w=x.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&g!==void 0?g:k.weekStartsOn)!==null&&v!==void 0?v:(b=k.locale)===null||b===void 0||(j=b.options)===null||j===void 0?void 0:j.weekStartsOn)!==null&&f!==void 0?f:0);if(!(U>=0&&U<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!D.localize)throw new RangeError("locale must contain localize property");if(!D.formatLong)throw new RangeError("locale must contain formatLong property");var L=ut(e);if(!gj(L))throw new RangeError("Invalid time value");var E=xg(L),I=yj(L,E),T={firstWeekContainsDate:N,weekStartsOn:U,locale:D,_originalDate:L},P=_.match(TX).map(function(K){var Q=K[0];if(Q==="p"||Q==="P"){var F=vy[Q];return F(K,D.formatLong)}return K}).join("").match(_X).map(function(K){if(K==="''")return"'";var Q=K[0];if(Q==="'")return MX(K);var F=XY[Q];if(F)return!(n!=null&&n.useAdditionalWeekYearTokens)&&Sj(K)&&bg(K,t,String(e)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&Cj(K)&&bg(K,t,String(e)),F(I,K,D.localize,T);if(Q.match(DX))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Q+"`");return K}).join("");return P}function MX(e){var t=e.match(UX);return t?t[1].replace(LX,"'"):e}function QX(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function PX(e,t){var n,r;At(1,arguments);var s=ut(e);if(isNaN(s.getTime()))throw new RangeError("Invalid time value");var i=String((n=t==null?void 0:t.format)!==null&&n!==void 0?n:"extended"),o=String((r=t==null?void 0:t.representation)!==null&&r!==void 0?r:"complete");if(i!=="extended"&&i!=="basic")throw new RangeError("format must be 'extended' or 'basic'");if(o!=="date"&&o!=="time"&&o!=="complete")throw new RangeError("representation must be 'date', 'time', or 'complete'");var A="",l="",c=i==="extended"?"-":"",u=i==="extended"?":":"";if(o!=="time"){var d=nn(s.getDate(),2),p=nn(s.getMonth()+1,2),f=nn(s.getFullYear(),4);A="".concat(f).concat(c).concat(p).concat(c).concat(d)}if(o!=="date"){var v=s.getTimezoneOffset();if(v!==0){var g=Math.abs(v),y=nn(Math.floor(g/60),2),x=nn(g%60,2),w=v<0?"+":"-";l="".concat(w).concat(y,":").concat(x)}else l="Z";var b=nn(s.getHours(),2),j=nn(s.getMinutes(),2),_=nn(s.getSeconds(),2),k=A===""?"":"T",D=[b,j,_].join(u);A="".concat(A).concat(k).concat(D).concat(l)}return A}function RX(e){At(1,arguments);var t=ut(e),n=t.getDate();return n}function jj(e){At(1,arguments);var t=ut(e),n=t.getFullYear(),r=t.getMonth(),s=new Date(0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function HX(e){At(1,arguments);var t=ut(e),n=t.getHours();return n}function OX(e){At(1,arguments);var t=ut(e),n=t.getMilliseconds();return n}function $X(e){At(1,arguments);var t=ut(e),n=t.getMinutes();return n}function zX(e){At(1,arguments);var t=ut(e),n=t.getMonth();return n}function WX(e){At(1,arguments);var t=ut(e),n=t.getSeconds();return n}function KX(e,t){var n,r,s,i,o,A,l,c;At(1,arguments);var u=ut(e),d=u.getFullYear(),p=Ua(),f=bn((n=(r=(s=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(A=o.options)===null||A===void 0?void 0:A.firstWeekContainsDate)!==null&&s!==void 0?s:p.firstWeekContainsDate)!==null&&r!==void 0?r:(l=p.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setFullYear(d+1,0,f),v.setHours(0,0,0,0);var g=QA(v,t),y=new Date(0);y.setFullYear(d,0,f),y.setHours(0,0,0,0);var x=QA(y,t);return u.getTime()>=g.getTime()?d+1:u.getTime()>=x.getTime()?d:d-1}function VX(e,t){var n,r,s,i,o,A,l,c;At(1,arguments);var u=Ua(),d=bn((n=(r=(s=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(A=o.options)===null||A===void 0?void 0:A.firstWeekContainsDate)!==null&&s!==void 0?s:u.firstWeekContainsDate)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=KX(e,t),f=new Date(0);f.setFullYear(p,0,d),f.setHours(0,0,0,0);var v=QA(f,t);return v}var GX=6048e5;function qX(e,t){At(1,arguments);var n=ut(e),r=QA(n,t).getTime()-VX(n,t).getTime();return Math.round(r/GX)+1}function YX(e){return At(1,arguments),ut(e).getFullYear()}function Rs(e,t){At(2,arguments);var n=ut(e),r=ut(t);return n.getTime()>r.getTime()}function Lr(e,t){At(2,arguments);var n=ut(e),r=ut(t);return n.getTime()<r.getTime()}function XX(e,t){At(2,arguments);var n=ut(e),r=ut(t);return n.getTime()===r.getTime()}function $C(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function JX(e,t){if(e){if(typeof e=="string")return $C(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$C(e,t):void 0}}function zC(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=JX(e))||t){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,A=!1;return{s:function(){n=n.call(e)},n:function(){var c=n.next();return o=c.done,c},e:function(c){A=!0,i=c},f:function(){try{o||n.return==null||n.return()}finally{if(A)throw i}}}}function wn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jp(e,t)}function wg(e){return wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wg(e)}function Ij(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ij=function(){return!!e})()}function ZX(e,t){if(t&&(cn(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bt(e)}function Bn(e){var t=Ij();return function(){var n,r=wg(e);if(t){var s=wg(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return ZX(this,n)}}function hn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,A4(r.key),r)}}function fn(e,t,n){return t&&eJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mt(e,t,n){return(t=A4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tJ=10,Fj=function(){function e(){hn(this,e),mt(this,"priority",void 0),mt(this,"subPriority",0)}return fn(e,[{key:"validate",value:function(n,r){return!0}}]),e}(),nJ=function(e){wn(n,e);var t=Bn(n);function n(r,s,i,o,A){var l;return hn(this,n),l=t.call(this),l.value=r,l.validateValue=s,l.setValue=i,l.priority=o,A&&(l.subPriority=A),l}return fn(n,[{key:"validate",value:function(s,i){return this.validateValue(s,this.value,i)}},{key:"set",value:function(s,i,o){return this.setValue(s,i,this.value,o)}}]),n}(Fj),rJ=function(e){wn(n,e);var t=Bn(n);function n(){var r;hn(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),mt(Bt(r),"priority",tJ),mt(Bt(r),"subPriority",-1),r}return fn(n,[{key:"set",value:function(s,i){if(i.timestampIsSet)return s;var o=new Date(0);return o.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),o.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),o}}]),n}(Fj),Fn=function(){function e(){hn(this,e),mt(this,"incompatibleTokens",void 0),mt(this,"priority",void 0),mt(this,"subPriority",void 0)}return fn(e,[{key:"run",value:function(n,r,s,i){var o=this.parse(n,r,s,i);return o?{setter:new nJ(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(n,r,s){return!0}}]),e}(),sJ=function(e){wn(n,e);var t=Bn(n);function n(){var r;hn(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),mt(Bt(r),"priority",140),mt(Bt(r),"incompatibleTokens",["R","u","t","T"]),r}return fn(n,[{key:"parse",value:function(s,i,o){switch(i){case"G":case"GG":case"GGG":return o.era(s,{width:"abbreviated"})||o.era(s,{width:"narrow"});case"GGGGG":return o.era(s,{width:"narrow"});case"GGGG":default:return o.era(s,{width:"wide"})||o.era(s,{width:"abbreviated"})||o.era(s,{width:"narrow"})}}},{key:"set",value:function(s,i,o){return i.era=o,s.setUTCFullYear(o,0,1),s.setUTCHours(0,0,0,0),s}}]),n}(Fn),wr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ha={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Br(e,t){return e&&{value:t(e.value),rest:e.rest}}function rr(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function fa(e,t){var n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};var r=n[1]==="+"?1:-1,s=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(s*Hm+i*Rm+o*_Y),rest:t.slice(n[0].length)}}function kj(e){return rr(wr.anyDigitsSigned,e)}function ur(e,t){switch(e){case 1:return rr(wr.singleDigit,t);case 2:return rr(wr.twoDigits,t);case 3:return rr(wr.threeDigits,t);case 4:return rr(wr.fourDigits,t);default:return rr(new RegExp("^\\d{1,"+e+"}"),t)}}function Bg(e,t){switch(e){case 1:return rr(wr.singleDigitSigned,t);case 2:return rr(wr.twoDigitsSigned,t);case 3:return rr(wr.threeDigitsSigned,t);case 4:return rr(wr.fourDigitsSigned,t);default:return rr(new RegExp("^-?\\d{1,"+e+"}"),t)}}function qx(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Nj(e,t){var n=t>0,r=n?t:1-t,s;if(r<=50)s=e||100;else{var i=r+50,o=Math.floor(i/100)*100,A=e>=i%100;s=e+o-(A?100:0)}return n?s:1-s}function _j(e){return e%400===0||e%4===0&&e%100!==0}var iJ=function(e){wn(n,e);var t=Bn(n);function n(){var r;hn(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),mt(Bt(r),"priority",130),mt(Bt(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return fn(n,[{key:"parse",value:function(s,i,o){var A=function(c){return{year:c,isTwoDigitYear:i==="yy"}};switch(i){case"y":return Br(ur(4,s),A);case"yo":return Br(o.ordinalNumber(s,{unit:"year"}),A);default:return Br(ur(i.length,s),A)}}},{key:"validate",value:function(s,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(s,i,o){var A=s.getUTCFullYear();if(o.isTwoDigitYear){var l=Nj(o.year,A);return s.setUTCFullYear(l,0,1),s.setUTCHours(0,0,0,0),s}var c=!("era"in i)||i.era===1?o.year:1-o.year;return s.setUTCFullYear(c,0,1),s.setUTCHours(0,0,0,0),s}}]),n}(Fn),aJ=function(e){wn(n,e);var t=Bn(n);function n(){var r;hn(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),mt(Bt(r),"priority",130),mt(Bt(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return fn(n,[{key:"parse",value:function(s,i,o){var A=function(c){return{year:c,isTwoDigitYear:i==="YY"}};switch(i){case"Y":return Br(ur(4,s),A);case"Yo":return Br(o.ordinalNumber(s,{unit:"year"}),A);default:return Br(ur(i.length,s),A)}}},{key:"validate",value:function(s,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(s,i,o,A){var l=Vx(s,A);if(o.isTwoDigitYear){var c=Nj(o.year,l);return s.setUTCFullYear(c,0,A.firstWeekContainsDate),s.setUTCHours(0,0,0,0),uo(s,A)}var u=!("era"in i)||i.era===1?o.year:1-o.year;return s.setUTCFullYear(u,0,A.firstWeekContainsDate),s.setUTCHours(0,0,0,0),uo(s,A)}}]),n}(Fn),oJ=function(e){wn(n,e);var t=Bn(n);function n(){var r;hn(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),mt(Bt(r),"priority",130),mt(Bt(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return fn(n,[{key:"parse",value:function(s,i){return Bg(i==="R"?4:i.length,s)}},{key:"set",value:function(s,i,o){var A=new Date(0);return A.setUTCFullYear(o,0,4),A.setUTCHours(0,0,0,0),Rc(A)}}]),n}(Fn),AJ=function(e){wn(n,e);var t=Bn(n);function n(){var r;hn(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),mt(Bt(r),"priority",130),mt(Bt(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return fn(n,[{key:"parse",value:function(s,i){return Bg(i==="u"?4:i.length,s)}},{key:"set",value:function(s,i,o){return s.setUTCFullYear(o,0,1),s.setUTCHours(0,0,0,0),s}}]),n}(Fn),lJ=function(e){wn(n,e);var t=Bn(n);function n(){var r;hn(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),mt(Bt(r),"priority",120),mt(Bt(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return fn(n,[{key:"parse",value:function(s,i,o){switch(i){case"Q":case"QQ":return ur(i.length,s);case"Qo":return o.ordinalNumber(s,{unit:"quarter"});case"QQQ":return o.quarter(s,{width:"abbreviated",context:"formatting"})||o.quarter(s,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(s,{width:"wide",context:"formatting"})||o.quarter(s,{width:"abbreviated",context:"formatting"})||o.quarter(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,i){return i>=1&&i<=4}},{key:"set",value:function(s,i,o){return s.setUTCMonth((o-1)*3,1),s.setUTCHours(0,0,0,0),s}}]),n}(Fn),cJ=function(e){wn(n,e);var t=Bn(n);function n(){var r;hn(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),mt(Bt(r),"priority",120),mt(Bt(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return fn(n,[{key:"parse",value:function(s,i,o){switch(i){case"q":case"qq":return ur(i.length,s);case"qo":return o.ordinalNumber(s,{unit:"quarter"});case"qqq":return o.quarter(s,{width:"abbreviated",context:"standalone"})||o.quarter(s,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(s,{width:"wide",context:"standalone"})||o.quarter(s,{width:"abbreviated",context:"standalone"})||o.quarter(s,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(s,i){return i>=1&&i<=4}},{key:"set",value:function(s,i,o){return s.setUTCMonth((o-1)*3,1),s.setUTCHours(0,0,0,0),s}}]),n}(Fn),uJ=function(e){wn(n,e);var t=Bn(n);function n(){var r;hn(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),mt(Bt(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),mt(Bt(r),"priority",110),r}return fn(n,[{key:"parse",value:function(s,i,o){var A=function(c){return c-1};switch(i){case"M":return Br(rr(wr.month,s),A);case"MM":return Br(ur(2,s),A);case"Mo":return Br(o.ordinalNumber(s,{unit:"month"}),A);case"MMM":return o.month(s,{width:"abbreviated",context:"formatting"})||o.month(s,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(s,{width:"wide",context:"formatting"})||o.month(s,{width:"abbreviated",context:"formatting"})||o.month(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=11}},{key:"set",value:function(s,i,o){return s.setUTCMonth(o,1),s.setUTCHours(0,0,0,0),s}}]),n}(Fn),dJ=function(e){wn(n,e);var t=Bn(n);function n(){var r;hn(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),mt(Bt(r),"priority",110),mt(Bt(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return fn(n,[{key:"parse",value:function(s,i,o){var A=function(c){return c-1};switch(i){case"L":return Br(rr(wr.month,s),A);case"LL":return Br(ur(2,s),A);case"Lo":return Br(o.ordinalNumber(s,{unit:"month"}),A);case"LLL":return o.month(s,{width:"abbreviated",context:"standalone"})||o.month(s,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(s,{width:"wide",context:"standalone"})||o.month(s,{width:"abbreviated",context:"standalone"})||o.month(s,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=11}},{key:"set",value:function(s,i,o){return s.setUTCMonth(o,1),s.setUTCHours(0,0,0,0),s}}]),n}(Fn);function hJ(e,t,n){At(2,arguments);var r=ut(e),s=bn(t),i=wj(r,n)-s;return r.setUTCDate(r.getUTCDate()-i*7),r}var fJ=function(e){wn(n,e);var t=Bn(n);function n(){var r;hn(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),mt(Bt(r),"priority",100),mt(Bt(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return fn(n,[{key:"parse",value:function(s,i,o){switch(i){case"w":return rr(wr.week,s);case"wo":return o.ordinalNumber(s,{unit:"week"});default:return ur(i.length,s)}}},{key:"validate",value:function(s,i){return i>=1&&i<=53}},{key:"set",value:function(s,i,o,A){return uo(hJ(s,o,A),A)}}]),n}(Fn);function pJ(e,t){At(2,arguments);var n=ut(e),r=bn(t),s=bj(n)-r;return n.setUTCDate(n.getUTCDate()-s*7),n}var gJ=function(e){wn(n,e);var t=Bn(n);function n(){var r;hn(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),mt(Bt(r),"priority",100),mt(Bt(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return fn(n,[{key:"parse",value:function(s,i,o){switch(i){case"I":return rr(wr.week,s);case"Io":return o.ordinalNumber(s,{unit:"week"});default:return ur(i.length,s)}}},{key:"validate",value:function(s,i){return i>=1&&i<=53}},{key:"set",value:function(s,i,o){return Rc(pJ(s,o))}}]),n}(Fn),mJ=[31,28,31,30,31,30,31,31,30,31,30,31],vJ=[31,29,31,30,31,30,31,31,30,31,30,31],yJ=function(e){wn(n,e);var t=Bn(n);function n(){var r;hn(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),mt(Bt(r),"priority",90),mt(Bt(r),"subPriority",1),mt(Bt(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return fn(n,[{key:"parse",value:function(s,i,o){switch(i){case"d":return rr(wr.date,s);case"do":return o.ordinalNumber(s,{unit:"date"});default:return ur(i.length,s)}}},{key:"validate",value:function(s,i){var o=s.getUTCFullYear(),A=_j(o),l=s.getUTCMonth();return A?i>=1&&i<=vJ[l]:i>=1&&i<=mJ[l]}},{key:"set",value:function(s,i,o){return s.setUTCDate(o),s.setUTCHours(0,0,0,0),s}}]),n}(Fn),xJ=function(e){wn(n,e);var t=Bn(n);function n(){var r;hn(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),mt(Bt(r),"priority",90),mt(Bt(r),"subpriority",1),mt(Bt(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return fn(n,[{key:"parse",value:function(s,i,o){switch(i){case"D":case"DD":return rr(wr.dayOfYear,s);case"Do":return o.ordinalNumber(s,{unit:"date"});default:return ur(i.length,s)}}},{key:"validate",value:function(s,i){var o=s.getUTCFullYear(),A=_j(o);return A?i>=1&&i<=366:i>=1&&i<=365}},{key:"set",value:function(s,i,o){return s.setUTCMonth(0,o),s.setUTCHours(0,0,0,0),s}}]),n}(Fn);function Yx(e,t,n){var r,s,i,o,A,l,c,u;At(2,arguments);var d=Ua(),p=bn((r=(s=(i=(o=n==null?void 0:n.weekStartsOn)!==null&&o!==void 0?o:n==null||(A=n.locale)===null||A===void 0||(l=A.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&i!==void 0?i:d.weekStartsOn)!==null&&s!==void 0?s:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=ut(e),v=bn(t),g=f.getUTCDay(),y=v%7,x=(y+7)%7,w=(x<p?7:0)+v-g;return f.setUTCDate(f.getUTCDate()+w),f}var bJ=function(e){wn(n,e);var t=Bn(n);function n(){var r;hn(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),mt(Bt(r),"priority",90),mt(Bt(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return fn(n,[{key:"parse",value:function(s,i,o){switch(i){case"E":case"EE":case"EEE":return o.day(s,{width:"abbreviated",context:"formatting"})||o.day(s,{width:"short",context:"formatting"})||o.day(s,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(s,{width:"short",context:"formatting"})||o.day(s,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(s,{width:"wide",context:"formatting"})||o.day(s,{width:"abbreviated",context:"formatting"})||o.day(s,{width:"short",context:"formatting"})||o.day(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=6}},{key:"set",value:function(s,i,o,A){return s=Yx(s,o,A),s.setUTCHours(0,0,0,0),s}}]),n}(Fn),wJ=function(e){wn(n,e);var t=Bn(n);function n(){var r;hn(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),mt(Bt(r),"priority",90),mt(Bt(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return fn(n,[{key:"parse",value:function(s,i,o,A){var l=function(u){var d=Math.floor((u-1)/7)*7;return(u+A.weekStartsOn+6)%7+d};switch(i){case"e":case"ee":return Br(ur(i.length,s),l);case"eo":return Br(o.ordinalNumber(s,{unit:"day"}),l);case"eee":return o.day(s,{width:"abbreviated",context:"formatting"})||o.day(s,{width:"short",context:"formatting"})||o.day(s,{width:"narrow",context:"formatting"});case"eeeee":return o.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(s,{width:"short",context:"formatting"})||o.day(s,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(s,{width:"wide",context:"formatting"})||o.day(s,{width:"abbreviated",context:"formatting"})||o.day(s,{width:"short",context:"formatting"})||o.day(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=6}},{key:"set",value:function(s,i,o,A){return s=Yx(s,o,A),s.setUTCHours(0,0,0,0),s}}]),n}(Fn),BJ=function(e){wn(n,e);var t=Bn(n);function n(){var r;hn(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),mt(Bt(r),"priority",90),mt(Bt(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return fn(n,[{key:"parse",value:function(s,i,o,A){var l=function(u){var d=Math.floor((u-1)/7)*7;return(u+A.weekStartsOn+6)%7+d};switch(i){case"c":case"cc":return Br(ur(i.length,s),l);case"co":return Br(o.ordinalNumber(s,{unit:"day"}),l);case"ccc":return o.day(s,{width:"abbreviated",context:"standalone"})||o.day(s,{width:"short",context:"standalone"})||o.day(s,{width:"narrow",context:"standalone"});case"ccccc":return o.day(s,{width:"narrow",context:"standalone"});case"cccccc":return o.day(s,{width:"short",context:"standalone"})||o.day(s,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(s,{width:"wide",context:"standalone"})||o.day(s,{width:"abbreviated",context:"standalone"})||o.day(s,{width:"short",context:"standalone"})||o.day(s,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=6}},{key:"set",value:function(s,i,o,A){return s=Yx(s,o,A),s.setUTCHours(0,0,0,0),s}}]),n}(Fn);function CJ(e,t){At(2,arguments);var n=bn(t);n%7===0&&(n=n-7);var r=1,s=ut(e),i=s.getUTCDay(),o=n%7,A=(o+7)%7,l=(A<r?7:0)+n-i;return s.setUTCDate(s.getUTCDate()+l),s}var SJ=function(e){wn(n,e);var t=Bn(n);function n(){var r;hn(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),mt(Bt(r),"priority",90),mt(Bt(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return fn(n,[{key:"parse",value:function(s,i,o){var A=function(c){return c===0?7:c};switch(i){case"i":case"ii":return ur(i.length,s);case"io":return o.ordinalNumber(s,{unit:"day"});case"iii":return Br(o.day(s,{width:"abbreviated",context:"formatting"})||o.day(s,{width:"short",context:"formatting"})||o.day(s,{width:"narrow",context:"formatting"}),A);case"iiiii":return Br(o.day(s,{width:"narrow",context:"formatting"}),A);case"iiiiii":return Br(o.day(s,{width:"short",context:"formatting"})||o.day(s,{width:"narrow",context:"formatting"}),A);case"iiii":default:return Br(o.day(s,{width:"wide",context:"formatting"})||o.day(s,{width:"abbreviated",context:"formatting"})||o.day(s,{width:"short",context:"formatting"})||o.day(s,{width:"narrow",context:"formatting"}),A)}}},{key:"validate",value:function(s,i){return i>=1&&i<=7}},{key:"set",value:function(s,i,o){return s=CJ(s,o),s.setUTCHours(0,0,0,0),s}}]),n}(Fn),EJ=function(e){wn(n,e);var t=Bn(n);function n(){var r;hn(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),mt(Bt(r),"priority",80),mt(Bt(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return fn(n,[{key:"parse",value:function(s,i,o){switch(i){case"a":case"aa":case"aaa":return o.dayPeriod(s,{width:"abbreviated",context:"formatting"})||o.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(s,{width:"wide",context:"formatting"})||o.dayPeriod(s,{width:"abbreviated",context:"formatting"})||o.dayPeriod(s,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(s,i,o){return s.setUTCHours(qx(o),0,0,0),s}}]),n}(Fn),jJ=function(e){wn(n,e);var t=Bn(n);function n(){var r;hn(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),mt(Bt(r),"priority",80),mt(Bt(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return fn(n,[{key:"parse",value:function(s,i,o){switch(i){case"b":case"bb":case"bbb":return o.dayPeriod(s,{width:"abbreviated",context:"formatting"})||o.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(s,{width:"wide",context:"formatting"})||o.dayPeriod(s,{width:"abbreviated",context:"formatting"})||o.dayPeriod(s,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(s,i,o){return s.setUTCHours(qx(o),0,0,0),s}}]),n}(Fn),IJ=function(e){wn(n,e);var t=Bn(n);function n(){var r;hn(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),mt(Bt(r),"priority",80),mt(Bt(r),"incompatibleTokens",["a","b","t","T"]),r}return fn(n,[{key:"parse",value:function(s,i,o){switch(i){case"B":case"BB":case"BBB":return o.dayPeriod(s,{width:"abbreviated",context:"formatting"})||o.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(s,{width:"wide",context:"formatting"})||o.dayPeriod(s,{width:"abbreviated",context:"formatting"})||o.dayPeriod(s,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(s,i,o){return s.setUTCHours(qx(o),0,0,0),s}}]),n}(Fn),FJ=function(e){wn(n,e);var t=Bn(n);function n(){var r;hn(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),mt(Bt(r),"priority",70),mt(Bt(r),"incompatibleTokens",["H","K","k","t","T"]),r}return fn(n,[{key:"parse",value:function(s,i,o){switch(i){case"h":return rr(wr.hour12h,s);case"ho":return o.ordinalNumber(s,{unit:"hour"});default:return ur(i.length,s)}}},{key:"validate",value:function(s,i){return i>=1&&i<=12}},{key:"set",value:function(s,i,o){var A=s.getUTCHours()>=12;return A&&o<12?s.setUTCHours(o+12,0,0,0):!A&&o===12?s.setUTCHours(0,0,0,0):s.setUTCHours(o,0,0,0),s}}]),n}(Fn),kJ=function(e){wn(n,e);var t=Bn(n);function n(){var r;hn(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),mt(Bt(r),"priority",70),mt(Bt(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return fn(n,[{key:"parse",value:function(s,i,o){switch(i){case"H":return rr(wr.hour23h,s);case"Ho":return o.ordinalNumber(s,{unit:"hour"});default:return ur(i.length,s)}}},{key:"validate",value:function(s,i){return i>=0&&i<=23}},{key:"set",value:function(s,i,o){return s.setUTCHours(o,0,0,0),s}}]),n}(Fn),NJ=function(e){wn(n,e);var t=Bn(n);function n(){var r;hn(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),mt(Bt(r),"priority",70),mt(Bt(r),"incompatibleTokens",["h","H","k","t","T"]),r}return fn(n,[{key:"parse",value:function(s,i,o){switch(i){case"K":return rr(wr.hour11h,s);case"Ko":return o.ordinalNumber(s,{unit:"hour"});default:return ur(i.length,s)}}},{key:"validate",value:function(s,i){return i>=0&&i<=11}},{key:"set",value:function(s,i,o){var A=s.getUTCHours()>=12;return A&&o<12?s.setUTCHours(o+12,0,0,0):s.setUTCHours(o,0,0,0),s}}]),n}(Fn),_J=function(e){wn(n,e);var t=Bn(n);function n(){var r;hn(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),mt(Bt(r),"priority",70),mt(Bt(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return fn(n,[{key:"parse",value:function(s,i,o){switch(i){case"k":return rr(wr.hour24h,s);case"ko":return o.ordinalNumber(s,{unit:"hour"});default:return ur(i.length,s)}}},{key:"validate",value:function(s,i){return i>=1&&i<=24}},{key:"set",value:function(s,i,o){var A=o<=24?o%24:o;return s.setUTCHours(A,0,0,0),s}}]),n}(Fn),TJ=function(e){wn(n,e);var t=Bn(n);function n(){var r;hn(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),mt(Bt(r),"priority",60),mt(Bt(r),"incompatibleTokens",["t","T"]),r}return fn(n,[{key:"parse",value:function(s,i,o){switch(i){case"m":return rr(wr.minute,s);case"mo":return o.ordinalNumber(s,{unit:"minute"});default:return ur(i.length,s)}}},{key:"validate",value:function(s,i){return i>=0&&i<=59}},{key:"set",value:function(s,i,o){return s.setUTCMinutes(o,0,0),s}}]),n}(Fn),UJ=function(e){wn(n,e);var t=Bn(n);function n(){var r;hn(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),mt(Bt(r),"priority",50),mt(Bt(r),"incompatibleTokens",["t","T"]),r}return fn(n,[{key:"parse",value:function(s,i,o){switch(i){case"s":return rr(wr.second,s);case"so":return o.ordinalNumber(s,{unit:"second"});default:return ur(i.length,s)}}},{key:"validate",value:function(s,i){return i>=0&&i<=59}},{key:"set",value:function(s,i,o){return s.setUTCSeconds(o,0),s}}]),n}(Fn),LJ=function(e){wn(n,e);var t=Bn(n);function n(){var r;hn(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),mt(Bt(r),"priority",30),mt(Bt(r),"incompatibleTokens",["t","T"]),r}return fn(n,[{key:"parse",value:function(s,i){var o=function(l){return Math.floor(l*Math.pow(10,-i.length+3))};return Br(ur(i.length,s),o)}},{key:"set",value:function(s,i,o){return s.setUTCMilliseconds(o),s}}]),n}(Fn),DJ=function(e){wn(n,e);var t=Bn(n);function n(){var r;hn(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),mt(Bt(r),"priority",10),mt(Bt(r),"incompatibleTokens",["t","T","x"]),r}return fn(n,[{key:"parse",value:function(s,i){switch(i){case"X":return fa(ha.basicOptionalMinutes,s);case"XX":return fa(ha.basic,s);case"XXXX":return fa(ha.basicOptionalSeconds,s);case"XXXXX":return fa(ha.extendedOptionalSeconds,s);case"XXX":default:return fa(ha.extended,s)}}},{key:"set",value:function(s,i,o){return i.timestampIsSet?s:new Date(s.getTime()-o)}}]),n}(Fn),MJ=function(e){wn(n,e);var t=Bn(n);function n(){var r;hn(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),mt(Bt(r),"priority",10),mt(Bt(r),"incompatibleTokens",["t","T","X"]),r}return fn(n,[{key:"parse",value:function(s,i){switch(i){case"x":return fa(ha.basicOptionalMinutes,s);case"xx":return fa(ha.basic,s);case"xxxx":return fa(ha.basicOptionalSeconds,s);case"xxxxx":return fa(ha.extendedOptionalSeconds,s);case"xxx":default:return fa(ha.extended,s)}}},{key:"set",value:function(s,i,o){return i.timestampIsSet?s:new Date(s.getTime()-o)}}]),n}(Fn),QJ=function(e){wn(n,e);var t=Bn(n);function n(){var r;hn(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),mt(Bt(r),"priority",40),mt(Bt(r),"incompatibleTokens","*"),r}return fn(n,[{key:"parse",value:function(s){return kj(s)}},{key:"set",value:function(s,i,o){return[new Date(o*1e3),{timestampIsSet:!0}]}}]),n}(Fn),PJ=function(e){wn(n,e);var t=Bn(n);function n(){var r;hn(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i)),mt(Bt(r),"priority",20),mt(Bt(r),"incompatibleTokens","*"),r}return fn(n,[{key:"parse",value:function(s){return kj(s)}},{key:"set",value:function(s,i,o){return[new Date(o),{timestampIsSet:!0}]}}]),n}(Fn),RJ={G:new sJ,y:new iJ,Y:new aJ,R:new oJ,u:new AJ,Q:new lJ,q:new cJ,M:new uJ,L:new dJ,w:new fJ,I:new gJ,d:new yJ,D:new xJ,E:new bJ,e:new wJ,c:new BJ,i:new SJ,a:new EJ,b:new jJ,B:new IJ,h:new FJ,H:new kJ,K:new NJ,k:new _J,m:new TJ,s:new UJ,S:new LJ,X:new DJ,x:new MJ,t:new QJ,T:new PJ},HJ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,OJ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,$J=/^'([^]*?)'?$/,zJ=/''/g,WJ=/\S/,KJ=/[a-zA-Z]/;function Kr(e,t,n,r){var s,i,o,A,l,c,u,d,p,f,v,g,y,x,w,b,j,_;At(3,arguments);var k=String(e),D=String(t),N=Ua(),U=(s=(i=r==null?void 0:r.locale)!==null&&i!==void 0?i:N.locale)!==null&&s!==void 0?s:Gx;if(!U.match)throw new RangeError("locale must contain match property");var L=bn((o=(A=(l=(c=r==null?void 0:r.firstWeekContainsDate)!==null&&c!==void 0?c:r==null||(u=r.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&l!==void 0?l:N.firstWeekContainsDate)!==null&&A!==void 0?A:(p=N.locale)===null||p===void 0||(f=p.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(L>=1&&L<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var E=bn((v=(g=(y=(x=r==null?void 0:r.weekStartsOn)!==null&&x!==void 0?x:r==null||(w=r.locale)===null||w===void 0||(b=w.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&y!==void 0?y:N.weekStartsOn)!==null&&g!==void 0?g:(j=N.locale)===null||j===void 0||(_=j.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&v!==void 0?v:0);if(!(E>=0&&E<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(D==="")return k===""?ut(n):new Date(NaN);var I={firstWeekContainsDate:L,weekStartsOn:E,locale:U},T=[new rJ],P=D.match(OJ).map(function(ce){var Ae=ce[0];if(Ae in vy){var Ee=vy[Ae];return Ee(ce,U.formatLong)}return ce}).join("").match(HJ),K=[],Q=zC(P),F;try{var $=function(){var Ae=F.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&Sj(Ae)&&bg(Ae,D,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&Cj(Ae)&&bg(Ae,D,e);var Ee=Ae[0],fe=RJ[Ee];if(fe){var we=fe.incompatibleTokens;if(Array.isArray(we)){var de=K.find(function(pe){return we.includes(pe.token)||pe.token===Ee});if(de)throw new RangeError("The format string mustn't contain `".concat(de.fullToken,"` and `").concat(Ae,"` at the same time"))}else if(fe.incompatibleTokens==="*"&&K.length>0)throw new RangeError("The format string mustn't contain `".concat(Ae,"` and any other token at the same time"));K.push({token:Ee,fullToken:Ae});var Be=fe.run(k,Ae,U.match,I);if(!Be)return{v:new Date(NaN)};T.push(Be.setter),k=Be.rest}else{if(Ee.match(KJ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Ee+"`");if(Ae==="''"?Ae="'":Ee==="'"&&(Ae=VJ(Ae)),k.indexOf(Ae)===0)k=k.slice(Ae.length);else return{v:new Date(NaN)}}};for(Q.s();!(F=Q.n()).done;){var O=$();if(cn(O)==="object")return O.v}}catch(ce){Q.e(ce)}finally{Q.f()}if(k.length>0&&WJ.test(k))return new Date(NaN);var H=T.map(function(ce){return ce.priority}).sort(function(ce,Ae){return Ae-ce}).filter(function(ce,Ae,Ee){return Ee.indexOf(ce)===Ae}).map(function(ce){return T.filter(function(Ae){return Ae.priority===ce}).sort(function(Ae,Ee){return Ee.subPriority-Ae.subPriority})}).map(function(ce){return ce[0]}),ie=ut(n);if(isNaN(ie.getTime()))return new Date(NaN);var M=yj(ie,xg(ie)),W={},V=zC(H),X;try{for(V.s();!(X=V.n()).done;){var Y=X.value;if(!Y.validate(M,I))return new Date(NaN);var ee=Y.set(M,W,I);Array.isArray(ee)?(M=ee[0],QX(W,ee[1])):M=ee}}catch(ce){V.e(ce)}finally{V.f()}return M}function VJ(e){return e.match($J)[1].replace(zJ,"'")}function WC(e){At(1,arguments);var t=ut(e);return t.setMinutes(0,0,0),t}function GJ(e,t){At(2,arguments);var n=WC(e),r=WC(t);return n.getTime()===r.getTime()}function qJ(e,t){At(2,arguments);var n=ut(e),r=ut(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function YJ(e,t){At(2,arguments);var n=ut(e),r=ut(t);return n.getFullYear()===r.getFullYear()}function Tj(e){return At(1,arguments),pj(e,Date.now())}function XJ(e,t){At(2,arguments);var n=ut(e).getTime(),r=ut(t.start).getTime(),s=ut(t.end).getTime();if(!(r<=s))throw new RangeError("Invalid interval");return n>=r&&n<=s}function JJ(e,t){var n;At(1,arguments);var r=bn((n=void 0)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var s=nZ(e),i;if(s.date){var o=rZ(s.date,r);i=sZ(o.restDateString,o.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var A=i.getTime(),l=0,c;if(s.time&&(l=iZ(s.time),isNaN(l)))return new Date(NaN);if(s.timezone){if(c=aZ(s.timezone),isNaN(c))return new Date(NaN)}else{var u=new Date(A+l),d=new Date(0);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return new Date(A+l+c)}var up={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ZJ=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,eZ=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,tZ=/^([+-])(\d{2})(?::?(\d{2}))?$/;function nZ(e){var t={},n=e.split(up.dateTimeDelimiter),r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],up.timeZoneDelimiter.test(t.date)&&(t.date=e.split(up.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){var s=up.timezone.exec(r);s?(t.time=r.replace(s[1],""),t.timezone=s[1]):t.time=r}return t}function rZ(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:e.slice((r[1]||r[2]).length)}}function sZ(e,t){if(t===null)return new Date(NaN);var n=e.match(ZJ);if(!n)return new Date(NaN);var r=!!n[4],s=sd(n[1]),i=sd(n[2])-1,o=sd(n[3]),A=sd(n[4]),l=sd(n[5])-1;if(r)return uZ(t,A,l)?oZ(t,A,l):new Date(NaN);var c=new Date(0);return!lZ(t,i,o)||!cZ(t,s)?new Date(NaN):(c.setUTCFullYear(t,i,Math.max(s,o)),c)}function sd(e){return e?parseInt(e):1}function iZ(e){var t=e.match(eZ);if(!t)return NaN;var n=Hv(t[1]),r=Hv(t[2]),s=Hv(t[3]);return dZ(n,r,s)?n*Hm+r*Rm+s*1e3:NaN}function Hv(e){return e&&parseFloat(e.replace(",","."))||0}function aZ(e){if(e==="Z")return 0;var t=e.match(tZ);if(!t)return 0;var n=t[1]==="+"?-1:1,r=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return hZ(r,s)?n*(r*Hm+s*Rm):NaN}function oZ(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var s=r.getUTCDay()||7,i=(t-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}var AZ=[31,null,31,30,31,30,31,31,30,31,30,31];function Uj(e){return e%400===0||e%4===0&&e%100!==0}function lZ(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(AZ[t]||(Uj(e)?29:28))}function cZ(e,t){return t>=1&&t<=(Uj(e)?366:365)}function uZ(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function dZ(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function hZ(e,t){return t>=0&&t<=59}function fZ(e,t){At(2,arguments);var n=ut(e),r=bn(t),s=n.getFullYear(),i=n.getDate(),o=new Date(0);o.setFullYear(s,r,15),o.setHours(0,0,0,0);var A=jj(o);return n.setMonth(r,Math.min(i,A)),n}function pZ(e,t){At(2,arguments);var n=ut(e),r=bn(t);return n.setDate(r),n}function Lj(e,t){At(2,arguments);var n=ut(e),r=bn(t);return n.setHours(r),n}function gZ(e,t){At(2,arguments);var n=ut(e),r=bn(t);return n.setMilliseconds(r),n}function Dj(e,t){At(2,arguments);var n=ut(e),r=bn(t);return n.setMinutes(r),n}function mZ(e,t){At(2,arguments);var n=ut(e),r=bn(t);return n.setSeconds(r),n}function vZ(e,t){At(2,arguments);var n=ut(e),r=bn(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function Xo(){return GA(Date.now())}function KC(e,t,n){At(2,arguments);var r=uo(e,n),s=uo(t,n);return r.getTime()===s.getTime()}function id(e,t){if(e.one!==void 0&&t===1)return e.one;var n=t%10,r=t%100;return n===1&&r!==11?e.singularNominative.replace("{{count}}",String(t)):n>=2&&n<=4&&(r<10||r>20)?e.singularGenitive.replace("{{count}}",String(t)):e.pluralGenitive.replace("{{count}}",String(t))}function ws(e){return function(t,n){return n!=null&&n.addSuffix?n.comparison&&n.comparison>0?e.future?id(e.future,t):"через "+id(e.regular,t):e.past?id(e.past,t):id(e.regular,t)+" назад":id(e.regular,t)}}var yZ={lessThanXSeconds:ws({regular:{one:"меньше секунды",singularNominative:"меньше {{count}} секунды",singularGenitive:"меньше {{count}} секунд",pluralGenitive:"меньше {{count}} секунд"},future:{one:"меньше, чем через секунду",singularNominative:"меньше, чем через {{count}} секунду",singularGenitive:"меньше, чем через {{count}} секунды",pluralGenitive:"меньше, чем через {{count}} секунд"}}),xSeconds:ws({regular:{singularNominative:"{{count}} секунда",singularGenitive:"{{count}} секунды",pluralGenitive:"{{count}} секунд"},past:{singularNominative:"{{count}} секунду назад",singularGenitive:"{{count}} секунды назад",pluralGenitive:"{{count}} секунд назад"},future:{singularNominative:"через {{count}} секунду",singularGenitive:"через {{count}} секунды",pluralGenitive:"через {{count}} секунд"}}),halfAMinute:function(t,n){return n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"через полминуты":"полминуты назад":"полминуты"},lessThanXMinutes:ws({regular:{one:"меньше минуты",singularNominative:"меньше {{count}} минуты",singularGenitive:"меньше {{count}} минут",pluralGenitive:"меньше {{count}} минут"},future:{one:"меньше, чем через минуту",singularNominative:"меньше, чем через {{count}} минуту",singularGenitive:"меньше, чем через {{count}} минуты",pluralGenitive:"меньше, чем через {{count}} минут"}}),xMinutes:ws({regular:{singularNominative:"{{count}} минута",singularGenitive:"{{count}} минуты",pluralGenitive:"{{count}} минут"},past:{singularNominative:"{{count}} минуту назад",singularGenitive:"{{count}} минуты назад",pluralGenitive:"{{count}} минут назад"},future:{singularNominative:"через {{count}} минуту",singularGenitive:"через {{count}} минуты",pluralGenitive:"через {{count}} минут"}}),aboutXHours:ws({regular:{singularNominative:"около {{count}} часа",singularGenitive:"около {{count}} часов",pluralGenitive:"около {{count}} часов"},future:{singularNominative:"приблизительно через {{count}} час",singularGenitive:"приблизительно через {{count}} часа",pluralGenitive:"приблизительно через {{count}} часов"}}),xHours:ws({regular:{singularNominative:"{{count}} час",singularGenitive:"{{count}} часа",pluralGenitive:"{{count}} часов"}}),xDays:ws({regular:{singularNominative:"{{count}} день",singularGenitive:"{{count}} дня",pluralGenitive:"{{count}} дней"}}),aboutXWeeks:ws({regular:{singularNominative:"около {{count}} недели",singularGenitive:"около {{count}} недель",pluralGenitive:"около {{count}} недель"},future:{singularNominative:"приблизительно через {{count}} неделю",singularGenitive:"приблизительно через {{count}} недели",pluralGenitive:"приблизительно через {{count}} недель"}}),xWeeks:ws({regular:{singularNominative:"{{count}} неделя",singularGenitive:"{{count}} недели",pluralGenitive:"{{count}} недель"}}),aboutXMonths:ws({regular:{singularNominative:"около {{count}} месяца",singularGenitive:"около {{count}} месяцев",pluralGenitive:"около {{count}} месяцев"},future:{singularNominative:"приблизительно через {{count}} месяц",singularGenitive:"приблизительно через {{count}} месяца",pluralGenitive:"приблизительно через {{count}} месяцев"}}),xMonths:ws({regular:{singularNominative:"{{count}} месяц",singularGenitive:"{{count}} месяца",pluralGenitive:"{{count}} месяцев"}}),aboutXYears:ws({regular:{singularNominative:"около {{count}} года",singularGenitive:"около {{count}} лет",pluralGenitive:"около {{count}} лет"},future:{singularNominative:"приблизительно через {{count}} год",singularGenitive:"приблизительно через {{count}} года",pluralGenitive:"приблизительно через {{count}} лет"}}),xYears:ws({regular:{singularNominative:"{{count}} год",singularGenitive:"{{count}} года",pluralGenitive:"{{count}} лет"}}),overXYears:ws({regular:{singularNominative:"больше {{count}} года",singularGenitive:"больше {{count}} лет",pluralGenitive:"больше {{count}} лет"},future:{singularNominative:"больше, чем через {{count}} год",singularGenitive:"больше, чем через {{count}} года",pluralGenitive:"больше, чем через {{count}} лет"}}),almostXYears:ws({regular:{singularNominative:"почти {{count}} год",singularGenitive:"почти {{count}} года",pluralGenitive:"почти {{count}} лет"},future:{singularNominative:"почти через {{count}} год",singularGenitive:"почти через {{count}} года",pluralGenitive:"почти через {{count}} лет"}})},xZ=function(t,n,r){return yZ[t](n,r)},bZ={full:"EEEE, d MMMM y 'г.'",long:"d MMMM y 'г.'",medium:"d MMM y 'г.'",short:"dd.MM.y"},wZ={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},BZ={any:"{{date}}, {{time}}"},CZ={date:xc({formats:bZ,defaultWidth:"full"}),time:xc({formats:wZ,defaultWidth:"full"}),dateTime:xc({formats:BZ,defaultWidth:"any"})},Xx=["воскресенье","понедельник","вторник","среду","четверг","пятницу","субботу"];function SZ(e){var t=Xx[e];switch(e){case 0:return"'в прошлое "+t+" в' p";case 1:case 2:case 4:return"'в прошлый "+t+" в' p";case 3:case 5:case 6:return"'в прошлую "+t+" в' p"}}function VC(e){var t=Xx[e];return e===2?"'во "+t+" в' p":"'в "+t+" в' p"}function EZ(e){var t=Xx[e];switch(e){case 0:return"'в следующее "+t+" в' p";case 1:case 2:case 4:return"'в следующий "+t+" в' p";case 3:case 5:case 6:return"'в следующую "+t+" в' p"}}var jZ={lastWeek:function(t,n,r){var s=t.getUTCDay();return KC(t,n,r)?VC(s):SZ(s)},yesterday:"'вчера в' p",today:"'сегодня в' p",tomorrow:"'завтра в' p",nextWeek:function(t,n,r){var s=t.getUTCDay();return KC(t,n,r)?VC(s):EZ(s)},other:"P"},IZ=function(t,n,r,s){var i=jZ[t];return typeof i=="function"?i(n,r,s):i},FZ={narrow:["до н.э.","н.э."],abbreviated:["до н. э.","н. э."],wide:["до нашей эры","нашей эры"]},kZ={narrow:["1","2","3","4"],abbreviated:["1-й кв.","2-й кв.","3-й кв.","4-й кв."],wide:["1-й квартал","2-й квартал","3-й квартал","4-й квартал"]},NZ={narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","март","апр.","май","июнь","июль","авг.","сент.","окт.","нояб.","дек."],wide:["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"]},_Z={narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","мар.","апр.","мая","июн.","июл.","авг.","сент.","окт.","нояб.","дек."],wide:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"]},TZ={narrow:["В","П","В","С","Ч","П","С"],short:["вс","пн","вт","ср","чт","пт","сб"],abbreviated:["вск","пнд","втр","срд","чтв","птн","суб"],wide:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"]},UZ={narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утро",afternoon:"день",evening:"вечер",night:"ночь"}},LZ={narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утра",afternoon:"дня",evening:"вечера",night:"ночи"}},DZ=function(t,n){var r=Number(t),s=n==null?void 0:n.unit,i;return s==="date"?i="-е":s==="week"||s==="minute"||s==="second"?i="-я":i="-й",r+i},MZ={ordinalNumber:DZ,era:ua({values:FZ,defaultWidth:"wide"}),quarter:ua({values:kZ,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:ua({values:NZ,defaultWidth:"wide",formattingValues:_Z,defaultFormattingWidth:"wide"}),day:ua({values:TZ,defaultWidth:"wide"}),dayPeriod:ua({values:UZ,defaultWidth:"any",formattingValues:LZ,defaultFormattingWidth:"wide"})},QZ=/^(\d+)(-?(е|я|й|ое|ье|ая|ья|ый|ой|ий|ый))?/i,PZ=/\d+/i,RZ={narrow:/^((до )?н\.?\s?э\.?)/i,abbreviated:/^((до )?н\.?\s?э\.?)/i,wide:/^(до нашей эры|нашей эры|наша эра)/i},HZ={any:[/^д/i,/^н/i]},OZ={narrow:/^[1234]/i,abbreviated:/^[1234](-?[ыои]?й?)? кв.?/i,wide:/^[1234](-?[ыои]?й?)? квартал/i},$Z={any:[/1/i,/2/i,/3/i,/4/i]},zZ={narrow:/^[яфмаисонд]/i,abbreviated:/^(янв|фев|март?|апр|ма[йя]|июн[ья]?|июл[ья]?|авг|сент?|окт|нояб?|дек)\.?/i,wide:/^(январ[ья]|феврал[ья]|марта?|апрел[ья]|ма[йя]|июн[ья]|июл[ья]|августа?|сентябр[ья]|октябр[ья]|октябр[ья]|ноябр[ья]|декабр[ья])/i},WZ={narrow:[/^я/i,/^ф/i,/^м/i,/^а/i,/^м/i,/^и/i,/^и/i,/^а/i,/^с/i,/^о/i,/^н/i,/^я/i],any:[/^я/i,/^ф/i,/^мар/i,/^ап/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^ав/i,/^с/i,/^о/i,/^н/i,/^д/i]},KZ={narrow:/^[впсч]/i,short:/^(вс|во|пн|по|вт|ср|чт|че|пт|пя|сб|су)\.?/i,abbreviated:/^(вск|вос|пнд|пон|втр|вто|срд|сре|чтв|чет|птн|пят|суб).?/i,wide:/^(воскресень[ея]|понедельника?|вторника?|сред[аы]|четверга?|пятниц[аы]|суббот[аы])/i},VZ={narrow:[/^в/i,/^п/i,/^в/i,/^с/i,/^ч/i,/^п/i,/^с/i],any:[/^в[ос]/i,/^п[он]/i,/^в/i,/^ср/i,/^ч/i,/^п[ят]/i,/^с[уб]/i]},GZ={narrow:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,abbreviated:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,wide:/^([дп]п|полночь|полдень|утр[оа]|день|дня|вечера?|ноч[ьи])/i},qZ={any:{am:/^дп/i,pm:/^пп/i,midnight:/^полн/i,noon:/^полд/i,morning:/^у/i,afternoon:/^д[ен]/i,evening:/^в/i,night:/^н/i}},YZ={ordinalNumber:Ej({matchPattern:QZ,parsePattern:PZ,valueCallback:function(t){return parseInt(t,10)}}),era:da({matchPatterns:RZ,defaultMatchWidth:"wide",parsePatterns:HZ,defaultParseWidth:"any"}),quarter:da({matchPatterns:OZ,defaultMatchWidth:"wide",parsePatterns:$Z,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:da({matchPatterns:zZ,defaultMatchWidth:"wide",parsePatterns:WZ,defaultParseWidth:"any"}),day:da({matchPatterns:KZ,defaultMatchWidth:"wide",parsePatterns:VZ,defaultParseWidth:"any"}),dayPeriod:da({matchPatterns:GZ,defaultMatchWidth:"wide",parsePatterns:qZ,defaultParseWidth:"any"})},ti={code:"ru",formatDistance:xZ,formatLong:CZ,formatRelative:IZ,localize:MZ,match:YZ,options:{weekStartsOn:1,firstWeekContainsDate:1}};const zl=um(void 0,"europe-west1");function ad(e){const{children:t,value:n,index:r,...s}=e;return a.jsx("div",{role:"tabpanel",hidden:n!==r,id:`settings-tabpanel-${r}`,"aria-labelledby":`settings-tab-${r}`,...s,children:n===r&&a.jsx(Ue,{sx:{pt:3},children:t})})}function XZ(){var ee,ce,Ae,Ee,fe,we,de,Be,pe,se,me,ne,ae,he,ge,Ce,ye,Le,We,De,$e,Ge,_e,Me,Ie,nt,He,xt,Qe,et;const{admin:e}=Er(),{isSuperAdmin:t}=ns(),n=vs(),[r,s]=B.useState(0),[i,o]=B.useState({superAdminEmails:[]}),[A,l]=B.useState(""),[c,u]=B.useState(!0),[d,p]=B.useState(!1),[f,v]=B.useState(!1),[g,y]=B.useState(""),[x,w]=B.useState({provider:"smsru",testMode:!1,smsruApiId:""}),[b,j]=B.useState(!0),[_,k]=B.useState(!1),[D,N]=B.useState(""),[U,L]=B.useState(!1),[E,I]=B.useState({bookingConfirmation:{enabled:!0,template:"Бронирование подтверждено! {venue}, {date} в {time}"},bookingReminder:{enabled:!0,template:"Напоминание: через 2 часа игра в {venue}, корт {court}",hoursBeforeGame:2},bookingCancellation:{enabled:!0,template:"Игра {date} в {time} в {venue} отменена"},bookingModification:{enabled:!0,template:"Изменение: игра перенесена на {time}, корт {court}"},authCode:{enabled:!0,template:"Ваш код для входа в Все Корты: {code}"},paymentLink:{enabled:!0,template:"Оплатите бронь по ссылке: {link}"}}),[T,P]=B.useState(!1),[K,Q]=B.useState({totalSent:0,lastSent:null,recentLogs:[]});mn.useEffect(()=>{t?(F(),$(),O(),X()):n("/admin/dashboard")},[t,n]);const F=async()=>{try{const Pe=yt(Oe,"settings","notifications"),rt=await dn(Pe);if(rt.exists()){const Nt=rt.data();o(Nt)}}catch(Pe){console.error("Error loading notification settings:",Pe),y("Ошибка загрузки настроек")}finally{u(!1)}},$=async()=>{try{const Nt=(await Ss(zl,"getSMSSettings")()).data;w({provider:"smsru",testMode:Nt.testMode||!1,smsruApiId:Nt.smsruApiId||""})}catch(Pe){console.error("Error loading SMS settings:",Pe)}finally{j(!1)}},O=async()=>{try{const Nt=(await Ss(zl,"getSMSStats")()).data;let Et=null;if(Nt.lastSent)try{Et=new Date(Nt.lastSent),isNaN(Et.getTime())&&(Et=null)}catch($t){console.error("Error parsing lastSent date:",$t),Et=null}const Xt=(Nt.recentLogs||[]).map($t=>{let Mt=null;if($t.timestamp)try{Mt=new Date($t.timestamp),isNaN(Mt.getTime())&&(Mt=null)}catch(it){console.error("Error parsing log timestamp:",it),Mt=null}return{...$t,timestamp:Mt}});Q({totalSent:Nt.totalSent||0,lastSent:Et,recentLogs:Xt})}catch(Pe){console.error("Error loading SMS stats:",Pe)}},H=Pe=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Pe),ie=async()=>{if(!A){y("Введите email");return}if(!H(A)){y("Неверный формат email");return}if(i.superAdminEmails.includes(A)){y("Этот email уже добавлен");return}p(!0),y("");try{const Pe=[...i.superAdminEmails,A],rt=yt(Oe,"settings","notifications");await d5(rt,{superAdminEmails:Pe,updatedAt:new Date},{merge:!0}),o({...i,superAdminEmails:Pe}),l(""),v(!0)}catch(Pe){console.error("Error adding email:",Pe),y("Ошибка при добавлении email")}finally{p(!1)}},M=async Pe=>{p(!0),y("");try{const rt=i.superAdminEmails.filter(Et=>Et!==Pe),Nt=yt(Oe,"settings","notifications");await In(Nt,{superAdminEmails:rt,updatedAt:new Date}),o({...i,superAdminEmails:rt}),v(!0)}catch(rt){console.error("Error removing email:",rt),y("Ошибка при удалении email")}finally{p(!1)}},W=async()=>{k(!0);try{await Ss(zl,"updateSMSSettings")(x),v(!0),await $()}catch(Pe){console.error("Error saving SMS settings:",Pe),y("Ошибка сохранения настроек SMS")}finally{k(!1)}},V=async()=>{if(!D){y("Введите номер телефона для тестирования");return}L(!0);try{const Nt=(await Ss(zl,"testSMSSending")({phoneNumber:D})).data;Nt.success?v(!0):y(Nt.message),await O()}catch(Pe){console.error("Error testing SMS:",Pe),y("Ошибка отправки тестового SMS")}finally{L(!1)}},X=async()=>{var Pe,rt,Nt,Et,Xt,$t,Mt,it,ft,Vn,Jt,Qr,sr;try{const kt=(await Ss(zl,"getSMSTemplates")()).data;I({bookingConfirmation:{enabled:((Pe=kt==null?void 0:kt.bookingConfirmation)==null?void 0:Pe.enabled)??!0,template:((rt=kt==null?void 0:kt.bookingConfirmation)==null?void 0:rt.template)||"Бронирование подтверждено! {venue}, {date} в {time}"},bookingReminder:{enabled:((Nt=kt==null?void 0:kt.bookingReminder)==null?void 0:Nt.enabled)??!0,template:((Et=kt==null?void 0:kt.bookingReminder)==null?void 0:Et.template)||"Напоминание: через 2 часа игра в {venue}, корт {court}",hoursBeforeGame:((Xt=kt==null?void 0:kt.bookingReminder)==null?void 0:Xt.hoursBeforeGame)||2},bookingCancellation:{enabled:(($t=kt==null?void 0:kt.bookingCancellation)==null?void 0:$t.enabled)??!0,template:((Mt=kt==null?void 0:kt.bookingCancellation)==null?void 0:Mt.template)||"Игра {date} в {time} в {venue} отменена"},bookingModification:{enabled:((it=kt==null?void 0:kt.bookingModification)==null?void 0:it.enabled)??!0,template:((ft=kt==null?void 0:kt.bookingModification)==null?void 0:ft.template)||"Изменение: игра перенесена на {time}, корт {court}"},authCode:{enabled:((Vn=kt==null?void 0:kt.authCode)==null?void 0:Vn.enabled)??!0,template:((Jt=kt==null?void 0:kt.authCode)==null?void 0:Jt.template)||"Ваш код для входа в Все Корты: {code}"},paymentLink:{enabled:((Qr=kt==null?void 0:kt.paymentLink)==null?void 0:Qr.enabled)??!0,template:((sr=kt==null?void 0:kt.paymentLink)==null?void 0:sr.template)||"Оплатите бронь по ссылке: {link}"}})}catch(Ct){console.error("Error loading SMS templates:",Ct)}},Y=async()=>{P(!0);try{await Ss(zl,"updateSMSTemplates")(E),v(!0)}catch(Pe){console.error("Error saving SMS templates:",Pe),y("Ошибка сохранения шаблонов SMS")}finally{P(!1)}};return t?a.jsxs(Ue,{sx:{p:3},children:[a.jsxs(Ue,{sx:{mb:4,display:"flex",alignItems:"center",gap:2},children:[a.jsx(Lx,{sx:{fontSize:32,color:"primary.main"}}),a.jsx(le,{variant:"h4",fontWeight:"bold",children:"Системные настройки"})]}),a.jsx(Yt,{severity:"info",sx:{mb:3},children:"Данный раздел доступен только суперадминистраторам системы"}),a.jsx(Ue,{sx:{borderBottom:1,borderColor:"divider"},children:a.jsxs(B9,{value:r,onChange:(Pe,rt)=>s(rt),children:[a.jsx(Yu,{label:"Email уведомления"}),a.jsx(Yu,{label:"SMS настройки"}),a.jsx(Yu,{label:"Безопасность"}),a.jsx(Yu,{label:"База данных"}),a.jsx(Yu,{label:"Страницы оплаты"})]})}),a.jsx(ad,{value:r,index:0,children:a.jsxs(Ut,{container:!0,spacing:3,children:[a.jsx(Ut,{item:!0,xs:12,children:a.jsx(An,{children:a.jsxs(ln,{children:[a.jsxs(Ue,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[a.jsx(j1,{color:"primary"}),a.jsx(le,{variant:"h6",children:"Email уведомления для суперадминистраторов"})]}),a.jsx(le,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Эти email адреса будут получать уведомления о новых регистрациях клубов и других важных событиях"}),a.jsx(xi,{sx:{my:2}}),c?a.jsx(Ue,{sx:{display:"flex",justifyContent:"center",py:3},children:a.jsx(Dr,{})}):a.jsxs(a.Fragment,{children:[a.jsx(Ue,{sx:{mb:3},children:a.jsxs(Ue,{sx:{display:"flex",gap:2,mb:2},children:[a.jsx(Kt,{fullWidth:!0,size:"small",label:"Email для уведомлений",value:A,onChange:Pe=>l(Pe.target.value),onKeyPress:Pe=>{Pe.key==="Enter"&&ie()},error:!!g&&r===0,helperText:r===0?g:"",disabled:d}),a.jsx(jt,{variant:"contained",onClick:ie,disabled:d||!A,startIcon:a.jsx(nu,{}),children:"Добавить"})]})}),a.jsx(Dc,{sx:{maxHeight:300,overflow:"auto"},children:i.superAdminEmails.length===0?a.jsx(ga,{children:a.jsx(ma,{primary:"Нет добавленных email адресов",primaryTypographyProps:{color:"text.secondary",align:"center"}})}):i.superAdminEmails.map(Pe=>a.jsxs(ga,{children:[a.jsx(ma,{primary:Pe,primaryTypographyProps:{fontWeight:500}}),a.jsx(NA,{children:a.jsx(js,{edge:"end","aria-label":"delete",onClick:()=>M(Pe),disabled:d,children:a.jsx(ZA,{})})})]},Pe))})]})]})})}),a.jsx(Ut,{item:!0,xs:12,md:6,children:a.jsx(An,{children:a.jsxs(ln,{children:[a.jsxs(Ue,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[a.jsx(j1,{color:"primary"}),a.jsx(le,{variant:"h6",children:"Тестирование Email"})]}),a.jsx(le,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Проверка работы email уведомлений"}),a.jsx(xi,{sx:{my:2}}),a.jsxs(Ue,{sx:{mb:2},children:[a.jsx(le,{variant:"subtitle2",gutterBottom:!0,children:"Текущие настройки:"}),a.jsx(le,{variant:"body2",color:"text.secondary",children:"SMTP сервер: smtp.timeweb.ru:465"}),a.jsx(le,{variant:"body2",color:"text.secondary",children:"От кого: noreply@allcourt.ru"})]}),a.jsx(BY,{defaultEmail:(e==null?void 0:e.email)||""})]})})})]})}),a.jsx(ad,{value:r,index:1,children:a.jsxs(Ut,{container:!0,spacing:3,children:[a.jsx(Ut,{item:!0,xs:12,lg:6,children:a.jsx(An,{children:a.jsxs(ln,{children:[a.jsxs(Ue,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[a.jsx(I1,{color:"primary"}),a.jsx(le,{variant:"h6",children:"Настройки SMS"})]}),b?a.jsx(Ue,{sx:{display:"flex",justifyContent:"center",py:3},children:a.jsx(Dr,{})}):a.jsxs(a.Fragment,{children:[a.jsx(Yt,{severity:"info",sx:{mb:2},children:a.jsxs(Ue,{sx:{display:"flex",alignItems:"center",gap:1},children:[a.jsx(i$,{fontSize:"small"}),a.jsx(le,{variant:"body2",children:"API ключи хранятся в зашифрованном виде"})]})}),a.jsx(Ue,{sx:{mb:3},children:a.jsx(Zr,{control:a.jsx(Zs,{checked:x.testMode,onChange:Pe=>w({...x,testMode:Pe.target.checked})}),label:x.testMode?"Тестовый режим":"Боевой режим"})}),a.jsx(Ue,{sx:{mb:3},children:a.jsx(le,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"SMS провайдер: SMS.RU"})}),a.jsx(Kt,{fullWidth:!0,label:"API ID для SMS.RU",value:x.smsruApiId,onChange:Pe=>w({...x,smsruApiId:Pe.target.value}),type:"password",sx:{mb:2},helperText:"Получите API ID в личном кабинете SMS.RU"}),a.jsx(jt,{variant:"contained",fullWidth:!0,onClick:W,disabled:_,children:"Сохранить настройки"}),a.jsx(xi,{sx:{my:3}}),a.jsx(le,{variant:"h6",gutterBottom:!0,children:"Тестирование отправки"}),a.jsxs(Ue,{sx:{display:"flex",gap:2},children:[a.jsx(Kt,{fullWidth:!0,placeholder:"+7 (999) 123-45-67",value:D,onChange:Pe=>N(Pe.target.value)}),a.jsx(jt,{variant:"outlined",onClick:V,disabled:U,startIcon:a.jsx(F1,{}),children:"Отправить"})]})]})]})})}),a.jsx(Ut,{item:!0,xs:12,lg:6,children:a.jsx(An,{children:a.jsxs(ln,{children:[a.jsxs(Ue,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[a.jsx(le,{variant:"h6",children:"Статистика SMS"}),a.jsx(js,{onClick:O,size:"small",children:a.jsx(yE,{})})]}),a.jsxs(Ut,{container:!0,spacing:2,sx:{mb:2},children:[a.jsxs(Ut,{item:!0,xs:6,children:[a.jsx(le,{variant:"h4",color:"primary",children:K.totalSent}),a.jsx(le,{variant:"body2",color:"text.secondary",children:"Всего отправлено"})]}),a.jsxs(Ut,{item:!0,xs:6,children:[a.jsx(le,{variant:"body1",children:K.lastSent&&!isNaN(K.lastSent.getTime())?rn(K.lastSent,"dd.MM.yyyy HH:mm",{locale:ti}):"Нет данных"}),a.jsx(le,{variant:"body2",color:"text.secondary",children:"Последняя отправка"})]})]}),a.jsx(xi,{sx:{my:2}}),a.jsx(le,{variant:"subtitle2",gutterBottom:!0,children:"Последние отправки"}),a.jsx(Sh,{component:Wn,variant:"outlined",sx:{maxHeight:300},children:a.jsxs(Bh,{size:"small",stickyHeader:!0,children:[a.jsx(Eh,{children:a.jsxs(Fa,{children:[a.jsx(Wt,{children:"Дата"}),a.jsx(Wt,{children:"Телефон"}),a.jsx(Wt,{children:"Статус"})]})}),a.jsx(Ch,{children:K.recentLogs.map(Pe=>a.jsxs(Fa,{children:[a.jsx(Wt,{children:Pe.timestamp&&!isNaN(Pe.timestamp.getTime())?rn(Pe.timestamp,"dd.MM HH:mm"):"-"}),a.jsx(Wt,{children:Pe.phone}),a.jsx(Wt,{children:a.jsx(Zi,{label:Pe.testMode?"Тест":Pe.success?"Успешно":"Ошибка",size:"small",color:Pe.testMode?"info":Pe.success?"success":"error"})})]},Pe.id))})]})})]})})}),a.jsx(Ut,{item:!0,xs:12,children:a.jsx(An,{children:a.jsxs(ln,{children:[a.jsxs(Ue,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[a.jsx(I1,{color:"primary"}),a.jsx(le,{variant:"h6",children:"Шаблоны SMS уведомлений"})]}),a.jsx(le,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Настройте тексты SMS уведомлений (максимум 70 символов)"}),a.jsxs(Yt,{severity:"warning",sx:{mb:2},children:[a.jsx(zA,{children:"Важная информация"}),"SMS уведомления о бронировании отправляются ",a.jsx("strong",{children:"только при онлайн оплате"})," через YooKassa или T-Bank. При оплате наличными, картой в клубе или переводом SMS не отправляются, даже если администратор отметит оплату как полученную."]}),a.jsx(xi,{sx:{my:2}}),a.jsxs(Ut,{container:!0,spacing:3,children:[a.jsx(Ut,{item:!0,xs:12,md:6,children:a.jsxs(Ue,{sx:{mb:3},children:[a.jsxs(Ue,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:[a.jsx(le,{variant:"subtitle2",children:"Подтверждение бронирования"}),a.jsx(Zr,{control:a.jsx(Zs,{size:"small",checked:((ee=E.bookingConfirmation)==null?void 0:ee.enabled)??!0,onChange:Pe=>I({...E,bookingConfirmation:{...E.bookingConfirmation,enabled:Pe.target.checked}})}),label:""})]}),a.jsx(Kt,{fullWidth:!0,size:"small",value:((ce=E.bookingConfirmation)==null?void 0:ce.template)||"",onChange:Pe=>I({...E,bookingConfirmation:{...E.bookingConfirmation,template:Pe.target.value}}),disabled:!((Ae=E.bookingConfirmation)!=null&&Ae.enabled),helperText:a.jsxs(a.Fragment,{children:[a.jsx("span",{children:`${(((Ee=E.bookingConfirmation)==null?void 0:Ee.template)||"").length}/70 символов. Доступны: {venue}, {date}, {time}`}),a.jsx("br",{}),a.jsx("small",{style:{color:"#f57c00"},children:"⚠️ Отправляется только при онлайн оплате через YooKassa/T-Bank"})]}),error:(((fe=E.bookingConfirmation)==null?void 0:fe.template)||"").length>70})]})}),a.jsx(Ut,{item:!0,xs:12,md:6,children:a.jsxs(Ue,{sx:{mb:3},children:[a.jsxs(Ue,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:[a.jsx(le,{variant:"subtitle2",children:"Напоминание (за 2 часа)"}),a.jsx(Zr,{control:a.jsx(Zs,{size:"small",checked:((we=E.bookingReminder)==null?void 0:we.enabled)??!0,onChange:Pe=>I({...E,bookingReminder:{...E.bookingReminder,enabled:Pe.target.checked}})}),label:""})]}),a.jsx(Kt,{fullWidth:!0,size:"small",value:((de=E.bookingReminder)==null?void 0:de.template)||"",onChange:Pe=>I({...E,bookingReminder:{...E.bookingReminder,template:Pe.target.value}}),disabled:!((Be=E.bookingReminder)!=null&&Be.enabled),helperText:a.jsxs(a.Fragment,{children:[a.jsx("span",{children:`${(((pe=E.bookingReminder)==null?void 0:pe.template)||"").length}/70 символов. Доступны: {venue}, {court}, {time}`}),a.jsx("br",{}),a.jsx("small",{style:{color:"#f57c00"},children:"⚠️ Отправляется только для оплаченных онлайн бронирований за 2 часа до игры"})]}),error:(((se=E.bookingReminder)==null?void 0:se.template)||"").length>70})]})}),a.jsx(Ut,{item:!0,xs:12,md:6,children:a.jsxs(Ue,{sx:{mb:3},children:[a.jsxs(Ue,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:[a.jsx(le,{variant:"subtitle2",children:"Отмена бронирования"}),a.jsx(Zr,{control:a.jsx(Zs,{size:"small",checked:((me=E.bookingCancellation)==null?void 0:me.enabled)??!0,onChange:Pe=>I({...E,bookingCancellation:{...E.bookingCancellation,enabled:Pe.target.checked}})}),label:""})]}),a.jsx(Kt,{fullWidth:!0,size:"small",value:((ne=E.bookingCancellation)==null?void 0:ne.template)||"",onChange:Pe=>I({...E,bookingCancellation:{...E.bookingCancellation,template:Pe.target.value}}),disabled:!((ae=E.bookingCancellation)!=null&&ae.enabled),helperText:a.jsxs(a.Fragment,{children:[a.jsx("span",{children:`${(((he=E.bookingCancellation)==null?void 0:he.template)||"").length}/70 символов. Доступны: {venue}, {date}, {time}`}),a.jsx("br",{}),a.jsx("small",{style:{color:"#f57c00"},children:"⚠️ Отправляется только при автоматической отмене или возврате онлайн платежа"})]}),error:(((ge=E.bookingCancellation)==null?void 0:ge.template)||"").length>70})]})}),a.jsx(Ut,{item:!0,xs:12,md:6,children:a.jsxs(Ue,{sx:{mb:3},children:[a.jsxs(Ue,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:[a.jsx(le,{variant:"subtitle2",children:"Изменение бронирования"}),a.jsx(Zr,{control:a.jsx(Zs,{size:"small",checked:((Ce=E.bookingModification)==null?void 0:Ce.enabled)??!0,onChange:Pe=>I({...E,bookingModification:{...E.bookingModification,enabled:Pe.target.checked}})}),label:""})]}),a.jsx(Kt,{fullWidth:!0,size:"small",value:((ye=E.bookingModification)==null?void 0:ye.template)||"",onChange:Pe=>I({...E,bookingModification:{...E.bookingModification,template:Pe.target.value}}),disabled:!((Le=E.bookingModification)!=null&&Le.enabled),helperText:a.jsxs(a.Fragment,{children:[a.jsx("span",{children:`${(((We=E.bookingModification)==null?void 0:We.template)||"").length}/70 символов. Доступны: {time}, {court}`}),a.jsx("br",{}),a.jsx("small",{children:"Отправляется при изменении времени, корта или даты бронирования"})]}),error:(((De=E.bookingModification)==null?void 0:De.template)||"").length>70})]})}),a.jsx(Ut,{item:!0,xs:12,md:6,children:a.jsxs(Ue,{sx:{mb:3},children:[a.jsxs(Ue,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:[a.jsx(le,{variant:"subtitle2",children:"Код авторизации"}),a.jsx(Zr,{control:a.jsx(Zs,{size:"small",checked:(($e=E.authCode)==null?void 0:$e.enabled)??!0,onChange:Pe=>I({...E,authCode:{...E.authCode,enabled:Pe.target.checked}})}),label:""})]}),a.jsx(Kt,{fullWidth:!0,size:"small",value:((Ge=E.authCode)==null?void 0:Ge.template)||"",onChange:Pe=>I({...E,authCode:{...E.authCode,template:Pe.target.value}}),disabled:!((_e=E.authCode)!=null&&_e.enabled),helperText:a.jsxs(a.Fragment,{children:[a.jsx("span",{children:`${(((Me=E.authCode)==null?void 0:Me.template)||"").length}/70 символов. Доступны: {code}`}),a.jsx("br",{}),a.jsx("small",{children:"Отправляется при авторизации по SMS в мобильном приложении"})]}),error:(((Ie=E.authCode)==null?void 0:Ie.template)||"").length>70})]})}),a.jsx(Ut,{item:!0,xs:12,md:6,children:a.jsxs(Ue,{sx:{mb:3},children:[a.jsxs(Ue,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:[a.jsx(le,{variant:"subtitle2",children:"Ссылка на оплату"}),a.jsx(Zr,{control:a.jsx(Zs,{size:"small",checked:((nt=E.paymentLink)==null?void 0:nt.enabled)??!0,onChange:Pe=>I({...E,paymentLink:{...E.paymentLink,enabled:Pe.target.checked}})}),label:""})]}),a.jsx(Kt,{fullWidth:!0,size:"small",value:((He=E.paymentLink)==null?void 0:He.template)||"",onChange:Pe=>I({...E,paymentLink:{...E.paymentLink,template:Pe.target.value}}),disabled:!((xt=E.paymentLink)!=null&&xt.enabled),helperText:a.jsxs(a.Fragment,{children:[a.jsx("span",{children:`${(((Qe=E.paymentLink)==null?void 0:Qe.template)||"").length}/70 символов. Доступны: {name}, {date}, {time}, {link}`}),a.jsx("br",{}),a.jsx("small",{children:"Отправляется при создании бронирования с онлайн оплатой в админ панели"})]}),error:(((et=E.paymentLink)==null?void 0:et.template)||"").length>70})]})})]}),a.jsx(jt,{variant:"contained",fullWidth:!0,onClick:Y,disabled:T,startIcon:T?a.jsx(Dr,{size:20}):null,children:T?"Сохранение...":"Сохранить шаблоны"})]})})})]})}),a.jsx(ad,{value:r,index:2,children:a.jsx(An,{children:a.jsxs(ln,{children:[a.jsxs(Ue,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[a.jsx(Ux,{color:"primary"}),a.jsx(le,{variant:"h6",children:"Безопасность"})]}),a.jsx(le,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Настройки безопасности и доступа"}),a.jsx(xi,{sx:{my:2}}),a.jsx(le,{variant:"body2",color:"text.secondary",children:"Раздел в разработке"})]})})}),a.jsx(ad,{value:r,index:3,children:a.jsx(An,{children:a.jsxs(ln,{children:[a.jsxs(Ue,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[a.jsx(a$,{color:"primary"}),a.jsx(le,{variant:"h6",children:"База данных"})]}),a.jsx(le,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Информация о базе данных"}),a.jsx(xi,{sx:{my:2}}),a.jsxs(Ue,{children:[a.jsx(le,{variant:"subtitle2",gutterBottom:!0,children:"Firestore:"}),a.jsx(le,{variant:"body2",color:"text.secondary",children:"Проект: sports-booking-app-1d7e5"}),a.jsx(le,{variant:"body2",color:"text.secondary",children:"Регион: europe-west1"})]})]})})}),a.jsx(ad,{value:r,index:4,children:a.jsx(Ut,{container:!0,spacing:3,children:a.jsx(Ut,{item:!0,xs:12,children:a.jsx(An,{children:a.jsxs(ln,{children:[a.jsxs(Ue,{sx:{display:"flex",alignItems:"center",gap:2,mb:3},children:[a.jsx(fc,{color:"primary",fontSize:"large"}),a.jsx(le,{variant:"h5",fontWeight:"bold",children:"Страницы подтверждения бронирования и оплаты"})]}),a.jsxs(Yt,{severity:"info",sx:{mb:3},children:[a.jsx(zA,{children:"О страницах оплаты"}),"После создания бронирования с онлайн оплатой, клиент перенаправляется на страницу оплаты YooKassa. После оплаты или отмены, он возвращается на страницу подтверждения, которая показывает разное содержимое в зависимости от статуса бронирования и оплаты."]}),a.jsx(le,{variant:"h6",sx:{mt:3,mb:2},children:"Состояния страницы подтверждения"}),a.jsxs(Wn,{sx:{p:2,mb:2,backgroundColor:"#e8f5e9"},children:[a.jsxs(Ue,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[a.jsx(Bm,{sx:{color:"#4caf50"}}),a.jsx(le,{variant:"subtitle1",fontWeight:"bold",children:"1. Успешная оплата"})]}),a.jsxs(le,{variant:"body2",paragraph:!0,children:[a.jsx("strong",{children:"Когда появляется:"})," После успешной оплаты через YooKassa"]}),a.jsxs(le,{variant:"body2",paragraph:!0,children:[a.jsx("strong",{children:"Статус в БД:"})," ",a.jsx("code",{children:"paymentStatus: 'paid'"})," или ",a.jsx("code",{children:"paymentStatus: 'online_payment'"}),", ",a.jsx("code",{children:"status: 'confirmed'"})]}),a.jsxs(le,{variant:"body2",children:[a.jsx("strong",{children:"Что видит клиент:"}),' Зеленый хедер с галочкой ✅, заголовок "Бронирование подтверждено!", детали бронирования, инструкции по отмене']})]}),a.jsxs(Wn,{sx:{p:2,mb:2,backgroundColor:"#fff3cd"},children:[a.jsxs(Ue,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[a.jsx(W9,{sx:{color:"#ff9800"}}),a.jsx(le,{variant:"subtitle1",fontWeight:"bold",children:"2. Ожидание оплаты"})]}),a.jsxs(le,{variant:"body2",paragraph:!0,children:[a.jsx("strong",{children:"Когда появляется:"}),' Клиент вышел из YooKassa без оплаты (нажал "Отменить" или вернулся назад)']}),a.jsxs(le,{variant:"body2",paragraph:!0,children:[a.jsx("strong",{children:"Статус в БД:"})," ",a.jsx("code",{children:"paymentStatus: 'awaiting_payment'"})]}),a.jsxs(le,{variant:"body2",paragraph:!0,children:[a.jsx("strong",{children:"Что видит клиент:"}),' Желтый хедер с часами ⏰, заголовок "Требуется оплата!", большой таймер обратного отсчета (15:00 → 00:00), анимированная кнопка "Оплатить сейчас"']}),a.jsxs(le,{variant:"body2",color:"warning.main",children:[a.jsx("strong",{children:"⚠️ Важно:"})," Бронирование автоматически отменяется через 15 минут без оплаты"]})]}),a.jsxs(Wn,{sx:{p:2,mb:2,backgroundColor:"#ffebee"},children:[a.jsxs(Ue,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[a.jsx(Ja,{sx:{color:"#f44336"}}),a.jsx(le,{variant:"subtitle1",fontWeight:"bold",children:"3. Бронирование отменено"})]}),a.jsx(le,{variant:"body2",paragraph:!0,children:a.jsx("strong",{children:"Когда появляется:"})}),a.jsxs("ul",{style:{margin:"8px 0 8px 24px"},children:[a.jsx("li",{children:a.jsx(le,{variant:"body2",children:"Истекло 15 минут без оплаты"})}),a.jsx("li",{children:a.jsx(le,{variant:"body2",children:"Админ отменил бронирование"})}),a.jsx("li",{children:a.jsx(le,{variant:"body2",children:"Клиент отменил через мобильное приложение"})})]}),a.jsxs(le,{variant:"body2",paragraph:!0,children:[a.jsx("strong",{children:"Статус в БД:"})," ",a.jsx("code",{children:"status: 'cancelled'"})," или ",a.jsx("code",{children:"paymentStatus: 'cancelled'/'expired'"})]}),a.jsxs(le,{variant:"body2",children:[a.jsx("strong",{children:"Что видит клиент:"}),' Красный крестик ❌, заголовок "Бронирование отменено", список возможных причин отмены']})]}),a.jsxs(Wn,{sx:{p:2,mb:2,backgroundColor:"#ffebee"},children:[a.jsxs(Ue,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[a.jsx(P9,{sx:{color:"#f44336"}}),a.jsx(le,{variant:"subtitle1",fontWeight:"bold",children:"4. Ошибка оплаты"})]}),a.jsxs(le,{variant:"body2",paragraph:!0,children:[a.jsx("strong",{children:"Когда появляется:"})," Техническая ошибка при создании платежа в YooKassa/T-Bank"]}),a.jsxs(le,{variant:"body2",paragraph:!0,children:[a.jsx("strong",{children:"Статус в БД:"})," ",a.jsx("code",{children:"paymentStatus: 'error'"})]}),a.jsxs(le,{variant:"body2",paragraph:!0,children:[a.jsx("strong",{children:"URL параметр:"})," ",a.jsx("code",{children:"?paymentError=true"})]}),a.jsxs(le,{variant:"body2",paragraph:!0,children:[a.jsx("strong",{children:"Что видит клиент:"}),' Красный хедер с крестиком ❌, заголовок "Ошибка оплаты", рекомендация связаться с администратором']}),a.jsxs(le,{variant:"body2",color:"warning.main",children:[a.jsx("strong",{children:"⚠️ Важно:"})," Бронирования с этим статусом НЕ занимают слоты в календаре и могут быть удалены суперадмином"]})]}),a.jsxs(Wn,{sx:{p:2,mb:2,backgroundColor:"#e8eaf6"},children:[a.jsxs(Ue,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[a.jsx(Ja,{sx:{color:"#8B5CF6"}}),a.jsx(le,{variant:"subtitle1",fontWeight:"bold",children:"5. Возврат средств"})]}),a.jsxs(le,{variant:"body2",paragraph:!0,children:[a.jsx("strong",{children:"Когда появляется:"})," Администратор выполнил возврат средств клиенту"]}),a.jsxs(le,{variant:"body2",paragraph:!0,children:[a.jsx("strong",{children:"Статус в БД:"})," ",a.jsx("code",{children:"paymentStatus: 'refunded'"})]}),a.jsxs(le,{variant:"body2",paragraph:!0,children:[a.jsx("strong",{children:"Что видит клиент:"})," Информация о возврате средств"]}),a.jsxs(le,{variant:"body2",color:"info.main",children:[a.jsx("strong",{children:"ℹ️ Важно:"})," Бронирования с этим статусом НЕ занимают слоты в календаре"]})]}),a.jsxs(Wn,{sx:{p:2,mb:2,backgroundColor:"#f5f5f5"},children:[a.jsxs(Ue,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[a.jsx(z9,{sx:{color:"#9e9e9e"}}),a.jsx(le,{variant:"subtitle1",fontWeight:"bold",children:"6. Обработка платежа"})]}),a.jsxs(le,{variant:"body2",paragraph:!0,children:[a.jsx("strong",{children:"Когда появляется:"})," Платеж обрабатывается банком (редкий случай)"]}),a.jsxs(le,{variant:"body2",paragraph:!0,children:[a.jsx("strong",{children:"URL параметр:"})," ",a.jsx("code",{children:"?processing=true"})]}),a.jsxs(le,{variant:"body2",children:[a.jsx("strong",{children:"Что видит клиент:"}),' Песочные часы ⏳, заголовок "Обработка платежа", анимированный спиннер, автоматическая проверка статуса каждые 3 секунды']})]}),a.jsxs(Wn,{sx:{p:2,mb:2,backgroundColor:"#f5f5f5"},children:[a.jsxs(Ue,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[a.jsx(s$,{sx:{color:"#9e9e9e"}}),a.jsx(le,{variant:"subtitle1",fontWeight:"bold",children:"7. Бронирование не найдено"})]}),a.jsxs(le,{variant:"body2",paragraph:!0,children:[a.jsx("strong",{children:"Когда появляется:"})," Неверный ID бронирования или бронирование удалено"]}),a.jsxs(le,{variant:"body2",children:[a.jsx("strong",{children:"Что видит клиент:"}),' Лупа 🔍, заголовок "Бронирование не найдено", кнопка "На главную"']})]}),a.jsx(xi,{sx:{my:3}}),a.jsx(le,{variant:"h6",sx:{mb:2},children:"Технические детали"}),a.jsxs(Wn,{sx:{p:2,mb:2},children:[a.jsx(le,{variant:"subtitle2",fontWeight:"bold",gutterBottom:!0,children:"Автоматическая отмена неоплаченных бронирований"}),a.jsxs(le,{variant:"body2",paragraph:!0,children:["• ",a.jsx("strong",{children:"Таймер:"})," 15 минут с момента создания"]}),a.jsxs(le,{variant:"body2",paragraph:!0,children:["• ",a.jsx("strong",{children:"Cloud Function:"})," ",a.jsx("code",{children:"cancelExpiredBookings"})," (запускается каждые 5 минут)"]}),a.jsxs(le,{variant:"body2",children:["• ",a.jsx("strong",{children:"Условие отмены:"})," ",a.jsxs("code",{children:["paymentStatus === 'awaiting_payment' && createdAt ",">"," 15 минут назад"]})]})]}),a.jsxs(Wn,{sx:{p:2,mb:2},children:[a.jsx(le,{variant:"subtitle2",fontWeight:"bold",gutterBottom:!0,children:"URL структура"}),a.jsxs(le,{variant:"body2",paragraph:!0,children:["• Основной URL: ",a.jsxs("code",{children:["/club/","{clubId}","/booking-confirmation/","{bookingId}"]})]}),a.jsxs(le,{variant:"body2",paragraph:!0,children:["• Параметр ошибки: ",a.jsx("code",{children:"?paymentError=true"})]}),a.jsxs(le,{variant:"body2",children:["• Параметр обработки: ",a.jsx("code",{children:"?processing=true"})]})]}),a.jsxs(Wn,{sx:{p:2},children:[a.jsx(le,{variant:"subtitle2",fontWeight:"bold",gutterBottom:!0,children:"Статусы в базе данных"}),a.jsx(Ue,{sx:{mt:1,p:2,backgroundColor:"#f5f5f5",borderRadius:1},children:a.jsx("pre",{style:{margin:0,fontSize:"12px"},children:`// Статус бронирования
status: 'pending' | 'confirmed' | 'cancelled'

// Статус оплаты
paymentStatus: 
  | 'awaiting_payment' // Ожидает оплаты (начальный статус)
  | 'paid'           // Оплачено (наличные/карта на месте)
  | 'online_payment' // Оплачено онлайн (YooKassa/T-Bank)
  | 'cancelled'      // Отменено
  | 'refunded'       // Возвращено
  | 'error'          // Ошибка (не занимает слот)
  | 'expired'        // Истекло время (15 минут)
  | 'not_required'   // Не требуется (редко)`})})]})]})})})})}),a.jsx(uE,{open:f,autoHideDuration:3e3,onClose:()=>v(!1),message:"Настройки сохранены"})]}):null}function JZ(){const{user:e}=Er(),[t,n]=B.useState(null),[r,s]=B.useState("");return B.useEffect(()=>{(async()=>{if(!(e!=null&&e.email)){s("No user logged in");return}try{const o=qt(Ft(Oe,"admins"),It("email","==",e.email)),A=await Gt(o);if(A.empty)n({exists:!1,searchedEmail:e.email});else{const l=A.docs[0];n({id:l.id,data:l.data(),exists:!0})}}catch(o){s(o.message)}})()},[e]),a.jsxs(Ue,{sx:{p:3},children:[a.jsx(le,{variant:"h4",gutterBottom:!0,children:"Debug Information"}),a.jsx(An,{sx:{mb:2},children:a.jsxs(ln,{children:[a.jsx(le,{variant:"h6",children:"Current User"}),a.jsx("pre",{children:JSON.stringify(e,null,2)})]})}),a.jsx(An,{sx:{mb:2},children:a.jsxs(ln,{children:[a.jsx(le,{variant:"h6",children:"Admin Search Result"}),a.jsx("pre",{children:JSON.stringify(t,null,2)})]})}),r&&a.jsx(An,{children:a.jsxs(ln,{children:[a.jsx(le,{variant:"h6",color:"error",children:"Error"}),a.jsx(le,{children:r})]})})]})}const ZZ={admin:["manage_bookings","manage_courts","manage_club","manage_admins","manage_finance","view_reports","create_bookings"],manager:["view_bookings","create_bookings","view_reports"]};function eee(){const{isSuperAdmin:e}=ns(),[t,n]=B.useState(!1),[r,s]=B.useState([]),[i,o]=B.useState(null),[A,l]=B.useState(0);B.useEffect(()=>{c()},[]);const c=async()=>{try{n(!0);const p=(await Gt(Ft(Oe,"admins"))).docs.map(f=>({id:f.id,...f.data()}));s(p)}catch(d){console.error("Error loading admins:",d),o({type:"error",text:"Ошибка при загрузке администраторов"})}finally{n(!1)}},u=async()=>{try{n(!0),o(null);let d=0;for(const p of r)if(p.role==="admin"||p.role==="manager"){const f=ZZ[p.role],v=p.permissions||[],g=f.filter(y=>!v.includes(y));if(g.length>0){const y=[...new Set([...v,...f])];await In(yt(Oe,"admins",p.id),{permissions:y,updatedAt:new Date}),d++,console.log(`Updated ${p.name} (${p.email}): added ${g.join(", ")}`)}}l(d),d>0?o({type:"success",text:`Успешно обновлено ${d} администратор(ов). Обновите страницу и попробуйте войти снова.`}):o({type:"info",text:"Все администраторы уже имеют необходимые права."}),await c()}catch(d){console.error("Error fixing permissions:",d),o({type:"error",text:"Ошибка при обновлении прав доступа"})}finally{n(!1)}};return e?a.jsxs(Ue,{p:3,children:[a.jsx(le,{variant:"h4",gutterBottom:!0,children:"Исправление прав доступа администраторов"}),a.jsx(Yt,{severity:"info",sx:{mb:3},children:"Эта страница позволяет исправить права доступа для существующих администраторов клубов. Нажмите кнопку ниже, чтобы автоматически добавить недостающие права."}),i&&a.jsx(Yt,{severity:i.type,sx:{mb:3},children:i.text}),a.jsx(jt,{variant:"contained",color:"primary",onClick:u,disabled:t,sx:{mb:3},children:t?a.jsx(Dr,{size:24}):"Исправить права доступа"}),a.jsx(le,{variant:"h6",gutterBottom:!0,children:"Текущие администраторы:"}),t&&!r.length?a.jsx(Dr,{}):a.jsx(Ue,{display:"flex",flexDirection:"column",gap:2,children:r.map(d=>{var p,f;return a.jsx(An,{children:a.jsxs(ln,{children:[a.jsxs(le,{variant:"h6",children:[d.name," (",d.email,")"]}),a.jsxs(le,{color:"textSecondary",gutterBottom:!0,children:["Роль: ",a.jsx(Zi,{label:d.role,size:"small",color:d.role==="admin"?"primary":"default"})]}),a.jsxs(le,{variant:"body2",children:["Текущие права: ",((p=d.permissions)==null?void 0:p.join(", "))||"Нет прав"]}),d.role==="admin"&&!((f=d.permissions)!=null&&f.includes("manage_club"))&&a.jsx(Yt,{severity:"warning",sx:{mt:1},children:'У этого администратора отсутствует право "manage_club" для управления клубом!'})]})},d.id)})})]}):a.jsx(Yt,{severity:"error",children:"Доступ запрещен. Эта страница доступна только суперадминистраторам."})}const tee=({isOpen:e,onClose:t,onSave:n,trainer:r})=>{var f,v,g;const[s,i]=B.useState({firstName:"",lastName:"",phone:"",email:"",specialization:[],experience:0,bio:"",pricePerHour:0,groupPrice:0,commissionType:"percent",commissionValue:20,schedule:{monday:{enabled:!1},tuesday:{enabled:!1},wednesday:{enabled:!1},thursday:{enabled:!1},friday:{enabled:!1},saturday:{enabled:!1},sunday:{enabled:!1}},worksOnHolidays:!1,maxDailyHours:8,minBreakMinutes:15,advanceBookingDays:30,cancellationHours:24,availableCourts:[],color:"#00A86B",status:"active",hasAccess:!1,canEditProfile:!1,canViewClients:!1}),[o,A]=B.useState("basic");B.useEffect(()=>{r&&i(r)},[r]);const l=y=>{const{name:x,value:w,type:b}=y.target;if(b==="checkbox"){const j=y.target.checked;i(_=>({..._,[x]:j}))}else i(b==="number"?j=>({...j,[x]:parseFloat(w)||0}):j=>({...j,[x]:w}))},c=y=>{i(x=>{var w;return{...x,specialization:(w=x.specialization)!=null&&w.includes(y)?x.specialization.filter(b=>b!==y):[...x.specialization||[],y]}})},u=(y,x,w)=>{i(b=>({...b,schedule:{...b.schedule,[y]:{...b.schedule[y],[x]:w}}}))},d=y=>{if(y.preventDefault(),!s.firstName||!s.lastName||!s.phone){alert("Заполните обязательные поля");return}if(!s.specialization||s.specialization.length===0){alert("Выберите хотя бы одну специализацию");return}n(s)};if(!e)return null;const p={monday:"Понедельник",tuesday:"Вторник",wednesday:"Среда",thursday:"Четверг",friday:"Пятница",saturday:"Суббота",sunday:"Воскресенье"};return a.jsx("div",{className:`modal ${e?"active":""}`,children:a.jsxs("div",{className:"modal-content",style:{maxWidth:"900px",width:"90%"},children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h3",{className:"modal-title",children:r?"Редактировать тренера":"Добавить тренера"}),a.jsx("button",{className:"modal-close",onClick:t,children:a.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),a.jsxs("form",{onSubmit:d,children:[a.jsxs("div",{style:{display:"flex",borderBottom:"1px solid #e5e7eb"},children:[a.jsx("button",{type:"button",onClick:()=>A("basic"),style:{padding:"12px 24px",background:"none",border:"none",borderBottom:o==="basic"?"2px solid var(--primary)":"2px solid transparent",color:o==="basic"?"var(--primary)":"#6b7280",fontWeight:500,cursor:"pointer",transition:"all 0.2s"},children:"Основные данные"}),a.jsx("button",{type:"button",onClick:()=>A("schedule"),style:{padding:"12px 24px",background:"none",border:"none",borderBottom:o==="schedule"?"2px solid var(--primary)":"2px solid transparent",color:o==="schedule"?"var(--primary)":"#6b7280",fontWeight:500,cursor:"pointer",transition:"all 0.2s"},children:"Расписание"}),a.jsx("button",{type:"button",onClick:()=>A("settings"),style:{padding:"12px 24px",background:"none",border:"none",borderBottom:o==="settings"?"2px solid var(--primary)":"2px solid transparent",color:o==="settings"?"var(--primary)":"#6b7280",fontWeight:500,cursor:"pointer",transition:"all 0.2s"},children:"Настройки"})]}),a.jsxs("div",{className:"modal-body",style:{maxHeight:"60vh",overflowY:"auto"},children:[o==="basic"&&a.jsxs("div",{children:[a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"24px"},children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Имя *"}),a.jsx("input",{type:"text",name:"firstName",value:s.firstName,onChange:l,className:"form-input",required:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Фамилия *"}),a.jsx("input",{type:"text",name:"lastName",value:s.lastName,onChange:l,className:"form-input",required:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Телефон *"}),a.jsx("input",{type:"tel",name:"phone",value:s.phone,onChange:l,className:"form-input",placeholder:"+7 (999) 999-99-99",required:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Email"}),a.jsx("input",{type:"email",name:"email",value:s.email,onChange:l,className:"form-input",placeholder:"trainer@example.com"})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Специализация *"}),a.jsxs("div",{style:{display:"flex",gap:"16px",marginTop:"8px"},children:[a.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[a.jsx("input",{type:"checkbox",checked:(f=s.specialization)==null?void 0:f.includes("tennis"),onChange:()=>c("tennis"),style:{marginRight:"8px"}}),a.jsx("span",{children:"🎾 Теннис"})]}),a.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[a.jsx("input",{type:"checkbox",checked:(v=s.specialization)==null?void 0:v.includes("padel"),onChange:()=>c("padel"),style:{marginRight:"8px"}}),a.jsx("span",{children:"🏓 Падел"})]}),a.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[a.jsx("input",{type:"checkbox",checked:(g=s.specialization)==null?void 0:g.includes("badminton"),onChange:()=>c("badminton"),style:{marginRight:"8px"}}),a.jsx("span",{children:"🏸 Бадминтон"})]})]})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"24px"},children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Опыт работы (лет)"}),a.jsx("input",{type:"number",name:"experience",value:s.experience,onChange:l,min:"0",className:"form-input"})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Статус"}),a.jsxs("select",{name:"status",value:s.status,onChange:l,className:"form-select",children:[a.jsx("option",{value:"active",children:"Активен"}),a.jsx("option",{value:"vacation",children:"В отпуске"}),a.jsx("option",{value:"inactive",children:"Неактивен"})]})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"О тренере"}),a.jsx("textarea",{name:"bio",value:s.bio,onChange:l,rows:3,className:"form-input",placeholder:"Краткое описание, достижения, специализация...",style:{resize:"vertical"}})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"24px"},children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Стоимость индивидуального занятия"}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx("input",{type:"number",name:"pricePerHour",value:s.pricePerHour,onChange:l,min:"0",className:"form-input",style:{flex:1}}),a.jsx("span",{style:{color:"#6b7280"},children:"₽/час"})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Стоимость группового занятия"}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx("input",{type:"number",name:"groupPrice",value:s.groupPrice,onChange:l,min:"0",className:"form-input",style:{flex:1}}),a.jsx("span",{style:{color:"#6b7280"},children:"₽/час"})]})]})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"24px"},children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Тип комиссии клуба"}),a.jsxs("select",{name:"commissionType",value:s.commissionType,onChange:l,className:"form-select",children:[a.jsx("option",{value:"percent",children:"Процент"}),a.jsx("option",{value:"fixed",children:"Фиксированная сумма"})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:s.commissionType==="percent"?"Процент комиссии":"Сумма комиссии (₽)"}),a.jsx("input",{type:"number",name:"commissionValue",value:s.commissionValue,onChange:l,min:"0",max:s.commissionType==="percent"?100:void 0,className:"form-input"})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Цвет для календаря"}),a.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[a.jsx("input",{type:"color",className:"form-input",name:"color",value:s.color,onChange:l,style:{width:"80px",height:"48px",padding:"4px",cursor:"pointer"}}),a.jsx("input",{type:"text",className:"form-input",value:s.color,onChange:y=>i(x=>({...x,color:y.target.value})),placeholder:"#00A86B",style:{flex:1}})]}),a.jsx("div",{className:"form-hint",children:"Этот цвет будет использоваться для визуального отображения тренера в календаре"})]})]}),o==="schedule"&&a.jsxs("div",{children:[a.jsx("div",{style:{marginBottom:"24px"},children:Object.keys(p).map(y=>{var x,w,b,j,_,k,D,N,U,L;return a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",padding:"16px",marginBottom:"12px",border:"1px solid #e5e7eb",borderRadius:"8px",background:(w=(x=s.schedule)==null?void 0:x[y])!=null&&w.enabled?"#f9fafb":"white"},children:[a.jsxs("label",{style:{display:"flex",alignItems:"center",minWidth:"150px",cursor:"pointer"},children:[a.jsx("input",{type:"checkbox",checked:(j=(b=s.schedule)==null?void 0:b[y])==null?void 0:j.enabled,onChange:E=>u(y,"enabled",E.target.checked),style:{marginRight:"8px"}}),a.jsx("span",{style:{fontWeight:500},children:p[y]})]}),((k=(_=s.schedule)==null?void 0:_[y])==null?void 0:k.enabled)&&a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flex:1},children:[a.jsx("input",{type:"time",value:((N=(D=s.schedule)==null?void 0:D[y])==null?void 0:N.start)||"09:00",onChange:E=>u(y,"start",E.target.value),className:"form-input",style:{width:"140px"}}),a.jsx("span",{style:{color:"#6b7280"},children:"—"}),a.jsx("input",{type:"time",value:((L=(U=s.schedule)==null?void 0:U[y])==null?void 0:L.end)||"18:00",onChange:E=>u(y,"end",E.target.value),className:"form-input",style:{width:"140px"}})]})]},y)})}),a.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[a.jsx("input",{type:"checkbox",name:"worksOnHolidays",checked:s.worksOnHolidays,onChange:l,style:{marginRight:"8px"}}),a.jsx("span",{children:"Работает в праздничные дни"})]})]}),o==="settings"&&a.jsxs("div",{children:[a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"24px"},children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Максимум часов в день"}),a.jsx("input",{type:"number",name:"maxDailyHours",value:s.maxDailyHours,onChange:l,min:"1",max:"12",className:"form-input"})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Минимальный перерыв между занятиями"}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx("input",{type:"number",name:"minBreakMinutes",value:s.minBreakMinutes,onChange:l,min:"0",max:"60",className:"form-input",style:{flex:1}}),a.jsx("span",{style:{color:"#6b7280"},children:"минут"})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Бронирование вперед"}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx("input",{type:"number",name:"advanceBookingDays",value:s.advanceBookingDays,onChange:l,min:"1",max:"365",className:"form-input",style:{flex:1}}),a.jsx("span",{style:{color:"#6b7280"},children:"дней"})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Отмена минимум за"}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx("input",{type:"number",name:"cancellationHours",value:s.cancellationHours,onChange:l,min:"0",max:"72",className:"form-input",style:{flex:1}}),a.jsx("span",{style:{color:"#6b7280"},children:"часов"})]})]})]}),a.jsxs("div",{style:{marginBottom:"24px"},children:[a.jsx("h3",{style:{fontSize:"16px",fontWeight:600,marginBottom:"16px"},children:"Права доступа"}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[a.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[a.jsx("input",{type:"checkbox",name:"hasAccess",checked:s.hasAccess,onChange:l,style:{marginRight:"8px"}}),a.jsx("span",{children:"Может входить в систему"})]}),s.hasAccess&&a.jsxs(a.Fragment,{children:[a.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",marginLeft:"24px"},children:[a.jsx("input",{type:"checkbox",name:"canEditProfile",checked:s.canEditProfile,onChange:l,style:{marginRight:"8px"}}),a.jsx("span",{children:"Может редактировать свой профиль"})]}),a.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",marginLeft:"24px"},children:[a.jsx("input",{type:"checkbox",name:"canViewClients",checked:s.canViewClients,onChange:l,style:{marginRight:"8px"}}),a.jsx("span",{children:"Может видеть имена клиентов"})]})]})]})]}),a.jsx("div",{style:{padding:"16px",background:"rgba(59, 130, 246, 0.05)",border:"1px solid rgba(59, 130, 246, 0.2)",borderRadius:"8px"},children:a.jsxs("p",{style:{fontSize:"14px",color:"#1e40af",margin:0},children:[a.jsx("strong",{children:"Примечание:"})," Онлайн-бронирование тренера клиентами находится в разработке. Сейчас бронирование с тренером доступно только через администратора клуба."]})})]})]}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-secondary",onClick:t,children:"Отмена"}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:r?"Сохранить изменения":"Добавить тренера"})]})]})]})})},nee=()=>{const{admin:e,club:t}=Er(),{isSuperAdmin:n}=ns(),[r,s]=B.useState([]),[i,o]=B.useState(!0),[A,l]=B.useState(""),[c,u]=B.useState("all"),[d,p]=B.useState(!1),[f,v]=B.useState(null),[g,y]=B.useState(null),[x,w]=B.useState([]),[b,j]=B.useState(!1);B.useEffect(()=>{if(n){_();const F=localStorage.getItem("selectedVenueId");F?(y(F),D(F)):o(!1)}else e!=null&&e.venueId?D(e.venueId):t!=null&&t.id?D(t.id):o(!1)},[e,t,n]);const _=async()=>{try{const $=(await Gt(Ft(Oe,"venues"))).docs.map(O=>({id:O.id,...O.data()}));w($)}catch(F){console.error("Error fetching venues:",F)}},k=F=>{y(F),localStorage.setItem("selectedVenueId",F),D(F)},D=async F=>{if(F){o(!0);try{const $=qt(Ft(Oe,"trainers"),It("clubId","==",F),u5("firstName")),O=await Gt($),H=[];O.forEach(ie=>{H.push({id:ie.id,...ie.data()})}),s(H)}catch($){console.error("Error fetching trainers:",$)}finally{o(!1)}}},N=()=>{v(null),p(!0)},U=F=>{v(F),p(!0)},L=async F=>{if(window.confirm("Вы уверены, что хотите удалить этого тренера?"))try{await $c(yt(Oe,"trainers",F));const $=n?g:(e==null?void 0:e.venueId)||(t==null?void 0:t.id);$&&await D($),j(!0),setTimeout(()=>j(!1),3e3)}catch($){console.error("Error deleting trainer:",$),alert("Ошибка при удалении тренера")}},E=async F=>{const $=n?g:(e==null?void 0:e.venueId)||(t==null?void 0:t.id);if($)try{f!=null&&f.id?await In(yt(Oe,"trainers",f.id),{...F,updatedAt:Zt.now()}):await qi(Ft(Oe,"trainers"),{...F,clubId:$,createdAt:Zt.now(),updatedAt:Zt.now()}),await D($),p(!1),j(!0),setTimeout(()=>j(!1),3e3)}catch(O){console.error("Error saving trainer:",O),alert("Ошибка при сохранении тренера")}},I=r.filter(F=>{const $=F.firstName.toLowerCase().includes(A.toLowerCase())||F.lastName.toLowerCase().includes(A.toLowerCase()),O=c==="all"||F.specialization.includes(c);return $&&O}),T=F=>{switch(F){case"tennis":return"🎾";case"padel":return"🏓";case"badminton":return"🏸";default:return"🎾"}},P=F=>{switch(F){case"active":return a.jsx("span",{style:{padding:"4px 8px",fontSize:"12px",fontWeight:500,backgroundColor:"#10B981",color:"white",borderRadius:"12px"},children:"Активен"});case"vacation":return a.jsx("span",{style:{padding:"4px 8px",fontSize:"12px",fontWeight:500,backgroundColor:"#F59E0B",color:"white",borderRadius:"12px"},children:"В отпуске"});case"inactive":return a.jsx("span",{style:{padding:"4px 8px",fontSize:"12px",fontWeight:500,backgroundColor:"#6B7280",color:"white",borderRadius:"12px"},children:"Неактивен"});default:return null}},K=F=>{var ie,M,W,V;const O=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].filter(X=>{var Y,ee;return(ee=(Y=F.schedule)==null?void 0:Y[X])==null?void 0:ee.enabled});if(O.length===0)return"Не указано";if(O.length===7)return"Ежедневно";if(O.length===5&&!((M=(ie=F.schedule)==null?void 0:ie.saturday)!=null&&M.enabled)&&!((V=(W=F.schedule)==null?void 0:W.sunday)!=null&&V.enabled))return"Пн-Пт";const H={monday:"Пн",tuesday:"Вт",wednesday:"Ср",thursday:"Чт",friday:"Пт",saturday:"Сб",sunday:"Вс"};return O.length===1?H[O[0]]:`${H[O[0]]}-${H[O[O.length-1]]}`},Q=n?g:(e==null?void 0:e.venueId)||(t==null?void 0:t.id);return i?a.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"400px"},children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):a.jsxs("div",{children:[n&&a.jsxs("div",{className:"section-card",style:{marginBottom:"24px"},children:[a.jsx("div",{className:"section-header",children:a.jsx("h2",{className:"section-title",children:"Управление клубом"})}),a.jsx("div",{className:"form-group",children:a.jsxs("select",{value:g||"",onChange:F=>k(F.target.value),className:"form-select",children:[a.jsx("option",{value:"",children:"Выберите клуб"}),x.map(F=>a.jsx("option",{value:F.id,children:F.name},F.id))]})})]}),b&&a.jsxs(Yt,{severity:"success",style:{marginBottom:"24px"},children:[a.jsx(zA,{children:"Успешно"}),"Операция выполнена успешно"]}),Q?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"section-card",children:[a.jsxs("div",{className:"section-header",children:[a.jsx("h2",{className:"section-title",children:"Тренеры"}),a.jsxs("button",{onClick:N,className:"btn btn-primary",children:[a.jsx(nu,{fontSize:"small"}),"Добавить тренера"]})]}),a.jsxs("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap"},children:[a.jsxs("div",{style:{flex:1,minWidth:"200px",position:"relative"},children:[a.jsx(r$,{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#6B7280",fontSize:"20px"}}),a.jsx("input",{type:"text",placeholder:"Поиск по имени...",value:A,onChange:F=>l(F.target.value),className:"form-input",style:{paddingLeft:"40px"}})]}),a.jsxs("select",{value:c,onChange:F=>u(F.target.value),className:"form-select",style:{width:"auto"},children:[a.jsx("option",{value:"all",children:"Все виды спорта"}),a.jsx("option",{value:"tennis",children:"Теннис"}),a.jsx("option",{value:"padel",children:"Падел"}),a.jsx("option",{value:"badminton",children:"Бадминтон"})]})]})]}),I.length>0?a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"24px",marginTop:"24px"},children:I.map(F=>{var $,O;return a.jsxs("div",{className:"section-card",style:{padding:"24px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"16px"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[a.jsxs("div",{style:{width:"48px",height:"48px",borderRadius:"50%",backgroundColor:F.color||"#00A86B",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:"18px"},children:[F.firstName[0],F.lastName[0]]}),a.jsxs("div",{children:[a.jsxs("h3",{style:{margin:0,fontSize:"18px",fontWeight:600},children:[F.firstName," ",F.lastName]}),a.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginTop:"4px"},children:F.specialization.map(H=>a.jsx("span",{style:{fontSize:"18px"},children:T(H)},H))})]})]}),P(F.status)]}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",fontSize:"14px",color:"#6B7280",marginBottom:"16px"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx(wm,{style:{fontSize:"16px"}}),a.jsx("span",{children:K(F)}),F.schedule&&Object.keys(F.schedule).find(H=>{var ie;return(ie=F.schedule[H])==null?void 0:ie.enabled})&&a.jsxs("span",{style:{color:"#9CA3AF"},children:[($=F.schedule[Object.keys(F.schedule).find(H=>{var ie;return(ie=F.schedule[H])==null?void 0:ie.enabled})||"monday"])==null?void 0:$.start," -",(O=F.schedule[Object.keys(F.schedule).find(H=>{var ie;return(ie=F.schedule[H])==null?void 0:ie.enabled})||"monday"])==null?void 0:O.end]})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx(eA,{style:{fontSize:"16px"}}),a.jsxs("span",{children:[F.pricePerHour,"₽/час"]}),F.groupPrice&&a.jsxs("span",{style:{color:"#9CA3AF"},children:["• Группа: ",F.groupPrice,"₽"]})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx(t$,{style:{fontSize:"16px"}}),a.jsxs("span",{children:[F.experience," лет опыта"]})]})]}),a.jsxs("div",{style:{display:"flex",gap:"8px"},children:[a.jsxs("button",{onClick:()=>U(F),className:"btn btn-secondary",style:{flex:1},children:[a.jsx(Mc,{fontSize:"small"}),"Изменить"]}),a.jsx("button",{onClick:()=>L(F.id),className:"btn btn-danger",children:a.jsx(ZA,{fontSize:"small"})})]})]},F.id)})}):a.jsx("div",{className:"section-card",style:{marginTop:"24px"},children:a.jsxs("div",{style:{textAlign:"center",padding:"48px 24px"},children:[a.jsx(Y9,{style:{fontSize:64,color:"#9CA3AF",marginBottom:"16px"}}),a.jsx("p",{style:{fontSize:"18px",color:"#6B7280",marginBottom:"8px"},children:"Тренеры не найдены"}),r.length===0&&a.jsx("p",{style:{fontSize:"14px",color:"#9CA3AF"},children:"Добавьте первого тренера вашего клуба"})]})})]}):a.jsx("div",{className:"section-card",children:a.jsxs("div",{style:{textAlign:"center",padding:"48px 24px"},children:[a.jsx(xE,{style:{fontSize:64,color:"#9CA3AF",marginBottom:"16px"}}),a.jsx("p",{style:{fontSize:"18px",color:"#6B7280"},children:n?"Выберите клуб для просмотра тренеров":"Клуб не найден"})]})}),d&&a.jsx(tee,{isOpen:d,onClose:()=>p(!1),onSave:E,trainer:f})]})};class ree extends B.Component{constructor(n){super(n);Ib(this,"handleReset",()=>{this.setState({hasError:!1,error:void 0})});this.state={hasError:!1}}static getDerivedStateFromError(n){return{hasError:!0,error:_1(n)}}componentDidCatch(n,r){const s=_1(n);BE(s,{componentStack:r.componentStack,errorBoundary:!0})}render(){return this.state.hasError&&this.state.error?this.props.fallback?this.props.fallback(this.state.error,this.handleReset):a.jsx(Ue,{sx:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"400px",p:3},children:a.jsxs(Wn,{elevation:3,sx:{p:4,maxWidth:500,textAlign:"center"},children:[a.jsx(R9,{sx:{fontSize:64,color:"error.main",mb:2}}),a.jsx(le,{variant:"h5",gutterBottom:!0,children:"Что-то пошло не так"}),a.jsx(le,{variant:"body1",color:"text.secondary",paragraph:!0,children:this.state.error.message}),!1,a.jsx(jt,{variant:"contained",startIcon:a.jsx(yE,{}),onClick:this.handleReset,sx:{mt:3},children:"Попробовать снова"})]})}):this.props.children}}const see={contentPadding:{padding:"var(--spacing-xl)"}},Ov={container:{maxWidth:"1200px",margin:"0 auto",display:"grid",gridTemplateColumns:"1fr 400px",gap:"var(--spacing-2xl)",padding:"var(--spacing-2xl)",minHeight:"calc(100vh - 350px)"},mainContent:{flex:1},sidebar:{position:"sticky",top:"var(--spacing-2xl)",height:"fit-content",display:"flex",flexDirection:"column",gap:"var(--spacing-lg)"}};function $v({src:e,alt:t,className:n,style:r,onClick:s,loading:i="lazy",onMouseOver:o,onMouseOut:A}){const[l,c]=B.useState(i==="eager"),[u,d]=B.useState(!1),p=B.useRef(null);return B.useEffect(()=>{if(i==="eager"||!p.current)return;const f=new IntersectionObserver(v=>{v.forEach(g=>{g.isIntersecting&&(c(!0),f.unobserve(g.target))})},{rootMargin:"50px"});return f.observe(p.current),()=>{p.current&&f.unobserve(p.current)}},[i]),u?a.jsx("div",{style:{...r,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"var(--extra-light-gray)",color:"var(--gray)"},className:n,children:a.jsx("span",{children:"📷"})}):a.jsx("img",{ref:p,src:l?e:void 0,alt:t,className:n,style:r,onClick:s,onMouseOver:o,onMouseOut:A,onError:()=>d(!0),loading:i})}function iee({isOpen:e,onClose:t,court:n,venue:r}){const[s,i]=B.useState("datetime"),[o,A]=B.useState(Xo()),[l,c]=B.useState(""),[u,d]=B.useState(60),[p,f]=B.useState("private"),[v,g]=B.useState([]),[y,x]=B.useState(!1),[w,b]=B.useState(""),[j,_]=B.useState("+7"),[k,D]=B.useState(""),[N,U]=B.useState(null),[L,E]=B.useState(window.innerWidth<=768);B.useEffect(()=>{const H=()=>{E(window.innerWidth<=768)};return window.addEventListener("resize",H),()=>window.removeEventListener("resize",H)},[]),B.useEffect(()=>{if(e){console.log("Modal opened, venue:",r,"bookingDurations:",r.bookingDurations);const H=r.bookingDurations||{60:!0,90:!0,120:!0},ie=[60,90,120].filter(M=>H[M]!==!1);console.log("Available durations:",ie),ie.length>0&&!ie.includes(u)&&d(ie[0]),i("datetime"),c(""),g([]),n&&r&&I()}else N&&(N(),U(null))},[e]),B.useEffect(()=>{if(s==="datetime"&&o&&n&&r){I();const H=new Date(o);H.setHours(0,0,0,0);const ie=new Date(o);ie.setHours(23,59,59,999);const M=qt(Ft(Oe,"bookings"),It("courtId","==",n.id),It("date",">=",Zt.fromDate(H)),It("date","<=",Zt.fromDate(ie))),W=Xi(M,X=>{console.log("Real-time update: bookings changed (timestamp date)",X.docs.length,"bookings"),X.docs.forEach(Y=>{console.log("Booking:",Y.id,Y.data())}),I()}),V=()=>{W()};U(()=>V)}return()=>{N&&(N(),U(null))}},[s,o,u,n.id,r.id]);const I=async(H,ie)=>{var V;const M=H||u,W=ie||o;console.log("Loading time slots for:",{date:W,courtId:n.id,courtName:n.name,venue:r.name,duration:M,workingHours:r.workingHours}),x(!0);try{const X=new Date(W);X.setHours(0,0,0,0);const Y=new Date(W);Y.setHours(23,59,59,999);const ee=qt(Ft(Oe,"bookings"),It("courtId","==",n.id),It("date",">=",Zt.fromDate(X)),It("date","<=",Zt.fromDate(Y))),Ae=(await Gt(ee)).docs.filter(De=>{const $e=De.data();return $e.status==="confirmed"||$e.paymentStatus==="paid"||$e.paymentStatus==="awaiting_payment"}).map(De=>{const $e=De.data();let Ge=$e.duration||60;return console.log("Processing booking:",De.id,{duration:$e.duration,amount:$e.amount,price:$e.price,startTime:$e.startTime,endTime:$e.endTime}),{time:$e.time||$e.startTime,startTime:$e.startTime||$e.time,endTime:$e.endTime,duration:Ge}});console.log("Found bookings:",Ae.length,Ae);const Ee=W.getDay(),fe=Ee===0||Ee===6,de=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][Ee];console.log("Day of week:",Ee,"Day name:",de,"Is weekend:",fe,"Working hours:",r.workingHours);const Be=[];let pe="07:00",se="23:00";if((V=r.workingHours)!=null&&V[de]){const De=r.workingHours[de];if(console.log("Found day-specific hours:",de,De),typeof De=="object"&&De.open&&De.close)pe=De.open,se=De.close;else if(typeof De=="string"&&De.includes("-")){const[$e,Ge]=De.split("-").map(_e=>_e.trim());$e&&Ge&&(pe=$e,se=Ge)}}else if(r.workingHours){const De=r.workingHours[fe?"weekend":"weekday"];if(console.log("Using weekday/weekend format:",fe?"weekend":"weekday",De),typeof De=="string"&&De.includes("-")){const[$e,Ge]=De.split("-").map(_e=>_e.trim());$e&&Ge&&(pe=$e,se=Ge)}else typeof De=="object"&&De.open&&De.close&&(pe=De.open,se=De.close)}else console.log("No working hours found, using defaults");console.log("Working hours parsed:",{openTime:pe,closeTime:se});const[me,ne]=pe.split(":").map(Number),[ae,he]=se.split(":").map(Number),ge=new Date,Ce=rn(W,"yyyy-MM-dd")===rn(ge,"yyyy-MM-dd");let ye=me*60+ne;const Le=ae*60+he,We=r.bookingSlotInterval||60;for(We===60&&ye%60!==0&&(ye=Math.ceil(ye/60)*60);ye<Le;){const De=Math.floor(ye/60),$e=ye%60,Ge=`${De.toString().padStart(2,"0")}:${$e.toString().padStart(2,"0")}`,_e=Dj(Lj(new Date(W),De),$e);if(Ce&&Lr(_e,ge)){ye+=We;continue}if(ye+M>Le)break;let Me=!0;for(const nt of Ae){const He=nt.startTime.split(":");if(He.length!==2)continue;const xt=parseInt(He[0]),Qe=parseInt(He[1]),et=xt*60+Qe,Pe=et+nt.duration,rt=ye+M;if(ye<Pe&&rt>et){Me=!1;break}}const Ie=Pc(W,Ge,M,n.pricing,n.holidayPricing,n.priceWeekday,n.priceWeekend);Be.push({time:Ge,available:Me,price:Ie}),ye+=We}g(Be),console.log("Loaded time slots:",Be.length,Be)}catch(X){console.error("Error loading time slots:",X),g([])}finally{x(!1)}},T=H=>{A(H),c(""),I(u,H)},P=async H=>{x(!0);try{const ie=new Date(o);ie.setHours(0,0,0,0);const M=new Date(o);M.setHours(23,59,59,999);const W=qt(Ft(Oe,"bookings"),It("courtId","==",n.id),It("date",">=",Zt.fromDate(ie)),It("date","<=",Zt.fromDate(M))),X=(await Gt(W)).docs.filter(fe=>{const we=fe.data();return we.status==="confirmed"||we.paymentStatus==="paid"||we.paymentStatus==="awaiting_payment"}).map(fe=>{const we=fe.data();let de=we.duration||60;return console.log("Processing booking:",fe.id,{duration:we.duration,amount:we.amount,price:we.price,startTime:we.startTime,endTime:we.endTime}),{time:we.time||we.startTime,startTime:we.startTime||we.time,endTime:we.endTime,duration:de}}),[Y,ee]=H.split(":").map(Number),ce=Y*60+ee,Ae=ce+u;let Ee=!0;for(const fe of X){const we=fe.startTime.split(":");if(we.length!==2)continue;const de=parseInt(we[0]),Be=parseInt(we[1]),pe=de*60+Be,se=pe+fe.duration;if(ce<se&&Ae>pe){Ee=!1;break}}if(!Ee){alert("К сожалению, это время было только что забронировано. Пожалуйста, выберите другое время."),await I();return}c(H),i("gameType")}catch(ie){console.error("Error checking availability:",ie),alert("Ошибка проверки доступности. Попробуйте еще раз.")}finally{x(!1)}},K=H=>{f(H)},Q=async()=>{if(!w||!j){alert("Пожалуйста, заполните обязательные поля");return}if(!dj(w)){alert("Имя должно быть от 2 до 100 символов");return}if(!uj(j)){alert("Некорректный номер телефона");return}if(k&&!oY(k)){alert("Некорректный email");return}if(!hj(o)){alert("Нельзя забронировать на прошедшую дату");return}x(!0);try{const[H,ie]=l.split(":").map(Number),M=new Date(o);M.setHours(H,ie,0,0);const W=new Date(M.getTime()+u*60*1e3),V=v.find(Ee=>Ee.time===l),X={courtId:n.id,courtName:n.name,venueId:r.id,venueName:r.name,date:Zt.fromDate(o),time:l,startTime:l,endTime:`${W.getHours().toString().padStart(2,"0")}:${W.getMinutes().toString().padStart(2,"0")}`,duration:u,gameType:p,customerName:Dd(w),customerPhone:ac(j),customerEmail:k?k.toLowerCase().trim():"",clientName:Dd(w),clientPhone:ac(j),price:V?V.price:0,amount:V?V.price:0,status:"pending",paymentStatus:"awaiting_payment",paymentMethod:"online",paymentHistory:[{timestamp:Zt.now(),action:"created",userId:"web-client",userName:w}],createdBy:{userId:"web-client",userName:w,userRole:"client"},createdAt:new Date,source:"web"};if(console.log("Venue payment settings from props:",{paymentEnabled:r.paymentEnabled,paymentProvider:r.paymentProvider,paymentTestMode:r.paymentTestMode,phone:r.phone}),!r.paymentEnabled){const Ee=r.phone||"не указан";alert(`К сожалению, клуб "${r.name}" пока не подключил онлайн оплату.

Пожалуйста, позвоните по телефону клуба для бронирования:
${Ee}`),x(!1);return}console.log("Creating booking with data:",X);const Y=await qi(Ft(Oe,"bookings"),X);console.log("Booking created with ID:",Y.id);const ee=Ss(Zo,"initBookingPayment");console.log("Calling initBookingPayment with params:",{bookingId:Y.id,amount:X.price,description:`Бронирование ${n.name} на ${rn(o,"d MMMM",{locale:ti})} ${l}`,returnUrl:`${window.location.origin}/club/${r.id}/booking-confirmation/${Y.id}`,userId:"",customerEmail:k,customerPhone:j});const ce=await ee({bookingId:Y.id,amount:X.price,description:`Бронирование ${n.name} на ${rn(o,"d MMMM",{locale:ti})} ${l}`,returnUrl:`${window.location.origin}/club/${r.id}/booking-confirmation/${Y.id}`,userId:"",customerEmail:k,customerPhone:j});console.log("Payment result:",ce);const Ae=ce.data;if(Ae.success&&Ae.paymentUrl)window.location.href=Ae.paymentUrl;else{try{await $c(Y),console.log("Booking deleted due to payment initialization failure")}catch(Ee){console.error("Failed to delete booking after payment failure:",Ee)}throw new Error(Ae.error||"Ошибка инициализации платежа")}}catch(H){console.error("Error creating booking:",H),console.error("Error details:",{message:H.message,code:H.code,details:H.details,stack:H.stack});let ie="Ошибка при создании бронирования";H.code==="functions/not-found"?ie="Функция оплаты не найдена. Проверьте настройки.":H.code==="functions/failed-precondition"?ie="Платежи не настроены для этого клуба":H.message&&(ie=`Ошибка: ${H.message}`),alert(ie)}finally{x(!1)}};if(!e)return null;const F=()=>{var W;const H=[],ie=["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек"],M=["Вс","Пн","Вт","Ср","Чт","Пт","Сб"];for(let V=0;V<14;V++)H.push(so(Xo(),V));return a.jsxs("div",{style:{display:"flex",flexDirection:"column",height:L?"calc(100vh - var(--spacing-lg) * 2)":"auto",position:"relative"},children:[a.jsx("h3",{className:"h3",style:{marginBottom:"var(--spacing-lg)",flexShrink:0},children:"Выберите дату и время"}),a.jsxs("div",{style:{display:L?"block":"grid",gridTemplateColumns:L?"1fr":"300px 1fr",gap:"var(--spacing-xl)",flex:1,overflowY:"auto",paddingBottom:L?"140px":"0"},children:[a.jsxs("div",{children:[a.jsxs("div",{style:{marginBottom:"var(--spacing-xl)"},children:[a.jsx("h4",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Дата бронирования"}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"var(--spacing-xs)"},children:H.map((V,X)=>{const Y=rn(V,"yyyy-MM-dd")===rn(o,"yyyy-MM-dd"),ee=X===0,ce=M[V.getDay()],Ae=X===0||V.getDate()===1,Ee=rn(V,"yyyy-MM-dd");return a.jsxs("div",{style:{textAlign:"center"},children:[Ae&&a.jsx("div",{className:"caption",style:{marginBottom:"var(--spacing-xs)",color:"var(--gray)",height:"16px",fontSize:"11px"},children:ie[V.getMonth()]}),!Ae&&a.jsx("div",{style:{height:"16px",marginBottom:"var(--spacing-xs)"}}),a.jsxs("button",{onClick:()=>T(V),style:{width:"100%",aspectRatio:"1",padding:"4px",border:`2px solid ${Y||ee?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-sm)",background:Y?"var(--primary)":"var(--white)",color:Y?"white":"var(--dark)",cursor:"pointer",transition:"all 0.2s",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:"12px"},children:[a.jsx("div",{className:"caption",style:{fontWeight:600,color:Y?"white":"var(--gray)"},children:ce}),a.jsx("div",{className:"body-bold",style:{fontSize:"16px",color:Y?"white":"var(--dark)"},children:V.getDate()})]})]},Ee)})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Длительность игры"}),a.jsx("div",{style:{display:"flex",gap:"var(--spacing-sm)"},children:[60,90,120].map(V=>(r.bookingDurations||{60:!0,90:!0,120:!0})[V]!==!1?(o.getDay(),Pc(o,"12:00",V,n.pricing,n.holidayPricing,n.priceWeekday,n.priceWeekend),a.jsx("button",{onClick:()=>{V!==u&&(d(V),c(""),I(V))},style:{flex:1,padding:L?"var(--spacing-sm) var(--spacing-xs)":"var(--spacing-md)",border:`2px solid ${u===V?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",background:u===V?"var(--primary)":"var(--white)",color:u===V?"white":"var(--dark)",cursor:"pointer",transition:"all 0.2s",display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},children:a.jsx("span",{className:"body-bold",style:{fontSize:L?"14px":"16px"},children:V===60?"1 час":V===90?"1.5 часа":"2 часа"})},`duration-${V}`)):null)})]})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:["Свободное время на ",rn(o,"d MMMM",{locale:ti})]}),y?a.jsx("div",{style:{textAlign:"center",padding:"var(--spacing-3xl)"},children:a.jsx("div",{className:"spinner"})}):v.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{display:"grid",gridTemplateColumns:L?"repeat(3, 1fr)":"repeat(4, 1fr)",gap:"var(--spacing-sm)",maxHeight:L?"400px":"500px",overflowY:"auto",paddingRight:"var(--spacing-sm)",marginBottom:"var(--spacing-md)"},children:v.map(V=>{const X=l===V.time;return a.jsxs("button",{onClick:()=>V.available&&c(V.time),disabled:!V.available,style:{padding:"var(--spacing-md) var(--spacing-xs)",border:`2px solid ${V.available?X?"var(--primary)":"var(--light-gray)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-sm)",background:V.available?X?"var(--primary)":"var(--white)":"var(--extra-light-gray)",color:V.available?X?"white":"var(--dark)":"var(--gray)",cursor:V.available?"pointer":"not-allowed",transition:"all 0.2s",opacity:V.available?1:.5,display:"flex",flexDirection:"column",alignItems:"center",gap:"4px",minHeight:"65px",justifyContent:"center"},children:[a.jsxs("span",{className:"body-bold",style:{fontSize:"14px"},children:[V.time,"-",(()=>{const[Y,ee]=V.time.split(":").map(Number),ce=new Date;return ce.setHours(Y,ee,0,0),ce.setTime(ce.getTime()+u*60*1e3),`${ce.getHours().toString().padStart(2,"0")}:${ce.getMinutes().toString().padStart(2,"0")}`})()]}),V.available?X?a.jsx("span",{className:"caption",style:{color:"white",fontWeight:600},children:"Выбрано"}):a.jsxs("span",{className:"caption",style:{color:"var(--primary)",fontWeight:600},children:[V.price,"₽"]}):a.jsx("span",{className:"caption",children:"Занято"})]},`slot-${V.time}`)})}),a.jsxs("div",{style:{display:"flex",gap:"var(--spacing-lg)",flexWrap:"wrap",marginTop:"var(--spacing-md)"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[a.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--white)",border:"2px solid var(--light-gray)",borderRadius:"4px"}}),a.jsx("span",{className:"caption",children:"Свободно"})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[a.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--extra-light-gray)",borderRadius:"4px"}}),a.jsx("span",{className:"caption",children:"Занято"})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[a.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--primary)",borderRadius:"4px"}}),a.jsx("span",{className:"caption",children:"Выбрано"})]})]})]}):a.jsx("div",{style:{textAlign:"center",padding:"var(--spacing-xl)",color:"var(--gray)"},children:a.jsx("p",{className:"body",children:"Нет доступных слотов на выбранную дату"})})]})]}),a.jsxs("div",{style:{position:L?"fixed":"sticky",bottom:0,left:L?0:"auto",right:L?0:"auto",width:L?"100%":"auto",marginLeft:L?0:"calc(-1 * var(--spacing-xl))",marginRight:L?0:"calc(-1 * var(--spacing-xl))",marginBottom:L?0:"calc(-1 * var(--spacing-xl))",marginTop:L?0:"var(--spacing-xl)",padding:"var(--spacing-lg) var(--spacing-xl)",background:"var(--white)",borderTop:"1px solid var(--extra-light-gray)",boxShadow:"0 -4px 20px rgba(0, 0, 0, 0.05)",zIndex:10},children:[l&&a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"var(--spacing-md)"},children:[a.jsxs("div",{style:{display:"flex",gap:"var(--spacing-md)",alignItems:"center"},children:[a.jsx("span",{className:"body-bold",children:rn(o,"d MMMM",{locale:ti})}),a.jsxs("span",{className:"body-bold",children:[l,"-",(()=>{const[V,X]=l.split(":").map(Number),Y=new Date;return Y.setHours(V,X,0,0),Y.setTime(Y.getTime()+u*60*1e3),`${Y.getHours().toString().padStart(2,"0")}:${Y.getMinutes().toString().padStart(2,"0")}`})()]})]}),a.jsxs("div",{className:"h3",style:{color:"var(--primary)"},children:[((W=v.find(V=>V.time===l))==null?void 0:W.price)||0," ₽"]})]}),a.jsx("button",{className:"flutter-button",onClick:()=>P(l),disabled:!o||!l,style:{width:"100%",padding:"var(--spacing-lg)",fontSize:"16px",fontWeight:"600"},children:"Далее"})]})]})},$=()=>a.jsxs(a.Fragment,{children:[a.jsx("h3",{className:"h3",style:{marginBottom:"var(--spacing-lg)"},children:"Выберите тип игры"}),a.jsxs("div",{style:{display:"grid",gap:"var(--spacing-md)"},children:[a.jsxs("button",{onClick:()=>K("private"),style:{padding:"var(--spacing-lg)",border:`2px solid ${p==="private"?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",background:p==="private"?"var(--primary-light)":"var(--white)",cursor:"pointer",transition:"all 0.2s",textAlign:"left"},children:[a.jsx("div",{className:"body-bold",children:"Приватная игра"}),a.jsx("div",{className:"caption",style:{color:"var(--gray)"},children:"Для вас и ваших друзей"})]}),a.jsxs("button",{style:{padding:"var(--spacing-lg)",border:"2px solid var(--extra-light-gray)",borderRadius:"var(--radius-md)",background:"var(--extra-light-gray)",cursor:"not-allowed",transition:"all 0.2s",textAlign:"left",opacity:.6},disabled:!0,children:[a.jsx("div",{className:"body-bold",style:{color:"var(--gray)"},children:"Открытая игра"}),a.jsx("div",{className:"caption",style:{color:"var(--gray)"},children:"Присоединиться к игре (доступно в приложении)"})]})]}),a.jsxs("div",{style:{marginTop:"var(--spacing-xl)",display:"flex",justifyContent:"space-between",gap:"var(--spacing-md)",position:L?"fixed":"static",bottom:L?"0":"auto",left:L?"0":"auto",right:L?"0":"auto",padding:L?"var(--spacing-lg)":"0",background:L?"var(--white)":"transparent",borderTop:L?"1px solid var(--extra-light-gray)":"none",zIndex:10},children:[a.jsx("button",{className:"flutter-button-outlined",onClick:()=>i("datetime"),style:{flex:1,background:"var(--white)",color:"var(--primary)",border:"2px solid var(--primary)"},children:"Назад"}),a.jsx("button",{className:"flutter-button",onClick:()=>i("payment"),style:{flex:1},children:"Далее"})]})]}),O=()=>{const H=(()=>{const ie=v.find(M=>M.time===l);return(ie==null?void 0:ie.price)||0})();return a.jsxs(a.Fragment,{children:[a.jsx("h3",{className:"h3",style:{marginBottom:"var(--spacing-lg)"},children:"Оплата бронирования"}),a.jsx("div",{className:"info-section",style:{marginBottom:"var(--spacing-lg)"},children:a.jsxs("div",{style:{display:"grid",gap:"var(--spacing-sm)"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("span",{className:"body",children:"Корт:"}),a.jsx("span",{className:"body-bold",children:n.name})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("span",{className:"body",children:"Дата:"}),a.jsx("span",{className:"body-bold",children:rn(o,"d MMMM yyyy",{locale:ti})})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("span",{className:"body",children:"Время:"}),a.jsxs("span",{className:"body-bold",children:[l," - ",(()=>{const[ie,M]=l.split(":").map(Number),W=new Date;return W.setHours(ie,M,0,0),W.setTime(W.getTime()+u*60*1e3),`${W.getHours().toString().padStart(2,"0")}:${W.getMinutes().toString().padStart(2,"0")}`})()]})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("span",{className:"body",children:"Тип игры:"}),a.jsx("span",{className:"body-bold",children:"Приватная"})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingTop:"var(--spacing-sm)",borderTop:"1px solid var(--extra-light-gray)"},children:[a.jsx("span",{className:"body-bold",children:"Итого:"}),a.jsxs("span",{className:"h3",style:{color:"var(--primary)"},children:[H,"₽"]})]})]})}),a.jsxs("div",{style:{marginBottom:"var(--spacing-lg)"},children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Имя"}),a.jsx("input",{type:"text",className:"form-input",value:w,onChange:ie=>b(ie.target.value),placeholder:"Иван Иванов",required:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Телефон"}),a.jsx("input",{type:"tel",className:"form-input",value:j,onChange:ie=>_(ie.target.value),placeholder:"+7 (900) 123-45-67",required:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Email (необязательно)"}),a.jsx("input",{type:"email",className:"form-input",value:k,onChange:ie=>D(ie.target.value),placeholder:"email@example.com"}),a.jsx("div",{className:"caption",style:{marginTop:"8px",color:"var(--gray)"},children:k?"Чек будет отправлен на указанный email":"Если не указать email, чек можно будет получить только в клубе"})]}),a.jsxs("div",{style:{marginTop:"var(--spacing-md)",padding:"var(--spacing-md)",backgroundColor:"var(--chip-background)",borderRadius:"var(--radius-md)",border:"1px solid var(--primary-light)",display:"flex",gap:"var(--spacing-sm)",alignItems:"flex-start"},children:[a.jsx("span",{style:{fontSize:"20px",color:"var(--primary)"},children:"ℹ️"}),a.jsx("p",{className:"caption",style:{color:"var(--primary-dark)"},children:"Бронирование будет подтверждено только после успешной оплаты"})]})]}),a.jsxs("div",{style:{marginTop:"var(--spacing-xl)",display:"flex",justifyContent:"space-between",gap:"var(--spacing-md)",position:L?"fixed":"static",bottom:L?"0":"auto",left:L?"0":"auto",right:L?"0":"auto",padding:L?"var(--spacing-lg)":"0",background:L?"var(--white)":"transparent",borderTop:L?"1px solid var(--extra-light-gray)":"none",zIndex:10},children:[a.jsx("button",{className:"flutter-button-outlined",onClick:()=>i("gameType"),style:{flex:1,background:"var(--white)",color:"var(--primary)",border:"2px solid var(--primary)"},children:"Назад"}),a.jsx("button",{className:"flutter-button",onClick:Q,disabled:y||!w||!j,style:{flex:1},children:y?a.jsx("div",{className:"spinner"}):"Перейти к оплате"})]})]})};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"modal-backdrop",onClick:t,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",zIndex:1e3,display:e?"block":"none",animation:"fadeIn 0.2s ease"}}),a.jsxs("div",{className:"modal-content",style:{position:"fixed",top:L?"0":"50%",left:L?"0":"50%",transform:L?"none":"translate(-50%, -50%)",background:"var(--white)",borderRadius:L?"0":"var(--radius-xl)",padding:L?"var(--spacing-lg)":"var(--spacing-2xl)",maxWidth:L?"100%":"1000px",width:L?"100%":"90%",height:L?"100vh":"auto",maxHeight:L?"100vh":"85vh",overflowY:"auto",zIndex:1001,display:e?"block":"none",boxShadow:L?"none":"var(--shadow-xl)",animation:L?"slideUp 0.3s ease":"slideIn 0.3s ease"},children:[a.jsx("button",{onClick:t,style:{position:"absolute",top:"var(--spacing-md)",right:"var(--spacing-md)",background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"var(--gray)"},children:"×"}),s==="datetime"&&F(),s==="gameType"&&$(),s==="payment"&&O()]}),a.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        
        @keyframes slideIn {
          from { 
            opacity: 0;
            transform: translate(-50%, -45%);
          }
          to { 
            opacity: 1;
            transform: translate(-50%, -50%);
          }
        }
        
        @keyframes slideUp {
          from { 
            opacity: 0;
            transform: translateY(100%);
          }
          to { 
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        .spinner {
          width: 40px;
          height: 40px;
          border: 3px solid var(--extra-light-gray);
          border-top-color: var(--primary);
          border-radius: 50%;
          animation: spin 1s linear infinite;
          margin: 0 auto;
        }
        
        @keyframes spin {
          to { transform: rotate(360deg); }
        }
        
        @media (max-width: 768px) {
          .modal-content {
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
            transform: none !important;
            width: 100% !important;
            height: 100vh !important;
            max-width: 100% !important;
            max-height: 100vh !important;
            border-radius: 0 !important;
            padding: var(--spacing-lg) !important;
          }
        }
      `})]})}const GC={padel:"#3B82F6",tennis:"#00D632",badminton:"#F59E0B"},zv={padel:"Падел",tennis:"Теннис",badminton:"Бадминтон"},qC={parking:"Парковка",showers:"Душевые",cafe:"Кафе",lockers:"Шкафчики",shop:"Магазин",wifi:"Wi-Fi",changing_rooms:"Раздевалки",equipment_rental:"Прокат снаряжения"};function aee(){const{clubId:e}=ho();vs();const[t,n]=B.useState(null),[r,s]=B.useState([]),[i,o]=B.useState(!0),[A,l]=B.useState(""),[c,u]=B.useState(null),[d,p]=B.useState(!1),[f,v]=B.useState(!1),[g,y]=B.useState(0);B.useEffect(()=>{var I;if((I=t==null?void 0:t.photos)!=null&&I[0]){const T=document.createElement("link");return T.rel="preload",T.as="image",T.href=t.photos[0],document.head.appendChild(T),()=>{document.head.removeChild(T)}}},[t==null?void 0:t.photos]),B.useEffect(()=>{const I=performance.now();if(x().then(()=>{const T=performance.now()-I;console.log(`ClubPage loaded in ${T.toFixed(0)}ms`)}),e){const T=[],P=Xi(yt(Oe,"venues",e),Q=>{if(Q.exists()){const F={id:Q.id,...Q.data()};if(Q.data().status!=="active"){l("Клуб временно недоступен"),o(!1);return}console.log("Venue data updated:",F),n(F)}else l("Клуб не найден"),o(!1)},Q=>{console.error("Error listening to venue updates:",Q),l("Ошибка при загрузке данных клуба"),o(!1)});T.push(P);const K=Xi(qt(Ft(Oe,"venues",e,"courts"),It("status","==","active")),Q=>{const F=Q.docs.map($=>({id:$.id,...$.data()}));s(F)},Q=>{console.error("Error listening to courts updates:",Q)});return T.push(K),()=>{T.forEach(Q=>Q())}}},[e]),B.useEffect(()=>{if(f){const I=T=>{T.key==="Escape"?D():T.key==="ArrowLeft"?N("prev"):T.key==="ArrowRight"&&N("next")};return document.addEventListener("keydown",I),()=>{document.removeEventListener("keydown",I)}}},[f]);const x=async()=>{if(!e){l("ID клуба не указан"),o(!1);return}try{const[I,T]=await Promise.all([dn(yt(Oe,"venues",e)),Gt(qt(Ft(Oe,"venues",e,"courts"),It("status","==","active")))]);if(!I.exists()){l("Клуб не найден"),o(!1);return}const P={id:I.id,...I.data()};if(I.data().status!=="active"){l("Клуб временно недоступен"),o(!1);return}console.log("Loaded venue data:",P),console.log("Payment settings:",{paymentEnabled:P.paymentEnabled,paymentProvider:P.paymentProvider,paymentTestMode:P.paymentTestMode});const K=T.docs.map(Q=>({id:Q.id,...Q.data()}));n(P),s(K),o(!1)}catch(I){console.error("Error loading venue:",I),l("Ошибка при загрузке данных клуба"),o(!1)}},w=I=>{u(I)},b=[{key:"monday",label:"Понедельник",short:"Пн"},{key:"tuesday",label:"Вторник",short:"Вт"},{key:"wednesday",label:"Среда",short:"Ср"},{key:"thursday",label:"Четверг",short:"Чт"},{key:"friday",label:"Пятница",short:"Пт"},{key:"saturday",label:"Суббота",short:"Сб"},{key:"sunday",label:"Воскресенье",short:"Вс"}],j=I=>{if(I.pricing){const P=[];if(Object.values(I.pricing).forEach(K=>{K&&K.basePrice&&(P.push(K.basePrice),K.intervals&&Array.isArray(K.intervals)&&K.intervals.forEach(Q=>{Q.price&&P.push(Q.price)}))}),P.length>0){const K=Math.min(...P),Q=Math.max(...P);return K===Q?{min:K,max:Q,display:`${K}₽`}:{min:K,max:Q,display:`от ${K}₽`}}}const T=I.pricePerHour||I.priceWeekday||0;return{min:T,max:T,display:`${T}₽`}},_=()=>{if(c){if(!E){alert("Этот клуб находится на модерации и временно недоступен для бронирования.");return}console.log("Opening booking modal, venue:",t,"court:",c),p(!0)}},k=I=>{y(I),v(!0)},D=()=>{v(!1)},N=I=>{t!=null&&t.photos&&y(I==="prev"?T=>T===0?t.photos.length-1:T-1:T=>T===t.photos.length-1?0:T+1)},U={loadingContainer:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},loadingContent:{textAlign:"center"},spinner:{marginBottom:"16px"},errorContainer:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",padding:"20px"},errorCard:{maxWidth:"400px",textAlign:"center",padding:"40px"},errorIcon:{fontSize:"48px",marginBottom:"16px"},errorTitle:{marginBottom:"12px"},errorText:{color:"var(--gray)"},pageContainer:{minHeight:"100vh",background:"var(--background)"},heroImage:{width:"100%",height:"300px",objectFit:"cover",cursor:"pointer"},heroPlaceholder:{width:"100%",height:"300px",background:"var(--extra-light-gray)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},heroPlaceholderIcon:{fontSize:"48px",marginBottom:"8px"},heroPlaceholderText:{color:"var(--gray)"},desktopGallery:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"16px",marginTop:"16px"},galleryImage:{width:"100%",height:"150px",objectFit:"cover",borderRadius:"8px",cursor:"pointer",transition:"transform 0.2s"},clubInfoWrapper:{padding:"20px"},clubTitle:{marginBottom:"16px"},clubInfoItems:{display:"flex",flexDirection:"column",gap:"12px"},infoIcon:{fontSize:"18px"},courtsWrapper:{padding:"20px"},courtsWrapperDesktop:{marginTop:"32px"},courtsTitle:{marginBottom:"16px"},noCourtsCard:{padding:"40px",textAlign:"center"},noCourtsIcon:{fontSize:"48px",marginBottom:"8px",display:"block"},noCourtsText:{color:"var(--gray)"},courtCardContent:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},courtInfo:{flex:1},courtName:{marginBottom:"8px"},courtDetails:{display:"flex",alignItems:"center",gap:"8px"},courtIndoor:{color:"var(--gray)"},courtSurface:{color:"var(--gray)"},courtPricing:{textAlign:"right"},courtPrice:{color:"var(--primary)",marginBottom:"4px"},courtPriceUnit:{color:"var(--gray)"},sidebarBookingCard:{position:"sticky",top:"20px"},selectedCourtSection:{marginBottom:"8px"},selectedCourtDetails:{display:"flex",justifyContent:"space-between",alignItems:"center"},selectedCourtType:{color:"var(--gray)"},selectedCourtPrice:{color:"var(--primary)"}};if(i)return a.jsxs("div",{style:U.loadingContainer,children:[a.jsxs("div",{style:U.loadingContent,children:[a.jsx("div",{className:"spinner",style:U.spinner}),a.jsx("p",{className:"body-small",children:"Загрузка..."})]}),a.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]});if(A)return a.jsx("div",{style:U.errorContainer,children:a.jsxs("div",{className:"flutter-card",style:U.errorCard,children:[a.jsx("div",{style:U.errorIcon,children:"❌"}),a.jsx("h2",{className:"h2",style:U.errorTitle,children:"Ошибка"}),a.jsx("p",{className:"body",style:U.errorText,children:A})]})});if(!t)return null;const L=window.innerWidth>768,E=t.status==="active";return a.jsxs("div",{style:U.pageContainer,children:[!E&&a.jsx("div",{style:{backgroundColor:"#fff3cd",borderBottom:"1px solid #ffeaa7",padding:"var(--spacing-lg)",textAlign:"center"},children:a.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto"},children:[a.jsx("h3",{className:"h3",style:{color:"#856404",marginBottom:"var(--spacing-sm)"},children:"Клуб находится на модерации"}),a.jsx("p",{className:"body",style:{color:"#856404"},children:"Данный клуб еще не прошел проверку и временно недоступен для бронирования. Страница будет активирована после проверки администратором."})]})}),L&&a.jsx("div",{className:"hero-image",children:t.photos&&t.photos.length>0?a.jsx($v,{loading:"eager",src:t.photos[0],alt:t.name,style:U.heroImage,onClick:()=>k(0)}):a.jsxs("div",{style:U.heroPlaceholder,children:[a.jsx("span",{style:U.heroPlaceholderIcon,children:"🏸"}),a.jsx("span",{className:"body-small",style:U.heroPlaceholderText,children:"Фото клуба"})]})}),!L&&t.photos&&t.photos.length>0&&a.jsx("div",{style:{display:"flex",gap:"var(--spacing-sm)",overflowX:"auto",marginTop:"var(--spacing-lg)",marginBottom:"var(--spacing-lg)",paddingBottom:"var(--spacing-sm)",paddingLeft:"var(--spacing-xl)",paddingRight:"var(--spacing-xl)",WebkitOverflowScrolling:"touch",scrollbarWidth:"none",msOverflowStyle:"none"},children:t.photos.map((I,T)=>a.jsx($v,{loading:"lazy",src:I,alt:`${t.name} - фото ${T+1}`,style:{minWidth:"120px",width:"120px",height:"80px",objectFit:"cover",borderRadius:"var(--radius-sm)",cursor:"pointer"},onClick:()=>k(T)},T))}),!L&&a.jsxs("div",{style:{...U.clubInfoWrapper,padding:"0 var(--spacing-xl)"},children:[a.jsx("h1",{className:"h1",style:U.clubTitle,children:t.name}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-md)",marginBottom:"var(--spacing-lg)",flexWrap:"nowrap"},children:[t.phone&&a.jsxs("a",{href:`tel:${t.phone}`,style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)",padding:"var(--spacing-xs) var(--spacing-sm)",backgroundColor:"var(--primary-light)",borderRadius:"var(--radius-sm)",textDecoration:"none",color:"var(--primary)",flexShrink:0,transition:"background 0.2s"},onClick:I=>I.stopPropagation(),children:[a.jsx("span",{style:{...U.infoIcon,marginBottom:0},children:"📞"}),a.jsx("span",{className:"body-bold",children:t.phone})]}),a.jsxs("a",{href:t.coordinates?`https://yandex.ru/maps/?pt=${t.coordinates.longitude},${t.coordinates.latitude}&z=17&l=map`:`https://yandex.ru/maps/?text=${encodeURIComponent(t.address)}`,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)",flex:1,minWidth:0,textDecoration:"none",color:"inherit"},onClick:I=>I.stopPropagation(),children:[a.jsx("span",{style:U.infoIcon,children:"📍"}),a.jsx("span",{className:"body",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",textDecoration:"underline",textDecorationStyle:"dotted",textUnderlineOffset:"2px"},children:t.address})]})]})]}),!L&&a.jsxs("div",{style:{...U.courtsWrapper,padding:"0 var(--spacing-xl)"},children:[a.jsx("h3",{className:"h2",style:U.courtsTitle,children:"Доступные корты"}),r.length===0?a.jsxs("div",{className:"flutter-card",style:U.noCourtsCard,children:[a.jsx("span",{style:U.noCourtsIcon,children:"🎾"}),a.jsx("p",{className:"body",style:U.noCourtsText,children:"Нет доступных кортов"})]}):a.jsx("div",{children:r.map(I=>{const T=(c==null?void 0:c.id)===I.id;return a.jsx("div",{className:`court-card ${T?"selected":""}`,onClick:()=>w(I),children:a.jsxs("div",{style:U.courtCardContent,children:[a.jsxs("div",{style:U.courtInfo,children:[a.jsx("h4",{className:"body-bold",style:U.courtName,children:I.name}),a.jsxs("div",{style:U.courtDetails,children:[a.jsx("span",{className:`sport-chip ${I.type}`,style:{backgroundColor:GC[I.type]},children:zv[I.type]}),I.indoor&&a.jsx("span",{className:"caption",style:U.courtIndoor,children:"Крытый"}),I.surface&&a.jsxs("span",{className:"caption",style:U.courtSurface,children:["• ",I.surface]})]})]}),a.jsxs("div",{style:U.courtPricing,children:[a.jsx("div",{className:"h3",style:U.courtPrice,children:j(I).display}),a.jsx("div",{className:"caption",style:U.courtPriceUnit,children:"за час"})]})]})},I.id)})})]}),a.jsxs("div",{style:L?Ov.container:see.contentPadding,children:[a.jsxs("div",{style:L?Ov.mainContent:{},children:[L&&t.photos&&t.photos.length>0&&a.jsx("div",{style:U.desktopGallery,children:t.photos.map((I,T)=>a.jsx($v,{loading:"lazy",src:I,alt:`${t.name} - фото ${T+1}`,className:"gallery-image",style:U.galleryImage,onMouseOver:P=>P.currentTarget.style.transform="scale(1.05)",onMouseOut:P=>P.currentTarget.style.transform="scale(1)",onClick:()=>k(T)},T))}),L&&a.jsxs("div",{style:U.clubInfoWrapper,children:[a.jsx("h1",{className:"h1",style:U.clubTitle,children:t.name}),a.jsxs("div",{style:U.clubInfoItems,children:[t.phone&&a.jsxs("a",{href:`tel:${t.phone}`,style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)",textDecoration:"none",color:"inherit"},onClick:I=>I.stopPropagation(),children:[a.jsx("span",{style:U.infoIcon,children:"📞"}),a.jsx("span",{className:"body",children:t.phone})]}),a.jsxs("a",{href:t.coordinates?`https://yandex.ru/maps/?pt=${t.coordinates.longitude},${t.coordinates.latitude}&z=17&l=map`:`https://yandex.ru/maps/?text=${encodeURIComponent(t.address)}`,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)",textDecoration:"none",color:"inherit"},onClick:I=>I.stopPropagation(),children:[a.jsx("span",{style:U.infoIcon,children:"📍"}),a.jsx("span",{className:"body",children:t.address})]})]})]}),!L&&t.description&&a.jsxs("div",{className:"info-section",children:[a.jsx("h3",{className:"info-section-title",children:"О клубе"}),a.jsx("p",{className:"body",style:{color:"var(--gray)",lineHeight:1.6},children:t.description})]}),!L&&a.jsxs(a.Fragment,{children:[t.workingHours&&a.jsxs("div",{className:"info-section",style:{marginBottom:"var(--spacing-lg)"},children:[a.jsx("h3",{className:"info-section-title",children:"Часы работы"}),a.jsx("div",{style:{display:"grid",gap:"var(--spacing-xs)"},children:b.map(I=>{const T=t.workingHours[I.key];return T?a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("span",{className:"body",children:I.short}),a.jsx("span",{className:"body",style:{color:"var(--gray)"},children:T})]},I.key):null})})]}),t.amenities&&t.amenities.length>0&&a.jsxs("div",{className:"info-section",style:{marginBottom:"var(--spacing-lg)"},children:[a.jsx("h3",{className:"info-section-title",children:"Удобства"}),a.jsx("div",{style:{display:"flex",flexWrap:"wrap"},children:t.amenities.map(I=>a.jsxs("div",{className:"amenity-item",children:[a.jsx("span",{className:"check-icon",children:"✓"}),a.jsx("span",{className:"body",children:qC[I]||I})]},I))})]})]}),L&&a.jsxs("div",{style:U.courtsWrapperDesktop,children:[a.jsx("h3",{className:"h2",style:U.courtsTitle,children:"Доступные корты"}),r.length===0?a.jsxs("div",{className:"flutter-card",style:U.noCourtsCard,children:[a.jsx("span",{style:U.noCourtsIcon,children:"🎾"}),a.jsx("p",{className:"body",style:U.noCourtsText,children:"Нет доступных кортов"})]}):a.jsx("div",{className:"courts-grid",children:r.map(I=>{const T=(c==null?void 0:c.id)===I.id;return a.jsx("div",{className:`court-card ${T?"selected":""}`,onClick:()=>w(I),children:a.jsxs("div",{style:U.courtCardContent,children:[a.jsxs("div",{style:U.courtInfo,children:[a.jsx("h4",{className:"body-bold",style:U.courtName,children:I.name}),a.jsxs("div",{style:U.courtDetails,children:[a.jsx("span",{className:`sport-chip ${I.type}`,style:{backgroundColor:GC[I.type]},children:zv[I.type]}),I.indoor&&a.jsx("span",{className:"caption",style:U.courtIndoor,children:"Крытый"}),I.surface&&a.jsxs("span",{className:"caption",style:U.courtSurface,children:["• ",I.surface]})]})]}),a.jsxs("div",{style:U.courtPricing,children:[a.jsx("div",{className:"h3",style:U.courtPrice,children:j(I).display}),a.jsx("div",{className:"caption",style:U.courtPriceUnit,children:"за час"})]})]})},I.id)})})]}),L&&t.description&&a.jsxs("div",{className:"info-section",style:{marginTop:"var(--spacing-2xl)"},children:[a.jsx("h3",{className:"info-section-title",children:"О клубе"}),a.jsx("p",{className:"body",style:{color:"var(--gray)",lineHeight:1.6},children:t.description})]})]}),L&&a.jsxs("div",{style:Ov.sidebar,children:[a.jsxs("div",{className:"sticky-bottom-bar",style:U.sidebarBookingCard,children:[c&&a.jsxs("div",{className:"selected-court-summary",children:[a.jsx("h4",{className:"body-bold",style:U.selectedCourtSection,children:c.name}),a.jsxs("div",{style:U.selectedCourtDetails,children:[a.jsx("span",{className:"body-small",style:U.selectedCourtType,children:zv[c.type]}),a.jsxs("span",{className:"body-bold",style:U.selectedCourtPrice,children:[j(c).display,"/час"]})]})]}),a.jsx("button",{className:"flutter-button",style:{width:"100%",marginBottom:"var(--spacing-sm)"},onClick:_,disabled:!c,children:c?"Выбрать время":"Выберите корт"}),a.jsxs("div",{style:{fontSize:"12px",lineHeight:"1.4",color:"var(--gray)",textAlign:"center",marginBottom:"var(--spacing-md)"},children:["Продолжая, соглашаюсь с"," ",a.jsx(yd,{to:`/club/${e}/user-agreement`,target:"_blank",style:{color:"var(--primary)",textDecoration:"underline"},children:"политикой и соглашением"})]})]}),t.workingHours&&a.jsxs("div",{className:"info-section",style:{marginBottom:"var(--spacing-lg)"},children:[a.jsx("h3",{className:"info-section-title",children:"Часы работы"}),a.jsx("div",{style:{display:"grid",gap:"var(--spacing-xs)"},children:b.map(I=>{const T=t.workingHours[I.key];return T?a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("span",{className:"caption",children:I.short}),a.jsx("span",{className:"caption",style:{color:"var(--gray)"},children:T})]},I.key):null})})]}),t.amenities&&t.amenities.length>0&&a.jsxs("div",{className:"info-section",children:[a.jsx("h3",{className:"info-section-title",children:"Удобства"}),a.jsx("div",{style:{display:"grid",gap:"var(--spacing-xs)"},children:t.amenities.map(I=>a.jsxs("div",{className:"amenity-item",style:{background:"transparent",padding:"var(--spacing-xs) 0",margin:0},children:[a.jsx("span",{className:"check-icon",children:"✓"}),a.jsx("span",{className:"caption",children:qC[I]||I})]},I))})]})]})]}),!L&&a.jsxs("div",{className:"sticky-bottom-bar",children:[a.jsx("button",{className:"flutter-button",style:{width:"100%",marginBottom:"var(--spacing-sm)"},onClick:_,disabled:!c,children:c?`Выбрать время для ${c.name}`:"Выберите корт"}),a.jsxs("div",{style:{fontSize:"11px",lineHeight:"1.3",color:"var(--gray)",textAlign:"center"},children:["Продолжая, соглашаюсь с"," ",a.jsx(yd,{to:`/club/${e}/user-agreement`,target:"_blank",style:{color:"var(--primary)",textDecoration:"underline"},children:"политикой и соглашением"})]})]}),c&&t&&a.jsx(iee,{isOpen:d,onClose:()=>p(!1),court:c,venue:t}),f&&(t==null?void 0:t.photos)&&a.jsx("div",{className:"modal-backdrop",onClick:D,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.95)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center",padding:"var(--spacing-xl)"},children:a.jsxs("div",{onClick:I=>I.stopPropagation(),style:{position:"relative",maxWidth:"90vw",maxHeight:"90vh",display:"flex",alignItems:"center",justifyContent:"center"},children:[a.jsx("button",{onClick:D,style:{position:"absolute",top:"-40px",right:"0",background:"none",border:"none",color:"white",fontSize:"28px",cursor:"pointer",padding:"8px",zIndex:10,lineHeight:1},"aria-label":"Закрыть",children:"✕"}),t.photos.length>1&&a.jsx("button",{onClick:()=>N("prev"),style:{position:"absolute",left:window.innerWidth>768?"-50px":"10px",top:"50%",transform:"translateY(-50%)",background:"rgba(255, 255, 255, 0.1)",border:"none",color:"white",fontSize:"24px",cursor:"pointer",width:"40px",height:"40px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",transition:"background 0.2s",zIndex:5},onMouseEnter:I=>I.currentTarget.style.background="rgba(255, 255, 255, 0.2)",onMouseLeave:I=>I.currentTarget.style.background="rgba(255, 255, 255, 0.1)","aria-label":"Предыдущее фото",children:"←"}),a.jsx("img",{src:t.photos[g],alt:`${t.name} - фото ${g+1}`,style:{maxWidth:"100%",maxHeight:"90vh",objectFit:"contain",borderRadius:"var(--radius-md)"}}),t.photos.length>1&&a.jsx("button",{onClick:()=>N("next"),style:{position:"absolute",right:window.innerWidth>768?"-50px":"10px",top:"50%",transform:"translateY(-50%)",background:"rgba(255, 255, 255, 0.1)",border:"none",color:"white",fontSize:"24px",cursor:"pointer",width:"40px",height:"40px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",transition:"background 0.2s",zIndex:5},onMouseEnter:I=>I.currentTarget.style.background="rgba(255, 255, 255, 0.2)",onMouseLeave:I=>I.currentTarget.style.background="rgba(255, 255, 255, 0.1)","aria-label":"Следующее фото",children:"→"}),t.photos.length>1&&a.jsxs("div",{style:{position:"absolute",bottom:"-30px",left:"50%",transform:"translateX(-50%)",color:"white",fontSize:"14px",fontWeight:"500"},children:[g+1," / ",t.photos.length]})]})}),a.jsxs("div",{style:{borderTop:"1px solid var(--divider)",padding:"24px",marginTop:L?"40px":"20px",paddingBottom:L?"24px":"calc(140px + 24px)",textAlign:"center",backgroundColor:"var(--background)"},children:[a.jsx(yd,{to:`/club/${e}/user-agreement`,style:{color:"var(--text-secondary)",fontSize:"14px",textDecoration:"none",borderBottom:"1px dashed var(--text-secondary)",transition:"color 0.2s"},onMouseEnter:I=>{I.currentTarget.style.color="var(--primary)",I.currentTarget.style.borderBottomColor="var(--primary)"},onMouseLeave:I=>{I.currentTarget.style.color="var(--text-secondary)",I.currentTarget.style.borderBottomColor="var(--text-secondary)"},children:"Пользовательское соглашение"}),(t==null?void 0:t.legalName)&&a.jsxs("div",{style:{marginTop:"12px",fontSize:"12px",color:"var(--text-disabled)"},children:["© ",new Date().getFullYear()," ",t.legalName]})]})]})}var yy={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(l,c){switch(l){case"P":return c.date({width:"short"});case"PP":return c.date({width:"medium"});case"PPP":return c.date({width:"long"});case"PPPP":default:return c.date({width:"full"})}},r=function(l,c){switch(l){case"p":return c.time({width:"short"});case"pp":return c.time({width:"medium"});case"ppp":return c.time({width:"long"});case"pppp":default:return c.time({width:"full"})}},s=function(l,c){var u=l.match(/(P+)(p+)?/)||[],d=u[1],p=u[2];if(!p)return n(l,c);var f;switch(d){case"P":f=c.dateTime({width:"short"});break;case"PP":f=c.dateTime({width:"medium"});break;case"PPP":f=c.dateTime({width:"long"});break;case"PPPP":default:f=c.dateTime({width:"full"});break}return f.replace("{{date}}",n(d,c)).replace("{{time}}",r(p,c))},i={p:r,P:s},o=i;t.default=o,e.exports=t.default})(yy,yy.exports);var oee=yy.exports;const Aee=TI(oee),lee={y:{sectionType:"year",contentType:"digit",maxLength:4},yy:"year",yyy:{sectionType:"year",contentType:"digit",maxLength:4},yyyy:"year",M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMMM:{sectionType:"month",contentType:"letter"},MMM:{sectionType:"month",contentType:"letter"},L:{sectionType:"month",contentType:"digit",maxLength:2},LL:"month",LLL:{sectionType:"month",contentType:"letter"},LLLL:{sectionType:"month",contentType:"letter"},d:{sectionType:"day",contentType:"digit",maxLength:2},dd:"day",do:{sectionType:"day",contentType:"digit-with-letter"},E:{sectionType:"weekDay",contentType:"letter"},EE:{sectionType:"weekDay",contentType:"letter"},EEE:{sectionType:"weekDay",contentType:"letter"},EEEE:{sectionType:"weekDay",contentType:"letter"},EEEEE:{sectionType:"weekDay",contentType:"letter"},i:{sectionType:"weekDay",contentType:"digit",maxLength:1},ii:"weekDay",iii:{sectionType:"weekDay",contentType:"letter"},iiii:{sectionType:"weekDay",contentType:"letter"},e:{sectionType:"weekDay",contentType:"digit",maxLength:1},ee:"weekDay",eee:{sectionType:"weekDay",contentType:"letter"},eeee:{sectionType:"weekDay",contentType:"letter"},eeeee:{sectionType:"weekDay",contentType:"letter"},eeeeee:{sectionType:"weekDay",contentType:"letter"},c:{sectionType:"weekDay",contentType:"digit",maxLength:1},cc:"weekDay",ccc:{sectionType:"weekDay",contentType:"letter"},cccc:{sectionType:"weekDay",contentType:"letter"},ccccc:{sectionType:"weekDay",contentType:"letter"},cccccc:{sectionType:"weekDay",contentType:"letter"},a:"meridiem",aa:"meridiem",aaa:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},cee={year:"yyyy",month:"LLLL",monthShort:"MMM",dayOfMonth:"d",weekday:"EEEE",weekdayShort:"EEEEEE",hours24h:"HH",hours12h:"hh",meridiem:"aa",minutes:"mm",seconds:"ss",fullDate:"PP",fullDateWithWeekday:"PPPP",keyboardDate:"P",shortDate:"MMM d",normalDate:"d MMMM",normalDateWithWeekday:"EEE, MMM d",monthAndYear:"LLLL yyyy",monthAndDate:"MMMM d",fullTime:"p",fullTime12h:"hh:mm aa",fullTime24h:"HH:mm",fullDateTime:"PP p",fullDateTime12h:"PP hh:mm aa",fullDateTime24h:"PP HH:mm",keyboardDateTime:"P p",keyboardDateTime12h:"P hh:mm aa",keyboardDateTime24h:"P HH:mm"};class uee{constructor(t){this.isMUIAdapter=!0,this.isTimezoneCompatible=!1,this.lib="date-fns",this.locale=void 0,this.formats=void 0,this.formatTokenMap=lee,this.escapedCharacters={start:"'",end:"'"},this.longFormatters=void 0,this.date=i=>typeof i>"u"?new Date:i===null?null:new Date(i),this.dateWithTimezone=i=>this.date(i),this.getTimezone=()=>"default",this.setTimezone=i=>i,this.toJsDate=i=>i,this.getCurrentLocaleCode=()=>{var i;return((i=this.locale)==null?void 0:i.code)||"en-US"},this.is12HourCycleInCurrentLocale=()=>this.locale?/a/.test(this.locale.formatLong.time({width:"short"})):!0,this.expandFormat=i=>{const o=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;return i.match(o).map(A=>{const l=A[0];if(l==="p"||l==="P"){const c=this.longFormatters[l];return c(A,this.locale.formatLong)}return A}).join("")},this.getFormatHelperText=i=>this.expandFormat(i).replace(/(aaa|aa|a)/g,"(a|p)m").toLocaleLowerCase(),this.isNull=i=>i===null,this.formatNumber=i=>i,this.getMeridiemText=i=>i==="am"?"AM":"PM";const{locale:n,formats:r,longFormatters:s}=t;this.locale=n,this.formats=z({},cee,r),this.longFormatters=s}}class dee extends uee{constructor({locale:t,formats:n}={}){if(typeof so!="function")throw new Error(["MUI: The `date-fns` package v3.x is not compatible with this adapter.","Please, install v2.x of the package or use the `AdapterDateFnsV3` instead."].join(`
`));super({locale:t??Gx,formats:n,longFormatters:Aee}),this.parseISO=r=>JJ(r),this.toISO=r=>PX(r,{format:"extended"}),this.parse=(r,s)=>r===""?null:Kr(r,s,new Date,{locale:this.locale}),this.isValid=r=>gj(this.date(r)),this.format=(r,s)=>this.formatByString(r,this.formats[s]),this.formatByString=(r,s)=>rn(r,s,{locale:this.locale}),this.getDiff=(r,s,i)=>{switch(i){case"years":return $Y(r,this.date(s));case"quarters":return RY(r,this.date(s));case"months":return vj(r,this.date(s));case"weeks":return OY(r,this.date(s));case"days":return mj(r,this.date(s));case"hours":return MY(r,this.date(s));case"minutes":return QY(r,this.date(s));case"seconds":return HY(r,this.date(s));default:return Om(r,this.date(s))}},this.isEqual=(r,s)=>r===null&&s===null?!0:XX(r,s),this.isSameYear=(r,s)=>YJ(r,s),this.isSameMonth=(r,s)=>qJ(r,s),this.isSameDay=(r,s)=>pj(r,s),this.isSameHour=(r,s)=>GJ(r,s),this.isAfter=(r,s)=>Rs(r,s),this.isAfterYear=(r,s)=>Rs(r,Pv(s)),this.isAfterDay=(r,s)=>Rs(r,gy(s)),this.isBefore=(r,s)=>Lr(r,s),this.isBeforeYear=(r,s)=>Lr(r,cp(s)),this.isBeforeDay=(r,s)=>Lr(r,GA(s)),this.isWithinRange=(r,[s,i])=>XJ(r,{start:s,end:i}),this.startOfYear=r=>cp(r),this.startOfMonth=r=>PC(r),this.startOfWeek=r=>QA(r,{locale:this.locale}),this.startOfDay=r=>GA(r),this.endOfYear=r=>Pv(r),this.endOfMonth=r=>my(r),this.endOfWeek=r=>Rv(r,{locale:this.locale}),this.endOfDay=r=>gy(r),this.addYears=(r,s)=>DC(r,s),this.addMonths=(r,s)=>Tp(r,s),this.addWeeks=(r,s)=>NY(r,s),this.addDays=(r,s)=>so(r,s),this.addHours=(r,s)=>SY(r,s),this.addMinutes=(r,s)=>Gi(r,s),this.addSeconds=(r,s)=>kY(r,s),this.getYear=r=>YX(r),this.getMonth=r=>zX(r),this.getDate=r=>RX(r),this.getHours=r=>HX(r),this.getMinutes=r=>$X(r),this.getSeconds=r=>WX(r),this.getMilliseconds=r=>OX(r),this.setYear=(r,s)=>vZ(r,s),this.setMonth=(r,s)=>fZ(r,s),this.setDate=(r,s)=>pZ(r,s),this.setHours=(r,s)=>Lj(r,s),this.setMinutes=(r,s)=>Dj(r,s),this.setSeconds=(r,s)=>mZ(r,s),this.setMilliseconds=(r,s)=>gZ(r,s),this.getDaysInMonth=r=>jj(r),this.getNextMonth=r=>Tp(r,1),this.getPreviousMonth=r=>Tp(r,-1),this.getMonthArray=r=>{const i=[cp(r)];for(;i.length<12;){const o=i[i.length-1];i.push(this.getNextMonth(o))}return i},this.mergeDateAndTime=(r,s)=>this.setSeconds(this.setMinutes(this.setHours(r,this.getHours(s)),this.getMinutes(s)),this.getSeconds(s)),this.getWeekdays=()=>{const r=new Date;return zY({start:QA(r,{locale:this.locale}),end:Rv(r,{locale:this.locale})}).map(s=>this.formatByString(s,"EEEEEE"))},this.getWeekArray=r=>{const s=QA(PC(r),{locale:this.locale}),i=Rv(my(r),{locale:this.locale});let o=0,A=s;const l=[];for(;Lr(A,i);){const c=Math.floor(o/7);l[c]=l[c]||[],l[c].push(A),A=so(A,1),o+=1}return l},this.getWeekNumber=r=>qX(r,{locale:this.locale}),this.getYearRange=(r,s)=>{const i=cp(r),o=Pv(s),A=[];let l=i;for(;Lr(l,o);)A.push(l),l=DC(l,1);return A}}}const hee=["localeText"],xy=B.createContext(null),fee=function(t){var n;const{localeText:r}=t,s=Ve(t,hee),{utils:i,localeText:o}=(n=B.useContext(xy))!=null?n:{utils:void 0,localeText:void 0},A=Di({props:s,name:"MuiLocalizationProvider"}),{children:l,dateAdapter:c,dateFormats:u,dateLibInstance:d,adapterLocale:p,localeText:f}=A,v=B.useMemo(()=>z({},f,o,r),[f,o,r]),g=B.useMemo(()=>{if(!c)return i||null;const w=new c({locale:p,formats:u,instance:d});if(!w.isMUIAdapter)throw new Error(["MUI: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join(`
`));return w},[c,p,u,d,i]),y=B.useMemo(()=>g?{minDate:g.date("1900-01-01T00:00:00.000"),maxDate:g.date("2099-12-31T00:00:00.000")}:null,[g]),x=B.useMemo(()=>({utils:g,defaultDates:y,localeText:v}),[y,g,v]);return a.jsx(xy.Provider,{value:x,children:l})};function pee(e){return typeof e=="string"}function gee(e,t,n){return e===void 0||pee(e)?t:{...t,ownerState:{...t.ownerState,...n}}}function mee(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function vee(e,t,n){return typeof e=="function"?e(t,n):e}function yee(...e){const t=B.useRef(void 0),n=B.useCallback(r=>{const s=e.map(i=>{if(i==null)return null;if(typeof i=="function"){const o=i,A=o(r);return typeof A=="function"?A:()=>{o(null)}}return i.current=r,()=>{i.current=null}});return()=>{s.forEach(i=>i==null?void 0:i())}},e);return B.useMemo(()=>e.every(r=>r==null)?null:r=>{t.current&&(t.current(),t.current=void 0),r!=null&&(t.current=n(r))},e)}function YC(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function xee(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:s,className:i}=e;if(!t){const f=Ye(n==null?void 0:n.className,i,s==null?void 0:s.className,r==null?void 0:r.className),v={...n==null?void 0:n.style,...s==null?void 0:s.style,...r==null?void 0:r.style},g={...n,...s,...r};return f.length>0&&(g.className=f),Object.keys(v).length>0&&(g.style=v),{props:g,internalRef:void 0}}const o=mee({...s,...r}),A=YC(r),l=YC(s),c=t(o),u=Ye(c==null?void 0:c.className,n==null?void 0:n.className,i,s==null?void 0:s.className,r==null?void 0:r.className),d={...c==null?void 0:c.style,...n==null?void 0:n.style,...s==null?void 0:s.style,...r==null?void 0:r.style},p={...c,...n,...l,...A};return u.length>0&&(p.className=u),Object.keys(d).length>0&&(p.style=d),{props:p,internalRef:c.ref}}function Vo(e){var d;const{elementType:t,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:s=!1,...i}=e,o=s?{}:vee(n,r),{props:A,internalRef:l}=xee({...i,externalSlotProps:o}),c=yee(l,o==null?void 0:o.ref,(d=e.additionalProps)==null?void 0:d.ref);return gee(t,{...A,ref:c},r)}const Cg=(e,t,n)=>{let r=t;return r=e.setHours(r,e.getHours(n)),r=e.setMinutes(r,e.getMinutes(n)),r=e.setSeconds(r,e.getSeconds(n)),r},Qd=({date:e,disableFuture:t,disablePast:n,maxDate:r,minDate:s,isDateDisabled:i,utils:o,timezone:A})=>{const l=Cg(o,o.dateWithTimezone(void 0,A),e);n&&o.isBefore(s,l)&&(s=l),t&&o.isAfter(r,l)&&(r=l);let c=e,u=e;for(o.isBefore(e,s)&&(c=s,u=null),o.isAfter(e,r)&&(u&&(u=r),c=null);c||u;){if(c&&o.isAfter(c,r)&&(c=null),u&&o.isBefore(u,s)&&(u=null),c){if(!i(c))return c;c=o.addDays(c,1)}if(u){if(!i(u))return u;u=o.addDays(u,-1)}}return null},bee=(e,t)=>t==null||!e.isValid(t)?null:t,sA=(e,t,n)=>t==null||!e.isValid(t)?n:t,wee=(e,t,n)=>!e.isValid(t)&&t!=null&&!e.isValid(n)&&n!=null?!0:e.isEqual(t,n),Bee=(e,t)=>{const r=[e.startOfYear(t)];for(;r.length<12;){const s=r[r.length-1];r.push(e.addMonths(s,1))}return r},Mj=(e,t,n)=>n==="date"?e.startOfDay(e.dateWithTimezone(void 0,t)):e.dateWithTimezone(void 0,t),Cee=(e,t)=>{const n=e.startOfWeek(t);return[0,1,2,3,4,5,6].map(r=>e.addDays(n,r))},See=({props:e,value:t,adapter:n})=>{if(t===null)return null;const{shouldDisableDate:r,shouldDisableMonth:s,shouldDisableYear:i,disablePast:o,disableFuture:A,timezone:l}=e,c=n.utils.dateWithTimezone(void 0,l),u=sA(n.utils,e.minDate,n.defaultDates.minDate),d=sA(n.utils,e.maxDate,n.defaultDates.maxDate);switch(!0){case!n.utils.isValid(t):return"invalidDate";case!!(r&&r(t)):return"shouldDisableDate";case!!(s&&s(t)):return"shouldDisableMonth";case!!(i&&i(t)):return"shouldDisableYear";case!!(A&&n.utils.isAfterDay(t,c)):return"disableFuture";case!!(o&&n.utils.isBeforeDay(t,c)):return"disablePast";case!!(u&&n.utils.isBeforeDay(t,u)):return"minDate";case!!(d&&n.utils.isAfterDay(t,d)):return"maxDate";default:return null}},Eee=e=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:z({},e)}}}}),Qj={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"open previous view",openNextView:"open next view",calendarViewSwitchingButtonAriaLabel:e=>e==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",clockLabelText:(e,t,n)=>`Select ${e}. ${t===null?"No time selected":`Selected time is ${n.format(t,"fullTime")}`}`,hoursClockNumberText:e=>`${e} hours`,minutesClockNumberText:e=>`${e} minutes`,secondsClockNumberText:e=>`${e} seconds`,selectViewText:e=>`Select ${e}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:e=>`Week ${e}`,calendarWeekNumberText:e=>`${e}`,openDatePickerDialogue:(e,t)=>e!==null&&t.isValid(e)?`Choose date, selected date is ${t.format(e,"fullDate")}`:"Choose date",openTimePickerDialogue:(e,t)=>e!==null&&t.isValid(e)?`Choose time, selected time is ${t.format(e,"fullTime")}`:"Choose time",fieldClearLabel:"Clear value",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:e=>"Y".repeat(e.digitAmount),fieldMonthPlaceholder:e=>e.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:e=>e.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa"},jee=Qj;Eee(Qj);const $m=()=>{const e=B.useContext(xy);if(e===null)throw new Error(["MUI: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(e.utils===null)throw new Error(["MUI: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const t=B.useMemo(()=>z({},jee,e.localeText),[e.localeText]);return B.useMemo(()=>z({},e,{localeText:t}),[e,t])},Is=()=>$m().utils,Jx=()=>$m().defaultDates,Pj=()=>$m().localeText,zm=e=>{const t=Is(),n=B.useRef();return n.current===void 0&&(n.current=t.dateWithTimezone(void 0,e)),n.current},Rj=({shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:n,minDate:r,maxDate:s,disableFuture:i,disablePast:o,timezone:A})=>{const l=$m();return B.useCallback(c=>See({adapter:l,value:c,props:{shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:n,minDate:r,maxDate:s,disableFuture:i,disablePast:o,timezone:A}})!==null,[l,e,t,n,r,s,i,o,A])},XC=(e,t)=>t.getHours(e)*3600+t.getMinutes(e)*60+t.getSeconds(e),Iee=(e,t)=>(n,r)=>e?t.isAfter(n,r):XC(n,t)>XC(r,t),qa={year:1,month:2,day:3,minutes:5,seconds:6,milliseconds:7},od=(e,t,n)=>{if(t===qa.year)return e.startOfYear(n);if(t===qa.month)return e.startOfMonth(n);if(t===qa.day)return e.startOfDay(n);let r=n;return t<qa.minutes&&(r=e.setMinutes(r,0)),t<qa.seconds&&(r=e.setSeconds(r,0)),t<qa.milliseconds&&(r=e.setMilliseconds(r,0)),r},Fee=({props:e,utils:t,granularity:n,timezone:r,getTodayDate:s})=>{var i;let o=s?s():od(t,n,Mj(t,r));e.minDate!=null&&t.isAfterDay(e.minDate,o)&&(o=od(t,n,e.minDate)),e.maxDate!=null&&t.isBeforeDay(e.maxDate,o)&&(o=od(t,n,e.maxDate));const A=Iee((i=e.disableIgnoringDatePartForTimeValidation)!=null?i:!1,t);return e.minTime!=null&&A(e.minTime,o)&&(o=od(t,n,e.disableIgnoringDatePartForTimeValidation?e.minTime:Cg(t,o,e.minTime))),e.maxTime!=null&&A(o,e.maxTime)&&(o=od(t,n,e.disableIgnoringDatePartForTimeValidation?e.maxTime:Cg(t,o,e.maxTime))),o},kee=["value","referenceDate"],Hc={emptyValue:null,getTodayValue:Mj,getInitialReferenceValue:e=>{let{value:t,referenceDate:n}=e,r=Ve(e,kee);return t!=null&&r.utils.isValid(t)?t:n??Fee(r)},cleanValue:bee,areValuesEqual:wee,isSameError:(e,t)=>e===t,hasError:e=>e!=null,defaultErrorState:null,getTimezone:(e,t)=>t==null||!e.isValid(t)?null:e.getTimezone(t),setTimezone:(e,t,n)=>n==null?null:e.setTimezone(n,t)},Nee=(e,t,n)=>(r,s)=>{switch(s.type){case"changeMonth":return z({},r,{slideDirection:s.direction,currentMonth:s.newMonth,isMonthSwitchingAnimating:!e});case"finishMonthSwitchingAnimation":return z({},r,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(r.focusedDay!=null&&s.focusedDay!=null&&n.isSameDay(s.focusedDay,r.focusedDay))return r;const i=s.focusedDay!=null&&!t&&!n.isSameMonth(r.currentMonth,s.focusedDay);return z({},r,{focusedDay:s.focusedDay,isMonthSwitchingAnimating:i&&!e&&!s.withoutMonthSwitchingAnimation,currentMonth:i?n.startOfMonth(s.focusedDay):r.currentMonth,slideDirection:s.focusedDay!=null&&n.isAfterDay(s.focusedDay,r.currentMonth)?"left":"right"})}default:throw new Error("missing support")}},_ee=e=>{const{value:t,referenceDate:n,defaultCalendarMonth:r,disableFuture:s,disablePast:i,disableSwitchToMonthOnDayFocus:o=!1,maxDate:A,minDate:l,onMonthChange:c,reduceAnimations:u,shouldDisableDate:d,timezone:p}=e,f=Is(),v=B.useRef(Nee(!!u,o,f)).current,g=B.useMemo(()=>{let D=null;return n?D=n:r&&(D=f.startOfMonth(r)),Hc.getInitialReferenceValue({value:t,utils:f,timezone:p,props:e,referenceDate:D,granularity:qa.day})},[]),[y,x]=B.useReducer(v,{isMonthSwitchingAnimating:!1,focusedDay:g,currentMonth:f.startOfMonth(g),slideDirection:"left"}),w=B.useCallback(D=>{x(z({type:"changeMonth"},D)),c&&c(D.newMonth)},[c]),b=B.useCallback(D=>{const N=D;f.isSameMonth(N,y.currentMonth)||w({newMonth:f.startOfMonth(N),direction:f.isAfterDay(N,y.currentMonth)?"left":"right"})},[y.currentMonth,w,f]),j=Rj({shouldDisableDate:d,minDate:l,maxDate:A,disableFuture:s,disablePast:i,timezone:p}),_=B.useCallback(()=>{x({type:"finishMonthSwitchingAnimation"})},[]),k=Vt((D,N)=>{j(D)||x({type:"changeFocusedDay",focusedDay:D,withoutMonthSwitchingAnimation:N})});return{referenceDate:g,calendarState:y,changeMonth:b,changeFocusedDay:k,isDateDisabled:j,onMonthSwitchingAnimationEnd:_,handleChangeMonth:w}},Tee=e=>at("MuiPickersFadeTransitionGroup",e);ot("MuiPickersFadeTransitionGroup",["root"]);const Uee=e=>{const{classes:t}=e;return lt({root:["root"]},Tee,t)},Lee=Te(vh,{name:"MuiPickersFadeTransitionGroup",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"block",position:"relative"});function Hj(e){const t=Di({props:e,name:"MuiPickersFadeTransitionGroup"}),{children:n,className:r,reduceAnimations:s,transKey:i}=t,o=Uee(t),A=Li();return s?n:a.jsx(Lee,{className:Ye(o.root,r),children:a.jsx(bh,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:A.transitions.duration.enteringScreen,enter:A.transitions.duration.enteringScreen,exit:0},children:n},i)})}const th=36,Wm=2,Zx=320,Dee=280,Oj=334;function Mee(e){return at("MuiPickersDay",e)}const xA=ot("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),Qee=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today","isFirstVisibleCell","isLastVisibleCell"],Pee=e=>{const{selected:t,disableMargin:n,disableHighlightToday:r,today:s,disabled:i,outsideCurrentMonth:o,showDaysOutsideCurrentMonth:A,classes:l}=e,c=o&&!A;return lt({root:["root",t&&!c&&"selected",i&&"disabled",!n&&"dayWithMargin",!r&&s&&"today",o&&A&&"dayOutsideMonth",c&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},Mee,l)},$j=({theme:e,ownerState:t})=>z({},e.typography.caption,{width:th,height:th,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:e.transitions.create("background-color",{duration:e.transitions.duration.short}),color:(e.vars||e).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Cc(e.palette.primary.main,e.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:Cc(e.palette.primary.main,e.palette.action.focusOpacity),[`&.${xA.selected}`]:{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${xA.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,fontWeight:e.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${xA.disabled}:not(.${xA.selected})`]:{color:(e.vars||e).palette.text.disabled},[`&.${xA.disabled}&.${xA.selected}`]:{opacity:.6}},!t.disableMargin&&{margin:`0 ${Wm}px`},t.outsideCurrentMonth&&t.showDaysOutsideCurrentMonth&&{color:(e.vars||e).palette.text.secondary},!t.disableHighlightToday&&t.today&&{[`&:not(.${xA.selected})`]:{border:`1px solid ${(e.vars||e).palette.text.secondary}`}}),zj=(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableMargin&&t.dayWithMargin,!n.disableHighlightToday&&n.today&&t.today,!n.outsideCurrentMonth&&n.showDaysOutsideCurrentMonth&&t.dayOutsideMonth,n.outsideCurrentMonth&&!n.showDaysOutsideCurrentMonth&&t.hiddenDaySpacingFiller]},Ree=Te(Ea,{name:"MuiPickersDay",slot:"Root",overridesResolver:zj})($j),Hee=Te("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:zj})(({theme:e,ownerState:t})=>z({},$j({theme:e,ownerState:t}),{opacity:0,pointerEvents:"none"})),Ad=()=>{},Oee=B.forwardRef(function(t,n){const r=Di({props:t,name:"MuiPickersDay"}),{autoFocus:s=!1,className:i,day:o,disabled:A=!1,disableHighlightToday:l=!1,disableMargin:c=!1,isAnimating:u,onClick:d,onDaySelect:p,onFocus:f=Ad,onBlur:v=Ad,onKeyDown:g=Ad,onMouseDown:y=Ad,onMouseEnter:x=Ad,outsideCurrentMonth:w,selected:b=!1,showDaysOutsideCurrentMonth:j=!1,children:_,today:k=!1}=r,D=Ve(r,Qee),N=z({},r,{autoFocus:s,disabled:A,disableHighlightToday:l,disableMargin:c,selected:b,showDaysOutsideCurrentMonth:j,today:k}),U=Pee(N),L=Is(),E=B.useRef(null),I=Xn(E,n);ms(()=>{s&&!A&&!u&&!w&&E.current.focus()},[s,A,u,w]);const T=K=>{y(K),w&&K.preventDefault()},P=K=>{A||p(o),w&&K.currentTarget.focus(),d&&d(K)};return w&&!j?a.jsx(Hee,{className:Ye(U.root,U.hiddenDaySpacingFiller,i),ownerState:N,role:D.role}):a.jsx(Ree,z({className:Ye(U.root,i),ref:I,centerRipple:!0,disabled:A,tabIndex:b?0:-1,onKeyDown:K=>g(K,o),onFocus:K=>f(K,o),onBlur:K=>v(K,o),onMouseEnter:K=>x(K,o),onClick:P,onMouseDown:T},D,{ownerState:N,children:_||L.format(o,"dayOfMonth")}))}),$ee=B.memo(Oee),zee=e=>at("MuiPickersSlideTransition",e),mi=ot("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),Wee=["children","className","reduceAnimations","slideDirection","transKey","classes"],Kee=e=>{const{classes:t,slideDirection:n}=e,r={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${n}`],exitActive:[`slideExitActiveLeft-${n}`]};return lt(r,zee,t)},Vee=Te(vh,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`.${mi["slideEnter-left"]}`]:t["slideEnter-left"]},{[`.${mi["slideEnter-right"]}`]:t["slideEnter-right"]},{[`.${mi.slideEnterActive}`]:t.slideEnterActive},{[`.${mi.slideExit}`]:t.slideExit},{[`.${mi["slideExitActiveLeft-left"]}`]:t["slideExitActiveLeft-left"]},{[`.${mi["slideExitActiveLeft-right"]}`]:t["slideExitActiveLeft-right"]}]})(({theme:e})=>{const t=e.transitions.create("transform",{duration:e.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${mi["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${mi["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${mi.slideEnterActive}`]:{transform:"translate(0%)",transition:t},[`& .${mi.slideExit}`]:{transform:"translate(0%)"},[`& .${mi["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:t,zIndex:0},[`& .${mi["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:t,zIndex:0}}});function Gee(e){const t=Di({props:e,name:"MuiPickersSlideTransition"}),{children:n,className:r,reduceAnimations:s,transKey:i}=t,o=Ve(t,Wee),A=Kee(t),l=Li();if(s)return a.jsx("div",{className:Ye(A.root,r),children:n});const c={exit:A.exit,enterActive:A.enterActive,enter:A.enter,exitActive:A.exitActive};return a.jsx(Vee,{className:Ye(A.root,r),childFactory:u=>B.cloneElement(u,{classNames:c}),role:"presentation",children:a.jsx(fx,z({mountOnEnter:!0,unmountOnExit:!0,timeout:l.transitions.duration.complex,classNames:c},o,{children:n}),i)})}const qee=e=>at("MuiDayCalendar",e);ot("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const Yee=["parentProps","day","focusableDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],Xee=["ownerState"],Jee=e=>{const{classes:t}=e;return lt({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},qee,t)},Wj=(th+Wm*2)*6,Zee=Te("div",{name:"MuiDayCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({}),ete=Te("div",{name:"MuiDayCalendar",slot:"Header",overridesResolver:(e,t)=>t.header})({display:"flex",justifyContent:"center",alignItems:"center"}),tte=Te(le,{name:"MuiDayCalendar",slot:"WeekDayLabel",overridesResolver:(e,t)=>t.weekDayLabel})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.secondary})),nte=Te(le,{name:"MuiDayCalendar",slot:"WeekNumberLabel",overridesResolver:(e,t)=>t.weekNumberLabel})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:e.palette.text.disabled})),rte=Te(le,{name:"MuiDayCalendar",slot:"WeekNumber",overridesResolver:(e,t)=>t.weekNumber})(({theme:e})=>z({},e.typography.caption,{width:th,height:th,padding:0,margin:`0 ${Wm}px`,color:e.palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),ste=Te("div",{name:"MuiDayCalendar",slot:"LoadingContainer",overridesResolver:(e,t)=>t.loadingContainer})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:Wj}),ite=Te(Gee,{name:"MuiDayCalendar",slot:"SlideTransition",overridesResolver:(e,t)=>t.slideTransition})({minHeight:Wj}),ate=Te("div",{name:"MuiDayCalendar",slot:"MonthContainer",overridesResolver:(e,t)=>t.monthContainer})({overflow:"hidden"}),ote=Te("div",{name:"MuiDayCalendar",slot:"WeekContainer",overridesResolver:(e,t)=>t.weekContainer})({margin:`${Wm}px 0`,display:"flex",justifyContent:"center"});function Ate(e){var t,n,r;let{parentProps:s,day:i,focusableDay:o,selectedDays:A,isDateDisabled:l,currentMonthNumber:c,isViewFocused:u}=e,d=Ve(e,Yee);const{disabled:p,disableHighlightToday:f,isMonthSwitchingAnimating:v,showDaysOutsideCurrentMonth:g,components:y,componentsProps:x,slots:w,slotProps:b,timezone:j}=s,_=Is(),k=zm(j),D=o!==null&&_.isSameDay(i,o),N=A.some(F=>_.isSameDay(F,i)),U=_.isSameDay(i,k),L=(t=(n=w==null?void 0:w.day)!=null?n:y==null?void 0:y.Day)!=null?t:$ee,E=Vo({elementType:L,externalSlotProps:(r=b==null?void 0:b.day)!=null?r:x==null?void 0:x.day,additionalProps:z({disableHighlightToday:f,showDaysOutsideCurrentMonth:g,role:"gridcell",isAnimating:v,"data-timestamp":_.toJsDate(i).valueOf()},d),ownerState:z({},s,{day:i,selected:N})}),I=Ve(E,Xee),T=B.useMemo(()=>p||l(i),[p,l,i]),P=B.useMemo(()=>_.getMonth(i)!==c,[_,i,c]),K=B.useMemo(()=>{const F=_.startOfMonth(_.setMonth(i,c));return g?_.isSameDay(i,_.startOfWeek(F)):_.isSameDay(i,F)},[c,i,g,_]),Q=B.useMemo(()=>{const F=_.endOfMonth(_.setMonth(i,c));return g?_.isSameDay(i,_.endOfWeek(F)):_.isSameDay(i,F)},[c,i,g,_]);return a.jsx(L,z({},I,{day:i,disabled:T,autoFocus:u&&D,today:U,outsideCurrentMonth:P,isFirstVisibleCell:K,isLastVisibleCell:Q,selected:N,tabIndex:D?0:-1,"aria-selected":N,"aria-current":U?"date":void 0}))}function lte(e){const t=Di({props:e,name:"MuiDayCalendar"}),{onFocusedDayChange:n,className:r,currentMonth:s,selectedDays:i,focusedDay:o,loading:A,onSelectedDaysChange:l,onMonthSwitchingAnimationEnd:c,readOnly:u,reduceAnimations:d,renderLoading:p=()=>a.jsx("span",{children:"..."}),slideDirection:f,TransitionProps:v,disablePast:g,disableFuture:y,minDate:x,maxDate:w,shouldDisableDate:b,shouldDisableMonth:j,shouldDisableYear:_,dayOfWeekFormatter:k,hasFocus:D,onFocusedViewChange:N,gridLabelId:U,displayWeekNumber:L,fixedWeekNumber:E,autoFocus:I,timezone:T}=t,P=zm(T),K=Is(),Q=Jee(t),$=Li().direction==="rtl",O=k||((ne,ae)=>K.format(ae,"weekdayShort").charAt(0).toUpperCase()),H=Rj({shouldDisableDate:b,shouldDisableMonth:j,shouldDisableYear:_,minDate:x,maxDate:w,disablePast:g,disableFuture:y,timezone:T}),ie=Pj(),[M,W]=Sa({name:"DayCalendar",state:"hasFocus",controlled:D,default:I??!1}),[V,X]=B.useState(()=>o||P),Y=Vt(ne=>{u||l(ne)}),ee=ne=>{H(ne)||(n(ne),X(ne),N==null||N(!0),W(!0))},ce=Vt((ne,ae)=>{switch(ne.key){case"ArrowUp":ee(K.addDays(ae,-7)),ne.preventDefault();break;case"ArrowDown":ee(K.addDays(ae,7)),ne.preventDefault();break;case"ArrowLeft":{const he=K.addDays(ae,$?1:-1),ge=K.addMonths(ae,$?1:-1),Ce=Qd({utils:K,date:he,minDate:$?he:K.startOfMonth(ge),maxDate:$?K.endOfMonth(ge):he,isDateDisabled:H,timezone:T});ee(Ce||he),ne.preventDefault();break}case"ArrowRight":{const he=K.addDays(ae,$?-1:1),ge=K.addMonths(ae,$?-1:1),Ce=Qd({utils:K,date:he,minDate:$?K.startOfMonth(ge):he,maxDate:$?he:K.endOfMonth(ge),isDateDisabled:H,timezone:T});ee(Ce||he),ne.preventDefault();break}case"Home":ee(K.startOfWeek(ae)),ne.preventDefault();break;case"End":ee(K.endOfWeek(ae)),ne.preventDefault();break;case"PageUp":ee(K.addMonths(ae,1)),ne.preventDefault();break;case"PageDown":ee(K.addMonths(ae,-1)),ne.preventDefault();break}}),Ae=Vt((ne,ae)=>ee(ae)),Ee=Vt((ne,ae)=>{M&&K.isSameDay(V,ae)&&(N==null||N(!1))}),fe=K.getMonth(s),we=B.useMemo(()=>i.filter(ne=>!!ne).map(ne=>K.startOfDay(ne)),[K,i]),de=fe,Be=B.useMemo(()=>B.createRef(),[de]),pe=K.startOfWeek(P),se=B.useMemo(()=>{const ne=K.startOfMonth(s),ae=K.endOfMonth(s);return H(V)||K.isAfterDay(V,ae)||K.isBeforeDay(V,ne)?Qd({utils:K,date:V,minDate:ne,maxDate:ae,disablePast:g,disableFuture:y,isDateDisabled:H,timezone:T}):V},[s,y,g,V,H,K,T]),me=B.useMemo(()=>{const ne=K.setTimezone(s,T),ae=K.getWeekArray(ne);let he=K.addMonths(ne,1);for(;E&&ae.length<E;){const ge=K.getWeekArray(he),Ce=K.isSameDay(ae[ae.length-1][0],ge[0][0]);ge.slice(Ce?1:0).forEach(ye=>{ae.length<E&&ae.push(ye)}),he=K.addMonths(he,1)}return ae},[s,E,K,T]);return a.jsxs(Zee,{role:"grid","aria-labelledby":U,className:Q.root,children:[a.jsxs(ete,{role:"row",className:Q.header,children:[L&&a.jsx(nte,{variant:"caption",role:"columnheader","aria-label":ie.calendarWeekNumberHeaderLabel,className:Q.weekNumberLabel,children:ie.calendarWeekNumberHeaderText}),Cee(K,P).map((ne,ae)=>{var he;const ge=K.format(ne,"weekdayShort");return a.jsx(tte,{variant:"caption",role:"columnheader","aria-label":K.format(K.addDays(pe,ae),"weekday"),className:Q.weekDayLabel,children:(he=O==null?void 0:O(ge,ne))!=null?he:ge},ge+ae.toString())})]}),A?a.jsx(ste,{className:Q.loadingContainer,children:p()}):a.jsx(ite,z({transKey:de,onExited:c,reduceAnimations:d,slideDirection:f,className:Ye(r,Q.slideTransition)},v,{nodeRef:Be,children:a.jsx(ate,{ref:Be,role:"rowgroup",className:Q.monthContainer,children:me.map((ne,ae)=>a.jsxs(ote,{role:"row",className:Q.weekContainer,"aria-rowindex":ae+1,children:[L&&a.jsx(rte,{className:Q.weekNumber,role:"rowheader","aria-label":ie.calendarWeekNumberAriaLabelText(K.getWeekNumber(ne[0])),children:ie.calendarWeekNumberText(K.getWeekNumber(ne[0]))}),ne.map((he,ge)=>a.jsx(Ate,{parentProps:t,day:he,selectedDays:we,focusableDay:se,onKeyDown:ce,onFocus:Ae,onBlur:Ee,onDaySelect:Y,isDateDisabled:H,currentMonthNumber:fe,isViewFocused:M,"aria-colindex":ge+1},he.toString()))]},`week-${ne[0]}`))})}))]})}function cte(e){return at("MuiPickersMonth",e)}const dp=ot("MuiPickersMonth",["root","monthButton","disabled","selected"]),ute=["autoFocus","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","aria-label","monthsPerRow"],dte=e=>{const{disabled:t,selected:n,classes:r}=e;return lt({root:["root"],monthButton:["monthButton",t&&"disabled",n&&"selected"]},cte,r)},hte=Te("div",{name:"MuiPickersMonth",slot:"Root",overridesResolver:(e,t)=>[t.root]})(({ownerState:e})=>({flexBasis:e.monthsPerRow===3?"33.3%":"25%",display:"flex",alignItems:"center",justifyContent:"center"})),fte=Te("button",{name:"MuiPickersMonth",slot:"MonthButton",overridesResolver:(e,t)=>[t.monthButton,{[`&.${dp.disabled}`]:t.disabled},{[`&.${dp.selected}`]:t.selected}]})(({theme:e})=>z({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Cc(e.palette.action.active,e.palette.action.hoverOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Cc(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${dp.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${dp.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),pte=B.memo(function(t){const n=Di({props:t,name:"MuiPickersMonth"}),{autoFocus:r,children:s,disabled:i,selected:o,value:A,tabIndex:l,onClick:c,onKeyDown:u,onFocus:d,onBlur:p,"aria-current":f,"aria-label":v}=n,g=Ve(n,ute),y=B.useRef(null),x=dte(n);return ms(()=>{if(r){var w;(w=y.current)==null||w.focus()}},[r]),a.jsx(hte,z({className:x.root,ownerState:n},g,{children:a.jsx(fte,{ref:y,disabled:i,type:"button",role:"radio",tabIndex:i?-1:l,"aria-current":f,"aria-checked":o,"aria-label":v,onClick:w=>c(w,A),onKeyDown:w=>u(w,A),onFocus:w=>d(w,A),onBlur:w=>p(w,A),className:x.monthButton,ownerState:n,children:s})}))});function gte(e){return at("MuiMonthCalendar",e)}ot("MuiMonthCalendar",["root"]);const mte=({timezone:e,value:t,defaultValue:n,onChange:r,valueManager:s})=>{var i,o;const A=Is(),l=B.useRef(n),c=(i=t??l.current)!=null?i:s.emptyValue,u=B.useMemo(()=>s.getTimezone(A,c),[A,s,c]),d=Vt(g=>u==null?g:s.setTimezone(A,u,g)),p=(o=e??u)!=null?o:"default",f=B.useMemo(()=>s.setTimezone(A,p,c),[s,A,p,c]),v=Vt((g,...y)=>{const x=d(g);r==null||r(x,...y)});return{value:f,handleValueChange:v,timezone:p}},eb=({name:e,timezone:t,value:n,defaultValue:r,onChange:s,valueManager:i})=>{const[o,A]=Sa({name:e,state:"value",controlled:n,default:r??i.emptyValue}),l=Vt((c,...u)=>{A(c),s==null||s(c,...u)});return mte({timezone:t,value:o,defaultValue:void 0,onChange:l,valueManager:i})},vte=["className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","autoFocus","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId"],yte=e=>{const{classes:t}=e;return lt({root:["root"]},gte,t)};function xte(e,t){const n=Is(),r=Jx(),s=Di({props:e,name:t});return z({disableFuture:!1,disablePast:!1},s,{minDate:sA(n,s.minDate,r.minDate),maxDate:sA(n,s.maxDate,r.maxDate)})}const bte=Te("div",{name:"MuiMonthCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexWrap:"wrap",alignContent:"stretch",padding:"0 4px",width:Zx,boxSizing:"border-box"}),wte=B.forwardRef(function(t,n){const r=xte(t,"MuiMonthCalendar"),{className:s,value:i,defaultValue:o,referenceDate:A,disabled:l,disableFuture:c,disablePast:u,maxDate:d,minDate:p,onChange:f,shouldDisableMonth:v,readOnly:g,disableHighlightToday:y,autoFocus:x=!1,onMonthFocus:w,hasFocus:b,onFocusedViewChange:j,monthsPerRow:_=3,timezone:k,gridLabelId:D}=r,N=Ve(r,vte),{value:U,handleValueChange:L,timezone:E}=eb({name:"MonthCalendar",timezone:k,value:i,defaultValue:o,onChange:f,valueManager:Hc}),I=zm(E),T=Gc(),P=Is(),K=B.useMemo(()=>Hc.getInitialReferenceValue({value:U,utils:P,props:r,timezone:E,referenceDate:A,granularity:qa.month}),[]),Q=r,F=yte(Q),$=B.useMemo(()=>P.getMonth(I),[P,I]),O=B.useMemo(()=>U!=null?P.getMonth(U):y?null:P.getMonth(K),[U,P,y,K]),[H,ie]=B.useState(()=>O||$),[M,W]=Sa({name:"MonthCalendar",state:"hasFocus",controlled:b,default:x??!1}),V=Vt(fe=>{W(fe),j&&j(fe)}),X=B.useCallback(fe=>{const we=P.startOfMonth(u&&P.isAfter(I,p)?I:p),de=P.startOfMonth(c&&P.isBefore(I,d)?I:d),Be=P.startOfMonth(fe);return P.isBefore(Be,we)||P.isAfter(Be,de)?!0:v?v(Be):!1},[c,u,d,p,I,v,P]),Y=Vt((fe,we)=>{if(g)return;const de=P.setMonth(U??K,we);L(de)}),ee=Vt(fe=>{X(P.setMonth(U??K,fe))||(ie(fe),V(!0),w&&w(fe))});B.useEffect(()=>{ie(fe=>O!==null&&fe!==O?O:fe)},[O]);const ce=Vt((fe,we)=>{switch(fe.key){case"ArrowUp":ee((12+we-3)%12),fe.preventDefault();break;case"ArrowDown":ee((12+we+3)%12),fe.preventDefault();break;case"ArrowLeft":ee((12+we+(T.direction==="ltr"?-1:1))%12),fe.preventDefault();break;case"ArrowRight":ee((12+we+(T.direction==="ltr"?1:-1))%12),fe.preventDefault();break}}),Ae=Vt((fe,we)=>{ee(we)}),Ee=Vt((fe,we)=>{H===we&&V(!1)});return a.jsx(bte,z({ref:n,className:Ye(F.root,s),ownerState:Q,role:"radiogroup","aria-labelledby":D},N,{children:Bee(P,U??K).map(fe=>{const we=P.getMonth(fe),de=P.format(fe,"monthShort"),Be=P.format(fe,"month"),pe=we===O,se=l||X(fe);return a.jsx(pte,{selected:pe,value:we,onClick:Y,onKeyDown:ce,autoFocus:M&&we===H,disabled:se,tabIndex:we===H?0:-1,onFocus:Ae,onBlur:Ee,"aria-current":$===we?"date":void 0,"aria-label":Be,monthsPerRow:_,children:de},de)})}))});function Bte(e){return at("MuiPickersYear",e)}const hp=ot("MuiPickersYear",["root","yearButton","selected","disabled"]),Cte=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","yearsPerRow"],Ste=e=>{const{disabled:t,selected:n,classes:r}=e;return lt({root:["root"],yearButton:["yearButton",t&&"disabled",n&&"selected"]},Bte,r)},Ete=Te("div",{name:"MuiPickersYear",slot:"Root",overridesResolver:(e,t)=>[t.root]})(({ownerState:e})=>({flexBasis:e.yearsPerRow===3?"33.3%":"25%",display:"flex",alignItems:"center",justifyContent:"center"})),jte=Te("button",{name:"MuiPickersYear",slot:"YearButton",overridesResolver:(e,t)=>[t.yearButton,{[`&.${hp.disabled}`]:t.disabled},{[`&.${hp.selected}`]:t.selected}]})(({theme:e})=>z({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{margin:"6px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.focusOpacity})`:Cc(e.palette.action.active,e.palette.action.focusOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Cc(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${hp.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${hp.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),Ite=B.memo(function(t){const n=Di({props:t,name:"MuiPickersYear"}),{autoFocus:r,className:s,children:i,disabled:o,selected:A,value:l,tabIndex:c,onClick:u,onKeyDown:d,onFocus:p,onBlur:f,"aria-current":v}=n,g=Ve(n,Cte),y=B.useRef(null),x=Ste(n);return B.useEffect(()=>{r&&y.current.focus()},[r]),a.jsx(Ete,z({className:Ye(x.root,s),ownerState:n},g,{children:a.jsx(jte,{ref:y,disabled:o,type:"button",role:"radio",tabIndex:o?-1:c,"aria-current":v,"aria-checked":A,onClick:w=>u(w,l),onKeyDown:w=>d(w,l),onFocus:w=>p(w,l),onBlur:w=>f(w,l),className:x.yearButton,ownerState:n,children:i})}))});function Fte(e){return at("MuiYearCalendar",e)}ot("MuiYearCalendar",["root"]);const kte=["autoFocus","className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsPerRow","timezone","gridLabelId"],Nte=e=>{const{classes:t}=e;return lt({root:["root"]},Fte,t)};function _te(e,t){var n;const r=Is(),s=Jx(),i=Di({props:e,name:t});return z({disablePast:!1,disableFuture:!1},i,{yearsPerRow:(n=i.yearsPerRow)!=null?n:3,minDate:sA(r,i.minDate,s.minDate),maxDate:sA(r,i.maxDate,s.maxDate)})}const Tte=Te("div",{name:"MuiYearCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",padding:"0 4px",width:Zx,maxHeight:Dee,boxSizing:"border-box",position:"relative"}),Ute=B.forwardRef(function(t,n){const r=_te(t,"MuiYearCalendar"),{autoFocus:s,className:i,value:o,defaultValue:A,referenceDate:l,disabled:c,disableFuture:u,disablePast:d,maxDate:p,minDate:f,onChange:v,readOnly:g,shouldDisableYear:y,disableHighlightToday:x,onYearFocus:w,hasFocus:b,onFocusedViewChange:j,yearsPerRow:_,timezone:k,gridLabelId:D}=r,N=Ve(r,kte),{value:U,handleValueChange:L,timezone:E}=eb({name:"YearCalendar",timezone:k,value:o,defaultValue:A,onChange:v,valueManager:Hc}),I=zm(E),T=Gc(),P=Is(),K=B.useMemo(()=>Hc.getInitialReferenceValue({value:U,utils:P,props:r,timezone:E,referenceDate:l,granularity:qa.year}),[]),Q=r,F=Nte(Q),$=B.useMemo(()=>P.getYear(I),[P,I]),O=B.useMemo(()=>U!=null?P.getYear(U):x?null:P.getYear(K),[U,P,x,K]),[H,ie]=B.useState(()=>O||$),[M,W]=Sa({name:"YearCalendar",state:"hasFocus",controlled:b,default:s??!1}),V=Vt(de=>{W(de),j&&j(de)}),X=B.useCallback(de=>{if(d&&P.isBeforeYear(de,I)||u&&P.isAfterYear(de,I)||f&&P.isBeforeYear(de,f)||p&&P.isAfterYear(de,p))return!0;if(!y)return!1;const Be=P.startOfYear(de);return y(Be)},[u,d,p,f,I,y,P]),Y=Vt((de,Be)=>{if(g)return;const pe=P.setYear(U??K,Be);L(pe)}),ee=Vt(de=>{X(P.setYear(U??K,de))||(ie(de),V(!0),w==null||w(de))});B.useEffect(()=>{ie(de=>O!==null&&de!==O?O:de)},[O]);const ce=Vt((de,Be)=>{switch(de.key){case"ArrowUp":ee(Be-_),de.preventDefault();break;case"ArrowDown":ee(Be+_),de.preventDefault();break;case"ArrowLeft":ee(Be+(T.direction==="ltr"?-1:1)),de.preventDefault();break;case"ArrowRight":ee(Be+(T.direction==="ltr"?1:-1)),de.preventDefault();break}}),Ae=Vt((de,Be)=>{ee(Be)}),Ee=Vt((de,Be)=>{H===Be&&V(!1)}),fe=B.useRef(null),we=Xn(n,fe);return B.useEffect(()=>{if(s||fe.current===null)return;const de=fe.current.querySelector('[tabindex="0"]');if(!de)return;const Be=de.offsetHeight,pe=de.offsetTop,se=fe.current.clientHeight,me=fe.current.scrollTop,ne=pe+Be;Be>se||pe<me||(fe.current.scrollTop=ne-se/2-Be/2)},[s]),a.jsx(Tte,z({ref:we,className:Ye(F.root,i),ownerState:Q,role:"radiogroup","aria-labelledby":D},N,{children:P.getYearRange(f,p).map(de=>{const Be=P.getYear(de),pe=Be===O,se=c||X(de);return a.jsx(Ite,{selected:pe,value:Be,onClick:Y,onKeyDown:ce,autoFocus:M&&Be===H,disabled:se,tabIndex:Be===H?0:-1,onFocus:Ae,onBlur:Ee,"aria-current":$===Be?"date":void 0,yearsPerRow:_,children:P.format(de,"year")},P.format(de,"year"))})}))});function Lte({onChange:e,onViewChange:t,openTo:n,view:r,views:s,autoFocus:i,focusedView:o,onFocusedViewChange:A}){var l,c;const u=B.useRef(n),d=B.useRef(s),p=B.useRef(s.includes(n)?n:s[0]),[f,v]=Sa({name:"useViews",state:"view",controlled:r,default:p.current}),g=B.useRef(i?f:null),[y,x]=Sa({name:"useViews",state:"focusedView",controlled:o,default:g.current});B.useEffect(()=>{(u.current&&u.current!==n||d.current&&d.current.some(U=>!s.includes(U)))&&(v(s.includes(n)?n:s[0]),d.current=s,u.current=n)},[n,v,f,s]);const w=s.indexOf(f),b=(l=s[w-1])!=null?l:null,j=(c=s[w+1])!=null?c:null,_=Vt((U,L)=>{x(L?U:E=>U===E?null:E),A==null||A(U,L)}),k=Vt(U=>{_(U,!0),U!==f&&(v(U),t&&t(U))}),D=Vt(()=>{j&&k(j)}),N=Vt((U,L,E)=>{const I=L==="finish",T=E?s.indexOf(E)<s.length-1:!!j;if(e(U,I&&T?"partial":L,E),E&&E!==f){const K=s[s.indexOf(E)+1];K&&k(K)}else I&&D()});return{view:f,setView:k,focusedView:y,setFocusedView:_,nextView:j,previousView:b,defaultView:s.includes(n)?n:s[0],goToNextView:D,setValueAndGoToNextView:N}}const Dte=e=>at("MuiPickersCalendarHeader",e),Mte=ot("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),Qte=st(a.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Pte=st(a.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),Rte=st(a.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight");st(a.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar");st(a.jsxs(B.Fragment,{children:[a.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),a.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock");st(a.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange");st(a.jsxs(B.Fragment,{children:[a.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),a.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time");st(a.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");function Hte(e){return at("MuiPickersArrowSwitcher",e)}ot("MuiPickersArrowSwitcher",["root","spacer","button"]);const Ote=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel"],$te=["ownerState"],zte=["ownerState"],Wte=Te("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex"}),Kte=Te("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(e,t)=>t.spacer})(({theme:e})=>({width:e.spacing(3)})),JC=Te(js,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(e,t)=>t.button})(({ownerState:e})=>z({},e.hidden&&{visibility:"hidden"})),Vte=e=>{const{classes:t}=e;return lt({root:["root"],spacer:["spacer"],button:["button"]},Hte,t)},Gte=B.forwardRef(function(t,n){var r,s,i,o;const l=Li().direction==="rtl",c=Di({props:t,name:"MuiPickersArrowSwitcher"}),{children:u,className:d,slots:p,slotProps:f,isNextDisabled:v,isNextHidden:g,onGoToNext:y,nextLabel:x,isPreviousDisabled:w,isPreviousHidden:b,onGoToPrevious:j,previousLabel:_}=c,k=Ve(c,Ote),D=c,N=Vte(D),U={isDisabled:v,isHidden:g,goTo:y,label:x},L={isDisabled:w,isHidden:b,goTo:j,label:_},E=(r=p==null?void 0:p.previousIconButton)!=null?r:JC,I=Vo({elementType:E,externalSlotProps:f==null?void 0:f.previousIconButton,additionalProps:{size:"medium",title:L.label,"aria-label":L.label,disabled:L.isDisabled,edge:"end",onClick:L.goTo},ownerState:z({},D,{hidden:L.isHidden}),className:N.button}),T=(s=p==null?void 0:p.nextIconButton)!=null?s:JC,P=Vo({elementType:T,externalSlotProps:f==null?void 0:f.nextIconButton,additionalProps:{size:"medium",title:U.label,"aria-label":U.label,disabled:U.isDisabled,edge:"start",onClick:U.goTo},ownerState:z({},D,{hidden:U.isHidden}),className:N.button}),K=(i=p==null?void 0:p.leftArrowIcon)!=null?i:Pte,Q=Vo({elementType:K,externalSlotProps:f==null?void 0:f.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),F=Ve(Q,$te),$=(o=p==null?void 0:p.rightArrowIcon)!=null?o:Rte,O=Vo({elementType:$,externalSlotProps:f==null?void 0:f.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),H=Ve(O,zte);return a.jsxs(Wte,z({ref:n,className:Ye(N.root,d),ownerState:D},k,{children:[a.jsx(E,z({},I,{children:l?a.jsx($,z({},H)):a.jsx(K,z({},F))})),u?a.jsx(le,{variant:"subtitle1",component:"span",children:u}):a.jsx(Kte,{className:N.spacer,ownerState:D}),a.jsx(T,z({},P,{children:l?a.jsx(K,z({},F)):a.jsx($,z({},H))}))]}))});function qte(e,{disableFuture:t,maxDate:n,timezone:r}){const s=Is();return B.useMemo(()=>{const i=s.dateWithTimezone(void 0,r),o=s.startOfMonth(t&&s.isBefore(i,n)?i:n);return!s.isAfter(o,e)},[t,n,e,s,r])}function Yte(e,{disablePast:t,minDate:n,timezone:r}){const s=Is();return B.useMemo(()=>{const i=s.dateWithTimezone(void 0,r),o=s.startOfMonth(t&&s.isAfter(i,n)?i:n);return!s.isBefore(o,e)},[t,n,e,s,r])}const Xte=["slots","slotProps","components","componentsProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","timezone"],Jte=["ownerState"],Zte=e=>{const{classes:t}=e;return lt({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},Dte,t)},ene=Te("div",{name:"MuiPickersCalendarHeader",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",alignItems:"center",marginTop:16,marginBottom:8,paddingLeft:24,paddingRight:12,maxHeight:30,minHeight:30}),tne=Te("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer",overridesResolver:(e,t)=>t.labelContainer})(({theme:e})=>z({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},e.typography.body1,{fontWeight:e.typography.fontWeightMedium})),nne=Te("div",{name:"MuiPickersCalendarHeader",slot:"Label",overridesResolver:(e,t)=>t.label})({marginRight:6}),rne=Te(js,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton",overridesResolver:(e,t)=>t.switchViewButton})(({ownerState:e})=>z({marginRight:"auto"},e.view==="year"&&{[`.${Mte.switchViewIcon}`]:{transform:"rotate(180deg)"}})),sne=Te(Qte,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon",overridesResolver:(e,t)=>t.switchViewIcon})(({theme:e})=>({willChange:"transform",transition:e.transitions.create("transform"),transform:"rotate(0deg)"})),ine=B.forwardRef(function(t,n){var r,s,i,o;const A=Pj(),l=Is(),c=Di({props:t,name:"MuiPickersCalendarHeader"}),{slots:u,slotProps:d,components:p,currentMonth:f,disabled:v,disableFuture:g,disablePast:y,maxDate:x,minDate:w,onMonthChange:b,onViewChange:j,view:_,reduceAnimations:k,views:D,labelId:N,className:U,timezone:L}=c,E=Ve(c,Xte),I=c,T=Zte(c),P=(r=(s=u==null?void 0:u.switchViewButton)!=null?s:p==null?void 0:p.SwitchViewButton)!=null?r:rne,K=Vo({elementType:P,externalSlotProps:d==null?void 0:d.switchViewButton,additionalProps:{size:"small","aria-label":A.calendarViewSwitchingButtonAriaLabel(_)},ownerState:I,className:T.switchViewButton}),Q=(i=(o=u==null?void 0:u.switchViewIcon)!=null?o:p==null?void 0:p.SwitchViewIcon)!=null?i:sne,F=Vo({elementType:Q,externalSlotProps:d==null?void 0:d.switchViewIcon,ownerState:void 0,className:T.switchViewIcon}),$=Ve(F,Jte),O=()=>b(l.addMonths(f,1),"left"),H=()=>b(l.addMonths(f,-1),"right"),ie=qte(f,{disableFuture:g,maxDate:x,timezone:L}),M=Yte(f,{disablePast:y,minDate:w,timezone:L}),W=()=>{if(!(D.length===1||!j||v))if(D.length===2)j(D.find(V=>V!==_)||D[0]);else{const V=D.indexOf(_)!==0?0:1;j(D[V])}};return D.length===1&&D[0]==="year"?null:a.jsxs(ene,z({},E,{ownerState:I,className:Ye(U,T.root),ref:n,children:[a.jsxs(tne,{role:"presentation",onClick:W,ownerState:I,"aria-live":"polite",className:T.labelContainer,children:[a.jsx(Hj,{reduceAnimations:k,transKey:l.format(f,"monthAndYear"),children:a.jsx(nne,{id:N,ownerState:I,className:T.label,children:l.format(f,"monthAndYear")})}),D.length>1&&!v&&a.jsx(P,z({},K,{children:a.jsx(Q,z({},$))}))]}),a.jsx(bh,{in:_==="day",children:a.jsx(Gte,{slots:u,slotProps:d,onGoToPrevious:H,isPreviousDisabled:M,previousLabel:A.previousMonth,onGoToNext:O,isNextDisabled:ie,nextLabel:A.nextMonth})})]}))}),ane=Te("div")({overflow:"hidden",width:Zx,maxHeight:Oj,display:"flex",flexDirection:"column",margin:"0 auto"}),one="@media (prefers-reduced-motion: reduce)",bc=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),ZC=bc&&bc[1]?parseInt(bc[1],10):null,e5=bc&&bc[2]?parseInt(bc[2],10):null,Ane=ZC&&ZC<10||e5&&e5<13||!1,lne=()=>PN(one,{defaultMatches:!1})||Ane,cne=e=>at("MuiDateCalendar",e);ot("MuiDateCalendar",["root","viewTransitionContainer"]);const une=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","defaultCalendarMonth","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","components","componentsProps","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsPerRow","monthsPerRow","timezone"],dne=e=>{const{classes:t}=e;return lt({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},cne,t)};function hne(e,t){var n,r,s,i,o,A,l;const c=Is(),u=Jx(),d=lne(),p=Di({props:e,name:t});return z({},p,{loading:(n=p.loading)!=null?n:!1,disablePast:(r=p.disablePast)!=null?r:!1,disableFuture:(s=p.disableFuture)!=null?s:!1,openTo:(i=p.openTo)!=null?i:"day",views:(o=p.views)!=null?o:["year","day"],reduceAnimations:(A=p.reduceAnimations)!=null?A:d,renderLoading:(l=p.renderLoading)!=null?l:()=>a.jsx("span",{children:"..."}),minDate:sA(c,p.minDate,u.minDate),maxDate:sA(c,p.maxDate,u.maxDate)})}const fne=Te(ane,{name:"MuiDateCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"column",height:Oj}),pne=Te(Hj,{name:"MuiDateCalendar",slot:"ViewTransitionContainer",overridesResolver:(e,t)=>t.viewTransitionContainer})({}),gne=B.forwardRef(function(t,n){var r,s,i;const o=Is(),A=qc(),l=hne(t,"MuiDateCalendar"),{autoFocus:c,onViewChange:u,value:d,defaultValue:p,referenceDate:f,disableFuture:v,disablePast:g,defaultCalendarMonth:y,onChange:x,onYearChange:w,onMonthChange:b,reduceAnimations:j,shouldDisableDate:_,shouldDisableMonth:k,shouldDisableYear:D,view:N,views:U,openTo:L,className:E,disabled:I,readOnly:T,minDate:P,maxDate:K,disableHighlightToday:Q,focusedView:F,onFocusedViewChange:$,showDaysOutsideCurrentMonth:O,fixedWeekNumber:H,dayOfWeekFormatter:ie,components:M,componentsProps:W,slots:V,slotProps:X,loading:Y,renderLoading:ee,displayWeekNumber:ce,yearsPerRow:Ae,monthsPerRow:Ee,timezone:fe}=l,we=Ve(l,une),{value:de,handleValueChange:Be,timezone:pe}=eb({name:"DateCalendar",timezone:fe,value:d,defaultValue:p,onChange:x,valueManager:Hc}),{view:se,setView:me,focusedView:ne,setFocusedView:ae,goToNextView:he,setValueAndGoToNextView:ge}=Lte({view:N,views:U,openTo:L,onChange:Be,onViewChange:u,autoFocus:c,focusedView:F,onFocusedViewChange:$}),{referenceDate:Ce,calendarState:ye,changeFocusedDay:Le,changeMonth:We,handleChangeMonth:De,isDateDisabled:$e,onMonthSwitchingAnimationEnd:Ge}=_ee({value:de,defaultCalendarMonth:y,referenceDate:f,reduceAnimations:j,onMonthChange:b,minDate:P,maxDate:K,shouldDisableDate:_,disablePast:g,disableFuture:v,timezone:pe}),_e=I&&de||P,Me=I&&de||K,Ie=`${A}-grid-label`,nt=ne!==null,He=(r=(s=V==null?void 0:V.calendarHeader)!=null?s:M==null?void 0:M.CalendarHeader)!=null?r:ine,xt=Vo({elementType:He,externalSlotProps:(i=X==null?void 0:X.calendarHeader)!=null?i:W==null?void 0:W.calendarHeader,additionalProps:{views:U,view:se,currentMonth:ye.currentMonth,onViewChange:me,onMonthChange:(it,ft)=>De({newMonth:it,direction:ft}),minDate:_e,maxDate:Me,disabled:I,disablePast:g,disableFuture:v,reduceAnimations:j,timezone:pe,labelId:Ie,slots:V,slotProps:X},ownerState:l}),Qe=Vt(it=>{const ft=o.startOfMonth(it),Vn=o.endOfMonth(it),Jt=$e(it)?Qd({utils:o,date:it,minDate:o.isBefore(P,ft)?ft:P,maxDate:o.isAfter(K,Vn)?Vn:K,disablePast:g,disableFuture:v,isDateDisabled:$e,timezone:pe}):it;Jt?(ge(Jt,"finish"),b==null||b(ft)):(he(),We(ft)),Le(Jt,!0)}),et=Vt(it=>{const ft=o.startOfYear(it),Vn=o.endOfYear(it),Jt=$e(it)?Qd({utils:o,date:it,minDate:o.isBefore(P,ft)?ft:P,maxDate:o.isAfter(K,Vn)?Vn:K,disablePast:g,disableFuture:v,isDateDisabled:$e,timezone:pe}):it;Jt?(ge(Jt,"finish"),w==null||w(Jt)):(he(),We(ft)),Le(Jt,!0)}),Pe=Vt(it=>Be(it&&Cg(o,it,de??Ce),"finish",se));B.useEffect(()=>{de!=null&&o.isValid(de)&&We(de)},[de]);const rt=l,Nt=dne(rt),Et={disablePast:g,disableFuture:v,maxDate:K,minDate:P},Xt={disableHighlightToday:Q,readOnly:T,disabled:I,timezone:pe,gridLabelId:Ie},$t=B.useRef(se);B.useEffect(()=>{$t.current!==se&&(ne===$t.current&&ae(se,!0),$t.current=se)},[ne,ae,se]);const Mt=B.useMemo(()=>[de],[de]);return a.jsxs(fne,z({ref:n,className:Ye(Nt.root,E),ownerState:rt},we,{children:[a.jsx(He,z({},xt)),a.jsx(pne,{reduceAnimations:j,className:Nt.viewTransitionContainer,transKey:se,ownerState:rt,children:a.jsxs("div",{children:[se==="year"&&a.jsx(Ute,z({},Et,Xt,{value:de,onChange:et,shouldDisableYear:D,hasFocus:nt,onFocusedViewChange:it=>ae("year",it),yearsPerRow:Ae,referenceDate:Ce})),se==="month"&&a.jsx(wte,z({},Et,Xt,{hasFocus:nt,className:E,value:de,onChange:Qe,shouldDisableMonth:k,onFocusedViewChange:it=>ae("month",it),monthsPerRow:Ee,referenceDate:Ce})),se==="day"&&a.jsx(lte,z({},ye,Et,Xt,{onMonthSwitchingAnimationEnd:Ge,onFocusedDayChange:Le,reduceAnimations:j,selectedDays:Mt,onSelectedDaysChange:Pe,shouldDisableDate:_,shouldDisableMonth:k,shouldDisableYear:D,hasFocus:nt,onFocusedViewChange:it=>ae("day",it),showDaysOutsideCurrentMonth:O,fixedWeekNumber:H,dayOfWeekFormatter:ie,displayWeekNumber:ce,components:M,componentsProps:W,slots:V,slotProps:X,loading:Y,renderLoading:ee}))]})})]}))});function mne(){const{clubId:e,courtId:t}=ho(),n=vs(),[r,s]=B.useState(Xo()),[i,o]=B.useState(null),[A,l]=B.useState(null),[c,u]=B.useState(!0),[d,p]=B.useState("");B.useEffect(()=>{f()},[e,t]);const f=async()=>{if(!e||!t){p("Некорректные параметры"),u(!1);return}try{const y=await dn(yt(Oe,"courts",t));if(!y.exists()){p("Корт не найден"),u(!1);return}const x={id:y.id,...y.data()};if(x.venueId!==e){p("Корт не принадлежит указанному клубу"),u(!1);return}o(x);const w=await dn(yt(Oe,"venues",e));w.exists()&&l({id:w.id,...w.data()}),u(!1)}catch(y){console.error("Error loading data:",y),p("Ошибка при загрузке данных"),u(!1)}},v=()=>{r&&n(`/club/${e}/court/${t}/time?date=${rn(r,"yyyy-MM-dd")}`)},g=y=>{const x=Xo();if(y<x)return!0;const w=so(x,30);if(y>w)return!0;if(A!=null&&A.workingHours){const j=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][y.getDay()],_=A.workingHours[j];if(!_||!_.open&&!_.close)return!0}return!1};return c?a.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[a.jsxs("div",{style:{textAlign:"center"},children:[a.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),a.jsx("p",{className:"body-small",children:"Загрузка..."})]}),a.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]}):d?a.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:a.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[a.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"❌"}),a.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Ошибка"}),a.jsx("p",{className:"body",style:{color:"var(--text-secondary)"},children:d})]})}):a.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[a.jsx("div",{style:{backgroundColor:"var(--white)",padding:"var(--spacing-md) var(--spacing-xl)",boxShadow:"var(--shadow-sm)",position:"sticky",top:0,zIndex:10},children:a.jsx("button",{onClick:()=>n(-1),style:{background:"none",border:"none",fontSize:"20px",cursor:"pointer",padding:"8px",marginLeft:"-8px",borderRadius:"50%",display:"inline-flex",alignItems:"center",justifyContent:"center",transition:"background 0.2s"},onMouseEnter:y=>y.currentTarget.style.background="var(--extra-light-gray)",onMouseLeave:y=>y.currentTarget.style.background="none",children:"←"})}),a.jsxs("div",{style:{padding:"var(--spacing-xl)"},children:[a.jsx("h1",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Выберите дату"}),i&&A&&a.jsxs("p",{className:"body-small",style:{marginBottom:"var(--spacing-xl)"},children:[A.name," • ",i.name]}),a.jsx("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)"},children:a.jsx(fee,{dateAdapter:dee,adapterLocale:ti,children:a.jsx(gne,{value:r,onChange:y=>s(y),shouldDisableDate:g,disablePast:!0,sx:{width:"100%",".MuiDayCalendar-weekContainer":{justifyContent:"space-around"},".MuiPickersDay-root":{fontSize:"var(--text-body)","&:hover":{backgroundColor:"var(--primary-light)"},"&.Mui-selected":{backgroundColor:"var(--primary)","&:hover":{backgroundColor:"var(--primary-dark)"}}},".MuiPickersCalendarHeader-label":{fontSize:"var(--text-body)",fontWeight:600},".MuiPickersArrowSwitcher-button":{color:"var(--primary)"}}})})}),r&&a.jsxs("div",{className:"info-section",style:{marginBottom:"var(--spacing-xl)"},children:[a.jsx("p",{className:"body-small",style:{marginBottom:"var(--spacing-xs)"},children:"Выбранная дата:"}),a.jsx("h3",{className:"h3",children:rn(r,"d MMMM yyyy",{locale:ti})})]}),a.jsx("div",{style:{backgroundColor:"var(--info)",color:"white",padding:"var(--spacing-md)",borderRadius:"var(--radius-md)",marginBottom:"calc(80px + var(--spacing-xl))"},children:a.jsx("p",{className:"caption",style:{color:"white"},children:"ℹ️ Бронирование доступно на 30 дней вперед. Серым цветом отмечены дни, когда клуб не работает."})})]}),a.jsx("div",{className:"sticky-bottom-bar",children:a.jsx("button",{className:"flutter-button",style:{width:"100%"},onClick:v,disabled:!r,children:"Выбрать время →"})})]})}function vne(){var F,$;const{clubId:e,courtId:t}=ho(),n=vs(),[r]=Oc(),s=r.get("date"),i=s?Kr(s,"yyyy-MM-dd",new Date):new Date,[o,A]=B.useState(null),[l,c]=B.useState(null),[u,d]=B.useState([]),[p,f]=B.useState(null),[v,g]=B.useState(60),[y,x]=B.useState([60,90,120]),[w,b]=B.useState(!0),[j,_]=B.useState(""),[k,D]=B.useState([]),[N,U]=B.useState([]),[L,E]=B.useState(0);B.useEffect(()=>{I()},[]),B.useEffect(()=>{T()},[e,t,L]),B.useEffect(()=>{l&&o&&P()},[l,o,u,v,L]);const I=()=>{const O=[],H=["Вс","Пн","Вт","Ср","Чт","Пт","Сб"];let ie=-1;for(let M=0;M<7;M++){const W=so(Xo(),M);O.push({date:W,day:H[W.getDay()],dayNumber:rn(W,"d")}),rn(W,"yyyy-MM-dd")===s&&(ie=M)}U(O),E(ie>=0?ie:0)},T=async()=>{var O;if(!e||!t){_("Некорректные параметры"),b(!1);return}try{const H=await dn(yt(Oe,"courts",t));if(!H.exists()){_("Корт не найден"),b(!1);return}const ie={id:H.id,...H.data()};A(ie);const M=await dn(yt(Oe,"venues",e));if(M.exists()){const fe={id:M.id,...M.data()};if(c(fe),fe.bookingDurations){const we=[60,90,120].filter(de=>fe.bookingDurations[de]!==!1);x(we),we.includes(v)||g(we[0]||60)}}const W=((O=N[L])==null?void 0:O.date)||i,V=rn(W,"yyyy-MM-dd"),X=new Date(W);X.setHours(0,0,0,0);const Y=new Date(W);Y.setHours(23,59,59,999);const ee=qt(Ft(Oe,"bookings"),It("courtId","==",t),It("date",">=",Zt.fromDate(X)),It("date","<=",Zt.fromDate(Y))),Ee=(await Gt(ee)).docs.map(fe=>({id:fe.id,...fe.data()})).filter(fe=>{const we=fe.status||"pending",de=fe.paymentStatus||"awaiting_payment";return we!=="cancelled"&&de!=="cancelled"&&de!=="refunded"&&de!=="error"&&(we==="confirmed"||we==="pending"||de==="paid"||de==="online_payment"||de==="awaiting_payment")});d(Ee),b(!1)}catch(H){console.error("Error loading data:",H),_("Ошибка при загрузке данных"),b(!1)}},P=()=>{var fe;if(!(l!=null&&l.workingHours)||!o)return;const O=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],H=((fe=N[L])==null?void 0:fe.date)||i,ie=O[H.getDay()],M=l.workingHours[ie];if(!M)return;let W="08:00",V="22:00";if(typeof M=="string"&&M.includes("-")){const[we,de]=M.split("-").map(Be=>Be.trim());W=we||"08:00",V=de||"22:00"}else M.open&&M.close&&(W=M.open,V=M.close);const X=[],Y=Kr(W,"HH:mm",H),ee=Kr(V,"HH:mm",H),ce=l.bookingSlotInterval||60;let Ae=Y;const Ee=new Date;for(ce===60&&Ae.getMinutes()!==0&&(Ae.getMinutes()<30?Ae=new Date(Ae.setMinutes(0)):Ae=Gi(new Date(Ae.setMinutes(0)),60));Lr(Ae,ee);){const we=rn(Ae,"HH:mm"),de=Gi(Ae,v);let Be=!0;if(Tj(H)&&Lr(Ae,Ee)&&(Be=!1),Rs(de,ee)&&(Be=!1),Be)for(const me of u){const ne=Kr(me.startTime,"HH:mm",H),ae=Kr(me.endTime,"HH:mm",H);if(Rs(Ae,ne)&&Lr(Ae,ae)||Rs(de,ne)&&Lr(de,ae)||Lr(Ae,ne)&&Rs(de,ae)||rn(Ae,"HH:mm")===me.startTime){Be=!1;break}}const se=Pc(i||new Date,we,v,o.pricing,o.holidayPricing,o.priceWeekday,o.priceWeekend||o.pricePerHour);X.push({time:we,available:Be,price:Math.round(se)}),Ae=Gi(Ae,ce)}D(X)},K=()=>{var ie;if(!p)return;const O=((ie=N[L])==null?void 0:ie.date)||i,H=rn(O,"yyyy-MM-dd");n(`/club/${e}/court/${t}/game-type?date=${H}&time=${p}&duration=${v}`)},Q=O=>{E(O),f(null)};return w?a.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[a.jsxs("div",{style:{textAlign:"center"},children:[a.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),a.jsx("p",{className:"body-small",children:"Загрузка..."})]}),a.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]}):j?a.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:a.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[a.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"❌"}),a.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Ошибка"}),a.jsx("p",{className:"body",style:{color:"var(--text-secondary)"},children:j})]})}):a.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[a.jsx("div",{style:{backgroundColor:"var(--white)",padding:"var(--spacing-md) var(--spacing-xl)",boxShadow:"var(--shadow-sm)"},children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-md)"},children:[a.jsx("button",{onClick:()=>n(-1),style:{width:"40px",height:"40px",background:"var(--divider)",border:"none",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"},children:"←"}),a.jsxs("div",{children:[a.jsx("h1",{className:"h3",style:{marginBottom:"4px"},children:"Выберите время"}),o&&l&&a.jsxs("p",{className:"caption",children:[l.name," • ",o.name]})]})]})}),a.jsx("div",{style:{height:"90px",padding:"var(--spacing-md) 0",backgroundColor:"var(--white)",borderBottom:"1px solid var(--divider)"},children:a.jsx("div",{style:{display:"flex",gap:"var(--spacing-sm)",padding:"0 var(--spacing-xl)",overflowX:"auto",WebkitOverflowScrolling:"touch"},children:N.map((O,H)=>{const ie=L===H;return a.jsxs("button",{onClick:()=>Q(H),style:{minWidth:"60px",height:"60px",backgroundColor:ie?"var(--primary)":"var(--white)",color:ie?"white":"var(--dark)",border:`2px solid ${ie?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},children:[a.jsx("span",{className:"caption-bold",children:O.day}),a.jsx("span",{className:"body-bold",children:O.dayNumber})]},H)})})}),a.jsxs("div",{style:{padding:"var(--spacing-xl) var(--spacing-xl) 0"},children:[a.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Длительность игры"}),a.jsx("div",{style:{display:"flex",gap:"var(--spacing-sm)"},children:[60,90,120].map(O=>{const H=y.includes(O);return a.jsx("button",{onClick:()=>{H&&(g(O),f(null))},disabled:!H,style:{flex:1,padding:"var(--spacing-sm)",backgroundColor:v===O?"var(--primary)":H?"var(--white)":"var(--extra-light-gray)",color:v===O?"white":H?"var(--dark)":"var(--gray)",border:`2px solid ${v===O?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",cursor:H?"pointer":"not-allowed",fontWeight:600,fontSize:"var(--text-body)",transition:"all 0.2s",opacity:H?1:.5},children:O===60?"1 час":O===90?"1.5 часа":"2 часа"},O)})})]}),a.jsxs("div",{style:{padding:"var(--spacing-xl)"},children:[a.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Свободное время"}),k.length===0?a.jsx("div",{className:"flutter-card",style:{textAlign:"center",padding:"var(--spacing-2xl)"},children:a.jsx("p",{className:"body",style:{color:"var(--gray)"},children:"Нет доступных слотов на выбранную дату"})}):a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"10px",marginBottom:"calc(120px + var(--spacing-xl))"},children:k.map(O=>{const H=p===O.time;return a.jsxs("button",{onClick:()=>O.available&&f(O.time),disabled:!O.available,style:{padding:"var(--spacing-sm) var(--spacing-xs)",backgroundColor:O.available?H?"var(--primary)":"var(--primary-light)":"var(--busy)",color:O.available?H?"white":"var(--dark)":"var(--busy-text)",border:`2px solid ${O.available?H?"var(--primary)":"var(--available)":"var(--busy)"}`,borderRadius:"var(--radius-sm)",cursor:O.available?"pointer":"not-allowed",opacity:1,transition:"all 0.2s",display:"flex",flexDirection:"column",alignItems:"center",gap:"2px",height:"60px",justifyContent:"center"},children:[a.jsx("span",{className:"body-bold",children:O.time}),O.available?a.jsx("span",{className:"caption",style:{color:H?"white":"var(--primary-dark)",fontSize:"var(--text-caption)"},children:H?"Выбрано":`${O.price}₽`}):a.jsx("span",{className:"caption",style:{color:"var(--busy-text)"},children:"Занято"})]},O.time)})})]}),a.jsxs("div",{style:{padding:"0 var(--spacing-xl) var(--spacing-xl)",display:"flex",gap:"var(--spacing-lg)",flexWrap:"wrap"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[a.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--white)",border:"2px solid var(--extra-light-gray)",borderRadius:"4px"}}),a.jsx("span",{className:"caption",children:"Свободно"})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[a.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--busy)",borderRadius:"4px"}}),a.jsx("span",{className:"caption",children:"Занято"})]})]}),a.jsxs("div",{className:"sticky-bottom-bar",style:{padding:"var(--spacing-xl)",borderRadius:"var(--radius-lg) var(--radius-lg) 0 0"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--spacing-sm)"},children:[a.jsx("span",{className:"body-small",style:{color:"var(--gray)"},children:p&&N[L]&&`${rn(N[L].date,"d MMMM",{locale:ti})}, ${p}-${rn(Gi(Kr(p,"HH:mm",new Date),v),"HH:mm")}`}),p&&((F=k.find(O=>O.time===p))==null?void 0:F.available)&&a.jsxs("span",{className:"h2",children:[($=k.find(O=>O.time===p))==null?void 0:$.price," ₽"]})]}),a.jsx("button",{className:"flutter-button",style:{width:"100%"},onClick:K,disabled:!p,children:"Далее"})]})]})}function yne(){const{clubId:e,courtId:t}=ho(),n=vs(),[r]=Oc(),s=r.get("date"),i=r.get("time"),o=r.get("duration"),[A,l]=B.useState("open"),[c,u]=B.useState(!1),[d,p]=B.useState(null),[f,v]=B.useState(!0);B.useEffect(()=>{g()},[t]);const g=async()=>{if(t)try{const N=await dn(yt(Oe,"venues",e,"courts",t));N.exists()&&p({id:N.id,...N.data()})}catch(N){console.error("Error loading court:",N)}finally{v(!1)}},[y,x]=B.useState({name:"",phone:"+7",email:"",comment:""}),[w,b]=B.useState({}),[j,_]=B.useState(!1),k=[{id:"private",title:"Приватная игра",subtitle:"Только для вас и ваших друзей",icon:"🔒",iconColor:"var(--primary)",tags:["Только для вас","Без посторонних"],available:!0},{id:"open",title:"Открытая игра",subtitle:"Найдите партнёров для игры",icon:"👥",iconColor:"var(--success)",tags:["Найти партнёров","Разделить оплату"],available:!1},{id:"find",title:"Найти игру",subtitle:"Присоединитесь к существующей игре",icon:"🔍",iconColor:"var(--gray)",tags:["12 открытых игр"],available:!1}],D=N=>{if(N.available){const U=s?Kr(s,"yyyy-MM-dd",new Date):new Date,L=d?Math.round(Pc(U,i||"09:00",parseInt(o||"60"),d.pricing,d.holidayPricing,d.priceWeekday,d.priceWeekend||d.pricePerHour)):0,E=new URLSearchParams({date:s||"",time:i||"",duration:o||"60",gameType:N.id,playersCount:(N.playersCount||1).toString(),price:L.toString(),pricePerPlayer:(N.pricePerPlayer||L).toString()});n(`/club/${e}/court/${t}/payment?${E.toString()}`)}else window.confirm(`Функция "${N.title}" доступна только в мобильном приложении "Все корты".

Перейти в приложение?`)&&(window.location.href=`allcourts://club/${e}/court/${t}?date=${s}&time=${i}&duration=${o}`)};return a.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[a.jsx("div",{style:{backgroundColor:"var(--white)",padding:"var(--spacing-md) var(--spacing-xl)",boxShadow:"var(--shadow-sm)"},children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-md)"},children:[a.jsx("button",{onClick:()=>n(-1),style:{width:"40px",height:"40px",background:"var(--divider)",border:"none",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"},children:"←"}),a.jsx("div",{children:a.jsx("h1",{className:"h3",children:"Выберите формат игры"})})]})}),a.jsxs("div",{style:{padding:"var(--spacing-xl)"},children:[k.map(N=>a.jsxs("div",{onClick:()=>D(N),style:{backgroundColor:"var(--white)",borderRadius:"var(--radius-md)",padding:"var(--spacing-lg)",marginBottom:"var(--spacing-md)",cursor:"pointer",transition:"all 0.2s",border:`2px solid ${A===N.id&&N.available?"var(--primary)":"transparent"}`,boxShadow:A===N.id&&N.available?"0 2px 10px rgba(0, 211, 50, 0.1)":"none",opacity:N.available?1:.7,position:"relative"},onMouseEnter:U=>{N.available&&(U.currentTarget.style.transform="translateY(-2px)",U.currentTarget.style.boxShadow="var(--shadow-md)")},onMouseLeave:U=>{U.currentTarget.style.transform="none",U.currentTarget.style.boxShadow="none"},children:[!N.available&&a.jsx("div",{style:{position:"absolute",top:"var(--spacing-sm)",right:"var(--spacing-sm)",backgroundColor:"var(--secondary)",color:"white",padding:"4px 8px",borderRadius:"var(--radius-sm)",fontSize:"var(--text-tiny)",fontWeight:600},children:"В приложении"}),a.jsxs("div",{style:{display:"flex",gap:"var(--spacing-md)"},children:[a.jsx("div",{style:{width:"40px",height:"40px",backgroundColor:A===N.id&&N.available?"var(--primary)":"var(--divider)",borderRadius:"var(--radius-sm)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",flexShrink:0},children:a.jsx("span",{style:{filter:A===N.id&&N.available?"brightness(0) invert(1)":"none"},children:N.icon})}),a.jsxs("div",{style:{flex:1},children:[a.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-xxs)"},children:N.title}),a.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-sm)"},children:N.subtitle}),a.jsx("div",{style:{display:"flex",gap:"var(--spacing-xs)",flexWrap:"wrap"},children:N.tags.map((U,L)=>a.jsx("span",{style:{padding:"4px 16px",backgroundColor:A===N.id&&N.available?"var(--primary-light)":"var(--divider)",color:A===N.id&&N.available?"var(--primary-dark)":"var(--gray)",borderRadius:"var(--radius-xl)",fontSize:"var(--text-caption)",fontWeight:600},children:U},L))})]})]})]},N.id)),a.jsx("div",{style:{backgroundColor:"var(--warning)",color:"white",padding:"var(--spacing-md)",borderRadius:"var(--radius-md)",marginTop:"var(--spacing-xl)"},children:a.jsx("p",{className:"caption",style:{color:"white"},children:'⚠️ В веб-версии доступна только "Открытая игра". Для доступа ко всем типам игр скачайте мобильное приложение "Все корты".'})})]})]})}function xne(){const{clubId:e,courtId:t}=ho(),n=vs(),[r]=Oc(),s=r.get("date")||"",i=r.get("time")||"",o=parseInt(r.get("duration")||"60"),A=r.get("gameType")||"simple",l=parseInt(r.get("playersCount")||"1"),c=parseInt(r.get("price")||"0"),u=parseInt(r.get("pricePerPlayer")||"0"),d=r.get("customerName")||"",p=r.get("customerPhone")||"",f=r.get("customerEmail")||"",[v,g]=B.useState(null),[y,x]=B.useState(null),[w,b]=B.useState(!0),[j,_]=B.useState(!1),[k,D]=B.useState(""),[N,U]=B.useState(!1),[L,E]=B.useState(d),[I,T]=B.useState(p),[P,K]=B.useState(f),[Q,F]=B.useState(window.innerWidth<=768);B.useEffect(()=>{const X=()=>F(window.innerWidth<=768);return window.addEventListener("resize",X),()=>window.removeEventListener("resize",X)},[]),B.useEffect(()=>{$()},[e,t]),B.useEffect(()=>{!w&&v&&y&&d&&p&&!j&&!N&&(U(!0),setTimeout(()=>{V()},500))},[w,v,y,d,p,j,N]);const $=async()=>{if(!e||!t){D("Некорректные параметры"),b(!1);return}try{const X=await dn(yt(Oe,"venues",e,"courts",t));if(!X.exists()){D("Корт не найден"),b(!1);return}const Y={id:X.id,...X.data(),venueId:e};g(Y);const ee=await dn(yt(Oe,"venues",e));if(ee.exists()){const ce={id:ee.id,...ee.data()};x(ce)}b(!1)}catch(X){console.error("Error loading data:",X),D("Ошибка при загрузке данных"),b(!1)}},O=X=>{const Y=Kr(X,"yyyy-MM-dd",new Date);return rn(Y,"d MMMM",{locale:ti})},H=(X,Y)=>{const[ee,ce]=X.split(":").map(Number),Ae=ee*60+ce+Y,Ee=Math.floor(Ae/60),fe=Ae%60;return`${Ee.toString().padStart(2,"0")}:${fe.toString().padStart(2,"0")}`},ie=X=>{const Y=X.replace(/\D/g,"");return Y.length<=1?Y:Y.length<=4?`+7 (${Y.slice(1)})`:Y.length<=7?`+7 (${Y.slice(1,4)}) ${Y.slice(4)}`:Y.length<=9?`+7 (${Y.slice(1,4)}) ${Y.slice(4,7)}-${Y.slice(7)}`:`+7 (${Y.slice(1,4)}) ${Y.slice(4,7)}-${Y.slice(7,9)}-${Y.slice(9,11)}`},M=X=>{const Y=ie(X.target.value);T(Y)},W=()=>L.trim()?!I||I.replace(/\D/g,"").length<11?(alert("Пожалуйста, введите корректный номер телефона"),!1):P&&!P.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)?(alert("Пожалуйста, введите корректный email"),!1):!0:(alert("Пожалуйста, введите ваше имя"),!1),V=async()=>{if(!(!W()||!v||!y)){_(!0);try{const X=new Date(s+"T00:00:00"),Y=new Date(X);Y.setHours(0,0,0,0);const ee=new Date(X);ee.setHours(23,59,59,999);const ce=qt(Ft(Oe,"bookings"),It("courtId","==",t),It("date",">=",Zt.fromDate(Y)),It("date","<=",Zt.fromDate(ee))),Ee=(await Gt(ce)).docs.map(me=>({id:me.id,...me.data()})).filter(me=>{const ne=me.status||"pending",ae=me.paymentStatus||"awaiting_payment";return ne!=="cancelled"&&ae!=="cancelled"&&ae!=="refunded"&&ae!=="error"&&(ne==="confirmed"||ne==="pending"||ae==="paid"||ae==="online_payment"||ae==="awaiting_payment")}),fe=Kr(i,"HH:mm",new Date),we=Gi(fe,o);for(const me of Ee){const ne=Kr(me.startTime,"HH:mm",new Date),ae=Kr(me.endTime,"HH:mm",new Date);if(Rs(fe,ne)&&Lr(fe,ae)||Rs(we,ne)&&Lr(we,ae)||Lr(fe,ne)&&Rs(we,ae)||rn(fe,"HH:mm")===me.startTime){_(!1),alert("К сожалению, выбранное время уже занято. Пожалуйста, выберите другое время."),n(`/club/${e}/court/${t}/time?date=${s}`);return}}try{await Ss(Zo,"validateBookingRequest")({phoneNumber:I,venueId:e,source:"web"})}catch(me){_(!1),alert(me.message||"Не удалось создать бронирование. Попробуйте позже.");return}const de=new Date(s+"T00:00:00"),Be=Zt.fromDate(de),pe={courtId:t,courtName:v.name,venueId:e,venueName:y.name,date:Be,startTime:i,endTime:H(i,o),duration:o,gameType:A,playersCount:A==="open"||A==="open_join"?l:1,totalPrice:c,pricePerPlayer:A==="open"||A==="open_join"?u:c,customerName:L,customerPhone:I,customerEmail:P||null,status:"pending",paymentStatus:"awaiting_payment",paymentMethod:"online",paymentHistory:[{timestamp:Zt.now(),action:"created",userId:"web-booking",userName:L||"Клиент",note:"Бронирование создано через веб-сайт"}],createdAt:Zt.now(),updatedAt:Zt.now()},se=await qi(Ft(Oe,"bookings"),pe);if(y.paymentEnabled&&y.paymentProvider)try{const ae=(await Ss(Zo,"initBookingPayment")({bookingId:se.id,amount:c,description:`Бронирование ${v.name} на ${O(s)} ${i}`,returnUrl:`${window.location.origin}/club/${e}/booking-confirmation/${se.id}`,userId:"",customerEmail:P||void 0,customerPhone:I})).data;if(console.log("Payment initialization result:",ae),ae.success&&ae.paymentUrl)console.log("Updating booking with payment info:",{bookingId:se.id,paymentId:ae.paymentId,paymentUrl:ae.paymentUrl,paymentProvider:y.paymentProvider}),await In(se,{paymentId:ae.paymentId,paymentUrl:ae.paymentUrl,paymentProvider:y.paymentProvider}),console.log("Booking updated successfully, redirecting to payment page"),window.location.href=ae.paymentUrl;else throw new Error(ae.error||"Ошибка инициализации платежа")}catch(me){console.error("Payment initialization error:",me),await In(se,{paymentStatus:"error",paymentError:me.message}),alert("Ошибка при создании платежа. Пожалуйста, свяжитесь с администратором клуба."),n(`/club/${e}/booking-confirmation/${se.id}?paymentError=true`)}else await In(se,{status:"confirmed",paymentStatus:"not_required"}),n(`/club/${e}/booking-confirmation/${se.id}`)}catch(X){console.error("Error creating booking:",X),alert("Ошибка при создании бронирования. Попробуйте еще раз.")}finally{_(!1)}}};return w||d&&p&&j?a.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[a.jsxs("div",{style:{textAlign:"center"},children:[a.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),a.jsx("p",{className:"body-small",children:j?"Создание бронирования...":"Загрузка..."})]}),a.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]}):k?a.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:a.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[a.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"❌"}),a.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Ошибка"}),a.jsx("p",{className:"body",style:{color:"var(--text-secondary)"},children:k})]})}):a.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[a.jsx("div",{style:{backgroundColor:"var(--white)",padding:"var(--spacing-md) var(--spacing-xl)",boxShadow:"var(--shadow-sm)",position:"sticky",top:0,zIndex:10},children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-md)"},children:[a.jsx("button",{onClick:()=>n(-1),style:{width:"40px",height:"40px",background:"var(--divider)",border:"none",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"},children:"←"}),a.jsx("div",{children:a.jsx("h1",{className:"h3",children:"Оплата бронирования"})})]})}),a.jsxs("div",{style:{padding:Q?"var(--spacing-md)":"var(--spacing-xl)",paddingBottom:"calc(100px + var(--spacing-xl))",maxWidth:"800px",margin:"0 auto"},children:[a.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-md)"},children:[a.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Детали бронирования"}),a.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"var(--spacing-sm)"},children:a.jsxs("div",{children:[a.jsx("p",{className:"body",children:y==null?void 0:y.name}),a.jsx("p",{className:"body-small",style:{color:"var(--gray)"},children:v==null?void 0:v.name})]})}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"var(--spacing-sm)"},children:[a.jsxs("div",{children:[a.jsx("p",{className:"body",children:O(s)}),a.jsxs("p",{className:"body-small",style:{color:"var(--gray)"},children:[i,"-",H(i,o)]})]}),a.jsxs("div",{style:{textAlign:"right"},children:[a.jsx("p",{className:"h3",style:{color:"var(--primary)"},children:(A==="open"||A==="open_join")&&l>1?`${u} ₽/чел`:`${c} ₽`}),(A==="open"||A==="open_join")&&l>1&&a.jsxs("p",{className:"caption",style:{color:"var(--gray)"},children:["Всего: ",c," ₽"]})]})]}),(A==="open"||A==="open_join")&&a.jsxs("div",{style:{marginTop:"var(--spacing-sm)",padding:"var(--spacing-sm)",backgroundColor:"var(--chip-background)",borderRadius:"var(--radius-sm)",display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[a.jsx("span",{style:{fontSize:"16px"},children:"👥"}),a.jsx("span",{className:"caption",style:{color:"var(--primary-dark)"},children:A==="open_join"?"Присоединение к открытой игре":`Открытая игра • ${l} игрока`})]})]}),a.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-md)"},children:[a.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Контактные данные"}),a.jsx("div",{style:{marginBottom:"var(--spacing-md)"},children:a.jsx("input",{type:"text",value:L,onChange:X=>E(X.target.value),placeholder:"Ваше имя",style:{width:"100%",padding:"var(--spacing-md)",backgroundColor:"var(--background)",border:"none",borderRadius:"var(--radius-md)",fontSize:"var(--text-body)",outline:"none"}})}),a.jsx("div",{style:{marginBottom:"var(--spacing-md)"},children:a.jsx("input",{type:"tel",value:I,onChange:M,placeholder:"Номер телефона",style:{width:"100%",padding:"var(--spacing-md)",backgroundColor:"var(--background)",border:"none",borderRadius:"var(--radius-md)",fontSize:"var(--text-body)",outline:"none"}})}),a.jsx("div",{children:a.jsx("input",{type:"email",value:P,onChange:X=>K(X.target.value),placeholder:"Email (необязательно)",style:{width:"100%",padding:"var(--spacing-md)",backgroundColor:"var(--background)",border:"none",borderRadius:"var(--radius-md)",fontSize:"var(--text-body)",outline:"none"}})})]}),a.jsxs("div",{style:{padding:"var(--spacing-md)",backgroundColor:y!=null&&y.paymentEnabled?"rgba(255, 152, 0, 0.08)":"var(--chip-background)",borderRadius:"var(--radius-md)",border:y!=null&&y.paymentEnabled?"1px solid rgba(255, 152, 0, 0.3)":"1px solid var(--primary-light)",display:"flex",gap:"var(--spacing-sm)",alignItems:"flex-start"},children:[a.jsx("span",{style:{fontSize:"20px",color:y!=null&&y.paymentEnabled?"#ff9800":"var(--primary)"},children:y!=null&&y.paymentEnabled?"⏱️":"ℹ️"}),a.jsxs("div",{style:{flex:1},children:[a.jsx("p",{className:"caption",style:{color:y!=null&&y.paymentEnabled?"#e65100":"var(--primary-dark)",fontWeight:y!=null&&y.paymentEnabled?"500":"400",marginBottom:y!=null&&y.paymentEnabled?"8px":"0"},children:y!=null&&y.paymentEnabled?"Бронирование будет подтверждено только после успешной оплаты. Возврат по бронированию осуществляется не позже 12 часов до игры в мобильном приложении":"Оплата производится на месте при посещении клуба"}),(y==null?void 0:y.paymentEnabled)&&a.jsx("p",{className:"caption",style:{color:"#e65100",fontWeight:"600",fontSize:"14px"},children:"⚠️ На оплату дается 10 минут. После этого бронирование будет автоматически отменено."})]})]})]}),a.jsx("div",{className:"sticky-bottom-bar",style:{padding:"var(--spacing-xl)",borderRadius:"var(--radius-lg) var(--radius-lg) 0 0"},children:a.jsx("button",{className:"flutter-button",style:{width:"100%"},onClick:V,disabled:j,children:j?"Создание бронирования...":y!=null&&y.paymentEnabled?"Перейти к оплате":"Забронировать"})})]})}function bne(){const{clubId:e,bookingId:t}=ho(),n=vs(),[r]=Oc(),[s,i]=B.useState(null),[o,A]=B.useState(null),[l,c]=B.useState(null),[u,d]=B.useState(!0),[p,f]=B.useState(""),[v,g]=B.useState(null),y=r.get("paymentError")==="true",x=r.get("processing")==="true";B.useEffect(()=>{console.log("BookingConfirmationPage loaded with params:",{bookingId:t,clubId:e,searchParams:Array.from(r.entries())}),w()},[t]),B.useEffect(()=>{if(s&&s.paymentStatus==="awaiting_payment"&&s.createdAt){const j=()=>{const k=s.createdAt.toDate?s.createdAt.toDate():new Date(s.createdAt),N=Math.floor((new Date().getTime()-k.getTime())/1e3),U=Math.max(0,15*60-N);return U===0&&window.location.reload(),U};g(j());const _=setInterval(()=>{g(j())},1e3);return()=>clearInterval(_)}},[s]),B.useEffect(()=>{if(x&&s&&s.paymentStatus!=="paid"){const j=setInterval(async()=>{try{const _=await dn(yt(Oe,"bookings",t));_.exists()&&_.data().paymentStatus==="paid"&&window.location.reload()}catch(_){console.error("Error checking payment status:",_)}},3e3);return()=>clearInterval(j)}},[x,s,t]);const w=async()=>{var j;if(!t){f("ID бронирования не указан"),d(!1);return}try{const _=await dn(yt(Oe,"bookings",t));if(!_.exists()){f("cancelled"),d(!1);return}const k={id:_.id,..._.data()};if(console.log("Booking data loaded:",{id:k.id,paymentStatus:k.paymentStatus,paymentUrl:k.paymentUrl,paymentMethod:k.paymentMethod,status:k.status}),k.paymentStatus!=="paid")if(k.status==="cancelled"||k.paymentStatus==="cancelled"||k.paymentStatus==="expired"){f("cancelled"),d(!1);return}else!k.paymentStatus&&k.status==="pending"&&(k.paymentStatus="awaiting_payment");i(k);const D=await dn(yt(Oe,"venues",k.venueId));D.exists()&&A(D.data());const N=await dn(yt(Oe,"venues",k.venueId,"courts",k.courtId));N.exists()&&c(N.data()),d(!1)}catch(_){console.error("Error loading booking:",_),(_==null?void 0:_.code)==="permission-denied"||(_==null?void 0:_.code)==="not-found"||(j=_==null?void 0:_.message)!=null&&j.includes("Missing or insufficient permissions")?f("not-found"):f("Ошибка при загрузке данных бронирования"),d(!1)}};if(u)return a.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[a.jsxs("div",{style:{textAlign:"center"},children:[a.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),a.jsx("p",{className:"body-small",children:"Загрузка..."})]}),a.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]});if(x&&!s)return a.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:a.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[a.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"⏳"}),a.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Обработка платежа"}),a.jsx("p",{className:"body",style:{color:"var(--text-secondary)",marginBottom:"var(--spacing-xl)"},children:"Ваш платеж обрабатывается. Пожалуйста, подождите несколько секунд..."}),a.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto"}})]})});if(p)return p==="not-found"?a.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:a.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[a.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"🔍"}),a.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-md)"},children:"Бронирование не найдено"}),a.jsx("p",{className:"body",style:{color:"var(--text-secondary)",marginBottom:"var(--spacing-xl)",lineHeight:"1.6"},children:"Бронирование с таким ID не существует или было удалено."}),a.jsx("button",{className:"flutter-button",style:{width:"100%"},onClick:()=>n("/"),children:"На главную"})]})}):p==="cancelled"?a.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:a.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[a.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"❌"}),a.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-md)"},children:"Бронирование отменено"}),a.jsx("p",{className:"body",style:{color:"var(--text-secondary)",marginBottom:"var(--spacing-lg)",lineHeight:"1.6"},children:"Данное бронирование было отменено. Возможные причины:"}),a.jsxs("ul",{style:{textAlign:"left",marginBottom:"var(--spacing-xl)",paddingLeft:"var(--spacing-xl)",color:"var(--text-secondary)",lineHeight:"1.8"},children:[a.jsx("li",{children:"Истекло время оплаты (15 минут)"}),a.jsx("li",{children:"Бронирование было отменено администратором"}),a.jsx("li",{children:"Вы отменили бронирование в приложении"})]}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-md)",marginTop:"var(--spacing-xl)"},children:[a.jsx("button",{className:"flutter-button",style:{width:"100%"},onClick:()=>n(`/club/${e}`),children:"Вернуться к клубу"}),a.jsx("button",{className:"flutter-button-outlined",style:{width:"100%",backgroundColor:"transparent",color:"var(--primary)",border:"2px solid var(--primary)"},onClick:()=>n("/"),children:"На главную"})]}),a.jsxs("div",{style:{marginTop:"var(--spacing-2xl)",padding:"var(--spacing-lg)",backgroundColor:"var(--background)",borderRadius:"var(--radius-md)",textAlign:"center"},children:[a.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-sm)"},children:"Или позвоните в клуб для бронирования по телефону"}),a.jsx("p",{className:"body-bold",style:{color:"var(--primary)"},children:"📞 Контакты клуба доступны на странице клуба"})]})]})}):a.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:a.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[a.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"❌"}),a.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Ошибка"}),a.jsx("p",{className:"body",style:{color:"var(--text-secondary)"},children:p}),a.jsx("button",{className:"flutter-button",style:{width:"100%",marginTop:"var(--spacing-xl)"},onClick:()=>n("/"),children:"На главную"})]})});if(!s||!o||!l)return null;const b=s.date.toDate?s.date.toDate():new Date(s.date);return a.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[a.jsxs("div",{style:{backgroundColor:s.paymentStatus==="awaiting_payment"?"var(--warning)":y?"var(--error)":"var(--success)",padding:"var(--spacing-3xl) var(--spacing-xl)",textAlign:"center",color:"white"},children:[a.jsx("div",{style:{width:"80px",height:"80px",backgroundColor:"white",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto var(--spacing-lg)",fontSize:"40px"},children:s.paymentStatus==="awaiting_payment"?"⏰":y?"❌":"✅"}),a.jsx("h1",{className:"h2",style:{color:"white",marginBottom:"var(--spacing-sm)"},children:s.paymentStatus==="paid"||s.status==="confirmed"?"Бронирование подтверждено!":s.paymentStatus==="awaiting_payment"?"Требуется оплата!":y?"Ошибка оплаты":"Заявка отправлена!"}),a.jsx("p",{className:"body",style:{color:"white",opacity:.9},children:s.paymentStatus==="paid"||s.status==="confirmed"?"Ваше бронирование успешно оплачено и подтверждено":s.paymentStatus==="awaiting_payment"?"Бронирование будет автоматически отменено, если не будет оплачено в течение 15 минут":y?"Произошла ошибка при оплате. Пожалуйста, свяжитесь с администратором":"Ваша заявка на бронирование успешно отправлена"}),s.paymentStatus==="awaiting_payment"&&v!==null&&a.jsxs("div",{style:{fontSize:"32px",fontWeight:"bold",color:"white",marginTop:"var(--spacing-lg)",padding:"var(--spacing-md)",backgroundColor:"rgba(0,0,0,0.2)",borderRadius:"var(--radius-md)",display:"inline-block"},children:["⏳ Осталось: ",Math.floor(v/60),":",String(v%60).padStart(2,"0")]})]}),a.jsxs("div",{style:{padding:"var(--spacing-xl)"},children:[console.log("Button display check:",{paymentStatus:s.paymentStatus,hasPaymentUrl:!!s.paymentUrl,paymentUrl:s.paymentUrl,shouldShowButton:s.paymentStatus==="awaiting_payment"&&s.paymentUrl}),s.paymentStatus==="awaiting_payment"&&s.paymentUrl&&a.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)",backgroundColor:"#FFF3CD",border:"3px solid var(--warning)",boxShadow:"0 4px 20px rgba(255, 193, 7, 0.3)"},children:[a.jsx("h3",{className:"h3",style:{marginBottom:"var(--spacing-md)",color:"#856404",fontSize:"20px",textAlign:"center"},children:"⚠️ Завершите оплату, чтобы подтвердить бронирование"}),a.jsx("p",{className:"body",style:{marginBottom:"var(--spacing-lg)",color:"#856404",textAlign:"center",fontSize:"16px"},children:"Без оплаты бронирование будет автоматически отменено"}),a.jsx("button",{className:"flutter-button",style:{width:"100%",backgroundColor:"var(--success)",fontSize:"18px",padding:"var(--spacing-lg) var(--spacing-xl)",fontWeight:"bold",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)",animation:"pulse 2s infinite"},onClick:()=>{s.paymentUrl&&(window.location.href=s.paymentUrl)},children:"💳 Оплатить сейчас"}),a.jsx("button",{className:"flutter-button-outlined",style:{width:"100%",marginTop:"var(--spacing-md)",backgroundColor:"transparent",color:"#856404",border:"2px solid #856404",fontSize:"16px",padding:"var(--spacing-md) var(--spacing-lg)"},onClick:async()=>{if(window.confirm("Вы уверены, что хотите отменить бронирование? Это действие нельзя отменить."))try{await In(yt(Oe,"bookings",t),{status:"cancelled",paymentStatus:"cancelled",cancelledAt:Zt.now(),cancelledBy:"customer",cancelReason:"Отменено клиентом на странице ожидания оплаты"}),alert("Бронирование успешно отменено"),window.location.reload()}catch(j){console.error("Error cancelling booking:",j),alert("Ошибка при отмене бронирования. Попробуйте еще раз.")}},children:"Отменить бронирование"}),a.jsx("style",{children:`
                @keyframes pulse {
                  0% { transform: scale(1); }
                  50% { transform: scale(1.02); }
                  100% { transform: scale(1); }
                }
              `})]}),s.paymentStatus!=="awaiting_payment"&&a.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)"},children:[a.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Что дальше?"}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-md)"},children:[a.jsxs("div",{style:{display:"flex",gap:"var(--spacing-md)"},children:[a.jsx("div",{style:{width:"32px",height:"32px",backgroundColor:"var(--primary-light)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,color:"var(--primary)"},children:"⚠️"}),a.jsxs("div",{children:[a.jsx("p",{className:"body-bold",style:{marginBottom:"var(--spacing-xxs)"},children:"Отмена бронирования"}),a.jsx("p",{className:"caption",children:"Отменить можно за 24 часа до игры через мобильное приложение или позвонив администратору в рабочее время"})]})]}),a.jsxs("div",{style:{display:"flex",gap:"var(--spacing-md)"},children:[a.jsx("div",{style:{width:"32px",height:"32px",backgroundColor:"#25D366",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,color:"white",fontSize:"18px"},children:"💬"}),a.jsxs("div",{children:[a.jsx("p",{className:"body-bold",style:{marginBottom:"var(--spacing-xxs)"},children:"Нужен тренер?"}),o&&o.phone&&a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-sm)"},children:"Напишите на WhatsApp"}),a.jsxs("a",{href:`https://wa.me/${o.phone.replace(/[^0-9]/g,"").replace(/^8/,"7")}`,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"8px 16px",backgroundColor:"#25D366",color:"white",borderRadius:"8px",textDecoration:"none",fontSize:"14px",fontWeight:"600",transition:"transform 0.2s"},onMouseEnter:j=>j.currentTarget.style.transform="scale(1.05)",onMouseLeave:j=>j.currentTarget.style.transform="scale(1)",children:[a.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"white",children:a.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.149-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})}),a.jsx("span",{children:"WhatsApp"})]})]})]})]})]})]}),a.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)"},children:[a.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Детали бронирования"}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-md)"},children:[a.jsxs("div",{children:[a.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-xxs)"},children:"Клуб"}),a.jsx("p",{className:"body-bold",children:o.name}),a.jsx("p",{className:"caption",children:o.address})]}),a.jsx("div",{style:{height:"1px",backgroundColor:"var(--divider)",margin:"var(--spacing-xs) 0"}}),a.jsxs("div",{children:[a.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-xxs)"},children:"Корт"}),a.jsx("p",{className:"body-bold",children:l.name})]}),a.jsx("div",{style:{height:"1px",backgroundColor:"var(--divider)",margin:"var(--spacing-xs) 0"}}),a.jsxs("div",{style:{display:"flex",gap:"var(--spacing-xl)"},children:[a.jsxs("div",{style:{flex:1},children:[a.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-xxs)"},children:"Дата"}),a.jsx("p",{className:"body-bold",children:rn(b,"d MMMM",{locale:ti})})]}),a.jsxs("div",{style:{flex:1},children:[a.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-xxs)"},children:"Время"}),a.jsxs("p",{className:"body-bold",children:[s.startTime," - ",s.endTime]})]})]})]})]}),a.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)"},children:[a.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Ваши контакты"}),a.jsx("p",{className:"body",style:{marginBottom:"var(--spacing-xs)"},children:s.customerName}),a.jsx("p",{className:"caption",children:s.customerPhone}),s.customerEmail&&a.jsx("p",{className:"caption",children:s.customerEmail})]}),a.jsx("button",{className:"flutter-button",style:{width:"100%",marginBottom:"var(--spacing-md)"},onClick:()=>n(`/club/${e}`),children:"Вернуться к клубу"}),a.jsx("button",{className:"flutter-button-outlined",style:{width:"100%",backgroundColor:"transparent",color:"var(--primary)",border:"2px solid var(--primary)"},onClick:()=>{window.location.href=`allcourts://booking/${t}`},children:"Открыть в приложении 📱"}),a.jsxs("div",{style:{textAlign:"center",marginTop:"var(--spacing-3xl)",padding:"var(--spacing-xl)",backgroundColor:"var(--white)",borderRadius:"var(--radius-md)"},children:[a.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-sm)"},children:"Есть вопросы? Позвоните в клуб"}),a.jsxs("a",{href:`tel:${o.phone}`,style:{display:"inline-flex",alignItems:"center",gap:"var(--spacing-xs)",color:"var(--primary)",textDecoration:"none",fontSize:"var(--text-body-large)",fontWeight:600},children:["📞 ",o.phone]})]})]})]})}function wne(){const[e]=Oc(),t=vs(),[n,r]=B.useState(!0),[s,i]=B.useState("");B.useEffect(()=>{o()},[e]);const o=async()=>{e.get("paymentId");const A=e.get("orderId")||e.get("OrderId"),l=e.get("status")||e.get("Status");if(!A){i("Неверные параметры платежа"),r(!1);return}try{const c=await dn(yt(Oe,"bookings",A));if(!c.exists()){i("Бронирование не найдено"),r(!1);return}const d=c.data().venueId;if(l==="success"||l==="CONFIRMED"||l==="succeeded"){const f=c.data();f.paymentStatus==="paid"||f.status==="confirmed"?t(`/club/${d}/booking-confirmation/${A}`,{replace:!0}):setTimeout(async()=>{const v=await dn(yt(Oe,"bookings",A));if(v.exists()){const g=v.data();g.paymentStatus==="paid"||g.status==="confirmed"?t(`/club/${d}/booking-confirmation/${A}`,{replace:!0}):t(`/club/${d}/booking-confirmation/${A}?processing=true`,{replace:!0})}},2e3)}else t(`/club/${d}/payment-error?paymentError=true&bookingId=${A}`,{replace:!0})}catch(c){console.error("Error processing payment result:",c),i("Ошибка при обработке результата платежа"),r(!1)}};return n?a.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[a.jsxs("div",{style:{textAlign:"center"},children:[a.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),a.jsx("p",{className:"body-small",children:"Обработка платежа..."})]}),a.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]}):s?a.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:a.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[a.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"❌"}),a.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Ошибка"}),a.jsx("p",{className:"body",style:{color:"var(--text-secondary)"},children:s}),a.jsx("button",{className:"flutter-button",style:{marginTop:"var(--spacing-lg)"},onClick:()=>t("/"),children:"На главную"})]})}):null}function Bne(){const{clubId:e}=ho(),t=vs(),[n]=Oc(),[r,s]=B.useState(null),[i,o]=B.useState(!0);n.get("paymentError"),B.useEffect(()=>{A()},[e]);const A=async()=>{if(!e){o(!1);return}try{const c=await dn(yt(Oe,"venues",e));c.exists()&&s(c.data()),o(!1)}catch(c){console.error("Error loading venue:",c),o(!1)}},l=c=>{if(c.startsWith("+7")){const u=c.replace(/\D/g,"");if(u.length===11)return`+7 (${u.slice(1,4)}) ${u.slice(4,7)}-${u.slice(7,9)}-${u.slice(9,11)}`}return c};return i?a.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[a.jsxs("div",{style:{textAlign:"center"},children:[a.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),a.jsx("p",{className:"body-small",children:"Загрузка..."})]}),a.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]}):a.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[a.jsxs("div",{style:{backgroundColor:"var(--error)",padding:"var(--spacing-3xl) var(--spacing-xl)",textAlign:"center",color:"white"},children:[a.jsx("div",{style:{width:"80px",height:"80px",backgroundColor:"white",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto var(--spacing-lg)",fontSize:"40px"},children:"❌"}),a.jsx("h1",{className:"h2",style:{color:"white",marginBottom:"var(--spacing-sm)"},children:"Ошибка оплаты"}),a.jsx("p",{className:"body",style:{color:"white",opacity:.9},children:"Платеж не был завершен успешно"})]}),a.jsxs("div",{style:{padding:"var(--spacing-xl)",maxWidth:"600px",margin:"0 auto"},children:[a.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)"},children:[a.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Что произошло?"}),a.jsx("p",{className:"body",style:{marginBottom:"var(--spacing-md)",color:"var(--text-secondary)"},children:"Без успешной оплаты бронирование не может быть подтверждено. Это может произойти по следующим причинам:"}),a.jsxs("ul",{style:{marginLeft:"var(--spacing-lg)",color:"var(--text-secondary)",marginBottom:"var(--spacing-md)"},children:[a.jsx("li",{children:"Недостаточно средств на карте"}),a.jsx("li",{children:"Превышен лимит по карте"}),a.jsx("li",{children:"Платеж был отменен"}),a.jsx("li",{children:"Технические проблемы с платежной системой"})]})]}),a.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)"},children:[a.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Что делать дальше?"}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-md)"},children:[a.jsxs("div",{style:{display:"flex",gap:"var(--spacing-md)",alignItems:"flex-start"},children:[a.jsx("div",{style:{width:"32px",height:"32px",backgroundColor:"var(--primary-light)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,color:"var(--primary)"},children:"1"}),a.jsxs("div",{children:[a.jsx("p",{className:"body-bold",style:{marginBottom:"var(--spacing-xxs)"},children:"Попробуйте забронировать снова"}),a.jsx("p",{className:"body-small",style:{color:"var(--text-secondary)"},children:"Проверьте баланс карты и повторите попытку бронирования"})]})]}),a.jsxs("div",{style:{display:"flex",gap:"var(--spacing-md)",alignItems:"flex-start"},children:[a.jsx("div",{style:{width:"32px",height:"32px",backgroundColor:"var(--primary-light)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,color:"var(--primary)"},children:"2"}),a.jsxs("div",{children:[a.jsx("p",{className:"body-bold",style:{marginBottom:"var(--spacing-xxs)"},children:"Свяжитесь с администратором"}),a.jsx("p",{className:"body-small",style:{color:"var(--text-secondary)",marginBottom:"var(--spacing-sm)"},children:"Позвоните в клуб для бронирования по телефону"}),(r==null?void 0:r.phone)&&a.jsxs("a",{href:`tel:${r.phone}`,style:{display:"inline-flex",alignItems:"center",gap:"var(--spacing-xs)",padding:"var(--spacing-sm) var(--spacing-md)",backgroundColor:"var(--primary-light)",borderRadius:"var(--radius-sm)",textDecoration:"none",color:"var(--primary)",fontWeight:600,fontSize:"var(--text-body)"},children:["📞 ",l(r.phone)]})]})]})]})]}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-md)"},children:[a.jsx("button",{className:"flutter-button",onClick:()=>t(`/club/${e}`),style:{width:"100%"},children:"Попробовать снова"}),(r==null?void 0:r.phone)&&a.jsxs("a",{href:`tel:${r.phone}`,className:"flutter-button-secondary",style:{width:"100%",textDecoration:"none",display:"flex",alignItems:"center",justifyContent:"center",gap:"var(--spacing-xs)"},children:[a.jsx("span",{children:"📞"}),"Позвонить в клуб"]})]})]})]})}function Cne(){var F,$;const{clubId:e,courtId:t}=ho(),n=vs(),[r,s]=B.useState(null),[i,o]=B.useState(null),[A,l]=B.useState([]),[c,u]=B.useState(Xo()),[d,p]=B.useState(null),[f,v]=B.useState(60),[g,y]=B.useState([60,90,120]),[x,w]=B.useState(!0),[b,j]=B.useState(""),[_,k]=B.useState([]),[D,N]=B.useState([]),[U,L]=B.useState(window.innerWidth<=768);B.useEffect(()=>{const O=()=>L(window.innerWidth<=768);return window.addEventListener("resize",O),()=>window.removeEventListener("resize",O)},[]),B.useEffect(()=>{E()},[]),B.useEffect(()=>{I()},[e,t]),B.useEffect(()=>{i&&r&&T()},[i,r,c,f]);const E=()=>{const O=[],H=["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],ie=["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек"];for(let M=0;M<14;M++){const W=so(Xo(),M);O.push({date:W,day:H[W.getDay()],dayNumber:rn(W,"d"),month:M===0||W.getDate()===1?ie[W.getMonth()]:void 0})}N(O)},I=async()=>{if(!e||!t){j("Некорректные параметры"),w(!1);return}try{const O=await dn(yt(Oe,"courts",t));if(!O.exists()){j("Корт не найден"),w(!1);return}const H={id:O.id,...O.data()};s(H);const ie=await dn(yt(Oe,"venues",e));if(ie.exists()){const M={id:ie.id,...ie.data()};if(o(M),M.bookingDurations){const W=[60,90,120].filter(V=>M.bookingDurations[V]!==!1);y(W),W.includes(f)||v(W[0]||60)}}w(!1)}catch(O){console.error("Error loading data:",O),j("Ошибка при загрузке данных"),w(!1)}},T=async()=>{if(!(!(i!=null&&i.workingHours)||!r))try{const O=rn(c,"yyyy-MM-dd"),H=new Date(c);H.setHours(0,0,0,0);const ie=new Date(c);ie.setHours(23,59,59,999);const M=qt(Ft(Oe,"bookings"),It("courtId","==",t),It("date",">=",Zt.fromDate(H)),It("date","<=",Zt.fromDate(ie))),X=(await Gt(M)).docs.map(Y=>({id:Y.id,...Y.data()})).filter(Y=>{const ee=Y.status||"pending",ce=Y.paymentStatus||"awaiting_payment";return ee!=="cancelled"&&ce!=="cancelled"&&ce!=="refunded"&&ce!=="error"&&(ee==="confirmed"||ee==="pending"||ce==="paid"||ce==="online_payment"||ce==="awaiting_payment")});l(X),P(X)}catch(O){console.error("Error loading bookings:",O)}},P=O=>{if(!(i!=null&&i.workingHours)||!r)return;const ie=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][c.getDay()],M=i.workingHours[ie];if(!M)return;const W=[],V=Kr(M.open,"HH:mm",c),X=Kr(M.close,"HH:mm",c),Y=i.bookingSlotInterval||60;let ee=V;const ce=new Date;for(Y===60&&ee.getMinutes()!==0&&(ee.getMinutes()<30?ee=new Date(ee.setMinutes(0)):ee=Gi(new Date(ee.setMinutes(0)),60));Lr(ee,X);){const Ae=rn(ee,"HH:mm"),Ee=Gi(ee,f);let fe=!0;if(Tj(c)&&Lr(ee,ce)&&(fe=!1),Rs(Ee,X)&&(fe=!1),fe)for(const Be of O){const pe=Kr(Be.startTime,"HH:mm",c),se=Kr(Be.endTime,"HH:mm",c);if(Rs(ee,pe)&&Lr(ee,se)||Rs(Ee,pe)&&Lr(Ee,se)||Lr(ee,pe)&&Rs(Ee,se)||rn(ee,"HH:mm")===Be.startTime){fe=!1;break}}const de=Pc(c,Ae,f,r.pricing,r.holidayPricing,r.priceWeekday,r.priceWeekend||r.pricePerHour);W.push({time:Ae,available:fe,price:Math.round(de)}),ee=Gi(ee,Y)}k(W)},K=()=>{if(!d)return;const O=rn(c,"yyyy-MM-dd");n(`/club/${e}/court/${t}/game-type?date=${O}&time=${d}&duration=${f}`)},Q=O=>{const H=Xo();if(O<H)return!0;const ie=so(H,30);if(O>ie)return!0;if(i!=null&&i.workingHours){const W=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][O.getDay()],V=i.workingHours[W];if(!V||!V.open&&!V.close)return!0}return!1};return x?a.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[a.jsxs("div",{style:{textAlign:"center"},children:[a.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),a.jsx("p",{className:"body-small",children:"Загрузка..."})]}),a.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]}):b?a.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:a.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[a.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"❌"}),a.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Ошибка"}),a.jsx("p",{className:"body",style:{color:"var(--text-secondary)"},children:b})]})}):a.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[a.jsx("div",{style:{backgroundColor:"var(--white)",padding:"var(--spacing-md) var(--spacing-xl)",boxShadow:"var(--shadow-sm)",position:"sticky",top:0,zIndex:10},children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-md)"},children:[a.jsx("button",{onClick:()=>n(-1),style:{width:"40px",height:"40px",background:"var(--divider)",border:"none",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"},children:"←"}),a.jsxs("div",{children:[a.jsx("h1",{className:"h3",style:{marginBottom:"4px"},children:"Выберите время"}),r&&i&&a.jsxs("p",{className:"caption",children:[i.name," • ",r.name]})]})]})}),a.jsx("div",{style:{padding:U?"var(--spacing-md)":"var(--spacing-xl)",paddingBottom:U?"calc(140px + var(--spacing-xl))":"var(--spacing-xl)",maxWidth:"1200px",margin:"0 auto"},children:a.jsxs("div",{style:{display:U?"block":"grid",gridTemplateColumns:U?"1fr":"1fr 2fr",gap:"var(--spacing-xl)"},children:[a.jsxs("div",{children:[a.jsxs("div",{style:{marginBottom:"var(--spacing-xl)"},children:[a.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Выберите дату"}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"var(--spacing-sm)"},children:D.map((O,H)=>{const ie=rn(c,"yyyy-MM-dd")===rn(O.date,"yyyy-MM-dd"),M=Q(O.date),W=H===0;return a.jsxs("div",{style:{textAlign:"center"},children:[O.month&&a.jsx("div",{className:"caption",style:{marginBottom:"var(--spacing-xs)",color:"var(--gray)",height:"16px"},children:O.month}),!O.month&&a.jsx("div",{style:{height:"16px",marginBottom:"var(--spacing-xs)"}}),a.jsxs("button",{onClick:()=>!M&&u(O.date),disabled:M,style:{width:"100%",aspectRatio:"1",backgroundColor:ie?"var(--primary)":M?"var(--extra-light-gray)":"var(--white)",color:ie?"white":M?"var(--gray)":"var(--dark)",border:`2px solid ${ie||W&&!M?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",cursor:M?"not-allowed":"pointer",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",transition:"all 0.2s",opacity:M?.5:1,fontSize:"var(--text-caption)"},children:[a.jsx("span",{className:"caption-bold",children:O.day}),a.jsx("span",{className:"body-bold",children:O.dayNumber})]})]},H)})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Длительность игры"}),a.jsx("div",{style:{display:"flex",gap:"var(--spacing-sm)"},children:[60,90,120].map(O=>{const H=g.includes(O);return a.jsx("button",{onClick:()=>{H&&(v(O),p(null))},disabled:!H,style:{flex:1,padding:"var(--spacing-md)",backgroundColor:f===O?"var(--primary)":H?"var(--white)":"var(--extra-light-gray)",color:f===O?"white":H?"var(--dark)":"var(--gray)",border:`2px solid ${f===O?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",cursor:H?"pointer":"not-allowed",fontWeight:600,fontSize:"var(--text-body)",transition:"all 0.2s",opacity:H?1:.5},children:O===60?"1 час":O===90?"1.5 часа":"2 часа"},O)})})]})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:["Свободное время на ",rn(c,"d MMMM",{locale:ti})]}),_.length===0?a.jsx("div",{className:"flutter-card",style:{textAlign:"center",padding:"var(--spacing-2xl)"},children:a.jsx("p",{className:"body",style:{color:"var(--gray)"},children:"Нет доступных слотов на выбранную дату"})}):a.jsx("div",{style:{display:"grid",gridTemplateColumns:U?"repeat(3, 1fr)":"repeat(4, 1fr)",gap:"var(--spacing-sm)"},children:_.map(O=>{const H=d===O.time;return a.jsxs("button",{onClick:()=>O.available&&p(O.time),disabled:!O.available,style:{padding:"var(--spacing-md) var(--spacing-xs)",backgroundColor:O.available?H?"var(--primary)":"var(--primary-light)":"var(--busy)",color:O.available?H?"white":"var(--dark)":"var(--busy-text)",border:`2px solid ${O.available?H?"var(--primary)":"var(--available)":"var(--busy)"}`,borderRadius:"var(--radius-sm)",cursor:O.available?"pointer":"not-allowed",opacity:1,transition:"all 0.2s",display:"flex",flexDirection:"column",alignItems:"center",gap:"4px",minHeight:U?"60px":"70px",justifyContent:"center"},children:[a.jsxs("span",{className:"body-bold",style:{fontSize:"14px"},children:[O.time,"-",(()=>{const[ie,M]=O.time.split(":").map(Number),W=Gi(Kr(O.time,"HH:mm",new Date),f);return rn(W,"HH:mm")})()]}),O.available?H&&a.jsx("span",{className:"caption",style:{color:"white",fontSize:"var(--text-caption)"},children:"Выбрано"}):a.jsx("span",{className:"caption",style:{color:"var(--busy-text)"},children:"Занято"})]},O.time)})}),a.jsxs("div",{style:{marginTop:"var(--spacing-lg)",display:"flex",gap:"var(--spacing-lg)",flexWrap:"wrap"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[a.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--primary-light)",border:"2px solid var(--available)",borderRadius:"4px"}}),a.jsx("span",{className:"caption",children:"Свободно"})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[a.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--busy)",borderRadius:"4px"}}),a.jsx("span",{className:"caption",children:"Занято"})]})]})]})]})}),a.jsxs("div",{className:"sticky-bottom-bar",style:{padding:"var(--spacing-xl)",borderRadius:"var(--radius-lg) var(--radius-lg) 0 0"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--spacing-sm)"},children:[a.jsx("span",{className:"body-small",style:{color:"var(--gray)"},children:d&&`${rn(c,"d MMMM",{locale:ti})}, ${d}-${rn(Gi(Kr(d,"HH:mm",new Date),f),"HH:mm")}`}),d&&((F=_.find(O=>O.time===d))==null?void 0:F.available)&&a.jsxs("span",{className:"h2",children:[($=_.find(O=>O.time===d))==null?void 0:$.price," ₽"]})]}),a.jsx("button",{className:"flutter-button",style:{width:"100%"},onClick:K,disabled:!d,children:"Далее"})]})]})}function Sne(){const{clubId:e}=ho(),[t,n]=B.useState(null),[r,s]=B.useState(!0),[i,o]=B.useState("");B.useEffect(()=>{e&&A()},[e]);const A=async()=>{try{const u=yt(Oe,"venues",e),d=await dn(u);d.exists()?n(d.data()):o("Клуб не найден")}catch(u){console.error("Error loading club data:",u),o("Ошибка загрузки данных")}finally{s(!1)}},l=()=>{window.print()},c=()=>new Date().toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric"});return r?a.jsx(jd,{maxWidth:"md",sx:{py:4,display:"flex",justifyContent:"center"},children:a.jsx(Dr,{})}):i||!t?a.jsxs(jd,{maxWidth:"md",sx:{py:4},children:[a.jsx(le,{color:"error",children:i||"Данные не найдены"}),a.jsx(jt,{component:yd,to:"/",startIcon:a.jsx(aB,{}),sx:{mt:2},children:"Вернуться на главную"})]}):a.jsxs(jd,{maxWidth:"md",sx:{py:4},children:[a.jsxs(Ue,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center","@media print":{display:"none"}},children:[a.jsx(jt,{component:yd,to:`/club/${e}`,startIcon:a.jsx(aB,{}),children:"Вернуться к клубу"}),a.jsx(jt,{variant:"outlined",startIcon:a.jsx(Z9,{}),onClick:l,children:"Печать"})]}),a.jsxs(Wn,{sx:{p:4,"@media print":{boxShadow:"none",p:2}},children:[a.jsx(le,{variant:"h4",component:"h1",align:"center",gutterBottom:!0,children:"ПОЛЬЗОВАТЕЛЬСКОЕ СОГЛАШЕНИЕ"}),a.jsx(le,{variant:"subtitle1",align:"center",gutterBottom:!0,color:"text.secondary",children:"об оказании услуг по предоставлению спортивных площадок"}),a.jsxs(le,{variant:"body2",align:"center",sx:{mt:3,mb:4},children:["Дата публикации: ",c()]}),a.jsxs(Ue,{sx:{mt:4},children:[a.jsxs(le,{paragraph:!0,children:["Настоящее Пользовательское соглашение (далее – «Соглашение») регулирует отношения между ",t.legalName||t.name,t.organizationType&&` (${t.organizationType})`,", именуемым в дальнейшем «Исполнитель», с одной стороны, и физическим лицом, именуемым в дальнейшем «Заказчик», с другой стороны, совместно именуемые «Стороны», по поводу оказания услуг по предоставлению спортивных площадок для занятий спортом."]}),a.jsx(le,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"1. ТЕРМИНЫ И ОПРЕДЕЛЕНИЯ"}),a.jsxs(le,{paragraph:!0,children:["1.1. ",a.jsx("strong",{children:"Клуб"})," — спортивный комплекс, расположенный по адресу: ",t.address,", управляемый Исполнителем."]}),a.jsxs(le,{paragraph:!0,children:["1.2. ",a.jsx("strong",{children:"Корт/Площадка"})," — специально оборудованная спортивная площадка для занятий теннисом, паделом, бадминтоном или иными видами спорта."]}),a.jsxs(le,{paragraph:!0,children:["1.3. ",a.jsx("strong",{children:"Бронирование"})," — резервирование Корта на определенную дату и время через мобильное приложение «Все Корты» или иным способом, предусмотренным Исполнителем."]}),a.jsxs(le,{paragraph:!0,children:["1.4. ",a.jsx("strong",{children:"Услуги"})," — предоставление Корта во временное пользование Заказчику для занятий спортом."]}),a.jsx(le,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"2. ПРЕДМЕТ СОГЛАШЕНИЯ"}),a.jsx(le,{paragraph:!0,children:"2.1. Исполнитель обязуется предоставить Заказчику во временное пользование Корт для занятий спортом, а Заказчик обязуется оплатить Услуги в соответствии с условиями настоящего Соглашения."}),a.jsx(le,{paragraph:!0,children:"2.2. Конкретные условия предоставления Услуг (дата, время, продолжительность, стоимость) определяются при Бронировании."}),a.jsx(le,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"3. ПОРЯДОК БРОНИРОВАНИЯ И ОПЛАТЫ"}),a.jsxs(le,{paragraph:!0,children:["3.1. Бронирование осуществляется через мобильное приложение «Все Корты», по телефону ",t.phone,"или иным доступным способом."]}),a.jsx(le,{paragraph:!0,children:"3.2. Оплата Услуг производится в соответствии с действующими тарифами Исполнителя одним из следующих способов:"}),a.jsxs(le,{component:"div",paragraph:!0,sx:{pl:2},children:["• Онлайн-оплата банковской картой через приложение",a.jsx("br",{}),"• Оплата наличными в кассе Клуба",a.jsx("br",{}),"• Оплата банковской картой на месте",a.jsx("br",{}),"• Безналичный перевод по реквизитам Исполнителя"]}),a.jsx(le,{paragraph:!0,children:"3.3. Бронирование считается подтвержденным после получения оплаты или подтверждения от администратора Клуба."}),a.jsx(le,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"4. ПРАВА И ОБЯЗАННОСТИ СТОРОН"}),a.jsx(le,{paragraph:!0,children:a.jsx("strong",{children:"4.1. Исполнитель обязуется:"})}),a.jsxs(le,{component:"div",paragraph:!0,sx:{pl:2},children:["• Предоставить Корт в соответствии с Бронированием",a.jsx("br",{}),"• Обеспечить надлежащее состояние Корта и оборудования",a.jsx("br",{}),"• Предоставить раздевалки и душевые (при наличии)",a.jsx("br",{}),"• Обеспечить безопасность на территории Клуба"]}),a.jsx(le,{paragraph:!0,children:a.jsx("strong",{children:"4.2. Заказчик обязуется:"})}),a.jsxs(le,{component:"div",paragraph:!0,sx:{pl:2},children:["• Своевременно оплатить Услуги",a.jsx("br",{}),"• Соблюдать правила поведения в Клубе",a.jsx("br",{}),"• Бережно относиться к имуществу Клуба",a.jsx("br",{}),"• Использовать спортивную обувь и форму",a.jsx("br",{}),"• Освободить Корт по истечении оплаченного времени"]}),a.jsx(le,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"5. ОТМЕНА И ПЕРЕНОС БРОНИРОВАНИЯ"}),a.jsx(le,{paragraph:!0,children:"5.1. Заказчик вправе отменить или перенести Бронирование не позднее чем за 24 часа до начала оказания Услуг."}),a.jsx(le,{paragraph:!0,children:"5.2. При отмене Бронирования менее чем за 24 часа, внесенная предоплата не возвращается."}),a.jsx(le,{paragraph:!0,children:"5.3. Исполнитель вправе отменить Бронирование по техническим причинам с полным возвратом предоплаты."}),a.jsx(le,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"6. ОТВЕТСТВЕННОСТЬ СТОРОН"}),a.jsx(le,{paragraph:!0,children:"6.1. Исполнитель не несет ответственности за вред, причиненный жизни и здоровью Заказчика в результате нарушения им правил техники безопасности и правил поведения в Клубе."}),a.jsx(le,{paragraph:!0,children:"6.2. Заказчик несет материальную ответственность за ущерб, причиненный имуществу Клуба."}),a.jsx(le,{paragraph:!0,children:"6.3. Исполнитель не несет ответственности за сохранность личных вещей Заказчика."}),a.jsx(le,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"7. ПЕРСОНАЛЬНЫЕ ДАННЫЕ"}),a.jsx(le,{paragraph:!0,children:"7.1. Заказчик дает согласие на обработку своих персональных данных в соответствии с Федеральным законом «О персональных данных» №152-ФЗ."}),a.jsx(le,{paragraph:!0,children:"7.2. Исполнитель обязуется использовать персональные данные Заказчика исключительно для оказания Услуг и не передавать их третьим лицам без согласия Заказчика."}),a.jsx(le,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"8. ЗАКЛЮЧИТЕЛЬНЫЕ ПОЛОЖЕНИЯ"}),a.jsx(le,{paragraph:!0,children:"8.1. Настоящее Соглашение вступает в силу с момента акцепта Заказчиком его условий путем оформления Бронирования и действует до полного исполнения Сторонами своих обязательств."}),a.jsx(le,{paragraph:!0,children:"8.2. Все споры и разногласия решаются путем переговоров, а при невозможности достижения соглашения — в судебном порядке."}),a.jsx(le,{paragraph:!0,children:"8.3. Исполнитель вправе в одностороннем порядке изменять условия настоящего Соглашения, публикуя изменения на сайте и в приложении."}),a.jsx(le,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"9. РЕКВИЗИТЫ ИСПОЛНИТЕЛЯ"}),a.jsx(Ue,{sx:{backgroundColor:"grey.50",p:3,borderRadius:1,mt:2},children:a.jsxs(le,{variant:"body2",component:"div",children:[a.jsx("strong",{children:t.legalName||t.name}),a.jsx("br",{}),t.legalAddress&&a.jsxs(a.Fragment,{children:["Юридический адрес: ",t.legalAddress,a.jsx("br",{})]}),t.inn&&a.jsxs(a.Fragment,{children:["ИНН: ",t.inn,a.jsx("br",{})]}),t.kpp&&a.jsxs(a.Fragment,{children:["КПП: ",t.kpp,a.jsx("br",{})]}),t.ogrn&&a.jsxs(a.Fragment,{children:["ОГРН: ",t.ogrn,a.jsx("br",{})]}),t.bankAccount&&a.jsxs(a.Fragment,{children:[a.jsx("br",{}),a.jsx("strong",{children:"Банковские реквизиты:"}),a.jsx("br",{}),"Расчетный счет: ",t.bankAccount,a.jsx("br",{}),t.bankName&&a.jsxs(a.Fragment,{children:["Банк: ",t.bankName,a.jsx("br",{})]}),t.bankBik&&a.jsxs(a.Fragment,{children:["БИК: ",t.bankBik,a.jsx("br",{})]}),t.bankCorrespondentAccount&&a.jsxs(a.Fragment,{children:["Корр. счет: ",t.bankCorrespondentAccount,a.jsx("br",{})]})]}),(t.directorName||t.directorPosition)&&a.jsxs(a.Fragment,{children:[a.jsx("br",{}),a.jsx("strong",{children:"Руководитель:"}),a.jsx("br",{}),t.directorPosition&&a.jsxs(a.Fragment,{children:[t.directorPosition," "]}),t.directorName]}),(t.phone||t.email)&&a.jsxs(a.Fragment,{children:[a.jsx("br",{}),a.jsx("strong",{children:"Контакты:"}),a.jsx("br",{}),t.phone&&a.jsxs(a.Fragment,{children:["Телефон: ",t.phone,a.jsx("br",{})]}),t.email&&a.jsxs(a.Fragment,{children:["Email: ",t.email]})]})]})})]})]})]})}const Ene=zy({palette:{primary:{main:"#00A86B"},secondary:{main:"#1A1F36"},success:{main:"#10B981"},warning:{main:"#F59E0B"},error:{main:"#EF4444"},background:{default:"#F8F9FA"}},typography:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, sans-serif'}});function jne(){return a.jsxs(TT,{theme:Ene,children:[a.jsx(MT,{}),a.jsx(ree,{children:a.jsx(zL,{children:a.jsx(UI,{children:a.jsxs(LI,{children:[a.jsx(gn,{path:"/",element:a.jsx(ld,{to:"/admin/dashboard",replace:!0})}),a.jsx(gn,{path:"/info",element:a.jsx(dY,{})}),a.jsx(gn,{path:"/club/:clubId",element:a.jsx(aee,{})}),a.jsx(gn,{path:"/club/:clubId/court/:courtId/booking",element:a.jsx(Cne,{})}),a.jsx(gn,{path:"/club/:clubId/court/:courtId/date",element:a.jsx(mne,{})}),a.jsx(gn,{path:"/club/:clubId/court/:courtId/time",element:a.jsx(vne,{})}),a.jsx(gn,{path:"/club/:clubId/court/:courtId/game-type",element:a.jsx(yne,{})}),a.jsx(gn,{path:"/club/:clubId/court/:courtId/payment",element:a.jsx(xne,{})}),a.jsx(gn,{path:"/club/:clubId/booking-confirmation/:bookingId",element:a.jsx(bne,{})}),a.jsx(gn,{path:"/payment-result",element:a.jsx(wne,{})}),a.jsx(gn,{path:"/club/:clubId/payment-error",element:a.jsx(Bne,{})}),a.jsx(gn,{path:"/club/:clubId/user-agreement",element:a.jsx(Sne,{})}),a.jsx(gn,{path:"/login",element:a.jsx(h$,{})}),a.jsx(gn,{path:"/register",element:a.jsx(f$,{})}),a.jsx(gn,{path:"/admin/login",element:a.jsx(ld,{to:"/login",replace:!0})}),a.jsx(gn,{path:"/admin/register",element:a.jsx(ld,{to:"/register",replace:!0})}),a.jsxs(gn,{path:"/admin",element:a.jsx(F9,{children:a.jsx(N1,{})}),children:[a.jsx(gn,{index:!0,element:a.jsx(ld,{to:"/admin/dashboard",replace:!0})}),a.jsx(gn,{path:"dashboard",element:a.jsx(Gq,{})}),a.jsx(gn,{path:"venues",element:a.jsx(gY,{})}),a.jsx(gn,{path:"billing-settings",element:a.jsx(xY,{})}),a.jsx(gn,{path:"admins",element:a.jsx(pY,{})}),a.jsx(gn,{path:"club",element:a.jsx(qq,{})}),a.jsx(gn,{path:"subscription",element:a.jsx(vY,{})}),a.jsx(gn,{path:"payment-settings",element:a.jsx(yY,{})}),a.jsx(gn,{path:"courts",element:a.jsx(Yq,{})}),a.jsx(gn,{path:"trainers",element:a.jsx(nee,{})}),a.jsx(gn,{path:"bookings",element:a.jsx(cY,{})}),a.jsx(gn,{path:"finance",element:a.jsx(bY,{})}),a.jsx(gn,{path:"customers",element:a.jsx(uY,{})}),a.jsx(gn,{path:"marketing",element:a.jsx(wY,{})}),a.jsx(gn,{path:"settings",element:a.jsx(XZ,{})}),a.jsx(gn,{path:"debug",element:a.jsx(JZ,{})}),a.jsx(gn,{path:"fix-permissions",element:a.jsx(eee,{})})]})]})})})})]})}Vv.createRoot(document.getElementById("root")).render(a.jsx(mn.StrictMode,{children:a.jsx(jne,{})}));export{mt as _};
