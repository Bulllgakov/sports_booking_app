const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/BookingModal-CQ6PF-Lm.js","assets/vendor-C_tjuDKg.js","assets/firebase-DTN2oheZ.js"])))=>i.map(i=>d[i]);
var rb=Object.defineProperty;var sb=(e,t,n)=>t in e?rb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Rp=(e,t,n)=>sb(e,typeof t!="symbol"?t+"":t,n);import{r as f,a as Wm,R as od,g as Kr,b as Fe,c as na,N as wa,u as jn,d as ob,O as ib,e as js,L as id,f as ab,h as Hm,B as lb,i as cb,j as dt}from"./vendor-C_tjuDKg.js";import{L as db,a as ye,_ as Um,C as Vm,r as Aa,s as Yt,j as nu,c as Pr,b as to,m as $a,d as ub,S as pb,e as hb,f as Ii,g as fb,h as mb,D as Ym,q as gb,i as vb,k as yb,l as Dp,n as Gm,o as xb,p as Ri,t as bb,u as fl,v as Cb,w as wb,x as qm,y as Km,z as Qm,A as jb,B as Sb,F as Xm,E as kb,G as _b,H as Tb,I as Eb,J as Mb,K as Pb,M as Nb,N as Ge,O as Pe,P as Ee,Q as qe,R as Ct,T as Ne,U as ad,V as Ib,W as Zm,X as Ap,Y as $p,Z as Op,$ as Ft,a0 as Rb,a1 as gr,a2 as ml,a3 as yr,a4 as $r,a5 as Jm,a6 as ja,a7 as Db,a8 as eg}from"./firebase-DTN2oheZ.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var tg={exports:{}},gl={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ab=f,$b=Symbol.for("react.element"),Ob=Symbol.for("react.fragment"),Lb=Object.prototype.hasOwnProperty,Fb=Ab.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zb={key:!0,ref:!0,__self:!0,__source:!0};function ng(e,t,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Lb.call(t,r)&&!zb.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:$b,type:e,key:i,ref:a,props:s,_owner:Fb.current}}gl.Fragment=Ob;gl.jsx=ng;gl.jsxs=ng;tg.exports=gl;var o=tg.exports,ld={},Lp=Wm;ld.createRoot=Lp.createRoot,ld.hydrateRoot=Lp.hydrateRoot;function jr(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}const Bb=Object.freeze(Object.defineProperty({__proto__:null,default:jr},Symbol.toStringTag,{value:"Module"})),ps="$$material";function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b.apply(null,arguments)}function Z(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Wb(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function Hb(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var Ub=function(){function e(n){var r=this;this._insertTag=function(s){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,i),r.tags.push(s)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Hb(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var i=Wb(s);try{i.insertRule(r,i.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var s;return(s=r.parentNode)==null?void 0:s.removeChild(r)}),this.tags=[],this.ctr=0},e}(),Gt="-ms-",Oa="-moz-",tt="-webkit-",rg="comm",ru="rule",su="decl",Vb="@import",sg="@keyframes",Yb="@layer",Gb=Math.abs,vl=String.fromCharCode,qb=Object.assign;function Kb(e,t){return Ut(e,0)^45?(((t<<2^Ut(e,0))<<2^Ut(e,1))<<2^Ut(e,2))<<2^Ut(e,3):0}function og(e){return e.trim()}function Qb(e,t){return(e=t.exec(e))?e[0]:e}function nt(e,t,n){return e.replace(t,n)}function cd(e,t){return e.indexOf(t)}function Ut(e,t){return e.charCodeAt(t)|0}function yi(e,t,n){return e.slice(t,n)}function Gn(e){return e.length}function ou(e){return e.length}function ra(e,t){return t.push(e),e}function Xb(e,t){return e.map(t).join("")}var yl=1,no=1,ig=0,hn=0,$t=0,bo="";function xl(e,t,n,r,s,i,a){return{value:e,root:t,parent:n,type:r,props:s,children:i,line:yl,column:no,length:a,return:""}}function zo(e,t){return qb(xl("",null,null,"",null,null,0),e,{length:-e.length},t)}function Zb(){return $t}function Jb(){return $t=hn>0?Ut(bo,--hn):0,no--,$t===10&&(no=1,yl--),$t}function bn(){return $t=hn<ig?Ut(bo,hn++):0,no++,$t===10&&(no=1,yl++),$t}function rr(){return Ut(bo,hn)}function Sa(){return hn}function Di(e,t){return yi(bo,e,t)}function xi(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ag(e){return yl=no=1,ig=Gn(bo=e),hn=0,[]}function lg(e){return bo="",e}function ka(e){return og(Di(hn-1,dd(e===91?e+2:e===40?e+1:e)))}function e0(e){for(;($t=rr())&&$t<33;)bn();return xi(e)>2||xi($t)>3?"":" "}function t0(e,t){for(;--t&&bn()&&!($t<48||$t>102||$t>57&&$t<65||$t>70&&$t<97););return Di(e,Sa()+(t<6&&rr()==32&&bn()==32))}function dd(e){for(;bn();)switch($t){case e:return hn;case 34:case 39:e!==34&&e!==39&&dd($t);break;case 40:e===41&&dd(e);break;case 92:bn();break}return hn}function n0(e,t){for(;bn()&&e+$t!==57;)if(e+$t===84&&rr()===47)break;return"/*"+Di(t,hn-1)+"*"+vl(e===47?e:bn())}function r0(e){for(;!xi(rr());)bn();return Di(e,hn)}function s0(e){return lg(_a("",null,null,null,[""],e=ag(e),0,[0],e))}function _a(e,t,n,r,s,i,a,l,c){for(var d=0,u=0,p=a,h=0,g=0,v=0,m=1,y=1,x=1,w=0,C="",k=s,_=i,j=r,E=C;y;)switch(v=w,w=bn()){case 40:if(v!=108&&Ut(E,p-1)==58){cd(E+=nt(ka(w),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:E+=ka(w);break;case 9:case 10:case 13:case 32:E+=e0(v);break;case 92:E+=t0(Sa()-1,7);continue;case 47:switch(rr()){case 42:case 47:ra(o0(n0(bn(),Sa()),t,n),c);break;default:E+="/"}break;case 123*m:l[d++]=Gn(E)*x;case 125*m:case 59:case 0:switch(w){case 0:case 125:y=0;case 59+u:x==-1&&(E=nt(E,/\f/g,"")),g>0&&Gn(E)-p&&ra(g>32?zp(E+";",r,n,p-1):zp(nt(E," ","")+";",r,n,p-2),c);break;case 59:E+=";";default:if(ra(j=Fp(E,t,n,d,u,s,l,C,k=[],_=[],p),i),w===123)if(u===0)_a(E,t,j,j,k,i,p,l,_);else switch(h===99&&Ut(E,3)===110?100:h){case 100:case 108:case 109:case 115:_a(e,j,j,r&&ra(Fp(e,j,j,0,0,s,l,C,s,k=[],p),_),s,_,p,l,r?k:_);break;default:_a(E,j,j,j,[""],_,0,l,_)}}d=u=g=0,m=x=1,C=E="",p=a;break;case 58:p=1+Gn(E),g=v;default:if(m<1){if(w==123)--m;else if(w==125&&m++==0&&Jb()==125)continue}switch(E+=vl(w),w*m){case 38:x=u>0?1:(E+="\f",-1);break;case 44:l[d++]=(Gn(E)-1)*x,x=1;break;case 64:rr()===45&&(E+=ka(bn())),h=rr(),u=p=Gn(C=E+=r0(Sa())),w++;break;case 45:v===45&&Gn(E)==2&&(m=0)}}return i}function Fp(e,t,n,r,s,i,a,l,c,d,u){for(var p=s-1,h=s===0?i:[""],g=ou(h),v=0,m=0,y=0;v<r;++v)for(var x=0,w=yi(e,p+1,p=Gb(m=a[v])),C=e;x<g;++x)(C=og(m>0?h[x]+" "+w:nt(w,/&\f/g,h[x])))&&(c[y++]=C);return xl(e,t,n,s===0?ru:l,c,d,u)}function o0(e,t,n){return xl(e,t,n,rg,vl(Zb()),yi(e,2,-2),0)}function zp(e,t,n,r){return xl(e,t,n,su,yi(e,0,r),yi(e,r+1,-1),r)}function Vs(e,t){for(var n="",r=ou(e),s=0;s<r;s++)n+=t(e[s],s,e,t)||"";return n}function i0(e,t,n,r){switch(e.type){case Yb:if(e.children.length)break;case Vb:case su:return e.return=e.return||e.value;case rg:return"";case sg:return e.return=e.value+"{"+Vs(e.children,r)+"}";case ru:e.value=e.props.join(",")}return Gn(n=Vs(e.children,r))?e.return=e.value+"{"+n+"}":""}function a0(e){var t=ou(e);return function(n,r,s,i){for(var a="",l=0;l<t;l++)a+=e[l](n,r,s,i)||"";return a}}function l0(e){return function(t){t.root||(t=t.return)&&e(t)}}function cg(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var c0=function(t,n,r){for(var s=0,i=0;s=i,i=rr(),s===38&&i===12&&(n[r]=1),!xi(i);)bn();return Di(t,hn)},d0=function(t,n){var r=-1,s=44;do switch(xi(s)){case 0:s===38&&rr()===12&&(n[r]=1),t[r]+=c0(hn-1,n,r);break;case 2:t[r]+=ka(s);break;case 4:if(s===44){t[++r]=rr()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=vl(s)}while(s=bn());return t},u0=function(t,n){return lg(d0(ag(t),n))},Bp=new WeakMap,p0=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,s=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!Bp.get(r))&&!s){Bp.set(t,!0);for(var i=[],a=u0(n,i),l=r.props,c=0,d=0;c<a.length;c++)for(var u=0;u<l.length;u++,d++)t.props[d]=i[c]?a[c].replace(/&\f/g,l[u]):l[u]+" "+a[c]}}},h0=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function dg(e,t){switch(Kb(e,t)){case 5103:return tt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return tt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return tt+e+Oa+e+Gt+e+e;case 6828:case 4268:return tt+e+Gt+e+e;case 6165:return tt+e+Gt+"flex-"+e+e;case 5187:return tt+e+nt(e,/(\w+).+(:[^]+)/,tt+"box-$1$2"+Gt+"flex-$1$2")+e;case 5443:return tt+e+Gt+"flex-item-"+nt(e,/flex-|-self/,"")+e;case 4675:return tt+e+Gt+"flex-line-pack"+nt(e,/align-content|flex-|-self/,"")+e;case 5548:return tt+e+Gt+nt(e,"shrink","negative")+e;case 5292:return tt+e+Gt+nt(e,"basis","preferred-size")+e;case 6060:return tt+"box-"+nt(e,"-grow","")+tt+e+Gt+nt(e,"grow","positive")+e;case 4554:return tt+nt(e,/([^-])(transform)/g,"$1"+tt+"$2")+e;case 6187:return nt(nt(nt(e,/(zoom-|grab)/,tt+"$1"),/(image-set)/,tt+"$1"),e,"")+e;case 5495:case 3959:return nt(e,/(image-set\([^]*)/,tt+"$1$`$1");case 4968:return nt(nt(e,/(.+:)(flex-)?(.*)/,tt+"box-pack:$3"+Gt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+tt+e+e;case 4095:case 3583:case 4068:case 2532:return nt(e,/(.+)-inline(.+)/,tt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Gn(e)-1-t>6)switch(Ut(e,t+1)){case 109:if(Ut(e,t+4)!==45)break;case 102:return nt(e,/(.+:)(.+)-([^]+)/,"$1"+tt+"$2-$3$1"+Oa+(Ut(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~cd(e,"stretch")?dg(nt(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Ut(e,t+1)!==115)break;case 6444:switch(Ut(e,Gn(e)-3-(~cd(e,"!important")&&10))){case 107:return nt(e,":",":"+tt)+e;case 101:return nt(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+tt+(Ut(e,14)===45?"inline-":"")+"box$3$1"+tt+"$2$3$1"+Gt+"$2box$3")+e}break;case 5936:switch(Ut(e,t+11)){case 114:return tt+e+Gt+nt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return tt+e+Gt+nt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return tt+e+Gt+nt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return tt+e+Gt+e+e}return e}var f0=function(t,n,r,s){if(t.length>-1&&!t.return)switch(t.type){case su:t.return=dg(t.value,t.length);break;case sg:return Vs([zo(t,{value:nt(t.value,"@","@"+tt)})],s);case ru:if(t.length)return Xb(t.props,function(i){switch(Qb(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Vs([zo(t,{props:[nt(i,/:(read-\w+)/,":"+Oa+"$1")]})],s);case"::placeholder":return Vs([zo(t,{props:[nt(i,/:(plac\w+)/,":"+tt+"input-$1")]}),zo(t,{props:[nt(i,/:(plac\w+)/,":"+Oa+"$1")]}),zo(t,{props:[nt(i,/:(plac\w+)/,Gt+"input-$1")]})],s)}return""})}},m0=[f0],ug=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var y=m.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var s=t.stylisPlugins||m0,i={},a,l=[];a=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var y=m.getAttribute("data-emotion").split(" "),x=1;x<y.length;x++)i[y[x]]=!0;l.push(m)});var c,d=[p0,h0];{var u,p=[i0,l0(function(m){u.insert(m)})],h=a0(d.concat(s,p)),g=function(y){return Vs(s0(y),h)};c=function(y,x,w,C){u=w,g(y?y+"{"+x.styles+"}":x.styles),C&&(v.inserted[x.name]=!0)}}var v={key:n,sheet:new Ub({key:n,container:a,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:i,registered:{},insert:c};return v.sheet.hydrate(l),v},pg={exports:{}},ct={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wt=typeof Symbol=="function"&&Symbol.for,iu=Wt?Symbol.for("react.element"):60103,au=Wt?Symbol.for("react.portal"):60106,bl=Wt?Symbol.for("react.fragment"):60107,Cl=Wt?Symbol.for("react.strict_mode"):60108,wl=Wt?Symbol.for("react.profiler"):60114,jl=Wt?Symbol.for("react.provider"):60109,Sl=Wt?Symbol.for("react.context"):60110,lu=Wt?Symbol.for("react.async_mode"):60111,kl=Wt?Symbol.for("react.concurrent_mode"):60111,_l=Wt?Symbol.for("react.forward_ref"):60112,Tl=Wt?Symbol.for("react.suspense"):60113,g0=Wt?Symbol.for("react.suspense_list"):60120,El=Wt?Symbol.for("react.memo"):60115,Ml=Wt?Symbol.for("react.lazy"):60116,v0=Wt?Symbol.for("react.block"):60121,y0=Wt?Symbol.for("react.fundamental"):60117,x0=Wt?Symbol.for("react.responder"):60118,b0=Wt?Symbol.for("react.scope"):60119;function Sn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case iu:switch(e=e.type,e){case lu:case kl:case bl:case wl:case Cl:case Tl:return e;default:switch(e=e&&e.$$typeof,e){case Sl:case _l:case Ml:case El:case jl:return e;default:return t}}case au:return t}}}function hg(e){return Sn(e)===kl}ct.AsyncMode=lu;ct.ConcurrentMode=kl;ct.ContextConsumer=Sl;ct.ContextProvider=jl;ct.Element=iu;ct.ForwardRef=_l;ct.Fragment=bl;ct.Lazy=Ml;ct.Memo=El;ct.Portal=au;ct.Profiler=wl;ct.StrictMode=Cl;ct.Suspense=Tl;ct.isAsyncMode=function(e){return hg(e)||Sn(e)===lu};ct.isConcurrentMode=hg;ct.isContextConsumer=function(e){return Sn(e)===Sl};ct.isContextProvider=function(e){return Sn(e)===jl};ct.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===iu};ct.isForwardRef=function(e){return Sn(e)===_l};ct.isFragment=function(e){return Sn(e)===bl};ct.isLazy=function(e){return Sn(e)===Ml};ct.isMemo=function(e){return Sn(e)===El};ct.isPortal=function(e){return Sn(e)===au};ct.isProfiler=function(e){return Sn(e)===wl};ct.isStrictMode=function(e){return Sn(e)===Cl};ct.isSuspense=function(e){return Sn(e)===Tl};ct.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===bl||e===kl||e===wl||e===Cl||e===Tl||e===g0||typeof e=="object"&&e!==null&&(e.$$typeof===Ml||e.$$typeof===El||e.$$typeof===jl||e.$$typeof===Sl||e.$$typeof===_l||e.$$typeof===y0||e.$$typeof===x0||e.$$typeof===b0||e.$$typeof===v0)};ct.typeOf=Sn;pg.exports=ct;var C0=pg.exports,fg=C0,w0={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},j0={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},mg={};mg[fg.ForwardRef]=w0;mg[fg.Memo]=j0;var S0=!0;function gg(e,t,n){var r="";return n.split(" ").forEach(function(s){e[s]!==void 0?t.push(e[s]+";"):s&&(r+=s+" ")}),r}var cu=function(t,n,r){var s=t.key+"-"+n.name;(r===!1||S0===!1)&&t.registered[s]===void 0&&(t.registered[s]=n.styles)},du=function(t,n,r){cu(t,n,r);var s=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var i=n;do t.insert(n===i?"."+s:"",i,t.sheet,!0),i=i.next;while(i!==void 0)}};function k0(e){for(var t=0,n,r=0,s=e.length;s>=4;++r,s-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(s){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var _0={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},T0=/[A-Z]|^ms/g,E0=/_EMO_([^_]+?)_([^]*?)_EMO_/g,vg=function(t){return t.charCodeAt(1)===45},Wp=function(t){return t!=null&&typeof t!="boolean"},kc=cg(function(e){return vg(e)?e:e.replace(T0,"-$&").toLowerCase()}),Hp=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(E0,function(r,s,i){return qn={name:s,styles:i,next:qn},s})}return _0[t]!==1&&!vg(t)&&typeof n=="number"&&n!==0?n+"px":n};function bi(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var s=n;if(s.anim===1)return qn={name:s.name,styles:s.styles,next:qn},s.name;var i=n;if(i.styles!==void 0){var a=i.next;if(a!==void 0)for(;a!==void 0;)qn={name:a.name,styles:a.styles,next:qn},a=a.next;var l=i.styles+";";return l}return M0(e,t,n)}case"function":{if(e!==void 0){var c=qn,d=n(e);return qn=c,bi(e,t,d)}break}}var u=n;if(t==null)return u;var p=t[u];return p!==void 0?p:u}function M0(e,t,n){var r="";if(Array.isArray(n))for(var s=0;s<n.length;s++)r+=bi(e,t,n[s])+";";else for(var i in n){var a=n[i];if(typeof a!="object"){var l=a;t!=null&&t[l]!==void 0?r+=i+"{"+t[l]+"}":Wp(l)&&(r+=kc(i)+":"+Hp(i,l)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&(t==null||t[a[0]]===void 0))for(var c=0;c<a.length;c++)Wp(a[c])&&(r+=kc(i)+":"+Hp(i,a[c])+";");else{var d=bi(e,t,a);switch(i){case"animation":case"animationName":{r+=kc(i)+":"+d+";";break}default:r+=i+"{"+d+"}"}}}return r}var Up=/label:\s*([^\s;{]+)\s*(;|$)/g,qn;function Ai(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,s="";qn=void 0;var i=e[0];if(i==null||i.raw===void 0)r=!1,s+=bi(n,t,i);else{var a=i;s+=a[0]}for(var l=1;l<e.length;l++)if(s+=bi(n,t,e[l]),r){var c=i;s+=c[l]}Up.lastIndex=0;for(var d="",u;(u=Up.exec(s))!==null;)d+="-"+u[1];var p=k0(s)+d;return{name:p,styles:s,next:qn}}var P0=function(t){return t()},yg=od.useInsertionEffect?od.useInsertionEffect:!1,xg=yg||P0,Vp=yg||f.useLayoutEffect,bg=f.createContext(typeof HTMLElement<"u"?ug({key:"css"}):null),N0=bg.Provider,uu=function(t){return f.forwardRef(function(n,r){var s=f.useContext(bg);return t(n,s,r)})},Co=f.createContext({}),pu={}.hasOwnProperty,ud="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",I0=function(t,n){var r={};for(var s in n)pu.call(n,s)&&(r[s]=n[s]);return r[ud]=t,r},R0=function(t){var n=t.cache,r=t.serialized,s=t.isStringTag;return cu(n,r,s),xg(function(){return du(n,r,s)}),null},D0=uu(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var s=e[ud],i=[r],a="";typeof e.className=="string"?a=gg(t.registered,i,e.className):e.className!=null&&(a=e.className+" ");var l=Ai(i,void 0,f.useContext(Co));a+=t.key+"-"+l.name;var c={};for(var d in e)pu.call(e,d)&&d!=="css"&&d!==ud&&(c[d]=e[d]);return c.className=a,n&&(c.ref=n),f.createElement(f.Fragment,null,f.createElement(R0,{cache:t,serialized:l,isStringTag:typeof s=="string"}),f.createElement(s,c))}),A0=D0,_c={exports:{}},Yp;function Cg(){return Yp||(Yp=1,function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var i in s)({}).hasOwnProperty.call(s,i)&&(n[i]=s[i])}return n},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(_c)),_c.exports}Cg();var Gp=function(t,n){var r=arguments;if(n==null||!pu.call(n,"css"))return f.createElement.apply(void 0,r);var s=r.length,i=new Array(s);i[0]=A0,i[1]=I0(t,n);for(var a=2;a<s;a++)i[a]=r[a];return f.createElement.apply(null,i)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(Gp||(Gp={}));var $0=uu(function(e,t){var n=e.styles,r=Ai([n],void 0,f.useContext(Co)),s=f.useRef();return Vp(function(){var i=t.key+"-global",a=new t.sheet.constructor({key:i,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),l=!1,c=document.querySelector('style[data-emotion="'+i+" "+r.name+'"]');return t.sheet.tags.length&&(a.before=t.sheet.tags[0]),c!==null&&(l=!0,c.setAttribute("data-emotion",i),a.hydrate([c])),s.current=[a,l],function(){a.flush()}},[t]),Vp(function(){var i=s.current,a=i[0],l=i[1];if(l){i[1]=!1;return}if(r.next!==void 0&&du(t,r.next,!0),a.tags.length){var c=a.tags[a.tags.length-1].nextElementSibling;a.before=c,a.flush()}t.insert("",r,a,!1)},[t,r.name]),null});function Ss(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ai(t)}function Nr(){var e=Ss.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var O0=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,L0=cg(function(e){return O0.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),F0=L0,z0=function(t){return t!=="theme"},qp=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?F0:z0},Kp=function(t,n,r){var s;if(n){var i=n.shouldForwardProp;s=t.__emotion_forwardProp&&i?function(a){return t.__emotion_forwardProp(a)&&i(a)}:i}return typeof s!="function"&&r&&(s=t.__emotion_forwardProp),s},B0=function(t){var n=t.cache,r=t.serialized,s=t.isStringTag;return cu(n,r,s),xg(function(){return du(n,r,s)}),null},W0=function e(t,n){var r=t.__emotion_real===t,s=r&&t.__emotion_base||t,i,a;n!==void 0&&(i=n.label,a=n.target);var l=Kp(t,n,r),c=l||qp(s),d=!c("as");return function(){var u=arguments,p=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(i!==void 0&&p.push("label:"+i+";"),u[0]==null||u[0].raw===void 0)p.push.apply(p,u);else{var h=u[0];p.push(h[0]);for(var g=u.length,v=1;v<g;v++)p.push(u[v],h[v])}var m=uu(function(y,x,w){var C=d&&y.as||s,k="",_=[],j=y;if(y.theme==null){j={};for(var E in y)j[E]=y[E];j.theme=f.useContext(Co)}typeof y.className=="string"?k=gg(x.registered,_,y.className):y.className!=null&&(k=y.className+" ");var T=Ai(p.concat(_),x.registered,j);k+=x.key+"-"+T.name,a!==void 0&&(k+=" "+a);var S=d&&l===void 0?qp(C):c,M={};for(var D in y)d&&D==="as"||S(D)&&(M[D]=y[D]);return M.className=k,w&&(M.ref=w),f.createElement(f.Fragment,null,f.createElement(B0,{cache:x,serialized:T,isStringTag:typeof C=="string"}),f.createElement(C,M))});return m.displayName=i!==void 0?i:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",m.defaultProps=t.defaultProps,m.__emotion_real=m,m.__emotion_base=s,m.__emotion_styles=p,m.__emotion_forwardProp=l,Object.defineProperty(m,"toString",{value:function(){return"."+a}}),m.withComponent=function(y,x){var w=e(y,b({},n,x,{shouldForwardProp:Kp(m,x,!0)}));return w.apply(void 0,p)},m}},H0=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],pd=W0.bind(null);H0.forEach(function(e){pd[e]=pd(e)});function U0(e,t){const n=ug({key:"css",prepend:e});if(t){const r=n.insert;n.insert=(...s)=>(s[1].styles.match(/^@layer\s+[^{]*$/)||(s[1].styles=`@layer mui {${s[1].styles}}`),r(...s))}return n}const Tc=new Map;function V0(e){const{injectFirst:t,enableCssLayer:n,children:r}=e,s=f.useMemo(()=>{const i=`${t}-${n}`;if(typeof document=="object"&&Tc.has(i))return Tc.get(i);const a=U0(t,n);return Tc.set(i,a),a},[t,n]);return t||n?o.jsx(N0,{value:s,children:r}):r}function Y0(e){return e==null||Object.keys(e).length===0}function wg(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?s=>t(Y0(s)?n:s):t;return o.jsx($0,{styles:r})}function hu(e,t){return pd(e,t)}const jg=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},Qp=[];function La(e){return Qp[0]=e,Ai(Qp)}const G0=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:wg,StyledEngineProvider:V0,ThemeContext:Co,css:Ss,default:hu,internal_processStyles:jg,internal_serializeStyles:La,keyframes:Nr},Symbol.toStringTag,{value:"Module"}));function mr(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Sg(e){if(f.isValidElement(e)||!mr(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=Sg(e[n])}),t}function nn(e,t,n={clone:!0}){const r=n.clone?b({},e):e;return mr(e)&&mr(t)&&Object.keys(t).forEach(s=>{f.isValidElement(t[s])?r[s]=t[s]:mr(t[s])&&Object.prototype.hasOwnProperty.call(e,s)&&mr(e[s])?r[s]=nn(e[s],t[s],n):n.clone?r[s]=mr(t[s])?Sg(t[s]):t[s]:r[s]=t[s]}),r}const q0=Object.freeze(Object.defineProperty({__proto__:null,default:nn,isPlainObject:mr},Symbol.toStringTag,{value:"Module"})),K0=["values","unit","step"],Q0=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>b({},n,{[r.key]:r.val}),{})};function kg(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,s=Z(e,K0),i=Q0(t),a=Object.keys(i);function l(h){return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${n})`}function c(h){return`@media (max-width:${(typeof t[h]=="number"?t[h]:h)-r/100}${n})`}function d(h,g){const v=a.indexOf(g);return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${n}) and (max-width:${(v!==-1&&typeof t[a[v]]=="number"?t[a[v]]:g)-r/100}${n})`}function u(h){return a.indexOf(h)+1<a.length?d(h,a[a.indexOf(h)+1]):l(h)}function p(h){const g=a.indexOf(h);return g===0?l(a[1]):g===a.length-1?c(a[g]):d(h,a[a.indexOf(h)+1]).replace("@media","@media not all and")}return b({keys:a,values:i,up:l,down:c,between:d,only:u,not:p,unit:n},s)}const X0={borderRadius:4};function oi(e,t){return t?nn(e,t,{clone:!1}):e}const fu={xs:0,sm:600,md:900,lg:1200,xl:1536},Xp={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${fu[e]}px)`};function fn(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const i=r.breakpoints||Xp;return t.reduce((a,l,c)=>(a[i.up(i.keys[c])]=n(t[c]),a),{})}if(typeof t=="object"){const i=r.breakpoints||Xp;return Object.keys(t).reduce((a,l)=>{if(Object.keys(i.values||fu).indexOf(l)!==-1){const c=i.up(l);a[c]=n(t[l],l)}else{const c=l;a[c]=t[c]}return a},{})}return n(t)}function _g(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((r,s)=>{const i=e.up(s);return r[i]={},r},{}))||{}}function hd(e,t){return e.reduce((n,r)=>{const s=n[r];return(!s||Object.keys(s).length===0)&&delete n[r],n},t)}function Z0(e,...t){const n=_g(e),r=[n,...t].reduce((s,i)=>nn(s,i),{});return hd(Object.keys(n),r)}function J0(e,t){if(typeof e!="object")return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((s,i)=>{i<e.length&&(n[s]=!0)}):r.forEach(s=>{e[s]!=null&&(n[s]=!0)}),n}function cs({values:e,breakpoints:t,base:n}){const r=n||J0(e,t),s=Object.keys(r);if(s.length===0)return e;let i;return s.reduce((a,l,c)=>(Array.isArray(e)?(a[l]=e[c]!=null?e[c]:e[i],i=c):typeof e=="object"?(a[l]=e[l]!=null?e[l]:e[i],i=l):a[l]=e,a),{})}function Q(e){if(typeof e!="string")throw new Error(jr(7));return e.charAt(0).toUpperCase()+e.slice(1)}const e1=Object.freeze(Object.defineProperty({__proto__:null,default:Q},Symbol.toStringTag,{value:"Module"}));function Pl(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((s,i)=>s&&s[i]?s[i]:null,e);if(r!=null)return r}return t.split(".").reduce((r,s)=>r&&r[s]!=null?r[s]:null,e)}function Fa(e,t,n,r=n){let s;return typeof e=="function"?s=e(n):Array.isArray(e)?s=e[n]||r:s=Pl(e,n)||r,t&&(s=t(s,r,e)),s}function It(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:s}=e,i=a=>{if(a[t]==null)return null;const l=a[t],c=a.theme,d=Pl(c,r)||{};return fn(a,l,p=>{let h=Fa(d,s,p);return p===h&&typeof p=="string"&&(h=Fa(d,s,`${t}${p==="default"?"":Q(p)}`,p)),n===!1?h:{[n]:h}})};return i.propTypes={},i.filterProps=[t],i}function t1(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const n1={m:"margin",p:"padding"},r1={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Zp={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},s1=t1(e=>{if(e.length>2)if(Zp[e])e=Zp[e];else return[e];const[t,n]=e.split(""),r=n1[t],s=r1[n]||"";return Array.isArray(s)?s.map(i=>r+i):[r+s]}),mu=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],gu=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...mu,...gu];function $i(e,t,n,r){var s;const i=(s=Pl(e,t,!1))!=null?s:n;return typeof i=="number"?a=>typeof a=="string"?a:i*a:Array.isArray(i)?a=>typeof a=="string"?a:i[a]:typeof i=="function"?i:()=>{}}function vu(e){return $i(e,"spacing",8)}function hs(e,t){if(typeof t=="string"||t==null)return t;const n=Math.abs(t),r=e(n);return t>=0?r:typeof r=="number"?-r:`-${r}`}function o1(e,t){return n=>e.reduce((r,s)=>(r[s]=hs(t,n),r),{})}function i1(e,t,n,r){if(t.indexOf(n)===-1)return null;const s=s1(n),i=o1(s,r),a=e[n];return fn(e,a,i)}function Tg(e,t){const n=vu(e.theme);return Object.keys(e).map(r=>i1(e,t,r,n)).reduce(oi,{})}function kt(e){return Tg(e,mu)}kt.propTypes={};kt.filterProps=mu;function _t(e){return Tg(e,gu)}_t.propTypes={};_t.filterProps=gu;function a1(e=8){if(e.mui)return e;const t=vu({spacing:e}),n=(...r)=>(r.length===0?[1]:r).map(i=>{const a=t(i);return typeof a=="number"?`${a}px`:a}).join(" ");return n.mui=!0,n}function Nl(...e){const t=e.reduce((r,s)=>(s.filterProps.forEach(i=>{r[i]=s}),r),{}),n=r=>Object.keys(r).reduce((s,i)=>t[i]?oi(s,t[i](r)):s,{});return n.propTypes={},n.filterProps=e.reduce((r,s)=>r.concat(s.filterProps),[]),n}function Mn(e){return typeof e!="number"?e:`${e}px solid`}function $n(e,t){return It({prop:e,themeKey:"borders",transform:t})}const l1=$n("border",Mn),c1=$n("borderTop",Mn),d1=$n("borderRight",Mn),u1=$n("borderBottom",Mn),p1=$n("borderLeft",Mn),h1=$n("borderColor"),f1=$n("borderTopColor"),m1=$n("borderRightColor"),g1=$n("borderBottomColor"),v1=$n("borderLeftColor"),y1=$n("outline",Mn),x1=$n("outlineColor"),Il=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=$i(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:hs(t,r)});return fn(e,e.borderRadius,n)}return null};Il.propTypes={};Il.filterProps=["borderRadius"];Nl(l1,c1,d1,u1,p1,h1,f1,m1,g1,v1,Il,y1,x1);const Rl=e=>{if(e.gap!==void 0&&e.gap!==null){const t=$i(e.theme,"spacing",8),n=r=>({gap:hs(t,r)});return fn(e,e.gap,n)}return null};Rl.propTypes={};Rl.filterProps=["gap"];const Dl=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=$i(e.theme,"spacing",8),n=r=>({columnGap:hs(t,r)});return fn(e,e.columnGap,n)}return null};Dl.propTypes={};Dl.filterProps=["columnGap"];const Al=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=$i(e.theme,"spacing",8),n=r=>({rowGap:hs(t,r)});return fn(e,e.rowGap,n)}return null};Al.propTypes={};Al.filterProps=["rowGap"];const b1=It({prop:"gridColumn"}),C1=It({prop:"gridRow"}),w1=It({prop:"gridAutoFlow"}),j1=It({prop:"gridAutoColumns"}),S1=It({prop:"gridAutoRows"}),k1=It({prop:"gridTemplateColumns"}),_1=It({prop:"gridTemplateRows"}),T1=It({prop:"gridTemplateAreas"}),E1=It({prop:"gridArea"});Nl(Rl,Dl,Al,b1,C1,w1,j1,S1,k1,_1,T1,E1);function Ys(e,t){return t==="grey"?t:e}const M1=It({prop:"color",themeKey:"palette",transform:Ys}),P1=It({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Ys}),N1=It({prop:"backgroundColor",themeKey:"palette",transform:Ys});Nl(M1,P1,N1);function xn(e){return e<=1&&e!==0?`${e*100}%`:e}const I1=It({prop:"width",transform:xn}),yu=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var r,s;const i=((r=e.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||fu[n];return i?((s=e.theme)==null||(s=s.breakpoints)==null?void 0:s.unit)!=="px"?{maxWidth:`${i}${e.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:xn(n)}};return fn(e,e.maxWidth,t)}return null};yu.filterProps=["maxWidth"];const R1=It({prop:"minWidth",transform:xn}),D1=It({prop:"height",transform:xn}),A1=It({prop:"maxHeight",transform:xn}),$1=It({prop:"minHeight",transform:xn});It({prop:"size",cssProperty:"width",transform:xn});It({prop:"size",cssProperty:"height",transform:xn});const O1=It({prop:"boxSizing"});Nl(I1,yu,R1,D1,A1,$1,O1);const Oi={border:{themeKey:"borders",transform:Mn},borderTop:{themeKey:"borders",transform:Mn},borderRight:{themeKey:"borders",transform:Mn},borderBottom:{themeKey:"borders",transform:Mn},borderLeft:{themeKey:"borders",transform:Mn},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Mn},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Il},color:{themeKey:"palette",transform:Ys},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Ys},backgroundColor:{themeKey:"palette",transform:Ys},p:{style:_t},pt:{style:_t},pr:{style:_t},pb:{style:_t},pl:{style:_t},px:{style:_t},py:{style:_t},padding:{style:_t},paddingTop:{style:_t},paddingRight:{style:_t},paddingBottom:{style:_t},paddingLeft:{style:_t},paddingX:{style:_t},paddingY:{style:_t},paddingInline:{style:_t},paddingInlineStart:{style:_t},paddingInlineEnd:{style:_t},paddingBlock:{style:_t},paddingBlockStart:{style:_t},paddingBlockEnd:{style:_t},m:{style:kt},mt:{style:kt},mr:{style:kt},mb:{style:kt},ml:{style:kt},mx:{style:kt},my:{style:kt},margin:{style:kt},marginTop:{style:kt},marginRight:{style:kt},marginBottom:{style:kt},marginLeft:{style:kt},marginX:{style:kt},marginY:{style:kt},marginInline:{style:kt},marginInlineStart:{style:kt},marginInlineEnd:{style:kt},marginBlock:{style:kt},marginBlockStart:{style:kt},marginBlockEnd:{style:kt},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Rl},rowGap:{style:Al},columnGap:{style:Dl},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:xn},maxWidth:{style:yu},minWidth:{transform:xn},height:{transform:xn},maxHeight:{transform:xn},minHeight:{transform:xn},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function L1(...e){const t=e.reduce((r,s)=>r.concat(Object.keys(s)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function F1(e,t){return typeof e=="function"?e(t):e}function Eg(){function e(n,r,s,i){const a={[n]:r,theme:s},l=i[n];if(!l)return{[n]:r};const{cssProperty:c=n,themeKey:d,transform:u,style:p}=l;if(r==null)return null;if(d==="typography"&&r==="inherit")return{[n]:r};const h=Pl(s,d)||{};return p?p(a):fn(a,r,v=>{let m=Fa(h,u,v);return v===m&&typeof v=="string"&&(m=Fa(h,u,`${n}${v==="default"?"":Q(v)}`,v)),c===!1?m:{[c]:m}})}function t(n){var r;const{sx:s,theme:i={},nested:a}=n||{};if(!s)return null;const l=(r=i.unstable_sxConfig)!=null?r:Oi;function c(d){let u=d;if(typeof d=="function")u=d(i);else if(typeof d!="object")return d;if(!u)return null;const p=_g(i.breakpoints),h=Object.keys(p);let g=p;return Object.keys(u).forEach(v=>{const m=F1(u[v],i);if(m!=null)if(typeof m=="object")if(l[v])g=oi(g,e(v,m,i,l));else{const y=fn({theme:i},m,x=>({[v]:x}));L1(y,m)?g[v]=t({sx:m,theme:i,nested:!0}):g=oi(g,y)}else g=oi(g,e(v,m,i,l))}),!a&&i.modularCssLayers?{"@layer sx":hd(h,g)}:hd(h,g)}return Array.isArray(s)?s.map(c):c(s)}return t}const wo=Eg();wo.filterProps=["sx"];function Mg(e,t){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}:n.palette.mode===e?t:{}}const z1=["breakpoints","palette","spacing","shape"];function jo(e={},...t){const{breakpoints:n={},palette:r={},spacing:s,shape:i={}}=e,a=Z(e,z1),l=kg(n),c=a1(s);let d=nn({breakpoints:l,direction:"ltr",components:{},palette:b({mode:"light"},r),spacing:c,shape:b({},X0,i)},a);return d.applyStyles=Mg,d=t.reduce((u,p)=>nn(u,p),d),d.unstable_sxConfig=b({},Oi,a==null?void 0:a.unstable_sxConfig),d.unstable_sx=function(p){return wo({sx:p,theme:this})},d}const B1=Object.freeze(Object.defineProperty({__proto__:null,default:jo,private_createBreakpoints:kg,unstable_applyStyles:Mg},Symbol.toStringTag,{value:"Module"}));function W1(e){return Object.keys(e).length===0}function $l(e=null){const t=f.useContext(Co);return!t||W1(t)?e:t}const H1=jo();function So(e=H1){return $l(e)}function Ec(e){const t=La(e);return e!==t&&t.styles?(t.styles.match(/^@layer\s+[^{]*$/)||(t.styles=`@layer global{${t.styles}}`),t):e}function Pg({styles:e,themeId:t,defaultTheme:n={}}){const r=So(n),s=t&&r[t]||r;let i=typeof e=="function"?e(s):e;return s.modularCssLayers&&(Array.isArray(i)?i=i.map(a=>Ec(typeof a=="function"?a(s):a)):i=Ec(i)),o.jsx(wg,{styles:i})}const U1=["sx"],V1=e=>{var t,n;const r={systemProps:{},otherProps:{}},s=(t=e==null||(n=e.theme)==null?void 0:n.unstable_sxConfig)!=null?t:Oi;return Object.keys(e).forEach(i=>{s[i]?r.systemProps[i]=e[i]:r.otherProps[i]=e[i]}),r};function Li(e){const{sx:t}=e,n=Z(e,U1),{systemProps:r,otherProps:s}=V1(n);let i;return Array.isArray(t)?i=[r,...t]:typeof t=="function"?i=(...a)=>{const l=t(...a);return mr(l)?b({},r,l):r}:i=b({},r,t),b({},s,{sx:i})}const Y1=Object.freeze(Object.defineProperty({__proto__:null,default:wo,extendSxProp:Li,unstable_createStyleFunctionSx:Eg,unstable_defaultSxConfig:Oi},Symbol.toStringTag,{value:"Module"})),Jp=e=>e,G1=()=>{let e=Jp;return{configure(t){e=t},generate(t){return e(t)},reset(){e=Jp}}},Ng=G1();function Ig(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Ig(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function re(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Ig(e))&&(r&&(r+=" "),r+=t);return r}const q1=["className","component"];function K1(e={}){const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:s}=e,i=hu("div",{shouldForwardProp:l=>l!=="theme"&&l!=="sx"&&l!=="as"})(wo);return f.forwardRef(function(c,d){const u=So(n),p=Li(c),{className:h,component:g="div"}=p,v=Z(p,q1);return o.jsx(i,b({as:g,ref:d,className:re(h,s?s(r):r),theme:t&&u[t]||u},v))})}const Q1={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function he(e,t,n="Mui"){const r=Q1[t];return r?`${n}-${r}`:`${Ng.generate(e)}-${t}`}function fe(e,t,n="Mui"){const r={};return t.forEach(s=>{r[s]=he(e,s,n)}),r}var Rg={exports:{}},pt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xu=Symbol.for("react.transitional.element"),bu=Symbol.for("react.portal"),Ol=Symbol.for("react.fragment"),Ll=Symbol.for("react.strict_mode"),Fl=Symbol.for("react.profiler"),zl=Symbol.for("react.consumer"),Bl=Symbol.for("react.context"),Wl=Symbol.for("react.forward_ref"),Hl=Symbol.for("react.suspense"),Ul=Symbol.for("react.suspense_list"),Vl=Symbol.for("react.memo"),Yl=Symbol.for("react.lazy"),X1=Symbol.for("react.view_transition"),Z1=Symbol.for("react.client.reference");function On(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case xu:switch(e=e.type,e){case Ol:case Fl:case Ll:case Hl:case Ul:case X1:return e;default:switch(e=e&&e.$$typeof,e){case Bl:case Wl:case Yl:case Vl:return e;case zl:return e;default:return t}}case bu:return t}}}pt.ContextConsumer=zl;pt.ContextProvider=Bl;pt.Element=xu;pt.ForwardRef=Wl;pt.Fragment=Ol;pt.Lazy=Yl;pt.Memo=Vl;pt.Portal=bu;pt.Profiler=Fl;pt.StrictMode=Ll;pt.Suspense=Hl;pt.SuspenseList=Ul;pt.isContextConsumer=function(e){return On(e)===zl};pt.isContextProvider=function(e){return On(e)===Bl};pt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===xu};pt.isForwardRef=function(e){return On(e)===Wl};pt.isFragment=function(e){return On(e)===Ol};pt.isLazy=function(e){return On(e)===Yl};pt.isMemo=function(e){return On(e)===Vl};pt.isPortal=function(e){return On(e)===bu};pt.isProfiler=function(e){return On(e)===Fl};pt.isStrictMode=function(e){return On(e)===Ll};pt.isSuspense=function(e){return On(e)===Hl};pt.isSuspenseList=function(e){return On(e)===Ul};pt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ol||e===Fl||e===Ll||e===Hl||e===Ul||typeof e=="object"&&e!==null&&(e.$$typeof===Yl||e.$$typeof===Vl||e.$$typeof===Bl||e.$$typeof===zl||e.$$typeof===Wl||e.$$typeof===Z1||e.getModuleId!==void 0)};pt.typeOf=On;Rg.exports=pt;var eh=Rg.exports;const J1=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function Dg(e){const t=`${e}`.match(J1);return t&&t[1]||""}function Ag(e,t=""){return e.displayName||e.name||Dg(e)||t}function th(e,t,n){const r=Ag(t);return e.displayName||(r!==""?`${n}(${r})`:n)}function eC(e){if(e!=null){if(typeof e=="string")return e;if(typeof e=="function")return Ag(e,"Component");if(typeof e=="object")switch(e.$$typeof){case eh.ForwardRef:return th(e,e.render,"ForwardRef");case eh.Memo:return th(e,e.type,"memo");default:return}}}const tC=Object.freeze(Object.defineProperty({__proto__:null,default:eC,getFunctionName:Dg},Symbol.toStringTag,{value:"Module"})),nC=["ownerState"],rC=["variants"],sC=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function oC(e){return Object.keys(e).length===0}function iC(e){return typeof e=="string"&&e.charCodeAt(0)>96}function Mc(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function nh(e,t){return t&&e&&typeof e=="object"&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}const aC=jo(),lC=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function sa({defaultTheme:e,theme:t,themeId:n}){return oC(t)?e:t[n]||t}function cC(e){return e?(t,n)=>n[e]:null}function Ta(e,t,n){let{ownerState:r}=t,s=Z(t,nC);const i=typeof e=="function"?e(b({ownerState:r},s)):e;if(Array.isArray(i))return i.flatMap(a=>Ta(a,b({ownerState:r},s),n));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:a=[]}=i;let c=Z(i,rC);return a.forEach(d=>{let u=!0;if(typeof d.props=="function"?u=d.props(b({ownerState:r},s,r)):Object.keys(d.props).forEach(p=>{(r==null?void 0:r[p])!==d.props[p]&&s[p]!==d.props[p]&&(u=!1)}),u){Array.isArray(c)||(c=[c]);const p=typeof d.style=="function"?d.style(b({ownerState:r},s,r)):d.style;c.push(n?nh(La(p),n):p)}}),c}return n?nh(La(i),n):i}function dC(e={}){const{themeId:t,defaultTheme:n=aC,rootShouldForwardProp:r=Mc,slotShouldForwardProp:s=Mc}=e,i=a=>wo(b({},a,{theme:sa(b({},a,{defaultTheme:n,themeId:t}))}));return i.__mui_systemSx=!0,(a,l={})=>{jg(a,j=>j.filter(E=>!(E!=null&&E.__mui_systemSx)));const{name:c,slot:d,skipVariantsResolver:u,skipSx:p,overridesResolver:h=cC(lC(d))}=l,g=Z(l,sC),v=c&&c.startsWith("Mui")||d?"components":"custom",m=u!==void 0?u:d&&d!=="Root"&&d!=="root"||!1,y=p||!1;let x,w=Mc;d==="Root"||d==="root"?w=r:d?w=s:iC(a)&&(w=void 0);const C=hu(a,b({shouldForwardProp:w,label:x},g)),k=j=>typeof j=="function"&&j.__emotion_real!==j||mr(j)?E=>{const T=sa({theme:E.theme,defaultTheme:n,themeId:t});return Ta(j,b({},E,{theme:T}),T.modularCssLayers?v:void 0)}:j,_=(j,...E)=>{let T=k(j);const S=E?E.map(k):[];c&&h&&S.push(L=>{const I=sa(b({},L,{defaultTheme:n,themeId:t}));if(!I.components||!I.components[c]||!I.components[c].styleOverrides)return null;const P=I.components[c].styleOverrides,R={};return Object.entries(P).forEach(([N,O])=>{R[N]=Ta(O,b({},L,{theme:I}),I.modularCssLayers?"theme":void 0)}),h(L,R)}),c&&!m&&S.push(L=>{var I;const P=sa(b({},L,{defaultTheme:n,themeId:t})),R=P==null||(I=P.components)==null||(I=I[c])==null?void 0:I.variants;return Ta({variants:R},b({},L,{theme:P}),P.modularCssLayers?"theme":void 0)}),y||S.push(i);const M=S.length-E.length;if(Array.isArray(j)&&M>0){const L=new Array(M).fill("");T=[...j,...L],T.raw=[...j.raw,...L]}const D=C(T,...S);return a.muiName&&(D.muiName=a.muiName),D};return C.withConfig&&(_.withConfig=C.withConfig),_}}const $g=dC();function Ci(e,t){const n=b({},t);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=b({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const s=e[r]||{},i=t[r];n[r]={},!i||!Object.keys(i)?n[r]=s:!s||!Object.keys(s)?n[r]=i:(n[r]=b({},i),Object.keys(s).forEach(a=>{n[r][a]=Ci(s[a],i[a])}))}else n[r]===void 0&&(n[r]=e[r])}),n}function Og(e){const{theme:t,name:n,props:r}=e;return!t||!t.components||!t.components[n]||!t.components[n].defaultProps?r:Ci(t.components[n].defaultProps,r)}function Cu({props:e,name:t,defaultTheme:n,themeId:r}){let s=So(n);return r&&(s=s[r]||s),Og({theme:s,name:t,props:e})}const rn=typeof window<"u"?f.useLayoutEffect:f.useEffect;function uC(e,t,n,r,s){const[i,a]=f.useState(()=>s&&n?n(e).matches:r?r(e).matches:t);return rn(()=>{let l=!0;if(!n)return;const c=n(e),d=()=>{l&&a(c.matches)};return d(),c.addListener(d),()=>{l=!1,c.removeListener(d)}},[e,n]),i}const Lg=f.useSyncExternalStore;function pC(e,t,n,r,s){const i=f.useCallback(()=>t,[t]),a=f.useMemo(()=>{if(s&&n)return()=>n(e).matches;if(r!==null){const{matches:u}=r(e);return()=>u}return i},[i,e,r,s,n]),[l,c]=f.useMemo(()=>{if(n===null)return[i,()=>()=>{}];const u=n(e);return[()=>u.matches,p=>(u.addListener(p),()=>{u.removeListener(p)})]},[i,n,e]);return Lg(c,l,a)}function hC(e,t={}){const n=$l(),r=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:s=!1,matchMedia:i=r?window.matchMedia:null,ssrMatchMedia:a=null,noSsr:l=!1}=Og({name:"MuiUseMediaQuery",props:t,theme:n});let c=e;return c=c.replace(/^@media( ?)/m,""),(Lg!==void 0?pC:uC)(c,s,i,a,l)}function Fg(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}const fC=Object.freeze(Object.defineProperty({__proto__:null,default:Fg},Symbol.toStringTag,{value:"Module"}));function mC(e,t=0,n=1){return Fg(e,t,n)}function gC(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,s)=>s<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function zg(e){if(e.type)return e;if(e.charAt(0)==="#")return zg(gC(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(jr(9,e));let r=e.substring(t+1,e.length-1),s;if(n==="color"){if(r=r.split(" "),s=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(s)===-1)throw new Error(jr(10,s))}else r=r.split(",");return r=r.map(i=>parseFloat(i)),{type:n,values:r,colorSpace:s}}function vC(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((s,i)=>i<3?parseInt(s,10):s):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function ro(e,t){return e=zg(e),t=mC(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,vC(e)}function rh(...e){return e.reduce((t,n)=>n==null?t:function(...s){t.apply(this,s),n.apply(this,s)},()=>{})}function Bg(e,t=166){let n;function r(...s){const i=()=>{e.apply(this,s)};clearTimeout(n),n=setTimeout(i,t)}return r.clear=()=>{clearTimeout(n)},r}function Ea(e,t){var n,r;return f.isValidElement(e)&&t.indexOf((n=e.type.muiName)!=null?n:(r=e.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function Bt(e){return e&&e.ownerDocument||document}function fs(e){return Bt(e).defaultView||window}function fd(e,t){typeof e=="function"?e(t):e&&(e.current=t)}let sh=0;function yC(e){const[t,n]=f.useState(e),r=e||t;return f.useEffect(()=>{t==null&&(sh+=1,n(`mui-${sh}`))},[t]),r}const oh=od.useId;function ko(e){if(oh!==void 0){const t=oh();return e??t}return yC(e)}function lr({controlled:e,default:t,name:n,state:r="value"}){const{current:s}=f.useRef(e!==void 0),[i,a]=f.useState(t),l=s?e:i,c=f.useCallback(d=>{s||a(d)},[]);return[l,c]}function De(e){const t=f.useRef(e);return rn(()=>{t.current=e}),f.useRef((...n)=>(0,t.current)(...n)).current}function vt(...e){return f.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{fd(n,t)})},e)}const ih={};function xC(e,t){const n=f.useRef(ih);return n.current===ih&&(n.current=e(t)),n}const bC=[];function CC(e){f.useEffect(e,bC)}class Fi{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new Fi}start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}}function Or(){const e=xC(Fi.create).current;return CC(e.disposeEffect),e}let Gl=!0,md=!1;const wC=new Fi,jC={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function SC(e){const{type:t,tagName:n}=e;return!!(n==="INPUT"&&jC[t]&&!e.readOnly||n==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function kC(e){e.metaKey||e.altKey||e.ctrlKey||(Gl=!0)}function Pc(){Gl=!1}function _C(){this.visibilityState==="hidden"&&md&&(Gl=!0)}function TC(e){e.addEventListener("keydown",kC,!0),e.addEventListener("mousedown",Pc,!0),e.addEventListener("pointerdown",Pc,!0),e.addEventListener("touchstart",Pc,!0),e.addEventListener("visibilitychange",_C,!0)}function EC(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return Gl||SC(t)}function Wg(){const e=f.useCallback(s=>{s!=null&&TC(s.ownerDocument)},[]),t=f.useRef(!1);function n(){return t.current?(md=!0,wC.start(100,()=>{md=!1}),t.current=!1,!0):!1}function r(s){return EC(s)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:r,onBlur:n,ref:e}}function Hg(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}function ge(e,t,n=void 0){const r={};return Object.keys(e).forEach(s=>{r[s]=e[s].reduce((i,a)=>{if(a){const l=t(a);l!==""&&i.push(l),n&&n[a]&&i.push(n[a])}return i},[]).join(" ")}),r}function so(e){return typeof e=="string"}function Bs(e,t,n){return e===void 0||so(e)?t:b({},t,{ownerState:b({},t.ownerState,n)})}function za(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function ah(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function Ug(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:s,className:i}=e;if(!t){const g=re(n==null?void 0:n.className,i,s==null?void 0:s.className,r==null?void 0:r.className),v=b({},n==null?void 0:n.style,s==null?void 0:s.style,r==null?void 0:r.style),m=b({},n,s,r);return g.length>0&&(m.className=g),Object.keys(v).length>0&&(m.style=v),{props:m,internalRef:void 0}}const a=za(b({},s,r)),l=ah(r),c=ah(s),d=t(a),u=re(d==null?void 0:d.className,n==null?void 0:n.className,i,s==null?void 0:s.className,r==null?void 0:r.className),p=b({},d==null?void 0:d.style,n==null?void 0:n.style,s==null?void 0:s.style,r==null?void 0:r.style),h=b({},d,n,c,l);return u.length>0&&(h.className=u),Object.keys(p).length>0&&(h.style=p),{props:h,internalRef:d.ref}}function Vg(e,t,n){return typeof e=="function"?e(t,n):e}const MC=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Ur(e){var t;const{elementType:n,externalSlotProps:r,ownerState:s,skipResolvingSlotProps:i=!1}=e,a=Z(e,MC),l=i?{}:Vg(r,s),{props:c,internalRef:d}=Ug(b({},a,{externalSlotProps:l})),u=vt(d,l==null?void 0:l.ref,(t=e.additionalProps)==null?void 0:t.ref);return Bs(n,b({},c,{ref:u}),s)}function ks(e){if(parseInt(f.version,10)>=19){var t;return(e==null||(t=e.props)==null?void 0:t.ref)||null}return(e==null?void 0:e.ref)||null}const Yg=f.createContext(null);function Gg(){return f.useContext(Yg)}const PC=typeof Symbol=="function"&&Symbol.for,NC=PC?Symbol.for("mui.nested"):"__THEME_NESTED__";function IC(e,t){return typeof t=="function"?t(e):b({},e,t)}function RC(e){const{children:t,theme:n}=e,r=Gg(),s=f.useMemo(()=>{const i=r===null?n:IC(r,n);return i!=null&&(i[NC]=r!==null),i},[n,r]);return o.jsx(Yg.Provider,{value:s,children:t})}const DC=["value"],qg=f.createContext();function AC(e){let{value:t}=e,n=Z(e,DC);return o.jsx(qg.Provider,b({value:t??!0},n))}const wu=()=>{const e=f.useContext(qg);return e??!1},Kg=f.createContext(void 0);function $C({value:e,children:t}){return o.jsx(Kg.Provider,{value:e,children:t})}function OC(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const s=t.components[n];return s.defaultProps?Ci(s.defaultProps,r):!s.styleOverrides&&!s.variants?Ci(s,r):r}function LC({props:e,name:t}){const n=f.useContext(Kg);return OC({props:e,name:t,theme:{components:n}})}function FC(e){const t=$l(),n=ko()||"",{modularCssLayers:r}=e;let s="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!r||t!==null?s="":typeof r=="string"?s=r.replace(/mui(?!\.)/g,s):s=`@layer ${s};`,rn(()=>{const i=document.querySelector("head");if(!i)return;const a=i.firstChild;if(s){var l;if(a&&(l=a.hasAttribute)!=null&&l.call(a,"data-mui-layer-order")&&a.getAttribute("data-mui-layer-order")===n)return;const d=document.createElement("style");d.setAttribute("data-mui-layer-order",n),d.textContent=s,i.prepend(d)}else{var c;(c=i.querySelector(`style[data-mui-layer-order="${n}"]`))==null||c.remove()}},[s,n]),s?o.jsx(Pg,{styles:s}):null}const lh={};function ch(e,t,n,r=!1){return f.useMemo(()=>{const s=e&&t[e]||t;if(typeof n=="function"){const i=n(s),a=e?b({},t,{[e]:i}):i;return r?()=>a:a}return e?b({},t,{[e]:n}):b({},t,n)},[e,t,n,r])}function zC(e){const{children:t,theme:n,themeId:r}=e,s=$l(lh),i=Gg()||lh,a=ch(r,s,n),l=ch(r,i,n,!0),c=a.direction==="rtl",d=FC(a);return o.jsx(RC,{theme:l,children:o.jsx(Co.Provider,{value:a,children:o.jsx(AC,{value:c,children:o.jsxs($C,{value:a==null?void 0:a.components,children:[d,t]})})})})}function Sr(e){"@babel/helpers - typeof";return Sr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sr(e)}function BC(e,t){if(Sr(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Sr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qg(e){var t=BC(e,"string");return Sr(t)=="symbol"?t:t+""}const WC=["className","component","disableGutters","fixed","maxWidth","classes"],HC=jo(),UC=$g("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${Q(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),VC=e=>Cu({props:e,name:"MuiContainer",defaultTheme:HC}),YC=(e,t)=>{const n=c=>he(t,c),{classes:r,fixed:s,disableGutters:i,maxWidth:a}=e,l={root:["root",a&&`maxWidth${Q(String(a))}`,s&&"fixed",i&&"disableGutters"]};return ge(l,n,r)};function GC(e={}){const{createStyledComponent:t=UC,useThemeProps:n=VC,componentName:r="MuiContainer"}=e,s=t(({theme:a,ownerState:l})=>b({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!l.disableGutters&&{paddingLeft:a.spacing(2),paddingRight:a.spacing(2),[a.breakpoints.up("sm")]:{paddingLeft:a.spacing(3),paddingRight:a.spacing(3)}}),({theme:a,ownerState:l})=>l.fixed&&Object.keys(a.breakpoints.values).reduce((c,d)=>{const u=d,p=a.breakpoints.values[u];return p!==0&&(c[a.breakpoints.up(u)]={maxWidth:`${p}${a.breakpoints.unit}`}),c},{}),({theme:a,ownerState:l})=>b({},l.maxWidth==="xs"&&{[a.breakpoints.up("xs")]:{maxWidth:Math.max(a.breakpoints.values.xs,444)}},l.maxWidth&&l.maxWidth!=="xs"&&{[a.breakpoints.up(l.maxWidth)]:{maxWidth:`${a.breakpoints.values[l.maxWidth]}${a.breakpoints.unit}`}}));return f.forwardRef(function(l,c){const d=n(l),{className:u,component:p="div",disableGutters:h=!1,fixed:g=!1,maxWidth:v="lg"}=d,m=Z(d,WC),y=b({},d,{component:p,disableGutters:h,fixed:g,maxWidth:v}),x=YC(y,r);return o.jsx(s,b({as:p,ownerState:y,className:re(x.root,u),ref:c},m))})}const qC=["component","direction","spacing","divider","children","className","useFlexGap"],KC=jo(),QC=$g("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function XC(e){return Cu({props:e,name:"MuiStack",defaultTheme:KC})}function ZC(e,t){const n=f.Children.toArray(e).filter(Boolean);return n.reduce((r,s,i)=>(r.push(s),i<n.length-1&&r.push(f.cloneElement(t,{key:`separator-${i}`})),r),[])}const JC=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],ew=({ownerState:e,theme:t})=>{let n=b({display:"flex",flexDirection:"column"},fn({theme:t},cs({values:e.direction,breakpoints:t.breakpoints.values}),r=>({flexDirection:r})));if(e.spacing){const r=vu(t),s=Object.keys(t.breakpoints.values).reduce((c,d)=>((typeof e.spacing=="object"&&e.spacing[d]!=null||typeof e.direction=="object"&&e.direction[d]!=null)&&(c[d]=!0),c),{}),i=cs({values:e.direction,base:s}),a=cs({values:e.spacing,base:s});typeof i=="object"&&Object.keys(i).forEach((c,d,u)=>{if(!i[c]){const h=d>0?i[u[d-1]]:"column";i[c]=h}}),n=nn(n,fn({theme:t},a,(c,d)=>e.useFlexGap?{gap:hs(r,c)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${JC(d?i[d]:e.direction)}`]:hs(r,c)}}))}return n=Z0(t.breakpoints,n),n};function tw(e={}){const{createStyledComponent:t=QC,useThemeProps:n=XC,componentName:r="MuiStack"}=e,s=()=>ge({root:["root"]},c=>he(r,c),{}),i=t(ew);return f.forwardRef(function(c,d){const u=n(c),p=Li(u),{component:h="div",direction:g="column",spacing:v=0,divider:m,children:y,className:x,useFlexGap:w=!1}=p,C=Z(p,qC),k={direction:g,spacing:v,useFlexGap:w},_=s();return o.jsx(i,b({as:h,ownerState:k,ref:d,className:re(_.root,x)},C,{children:m?ZC(y,m):y}))})}function nw(e,t){return b({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}var Rt={},Xg={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(Xg);var Zg=Xg.exports;const rw=Kr(Bb),sw=Kr(fC);var Jg=Zg;Object.defineProperty(Rt,"__esModule",{value:!0});var ze=Rt.alpha=rv;Rt.blend=gw;Rt.colorChannel=void 0;var oo=Rt.darken=Su;Rt.decomposeColor=In;var ow=Rt.emphasize=sv,iw=Rt.getContrastRatio=uw;Rt.getLuminance=Ba;Rt.hexToRgb=ev;Rt.hslToRgb=nv;var io=Rt.lighten=ku;Rt.private_safeAlpha=pw;Rt.private_safeColorChannel=void 0;Rt.private_safeDarken=hw;Rt.private_safeEmphasize=mw;Rt.private_safeLighten=fw;Rt.recomposeColor=_o;Rt.rgbToHex=dw;var dh=Jg(rw),aw=Jg(sw);function ju(e,t=0,n=1){return(0,aw.default)(e,t,n)}function ev(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,s)=>s<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function lw(e){const t=e.toString(16);return t.length===1?`0${t}`:t}function In(e){if(e.type)return e;if(e.charAt(0)==="#")return In(ev(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,dh.default)(9,e));let r=e.substring(t+1,e.length-1),s;if(n==="color"){if(r=r.split(" "),s=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(s)===-1)throw new Error((0,dh.default)(10,s))}else r=r.split(",");return r=r.map(i=>parseFloat(i)),{type:n,values:r,colorSpace:s}}const tv=e=>{const t=In(e);return t.values.slice(0,3).map((n,r)=>t.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};Rt.colorChannel=tv;const cw=(e,t)=>{try{return tv(e)}catch{return e}};Rt.private_safeColorChannel=cw;function _o(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((s,i)=>i<3?parseInt(s,10):s):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function dw(e){if(e.indexOf("#")===0)return e;const{values:t}=In(e);return`#${t.map((n,r)=>lw(r===3?Math.round(255*n):n)).join("")}`}function nv(e){e=In(e);const{values:t}=e,n=t[0],r=t[1]/100,s=t[2]/100,i=r*Math.min(s,1-s),a=(d,u=(d+n/30)%12)=>s-i*Math.max(Math.min(u-3,9-u,1),-1);let l="rgb";const c=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return e.type==="hsla"&&(l+="a",c.push(t[3])),_o({type:l,values:c})}function Ba(e){e=In(e);let t=e.type==="hsl"||e.type==="hsla"?In(nv(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function uw(e,t){const n=Ba(e),r=Ba(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function rv(e,t){return e=In(e),t=ju(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,_o(e)}function pw(e,t,n){try{return rv(e,t)}catch{return e}}function Su(e,t){if(e=In(e),t=ju(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]*=1-t;return _o(e)}function hw(e,t,n){try{return Su(e,t)}catch{return e}}function ku(e,t){if(e=In(e),t=ju(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return _o(e)}function fw(e,t,n){try{return ku(e,t)}catch{return e}}function sv(e,t=.15){return Ba(e)>.5?Su(e,t):ku(e,t)}function mw(e,t,n){try{return sv(e,t)}catch{return e}}function gw(e,t,n,r=1){const s=(c,d)=>Math.round((c**(1/r)*(1-n)+d**(1/r)*n)**r),i=In(e),a=In(t),l=[s(i.values[0],a.values[0]),s(i.values[1],a.values[1]),s(i.values[2],a.values[2])];return _o({type:"rgb",values:l})}const wi={black:"#000",white:"#fff"},vw={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Ps={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Ns={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Bo={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Is={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Rs={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Ds={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},yw=["mode","contrastThreshold","tonalOffset"],uh={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:wi.white,default:wi.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Nc={text:{primary:wi.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:wi.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function ph(e,t,n,r){const s=r.light||r,i=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=io(e.main,s):t==="dark"&&(e.dark=oo(e.main,i)))}function xw(e="light"){return e==="dark"?{main:Is[200],light:Is[50],dark:Is[400]}:{main:Is[700],light:Is[400],dark:Is[800]}}function bw(e="light"){return e==="dark"?{main:Ps[200],light:Ps[50],dark:Ps[400]}:{main:Ps[500],light:Ps[300],dark:Ps[700]}}function Cw(e="light"){return e==="dark"?{main:Ns[500],light:Ns[300],dark:Ns[700]}:{main:Ns[700],light:Ns[400],dark:Ns[800]}}function ww(e="light"){return e==="dark"?{main:Rs[400],light:Rs[300],dark:Rs[700]}:{main:Rs[700],light:Rs[500],dark:Rs[900]}}function jw(e="light"){return e==="dark"?{main:Ds[400],light:Ds[300],dark:Ds[700]}:{main:Ds[800],light:Ds[500],dark:Ds[900]}}function Sw(e="light"){return e==="dark"?{main:Bo[400],light:Bo[300],dark:Bo[700]}:{main:"#ed6c02",light:Bo[500],dark:Bo[900]}}function kw(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,s=Z(e,yw),i=e.primary||xw(t),a=e.secondary||bw(t),l=e.error||Cw(t),c=e.info||ww(t),d=e.success||jw(t),u=e.warning||Sw(t);function p(m){return iw(m,Nc.text.primary)>=n?Nc.text.primary:uh.text.primary}const h=({color:m,name:y,mainShade:x=500,lightShade:w=300,darkShade:C=700})=>{if(m=b({},m),!m.main&&m[x]&&(m.main=m[x]),!m.hasOwnProperty("main"))throw new Error(jr(11,y?` (${y})`:"",x));if(typeof m.main!="string")throw new Error(jr(12,y?` (${y})`:"",JSON.stringify(m.main)));return ph(m,"light",w,r),ph(m,"dark",C,r),m.contrastText||(m.contrastText=p(m.main)),m},g={dark:Nc,light:uh};return nn(b({common:b({},wi),mode:t,primary:h({color:i,name:"primary"}),secondary:h({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:l,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:c,name:"info"}),success:h({color:d,name:"success"}),grey:vw,contrastThreshold:n,getContrastText:p,augmentColor:h,tonalOffset:r},g[t]),s)}const _w=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Tw(e){return Math.round(e*1e5)/1e5}const hh={textTransform:"uppercase"},fh='"Roboto", "Helvetica", "Arial", sans-serif';function Ew(e,t){const n=typeof t=="function"?t(e):t,{fontFamily:r=fh,fontSize:s=14,fontWeightLight:i=300,fontWeightRegular:a=400,fontWeightMedium:l=500,fontWeightBold:c=700,htmlFontSize:d=16,allVariants:u,pxToRem:p}=n,h=Z(n,_w),g=s/14,v=p||(x=>`${x/d*g}rem`),m=(x,w,C,k,_)=>b({fontFamily:r,fontWeight:x,fontSize:v(w),lineHeight:C},r===fh?{letterSpacing:`${Tw(k/w)}em`}:{},_,u),y={h1:m(i,96,1.167,-1.5),h2:m(i,60,1.2,-.5),h3:m(a,48,1.167,0),h4:m(a,34,1.235,.25),h5:m(a,24,1.334,0),h6:m(l,20,1.6,.15),subtitle1:m(a,16,1.75,.15),subtitle2:m(l,14,1.57,.1),body1:m(a,16,1.5,.15),body2:m(a,14,1.43,.15),button:m(l,14,1.75,.4,hh),caption:m(a,12,1.66,.4),overline:m(a,12,2.66,1,hh),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return nn(b({htmlFontSize:d,pxToRem:v,fontFamily:r,fontSize:s,fontWeightLight:i,fontWeightRegular:a,fontWeightMedium:l,fontWeightBold:c},y),h,{clone:!1})}const Mw=.2,Pw=.14,Nw=.12;function bt(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${Mw})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${Pw})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${Nw})`].join(",")}const Iw=["none",bt(0,2,1,-1,0,1,1,0,0,1,3,0),bt(0,3,1,-2,0,2,2,0,0,1,5,0),bt(0,3,3,-2,0,3,4,0,0,1,8,0),bt(0,2,4,-1,0,4,5,0,0,1,10,0),bt(0,3,5,-1,0,5,8,0,0,1,14,0),bt(0,3,5,-1,0,6,10,0,0,1,18,0),bt(0,4,5,-2,0,7,10,1,0,2,16,1),bt(0,5,5,-3,0,8,10,1,0,3,14,2),bt(0,5,6,-3,0,9,12,1,0,3,16,2),bt(0,6,6,-3,0,10,14,1,0,4,18,3),bt(0,6,7,-4,0,11,15,1,0,4,20,3),bt(0,7,8,-4,0,12,17,2,0,5,22,4),bt(0,7,8,-4,0,13,19,2,0,5,24,4),bt(0,7,9,-4,0,14,21,2,0,5,26,4),bt(0,8,9,-5,0,15,22,2,0,6,28,5),bt(0,8,10,-5,0,16,24,2,0,6,30,5),bt(0,8,11,-5,0,17,26,2,0,6,32,5),bt(0,9,11,-5,0,18,28,2,0,7,34,6),bt(0,9,12,-6,0,19,29,2,0,7,36,6),bt(0,10,13,-6,0,20,31,3,0,8,38,7),bt(0,10,13,-6,0,21,33,3,0,8,40,7),bt(0,10,14,-6,0,22,35,3,0,8,42,7),bt(0,11,14,-7,0,23,36,3,0,9,44,8),bt(0,11,15,-7,0,24,38,3,0,9,46,8)],Rw=["duration","easing","delay"],Dw={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},ov={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function mh(e){return`${Math.round(e)}ms`}function Aw(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function $w(e){const t=b({},Dw,e.easing),n=b({},ov,e.duration);return b({getAutoHeightDuration:Aw,create:(s=["all"],i={})=>{const{duration:a=n.standard,easing:l=t.easeInOut,delay:c=0}=i;return Z(i,Rw),(Array.isArray(s)?s:[s]).map(d=>`${d} ${typeof a=="string"?a:mh(a)} ${l} ${typeof c=="string"?c:mh(c)}`).join(",")}},e,{easing:t,duration:n})}const Ow={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Lw=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function _u(e={},...t){const{mixins:n={},palette:r={},transitions:s={},typography:i={}}=e,a=Z(e,Lw);if(e.vars&&e.generateCssVars===void 0)throw new Error(jr(18));const l=kw(r),c=jo(e);let d=nn(c,{mixins:nw(c.breakpoints,n),palette:l,shadows:Iw.slice(),typography:Ew(l,i),transitions:$w(s),zIndex:b({},Ow)});return d=nn(d,a),d=t.reduce((u,p)=>nn(u,p),d),d.unstable_sxConfig=b({},Oi,a==null?void 0:a.unstable_sxConfig),d.unstable_sx=function(p){return wo({sx:p,theme:this})},d}const ql=_u();function Vn(){const e=So(ql);return e[ps]||e}function Ln({props:e,name:t}){return Cu({props:e,name:t,defaultTheme:ql,themeId:ps})}var zi={},Ic={exports:{}},gh;function Fw(){return gh||(gh=1,function(e){function t(n,r){if(n==null)return{};var s={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(r.indexOf(i)!==-1)continue;s[i]=n[i]}return s}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(Ic)),Ic.exports}const iv=Kr(G0),zw=Kr(q0),Bw=Kr(e1),Ww=Kr(tC),Hw=Kr(B1),Uw=Kr(Y1);var To=Zg;Object.defineProperty(zi,"__esModule",{value:!0});var Vw=zi.default=s2;zi.shouldForwardProp=Ma;zi.systemDefaultTheme=void 0;var Tn=To(Cg()),gd=To(Fw()),Wa=Zw(iv),Yw=zw;To(Bw);To(Ww);var Gw=To(Hw),qw=To(Uw);const Kw=["ownerState"],Qw=["variants"],Xw=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function av(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(av=function(r){return r?n:t})(e)}function Zw(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=av(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var a=s?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}function Jw(e){return Object.keys(e).length===0}function e2(e){return typeof e=="string"&&e.charCodeAt(0)>96}function Ma(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function vh(e,t){return t&&e&&typeof e=="object"&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}const t2=zi.systemDefaultTheme=(0,Gw.default)(),n2=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function oa({defaultTheme:e,theme:t,themeId:n}){return Jw(t)?e:t[n]||t}function r2(e){return e?(t,n)=>n[e]:null}function Pa(e,t,n){let{ownerState:r}=t,s=(0,gd.default)(t,Kw);const i=typeof e=="function"?e((0,Tn.default)({ownerState:r},s)):e;if(Array.isArray(i))return i.flatMap(a=>Pa(a,(0,Tn.default)({ownerState:r},s),n));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:a=[]}=i;let c=(0,gd.default)(i,Qw);return a.forEach(d=>{let u=!0;if(typeof d.props=="function"?u=d.props((0,Tn.default)({ownerState:r},s,r)):Object.keys(d.props).forEach(p=>{(r==null?void 0:r[p])!==d.props[p]&&s[p]!==d.props[p]&&(u=!1)}),u){Array.isArray(c)||(c=[c]);const p=typeof d.style=="function"?d.style((0,Tn.default)({ownerState:r},s,r)):d.style;c.push(n?vh((0,Wa.internal_serializeStyles)(p),n):p)}}),c}return n?vh((0,Wa.internal_serializeStyles)(i),n):i}function s2(e={}){const{themeId:t,defaultTheme:n=t2,rootShouldForwardProp:r=Ma,slotShouldForwardProp:s=Ma}=e,i=a=>(0,qw.default)((0,Tn.default)({},a,{theme:oa((0,Tn.default)({},a,{defaultTheme:n,themeId:t}))}));return i.__mui_systemSx=!0,(a,l={})=>{(0,Wa.internal_processStyles)(a,j=>j.filter(E=>!(E!=null&&E.__mui_systemSx)));const{name:c,slot:d,skipVariantsResolver:u,skipSx:p,overridesResolver:h=r2(n2(d))}=l,g=(0,gd.default)(l,Xw),v=c&&c.startsWith("Mui")||d?"components":"custom",m=u!==void 0?u:d&&d!=="Root"&&d!=="root"||!1,y=p||!1;let x,w=Ma;d==="Root"||d==="root"?w=r:d?w=s:e2(a)&&(w=void 0);const C=(0,Wa.default)(a,(0,Tn.default)({shouldForwardProp:w,label:x},g)),k=j=>typeof j=="function"&&j.__emotion_real!==j||(0,Yw.isPlainObject)(j)?E=>{const T=oa({theme:E.theme,defaultTheme:n,themeId:t});return Pa(j,(0,Tn.default)({},E,{theme:T}),T.modularCssLayers?v:void 0)}:j,_=(j,...E)=>{let T=k(j);const S=E?E.map(k):[];c&&h&&S.push(L=>{const I=oa((0,Tn.default)({},L,{defaultTheme:n,themeId:t}));if(!I.components||!I.components[c]||!I.components[c].styleOverrides)return null;const P=I.components[c].styleOverrides,R={};return Object.entries(P).forEach(([N,O])=>{R[N]=Pa(O,(0,Tn.default)({},L,{theme:I}),I.modularCssLayers?"theme":void 0)}),h(L,R)}),c&&!m&&S.push(L=>{var I;const P=oa((0,Tn.default)({},L,{defaultTheme:n,themeId:t})),R=P==null||(I=P.components)==null||(I=I[c])==null?void 0:I.variants;return Pa({variants:R},(0,Tn.default)({},L,{theme:P}),P.modularCssLayers?"theme":void 0)}),y||S.push(i);const M=S.length-E.length;if(Array.isArray(j)&&M>0){const L=new Array(M).fill("");T=[...j,...L],T.raw=[...j.raw,...L]}const D=C(T,...S);return a.muiName&&(D.muiName=a.muiName),D};return C.withConfig&&(_.withConfig=C.withConfig),_}}function lv(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const mn=e=>lv(e)&&e!=="classes",V=Vw({themeId:ps,defaultTheme:ql,rootShouldForwardProp:mn}),o2=["theme"];function i2(e){let{theme:t}=e,n=Z(e,o2);const r=t[ps];let s=r||t;return typeof t!="function"&&(r&&!r.vars?s=b({},r,{vars:null}):t&&!t.vars&&(s=b({},t,{vars:null}))),o.jsx(zC,b({},n,{themeId:r?ps:void 0,theme:s}))}const yh=e=>{let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,(t/100).toFixed(2)};function we(e){return LC(e)}function cv(e){return o.jsx(Pg,b({},e,{defaultTheme:ql,themeId:ps}))}const a2=(e,t)=>b({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),l2=e=>b({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),c2=(e,t=!1)=>{var n;const r={};t&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach(([a,l])=>{var c;r[e.getColorSchemeSelector(a).replace(/\s*&/,"")]={colorScheme:(c=l.palette)==null?void 0:c.mode}});let s=b({html:a2(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:b({margin:0},l2(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},r);const i=(n=e.components)==null||(n=n.MuiCssBaseline)==null?void 0:n.styleOverrides;return i&&(s=[s,i]),s};function d2(e){const t=we({props:e,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=t;return o.jsxs(f.Fragment,{children:[o.jsx(cv,{styles:s=>c2(s,r)}),n]})}var xh={};const bh="@firebase/database",Ch="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dv="";function u2(e){dv=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Yt(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:nu(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return Pr(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new p2(t)}}catch{}return new h2},is=uv("localStorage"),f2=uv("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=new db("@firebase/database"),m2=function(){let e=1;return function(){return e++}}(),pv=function(e){const t=ub(e),n=new pb;n.update(t);const r=n.digest();return hb.encodeByteArray(r)},Bi=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=Bi.apply(null,r):typeof r=="object"?t+=Yt(r):t+=r,t+=" "}return t};let ii=null,wh=!0;const g2=function(e,t){ye(!0,"Can't turn on custom loggers persistently."),Gs.logLevel=mb.VERBOSE,ii=Gs.log.bind(Gs)},qt=function(...e){if(wh===!0&&(wh=!1,ii===null&&f2.get("logging_enabled")===!0&&g2()),ii){const t=Bi.apply(null,e);ii(t)}},Wi=function(e){return function(...t){qt(e,...t)}},vd=function(...e){const t="FIREBASE INTERNAL ERROR: "+Bi(...e);Gs.error(t)},kr=function(...e){const t=`FIREBASE FATAL ERROR: ${Bi(...e)}`;throw Gs.error(t),new Error(t)},Cn=function(...e){const t="FIREBASE WARNING: "+Bi(...e);Gs.warn(t)},v2=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Cn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},hv=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},y2=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ao="[MIN_NAME]",ms="[MAX_NAME]",Eo=function(e,t){if(e===t)return 0;if(e===ao||t===ms)return-1;if(t===ao||e===ms)return 1;{const n=jh(e),r=jh(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},x2=function(e,t){return e===t?0:e<t?-1:1},Wo=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Yt(t))},Tu=function(e){if(typeof e!="object"||e===null)return Yt(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=Yt(t[r]),n+=":",n+=Tu(e[t[r]]);return n+="}",n},fv=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let s=0;s<n;s+=t)s+t>n?r.push(e.substring(s,n)):r.push(e.substring(s,s+t));return r};function Rn(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const mv=function(e){ye(!hv(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let s,i,a,l,c;e===0?(i=0,a=0,s=1/e===-1/0?1:0):(s=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(e)/Math.LN2),r),i=l+r,a=Math.round(e*Math.pow(2,n-l)-Math.pow(2,n))):(i=0,a=Math.round(e/Math.pow(2,1-r-n))));const d=[];for(c=n;c;c-=1)d.push(a%2?1:0),a=Math.floor(a/2);for(c=t;c;c-=1)d.push(i%2?1:0),i=Math.floor(i/2);d.push(s?1:0),d.reverse();const u=d.join("");let p="";for(c=0;c<64;c+=8){let h=parseInt(u.substr(c,8),2).toString(16);h.length===1&&(h="0"+h),p=p+h}return p.toLowerCase()},b2=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},C2=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},w2=new RegExp("^-?(0*)\\d{1,10}$"),j2=-2147483648,S2=2147483647,jh=function(e){if(w2.test(e)){const t=Number(e);if(t>=j2&&t<=S2)return t}return null},Hi=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw Cn("Exception was thrown by user callback.",n),t},Math.floor(0))}},k2=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ai=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){Cn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(qt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Cn(t)}}class Na{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Na.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu="5",gv="v",vv="s",yv="r",xv="f",bv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Cv="ls",wv="p",yd="ac",jv="websocket",Sv="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(t,n,r,s,i=!1,a="",l=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=a,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=c,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=is.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&is.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function E2(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function _v(e,t,n){ye(typeof t=="string","typeof type must == string"),ye(typeof n=="object","typeof params must == object");let r;if(t===jv)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===Sv)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);E2(e)&&(n.ns=e.namespace);const s=[];return Rn(n,(i,a)=>{s.push(i+"="+a)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(){this.counters_={}}incrementCounter(t,n=1){Pr(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return bb(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc={},Dc={};function Mu(e){const t=e.toString();return Rc[t]||(Rc[t]=new M2),Rc[t]}function P2(e,t){const n=e.toString();return Dc[n]||(Dc[n]=t()),Dc[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&Hi(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh="start",I2="close",R2="pLPCommand",D2="pRTLPCB",Tv="id",Ev="pw",Mv="ser",A2="cb",$2="seg",O2="ts",L2="d",F2="dframe",Pv=1870,Nv=30,z2=Pv-Nv,B2=25e3,W2=3e4;class Ws{constructor(t,n,r,s,i,a,l){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=a,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Wi(t),this.stats_=Mu(n),this.urlFn=c=>(this.appCheckToken&&(c[yd]=this.appCheckToken),_v(n,Sv,c))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new N2(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(W2)),y2(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Pu((...i)=>{const[a,l,c,d,u]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===Sh)this.id=l,this.password=c;else if(a===I2)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...i)=>{const[a,l]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(a,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[Sh]="t",r[Mv]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[A2]=this.scriptTagHolder.uniqueCallbackIdentifier),r[gv]=Eu,this.transportSessionId&&(r[vv]=this.transportSessionId),this.lastSessionId&&(r[Cv]=this.lastSessionId),this.applicationId&&(r[wv]=this.applicationId),this.appCheckToken&&(r[yd]=this.appCheckToken),typeof location<"u"&&location.hostname&&bv.test(location.hostname)&&(r[yv]=xv);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ws.forceAllow_=!0}static forceDisallow(){Ws.forceDisallow_=!0}static isAvailable(){return Ws.forceAllow_?!0:!Ws.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!b2()&&!C2()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=Yt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Cb(n),s=fv(r,z2);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[F2]="t",r[Tv]=t,r[Ev]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=Yt(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Pu{constructor(t,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=m2(),window[R2+this.uniqueCallbackIdentifier]=t,window[D2+this.uniqueCallbackIdentifier]=n,this.myIFrame=Pu.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(l){qt("frame writing exception"),l.stack&&qt(l.stack),qt(l)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||qt("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[Tv]=this.myID,t[Ev]=this.myPW,t[Mv]=this.currentSerial;let n=this.urlFn(t),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Nv+r.length<=Pv;){const a=this.pendingSegs.shift();r=r+"&"+$2+s+"="+a.seg+"&"+O2+s+"="+a.ts+"&"+L2+s+"="+a.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(B2)),i=()=>{clearTimeout(s),r()};this.addTag(t,i)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{qt("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=16384,U2=45e3;let Ha=null;typeof MozWebSocket<"u"?Ha=MozWebSocket:typeof WebSocket<"u"&&(Ha=WebSocket);class Bn{constructor(t,n,r,s,i,a,l){this.connId=t,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Wi(this.connId),this.stats_=Mu(n),this.connURL=Bn.connectionURL_(n,a,l,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,s,i){const a={};return a[gv]=Eu,typeof location<"u"&&location.hostname&&bv.test(location.hostname)&&(a[yv]=xv),n&&(a[vv]=n),r&&(a[Cv]=r),s&&(a[yd]=s),i&&(a[wv]=i),_v(t,jv,a)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,is.set("previous_websocket_failure",!0);try{let r;wb(),this.mySock=new Ha(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Bn.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&Ha!==null&&!Bn.forceDisallow_}static previouslyFailed(){return is.isInMemoryStorage||is.get("previous_websocket_failure")===!0}markConnectionHealthy(){is.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=nu(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(ye(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=Yt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=fv(n,H2);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(U2))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Bn.responsesRequiredToBeHealthy=2;Bn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Ws,Bn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=Bn&&Bn.isAvailable();let r=n&&!Bn.previouslyFailed();if(t.webSocketOnly&&(n||Cn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Bn];else{const s=this.transports_=[];for(const i of ji.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);ji.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ji.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2=6e4,Y2=5e3,G2=10*1024,q2=100*1024,Ac="t",kh="d",K2="s",_h="r",Q2="e",Th="o",Eh="a",Mh="n",Ph="p",X2="h";class Z2{constructor(t,n,r,s,i,a,l,c,d,u){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=a,this.onReady_=l,this.onDisconnect_=c,this.onKill_=d,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Wi("c:"+this.id+":"),this.transportManager_=new ji(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=t.healthyTimeout||0;s>0&&(this.healthyTimeout_=ai(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>q2?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>G2?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Ac in t){const n=t[Ac];n===Eh?this.upgradeIfSecondaryHealthy_():n===_h?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Th&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=Wo("t",t),r=Wo("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Ph,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Eh,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Mh,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=Wo("t",t),r=Wo("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=Wo(Ac,t);if(kh in t){const r=t[kh];if(n===X2){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===Mh){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===K2?this.onConnectionShutdown_(r):n===_h?this.onReset_(r):n===Q2?vd("Server Error: "+r):n===Th?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):vd("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,s=t.h;this.sessionId=t.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Eu!==r&&Cn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ai(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(V2))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ai(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Y2))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Ph,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(is.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{put(t,n,r,s){}merge(t,n,r,s){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(t){this.allowedEvents_=t,this.listeners_={},ye(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const s=this.getInitialEvent(t);s&&n.apply(r,s)}off(t,n,r){this.validateEventType_(t);const s=this.listeners_[t]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(t){ye(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua extends Rv{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Gm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ua}getInitialEvent(t){return ye(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=32,Ih=768;class yt{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function ut(){return new yt("")}function Ve(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Vr(e){return e.pieces_.length-e.pieceNum_}function gt(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new yt(e.pieces_,t)}function Dv(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function J2(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function Av(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function $v(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new yt(t,0)}function zt(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof yt)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new yt(n,0)}function We(e){return e.pieceNum_>=e.pieces_.length}function Pn(e,t){const n=Ve(e),r=Ve(t);if(n===null)return t;if(n===r)return Pn(gt(e),gt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Ov(e,t){if(Vr(e)!==Vr(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Wn(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Vr(e)>Vr(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class ej{constructor(t,n){this.errorPrefix_=n,this.parts_=Av(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=fl(this.parts_[r]);Lv(this)}}function tj(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=fl(t),Lv(e)}function nj(e){const t=e.parts_.pop();e.byteLength_-=fl(t),e.parts_.length>0&&(e.byteLength_-=1)}function Lv(e){if(e.byteLength_>Ih)throw new Error(e.errorPrefix_+"has a key path longer than "+Ih+" bytes ("+e.byteLength_+").");if(e.parts_.length>Nh)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Nh+") or object contains a cycle "+ts(e))}function ts(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu extends Rv{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Nu}getInitialEvent(t){return ye(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=1e3,rj=60*5*1e3,Rh=30*1e3,sj=1.3,oj=3e4,ij="server_kill",Dh=3;class xr extends Iv{constructor(t,n,r,s,i,a,l,c){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=xr.nextPersistentConnectionId_++,this.log_=Wi("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ho,this.maxReconnectDelay_=rj,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Nu.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Ua.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const s=++this.requestNumber_,i={r:s,a:t,b:n};this.log_(Yt(i)),ye(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(t){this.initConnection_();const n=new Ym,s={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{const l=a.d;a.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(t,n,r,s){this.initConnection_();const i=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),ye(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ye(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:n,query:t,tag:r};this.listens.get(a).set(i,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},a="q";t.tag&&(i.q=n._queryObject,i.t=t.tag),i.h=t.hashFn(),this.sendRequest(a,i,l=>{const c=l.d,d=l.s;xr.warnOnListenWarnings_(c,n),(this.listens.get(r)&&this.listens.get(r).get(s))===t&&(this.log_("listen response",l),d!=="ok"&&this.removeListen_(r,s),t.onComplete&&t.onComplete(d,c))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&Pr(t,"w")){const r=to(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();Cn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||vb(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Rh)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=yb(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,a=s.d||"error";this.authToken_===t&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),ye(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,t._queryObject,n)}sendUnlisten_(t,n,r,s){this.log_("Unlisten on "+t+" for "+n);const i={p:t},a="n";s&&(i.q=r,i.t=s),this.sendRequest(a,i)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(t,n,r,s){this.putInternal("p",t,n,r,s)}merge(t,n,r,s){this.putInternal("m",t,n,r,s)}putInternal(t,n,r,s,i){this.initConnection_();const a={p:n,d:r};i!==void 0&&(a.h=i),this.outstandingPuts_.push({action:t,request:a,onComplete:s}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Yt(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):vd("Unrecognized action received from server: "+Yt(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){ye(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ho,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Ho,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>oj&&(this.reconnectDelay_=Ho),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*sj)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+xr.nextConnectionId_++,i=this.lastSessionId;let a=!1,l=null;const c=function(){l?l.close():(a=!0,r())},d=function(p){ye(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(p)};this.realtime_={close:c,sendRequest:d};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[p,h]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);a?qt("getToken() completed but was canceled"):(qt("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=h&&h.token,l=new Z2(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,g=>{Cn(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(ij)},i))}catch(p){this.log_("Failed to get token: "+p),a||(this.repoInfo_.nodeAdmin&&Cn(p),c())}}}interrupt(t){qt("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){qt("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Dp(this.interruptReasons_)&&(this.reconnectDelay_=Ho,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(i=>Tu(i)).join("$"):r="default";const s=this.removeListen_(t,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,n){const r=new yt(t).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(t,n){qt("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Dh&&(this.reconnectDelay_=Rh,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){qt("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Dh&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+dv.replace(/\./g,"-")]=1,Gm()?t["framework.cordova"]=1:xb()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Ua.getInstance().currentlyOnline();return Dp(this.interruptReasons_)&&t}}xr.nextPersistentConnectionId_=0;xr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new Ke(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new Ke(ao,t),s=new Ke(ao,n);return this.compare(r,s)!==0}minPost(){return Ke.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ia;class Fv extends Kl{static get __EMPTY_NODE(){return ia}static set __EMPTY_NODE(t){ia=t}compare(t,n){return Eo(t.name,n.name)}isDefinedOn(t){throw Ii("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return Ke.MIN}maxPost(){return new Ke(ms,ia)}makePost(t,n){return ye(typeof t=="string","KeyIndex indexValue must always be a string."),new Ke(t,ia)}toString(){return".key"}}const qs=new Fv;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(t,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let a=1;for(;!t.isEmpty();)if(t=t,a=n?r(t.key,n):1,s&&(a*=-1),a<0)this.isReverse_?t=t.left:t=t.right;else if(a===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Lt{constructor(t,n,r,s,i){this.key=t,this.value=n,this.color=r??Lt.RED,this.left=s??ln.EMPTY_NODE,this.right=i??ln.EMPTY_NODE}copy(t,n,r,s,i){return new Lt(t??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let s=this;const i=r(t,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(t,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(t,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return ln.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,s;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return ln.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Lt.RED=!0;Lt.BLACK=!1;class aj{copy(t,n,r,s,i){return this}insert(t,n,r){return new Lt(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ln{constructor(t,n=ln.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new ln(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Lt.BLACK,null,null))}remove(t){return new ln(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Lt.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new aa(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new aa(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new aa(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new aa(this.root_,null,this.comparator_,!0,t)}}ln.EMPTY_NODE=new aj;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(e,t){return Eo(e.name,t.name)}function Iu(e,t){return Eo(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xd;function cj(e){xd=e}const zv=function(e){return typeof e=="number"?"number:"+mv(e):"string:"+e},Bv=function(e){if(e.isLeafNode()){const t=e.val();ye(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Pr(t,".sv"),"Priority must be a string or number.")}else ye(e===xd||e.isEmpty(),"priority of unexpected type.");ye(e===xd||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ah;class Ot{constructor(t,n=Ot.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,ye(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Bv(this.priorityNode_)}static set __childrenNodeConstructor(t){Ah=t}static get __childrenNodeConstructor(){return Ah}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Ot(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Ot.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return We(t)?this:Ve(t)===".priority"?this.priorityNode_:Ot.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:Ot.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=Ve(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ye(r!==".priority"||Vr(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Ot.__childrenNodeConstructor.EMPTY_NODE.updateChild(gt(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+zv(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=mv(this.value_):t+=this.value_,this.lazyHash_=pv(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Ot.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Ot.__childrenNodeConstructor?-1:(ye(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,s=Ot.VALUE_TYPE_ORDER.indexOf(n),i=Ot.VALUE_TYPE_ORDER.indexOf(r);return ye(s>=0,"Unknown leaf type: "+n),ye(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ot.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wv,Hv;function dj(e){Wv=e}function uj(e){Hv=e}class pj extends Kl{compare(t,n){const r=t.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?Eo(t.name,n.name):i}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return Ke.MIN}maxPost(){return new Ke(ms,new Ot("[PRIORITY-POST]",Hv))}makePost(t,n){const r=Wv(t);return new Ke(n,new Ot("[PRIORITY-POST]",r))}toString(){return".priority"}}const Qt=new pj;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj=Math.log(2);class fj{constructor(t){const n=i=>parseInt(Math.log(i)/hj,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const s=r(this.count);this.bits_=t+1&s}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Va=function(e,t,n,r){e.sort(t);const s=function(c,d){const u=d-c;let p,h;if(u===0)return null;if(u===1)return p=e[c],h=n?n(p):p,new Lt(h,p.node,Lt.BLACK,null,null);{const g=parseInt(u/2,10)+c,v=s(c,g),m=s(g+1,d);return p=e[g],h=n?n(p):p,new Lt(h,p.node,Lt.BLACK,v,m)}},i=function(c){let d=null,u=null,p=e.length;const h=function(v,m){const y=p-v,x=p;p-=v;const w=s(y+1,x),C=e[y],k=n?n(C):C;g(new Lt(k,C.node,m,null,w))},g=function(v){d?(d.left=v,d=v):(u=v,d=v)};for(let v=0;v<c.count;++v){const m=c.nextBitIsOne(),y=Math.pow(2,c.count-(v+1));m?h(y,Lt.BLACK):(h(y,Lt.BLACK),h(y,Lt.RED))}return u},a=new fj(e.length),l=i(a);return new ln(r||t,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $c;const As={};class vr{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return ye(As&&Qt,"ChildrenNode.ts has not been loaded"),$c=$c||new vr({".priority":As},{".priority":Qt}),$c}get(t){const n=to(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof ln?n:null}hasIndex(t){return Pr(this.indexSet_,t.toString())}addIndex(t,n){ye(t!==qs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(Ke.Wrap);let a=i.getNext();for(;a;)s=s||t.isDefinedOn(a.node),r.push(a),a=i.getNext();let l;s?l=Va(r,t.getCompare()):l=As;const c=t.toString(),d=Object.assign({},this.indexSet_);d[c]=t;const u=Object.assign({},this.indexes_);return u[c]=l,new vr(u,d)}addToIndexes(t,n){const r=$a(this.indexes_,(s,i)=>{const a=to(this.indexSet_,i);if(ye(a,"Missing index implementation for "+i),s===As)if(a.isDefinedOn(t.node)){const l=[],c=n.getIterator(Ke.Wrap);let d=c.getNext();for(;d;)d.name!==t.name&&l.push(d),d=c.getNext();return l.push(t),Va(l,a.getCompare())}else return As;else{const l=n.get(t.name);let c=s;return l&&(c=c.remove(new Ke(t.name,l))),c.insert(t,t.node)}});return new vr(r,this.indexSet_)}removeFromIndexes(t,n){const r=$a(this.indexes_,s=>{if(s===As)return s;{const i=n.get(t.name);return i?s.remove(new Ke(t.name,i)):s}});return new vr(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uo;class at{constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Bv(this.priorityNode_),this.children_.isEmpty()&&ye(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Uo||(Uo=new at(new ln(Iu),null,vr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Uo}updatePriority(t){return this.children_.isEmpty()?this:new at(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?Uo:n}}getChild(t){const n=Ve(t);return n===null?this:this.getImmediateChild(n).getChild(gt(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(ye(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new Ke(t,n);let s,i;n.isEmpty()?(s=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(r,this.children_));const a=s.isEmpty()?Uo:this.priorityNode_;return new at(s,a,i)}}updateChild(t,n){const r=Ve(t);if(r===null)return n;{ye(Ve(t)!==".priority"||Vr(t)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(gt(t),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(Qt,(a,l)=>{n[a]=l.val(t),r++,i&&at.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):i=!1}),!t&&i&&s<2*r){const a=[];for(const l in n)a[l]=n[l];return a}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+zv(this.getPriority().val())+":"),this.forEachChild(Qt,(n,r)=>{const s=r.hash();s!==""&&(t+=":"+n+":"+s)}),this.lazyHash_=t===""?"":pv(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new Ke(t,n));return i?i.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new Ke(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new Ke(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,Ke.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,t)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,Ke.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,t)>0;)s.getNext(),i=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Ui?-1:0}withIndex(t){if(t===qs||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new at(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===qs||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Qt),s=n.getIterator(Qt);let i=r.getNext(),a=s.getNext();for(;i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=r.getNext(),a=s.getNext()}return i===null&&a===null}else return!1;else return!1}}resolveIndex_(t){return t===qs?null:this.indexMap_.get(t.toString())}}at.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class mj extends at{constructor(){super(new ln(Iu),at.EMPTY_NODE,vr.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return at.EMPTY_NODE}isEmpty(){return!1}}const Ui=new mj;Object.defineProperties(Ke,{MIN:{value:new Ke(ao,at.EMPTY_NODE)},MAX:{value:new Ke(ms,Ui)}});Fv.__EMPTY_NODE=at.EMPTY_NODE;Ot.__childrenNodeConstructor=at;cj(Ui);uj(Ui);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj=!0;function Kt(e,t=null){if(e===null)return at.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),ye(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new Ot(n,Kt(t))}if(!(e instanceof Array)&&gj){const n=[];let r=!1;if(Rn(e,(a,l)=>{if(a.substring(0,1)!=="."){const c=Kt(l);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new Ke(a,c)))}}),n.length===0)return at.EMPTY_NODE;const i=Va(n,lj,a=>a.name,Iu);if(r){const a=Va(n,Qt.getCompare());return new at(i,Kt(t),new vr({".priority":a},{".priority":Qt}))}else return new at(i,Kt(t),vr.Default)}else{let n=at.EMPTY_NODE;return Rn(e,(r,s)=>{if(Pr(e,r)&&r.substring(0,1)!=="."){const i=Kt(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(Kt(t))}}dj(Kt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj extends Kl{constructor(t){super(),this.indexPath_=t,ye(!We(t)&&Ve(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?Eo(t.name,n.name):i}makePost(t,n){const r=Kt(t),s=at.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ke(n,s)}maxPost(){const t=at.EMPTY_NODE.updateChild(this.indexPath_,Ui);return new Ke(ms,t)}toString(){return Av(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj extends Kl{compare(t,n){const r=t.node.compareTo(n.node);return r===0?Eo(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return Ke.MIN}maxPost(){return Ke.MAX}makePost(t,n){const r=Kt(t);return new Ke(n,r)}toString(){return".value"}}const xj=new yj;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bj(e){return{type:"value",snapshotNode:e}}function Cj(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function wj(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function $h(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function jj(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Qt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ye(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ye(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ao}hasEnd(){return this.endSet_}getIndexEndValue(){return ye(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ye(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ms}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ye(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Qt}copy(){const t=new Ru;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Oh(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Qt?n="$priority":e.index_===xj?n="$value":e.index_===qs?n="$key":(ye(e.index_ instanceof vj,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Yt(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=Yt(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+Yt(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=Yt(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+Yt(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Lh(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==Qt&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya extends Iv{constructor(t,n,r,s){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=Wi("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(ye(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,s){const i=t._path.toString();this.log_("Listen called for "+i+" "+t._queryIdentifier);const a=Ya.getListenId_(t,r),l={};this.listens_[a]=l;const c=Oh(t._queryParams);this.restRequest_(i+".json",c,(d,u)=>{let p=u;if(d===404&&(p=null,d=null),d===null&&this.onDataUpdate_(i,p,!1,r),to(this.listens_,a)===l){let h;d?d===401?h="permission_denied":h="rest_error:"+d:h="ok",s(h,null)}})}unlisten(t,n){const r=Ya.getListenId_(t,n);delete this.listens_[r]}get(t){const n=Oh(t._queryParams),r=t._path.toString(),s=new Ym;return this.restRequest_(r+".json",n,(i,a)=>{let l=a;i===404&&(l=null,i=null),i===null?(this.onDataUpdate_(r,l,!1,null),s.resolve(l)):s.reject(new Error(l))}),s.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+gb(n);this.log_("Sending REST request for "+a);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+a+" received. status:",l.status,"response:",l.responseText);let c=null;if(l.status>=200&&l.status<300){try{c=nu(l.responseText)}catch{Cn("Failed to parse JSON response for "+a+": "+l.responseText)}r(null,c)}else l.status!==401&&l.status!==404&&Cn("Got unsuccessful REST response for "+a+" Status: "+l.status),r(l.status);r=null}},l.open("GET",a,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(){this.rootNode_=at.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ga(){return{value:null,children:new Map}}function Uv(e,t,n){if(We(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const r=Ve(t);e.children.has(r)||e.children.set(r,Ga());const s=e.children.get(r);t=gt(t),Uv(s,t,n)}}function bd(e,t,n){e.value!==null?n(t,e.value):kj(e,(r,s)=>{const i=new yt(t.toString()+"/"+r);bd(s,i,n)})}function kj(e,t){e.children.forEach((n,r)=>{t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&Rn(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh=10*1e3,Tj=30*1e3,Ej=5*60*1e3;class Mj{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new _j(t);const r=Fh+(Tj-Fh)*Math.random();ai(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;Rn(t,(s,i)=>{i>0&&Pr(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),ai(this.reportStats_.bind(this),Math.floor(Math.random()*2*Ej))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jn;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Jn||(Jn={}));function Vv(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Yv(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Gv(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Jn.ACK_USER_WRITE,this.source=Vv()}operationForChild(t){if(We(this.path)){if(this.affectedTree.value!=null)return ye(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new yt(t));return new qa(ut(),n,this.revert)}}else return ye(Ve(this.path)===t,"operationForChild called for unrelated child."),new qa(gt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Jn.OVERWRITE}operationForChild(t){return We(this.path)?new gs(this.source,ut(),this.snap.getImmediateChild(t)):new gs(this.source,gt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Jn.MERGE}operationForChild(t){if(We(this.path)){const n=this.children.subtree(new yt(t));return n.isEmpty()?null:n.value?new gs(this.source,ut(),n.value):new Si(this.source,ut(),n)}else return ye(Ve(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Si(this.source,gt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(We(t))return this.isFullyInitialized()&&!this.filtered_;const n=Ve(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}function Pj(e,t,n,r){const s=[],i=[];return t.forEach(a=>{a.type==="child_changed"&&e.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&i.push(jj(a.childName,a.snapshotNode))}),Vo(e,s,"child_removed",t,r,n),Vo(e,s,"child_added",t,r,n),Vo(e,s,"child_moved",i,r,n),Vo(e,s,"child_changed",t,r,n),Vo(e,s,"value",t,r,n),s}function Vo(e,t,n,r,s,i){const a=r.filter(l=>l.type===n);a.sort((l,c)=>Ij(e,l,c)),a.forEach(l=>{const c=Nj(e,l,i);s.forEach(d=>{d.respondsTo(l.type)&&t.push(d.createEvent(c,e.query_))})})}function Nj(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function Ij(e,t,n){if(t.childName==null||n.childName==null)throw Ii("Should only compare child_ events.");const r=new Ke(t.childName,t.snapshotNode),s=new Ke(n.childName,n.snapshotNode);return e.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(e,t){return{eventCache:e,serverCache:t}}function li(e,t,n,r){return qv(new Du(t,n,r),e.serverCache)}function Kv(e,t,n,r){return qv(e.eventCache,new Du(t,n,r))}function Cd(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function vs(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oc;const Rj=()=>(Oc||(Oc=new ln(x2)),Oc);class mt{constructor(t,n=Rj()){this.value=t,this.children=n}static fromObject(t){let n=new mt(null);return Rn(t,(r,s)=>{n=n.set(new yt(r),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:ut(),value:this.value};if(We(t))return null;{const r=Ve(t),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(gt(t),n);return i!=null?{path:zt(new yt(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(We(t))return this;{const n=Ve(t),r=this.children.get(n);return r!==null?r.subtree(gt(t)):new mt(null)}}set(t,n){if(We(t))return new mt(n,this.children);{const r=Ve(t),i=(this.children.get(r)||new mt(null)).set(gt(t),n),a=this.children.insert(r,i);return new mt(this.value,a)}}remove(t){if(We(t))return this.children.isEmpty()?new mt(null):new mt(null,this.children);{const n=Ve(t),r=this.children.get(n);if(r){const s=r.remove(gt(t));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new mt(null):new mt(this.value,i)}else return this}}get(t){if(We(t))return this.value;{const n=Ve(t),r=this.children.get(n);return r?r.get(gt(t)):null}}setTree(t,n){if(We(t))return n;{const r=Ve(t),i=(this.children.get(r)||new mt(null)).setTree(gt(t),n);let a;return i.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,i),new mt(this.value,a)}}fold(t){return this.fold_(ut(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(zt(t,s),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,ut(),n)}findOnPath_(t,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(We(t))return null;{const i=Ve(t),a=this.children.get(i);return a?a.findOnPath_(gt(t),zt(n,i),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,ut(),n)}foreachOnPath_(t,n,r){if(We(t))return this;{this.value&&r(n,this.value);const s=Ve(t),i=this.children.get(s);return i?i.foreachOnPath_(gt(t),zt(n,s),r):new mt(null)}}foreach(t){this.foreach_(ut(),t)}foreach_(t,n){this.children.inorderTraversal((r,s)=>{s.foreach_(zt(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(t){this.writeTree_=t}static empty(){return new Un(new mt(null))}}function ci(e,t,n){if(We(t))return new Un(new mt(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const s=r.path;let i=r.value;const a=Pn(s,t);return i=i.updateChild(a,n),new Un(e.writeTree_.set(s,i))}else{const s=new mt(n),i=e.writeTree_.setTree(t,s);return new Un(i)}}}function zh(e,t,n){let r=e;return Rn(n,(s,i)=>{r=ci(r,zt(t,s),i)}),r}function Bh(e,t){if(We(t))return Un.empty();{const n=e.writeTree_.setTree(t,new mt(null));return new Un(n)}}function wd(e,t){return _s(e,t)!=null}function _s(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Pn(n.path,t)):null}function Wh(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Qt,(r,s)=>{t.push(new Ke(r,s))}):e.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&t.push(new Ke(r,s.value))}),t}function Wr(e,t){if(We(t))return e;{const n=_s(e,t);return n!=null?new Un(new mt(n)):new Un(e.writeTree_.subtree(t))}}function jd(e){return e.writeTree_.isEmpty()}function lo(e,t){return Qv(ut(),e.writeTree_,t)}function Qv(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((s,i)=>{s===".priority"?(ye(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=Qv(zt(e,s),i,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(zt(e,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(e,t){return ny(t,e)}function Dj(e,t,n,r,s){ye(r>e.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:s}),s&&(e.visibleWrites=ci(e.visibleWrites,t,n)),e.lastWriteId=r}function Aj(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function $j(e,t){const n=e.allWrites.findIndex(l=>l.writeId===t);ye(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let s=r.visible,i=!1,a=e.allWrites.length-1;for(;s&&a>=0;){const l=e.allWrites[a];l.visible&&(a>=n&&Oj(l,r.path)?s=!1:Wn(r.path,l.path)&&(i=!0)),a--}if(s){if(i)return Lj(e),!0;if(r.snap)e.visibleWrites=Bh(e.visibleWrites,r.path);else{const l=r.children;Rn(l,c=>{e.visibleWrites=Bh(e.visibleWrites,zt(r.path,c))})}return!0}else return!1}function Oj(e,t){if(e.snap)return Wn(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Wn(zt(e.path,n),t))return!0;return!1}function Lj(e){e.visibleWrites=Zv(e.allWrites,Fj,ut()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function Fj(e){return e.visible}function Zv(e,t,n){let r=Un.empty();for(let s=0;s<e.length;++s){const i=e[s];if(t(i)){const a=i.path;let l;if(i.snap)Wn(n,a)?(l=Pn(n,a),r=ci(r,l,i.snap)):Wn(a,n)&&(l=Pn(a,n),r=ci(r,ut(),i.snap.getChild(l)));else if(i.children){if(Wn(n,a))l=Pn(n,a),r=zh(r,l,i.children);else if(Wn(a,n))if(l=Pn(a,n),We(l))r=zh(r,ut(),i.children);else{const c=to(i.children,Ve(l));if(c){const d=c.getChild(gt(l));r=ci(r,ut(),d)}}}else throw Ii("WriteRecord should have .snap or .children")}}return r}function Jv(e,t,n,r,s){if(!r&&!s){const i=_s(e.visibleWrites,t);if(i!=null)return i;{const a=Wr(e.visibleWrites,t);if(jd(a))return n;if(n==null&&!wd(a,ut()))return null;{const l=n||at.EMPTY_NODE;return lo(a,l)}}}else{const i=Wr(e.visibleWrites,t);if(!s&&jd(i))return n;if(!s&&n==null&&!wd(i,ut()))return null;{const a=function(d){return(d.visible||s)&&(!r||!~r.indexOf(d.writeId))&&(Wn(d.path,t)||Wn(t,d.path))},l=Zv(e.allWrites,a,t),c=n||at.EMPTY_NODE;return lo(l,c)}}}function zj(e,t,n){let r=at.EMPTY_NODE;const s=_s(e.visibleWrites,t);if(s)return s.isLeafNode()||s.forEachChild(Qt,(i,a)=>{r=r.updateImmediateChild(i,a)}),r;if(n){const i=Wr(e.visibleWrites,t);return n.forEachChild(Qt,(a,l)=>{const c=lo(Wr(i,new yt(a)),l);r=r.updateImmediateChild(a,c)}),Wh(i).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}else{const i=Wr(e.visibleWrites,t);return Wh(i).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}}function Bj(e,t,n,r,s){ye(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=zt(t,n);if(wd(e.visibleWrites,i))return null;{const a=Wr(e.visibleWrites,i);return jd(a)?s.getChild(n):lo(a,s.getChild(n))}}function Wj(e,t,n,r){const s=zt(t,n),i=_s(e.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const a=Wr(e.visibleWrites,s);return lo(a,r.getNode().getImmediateChild(n))}else return null}function Hj(e,t){return _s(e.visibleWrites,t)}function Uj(e,t,n,r,s,i,a){let l;const c=Wr(e.visibleWrites,t),d=_s(c,ut());if(d!=null)l=d;else if(n!=null)l=lo(c,n);else return[];if(l=l.withIndex(a),!l.isEmpty()&&!l.isLeafNode()){const u=[],p=a.getCompare(),h=i?l.getReverseIteratorFrom(r,a):l.getIteratorFrom(r,a);let g=h.getNext();for(;g&&u.length<s;)p(g,r)!==0&&u.push(g),g=h.getNext();return u}else return[]}function Vj(){return{visibleWrites:Un.empty(),allWrites:[],lastWriteId:-1}}function Sd(e,t,n,r){return Jv(e.writeTree,e.treePath,t,n,r)}function ey(e,t){return zj(e.writeTree,e.treePath,t)}function Hh(e,t,n,r){return Bj(e.writeTree,e.treePath,t,n,r)}function Ka(e,t){return Hj(e.writeTree,zt(e.treePath,t))}function Yj(e,t,n,r,s,i){return Uj(e.writeTree,e.treePath,t,n,r,s,i)}function Au(e,t,n){return Wj(e.writeTree,e.treePath,t,n)}function ty(e,t){return ny(zt(e.treePath,t),e.writeTree)}function ny(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;ye(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ye(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,$h(r,t.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,wj(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,Cj(r,t.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,$h(r,t.snapshotNode,s.oldSnap));else throw Ii("Illegal combination of changes: "+t+" occurred after "+s)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const ry=new qj;class $u{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new Du(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Au(this.writes_,t,r)}}getChildAfterChild(t,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:vs(this.viewCache_),i=Yj(this.writes_,s,n,1,r,t);return i.length===0?null:i[0]}}function Kj(e,t){ye(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),ye(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function Qj(e,t,n,r,s){const i=new Gj;let a,l;if(n.type===Jn.OVERWRITE){const d=n;d.source.fromUser?a=kd(e,t,d.path,d.snap,r,s,i):(ye(d.source.fromServer,"Unknown source."),l=d.source.tagged||t.serverCache.isFiltered()&&!We(d.path),a=Qa(e,t,d.path,d.snap,r,s,l,i))}else if(n.type===Jn.MERGE){const d=n;d.source.fromUser?a=Zj(e,t,d.path,d.children,r,s,i):(ye(d.source.fromServer,"Unknown source."),l=d.source.tagged||t.serverCache.isFiltered(),a=_d(e,t,d.path,d.children,r,s,l,i))}else if(n.type===Jn.ACK_USER_WRITE){const d=n;d.revert?a=tS(e,t,d.path,r,s,i):a=Jj(e,t,d.path,d.affectedTree,r,s,i)}else if(n.type===Jn.LISTEN_COMPLETE)a=eS(e,t,n.path,r,i);else throw Ii("Unknown operation type: "+n.type);const c=i.getChanges();return Xj(t,a,c),{viewCache:a,changes:c}}function Xj(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=Cd(e);(n.length>0||!e.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(bj(Cd(t)))}}function sy(e,t,n,r,s,i){const a=t.eventCache;if(Ka(r,n)!=null)return t;{let l,c;if(We(n))if(ye(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const d=vs(t),u=d instanceof at?d:at.EMPTY_NODE,p=ey(r,u);l=e.filter.updateFullNode(t.eventCache.getNode(),p,i)}else{const d=Sd(r,vs(t));l=e.filter.updateFullNode(t.eventCache.getNode(),d,i)}else{const d=Ve(n);if(d===".priority"){ye(Vr(n)===1,"Can't have a priority with additional path components");const u=a.getNode();c=t.serverCache.getNode();const p=Hh(r,n,u,c);p!=null?l=e.filter.updatePriority(u,p):l=a.getNode()}else{const u=gt(n);let p;if(a.isCompleteForChild(d)){c=t.serverCache.getNode();const h=Hh(r,n,a.getNode(),c);h!=null?p=a.getNode().getImmediateChild(d).updateChild(u,h):p=a.getNode().getImmediateChild(d)}else p=Au(r,d,t.serverCache);p!=null?l=e.filter.updateChild(a.getNode(),d,p,u,s,i):l=a.getNode()}}return li(t,l,a.isFullyInitialized()||We(n),e.filter.filtersNodes())}}function Qa(e,t,n,r,s,i,a,l){const c=t.serverCache;let d;const u=a?e.filter:e.filter.getIndexedFilter();if(We(n))d=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){const g=c.getNode().updateChild(n,r);d=u.updateFullNode(c.getNode(),g,null)}else{const g=Ve(n);if(!c.isCompleteForPath(n)&&Vr(n)>1)return t;const v=gt(n),y=c.getNode().getImmediateChild(g).updateChild(v,r);g===".priority"?d=u.updatePriority(c.getNode(),y):d=u.updateChild(c.getNode(),g,y,v,ry,null)}const p=Kv(t,d,c.isFullyInitialized()||We(n),u.filtersNodes()),h=new $u(s,p,i);return sy(e,p,n,s,h,l)}function kd(e,t,n,r,s,i,a){const l=t.eventCache;let c,d;const u=new $u(s,t,i);if(We(n))d=e.filter.updateFullNode(t.eventCache.getNode(),r,a),c=li(t,d,!0,e.filter.filtersNodes());else{const p=Ve(n);if(p===".priority")d=e.filter.updatePriority(t.eventCache.getNode(),r),c=li(t,d,l.isFullyInitialized(),l.isFiltered());else{const h=gt(n),g=l.getNode().getImmediateChild(p);let v;if(We(h))v=r;else{const m=u.getCompleteChild(p);m!=null?Dv(h)===".priority"&&m.getChild($v(h)).isEmpty()?v=m:v=m.updateChild(h,r):v=at.EMPTY_NODE}if(g.equals(v))c=t;else{const m=e.filter.updateChild(l.getNode(),p,v,h,u,a);c=li(t,m,l.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function Uh(e,t){return e.eventCache.isCompleteForChild(t)}function Zj(e,t,n,r,s,i,a){let l=t;return r.foreach((c,d)=>{const u=zt(n,c);Uh(t,Ve(u))&&(l=kd(e,l,u,d,s,i,a))}),r.foreach((c,d)=>{const u=zt(n,c);Uh(t,Ve(u))||(l=kd(e,l,u,d,s,i,a))}),l}function Vh(e,t,n){return n.foreach((r,s)=>{t=t.updateChild(r,s)}),t}function _d(e,t,n,r,s,i,a,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c=t,d;We(n)?d=r:d=new mt(null).setTree(n,r);const u=t.serverCache.getNode();return d.children.inorderTraversal((p,h)=>{if(u.hasChild(p)){const g=t.serverCache.getNode().getImmediateChild(p),v=Vh(e,g,h);c=Qa(e,c,new yt(p),v,s,i,a,l)}}),d.children.inorderTraversal((p,h)=>{const g=!t.serverCache.isCompleteForChild(p)&&h.value===null;if(!u.hasChild(p)&&!g){const v=t.serverCache.getNode().getImmediateChild(p),m=Vh(e,v,h);c=Qa(e,c,new yt(p),m,s,i,a,l)}}),c}function Jj(e,t,n,r,s,i,a){if(Ka(s,n)!=null)return t;const l=t.serverCache.isFiltered(),c=t.serverCache;if(r.value!=null){if(We(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Qa(e,t,n,c.getNode().getChild(n),s,i,l,a);if(We(n)){let d=new mt(null);return c.getNode().forEachChild(qs,(u,p)=>{d=d.set(new yt(u),p)}),_d(e,t,n,d,s,i,l,a)}else return t}else{let d=new mt(null);return r.foreach((u,p)=>{const h=zt(n,u);c.isCompleteForPath(h)&&(d=d.set(u,c.getNode().getChild(h)))}),_d(e,t,n,d,s,i,l,a)}}function eS(e,t,n,r,s){const i=t.serverCache,a=Kv(t,i.getNode(),i.isFullyInitialized()||We(n),i.isFiltered());return sy(e,a,n,r,ry,s)}function tS(e,t,n,r,s,i){let a;if(Ka(r,n)!=null)return t;{const l=new $u(r,t,s),c=t.eventCache.getNode();let d;if(We(n)||Ve(n)===".priority"){let u;if(t.serverCache.isFullyInitialized())u=Sd(r,vs(t));else{const p=t.serverCache.getNode();ye(p instanceof at,"serverChildren would be complete if leaf node"),u=ey(r,p)}u=u,d=e.filter.updateFullNode(c,u,i)}else{const u=Ve(n);let p=Au(r,u,t.serverCache);p==null&&t.serverCache.isCompleteForChild(u)&&(p=c.getImmediateChild(u)),p!=null?d=e.filter.updateChild(c,u,p,gt(n),l,i):t.eventCache.getNode().hasChild(u)?d=e.filter.updateChild(c,u,at.EMPTY_NODE,gt(n),l,i):d=c,d.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=Sd(r,vs(t)),a.isLeafNode()&&(d=e.filter.updateFullNode(d,a,i)))}return a=t.serverCache.isFullyInitialized()||Ka(r,ut())!=null,li(t,d,a,e.filter.filtersNodes())}}function nS(e,t){const n=vs(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!We(t)&&!n.getImmediateChild(Ve(t)).isEmpty())?n.getChild(t):null}function Yh(e,t,n,r){t.type===Jn.MERGE&&t.source.queryId!==null&&(ye(vs(e.viewCache_),"We should always have a full cache before handling merges"),ye(Cd(e.viewCache_),"Missing event cache, even though we have a server cache"));const s=e.viewCache_,i=Qj(e.processor_,s,t,n,r);return Kj(e.processor_,i.viewCache),ye(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=i.viewCache,rS(e,i.changes,i.viewCache.eventCache.getNode())}function rS(e,t,n,r){const s=e.eventRegistrations_;return Pj(e.eventGenerator_,t,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gh;function sS(e){ye(!Gh,"__referenceConstructor has already been defined"),Gh=e}function Ou(e,t,n,r){const s=t.source.queryId;if(s!==null){const i=e.views.get(s);return ye(i!=null,"SyncTree gave us an op for an invalid query."),Yh(i,t,n,r)}else{let i=[];for(const a of e.views.values())i=i.concat(Yh(a,t,n,r));return i}}function Lu(e,t){let n=null;for(const r of e.views.values())n=n||nS(r,t);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qh;function oS(e){ye(!qh,"__referenceConstructor has already been defined"),qh=e}class Kh{constructor(t){this.listenProvider_=t,this.syncPointTree_=new mt(null),this.pendingWriteTree_=Vj(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function iS(e,t,n,r,s){return Dj(e.pendingWriteTree_,t,n,r,s),s?Xl(e,new gs(Vv(),t,n)):[]}function Hs(e,t,n=!1){const r=Aj(e.pendingWriteTree_,t);if($j(e.pendingWriteTree_,t)){let i=new mt(null);return r.snap!=null?i=i.set(ut(),!0):Rn(r.children,a=>{i=i.set(new yt(a),!0)}),Xl(e,new qa(r.path,i,n))}else return[]}function Ql(e,t,n){return Xl(e,new gs(Yv(),t,n))}function aS(e,t,n){const r=mt.fromObject(n);return Xl(e,new Si(Yv(),t,r))}function lS(e,t,n,r){const s=ly(e,r);if(s!=null){const i=cy(s),a=i.path,l=i.queryId,c=Pn(a,t),d=new gs(Gv(l),c,n);return dy(e,a,d)}else return[]}function cS(e,t,n,r){const s=ly(e,r);if(s){const i=cy(s),a=i.path,l=i.queryId,c=Pn(a,t),d=mt.fromObject(n),u=new Si(Gv(l),c,d);return dy(e,a,u)}else return[]}function oy(e,t,n){const s=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(a,l)=>{const c=Pn(a,t),d=Lu(l,c);if(d)return d});return Jv(s,t,i,n,!0)}function Xl(e,t){return iy(t,e.syncPointTree_,null,Xv(e.pendingWriteTree_,ut()))}function iy(e,t,n,r){if(We(e.path))return ay(e,t,n,r);{const s=t.get(ut());n==null&&s!=null&&(n=Lu(s,ut()));let i=[];const a=Ve(e.path),l=e.operationForChild(a),c=t.children.get(a);if(c&&l){const d=n?n.getImmediateChild(a):null,u=ty(r,a);i=i.concat(iy(l,c,d,u))}return s&&(i=i.concat(Ou(s,e,r,n))),i}}function ay(e,t,n,r){const s=t.get(ut());n==null&&s!=null&&(n=Lu(s,ut()));let i=[];return t.children.inorderTraversal((a,l)=>{const c=n?n.getImmediateChild(a):null,d=ty(r,a),u=e.operationForChild(a);u&&(i=i.concat(ay(u,l,c,d)))}),s&&(i=i.concat(Ou(s,e,r,n))),i}function ly(e,t){return e.tagToQueryMap.get(t)}function cy(e){const t=e.indexOf("$");return ye(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new yt(e.substr(0,t))}}function dy(e,t,n){const r=e.syncPointTree_.get(t);ye(r,"Missing sync point for query tag that we're tracking");const s=Xv(e.pendingWriteTree_,t);return Ou(r,n,s,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new Fu(n)}node(){return this.node_}}class zu{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=zt(this.path_,t);return new zu(this.syncTree_,n)}node(){return oy(this.syncTree_,this.path_)}}const dS=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},Qh=function(e,t,n){if(!e||typeof e!="object")return e;if(ye(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return uS(e[".sv"],t,n);if(typeof e[".sv"]=="object")return pS(e[".sv"],t);ye(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},uS=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:ye(!1,"Unexpected server value: "+e)}},pS=function(e,t,n){e.hasOwnProperty("increment")||ye(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&ye(!1,"Unexpected increment value: "+r);const s=t.node();if(ye(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const a=s.getValue();return typeof a!="number"?r:a+r},hS=function(e,t,n,r){return Bu(t,new zu(n,e),r)},fS=function(e,t,n){return Bu(e,new Fu(t),n)};function Bu(e,t,n){const r=e.getPriority().val(),s=Qh(r,t.getImmediateChild(".priority"),n);let i;if(e.isLeafNode()){const a=e,l=Qh(a.getValue(),t,n);return l!==a.getValue()||s!==a.getPriority().val()?new Ot(l,Kt(s)):e}else{const a=e;return i=a,s!==a.getPriority().val()&&(i=i.updatePriority(new Ot(s))),a.forEachChild(Qt,(l,c)=>{const d=Bu(c,t.getImmediateChild(l),n);d!==c&&(i=i.updateImmediateChild(l,d))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function Hu(e,t){let n=t instanceof yt?t:new yt(t),r=e,s=Ve(n);for(;s!==null;){const i=to(r.node.children,s)||{children:{},childCount:0};r=new Wu(s,r,i),n=gt(n),s=Ve(n)}return r}function Mo(e){return e.node.value}function uy(e,t){e.node.value=t,Td(e)}function py(e){return e.node.childCount>0}function mS(e){return Mo(e)===void 0&&!py(e)}function Zl(e,t){Rn(e.node.children,(n,r)=>{t(new Wu(n,e,r))})}function hy(e,t,n,r){n&&t(e),Zl(e,s=>{hy(s,t,!0)})}function gS(e,t,n){let r=e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function Vi(e){return new yt(e.parent===null?e.name:Vi(e.parent)+"/"+e.name)}function Td(e){e.parent!==null&&vS(e.parent,e.name,e)}function vS(e,t,n){const r=mS(n),s=Pr(e.node.children,t);r&&s?(delete e.node.children[t],e.node.childCount--,Td(e)):!r&&!s&&(e.node.children[t]=n.node,e.node.childCount++,Td(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS=/[\[\].#$\/\u0000-\u001F\u007F]/,xS=/[\[\].#$\u0000-\u001F\u007F]/,Lc=10*1024*1024,fy=function(e){return typeof e=="string"&&e.length!==0&&!yS.test(e)},bS=function(e){return typeof e=="string"&&e.length!==0&&!xS.test(e)},CS=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),bS(e)},my=function(e,t,n){const r=n instanceof yt?new ej(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+ts(r));if(typeof t=="function")throw new Error(e+"contains a function "+ts(r)+" with contents = "+t.toString());if(hv(t))throw new Error(e+"contains "+t.toString()+" "+ts(r));if(typeof t=="string"&&t.length>Lc/3&&fl(t)>Lc)throw new Error(e+"contains a string greater than "+Lc+" utf8 bytes "+ts(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let s=!1,i=!1;if(Rn(t,(a,l)=>{if(a===".value")s=!0;else if(a!==".priority"&&a!==".sv"&&(i=!0,!fy(a)))throw new Error(e+" contains an invalid key ("+a+") "+ts(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);tj(r,a),my(e,l,r),nj(r)}),s&&i)throw new Error(e+' contains ".value" child '+ts(r)+" in addition to actual children.")}},wS=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!fy(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!CS(n))throw new Error(fb(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function SS(e,t){let n=null;for(let r=0;r<t.length;r++){const s=t[r],i=s.getPath();n!==null&&!Ov(i,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&e.eventLists_.push(n)}function Ts(e,t,n){SS(e,n),kS(e,r=>Wn(r,t)||Wn(t,r))}function kS(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const s=e.eventLists_[r];if(s){const i=s.path;t(i)?(_S(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function _S(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const r=n.getEventRunner();ii&&qt("event: "+n.toString()),Hi(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS="repo_interrupt",ES=25;class MS{constructor(t,n,r,s){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new jS,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ga(),this.transactionQueueTree_=new Wu,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function PS(e,t,n){if(e.stats_=Mu(e.repoInfo_),e.forceRestClient_||k2())e.server_=new Ya(e.repoInfo_,(r,s,i,a)=>{Xh(e,r,s,i,a)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>Zh(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Yt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new xr(e.repoInfo_,t,(r,s,i,a)=>{Xh(e,r,s,i,a)},r=>{Zh(e,r)},r=>{IS(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=P2(e.repoInfo_,()=>new Mj(e.stats_,e.server_)),e.infoData_=new Sj,e.infoSyncTree_=new Kh({startListening:(r,s,i,a)=>{let l=[];const c=e.infoData_.getNode(r._path);return c.isEmpty()||(l=Ql(e.infoSyncTree_,r._path,c),setTimeout(()=>{a("ok")},0)),l},stopListening:()=>{}}),Uu(e,"connected",!1),e.serverSyncTree_=new Kh({startListening:(r,s,i,a)=>(e.server_.listen(r,i,s,(l,c)=>{const d=a(l,c);Ts(e.eventQueue_,r._path,d)}),[]),stopListening:(r,s)=>{e.server_.unlisten(r,s)}})}function NS(e){const n=e.infoData_.getNode(new yt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function gy(e){return dS({timestamp:NS(e)})}function Xh(e,t,n,r,s){e.dataUpdateCount++;const i=new yt(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let a=[];if(s)if(r){const c=$a(n,d=>Kt(d));a=cS(e.serverSyncTree_,i,c,s)}else{const c=Kt(n);a=lS(e.serverSyncTree_,i,c,s)}else if(r){const c=$a(n,d=>Kt(d));a=aS(e.serverSyncTree_,i,c)}else{const c=Kt(n);a=Ql(e.serverSyncTree_,i,c)}let l=i;a.length>0&&(l=Yu(e,i)),Ts(e.eventQueue_,l,a)}function Zh(e,t){Uu(e,"connected",t),t===!1&&DS(e)}function IS(e,t){Rn(t,(n,r)=>{Uu(e,n,r)})}function Uu(e,t,n){const r=new yt("/.info/"+t),s=Kt(n);e.infoData_.updateSnapshot(r,s);const i=Ql(e.infoSyncTree_,r,s);Ts(e.eventQueue_,r,i)}function RS(e){return e.nextWriteId_++}function DS(e){vy(e,"onDisconnectEvents");const t=gy(e),n=Ga();bd(e.onDisconnect_,ut(),(s,i)=>{const a=hS(s,i,e.serverSyncTree_,t);Uv(n,s,a)});let r=[];bd(n,ut(),(s,i)=>{r=r.concat(Ql(e.serverSyncTree_,s,i));const a=LS(e,s);Yu(e,a)}),e.onDisconnect_=Ga(),Ts(e.eventQueue_,ut(),r)}function AS(e){e.persistentConnection_&&e.persistentConnection_.interrupt(TS)}function vy(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),qt(n,...t)}function yy(e,t,n){return oy(e.serverSyncTree_,t,n)||at.EMPTY_NODE}function Vu(e,t=e.transactionQueueTree_){if(t||Jl(e,t),Mo(t)){const n=by(e,t);ye(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&$S(e,Vi(t),n)}else py(t)&&Zl(t,n=>{Vu(e,n)})}function $S(e,t,n){const r=n.map(d=>d.currentWriteId),s=yy(e,t,r);let i=s;const a=s.hash();for(let d=0;d<n.length;d++){const u=n[d];ye(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const p=Pn(t,u.path);i=i.updateChild(p,u.currentOutputSnapshotRaw)}const l=i.val(!0),c=t;e.server_.put(c.toString(),l,d=>{vy(e,"transaction put response",{path:c.toString(),status:d});let u=[];if(d==="ok"){const p=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(Hs(e.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&p.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Jl(e,Hu(e.transactionQueueTree_,t)),Vu(e,e.transactionQueueTree_),Ts(e.eventQueue_,t,u);for(let h=0;h<p.length;h++)Hi(p[h])}else{if(d==="datastale")for(let p=0;p<n.length;p++)n[p].status===3?n[p].status=4:n[p].status=0;else{Cn("transaction at "+c.toString()+" failed: "+d);for(let p=0;p<n.length;p++)n[p].status=4,n[p].abortReason=d}Yu(e,t)}},a)}function Yu(e,t){const n=xy(e,t),r=Vi(n),s=by(e,n);return OS(e,s,r),r}function OS(e,t,n){if(t.length===0)return;const r=[];let s=[];const a=t.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<t.length;l++){const c=t[l],d=Pn(n,c.path);let u=!1,p;if(ye(d!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,p=c.abortReason,s=s.concat(Hs(e.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=ES)u=!0,p="maxretry",s=s.concat(Hs(e.serverSyncTree_,c.currentWriteId,!0));else{const h=yy(e,c.path,a);c.currentInputSnapshot=h;const g=t[l].update(h.val());if(g!==void 0){my("transaction failed: Data returned ",g,c.path);let v=Kt(g);typeof g=="object"&&g!=null&&Pr(g,".priority")||(v=v.updatePriority(h.getPriority()));const y=c.currentWriteId,x=gy(e),w=fS(v,h,x);c.currentOutputSnapshotRaw=v,c.currentOutputSnapshotResolved=w,c.currentWriteId=RS(e),a.splice(a.indexOf(y),1),s=s.concat(iS(e.serverSyncTree_,c.path,w,c.currentWriteId,c.applyLocally)),s=s.concat(Hs(e.serverSyncTree_,y,!0))}else u=!0,p="nodata",s=s.concat(Hs(e.serverSyncTree_,c.currentWriteId,!0))}Ts(e.eventQueue_,n,s),s=[],u&&(t[l].status=2,function(h){setTimeout(h,Math.floor(0))}(t[l].unwatcher),t[l].onComplete&&(p==="nodata"?r.push(()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot)):r.push(()=>t[l].onComplete(new Error(p),!1,null))))}Jl(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)Hi(r[l]);Vu(e,e.transactionQueueTree_)}function xy(e,t){let n,r=e.transactionQueueTree_;for(n=Ve(t);n!==null&&Mo(r)===void 0;)r=Hu(r,n),t=gt(t),n=Ve(t);return r}function by(e,t){const n=[];return Cy(e,t,n),n.sort((r,s)=>r.order-s.order),n}function Cy(e,t,n){const r=Mo(t);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);Zl(t,s=>{Cy(e,s,n)})}function Jl(e,t){const n=Mo(t);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,uy(t,n.length>0?n:void 0)}Zl(t,r=>{Jl(e,r)})}function LS(e,t){const n=Vi(xy(e,t)),r=Hu(e.transactionQueueTree_,t);return gS(r,s=>{Fc(e,s)}),Fc(e,r),hy(r,s=>{Fc(e,s)}),n}function Fc(e,t){const n=Mo(t);if(n){const r=[];let s=[],i=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(ye(i===a-1,"All SENT items should be at beginning of queue."),i=a,n[a].status=3,n[a].abortReason="set"):(ye(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),s=s.concat(Hs(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));i===-1?uy(t,void 0):n.length=i+1,Ts(e.eventQueue_,Vi(t),s);for(let a=0;a<r.length;a++)Hi(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}t+="/"+s}return t}function zS(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Cn(`Invalid query segment '${n}' in query '${e}'`)}return t}const Jh=function(e,t){const n=BS(e),r=n.namespace;n.domain==="firebase.com"&&kr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&kr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||v2();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new kv(n.host,n.secure,r,s,t,"",r!==n.subdomain),path:new yt(n.pathString)}},BS=function(e){let t="",n="",r="",s="",i="",a=!0,l="https",c=443;if(typeof e=="string"){let d=e.indexOf("//");d>=0&&(l=e.substring(0,d-1),e=e.substring(d+2));let u=e.indexOf("/");u===-1&&(u=e.length);let p=e.indexOf("?");p===-1&&(p=e.length),t=e.substring(0,Math.min(u,p)),u<p&&(s=FS(e.substring(u,p)));const h=zS(e.substring(Math.min(e.length,p)));d=t.indexOf(":"),d>=0?(a=l==="https"||l==="wss",c=parseInt(t.substring(d+1),10)):d=t.length;const g=t.slice(0,d);if(g.toLowerCase()==="localhost")n="localhost";else if(g.split(".").length<=2)n=g;else{const v=t.indexOf(".");r=t.substring(0,v).toLowerCase(),n=t.substring(v+1),i=r}"ns"in h&&(i=h.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:a,scheme:l,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(t,n,r,s){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return We(this._path)?null:Dv(this._path)}get ref(){return new Po(this._repo,this._path)}get _queryIdentifier(){const t=Lh(this._queryParams),n=Tu(t);return n==="{}"?"default":n}get _queryObject(){return Lh(this._queryParams)}isEqual(t){if(t=Ri(t),!(t instanceof Gu))return!1;const n=this._repo===t._repo,r=Ov(this._path,t._path),s=this._queryIdentifier===t._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+J2(this._path)}}class Po extends Gu{constructor(t,n){super(t,n,new Ru,!1)}get parent(){const t=$v(this._path);return t===null?null:new Po(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}sS(Po);oS(Po);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="FIREBASE_DATABASE_EMULATOR_HOST",Ed={};let HS=!1;function US(e,t,n,r){e.repoInfo_=new kv(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}function VS(e,t,n,r,s){let i=r||e.options.databaseURL;i===void 0&&(e.options.projectId||kr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),qt("Using default host for project ",e.options.projectId),i=`${e.options.projectId}-default-rtdb.firebaseio.com`);let a=Jh(i,s),l=a.repoInfo,c;typeof process<"u"&&xh&&(c=xh[WS]),c?(i=`http://${c}?ns=${l.namespace}`,a=Jh(i,s),l=a.repoInfo):a.repoInfo.secure;const d=new T2(e.name,e.options,t);wS("Invalid Firebase Database URL",a),We(a.path)||kr("Database URL must point to the root of a Firebase Database (not including a child path).");const u=GS(l,e,d,new _2(e.name,n));return new qS(u,e)}function YS(e,t){const n=Ed[t];(!n||n[e.key]!==e)&&kr(`Database ${t}(${e.repoInfo_}) has already been deleted.`),AS(e),delete n[e.key]}function GS(e,t,n,r){let s=Ed[t.name];s||(s={},Ed[t.name]=s);let i=s[e.toURLString()];return i&&kr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new MS(e,HS,n,r),s[e.toURLString()]=i,i}class qS{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(PS(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Po(this._repo,ut())),this._rootInternal}_delete(){return this._rootInternal!==null&&(YS(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&kr("Cannot call "+t+" on a deleted database.")}}function KS(e=qm(),t){const n=Km(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=Qm("database");r&&QS(n,...r)}return n}function QS(e,t,n,r={}){e=Ri(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&kr("Cannot call useEmulator() after instance has already been initialized.");const s=e._repoInternal;let i;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&kr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new Na(Na.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:jb(r.mockUserToken,e.app.options.projectId);i=new Na(a)}US(s,t,n,i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(e){u2(Sb),Um(new Vm("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return VS(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),Aa(bh,Ch,e),Aa(bh,Ch,"esm2017")}xr.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};xr.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};XS();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS="type.googleapis.com/google.protobuf.Int64Value",JS="type.googleapis.com/google.protobuf.UInt64Value";function wy(e,t){const n={};for(const r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}function Md(e){if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(t=>Md(t));if(typeof e=="function"||typeof e=="object")return wy(e,t=>Md(t));throw new Error("Data cannot be encoded in JSON: "+e)}function Xa(e){if(e==null)return e;if(e["@type"])switch(e["@type"]){case ZS:case JS:{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(t=>Xa(t)):typeof e=="function"||typeof e=="object"?wy(e,t=>Xa(t)):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ks extends Xm{constructor(t,n,r){super(`${qu}/${t}`,n||""),this.details=r}}function ek(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function tk(e,t){let n=ek(e),r=n,s;try{const i=t&&t.error;if(i){const a=i.status;if(typeof a=="string"){if(!ef[a])return new Ks("internal","internal");n=ef[a],r=a}const l=i.message;typeof l=="string"&&(r=l),s=i.details,s!==void 0&&(s=Xa(s))}}catch{}return n==="ok"?null:new Ks(n,r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(t,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(s=>this.auth=s,()=>{}),this.messaging||n.get().then(s=>this.messaging=s,()=>{}),this.appCheck||r.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const t=await this.auth.getToken();return t==null?void 0:t.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.appCheck){const n=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(t){const n=await this.getAuthToken(),r=await this.getMessagingToken(),s=await this.getAppCheckToken(t);return{authToken:n,messagingToken:r,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd="us-central1";function rk(e){let t=null;return{promise:new Promise((n,r)=>{t=setTimeout(()=>{r(new Ks("deadline-exceeded","deadline-exceeded"))},e)}),cancel:()=>{t&&clearTimeout(t)}}}class sk{constructor(t,n,r,s,i=Pd,a){this.app=t,this.fetchImpl=a,this.emulatorOrigin=null,this.contextProvider=new nk(n,r,s),this.cancelAllRequests=new Promise(l=>{this.deleteService=()=>Promise.resolve(l())});try{const l=new URL(i);this.customDomain=l.origin+(l.pathname==="/"?"":l.pathname),this.region=Pd}catch{this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(t){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${n}.cloudfunctions.net/${t}`}}function ok(e,t,n){e.emulatorOrigin=`http://${t}:${n}`}function ik(e,t,n){return r=>lk(e,t,r,{})}async function ak(e,t,n,r){n["Content-Type"]="application/json";let s;try{s=await r(e,{method:"POST",body:JSON.stringify(t),headers:n})}catch{return{status:0,json:null}}let i=null;try{i=await s.json()}catch{}return{status:s.status,json:i}}function lk(e,t,n,r){const s=e._url(t);return ck(e,s,n,r)}async function ck(e,t,n,r){n=Md(n);const s={data:n},i={},a=await e.contextProvider.getContext(r.limitedUseAppCheckTokens);a.authToken&&(i.Authorization="Bearer "+a.authToken),a.messagingToken&&(i["Firebase-Instance-ID-Token"]=a.messagingToken),a.appCheckToken!==null&&(i["X-Firebase-AppCheck"]=a.appCheckToken);const l=r.timeout||7e4,c=rk(l),d=await Promise.race([ak(t,s,i,e.fetchImpl),c.promise,e.cancelAllRequests]);if(c.cancel(),!d)throw new Ks("cancelled","Firebase Functions instance was deleted.");const u=tk(d.status,d.json);if(u)throw u;if(!d.json)throw new Ks("internal","Response is not valid JSON object.");let p=d.json.data;if(typeof p>"u"&&(p=d.json.result),typeof p>"u")throw new Ks("internal","Response is missing data field.");return{data:Xa(p)}}const tf="@firebase/functions",nf="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk="auth-internal",uk="app-check-internal",pk="messaging-internal";function hk(e,t){const n=(r,{instanceIdentifier:s})=>{const i=r.getProvider("app").getImmediate(),a=r.getProvider(dk),l=r.getProvider(pk),c=r.getProvider(uk);return new sk(i,a,l,c,s,e)};Um(new Vm(qu,n,"PUBLIC").setMultipleInstances(!0)),Aa(tf,nf,t),Aa(tf,nf,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(e=qm(),t=Pd){const r=Km(Ri(e),qu).getImmediate({identifier:t}),s=Qm("functions");return s&&fk(r,...s),r}function fk(e,t,n){ok(Ri(e),t,n)}function Sy(e,t,n){return ik(Ri(e),t)}hk(fetch.bind(self));const mk={apiKey:"AIzaSyAnp3SY9XEyF-le5q_Tcv-7Le2qqvtz0ZM",authDomain:"sports-booking-app-1d7e5.firebaseapp.com",databaseURL:"https://sports-booking-app-1d7e5-default-rtdb.europe-west1.firebasedatabase.app",projectId:"sports-booking-app-1d7e5",storageBucket:"sports-booking-app-1d7e5.firebasestorage.app",messagingSenderId:"648540980109",appId:"1:648540980109:web:97fbe182c59bb2641ab3c4",measurementId:"G-VL4MCP1PZP"},Yi=kb(mk),se=_b(Yi,{experimentalForceLongPolling:!1,cacheSizeBytes:50*1024*1024}),en=Tb(Yi);Eb(en,Pb).catch(e=>{console.error("Error setting persistence:",e)});const rf=Mb(Yi);KS(Yi);const gk=jy(Yi,"europe-west1"),ky=f.createContext(void 0),Ht=()=>{const e=f.useContext(ky);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},vk=({children:e})=>{const[t,n]=f.useState(null),[r,s]=f.useState(null),[i,a]=f.useState(null),[l,c]=f.useState(!0);f.useEffect(()=>Nb(en,async g=>{if(console.log("🔄 Auth state changed:",(g==null?void 0:g.email)||"no user","at",new Date().toLocaleTimeString()),g)console.log("🔐 User authenticated:",{uid:g.uid,email:g.email,emailVerified:g.emailVerified,providerId:g.providerId,metadata:g.metadata});else{console.log("🚪 User signed out or session expired");const v=localStorage.getItem("authToken");console.log("📦 Local storage auth token:",v?"exists":"not found")}if(g)try{console.log("🔍 Searching for admin with email:",g.email);const v=Ge(Pe(se,"admins"),Ee("email","==",g.email)),m=await qe(v);if(console.log("📊 Admin search result:",m.empty?"not found":"found"),m.empty)console.warn("Admin not found for user:",g.email),n(g),s(null),a(null);else{const y=m.docs[0],x={id:y.id,...y.data()};if(console.log("✅ Admin data loaded:",x),n(g),s(x),x.venueId){const w=await Ct(Ne(se,"venues",x.venueId));w.exists()&&a({id:w.id,...w.data()})}else x.role==="superadmin"&&a(null)}}catch(v){console.error("Error fetching admin data:",v),n(null),s(null),a(null)}else n(null),s(null),a(null);c(!1)}),[]);const p={user:t,admin:r,club:i,loading:l,logout:async()=>{try{await ad(en),n(null),s(null),a(null)}catch(h){console.error("Logout error:",h)}},refreshClubData:async()=>{if(r!=null&&r.venueId)try{const h=await Ct(Ne(se,"venues",r.venueId));if(h.exists()){const g=h.data();a({id:h.id,name:g.name||"",address:g.address||"",phone:g.phone||"",email:g.email||"",description:g.description,logoUrl:g.logoUrl,amenities:g.amenities,organizationType:g.organizationType,inn:g.inn,bankAccount:g.bankAccount})}}catch(h){console.error("Error refreshing club data:",h)}}};return o.jsx(ky.Provider,{value:p,children:e})};function yk(e){return he("MuiSvgIcon",e)}fe("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const xk=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],bk=e=>{const{color:t,fontSize:n,classes:r}=e,s={root:["root",t!=="inherit"&&`color${Q(t)}`,`fontSize${Q(n)}`]};return ge(s,yk,r)},Ck=V("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${Q(n.color)}`],t[`fontSize${Q(n.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var n,r,s,i,a,l,c,d,u,p,h,g,v;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=e.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(s=e.transitions)==null||(s=s.duration)==null?void 0:s.shorter}),fontSize:{inherit:"inherit",small:((i=e.typography)==null||(a=i.pxToRem)==null?void 0:a.call(i,20))||"1.25rem",medium:((l=e.typography)==null||(c=l.pxToRem)==null?void 0:c.call(l,24))||"1.5rem",large:((d=e.typography)==null||(u=d.pxToRem)==null?void 0:u.call(d,35))||"2.1875rem"}[t.fontSize],color:(p=(h=(e.vars||e).palette)==null||(h=h[t.color])==null?void 0:h.main)!=null?p:{action:(g=(e.vars||e).palette)==null||(g=g.action)==null?void 0:g.active,disabled:(v=(e.vars||e).palette)==null||(v=v.action)==null?void 0:v.disabled,inherit:void 0}[t.color]}}),Za=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiSvgIcon"}),{children:s,className:i,color:a="inherit",component:l="svg",fontSize:c="medium",htmlColor:d,inheritViewBox:u=!1,titleAccess:p,viewBox:h="0 0 24 24"}=r,g=Z(r,xk),v=f.isValidElement(s)&&s.type==="svg",m=b({},r,{color:a,component:l,fontSize:c,instanceFontSize:t.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:v}),y={};u||(y.viewBox=h);const x=bk(m);return o.jsxs(Ck,b({as:l,className:re(x.root,i),focusable:"false",color:d,"aria-hidden":p?void 0:!0,role:p?"img":void 0,ref:n},y,g,v&&s.props,{ownerState:m,children:[v?s.props.children:s,p?o.jsx("title",{children:p}):null]}))});Za.muiName="SvgIcon";function ue(e,t){function n(r,s){return o.jsx(Za,b({"data-testid":`${t}Icon`,ref:s},r,{children:e}))}return n.muiName=Za.muiName,f.memo(f.forwardRef(n))}function Ja(e,t){return Ja=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Ja(e,t)}function Ku(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ja(e,t)}function wk(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function jk(e,t){e.classList?e.classList.add(t):wk(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function sf(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Sk(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=sf(e.className,t):e.setAttribute("class",sf(e.className&&e.className.baseVal||"",t))}const of={disabled:!1},el=Fe.createContext(null);var _y=function(t){return t.scrollTop},ri="unmounted",ns="exited",rs="entering",Ls="entered",Nd="exiting",Fn=function(e){Ku(t,e);function t(r,s){var i;i=e.call(this,r,s)||this;var a=s,l=a&&!a.isMounting?r.enter:r.appear,c;return i.appearStatus=null,r.in?l?(c=ns,i.appearStatus=rs):c=Ls:r.unmountOnExit||r.mountOnEnter?c=ri:c=ns,i.state={status:c},i.nextCallback=null,i}t.getDerivedStateFromProps=function(s,i){var a=s.in;return a&&i.status===ri?{status:ns}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(s){var i=null;if(s!==this.props){var a=this.state.status;this.props.in?a!==rs&&a!==Ls&&(i=rs):(a===rs||a===Ls)&&(i=Nd)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var s=this.props.timeout,i,a,l;return i=a=l=s,s!=null&&typeof s!="number"&&(i=s.exit,a=s.enter,l=s.appear!==void 0?s.appear:a),{exit:i,enter:a,appear:l}},n.updateStatus=function(s,i){if(s===void 0&&(s=!1),i!==null)if(this.cancelNextCallback(),i===rs){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:na.findDOMNode(this);a&&_y(a)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ns&&this.setState({status:ri})},n.performEnter=function(s){var i=this,a=this.props.enter,l=this.context?this.context.isMounting:s,c=this.props.nodeRef?[l]:[na.findDOMNode(this),l],d=c[0],u=c[1],p=this.getTimeouts(),h=l?p.appear:p.enter;if(!s&&!a||of.disabled){this.safeSetState({status:Ls},function(){i.props.onEntered(d)});return}this.props.onEnter(d,u),this.safeSetState({status:rs},function(){i.props.onEntering(d,u),i.onTransitionEnd(h,function(){i.safeSetState({status:Ls},function(){i.props.onEntered(d,u)})})})},n.performExit=function(){var s=this,i=this.props.exit,a=this.getTimeouts(),l=this.props.nodeRef?void 0:na.findDOMNode(this);if(!i||of.disabled){this.safeSetState({status:ns},function(){s.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:Nd},function(){s.props.onExiting(l),s.onTransitionEnd(a.exit,function(){s.safeSetState({status:ns},function(){s.props.onExited(l)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(s,i){i=this.setNextCallback(i),this.setState(s,i)},n.setNextCallback=function(s){var i=this,a=!0;return this.nextCallback=function(l){a&&(a=!1,i.nextCallback=null,s(l))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},n.onTransitionEnd=function(s,i){this.setNextCallback(i);var a=this.props.nodeRef?this.props.nodeRef.current:na.findDOMNode(this),l=s==null&&!this.props.addEndListener;if(!a||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],d=c[0],u=c[1];this.props.addEndListener(d,u)}s!=null&&setTimeout(this.nextCallback,s)},n.render=function(){var s=this.state.status;if(s===ri)return null;var i=this.props,a=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var l=Z(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Fe.createElement(el.Provider,{value:null},typeof a=="function"?a(s,l):Fe.cloneElement(Fe.Children.only(a),l))},t}(Fe.Component);Fn.contextType=el;Fn.propTypes={};function $s(){}Fn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:$s,onEntering:$s,onEntered:$s,onExit:$s,onExiting:$s,onExited:$s};Fn.UNMOUNTED=ri;Fn.EXITED=ns;Fn.ENTERING=rs;Fn.ENTERED=Ls;Fn.EXITING=Nd;var kk=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return jk(t,r)})},zc=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return Sk(t,r)})},Qu=function(e){Ku(t,e);function t(){for(var r,s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(l,c){var d=r.resolveArguments(l,c),u=d[0],p=d[1];r.removeClasses(u,"exit"),r.addClass(u,p?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(l,c)},r.onEntering=function(l,c){var d=r.resolveArguments(l,c),u=d[0],p=d[1],h=p?"appear":"enter";r.addClass(u,h,"active"),r.props.onEntering&&r.props.onEntering(l,c)},r.onEntered=function(l,c){var d=r.resolveArguments(l,c),u=d[0],p=d[1],h=p?"appear":"enter";r.removeClasses(u,h),r.addClass(u,h,"done"),r.props.onEntered&&r.props.onEntered(l,c)},r.onExit=function(l){var c=r.resolveArguments(l),d=c[0];r.removeClasses(d,"appear"),r.removeClasses(d,"enter"),r.addClass(d,"exit","base"),r.props.onExit&&r.props.onExit(l)},r.onExiting=function(l){var c=r.resolveArguments(l),d=c[0];r.addClass(d,"exit","active"),r.props.onExiting&&r.props.onExiting(l)},r.onExited=function(l){var c=r.resolveArguments(l),d=c[0];r.removeClasses(d,"exit"),r.addClass(d,"exit","done"),r.props.onExited&&r.props.onExited(l)},r.resolveArguments=function(l,c){return r.props.nodeRef?[r.props.nodeRef.current,l]:[l,c]},r.getClassNames=function(l){var c=r.props.classNames,d=typeof c=="string",u=d&&c?c+"-":"",p=d?""+u+l:c[l],h=d?p+"-active":c[l+"Active"],g=d?p+"-done":c[l+"Done"];return{baseClassName:p,activeClassName:h,doneClassName:g}},r}var n=t.prototype;return n.addClass=function(s,i,a){var l=this.getClassNames(i)[a+"ClassName"],c=this.getClassNames("enter"),d=c.doneClassName;i==="appear"&&a==="done"&&d&&(l+=" "+d),a==="active"&&s&&_y(s),l&&(this.appliedClasses[i][a]=l,kk(s,l))},n.removeClasses=function(s,i){var a=this.appliedClasses[i],l=a.base,c=a.active,d=a.done;this.appliedClasses[i]={},l&&zc(s,l),c&&zc(s,c),d&&zc(s,d)},n.render=function(){var s=this.props;s.classNames;var i=Z(s,["classNames"]);return Fe.createElement(Fn,b({},i,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(Fe.Component);Qu.defaultProps={classNames:""};Qu.propTypes={};function Ce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xu(e,t){var n=function(i){return t&&f.isValidElement(i)?t(i):i},r=Object.create(null);return e&&f.Children.map(e,function(s){return s}).forEach(function(s){r[s.key]=n(s)}),r}function _k(e,t){e=e||{},t=t||{};function n(u){return u in t?t[u]:e[u]}var r=Object.create(null),s=[];for(var i in e)i in t?s.length&&(r[i]=s,s=[]):s.push(i);var a,l={};for(var c in t){if(r[c])for(a=0;a<r[c].length;a++){var d=r[c][a];l[r[c][a]]=n(d)}l[c]=n(c)}for(a=0;a<s.length;a++)l[s[a]]=n(s[a]);return l}function as(e,t,n){return n[t]!=null?n[t]:e.props[t]}function Tk(e,t){return Xu(e.children,function(n){return f.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:as(n,"appear",e),enter:as(n,"enter",e),exit:as(n,"exit",e)})})}function Ek(e,t,n){var r=Xu(e.children),s=_k(t,r);return Object.keys(s).forEach(function(i){var a=s[i];if(f.isValidElement(a)){var l=i in t,c=i in r,d=t[i],u=f.isValidElement(d)&&!d.props.in;c&&(!l||u)?s[i]=f.cloneElement(a,{onExited:n.bind(null,a),in:!0,exit:as(a,"exit",e),enter:as(a,"enter",e)}):!c&&l&&!u?s[i]=f.cloneElement(a,{in:!1}):c&&l&&f.isValidElement(d)&&(s[i]=f.cloneElement(a,{onExited:n.bind(null,a),in:d.props.in,exit:as(a,"exit",e),enter:as(a,"enter",e)}))}}),s}var Mk=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},Pk={component:"div",childFactory:function(t){return t}},Gi=function(e){Ku(t,e);function t(r,s){var i;i=e.call(this,r,s)||this;var a=i.handleExited.bind(Ce(i));return i.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},i}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(s,i){var a=i.children,l=i.handleExited,c=i.firstRender;return{children:c?Tk(s,l):Ek(s,a,l),firstRender:!1}},n.handleExited=function(s,i){var a=Xu(this.props.children);s.key in a||(s.props.onExited&&s.props.onExited(i),this.mounted&&this.setState(function(l){var c=b({},l.children);return delete c[s.key],{children:c}}))},n.render=function(){var s=this.props,i=s.component,a=s.childFactory,l=Z(s,["component","childFactory"]),c=this.state.contextValue,d=Mk(this.state.children).map(a);return delete l.appear,delete l.enter,delete l.exit,i===null?Fe.createElement(el.Provider,{value:c},d):Fe.createElement(el.Provider,{value:c},Fe.createElement(i,l,d))},t}(Fe.Component);Gi.propTypes={};Gi.defaultProps=Pk;const Ty=e=>e.scrollTop;function co(e,t){var n,r;const{timeout:s,easing:i,style:a={}}=e;return{duration:(n=a.transitionDuration)!=null?n:typeof s=="number"?s:s[t.mode]||0,easing:(r=a.transitionTimingFunction)!=null?r:typeof i=="object"?i[t.mode]:i,delay:a.transitionDelay}}function Nk(e){return he("MuiCollapse",e)}fe("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const Ik=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],Rk=e=>{const{orientation:t,classes:n}=e,r={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return ge(r,Nk,n)},Dk=V("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.state==="entered"&&t.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&t.hidden]}})(({theme:e,ownerState:t})=>b({height:0,overflow:"hidden",transition:e.transitions.create("height")},t.orientation==="horizontal"&&{height:"auto",width:0,transition:e.transitions.create("width")},t.state==="entered"&&b({height:"auto",overflow:"visible"},t.orientation==="horizontal"&&{width:"auto"}),t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&{visibility:"hidden"})),Ak=V("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})(({ownerState:e})=>b({display:"flex",width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),$k=V("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})(({ownerState:e})=>b({width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),Zu=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiCollapse"}),{addEndListener:s,children:i,className:a,collapsedSize:l="0px",component:c,easing:d,in:u,onEnter:p,onEntered:h,onEntering:g,onExit:v,onExited:m,onExiting:y,orientation:x="vertical",style:w,timeout:C=ov.standard,TransitionComponent:k=Fn}=r,_=Z(r,Ik),j=b({},r,{orientation:x,collapsedSize:l}),E=Rk(j),T=Vn(),S=Or(),M=f.useRef(null),D=f.useRef(),L=typeof l=="number"?`${l}px`:l,I=x==="horizontal",P=I?"width":"height",R=f.useRef(null),N=vt(n,R),O=H=>le=>{if(H){const ee=R.current;le===void 0?H(ee):H(ee,le)}},z=()=>M.current?M.current[I?"clientWidth":"clientHeight"]:0,$=O((H,le)=>{M.current&&I&&(M.current.style.position="absolute"),H.style[P]=L,p&&p(H,le)}),A=O((H,le)=>{const ee=z();M.current&&I&&(M.current.style.position="");const{duration:X,easing:ie}=co({style:w,timeout:C,easing:d},{mode:"enter"});if(C==="auto"){const K=T.transitions.getAutoHeightDuration(ee);H.style.transitionDuration=`${K}ms`,D.current=K}else H.style.transitionDuration=typeof X=="string"?X:`${X}ms`;H.style[P]=`${ee}px`,H.style.transitionTimingFunction=ie,g&&g(H,le)}),U=O((H,le)=>{H.style[P]="auto",h&&h(H,le)}),Y=O(H=>{H.style[P]=`${z()}px`,v&&v(H)}),G=O(m),J=O(H=>{const le=z(),{duration:ee,easing:X}=co({style:w,timeout:C,easing:d},{mode:"exit"});if(C==="auto"){const ie=T.transitions.getAutoHeightDuration(le);H.style.transitionDuration=`${ie}ms`,D.current=ie}else H.style.transitionDuration=typeof ee=="string"?ee:`${ee}ms`;H.style[P]=L,H.style.transitionTimingFunction=X,y&&y(H)}),ae=H=>{C==="auto"&&S.start(D.current||0,H),s&&s(R.current,H)};return o.jsx(k,b({in:u,onEnter:$,onEntered:U,onEntering:A,onExit:Y,onExited:G,onExiting:J,addEndListener:ae,nodeRef:R,timeout:C==="auto"?null:C},_,{children:(H,le)=>o.jsx(Dk,b({as:c,className:re(E.root,a,{entered:E.entered,exited:!u&&L==="0px"&&E.hidden}[H]),style:b({[I?"minWidth":"minHeight"]:L},w),ref:N},le,{ownerState:b({},j,{state:H}),children:o.jsx(Ak,{ownerState:b({},j,{state:H}),className:E.wrapper,ref:M,children:o.jsx($k,{ownerState:b({},j,{state:H}),className:E.wrapperInner,children:i})})}))}))});Zu.muiSupportAuto=!0;function Ok(e){return he("MuiPaper",e)}fe("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Lk=["className","component","elevation","square","variant"],Fk=e=>{const{square:t,elevation:n,variant:r,classes:s}=e,i={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${n}`]};return ge(i,Ok,s)},zk=V("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(({theme:e,ownerState:t})=>{var n;return b({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.divider}`},t.variant==="elevation"&&b({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${ze("#fff",yh(t.elevation))}, ${ze("#fff",yh(t.elevation))})`},e.vars&&{backgroundImage:(n=e.vars.overlays)==null?void 0:n[t.elevation]}))}),sn=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiPaper"}),{className:s,component:i="div",elevation:a=1,square:l=!1,variant:c="elevation"}=r,d=Z(r,Lk),u=b({},r,{component:i,elevation:a,square:l,variant:c}),p=Fk(u);return o.jsx(zk,b({as:i,ownerState:u,className:re(p.root,s),ref:n},d))}),Bk=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],Wk=["component","slots","slotProps"],Hk=["component"];function af(e,t){const{className:n,elementType:r,ownerState:s,externalForwardedProps:i,getSlotOwnerState:a,internalForwardedProps:l}=t,c=Z(t,Bk),{component:d,slots:u={[e]:void 0},slotProps:p={[e]:void 0}}=i,h=Z(i,Wk),g=u[e]||r,v=Vg(p[e],s),m=Ug(b({className:n},c,{externalForwardedProps:e==="root"?h:void 0,externalSlotProps:v})),{props:{component:y},internalRef:x}=m,w=Z(m.props,Hk),C=vt(x,v==null?void 0:v.ref,t.ref),k=a?a(w):{},_=b({},s,k),j=e==="root"?y||d:y,E=Bs(g,b({},e==="root"&&!d&&!u[e]&&l,e!=="root"&&!u[e]&&l,w,j&&{as:j},{ref:C}),_);return Object.keys(k).forEach(T=>{delete E[T]}),[g,E]}function Uk(e){const{className:t,classes:n,pulsate:r=!1,rippleX:s,rippleY:i,rippleSize:a,in:l,onExited:c,timeout:d}=e,[u,p]=f.useState(!1),h=re(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),g={width:a,height:a,top:-(a/2)+i,left:-(a/2)+s},v=re(n.child,u&&n.childLeaving,r&&n.childPulsate);return!l&&!u&&p(!0),f.useEffect(()=>{if(!l&&c!=null){const m=setTimeout(c,d);return()=>{clearTimeout(m)}}},[c,l,d]),o.jsx("span",{className:h,style:g,children:o.jsx("span",{className:v})})}const En=fe("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Vk=["center","classes","className"];let ec=e=>e,lf,cf,df,uf;const Id=550,Yk=80,Gk=Nr(lf||(lf=ec`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),qk=Nr(cf||(cf=ec`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Kk=Nr(df||(df=ec`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Qk=V("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Xk=V(Uk,{name:"MuiTouchRipple",slot:"Ripple"})(uf||(uf=ec`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),En.rippleVisible,Gk,Id,({theme:e})=>e.transitions.easing.easeInOut,En.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,En.child,En.childLeaving,qk,Id,({theme:e})=>e.transitions.easing.easeInOut,En.childPulsate,Kk,({theme:e})=>e.transitions.easing.easeInOut),Zk=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiTouchRipple"}),{center:s=!1,classes:i={},className:a}=r,l=Z(r,Vk),[c,d]=f.useState([]),u=f.useRef(0),p=f.useRef(null);f.useEffect(()=>{p.current&&(p.current(),p.current=null)},[c]);const h=f.useRef(!1),g=Or(),v=f.useRef(null),m=f.useRef(null),y=f.useCallback(k=>{const{pulsate:_,rippleX:j,rippleY:E,rippleSize:T,cb:S}=k;d(M=>[...M,o.jsx(Xk,{classes:{ripple:re(i.ripple,En.ripple),rippleVisible:re(i.rippleVisible,En.rippleVisible),ripplePulsate:re(i.ripplePulsate,En.ripplePulsate),child:re(i.child,En.child),childLeaving:re(i.childLeaving,En.childLeaving),childPulsate:re(i.childPulsate,En.childPulsate)},timeout:Id,pulsate:_,rippleX:j,rippleY:E,rippleSize:T},u.current)]),u.current+=1,p.current=S},[i]),x=f.useCallback((k={},_={},j=()=>{})=>{const{pulsate:E=!1,center:T=s||_.pulsate,fakeElement:S=!1}=_;if((k==null?void 0:k.type)==="mousedown"&&h.current){h.current=!1;return}(k==null?void 0:k.type)==="touchstart"&&(h.current=!0);const M=S?null:m.current,D=M?M.getBoundingClientRect():{width:0,height:0,left:0,top:0};let L,I,P;if(T||k===void 0||k.clientX===0&&k.clientY===0||!k.clientX&&!k.touches)L=Math.round(D.width/2),I=Math.round(D.height/2);else{const{clientX:R,clientY:N}=k.touches&&k.touches.length>0?k.touches[0]:k;L=Math.round(R-D.left),I=Math.round(N-D.top)}if(T)P=Math.sqrt((2*D.width**2+D.height**2)/3),P%2===0&&(P+=1);else{const R=Math.max(Math.abs((M?M.clientWidth:0)-L),L)*2+2,N=Math.max(Math.abs((M?M.clientHeight:0)-I),I)*2+2;P=Math.sqrt(R**2+N**2)}k!=null&&k.touches?v.current===null&&(v.current=()=>{y({pulsate:E,rippleX:L,rippleY:I,rippleSize:P,cb:j})},g.start(Yk,()=>{v.current&&(v.current(),v.current=null)})):y({pulsate:E,rippleX:L,rippleY:I,rippleSize:P,cb:j})},[s,y,g]),w=f.useCallback(()=>{x({},{pulsate:!0})},[x]),C=f.useCallback((k,_)=>{if(g.clear(),(k==null?void 0:k.type)==="touchend"&&v.current){v.current(),v.current=null,g.start(0,()=>{C(k,_)});return}v.current=null,d(j=>j.length>0?j.slice(1):j),p.current=_},[g]);return f.useImperativeHandle(n,()=>({pulsate:w,start:x,stop:C}),[w,x,C]),o.jsx(Qk,b({className:re(En.root,i.root,a),ref:m},l,{children:o.jsx(Gi,{component:null,exit:!0,children:c})}))});function Jk(e){return he("MuiButtonBase",e)}const e_=fe("MuiButtonBase",["root","disabled","focusVisible"]),t_=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],n_=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:s}=e,a=ge({root:["root",t&&"disabled",n&&"focusVisible"]},Jk,s);return n&&r&&(a.root+=` ${r}`),a},r_=V("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${e_.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Yr=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiButtonBase"}),{action:s,centerRipple:i=!1,children:a,className:l,component:c="button",disabled:d=!1,disableRipple:u=!1,disableTouchRipple:p=!1,focusRipple:h=!1,LinkComponent:g="a",onBlur:v,onClick:m,onContextMenu:y,onDragLeave:x,onFocus:w,onFocusVisible:C,onKeyDown:k,onKeyUp:_,onMouseDown:j,onMouseLeave:E,onMouseUp:T,onTouchEnd:S,onTouchMove:M,onTouchStart:D,tabIndex:L=0,TouchRippleProps:I,touchRippleRef:P,type:R}=r,N=Z(r,t_),O=f.useRef(null),z=f.useRef(null),$=vt(z,P),{isFocusVisibleRef:A,onFocus:U,onBlur:Y,ref:G}=Wg(),[J,ae]=f.useState(!1);d&&J&&ae(!1),f.useImperativeHandle(s,()=>({focusVisible:()=>{ae(!0),O.current.focus()}}),[]);const[H,le]=f.useState(!1);f.useEffect(()=>{le(!0)},[]);const ee=H&&!u&&!d;f.useEffect(()=>{J&&h&&!u&&H&&z.current.pulsate()},[u,h,J,H]);function X(_e,Et,kn=p){return De(Xt=>(Et&&Et(Xt),!kn&&z.current&&z.current[_e](Xt),!0))}const ie=X("start",j),K=X("stop",y),W=X("stop",x),F=X("stop",T),q=X("stop",_e=>{J&&_e.preventDefault(),E&&E(_e)}),ne=X("start",D),pe=X("stop",S),Te=X("stop",M),oe=X("stop",_e=>{Y(_e),A.current===!1&&ae(!1),v&&v(_e)},!1),ce=De(_e=>{O.current||(O.current=_e.currentTarget),U(_e),A.current===!0&&(ae(!0),C&&C(_e)),w&&w(_e)}),xe=()=>{const _e=O.current;return c&&c!=="button"&&!(_e.tagName==="A"&&_e.href)},ve=f.useRef(!1),Re=De(_e=>{h&&!ve.current&&J&&z.current&&_e.key===" "&&(ve.current=!0,z.current.stop(_e,()=>{z.current.start(_e)})),_e.target===_e.currentTarget&&xe()&&_e.key===" "&&_e.preventDefault(),k&&k(_e),_e.target===_e.currentTarget&&xe()&&_e.key==="Enter"&&!d&&(_e.preventDefault(),m&&m(_e))}),Me=De(_e=>{h&&_e.key===" "&&z.current&&J&&!_e.defaultPrevented&&(ve.current=!1,z.current.stop(_e,()=>{z.current.pulsate(_e)})),_&&_(_e),m&&_e.target===_e.currentTarget&&xe()&&_e.key===" "&&!_e.defaultPrevented&&m(_e)});let Ie=c;Ie==="button"&&(N.href||N.to)&&(Ie=g);const wt={};Ie==="button"?(wt.type=R===void 0?"button":R,wt.disabled=d):(!N.href&&!N.to&&(wt.role="button"),d&&(wt["aria-disabled"]=d));const Dt=vt(n,G,O),At=b({},r,{centerRipple:i,component:c,disabled:d,disableRipple:u,disableTouchRipple:p,focusRipple:h,tabIndex:L,focusVisible:J}),Qe=n_(At);return o.jsxs(r_,b({as:Ie,className:re(Qe.root,l),ownerState:At,onBlur:oe,onClick:m,onContextMenu:K,onFocus:ce,onKeyDown:Re,onKeyUp:Me,onMouseDown:ie,onMouseLeave:q,onMouseUp:F,onDragLeave:W,onTouchEnd:pe,onTouchMove:Te,onTouchStart:ne,ref:Dt,tabIndex:d?-1:L,type:R},wt,N,{children:[a,ee?o.jsx(Zk,b({ref:$,center:i},I)):null]}))});function s_(e){return he("MuiAlert",e)}const pf=fe("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function o_(e){return he("MuiIconButton",e)}const i_=fe("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),a_=["edge","children","className","color","disabled","disableFocusRipple","size"],l_=e=>{const{classes:t,disabled:n,color:r,edge:s,size:i}=e,a={root:["root",n&&"disabled",r!=="default"&&`color${Q(r)}`,s&&`edge${Q(s)}`,`size${Q(i)}`]};return ge(a,o_,t)},c_=V(Yr,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${Q(n.color)}`],n.edge&&t[`edge${Q(n.edge)}`],t[`size${Q(n.size)}`]]}})(({theme:e,ownerState:t})=>b({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:ze(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12}),({theme:e,ownerState:t})=>{var n;const r=(n=(e.vars||e).palette)==null?void 0:n[t.color];return b({},t.color==="inherit"&&{color:"inherit"},t.color!=="inherit"&&t.color!=="default"&&b({color:r==null?void 0:r.main},!t.disableRipple&&{"&:hover":b({},r&&{backgroundColor:e.vars?`rgba(${r.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ze(r.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),t.size==="small"&&{padding:5,fontSize:e.typography.pxToRem(18)},t.size==="large"&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${i_.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),cn=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiIconButton"}),{edge:s=!1,children:i,className:a,color:l="default",disabled:c=!1,disableFocusRipple:d=!1,size:u="medium"}=r,p=Z(r,a_),h=b({},r,{edge:s,color:l,disabled:c,disableFocusRipple:d,size:u}),g=l_(h);return o.jsx(c_,b({className:re(g.root,a),centerRipple:!0,focusRipple:!d,disabled:c,ref:n},p,{ownerState:h,children:i}))}),d_=ue(o.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),u_=ue(o.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),p_=ue(o.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),h_=ue(o.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),f_=ue(o.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),m_=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],g_=e=>{const{variant:t,color:n,severity:r,classes:s}=e,i={root:["root",`color${Q(n||r)}`,`${t}${Q(n||r)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return ge(i,s_,s)},v_=V(sn,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${Q(n.color||n.severity)}`]]}})(({theme:e})=>{const t=e.palette.mode==="light"?oo:io,n=e.palette.mode==="light"?io:oo;return b({},e.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(e.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:e.vars?e.vars.palette.Alert[`${r}Color`]:t(e.palette[r].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${r}StandardBg`]:n(e.palette[r].light,.9),[`& .${pf.icon}`]:e.vars?{color:e.vars.palette.Alert[`${r}IconColor`]}:{color:e.palette[r].main}}})),...Object.entries(e.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:e.vars?e.vars.palette.Alert[`${r}Color`]:t(e.palette[r].light,.6),border:`1px solid ${(e.vars||e).palette[r].light}`,[`& .${pf.icon}`]:e.vars?{color:e.vars.palette.Alert[`${r}IconColor`]}:{color:e.palette[r].main}}})),...Object.entries(e.palette).filter(([,r])=>r.main&&r.dark).map(([r])=>({props:{colorSeverity:r,variant:"filled"},style:b({fontWeight:e.typography.fontWeightMedium},e.vars?{color:e.vars.palette.Alert[`${r}FilledColor`],backgroundColor:e.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:e.palette.mode==="dark"?e.palette[r].dark:e.palette[r].main,color:e.palette.getContrastText(e.palette[r].main)})}))]})}),y_=V("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),x_=V("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),hf=V("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),ff={success:o.jsx(d_,{fontSize:"inherit"}),warning:o.jsx(u_,{fontSize:"inherit"}),error:o.jsx(p_,{fontSize:"inherit"}),info:o.jsx(h_,{fontSize:"inherit"})},lt=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiAlert"}),{action:s,children:i,className:a,closeText:l="Close",color:c,components:d={},componentsProps:u={},icon:p,iconMapping:h=ff,onClose:g,role:v="alert",severity:m="success",slotProps:y={},slots:x={},variant:w="standard"}=r,C=Z(r,m_),k=b({},r,{color:c,severity:m,variant:w,colorSeverity:c||m}),_=g_(k),j={slots:b({closeButton:d.CloseButton,closeIcon:d.CloseIcon},x),slotProps:b({},u,y)},[E,T]=af("closeButton",{elementType:cn,externalForwardedProps:j,ownerState:k}),[S,M]=af("closeIcon",{elementType:f_,externalForwardedProps:j,ownerState:k});return o.jsxs(v_,b({role:v,elevation:0,ownerState:k,className:re(_.root,a),ref:n},C,{children:[p!==!1?o.jsx(y_,{ownerState:k,className:_.icon,children:p||h[m]||ff[m]}):null,o.jsx(x_,{ownerState:k,className:_.message,children:i}),s!=null?o.jsx(hf,{ownerState:k,className:_.action,children:s}):null,s==null&&g?o.jsx(hf,{ownerState:k,className:_.action,children:o.jsx(E,b({size:"small","aria-label":l,title:l,color:"inherit",onClick:g},T,{children:o.jsx(S,b({fontSize:"small"},M))}))}):null]}))});function b_(e){return he("MuiTypography",e)}fe("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const C_=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],w_=e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:s,variant:i,classes:a}=e,l={root:["root",i,e.align!=="inherit"&&`align${Q(t)}`,n&&"gutterBottom",r&&"noWrap",s&&"paragraph"]};return ge(l,b_,a)},j_=V("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],n.align!=="inherit"&&t[`align${Q(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>b({margin:0},t.variant==="inherit"&&{font:"inherit"},t.variant!=="inherit"&&e.typography[t.variant],t.align!=="inherit"&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),mf={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},S_={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},k_=e=>S_[e]||e,B=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiTypography"}),s=k_(r.color),i=Li(b({},r,{color:s})),{align:a="inherit",className:l,component:c,gutterBottom:d=!1,noWrap:u=!1,paragraph:p=!1,variant:h="body1",variantMapping:g=mf}=i,v=Z(i,C_),m=b({},i,{align:a,color:s,className:l,component:c,gutterBottom:d,noWrap:u,paragraph:p,variant:h,variantMapping:g}),y=c||(p?"p":g[h]||mf[h])||"span",x=w_(m);return o.jsx(j_,b({as:y,ref:n,ownerState:m,className:re(x.root,l)},v))});function __(e){return he("MuiAlertTitle",e)}fe("MuiAlertTitle",["root"]);const T_=["className"],E_=e=>{const{classes:t}=e;return ge({root:["root"]},__,t)},M_=V(B,{name:"MuiAlertTitle",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({fontWeight:e.typography.fontWeightMedium,marginTop:-2})),ki=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiAlertTitle"}),{className:s}=r,i=Z(r,T_),a=r,l=E_(a);return o.jsx(M_,b({gutterBottom:!0,component:"div",ownerState:a,ref:n,className:re(l.root,s)},i))});var Ju={};Object.defineProperty(Ju,"__esModule",{value:!0});var Ey=Ju.default=void 0,P_=I_(f),N_=iv;function My(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(My=function(r){return r?n:t})(e)}function I_(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=My(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var a=s?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}function R_(e){return Object.keys(e).length===0}function D_(e=null){const t=P_.useContext(N_.ThemeContext);return!t||R_(t)?e:t}Ey=Ju.default=D_;var dn="top",Dn="bottom",An="right",un="left",ep="auto",qi=[dn,Dn,An,un],uo="start",_i="end",A_="clippingParents",Py="viewport",Yo="popper",$_="reference",gf=qi.reduce(function(e,t){return e.concat([t+"-"+uo,t+"-"+_i])},[]),Ny=[].concat(qi,[ep]).reduce(function(e,t){return e.concat([t,t+"-"+uo,t+"-"+_i])},[]),O_="beforeRead",L_="read",F_="afterRead",z_="beforeMain",B_="main",W_="afterMain",H_="beforeWrite",U_="write",V_="afterWrite",Y_=[O_,L_,F_,z_,B_,W_,H_,U_,V_];function cr(e){return e?(e.nodeName||"").toLowerCase():null}function wn(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function ys(e){var t=wn(e).Element;return e instanceof t||e instanceof Element}function Nn(e){var t=wn(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function tp(e){if(typeof ShadowRoot>"u")return!1;var t=wn(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function G_(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},s=t.attributes[n]||{},i=t.elements[n];!Nn(i)||!cr(i)||(Object.assign(i.style,r),Object.keys(s).forEach(function(a){var l=s[a];l===!1?i.removeAttribute(a):i.setAttribute(a,l===!0?"":l)}))})}function q_(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var s=t.elements[r],i=t.attributes[r]||{},a=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),l=a.reduce(function(c,d){return c[d]="",c},{});!Nn(s)||!cr(s)||(Object.assign(s.style,l),Object.keys(i).forEach(function(c){s.removeAttribute(c)}))})}}const K_={name:"applyStyles",enabled:!0,phase:"write",fn:G_,effect:q_,requires:["computeStyles"]};function sr(e){return e.split("-")[0]}var ds=Math.max,tl=Math.min,po=Math.round;function Rd(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Iy(){return!/^((?!chrome|android).)*safari/i.test(Rd())}function ho(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),s=1,i=1;t&&Nn(e)&&(s=e.offsetWidth>0&&po(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&po(r.height)/e.offsetHeight||1);var a=ys(e)?wn(e):window,l=a.visualViewport,c=!Iy()&&n,d=(r.left+(c&&l?l.offsetLeft:0))/s,u=(r.top+(c&&l?l.offsetTop:0))/i,p=r.width/s,h=r.height/i;return{width:p,height:h,top:u,right:d+p,bottom:u+h,left:d,x:d,y:u}}function np(e){var t=ho(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Ry(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&tp(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function _r(e){return wn(e).getComputedStyle(e)}function Q_(e){return["table","td","th"].indexOf(cr(e))>=0}function Qr(e){return((ys(e)?e.ownerDocument:e.document)||window.document).documentElement}function tc(e){return cr(e)==="html"?e:e.assignedSlot||e.parentNode||(tp(e)?e.host:null)||Qr(e)}function vf(e){return!Nn(e)||_r(e).position==="fixed"?null:e.offsetParent}function X_(e){var t=/firefox/i.test(Rd()),n=/Trident/i.test(Rd());if(n&&Nn(e)){var r=_r(e);if(r.position==="fixed")return null}var s=tc(e);for(tp(s)&&(s=s.host);Nn(s)&&["html","body"].indexOf(cr(s))<0;){var i=_r(s);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return s;s=s.parentNode}return null}function Ki(e){for(var t=wn(e),n=vf(e);n&&Q_(n)&&_r(n).position==="static";)n=vf(n);return n&&(cr(n)==="html"||cr(n)==="body"&&_r(n).position==="static")?t:n||X_(e)||t}function rp(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function di(e,t,n){return ds(e,tl(t,n))}function Z_(e,t,n){var r=di(e,t,n);return r>n?n:r}function Dy(){return{top:0,right:0,bottom:0,left:0}}function Ay(e){return Object.assign({},Dy(),e)}function $y(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var J_=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,Ay(typeof t!="number"?t:$y(t,qi))};function eT(e){var t,n=e.state,r=e.name,s=e.options,i=n.elements.arrow,a=n.modifiersData.popperOffsets,l=sr(n.placement),c=rp(l),d=[un,An].indexOf(l)>=0,u=d?"height":"width";if(!(!i||!a)){var p=J_(s.padding,n),h=np(i),g=c==="y"?dn:un,v=c==="y"?Dn:An,m=n.rects.reference[u]+n.rects.reference[c]-a[c]-n.rects.popper[u],y=a[c]-n.rects.reference[c],x=Ki(i),w=x?c==="y"?x.clientHeight||0:x.clientWidth||0:0,C=m/2-y/2,k=p[g],_=w-h[u]-p[v],j=w/2-h[u]/2+C,E=di(k,j,_),T=c;n.modifiersData[r]=(t={},t[T]=E,t.centerOffset=E-j,t)}}function tT(e){var t=e.state,n=e.options,r=n.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=t.elements.popper.querySelector(s),!s)||Ry(t.elements.popper,s)&&(t.elements.arrow=s))}const nT={name:"arrow",enabled:!0,phase:"main",fn:eT,effect:tT,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function fo(e){return e.split("-")[1]}var rT={top:"auto",right:"auto",bottom:"auto",left:"auto"};function sT(e,t){var n=e.x,r=e.y,s=t.devicePixelRatio||1;return{x:po(n*s)/s||0,y:po(r*s)/s||0}}function yf(e){var t,n=e.popper,r=e.popperRect,s=e.placement,i=e.variation,a=e.offsets,l=e.position,c=e.gpuAcceleration,d=e.adaptive,u=e.roundOffsets,p=e.isFixed,h=a.x,g=h===void 0?0:h,v=a.y,m=v===void 0?0:v,y=typeof u=="function"?u({x:g,y:m}):{x:g,y:m};g=y.x,m=y.y;var x=a.hasOwnProperty("x"),w=a.hasOwnProperty("y"),C=un,k=dn,_=window;if(d){var j=Ki(n),E="clientHeight",T="clientWidth";if(j===wn(n)&&(j=Qr(n),_r(j).position!=="static"&&l==="absolute"&&(E="scrollHeight",T="scrollWidth")),j=j,s===dn||(s===un||s===An)&&i===_i){k=Dn;var S=p&&j===_&&_.visualViewport?_.visualViewport.height:j[E];m-=S-r.height,m*=c?1:-1}if(s===un||(s===dn||s===Dn)&&i===_i){C=An;var M=p&&j===_&&_.visualViewport?_.visualViewport.width:j[T];g-=M-r.width,g*=c?1:-1}}var D=Object.assign({position:l},d&&rT),L=u===!0?sT({x:g,y:m},wn(n)):{x:g,y:m};if(g=L.x,m=L.y,c){var I;return Object.assign({},D,(I={},I[k]=w?"0":"",I[C]=x?"0":"",I.transform=(_.devicePixelRatio||1)<=1?"translate("+g+"px, "+m+"px)":"translate3d("+g+"px, "+m+"px, 0)",I))}return Object.assign({},D,(t={},t[k]=w?m+"px":"",t[C]=x?g+"px":"",t.transform="",t))}function oT(e){var t=e.state,n=e.options,r=n.gpuAcceleration,s=r===void 0?!0:r,i=n.adaptive,a=i===void 0?!0:i,l=n.roundOffsets,c=l===void 0?!0:l,d={placement:sr(t.placement),variation:fo(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,yf(Object.assign({},d,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,yf(Object.assign({},d,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const iT={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:oT,data:{}};var la={passive:!0};function aT(e){var t=e.state,n=e.instance,r=e.options,s=r.scroll,i=s===void 0?!0:s,a=r.resize,l=a===void 0?!0:a,c=wn(t.elements.popper),d=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&d.forEach(function(u){u.addEventListener("scroll",n.update,la)}),l&&c.addEventListener("resize",n.update,la),function(){i&&d.forEach(function(u){u.removeEventListener("scroll",n.update,la)}),l&&c.removeEventListener("resize",n.update,la)}}const lT={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:aT,data:{}};var cT={left:"right",right:"left",bottom:"top",top:"bottom"};function Ia(e){return e.replace(/left|right|bottom|top/g,function(t){return cT[t]})}var dT={start:"end",end:"start"};function xf(e){return e.replace(/start|end/g,function(t){return dT[t]})}function sp(e){var t=wn(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function op(e){return ho(Qr(e)).left+sp(e).scrollLeft}function uT(e,t){var n=wn(e),r=Qr(e),s=n.visualViewport,i=r.clientWidth,a=r.clientHeight,l=0,c=0;if(s){i=s.width,a=s.height;var d=Iy();(d||!d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:a,x:l+op(e),y:c}}function pT(e){var t,n=Qr(e),r=sp(e),s=(t=e.ownerDocument)==null?void 0:t.body,i=ds(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),a=ds(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),l=-r.scrollLeft+op(e),c=-r.scrollTop;return _r(s||n).direction==="rtl"&&(l+=ds(n.clientWidth,s?s.clientWidth:0)-i),{width:i,height:a,x:l,y:c}}function ip(e){var t=_r(e),n=t.overflow,r=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function Oy(e){return["html","body","#document"].indexOf(cr(e))>=0?e.ownerDocument.body:Nn(e)&&ip(e)?e:Oy(tc(e))}function ui(e,t){var n;t===void 0&&(t=[]);var r=Oy(e),s=r===((n=e.ownerDocument)==null?void 0:n.body),i=wn(r),a=s?[i].concat(i.visualViewport||[],ip(r)?r:[]):r,l=t.concat(a);return s?l:l.concat(ui(tc(a)))}function Dd(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function hT(e,t){var n=ho(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function bf(e,t,n){return t===Py?Dd(uT(e,n)):ys(t)?hT(t,n):Dd(pT(Qr(e)))}function fT(e){var t=ui(tc(e)),n=["absolute","fixed"].indexOf(_r(e).position)>=0,r=n&&Nn(e)?Ki(e):e;return ys(r)?t.filter(function(s){return ys(s)&&Ry(s,r)&&cr(s)!=="body"}):[]}function mT(e,t,n,r){var s=t==="clippingParents"?fT(e):[].concat(t),i=[].concat(s,[n]),a=i[0],l=i.reduce(function(c,d){var u=bf(e,d,r);return c.top=ds(u.top,c.top),c.right=tl(u.right,c.right),c.bottom=tl(u.bottom,c.bottom),c.left=ds(u.left,c.left),c},bf(e,a,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function Ly(e){var t=e.reference,n=e.element,r=e.placement,s=r?sr(r):null,i=r?fo(r):null,a=t.x+t.width/2-n.width/2,l=t.y+t.height/2-n.height/2,c;switch(s){case dn:c={x:a,y:t.y-n.height};break;case Dn:c={x:a,y:t.y+t.height};break;case An:c={x:t.x+t.width,y:l};break;case un:c={x:t.x-n.width,y:l};break;default:c={x:t.x,y:t.y}}var d=s?rp(s):null;if(d!=null){var u=d==="y"?"height":"width";switch(i){case uo:c[d]=c[d]-(t[u]/2-n[u]/2);break;case _i:c[d]=c[d]+(t[u]/2-n[u]/2);break}}return c}function Ti(e,t){t===void 0&&(t={});var n=t,r=n.placement,s=r===void 0?e.placement:r,i=n.strategy,a=i===void 0?e.strategy:i,l=n.boundary,c=l===void 0?A_:l,d=n.rootBoundary,u=d===void 0?Py:d,p=n.elementContext,h=p===void 0?Yo:p,g=n.altBoundary,v=g===void 0?!1:g,m=n.padding,y=m===void 0?0:m,x=Ay(typeof y!="number"?y:$y(y,qi)),w=h===Yo?$_:Yo,C=e.rects.popper,k=e.elements[v?w:h],_=mT(ys(k)?k:k.contextElement||Qr(e.elements.popper),c,u,a),j=ho(e.elements.reference),E=Ly({reference:j,element:C,placement:s}),T=Dd(Object.assign({},C,E)),S=h===Yo?T:j,M={top:_.top-S.top+x.top,bottom:S.bottom-_.bottom+x.bottom,left:_.left-S.left+x.left,right:S.right-_.right+x.right},D=e.modifiersData.offset;if(h===Yo&&D){var L=D[s];Object.keys(M).forEach(function(I){var P=[An,Dn].indexOf(I)>=0?1:-1,R=[dn,Dn].indexOf(I)>=0?"y":"x";M[I]+=L[R]*P})}return M}function gT(e,t){t===void 0&&(t={});var n=t,r=n.placement,s=n.boundary,i=n.rootBoundary,a=n.padding,l=n.flipVariations,c=n.allowedAutoPlacements,d=c===void 0?Ny:c,u=fo(r),p=u?l?gf:gf.filter(function(v){return fo(v)===u}):qi,h=p.filter(function(v){return d.indexOf(v)>=0});h.length===0&&(h=p);var g=h.reduce(function(v,m){return v[m]=Ti(e,{placement:m,boundary:s,rootBoundary:i,padding:a})[sr(m)],v},{});return Object.keys(g).sort(function(v,m){return g[v]-g[m]})}function vT(e){if(sr(e)===ep)return[];var t=Ia(e);return[xf(e),t,xf(t)]}function yT(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var s=n.mainAxis,i=s===void 0?!0:s,a=n.altAxis,l=a===void 0?!0:a,c=n.fallbackPlacements,d=n.padding,u=n.boundary,p=n.rootBoundary,h=n.altBoundary,g=n.flipVariations,v=g===void 0?!0:g,m=n.allowedAutoPlacements,y=t.options.placement,x=sr(y),w=x===y,C=c||(w||!v?[Ia(y)]:vT(y)),k=[y].concat(C).reduce(function(J,ae){return J.concat(sr(ae)===ep?gT(t,{placement:ae,boundary:u,rootBoundary:p,padding:d,flipVariations:v,allowedAutoPlacements:m}):ae)},[]),_=t.rects.reference,j=t.rects.popper,E=new Map,T=!0,S=k[0],M=0;M<k.length;M++){var D=k[M],L=sr(D),I=fo(D)===uo,P=[dn,Dn].indexOf(L)>=0,R=P?"width":"height",N=Ti(t,{placement:D,boundary:u,rootBoundary:p,altBoundary:h,padding:d}),O=P?I?An:un:I?Dn:dn;_[R]>j[R]&&(O=Ia(O));var z=Ia(O),$=[];if(i&&$.push(N[L]<=0),l&&$.push(N[O]<=0,N[z]<=0),$.every(function(J){return J})){S=D,T=!1;break}E.set(D,$)}if(T)for(var A=v?3:1,U=function(ae){var H=k.find(function(le){var ee=E.get(le);if(ee)return ee.slice(0,ae).every(function(X){return X})});if(H)return S=H,"break"},Y=A;Y>0;Y--){var G=U(Y);if(G==="break")break}t.placement!==S&&(t.modifiersData[r]._skip=!0,t.placement=S,t.reset=!0)}}const xT={name:"flip",enabled:!0,phase:"main",fn:yT,requiresIfExists:["offset"],data:{_skip:!1}};function Cf(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function wf(e){return[dn,An,Dn,un].some(function(t){return e[t]>=0})}function bT(e){var t=e.state,n=e.name,r=t.rects.reference,s=t.rects.popper,i=t.modifiersData.preventOverflow,a=Ti(t,{elementContext:"reference"}),l=Ti(t,{altBoundary:!0}),c=Cf(a,r),d=Cf(l,s,i),u=wf(c),p=wf(d);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:d,isReferenceHidden:u,hasPopperEscaped:p},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":p})}const CT={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:bT};function wT(e,t,n){var r=sr(e),s=[un,dn].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,a=i[0],l=i[1];return a=a||0,l=(l||0)*s,[un,An].indexOf(r)>=0?{x:l,y:a}:{x:a,y:l}}function jT(e){var t=e.state,n=e.options,r=e.name,s=n.offset,i=s===void 0?[0,0]:s,a=Ny.reduce(function(u,p){return u[p]=wT(p,t.rects,i),u},{}),l=a[t.placement],c=l.x,d=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=d),t.modifiersData[r]=a}const ST={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:jT};function kT(e){var t=e.state,n=e.name;t.modifiersData[n]=Ly({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const _T={name:"popperOffsets",enabled:!0,phase:"read",fn:kT,data:{}};function TT(e){return e==="x"?"y":"x"}function ET(e){var t=e.state,n=e.options,r=e.name,s=n.mainAxis,i=s===void 0?!0:s,a=n.altAxis,l=a===void 0?!1:a,c=n.boundary,d=n.rootBoundary,u=n.altBoundary,p=n.padding,h=n.tether,g=h===void 0?!0:h,v=n.tetherOffset,m=v===void 0?0:v,y=Ti(t,{boundary:c,rootBoundary:d,padding:p,altBoundary:u}),x=sr(t.placement),w=fo(t.placement),C=!w,k=rp(x),_=TT(k),j=t.modifiersData.popperOffsets,E=t.rects.reference,T=t.rects.popper,S=typeof m=="function"?m(Object.assign({},t.rects,{placement:t.placement})):m,M=typeof S=="number"?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),D=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,L={x:0,y:0};if(j){if(i){var I,P=k==="y"?dn:un,R=k==="y"?Dn:An,N=k==="y"?"height":"width",O=j[k],z=O+y[P],$=O-y[R],A=g?-T[N]/2:0,U=w===uo?E[N]:T[N],Y=w===uo?-T[N]:-E[N],G=t.elements.arrow,J=g&&G?np(G):{width:0,height:0},ae=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Dy(),H=ae[P],le=ae[R],ee=di(0,E[N],J[N]),X=C?E[N]/2-A-ee-H-M.mainAxis:U-ee-H-M.mainAxis,ie=C?-E[N]/2+A+ee+le+M.mainAxis:Y+ee+le+M.mainAxis,K=t.elements.arrow&&Ki(t.elements.arrow),W=K?k==="y"?K.clientTop||0:K.clientLeft||0:0,F=(I=D==null?void 0:D[k])!=null?I:0,q=O+X-F-W,ne=O+ie-F,pe=di(g?tl(z,q):z,O,g?ds($,ne):$);j[k]=pe,L[k]=pe-O}if(l){var Te,oe=k==="x"?dn:un,ce=k==="x"?Dn:An,xe=j[_],ve=_==="y"?"height":"width",Re=xe+y[oe],Me=xe-y[ce],Ie=[dn,un].indexOf(x)!==-1,wt=(Te=D==null?void 0:D[_])!=null?Te:0,Dt=Ie?Re:xe-E[ve]-T[ve]-wt+M.altAxis,At=Ie?xe+E[ve]+T[ve]-wt-M.altAxis:Me,Qe=g&&Ie?Z_(Dt,xe,At):di(g?Dt:Re,xe,g?At:Me);j[_]=Qe,L[_]=Qe-xe}t.modifiersData[r]=L}}const MT={name:"preventOverflow",enabled:!0,phase:"main",fn:ET,requiresIfExists:["offset"]};function PT(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function NT(e){return e===wn(e)||!Nn(e)?sp(e):PT(e)}function IT(e){var t=e.getBoundingClientRect(),n=po(t.width)/e.offsetWidth||1,r=po(t.height)/e.offsetHeight||1;return n!==1||r!==1}function RT(e,t,n){n===void 0&&(n=!1);var r=Nn(t),s=Nn(t)&&IT(t),i=Qr(t),a=ho(e,s,n),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((cr(t)!=="body"||ip(i))&&(l=NT(t)),Nn(t)?(c=ho(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):i&&(c.x=op(i))),{x:a.left+l.scrollLeft-c.x,y:a.top+l.scrollTop-c.y,width:a.width,height:a.height}}function DT(e){var t=new Map,n=new Set,r=[];e.forEach(function(i){t.set(i.name,i)});function s(i){n.add(i.name);var a=[].concat(i.requires||[],i.requiresIfExists||[]);a.forEach(function(l){if(!n.has(l)){var c=t.get(l);c&&s(c)}}),r.push(i)}return e.forEach(function(i){n.has(i.name)||s(i)}),r}function AT(e){var t=DT(e);return Y_.reduce(function(n,r){return n.concat(t.filter(function(s){return s.phase===r}))},[])}function $T(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function OT(e){var t=e.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var jf={placement:"bottom",modifiers:[],strategy:"absolute"};function Sf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function LT(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,s=t.defaultOptions,i=s===void 0?jf:s;return function(l,c,d){d===void 0&&(d=i);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},jf,i),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},p=[],h=!1,g={state:u,setOptions:function(x){var w=typeof x=="function"?x(u.options):x;m(),u.options=Object.assign({},i,u.options,w),u.scrollParents={reference:ys(l)?ui(l):l.contextElement?ui(l.contextElement):[],popper:ui(c)};var C=AT(OT([].concat(r,u.options.modifiers)));return u.orderedModifiers=C.filter(function(k){return k.enabled}),v(),g.update()},forceUpdate:function(){if(!h){var x=u.elements,w=x.reference,C=x.popper;if(Sf(w,C)){u.rects={reference:RT(w,Ki(C),u.options.strategy==="fixed"),popper:np(C)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(M){return u.modifiersData[M.name]=Object.assign({},M.data)});for(var k=0;k<u.orderedModifiers.length;k++){if(u.reset===!0){u.reset=!1,k=-1;continue}var _=u.orderedModifiers[k],j=_.fn,E=_.options,T=E===void 0?{}:E,S=_.name;typeof j=="function"&&(u=j({state:u,options:T,name:S,instance:g})||u)}}}},update:$T(function(){return new Promise(function(y){g.forceUpdate(),y(u)})}),destroy:function(){m(),h=!0}};if(!Sf(l,c))return g;g.setOptions(d).then(function(y){!h&&d.onFirstUpdate&&d.onFirstUpdate(y)});function v(){u.orderedModifiers.forEach(function(y){var x=y.name,w=y.options,C=w===void 0?{}:w,k=y.effect;if(typeof k=="function"){var _=k({state:u,name:x,instance:g,options:C}),j=function(){};p.push(_||j)}})}function m(){p.forEach(function(y){return y()}),p=[]}return g}}var FT=[lT,_T,iT,K_,ST,xT,MT,nT,CT],zT=LT({defaultModifiers:FT});function BT(e){return typeof e=="function"?e():e}const Fy=f.forwardRef(function(t,n){const{children:r,container:s,disablePortal:i=!1}=t,[a,l]=f.useState(null),c=vt(f.isValidElement(r)?ks(r):null,n);if(rn(()=>{i||l(BT(s)||document.body)},[s,i]),rn(()=>{if(a&&!i)return fd(n,a),()=>{fd(n,null)}},[n,a,i]),i){if(f.isValidElement(r)){const d={ref:c};return f.cloneElement(r,d)}return o.jsx(f.Fragment,{children:r})}return o.jsx(f.Fragment,{children:a&&Wm.createPortal(r,a)})});function WT(e){return he("MuiPopper",e)}fe("MuiPopper",["root"]);const HT=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],UT=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function VT(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function Ad(e){return typeof e=="function"?e():e}function YT(e){return e.nodeType!==void 0}const GT=e=>{const{classes:t}=e;return ge({root:["root"]},WT,t)},qT={},KT=f.forwardRef(function(t,n){var r;const{anchorEl:s,children:i,direction:a,disablePortal:l,modifiers:c,open:d,placement:u,popperOptions:p,popperRef:h,slotProps:g={},slots:v={},TransitionProps:m}=t,y=Z(t,HT),x=f.useRef(null),w=vt(x,n),C=f.useRef(null),k=vt(C,h),_=f.useRef(k);rn(()=>{_.current=k},[k]),f.useImperativeHandle(h,()=>C.current,[]);const j=VT(u,a),[E,T]=f.useState(j),[S,M]=f.useState(Ad(s));f.useEffect(()=>{C.current&&C.current.forceUpdate()}),f.useEffect(()=>{s&&M(Ad(s))},[s]),rn(()=>{if(!S||!d)return;const R=z=>{T(z.placement)};let N=[{name:"preventOverflow",options:{altBoundary:l}},{name:"flip",options:{altBoundary:l}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:z})=>{R(z)}}];c!=null&&(N=N.concat(c)),p&&p.modifiers!=null&&(N=N.concat(p.modifiers));const O=zT(S,x.current,b({placement:j},p,{modifiers:N}));return _.current(O),()=>{O.destroy(),_.current(null)}},[S,l,c,d,p,j]);const D={placement:E};m!==null&&(D.TransitionProps=m);const L=GT(t),I=(r=v.root)!=null?r:"div",P=Ur({elementType:I,externalSlotProps:g.root,externalForwardedProps:y,additionalProps:{role:"tooltip",ref:w},ownerState:t,className:L.root});return o.jsx(I,b({},P,{children:typeof i=="function"?i(D):i}))}),QT=f.forwardRef(function(t,n){const{anchorEl:r,children:s,container:i,direction:a="ltr",disablePortal:l=!1,keepMounted:c=!1,modifiers:d,open:u,placement:p="bottom",popperOptions:h=qT,popperRef:g,style:v,transition:m=!1,slotProps:y={},slots:x={}}=t,w=Z(t,UT),[C,k]=f.useState(!0),_=()=>{k(!1)},j=()=>{k(!0)};if(!c&&!u&&(!m||C))return null;let E;if(i)E=i;else if(r){const M=Ad(r);E=M&&YT(M)?Bt(M).body:Bt(null).body}const T=!u&&c&&(!m||C)?"none":void 0,S=m?{in:u,onEnter:_,onExited:j}:void 0;return o.jsx(Fy,{disablePortal:l,container:E,children:o.jsx(KT,b({anchorEl:r,direction:a,disablePortal:l,modifiers:d,ref:n,open:m?!C:u,placement:p,popperOptions:h,popperRef:g,slotProps:y,slots:x},w,{style:b({position:"fixed",top:0,left:0,display:T},v),TransitionProps:S,children:s}))})}),XT=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],ZT=V(QT,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),zy=f.forwardRef(function(t,n){var r;const s=Ey(),i=we({props:t,name:"MuiPopper"}),{anchorEl:a,component:l,components:c,componentsProps:d,container:u,disablePortal:p,keepMounted:h,modifiers:g,open:v,placement:m,popperOptions:y,popperRef:x,transition:w,slots:C,slotProps:k}=i,_=Z(i,XT),j=(r=C==null?void 0:C.root)!=null?r:c==null?void 0:c.Root,E=b({anchorEl:a,container:u,disablePortal:p,keepMounted:h,modifiers:g,open:v,placement:m,popperOptions:y,popperRef:x,transition:w},_);return o.jsx(ZT,b({as:l,direction:s==null?void 0:s.direction,slots:{root:j},slotProps:k??d},E,{ref:n}))}),JT=ue(o.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function eE(e){return he("MuiChip",e)}const et=fe("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),tE=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],nE=e=>{const{classes:t,disabled:n,size:r,color:s,iconColor:i,onDelete:a,clickable:l,variant:c}=e,d={root:["root",c,n&&"disabled",`size${Q(r)}`,`color${Q(s)}`,l&&"clickable",l&&`clickableColor${Q(s)}`,a&&"deletable",a&&`deletableColor${Q(s)}`,`${c}${Q(s)}`],label:["label",`label${Q(r)}`],avatar:["avatar",`avatar${Q(r)}`,`avatarColor${Q(s)}`],icon:["icon",`icon${Q(r)}`,`iconColor${Q(i)}`],deleteIcon:["deleteIcon",`deleteIcon${Q(r)}`,`deleteIconColor${Q(s)}`,`deleteIcon${Q(c)}Color${Q(s)}`]};return ge(d,eE,t)},rE=V("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:r,iconColor:s,clickable:i,onDelete:a,size:l,variant:c}=n;return[{[`& .${et.avatar}`]:t.avatar},{[`& .${et.avatar}`]:t[`avatar${Q(l)}`]},{[`& .${et.avatar}`]:t[`avatarColor${Q(r)}`]},{[`& .${et.icon}`]:t.icon},{[`& .${et.icon}`]:t[`icon${Q(l)}`]},{[`& .${et.icon}`]:t[`iconColor${Q(s)}`]},{[`& .${et.deleteIcon}`]:t.deleteIcon},{[`& .${et.deleteIcon}`]:t[`deleteIcon${Q(l)}`]},{[`& .${et.deleteIcon}`]:t[`deleteIconColor${Q(r)}`]},{[`& .${et.deleteIcon}`]:t[`deleteIcon${Q(c)}Color${Q(r)}`]},t.root,t[`size${Q(l)}`],t[`color${Q(r)}`],i&&t.clickable,i&&r!=="default"&&t[`clickableColor${Q(r)})`],a&&t.deletable,a&&r!=="default"&&t[`deletableColor${Q(r)}`],t[c],t[`${c}${Q(r)}`]]}})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return b({maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${et.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${et.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:n,fontSize:e.typography.pxToRem(12)},[`& .${et.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${et.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${et.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${et.icon}`]:b({marginLeft:5,marginRight:-6},t.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},t.iconColor===t.color&&b({color:e.vars?e.vars.palette.Chip.defaultIconColor:n},t.color!=="default"&&{color:"inherit"})),[`& .${et.deleteIcon}`]:b({WebkitTapHighlightColor:"transparent",color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.26)`:ze(e.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:ze(e.palette.text.primary,.4)}},t.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},t.color!=="default"&&{color:e.vars?`rgba(${e.vars.palette[t.color].contrastTextChannel} / 0.7)`:ze(e.palette[t.color].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].contrastText}})},t.size==="small"&&{height:24},t.color!=="default"&&{backgroundColor:(e.vars||e).palette[t.color].main,color:(e.vars||e).palette[t.color].contrastText},t.onDelete&&{[`&.${et.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:ze(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},t.onDelete&&t.color!=="default"&&{[`&.${et.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}})},({theme:e,ownerState:t})=>b({},t.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:ze(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)},[`&.${et.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:ze(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},"&:active":{boxShadow:(e.vars||e).shadows[1]}},t.clickable&&t.color!=="default"&&{[`&:hover, &.${et.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}}),({theme:e,ownerState:t})=>b({},t.variant==="outlined"&&{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${et.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${et.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${et.avatar}`]:{marginLeft:4},[`& .${et.avatarSmall}`]:{marginLeft:2},[`& .${et.icon}`]:{marginLeft:4},[`& .${et.iconSmall}`]:{marginLeft:2},[`& .${et.deleteIcon}`]:{marginRight:5},[`& .${et.deleteIconSmall}`]:{marginRight:3}},t.variant==="outlined"&&t.color!=="default"&&{color:(e.vars||e).palette[t.color].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:ze(e.palette[t.color].main,.7)}`,[`&.${et.clickable}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ze(e.palette[t.color].main,e.palette.action.hoverOpacity)},[`&.${et.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.focusOpacity})`:ze(e.palette[t.color].main,e.palette.action.focusOpacity)},[`& .${et.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:ze(e.palette[t.color].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].main}}})),sE=V("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:r}=n;return[t.label,t[`label${Q(r)}`]]}})(({ownerState:e})=>b({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},e.variant==="outlined"&&{paddingLeft:11,paddingRight:11},e.size==="small"&&{paddingLeft:8,paddingRight:8},e.size==="small"&&e.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function kf(e){return e.key==="Backspace"||e.key==="Delete"}const Tr=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiChip"}),{avatar:s,className:i,clickable:a,color:l="default",component:c,deleteIcon:d,disabled:u=!1,icon:p,label:h,onClick:g,onDelete:v,onKeyDown:m,onKeyUp:y,size:x="medium",variant:w="filled",tabIndex:C,skipFocusWhenDisabled:k=!1}=r,_=Z(r,tE),j=f.useRef(null),E=vt(j,n),T=$=>{$.stopPropagation(),v&&v($)},S=$=>{$.currentTarget===$.target&&kf($)&&$.preventDefault(),m&&m($)},M=$=>{$.currentTarget===$.target&&(v&&kf($)?v($):$.key==="Escape"&&j.current&&j.current.blur()),y&&y($)},D=a!==!1&&g?!0:a,L=D||v?Yr:c||"div",I=b({},r,{component:L,disabled:u,size:x,color:l,iconColor:f.isValidElement(p)&&p.props.color||l,onDelete:!!v,clickable:D,variant:w}),P=nE(I),R=L===Yr?b({component:c||"div",focusVisibleClassName:P.focusVisible},v&&{disableRipple:!0}):{};let N=null;v&&(N=d&&f.isValidElement(d)?f.cloneElement(d,{className:re(d.props.className,P.deleteIcon),onClick:T}):o.jsx(JT,{className:re(P.deleteIcon),onClick:T}));let O=null;s&&f.isValidElement(s)&&(O=f.cloneElement(s,{className:re(P.avatar,s.props.className)}));let z=null;return p&&f.isValidElement(p)&&(z=f.cloneElement(p,{className:re(P.icon,p.props.className)})),o.jsxs(rE,b({as:L,className:re(P.root,i),disabled:D&&u?!0:void 0,onClick:g,onKeyDown:S,onKeyUp:M,ref:E,tabIndex:k&&u?-1:C,ownerState:I},R,_,{children:[O||z,o.jsx(sE,{className:re(P.label),ownerState:I,children:h}),N]}))}),oE=["onChange","maxRows","minRows","style","value"];function ca(e){return parseInt(e,10)||0}const iE={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function aE(e){for(const t in e)return!1;return!0}function _f(e){return aE(e)||e.outerHeightStyle===0&&!e.overflowing}const lE=f.forwardRef(function(t,n){const{onChange:r,maxRows:s,minRows:i=1,style:a,value:l}=t,c=Z(t,oE),{current:d}=f.useRef(l!=null),u=f.useRef(null),p=vt(n,u),h=f.useRef(null),g=f.useRef(null),v=f.useCallback(()=>{const C=u.current,k=g.current;if(!C||!k)return;const j=fs(C).getComputedStyle(C);if(j.width==="0px")return{outerHeightStyle:0,overflowing:!1};k.style.width=j.width,k.value=C.value||t.placeholder||"x",k.value.slice(-1)===`
`&&(k.value+=" ");const E=j.boxSizing,T=ca(j.paddingBottom)+ca(j.paddingTop),S=ca(j.borderBottomWidth)+ca(j.borderTopWidth),M=k.scrollHeight;k.value="x";const D=k.scrollHeight;let L=M;i&&(L=Math.max(Number(i)*D,L)),s&&(L=Math.min(Number(s)*D,L)),L=Math.max(L,D);const I=L+(E==="border-box"?T+S:0),P=Math.abs(L-M)<=1;return{outerHeightStyle:I,overflowing:P}},[s,i,t.placeholder]),m=De(()=>{const C=u.current,k=v();if(!C||!k||_f(k))return!1;const _=k.outerHeightStyle;return h.current!=null&&h.current!==_}),y=f.useCallback(()=>{const C=u.current,k=v();if(!C||!k||_f(k))return;const _=k.outerHeightStyle;h.current!==_&&(h.current=_,C.style.height=`${_}px`),C.style.overflow=k.overflowing?"hidden":""},[v]),x=f.useRef(-1);rn(()=>{const C=Bg(y),k=u==null?void 0:u.current;if(!k)return;const _=fs(k);_.addEventListener("resize",C);let j;return typeof ResizeObserver<"u"&&(j=new ResizeObserver(()=>{m()&&(j.unobserve(k),cancelAnimationFrame(x.current),y(),x.current=requestAnimationFrame(()=>{j.observe(k)}))}),j.observe(k)),()=>{C.clear(),cancelAnimationFrame(x.current),_.removeEventListener("resize",C),j&&j.disconnect()}},[v,y,m]),rn(()=>{y()});const w=C=>{d||y(),r&&r(C)};return o.jsxs(f.Fragment,{children:[o.jsx("textarea",b({value:l,onChange:w,ref:p,rows:i,style:a},c)),o.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:g,tabIndex:-1,style:b({},iE.shadow,a,{paddingTop:0,paddingBottom:0})})]})});function Xr({props:e,states:t,muiFormControl:n}){return t.reduce((r,s)=>(r[s]=e[s],n&&typeof e[s]>"u"&&(r[s]=n[s]),r),{})}const nc=f.createContext(void 0);function ur(){return f.useContext(nc)}function Tf(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function nl(e,t=!1){return e&&(Tf(e.value)&&e.value!==""||t&&Tf(e.defaultValue)&&e.defaultValue!=="")}function cE(e){return e.startAdornment}function dE(e){return he("MuiInputBase",e)}const mo=fe("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),uE=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],rc=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,n.size==="small"&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${Q(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},sc=(e,t)=>{const{ownerState:n}=e;return[t.input,n.size==="small"&&t.inputSizeSmall,n.multiline&&t.inputMultiline,n.type==="search"&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},pE=e=>{const{classes:t,color:n,disabled:r,error:s,endAdornment:i,focused:a,formControl:l,fullWidth:c,hiddenLabel:d,multiline:u,readOnly:p,size:h,startAdornment:g,type:v}=e,m={root:["root",`color${Q(n)}`,r&&"disabled",s&&"error",c&&"fullWidth",a&&"focused",l&&"formControl",h&&h!=="medium"&&`size${Q(h)}`,u&&"multiline",g&&"adornedStart",i&&"adornedEnd",d&&"hiddenLabel",p&&"readOnly"],input:["input",r&&"disabled",v==="search"&&"inputTypeSearch",u&&"inputMultiline",h==="small"&&"inputSizeSmall",d&&"inputHiddenLabel",g&&"inputAdornedStart",i&&"inputAdornedEnd",p&&"readOnly"]};return ge(m,dE,t)},oc=V("div",{name:"MuiInputBase",slot:"Root",overridesResolver:rc})(({theme:e,ownerState:t})=>b({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${mo.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&b({padding:"4px 0 5px"},t.size==="small"&&{paddingTop:1}),t.fullWidth&&{width:"100%"})),ic=V("input",{name:"MuiInputBase",slot:"Input",overridesResolver:sc})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light",r=b({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),s={opacity:"0 !important"},i=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return b({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${mo.formControl} &`]:{"&::-webkit-input-placeholder":s,"&::-moz-placeholder":s,"&:-ms-input-placeholder":s,"&::-ms-input-placeholder":s,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus:-ms-input-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${mo.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},t.size==="small"&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},t.type==="search"&&{MozAppearance:"textfield"})}),hE=o.jsx(cv,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),ap=f.forwardRef(function(t,n){var r;const s=we({props:t,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:a,autoFocus:l,className:c,components:d={},componentsProps:u={},defaultValue:p,disabled:h,disableInjectingGlobalStyles:g,endAdornment:v,fullWidth:m=!1,id:y,inputComponent:x="input",inputProps:w={},inputRef:C,maxRows:k,minRows:_,multiline:j=!1,name:E,onBlur:T,onChange:S,onClick:M,onFocus:D,onKeyDown:L,onKeyUp:I,placeholder:P,readOnly:R,renderSuffix:N,rows:O,slotProps:z={},slots:$={},startAdornment:A,type:U="text",value:Y}=s,G=Z(s,uE),J=w.value!=null?w.value:Y,{current:ae}=f.useRef(J!=null),H=f.useRef(),le=f.useCallback(Qe=>{},[]),ee=vt(H,C,w.ref,le),[X,ie]=f.useState(!1),K=ur(),W=Xr({props:s,muiFormControl:K,states:["color","disabled","error","hiddenLabel","size","required","filled"]});W.focused=K?K.focused:X,f.useEffect(()=>{!K&&h&&X&&(ie(!1),T&&T())},[K,h,X,T]);const F=K&&K.onFilled,q=K&&K.onEmpty,ne=f.useCallback(Qe=>{nl(Qe)?F&&F():q&&q()},[F,q]);rn(()=>{ae&&ne({value:J})},[J,ne,ae]);const pe=Qe=>{if(W.disabled){Qe.stopPropagation();return}D&&D(Qe),w.onFocus&&w.onFocus(Qe),K&&K.onFocus?K.onFocus(Qe):ie(!0)},Te=Qe=>{T&&T(Qe),w.onBlur&&w.onBlur(Qe),K&&K.onBlur?K.onBlur(Qe):ie(!1)},oe=(Qe,..._e)=>{if(!ae){const Et=Qe.target||H.current;if(Et==null)throw new Error(jr(1));ne({value:Et.value})}w.onChange&&w.onChange(Qe,..._e),S&&S(Qe,..._e)};f.useEffect(()=>{ne(H.current)},[]);const ce=Qe=>{H.current&&Qe.currentTarget===Qe.target&&H.current.focus(),M&&M(Qe)};let xe=x,ve=w;j&&xe==="input"&&(O?ve=b({type:void 0,minRows:O,maxRows:O},ve):ve=b({type:void 0,maxRows:k,minRows:_},ve),xe=lE);const Re=Qe=>{ne(Qe.animationName==="mui-auto-fill-cancel"?H.current:{value:"x"})};f.useEffect(()=>{K&&K.setAdornedStart(!!A)},[K,A]);const Me=b({},s,{color:W.color||"primary",disabled:W.disabled,endAdornment:v,error:W.error,focused:W.focused,formControl:K,fullWidth:m,hiddenLabel:W.hiddenLabel,multiline:j,size:W.size,startAdornment:A,type:U}),Ie=pE(Me),wt=$.root||d.Root||oc,Dt=z.root||u.root||{},At=$.input||d.Input||ic;return ve=b({},ve,(r=z.input)!=null?r:u.input),o.jsxs(f.Fragment,{children:[!g&&hE,o.jsxs(wt,b({},Dt,!so(wt)&&{ownerState:b({},Me,Dt.ownerState)},{ref:n,onClick:ce},G,{className:re(Ie.root,Dt.className,c,R&&"MuiInputBase-readOnly"),children:[A,o.jsx(nc.Provider,{value:null,children:o.jsx(At,b({ownerState:Me,"aria-invalid":W.error,"aria-describedby":i,autoComplete:a,autoFocus:l,defaultValue:p,disabled:W.disabled,id:y,onAnimationStart:Re,name:E,placeholder:P,readOnly:R,required:W.required,rows:O,value:J,onKeyDown:L,onKeyUp:I,type:U},ve,!so(At)&&{as:xe,ownerState:b({},Me,ve.ownerState)},{ref:ee,className:re(Ie.input,ve.className,R&&"MuiInputBase-readOnly"),onBlur:Te,onChange:oe,onFocus:pe}))}),v,N?N(b({},W,{startAdornment:A})):null]}))]})});function fE(e){return he("MuiInput",e)}const Go=b({},mo,fe("MuiInput",["root","underline","input"]));function mE(e){return he("MuiOutlinedInput",e)}const Rr=b({},mo,fe("MuiOutlinedInput",["root","notchedOutline","input"]));function gE(e){return he("MuiFilledInput",e)}const Jr=b({},mo,fe("MuiFilledInput",["root","underline","input"])),vE=ue(o.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),yE=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],xE={entering:{opacity:1},entered:{opacity:1}},Qi=f.forwardRef(function(t,n){const r=Vn(),s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:i,appear:a=!0,children:l,easing:c,in:d,onEnter:u,onEntered:p,onEntering:h,onExit:g,onExited:v,onExiting:m,style:y,timeout:x=s,TransitionComponent:w=Fn}=t,C=Z(t,yE),k=f.useRef(null),_=vt(k,ks(l),n),j=P=>R=>{if(P){const N=k.current;R===void 0?P(N):P(N,R)}},E=j(h),T=j((P,R)=>{Ty(P);const N=co({style:y,timeout:x,easing:c},{mode:"enter"});P.style.webkitTransition=r.transitions.create("opacity",N),P.style.transition=r.transitions.create("opacity",N),u&&u(P,R)}),S=j(p),M=j(m),D=j(P=>{const R=co({style:y,timeout:x,easing:c},{mode:"exit"});P.style.webkitTransition=r.transitions.create("opacity",R),P.style.transition=r.transitions.create("opacity",R),g&&g(P)}),L=j(v),I=P=>{i&&i(k.current,P)};return o.jsx(w,b({appear:a,in:d,nodeRef:k,onEnter:T,onEntered:S,onEntering:E,onExit:D,onExited:L,onExiting:M,addEndListener:I,timeout:x},C,{children:(P,R)=>f.cloneElement(l,b({style:b({opacity:0,visibility:P==="exited"&&!d?"hidden":void 0},xE[P],y,l.props.style),ref:_},R))}))});function bE(e){return he("MuiBackdrop",e)}fe("MuiBackdrop",["root","invisible"]);const CE=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],wE=e=>{const{classes:t,invisible:n}=e;return ge({root:["root",n&&"invisible"]},bE,t)},jE=V("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})(({ownerState:e})=>b({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"})),By=f.forwardRef(function(t,n){var r,s,i;const a=we({props:t,name:"MuiBackdrop"}),{children:l,className:c,component:d="div",components:u={},componentsProps:p={},invisible:h=!1,open:g,slotProps:v={},slots:m={},TransitionComponent:y=Qi,transitionDuration:x}=a,w=Z(a,CE),C=b({},a,{component:d,invisible:h}),k=wE(C),_=(r=v.root)!=null?r:p.root;return o.jsx(y,b({in:g,timeout:x},w,{children:o.jsx(jE,b({"aria-hidden":!0},_,{as:(s=(i=m.root)!=null?i:u.Root)!=null?s:d,className:re(k.root,c,_==null?void 0:_.className),ownerState:b({},C,_==null?void 0:_.ownerState),classes:k,ref:n,children:l}))}))}),SE=fe("MuiBox",["root"]),kE=_u(),te=K1({themeId:ps,defaultTheme:kE,defaultClassName:SE.root,generateClassName:Ng.generate});function _E(e){return he("MuiButton",e)}const da=fe("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),TE=f.createContext({}),EE=f.createContext(void 0),ME=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],PE=e=>{const{color:t,disableElevation:n,fullWidth:r,size:s,variant:i,classes:a}=e,l={root:["root",i,`${i}${Q(t)}`,`size${Q(s)}`,`${i}Size${Q(s)}`,`color${Q(t)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${Q(s)}`],endIcon:["icon","endIcon",`iconSize${Q(s)}`]},c=ge(l,_E,a);return b({},a,c)},Wy=e=>b({},e.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},e.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},e.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),NE=V(Yr,{shouldForwardProp:e=>mn(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${Q(n.color)}`],t[`size${Q(n.size)}`],t[`${n.variant}Size${Q(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(({theme:e,ownerState:t})=>{var n,r;const s=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],i=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return b({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":b({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:ze(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="text"&&t.color!=="inherit"&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ze(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="outlined"&&t.color!=="inherit"&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ze(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="contained"&&{backgroundColor:e.vars?e.vars.palette.Button.inheritContainedHoverBg:i,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},t.variant==="contained"&&t.color!=="inherit"&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":b({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${da.focusVisible}`]:b({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${da.disabled}`]:b({color:(e.vars||e).palette.action.disabled},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},t.variant==="contained"&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},t.variant==="text"&&{padding:"6px 8px"},t.variant==="text"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main},t.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},t.variant==="outlined"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${ze(e.palette[t.color].main,.5)}`},t.variant==="contained"&&{color:e.vars?e.vars.palette.text.primary:(n=(r=e.palette).getContrastText)==null?void 0:n.call(r,e.palette.grey[300]),backgroundColor:e.vars?e.vars.palette.Button.inheritContainedBg:s,boxShadow:(e.vars||e).shadows[2]},t.variant==="contained"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},t.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},t.size==="small"&&t.variant==="text"&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="text"&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="outlined"&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="outlined"&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="contained"&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="contained"&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${da.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${da.disabled}`]:{boxShadow:"none"}}),IE=V("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${Q(n.size)}`]]}})(({ownerState:e})=>b({display:"inherit",marginRight:8,marginLeft:-4},e.size==="small"&&{marginLeft:-2},Wy(e))),RE=V("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${Q(n.size)}`]]}})(({ownerState:e})=>b({display:"inherit",marginRight:-4,marginLeft:8},e.size==="small"&&{marginRight:-2},Wy(e))),ke=f.forwardRef(function(t,n){const r=f.useContext(TE),s=f.useContext(EE),i=Ci(r,t),a=we({props:i,name:"MuiButton"}),{children:l,color:c="primary",component:d="button",className:u,disabled:p=!1,disableElevation:h=!1,disableFocusRipple:g=!1,endIcon:v,focusVisibleClassName:m,fullWidth:y=!1,size:x="medium",startIcon:w,type:C,variant:k="text"}=a,_=Z(a,ME),j=b({},a,{color:c,component:d,disabled:p,disableElevation:h,disableFocusRipple:g,fullWidth:y,size:x,type:C,variant:k}),E=PE(j),T=w&&o.jsx(IE,{className:E.startIcon,ownerState:j,children:w}),S=v&&o.jsx(RE,{className:E.endIcon,ownerState:j,children:v}),M=s||"";return o.jsxs(NE,b({ownerState:j,className:re(r.className,E.root,u,M),component:d,disabled:p,focusRipple:!g,focusVisibleClassName:re(E.focusVisible,m),ref:n,type:C},_,{classes:E,children:[T,l,S]}))});function DE(e){return he("MuiCard",e)}fe("MuiCard",["root"]);const AE=["className","raised"],$E=e=>{const{classes:t}=e;return ge({root:["root"]},DE,t)},OE=V(sn,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),ot=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiCard"}),{className:s,raised:i=!1}=r,a=Z(r,AE),l=b({},r,{raised:i}),c=$E(l);return o.jsx(OE,b({className:re(c.root,s),elevation:i?8:void 0,ref:n,ownerState:l},a))});function LE(e){return he("MuiCardActions",e)}fe("MuiCardActions",["root","spacing"]);const FE=["disableSpacing","className"],zE=e=>{const{classes:t,disableSpacing:n}=e;return ge({root:["root",!n&&"spacing"]},LE,t)},BE=V("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})(({ownerState:e})=>b({display:"flex",alignItems:"center",padding:8},!e.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),WE=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiCardActions"}),{disableSpacing:s=!1,className:i}=r,a=Z(r,FE),l=b({},r,{disableSpacing:s}),c=zE(l);return o.jsx(BE,b({className:re(c.root,i),ownerState:l,ref:n},a))});function HE(e){return he("MuiCardContent",e)}fe("MuiCardContent",["root"]);const UE=["className","component"],VE=e=>{const{classes:t}=e;return ge({root:["root"]},HE,t)},YE=V("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),it=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiCardContent"}),{className:s,component:i="div"}=r,a=Z(r,UE),l=b({},r,{component:i}),c=VE(l);return o.jsx(YE,b({as:i,className:re(c.root,s),ownerState:l,ref:n},a))});function GE(e){return he("PrivateSwitchBase",e)}fe("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const qE=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],KE=e=>{const{classes:t,checked:n,disabled:r,edge:s}=e,i={root:["root",n&&"checked",r&&"disabled",s&&`edge${Q(s)}`],input:["input"]};return ge(i,GE,t)},QE=V(Yr,{name:"MuiSwitchBase"})(({ownerState:e})=>b({padding:9,borderRadius:"50%"},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12})),XE=V("input",{name:"MuiSwitchBase",shouldForwardProp:mn})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Hy=f.forwardRef(function(t,n){const{autoFocus:r,checked:s,checkedIcon:i,className:a,defaultChecked:l,disabled:c,disableFocusRipple:d=!1,edge:u=!1,icon:p,id:h,inputProps:g,inputRef:v,name:m,onBlur:y,onChange:x,onFocus:w,readOnly:C,required:k=!1,tabIndex:_,type:j,value:E}=t,T=Z(t,qE),[S,M]=lr({controlled:s,default:!!l,name:"SwitchBase",state:"checked"}),D=ur(),L=$=>{w&&w($),D&&D.onFocus&&D.onFocus($)},I=$=>{y&&y($),D&&D.onBlur&&D.onBlur($)},P=$=>{if($.nativeEvent.defaultPrevented)return;const A=$.target.checked;M(A),x&&x($,A)};let R=c;D&&typeof R>"u"&&(R=D.disabled);const N=j==="checkbox"||j==="radio",O=b({},t,{checked:S,disabled:R,disableFocusRipple:d,edge:u}),z=KE(O);return o.jsxs(QE,b({component:"span",className:re(z.root,a),centerRipple:!0,focusRipple:!d,disabled:R,tabIndex:null,role:void 0,onFocus:L,onBlur:I,ownerState:O,ref:n},T,{children:[o.jsx(XE,b({autoFocus:r,checked:s,defaultChecked:l,className:z.input,disabled:R,id:N?h:void 0,name:m,onChange:P,readOnly:C,ref:v,required:k,ownerState:O,tabIndex:_,type:j},j==="checkbox"&&E===void 0?{}:{value:E},g)),S?i:p]}))}),ZE=ue(o.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),JE=ue(o.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),eM=ue(o.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function tM(e){return he("MuiCheckbox",e)}const Bc=fe("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),nM=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],rM=e=>{const{classes:t,indeterminate:n,color:r,size:s}=e,i={root:["root",n&&"indeterminate",`color${Q(r)}`,`size${Q(s)}`]},a=ge(i,tM,t);return b({},t,a)},sM=V(Hy,{shouldForwardProp:e=>mn(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,t[`size${Q(n.size)}`],n.color!=="default"&&t[`color${Q(n.color)}`]]}})(({theme:e,ownerState:t})=>b({color:(e.vars||e).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${t.color==="default"?e.vars.palette.action.activeChannel:e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ze(t.color==="default"?e.palette.action.active:e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${Bc.checked}, &.${Bc.indeterminate}`]:{color:(e.vars||e).palette[t.color].main},[`&.${Bc.disabled}`]:{color:(e.vars||e).palette.action.disabled}})),oM=o.jsx(JE,{}),iM=o.jsx(ZE,{}),aM=o.jsx(eM,{}),lM=f.forwardRef(function(t,n){var r,s;const i=we({props:t,name:"MuiCheckbox"}),{checkedIcon:a=oM,color:l="primary",icon:c=iM,indeterminate:d=!1,indeterminateIcon:u=aM,inputProps:p,size:h="medium",className:g}=i,v=Z(i,nM),m=d?u:c,y=d?u:a,x=b({},i,{color:l,indeterminate:d,size:h}),w=rM(x);return o.jsx(sM,b({type:"checkbox",inputProps:b({"data-indeterminate":d},p),icon:f.cloneElement(m,{fontSize:(r=m.props.fontSize)!=null?r:h}),checkedIcon:f.cloneElement(y,{fontSize:(s=y.props.fontSize)!=null?s:h}),ownerState:x,ref:n,className:re(w.root,g)},v,{classes:w}))});function cM(e){return he("MuiCircularProgress",e)}fe("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const dM=["className","color","disableShrink","size","style","thickness","value","variant"];let ac=e=>e,Ef,Mf,Pf,Nf;const Dr=44,uM=Nr(Ef||(Ef=ac`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),pM=Nr(Mf||(Mf=ac`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),hM=e=>{const{classes:t,variant:n,color:r,disableShrink:s}=e,i={root:["root",n,`color${Q(r)}`],svg:["svg"],circle:["circle",`circle${Q(n)}`,s&&"circleDisableShrink"]};return ge(i,cM,t)},fM=V("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${Q(n.color)}`]]}})(({ownerState:e,theme:t})=>b({display:"inline-block"},e.variant==="determinate"&&{transition:t.transitions.create("transform")},e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main}),({ownerState:e})=>e.variant==="indeterminate"&&Ss(Pf||(Pf=ac`
      animation: ${0} 1.4s linear infinite;
    `),uM)),mM=V("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),gM=V("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${Q(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(({ownerState:e,theme:t})=>b({stroke:"currentColor"},e.variant==="determinate"&&{transition:t.transitions.create("stroke-dashoffset")},e.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink&&Ss(Nf||(Nf=ac`
      animation: ${0} 1.4s ease-in-out infinite;
    `),pM)),pn=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiCircularProgress"}),{className:s,color:i="primary",disableShrink:a=!1,size:l=40,style:c,thickness:d=3.6,value:u=0,variant:p="indeterminate"}=r,h=Z(r,dM),g=b({},r,{color:i,disableShrink:a,size:l,thickness:d,value:u,variant:p}),v=hM(g),m={},y={},x={};if(p==="determinate"){const w=2*Math.PI*((Dr-d)/2);m.strokeDasharray=w.toFixed(3),x["aria-valuenow"]=Math.round(u),m.strokeDashoffset=`${((100-u)/100*w).toFixed(3)}px`,y.transform="rotate(-90deg)"}return o.jsx(fM,b({className:re(v.root,s),style:b({width:l,height:l},y,c),ownerState:g,ref:n,role:"progressbar"},x,h,{children:o.jsx(mM,{className:v.svg,ownerState:g,viewBox:`${Dr/2} ${Dr/2} ${Dr} ${Dr}`,children:o.jsx(gM,{className:v.circle,style:m,ownerState:g,cx:Dr,cy:Dr,r:(Dr-d)/2,fill:"none",strokeWidth:d})})}))});function If(e){return e.substring(2).toLowerCase()}function vM(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function yM(e){const{children:t,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:s,touchEvent:i="onTouchEnd"}=e,a=f.useRef(!1),l=f.useRef(null),c=f.useRef(!1),d=f.useRef(!1);f.useEffect(()=>(setTimeout(()=>{c.current=!0},0),()=>{c.current=!1}),[]);const u=vt(ks(t),l),p=De(v=>{const m=d.current;d.current=!1;const y=Bt(l.current);if(!c.current||!l.current||"clientX"in v&&vM(v,y))return;if(a.current){a.current=!1;return}let x;v.composedPath?x=v.composedPath().indexOf(l.current)>-1:x=!y.documentElement.contains(v.target)||l.current.contains(v.target),!x&&(n||!m)&&s(v)}),h=v=>m=>{d.current=!0;const y=t.props[v];y&&y(m)},g={ref:u};return i!==!1&&(g[i]=h(i)),f.useEffect(()=>{if(i!==!1){const v=If(i),m=Bt(l.current),y=()=>{a.current=!0};return m.addEventListener(v,p),m.addEventListener("touchmove",y),()=>{m.removeEventListener(v,p),m.removeEventListener("touchmove",y)}}},[p,i]),r!==!1&&(g[r]=h(r)),f.useEffect(()=>{if(r!==!1){const v=If(r),m=Bt(l.current);return m.addEventListener(v,p),()=>{m.removeEventListener(v,p)}}},[p,r]),o.jsx(f.Fragment,{children:f.cloneElement(t,g)})}const pi=GC({createStyledComponent:V("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${Q(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>we({props:e,name:"MuiContainer"})});function xM(e){const t=Bt(e);return t.body===e?fs(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function hi(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Rf(e){return parseInt(fs(e).getComputedStyle(e).paddingRight,10)||0}function bM(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName)!==-1,r=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||r}function Df(e,t,n,r,s){const i=[t,n,...r];[].forEach.call(e.children,a=>{const l=i.indexOf(a)===-1,c=!bM(a);l&&c&&hi(a,s)})}function Wc(e,t){let n=-1;return e.some((r,s)=>t(r)?(n=s,!0):!1),n}function CM(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(xM(r)){const a=Hg(Bt(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${Rf(r)+a}px`;const l=Bt(r).querySelectorAll(".mui-fixed");[].forEach.call(l,c=>{n.push({value:c.style.paddingRight,property:"padding-right",el:c}),c.style.paddingRight=`${Rf(c)+a}px`})}let i;if(r.parentNode instanceof DocumentFragment)i=Bt(r).body;else{const a=r.parentElement,l=fs(r);i=(a==null?void 0:a.nodeName)==="HTML"&&l.getComputedStyle(a).overflowY==="scroll"?a:r}n.push({value:i.style.overflow,property:"overflow",el:i},{value:i.style.overflowX,property:"overflow-x",el:i},{value:i.style.overflowY,property:"overflow-y",el:i}),i.style.overflow="hidden"}return()=>{n.forEach(({value:i,el:a,property:l})=>{i?a.style.setProperty(l,i):a.style.removeProperty(l)})}}function wM(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class jM{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(t,n){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&hi(t.modalRef,!1);const s=wM(n);Df(n,t.mount,t.modalRef,s,!0);const i=Wc(this.containers,a=>a.container===n);return i!==-1?(this.containers[i].modals.push(t),r):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:s}),r)}mount(t,n){const r=Wc(this.containers,i=>i.modals.indexOf(t)!==-1),s=this.containers[r];s.restore||(s.restore=CM(s,n))}remove(t,n=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const s=Wc(this.containers,a=>a.modals.indexOf(t)!==-1),i=this.containers[s];if(i.modals.splice(i.modals.indexOf(t),1),this.modals.splice(r,1),i.modals.length===0)i.restore&&i.restore(),t.modalRef&&hi(t.modalRef,n),Df(i.container,t.mount,t.modalRef,i.hiddenSiblings,!1),this.containers.splice(s,1);else{const a=i.modals[i.modals.length-1];a.modalRef&&hi(a.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const SM=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function kM(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function _M(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=r=>e.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function TM(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||_M(e))}function EM(e){const t=[],n=[];return Array.from(e.querySelectorAll(SM)).forEach((r,s)=>{const i=kM(r);i===-1||!TM(r)||(i===0?t.push(r):n.push({documentOrder:s,tabIndex:i,node:r}))}),n.sort((r,s)=>r.tabIndex===s.tabIndex?r.documentOrder-s.documentOrder:r.tabIndex-s.tabIndex).map(r=>r.node).concat(t)}function MM(){return!0}function PM(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:s=!1,getTabbable:i=EM,isEnabled:a=MM,open:l}=e,c=f.useRef(!1),d=f.useRef(null),u=f.useRef(null),p=f.useRef(null),h=f.useRef(null),g=f.useRef(!1),v=f.useRef(null),m=vt(ks(t),v),y=f.useRef(null);f.useEffect(()=>{!l||!v.current||(g.current=!n)},[n,l]),f.useEffect(()=>{if(!l||!v.current)return;const C=Bt(v.current);return v.current.contains(C.activeElement)||(v.current.hasAttribute("tabIndex")||v.current.setAttribute("tabIndex","-1"),g.current&&v.current.focus()),()=>{s||(p.current&&p.current.focus&&(c.current=!0,p.current.focus()),p.current=null)}},[l]),f.useEffect(()=>{if(!l||!v.current)return;const C=Bt(v.current),k=E=>{y.current=E,!(r||!a()||E.key!=="Tab")&&C.activeElement===v.current&&E.shiftKey&&(c.current=!0,u.current&&u.current.focus())},_=()=>{const E=v.current;if(E===null)return;if(!C.hasFocus()||!a()||c.current){c.current=!1;return}if(E.contains(C.activeElement)||r&&C.activeElement!==d.current&&C.activeElement!==u.current)return;if(C.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!g.current)return;let T=[];if((C.activeElement===d.current||C.activeElement===u.current)&&(T=i(v.current)),T.length>0){var S,M;const D=!!((S=y.current)!=null&&S.shiftKey&&((M=y.current)==null?void 0:M.key)==="Tab"),L=T[0],I=T[T.length-1];typeof L!="string"&&typeof I!="string"&&(D?I.focus():L.focus())}else E.focus()};C.addEventListener("focusin",_),C.addEventListener("keydown",k,!0);const j=setInterval(()=>{C.activeElement&&C.activeElement.tagName==="BODY"&&_()},50);return()=>{clearInterval(j),C.removeEventListener("focusin",_),C.removeEventListener("keydown",k,!0)}},[n,r,s,a,l,i]);const x=C=>{p.current===null&&(p.current=C.relatedTarget),g.current=!0,h.current=C.target;const k=t.props.onFocus;k&&k(C)},w=C=>{p.current===null&&(p.current=C.relatedTarget),g.current=!0};return o.jsxs(f.Fragment,{children:[o.jsx("div",{tabIndex:l?0:-1,onFocus:w,ref:d,"data-testid":"sentinelStart"}),f.cloneElement(t,{ref:m,onFocus:x}),o.jsx("div",{tabIndex:l?0:-1,onFocus:w,ref:u,"data-testid":"sentinelEnd"})]})}function NM(e){return typeof e=="function"?e():e}function IM(e){return e?e.props.hasOwnProperty("in"):!1}const RM=new jM;function DM(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:s=RM,closeAfterTransition:i=!1,onTransitionEnter:a,onTransitionExited:l,children:c,onClose:d,open:u,rootRef:p}=e,h=f.useRef({}),g=f.useRef(null),v=f.useRef(null),m=vt(v,p),[y,x]=f.useState(!u),w=IM(c);let C=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(C=!1);const k=()=>Bt(g.current),_=()=>(h.current.modalRef=v.current,h.current.mount=g.current,h.current),j=()=>{s.mount(_(),{disableScrollLock:r}),v.current&&(v.current.scrollTop=0)},E=De(()=>{const N=NM(t)||k().body;s.add(_(),N),v.current&&j()}),T=f.useCallback(()=>s.isTopModal(_()),[s]),S=De(N=>{g.current=N,N&&(u&&T()?j():v.current&&hi(v.current,C))}),M=f.useCallback(()=>{s.remove(_(),C)},[C,s]);f.useEffect(()=>()=>{M()},[M]),f.useEffect(()=>{u?E():(!w||!i)&&M()},[u,M,w,i,E]);const D=N=>O=>{var z;(z=N.onKeyDown)==null||z.call(N,O),!(O.key!=="Escape"||O.which===229||!T())&&(n||(O.stopPropagation(),d&&d(O,"escapeKeyDown")))},L=N=>O=>{var z;(z=N.onClick)==null||z.call(N,O),O.target===O.currentTarget&&d&&d(O,"backdropClick")};return{getRootProps:(N={})=>{const O=za(e);delete O.onTransitionEnter,delete O.onTransitionExited;const z=b({},O,N);return b({role:"presentation"},z,{onKeyDown:D(z),ref:m})},getBackdropProps:(N={})=>{const O=N;return b({"aria-hidden":!0},O,{onClick:L(O),open:u})},getTransitionProps:()=>{const N=()=>{x(!1),a&&a()},O=()=>{x(!0),l&&l(),i&&M()};return{onEnter:rh(N,c==null?void 0:c.props.onEnter),onExited:rh(O,c==null?void 0:c.props.onExited)}},rootRef:m,portalRef:S,isTopModal:T,exited:y,hasTransition:w}}function AM(e){return he("MuiModal",e)}fe("MuiModal",["root","hidden","backdrop"]);const $M=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],OM=e=>{const{open:t,exited:n,classes:r}=e;return ge({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},AM,r)},LM=V("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(({theme:e,ownerState:t})=>b({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"})),FM=V(By,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),Uy=f.forwardRef(function(t,n){var r,s,i,a,l,c;const d=we({name:"MuiModal",props:t}),{BackdropComponent:u=FM,BackdropProps:p,className:h,closeAfterTransition:g=!1,children:v,container:m,component:y,components:x={},componentsProps:w={},disableAutoFocus:C=!1,disableEnforceFocus:k=!1,disableEscapeKeyDown:_=!1,disablePortal:j=!1,disableRestoreFocus:E=!1,disableScrollLock:T=!1,hideBackdrop:S=!1,keepMounted:M=!1,onBackdropClick:D,open:L,slotProps:I,slots:P}=d,R=Z(d,$M),N=b({},d,{closeAfterTransition:g,disableAutoFocus:C,disableEnforceFocus:k,disableEscapeKeyDown:_,disablePortal:j,disableRestoreFocus:E,disableScrollLock:T,hideBackdrop:S,keepMounted:M}),{getRootProps:O,getBackdropProps:z,getTransitionProps:$,portalRef:A,isTopModal:U,exited:Y,hasTransition:G}=DM(b({},N,{rootRef:n})),J=b({},N,{exited:Y}),ae=OM(J),H={};if(v.props.tabIndex===void 0&&(H.tabIndex="-1"),G){const{onEnter:F,onExited:q}=$();H.onEnter=F,H.onExited=q}const le=(r=(s=P==null?void 0:P.root)!=null?s:x.Root)!=null?r:LM,ee=(i=(a=P==null?void 0:P.backdrop)!=null?a:x.Backdrop)!=null?i:u,X=(l=I==null?void 0:I.root)!=null?l:w.root,ie=(c=I==null?void 0:I.backdrop)!=null?c:w.backdrop,K=Ur({elementType:le,externalSlotProps:X,externalForwardedProps:R,getSlotProps:O,additionalProps:{ref:n,as:y},ownerState:J,className:re(h,X==null?void 0:X.className,ae==null?void 0:ae.root,!J.open&&J.exited&&(ae==null?void 0:ae.hidden))}),W=Ur({elementType:ee,externalSlotProps:ie,additionalProps:p,getSlotProps:F=>z(b({},F,{onClick:q=>{D&&D(q),F!=null&&F.onClick&&F.onClick(q)}})),className:re(ie==null?void 0:ie.className,p==null?void 0:p.className,ae==null?void 0:ae.backdrop),ownerState:J});return!M&&!L&&(!G||Y)?null:o.jsx(Fy,{ref:A,container:m,disablePortal:j,children:o.jsxs(le,b({},K,{children:[!S&&u?o.jsx(ee,b({},W)):null,o.jsx(PM,{disableEnforceFocus:k,disableAutoFocus:C,disableRestoreFocus:E,isEnabled:U,open:L,children:f.cloneElement(v,H)})]}))})});function zM(e){return he("MuiDialog",e)}const Hc=fe("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Vy=f.createContext({}),BM=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],WM=V(By,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),HM=e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:s,fullScreen:i}=e,a={root:["root"],container:["container",`scroll${Q(n)}`],paper:["paper",`paperScroll${Q(n)}`,`paperWidth${Q(String(r))}`,s&&"paperFullWidth",i&&"paperFullScreen"]};return ge(a,zM,t)},UM=V(Uy,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),VM=V("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${Q(n.scroll)}`]]}})(({ownerState:e})=>b({height:"100%","@media print":{height:"auto"},outline:0},e.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},e.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),YM=V(sn,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${Q(n.scroll)}`],t[`paperWidth${Q(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})(({theme:e,ownerState:t})=>b({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},t.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},t.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!t.maxWidth&&{maxWidth:"calc(100% - 64px)"},t.maxWidth==="xs"&&{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${Hc.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.maxWidth&&t.maxWidth!=="xs"&&{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`,[`&.${Hc.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.fullWidth&&{width:"calc(100% - 64px)"},t.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Hc.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),or=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiDialog"}),s=Vn(),i={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{"aria-describedby":a,"aria-labelledby":l,BackdropComponent:c,BackdropProps:d,children:u,className:p,disableEscapeKeyDown:h=!1,fullScreen:g=!1,fullWidth:v=!1,maxWidth:m="sm",onBackdropClick:y,onClick:x,onClose:w,open:C,PaperComponent:k=sn,PaperProps:_={},scroll:j="paper",TransitionComponent:E=Qi,transitionDuration:T=i,TransitionProps:S}=r,M=Z(r,BM),D=b({},r,{disableEscapeKeyDown:h,fullScreen:g,fullWidth:v,maxWidth:m,scroll:j}),L=HM(D),I=f.useRef(),P=z=>{I.current=z.target===z.currentTarget},R=z=>{x&&x(z),I.current&&(I.current=null,y&&y(z),w&&w(z,"backdropClick"))},N=ko(l),O=f.useMemo(()=>({titleId:N}),[N]);return o.jsx(UM,b({className:re(L.root,p),closeAfterTransition:!0,components:{Backdrop:WM},componentsProps:{backdrop:b({transitionDuration:T,as:c},d)},disableEscapeKeyDown:h,onClose:w,open:C,ref:n,onClick:R,ownerState:D},M,{children:o.jsx(E,b({appear:!0,in:C,timeout:T,role:"presentation"},S,{children:o.jsx(VM,{className:re(L.container),onMouseDown:P,ownerState:D,children:o.jsx(YM,b({as:k,elevation:24,role:"dialog","aria-describedby":a,"aria-labelledby":N},_,{className:re(L.paper,_.className),ownerState:D,children:o.jsx(Vy.Provider,{value:O,children:u})}))})}))}))});function GM(e){return he("MuiDialogActions",e)}fe("MuiDialogActions",["root","spacing"]);const qM=["className","disableSpacing"],KM=e=>{const{classes:t,disableSpacing:n}=e;return ge({root:["root",!n&&"spacing"]},GM,t)},QM=V("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})(({ownerState:e})=>b({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),br=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiDialogActions"}),{className:s,disableSpacing:i=!1}=r,a=Z(r,qM),l=b({},r,{disableSpacing:i}),c=KM(l);return o.jsx(QM,b({className:re(c.root,s),ownerState:l,ref:n},a))});function XM(e){return he("MuiDialogContent",e)}fe("MuiDialogContent",["root","dividers"]);function ZM(e){return he("MuiDialogTitle",e)}const JM=fe("MuiDialogTitle",["root"]),eP=["className","dividers"],tP=e=>{const{classes:t,dividers:n}=e;return ge({root:["root",n&&"dividers"]},XM,t)},nP=V("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(({theme:e,ownerState:t})=>b({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${JM.root} + &`]:{paddingTop:0}})),ir=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiDialogContent"}),{className:s,dividers:i=!1}=r,a=Z(r,eP),l=b({},r,{dividers:i}),c=tP(l);return o.jsx(nP,b({className:re(c.root,s),ownerState:l,ref:n},a))}),rP=["className","id"],sP=e=>{const{classes:t}=e;return ge({root:["root"]},ZM,t)},oP=V(B,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),Cr=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiDialogTitle"}),{className:s,id:i}=r,a=Z(r,rP),l=r,c=sP(l),{titleId:d=i}=f.useContext(Vy);return o.jsx(oP,b({component:"h2",className:re(c.root,s),ownerState:l,ref:n,variant:"h6",id:i??d},a))});function iP(e){return he("MuiDivider",e)}const Af=fe("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),aP=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],lP=e=>{const{absolute:t,children:n,classes:r,flexItem:s,light:i,orientation:a,textAlign:l,variant:c}=e;return ge({root:["root",t&&"absolute",c,i&&"light",a==="vertical"&&"vertical",s&&"flexItem",n&&"withChildren",n&&a==="vertical"&&"withChildrenVertical",l==="right"&&a!=="vertical"&&"textAlignRight",l==="left"&&a!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",a==="vertical"&&"wrapperVertical"]},iP,r)},cP=V("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,n.orientation==="vertical"&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&n.orientation==="vertical"&&t.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&t.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&t.textAlignLeft]}})(({theme:e,ownerState:t})=>b({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:ze(e.palette.divider,.08)},t.variant==="inset"&&{marginLeft:72},t.variant==="middle"&&t.orientation==="horizontal"&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},t.variant==="middle"&&t.orientation==="vertical"&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},t.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:e})=>b({},e.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:e,ownerState:t})=>b({},t.children&&t.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,borderTopStyle:"inherit"}}),({theme:e,ownerState:t})=>b({},t.children&&t.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`,borderLeftStyle:"inherit"}}),({ownerState:e})=>b({},e.textAlign==="right"&&e.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},e.textAlign==="left"&&e.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),dP=V("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,n.orientation==="vertical"&&t.wrapperVertical]}})(({theme:e,ownerState:t})=>b({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`},t.orientation==="vertical"&&{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`})),Lr=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiDivider"}),{absolute:s=!1,children:i,className:a,component:l=i?"div":"hr",flexItem:c=!1,light:d=!1,orientation:u="horizontal",role:p=l!=="hr"?"separator":void 0,textAlign:h="center",variant:g="fullWidth"}=r,v=Z(r,aP),m=b({},r,{absolute:s,component:l,flexItem:c,light:d,orientation:u,role:p,textAlign:h,variant:g}),y=lP(m);return o.jsx(cP,b({as:l,className:re(y.root,a),role:p,ref:n,ownerState:m},v,{children:i?o.jsx(dP,{className:y.wrapper,ownerState:m,children:i}):null}))});Lr.muiSkipListHighlight=!0;const uP=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],pP=e=>{const{classes:t,disableUnderline:n}=e,s=ge({root:["root",!n&&"underline"],input:["input"]},gE,t);return b({},t,s)},hP=V(oc,{shouldForwardProp:e=>mn(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...rc(e,t),!n.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{var n;const r=e.palette.mode==="light",s=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",a=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",l=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return b({position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:i,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:a,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:i}},[`&.${Jr.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:i},[`&.${Jr.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:l}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(e.vars||e).palette[t.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Jr.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Jr.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:s}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Jr.disabled}, .${Jr.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${Jr.disabled}:before`]:{borderBottomStyle:"dotted"}},t.startAdornment&&{paddingLeft:12},t.endAdornment&&{paddingRight:12},t.multiline&&b({padding:"25px 12px 8px"},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9}))}),fP=V(ic,{name:"MuiFilledInput",slot:"Input",overridesResolver:sc})(({theme:e,ownerState:t})=>b({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9},t.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),lp=f.forwardRef(function(t,n){var r,s,i,a;const l=we({props:t,name:"MuiFilledInput"}),{components:c={},componentsProps:d,fullWidth:u=!1,inputComponent:p="input",multiline:h=!1,slotProps:g,slots:v={},type:m="text"}=l,y=Z(l,uP),x=b({},l,{fullWidth:u,inputComponent:p,multiline:h,type:m}),w=pP(l),C={root:{ownerState:x},input:{ownerState:x}},k=g??d?nn(C,g??d):C,_=(r=(s=v.root)!=null?s:c.Root)!=null?r:hP,j=(i=(a=v.input)!=null?a:c.Input)!=null?i:fP;return o.jsx(ap,b({slots:{root:_,input:j},componentsProps:k,fullWidth:u,inputComponent:p,multiline:h,ref:n,type:m},y,{classes:w}))});lp.muiName="Input";function mP(e){return he("MuiFormControl",e)}fe("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const gP=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],vP=e=>{const{classes:t,margin:n,fullWidth:r}=e,s={root:["root",n!=="none"&&`margin${Q(n)}`,r&&"fullWidth"]};return ge(s,mP,t)},yP=V("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:e},t)=>b({},t.root,t[`margin${Q(e.margin)}`],e.fullWidth&&t.fullWidth)})(({ownerState:e})=>b({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},e.margin==="normal"&&{marginTop:16,marginBottom:8},e.margin==="dense"&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"})),ar=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiFormControl"}),{children:s,className:i,color:a="primary",component:l="div",disabled:c=!1,error:d=!1,focused:u,fullWidth:p=!1,hiddenLabel:h=!1,margin:g="none",required:v=!1,size:m="medium",variant:y="outlined"}=r,x=Z(r,gP),w=b({},r,{color:a,component:l,disabled:c,error:d,fullWidth:p,hiddenLabel:h,margin:g,required:v,size:m,variant:y}),C=vP(w),[k,_]=f.useState(()=>{let I=!1;return s&&f.Children.forEach(s,P=>{if(!Ea(P,["Input","Select"]))return;const R=Ea(P,["Select"])?P.props.input:P;R&&cE(R.props)&&(I=!0)}),I}),[j,E]=f.useState(()=>{let I=!1;return s&&f.Children.forEach(s,P=>{Ea(P,["Input","Select"])&&(nl(P.props,!0)||nl(P.props.inputProps,!0))&&(I=!0)}),I}),[T,S]=f.useState(!1);c&&T&&S(!1);const M=u!==void 0&&!c?u:T;let D;const L=f.useMemo(()=>({adornedStart:k,setAdornedStart:_,color:a,disabled:c,error:d,filled:j,focused:M,fullWidth:p,hiddenLabel:h,size:m,onBlur:()=>{S(!1)},onEmpty:()=>{E(!1)},onFilled:()=>{E(!0)},onFocus:()=>{S(!0)},registerEffect:D,required:v,variant:y}),[k,a,c,d,j,M,p,h,D,v,m,y]);return o.jsx(nc.Provider,{value:L,children:o.jsx(yP,b({as:l,ownerState:w,className:re(C.root,i),ref:n},x,{children:s}))})}),Fs=tw({createStyledComponent:V("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>we({props:e,name:"MuiStack"})});function xP(e){return he("MuiFormControlLabel",e)}const si=fe("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),bP=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],CP=e=>{const{classes:t,disabled:n,labelPlacement:r,error:s,required:i}=e,a={root:["root",n&&"disabled",`labelPlacement${Q(r)}`,s&&"error",i&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",s&&"error"]};return ge(a,xP,t)},wP=V("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${si.label}`]:t.label},t.root,t[`labelPlacement${Q(n.labelPlacement)}`]]}})(({theme:e,ownerState:t})=>b({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${si.disabled}`]:{cursor:"default"}},t.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},t.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},t.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${si.label}`]:{[`&.${si.disabled}`]:{color:(e.vars||e).palette.text.disabled}}})),jP=V("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${si.error}`]:{color:(e.vars||e).palette.error.main}})),rl=f.forwardRef(function(t,n){var r,s;const i=we({props:t,name:"MuiFormControlLabel"}),{className:a,componentsProps:l={},control:c,disabled:d,disableTypography:u,label:p,labelPlacement:h="end",required:g,slotProps:v={}}=i,m=Z(i,bP),y=ur(),x=(r=d??c.props.disabled)!=null?r:y==null?void 0:y.disabled,w=g??c.props.required,C={disabled:x,required:w};["checked","name","onChange","value","inputRef"].forEach(S=>{typeof c.props[S]>"u"&&typeof i[S]<"u"&&(C[S]=i[S])});const k=Xr({props:i,muiFormControl:y,states:["error"]}),_=b({},i,{disabled:x,labelPlacement:h,required:w,error:k.error}),j=CP(_),E=(s=v.typography)!=null?s:l.typography;let T=p;return T!=null&&T.type!==B&&!u&&(T=o.jsx(B,b({component:"span"},E,{className:re(j.label,E==null?void 0:E.className),children:T}))),o.jsxs(wP,b({className:re(j.root,a),ownerState:_,ref:n},m,{children:[f.cloneElement(c,C),w?o.jsxs(Fs,{display:"block",children:[T,o.jsxs(jP,{ownerState:_,"aria-hidden":!0,className:j.asterisk,children:[" ","*"]})]}):T]}))});function SP(e){return he("MuiFormGroup",e)}fe("MuiFormGroup",["root","row","error"]);const kP=["className","row"],_P=e=>{const{classes:t,row:n,error:r}=e;return ge({root:["root",n&&"row",r&&"error"]},SP,t)},TP=V("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.row&&t.row]}})(({ownerState:e})=>b({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"})),EP=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiFormGroup"}),{className:s,row:i=!1}=r,a=Z(r,kP),l=ur(),c=Xr({props:r,muiFormControl:l,states:["error"]}),d=b({},r,{row:i,error:c.error}),u=_P(d);return o.jsx(TP,b({className:re(u.root,s),ownerState:d,ref:n},a))});function MP(e){return he("MuiFormHelperText",e)}const $f=fe("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var Of;const PP=["children","className","component","disabled","error","filled","focused","margin","required","variant"],NP=e=>{const{classes:t,contained:n,size:r,disabled:s,error:i,filled:a,focused:l,required:c}=e,d={root:["root",s&&"disabled",i&&"error",r&&`size${Q(r)}`,n&&"contained",l&&"focused",a&&"filled",c&&"required"]};return ge(d,MP,t)},IP=V("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${Q(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})(({theme:e,ownerState:t})=>b({color:(e.vars||e).palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${$f.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${$f.error}`]:{color:(e.vars||e).palette.error.main}},t.size==="small"&&{marginTop:4},t.contained&&{marginLeft:14,marginRight:14})),RP=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiFormHelperText"}),{children:s,className:i,component:a="p"}=r,l=Z(r,PP),c=ur(),d=Xr({props:r,muiFormControl:c,states:["variant","size","disabled","error","filled","focused","required"]}),u=b({},r,{component:a,contained:d.variant==="filled"||d.variant==="outlined",variant:d.variant,size:d.size,disabled:d.disabled,error:d.error,filled:d.filled,focused:d.focused,required:d.required}),p=NP(u);return o.jsx(IP,b({as:a,ownerState:u,className:re(p.root,i),ref:n},l,{children:s===" "?Of||(Of=o.jsx("span",{className:"notranslate",children:"​"})):s}))});function DP(e){return he("MuiFormLabel",e)}const fi=fe("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),AP=["children","className","color","component","disabled","error","filled","focused","required"],$P=e=>{const{classes:t,color:n,focused:r,disabled:s,error:i,filled:a,required:l}=e,c={root:["root",`color${Q(n)}`,s&&"disabled",i&&"error",a&&"filled",r&&"focused",l&&"required"],asterisk:["asterisk",i&&"error"]};return ge(c,DP,t)},OP=V("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:e},t)=>b({},t.root,e.color==="secondary"&&t.colorSecondary,e.filled&&t.filled)})(({theme:e,ownerState:t})=>b({color:(e.vars||e).palette.text.secondary},e.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${fi.focused}`]:{color:(e.vars||e).palette[t.color].main},[`&.${fi.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${fi.error}`]:{color:(e.vars||e).palette.error.main}})),LP=V("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${fi.error}`]:{color:(e.vars||e).palette.error.main}})),Yy=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiFormLabel"}),{children:s,className:i,component:a="label"}=r,l=Z(r,AP),c=ur(),d=Xr({props:r,muiFormControl:c,states:["color","required","focused","disabled","error","filled"]}),u=b({},r,{color:d.color||"primary",component:a,disabled:d.disabled,error:d.error,filled:d.filled,focused:d.focused,required:d.required}),p=$P(u);return o.jsxs(OP,b({as:a,ownerState:u,className:re(p.root,i),ref:n},l,{children:[s,d.required&&o.jsxs(LP,{ownerState:u,"aria-hidden":!0,className:p.asterisk,children:[" ","*"]})]}))}),Lf=f.createContext();function FP(e){return he("MuiGrid",e)}const zP=[0,1,2,3,4,5,6,7,8,9,10],BP=["column-reverse","column","row-reverse","row"],WP=["nowrap","wrap-reverse","wrap"],qo=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Ei=fe("MuiGrid",["root","container","item","zeroMinWidth",...zP.map(e=>`spacing-xs-${e}`),...BP.map(e=>`direction-xs-${e}`),...WP.map(e=>`wrap-xs-${e}`),...qo.map(e=>`grid-xs-${e}`),...qo.map(e=>`grid-sm-${e}`),...qo.map(e=>`grid-md-${e}`),...qo.map(e=>`grid-lg-${e}`),...qo.map(e=>`grid-xl-${e}`)]),HP=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Qs(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function UP({theme:e,ownerState:t}){let n;return e.breakpoints.keys.reduce((r,s)=>{let i={};if(t[s]&&(n=t[s]),!n)return r;if(n===!0)i={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")i={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const a=cs({values:t.columns,breakpoints:e.breakpoints.values}),l=typeof a=="object"?a[s]:a;if(l==null)return r;const c=`${Math.round(n/l*1e8)/1e6}%`;let d={};if(t.container&&t.item&&t.columnSpacing!==0){const u=e.spacing(t.columnSpacing);if(u!=="0px"){const p=`calc(${c} + ${Qs(u)})`;d={flexBasis:p,maxWidth:p}}}i=b({flexBasis:c,flexGrow:0,maxWidth:c},d)}return e.breakpoints.values[s]===0?Object.assign(r,i):r[e.breakpoints.up(s)]=i,r},{})}function VP({theme:e,ownerState:t}){const n=cs({values:t.direction,breakpoints:e.breakpoints.values});return fn({theme:e},n,r=>{const s={flexDirection:r};return r.indexOf("column")===0&&(s[`& > .${Ei.item}`]={maxWidth:"none"}),s})}function Gy({breakpoints:e,values:t}){let n="";Object.keys(t).forEach(s=>{n===""&&t[s]!==0&&(n=s)});const r=Object.keys(e).sort((s,i)=>e[s]-e[i]);return r.slice(0,r.indexOf(n))}function YP({theme:e,ownerState:t}){const{container:n,rowSpacing:r}=t;let s={};if(n&&r!==0){const i=cs({values:r,breakpoints:e.breakpoints.values});let a;typeof i=="object"&&(a=Gy({breakpoints:e.breakpoints.values,values:i})),s=fn({theme:e},i,(l,c)=>{var d;const u=e.spacing(l);return u!=="0px"?{marginTop:`-${Qs(u)}`,[`& > .${Ei.item}`]:{paddingTop:Qs(u)}}:(d=a)!=null&&d.includes(c)?{}:{marginTop:0,[`& > .${Ei.item}`]:{paddingTop:0}}})}return s}function GP({theme:e,ownerState:t}){const{container:n,columnSpacing:r}=t;let s={};if(n&&r!==0){const i=cs({values:r,breakpoints:e.breakpoints.values});let a;typeof i=="object"&&(a=Gy({breakpoints:e.breakpoints.values,values:i})),s=fn({theme:e},i,(l,c)=>{var d;const u=e.spacing(l);return u!=="0px"?{width:`calc(100% + ${Qs(u)})`,marginLeft:`-${Qs(u)}`,[`& > .${Ei.item}`]:{paddingLeft:Qs(u)}}:(d=a)!=null&&d.includes(c)?{}:{width:"100%",marginLeft:0,[`& > .${Ei.item}`]:{paddingLeft:0}}})}return s}function qP(e,t,n={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[n[`spacing-xs-${String(e)}`]];const r=[];return t.forEach(s=>{const i=e[s];Number(i)>0&&r.push(n[`spacing-${s}-${String(i)}`])}),r}const KP=V("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:s,item:i,spacing:a,wrap:l,zeroMinWidth:c,breakpoints:d}=n;let u=[];r&&(u=qP(a,d,t));const p=[];return d.forEach(h=>{const g=n[h];g&&p.push(t[`grid-${h}-${String(g)}`])}),[t.root,r&&t.container,i&&t.item,c&&t.zeroMinWidth,...u,s!=="row"&&t[`direction-xs-${String(s)}`],l!=="wrap"&&t[`wrap-xs-${String(l)}`],...p]}})(({ownerState:e})=>b({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},e.wrap!=="wrap"&&{flexWrap:e.wrap}),VP,YP,GP,UP);function QP(e,t){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const n=[];return t.forEach(r=>{const s=e[r];if(Number(s)>0){const i=`spacing-${r}-${String(s)}`;n.push(i)}}),n}const XP=e=>{const{classes:t,container:n,direction:r,item:s,spacing:i,wrap:a,zeroMinWidth:l,breakpoints:c}=e;let d=[];n&&(d=QP(i,c));const u=[];c.forEach(h=>{const g=e[h];g&&u.push(`grid-${h}-${String(g)}`)});const p={root:["root",n&&"container",s&&"item",l&&"zeroMinWidth",...d,r!=="row"&&`direction-xs-${String(r)}`,a!=="wrap"&&`wrap-xs-${String(a)}`,...u]};return ge(p,FP,t)},Ae=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiGrid"}),{breakpoints:s}=Vn(),i=Li(r),{className:a,columns:l,columnSpacing:c,component:d="div",container:u=!1,direction:p="row",item:h=!1,rowSpacing:g,spacing:v=0,wrap:m="wrap",zeroMinWidth:y=!1}=i,x=Z(i,HP),w=g||v,C=c||v,k=f.useContext(Lf),_=u?l||12:k,j={},E=b({},x);s.keys.forEach(M=>{x[M]!=null&&(j[M]=x[M],delete E[M])});const T=b({},i,{columns:_,container:u,direction:p,item:h,rowSpacing:w,columnSpacing:C,wrap:m,zeroMinWidth:y,spacing:v},j,{breakpoints:s.keys}),S=XP(T);return o.jsx(Lf.Provider,{value:_,children:o.jsx(KP,b({ownerState:T,className:re(S.root,a),as:d,ref:n},E))})}),ZP=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function $d(e){return`scale(${e}, ${e**2})`}const JP={entering:{opacity:1,transform:$d(1)},entered:{opacity:1,transform:"none"}},Uc=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Mi=f.forwardRef(function(t,n){const{addEndListener:r,appear:s=!0,children:i,easing:a,in:l,onEnter:c,onEntered:d,onEntering:u,onExit:p,onExited:h,onExiting:g,style:v,timeout:m="auto",TransitionComponent:y=Fn}=t,x=Z(t,ZP),w=Or(),C=f.useRef(),k=Vn(),_=f.useRef(null),j=vt(_,ks(i),n),E=R=>N=>{if(R){const O=_.current;N===void 0?R(O):R(O,N)}},T=E(u),S=E((R,N)=>{Ty(R);const{duration:O,delay:z,easing:$}=co({style:v,timeout:m,easing:a},{mode:"enter"});let A;m==="auto"?(A=k.transitions.getAutoHeightDuration(R.clientHeight),C.current=A):A=O,R.style.transition=[k.transitions.create("opacity",{duration:A,delay:z}),k.transitions.create("transform",{duration:Uc?A:A*.666,delay:z,easing:$})].join(","),c&&c(R,N)}),M=E(d),D=E(g),L=E(R=>{const{duration:N,delay:O,easing:z}=co({style:v,timeout:m,easing:a},{mode:"exit"});let $;m==="auto"?($=k.transitions.getAutoHeightDuration(R.clientHeight),C.current=$):$=N,R.style.transition=[k.transitions.create("opacity",{duration:$,delay:O}),k.transitions.create("transform",{duration:Uc?$:$*.666,delay:Uc?O:O||$*.333,easing:z})].join(","),R.style.opacity=0,R.style.transform=$d(.75),p&&p(R)}),I=E(h),P=R=>{m==="auto"&&w.start(C.current||0,R),r&&r(_.current,R)};return o.jsx(y,b({appear:s,in:l,nodeRef:_,onEnter:S,onEntered:M,onEntering:T,onExit:L,onExited:I,onExiting:D,addEndListener:P,timeout:m==="auto"?null:m},x,{children:(R,N)=>f.cloneElement(i,b({style:b({opacity:0,transform:$d(.75),visibility:R==="exited"&&!l?"hidden":void 0},JP[R],v,i.props.style),ref:j},N))}))});Mi.muiSupportAuto=!0;const eN=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],tN=e=>{const{classes:t,disableUnderline:n}=e,s=ge({root:["root",!n&&"underline"],input:["input"]},fE,t);return b({},t,s)},nN=V(oc,{shouldForwardProp:e=>mn(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...rc(e,t),!n.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{let r=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(r=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),b({position:"relative"},t.formControl&&{"label + &":{marginTop:16}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Go.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Go.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Go.disabled}, .${Go.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Go.disabled}:before`]:{borderBottomStyle:"dotted"}})}),rN=V(ic,{name:"MuiInput",slot:"Input",overridesResolver:sc})({}),cp=f.forwardRef(function(t,n){var r,s,i,a;const l=we({props:t,name:"MuiInput"}),{disableUnderline:c,components:d={},componentsProps:u,fullWidth:p=!1,inputComponent:h="input",multiline:g=!1,slotProps:v,slots:m={},type:y="text"}=l,x=Z(l,eN),w=tN(l),k={root:{ownerState:{disableUnderline:c}}},_=v??u?nn(v??u,k):k,j=(r=(s=m.root)!=null?s:d.Root)!=null?r:nN,E=(i=(a=m.input)!=null?a:d.Input)!=null?i:rN;return o.jsx(ap,b({slots:{root:j,input:E},slotProps:_,fullWidth:p,inputComponent:h,multiline:g,ref:n,type:y},x,{classes:w}))});cp.muiName="Input";function sN(e){return he("MuiInputAdornment",e)}const Ff=fe("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var zf;const oN=["children","className","component","disablePointerEvents","disableTypography","position","variant"],iN=(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${Q(n.position)}`],n.disablePointerEvents===!0&&t.disablePointerEvents,t[n.variant]]},aN=e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:r,position:s,size:i,variant:a}=e,l={root:["root",n&&"disablePointerEvents",s&&`position${Q(s)}`,a,r&&"hiddenLabel",i&&`size${Q(i)}`]};return ge(l,sN,t)},lN=V("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:iN})(({theme:e,ownerState:t})=>b({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active},t.variant==="filled"&&{[`&.${Ff.positionStart}&:not(.${Ff.hiddenLabel})`]:{marginTop:16}},t.position==="start"&&{marginRight:8},t.position==="end"&&{marginLeft:8},t.disablePointerEvents===!0&&{pointerEvents:"none"})),cN=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiInputAdornment"}),{children:s,className:i,component:a="div",disablePointerEvents:l=!1,disableTypography:c=!1,position:d,variant:u}=r,p=Z(r,oN),h=ur()||{};let g=u;u&&h.variant,h&&!g&&(g=h.variant);const v=b({},r,{hiddenLabel:h.hiddenLabel,size:h.size,disablePointerEvents:l,position:d,variant:g}),m=aN(v);return o.jsx(nc.Provider,{value:null,children:o.jsx(lN,b({as:a,ownerState:v,className:re(m.root,i),ref:n},p,{children:typeof s=="string"&&!c?o.jsx(B,{color:"text.secondary",children:s}):o.jsxs(f.Fragment,{children:[d==="start"?zf||(zf=o.jsx("span",{className:"notranslate",children:"​"})):null,s]})}))})});function dN(e){return he("MuiInputLabel",e)}fe("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const uN=["disableAnimation","margin","shrink","variant","className"],pN=e=>{const{classes:t,formControl:n,size:r,shrink:s,disableAnimation:i,variant:a,required:l}=e,c={root:["root",n&&"formControl",!i&&"animated",s&&"shrink",r&&r!=="normal"&&`size${Q(r)}`,a],asterisk:[l&&"asterisk"]},d=ge(c,dN,t);return b({},t,d)},hN=V(Yy,{shouldForwardProp:e=>mn(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${fi.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,n.size==="small"&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})(({theme:e,ownerState:t})=>b({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},t.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},t.size==="small"&&{transform:"translate(0, 17px) scale(1)"},t.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!t.disableAnimation&&{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},t.variant==="filled"&&b({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},t.shrink&&b({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},t.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),t.variant==="outlined"&&b({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},t.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),Er=f.forwardRef(function(t,n){const r=we({name:"MuiInputLabel",props:t}),{disableAnimation:s=!1,shrink:i,className:a}=r,l=Z(r,uN),c=ur();let d=i;typeof d>"u"&&c&&(d=c.filled||c.focused||c.adornedStart);const u=Xr({props:r,muiFormControl:c,states:["size","variant","required","focused"]}),p=b({},r,{disableAnimation:s,formControl:c,shrink:d,size:u.size,variant:u.variant,required:u.required,focused:u.focused}),h=pN(p);return o.jsx(hN,b({"data-shrink":d,ownerState:p,ref:n,className:re(h.root,a)},l,{classes:h}))});function fN(e){return he("MuiLinearProgress",e)}fe("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const mN=["className","color","value","valueBuffer","variant"];let No=e=>e,Bf,Wf,Hf,Uf,Vf,Yf;const Od=4,gN=Nr(Bf||(Bf=No`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),vN=Nr(Wf||(Wf=No`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),yN=Nr(Hf||(Hf=No`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),xN=e=>{const{classes:t,variant:n,color:r}=e,s={root:["root",`color${Q(r)}`,n],dashed:["dashed",`dashedColor${Q(r)}`],bar1:["bar",`barColor${Q(r)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar",n!=="buffer"&&`barColor${Q(r)}`,n==="buffer"&&`color${Q(r)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return ge(s,fN,t)},dp=(e,t)=>t==="inherit"?"currentColor":e.vars?e.vars.palette.LinearProgress[`${t}Bg`]:e.palette.mode==="light"?io(e.palette[t].main,.62):oo(e.palette[t].main,.5),bN=V("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`color${Q(n.color)}`],t[n.variant]]}})(({ownerState:e,theme:t})=>b({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:dp(t,e.color)},e.color==="inherit"&&e.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},e.variant==="buffer"&&{backgroundColor:"transparent"},e.variant==="query"&&{transform:"rotate(180deg)"})),CN=V("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.dashed,t[`dashedColor${Q(n.color)}`]]}})(({ownerState:e,theme:t})=>{const n=dp(t,e.color);return b({position:"absolute",marginTop:0,height:"100%",width:"100%"},e.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},Ss(Uf||(Uf=No`
    animation: ${0} 3s infinite linear;
  `),yN)),wN=V("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t[`barColor${Q(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&t.bar1Indeterminate,n.variant==="determinate"&&t.bar1Determinate,n.variant==="buffer"&&t.bar1Buffer]}})(({ownerState:e,theme:t})=>b({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:e.color==="inherit"?"currentColor":(t.vars||t).palette[e.color].main},e.variant==="determinate"&&{transition:`transform .${Od}s linear`},e.variant==="buffer"&&{zIndex:1,transition:`transform .${Od}s linear`}),({ownerState:e})=>(e.variant==="indeterminate"||e.variant==="query")&&Ss(Vf||(Vf=No`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),gN)),jN=V("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t[`barColor${Q(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&t.bar2Indeterminate,n.variant==="buffer"&&t.bar2Buffer]}})(({ownerState:e,theme:t})=>b({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},e.variant!=="buffer"&&{backgroundColor:e.color==="inherit"?"currentColor":(t.vars||t).palette[e.color].main},e.color==="inherit"&&{opacity:.3},e.variant==="buffer"&&{backgroundColor:dp(t,e.color),transition:`transform .${Od}s linear`}),({ownerState:e})=>(e.variant==="indeterminate"||e.variant==="query")&&Ss(Yf||(Yf=No`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),vN)),qy=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiLinearProgress"}),{className:s,color:i="primary",value:a,valueBuffer:l,variant:c="indeterminate"}=r,d=Z(r,mN),u=b({},r,{color:i,variant:c}),p=xN(u),h=wu(),g={},v={bar1:{},bar2:{}};if((c==="determinate"||c==="buffer")&&a!==void 0){g["aria-valuenow"]=Math.round(a),g["aria-valuemin"]=0,g["aria-valuemax"]=100;let m=a-100;h&&(m=-m),v.bar1.transform=`translateX(${m}%)`}if(c==="buffer"&&l!==void 0){let m=(l||0)-100;h&&(m=-m),v.bar2.transform=`translateX(${m}%)`}return o.jsxs(bN,b({className:re(p.root,s),ownerState:u,role:"progressbar"},g,{ref:n},d,{children:[c==="buffer"?o.jsx(CN,{className:p.dashed,ownerState:u}):null,o.jsx(wN,{className:p.bar1,ownerState:u,style:v.bar1}),c==="determinate"?null:o.jsx(jN,{className:p.bar2,ownerState:u,style:v.bar2})]}))}),wr=f.createContext({});function SN(e){return he("MuiList",e)}fe("MuiList",["root","padding","dense","subheader"]);const kN=["children","className","component","dense","disablePadding","subheader"],_N=e=>{const{classes:t,disablePadding:n,dense:r,subheader:s}=e;return ge({root:["root",!n&&"padding",r&&"dense",s&&"subheader"]},SN,t)},TN=V("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})(({ownerState:e})=>b({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0})),go=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiList"}),{children:s,className:i,component:a="ul",dense:l=!1,disablePadding:c=!1,subheader:d}=r,u=Z(r,kN),p=f.useMemo(()=>({dense:l}),[l]),h=b({},r,{component:a,dense:l,disablePadding:c}),g=_N(h);return o.jsx(wr.Provider,{value:p,children:o.jsxs(TN,b({as:a,className:re(g.root,i),ref:n,ownerState:h},u,{children:[d,s]}))})});function EN(e){return he("MuiListItem",e)}const zs=fe("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),MN=fe("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function PN(e){return he("MuiListItemSecondaryAction",e)}fe("MuiListItemSecondaryAction",["root","disableGutters"]);const NN=["className"],IN=e=>{const{disableGutters:t,classes:n}=e;return ge({root:["root",t&&"disableGutters"]},PN,n)},RN=V("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})(({ownerState:e})=>b({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},e.disableGutters&&{right:0})),ls=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiListItemSecondaryAction"}),{className:s}=r,i=Z(r,NN),a=f.useContext(wr),l=b({},r,{disableGutters:a.disableGutters}),c=IN(l);return o.jsx(RN,b({className:re(c.root,s),ownerState:l,ref:n},i))});ls.muiName="ListItemSecondaryAction";const DN=["className"],AN=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],$N=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.alignItems==="flex-start"&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.button&&t.button,n.hasSecondaryAction&&t.secondaryAction]},ON=e=>{const{alignItems:t,button:n,classes:r,dense:s,disabled:i,disableGutters:a,disablePadding:l,divider:c,hasSecondaryAction:d,selected:u}=e;return ge({root:["root",s&&"dense",!a&&"gutters",!l&&"padding",c&&"divider",i&&"disabled",n&&"button",t==="flex-start"&&"alignItemsFlexStart",d&&"secondaryAction",u&&"selected"],container:["container"]},EN,r)},LN=V("div",{name:"MuiListItem",slot:"Root",overridesResolver:$N})(({theme:e,ownerState:t})=>b({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!t.disablePadding&&b({paddingTop:8,paddingBottom:8},t.dense&&{paddingTop:4,paddingBottom:4},!t.disableGutters&&{paddingLeft:16,paddingRight:16},!!t.secondaryAction&&{paddingRight:48}),!!t.secondaryAction&&{[`& > .${MN.root}`]:{paddingRight:48}},{[`&.${zs.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${zs.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:ze(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${zs.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:ze(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${zs.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.alignItems==="flex-start"&&{alignItems:"flex-start"},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},t.button&&{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${zs.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:ze(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:ze(e.palette.primary.main,e.palette.action.selectedOpacity)}}},t.hasSecondaryAction&&{paddingRight:48})),FN=V("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),er=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiListItem"}),{alignItems:s="center",autoFocus:i=!1,button:a=!1,children:l,className:c,component:d,components:u={},componentsProps:p={},ContainerComponent:h="li",ContainerProps:{className:g}={},dense:v=!1,disabled:m=!1,disableGutters:y=!1,disablePadding:x=!1,divider:w=!1,focusVisibleClassName:C,secondaryAction:k,selected:_=!1,slotProps:j={},slots:E={}}=r,T=Z(r.ContainerProps,DN),S=Z(r,AN),M=f.useContext(wr),D=f.useMemo(()=>({dense:v||M.dense||!1,alignItems:s,disableGutters:y}),[s,M.dense,v,y]),L=f.useRef(null);rn(()=>{i&&L.current&&L.current.focus()},[i]);const I=f.Children.toArray(l),P=I.length&&Ea(I[I.length-1],["ListItemSecondaryAction"]),R=b({},r,{alignItems:s,autoFocus:i,button:a,dense:D.dense,disabled:m,disableGutters:y,disablePadding:x,divider:w,hasSecondaryAction:P,selected:_}),N=ON(R),O=vt(L,n),z=E.root||u.Root||LN,$=j.root||p.root||{},A=b({className:re(N.root,$.className,c),disabled:m},S);let U=d||"li";return a&&(A.component=d||"div",A.focusVisibleClassName=re(zs.focusVisible,C),U=Yr),P?(U=!A.component&&!d?"div":U,h==="li"&&(U==="li"?U="div":A.component==="li"&&(A.component="div")),o.jsx(wr.Provider,{value:D,children:o.jsxs(FN,b({as:h,className:re(N.container,g),ref:O,ownerState:R},T,{children:[o.jsx(z,b({},$,!so(z)&&{as:U,ownerState:b({},R,$.ownerState)},A,{children:I})),I.pop()]}))})):o.jsx(wr.Provider,{value:D,children:o.jsxs(z,b({},$,{as:U,ref:O},!so(z)&&{ownerState:b({},R,$.ownerState)},A,{children:[I,k&&o.jsx(ls,{children:k})]}))})});function zN(e){return he("MuiListItemIcon",e)}const Gf=fe("MuiListItemIcon",["root","alignItemsFlexStart"]),BN=["className"],WN=e=>{const{alignItems:t,classes:n}=e;return ge({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},zN,n)},HN=V("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.alignItems==="flex-start"&&t.alignItemsFlexStart]}})(({theme:e,ownerState:t})=>b({minWidth:56,color:(e.vars||e).palette.action.active,flexShrink:0,display:"inline-flex"},t.alignItems==="flex-start"&&{marginTop:8})),Vc=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiListItemIcon"}),{className:s}=r,i=Z(r,BN),a=f.useContext(wr),l=b({},r,{alignItems:a.alignItems}),c=WN(l);return o.jsx(HN,b({className:re(c.root,s),ownerState:l,ref:n},i))});function UN(e){return he("MuiListItemText",e)}const sl=fe("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),VN=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],YN=e=>{const{classes:t,inset:n,primary:r,secondary:s,dense:i}=e;return ge({root:["root",n&&"inset",i&&"dense",r&&s&&"multiline"],primary:["primary"],secondary:["secondary"]},UN,t)},GN=V("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${sl.primary}`]:t.primary},{[`& .${sl.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})(({ownerState:e})=>b({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56})),tr=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiListItemText"}),{children:s,className:i,disableTypography:a=!1,inset:l=!1,primary:c,primaryTypographyProps:d,secondary:u,secondaryTypographyProps:p}=r,h=Z(r,VN),{dense:g}=f.useContext(wr);let v=c??s,m=u;const y=b({},r,{disableTypography:a,inset:l,primary:!!v,secondary:!!m,dense:g}),x=YN(y);return v!=null&&v.type!==B&&!a&&(v=o.jsx(B,b({variant:g?"body2":"body1",className:x.primary,component:d!=null&&d.variant?void 0:"span",display:"block"},d,{children:v}))),m!=null&&m.type!==B&&!a&&(m=o.jsx(B,b({variant:"body2",className:x.secondary,color:"text.secondary",display:"block"},p,{children:m}))),o.jsxs(GN,b({className:re(x.root,i),ownerState:y,ref:n},h,{children:[v,m]}))}),qN=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Yc(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function qf(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function Ky(e,t){if(t===void 0)return!0;let n=e.innerText;return n===void 0&&(n=e.textContent),n=n.trim().toLowerCase(),n.length===0?!1:t.repeating?n[0]===t.keys[0]:n.indexOf(t.keys.join(""))===0}function Ko(e,t,n,r,s,i){let a=!1,l=s(e,t,t?n:!1);for(;l;){if(l===e.firstChild){if(a)return!1;a=!0}const c=r?!1:l.disabled||l.getAttribute("aria-disabled")==="true";if(!l.hasAttribute("tabindex")||!Ky(l,i)||c)l=s(e,l,n);else return l.focus(),!0}return!1}const KN=f.forwardRef(function(t,n){const{actions:r,autoFocus:s=!1,autoFocusItem:i=!1,children:a,className:l,disabledItemsFocusable:c=!1,disableListWrap:d=!1,onKeyDown:u,variant:p="selectedMenu"}=t,h=Z(t,qN),g=f.useRef(null),v=f.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});rn(()=>{s&&g.current.focus()},[s]),f.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(C,{direction:k})=>{const _=!g.current.style.width;if(C.clientHeight<g.current.clientHeight&&_){const j=`${Hg(Bt(C))}px`;g.current.style[k==="rtl"?"paddingLeft":"paddingRight"]=j,g.current.style.width=`calc(100% + ${j})`}return g.current}}),[]);const m=C=>{const k=g.current,_=C.key,j=Bt(k).activeElement;if(_==="ArrowDown")C.preventDefault(),Ko(k,j,d,c,Yc);else if(_==="ArrowUp")C.preventDefault(),Ko(k,j,d,c,qf);else if(_==="Home")C.preventDefault(),Ko(k,null,d,c,Yc);else if(_==="End")C.preventDefault(),Ko(k,null,d,c,qf);else if(_.length===1){const E=v.current,T=_.toLowerCase(),S=performance.now();E.keys.length>0&&(S-E.lastTime>500?(E.keys=[],E.repeating=!0,E.previousKeyMatched=!0):E.repeating&&T!==E.keys[0]&&(E.repeating=!1)),E.lastTime=S,E.keys.push(T);const M=j&&!E.repeating&&Ky(j,E);E.previousKeyMatched&&(M||Ko(k,j,!1,c,Yc,E))?C.preventDefault():E.previousKeyMatched=!1}u&&u(C)},y=vt(g,n);let x=-1;f.Children.forEach(a,(C,k)=>{if(!f.isValidElement(C)){x===k&&(x+=1,x>=a.length&&(x=-1));return}C.props.disabled||(p==="selectedMenu"&&C.props.selected||x===-1)&&(x=k),x===k&&(C.props.disabled||C.props.muiSkipListHighlight||C.type.muiSkipListHighlight)&&(x+=1,x>=a.length&&(x=-1))});const w=f.Children.map(a,(C,k)=>{if(k===x){const _={};return i&&(_.autoFocus=!0),C.props.tabIndex===void 0&&p==="selectedMenu"&&(_.tabIndex=0),f.cloneElement(C,_)}return C});return o.jsx(go,b({role:"menu",ref:y,className:l,onKeyDown:m,tabIndex:s?0:-1},h,{children:w}))});function QN(e){return he("MuiPopover",e)}fe("MuiPopover",["root","paper"]);const XN=["onEntering"],ZN=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],JN=["slotProps"];function Kf(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.height/2:t==="bottom"&&(n=e.height),n}function Qf(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.width/2:t==="right"&&(n=e.width),n}function Xf(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function Gc(e){return typeof e=="function"?e():e}const eI=e=>{const{classes:t}=e;return ge({root:["root"],paper:["paper"]},QN,t)},tI=V(Uy,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Qy=V(sn,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),nI=f.forwardRef(function(t,n){var r,s,i;const a=we({props:t,name:"MuiPopover"}),{action:l,anchorEl:c,anchorOrigin:d={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:p="anchorEl",children:h,className:g,container:v,elevation:m=8,marginThreshold:y=16,open:x,PaperProps:w={},slots:C,slotProps:k,transformOrigin:_={vertical:"top",horizontal:"left"},TransitionComponent:j=Mi,transitionDuration:E="auto",TransitionProps:{onEntering:T}={},disableScrollLock:S=!1}=a,M=Z(a.TransitionProps,XN),D=Z(a,ZN),L=(r=k==null?void 0:k.paper)!=null?r:w,I=f.useRef(),P=vt(I,L.ref),R=b({},a,{anchorOrigin:d,anchorReference:p,elevation:m,marginThreshold:y,externalPaperSlotProps:L,transformOrigin:_,TransitionComponent:j,transitionDuration:E,TransitionProps:M}),N=eI(R),O=f.useCallback(()=>{if(p==="anchorPosition")return u;const F=Gc(c),ne=(F&&F.nodeType===1?F:Bt(I.current).body).getBoundingClientRect();return{top:ne.top+Kf(ne,d.vertical),left:ne.left+Qf(ne,d.horizontal)}},[c,d.horizontal,d.vertical,u,p]),z=f.useCallback(F=>({vertical:Kf(F,_.vertical),horizontal:Qf(F,_.horizontal)}),[_.horizontal,_.vertical]),$=f.useCallback(F=>{const q={width:F.offsetWidth,height:F.offsetHeight},ne=z(q);if(p==="none")return{top:null,left:null,transformOrigin:Xf(ne)};const pe=O();let Te=pe.top-ne.vertical,oe=pe.left-ne.horizontal;const ce=Te+q.height,xe=oe+q.width,ve=fs(Gc(c)),Re=ve.innerHeight-y,Me=ve.innerWidth-y;if(y!==null&&Te<y){const Ie=Te-y;Te-=Ie,ne.vertical+=Ie}else if(y!==null&&ce>Re){const Ie=ce-Re;Te-=Ie,ne.vertical+=Ie}if(y!==null&&oe<y){const Ie=oe-y;oe-=Ie,ne.horizontal+=Ie}else if(xe>Me){const Ie=xe-Me;oe-=Ie,ne.horizontal+=Ie}return{top:`${Math.round(Te)}px`,left:`${Math.round(oe)}px`,transformOrigin:Xf(ne)}},[c,p,O,z,y]),[A,U]=f.useState(x),Y=f.useCallback(()=>{const F=I.current;if(!F)return;const q=$(F);q.top!==null&&(F.style.top=q.top),q.left!==null&&(F.style.left=q.left),F.style.transformOrigin=q.transformOrigin,U(!0)},[$]);f.useEffect(()=>(S&&window.addEventListener("scroll",Y),()=>window.removeEventListener("scroll",Y)),[c,S,Y]);const G=(F,q)=>{T&&T(F,q),Y()},J=()=>{U(!1)};f.useEffect(()=>{x&&Y()}),f.useImperativeHandle(l,()=>x?{updatePosition:()=>{Y()}}:null,[x,Y]),f.useEffect(()=>{if(!x)return;const F=Bg(()=>{Y()}),q=fs(c);return q.addEventListener("resize",F),()=>{F.clear(),q.removeEventListener("resize",F)}},[c,x,Y]);let ae=E;E==="auto"&&!j.muiSupportAuto&&(ae=void 0);const H=v||(c?Bt(Gc(c)).body:void 0),le=(s=C==null?void 0:C.root)!=null?s:tI,ee=(i=C==null?void 0:C.paper)!=null?i:Qy,X=Ur({elementType:ee,externalSlotProps:b({},L,{style:A?L.style:b({},L.style,{opacity:0})}),additionalProps:{elevation:m,ref:P},ownerState:R,className:re(N.paper,L==null?void 0:L.className)}),ie=Ur({elementType:le,externalSlotProps:(k==null?void 0:k.root)||{},externalForwardedProps:D,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:H,open:x},ownerState:R,className:re(N.root,g)}),{slotProps:K}=ie,W=Z(ie,JN);return o.jsx(le,b({},W,!so(le)&&{slotProps:K,disableScrollLock:S},{children:o.jsx(j,b({appear:!0,in:x,onEntering:G,onExited:J,timeout:ae},M,{children:o.jsx(ee,b({},X,{children:h}))}))}))});function rI(e){return he("MuiMenu",e)}fe("MuiMenu",["root","paper","list"]);const sI=["onEntering"],oI=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],iI={vertical:"top",horizontal:"right"},aI={vertical:"top",horizontal:"left"},lI=e=>{const{classes:t}=e;return ge({root:["root"],paper:["paper"],list:["list"]},rI,t)},cI=V(nI,{shouldForwardProp:e=>mn(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),dI=V(Qy,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),uI=V(KN,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),pI=f.forwardRef(function(t,n){var r,s;const i=we({props:t,name:"MuiMenu"}),{autoFocus:a=!0,children:l,className:c,disableAutoFocusItem:d=!1,MenuListProps:u={},onClose:p,open:h,PaperProps:g={},PopoverClasses:v,transitionDuration:m="auto",TransitionProps:{onEntering:y}={},variant:x="selectedMenu",slots:w={},slotProps:C={}}=i,k=Z(i.TransitionProps,sI),_=Z(i,oI),j=wu(),E=b({},i,{autoFocus:a,disableAutoFocusItem:d,MenuListProps:u,onEntering:y,PaperProps:g,transitionDuration:m,TransitionProps:k,variant:x}),T=lI(E),S=a&&!d&&h,M=f.useRef(null),D=(z,$)=>{M.current&&M.current.adjustStyleForScrollbar(z,{direction:j?"rtl":"ltr"}),y&&y(z,$)},L=z=>{z.key==="Tab"&&(z.preventDefault(),p&&p(z,"tabKeyDown"))};let I=-1;f.Children.map(l,(z,$)=>{f.isValidElement(z)&&(z.props.disabled||(x==="selectedMenu"&&z.props.selected||I===-1)&&(I=$))});const P=(r=w.paper)!=null?r:dI,R=(s=C.paper)!=null?s:g,N=Ur({elementType:w.root,externalSlotProps:C.root,ownerState:E,className:[T.root,c]}),O=Ur({elementType:P,externalSlotProps:R,ownerState:E,className:T.paper});return o.jsx(cI,b({onClose:p,anchorOrigin:{vertical:"bottom",horizontal:j?"right":"left"},transformOrigin:j?iI:aI,slots:{paper:P,root:w.root},slotProps:{root:N,paper:O},open:h,ref:n,transitionDuration:m,TransitionProps:b({onEntering:D},k),ownerState:E},_,{classes:v,children:o.jsx(uI,b({onKeyDown:L,actions:M,autoFocus:a&&(I===-1||d),autoFocusItem:S,variant:x},u,{className:re(T.list,u.className),children:l}))}))});function hI(e){return he("MuiMenuItem",e)}const Qo=fe("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),fI=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],mI=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]},gI=e=>{const{disabled:t,dense:n,divider:r,disableGutters:s,selected:i,classes:a}=e,c=ge({root:["root",n&&"dense",t&&"disabled",!s&&"gutters",r&&"divider",i&&"selected"]},hI,a);return b({},a,c)},vI=V(Yr,{shouldForwardProp:e=>mn(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:mI})(({theme:e,ownerState:t})=>b({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Qo.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:ze(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${Qo.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:ze(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${Qo.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:ze(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:ze(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${Qo.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Qo.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${Af.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${Af.inset}`]:{marginLeft:52},[`& .${sl.root}`]:{marginTop:0,marginBottom:0},[`& .${sl.inset}`]:{paddingLeft:36},[`& .${Gf.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&b({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${Gf.root} svg`]:{fontSize:"1.25rem"}}))),Mt=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiMenuItem"}),{autoFocus:s=!1,component:i="li",dense:a=!1,divider:l=!1,disableGutters:c=!1,focusVisibleClassName:d,role:u="menuitem",tabIndex:p,className:h}=r,g=Z(r,fI),v=f.useContext(wr),m=f.useMemo(()=>({dense:a||v.dense||!1,disableGutters:c}),[v.dense,a,c]),y=f.useRef(null);rn(()=>{s&&y.current&&y.current.focus()},[s]);const x=b({},r,{dense:m.dense,divider:l,disableGutters:c}),w=gI(r),C=vt(y,n);let k;return r.disabled||(k=p!==void 0?p:-1),o.jsx(wr.Provider,{value:m,children:o.jsx(vI,b({ref:C,role:u,tabIndex:k,component:i,focusVisibleClassName:re(w.focusVisible,d),className:re(w.root,h)},g,{ownerState:x,classes:w}))})});function yI(e){return he("MuiNativeSelect",e)}const up=fe("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),xI=["className","disabled","error","IconComponent","inputRef","variant"],bI=e=>{const{classes:t,variant:n,disabled:r,multiple:s,open:i,error:a}=e,l={select:["select",n,r&&"disabled",s&&"multiple",a&&"error"],icon:["icon",`icon${Q(n)}`,i&&"iconOpen",r&&"disabled"]};return ge(l,yI,t)},Xy=({ownerState:e,theme:t})=>b({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":b({},t.vars?{backgroundColor:`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:t.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${up.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},e.variant==="filled"&&{"&&&":{paddingRight:32}},e.variant==="outlined"&&{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}),CI=V("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:mn,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${up.multiple}`]:t.multiple}]}})(Xy),Zy=({ownerState:e,theme:t})=>b({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${up.disabled}`]:{color:(t.vars||t).palette.action.disabled}},e.open&&{transform:"rotate(180deg)"},e.variant==="filled"&&{right:7},e.variant==="outlined"&&{right:7}),wI=V("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${Q(n.variant)}`],n.open&&t.iconOpen]}})(Zy),jI=f.forwardRef(function(t,n){const{className:r,disabled:s,error:i,IconComponent:a,inputRef:l,variant:c="standard"}=t,d=Z(t,xI),u=b({},t,{disabled:s,variant:c,error:i}),p=bI(u);return o.jsxs(f.Fragment,{children:[o.jsx(CI,b({ownerState:u,className:re(p.select,r),disabled:s,ref:l||n},d)),t.multiple?null:o.jsx(wI,{as:a,ownerState:u,className:p.icon})]})});var Zf;const SI=["children","classes","className","label","notched"],kI=V("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:mn})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),_I=V("legend",{name:"MuiNotchedOutlined",shouldForwardProp:mn})(({ownerState:e,theme:t})=>b({float:"unset",width:"auto",overflow:"hidden"},!e.withLabel&&{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},e.withLabel&&b({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},e.notched&&{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})})));function TI(e){const{className:t,label:n,notched:r}=e,s=Z(e,SI),i=n!=null&&n!=="",a=b({},e,{notched:r,withLabel:i});return o.jsx(kI,b({"aria-hidden":!0,className:t,ownerState:a},s,{children:o.jsx(_I,{ownerState:a,children:i?o.jsx("span",{children:n}):Zf||(Zf=o.jsx("span",{className:"notranslate",children:"​"}))})}))}const EI=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],MI=e=>{const{classes:t}=e,r=ge({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},mE,t);return b({},t,r)},PI=V(oc,{shouldForwardProp:e=>mn(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:rc})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return b({position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${Rr.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${Rr.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${Rr.focused} .${Rr.notchedOutline}`]:{borderColor:(e.vars||e).palette[t.color].main,borderWidth:2},[`&.${Rr.error} .${Rr.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${Rr.disabled} .${Rr.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}},t.startAdornment&&{paddingLeft:14},t.endAdornment&&{paddingRight:14},t.multiline&&b({padding:"16.5px 14px"},t.size==="small"&&{padding:"8.5px 14px"}))}),NI=V(TI,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),II=V(ic,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:sc})(({theme:e,ownerState:t})=>b({padding:"16.5px 14px"},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{padding:"8.5px 14px"},t.multiline&&{padding:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0})),pp=f.forwardRef(function(t,n){var r,s,i,a,l;const c=we({props:t,name:"MuiOutlinedInput"}),{components:d={},fullWidth:u=!1,inputComponent:p="input",label:h,multiline:g=!1,notched:v,slots:m={},type:y="text"}=c,x=Z(c,EI),w=MI(c),C=ur(),k=Xr({props:c,muiFormControl:C,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),_=b({},c,{color:k.color||"primary",disabled:k.disabled,error:k.error,focused:k.focused,formControl:C,fullWidth:u,hiddenLabel:k.hiddenLabel,multiline:g,size:k.size,type:y}),j=(r=(s=m.root)!=null?s:d.Root)!=null?r:PI,E=(i=(a=m.input)!=null?a:d.Input)!=null?i:II;return o.jsx(ap,b({slots:{root:j,input:E},renderSuffix:T=>o.jsx(NI,{ownerState:_,className:w.notchedOutline,label:h!=null&&h!==""&&k.required?l||(l=o.jsxs(f.Fragment,{children:[h," ","*"]})):h,notched:typeof v<"u"?v:!!(T.startAdornment||T.filled||T.focused)}),fullWidth:u,inputComponent:p,multiline:g,ref:n,type:y},x,{classes:b({},w,{notchedOutline:null})}))});pp.muiName="Input";function RI(e){return he("MuiSelect",e)}const Xo=fe("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var Jf;const DI=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],AI=V("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${Xo.select}`]:t.select},{[`&.${Xo.select}`]:t[n.variant]},{[`&.${Xo.error}`]:t.error},{[`&.${Xo.multiple}`]:t.multiple}]}})(Xy,{[`&.${Xo.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),$I=V("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${Q(n.variant)}`],n.open&&t.iconOpen]}})(Zy),OI=V("input",{shouldForwardProp:e=>lv(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function em(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function LI(e){return e==null||typeof e=="string"&&!e.trim()}const FI=e=>{const{classes:t,variant:n,disabled:r,multiple:s,open:i,error:a}=e,l={select:["select",n,r&&"disabled",s&&"multiple",a&&"error"],icon:["icon",`icon${Q(n)}`,i&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return ge(l,RI,t)},zI=f.forwardRef(function(t,n){var r;const{"aria-describedby":s,"aria-label":i,autoFocus:a,autoWidth:l,children:c,className:d,defaultOpen:u,defaultValue:p,disabled:h,displayEmpty:g,error:v=!1,IconComponent:m,inputRef:y,labelId:x,MenuProps:w={},multiple:C,name:k,onBlur:_,onChange:j,onClose:E,onFocus:T,onOpen:S,open:M,readOnly:D,renderValue:L,SelectDisplayProps:I={},tabIndex:P,value:R,variant:N="standard"}=t,O=Z(t,DI),[z,$]=lr({controlled:R,default:p,name:"Select"}),[A,U]=lr({controlled:M,default:u,name:"Select"}),Y=f.useRef(null),G=f.useRef(null),[J,ae]=f.useState(null),{current:H}=f.useRef(M!=null),[le,ee]=f.useState(),X=vt(n,y),ie=f.useCallback(Se=>{G.current=Se,Se&&ae(Se)},[]),K=J==null?void 0:J.parentNode;f.useImperativeHandle(X,()=>({focus:()=>{G.current.focus()},node:Y.current,value:z}),[z]),f.useEffect(()=>{u&&A&&J&&!H&&(ee(l?null:K.clientWidth),G.current.focus())},[J,l]),f.useEffect(()=>{a&&G.current.focus()},[a]),f.useEffect(()=>{if(!x)return;const Se=Bt(G.current).getElementById(x);if(Se){const st=()=>{getSelection().isCollapsed&&G.current.focus()};return Se.addEventListener("click",st),()=>{Se.removeEventListener("click",st)}}},[x]);const W=(Se,st)=>{Se?S&&S(st):E&&E(st),H||(ee(l?null:K.clientWidth),U(Se))},F=Se=>{Se.button===0&&(Se.preventDefault(),G.current.focus(),W(!0,Se))},q=Se=>{W(!1,Se)},ne=f.Children.toArray(c),pe=Se=>{const st=ne.find(xt=>xt.props.value===Se.target.value);st!==void 0&&($(st.props.value),j&&j(Se,st))},Te=Se=>st=>{let xt;if(st.currentTarget.hasAttribute("tabindex")){if(C){xt=Array.isArray(z)?z.slice():[];const gn=z.indexOf(Se.props.value);gn===-1?xt.push(Se.props.value):xt.splice(gn,1)}else xt=Se.props.value;if(Se.props.onClick&&Se.props.onClick(st),z!==xt&&($(xt),j)){const gn=st.nativeEvent||st,Ir=new gn.constructor(gn.type,gn);Object.defineProperty(Ir,"target",{writable:!0,value:{value:xt,name:k}}),j(Ir,Se)}C||W(!1,st)}},oe=Se=>{D||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Se.key)!==-1&&(Se.preventDefault(),W(!0,Se))},ce=J!==null&&A,xe=Se=>{!ce&&_&&(Object.defineProperty(Se,"target",{writable:!0,value:{value:z,name:k}}),_(Se))};delete O["aria-invalid"];let ve,Re;const Me=[];let Ie=!1;(nl({value:z})||g)&&(L?ve=L(z):Ie=!0);const wt=ne.map(Se=>{if(!f.isValidElement(Se))return null;let st;if(C){if(!Array.isArray(z))throw new Error(jr(2));st=z.some(xt=>em(xt,Se.props.value)),st&&Ie&&Me.push(Se.props.children)}else st=em(z,Se.props.value),st&&Ie&&(Re=Se.props.children);return f.cloneElement(Se,{"aria-selected":st?"true":"false",onClick:Te(Se),onKeyUp:xt=>{xt.key===" "&&xt.preventDefault(),Se.props.onKeyUp&&Se.props.onKeyUp(xt)},role:"option",selected:st,value:void 0,"data-value":Se.props.value})});Ie&&(C?Me.length===0?ve=null:ve=Me.reduce((Se,st,xt)=>(Se.push(st),xt<Me.length-1&&Se.push(", "),Se),[]):ve=Re);let Dt=le;!l&&H&&J&&(Dt=K.clientWidth);let At;typeof P<"u"?At=P:At=h?null:0;const Qe=I.id||(k?`mui-component-select-${k}`:void 0),_e=b({},t,{variant:N,value:z,open:ce,error:v}),Et=FI(_e),kn=b({},w.PaperProps,(r=w.slotProps)==null?void 0:r.paper),Xt=ko();return o.jsxs(f.Fragment,{children:[o.jsx(AI,b({ref:ie,tabIndex:At,role:"combobox","aria-controls":Xt,"aria-disabled":h?"true":void 0,"aria-expanded":ce?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[x,Qe].filter(Boolean).join(" ")||void 0,"aria-describedby":s,onKeyDown:oe,onMouseDown:h||D?null:F,onBlur:xe,onFocus:T},I,{ownerState:_e,className:re(I.className,Et.select,d),id:Qe,children:LI(ve)?Jf||(Jf=o.jsx("span",{className:"notranslate",children:"​"})):ve})),o.jsx(OI,b({"aria-invalid":v,value:Array.isArray(z)?z.join(","):z,name:k,ref:Y,"aria-hidden":!0,onChange:pe,tabIndex:-1,disabled:h,className:Et.nativeInput,autoFocus:a,ownerState:_e},O)),o.jsx($I,{as:m,className:Et.icon,ownerState:_e}),o.jsx(pI,b({id:`menu-${k||""}`,anchorEl:K,open:ce,onClose:q,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},w,{MenuListProps:b({"aria-labelledby":x,role:"listbox","aria-multiselectable":C?"true":void 0,disableListWrap:!0,id:Xt},w.MenuListProps),slotProps:b({},w.slotProps,{paper:b({},kn,{style:b({minWidth:Dt},kn!=null?kn.style:null)})}),children:wt}))]})}),BI=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],WI=["root"],HI=e=>{const{classes:t}=e;return t},hp={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>mn(e)&&e!=="variant",slot:"Root"},UI=V(cp,hp)(""),VI=V(pp,hp)(""),YI=V(lp,hp)(""),dr=f.forwardRef(function(t,n){const r=we({name:"MuiSelect",props:t}),{autoWidth:s=!1,children:i,classes:a={},className:l,defaultOpen:c=!1,displayEmpty:d=!1,IconComponent:u=vE,id:p,input:h,inputProps:g,label:v,labelId:m,MenuProps:y,multiple:x=!1,native:w=!1,onClose:C,onOpen:k,open:_,renderValue:j,SelectDisplayProps:E,variant:T="outlined"}=r,S=Z(r,BI),M=w?jI:zI,D=ur(),L=Xr({props:r,muiFormControl:D,states:["variant","error"]}),I=L.variant||T,P=b({},r,{variant:I,classes:a}),R=HI(P),N=Z(R,WI),O=h||{standard:o.jsx(UI,{ownerState:P}),outlined:o.jsx(VI,{label:v,ownerState:P}),filled:o.jsx(YI,{ownerState:P})}[I],z=vt(n,ks(O));return o.jsx(f.Fragment,{children:f.cloneElement(O,b({inputComponent:M,inputProps:b({children:i,error:L.error,IconComponent:u,variant:I,type:void 0,multiple:x},w?{id:p}:{autoWidth:s,defaultOpen:c,displayEmpty:d,labelId:m,MenuProps:y,onClose:C,onOpen:k,open:_,renderValue:j,SelectDisplayProps:b({id:p},E)},g,{classes:g?nn(N,g.classes):N},h?h.props.inputProps:{})},(x&&w||d)&&I==="outlined"?{notched:!0}:{},{ref:z,className:re(O.props.className,l,R.root)},!h&&{variant:I},S))})});dr.muiName="Select";function GI(e={}){const{autoHideDuration:t=null,disableWindowBlurListener:n=!1,onClose:r,open:s,resumeHideDuration:i}=e,a=Or();f.useEffect(()=>{if(!s)return;function x(w){w.defaultPrevented||(w.key==="Escape"||w.key==="Esc")&&(r==null||r(w,"escapeKeyDown"))}return document.addEventListener("keydown",x),()=>{document.removeEventListener("keydown",x)}},[s,r]);const l=De((x,w)=>{r==null||r(x,w)}),c=De(x=>{!r||x==null||a.start(x,()=>{l(null,"timeout")})});f.useEffect(()=>(s&&c(t),a.clear),[s,t,c,a]);const d=x=>{r==null||r(x,"clickaway")},u=a.clear,p=f.useCallback(()=>{t!=null&&c(i??t*.5)},[t,i,c]),h=x=>w=>{const C=x.onBlur;C==null||C(w),p()},g=x=>w=>{const C=x.onFocus;C==null||C(w),u()},v=x=>w=>{const C=x.onMouseEnter;C==null||C(w),u()},m=x=>w=>{const C=x.onMouseLeave;C==null||C(w),p()};return f.useEffect(()=>{if(!n&&s)return window.addEventListener("focus",p),window.addEventListener("blur",u),()=>{window.removeEventListener("focus",p),window.removeEventListener("blur",u)}},[n,s,p,u]),{getRootProps:(x={})=>{const w=b({},za(e),za(x));return b({role:"presentation"},x,w,{onBlur:h(w),onFocus:g(w),onMouseEnter:v(w),onMouseLeave:m(w)})},onClickAway:d}}function qI(e){return he("MuiSnackbarContent",e)}fe("MuiSnackbarContent",["root","message","action"]);const KI=["action","className","message","role"],QI=e=>{const{classes:t}=e;return ge({root:["root"],action:["action"],message:["message"]},qI,t)},XI=V(sn,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>{const t=e.palette.mode==="light"?.8:.98,n=ow(e.palette.background.default,t);return b({},e.typography.body2,{color:e.vars?e.vars.palette.SnackbarContent.color:e.palette.getContrastText(n),backgroundColor:e.vars?e.vars.palette.SnackbarContent.bg:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,flexGrow:1,[e.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),ZI=V("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0"}),JI=V("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),eR=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiSnackbarContent"}),{action:s,className:i,message:a,role:l="alert"}=r,c=Z(r,KI),d=r,u=QI(d);return o.jsxs(XI,b({role:l,square:!0,elevation:6,className:re(u.root,i),ownerState:d,ref:n},c,{children:[o.jsx(ZI,{className:u.message,ownerState:d,children:a}),s?o.jsx(JI,{className:u.action,ownerState:d,children:s}):null]}))});function tR(e){return he("MuiSnackbar",e)}fe("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const nR=["onEnter","onExited"],rR=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],sR=e=>{const{classes:t,anchorOrigin:n}=e,r={root:["root",`anchorOrigin${Q(n.vertical)}${Q(n.horizontal)}`]};return ge(r,tR,t)},tm=V("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`anchorOrigin${Q(n.anchorOrigin.vertical)}${Q(n.anchorOrigin.horizontal)}`]]}})(({theme:e,ownerState:t})=>{const n={left:"50%",right:"auto",transform:"translateX(-50%)"};return b({zIndex:(e.vars||e).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},t.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},t.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},t.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[e.breakpoints.up("sm")]:b({},t.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},t.anchorOrigin.horizontal==="center"&&n,t.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},t.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),Jy=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiSnackbar"}),s=Vn(),i={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{action:a,anchorOrigin:{vertical:l,horizontal:c}={vertical:"bottom",horizontal:"left"},autoHideDuration:d=null,children:u,className:p,ClickAwayListenerProps:h,ContentProps:g,disableWindowBlurListener:v=!1,message:m,open:y,TransitionComponent:x=Mi,transitionDuration:w=i,TransitionProps:{onEnter:C,onExited:k}={}}=r,_=Z(r.TransitionProps,nR),j=Z(r,rR),E=b({},r,{anchorOrigin:{vertical:l,horizontal:c},autoHideDuration:d,disableWindowBlurListener:v,TransitionComponent:x,transitionDuration:w}),T=sR(E),{getRootProps:S,onClickAway:M}=GI(b({},E)),[D,L]=f.useState(!0),I=Ur({elementType:tm,getSlotProps:S,externalForwardedProps:j,ownerState:E,additionalProps:{ref:n},className:[T.root,p]}),P=N=>{L(!0),k&&k(N)},R=(N,O)=>{L(!1),C&&C(N,O)};return!y&&D?null:o.jsx(yM,b({onClickAway:M},h,{children:o.jsx(tm,b({},I,{children:o.jsx(x,b({appear:!0,in:y,timeout:w,direction:l==="top"?"down":"up",onEnter:R,onExited:P},_,{children:u||o.jsx(eR,b({message:m,action:a},g))}))}))}))});function oR(e){return he("MuiTooltip",e)}const Fr=fe("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),iR=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function aR(e){return Math.round(e*1e5)/1e5}const lR=e=>{const{classes:t,disableInteractive:n,arrow:r,touch:s,placement:i}=e,a={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",s&&"touch",`tooltipPlacement${Q(i.split("-")[0])}`],arrow:["arrow"]};return ge(a,oR,t)},cR=V(zy,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})(({theme:e,ownerState:t,open:n})=>b({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none"},!t.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},t.arrow&&{[`&[data-popper-placement*="bottom"] .${Fr.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Fr.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Fr.arrow}`]:b({},t.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${Fr.arrow}`]:b({},t.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),dR=V("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t[`tooltipPlacement${Q(n.placement.split("-")[0])}`]]}})(({theme:e,ownerState:t})=>b({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:ze(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},t.arrow&&{position:"relative",margin:0},t.touch&&{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${aR(16/14)}em`,fontWeight:e.typography.fontWeightRegular},{[`.${Fr.popper}[data-popper-placement*="left"] &`]:b({transformOrigin:"right center"},t.isRtl?b({marginLeft:"14px"},t.touch&&{marginLeft:"24px"}):b({marginRight:"14px"},t.touch&&{marginRight:"24px"})),[`.${Fr.popper}[data-popper-placement*="right"] &`]:b({transformOrigin:"left center"},t.isRtl?b({marginRight:"14px"},t.touch&&{marginRight:"24px"}):b({marginLeft:"14px"},t.touch&&{marginLeft:"24px"})),[`.${Fr.popper}[data-popper-placement*="top"] &`]:b({transformOrigin:"center bottom",marginBottom:"14px"},t.touch&&{marginBottom:"24px"}),[`.${Fr.popper}[data-popper-placement*="bottom"] &`]:b({transformOrigin:"center top",marginTop:"14px"},t.touch&&{marginTop:"24px"})})),uR=V("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:ze(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let ua=!1;const nm=new Fi;let Zo={x:0,y:0};function pa(e,t){return(n,...r)=>{t&&t(n,...r),e(n,...r)}}const rm=f.forwardRef(function(t,n){var r,s,i,a,l,c,d,u,p,h,g,v,m,y,x,w,C,k,_;const j=we({props:t,name:"MuiTooltip"}),{arrow:E=!1,children:T,components:S={},componentsProps:M={},describeChild:D=!1,disableFocusListener:L=!1,disableHoverListener:I=!1,disableInteractive:P=!1,disableTouchListener:R=!1,enterDelay:N=100,enterNextDelay:O=0,enterTouchDelay:z=700,followCursor:$=!1,id:A,leaveDelay:U=0,leaveTouchDelay:Y=1500,onClose:G,onOpen:J,open:ae,placement:H="bottom",PopperComponent:le,PopperProps:ee={},slotProps:X={},slots:ie={},title:K,TransitionComponent:W=Mi,TransitionProps:F}=j,q=Z(j,iR),ne=f.isValidElement(T)?T:o.jsx("span",{children:T}),pe=Vn(),Te=wu(),[oe,ce]=f.useState(),[xe,ve]=f.useState(null),Re=f.useRef(!1),Me=P||$,Ie=Or(),wt=Or(),Dt=Or(),At=Or(),[Qe,_e]=lr({controlled:ae,default:!1,name:"Tooltip",state:"open"});let Et=Qe;const kn=ko(A),Xt=f.useRef(),Se=De(()=>{Xt.current!==void 0&&(document.body.style.WebkitUserSelect=Xt.current,Xt.current=void 0),At.clear()});f.useEffect(()=>Se,[Se]);const st=Le=>{nm.clear(),ua=!0,_e(!0),J&&!Et&&J(Le)},xt=De(Le=>{nm.start(800+U,()=>{ua=!1}),_e(!1),G&&Et&&G(Le),Ie.start(pe.transitions.duration.shortest,()=>{Re.current=!1})}),gn=Le=>{Re.current&&Le.type!=="touchstart"||(oe&&oe.removeAttribute("title"),wt.clear(),Dt.clear(),N||ua&&O?wt.start(ua?O:N,()=>{st(Le)}):st(Le))},Ir=Le=>{wt.clear(),Dt.start(U,()=>{xt(Le)})},{isFocusVisibleRef:Es,onBlur:ea,onFocus:Ao,ref:$o}=Wg(),[,Ms]=f.useState(!1),ta=Le=>{ea(Le),Es.current===!1&&(Ms(!1),Ir(Le))},ht=Le=>{oe||ce(Le.currentTarget),Ao(Le),Es.current===!0&&(Ms(!0),gn(Le))},vn=Le=>{Re.current=!0;const yn=ne.props;yn.onTouchStart&&yn.onTouchStart(Le)},Zr=Le=>{vn(Le),Dt.clear(),Ie.clear(),Se(),Xt.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",At.start(z,()=>{document.body.style.WebkitUserSelect=Xt.current,gn(Le)})},Yn=Le=>{ne.props.onTouchEnd&&ne.props.onTouchEnd(Le),Se(),Dt.start(Y,()=>{xt(Le)})};f.useEffect(()=>{if(!Et)return;function Le(yn){(yn.key==="Escape"||yn.key==="Esc")&&xt(yn)}return document.addEventListener("keydown",Le),()=>{document.removeEventListener("keydown",Le)}},[xt,Et]);const Qx=vt(ks(ne),$o,ce,n);!K&&K!==0&&(Et=!1);const wc=f.useRef(),Xx=Le=>{const yn=ne.props;yn.onMouseMove&&yn.onMouseMove(Le),Zo={x:Le.clientX,y:Le.clientY},wc.current&&wc.current.update()},Oo={},jc=typeof K=="string";D?(Oo.title=!Et&&jc&&!I?K:null,Oo["aria-describedby"]=Et?kn:null):(Oo["aria-label"]=jc?K:null,Oo["aria-labelledby"]=Et&&!jc?kn:null);const zn=b({},Oo,q,ne.props,{className:re(q.className,ne.props.className),onTouchStart:vn,ref:Qx},$?{onMouseMove:Xx}:{}),Lo={};R||(zn.onTouchStart=Zr,zn.onTouchEnd=Yn),I||(zn.onMouseOver=pa(gn,zn.onMouseOver),zn.onMouseLeave=pa(Ir,zn.onMouseLeave),Me||(Lo.onMouseOver=gn,Lo.onMouseLeave=Ir)),L||(zn.onFocus=pa(ht,zn.onFocus),zn.onBlur=pa(ta,zn.onBlur),Me||(Lo.onFocus=ht,Lo.onBlur=ta));const Zx=f.useMemo(()=>{var Le;let yn=[{name:"arrow",enabled:!!xe,options:{element:xe,padding:4}}];return(Le=ee.popperOptions)!=null&&Le.modifiers&&(yn=yn.concat(ee.popperOptions.modifiers)),b({},ee.popperOptions,{modifiers:yn})},[xe,ee]),Fo=b({},j,{isRtl:Te,arrow:E,disableInteractive:Me,placement:H,PopperComponentProp:le,touch:Re.current}),Sc=lR(Fo),Mp=(r=(s=ie.popper)!=null?s:S.Popper)!=null?r:cR,Pp=(i=(a=(l=ie.transition)!=null?l:S.Transition)!=null?a:W)!=null?i:Mi,Np=(c=(d=ie.tooltip)!=null?d:S.Tooltip)!=null?c:dR,Ip=(u=(p=ie.arrow)!=null?p:S.Arrow)!=null?u:uR,Jx=Bs(Mp,b({},ee,(h=X.popper)!=null?h:M.popper,{className:re(Sc.popper,ee==null?void 0:ee.className,(g=(v=X.popper)!=null?v:M.popper)==null?void 0:g.className)}),Fo),eb=Bs(Pp,b({},F,(m=X.transition)!=null?m:M.transition),Fo),tb=Bs(Np,b({},(y=X.tooltip)!=null?y:M.tooltip,{className:re(Sc.tooltip,(x=(w=X.tooltip)!=null?w:M.tooltip)==null?void 0:x.className)}),Fo),nb=Bs(Ip,b({},(C=X.arrow)!=null?C:M.arrow,{className:re(Sc.arrow,(k=(_=X.arrow)!=null?_:M.arrow)==null?void 0:k.className)}),Fo);return o.jsxs(f.Fragment,{children:[f.cloneElement(ne,zn),o.jsx(Mp,b({as:le??zy,placement:H,anchorEl:$?{getBoundingClientRect:()=>({top:Zo.y,left:Zo.x,right:Zo.x,bottom:Zo.y,width:0,height:0})}:oe,popperRef:wc,open:oe?Et:!1,id:kn,transition:!0},Lo,Jx,{popperOptions:Zx,children:({TransitionProps:Le})=>o.jsx(Pp,b({timeout:pe.transitions.duration.shorter},Le,eb,{children:o.jsxs(Np,b({},tb,{children:[K,E?o.jsx(Ip,b({},nb,{ref:ve})):null]}))}))}))]})}),Xi=f.createContext({}),lc=f.createContext({});function pR(e){return he("MuiStep",e)}fe("MuiStep",["root","horizontal","vertical","alternativeLabel","completed"]);const hR=["active","children","className","component","completed","disabled","expanded","index","last"],fR=e=>{const{classes:t,orientation:n,alternativeLabel:r,completed:s}=e;return ge({root:["root",n,r&&"alternativeLabel",s&&"completed"]},pR,t)},mR=V("div",{name:"MuiStep",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.alternativeLabel&&t.alternativeLabel,n.completed&&t.completed]}})(({ownerState:e})=>b({},e.orientation==="horizontal"&&{paddingLeft:8,paddingRight:8},e.alternativeLabel&&{flex:1,position:"relative"})),qc=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiStep"}),{active:s,children:i,className:a,component:l="div",completed:c,disabled:d,expanded:u=!1,index:p,last:h}=r,g=Z(r,hR),{activeStep:v,connector:m,alternativeLabel:y,orientation:x,nonLinear:w}=f.useContext(Xi);let[C=!1,k=!1,_=!1]=[s,c,d];v===p?C=s!==void 0?s:!0:!w&&v>p?k=c!==void 0?c:!0:!w&&v<p&&(_=d!==void 0?d:!0);const j=f.useMemo(()=>({index:p,last:h,expanded:u,icon:p+1,active:C,completed:k,disabled:_}),[p,h,u,C,k,_]),E=b({},r,{active:C,orientation:x,alternativeLabel:y,completed:k,disabled:_,expanded:u,component:l}),T=fR(E),S=o.jsxs(mR,b({as:l,className:re(T.root,a),ref:n,ownerState:E},g,{children:[m&&y&&p!==0?m:null,i]}));return o.jsx(lc.Provider,{value:j,children:m&&!y&&p!==0?o.jsxs(f.Fragment,{children:[m,S]}):S})}),gR=ue(o.jsx("path",{d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"}),"CheckCircle"),vR=ue(o.jsx("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning");function yR(e){return he("MuiStepIcon",e)}const Kc=fe("MuiStepIcon",["root","active","completed","error","text"]);var sm;const xR=["active","className","completed","error","icon"],bR=e=>{const{classes:t,active:n,completed:r,error:s}=e;return ge({root:["root",n&&"active",r&&"completed",s&&"error"],text:["text"]},yR,t)},Qc=V(Za,{name:"MuiStepIcon",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({display:"block",transition:e.transitions.create("color",{duration:e.transitions.duration.shortest}),color:(e.vars||e).palette.text.disabled,[`&.${Kc.completed}`]:{color:(e.vars||e).palette.primary.main},[`&.${Kc.active}`]:{color:(e.vars||e).palette.primary.main},[`&.${Kc.error}`]:{color:(e.vars||e).palette.error.main}})),CR=V("text",{name:"MuiStepIcon",slot:"Text",overridesResolver:(e,t)=>t.text})(({theme:e})=>({fill:(e.vars||e).palette.primary.contrastText,fontSize:e.typography.caption.fontSize,fontFamily:e.typography.fontFamily})),wR=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiStepIcon"}),{active:s=!1,className:i,completed:a=!1,error:l=!1,icon:c}=r,d=Z(r,xR),u=b({},r,{active:s,completed:a,error:l}),p=bR(u);if(typeof c=="number"||typeof c=="string"){const h=re(i,p.root);return l?o.jsx(Qc,b({as:vR,className:h,ref:n,ownerState:u},d)):a?o.jsx(Qc,b({as:gR,className:h,ref:n,ownerState:u},d)):o.jsxs(Qc,b({className:h,ref:n,ownerState:u},d,{children:[sm||(sm=o.jsx("circle",{cx:"12",cy:"12",r:"12"})),o.jsx(CR,{className:p.text,x:"12",y:"12",textAnchor:"middle",dominantBaseline:"central",ownerState:u,children:c})]}))}return c});function jR(e){return he("MuiStepLabel",e)}const zr=fe("MuiStepLabel",["root","horizontal","vertical","label","active","completed","error","disabled","iconContainer","alternativeLabel","labelContainer"]),SR=["children","className","componentsProps","error","icon","optional","slotProps","StepIconComponent","StepIconProps"],kR=e=>{const{classes:t,orientation:n,active:r,completed:s,error:i,disabled:a,alternativeLabel:l}=e;return ge({root:["root",n,i&&"error",a&&"disabled",l&&"alternativeLabel"],label:["label",r&&"active",s&&"completed",i&&"error",a&&"disabled",l&&"alternativeLabel"],iconContainer:["iconContainer",r&&"active",s&&"completed",i&&"error",a&&"disabled",l&&"alternativeLabel"],labelContainer:["labelContainer",l&&"alternativeLabel"]},jR,t)},_R=V("span",{name:"MuiStepLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation]]}})(({ownerState:e})=>b({display:"flex",alignItems:"center",[`&.${zr.alternativeLabel}`]:{flexDirection:"column"},[`&.${zr.disabled}`]:{cursor:"default"}},e.orientation==="vertical"&&{textAlign:"left",padding:"8px 0"})),TR=V("span",{name:"MuiStepLabel",slot:"Label",overridesResolver:(e,t)=>t.label})(({theme:e})=>b({},e.typography.body2,{display:"block",transition:e.transitions.create("color",{duration:e.transitions.duration.shortest}),[`&.${zr.active}`]:{color:(e.vars||e).palette.text.primary,fontWeight:500},[`&.${zr.completed}`]:{color:(e.vars||e).palette.text.primary,fontWeight:500},[`&.${zr.alternativeLabel}`]:{marginTop:16},[`&.${zr.error}`]:{color:(e.vars||e).palette.error.main}})),ER=V("span",{name:"MuiStepLabel",slot:"IconContainer",overridesResolver:(e,t)=>t.iconContainer})(()=>({flexShrink:0,display:"flex",paddingRight:8,[`&.${zr.alternativeLabel}`]:{paddingRight:0}})),MR=V("span",{name:"MuiStepLabel",slot:"LabelContainer",overridesResolver:(e,t)=>t.labelContainer})(({theme:e})=>({width:"100%",color:(e.vars||e).palette.text.secondary,[`&.${zr.alternativeLabel}`]:{textAlign:"center"}})),Ra=f.forwardRef(function(t,n){var r;const s=we({props:t,name:"MuiStepLabel"}),{children:i,className:a,componentsProps:l={},error:c=!1,icon:d,optional:u,slotProps:p={},StepIconComponent:h,StepIconProps:g}=s,v=Z(s,SR),{alternativeLabel:m,orientation:y}=f.useContext(Xi),{active:x,disabled:w,completed:C,icon:k}=f.useContext(lc),_=d||k;let j=h;_&&!j&&(j=wR);const E=b({},s,{active:x,alternativeLabel:m,completed:C,disabled:w,error:c,orientation:y}),T=kR(E),S=(r=p.label)!=null?r:l.label;return o.jsxs(_R,b({className:re(T.root,a),ref:n,ownerState:E},v,{children:[_||j?o.jsx(ER,{className:T.iconContainer,ownerState:E,children:o.jsx(j,b({completed:C,active:x,error:c,icon:_},g))}):null,o.jsxs(MR,{className:T.labelContainer,ownerState:E,children:[i?o.jsx(TR,b({ownerState:E},S,{className:re(T.label,S==null?void 0:S.className),children:i})):null,u]})]}))});Ra.muiName="StepLabel";function PR(e){return he("MuiStepConnector",e)}fe("MuiStepConnector",["root","horizontal","vertical","alternativeLabel","active","completed","disabled","line","lineHorizontal","lineVertical"]);const NR=["className"],IR=e=>{const{classes:t,orientation:n,alternativeLabel:r,active:s,completed:i,disabled:a}=e,l={root:["root",n,r&&"alternativeLabel",s&&"active",i&&"completed",a&&"disabled"],line:["line",`line${Q(n)}`]};return ge(l,PR,t)},RR=V("div",{name:"MuiStepConnector",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.alternativeLabel&&t.alternativeLabel,n.completed&&t.completed]}})(({ownerState:e})=>b({flex:"1 1 auto"},e.orientation==="vertical"&&{marginLeft:12},e.alternativeLabel&&{position:"absolute",top:12,left:"calc(-50% + 20px)",right:"calc(50% + 20px)"})),DR=V("span",{name:"MuiStepConnector",slot:"Line",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.line,t[`line${Q(n.orientation)}`]]}})(({ownerState:e,theme:t})=>{const n=t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[600];return b({display:"block",borderColor:t.vars?t.vars.palette.StepConnector.border:n},e.orientation==="horizontal"&&{borderTopStyle:"solid",borderTopWidth:1},e.orientation==="vertical"&&{borderLeftStyle:"solid",borderLeftWidth:1,minHeight:24})}),AR=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiStepConnector"}),{className:s}=r,i=Z(r,NR),{alternativeLabel:a,orientation:l="horizontal"}=f.useContext(Xi),{active:c,disabled:d,completed:u}=f.useContext(lc),p=b({},r,{alternativeLabel:a,orientation:l,active:c,completed:u,disabled:d}),h=IR(p);return o.jsx(RR,b({className:re(h.root,s),ref:n,ownerState:p},i,{children:o.jsx(DR,{className:h.line,ownerState:p})}))});function $R(e){return he("MuiStepContent",e)}fe("MuiStepContent",["root","last","transition"]);const OR=["children","className","TransitionComponent","transitionDuration","TransitionProps"],LR=e=>{const{classes:t,last:n}=e;return ge({root:["root",n&&"last"],transition:["transition"]},$R,t)},FR=V("div",{name:"MuiStepContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.last&&t.last]}})(({ownerState:e,theme:t})=>b({marginLeft:12,paddingLeft:20,paddingRight:8,borderLeft:t.vars?`1px solid ${t.vars.palette.StepContent.border}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[600]}`},e.last&&{borderLeft:"none"})),zR=V(Zu,{name:"MuiStepContent",slot:"Transition",overridesResolver:(e,t)=>t.transition})({}),Xc=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiStepContent"}),{children:s,className:i,TransitionComponent:a=Zu,transitionDuration:l="auto",TransitionProps:c}=r,d=Z(r,OR),{orientation:u}=f.useContext(Xi),{active:p,last:h,expanded:g}=f.useContext(lc),v=b({},r,{last:h}),m=LR(v);let y=l;return l==="auto"&&!a.muiSupportAuto&&(y=void 0),o.jsx(FR,b({className:re(m.root,i),ref:n,ownerState:v},d,{children:o.jsx(zR,b({as:a,in:p||g,className:m.transition,ownerState:v,timeout:y,unmountOnExit:!0},c,{children:s}))}))});function BR(e){return he("MuiStepper",e)}fe("MuiStepper",["root","horizontal","vertical","nonLinear","alternativeLabel"]);const WR=["activeStep","alternativeLabel","children","className","component","connector","nonLinear","orientation"],HR=e=>{const{orientation:t,nonLinear:n,alternativeLabel:r,classes:s}=e;return ge({root:["root",t,n&&"nonLinear",r&&"alternativeLabel"]},BR,s)},UR=V("div",{name:"MuiStepper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.alternativeLabel&&t.alternativeLabel,n.nonLinear&&t.nonLinear]}})(({ownerState:e})=>b({display:"flex"},e.orientation==="horizontal"&&{flexDirection:"row",alignItems:"center"},e.orientation==="vertical"&&{flexDirection:"column"},e.alternativeLabel&&{alignItems:"flex-start"})),VR=o.jsx(AR,{}),YR=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiStepper"}),{activeStep:s=0,alternativeLabel:i=!1,children:a,className:l,component:c="div",connector:d=VR,nonLinear:u=!1,orientation:p="horizontal"}=r,h=Z(r,WR),g=b({},r,{nonLinear:u,alternativeLabel:i,orientation:p,component:c}),v=HR(g),m=f.Children.toArray(a).filter(Boolean),y=m.map((w,C)=>f.cloneElement(w,b({index:C,last:C+1===m.length},w.props))),x=f.useMemo(()=>({activeStep:s,alternativeLabel:i,connector:d,nonLinear:u,orientation:p}),[s,i,d,u,p]);return o.jsx(Xi.Provider,{value:x,children:o.jsx(UR,b({as:c,ownerState:g,className:re(v.root,l),ref:n},h,{children:y}))})});function GR(e){return he("MuiSwitch",e)}const Jt=fe("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),qR=["className","color","edge","size","sx"],KR=e=>{const{classes:t,edge:n,size:r,color:s,checked:i,disabled:a}=e,l={root:["root",n&&`edge${Q(n)}`,`size${Q(r)}`],switchBase:["switchBase",`color${Q(s)}`,i&&"checked",a&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},c=ge(l,GR,t);return b({},t,c)},QR=V("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.edge&&t[`edge${Q(n.edge)}`],t[`size${Q(n.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${Jt.thumb}`]:{width:16,height:16},[`& .${Jt.switchBase}`]:{padding:4,[`&.${Jt.checked}`]:{transform:"translateX(16px)"}}}}]}),XR=V(Hy,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.switchBase,{[`& .${Jt.input}`]:t.input},n.color!=="default"&&t[`color${Q(n.color)}`]]}})(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${Jt.checked}`]:{transform:"translateX(20px)"},[`&.${Jt.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${Jt.checked} + .${Jt.track}`]:{opacity:.5},[`&.${Jt.disabled} + .${Jt.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${Jt.input}`]:{left:"-100%",width:"300%"}}),({theme:e})=>({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:ze(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(e.palette).filter(([,t])=>t.main&&t.light).map(([t])=>({props:{color:t},style:{[`&.${Jt.checked}`]:{color:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ze(e.palette[t].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Jt.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t}DisabledColor`]:`${e.palette.mode==="light"?io(e.palette[t].main,.62):oo(e.palette[t].main,.55)}`}},[`&.${Jt.checked} + .${Jt.track}`]:{backgroundColor:(e.vars||e).palette[t].main}}}))]})),ZR=V("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`})),JR=V("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),Xs=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiSwitch"}),{className:s,color:i="primary",edge:a=!1,size:l="medium",sx:c}=r,d=Z(r,qR),u=b({},r,{color:i,edge:a,size:l}),p=KR(u),h=o.jsx(JR,{className:p.thumb,ownerState:u});return o.jsxs(QR,{className:re(p.root,s),sx:c,ownerState:u,children:[o.jsx(XR,b({type:"checkbox",icon:h,checkedIcon:h,ref:n,ownerState:u},d,{classes:b({},p,{root:p.switchBase})})),o.jsx(ZR,{className:p.track,ownerState:u})]})}),ex=f.createContext();function eD(e){return he("MuiTable",e)}fe("MuiTable",["root","stickyHeader"]);const tD=["className","component","padding","size","stickyHeader"],nD=e=>{const{classes:t,stickyHeader:n}=e;return ge({root:["root",n&&"stickyHeader"]},eD,t)},rD=V("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>b({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":b({},e.typography.body2,{padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},t.stickyHeader&&{borderCollapse:"separate"})),om="table",cc=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiTable"}),{className:s,component:i=om,padding:a="normal",size:l="medium",stickyHeader:c=!1}=r,d=Z(r,tD),u=b({},r,{component:i,padding:a,size:l,stickyHeader:c}),p=nD(u),h=f.useMemo(()=>({padding:a,size:l,stickyHeader:c}),[a,l,c]);return o.jsx(ex.Provider,{value:h,children:o.jsx(rD,b({as:i,role:i===om?null:"table",ref:n,className:re(p.root,s),ownerState:u},d))})}),dc=f.createContext();function sD(e){return he("MuiTableBody",e)}fe("MuiTableBody",["root"]);const oD=["className","component"],iD=e=>{const{classes:t}=e;return ge({root:["root"]},sD,t)},aD=V("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),lD={variant:"body"},im="tbody",uc=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiTableBody"}),{className:s,component:i=im}=r,a=Z(r,oD),l=b({},r,{component:i}),c=iD(l);return o.jsx(dc.Provider,{value:lD,children:o.jsx(aD,b({className:re(c.root,s),as:i,ref:n,role:i===im?null:"rowgroup",ownerState:l},a))})});function cD(e){return he("MuiTableCell",e)}const dD=fe("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),uD=["align","className","component","padding","scope","size","sortDirection","variant"],pD=e=>{const{classes:t,variant:n,align:r,padding:s,size:i,stickyHeader:a}=e,l={root:["root",n,a&&"stickyHeader",r!=="inherit"&&`align${Q(r)}`,s!=="normal"&&`padding${Q(s)}`,`size${Q(i)}`]};return ge(l,cD,t)},hD=V("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${Q(n.size)}`],n.padding!=="normal"&&t[`padding${Q(n.padding)}`],n.align!=="inherit"&&t[`align${Q(n.align)}`],n.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>b({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?io(ze(e.palette.divider,1),.88):oo(ze(e.palette.divider,1),.68)}`,textAlign:"left",padding:16},t.variant==="head"&&{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},t.variant==="body"&&{color:(e.vars||e).palette.text.primary},t.variant==="footer"&&{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},t.size==="small"&&{padding:"6px 16px",[`&.${dD.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},t.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},t.padding==="none"&&{padding:0},t.align==="left"&&{textAlign:"left"},t.align==="center"&&{textAlign:"center"},t.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},t.align==="justify"&&{textAlign:"justify"},t.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default})),Be=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiTableCell"}),{align:s="inherit",className:i,component:a,padding:l,scope:c,size:d,sortDirection:u,variant:p}=r,h=Z(r,uD),g=f.useContext(ex),v=f.useContext(dc),m=v&&v.variant==="head";let y;a?y=a:y=m?"th":"td";let x=c;y==="td"?x=void 0:!x&&m&&(x="col");const w=p||v&&v.variant,C=b({},r,{align:s,component:y,padding:l||(g&&g.padding?g.padding:"normal"),size:d||(g&&g.size?g.size:"medium"),sortDirection:u,stickyHeader:w==="head"&&g&&g.stickyHeader,variant:w}),k=pD(C);let _=null;return u&&(_=u==="asc"?"ascending":"descending"),o.jsx(hD,b({as:y,ref:n,className:re(k.root,i),"aria-sort":_,scope:x,ownerState:C},h))});function fD(e){return he("MuiTableContainer",e)}fe("MuiTableContainer",["root"]);const mD=["className","component"],gD=e=>{const{classes:t}=e;return ge({root:["root"]},fD,t)},vD=V("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),pc=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiTableContainer"}),{className:s,component:i="div"}=r,a=Z(r,mD),l=b({},r,{component:i}),c=gD(l);return o.jsx(vD,b({ref:n,as:i,className:re(c.root,s),ownerState:l},a))});function yD(e){return he("MuiTableHead",e)}fe("MuiTableHead",["root"]);const xD=["className","component"],bD=e=>{const{classes:t}=e;return ge({root:["root"]},yD,t)},CD=V("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),wD={variant:"head"},am="thead",hc=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiTableHead"}),{className:s,component:i=am}=r,a=Z(r,xD),l=b({},r,{component:i}),c=bD(l);return o.jsx(dc.Provider,{value:wD,children:o.jsx(CD,b({as:i,className:re(c.root,s),ref:n,role:i===am?null:"rowgroup",ownerState:l},a))})});function jD(e){return he("MuiTableRow",e)}const lm=fe("MuiTableRow",["root","selected","hover","head","footer"]),SD=["className","component","hover","selected"],kD=e=>{const{classes:t,selected:n,hover:r,head:s,footer:i}=e;return ge({root:["root",n&&"selected",r&&"hover",s&&"head",i&&"footer"]},jD,t)},_D=V("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.head&&t.head,n.footer&&t.footer]}})(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${lm.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${lm.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:ze(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:ze(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}})),cm="tr",Gr=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiTableRow"}),{className:s,component:i=cm,hover:a=!1,selected:l=!1}=r,c=Z(r,SD),d=f.useContext(dc),u=b({},r,{component:i,hover:a,selected:l,head:d&&d.variant==="head",footer:d&&d.variant==="footer"}),p=kD(u);return o.jsx(_D,b({as:i,ref:n,className:re(p.root,s),role:i===cm?null:"row",ownerState:u},c))});function TD(e){return he("MuiTextField",e)}fe("MuiTextField",["root"]);const ED=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],MD={standard:cp,filled:lp,outlined:pp},PD=e=>{const{classes:t}=e;return ge({root:["root"]},TD,t)},ND=V(ar,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Ye=f.forwardRef(function(t,n){const r=we({props:t,name:"MuiTextField"}),{autoComplete:s,autoFocus:i=!1,children:a,className:l,color:c="primary",defaultValue:d,disabled:u=!1,error:p=!1,FormHelperTextProps:h,fullWidth:g=!1,helperText:v,id:m,InputLabelProps:y,inputProps:x,InputProps:w,inputRef:C,label:k,maxRows:_,minRows:j,multiline:E=!1,name:T,onBlur:S,onChange:M,onFocus:D,placeholder:L,required:I=!1,rows:P,select:R=!1,SelectProps:N,type:O,value:z,variant:$="outlined"}=r,A=Z(r,ED),U=b({},r,{autoFocus:i,color:c,disabled:u,error:p,fullWidth:g,multiline:E,required:I,select:R,variant:$}),Y=PD(U),G={};$==="outlined"&&(y&&typeof y.shrink<"u"&&(G.notched=y.shrink),G.label=k),R&&((!N||!N.native)&&(G.id=void 0),G["aria-describedby"]=void 0);const J=ko(m),ae=v&&J?`${J}-helper-text`:void 0,H=k&&J?`${J}-label`:void 0,le=MD[$],ee=o.jsx(le,b({"aria-describedby":ae,autoComplete:s,autoFocus:i,defaultValue:d,fullWidth:g,multiline:E,name:T,rows:P,maxRows:_,minRows:j,type:O,value:z,id:J,inputRef:C,onBlur:S,onChange:M,onFocus:D,placeholder:L,inputProps:x},G,w));return o.jsxs(ND,b({className:re(Y.root,l),disabled:u,error:p,fullWidth:g,ref:n,required:I,color:c,variant:$,ownerState:U},A,{children:[k!=null&&k!==""&&o.jsx(Er,b({htmlFor:J,id:H},y,{children:k})),R?o.jsx(dr,b({"aria-describedby":ae,id:J,labelId:H,value:z,input:ee},N,{children:a})):ee,v&&o.jsx(RP,b({id:ae},h,{children:v}))]}))});function ID({children:e}){const{user:t,admin:n,loading:r}=Ht();return console.log("🛡️ ProtectedRoute check:",{user:(t==null?void 0:t.email)||"no user",admin:(n==null?void 0:n.email)||"no admin",loading:r}),r?o.jsx(te,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",children:o.jsx(pn,{})}):!t||!n?(console.log("🚫 Access denied, redirecting to login"),o.jsx(wa,{to:"/login",replace:!0})):o.jsx(o.Fragment,{children:e})}const RD=ue(o.jsx("path",{d:"M4 10h3v7H4zm6.5 0h3v7h-3zM2 19h20v3H2zm15-9h3v7h-3zm-5-9L2 6v2h20V6z"}),"AccountBalance"),tx=ue(o.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle"),Zi=ue(o.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),DD=ue(o.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-5h2zm4 0h-2v-3h2zm0-5h-2v-2h2zm4 5h-2V7h2z"}),"Analytics"),dm=ue(o.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),AD=ue(o.jsx("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8z"}),"ArrowDownward"),$D=ue(o.jsx("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8z"}),"ArrowUpward"),vo=ue(o.jsx("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4"}),"AttachMoney"),Ld=ue(o.jsx("path",{d:"M12 7V3H2v18h20V7zM6 19H4v-2h2zm0-4H4v-2h2zm0-4H4V9h2zm0-4H4V5h2zm4 12H8v-2h2zm0-4H8v-2h2zm0-4H8V9h2zm0-4H8V5h2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8zm-2-8h-2v2h2zm0 4h-2v2h2z"}),"Business"),fp=ue(o.jsx("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 16H5V10h14zM9 14H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2zm-8 4H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2z"}),"CalendarMonth"),OD=ue(o.jsx("path",{d:"M18 11v2h4v-2zm-2 6.61c.96.71 2.21 1.65 3.2 2.39.4-.53.8-1.07 1.2-1.6-.99-.74-2.24-1.68-3.2-2.4-.4.54-.8 1.08-1.2 1.61M20.4 5.6c-.4-.53-.8-1.07-1.2-1.6-.99.74-2.24 1.68-3.2 2.4.4.53.8 1.07 1.2 1.6.96-.72 2.21-1.65 3.2-2.4M4 9c-1.1 0-2 .9-2 2v2c0 1.1.9 2 2 2h1v4h2v-4h1l5 3V6L8 9zm11.5 3c0-1.33-.58-2.53-1.5-3.35v6.69c.92-.81 1.5-2.01 1.5-3.34"}),"Campaign"),ol=ue(o.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel"),Fd=ue(o.jsx("path",{d:"M20 2H4c-1.11 0-2 .89-2 2v11c0 1.11.89 2 2 2h4v5l4-2 4 2v-5h4c1.11 0 2-.89 2-2V4c0-1.11-.89-2-2-2m0 13H4v-2h16zm0-5H4V4h16z"}),"CardMembership"),os=ue(o.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),mp=ue(o.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),LD=ue(o.jsx("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft"),FD=ue(o.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight"),gp=ue(o.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),nx=ue(o.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy"),zd=ue(o.jsx("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4v-6h16zm0-10H4V6h16z"}),"CreditCard"),zD=ue(o.jsx("path",{d:"M3 13h8V3H3zm0 8h8v-6H3zm10 0h8V11h-8zm0-18v6h8V3z"}),"Dashboard"),xs=ue(o.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),Pi=ue(o.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),Bd=ue(o.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email"),BD=ue(o.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"ErrorOutline"),WD=ue(o.jsx("path",{d:"M10.09 15.59 11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"ExitToApp"),HD=ue(o.jsx("path",{d:"M19 9h-4V3H9v6H5l7 7zM5 18v2h14v-2z"}),"FileDownload"),UD=ue(o.jsx("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"}),"FilterList"),VD=ue(o.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"}),"History"),um=ue(o.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info"),YD=ue(o.jsx("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),"Link"),GD=ue(o.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"}),"LocationOn"),qD=ue(o.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l4 4 4-4H6c0-3.86 3.14-7 7-7s7 3.14 7 7-3.14 7-7 7c-1.9 0-3.62-.76-4.88-1.99L6.7 18.42C8.32 20.01 10.55 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m2 8v-1c0-1.1-.9-2-2-2s-2 .9-2 2v1c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-3c0-.55-.45-1-1-1m-1 0h-2v-1c0-.55.45-1 1-1s1 .45 1 1z"}),"LockReset"),KD=ue(o.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),rx=ue(o.jsx("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1z"}),"Notifications"),mi=ue(o.jsx("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4v-6h16zm0-10H4V6h16z"}),"Payment"),vp=ue(o.jsx("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"People"),QD=ue(o.jsx("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02z"}),"Phone"),XD=ue(o.jsx("path",{d:"M16 1H8C6.34 1 5 2.34 5 4v16c0 1.66 1.34 3 3 3h8c1.66 0 3-1.34 3-3V4c0-1.66-1.34-3-3-3m-2 20h-4v-1h4zm3.25-3H6.75V4h10.5z"}),"PhoneAndroid"),ZD=ue(o.jsx("path",{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3m-3 11H8v-5h8zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m-1-9H6v4h12z"}),"Print"),JD=ue(o.jsx("path",{d:"M3 11h8V3H3zm2-6h4v4H5zM3 21h8v-8H3zm2-6h4v4H5zm8-12v8h8V3zm6 6h-4V5h4zm0 10h2v2h-2zm-6-6h2v2h-2zm2 2h2v2h-2zm-2 2h2v2h-2zm2 2h2v2h-2zm2-2h2v2h-2zm0-4h2v2h-2zm2 2h2v2h-2z"}),"QrCode"),yp=ue(o.jsx("path",{d:"M15 21h-2v-2h2zm-2-7h-2v5h2zm8-2h-2v4h2zm-2-2h-2v2h2zM7 12H5v2h2zm-2-2H3v2h2zm7-5h2V3h-2zm-7.5-.5v3h3v-3zM9 9H3V3h6zm-4.5 7.5v3h3v-3zM9 21H3v-6h6zm7.5-16.5v3h3v-3zM21 9h-6V3h6zm-2 10v-3h-4v2h2v3h4v-2zm-2-7h-4v2h4zm-4-2H7v2h2v2h2v-2h2zm1-1V7h-2V5h-2v4zM6.75 5.25h-1.5v1.5h1.5zm0 12h-1.5v1.5h1.5zm12-12h-1.5v1.5h1.5z"}),"QrCode2"),sx=ue(o.jsx("path",{d:"M18 17H6v-2h12zm0-4H6v-2h12zm0-4H6V7h12zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2z"}),"Receipt"),eA=ue(o.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh"),Wd=ue(o.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save"),tA=ue(o.jsx("path",{d:"M19.8 18.4 14 10.67V6.5l1.35-1.69c.26-.33.03-.81-.39-.81H9.04c-.42 0-.65.48-.39.81L10 6.5v4.17L4.2 18.4c-.49.66-.02 1.6.8 1.6h14c.82 0 1.29-.94.8-1.6"}),"Science"),xp=ue(o.jsx("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11z"}),"Security"),Hd=ue(o.jsx("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send"),bp=ue(o.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),ox=ue(o.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92"}),"Share"),ix=ue(o.jsx("path",{d:"M19.52 2.49C17.18.15 12.9.62 9.97 3.55c-1.6 1.6-2.52 3.87-2.54 5.46-.02 1.58.26 3.89-1.35 5.5l-4.24 4.24 1.42 1.42 4.24-4.24c1.61-1.61 3.92-1.33 5.5-1.35s3.86-.94 5.46-2.54c2.92-2.93 3.4-7.21 1.06-9.55m-9.2 9.19c-1.53-1.53-1.05-4.61 1.06-6.72s5.18-2.59 6.72-1.06c1.53 1.53 1.05 4.61-1.06 6.72s-5.18 2.59-6.72 1.06M18 17c.53 0 1.04.21 1.41.59.78.78.78 2.05 0 2.83-.37.37-.88.58-1.41.58s-1.04-.21-1.41-.59c-.78-.78-.78-2.05 0-2.83.37-.37.88-.58 1.41-.58m0-2c-1.02 0-2.05.39-2.83 1.17-1.56 1.56-1.56 4.09 0 5.66.78.78 1.81 1.17 2.83 1.17s2.05-.39 2.83-1.17c1.56-1.56 1.56-4.09 0-5.66C20.05 15.39 19.02 15 18 15"}),"SportsTennis"),nA=ue(o.jsx("path",{d:"M2 20h20v-4H2zm2-3h2v2H4zM2 4v4h20V4zm4 3H4V5h2zm-4 7h20v-4H2zm2-3h2v2H4z"}),"Storage"),rA=ue(o.jsx("path",{d:"M20 4H4v2h16zm1 10v-2l-1-5H4l-1 5v2h1v6h10v-6h4v6h2v-6zm-9 4H6v-4h6z"}),"Store"),sA=ue(o.jsx("path",{d:"M16.5 12c1.38 0 2.49-1.12 2.49-2.5S17.88 7 16.5 7C15.12 7 14 8.12 14 9.5s1.12 2.5 2.5 2.5M9 11c1.66 0 2.99-1.34 2.99-3S10.66 5 9 5C7.34 5 6 6.34 6 8s1.34 3 3 3m7.5 3c-1.83 0-5.5.92-5.5 2.75V19h11v-2.25c0-1.83-3.67-2.75-5.5-2.75M9 13c-2.33 0-7 1.17-7 3.5V19h7v-2.25c0-.85.33-2.34 2.37-3.47C10.5 13.1 9.66 13 9 13"}),"SupervisorAccount"),Ud=ue(o.jsx("path",{d:"M9 1h6v2H9zm10.03 6.39 1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42C16.07 4.74 14.12 4 12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9 9-4.03 9-9c0-2.12-.74-4.07-1.97-5.61M13 14h-2V8h2z"}),"Timer"),fc=ue(o.jsx("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp"),oA=ue(o.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),iA=ue(o.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff"),il=ue(o.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning"),aA=ue(o.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m-5 14H4v-4h11zm0-5H4V9h11zm5 5h-4V9h4z"}),"Web"),on=()=>{const{admin:e}=Ht(),t=h=>e?e.role==="superadmin"?!0:Array.isArray(h)?h.some(g=>e.permissions.includes(g)):e.permissions.includes(h):!1;return{hasPermission:t,hasAllPermissions:h=>e?e.role==="superadmin"?!0:h.every(g=>e.permissions.includes(g)):!1,hasRole:h=>e?Array.isArray(h)?h.includes(e.role):e.role===h:!1,canAccessVenue:h=>e?e.role==="superadmin"?!0:e.venueId===h:!1,canManageAdmins:()=>t("manage_admins"),canManageAllVenues:()=>t("manage_all_venues"),canViewFinance:()=>t(["manage_finance","view_reports"]),canManageBookings:()=>t(["manage_bookings","manage_all_bookings"]),canManageCourts:()=>t(["manage_courts","manage_all_venues"]),canManageClub:()=>t(["manage_club","manage_all_venues"]),canViewReports:()=>t(["view_reports","view_all_reports"]),permissions:(e==null?void 0:e.permissions)||[],role:(e==null?void 0:e.role)||null,isSuperAdmin:(e==null?void 0:e.role)==="superadmin",isAdmin:(e==null?void 0:e.role)==="admin",isManager:(e==null?void 0:e.role)==="manager"}};function Vd({size:e=60,backgroundColor:t="#00A86B",courtColor:n="white",className:r}){return o.jsxs("svg",{viewBox:"0 0 120 120",xmlns:"http://www.w3.org/2000/svg",width:e,height:e,className:r,children:[o.jsx("rect",{x:"0",y:"0",width:"120",height:"120",rx:"24",fill:t}),o.jsx("rect",{x:"20",y:"20",width:"80",height:"80",rx:"8",fill:"none",stroke:n,strokeWidth:"3"}),o.jsx("line",{x1:"20",y1:"60",x2:"100",y2:"60",stroke:n,strokeWidth:"3"}),o.jsx("line",{x1:"60",y1:"20",x2:"60",y2:"100",stroke:n,strokeWidth:"3"})]})}function Yd(){var x;const e=jn(),t=ob(),{club:n,logout:r,admin:s}=Ht(),{hasPermission:i,hasRole:a,isSuperAdmin:l,canViewFinance:c,canManageClub:d}=on(),[u,p]=f.useState(!1),h=[{path:"/admin/dashboard",label:"Главная",icon:o.jsx(zD,{})},{path:"/admin/bookings",label:"Календарь",icon:o.jsx(fp,{}),permission:["manage_bookings","manage_all_bookings","view_bookings"]},...l?[{path:"/admin/venues",label:"Все клубы",icon:o.jsx(rA,{})},{path:"/admin/billing-settings",label:"Настройки биллинга",icon:o.jsx(mi,{})},{path:"/admin/admins",label:"Администраторы",icon:o.jsx(sA,{})}]:[],...d()?[{path:"/admin/club",label:"Управление клубом",icon:o.jsx(Ld,{})}]:[],{path:"/admin/subscription",label:"Подписка",icon:o.jsx(Fd,{}),permission:["manage_club","manage_all_venues"]},{path:"/admin/payment-settings",label:"Настройки оплаты",icon:o.jsx(zd,{}),permission:["manage_club","manage_all_venues"]},{path:"/admin/courts",label:"Корты",icon:o.jsx(ix,{}),permission:["manage_courts","manage_all_venues"]},{path:"/admin/customers",label:"Клиенты",icon:o.jsx(vp,{}),permission:["manage_all_users","manage_club"]},...c()?[{path:"/admin/finance",label:"Финансы",icon:o.jsx(vo,{})}]:[],{path:"/admin/marketing",label:"Маркетинг",icon:o.jsx(fc,{}),roles:["superadmin","admin"]},...l?[{path:"/admin/settings",label:"Системные настройки",icon:o.jsx(bp,{})}]:[]].filter(w=>!(w.permission&&!i(w.permission)||w.roles&&!a(w.roles))),g=w=>t.pathname===w,v=w=>{e(w),window.innerWidth<=768&&p(!1)},m=()=>{p(!u)},y=()=>{const w=h.find(C=>g(C.path));return(w==null?void 0:w.label)||"Главная"};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:`sidebar-overlay ${u?"active":""}`,onClick:m}),o.jsxs("aside",{className:`sidebar ${u?"active":""}`,children:[o.jsx("button",{className:"sidebar-close",onClick:m,children:o.jsx(gp,{})}),o.jsxs("div",{className:"logo-section",children:[o.jsxs("div",{className:"platform-logo",children:[o.jsx(Vd,{size:40}),o.jsx("div",{className:"logo-text",children:"Все Корты"})]}),!l&&o.jsxs("div",{className:"club-info",children:[o.jsx("div",{className:"club-logo",children:n!=null&&n.logoUrl?o.jsx("img",{src:n.logoUrl,alt:n.name}):((x=n==null?void 0:n.name)==null?void 0:x.substring(0,2).toUpperCase())||"CL"}),o.jsx("div",{className:"club-name",children:(n==null?void 0:n.name)||"Загрузка..."})]}),l&&o.jsxs("div",{className:"club-info",children:[o.jsx("div",{className:"club-logo",style:{background:"#ef4444"},children:"SA"}),o.jsx("div",{className:"club-name",children:"Суперадминистратор"})]})]}),o.jsx("nav",{className:"nav-menu",children:h.map(w=>o.jsxs("a",{className:`nav-item ${g(w.path)?"active":""}`,onClick:()=>v(w.path),children:[o.jsx("span",{className:"nav-icon",children:w.icon}),o.jsx("span",{children:w.label})]},w.path))})]}),o.jsxs("div",{className:"main-container",children:[o.jsxs("header",{className:"header",children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[o.jsx("button",{className:"menu-toggle",onClick:m,children:o.jsx(KD,{})}),o.jsx("h1",{className:"page-title",children:y()})]}),o.jsxs("div",{className:"header-actions",children:[o.jsx("button",{className:"notification-btn",children:o.jsx(rx,{fontSize:"small"})}),o.jsxs("div",{className:"user-menu",children:[o.jsxs("div",{className:"user-info",children:[o.jsx("span",{className:"user-name",children:s==null?void 0:s.name}),o.jsx("span",{className:"user-role",children:s==null?void 0:s.role})]}),o.jsx("button",{className:"user-btn",children:o.jsx(tx,{fontSize:"small"})}),o.jsx("button",{className:"logout-btn",onClick:r,title:"Выйти",children:o.jsx(WD,{fontSize:"small"})})]})]})]}),o.jsx("div",{className:"content",children:o.jsx(ib,{})})]})]})}const pm={"auth/email-already-in-use":"Этот email уже используется","auth/invalid-email":"Некорректный email адрес","auth/weak-password":"Пароль слишком слабый. Минимум 6 символов","auth/user-not-found":"Пользователь не найден","auth/wrong-password":"Неверный пароль","auth/too-many-requests":"Слишком много попыток. Попробуйте позже","auth/user-disabled":"Аккаунт заблокирован","auth/expired-action-code":"Ссылка устарела","auth/invalid-action-code":"Недействительная ссылка","auth/network-request-failed":"Ошибка сети. Проверьте интернет-соединение","permission-denied":"У вас нет прав для выполнения этого действия","not-found":"Запрашиваемые данные не найдены","already-exists":"Такая запись уже существует","resource-exhausted":"Превышен лимит запросов","failed-precondition":"Операция не может быть выполнена в текущем состоянии",aborted:"Операция была прервана","out-of-range":"Значение вне допустимого диапазона",unimplemented:"Функция не реализована",internal:"Внутренняя ошибка сервера",unavailable:"Сервис временно недоступен","data-loss":"Данные повреждены или утеряны",unauthenticated:"Требуется авторизация","booking/slot-occupied":"Это время уже занято","booking/invalid-date":"Некорректная дата бронирования","booking/past-date":"Нельзя забронировать на прошедшую дату","payment/card-declined":"Карта отклонена банком","payment/insufficient-funds":"Недостаточно средств на карте","payment/processing-error":"Ошибка обработки платежа"};function Gd(e){var t,n,r;if(console.error("Error caught:",e),e.code&&e.code.startsWith("auth/"))return{type:"AUTH",code:e.code,message:pm[e.code]||e.message||"Ошибка авторизации",originalError:e};if(e instanceof Xm||e.code){const s=pm[e.code]||e.message||"Ошибка базы данных";let i="SERVER";return e.code==="permission-denied"||e.code==="unauthenticated"?i="PERMISSION":e.code==="not-found"?i="NOT_FOUND":(e.code==="unavailable"||(t=e.code)!=null&&t.includes("network"))&&(i="NETWORK"),{type:i,code:e.code,message:s,originalError:e}}return(n=e.message)!=null&&n.toLowerCase().includes("network")||(r=e.message)!=null&&r.toLowerCase().includes("fetch")?{type:"NETWORK",message:"Ошибка сети. Проверьте интернет-соединение",originalError:e}:e.type==="validation"||e.validationErrors?{type:"VALIDATION",message:e.message||"Ошибка валидации данных",details:e.validationErrors,originalError:e}:{type:"UNKNOWN",message:e.message||"Произошла неизвестная ошибка",originalError:e}}function lA(e){return typeof e=="string"?e:e.message?e.message:"Произошла ошибка. Попробуйте еще раз"}function ax(e,t){const n=new Date().toISOString();console.group(`🚨 Error at ${n}`),e.type&&console.error("Type:",e.type),e.code&&console.error("Code:",e.code),console.error("Message:",e.message||"Unknown error"),t&&console.error("Context:",t),e.originalError&&console.error("Original error:",e.originalError),e.details&&console.error("Details:",e.details),console.trace("Stack trace"),console.groupEnd()}function cA(){const e=jn(),[t,n]=f.useState(""),[r,s]=f.useState(""),[i,a]=f.useState(!1),[l,c]=f.useState(null),[d,u]=f.useState(!1),p=async h=>{h.preventDefault(),c(null),u(!0);try{if(!t.trim())throw new Error("Email обязателен");if(!r)throw new Error("Пароль обязателен");const g=await Ib(en,t,r),v=Ge(Pe(se,"admins"),Ee("email","==",g.user.email));if((await qe(v)).empty)throw new Error("У вас нет прав доступа к админ-панели");setTimeout(()=>{e("/admin/dashboard")},100)}catch(g){const v=Gd(g);ax(v,{component:"Login",email:t}),c(lA(v))}finally{u(!1)}};return o.jsx(te,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"#f5f5f5"},children:o.jsx(ot,{sx:{maxWidth:400,width:"100%",mx:2},children:o.jsxs(it,{sx:{p:4},children:[o.jsx(B,{variant:"h4",component:"h1",gutterBottom:!0,align:"center",children:"Админ-панель"}),o.jsx(B,{variant:"body2",color:"text.secondary",align:"center",sx:{mb:3},children:"Вход для сотрудников клубов"}),l&&o.jsx(lt,{severity:"error",sx:{mb:2},children:l}),o.jsxs("form",{onSubmit:p,children:[o.jsx(Ye,{fullWidth:!0,label:"Email",type:"email",value:t,onChange:h=>n(h.target.value),margin:"normal",required:!0,autoComplete:"email",autoFocus:!0}),o.jsx(Ye,{fullWidth:!0,label:"Пароль",type:i?"text":"password",value:r,onChange:h=>s(h.target.value),margin:"normal",required:!0,autoComplete:"current-password",InputProps:{endAdornment:o.jsx(cN,{position:"end",children:o.jsx(cn,{onClick:()=>a(!i),edge:"end",children:i?o.jsx(iA,{}):o.jsx(oA,{})})})}}),o.jsx(ke,{type:"submit",fullWidth:!0,variant:"contained",size:"large",sx:{mt:3,mb:2},disabled:d||!t||!r,startIcon:d&&o.jsx(pn,{size:20,color:"inherit"}),children:d?"Вход...":"Войти"})]}),o.jsx(B,{variant:"body2",color:"text.secondary",align:"center",sx:{mt:2},children:"Забыли пароль? Обратитесь к администратору системы"}),o.jsx(te,{sx:{mt:3,pt:3,borderTop:1,borderColor:"divider"},children:o.jsxs(B,{variant:"body2",color:"text.secondary",align:"center",children:["Хотите зарегистрировать свой клуб?"," ",o.jsx(ke,{variant:"text",onClick:()=>e("/register"),sx:{textTransform:"none"},children:"Создать аккаунт"})]})})]})})})}const hm=[{icon:o.jsx(ix,{}),title:"Управление кортами",description:"Настройка расписания и цен"},{icon:o.jsx(fp,{}),title:"Онлайн-бронирование",description:"Прием заявок 24/7"},{icon:o.jsx(vp,{}),title:"База клиентов",description:"CRM система для клуба"},{icon:o.jsx(DD,{}),title:"Аналитика и отчеты",description:"Статистика доходов и загрузки"},{icon:o.jsx(rx,{}),title:"Уведомления",description:"SMS и email рассылки"},{icon:o.jsx(mi,{}),title:"Онлайн-оплата",description:"Прием платежей картами"},{icon:o.jsx(bp,{}),title:"Гибкие настройки",description:"Адаптация под ваш клуб"},{icon:o.jsx(xp,{}),title:"Безопасность",description:"Защита данных клиентов"}];function dA(){const e=jn(),[t,n]=f.useState(!1),[r,s]=f.useState(""),[i,a]=f.useState(!1),[l,c]=f.useState(!1),[d,u]=f.useState(0),[p,h]=f.useState(0),[g,v]=f.useState(!1),[m,y]=f.useState({name:"",address:"",city:"",phone:"",email:"",description:"",organizationType:"ИП",inn:"",bankAccount:"",adminPassword:""});f.useEffect(()=>{if(t){v(!0),h(0),u(0);const C=setInterval(()=>{u(_=>_>=95?(clearInterval(C),95):_+Math.random()*10)},500),k=setInterval(()=>{h(_=>_>=hm.length-1?(clearInterval(k),_):_+1)},2e3);return()=>{clearInterval(C),clearInterval(k)}}else v(!1),u(0),h(0)},[t]);const x=()=>{const C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let k="";for(let _=0;_<10;_++)k+=C.charAt(Math.floor(Math.random()*C.length));return k},w=async C=>{C.preventDefault(),console.log("Form submitted with data:",m),s(""),n(!0);try{if(!m.name||!m.address||!m.city||!m.phone||!m.email){s("Заполните все обязательные поля"),n(!1);return}const k=m.adminPassword||x();console.log("Generated/provided password:",k),en.currentUser&&(console.log("Signing out current user:",en.currentUser.email),await ad(en)),console.log("Creating user with email:",m.email);const j=(await Zm(en,m.email,k)).user.uid;console.log("User created successfully with ID:",j);const E={name:m.name,address:m.address,city:m.city,phone:m.phone,email:m.email,description:m.description||"",organizationType:m.organizationType,inn:m.inn,bankAccount:m.bankAccount||"",status:"pending",createdAt:new Date,updatedAt:new Date,logoUrl:"",amenities:[],location:null};console.log("Creating venue with data:",E);let T=!1,S="";try{console.log("Creating club via Cloud Function..."),console.log("Sending data:",{venueData:E,password:k,userId:j});const D=await(await fetch("https://europe-west1-sports-booking-app-1d7e5.cloudfunctions.net/createClubHttp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({venueData:E,password:k,userId:j})})).json();if(D.success)console.log("Club created via Cloud Function!"),T=!0,S=D.venueId;else throw new Error(D.error||"Unknown error")}catch(M){throw console.error("Cloud Function failed:",M),M}if(T)c(!1);else{console.log("Saving registration for manual processing...");const M={id:j,userId:j,venueData:E,password:k,timestamp:new Date().toISOString(),status:"pending_manual_creation"};localStorage.setItem("pendingClubRegistration_"+j,JSON.stringify(M)),c(!0)}y({...m,adminPassword:k}),(T||!l)&&u(100),en.currentUser&&(await ad(en),console.log("Signed out after club creation")),a(!0),console.log("Registration completed successfully!")}catch(k){console.error("Error creating club:",k),console.error("Error details:",{code:k==null?void 0:k.code,message:k==null?void 0:k.message,stack:k==null?void 0:k.stack}),k.code==="auth/email-already-in-use"?s("Этот email уже используется. Пожалуйста, войдите в систему."):k.code==="auth/weak-password"?s("Пароль слишком слабый. Минимум 6 символов."):k.code==="auth/invalid-email"?s("Неверный формат email адреса."):s("Ошибка при создании клуба: "+(k.message||"Неизвестная ошибка"))}finally{n(!1)}};return o.jsxs(pi,{component:"main",maxWidth:"md",children:[o.jsxs(te,{sx:{marginTop:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[o.jsx(Vd,{size:60,className:"mb-4"}),o.jsx(B,{component:"h1",variant:"h4",gutterBottom:!0,children:"Регистрация клуба"}),o.jsx(B,{variant:"body2",color:"textSecondary",align:"center",sx:{mb:3},children:"Создайте аккаунт для управления вашим спортивным клубом"}),o.jsxs(sn,{sx:{width:"100%",p:4},children:[r&&o.jsx(lt,{severity:"error",sx:{mb:3},children:r}),o.jsxs("form",{onSubmit:w,children:[o.jsxs(te,{sx:{display:"grid",gap:2,gridTemplateColumns:{md:"1fr 1fr"}},children:[o.jsx(B,{variant:"h6",sx:{gridColumn:"1 / -1",mb:1},children:"Информация о клубе"}),o.jsx(Ye,{label:"Название клуба",value:m.name,onChange:C=>y({...m,name:C.target.value}),fullWidth:!0,required:!0}),o.jsx(Ye,{label:"Адрес",value:m.address,onChange:C=>y({...m,address:C.target.value}),fullWidth:!0,required:!0}),o.jsx(Ye,{label:"Город",value:m.city,onChange:C=>y({...m,city:C.target.value}),fullWidth:!0,required:!0}),o.jsx(Ye,{label:"Телефон",value:m.phone,onChange:C=>y({...m,phone:C.target.value}),fullWidth:!0,required:!0,placeholder:"+7 (900) 123-45-67"}),o.jsx(Ye,{label:"Email",value:m.email,onChange:C=>y({...m,email:C.target.value}),fullWidth:!0,required:!0,type:"email",sx:{gridColumn:"1 / -1"}}),o.jsx(B,{variant:"h6",sx:{gridColumn:"1 / -1",mt:2,mb:1},children:"Юридическая информация"}),o.jsxs(ar,{fullWidth:!0,children:[o.jsx(Er,{children:"Форма организации"}),o.jsxs(dr,{value:m.organizationType,onChange:C=>y({...m,organizationType:C.target.value}),label:"Форма организации",children:[o.jsx(Mt,{value:"ИП",children:"ИП"}),o.jsx(Mt,{value:"ООО",children:"ООО"}),o.jsx(Mt,{value:"Самозанятый",children:"Самозанятый"})]})]}),o.jsx(Ye,{label:"ИНН",value:m.inn,onChange:C=>y({...m,inn:C.target.value}),fullWidth:!0}),o.jsx(Ye,{label:"Пароль администратора (необязательно)",value:m.adminPassword,onChange:C=>y({...m,adminPassword:C.target.value}),fullWidth:!0,type:"password",helperText:"Если не указан, будет сгенерирован автоматически"})]}),o.jsxs(te,{sx:{mt:3,display:"flex",gap:2,justifyContent:"flex-end"},children:[o.jsx(ke,{type:"button",onClick:()=>e("/admin/login"),disabled:t,children:"Уже есть аккаунт?"}),o.jsx(ke,{type:"submit",variant:"contained",disabled:t,children:t?"Создание...":"Создать клуб"})]})]})]})]}),o.jsxs(or,{open:i,onClose:()=>{},maxWidth:"sm",fullWidth:!0,children:[o.jsx(Cr,{children:o.jsxs(te,{display:"flex",alignItems:"center",gap:2,children:[o.jsx(Ld,{color:l?"warning":"success"}),l?"Регистрация отправлена!":"Клуб успешно создан!"]})}),o.jsxs(ir,{children:[o.jsx(lt,{severity:l?"warning":"success",sx:{mb:2},children:l?"Ваша заявка принята! Мы свяжемся с вами в течение 24 часов для завершения регистрации.":"Сохраните эти данные для входа в систему"}),o.jsxs(te,{sx:{display:"flex",flexDirection:"column",gap:2},children:[o.jsxs(te,{children:[o.jsx(B,{variant:"body2",color:"textSecondary",children:"Название клуба"}),o.jsx(B,{variant:"body1",fontWeight:"bold",children:m.name})]}),o.jsxs(te,{children:[o.jsx(B,{variant:"body2",color:"textSecondary",children:"Email администратора"}),o.jsx(B,{variant:"body1",fontWeight:"bold",children:m.email})]}),o.jsxs(te,{children:[o.jsx(B,{variant:"body2",color:"textSecondary",children:"Пароль администратора"}),o.jsx(B,{variant:"body1",fontWeight:"bold",children:m.adminPassword})]})]})]}),o.jsxs(br,{sx:{justifyContent:"space-between",px:3,pb:3},children:[o.jsx(ke,{onClick:()=>e("/"),variant:"outlined",children:"На главную"}),!l&&o.jsx(ke,{onClick:()=>window.open("/admin/login","_blank"),variant:"contained",startIcon:o.jsx(Ld,{}),children:"Вход для админов"})]})]}),o.jsx(or,{open:t,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{background:"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)",borderRadius:3}},children:o.jsx(ir,{sx:{py:4},children:o.jsxs(te,{textAlign:"center",children:[o.jsx(Vd,{size:80,className:"mb-4"}),o.jsx(B,{variant:"h5",gutterBottom:!0,sx:{mb:4,fontWeight:600},children:"Создаем ваш клуб..."}),o.jsxs(te,{sx:{mb:4},children:[o.jsx(qy,{variant:"determinate",value:d,sx:{height:8,borderRadius:4,backgroundColor:"rgba(0, 168, 107, 0.1)","& .MuiLinearProgress-bar":{borderRadius:4,backgroundColor:"#00A86B"}}}),o.jsxs(B,{variant:"caption",sx:{mt:1,display:"block"},children:[Math.round(d),"%"]})]}),g&&o.jsx(te,{sx:{minHeight:120},children:hm.map((C,k)=>o.jsx(Qi,{in:p>=k,timeout:1e3,style:{display:p===k?"block":"none"},children:o.jsxs(te,{children:[o.jsx(te,{sx:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:60,height:60,borderRadius:"50%",backgroundColor:"rgba(0, 168, 107, 0.1)",mb:2},children:Fe.cloneElement(C.icon,{sx:{fontSize:30,color:"#00A86B"}})}),o.jsx(B,{variant:"h6",gutterBottom:!0,children:C.title}),o.jsx(B,{variant:"body2",color:"textSecondary",children:C.description})]})},k))}),o.jsx(B,{variant:"body2",color:"textSecondary",sx:{mt:3},children:"Настраиваем систему управления для вашего клуба..."})]})})})]})}var uA=Object.defineProperty,al=Object.getOwnPropertySymbols,lx=Object.prototype.hasOwnProperty,cx=Object.prototype.propertyIsEnumerable,fm=(e,t,n)=>t in e?uA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qd=(e,t)=>{for(var n in t||(t={}))lx.call(t,n)&&fm(e,n,t[n]);if(al)for(var n of al(t))cx.call(t,n)&&fm(e,n,t[n]);return e},Kd=(e,t)=>{var n={};for(var r in e)lx.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&al)for(var r of al(e))t.indexOf(r)<0&&cx.call(e,r)&&(n[r]=e[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var bs;(e=>{const t=class $e{constructor(c,d,u,p){if(this.version=c,this.errorCorrectionLevel=d,this.modules=[],this.isFunction=[],c<$e.MIN_VERSION||c>$e.MAX_VERSION)throw new RangeError("Version value out of range");if(p<-1||p>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let h=[];for(let v=0;v<this.size;v++)h.push(!1);for(let v=0;v<this.size;v++)this.modules.push(h.slice()),this.isFunction.push(h.slice());this.drawFunctionPatterns();const g=this.addEccAndInterleave(u);if(this.drawCodewords(g),p==-1){let v=1e9;for(let m=0;m<8;m++){this.applyMask(m),this.drawFormatBits(m);const y=this.getPenaltyScore();y<v&&(p=m,v=y),this.applyMask(m)}}s(0<=p&&p<=7),this.mask=p,this.applyMask(p),this.drawFormatBits(p),this.isFunction=[]}static encodeText(c,d){const u=e.QrSegment.makeSegments(c);return $e.encodeSegments(u,d)}static encodeBinary(c,d){const u=e.QrSegment.makeBytes(c);return $e.encodeSegments([u],d)}static encodeSegments(c,d,u=1,p=40,h=-1,g=!0){if(!($e.MIN_VERSION<=u&&u<=p&&p<=$e.MAX_VERSION)||h<-1||h>7)throw new RangeError("Invalid value");let v,m;for(v=u;;v++){const C=$e.getNumDataCodewords(v,d)*8,k=a.getTotalBits(c,v);if(k<=C){m=k;break}if(v>=p)throw new RangeError("Data too long")}for(const C of[$e.Ecc.MEDIUM,$e.Ecc.QUARTILE,$e.Ecc.HIGH])g&&m<=$e.getNumDataCodewords(v,C)*8&&(d=C);let y=[];for(const C of c){n(C.mode.modeBits,4,y),n(C.numChars,C.mode.numCharCountBits(v),y);for(const k of C.getData())y.push(k)}s(y.length==m);const x=$e.getNumDataCodewords(v,d)*8;s(y.length<=x),n(0,Math.min(4,x-y.length),y),n(0,(8-y.length%8)%8,y),s(y.length%8==0);for(let C=236;y.length<x;C^=253)n(C,8,y);let w=[];for(;w.length*8<y.length;)w.push(0);return y.forEach((C,k)=>w[k>>>3]|=C<<7-(k&7)),new $e(v,d,w,h)}getModule(c,d){return 0<=c&&c<this.size&&0<=d&&d<this.size&&this.modules[d][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let u=0;u<this.size;u++)this.setFunctionModule(6,u,u%2==0),this.setFunctionModule(u,6,u%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),d=c.length;for(let u=0;u<d;u++)for(let p=0;p<d;p++)u==0&&p==0||u==0&&p==d-1||u==d-1&&p==0||this.drawAlignmentPattern(c[u],c[p]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const d=this.errorCorrectionLevel.formatBits<<3|c;let u=d;for(let h=0;h<10;h++)u=u<<1^(u>>>9)*1335;const p=(d<<10|u)^21522;s(p>>>15==0);for(let h=0;h<=5;h++)this.setFunctionModule(8,h,r(p,h));this.setFunctionModule(8,7,r(p,6)),this.setFunctionModule(8,8,r(p,7)),this.setFunctionModule(7,8,r(p,8));for(let h=9;h<15;h++)this.setFunctionModule(14-h,8,r(p,h));for(let h=0;h<8;h++)this.setFunctionModule(this.size-1-h,8,r(p,h));for(let h=8;h<15;h++)this.setFunctionModule(8,this.size-15+h,r(p,h));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let u=0;u<12;u++)c=c<<1^(c>>>11)*7973;const d=this.version<<12|c;s(d>>>18==0);for(let u=0;u<18;u++){const p=r(d,u),h=this.size-11+u%3,g=Math.floor(u/3);this.setFunctionModule(h,g,p),this.setFunctionModule(g,h,p)}}drawFinderPattern(c,d){for(let u=-4;u<=4;u++)for(let p=-4;p<=4;p++){const h=Math.max(Math.abs(p),Math.abs(u)),g=c+p,v=d+u;0<=g&&g<this.size&&0<=v&&v<this.size&&this.setFunctionModule(g,v,h!=2&&h!=4)}}drawAlignmentPattern(c,d){for(let u=-2;u<=2;u++)for(let p=-2;p<=2;p++)this.setFunctionModule(c+p,d+u,Math.max(Math.abs(p),Math.abs(u))!=1)}setFunctionModule(c,d,u){this.modules[d][c]=u,this.isFunction[d][c]=!0}addEccAndInterleave(c){const d=this.version,u=this.errorCorrectionLevel;if(c.length!=$e.getNumDataCodewords(d,u))throw new RangeError("Invalid argument");const p=$e.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][d],h=$e.ECC_CODEWORDS_PER_BLOCK[u.ordinal][d],g=Math.floor($e.getNumRawDataModules(d)/8),v=p-g%p,m=Math.floor(g/p);let y=[];const x=$e.reedSolomonComputeDivisor(h);for(let C=0,k=0;C<p;C++){let _=c.slice(k,k+m-h+(C<v?0:1));k+=_.length;const j=$e.reedSolomonComputeRemainder(_,x);C<v&&_.push(0),y.push(_.concat(j))}let w=[];for(let C=0;C<y[0].length;C++)y.forEach((k,_)=>{(C!=m-h||_>=v)&&w.push(k[C])});return s(w.length==g),w}drawCodewords(c){if(c.length!=Math.floor($e.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let d=0;for(let u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(let p=0;p<this.size;p++)for(let h=0;h<2;h++){const g=u-h,m=(u+1&2)==0?this.size-1-p:p;!this.isFunction[m][g]&&d<c.length*8&&(this.modules[m][g]=r(c[d>>>3],7-(d&7)),d++)}}s(d==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let d=0;d<this.size;d++)for(let u=0;u<this.size;u++){let p;switch(c){case 0:p=(u+d)%2==0;break;case 1:p=d%2==0;break;case 2:p=u%3==0;break;case 3:p=(u+d)%3==0;break;case 4:p=(Math.floor(u/3)+Math.floor(d/2))%2==0;break;case 5:p=u*d%2+u*d%3==0;break;case 6:p=(u*d%2+u*d%3)%2==0;break;case 7:p=((u+d)%2+u*d%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[d][u]&&p&&(this.modules[d][u]=!this.modules[d][u])}}getPenaltyScore(){let c=0;for(let h=0;h<this.size;h++){let g=!1,v=0,m=[0,0,0,0,0,0,0];for(let y=0;y<this.size;y++)this.modules[h][y]==g?(v++,v==5?c+=$e.PENALTY_N1:v>5&&c++):(this.finderPenaltyAddHistory(v,m),g||(c+=this.finderPenaltyCountPatterns(m)*$e.PENALTY_N3),g=this.modules[h][y],v=1);c+=this.finderPenaltyTerminateAndCount(g,v,m)*$e.PENALTY_N3}for(let h=0;h<this.size;h++){let g=!1,v=0,m=[0,0,0,0,0,0,0];for(let y=0;y<this.size;y++)this.modules[y][h]==g?(v++,v==5?c+=$e.PENALTY_N1:v>5&&c++):(this.finderPenaltyAddHistory(v,m),g||(c+=this.finderPenaltyCountPatterns(m)*$e.PENALTY_N3),g=this.modules[y][h],v=1);c+=this.finderPenaltyTerminateAndCount(g,v,m)*$e.PENALTY_N3}for(let h=0;h<this.size-1;h++)for(let g=0;g<this.size-1;g++){const v=this.modules[h][g];v==this.modules[h][g+1]&&v==this.modules[h+1][g]&&v==this.modules[h+1][g+1]&&(c+=$e.PENALTY_N2)}let d=0;for(const h of this.modules)d=h.reduce((g,v)=>g+(v?1:0),d);const u=this.size*this.size,p=Math.ceil(Math.abs(d*20-u*10)/u)-1;return s(0<=p&&p<=9),c+=p*$e.PENALTY_N4,s(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,d=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let u=[6];for(let p=this.size-7;u.length<c;p-=d)u.splice(1,0,p);return u}}static getNumRawDataModules(c){if(c<$e.MIN_VERSION||c>$e.MAX_VERSION)throw new RangeError("Version number out of range");let d=(16*c+128)*c+64;if(c>=2){const u=Math.floor(c/7)+2;d-=(25*u-10)*u-55,c>=7&&(d-=36)}return s(208<=d&&d<=29648),d}static getNumDataCodewords(c,d){return Math.floor($e.getNumRawDataModules(c)/8)-$e.ECC_CODEWORDS_PER_BLOCK[d.ordinal][c]*$e.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let d=[];for(let p=0;p<c-1;p++)d.push(0);d.push(1);let u=1;for(let p=0;p<c;p++){for(let h=0;h<d.length;h++)d[h]=$e.reedSolomonMultiply(d[h],u),h+1<d.length&&(d[h]^=d[h+1]);u=$e.reedSolomonMultiply(u,2)}return d}static reedSolomonComputeRemainder(c,d){let u=d.map(p=>0);for(const p of c){const h=p^u.shift();u.push(0),d.forEach((g,v)=>u[v]^=$e.reedSolomonMultiply(g,h))}return u}static reedSolomonMultiply(c,d){if(c>>>8||d>>>8)throw new RangeError("Byte out of range");let u=0;for(let p=7;p>=0;p--)u=u<<1^(u>>>7)*285,u^=(d>>>p&1)*c;return s(u>>>8==0),u}finderPenaltyCountPatterns(c){const d=c[1];s(d<=this.size*3);const u=d>0&&c[2]==d&&c[3]==d*3&&c[4]==d&&c[5]==d;return(u&&c[0]>=d*4&&c[6]>=d?1:0)+(u&&c[6]>=d*4&&c[0]>=d?1:0)}finderPenaltyTerminateAndCount(c,d,u){return c&&(this.finderPenaltyAddHistory(d,u),d=0),d+=this.size,this.finderPenaltyAddHistory(d,u),this.finderPenaltyCountPatterns(u)}finderPenaltyAddHistory(c,d){d[0]==0&&(c+=this.size),d.pop(),d.unshift(c)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(l,c,d){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let u=c-1;u>=0;u--)d.push(l>>>u&1)}function r(l,c){return(l>>>c&1)!=0}function s(l){if(!l)throw new Error("Assertion error")}const i=class St{constructor(c,d,u){if(this.mode=c,this.numChars=d,this.bitData=u,d<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}static makeBytes(c){let d=[];for(const u of c)n(u,8,d);return new St(St.Mode.BYTE,c.length,d)}static makeNumeric(c){if(!St.isNumeric(c))throw new RangeError("String contains non-numeric characters");let d=[];for(let u=0;u<c.length;){const p=Math.min(c.length-u,3);n(parseInt(c.substring(u,u+p),10),p*3+1,d),u+=p}return new St(St.Mode.NUMERIC,c.length,d)}static makeAlphanumeric(c){if(!St.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let d=[],u;for(u=0;u+2<=c.length;u+=2){let p=St.ALPHANUMERIC_CHARSET.indexOf(c.charAt(u))*45;p+=St.ALPHANUMERIC_CHARSET.indexOf(c.charAt(u+1)),n(p,11,d)}return u<c.length&&n(St.ALPHANUMERIC_CHARSET.indexOf(c.charAt(u)),6,d),new St(St.Mode.ALPHANUMERIC,c.length,d)}static makeSegments(c){return c==""?[]:St.isNumeric(c)?[St.makeNumeric(c)]:St.isAlphanumeric(c)?[St.makeAlphanumeric(c)]:[St.makeBytes(St.toUtf8ByteArray(c))]}static makeEci(c){let d=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)n(c,8,d);else if(c<16384)n(2,2,d),n(c,14,d);else if(c<1e6)n(6,3,d),n(c,21,d);else throw new RangeError("ECI assignment value out of range");return new St(St.Mode.ECI,0,d)}static isNumeric(c){return St.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return St.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,d){let u=0;for(const p of c){const h=p.mode.numCharCountBits(d);if(p.numChars>=1<<h)return 1/0;u+=4+h+p.bitData.length}return u}static toUtf8ByteArray(c){c=encodeURI(c);let d=[];for(let u=0;u<c.length;u++)c.charAt(u)!="%"?d.push(c.charCodeAt(u)):(d.push(parseInt(c.substring(u+1,u+3),16)),u+=2);return d}};i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let a=i;e.QrSegment=i})(bs||(bs={}));(e=>{(t=>{const n=class{constructor(s,i){this.ordinal=s,this.formatBits=i}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(bs||(bs={}));(e=>{(t=>{const n=class{constructor(s,i){this.modeBits=s,this.numBitsCharCount=i}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(bs||(bs={}));var Us=bs;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var pA={L:Us.QrCode.Ecc.LOW,M:Us.QrCode.Ecc.MEDIUM,Q:Us.QrCode.Ecc.QUARTILE,H:Us.QrCode.Ecc.HIGH},dx=128,ux="L",px="#FFFFFF",hx="#000000",fx=!1,mx=1,hA=4,fA=0,mA=.1;function gx(e,t=0){const n=[];return e.forEach(function(r,s){let i=null;r.forEach(function(a,l){if(!a&&i!==null){n.push(`M${i+t} ${s+t}h${l-i}v1H${i+t}z`),i=null;return}if(l===r.length-1){if(!a)return;i===null?n.push(`M${l+t},${s+t} h1v1H${l+t}z`):n.push(`M${i+t},${s+t} h${l+1-i}v1H${i+t}z`);return}a&&i===null&&(i=l)})}),n.join("")}function vx(e,t){return e.slice().map((n,r)=>r<t.y||r>=t.y+t.h?n:n.map((s,i)=>i<t.x||i>=t.x+t.w?s:!1))}function gA(e,t,n,r){if(r==null)return null;const s=e.length+n*2,i=Math.floor(t*mA),a=s/t,l=(r.width||i)*a,c=(r.height||i)*a,d=r.x==null?e.length/2-l/2:r.x*a,u=r.y==null?e.length/2-c/2:r.y*a,p=r.opacity==null?1:r.opacity;let h=null;if(r.excavate){let v=Math.floor(d),m=Math.floor(u),y=Math.ceil(l+d-v),x=Math.ceil(c+u-m);h={x:v,y:m,w:y,h:x}}const g=r.crossOrigin;return{x:d,y:u,h:c,w:l,excavation:h,opacity:p,crossOrigin:g}}function vA(e,t){return t!=null?Math.max(Math.floor(t),0):e?hA:fA}function yx({value:e,level:t,minVersion:n,includeMargin:r,marginSize:s,imageSettings:i,size:a,boostLevel:l}){let c=Fe.useMemo(()=>{const v=(Array.isArray(e)?e:[e]).reduce((m,y)=>(m.push(...Us.QrSegment.makeSegments(y)),m),[]);return Us.QrCode.encodeSegments(v,pA[t],n,void 0,void 0,l)},[e,t,n,l]);const{cells:d,margin:u,numCells:p,calculatedImageSettings:h}=Fe.useMemo(()=>{let g=c.getModules();const v=vA(r,s),m=g.length+v*2,y=gA(g,a,v,i);return{cells:g,margin:v,numCells:m,calculatedImageSettings:y}},[c,a,i,r,s]);return{qrcode:c,margin:u,cells:d,numCells:p,calculatedImageSettings:h}}var yA=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),xA=Fe.forwardRef(function(t,n){const r=t,{value:s,size:i=dx,level:a=ux,bgColor:l=px,fgColor:c=hx,includeMargin:d=fx,minVersion:u=mx,boostLevel:p,marginSize:h,imageSettings:g}=r,m=Kd(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:y}=m,x=Kd(m,["style"]),w=g==null?void 0:g.src,C=Fe.useRef(null),k=Fe.useRef(null),_=Fe.useCallback(P=>{C.current=P,typeof n=="function"?n(P):n&&(n.current=P)},[n]),[j,E]=Fe.useState(!1),{margin:T,cells:S,numCells:M,calculatedImageSettings:D}=yx({value:s,level:a,minVersion:u,boostLevel:p,includeMargin:d,marginSize:h,imageSettings:g,size:i});Fe.useEffect(()=>{if(C.current!=null){const P=C.current,R=P.getContext("2d");if(!R)return;let N=S;const O=k.current,z=D!=null&&O!==null&&O.complete&&O.naturalHeight!==0&&O.naturalWidth!==0;z&&D.excavation!=null&&(N=vx(S,D.excavation));const $=window.devicePixelRatio||1;P.height=P.width=i*$;const A=i/M*$;R.scale(A,A),R.fillStyle=l,R.fillRect(0,0,M,M),R.fillStyle=c,yA?R.fill(new Path2D(gx(N,T))):S.forEach(function(U,Y){U.forEach(function(G,J){G&&R.fillRect(J+T,Y+T,1,1)})}),D&&(R.globalAlpha=D.opacity),z&&R.drawImage(O,D.x+T,D.y+T,D.w,D.h)}}),Fe.useEffect(()=>{E(!1)},[w]);const L=qd({height:i,width:i},y);let I=null;return w!=null&&(I=Fe.createElement("img",{src:w,key:w,style:{display:"none"},onLoad:()=>{E(!0)},ref:k,crossOrigin:D==null?void 0:D.crossOrigin})),Fe.createElement(Fe.Fragment,null,Fe.createElement("canvas",qd({style:L,height:i,width:i,ref:_,role:"img"},x)),I)});xA.displayName="QRCodeCanvas";var ll=Fe.forwardRef(function(t,n){const r=t,{value:s,size:i=dx,level:a=ux,bgColor:l=px,fgColor:c=hx,includeMargin:d=fx,minVersion:u=mx,boostLevel:p,title:h,marginSize:g,imageSettings:v}=r,m=Kd(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:y,cells:x,numCells:w,calculatedImageSettings:C}=yx({value:s,level:a,minVersion:u,boostLevel:p,includeMargin:d,marginSize:g,imageSettings:v,size:i});let k=x,_=null;v!=null&&C!=null&&(C.excavation!=null&&(k=vx(x,C.excavation)),_=Fe.createElement("image",{href:v.src,height:C.h,width:C.w,x:C.x+y,y:C.y+y,preserveAspectRatio:"none",opacity:C.opacity,crossOrigin:C.crossOrigin}));const j=gx(k,y);return Fe.createElement("svg",qd({height:i,width:i,viewBox:`0 0 ${w} ${w}`,ref:n,role:"img"},m),!!h&&Fe.createElement("title",null,h),Fe.createElement("path",{fill:l,d:`M0,0 h${w}v${w}H0z`,shapeRendering:"crispEdges"}),Fe.createElement("path",{fill:c,d:j,shapeRendering:"crispEdges"}),_)});ll.displayName="QRCodeSVG";const ha=({title:e,value:t,icon:n,change:r,isPositive:s})=>o.jsxs("div",{className:"stat-card",children:[o.jsxs("div",{className:"stat-header",children:[o.jsx("span",{className:"stat-label",children:e}),o.jsx("div",{className:"stat-icon",children:n})]}),o.jsx("div",{className:"stat-value",children:t}),o.jsxs("div",{className:`stat-change ${s?"":"negative"}`,children:[s?o.jsx($D,{fontSize:"small"}):o.jsx(AD,{fontSize:"small"}),r]})]});function bA(){var S;const{currentUser:e,admin:t}=Ht(),{isSuperAdmin:n}=on(),[r,s]=f.useState(null),[i,a]=f.useState(!1),[l,c]=f.useState(!1),[d,u]=f.useState([]),[p,h]=f.useState({todayBookings:0,todayRevenue:0,utilization:0,activeCustomers:0,bookingsChange:0,revenueChange:0,utilizationChange:0}),[g,v]=f.useState(!0),[m,y]=f.useState([]),[x,w]=f.useState("all");f.useEffect(()=>{(async()=>{n?(await C(),x==="all"?await k():await _(x)):t!=null&&t.venueId&&(s(t.venueId),await _(t.venueId)),v(!1)})()},[e,t,n,x]);const C=async()=>{try{const M=Ge(Pe(se,"venues"),Ee("status","==","active")),L=(await qe(M)).docs.map(I=>({id:I.id,name:I.data().name}));y(L)}catch(M){console.error("Error loading venues:",M)}},k=async()=>{var M;try{const D=new Date,L=new Date(D.getFullYear(),D.getMonth(),D.getDate()),I=new Date(D.getFullYear(),D.getMonth(),D.getDate(),23,59,59);let P=m;if(P.length===0){const ee=Ge(Pe(se,"venues"),Ee("status","==","active"));P=(await qe(ee)).docs.map(ie=>({id:ie.id,name:ie.data().name}))}const R=Ge(Pe(se,"bookings")),N=await qe(R),O=N.docs.filter(ee=>{var K,W;const X=ee.data(),ie=(W=(K=X.date)==null?void 0:K.toDate)==null?void 0:W.call(K);return ie?ie>=L&&ie<=I&&X.status==="confirmed":!1}),z=O.length,$=O.reduce((ee,X)=>ee+(X.data().amount||0),0),A=N.docs.sort((ee,X)=>{var W,F,q,ne,pe,Te,oe,ce;const ie=((F=(W=ee.data().createdAt)==null?void 0:W.toDate)==null?void 0:F.call(W))||((ne=(q=ee.data().date)==null?void 0:q.toDate)==null?void 0:ne.call(q))||new Date(0);return(((Te=(pe=X.data().createdAt)==null?void 0:pe.toDate)==null?void 0:Te.call(pe))||((ce=(oe=X.data().date)==null?void 0:oe.toDate)==null?void 0:ce.call(oe))||new Date(0)).getTime()-ie.getTime()}).slice(0,10),U=[];for(const ee of A){const X=ee.data();let ie="",K="Корт";if(X.venueId){const W=P.find(F=>F.id===X.venueId);if(ie=(W==null?void 0:W.name)||"",X.courtId)try{const F=await Ct(ee(se,"venues",X.venueId,"courts",X.courtId));F.exists()&&(K=F.data().name)}catch(F){console.error("Error fetching court:",F)}}U.push({id:ee.id,clientName:X.clientName||X.customerName||"Неизвестный клиент",courtName:ie?`${ie} - ${K}`:K,date:((M=X.date)==null?void 0:M.toDate())||new Date,startTime:X.startTime||X.time||"",endTime:X.endTime||"",status:X.status||"pending",amount:X.amount||0})}u(U);let Y=0;for(const ee of P){const X=Ge(Pe(se,"venues",ee.id,"courts"),Ee("status","==","active")),ie=await qe(X);Y+=ie.size}const G=Y*16,J=G>0?Math.round(z/G*100):0,ae=new Date;ae.setDate(ae.getDate()-30);const H=N.docs.filter(ee=>{var K,W;const ie=(W=(K=ee.data().date)==null?void 0:K.toDate)==null?void 0:W.call(K);return ie&&ie>=ae}),le=new Set(H.map(ee=>ee.data().clientPhone||ee.data().customerPhone));h({todayBookings:z,todayRevenue:$,utilization:J,activeCustomers:le.size,bookingsChange:15,revenueChange:10,utilizationChange:-3})}catch(D){console.error("Error loading all venues data:",D)}},_=async M=>{var D,L;try{const I=new Date,P=new Date(I.getFullYear(),I.getMonth(),I.getDate()),R=new Date(I.getFullYear(),I.getMonth(),I.getDate(),23,59,59),N=Ge(Pe(se,"bookings"),Ee("venueId","==",M)),z=(await qe(N)).docs.map(F=>({id:F.id,...F.data()})).sort((F,q)=>{var Te,oe,ce,xe,ve,Re,Me,Ie;const ne=((oe=(Te=F.createdAt)==null?void 0:Te.toDate)==null?void 0:oe.call(Te))||((xe=(ce=F.date)==null?void 0:ce.toDate)==null?void 0:xe.call(ce))||new Date(0);return(((Re=(ve=q.createdAt)==null?void 0:ve.toDate)==null?void 0:Re.call(ve))||((Ie=(Me=q.date)==null?void 0:Me.toDate)==null?void 0:Ie.call(Me))||new Date(0)).getTime()-ne.getTime()}).slice(0,5),$=[];for(const F of z){let q=F.courtName||"Корт";if(F.courtId&&!F.courtName)try{const ne=await Ct(Ne(se,"venues",M,"courts",F.courtId));ne.exists()&&(q=ne.data().name)}catch(ne){console.error("Error fetching court:",ne)}$.push({id:F.id,clientName:F.clientName||F.customerName||"Неизвестный клиент",courtName:q,date:((L=(D=F.date)==null?void 0:D.toDate)==null?void 0:L.call(D))||new Date,startTime:F.startTime||F.time||"",endTime:F.endTime||"",status:F.status||"pending",amount:F.amount||0})}u($);const A=Ge(Pe(se,"bookings"),Ee("venueId","==",M)),U=await qe(A),Y=U.docs.filter(F=>{var pe,Te;const q=F.data(),ne=(Te=(pe=q.date)==null?void 0:pe.toDate)==null?void 0:Te.call(pe);return ne?ne>=P&&ne<=R&&q.status==="confirmed":!1}),G=Y.length,J=Y.reduce((F,q)=>F+(q.data().amount||0),0),ae=Ge(Pe(se,"venues",M,"courts"),Ee("status","==","active")),ee=(await qe(ae)).size*16,X=ee>0?Math.round(G/ee*100):0,ie=new Date;ie.setDate(ie.getDate()-30);const K=U.docs.filter(F=>{var pe,Te;const ne=(Te=(pe=F.data().date)==null?void 0:pe.toDate)==null?void 0:Te.call(pe);return ne&&ne>=ie}),W=new Set(K.map(F=>F.data().clientPhone||F.data().customerPhone));h({todayBookings:G,todayRevenue:J,utilization:X,activeCustomers:W.size,bookingsChange:12,revenueChange:8,utilizationChange:-5})}catch(I){console.error("Error loading dashboard data:",I)}},j=()=>r?`https://allcourt.ru/club/${r}`:"",E=()=>{const M=j();M&&(navigator.clipboard.writeText(M),c(!0),setTimeout(()=>c(!1),2e3))},T=async()=>{const M=j();if(M)if(navigator.share)try{await navigator.share({title:"Забронировать корт",text:"Забронируйте корт в нашем клубе",url:M})}catch(D){console.log("Share failed:",D)}else E()};return g?o.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},children:o.jsx("div",{children:"Загрузка..."})}):o.jsxs("div",{children:[n&&o.jsx("div",{className:"section-card",style:{marginBottom:"24px"},children:o.jsx("div",{style:{display:"flex",alignItems:"center",gap:"16px",justifyContent:"space-between",flexWrap:"wrap"},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[o.jsx("label",{style:{fontWeight:"600"},children:"Фильтр по клубу:"}),o.jsxs("select",{className:"form-select",style:{maxWidth:"300px"},value:x,onChange:M=>w(M.target.value),children:[o.jsx("option",{value:"all",children:"Все клубы"}),m.map(M=>o.jsx("option",{value:M.id,children:M.name},M.id))]})]})})}),!n&&r&&o.jsxs("div",{className:"section-card",style:{marginBottom:"24px"},children:[o.jsx("div",{className:"section-header",children:o.jsx("h2",{className:"section-title",children:"Ссылка для бронирования"})}),o.jsxs("div",{style:{display:"flex",gap:"24px",alignItems:"center",flexWrap:"wrap"},children:[o.jsxs("div",{onClick:()=>a(!0),style:{cursor:"pointer",padding:"8px",border:"1px solid var(--extra-light-gray)",borderRadius:"8px",transition:"all 0.3s ease"},onMouseEnter:M=>M.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)",onMouseLeave:M=>M.currentTarget.style.boxShadow="none",children:[o.jsx(ll,{value:j(),size:120,level:"M",includeMargin:!0}),o.jsx("div",{style:{textAlign:"center",marginTop:"8px"},children:o.jsxs("button",{className:"btn btn-secondary btn-icon",children:[o.jsx(yp,{fontSize:"small"}),o.jsx("span",{children:"Увеличить"})]})})]}),o.jsxs("div",{style:{flex:1,minWidth:"250px"},children:[o.jsxs("div",{style:{marginBottom:"12px"},children:[o.jsx("label",{style:{fontSize:"14px",color:"var(--gray)",display:"block",marginBottom:"4px"},children:"Отправьте эту ссылку клиентам:"}),o.jsxs("div",{style:{display:"flex",gap:"8px",padding:"12px",background:"var(--background)",borderRadius:"8px",alignItems:"center"},children:[o.jsx("input",{type:"text",value:j(),readOnly:!0,style:{flex:1,border:"none",background:"transparent",fontSize:"14px",outline:"none"}}),o.jsxs("button",{className:"btn btn-primary btn-icon",onClick:E,children:[l?o.jsx(os,{fontSize:"small"}):o.jsx(nx,{fontSize:"small"}),o.jsx("span",{children:l?"Скопировано":"Копировать"})]})]})]}),o.jsx("div",{style:{display:"flex",gap:"8px"},children:o.jsxs("button",{className:"btn btn-secondary",onClick:T,children:[o.jsx(ox,{fontSize:"small"}),o.jsx("span",{children:"Поделиться"})]})})]})]})]}),n&&o.jsx("h2",{style:{marginBottom:"24px",fontSize:"24px",fontWeight:"700"},children:x==="all"?"Общая статистика по всем клубам":`Статистика клуба "${(S=m.find(M=>M.id===x))==null?void 0:S.name}"`}),o.jsxs("div",{className:"stats-grid",children:[o.jsx(ha,{title:"Бронирований сегодня",value:p.todayBookings,icon:o.jsx(fp,{}),change:`${p.bookingsChange>0?"+":""}${p.bookingsChange}% от вчера`,isPositive:p.bookingsChange>0}),o.jsx(ha,{title:"Доход за сегодня",value:`${p.todayRevenue.toLocaleString("ru-RU")}₽`,icon:o.jsx(vo,{}),change:`${p.revenueChange>0?"+":""}${p.revenueChange}% от вчера`,isPositive:p.revenueChange>0}),o.jsx(ha,{title:"Загрузка кортов",value:`${p.utilization}%`,icon:o.jsx(fc,{}),change:`${p.utilizationChange>0?"+":""}${p.utilizationChange}% от вчера`,isPositive:p.utilizationChange>0}),o.jsx(ha,{title:"Активных клиентов",value:p.activeCustomers,icon:o.jsx(vp,{}),change:"за последние 30 дней",isPositive:!0})]}),o.jsxs("div",{className:"section-card",children:[o.jsxs("div",{className:"section-header",children:[o.jsx("h2",{className:"section-title",children:"Последние бронирования"}),o.jsx("button",{className:"btn btn-secondary",onClick:()=>window.location.href="/admin/bookings",children:"Все бронирования"})]}),o.jsx("div",{className:"table-wrapper",children:g?o.jsx("div",{style:{textAlign:"center",padding:"40px"},children:"Загрузка..."}):d.length===0?o.jsx("div",{style:{textAlign:"center",padding:"40px",color:"var(--gray)"},children:"Пока нет бронирований"}):o.jsxs("table",{children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Клиент"}),o.jsx("th",{children:n&&x==="all"?"Клуб / Корт":"Корт"}),o.jsx("th",{children:"Дата и время"}),o.jsx("th",{children:"Статус"}),o.jsx("th",{children:"Сумма"})]})}),o.jsx("tbody",{children:d.map(M=>o.jsxs("tr",{children:[o.jsx("td",{children:M.clientName}),o.jsx("td",{children:M.courtName}),o.jsxs("td",{children:[M.date.toLocaleDateString("ru-RU"),", ",M.startTime,M.endTime&&`-${M.endTime}`]}),o.jsxs("td",{children:[M.status==="confirmed"&&o.jsx("span",{style:{color:"var(--success)"},children:"✅ Подтверждено"}),M.status==="pending"&&o.jsx("span",{style:{color:"var(--warning)"},children:"⏳ Ожидает оплаты"}),M.status==="cancelled"&&o.jsx("span",{style:{color:"var(--danger)"},children:"❌ Отменено"})]}),o.jsxs("td",{children:[M.amount.toLocaleString("ru-RU"),"₽"]})]},M.id))})]})})]}),i&&o.jsx("div",{className:"modal active",onClick:()=>a(!1),style:{display:"flex",position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:1e3,alignItems:"center",justifyContent:"center"},children:o.jsxs("div",{className:"modal-content",onClick:M=>M.stopPropagation(),style:{background:"white",borderRadius:"12px",padding:"24px",maxWidth:"400px",width:"90%",textAlign:"center"},children:[o.jsxs("div",{className:"modal-header",style:{marginBottom:"24px"},children:[o.jsx("h2",{className:"modal-title",children:"QR код для бронирования"}),o.jsx("button",{className:"modal-close",onClick:()=>a(!1),style:{position:"absolute",right:"24px",top:"24px",background:"none",border:"none",fontSize:"24px",cursor:"pointer"},children:"×"})]}),o.jsxs("div",{className:"modal-body",children:[o.jsx(ll,{value:j(),size:256,level:"H",includeMargin:!0}),o.jsxs("p",{style:{marginTop:"16px",color:"var(--gray)",fontSize:"14px"},children:["Клиенты могут отсканировать этот QR код,",o.jsx("br",{}),"чтобы забронировать корт"]}),o.jsx("div",{style:{marginTop:"24px"},children:o.jsx("button",{className:"btn btn-primary",onClick:()=>{const M=document.querySelector("svg");if(M){const D=new XMLSerializer().serializeToString(M),L=new Blob([D],{type:"image/svg+xml;charset=utf-8"}),I=URL.createObjectURL(L),P=document.createElement("a");P.href=I,P.download=`qr-code-booking-${r}.svg`,document.body.appendChild(P),P.click(),document.body.removeChild(P)}},children:"Скачать QR код"})})]})]})})]})}const Io=({children:e,permission:t,role:n,requireAll:r=!1,fallback:s})=>{const{hasPermission:i,hasAllPermissions:a,hasRole:l}=on();return n&&!l(n)?s?o.jsx(o.Fragment,{children:s}):o.jsxs(lt,{severity:"error",sx:{mt:2},children:[o.jsx(ki,{children:"Доступ запрещен"}),"У вас недостаточно прав для просмотра этой страницы."]}):t&&!(r&&Array.isArray(t)?a(t):i(t))?s?o.jsx(o.Fragment,{children:s}):o.jsxs(lt,{severity:"error",sx:{mt:2},children:[o.jsx(ki,{children:"Доступ запрещен"}),"У вас недостаточно прав для просмотра этой страницы."]}):o.jsx(o.Fragment,{children:e})},Ro=({selectedVenueId:e,onVenueChange:t,label:n="Управление клубом",showHint:r=!1})=>{const[s,i]=f.useState([]),[a,l]=f.useState(!0);f.useEffect(()=>{c()},[]);const c=async()=>{try{const d=Ge(Pe(se,"venues"),Ee("status","==","active")),p=(await qe(d)).docs.map(h=>({id:h.id,...h.data()}));i(p)}catch(d){console.error("Error fetching venues:",d)}finally{l(!1)}};return a?o.jsx("div",{children:"Загрузка клубов..."}):o.jsx("div",{className:"section-card",style:{marginBottom:"24px"},children:o.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[o.jsx("label",{className:"form-label",children:n}),o.jsxs("select",{className:"form-select",value:e||"",onChange:d=>t(d.target.value),style:{maxWidth:"400px"},children:[o.jsx("option",{value:"",children:"Выберите клуб"}),s.map(d=>o.jsx("option",{value:d.id,children:d.name},d.id))]}),r&&o.jsx("p",{className:"form-hint",children:"Выберите клуб для управления"})]})})},Do=({title:e})=>{const[t,n]=f.useState([]),[r,s]=f.useState(!0);f.useEffect(()=>{i()},[]);const i=async()=>{try{const l=Ge(Pe(se,"venues"),Ee("status","==","active")),d=(await qe(l)).docs.map(u=>({id:u.id,...u.data()}));n(d)}catch(l){console.error("Error fetching venues:",l)}finally{s(!1)}},a=l=>{l&&(localStorage.setItem("selectedVenueId",l),window.location.reload())};return r?o.jsx("div",{children:"Загрузка..."}):o.jsx("div",{children:o.jsxs("div",{className:"section-card",children:[o.jsx("div",{className:"section-header",children:o.jsx("h2",{className:"section-title",children:e})}),o.jsxs("div",{className:"form-group",style:{maxWidth:"400px"},children:[o.jsx("label",{className:"form-label",children:"Клуб"}),o.jsxs("select",{className:"form-select",value:"",onChange:l=>a(l.target.value),children:[o.jsx("option",{value:"",children:"Выберите клуб для управления"}),t.map(l=>o.jsx("option",{value:l.id,children:l.name},l.id))]}),o.jsx("p",{className:"form-hint",children:"Выберите клуб для просмотра и управления"})]})]})})};function CA(){const e=jn(),{club:t,admin:n,refreshClubData:r}=Ht(),{isSuperAdmin:s,canManageClub:i}=on(),[a,l]=f.useState(null),[c,d]=f.useState(null),[u,p]=f.useState(!1),[h,g]=f.useState(!1),[v,m]=f.useState(null),[y,x]=f.useState({name:"",phone:"",address:"",city:"",latitude:"",longitude:"",description:"",amenities:{showers:!1,parking:!1,cafe:!1,proshop:!1,lockers:!1},organizationType:"",inn:"",bankAccount:"",legalName:"",ogrn:"",kpp:"",legalAddress:"",bankName:"",bankBik:"",bankCorrespondentAccount:"",directorName:"",directorPosition:"",workingHours:{monday:"07:00-23:00",tuesday:"07:00-23:00",wednesday:"07:00-23:00",thursday:"07:00-23:00",friday:"07:00-23:00",saturday:"08:00-22:00",sunday:"08:00-22:00"},bookingDurations:{60:!0,90:!0,120:!0},bookingSlotInterval:30}),[w,C]=f.useState([]),[k,_]=f.useState(!1);f.useEffect(()=>{var N,O,z,$,A,U,Y,G;if(s){const J=localStorage.getItem("selectedVenueId");J&&(l(J),E(J))}else t&&(x({name:t.name||"",phone:t.phone||"",address:t.address||"",city:t.city||"",latitude:((O=(N=t.location)==null?void 0:N._lat)==null?void 0:O.toString())||(($=(z=t.location)==null?void 0:z.latitude)==null?void 0:$.toString())||"",longitude:((U=(A=t.location)==null?void 0:A._long)==null?void 0:U.toString())||((G=(Y=t.location)==null?void 0:Y.longitude)==null?void 0:G.toString())||"",description:t.description||"",amenities:{showers:Array.isArray(t.amenities)&&t.amenities.includes("showers")||!1,parking:Array.isArray(t.amenities)&&t.amenities.includes("parking")||!1,cafe:Array.isArray(t.amenities)&&t.amenities.includes("cafe")||!1,proshop:Array.isArray(t.amenities)&&t.amenities.includes("proshop")||!1,lockers:Array.isArray(t.amenities)&&t.amenities.includes("lockers")||!1},organizationType:t.organizationType||"",inn:t.inn||"",bankAccount:t.bankAccount||"",legalName:t.legalName||"",ogrn:t.ogrn||"",kpp:t.kpp||"",legalAddress:t.legalAddress||"",bankName:t.bankName||"",bankBik:t.bankBik||"",bankCorrespondentAccount:t.bankCorrespondentAccount||"",directorName:t.directorName||"",directorPosition:t.directorPosition||"",workingHours:t.workingHours||{monday:"07:00-23:00",tuesday:"07:00-23:00",wednesday:"07:00-23:00",thursday:"07:00-23:00",friday:"07:00-23:00",saturday:"08:00-22:00",sunday:"08:00-22:00"},bookingDurations:t.bookingDurations||{60:!0,90:!0,120:!0},bookingSlotInterval:t.bookingSlotInterval||30}),C(t.photos||[]))},[t,s]);const j=N=>{l(N),localStorage.setItem("selectedVenueId",N),N&&E(N)},E=async N=>{var O,z,$,A,U,Y,G,J;try{console.log("Loading venue data for:",N);const ae=await Ct(Ne(se,"venues",N));if(ae.exists()){const H=ae.data();console.log("Venue data loaded:",H),d({id:ae.id,...H}),x({name:H.name||"",phone:H.phone||"",address:H.address||"",city:H.city||"",latitude:((z=(O=H.location)==null?void 0:O._lat)==null?void 0:z.toString())||((A=($=H.location)==null?void 0:$.latitude)==null?void 0:A.toString())||"",longitude:((Y=(U=H.location)==null?void 0:U._long)==null?void 0:Y.toString())||((J=(G=H.location)==null?void 0:G.longitude)==null?void 0:J.toString())||"",description:H.description||"",amenities:{showers:Array.isArray(H.amenities)&&H.amenities.includes("showers")||!1,parking:Array.isArray(H.amenities)&&H.amenities.includes("parking")||!1,cafe:Array.isArray(H.amenities)&&H.amenities.includes("cafe")||!1,proshop:Array.isArray(H.amenities)&&H.amenities.includes("proshop")||!1,lockers:Array.isArray(H.amenities)&&H.amenities.includes("lockers")||!1},organizationType:H.organizationType||"",inn:H.inn||"",bankAccount:H.bankAccount||"",legalName:H.legalName||"",ogrn:H.ogrn||"",kpp:H.kpp||"",legalAddress:H.legalAddress||"",bankName:H.bankName||"",bankBik:H.bankBik||"",bankCorrespondentAccount:H.bankCorrespondentAccount||"",directorName:H.directorName||"",directorPosition:H.directorPosition||"",workingHours:H.workingHours||{monday:"07:00-23:00",tuesday:"07:00-23:00",wednesday:"07:00-23:00",thursday:"07:00-23:00",friday:"07:00-23:00",saturday:"08:00-22:00",sunday:"08:00-22:00"},bookingDurations:H.bookingDurations||{60:!0,90:!0,120:!0},bookingSlotInterval:H.bookingSlotInterval||30}),C(H.photos||[])}}catch(ae){console.error("Error loading venue:",ae)}},T=N=>{const{name:O,value:z}=N.target;x($=>({...$,[O]:z}))},S=N=>{x(O=>({...O,amenities:{...O.amenities,[N]:!O.amenities[N]}}))},M=async N=>{var $;const O=($=N.target.files)==null?void 0:$[0];if(!O)return;const z=s?a:n==null?void 0:n.venueId;if(!z){m("Не выбран клуб");return}try{p(!0);const A=Ap(rf,`clubs/${z}/logo.${O.name.split(".").pop()}`),U=await $p(A,O),Y=await Op(U.ref);await Ft(Ne(se,"venues",z),{logoUrl:Y}),s&&c?d({...c,logoUrl:Y}):await r(),g(!0),setTimeout(()=>g(!1),3e3)}catch(A){console.error("Error uploading logo:",A),m("Ошибка при загрузке логотипа")}finally{p(!1)}},D=async N=>{const O=N.target.files;if(!O||O.length===0)return;const z=s?a:n==null?void 0:n.venueId;if(!z){m("Не выбран клуб");return}if(w.length+O.length>5){m("Максимальное количество фотографий - 5");return}try{_(!0);const $=[];for(let Y=0;Y<O.length;Y++){const G=O[Y];if(G.size>5*1024*1024){m(`Файл ${G.name} превышает максимальный размер 5 МБ`);continue}if(!G.type.startsWith("image/")){m(`Файл ${G.name} не является изображением`);continue}const ae=`photo_${Date.now()}_${Y}.${G.name.split(".").pop()}`,H=Ap(rf,`clubs/${z}/photos/${ae}`);$.push($p(H,G).then(async le=>await Op(le.ref)))}const A=await Promise.all($),U=[...w,...A];C(U),await Ft(Ne(se,"venues",z),{photos:U}),s&&c?d({...c,photos:U}):await r(),g(!0),setTimeout(()=>g(!1),3e3)}catch($){console.error("Error uploading photos:",$),m("Ошибка при загрузке фотографий")}finally{_(!1)}},L=async()=>{const N=s?a:n==null?void 0:n.venueId;if(!N){m("Не выбран клуб");return}try{p(!0),await Ft(Ne(se,"venues",N),{logoUrl:null}),s&&c?d({...c,logoUrl:null}):await r(),g(!0),setTimeout(()=>g(!1),3e3)}catch(O){console.error("Error deleting logo:",O),m("Ошибка при удалении логотипа")}finally{p(!1)}},I=async(N,O)=>{const z=s?a:n==null?void 0:n.venueId;if(!z){m("Не выбран клуб");return}try{p(!0);const $=w.filter((A,U)=>U!==O);C($),await Ft(Ne(se,"venues",z),{photos:$}),s&&c?d({...c,photos:$}):await r(),g(!0),setTimeout(()=>g(!1),3e3)}catch($){console.error("Error deleting photo:",$),m("Ошибка при удалении фотографии")}finally{p(!1)}},P=async N=>{N.preventDefault();const O=s?a:n==null?void 0:n.venueId;if(O)try{p(!0);const z=Object.entries(y.amenities).filter(([A,U])=>U).map(([A])=>A),$={name:y.name,phone:y.phone,address:y.address,city:y.city,description:y.description,amenities:z,organizationType:y.organizationType,inn:y.inn,bankAccount:y.bankAccount,legalName:y.legalName,ogrn:y.ogrn,kpp:y.kpp,legalAddress:y.legalAddress,bankName:y.bankName,bankBik:y.bankBik,bankCorrespondentAccount:y.bankCorrespondentAccount,directorName:y.directorName,directorPosition:y.directorPosition,workingHours:y.workingHours,bookingDurations:y.bookingDurations,bookingSlotInterval:y.bookingSlotInterval,updatedAt:new Date};y.latitude&&y.longitude&&($.location=new Rb(parseFloat(y.latitude),parseFloat(y.longitude))),await Ft(Ne(se,"venues",O),$),s&&c?await E(O):await r(),g(!0),setTimeout(()=>g(!1),3e3)}catch(z){console.error("Error updating club:",z),m("Ошибка при сохранении данных")}finally{p(!1)}};if(!i())return o.jsxs(lt,{severity:"error",children:[o.jsx(ki,{children:"Доступ запрещен"}),"У вас недостаточно прав для управления клубом."]});if(s&&!a)return o.jsx(Do,{title:"Выберите клуб для управления"});const R=s?c:t;return o.jsx(Io,{permission:["manage_club","manage_all_venues"],children:o.jsxs("div",{children:[s&&o.jsx(Ro,{selectedVenueId:a,onVenueChange:j}),o.jsxs("div",{className:"section-card",children:[o.jsxs("h2",{className:"section-title",children:["Информация о клубе",s&&c&&o.jsx("span",{style:{fontSize:"16px",color:"var(--gray)",marginLeft:"16px"},children:c.name})]}),o.jsxs("div",{style:{backgroundColor:"#e3f2fd",padding:"12px 16px",borderRadius:"8px",marginBottom:"20px",fontSize:"14px",color:"#1976d2"},children:[o.jsx("strong",{children:"💡 Как получить координаты:"}),o.jsx("br",{}),"1. Откройте ",o.jsx("a",{href:"https://maps.google.com",target:"_blank",rel:"noopener noreferrer",style:{color:"#1976d2"},children:"Google Maps"}),o.jsx("br",{}),"2. Найдите ваш клуб на карте",o.jsx("br",{}),"3. Кликните правой кнопкой мыши на нужное место",o.jsx("br",{}),"4. Скопируйте координаты (первое число - широта, второе - долгота)"]}),o.jsxs("form",{onSubmit:P,children:[v&&o.jsx(lt,{severity:"error",sx:{mb:3},onClose:()=>m(null),children:v}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Логотип клуба"}),o.jsxs("div",{className:"logo-uploader",style:{display:"flex",alignItems:"center",gap:"24px"},children:[o.jsx("div",{className:"logo-preview",style:{width:"120px",height:"120px",border:"2px dashed var(--extra-light-gray)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",background:"var(--background)",position:"relative"},onMouseEnter:N=>{const O=N.currentTarget.querySelector("button");O&&(O.style.opacity="1")},onMouseLeave:N=>{const O=N.currentTarget.querySelector("button");O&&(O.style.opacity="0")},children:R!=null&&R.logoUrl?o.jsxs(o.Fragment,{children:[o.jsx("img",{src:R.logoUrl,alt:R.name,style:{width:"100%",height:"100%",objectFit:"cover"}}),o.jsx("button",{type:"button",onClick:L,style:{position:"absolute",top:"4px",right:"4px",width:"28px",height:"28px",borderRadius:"50%",background:"rgba(255, 255, 255, 0.9)",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",opacity:0,transition:"opacity 0.2s"},disabled:u,children:o.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"#dc2626",children:o.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}):o.jsxs("div",{style:{textAlign:"center",color:"var(--gray)"},children:[o.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"var(--light-gray)",children:o.jsx("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"})}),o.jsx("p",{style:{fontSize:"12px",marginTop:"8px"},children:"Нажмите для загрузки"})]})}),o.jsxs("div",{children:[o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>{var N;return(N=document.getElementById("logoInput"))==null?void 0:N.click()},disabled:u,children:"Загрузить логотип"}),o.jsx("input",{type:"file",id:"logoInput",accept:"image/*",style:{display:"none"},onChange:M}),o.jsxs("p",{className:"form-hint",children:["Рекомендуемый размер: 500x500px",o.jsx("br",{}),"Максимум 2MB. PNG, JPG или SVG"]})]})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Фотографии клуба"}),o.jsx("div",{style:{marginBottom:"16px"},children:o.jsx("p",{className:"form-hint",children:"Максимум 5 фотографий, до 5 МБ каждая. Рекомендуемый размер: 1920x1080px"})}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"16px",marginBottom:"16px"},children:[w.map((N,O)=>o.jsxs("div",{style:{position:"relative",paddingBottom:"56.25%",overflow:"hidden",borderRadius:"12px",background:"var(--extra-light-gray)"},children:[o.jsx("img",{src:N,alt:`Фото ${O+1}`,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}}),o.jsx("button",{type:"button",onClick:()=>I(N,O),style:{position:"absolute",top:"8px",right:"8px",width:"32px",height:"32px",borderRadius:"50%",background:"rgba(255, 255, 255, 0.9)",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},disabled:u,children:o.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"#dc2626",children:o.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]},O)),w.length<5&&o.jsx("div",{onClick:()=>{var N;return(N=document.getElementById("photosInput"))==null?void 0:N.click()},style:{position:"relative",paddingBottom:"56.25%",overflow:"hidden",borderRadius:"12px",border:"2px dashed var(--extra-light-gray)",background:"var(--background)",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:N=>{N.currentTarget.style.borderColor="var(--primary)",N.currentTarget.style.background="rgba(0, 214, 50, 0.05)"},onMouseLeave:N=>{N.currentTarget.style.borderColor="var(--extra-light-gray)",N.currentTarget.style.background="var(--background)"},children:o.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",color:"var(--gray)"},children:[o.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"var(--light-gray)",children:o.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})}),o.jsx("p",{style:{fontSize:"14px",marginTop:"8px"},children:k?"Загрузка...":"Добавить фото"})]})})]}),o.jsx("input",{type:"file",id:"photosInput",accept:"image/*",multiple:!0,style:{display:"none"},onChange:D,disabled:k||w.length>=5})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Название клуба"}),o.jsx("input",{type:"text",className:"form-input",name:"name",value:y.name,onChange:T,required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Телефон"}),o.jsx("input",{type:"tel",className:"form-input",name:"phone",value:y.phone,onChange:T,required:!0})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Адрес"}),o.jsx("input",{type:"text",className:"form-input",name:"address",value:y.address,onChange:T,required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Город"}),o.jsx("input",{type:"text",className:"form-input",name:"city",value:y.city,onChange:T,placeholder:"Например: Москва"})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Широта (Latitude)"}),o.jsx("input",{type:"number",step:"0.000001",className:"form-input",name:"latitude",value:y.latitude,onChange:T,placeholder:"55.755831"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Долгота (Longitude)"}),o.jsx("input",{type:"number",step:"0.000001",className:"form-input",name:"longitude",value:y.longitude,onChange:T,placeholder:"37.617673"})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Описание"}),o.jsx("textarea",{className:"form-textarea",name:"description",value:y.description,onChange:T,rows:4})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Удобства"}),o.jsxs("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap",marginTop:"12px"},children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:y.amenities.showers,onChange:()=>S("showers")}),"Душевые"]}),o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:y.amenities.parking,onChange:()=>S("parking")}),"Парковка"]}),o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:y.amenities.cafe,onChange:()=>S("cafe")}),"Кафе"]}),o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:y.amenities.proshop,onChange:()=>S("proshop")}),"Pro Shop"]}),o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:y.amenities.lockers,onChange:()=>S("lockers")}),"Раздевалки"]})]})]}),o.jsxs("div",{style:{marginTop:"32px"},children:[o.jsx("h3",{className:"section-subtitle",children:"Режим работы"}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px",marginTop:"16px"},children:[{key:"monday",label:"Понедельник"},{key:"tuesday",label:"Вторник"},{key:"wednesday",label:"Среда"},{key:"thursday",label:"Четверг"},{key:"friday",label:"Пятница"},{key:"saturday",label:"Суббота"},{key:"sunday",label:"Воскресенье"}].map(N=>o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:N.label}),o.jsx("input",{type:"text",className:"form-input",value:y.workingHours[N.key],onChange:O=>x(z=>({...z,workingHours:{...z.workingHours,[N.key]:O.target.value}})),placeholder:"07:00-23:00"}),o.jsx("span",{className:"form-hint",children:"ЧЧ:ММ-ЧЧ:ММ"})]},N.key))})]}),o.jsxs("div",{style:{marginTop:"32px"},children:[o.jsx("h3",{className:"section-subtitle",children:"Доступные длительности бронирования"}),o.jsxs("div",{style:{display:"flex",gap:"24px",flexWrap:"wrap",marginTop:"16px"},children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:y.bookingDurations[60],onChange:()=>x(N=>({...N,bookingDurations:{...N.bookingDurations,60:!N.bookingDurations[60]}}))}),"1 час"]}),o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:y.bookingDurations[90],onChange:()=>x(N=>({...N,bookingDurations:{...N.bookingDurations,90:!N.bookingDurations[90]}}))}),"1.5 часа"]}),o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:y.bookingDurations[120],onChange:()=>x(N=>({...N,bookingDurations:{...N.bookingDurations,120:!N.bookingDurations[120]}}))}),"2 часа"]})]}),o.jsx("p",{className:"form-hint",style:{marginTop:"8px"},children:"Выберите, какие длительности бронирования будут доступны клиентам"})]}),o.jsxs("div",{style:{marginTop:"32px"},children:[o.jsx("h3",{className:"section-subtitle",children:"Интервал временных слотов"}),o.jsxs("div",{style:{display:"flex",gap:"16px",marginTop:"16px"},children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[o.jsx("input",{type:"radio",name:"bookingSlotInterval",value:"30",checked:y.bookingSlotInterval===30,onChange:()=>x(N=>({...N,bookingSlotInterval:30}))}),"Каждые 30 минут (стандарт)"]}),o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[o.jsx("input",{type:"radio",name:"bookingSlotInterval",value:"60",checked:y.bookingSlotInterval===60,onChange:()=>x(N=>({...N,bookingSlotInterval:60}))}),"Только с 00 минут (каждый час)"]})]}),o.jsx("p",{className:"form-hint",style:{marginTop:"8px"},children:'Выберите интервал доступных слотов для бронирования. При выборе "Только с 00 минут" клиенты смогут бронировать только с начала часа (например, 10:00, 11:00, 12:00)'})]}),o.jsxs("div",{style:{display:"flex",gap:"12px"},children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"Сохранение...":"Сохранить изменения"}),o.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{var O,z,$,A,U,Y,G,J;const N=s?c:t;N&&x({name:N.name||"",phone:N.phone||"",address:N.address||"",city:N.city||"",latitude:((z=(O=N.location)==null?void 0:O._lat)==null?void 0:z.toString())||((A=($=N.location)==null?void 0:$.latitude)==null?void 0:A.toString())||"",longitude:((Y=(U=N.location)==null?void 0:U._long)==null?void 0:Y.toString())||((J=(G=N.location)==null?void 0:G.longitude)==null?void 0:J.toString())||"",description:N.description||"",amenities:{showers:Array.isArray(N.amenities)&&N.amenities.includes("showers")||!1,parking:Array.isArray(N.amenities)&&N.amenities.includes("parking")||!1,cafe:Array.isArray(N.amenities)&&N.amenities.includes("cafe")||!1,proshop:Array.isArray(N.amenities)&&N.amenities.includes("proshop")||!1,lockers:Array.isArray(N.amenities)&&N.amenities.includes("lockers")||!1},organizationType:N.organizationType||"",inn:N.inn||"",bankAccount:N.bankAccount||"",legalName:N.legalName||"",ogrn:N.ogrn||"",kpp:N.kpp||"",legalAddress:N.legalAddress||"",bankName:N.bankName||"",bankBik:N.bankBik||"",bankCorrespondentAccount:N.bankCorrespondentAccount||"",directorName:N.directorName||"",directorPosition:N.directorPosition||"",workingHours:N.workingHours||{monday:"07:00-23:00",tuesday:"07:00-23:00",wednesday:"07:00-23:00",thursday:"07:00-23:00",friday:"07:00-23:00",saturday:"08:00-22:00",sunday:"08:00-22:00"},bookingDurations:N.bookingDurations||{60:!0,90:!0,120:!0},bookingSlotInterval:N.bookingSlotInterval||30})},children:"Отмена"})]}),h&&o.jsx("div",{style:{marginTop:"16px",padding:"12px",background:"rgba(16, 185, 129, 0.1)",color:"var(--success)",borderRadius:"8px",fontSize:"14px"},children:"✅ Изменения успешно сохранены"})]})]}),o.jsxs("div",{className:"section-card",children:[o.jsx("h2",{className:"section-title",children:"Реквизиты организации"}),o.jsxs("form",{onSubmit:P,children:[o.jsxs("div",{className:"form-group",style:{marginTop:"24px"},children:[o.jsx("label",{className:"form-label",children:"Тип организации"}),o.jsxs("select",{className:"form-select",name:"organizationType",value:y.organizationType,onChange:T,children:[o.jsx("option",{value:"",children:"Выберите тип"}),o.jsx("option",{value:"ИП",children:"ИП"}),o.jsx("option",{value:"ООО",children:"ООО"}),o.jsx("option",{value:"АО",children:"АО"}),o.jsx("option",{value:"НКО",children:"НКО"}),o.jsx("option",{value:"Самозанятый",children:"Самозанятый"})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Юридическое наименование"}),o.jsx("input",{type:"text",className:"form-input",name:"legalName",value:y.legalName,onChange:T,placeholder:"ООО «Название организации»"})]}),o.jsxs("div",{className:"form-row",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"ИНН"}),o.jsx("input",{type:"text",className:"form-input",name:"inn",value:y.inn,onChange:T,placeholder:"1234567890"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"КПП"}),o.jsx("input",{type:"text",className:"form-input",name:"kpp",value:y.kpp,onChange:T,placeholder:"123456789"})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"ОГРН / ОГРНИП"}),o.jsx("input",{type:"text",className:"form-input",name:"ogrn",value:y.ogrn,onChange:T,placeholder:"1234567890123"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Юридический адрес"}),o.jsx("input",{type:"text",className:"form-input",name:"legalAddress",value:y.legalAddress,onChange:T,placeholder:"123456, г. Москва, ул. Примерная, д. 1, офис 1"})]}),o.jsx("h3",{style:{marginTop:"32px",marginBottom:"16px",fontSize:"18px"},children:"Банковские реквизиты"}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Наименование банка"}),o.jsx("input",{type:"text",className:"form-input",name:"bankName",value:y.bankName,onChange:T,placeholder:"ПАО Сбербанк"})]}),o.jsxs("div",{className:"form-row",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"БИК банка"}),o.jsx("input",{type:"text",className:"form-input",name:"bankBik",value:y.bankBik,onChange:T,placeholder:"044525225"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Корр. счет"}),o.jsx("input",{type:"text",className:"form-input",name:"bankCorrespondentAccount",value:y.bankCorrespondentAccount,onChange:T,placeholder:"30101810400000000225"})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Расчетный счет"}),o.jsx("input",{type:"text",className:"form-input",name:"bankAccount",value:y.bankAccount,onChange:T,placeholder:"40702810900000123456"})]}),o.jsx("h3",{style:{marginTop:"32px",marginBottom:"16px",fontSize:"18px"},children:"Руководитель"}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"ФИО руководителя"}),o.jsx("input",{type:"text",className:"form-input",name:"directorName",value:y.directorName,onChange:T,placeholder:"Иванов Иван Иванович"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Должность"}),o.jsx("input",{type:"text",className:"form-input",name:"directorPosition",value:y.directorPosition,onChange:T,placeholder:"Генеральный директор"})]}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"Сохранение...":"Сохранить реквизиты"})]}),o.jsxs("div",{style:{marginTop:"24px",padding:"16px",background:"var(--background)",borderRadius:"8px",textAlign:"center"},children:[o.jsx("p",{style:{fontSize:"14px",color:"var(--gray)",marginBottom:"12px"},children:"Для настройки приема платежей от клиентов"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>e("/admin/payment-settings"),style:{width:"auto"},children:"Перейти к настройкам эквайринга"})]})]})]})})}const fa=["#00A86B","#2E86AB","#FF6B6B","#F39C12","#8E44AD","#E91E63","#00BCD4","#795548","#607D8B","#FF5722","#009688","#3F51B5","#FFEB3B","#4CAF50","#FF9800"];function wA(){const{admin:e}=Ht(),{isSuperAdmin:t,canManageCourts:n}=on(),[r,s]=f.useState(null),[i,a]=f.useState([]),[l,c]=f.useState(!0),[d,u]=f.useState(!1),[p,h]=f.useState(null),[g,v]=f.useState({name:"",type:"padel",courtType:"indoor",pricing:{monday:{basePrice:1900,intervals:[]},tuesday:{basePrice:1900,intervals:[]},wednesday:{basePrice:1900,intervals:[]},thursday:{basePrice:1900,intervals:[]},friday:{basePrice:1900,intervals:[]},saturday:{basePrice:2400,intervals:[]},sunday:{basePrice:2400,intervals:[]}},status:"active",color:"#00A86B"});f.useEffect(()=>{if(t){const T=localStorage.getItem("selectedVenueId");T&&(s(T),y(T))}else e!=null&&e.venueId&&y(e.venueId)},[e,t]);const m=T=>{s(T),localStorage.setItem("selectedVenueId",T),T&&y(T)},y=async T=>{if(T)try{c(!0);const S=Ge(Pe(se,"venues",T,"courts")),D=(await qe(S)).docs.map((L,I)=>{const P=L.data();if(!P.color){const R=I%fa.length;P.color=fa[R],Ft(L.ref,{color:P.color})}return{id:L.id,...P}});a(D)}catch(S){console.error("Error fetching courts:",S)}finally{c(!1)}},x=()=>{const T=i.map(M=>M.color).filter(Boolean);for(const M of fa)if(!T.includes(M))return M;const S=fa.reduce((M,D)=>(M[D]=T.filter(L=>L===D).length,M),{});return Object.entries(S).sort((M,D)=>M[1]-D[1])[0][0]},w=T=>{const{name:S,value:M}=T.target;v(D=>({...D,[S]:S.includes("price")?Number(M):M}))},C=async T=>{T.preventDefault();const S=t?r:e==null?void 0:e.venueId;if(S)try{p?await Ft(Ne(se,"venues",S,"courts",p.id),{...g,updatedAt:new Date}):await gr(Pe(se,"venues",S,"courts"),{...g,createdAt:new Date}),u(!1),h(null);const M=x();v({name:"",type:"padel",courtType:"indoor",pricing:{monday:{basePrice:1900,intervals:[]},tuesday:{basePrice:1900,intervals:[]},wednesday:{basePrice:1900,intervals:[]},thursday:{basePrice:1900,intervals:[]},friday:{basePrice:1900,intervals:[]},saturday:{basePrice:2400,intervals:[]},sunday:{basePrice:2400,intervals:[]}},status:"active",color:M}),y(S)}catch(M){console.error("Error saving court:",M)}},k=T=>{h(T),v({name:T.name,type:T.type,courtType:T.courtType,pricing:T.pricing||{monday:{basePrice:1900,intervals:[]},tuesday:{basePrice:1900,intervals:[]},wednesday:{basePrice:1900,intervals:[]},thursday:{basePrice:1900,intervals:[]},friday:{basePrice:1900,intervals:[]},saturday:{basePrice:2400,intervals:[]},sunday:{basePrice:2400,intervals:[]}},status:T.status,color:T.color||"#00A86B"}),u(!0)},_=async T=>{if(window.confirm("Вы уверены, что хотите удалить этот корт?"))try{const S=t?r:e==null?void 0:e.venueId;if(!S)return;await ml(Ne(se,"venues",S,"courts",T)),y(S)}catch(S){console.error("Error deleting court:",S)}},j=T=>{switch(T){case"tennis":return"tennis";case"padel":return"padel";case"badminton":return"badminton";default:return"padel"}},E=T=>{switch(T){case"tennis":return"Теннис";case"padel":return"Падел";case"badminton":return"Бадминтон";default:return T}};return l?o.jsx("div",{children:"Загрузка..."}):n()?t&&!r?o.jsx(Do,{title:"Выберите клуб для управления кортами"}):o.jsxs(Io,{permission:["manage_courts","manage_all_venues"],children:[o.jsxs("div",{children:[t&&o.jsx(Ro,{selectedVenueId:r,onVenueChange:m}),o.jsxs("div",{className:"section-card",children:[o.jsxs("div",{className:"section-header",children:[o.jsx("h2",{className:"section-title",children:"Управление кортами"}),o.jsxs("button",{className:"btn btn-primary",onClick:()=>{const T=x();v(S=>({...S,color:T})),u(!0)},children:[o.jsx(Zi,{fontSize:"small"}),"Добавить корт"]})]}),o.jsx("div",{className:"courts-grid",children:i.map(T=>o.jsxs("div",{className:"court-card",children:[o.jsx("div",{className:"court-header",children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[T.color&&o.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"4px",backgroundColor:T.color,border:"1px solid #e5e7eb"}}),o.jsxs("div",{children:[o.jsx("div",{className:"court-name",children:T.name}),o.jsx("span",{className:`court-type ${j(T.type)}`,children:E(T.type)})]})]})}),o.jsxs("div",{className:"court-details",children:[o.jsxs("div",{children:["Тип: ",T.courtType==="indoor"?"Крытый":"Открытый"]}),o.jsx("div",{children:T.pricing?o.jsxs(o.Fragment,{children:["Цены: от ",Math.min(...Object.values(T.pricing).filter(S=>S).map(S=>S.basePrice)),"₽ до ",Math.max(...Object.values(T.pricing).filter(S=>S).map(S=>S.basePrice)),"₽"]}):o.jsxs(o.Fragment,{children:["Будни: ",T.priceWeekday||1900,"₽ | Вых: ",T.priceWeekend||2400,"₽"]})}),o.jsxs("div",{children:["Статус: ",T.status==="active"?"Активен":T.status==="maintenance"?"Обслуживание":"Неактивен"]})]}),o.jsxs("div",{className:"court-actions",children:[o.jsxs("button",{className:"btn btn-secondary",onClick:()=>k(T),children:[o.jsx(Pi,{fontSize:"small"}),"Редактировать"]}),o.jsx("button",{className:"btn btn-danger",onClick:()=>_(T.id),style:{marginLeft:"auto"},children:o.jsx(xs,{fontSize:"small"})})]})]},T.id))}),i.length===0&&o.jsxs("div",{style:{textAlign:"center",padding:"48px",color:"var(--gray)"},children:[o.jsx("p",{children:"У вас пока нет кортов"}),o.jsx("p",{children:'Нажмите "Добавить корт", чтобы создать первый'})]})]})]}),o.jsx("div",{className:`modal ${d?"active":""}`,children:o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h3",{className:"modal-title",children:p?"Редактировать корт":"Добавить корт"}),o.jsx("button",{className:"modal-close",onClick:()=>{u(!1),h(null);const T=x();v({name:"",type:"padel",courtType:"indoor",pricing:{monday:{basePrice:1900,intervals:[]},tuesday:{basePrice:1900,intervals:[]},wednesday:{basePrice:1900,intervals:[]},thursday:{basePrice:1900,intervals:[]},friday:{basePrice:1900,intervals:[]},saturday:{basePrice:2400,intervals:[]},sunday:{basePrice:2400,intervals:[]}},status:"active",color:T})},children:o.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),o.jsxs("form",{onSubmit:C,children:[o.jsxs("div",{className:"modal-body",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Название корта"}),o.jsx("input",{type:"text",className:"form-input",name:"name",value:g.name,onChange:w,placeholder:"Например: Падел корт 1",required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Вид спорта"}),o.jsxs("select",{className:"form-select",name:"type",value:g.type,onChange:w,children:[o.jsx("option",{value:"padel",children:"Падел"}),o.jsx("option",{value:"tennis",children:"Теннис"}),o.jsx("option",{value:"badminton",children:"Бадминтон"})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Тип корта"}),o.jsxs("select",{className:"form-select",name:"courtType",value:g.courtType,onChange:w,children:[o.jsx("option",{value:"indoor",children:"Крытый"}),o.jsx("option",{value:"outdoor",children:"Открытый"})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Ценовая политика"}),o.jsx("div",{style:{marginTop:"16px"},children:[{key:"monday",label:"Понедельник"},{key:"tuesday",label:"Вторник"},{key:"wednesday",label:"Среда"},{key:"thursday",label:"Четверг"},{key:"friday",label:"Пятница"},{key:"saturday",label:"Суббота"},{key:"sunday",label:"Воскресенье"}].map(T=>{var S;return o.jsxs("div",{style:{marginBottom:"24px",padding:"16px",background:"#f8f9fa",borderRadius:"8px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"12px"},children:[o.jsx("h4",{style:{margin:0},children:T.label}),o.jsx("input",{type:"number",className:"form-input",style:{width:"120px"},value:g.pricing[T.key].basePrice,onChange:M=>{const D=Number(M.target.value);v(L=>({...L,pricing:{...L.pricing,[T.key]:{...L.pricing[T.key],basePrice:D}}}))},min:"0",placeholder:"Базовая цена"}),o.jsx("span",{style:{marginLeft:"8px"},children:"₽/час"})]}),o.jsxs("div",{style:{marginTop:"12px"},children:[o.jsx("div",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"8px"},children:"Интервалы с особыми ценами:"}),(S=g.pricing[T.key].intervals)==null?void 0:S.map((M,D)=>o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[o.jsx("input",{type:"time",className:"form-input",style:{width:"100px"},value:M.from,onChange:L=>{const I=[...g.pricing[T.key].intervals];I[D].from=L.target.value,v(P=>({...P,pricing:{...P.pricing,[T.key]:{...P.pricing[T.key],intervals:I}}}))},step:"3600"}),o.jsx("span",{children:"-"}),o.jsx("input",{type:"time",className:"form-input",style:{width:"100px"},value:M.to,onChange:L=>{const I=[...g.pricing[T.key].intervals];I[D].to=L.target.value,v(P=>({...P,pricing:{...P.pricing,[T.key]:{...P.pricing[T.key],intervals:I}}}))},step:"3600"}),o.jsx("input",{type:"number",className:"form-input",style:{width:"100px"},value:M.price,onChange:L=>{const I=[...g.pricing[T.key].intervals];I[D].price=Number(L.target.value),v(P=>({...P,pricing:{...P.pricing,[T.key]:{...P.pricing[T.key],intervals:I}}}))},min:"0",placeholder:"Цена"}),o.jsx("span",{children:"₽"}),o.jsx("button",{type:"button",className:"btn btn-secondary",style:{padding:"4px 8px"},onClick:()=>{const L=g.pricing[T.key].intervals.filter((I,P)=>P!==D);v(I=>({...I,pricing:{...I.pricing,[T.key]:{...I.pricing[T.key],intervals:L}}}))},children:"Удалить"})]},D)),o.jsx("button",{type:"button",className:"btn btn-link",style:{padding:"4px 8px",fontSize:"14px"},onClick:()=>{const M=[...g.pricing[T.key].intervals||[],{from:"09:00",to:"11:00",price:g.pricing[T.key].basePrice*1.5}];v(D=>({...D,pricing:{...D.pricing,[T.key]:{...D.pricing[T.key],intervals:M}}}))},children:"+ Добавить интервал"})]})]},T.key)})})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Статус"}),o.jsxs("select",{className:"form-select",name:"status",value:g.status,onChange:w,children:[o.jsx("option",{value:"active",children:"Активен"}),o.jsx("option",{value:"maintenance",children:"На обслуживании"}),o.jsx("option",{value:"inactive",children:"Неактивен"})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Цвет корта"}),o.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[o.jsx("input",{type:"color",className:"form-input",name:"color",value:g.color,onChange:w,style:{width:"80px",height:"48px",padding:"4px",cursor:"pointer"}}),o.jsx("input",{type:"text",className:"form-input",value:g.color,onChange:T=>v(S=>({...S,color:T.target.value})),placeholder:"#00A86B",style:{flex:1}})]}),o.jsx("div",{className:"form-hint",children:"Этот цвет будет использоваться для визуального отображения корта в календаре"})]})]}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{u(!1),h(null)},children:"Отмена"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:p?"Сохранить изменения":"Добавить корт"})]})]})]})})]}):o.jsxs(lt,{severity:"error",children:[o.jsx(ki,{children:"Доступ запрещен"}),"У вас недостаточно прав для управления кортами."]})}const mm={awaiting_payment:"Ожидает оплаты",paid:"Оплачено",online_payment:"Онлайн оплата",cancelled:"Отменено"},gm={awaiting_payment:"#F59E0B",paid:"#10B981",online_payment:"#3B82F6",cancelled:"#EF4444"},jA={awaiting_payment:Ud,paid:mp,online_payment:vo,cancelled:ol};function Qd({bookingId:e,currentStatus:t,paymentMethod:n,onStatusUpdate:r}){const{admin:s}=Ht(),[i,a]=f.useState(!1),[l,c]=f.useState(!1),[d,u]=f.useState(null),[p,h]=f.useState(t);f.useEffect(()=>{console.log("PaymentStatusManager: currentStatus changed to",t),h(t)},[t]),f.useEffect(()=>{if(!e)return;console.log("PaymentStatusManager: subscribing to booking changes");const y=yr(Ne(se,"bookings",e),x=>{if(x.exists()){const C=x.data().paymentStatus||"awaiting_payment";console.log("PaymentStatusManager: realtime update, status:",C),h(C)}});return()=>y()},[e]);const g=p==="awaiting_payment"&&n!=="online",v=async y=>{if(!s){alert("Ошибка: пользователь не авторизован");return}a(!0);try{const x=Ne(se,"bookings",e),w=await Ct(x);if(!w.exists())throw new Error("Бронирование не найдено");const k=w.data().paymentHistory||[],_={timestamp:$r.now(),action:y,userId:s.uid||"unknown",userName:s.displayName||s.email||"Администратор"},j={paymentStatus:y};Array.isArray(k)?j.paymentHistory=[...k,_]:j.paymentHistory=[_],y==="cancelled"&&(j.status="cancelled"),Object.keys(j).forEach(E=>{j[E]===void 0&&delete j[E]}),await Ft(x,j),c(!1),u(null),await new Promise(E=>setTimeout(E,500)),h(y),r&&await r()}catch(x){console.error("Error updating payment status:",x);let w="Ошибка при обновлении статуса оплаты";x.code==="permission-denied"?w="У вас нет прав для изменения статуса оплаты":x.code==="not-found"?w="Бронирование не найдено":x.message&&(w=`Ошибка: ${x.message}`),alert(w)}finally{a(!1)}},m=jA[p];return console.log("PaymentStatusManager render:",{bookingId:e,currentStatus:t,localStatus:p,canChangeStatus:g}),o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"6px 12px",background:`${gm[p]}1A`,color:gm[p],borderRadius:"20px",fontSize:"14px",fontWeight:"600"},children:[o.jsx(m,{style:{fontSize:"18px"}}),o.jsx("span",{children:mm[p]}),g&&o.jsxs("div",{style:{marginLeft:"8px",display:"flex",gap:"4px"},children:[o.jsx("button",{onClick:()=>{u("paid"),c(!0)},disabled:i,style:{padding:"4px 8px",fontSize:"12px",background:"#10B981",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",opacity:i?.6:1},children:"Оплачено"}),o.jsx("button",{onClick:()=>{u("cancelled"),c(!0)},disabled:i,style:{padding:"4px 8px",fontSize:"12px",background:"#EF4444",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",opacity:i?.6:1},children:"Отменить"})]})]}),l&&d&&o.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:o.jsxs("div",{style:{background:"white",padding:"24px",borderRadius:"12px",maxWidth:"400px",width:"90%"},children:[o.jsx("h3",{style:{marginBottom:"16px"},children:"Подтверждение"}),o.jsxs("p",{style:{marginBottom:"24px"},children:['Вы уверены, что хотите изменить статус оплаты на "',mm[d],'"?']}),o.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[o.jsx("button",{onClick:()=>{c(!1),u(null)},style:{padding:"8px 16px",background:"#E5E7EB",border:"none",borderRadius:"8px",cursor:"pointer"},children:"Отмена"}),o.jsx("button",{onClick:()=>v(d),disabled:i,style:{padding:"8px 16px",background:d==="paid"?"#10B981":"#EF4444",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",opacity:i?.6:1},children:i?"Обновление...":"Подтвердить"})]})]})})]})}const SA={created:"Создано бронирование",paid:"Оплачено",cancelled:"Отменено"},vm={created:"#6B7280",paid:"#10B981",cancelled:"#EF4444"};function kA({history:e}){if(!e||e.length===0)return null;const t=n=>{const r=n.toDate?n.toDate():new Date(n);return new Intl.DateTimeFormat("ru-RU",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(r)};return o.jsxs("div",{style:{marginTop:"16px",padding:"16px",background:"var(--background)",borderRadius:"8px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px",color:"var(--gray)",fontSize:"14px",fontWeight:"600"},children:[o.jsx(VD,{style:{fontSize:"18px"}}),"История платежей"]}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:e.map((n,r)=>o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"8px",background:"var(--white)",borderRadius:"6px",fontSize:"14px"},children:[o.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:vm[n.action],flexShrink:0}}),o.jsxs("div",{style:{flex:1},children:[o.jsx("div",{style:{color:vm[n.action],fontWeight:"500"},children:SA[n.action]}),o.jsx("div",{style:{color:"var(--gray)",fontSize:"12px",marginTop:"2px"},children:t(n.timestamp)})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",color:"var(--gray)",fontSize:"12px"},children:[o.jsx(tx,{style:{fontSize:"16px"}}),n.userName||"Администратор"]}),n.note&&o.jsx("div",{style:{fontSize:"12px",color:"var(--gray)",fontStyle:"italic"},children:n.note})]},r))})]})}function xx({booking:e,isOpen:t,onClose:n,onUpdate:r}){var h,g;const[s,i]=f.useState(e);f.useEffect(()=>{if(e&&t){a(e.id);const v=yr(Ne(se,"bookings",e.id),m=>{var y,x;if(m.exists()){const w=m.data(),C={id:m.id,...w,date:(y=w.date)!=null&&y.toDate?w.date.toDate():new Date(w.date),createdAt:(x=w.createdAt)!=null&&x.toDate?w.createdAt.toDate():new Date(w.createdAt||Date.now()),paymentStatus:w.paymentStatus||"awaiting_payment",paymentHistory:w.paymentHistory||[]};i(C)}});return()=>v()}},[e==null?void 0:e.id,t]);const a=async v=>{var m,y;console.log("Loading fresh booking data:",v);try{const x=await Ct(Ne(se,"bookings",v));if(x.exists()){const w=x.data(),C={id:x.id,...w,date:(m=w.date)!=null&&m.toDate?w.date.toDate():new Date(w.date),createdAt:(y=w.createdAt)!=null&&y.toDate?w.createdAt.toDate():new Date(w.createdAt||Date.now()),paymentStatus:w.paymentStatus||"awaiting_payment",paymentHistory:w.paymentHistory||[]};console.log("Fresh booking loaded with payment status:",C.paymentStatus),i(C)}}catch(x){console.error("Error loading fresh booking:",x)}};if(!t||!s)return null;const l=v=>new Intl.DateTimeFormat("ru-RU",{weekday:"long",day:"numeric",month:"long",year:"numeric"}).format(v),c=v=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0}).format(v),d={cash:"Наличные",card_on_site:"Карта на месте",transfer:"Перевод",online:"Онлайн"},u={confirmed:"Подтверждено",pending:"Ожидает",cancelled:"Отменено"},p={confirmed:"#10B981",pending:"#F59E0B",cancelled:"#EF4444"};return o.jsx("div",{className:"modal active",children:o.jsxs("div",{className:"modal-content",style:{maxWidth:"700px"},children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h2",{className:"modal-title",children:"Детали бронирования"}),o.jsx("button",{className:"modal-close",onClick:n,children:o.jsx(gp,{})})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("div",{style:{display:"grid",gap:"24px"},children:[o.jsxs("div",{children:[o.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Информация о бронировании"}),o.jsxs("div",{style:{display:"grid",gap:"12px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("span",{style:{color:"var(--gray)"},children:"Корт:"}),o.jsx("span",{style:{fontWeight:"600"},children:s.courtName})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("span",{style:{color:"var(--gray)"},children:"Дата:"}),o.jsx("span",{style:{fontWeight:"600"},children:l(s.date)})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("span",{style:{color:"var(--gray)"},children:"Время:"}),o.jsxs("span",{style:{fontWeight:"600"},children:[s.startTime," - ",s.endTime]})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("span",{style:{color:"var(--gray)"},children:"Статус:"}),o.jsx("span",{style:{fontWeight:"600",color:p[s.status]},children:u[s.status]})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Информация о клиенте"}),o.jsxs("div",{style:{display:"grid",gap:"12px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("span",{style:{color:"var(--gray)"},children:"Имя:"}),o.jsx("span",{style:{fontWeight:"600"},children:s.clientName||s.customerName})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("span",{style:{color:"var(--gray)"},children:"Телефон:"}),o.jsx("span",{style:{fontWeight:"600"},children:s.clientPhone||s.customerPhone})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Информация о создании"}),o.jsxs("div",{style:{display:"grid",gap:"12px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("span",{style:{color:"var(--gray)"},children:"Создано:"}),o.jsx("span",{style:{fontWeight:"600"},children:((h=s.createdBy)==null?void 0:h.userName)||"Система"})]}),((g=s.createdBy)==null?void 0:g.userRole)&&o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("span",{style:{color:"var(--gray)"},children:"Роль:"}),o.jsx("span",{style:{fontWeight:"600"},children:s.createdBy.userRole==="superadmin"?"Суперадминистратор":"Администратор"})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("span",{style:{color:"var(--gray)"},children:"Дата создания:"}),o.jsx("span",{style:{fontWeight:"600"},children:new Intl.DateTimeFormat("ru-RU",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(s.createdAt)})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Информация об оплате"}),o.jsxs("div",{style:{display:"grid",gap:"12px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("span",{style:{color:"var(--gray)"},children:"Сумма:"}),o.jsx("span",{style:{fontWeight:"600",fontSize:"18px"},children:c(s.amount)})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("span",{style:{color:"var(--gray)"},children:"Способ оплаты:"}),o.jsx("span",{style:{fontWeight:"600"},children:d[s.paymentMethod]})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("span",{style:{color:"var(--gray)"},children:"Статус оплаты:"}),o.jsx(Qd,{bookingId:s.id,currentStatus:s.paymentStatus||"awaiting_payment",paymentMethod:s.paymentMethod,onStatusUpdate:async()=>{r&&await r()}},`${s.id}-${s.paymentStatus}`)]})]})]}),s.paymentHistory&&s.paymentHistory.length>0&&o.jsx(kA,{history:s.paymentHistory})]})}),o.jsx("div",{className:"modal-footer",children:o.jsx("button",{className:"btn btn-secondary",onClick:n,children:"Закрыть"})})]})})}function _A({venueId:e,onRefresh:t}){const{admin:n}=Ht(),{hasPermission:r}=on(),[s,i]=f.useState([]),[a,l]=f.useState(!0),[c,d]=f.useState("all"),[u,p]=f.useState("all"),[h,g]=f.useState(!1),[v,m]=f.useState(null),[y,x]=f.useState(!1);f.useEffect(()=>{w()},[e]);const w=async()=>{if(!e){console.log("No venueId provided to BookingsList");return}console.log("BookingsList: Fetching bookings for venue:",e);try{l(!0);const S=Ge(Pe(se,"bookings"),Ee("venueId","==",e)),M=await qe(S);console.log("BookingsList: Found bookings:",M.size);const L=M.docs.map(I=>{var R,N;const P=I.data();return console.log("BookingsList: Raw booking:",P),{id:I.id,...P,date:(R=P.date)!=null&&R.toDate?P.date.toDate():new Date(P.date),createdAt:(N=P.createdAt)!=null&&N.toDate?P.createdAt.toDate():new Date}}).sort((I,P)=>new Date(P.date).getTime()-new Date(I.date).getTime());console.log("BookingsList: Processed and sorted bookings:",L),i(L)}catch(S){console.error("Error fetching bookings:",S)}finally{l(!1)}},C=async S=>{if(confirm("Вы уверены, что хотите удалить это бронирование?"))try{await ml(Ne(se,"bookings",S)),w(),t&&t()}catch(M){console.error("Error deleting booking:",M),alert("Ошибка при удалении бронирования")}},k=s.filter(S=>!(c!=="all"&&S.status!==c||u!=="all"&&(S.paymentStatus||"awaiting_payment")!==u)),_=S=>new Intl.DateTimeFormat("ru-RU",{day:"numeric",month:"long",year:"numeric"}).format(S),j=S=>S||"—",E=S=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0}).format(S),T={cash:"Наличные",card_on_site:"Карта на месте",transfer:"Перевод",online:"Онлайн"};return a?o.jsx("div",{children:"Загрузка..."}):o.jsxs("div",{className:"section-card",children:[o.jsxs("div",{className:"section-header",children:[o.jsx("h2",{className:"section-title",children:"Список бронирований"}),o.jsxs("button",{className:"btn btn-secondary btn-icon",onClick:()=>g(!h),children:[o.jsx(UD,{}),"Фильтры"]})]}),h&&o.jsxs("div",{className:"booking-filters-mobile",style:{marginBottom:"24px",padding:"16px",background:"var(--background)",borderRadius:"8px",display:"flex",gap:"16px",flexWrap:"wrap"},children:[o.jsxs("div",{children:[o.jsx("label",{className:"form-label",style:{fontSize:"12px",marginBottom:"4px"},children:"Статус бронирования"}),o.jsxs("select",{className:"form-select",value:c,onChange:S=>d(S.target.value),style:{minWidth:"150px"},children:[o.jsx("option",{value:"all",children:"Все"}),o.jsx("option",{value:"confirmed",children:"Подтверждено"}),o.jsx("option",{value:"pending",children:"Ожидает"}),o.jsx("option",{value:"cancelled",children:"Отменено"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"form-label",style:{fontSize:"12px",marginBottom:"4px"},children:"Статус оплаты"}),o.jsxs("select",{className:"form-select",value:u,onChange:S=>p(S.target.value),style:{minWidth:"150px"},children:[o.jsx("option",{value:"all",children:"Все"}),o.jsx("option",{value:"awaiting_payment",children:"Ожидает оплаты"}),o.jsx("option",{value:"paid",children:"Оплачено"}),o.jsx("option",{value:"online_payment",children:"Онлайн оплата"}),o.jsx("option",{value:"cancelled",children:"Отменено"})]})]})]}),o.jsx("div",{className:"table-wrapper",children:o.jsxs("table",{children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Дата и время"}),o.jsx("th",{children:"Корт"}),o.jsx("th",{children:"Клиент"}),o.jsx("th",{children:"Сумма"}),o.jsx("th",{children:"Способ оплаты"}),o.jsx("th",{children:"Статус оплаты"}),o.jsx("th",{children:"Действия"})]})}),o.jsx("tbody",{children:k.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:7,style:{textAlign:"center",padding:"48px"},children:"Нет бронирований"})}):k.map(S=>o.jsxs("tr",{children:[o.jsxs("td",{children:[o.jsx("div",{children:_(S.date)}),o.jsxs("div",{style:{fontSize:"14px",color:"var(--gray)"},children:[j(S.startTime)," - ",j(S.endTime)]})]}),o.jsx("td",{children:S.courtName}),o.jsxs("td",{children:[o.jsx("div",{children:S.clientName||S.customerName}),o.jsx("div",{style:{fontSize:"14px",color:"var(--gray)"},children:S.clientPhone||S.customerPhone})]}),o.jsx("td",{style:{fontWeight:"600"},children:E(S.amount)}),o.jsx("td",{children:T[S.paymentMethod]||S.paymentMethod}),o.jsx("td",{children:o.jsx(Qd,{bookingId:S.id,currentStatus:S.paymentStatus||"awaiting_payment",paymentMethod:S.paymentMethod,onStatusUpdate:w})}),o.jsx("td",{children:o.jsxs("div",{style:{display:"flex",gap:"8px"},children:[o.jsx("button",{className:"btn btn-secondary btn-icon",onClick:()=>{m(S),x(!0)},title:"Подробности",children:o.jsx(um,{})}),r(["manage_bookings","manage_all_bookings"])&&o.jsx("button",{className:"btn btn-danger btn-icon",onClick:()=>C(S.id),title:"Удалить бронирование",children:o.jsx(xs,{})})]})})]},S.id))})]})}),o.jsx("div",{className:"bookings-mobile-cards",children:k.length===0?o.jsx("div",{style:{textAlign:"center",padding:"48px",color:"var(--gray)"},children:"Нет бронирований"}):k.map(S=>o.jsxs("div",{className:"booking-card-mobile",children:[o.jsxs("div",{className:"booking-card-header",children:[o.jsx("div",{className:"booking-card-court",children:S.courtName}),o.jsx("div",{className:"booking-card-amount",children:E(S.amount)})]}),o.jsxs("div",{className:"booking-card-client",children:[o.jsx("div",{className:"booking-card-client-name",children:S.clientName||S.customerName}),o.jsx("div",{className:"booking-card-client-phone",children:S.clientPhone||S.customerPhone})]}),o.jsxs("div",{className:"booking-card-info",children:[o.jsxs("div",{className:"booking-card-row",children:[o.jsx("span",{className:"booking-card-label",children:"Дата:"}),o.jsx("span",{className:"booking-card-value",children:_(S.date)})]}),o.jsxs("div",{className:"booking-card-row",children:[o.jsx("span",{className:"booking-card-label",children:"Время:"}),o.jsxs("span",{className:"booking-card-value",children:[j(S.startTime)," - ",j(S.endTime)]})]}),o.jsxs("div",{className:"booking-card-row",children:[o.jsx("span",{className:"booking-card-label",children:"Способ оплаты:"}),o.jsx("span",{className:"booking-card-value",children:T[S.paymentMethod]||S.paymentMethod})]})]}),o.jsxs("div",{className:"booking-card-footer",children:[o.jsx(Qd,{bookingId:S.id,currentStatus:S.paymentStatus||"awaiting_payment",paymentMethod:S.paymentMethod,onStatusUpdate:w}),o.jsxs("div",{className:"booking-card-actions",children:[o.jsx("button",{className:"btn btn-secondary btn-icon",onClick:()=>{m(S),x(!0)},title:"Подробности",children:o.jsx(um,{})}),r(["manage_bookings","manage_all_bookings"])&&o.jsx("button",{className:"btn btn-danger btn-icon",onClick:()=>C(S.id),title:"Удалить",children:o.jsx(xs,{})})]})]})]},S.id))}),o.jsx(xx,{booking:v,isOpen:y,onClose:()=>{x(!1),m(null)},onUpdate:w})]})}function JL(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function TA(e){const t=e.replace(/\D/g,"");return t.length===11&&(t.startsWith("7")||t.startsWith("8"))}function ym(e){const t=e.replace(/\D/g,"");if(t.length===11){if(t.startsWith("8"))return"+7"+t.substring(1);if(t.startsWith("7"))return"+"+t}return t.length===10?"+7"+t:e}function EA(e){return e.trim().length>=2&&e.trim().length<=100}function MA(e){const t=new Date;t.setHours(0,0,0,0);const n=new Date(e);return n.setHours(0,0,0,0),n>=t}function PA(e,t,n=60){const r=/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/;if(!r.test(e)||!r.test(t))return!1;const[s,i]=e.split(":").map(Number),[a,l]=t.split(":").map(Number),c=s*60+i,d=a*60+l;return d<=c?!1:d-c>=n}function xm(e){return e.replace(/[<>]/g,"").replace(/javascript:/gi,"").trim()}function NA({isOpen:e,onClose:t,onSuccess:n,venueId:r,preSelectedDate:s,preSelectedTime:i}){const{admin:a}=Ht(),[l,c]=f.useState([]),[d,u]=f.useState(!1),[p,h]=f.useState(""),[g,v]=f.useState(30),[m,y]=f.useState({clientName:"",clientPhone:"",courtId:"",date:s?s.toISOString().split("T")[0]:new Date().toISOString().split("T")[0],startTime:i||"10:00",duration:1,paymentMethod:"cash"}),[x,w]=f.useState([]),[C,k]=f.useState([]),[_,j]=f.useState(null),E=(I,P)=>{const[R,N]=I.split(":").map(Number),O=R+N/60,z=O+P;return C.some($=>{const[A,U]=$.startTime.split(":").map(Number),[Y,G]=$.endTime.split(":").map(Number),J=A+U/60,ae=Y+G/60;return O<ae&&z>J})},T=I=>{const P=[],O=23-I,z=g===60?1:.5;for(let $=7;$<=O;$+=z){const A=Math.floor($),U=$%1*60,Y=`${String(A).padStart(2,"0")}:${String(U).padStart(2,"0")}`;$+I<=23&&P.push(Y)}return P};f.useEffect(()=>{if(e&&r){S();const I=Pe(se,"venues",r,"courts"),P=yr(I,N=>{const O=N.docs.map(z=>({id:z.id,...z.data()}));c(O),m.courtId&&!O.find(z=>z.id===m.courtId)&&y(z=>({...z,courtId:""}))},N=>{console.error("Error listening to courts:",N)});s&&y(N=>({...N,date:s.toISOString().split("T")[0]})),i&&y(N=>({...N,startTime:i}));const R=T(m.duration);return w(R),()=>{P()}}},[e,r,s,i,g]),f.useEffect(()=>{const I=T(m.duration);w(I),!I.includes(m.startTime)&&I.length>0&&y(P=>({...P,startTime:I[0]}))},[m.duration,g]),f.useEffect(()=>{if(m.courtId&&m.date&&e){_&&(_(),j(null)),M();const I=Pe(se,"bookings"),P=Ge(I,Ee("courtId","==",m.courtId),Ee("date","==",m.date),Ee("status","in",["confirmed","pending"])),R=new Date(m.date);R.setHours(0,0,0,0);const N=new Date(m.date);N.setHours(23,59,59,999);const O=Ge(I,Ee("courtId","==",m.courtId),Ee("date",">=",$r.fromDate(R)),Ee("date","<=",$r.fromDate(N)),Ee("status","in",["confirmed","pending"])),z=new Map,$=yr(P,Y=>{Y.docs.forEach(G=>{z.set(G.id,{id:G.id,...G.data()})}),k(Array.from(z.values()))}),A=yr(O,Y=>{Y.docs.forEach(G=>{z.set(G.id,{id:G.id,...G.data()})}),k(Array.from(z.values()))}),U=()=>{$(),A()};j(()=>U)}return()=>{_&&(_(),j(null))}},[m.courtId,m.date,e]);const S=async()=>{if(r)try{const I=await Ct(Ne(se,"venues",r));if(I.exists()){const O=I.data();h(O.name||""),v(O.bookingSlotInterval||30)}const P=Pe(se,"venues",r,"courts"),N=(await qe(P)).docs.map(O=>({id:O.id,...O.data()}));c(N),N.length>0&&!m.courtId&&y(O=>({...O,courtId:N[0].id}))}catch(I){console.error("Error fetching courts:",I)}},M=async()=>{if(!(!r||!m.courtId||!m.date))try{const I=Pe(se,"bookings");let P=Ge(I,Ee("courtId","==",m.courtId),Ee("date","==",m.date),Ee("status","in",["confirmed","pending"])),R=await qe(P);if(R.empty){const O=new Date(m.date);O.setHours(0,0,0,0);const z=new Date(m.date);z.setHours(23,59,59,999),P=Ge(I,Ee("courtId","==",m.courtId),Ee("date",">=",$r.fromDate(O)),Ee("date","<=",$r.fromDate(z)),Ee("status","in",["confirmed","pending"])),R=await qe(P)}const N=R.docs.map(O=>({id:O.id,...O.data()}));k(N)}catch(I){console.error("Error fetching bookings:",I)}},D=I=>{const{name:P,value:R}=I.target;y(N=>({...N,[P]:P==="duration"?parseFloat(R):R}))},L=async I=>{if(I.preventDefault(),!r||!a)return;if(!EA(m.clientName)){alert("Имя должно быть от 2 до 100 символов");return}if(!TA(m.clientPhone)){alert("Некорректный номер телефона");return}const P=new Date;if(P.setFullYear(parseInt(m.date.split("-")[0]),parseInt(m.date.split("-")[1])-1,parseInt(m.date.split("-")[2])),!MA(P)){alert("Нельзя забронировать на прошедшую дату");return}const[R,N]=m.startTime.split(":").map(Number),O=R*60+N+m.duration,z=`${Math.floor(O/60).toString().padStart(2,"0")}:${(O%60).toString().padStart(2,"0")}`;if(!PA(m.startTime,z,m.duration)){alert("Некорректное время бронирования");return}u(!0);try{const $=l.find(F=>F.id===m.courtId);if(!$)return;const[A,U]=m.startTime.split(":").map(Number),Y=A+Math.floor(m.duration),G=U+m.duration%1*60,J=`${String(Y+Math.floor(G/60)).padStart(2,"0")}:${String(G%60).padStart(2,"0")}`,ae=m.paymentMethod==="online"?"online_payment":"awaiting_payment",H=new Date(m.date),[le]=m.startTime.split(":").map(Number),ee=H.getDay(),ie=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][ee];let K=0;if($.pricing&&$.pricing[ie]){const F=$.pricing[ie];if(K=F.basePrice,F.intervals&&F.intervals.length>0)for(const q of F.intervals){const[ne]=q.from.split(":").map(Number),[pe]=q.to.split(":").map(Number);if(le>=ne&&le<pe){K=q.price;break}}}else{const F=ee===0||ee===6;K=$.pricePerHour||(F?$.priceWeekend:$.priceWeekday)||1900}const W={venueId:r,courtId:m.courtId,courtName:$.name,venueName:p,clientName:xm(m.clientName),clientPhone:ym(m.clientPhone),customerName:xm(m.clientName),customerPhone:ym(m.clientPhone),date:m.date,time:m.startTime,startTime:m.startTime,endTime:J,duration:m.duration*60,gameType:"single",status:"confirmed",amount:m.duration*K,price:K,paymentMethod:m.paymentMethod,paymentStatus:ae,source:"admin",paymentHistory:[{timestamp:$r.now(),action:"created",userId:a.uid||"",userName:a.displayName||a.email||"Администратор"}],createdBy:{userId:a.uid||"",userName:a.displayName||a.email||"Администратор",userRole:a.role||"admin"},createdAt:$r.now()};await gr(Pe(se,"bookings"),W),y({clientName:"",clientPhone:"",courtId:l.length>0?l[0].id:"",date:new Date().toISOString().split("T")[0],startTime:"10:00",duration:1,paymentMethod:"cash"}),n(),t()}catch($){console.error("Error creating booking:",$),alert("Ошибка при создании бронирования: "+$.message)}finally{u(!1)}};return e?o.jsx("div",{className:"modal active",children:o.jsxs("div",{className:"modal-content",style:{maxWidth:"600px"},children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h2",{className:"modal-title",children:"Создать бронирование"}),o.jsx("button",{className:"modal-close",onClick:t,children:o.jsx(gp,{})})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("form",{onSubmit:L,children:[o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Имя клиента"}),o.jsx("input",{type:"text",className:"form-input",name:"clientName",value:m.clientName,onChange:D,placeholder:"Введите имя",required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Телефон"}),o.jsx("input",{type:"tel",className:"form-input",name:"clientPhone",value:m.clientPhone,onChange:D,placeholder:"+7 (___) ___-__-__",required:!0})]})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginTop:"20px"},children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Корт"}),o.jsxs("select",{className:"form-select",name:"courtId",value:m.courtId,onChange:D,required:!0,children:[o.jsx("option",{value:"",children:"Выберите корт"}),l.map(I=>{const P=new Date(m.date),R=P.getDay()===0||P.getDay()===6,N=I.pricePerHour||(R?I.priceWeekend:I.priceWeekday)||0;return o.jsxs("option",{value:I.id,children:[I.name," - ",N," ₽/час"]},I.id)})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Дата"}),o.jsx("input",{type:"date",className:"form-input",name:"date",value:m.date,onChange:D,required:!0})]})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginTop:"20px"},children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Длительность"}),o.jsxs("select",{className:"form-select",name:"duration",value:m.duration,onChange:D,children:[o.jsx("option",{value:"0.5",children:"30 минут"}),o.jsx("option",{value:"1",children:"1 час"}),o.jsx("option",{value:"1.5",children:"1.5 часа"}),o.jsx("option",{value:"2",children:"2 часа"}),o.jsx("option",{value:"2.5",children:"2.5 часа"}),o.jsx("option",{value:"3",children:"3 часа"})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:"Время начала"}),o.jsxs("select",{className:"form-select",name:"startTime",value:m.startTime,onChange:D,required:!0,children:[o.jsx("option",{value:"",children:"Выберите время"}),x.map(I=>{const P=E(I,m.duration),[R,N]=I.split(":").map(Number),O=R+Math.floor(m.duration),z=N+m.duration%1*60,$=O+Math.floor(z/60),A=z%60,U=`${String($).padStart(2,"0")}:${String(A).padStart(2,"0")}`;return o.jsxs("option",{value:I,disabled:P,children:[I," - ",U," ",P?"(Занято)":""]},I)})]})]})]}),o.jsxs("div",{className:"form-group",style:{marginTop:"20px"},children:[o.jsx("label",{className:"form-label",children:"Способ оплаты"}),o.jsxs("select",{className:"form-select",name:"paymentMethod",value:m.paymentMethod,onChange:D,children:[o.jsx("option",{value:"cash",children:"Оплата в клубе наличными"}),o.jsx("option",{value:"card_on_site",children:"Оплата в клубе картой"}),o.jsx("option",{value:"transfer",children:"Перевод на счет клуба"}),o.jsx("option",{value:"online",children:"Онлайн оплата"})]})]}),m.courtId&&m.duration&&m.startTime&&o.jsx("div",{style:{background:"var(--background)",padding:"20px",borderRadius:"8px",marginTop:"24px"},children:(()=>{const I=l.find(z=>z.id===m.courtId);if(!I)return null;const P=new Date(m.date),R=P.getDay()===0||P.getDay()===6,N=I.pricePerHour||(R?I.priceWeekend:I.priceWeekday)||0,O=N*m.duration;return o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("span",{style:{color:"var(--gray)"},children:"Стоимость за час:"}),o.jsxs("span",{style:{fontWeight:"500"},children:[N.toLocaleString("ru-RU")," ₽"]})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingTop:"12px",borderTop:"1px solid var(--extra-light-gray)",marginTop:"4px"},children:[o.jsx("span",{style:{fontWeight:"600",fontSize:"18px"},children:"Итого:"}),o.jsxs("span",{style:{fontWeight:"700",fontSize:"20px",color:"var(--primary)"},children:[O.toLocaleString("ru-RU")," ₽"]})]}),o.jsxs("div",{style:{fontSize:"14px",color:"var(--gray)",marginTop:"8px"},children:["Способ оплаты: ",m.paymentMethod==="cash"?"Оплата в клубе наличными":m.paymentMethod==="card_on_site"?"Оплата в клубе картой":m.paymentMethod==="transfer"?"Перевод на счет клуба":"Онлайн оплата"]})]})})()}),o.jsxs("div",{className:"modal-footer",style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid var(--extra-light-gray)"},children:[o.jsx("button",{type:"button",className:"btn btn-secondary",onClick:t,children:"Отмена"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Создание...":"Создать бронирование"})]})]})})]})}):null}function IA(){const{admin:e}=Ht(),{isSuperAdmin:t,hasPermission:n}=on(),[r,s]=f.useState(null),[i,a]=f.useState([]),[l,c]=f.useState([]),[d,u]=f.useState([]),[p,h]=f.useState(!0),[g,v]=f.useState(new Date),[m,y]=f.useState({clientName:"",clientPhone:"",courtId:"",date:new Date().toISOString().split("T")[0],startTime:"10:00",duration:1.5,paymentMethod:"cash"}),[x,w]=f.useState([]),[C,k]=f.useState([]),[_,j]=f.useState(null),[E,T]=f.useState(!1),[S,M]=f.useState(!1),[D,L]=f.useState(null),[I,P]=f.useState(null),[R,N]=f.useState(null);f.useEffect(()=>{if(t){z();const W=localStorage.getItem("selectedVenueId");W?(s(W),A(W),U(W)):h(!1)}else e!=null&&e.venueId?(O(e.venueId),A(e.venueId),U(e.venueId)):h(!1)},[e,g,t]),f.useEffect(()=>{const W=H(m.duration);w(W),!W.includes(m.startTime)&&W.length>0&&y(F=>({...F,startTime:W[0]}))},[m.duration,m.date,i,r,e==null?void 0:e.venueId]),f.useEffect(()=>{m.courtId&&m.date&&Y()},[m.courtId,m.date]);const O=async W=>{try{const F=await Ct(Ne(se,"venues",W));if(F.exists()){const q={id:F.id,...F.data()};a([q])}}catch(F){console.error("Error fetching venue data:",F)}},z=async()=>{try{const F=(await qe(Pe(se,"venues"))).docs.map(q=>({id:q.id,...q.data()}));a(F)}catch(W){console.error("Error fetching venues:",W)}},$=W=>{s(W),localStorage.setItem("selectedVenueId",W),A(W),U(W)},A=async W=>{if(W)try{const F=Pe(se,"venues",W,"courts"),ne=(await qe(F)).docs.map(pe=>({id:pe.id,...pe.data()}));u(ne)}catch(F){console.error("Error fetching courts:",F)}},U=async W=>{if(W)try{h(!0);const F=new Date(g);F.setDate(g.getDate()-g.getDay()+1),F.setHours(0,0,0,0);const q=new Date(F);q.setDate(F.getDate()+6),q.setHours(23,59,59,999),console.log("Fetching bookings for venue:",W),console.log("Date range:",F,"to",q);const ne=Ge(Pe(se,"bookings"),Ee("venueId","==",W)),pe=await qe(ne);console.log("Found bookings:",pe.size);const Te=pe.docs.map(xe=>{var Re,Me;const ve=xe.data();return console.log("Raw booking data:",ve),{id:xe.id,...ve,date:(Re=ve.date)!=null&&Re.toDate?ve.date.toDate():new Date(ve.date),createdAt:(Me=ve.createdAt)!=null&&Me.toDate?ve.createdAt.toDate():new Date(ve.createdAt||Date.now())}});console.log("All bookings data:",Te);const ce=Te.filter(xe=>{const ve=new Date(xe.date),Re=ve>=F&&ve<=q;return console.log("Booking date:",ve,"In range:",Re,"Venue match:",xe.venueId===W),Re&&xe.venueId===W}).sort((xe,ve)=>new Date(ve.date).getTime()-new Date(xe.date).getTime());console.log("Filtered and sorted bookings:",ce),c(ce)}catch(F){console.error("Error fetching bookings:",F)}finally{h(!1)}},Y=async()=>{if(!(!r&&!(e!=null&&e.venueId))&&!(!m.courtId||!m.date))try{const W=Pe(se,"bookings"),F=Ge(W,Ee("venueId","==",r||(e==null?void 0:e.venueId)),Ee("courtId","==",m.courtId),Ee("date","==",$r.fromDate(new Date(m.date)))),ne=(await qe(F)).docs.map(pe=>({id:pe.id,...pe.data()}));k(ne)}catch(W){console.error("Error fetching bookings:",W)}},G=W=>{const F=new Date(g);F.setDate(g.getDate()+W*7),v(F)},J=()=>{const W=[],F=new Date(g);F.setDate(g.getDate()-g.getDay()+1);for(let q=0;q<7;q++){const ne=new Date(F);ne.setDate(F.getDate()+q),W.push(ne)}return W},ae=(W,F,q)=>l.filter(ne=>{const pe=new Date(ne.date),Te=ne.startTime||ne.time;return pe.toDateString()===W.toDateString()&&Te===F&&ne.courtId===q}),H=W=>{var Re;const F=i.find(Me=>Me.id===(r||(e==null?void 0:e.venueId))),q=m.date?new Date(m.date).getDay()===0||new Date(m.date).getDay()===6:!1,ne=((Re=F==null?void 0:F.workingHours)==null?void 0:Re[q?"weekend":"weekday"])||(q?"08:00-22:00":"07:00-23:00"),[pe,Te]=ne.split("-"),[oe]=pe.split(":").map(Number),[ce]=Te.split(":").map(Number),xe=[],ve=ce-W;for(let Me=oe;Me<=ve;Me+=.5){const Ie=Math.floor(Me),wt=Me%1*60,Dt=`${String(Ie).padStart(2,"0")}:${String(wt).padStart(2,"0")}`;Me+W<=ce&&xe.push(Dt)}return xe},le=()=>{var oe;const W=[],F=i.find(ce=>ce.id===(r||(e==null?void 0:e.venueId))),q=m.date?new Date(m.date).getDay()===0||new Date(m.date).getDay()===6:!1,ne=((oe=F==null?void 0:F.workingHours)==null?void 0:oe[q?"weekend":"weekday"])||(q?"08:00-22:00":"07:00-23:00");let pe=7,Te=23;if(ne.includes("-")){const[ce,xe]=ne.split("-").map(ve=>ve.trim());ce&&xe&&(pe=parseInt(ce.split(":")[0]),Te=parseInt(xe.split(":")[0]))}for(let ce=pe;ce<Te;ce++)W.push(`${ce.toString().padStart(2,"0")}:00`);return W},ee=f.useMemo(()=>le(),[i,r,e==null?void 0:e.venueId,m.date]),X=J(),ie=["Пн","Вт","Ср","Чт","Пт","Сб","Вс"],K=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"];return p?o.jsx("div",{children:"Загрузка..."}):n(["manage_bookings","manage_all_bookings","view_bookings"])?t&&!r?o.jsx("div",{children:o.jsxs("div",{className:"section-card",children:[o.jsx("div",{className:"section-header",children:o.jsx("h2",{className:"section-title",children:"Выберите клуб"})}),o.jsxs("div",{className:"form-group",style:{maxWidth:"400px"},children:[o.jsx("label",{className:"form-label",children:"Клуб"}),o.jsxs("select",{className:"form-select",value:r||"",onChange:W=>$(W.target.value),children:[o.jsx("option",{value:"",children:"Выберите клуб для управления"}),i.map(W=>o.jsx("option",{value:W.id,children:W.name},W.id))]}),o.jsx("p",{className:"form-hint",children:"Выберите клуб для просмотра календаря и создания бронирований"})]})]})}):(n(["manage_bookings","manage_all_bookings","create_bookings"]),o.jsx(Io,{permission:["manage_bookings","manage_all_bookings","view_bookings"],children:o.jsxs("div",{children:[t&&o.jsx("div",{className:"section-card",style:{marginBottom:"24px"},children:o.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[o.jsx("label",{className:"form-label",children:"Управление клубом"}),o.jsxs("select",{className:"form-select",value:r||"",onChange:W=>$(W.target.value),style:{maxWidth:"400px"},children:[o.jsx("option",{value:"",children:"Выберите клуб"}),i.map(W=>o.jsx("option",{value:W.id,children:W.name},W.id))]})]})}),o.jsxs("div",{className:"section-card",children:[o.jsxs("div",{className:"calendar-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[o.jsx("h2",{className:"section-title",children:"Календарь бронирований"}),o.jsxs("div",{className:"calendar-nav",style:{display:"flex",alignItems:"center",gap:"16px"},children:[o.jsx("button",{onClick:()=>G(-1),style:{width:"32px",height:"32px",border:"1px solid var(--extra-light-gray)",background:"var(--white)",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx(LD,{})}),o.jsxs("span",{style:{fontWeight:"600",minWidth:"150px",textAlign:"center"},children:[K[g.getMonth()]," ",g.getFullYear()]}),o.jsx("button",{onClick:()=>G(1),style:{width:"32px",height:"32px",border:"1px solid var(--extra-light-gray)",background:"var(--white)",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx(FD,{})}),o.jsx("button",{onClick:()=>v(new Date),style:{padding:"6px 12px",border:"1px solid var(--extra-light-gray)",background:"var(--white)",borderRadius:"6px",cursor:"pointer",fontSize:"14px",marginLeft:"16px"},children:"Сегодня"})]})]}),o.jsxs("div",{className:"calendar-grid",style:{display:"grid",gridTemplateColumns:"60px repeat(7, 1fr)",gap:"1px",background:"var(--extra-light-gray)",border:"1px solid var(--extra-light-gray)",borderRadius:"8px",overflow:"hidden"},children:[o.jsx("div",{style:{background:"var(--white)",padding:"12px"}}),X.map((W,F)=>o.jsxs("div",{className:"day-header",style:{fontWeight:"600",textAlign:"center",background:"var(--background)",padding:"12px"},children:[ie[F]," ",W.getDate()]},F)),ee.map(W=>o.jsxs(Fe.Fragment,{children:[o.jsx("div",{className:"time-slot",style:{fontSize:"12px",color:"var(--gray)",textAlign:"center",padding:"8px",background:"var(--white)"},children:W}),X.map((F,q)=>{const ne=d.flatMap(oe=>ae(F,W,oe.id)),pe=D&&I&&F.toDateString()===D.toDateString()&&W===I,Te=R&&F.toDateString()===R.date.toDateString()&&W===R.time;return o.jsxs("div",{className:"booking-slot",style:{position:"relative",cursor:"pointer",minHeight:"60px",background:ne.length>0?(()=>{const oe=ne[0],ce=d.find(Ie=>Ie.id===oe.courtId),xe=(ce==null?void 0:ce.color)||"#00A86B",ve=parseInt(xe.slice(1,3),16),Re=parseInt(xe.slice(3,5),16),Me=parseInt(xe.slice(5,7),16);return`rgba(${ve}, ${Re}, ${Me}, 0.15)`})():pe?"rgba(0, 168, 107, 0.2)":Te?"rgba(0, 168, 107, 0.05)":"var(--white)",padding:"8px",overflow:"hidden",border:pe?"2px solid var(--primary)":"2px solid transparent",transition:"all 0.2s ease"},onMouseEnter:()=>{ne.length===0&&N({date:F,time:W})},onMouseLeave:()=>{N(null)},onClick:()=>{ne.length>0?(j(ne[0]),T(!0)):(L(F),P(W),M(!0))},children:[ne.length===0&&(Te||pe)&&o.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"12px",color:"var(--primary)",fontWeight:"600",textAlign:"center"},children:W}),ne.map((oe,ce)=>{const xe=oe.paymentStatus||"awaiting_payment",ve={awaiting_payment:"#F59E0B",paid:"#10B981",online_payment:"#3B82F6",cancelled:"#EF4444"},Re={awaiting_payment:"Ожидает",paid:"Оплачено",online_payment:"Онлайн",cancelled:"Отменено"};return o.jsxs("div",{style:{fontSize:"11px",marginBottom:"4px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[o.jsxs("div",{style:{fontWeight:"600",color:"var(--dark)",display:"flex",alignItems:"center",gap:"4px"},children:[(()=>{const Me=d.find(Ie=>Ie.id===oe.courtId);return Me!=null&&Me.color?o.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"2px",backgroundColor:Me.color,flexShrink:0}}):null})(),oe.courtName]}),o.jsxs("div",{className:"booking-slot-details",style:{color:"var(--gray)",fontSize:"10px"},children:[oe.clientName||oe.customerName,(oe.clientPhone||oe.customerPhone)&&o.jsx("span",{style:{fontSize:"9px",marginLeft:"4px"},children:oe.clientPhone||oe.customerPhone})]}),o.jsx("div",{className:"booking-slot-status",style:{fontSize:"9px",marginTop:"2px",color:ve[xe],fontWeight:"500"},children:Re[xe]})]},ce)})]},`${W}-${q}`)})]},W))]})]}),o.jsx(_A,{venueId:r||(e==null?void 0:e.venueId)||"",onRefresh:()=>U(r||(e==null?void 0:e.venueId)||"")}),o.jsx(xx,{booking:_,isOpen:E,onClose:()=>{T(!1),j(null)},onUpdate:()=>U(r||(e==null?void 0:e.venueId)||"")}),o.jsx(NA,{isOpen:S,onClose:()=>{M(!1),L(null),P(null)},onSuccess:()=>{U(r||(e==null?void 0:e.venueId)||"")},venueId:r||(e==null?void 0:e.venueId)||"",preSelectedDate:D||void 0,preSelectedTime:I||void 0})]})})):o.jsxs(lt,{severity:"error",children:[o.jsx(ki,{children:"Доступ запрещен"}),"У вас недостаточно прав для просмотра бронирований."]})}function RA(){const{admin:e}=Ht(),{isSuperAdmin:t}=on(),[n,r]=f.useState(null),[s,i]=f.useState([]),[a,l]=f.useState(!0),[c,d]=f.useState("");f.useEffect(()=>{if(t){const x=localStorage.getItem("selectedVenueId");x?(r(x),p(x)):l(!1)}else e!=null&&e.venueId&&p(e.venueId)},[e,t]);const u=x=>{r(x),localStorage.setItem("selectedVenueId",x),x&&p(x)},p=async x=>{const w=x||(e==null?void 0:e.venueId);if(w)try{l(!0);const C=Ge(Pe(se,"bookings"),Ee("venueId","==",w),Jm("createdAt","desc"),ja(100)),k=await qe(C),_=new Map;k.docs.forEach(j=>{var S,M,D;const E=j.data(),T=E.clientPhone;if(_.has(T)){const L=_.get(T);L.bookingsCount++,L.totalSpent+=E.amount||0,((S=E.date)==null?void 0:S.toDate())>L.lastVisit&&(L.lastVisit=E.date.toDate())}else _.set(T,{id:T,name:E.clientName,phone:E.clientPhone,bookingsCount:1,lastVisit:(M=E.date)==null?void 0:M.toDate(),totalSpent:E.amount||0,hasApp:E.paymentMethod==="app",venueId:e.venueId,createdAt:((D=E.createdAt)==null?void 0:D.toDate())||new Date})}),i(Array.from(_.values()))}catch(C){console.error("Error fetching customers:",C)}finally{l(!1)}},h=s.filter(x=>x.name.toLowerCase().includes(c.toLowerCase())||x.phone.includes(c)),g=x=>x.split(" ").map(w=>w[0]).join("").toUpperCase().slice(0,2),v=x=>{const w=["var(--primary)","var(--padel)","var(--badminton)","var(--tennis)"],C=x.charCodeAt(0)%w.length;return w[C]},m=x=>{if(!x)return"Нет данных";const C=Math.abs(new Date().getTime()-x.getTime()),k=Math.ceil(C/(1e3*60*60*24));return k===0?"Сегодня":k===1?"Вчера":k<7?`${k} дней назад`:k<30?`${Math.floor(k/7)} недель назад`:x.toLocaleDateString("ru-RU")},y=()=>{const x=[["Имя","Телефон","Количество бронирований","Потрачено","Последний визит"].join(","),...h.map(k=>{var _;return[k.name,k.phone,k.bookingsCount,k.totalSpent,((_=k.lastVisit)==null?void 0:_.toLocaleDateString("ru-RU"))||""].join(",")})].join(`
`),w=new Blob([x],{type:"text/csv;charset=utf-8;"}),C=document.createElement("a");C.href=URL.createObjectURL(w),C.download=`customers_${new Date().toISOString().split("T")[0]}.csv`,C.click()};return a?o.jsx("div",{children:"Загрузка..."}):t&&!n?o.jsx(Do,{title:"Выберите клуб для просмотра клиентов"}):o.jsxs("div",{children:[t&&o.jsx(Ro,{selectedVenueId:n,onVenueChange:u}),o.jsxs("div",{className:"section-card",children:[o.jsxs("div",{className:"section-header",children:[o.jsx("h2",{className:"section-title",children:"База клиентов"}),o.jsxs("div",{style:{display:"flex",gap:"12px"},children:[o.jsx("input",{type:"search",className:"form-input",placeholder:"Поиск по имени или телефону",style:{width:"300px"},value:c,onChange:x=>d(x.target.value)}),o.jsxs("button",{className:"btn btn-secondary",onClick:y,children:[o.jsx(HD,{fontSize:"small"}),"Экспорт"]})]})]}),o.jsx("div",{className:"table-wrapper",children:o.jsxs("table",{children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Клиент"}),o.jsx("th",{children:"Телефон"}),o.jsx("th",{children:"Бронирований"}),o.jsx("th",{children:"Потрачено"}),o.jsx("th",{children:"Последний визит"}),o.jsx("th",{children:"Статус в приложении"}),o.jsx("th",{children:"Действия"})]})}),o.jsx("tbody",{children:h.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:7,style:{textAlign:"center",padding:"48px",color:"var(--gray)"},children:"Клиенты не найдены"})}):h.map(x=>o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("div",{className:"customer-info",style:{display:"flex",alignItems:"center",gap:"12px"},children:[o.jsx("div",{className:"customer-avatar",style:{width:"40px",height:"40px",borderRadius:"50%",background:v(x.name),color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"600",fontSize:"16px"},children:g(x.name)}),o.jsx("div",{children:o.jsx("div",{className:"customer-name",style:{fontWeight:"600",color:"var(--dark)"},children:x.name})})]})}),o.jsx("td",{children:x.phone}),o.jsx("td",{children:x.bookingsCount}),o.jsxs("td",{children:[x.totalSpent.toLocaleString("ru-RU"),"₽"]}),o.jsx("td",{children:m(x.lastVisit)}),o.jsx("td",{children:x.hasApp?o.jsx("span",{style:{color:"var(--success)"},children:"✅ Установлено"}):o.jsx("span",{style:{color:"var(--warning)"},children:"📱 Не установлено"})}),o.jsx("td",{children:x.hasApp?o.jsx("button",{className:"btn btn-secondary",children:"Детали"}):o.jsxs("button",{className:"btn btn-secondary",children:[o.jsx(Hd,{fontSize:"small"}),"Отправить SMS"]})})]},x.id))})]})})]}),o.jsxs("div",{className:"section-card",children:[o.jsx("h2",{className:"section-title",children:"Статистика по клиентам"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"24px"},children:[o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("div",{style:{fontSize:"32px",fontWeight:"700",color:"var(--primary)"},children:s.length}),o.jsx("div",{style:{color:"var(--gray)",fontSize:"14px"},children:"Всего клиентов"})]}),o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("div",{style:{fontSize:"32px",fontWeight:"700",color:"var(--primary)"},children:s.filter(x=>x.hasApp).length}),o.jsx("div",{style:{color:"var(--gray)",fontSize:"14px"},children:"С приложением"})]}),o.jsxs("div",{style:{textAlign:"center"},children:[o.jsxs("div",{style:{fontSize:"32px",fontWeight:"700",color:"var(--primary)"},children:[Math.round(s.filter(x=>x.hasApp).length/s.length*100),"%"]}),o.jsx("div",{style:{color:"var(--gray)",fontSize:"14px"},children:"Конверсия в приложение"})]}),o.jsxs("div",{style:{textAlign:"center"},children:[o.jsxs("div",{style:{fontSize:"32px",fontWeight:"700",color:"var(--primary)"},children:[s.reduce((x,w)=>x+w.totalSpent,0).toLocaleString("ru-RU"),"₽"]}),o.jsx("div",{style:{color:"var(--gray)",fontSize:"14px"},children:"Общий доход"})]})]})]})]})}function DA(){const e=jn();return o.jsxs(pi,{maxWidth:"lg",sx:{py:8},children:[o.jsxs(te,{textAlign:"center",mb:6,children:[o.jsx(B,{variant:"h2",component:"h1",gutterBottom:!0,children:"Sports Booking"}),o.jsx(B,{variant:"h5",color:"text.secondary",gutterBottom:!0,children:"Система бронирования спортивных кортов"}),o.jsx(B,{variant:"body1",color:"text.secondary",sx:{maxWidth:600,mx:"auto"},children:"Мобильное приложение для клиентов и веб-панель управления для клубов"})]}),o.jsxs(Ae,{container:!0,spacing:4,mb:6,children:[o.jsx(Ae,{item:!0,xs:12,md:6,children:o.jsx(ot,{children:o.jsxs(it,{sx:{p:4,textAlign:"center"},children:[o.jsx(XD,{sx:{fontSize:60,color:"primary.main",mb:2}}),o.jsx(B,{variant:"h5",gutterBottom:!0,children:"Для клиентов"}),o.jsx(B,{variant:"body1",color:"text.secondary",mb:3,children:"Скачайте мобильное приложение для бронирования кортов, поиска партнеров и оплаты"}),o.jsxs(te,{display:"flex",gap:2,justifyContent:"center",flexWrap:"wrap",children:[o.jsx(ke,{variant:"outlined",disabled:!0,children:"App Store"}),o.jsx(ke,{variant:"outlined",disabled:!0,children:"Google Play"})]})]})})}),o.jsx(Ae,{item:!0,xs:12,md:6,children:o.jsx(ot,{children:o.jsxs(it,{sx:{p:4,textAlign:"center"},children:[o.jsx(aA,{sx:{fontSize:60,color:"primary.main",mb:2}}),o.jsx(B,{variant:"h5",gutterBottom:!0,children:"Для клубов"}),o.jsx(B,{variant:"body1",color:"text.secondary",mb:3,children:"Веб-панель управления для администраторов спортивных клубов"}),o.jsx(ke,{variant:"contained",size:"large",onClick:()=>e("/admin/login"),children:"Войти в админ-панель"})]})})})]}),o.jsxs(sn,{sx:{p:4,textAlign:"center"},children:[o.jsx(yp,{sx:{fontSize:80,color:"primary.main",mb:2}}),o.jsx(B,{variant:"h5",gutterBottom:!0,children:"QR-код для клиентов"}),o.jsx(B,{variant:"body1",color:"text.secondary",mb:3,children:"Разместите этот QR-код в вашем клубе, чтобы клиенты могли скачать приложение"}),o.jsx(te,{sx:{maxWidth:200,height:200,mx:"auto",bgcolor:"grey.100",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:2},children:o.jsx(B,{color:"text.secondary",children:"QR-код приложения"})})]})]})}function AA({email:e,size:t="small"}){const[n,r]=f.useState(!1),[s,i]=f.useState(null),a=async()=>{r(!0);try{await Db(en,e),i({type:"success",text:`Ссылка для сброса пароля отправлена на ${e}`})}catch(l){console.error("Error sending password reset email:",l),i({type:"error",text:"Ошибка при отправке письма. Попробуйте позже."})}finally{r(!1)}};return o.jsxs(o.Fragment,{children:[o.jsx(ke,{variant:"outlined",size:t,startIcon:n?o.jsx(pn,{size:16}):o.jsx(qD,{}),onClick:a,disabled:n,children:"Сбросить пароль"}),o.jsx(Jy,{open:!!s,autoHideDuration:6e3,onClose:()=>i(null),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:s&&o.jsx(lt,{onClose:()=>i(null),severity:s.type,sx:{width:"100%"},children:s.text})})]})}const $A=[{value:"manage_bookings",label:"Управление бронированиями"},{value:"manage_courts",label:"Управление кортами"},{value:"manage_club",label:"Управление клубом"},{value:"manage_admins",label:"Управление администраторами клуба"},{value:"view_reports",label:"Просмотр отчетов"},{value:"view_bookings",label:"Просмотр бронирований"},{value:"create_bookings",label:"Создание бронирований"},{value:"manage_finance",label:"Управление финансами клуба"}],Zc={superadmin:["manage_all_venues","manage_all_bookings","manage_all_users","manage_platform_settings","view_all_reports","manage_finance","manage_admins"],admin:["manage_bookings","manage_courts","manage_club","manage_admins","manage_finance","view_reports","create_bookings"],manager:["view_bookings","create_bookings","view_reports"]};function OA(){const{isSuperAdmin:e}=on(),[t,n]=f.useState([]),[r,s]=f.useState([]),[i,a]=f.useState(!0),[l,c]=f.useState(!1),[d,u]=f.useState(null),[p,h]=f.useState({name:"",email:"",password:"",role:"manager",venueId:"",permissions:[]}),[g,v]=f.useState("");f.useEffect(()=>{m()},[]);const m=async()=>{try{const j=await qe(Pe(se,"admins")),E=[];for(const M of j.docs){const D=M.data();let L="";if(D.venueId){const I=await qe(Ge(Pe(se,"venues"),Ee("__name__","==",D.venueId)));I.empty||(L=I.docs[0].data().name)}E.push({id:M.id,name:D.name,email:D.email,password:D.password,role:D.role,venueId:D.venueId,venueName:L,permissions:D.permissions||[]})}n(E);const S=(await qe(Pe(se,"venues"))).docs.map(M=>({id:M.id,name:M.data().name}));s(S),a(!1)}catch(j){console.error("Error loading data:",j),a(!1)}},y=j=>{j?(u(j),h({name:j.name,email:j.email,password:"",role:j.role,venueId:j.venueId||"",permissions:j.permissions})):(u(null),h({name:"",email:"",password:"",role:"admin",venueId:"",permissions:Zc.admin})),c(!0),v("")},x=()=>{c(!1),u(null),v("")},w=j=>{h({...p,role:j,permissions:Zc[j]})},C=j=>{const E=p.permissions.includes(j)?p.permissions.filter(T=>T!==j):[...p.permissions,j];h({...p,permissions:E})},k=async()=>{try{if(v(""),d){const j={name:p.name,role:p.role,venueId:p.venueId||null,permissions:p.permissions,updatedAt:new Date};await Ft(Ne(se,"admins",d.id),j)}else{if(!p.password){v("Пароль обязателен для нового администратора");return}const j=await Zm(en,p.email,p.password);await gr(Pe(se,"admins"),{uid:j.user.uid,name:p.name,email:p.email,role:p.role,venueId:p.venueId||null,permissions:p.permissions,createdAt:new Date,updatedAt:new Date})}x(),m()}catch(j){console.error("Error saving admin:",j),j.code==="auth/email-already-in-use"?v("Пользователь с таким email уже существует"):j.code==="auth/weak-password"?v("Пароль должен содержать минимум 6 символов"):v("Ошибка при сохранении администратора")}},_=async j=>{const E=t.find(S=>S.id===j);if(!E)return;const T=`Вы уверены, что хотите удалить администратора ${E.name} (${E.email})?`;if(confirm(T))try{await ml(Ne(se,"admins",j)),await m(),alert(`Администратор ${E.name} успешно удален`)}catch(S){console.error("Error deleting admin:",S),alert("Ошибка при удалении администратора")}};return i?o.jsx(te,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:o.jsx(pn,{})}):o.jsx(Io,{role:"superadmin",children:o.jsxs(te,{children:[o.jsx(lt,{severity:"info",sx:{mb:3},children:"Данный раздел доступен только суперадминистраторам системы"}),o.jsxs(te,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[o.jsx("h2",{children:"Управление администраторами"}),o.jsx(ke,{variant:"contained",startIcon:o.jsx(Zi,{}),onClick:()=>y(),children:"Добавить администратора"})]}),o.jsx(pc,{component:sn,children:o.jsxs(cc,{children:[o.jsx(hc,{children:o.jsxs(Gr,{children:[o.jsx(Be,{children:"Имя"}),o.jsx(Be,{children:"Email"}),o.jsx(Be,{children:"Роль"}),o.jsx(Be,{children:"Клуб"}),o.jsx(Be,{align:"right",children:"Действия"})]})}),o.jsx(uc,{children:t.map(j=>o.jsxs(Gr,{children:[o.jsx(Be,{children:j.name}),o.jsx(Be,{children:j.email}),o.jsx(Be,{children:o.jsx(Tr,{label:j.role,color:j.role==="superadmin"?"error":j.role==="admin"?"primary":"default",size:"small"})}),o.jsx(Be,{children:j.venueName||"-"}),o.jsx(Be,{align:"right",children:j.role!=="superadmin"&&o.jsxs(o.Fragment,{children:[o.jsx(AA,{email:j.email}),o.jsx(cn,{onClick:()=>y(j),children:o.jsx(Pi,{})}),e&&o.jsx(cn,{onClick:()=>_(j.id),color:"error",children:o.jsx(xs,{})})]})})]},j.id))})]})}),o.jsxs(or,{open:l,onClose:x,maxWidth:"sm",fullWidth:!0,children:[o.jsx(Cr,{children:d?"Редактировать администратора":"Добавить администратора"}),o.jsxs(ir,{children:[g&&o.jsx(lt,{severity:"error",sx:{mb:2},children:g}),o.jsx(Ye,{fullWidth:!0,label:"Имя",value:p.name,onChange:j=>h({...p,name:j.target.value}),margin:"normal"}),o.jsx(Ye,{fullWidth:!0,label:"Email",type:"email",value:p.email,onChange:j=>h({...p,email:j.target.value}),margin:"normal",disabled:!!d}),!d&&o.jsx(Ye,{fullWidth:!0,label:"Пароль",type:"password",value:p.password,onChange:j=>h({...p,password:j.target.value}),margin:"normal",required:!0}),o.jsxs(ar,{fullWidth:!0,margin:"normal",children:[o.jsx(Er,{children:"Роль"}),o.jsxs(dr,{value:p.role,onChange:j=>w(j.target.value),children:[o.jsx(Mt,{value:"admin",children:"Администратор"}),o.jsx(Mt,{value:"manager",children:"Менеджер"})]})]}),o.jsxs(ar,{fullWidth:!0,margin:"normal",children:[o.jsx(Er,{children:"Клуб"}),o.jsxs(dr,{value:p.venueId,onChange:j=>h({...p,venueId:j.target.value}),children:[o.jsx(Mt,{value:"",children:"Не выбран"}),r.map(j=>o.jsx(Mt,{value:j.id,children:j.name},j.id))]})]}),o.jsxs(ar,{component:"fieldset",margin:"normal",children:[o.jsx(Yy,{component:"legend",children:"Права доступа"}),o.jsx(EP,{children:$A.map(j=>o.jsx(rl,{control:o.jsx(lM,{checked:p.permissions.includes(j.value),onChange:()=>C(j.value),disabled:Zc[p.role].includes(j.value)}),label:j.label},j.value))})]})]}),o.jsxs(br,{children:[o.jsx(ke,{onClick:x,children:"Отмена"}),o.jsx(ke,{onClick:k,variant:"contained",children:d?"Сохранить":"Создать"})]})]})]})})}const hr={start:{name:"СТАРТ",price:0,pricePerCourt:0,limits:{maxCourts:2,maxBookingsPerMonth:-1,smsEmailNotifications:0,customDesign:!1,apiAccess:!1,multiVenue:!1,searchPriority:0,abTesting:!1,trainersModule:!1,personalManager:!1},features:["До 2 кортов бесплатно","Неограниченные бронирования","Управление расписанием","Онлайн-оплата (свой эквайринг)","Белый лейбл (логотип клуба)","Push-уведомления в приложении","Мобильное приложение для клиентов","Базовая отчетность","QR-коды для бронирований"]},standard:{name:"СТАНДАРТ",price:990,pricePerCourt:990,limits:{maxCourts:-1,maxBookingsPerMonth:-1,smsEmailNotifications:500,customDesign:!1,apiAccess:!1,multiVenue:!1,searchPriority:10,abTesting:!1,trainersModule:!1,personalManager:!1},features:["990₽ за корт в месяц","От 3 кортов","Неограниченные бронирования","SMS/Email уведомления (500 шт/месяц на корт)","Расширенная аналитика и отчеты","Управление ценами и скидками","Промокоды и акции","Интеграция с календарями","Экспорт данных в Excel","Приоритет в поиске (+10%)"]},pro:{name:"ПРОФИ",price:1990,pricePerCourt:1990,limits:{maxCourts:-1,maxBookingsPerMonth:-1,smsEmailNotifications:-1,customDesign:!0,apiAccess:!0,multiVenue:!0,searchPriority:30,abTesting:!0,trainersModule:!0,personalManager:!0},features:["1,990₽ за корт в месяц","От 1 корта","SMS/Email без ограничений","Белый лейбл PRO (кастомизация дизайна)","API доступ для интеграций","Мультиплощадки (управление сетью)","Топ в поиске (+30% видимости)","A/B тестирование цен","Модуль абонементов и пакетов","Модуль тренеров и расписания","Персональный менеджер"]},premium:{name:"ПРЕМИУМ",price:-1,limits:{maxCourts:-1,maxBookingsPerMonth:-1,smsEmailNotifications:-1,customDesign:!0,apiAccess:!0,multiVenue:!0,searchPriority:50,abTesting:!0,trainersModule:!0,personalManager:!0},features:["Все функции ПРОФИ","Т-Банк Мультирасчеты","Кастомные интеграции","Выделенный сервер","SLA гарантии","Приоритетная разработка функций","Выделенный менеджер 24/7"]}};function LA(){const e=jn(),{isSuperAdmin:t}=on(),{admin:n}=Ht(),[r,s]=f.useState([]),[i,a]=f.useState(!0),[l,c]=f.useState(null),[d,u]=f.useState(!1),[p,h]=f.useState(!1),[g,v]=f.useState("start"),[m,y]=f.useState(""),[x,w]=f.useState(null),[C,k]=f.useState(!1),[_,j]=f.useState(null),[E,T]=f.useState(!1),[S,M]=f.useState({name:"",address:"",city:"",phone:"",email:"",description:"",organizationType:"ИП",inn:"",bankAccount:""});f.useEffect(()=>{D()},[]);const D=async()=>{try{const A=await qe(Pe(se,"venues")),U=await Promise.all(A.docs.map(async Y=>{var le,ee,X,ie,K,W;const G=Y.data();G.location&&G.location._lat!==void 0&&(G.location={latitude:G.location._lat,longitude:G.location._long});const J=Ge(Pe(se,"subscriptions"),Ee("venueId","==",Y.id),Ee("status","in",["active","trial"])),ae=await qe(J);let H=null;if(!ae.empty){const F=ae.docs[0].data();H={id:ae.docs[0].id,...F,startDate:(le=F.startDate)==null?void 0:le.toDate(),endDate:(ee=F.endDate)==null?void 0:ee.toDate(),trialEndDate:(X=F.trialEndDate)==null?void 0:X.toDate(),nextBillingDate:(ie=F.nextBillingDate)==null?void 0:ie.toDate(),usage:{...F.usage,lastUpdated:(W=(K=F.usage)==null?void 0:K.lastUpdated)==null?void 0:W.toDate()}}}return{id:Y.id,...G,subscription:H}}));s(U),a(!1)}catch(A){console.error("Error loading venues:",A),a(!1)}},L=A=>{localStorage.setItem("selectedVenueId",A.id),e("/admin/club")},I=async A=>{try{const U=A.status==="active"?"inactive":"active";await Ft(Ne(se,"venues",A.id),{status:U,updatedAt:new Date}),D()}catch(U){console.error("Error updating venue status:",U)}},P=async A=>{try{const U=Ge(Pe(se,"admins"),Ee("venueId","==",A)),Y=await qe(U);if(!Y.empty){const ae=Y.size,H=Y.docs.map(le=>{const ee=le.data();return`- ${ee.name} (${ee.email}) - ${ee.role==="admin"?"Администратор":"Менеджер"}`}).join(`
`);alert(`Невозможно удалить клуб!

В клубе есть ${ae} сотрудник(ов):
${H}

Сначала удалите всех сотрудников клуба в разделе "Администраторы".`);return}const G=r.find(ae=>ae.id===A);if(!G)return;const J=`Вы уверены, что хотите удалить клуб "${G.name}"?

Это действие необратимо и удалит:
- Все данные клуба
- Все корты
- Все бронирования
- Всю историю`;confirm(J)&&(await ml(Ne(se,"venues",A)),await D(),alert(`Клуб "${G.name}" успешно удален`))}catch(U){console.error("Error deleting venue:",U),alert("Ошибка при удалении клуба")}},R=A=>`https://allcourt.ru/club/${A}`,N=A=>{const U=R(A);navigator.clipboard.writeText(U),w(A),setTimeout(()=>w(null),2e3)},O=A=>{j(A),k(!0)},z=A=>{var U;c(A),v(((U=A.subscription)==null?void 0:U.plan)||"start"),h(!0)},$=async()=>{var A,U;if(l)try{const Y={venueId:l.id,plan:g,status:"active",startDate:new Date,endDate:null,updatedAt:new Date,updatedBy:"superadmin",usage:((A=l.subscription)==null?void 0:A.usage)||{courtsCount:0,bookingsThisMonth:0,smsEmailsSent:0,lastUpdated:new Date}};(U=l.subscription)!=null&&U.id?await Ft(Ne(se,"subscriptions",l.subscription.id),{plan:g,updatedAt:new Date,updatedBy:"superadmin"}):await gr(Pe(se,"subscriptions"),Y),h(!1),D()}catch(Y){console.error("Error updating subscription:",Y),y("Ошибка при обновлении подписки")}};return i?o.jsx(te,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:o.jsx(pn,{})}):o.jsxs(Io,{role:"superadmin",children:[o.jsxs(te,{children:[o.jsx(lt,{severity:"info",sx:{mb:3},children:"Данный раздел доступен только суперадминистраторам системы"}),o.jsxs(te,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[o.jsx(B,{variant:"h5",component:"h2",children:"Управление клубами"}),o.jsx(ke,{variant:"contained",startIcon:o.jsx(Zi,{}),onClick:()=>T(!0),children:"Добавить клуб"})]}),r.length===0?o.jsx(lt,{severity:"info",children:"Клубы не найдены. Создайте первый клуб для начала работы."}):o.jsx(Ae,{container:!0,spacing:3,children:r.map(A=>{var U,Y;return o.jsx(Ae,{item:!0,xs:12,md:6,lg:4,children:o.jsxs(ot,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[o.jsxs(it,{sx:{flexGrow:1},children:[o.jsxs(te,{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2,children:[o.jsx(B,{variant:"h6",component:"h3",children:A.name}),o.jsx(Tr,{label:A.status==="active"?"Активен":"Неактивен",color:A.status==="active"?"success":"default",size:"small"})]}),o.jsxs(te,{display:"flex",alignItems:"center",gap:1,mb:1,children:[o.jsx(GD,{fontSize:"small",color:"action"}),o.jsx(B,{variant:"body2",color:"text.secondary",children:A.address})]}),A.city&&o.jsx(te,{display:"flex",alignItems:"center",gap:1,mb:1,children:o.jsx(B,{variant:"body2",color:"text.secondary",sx:{ml:3},children:A.city})}),A.location?o.jsx(te,{display:"flex",alignItems:"center",gap:1,mb:1,children:o.jsxs(B,{variant:"body2",color:"text.secondary",sx:{ml:3,fontSize:"0.75rem"},children:["📍 ",(U=A.location.latitude)==null?void 0:U.toFixed(6),", ",(Y=A.location.longitude)==null?void 0:Y.toFixed(6)]})}):o.jsx(te,{display:"flex",alignItems:"center",gap:1,mb:1,children:o.jsx(B,{variant:"body2",color:"warning.main",sx:{ml:3,fontSize:"0.75rem",fontStyle:"italic"},children:"⚠️ Координаты не указаны"})}),o.jsxs(te,{display:"flex",alignItems:"center",gap:1,mb:1,children:[o.jsx(QD,{fontSize:"small",color:"action"}),o.jsx(B,{variant:"body2",color:"text.secondary",children:A.phone})]}),o.jsxs(te,{display:"flex",alignItems:"center",gap:1,children:[o.jsx(Bd,{fontSize:"small",color:"action"}),o.jsx(B,{variant:"body2",color:"text.secondary",children:A.email})]}),A.description&&o.jsx(B,{variant:"body2",color:"text.secondary",mt:2,children:A.description}),A.status==="pending"&&o.jsxs(te,{sx:{mt:2,p:1.5,bgcolor:"warning.light",borderRadius:1},children:[o.jsxs(te,{display:"flex",alignItems:"center",gap:1,mb:1,children:[o.jsx(il,{fontSize:"small",color:"warning"}),o.jsx(B,{variant:"subtitle2",color:"warning.dark",children:"Ожидает модерации"})]}),o.jsx(ke,{variant:"contained",size:"small",color:"success",onClick:async()=>{var G;try{await Ft(Ne(se,"venues",A.id),{status:"active",moderatedAt:new Date,moderatedBy:((G=en.currentUser)==null?void 0:G.uid)||"superadmin"}),D()}catch(J){console.error("Error activating venue:",J)}},children:"Активировать клуб"})]}),A.status==="active"&&t&&o.jsxs(te,{sx:{mt:2,p:1.5,bgcolor:"success.light",borderRadius:1},children:[o.jsxs(te,{display:"flex",alignItems:"center",gap:1,mb:1,children:[o.jsx(mp,{fontSize:"small",color:"success"}),o.jsx(B,{variant:"subtitle2",color:"success.dark",children:"Активный клуб"})]}),o.jsx(ke,{variant:"outlined",size:"small",color:"warning",onClick:async()=>{if(window.confirm("Вы уверены, что хотите отправить клуб на модерацию? Это заблокирует возможность бронирования."))try{await Ft(Ne(se,"venues",A.id),{status:"pending",moderatedAt:null,moderatedBy:null}),D()}catch(G){console.error("Error deactivating venue:",G)}},children:"Отправить на модерацию"})]}),o.jsxs(te,{sx:{mt:2,p:1.5,bgcolor:"background.default",borderRadius:1},children:[o.jsxs(te,{display:"flex",alignItems:"center",gap:1,mb:.5,children:[o.jsx(Fd,{fontSize:"small",color:"primary"}),o.jsxs(B,{variant:"subtitle2",color:"primary",children:["Тариф: ",A.subscription?hr[A.subscription.plan].name:"Не определен"]})]}),A.subscription&&o.jsx(B,{variant:"caption",color:"text.secondary",children:hr[A.subscription.plan].price===0?"Бесплатный":`${hr[A.subscription.plan].price.toLocaleString("ru-RU")} ₽/мес`}),!A.subscription&&o.jsxs(B,{variant:"caption",color:"warning.main",children:[o.jsx(il,{fontSize:"small",sx:{verticalAlign:"middle",mr:.5}}),"Требуется настройка подписки"]})]}),o.jsxs(te,{sx:{mt:2,p:1.5,bgcolor:"background.default",borderRadius:1},children:[o.jsxs(te,{display:"flex",alignItems:"center",gap:1,mb:1,children:[o.jsx(YD,{fontSize:"small",color:"action"}),o.jsx(B,{variant:"caption",color:"text.secondary",children:"Ссылка для клиентов:"})]}),o.jsxs(te,{display:"flex",alignItems:"center",gap:1,children:[o.jsx(B,{variant:"caption",sx:{flex:1,fontFamily:"monospace",wordBreak:"break-all",p:.5,bgcolor:"white",borderRadius:.5},children:R(A.id)}),o.jsx(rm,{title:x===A.id?"Скопировано!":"Копировать ссылку",children:o.jsx(cn,{size:"small",onClick:()=>N(A.id),color:x===A.id?"success":"default",children:x===A.id?o.jsx(os,{fontSize:"small"}):o.jsx(nx,{fontSize:"small"})})}),o.jsx(rm,{title:"Показать QR код",children:o.jsx(cn,{size:"small",onClick:()=>O(A),children:o.jsx(yp,{fontSize:"small"})})})]})]})]}),o.jsxs(WE,{sx:{flexWrap:"wrap",gap:.5},children:[o.jsx(ke,{size:"small",onClick:()=>L(A),startIcon:o.jsx(Pi,{fontSize:"small"}),children:"Редактировать"}),o.jsx(ke,{size:"small",onClick:()=>z(A),startIcon:o.jsx(Fd,{fontSize:"small"}),color:"secondary",children:"Тариф"}),o.jsx(ke,{size:"small",onClick:()=>I(A),children:A.status==="active"?"Деактивировать":"Активировать"}),o.jsx(cn,{size:"small",color:"error",onClick:()=>P(A.id),children:o.jsx(xs,{})})]})]})},A.id)})})]}),o.jsxs(or,{open:C,onClose:()=>k(!1),maxWidth:"sm",children:[o.jsxs(Cr,{children:["QR код для ",_==null?void 0:_.name]}),o.jsx(ir,{children:o.jsxs(te,{sx:{textAlign:"center",p:2},children:[o.jsx(ll,{value:_?R(_.id):"",size:256,level:"H",includeMargin:!0}),o.jsx(B,{variant:"body2",color:"text.secondary",sx:{mt:2},children:"Клиенты могут отсканировать этот QR код для бронирования"}),o.jsx(Lr,{sx:{my:2}}),o.jsx(B,{variant:"caption",sx:{fontFamily:"monospace"},children:_&&R(_.id)})]})}),o.jsxs(br,{children:[o.jsx(ke,{onClick:()=>k(!1),children:"Закрыть"}),o.jsx(ke,{variant:"contained",onClick:()=>{_&&N(_.id)},children:"Копировать ссылку"})]})]}),o.jsxs(or,{open:p,onClose:()=>h(!1),maxWidth:"sm",fullWidth:!0,children:[o.jsxs(Cr,{children:["Изменение тарифа для ",l==null?void 0:l.name]}),o.jsxs(ir,{children:[m&&o.jsx(lt,{severity:"error",sx:{mb:2},children:m}),o.jsxs(te,{sx:{mt:2},children:[o.jsxs(ar,{fullWidth:!0,children:[o.jsx(Er,{children:"Тарифный план"}),o.jsx(dr,{value:g,onChange:A=>v(A.target.value),label:"Тарифный план",children:Object.entries(hr).filter(([A])=>A!=="premium").map(([A,U])=>o.jsx(Mt,{value:A,children:o.jsxs(te,{children:[o.jsx(B,{variant:"body1",children:U.name}),o.jsx(B,{variant:"caption",color:"text.secondary",children:U.price===0?"Бесплатно":`${U.price.toLocaleString("ru-RU")} ₽/месяц`})]})},A))})]}),g&&o.jsxs(te,{sx:{mt:3},children:[o.jsxs(B,{variant:"subtitle2",gutterBottom:!0,children:["Возможности тарифа ",hr[g].name,":"]}),o.jsx(go,{dense:!0,children:hr[g].features.slice(0,5).map((A,U)=>o.jsx(er,{disablePadding:!0,children:o.jsx(tr,{primary:A,primaryTypographyProps:{variant:"body2"}})},U))})]}),o.jsx(lt,{severity:"info",sx:{mt:2},children:"Изменение тарифа вступит в силу немедленно. Клуб будет уведомлен об изменении."})]})]}),o.jsxs(br,{children:[o.jsx(ke,{onClick:()=>h(!1),children:"Отмена"}),o.jsx(ke,{onClick:$,variant:"contained",children:"Применить"})]})]}),o.jsxs(or,{open:E,onClose:()=>T(!1),maxWidth:"md",fullWidth:!0,children:[o.jsx(Cr,{children:"Добавить новый клуб"}),o.jsxs(ir,{children:[m&&o.jsx(lt,{severity:"error",sx:{mb:2},children:m}),o.jsxs(te,{sx:{mt:2,display:"flex",flexDirection:"column",gap:2},children:[o.jsx(Ye,{label:"Название клуба",value:S.name,onChange:A=>M({...S,name:A.target.value}),fullWidth:!0,required:!0}),o.jsx(Ye,{label:"Адрес",value:S.address,onChange:A=>M({...S,address:A.target.value}),fullWidth:!0,required:!0}),o.jsx(Ye,{label:"Город",value:S.city,onChange:A=>M({...S,city:A.target.value}),fullWidth:!0,required:!0}),o.jsx(Ye,{label:"Телефон",value:S.phone,onChange:A=>M({...S,phone:A.target.value}),fullWidth:!0,required:!0,placeholder:"+7 (900) 123-45-67"}),o.jsx(Ye,{label:"Email",value:S.email,onChange:A=>M({...S,email:A.target.value}),fullWidth:!0,required:!0,type:"email"}),o.jsx(Ye,{label:"Описание",value:S.description,onChange:A=>M({...S,description:A.target.value}),fullWidth:!0,multiline:!0,rows:3}),o.jsxs(ar,{fullWidth:!0,children:[o.jsx(Er,{children:"Форма организации"}),o.jsxs(dr,{value:S.organizationType,onChange:A=>M({...S,organizationType:A.target.value}),label:"Форма организации",children:[o.jsx(Mt,{value:"ИП",children:"ИП"}),o.jsx(Mt,{value:"ООО",children:"ООО"}),o.jsx(Mt,{value:"Самозанятый",children:"Самозанятый"})]})]}),o.jsx(Ye,{label:"ИНН",value:S.inn,onChange:A=>M({...S,inn:A.target.value}),fullWidth:!0}),o.jsx(Ye,{label:"Расчетный счет",value:S.bankAccount,onChange:A=>M({...S,bankAccount:A.target.value}),fullWidth:!0})]})]}),o.jsxs(br,{children:[o.jsx(ke,{onClick:()=>{T(!1),y(""),M({name:"",address:"",city:"",phone:"",email:"",description:"",organizationType:"ИП",inn:"",bankAccount:""})},children:"Отмена"}),o.jsx(ke,{onClick:async()=>{try{if(!S.name||!S.address||!S.city||!S.phone||!S.email){y("Заполните все обязательные поля");return}const A=Ge(Pe(se,"venues"),Ee("email","==",S.email));if(!(await qe(A)).empty){y("Клуб с таким email уже существует");return}const Y={name:S.name,address:S.address,city:S.city,phone:S.phone,email:S.email,description:S.description||"",organizationType:S.organizationType,inn:S.inn||"",bankAccount:S.bankAccount||"",status:"pending",createdAt:new Date,updatedAt:new Date,logoUrl:"",amenities:[],location:null,moderatedAt:null,moderatedBy:null,courts:[],workingHours:{weekday:{start:"07:00",end:"23:00"},weekend:{start:"08:00",end:"22:00"}}};if(!en.currentUser){y("Необходимо авторизоваться");return}if(!t){y("Только суперадминистратор может создавать клубы");return}console.log("Creating venue with data:",Y),console.log("Firebase auth current user:",en.currentUser);const G=await gr(Pe(se,"venues"),Y);console.log("Venue created with ID:",G.id),await gr(Pe(se,"subscriptions"),{venueId:G.id,plan:"start",status:"active",startDate:new Date,endDate:null,createdAt:new Date,updatedAt:new Date,usage:{courtsCount:0,bookingsThisMonth:0,smsEmailsSent:0,lastUpdated:new Date}}),await gr(Pe(se,"admins"),{name:"Администратор",email:S.email,password:"123456",role:"admin",venueId:G.id,permissions:["manage_bookings","manage_courts","manage_clients","manage_settings"],createdAt:new Date,updatedAt:new Date}),T(!1),y(""),M({name:"",address:"",city:"",phone:"",email:"",description:"",organizationType:"ИП",inn:"",bankAccount:""}),D(),alert(`Клуб "${S.name}" успешно создан! Администратор: ${S.email}, пароль: 123456`)}catch(A){console.error("Error creating venue:",A),console.error("Error details:",{code:A==null?void 0:A.code,message:A==null?void 0:A.message,stack:A==null?void 0:A.stack}),y("Ошибка при создании клуба: "+((A==null?void 0:A.message)||"Неизвестная ошибка"))}},variant:"contained",children:"Создать"})]})]})]})}function ma(e){return new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function ga(e){return new Intl.DateTimeFormat("ru-RU",{year:"numeric",month:"long",day:"numeric"}).format(e)}const bm={start:"Старт",standard:"Стандарт",pro:"Профи",premium:"Премиум"},va={start:0,standard:990,pro:1990,premium:2990},FA={start:["1 корт","Базовые функции","Email поддержка"],standard:["До 3 кортов","Онлайн-оплата","SMS-уведомления","Статистика"],pro:["До 10 кортов","Все функции Standard","Приоритетная поддержка","API доступ"],premium:["Неограниченно кортов","Все функции Pro","Персональный менеджер","Кастомизация"]};function zA(){var E;const{admin:e}=Ht(),[t,n]=f.useState(!0),[r,s]=f.useState(null),[i,a]=f.useState([]),[l,c]=f.useState(null),[d,u]=f.useState(!1),[p,h]=f.useState(""),[g,v]=f.useState(1),[m,y]=f.useState(!1),[x,w]=f.useState(null);f.useEffect(()=>{if(!(e!=null&&e.venueId))return;const T=yr(Ge(Pe(se,"subscriptions"),Ee("venueId","==",e.venueId),ja(1)),D=>{if(D.empty)s(null);else{const L=D.docs[0];s({id:L.id,...L.data()})}}),S=yr(Ge(Pe(se,"invoices"),Ee("venueId","==",e.venueId),Jm("createdAt","desc"),ja(20)),D=>{const L=D.docs.map(I=>({id:I.id,...I.data()}));a(L)}),M=yr(Ge(Pe(se,"payment_methods"),Ee("venueId","==",e.venueId),Ee("isDefault","==",!0),ja(1)),D=>{if(D.empty)c(null);else{const L=D.docs[0];c({id:L.id,...L.data()})}});return n(!1),()=>{T(),S(),M()}},[e]);const C=async()=>{if(!(!p||!g)){y(!0),w(null);try{const M=(await Sy(gk,"initSubscriptionPayment")({venueId:e==null?void 0:e.venueId,planKey:p,amount:va[p]*g,courtsCount:g})).data;if(M.success&&M.paymentUrl)window.open(M.paymentUrl,"_blank"),u(!1);else throw new Error("Failed to initialize payment")}catch(T){console.error("Payment initialization error:",T),w(T.message||"Ошибка при инициализации платежа")}finally{y(!1)}}},k=T=>{const S={active:{label:"Активна",color:"success",icon:o.jsx(mp,{})},pending_payment:{label:"Ожидает оплаты",color:"warning",icon:o.jsx(Ud,{})},payment_failed:{label:"Ошибка оплаты",color:"error",icon:o.jsx(il,{})},cancelled:{label:"Отменена",color:"default",icon:o.jsx(ol,{})}},M=S[T]||S.cancelled;return o.jsx(Tr,{label:M.label,color:M.color,size:"small",icon:M.icon})},_=T=>{const S={pending:{label:"Ожидает",color:"default"},processing:{label:"Обработка",color:"info"},paid:{label:"Оплачен",color:"success"},failed:{label:"Ошибка",color:"error"},refunded:{label:"Возврат",color:"warning"}},M=S[T]||S.pending;return o.jsx(Tr,{label:M.label,color:M.color,size:"small"})};if(t)return o.jsx(Yd,{children:o.jsx(te,{sx:{width:"100%"},children:o.jsx(qy,{})})});const j=r!=null&&r.endDate?Math.floor((r.endDate.toMillis()-Date.now())/(1e3*60*60*24)):0;return o.jsx(Yd,{children:o.jsxs(te,{sx:{p:3},children:[o.jsx(B,{variant:"h5",gutterBottom:!0,children:"Управление подпиской"}),x&&o.jsx(lt,{severity:"error",sx:{mb:3},onClose:()=>w(null),children:x}),o.jsx(ot,{sx:{mb:3},children:o.jsxs(it,{children:[o.jsx(B,{variant:"h6",gutterBottom:!0,children:"Текущий тариф"}),r?o.jsxs(Ae,{container:!0,spacing:3,children:[o.jsx(Ae,{item:!0,xs:12,md:6,children:o.jsxs(Fs,{spacing:2,children:[o.jsxs(te,{children:[o.jsx(B,{variant:"subtitle2",color:"text.secondary",children:"Тариф"}),o.jsx(B,{variant:"h4",children:bm[r.plan]})]}),o.jsxs(te,{children:[o.jsx(B,{variant:"subtitle2",color:"text.secondary",children:"Статус"}),k(r.status)]}),o.jsxs(te,{children:[o.jsx(B,{variant:"subtitle2",color:"text.secondary",children:"Количество кортов"}),o.jsx(B,{variant:"body1",children:r.courtsCount})]}),o.jsxs(te,{children:[o.jsx(B,{variant:"subtitle2",color:"text.secondary",children:"Стоимость в месяц"}),o.jsx(B,{variant:"h5",children:ma(va[r.plan]*r.courtsCount)})]})]})}),o.jsx(Ae,{item:!0,xs:12,md:6,children:o.jsxs(Fs,{spacing:2,children:[o.jsxs(te,{children:[o.jsx(B,{variant:"subtitle2",color:"text.secondary",children:"Активна до"}),o.jsx(B,{variant:"body1",children:r.endDate?ga(r.endDate.toDate()):"Бессрочно"}),j>0&&j<=7&&o.jsxs(B,{variant:"caption",color:"warning.main",children:["Осталось ",j," дней"]})]}),o.jsxs(te,{children:[o.jsx(B,{variant:"subtitle2",color:"text.secondary",children:"Автопродление"}),o.jsx(B,{variant:"body1",children:r.autoRenewal?"Включено":"Отключено"})]}),r.lastPaymentAt&&o.jsxs(te,{children:[o.jsx(B,{variant:"subtitle2",color:"text.secondary",children:"Последний платеж"}),o.jsx(B,{variant:"body1",children:ga(r.lastPaymentAt.toDate())})]}),r.status==="payment_failed"&&r.gracePeriodEnd&&o.jsx(lt,{severity:"error",sx:{mt:2},children:o.jsxs(B,{variant:"body2",children:["Последний платеж не прошел. Подписка будет приостановлена"," ",ga(r.gracePeriodEnd.toDate()),", если оплата не поступит."]})})]})})]}):o.jsx(lt,{severity:"info",children:"У вас нет активной подписки"}),o.jsx(Lr,{sx:{my:3}}),o.jsxs(Fs,{direction:"row",spacing:2,children:[o.jsx(ke,{variant:"contained",onClick:()=>{h((r==null?void 0:r.plan)||"standard"),v((r==null?void 0:r.courtsCount)||1),u(!0)},children:"Изменить тариф"}),!l&&o.jsx(ke,{variant:"outlined",startIcon:o.jsx(zd,{}),onClick:()=>{alert("Функция привязки карты будет добавлена")},children:"Привязать карту"})]})]})}),l&&o.jsx(ot,{sx:{mb:3},children:o.jsxs(it,{children:[o.jsx(B,{variant:"h6",gutterBottom:!0,children:"Способ оплаты"}),o.jsxs(Fs,{direction:"row",spacing:2,alignItems:"center",children:[o.jsx(zd,{fontSize:"large",color:"action"}),o.jsxs(te,{children:[o.jsxs(B,{variant:"body1",children:[l.brand," •••• ",l.last4]}),o.jsxs(B,{variant:"caption",color:"text.secondary",children:["Действует до ",l.expiryMonth,"/",l.expiryYear]})]})]})]})}),o.jsx(ot,{children:o.jsxs(it,{children:[o.jsx(B,{variant:"h6",gutterBottom:!0,children:"История платежей"}),i.length>0?o.jsx(pc,{component:sn,variant:"outlined",children:o.jsxs(cc,{children:[o.jsx(hc,{children:o.jsxs(Gr,{children:[o.jsx(Be,{children:"Дата"}),o.jsx(Be,{children:"Описание"}),o.jsx(Be,{children:"Сумма"}),o.jsx(Be,{children:"Статус"}),o.jsx(Be,{align:"right",children:"Действия"})]})}),o.jsx(uc,{children:i.map(T=>o.jsxs(Gr,{children:[o.jsx(Be,{children:ga(T.createdAt.toDate())}),o.jsx(Be,{children:T.description}),o.jsx(Be,{children:ma(T.amount)}),o.jsx(Be,{children:_(T.status)}),o.jsx(Be,{align:"right",children:o.jsx(ke,{size:"small",startIcon:o.jsx(sx,{}),onClick:()=>{alert("Функция скачивания чека будет добавлена")},children:"Чек"})})]},T.id))})]})}):o.jsx(B,{color:"text.secondary",children:"История платежей пуста"})]})}),o.jsxs(or,{open:d,onClose:()=>u(!1),maxWidth:"sm",fullWidth:!0,children:[o.jsx(Cr,{children:"Изменить тариф"}),o.jsx(ir,{children:o.jsxs(Fs,{spacing:3,sx:{mt:2},children:[o.jsx(Ye,{select:!0,fullWidth:!0,label:"Тариф",value:p,onChange:T=>h(T.target.value),children:Object.entries(bm).filter(([T])=>T!=="start").map(([T,S])=>o.jsxs(Mt,{value:T,children:[S," - ",ma(va[T])," за корт/месяц"]},T))}),o.jsx(Ye,{type:"number",fullWidth:!0,label:"Количество кортов",value:g,onChange:T=>v(parseInt(T.target.value)||1),inputProps:{min:1,max:100}}),p&&o.jsxs(o.Fragment,{children:[o.jsxs(te,{sx:{p:2,bgcolor:"grey.100",borderRadius:1},children:[o.jsx(B,{variant:"subtitle2",gutterBottom:!0,children:"Возможности тарифа:"}),o.jsx("ul",{style:{margin:0,paddingLeft:20},children:(E=FA[p])==null?void 0:E.map((T,S)=>o.jsx("li",{children:o.jsx(B,{variant:"body2",children:T})},S))})]}),o.jsx(Lr,{}),o.jsxs(te,{sx:{textAlign:"center"},children:[o.jsx(B,{variant:"subtitle2",color:"text.secondary",children:"Итого к оплате:"}),o.jsx(B,{variant:"h4",children:ma(va[p]*g)}),o.jsx(B,{variant:"caption",color:"text.secondary",children:"в месяц"})]})]})]})}),o.jsxs(br,{children:[o.jsx(ke,{onClick:()=>u(!1),children:"Отмена"}),o.jsx(ke,{variant:"contained",onClick:C,disabled:!p||!g||m,startIcon:m?o.jsx(Ud,{}):o.jsx(vo,{}),children:m?"Обработка...":"Перейти к оплате"})]})]})]})})}const Cm=[{id:"tbank",name:"Т-Банк",commission:2.5,fields:[{name:"shopId",label:"Shop ID",type:"text",required:!0,placeholder:"Например: shop_12345"},{name:"secretKey",label:"Secret Key",type:"password",required:!0},{name:"terminalKey",label:"Terminal Key",type:"text",required:!0}]},{id:"sber",name:"Сбербанк",commission:2.3,fields:[{name:"merchantLogin",label:"Merchant Login",type:"text",required:!0},{name:"password",label:"Пароль",type:"password",required:!0},{name:"gateway",label:"Gateway",type:"select",required:!0,options:[{value:"securepayments.sberbank.ru",label:"Боевой"},{value:"3dsec.sberbank.ru",label:"Тестовый"}]}]},{id:"yookassa",name:"ЮKassa",commission:2.8,fields:[{name:"shopId",label:"Shop ID",type:"text",required:!0},{name:"secretKey",label:"Secret Key",type:"password",required:!0}]},{id:"tinkoff",name:"Тинькофф",commission:2.49,fields:[{name:"terminalKey",label:"Terminal Key",type:"text",required:!0},{name:"password",label:"Пароль",type:"password",required:!0}]}];function BA(){const{admin:e,club:t}=Ht(),{isSuperAdmin:n}=on(),[r,s]=f.useState(null),[i,a]=f.useState(!0),[l,c]=f.useState(!1),[d,u]=f.useState(!0),[p,h]=f.useState(!1),[g,v]=f.useState(""),[m,y]=f.useState({}),[x,w]=f.useState(!1),[C,k]=f.useState(null),[_,j]=f.useState(0);f.useEffect(()=>{if(n){const P=localStorage.getItem("selectedVenueId");P?(s(P),T(P)):a(!1)}else e!=null&&e.venueId&&T(e.venueId)},[e,n]);const E=P=>{s(P),localStorage.setItem("selectedVenueId",P),P&&T(P)},T=async P=>{const R=P||(e==null?void 0:e.venueId);if(R)try{a(!0);const N=await Ct(Ne(se,"venues",R));if(N.exists()){const O=N.data();h(O.paymentEnabled||!1),u(O.paymentTestMode!==!1),v(O.paymentProvider||""),O.paymentCredentials&&y(O.paymentCredentials),O.paymentProvider&&O.paymentCredentials?j(2):O.paymentProvider&&j(1)}a(!1)}catch(N){console.error("Error loading payment settings:",N),a(!1)}},S=P=>{v(P),y({}),j(1)},M=(P,R)=>{y(N=>({...N,[P]:R}))},D=async()=>{const P=n?r:e==null?void 0:e.venueId;if(!(!P||!g)){c(!0);try{await Ft(Ne(se,"venues",P),{paymentEnabled:p,paymentTestMode:d,paymentProvider:g,paymentCredentials:m,paymentUpdatedAt:new Date}),j(2),alert("Настройки успешно сохранены")}catch(R){console.error("Error saving payment settings:",R),alert("Ошибка при сохранении настроек")}finally{c(!1)}}},L=async()=>{w(!0),k(null),setTimeout(()=>{const P=Math.random()>.3;k({success:P,message:P?"Подключение успешно проверено. Платежи готовы к работе.":"Ошибка подключения. Проверьте правильность введенных данных."})},2e3)};if(i)return o.jsx(te,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:o.jsx(pn,{})});if(n&&!r)return o.jsx(Do,{title:"Выберите клуб для настройки оплаты"});const I=Cm.find(P=>P.id===g);return o.jsxs(te,{children:[n&&o.jsx(Ro,{selectedVenueId:r,onVenueChange:E}),o.jsx(B,{variant:"h5",component:"h2",gutterBottom:!0,children:"Настройки эквайринга"}),o.jsx(lt,{severity:"info",sx:{mb:3},children:"Подключите свой эквайринг для приема платежей от клиентов. Все платежи будут поступать напрямую на ваш расчетный счет."}),o.jsx(ot,{sx:{mb:3},children:o.jsxs(it,{children:[o.jsxs(te,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[o.jsxs(te,{children:[o.jsx(B,{variant:"h6",children:"Статус платежей"}),o.jsx(B,{variant:"body2",color:"text.secondary",children:p?"Платежи активны и готовы к приему":"Платежи не настроены"})]}),o.jsxs(te,{display:"flex",alignItems:"center",gap:2,children:[o.jsx(rl,{control:o.jsx(Xs,{checked:d,onChange:P=>u(P.target.checked),disabled:!p}),label:"Тестовый режим"}),o.jsx(Tr,{icon:p?o.jsx(os,{}):o.jsx(il,{}),label:p?"Подключено":"Не подключено",color:p?"success":"default"})]})]}),p&&I&&o.jsxs(te,{mt:2,p:2,bgcolor:"background.default",borderRadius:1,children:[o.jsxs(B,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Провайдер: ",o.jsx("strong",{children:I.name})]}),o.jsxs(B,{variant:"body2",color:"text.secondary",children:["Комиссия: ",o.jsxs("strong",{children:[I.commission,"%"]})]})]})]})}),o.jsxs(YR,{activeStep:_,orientation:"vertical",children:[o.jsxs(qc,{children:[o.jsx(Ra,{children:"Выберите платежного провайдера"}),o.jsxs(Xc,{children:[o.jsx(B,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Выберите банк или платежную систему, с которой у вас заключен договор эквайринга"}),o.jsx(te,{sx:{mt:2,mb:3},children:Cm.map(P=>o.jsx(sn,{sx:{p:2,mb:2,cursor:"pointer",border:g===P.id?2:1,borderColor:g===P.id?"primary.main":"divider","&:hover":{borderColor:"primary.main"}},onClick:()=>S(P.id),children:o.jsxs(te,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[o.jsxs(te,{display:"flex",alignItems:"center",gap:2,children:[o.jsx(RD,{color:"action"}),o.jsxs(te,{children:[o.jsx(B,{variant:"subtitle1",children:P.name}),o.jsxs(B,{variant:"body2",color:"text.secondary",children:["Комиссия: ",P.commission,"%"]})]})]}),g===P.id&&o.jsx(os,{color:"primary"})]})},P.id))}),o.jsx(ke,{variant:"contained",onClick:()=>j(1),disabled:!g,children:"Продолжить"})]})]}),o.jsxs(qc,{children:[o.jsx(Ra,{children:"Введите данные для подключения"}),o.jsx(Xc,{children:I&&o.jsxs(o.Fragment,{children:[o.jsxs(B,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Введите данные из личного кабинета ",I.name]}),o.jsx(te,{sx:{mt:2},children:I.fields.map(P=>{var R;return o.jsx(te,{sx:{mb:2},children:P.type==="select"?o.jsxs(ar,{fullWidth:!0,children:[o.jsx(Er,{children:P.label}),o.jsx(dr,{value:m[P.name]||"",onChange:N=>M(P.name,N.target.value),required:P.required,children:(R=P.options)==null?void 0:R.map(N=>o.jsx(Mt,{value:N.value,children:N.label},N.value))})]}):o.jsx(Ye,{fullWidth:!0,label:P.label,type:P.type,value:m[P.name]||"",onChange:N=>M(P.name,N.target.value),required:P.required,placeholder:P.placeholder})},P.name)})}),o.jsx(lt,{severity:"warning",icon:o.jsx(xp,{}),sx:{mt:2,mb:2},children:"Все данные хранятся в зашифрованном виде и используются только для проведения платежей"}),o.jsxs(te,{sx:{mt:2},children:[o.jsx(ke,{variant:"contained",onClick:D,disabled:l||!I.fields.every(P=>!P.required||m[P.name]),startIcon:l?o.jsx(pn,{size:20}):o.jsx(Wd,{}),children:l?"Сохранение...":"Сохранить и продолжить"}),o.jsx(ke,{sx:{ml:1},onClick:()=>j(0),children:"Назад"})]})]})})]}),o.jsxs(qc,{children:[o.jsx(Ra,{children:"Проверка подключения"}),o.jsxs(Xc,{children:[o.jsx(B,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Проверьте работу платежей в тестовом режиме перед началом приема реальных платежей"}),o.jsx(te,{sx:{mt:3},children:o.jsx(ke,{variant:"contained",onClick:L,startIcon:o.jsx(tA,{}),children:"Проверить подключение"})}),p&&o.jsxs(lt,{severity:"success",sx:{mt:3},children:["Поздравляем! Платежи настроены и готовы к работе.",d&&" Не забудьте отключить тестовый режим для приема реальных платежей."]})]})]})]}),o.jsx(ot,{sx:{mt:4},children:o.jsxs(it,{children:[o.jsx(B,{variant:"h6",gutterBottom:!0,children:"Преимущества собственного эквайринга"}),o.jsxs(go,{children:[o.jsxs(er,{children:[o.jsx(Vc,{children:o.jsx(os,{color:"success"})}),o.jsx(tr,{primary:"Прямые платежи на ваш счет",secondary:"Деньги поступают напрямую без посредников"})]}),o.jsxs(er,{children:[o.jsx(Vc,{children:o.jsx(os,{color:"success"})}),o.jsx(tr,{primary:"Полный контроль",secondary:"Вы сами управляете возвратами и платежами"})]}),o.jsxs(er,{children:[o.jsx(Vc,{children:o.jsx(os,{color:"success"})}),o.jsx(tr,{primary:"Низкие комиссии",secondary:"Только комиссия вашего банка, без дополнительных сборов"})]})]})]})}),o.jsxs(or,{open:x,onClose:()=>w(!1),children:[o.jsx(Cr,{children:"Проверка подключения"}),o.jsx(ir,{children:C?o.jsx(lt,{severity:C.success?"success":"error",sx:{mt:1},children:C.message}):o.jsxs(te,{display:"flex",alignItems:"center",gap:2,py:2,children:[o.jsx(pn,{size:24}),o.jsx(B,{children:"Проверяем подключение..."})]})}),o.jsxs(br,{children:[o.jsx(ke,{onClick:()=>w(!1),children:"Закрыть"}),(C==null?void 0:C.success)&&o.jsx(ke,{variant:"contained",onClick:()=>{h(!0),w(!1),D()},children:"Активировать платежи"})]})]})]})}function WA(){const{isSuperAdmin:e}=on(),[t,n]=f.useState(!0),[r,s]=f.useState(!1),[i,a]=f.useState({tbank:{terminalKey:"",password:"",notificationUrl:"https://europe-west1-sports-booking-app-1d7e5.cloudfunctions.net/tbankWebhook",testMode:!0},autoRenewal:!0,gracePeriodDays:3}),[l,c]=f.useState(!1),[d,u]=f.useState(!1),[p,h]=f.useState({totalRevenue:0,activeSubscriptions:0,pendingPayments:0,failedPayments:0}),[g,v]=f.useState(null),[m,y]=f.useState({});f.useEffect(()=>{x(),w(),C()},[]);const x=async()=>{try{const j=Ne(se,"settings","billing"),E=await Ct(j);if(E.exists()){const T=E.data();a(T)}}catch(j){console.error("Error loading billing config:",j)}finally{n(!1)}},w=async()=>{try{const j=Ge(Pe(se,"subscriptions"),Ee("status","==","active")),E=await qe(j);h({totalRevenue:0,activeSubscriptions:E.size,pendingPayments:0,failedPayments:0})}catch(j){console.error("Error loading billing stats:",j)}},C=()=>{const j={};Object.entries(hr).forEach(([E,T])=>{j[E]=T.price}),y(j)},k=async()=>{try{s(!0);const j=Ne(se,"settings","billing");await eg(j,{...i,updatedAt:new Date},{merge:!0}),c(!1),alert("Настройки биллинга сохранены")}catch(j){console.error("Error saving billing config:",j),alert("Ошибка при сохранении настроек")}finally{s(!1)}},_=async j=>{try{alert(`Цена тарифа ${hr[j].name} обновлена`),v(null)}catch(E){console.error("Error updating plan price:",E),alert("Ошибка при обновлении цены")}};return e?t?o.jsx(te,{sx:{display:"flex",justifyContent:"center",p:3},children:o.jsx(pn,{})}):o.jsx(Io,{requiredPermission:"superadmin",children:o.jsxs(te,{sx:{p:3},children:[o.jsx(lt,{severity:"info",sx:{mb:3},children:"Данный раздел доступен только суперадминистраторам системы"}),o.jsx(B,{variant:"h4",gutterBottom:!0,children:"Настройки биллинга"}),o.jsxs(Ae,{container:!0,spacing:3,sx:{mb:3},children:[o.jsx(Ae,{item:!0,xs:12,sm:6,md:3,children:o.jsx(ot,{children:o.jsxs(it,{children:[o.jsxs(te,{display:"flex",alignItems:"center",gap:1,children:[o.jsx(fc,{color:"primary"}),o.jsx(B,{color:"textSecondary",gutterBottom:!0,children:"Общий доход"})]}),o.jsxs(B,{variant:"h5",children:[p.totalRevenue.toLocaleString("ru-RU")," ₽"]})]})})}),o.jsx(Ae,{item:!0,xs:12,sm:6,md:3,children:o.jsx(ot,{children:o.jsxs(it,{children:[o.jsxs(te,{display:"flex",alignItems:"center",gap:1,children:[o.jsx(mi,{color:"success"}),o.jsx(B,{color:"textSecondary",gutterBottom:!0,children:"Активные подписки"})]}),o.jsx(B,{variant:"h5",children:p.activeSubscriptions})]})})}),o.jsx(Ae,{item:!0,xs:12,sm:6,md:3,children:o.jsx(ot,{children:o.jsxs(it,{children:[o.jsxs(te,{display:"flex",alignItems:"center",gap:1,children:[o.jsx(mi,{color:"warning"}),o.jsx(B,{color:"textSecondary",gutterBottom:!0,children:"Ожидают оплаты"})]}),o.jsx(B,{variant:"h5",children:p.pendingPayments})]})})}),o.jsx(Ae,{item:!0,xs:12,sm:6,md:3,children:o.jsx(ot,{children:o.jsxs(it,{children:[o.jsxs(te,{display:"flex",alignItems:"center",gap:1,children:[o.jsx(mi,{color:"error"}),o.jsx(B,{color:"textSecondary",gutterBottom:!0,children:"Неудачные платежи"})]}),o.jsx(B,{variant:"h5",children:p.failedPayments})]})})})]}),o.jsx(ot,{sx:{mb:3},children:o.jsxs(it,{children:[o.jsxs(te,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[o.jsx(B,{variant:"h6",children:"Настройки Т-Банк"}),l?o.jsxs(te,{children:[o.jsx(ke,{startIcon:o.jsx(ol,{}),onClick:()=>{c(!1),x()},sx:{mr:1},children:"Отмена"}),o.jsx(ke,{startIcon:o.jsx(Wd,{}),onClick:k,variant:"contained",disabled:r,children:"Сохранить"})]}):o.jsx(ke,{startIcon:o.jsx(Pi,{}),onClick:()=>c(!0),variant:"outlined",children:"Редактировать"})]}),o.jsxs(Ae,{container:!0,spacing:2,children:[o.jsx(Ae,{item:!0,xs:12,md:6,children:o.jsx(Ye,{label:"Terminal Key",value:i.tbank.terminalKey,onChange:j=>a({...i,tbank:{...i.tbank,terminalKey:j.target.value}}),fullWidth:!0,disabled:!l,helperText:"Ключ терминала для рекуррентных платежей"})}),o.jsx(Ae,{item:!0,xs:12,md:6,children:o.jsx(Ye,{label:"Password",type:d?"text":"password",value:i.tbank.password,onChange:j=>a({...i,tbank:{...i.tbank,password:j.target.value}}),fullWidth:!0,disabled:!l,helperText:"Пароль для API Т-Банк",InputProps:{endAdornment:l&&o.jsx(ke,{size:"small",onClick:()=>u(!d),children:d?"Скрыть":"Показать"})}})}),o.jsx(Ae,{item:!0,xs:12,children:o.jsx(Ye,{label:"Notification URL",value:i.tbank.notificationUrl,onChange:j=>a({...i,tbank:{...i.tbank,notificationUrl:j.target.value}}),fullWidth:!0,disabled:!l,helperText:"URL для получения уведомлений от Т-Банк"})}),o.jsxs(Ae,{item:!0,xs:12,children:[o.jsx(rl,{control:o.jsx(Xs,{checked:i.tbank.testMode,onChange:j=>a({...i,tbank:{...i.tbank,testMode:j.target.checked}}),disabled:!l}),label:"Тестовый режим"}),i.tbank.testMode&&o.jsx(lt,{severity:"warning",sx:{mt:1},children:"Включен тестовый режим. Реальные платежи не будут проводиться."})]})]})]})}),o.jsx(ot,{sx:{mb:3},children:o.jsxs(it,{children:[o.jsx(B,{variant:"h6",gutterBottom:!0,children:"Общие настройки"}),o.jsxs(Ae,{container:!0,spacing:2,children:[o.jsx(Ae,{item:!0,xs:12,children:o.jsx(rl,{control:o.jsx(Xs,{checked:i.autoRenewal,onChange:j=>a({...i,autoRenewal:j.target.checked}),disabled:!l}),label:"Автоматическое продление подписок"})}),o.jsx(Ae,{item:!0,xs:12,md:6,children:o.jsx(Ye,{label:"Льготный период (дней)",type:"number",value:i.gracePeriodDays,onChange:j=>a({...i,gracePeriodDays:parseInt(j.target.value)||0}),fullWidth:!0,disabled:!l,helperText:"Количество дней после неудачного платежа до блокировки"})})]})]})}),o.jsx(ot,{children:o.jsxs(it,{children:[o.jsx(B,{variant:"h6",gutterBottom:!0,children:"Тарифные планы"}),o.jsx(pc,{component:sn,variant:"outlined",children:o.jsxs(cc,{children:[o.jsx(hc,{children:o.jsxs(Gr,{children:[o.jsx(Be,{children:"Тариф"}),o.jsx(Be,{children:"Описание"}),o.jsx(Be,{align:"right",children:"Цена за корт/мес"}),o.jsx(Be,{align:"center",children:"Статус"}),o.jsx(Be,{align:"center",children:"Действия"})]})}),o.jsx(uc,{children:Object.entries(hr).map(([j,E])=>o.jsxs(Gr,{children:[o.jsx(Be,{children:o.jsx(B,{variant:"subtitle2",children:E.name})}),o.jsx(Be,{children:o.jsx(B,{variant:"body2",color:"textSecondary",children:E.features[0]})}),o.jsx(Be,{align:"right",children:g===j?o.jsx(Ye,{type:"number",value:m[j],onChange:T=>y({...m,[j]:parseInt(T.target.value)||0}),size:"small",sx:{width:120}}):o.jsx(B,{children:E.price===0?"Бесплатно":`${E.price.toLocaleString("ru-RU")} ₽`})}),o.jsx(Be,{align:"center",children:o.jsx(Tr,{label:"Активен",color:"success",size:"small"})}),o.jsx(Be,{align:"center",children:g===j?o.jsxs(o.Fragment,{children:[o.jsx(cn,{size:"small",onClick:()=>_(j),color:"primary",children:o.jsx(Wd,{})}),o.jsx(cn,{size:"small",onClick:()=>{v(null),C()},children:o.jsx(ol,{})})]}):o.jsx(cn,{size:"small",onClick:()=>v(j),disabled:j==="start",children:o.jsx(Pi,{})})})]},j))})]})})]})})]})}):o.jsx(te,{sx:{p:3},children:o.jsx(lt,{severity:"error",children:"У вас нет доступа к настройкам биллинга"})})}function HA(){const{admin:e}=Ht(),{isSuperAdmin:t}=on(),[n,r]=f.useState(null),[s,i]=f.useState(!0),[a,l]=f.useState("month"),[c,d]=f.useState("all"),[u,p]=f.useState({totalRevenue:0,bookingsCount:0,averageCheck:0,revenueChange:0}),[h,g]=f.useState([]);f.useEffect(()=>{if(t){const y=localStorage.getItem("selectedVenueId");y?(r(y),m(y)):i(!1)}else e!=null&&e.venueId&&m(e.venueId)},[e,t,a,c]);const v=y=>{r(y),localStorage.setItem("selectedVenueId",y),y&&m(y)},m=async y=>{const x=y||(e==null?void 0:e.venueId);if(x)try{i(!0);const w=new Date;let C=new Date;switch(a){case"week":C.setDate(w.getDate()-7);break;case"month":C.setMonth(w.getMonth()-1);break;case"year":C.setFullYear(w.getFullYear()-1);break}console.log("Loading finance data for venue:",x),console.log("Period:",a,"Start date:",C);const k=Ge(Pe(se,"bookings"),Ee("venueId","==",x)),_=await qe(k);console.log("Total bookings found:",_.size);let j=_.docs.map(D=>{var L;return{id:D.id,...D.data(),date:(L=D.data().date)==null?void 0:L.toDate(),paymentStatus:D.data().paymentStatus||"awaiting_payment",paymentMethod:D.data().paymentMethod||"cash"}});j=j.filter(D=>D.date?D.date>=C&&D.status==="confirmed":!1),console.log("Bookings after date filter:",j.length),j=j.filter(D=>D.paymentStatus==="paid"||D.paymentStatus==="online_payment"),console.log("Paid bookings:",j.length),c!=="all"&&(j=j.filter(D=>D.paymentMethod===c));const E=j.reduce((D,L)=>D+(L.amount||0),0),T=j.length,S=T>0?E/T:0;p({totalRevenue:E,bookingsCount:T,averageCheck:S,revenueChange:15.5});const M=j.reduce((D,L)=>{var P;const I=(P=L.date)==null?void 0:P.toLocaleDateString("ru-RU");return D[I]||(D[I]={date:L.date,bookings:0,revenue:0}),D[I].bookings++,D[I].revenue+=L.amount||0,D},{});g(Object.values(M).slice(0,10))}catch(w){console.error("Error loading finance data:",w)}finally{i(!1)}};return s?o.jsx(te,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:o.jsx(pn,{})}):t&&!n?o.jsx(Do,{title:"Выберите клуб для просмотра финансов"}):o.jsxs(te,{children:[t&&o.jsx(Ro,{selectedVenueId:n,onVenueChange:v}),o.jsxs(te,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[o.jsx(B,{variant:"h5",component:"h2",children:"Финансовая аналитика"}),o.jsxs(te,{display:"flex",gap:2,children:[o.jsxs(ar,{size:"small",sx:{minWidth:150},children:[o.jsx(Er,{children:"Способ оплаты"}),o.jsxs(dr,{value:c,label:"Способ оплаты",onChange:y=>d(y.target.value),children:[o.jsx(Mt,{value:"all",children:"Все"}),o.jsx(Mt,{value:"cash",children:"Наличные"}),o.jsx(Mt,{value:"card_on_site",children:"Карта на месте"}),o.jsx(Mt,{value:"transfer",children:"Перевод"}),o.jsx(Mt,{value:"online",children:"Онлайн оплата"})]})]}),o.jsxs(ar,{size:"small",sx:{minWidth:120},children:[o.jsx(Er,{children:"Период"}),o.jsxs(dr,{value:a,label:"Период",onChange:y=>l(y.target.value),children:[o.jsx(Mt,{value:"week",children:"Неделя"}),o.jsx(Mt,{value:"month",children:"Месяц"}),o.jsx(Mt,{value:"year",children:"Год"})]})]})]})]}),o.jsxs(Ae,{container:!0,spacing:3,mb:4,children:[o.jsx(Ae,{item:!0,xs:12,sm:6,md:3,children:o.jsx(ot,{children:o.jsxs(it,{children:[o.jsxs(te,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[o.jsx(vo,{color:"primary"}),o.jsx(Tr,{size:"small",label:`+${u.revenueChange}%`,color:"success",icon:o.jsx(fc,{})})]}),o.jsx(B,{color:"text.secondary",variant:"body2",children:"Общий доход"}),o.jsxs(B,{variant:"h5",component:"div",children:[u.totalRevenue.toLocaleString("ru-RU")," ₽"]})]})})}),o.jsx(Ae,{item:!0,xs:12,sm:6,md:3,children:o.jsx(ot,{children:o.jsxs(it,{children:[o.jsx(te,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:o.jsx(sx,{color:"primary"})}),o.jsx(B,{color:"text.secondary",variant:"body2",children:"Количество бронирований"}),o.jsx(B,{variant:"h5",component:"div",children:u.bookingsCount})]})})}),o.jsx(Ae,{item:!0,xs:12,sm:6,md:3,children:o.jsx(ot,{children:o.jsxs(it,{children:[o.jsx(te,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:o.jsx(vo,{color:"primary"})}),o.jsx(B,{color:"text.secondary",variant:"body2",children:"Средний чек"}),o.jsxs(B,{variant:"h5",component:"div",children:[Math.round(u.averageCheck).toLocaleString("ru-RU")," ₽"]})]})})})]}),o.jsx(ot,{children:o.jsxs(it,{children:[o.jsx(B,{variant:"h6",component:"h3",gutterBottom:!0,children:"Последние транзакции"}),o.jsx(pc,{component:sn,variant:"outlined",children:o.jsxs(cc,{children:[o.jsx(hc,{children:o.jsxs(Gr,{children:[o.jsx(Be,{children:"Дата"}),o.jsx(Be,{align:"center",children:"Бронирований"}),o.jsx(Be,{align:"right",children:"Сумма"})]})}),o.jsx(uc,{children:h.map((y,x)=>{var w;return o.jsxs(Gr,{children:[o.jsx(Be,{children:(w=y.date)==null?void 0:w.toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"})}),o.jsx(Be,{align:"center",children:y.bookings}),o.jsxs(Be,{align:"right",children:[y.revenue.toLocaleString("ru-RU")," ₽"]})]},x)})})]})})]})})]})}function UA(){const{admin:e}=Ht(),{isSuperAdmin:t}=on(),[n,r]=f.useState(null),[s,i]=f.useState(!0),[a,l]=f.useState({smsEnabled:!1,emailEnabled:!1,pushEnabled:!1,promotions:[]}),[c,d]=f.useState(!1),[u,p]=f.useState({name:"",description:"",discount:10,validUntil:"",active:!0});f.useEffect(()=>{if(t){const x=localStorage.getItem("selectedVenueId");x?(r(x),g(x)):i(!1)}else e!=null&&e.venueId&&g(e.venueId)},[e,t]);const h=x=>{r(x),localStorage.setItem("selectedVenueId",x),x&&g(x)},g=async x=>{const w=x||(e==null?void 0:e.venueId);if(w)try{i(!0);const C=await Ct(Ne(se,"venues",w));if(C.exists()){const k=C.data();l({smsEnabled:k.marketingSms||!1,emailEnabled:k.marketingEmail||!1,pushEnabled:k.marketingPush||!1,promotions:k.promotions||[]})}}catch(C){console.error("Error loading marketing data:",C)}finally{i(!1)}},v=async x=>{const w=t?n:e==null?void 0:e.venueId;if(!w)return;const C=!a[x];try{await Ft(Ne(se,"venues",w),{[`marketing${x.charAt(0).toUpperCase()+x.slice(1).replace("Enabled","")}`]:C}),l(k=>({...k,[x]:C}))}catch(k){console.error("Error updating notification settings:",k)}},m=async()=>{const x=t?n:e==null?void 0:e.venueId;if(!x)return;const w={...u,id:Date.now().toString(),createdAt:new Date};try{const C=[...a.promotions,w];await Ft(Ne(se,"venues",x),{promotions:C}),l(k=>({...k,promotions:C})),d(!1),p({name:"",description:"",discount:10,validUntil:"",active:!0})}catch(C){console.error("Error creating promotion:",C)}},y=async x=>{const w=t?n:e==null?void 0:e.venueId;if(w)try{const C=a.promotions.filter(k=>k.id!==x);await Ft(Ne(se,"venues",w),{promotions:C}),l(k=>({...k,promotions:C}))}catch(C){console.error("Error deleting promotion:",C)}};return s?o.jsx(te,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:o.jsx(pn,{})}):t&&!n?o.jsx(Do,{title:"Выберите клуб для управления маркетингом"}):o.jsxs(te,{children:[t&&o.jsx(Ro,{selectedVenueId:n,onVenueChange:h}),o.jsx(B,{variant:"h5",component:"h2",gutterBottom:!0,children:"Маркетинг и продвижение"}),o.jsxs(Ae,{container:!0,spacing:3,children:[o.jsx(Ae,{item:!0,xs:12,md:6,children:o.jsx(ot,{children:o.jsxs(it,{children:[o.jsx(B,{variant:"h6",component:"h3",gutterBottom:!0,children:"Каналы коммуникации"}),o.jsxs(go,{children:[o.jsxs(er,{children:[o.jsx(tr,{primary:"SMS-рассылки",secondary:"Отправка СМС клиентам о акциях и напоминаниях"}),o.jsx(ls,{children:o.jsx(Xs,{checked:a.smsEnabled,onChange:()=>v("smsEnabled")})})]}),o.jsxs(er,{children:[o.jsx(tr,{primary:"Email-рассылки",secondary:"Отправка писем с новостями и предложениями"}),o.jsx(ls,{children:o.jsx(Xs,{checked:a.emailEnabled,onChange:()=>v("emailEnabled")})})]}),o.jsxs(er,{children:[o.jsx(tr,{primary:"Push-уведомления",secondary:"Мгновенные уведомления в мобильном приложении"}),o.jsx(ls,{children:o.jsx(Xs,{checked:a.pushEnabled,onChange:()=>v("pushEnabled")})})]})]})]})})}),o.jsx(Ae,{item:!0,xs:12,md:6,children:o.jsx(ot,{children:o.jsxs(it,{children:[o.jsx(B,{variant:"h6",component:"h3",gutterBottom:!0,children:"Быстрые действия"}),o.jsxs(Ae,{container:!0,spacing:2,children:[o.jsx(Ae,{item:!0,xs:12,children:o.jsx(ke,{variant:"outlined",fullWidth:!0,startIcon:o.jsx(JD,{}),sx:{justifyContent:"flex-start",textAlign:"left"},children:"Генерировать QR-код клуба"})}),o.jsx(Ae,{item:!0,xs:12,children:o.jsx(ke,{variant:"outlined",fullWidth:!0,startIcon:o.jsx(ox,{}),sx:{justifyContent:"flex-start",textAlign:"left"},children:"Поделиться ссылкой на клуб"})}),o.jsx(Ae,{item:!0,xs:12,children:o.jsx(ke,{variant:"outlined",fullWidth:!0,startIcon:o.jsx(OD,{}),sx:{justifyContent:"flex-start",textAlign:"left"},children:"Создать рассылку"})})]})]})})}),o.jsx(Ae,{item:!0,xs:12,children:o.jsx(ot,{children:o.jsxs(it,{children:[o.jsxs(te,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[o.jsx(B,{variant:"h6",component:"h3",children:"Активные акции"}),o.jsx(ke,{variant:"contained",startIcon:o.jsx(Zi,{}),onClick:()=>d(!0),children:"Создать акцию"})]}),a.promotions.length===0?o.jsx(lt,{severity:"info",children:"У вас пока нет активных акций. Создайте первую акцию для привлечения клиентов."}):o.jsx(go,{children:a.promotions.map(x=>o.jsxs(er,{children:[o.jsx(tr,{primary:x.name,secondary:o.jsxs(te,{children:[o.jsx(B,{variant:"body2",children:x.description}),o.jsxs(te,{mt:1,children:[o.jsx(Tr,{size:"small",label:`-${x.discount}%`,color:"primary",sx:{mr:1}}),x.validUntil&&o.jsx(Tr,{size:"small",label:`До ${new Date(x.validUntil).toLocaleDateString("ru-RU")}`,variant:"outlined"})]})]})}),o.jsx(ls,{children:o.jsx(cn,{onClick:()=>y(x.id),children:o.jsx(xs,{})})})]},x.id))})]})})})]}),o.jsxs(or,{open:c,onClose:()=>d(!1),maxWidth:"sm",fullWidth:!0,children:[o.jsx(Cr,{children:"Создать акцию"}),o.jsxs(ir,{children:[o.jsx(Ye,{autoFocus:!0,margin:"dense",label:"Название акции",fullWidth:!0,variant:"outlined",value:u.name,onChange:x=>p(w=>({...w,name:x.target.value})),sx:{mb:2}}),o.jsx(Ye,{margin:"dense",label:"Описание",fullWidth:!0,multiline:!0,rows:3,variant:"outlined",value:u.description,onChange:x=>p(w=>({...w,description:x.target.value})),sx:{mb:2}}),o.jsx(Ye,{margin:"dense",label:"Размер скидки (%)",type:"number",fullWidth:!0,variant:"outlined",value:u.discount,onChange:x=>p(w=>({...w,discount:parseInt(x.target.value)||0})),sx:{mb:2}}),o.jsx(Ye,{margin:"dense",label:"Действует до",type:"date",fullWidth:!0,variant:"outlined",InputLabelProps:{shrink:!0},value:u.validUntil,onChange:x=>p(w=>({...w,validUntil:x.target.value}))})]}),o.jsxs(br,{children:[o.jsx(ke,{onClick:()=>d(!1),children:"Отмена"}),o.jsx(ke,{onClick:m,variant:"contained",children:"Создать"})]})]})]})}async function bx(e){try{console.log("Тестирование через Cloud Function...");const t=jy(void 0,"europe-west1"),r=await Sy(t,"testEmailSending")({testEmail:e});return console.log("✅ Результат отправки через функцию:",r.data),r.data}catch(t){console.error("❌ Ошибка при отправке через функцию:",t),console.log("Попытка отправки напрямую в коллекцию mail...");try{const n=await gr(Pe(se,"mail"),{to:e,message:{subject:"Тест Email Extension - Все Корты",text:"Если вы видите это письмо, значит Firebase Extension работает корректно!",html:`
            <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
              <h2 style="color: #00A86B;">✅ Тест Email Extension</h2>
              <p>Если вы видите это письмо, значит Firebase Extension для отправки email работает корректно!</p>
              <hr style="border: 1px solid #eee; margin: 20px 0;">
              <p style="color: #666; font-size: 14px;">
                Отправлено через Firebase Extension (firestore-send-email)<br>
                Время: ${new Date().toLocaleString("ru-RU")}
              </p>
            </div>
          `}});return console.log("✅ Email добавлен в очередь отправки:",n.id),{success:!0,message:"Email добавлен в очередь",mailId:n.id}}catch(n){throw console.error("❌ Ошибка при добавлении в коллекцию mail:",n),n}}}typeof window<"u"&&(window.testEmailExtension=bx);const VA=({defaultEmail:e=""})=>{const[t,n]=f.useState(!1),[r,s]=f.useState(e),[i,a]=f.useState(!1),[l,c]=f.useState(null),d=async()=>{if(!r||!r.includes("@")){c({success:!1,message:"Введите корректный email"});return}a(!0),c(null);try{const u=await bx(r);c({success:!0,message:`Тестовое письмо отправлено на ${r}`})}catch(u){c({success:!1,message:u.message||"Ошибка при отправке"})}finally{a(!1)}};return o.jsxs(o.Fragment,{children:[o.jsx(ke,{variant:"contained",startIcon:o.jsx(Hd,{}),onClick:()=>n(!0),color:"primary",children:"Отправить тестовое письмо"}),o.jsxs(or,{open:t,onClose:()=>n(!1),maxWidth:"sm",fullWidth:!0,children:[o.jsx(Cr,{children:"Тестирование отправки Email"}),o.jsx(ir,{children:o.jsxs(te,{sx:{mt:2},children:[o.jsx(Ye,{fullWidth:!0,label:"Email для теста",type:"email",value:r,onChange:u=>s(u.target.value),disabled:i,helperText:"Введите email, на который будет отправлено тестовое письмо"}),l&&o.jsx(lt,{severity:l.success?"success":"error",sx:{mt:2},children:l.message})]})}),o.jsxs(br,{children:[o.jsx(ke,{onClick:()=>n(!1),disabled:i,children:"Отмена"}),o.jsx(ke,{onClick:d,variant:"contained",disabled:i||!r,startIcon:i?o.jsx(pn,{size:20}):o.jsx(Hd,{}),children:i?"Отправка...":"Отправить"})]})]})]})};function YA(){const{admin:e}=Ht(),{isSuperAdmin:t}=on(),n=jn(),[r,s]=f.useState({superAdminEmails:[]}),[i,a]=f.useState(""),[l,c]=f.useState(!0),[d,u]=f.useState(!1),[p,h]=f.useState(!1),[g,v]=f.useState("");Fe.useEffect(()=>{t?m():n("/admin/dashboard")},[t,n]);const m=async()=>{try{const C=Ne(se,"settings","notifications"),k=await Ct(C);if(k.exists()){const _=k.data();s(_)}}catch(C){console.error("Error loading notification settings:",C),v("Ошибка загрузки настроек")}finally{c(!1)}},y=C=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(C),x=async()=>{if(!i){v("Введите email");return}if(!y(i)){v("Неверный формат email");return}if(r.superAdminEmails.includes(i)){v("Этот email уже добавлен");return}u(!0),v("");try{const C=[...r.superAdminEmails,i],k=Ne(se,"settings","notifications");await eg(k,{superAdminEmails:C,updatedAt:new Date},{merge:!0}),s({...r,superAdminEmails:C}),a(""),h(!0)}catch(C){console.error("Error adding email:",C),v("Ошибка при добавлении email")}finally{u(!1)}},w=async C=>{u(!0),v("");try{const k=r.superAdminEmails.filter(j=>j!==C),_=Ne(se,"settings","notifications");await Ft(_,{superAdminEmails:k,updatedAt:new Date}),s({...r,superAdminEmails:k}),h(!0)}catch(k){console.error("Error removing email:",k),v("Ошибка при удалении email")}finally{u(!1)}};return t?o.jsxs(te,{sx:{p:3},children:[o.jsxs(te,{sx:{mb:4,display:"flex",alignItems:"center",gap:2},children:[o.jsx(bp,{sx:{fontSize:32,color:"primary.main"}}),o.jsx(B,{variant:"h4",fontWeight:"bold",children:"Системные настройки"})]}),o.jsx(lt,{severity:"info",sx:{mb:3},children:"Данный раздел доступен только суперадминистраторам системы"}),o.jsxs(Ae,{container:!0,spacing:3,children:[o.jsx(Ae,{item:!0,xs:12,children:o.jsx(ot,{children:o.jsxs(it,{children:[o.jsxs(te,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[o.jsx(Bd,{color:"primary"}),o.jsx(B,{variant:"h6",children:"Email уведомления для суперадминистраторов"})]}),o.jsx(B,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Эти email адреса будут получать уведомления о новых регистрациях клубов и других важных событиях"}),o.jsx(Lr,{sx:{my:2}}),l?o.jsx(te,{sx:{display:"flex",justifyContent:"center",py:3},children:o.jsx(pn,{})}):o.jsxs(o.Fragment,{children:[o.jsx(te,{sx:{mb:3},children:o.jsxs(te,{sx:{display:"flex",gap:2,mb:2},children:[o.jsx(Ye,{fullWidth:!0,size:"small",label:"Email для уведомлений",value:i,onChange:C=>a(C.target.value),onKeyPress:C=>{C.key==="Enter"&&x()},error:!!g,helperText:g,disabled:d}),o.jsx(ke,{variant:"contained",onClick:x,disabled:d||!i,startIcon:o.jsx(Zi,{}),children:"Добавить"})]})}),o.jsx(go,{sx:{maxHeight:300,overflow:"auto"},children:r.superAdminEmails.length===0?o.jsx(er,{children:o.jsx(tr,{primary:"Нет добавленных email адресов",primaryTypographyProps:{color:"text.secondary",align:"center"}})}):r.superAdminEmails.map(C=>o.jsxs(er,{children:[o.jsx(tr,{primary:C,primaryTypographyProps:{fontWeight:500}}),o.jsx(ls,{children:o.jsx(cn,{edge:"end","aria-label":"delete",onClick:()=>w(C),disabled:d,children:o.jsx(xs,{})})})]},C))})]})]})})}),o.jsx(Ae,{item:!0,xs:12,md:6,children:o.jsx(ot,{children:o.jsxs(it,{children:[o.jsxs(te,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[o.jsx(Bd,{color:"primary"}),o.jsx(B,{variant:"h6",children:"Email уведомления"})]}),o.jsx(B,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Тестирование работы email уведомлений системы"}),o.jsx(Lr,{sx:{my:2}}),o.jsxs(te,{sx:{mb:2},children:[o.jsx(B,{variant:"subtitle2",gutterBottom:!0,children:"Текущие настройки:"}),o.jsx(B,{variant:"body2",color:"text.secondary",children:"SMTP сервер: smtp.timeweb.ru:465"}),o.jsx(B,{variant:"body2",color:"text.secondary",children:"От кого: noreply@allcourt.ru"}),o.jsx(B,{variant:"body2",color:"text.secondary",children:"Reply-to: support@allcourt.ru"})]}),o.jsxs(te,{sx:{mt:3},children:[o.jsx(B,{variant:"subtitle2",gutterBottom:!0,children:"Действия:"}),o.jsx(VA,{defaultEmail:(e==null?void 0:e.email)||""}),o.jsx(B,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:1},children:"Нажмите кнопку для отправки тестового письма"})]})]})})}),o.jsx(Ae,{item:!0,xs:12,md:6,children:o.jsx(ot,{children:o.jsxs(it,{children:[o.jsxs(te,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[o.jsx(xp,{color:"primary"}),o.jsx(B,{variant:"h6",children:"Безопасность"})]}),o.jsx(B,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Настройки безопасности и доступа"}),o.jsx(Lr,{sx:{my:2}}),o.jsx(B,{variant:"body2",color:"text.secondary",children:"Раздел в разработке"})]})})}),o.jsx(Ae,{item:!0,xs:12,md:6,children:o.jsx(ot,{children:o.jsxs(it,{children:[o.jsxs(te,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[o.jsx(nA,{color:"primary"}),o.jsx(B,{variant:"h6",children:"База данных"})]}),o.jsx(B,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Информация о базе данных"}),o.jsx(Lr,{sx:{my:2}}),o.jsxs(te,{children:[o.jsx(B,{variant:"subtitle2",gutterBottom:!0,children:"Firestore:"}),o.jsx(B,{variant:"body2",color:"text.secondary",children:"Проект: sports-booking-app-1d7e5"}),o.jsx(B,{variant:"body2",color:"text.secondary",children:"Регион: europe-west1"})]})]})})})]}),o.jsx(Jy,{open:p,autoHideDuration:3e3,onClose:()=>h(!1),message:"Настройки сохранены"})]}):null}function GA(){const{user:e}=Ht(),[t,n]=f.useState(null),[r,s]=f.useState("");return f.useEffect(()=>{(async()=>{if(!(e!=null&&e.email)){s("No user logged in");return}try{const a=Ge(Pe(se,"admins"),Ee("email","==",e.email)),l=await qe(a);if(l.empty)n({exists:!1,searchedEmail:e.email});else{const c=l.docs[0];n({id:c.id,data:c.data(),exists:!0})}}catch(a){s(a.message)}})()},[e]),o.jsxs(te,{sx:{p:3},children:[o.jsx(B,{variant:"h4",gutterBottom:!0,children:"Debug Information"}),o.jsx(ot,{sx:{mb:2},children:o.jsxs(it,{children:[o.jsx(B,{variant:"h6",children:"Current User"}),o.jsx("pre",{children:JSON.stringify(e,null,2)})]})}),o.jsx(ot,{sx:{mb:2},children:o.jsxs(it,{children:[o.jsx(B,{variant:"h6",children:"Admin Search Result"}),o.jsx("pre",{children:JSON.stringify(t,null,2)})]})}),r&&o.jsx(ot,{children:o.jsxs(it,{children:[o.jsx(B,{variant:"h6",color:"error",children:"Error"}),o.jsx(B,{children:r})]})})]})}class qA extends f.Component{constructor(n){super(n);Rp(this,"handleReset",()=>{this.setState({hasError:!1,error:void 0})});this.state={hasError:!1}}static getDerivedStateFromError(n){return{hasError:!0,error:Gd(n)}}componentDidCatch(n,r){const s=Gd(n);ax(s,{componentStack:r.componentStack,errorBoundary:!0})}render(){return this.state.hasError&&this.state.error?this.props.fallback?this.props.fallback(this.state.error,this.handleReset):o.jsx(te,{sx:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"400px",p:3},children:o.jsxs(sn,{elevation:3,sx:{p:4,maxWidth:500,textAlign:"center"},children:[o.jsx(BD,{sx:{fontSize:64,color:"error.main",mb:2}}),o.jsx(B,{variant:"h5",gutterBottom:!0,children:"Что-то пошло не так"}),o.jsx(B,{variant:"body1",color:"text.secondary",paragraph:!0,children:this.state.error.message}),!1,o.jsx(ke,{variant:"contained",startIcon:o.jsx(eA,{}),onClick:this.handleReset,sx:{mt:3},children:"Попробовать снова"})]})}):this.props.children}}const KA="modulepreload",QA=function(e){return"/admin/"+e},wm={},XA=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=QA(c),c in wm)return;wm[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":KA,d||(p.as="script"),p.crossOrigin="",p.href=c,l&&p.setAttribute("nonce",l),document.head.appendChild(p),d)return new Promise((h,g)=>{p.addEventListener("load",h),p.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},je={loadingContainer:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},loadingContent:{textAlign:"center"},spinner:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"},errorContainer:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},errorCard:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},errorIcon:{fontSize:"48px",marginBottom:"var(--spacing-md)"},errorTitle:{marginBottom:"var(--spacing-sm)"},errorText:{color:"var(--text-secondary)"},pageContainer:{minHeight:"100vh",backgroundColor:"var(--background)"},heroImage:{width:"100%",height:"100%",objectFit:"cover",cursor:"pointer"},heroPlaceholder:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"8px",backgroundColor:"var(--extra-light-gray)"},heroPlaceholderIcon:{fontSize:"48px",color:"var(--light-gray)"},heroPlaceholderText:{color:"var(--gray)"},desktopGallery:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"var(--spacing-md)",marginBottom:"var(--spacing-xl)"},galleryImage:{width:"100%",height:"150px",objectFit:"cover",borderRadius:"var(--radius-md)",cursor:"pointer",transition:"transform 0.2s"},mobileGallery:{display:"flex",gap:"var(--spacing-sm)",overflowX:"auto",marginBottom:"var(--spacing-lg)",paddingBottom:"var(--spacing-sm)",WebkitOverflowScrolling:"touch"},mobileGalleryImage:{minWidth:"120px",width:"120px",height:"80px",objectFit:"cover",borderRadius:"var(--radius-sm)",cursor:"pointer"},clubInfoWrapper:{marginBottom:"var(--spacing-xl)"},clubTitle:{marginBottom:"var(--spacing-sm)"},clubInfoItems:{display:"flex",flexWrap:"wrap",gap:"var(--spacing-lg)",marginBottom:"var(--spacing-lg)"},infoItem:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},infoIcon:{color:"var(--gray)",fontSize:"var(--icon-size-md)"},descriptionSection:{marginBottom:"var(--spacing-lg)"},descriptionText:{color:"var(--text-secondary)",lineHeight:1.6},courtsWrapper:{marginBottom:"var(--spacing-lg)"},courtsWrapperDesktop:{marginBottom:"0"},courtsTitle:{marginBottom:"var(--spacing-lg)"},noCourtsCard:{textAlign:"center",padding:"var(--spacing-3xl)"},noCourtsIcon:{fontSize:"48px",color:"var(--light-gray)"},noCourtsText:{color:"var(--gray)",marginTop:"var(--spacing-md)"},courtCardContent:{display:"flex",justifyContent:"space-between",alignItems:"center"},courtInfo:{flex:1},courtName:{marginBottom:"var(--spacing-xs)"},courtDetails:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)",flexWrap:"wrap"},courtPricing:{textAlign:"right",minWidth:"120px"},courtPrice:{color:"var(--primary)"},courtPriceUnit:{color:"var(--gray)"},courtIndoor:{color:"var(--gray)"},courtSurface:{color:"var(--gray)"},sidebarBookingCard:{marginBottom:"var(--spacing-lg)"},selectedCourtSection:{marginBottom:"var(--spacing-xs)"},selectedCourtDetails:{display:"flex",justifyContent:"space-between",alignItems:"center"},selectedCourtType:{color:"var(--gray)"},selectedCourtPrice:{color:"var(--primary)"}},ZA={contentPadding:{padding:"var(--spacing-xl)"}},Jc={container:{maxWidth:"1200px",margin:"0 auto",display:"grid",gridTemplateColumns:"1fr 400px",gap:"var(--spacing-2xl)",padding:"var(--spacing-2xl)",minHeight:"calc(100vh - 350px)"},mainContent:{flex:1},sidebar:{position:"sticky",top:"var(--spacing-2xl)",height:"fit-content",display:"flex",flexDirection:"column",gap:"var(--spacing-lg)"}};function ed({src:e,alt:t,className:n,style:r,onClick:s,loading:i="lazy",onMouseOver:a,onMouseOut:l}){const[c,d]=f.useState(i==="eager"),[u,p]=f.useState(!1),h=f.useRef(null);return f.useEffect(()=>{if(i==="eager"||!h.current)return;const g=new IntersectionObserver(v=>{v.forEach(m=>{m.isIntersecting&&(d(!0),g.unobserve(m.target))})},{rootMargin:"50px"});return g.observe(h.current),()=>{h.current&&g.unobserve(h.current)}},[i]),u?o.jsx("div",{style:{...r,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"var(--extra-light-gray)",color:"var(--gray)"},className:n,children:o.jsx("span",{children:"📷"})}):o.jsx("img",{ref:h,src:c?e:void 0,alt:t,className:n,style:r,onClick:s,onMouseOver:a,onMouseOut:l,onError:()=>p(!0),loading:i})}const JA=Fe.lazy(()=>XA(()=>import("./BookingModal-CQ6PF-Lm.js"),__vite__mapDeps([0,1,2]))),jm={padel:"#3B82F6",tennis:"#00D632",badminton:"#F59E0B"},td={padel:"Падел",tennis:"Теннис",badminton:"Бадминтон"},Sm={parking:"Парковка",showers:"Душевые",cafe:"Кафе",lockers:"Шкафчики",shop:"Магазин",wifi:"Wi-Fi",changing_rooms:"Раздевалки",equipment_rental:"Прокат снаряжения"};function e$(){const{clubId:e}=js();jn();const[t,n]=f.useState(null),[r,s]=f.useState([]),[i,a]=f.useState(!0),[l,c]=f.useState(""),[d,u]=f.useState(null),[p,h]=f.useState(!1),[g,v]=f.useState(!1),[m,y]=f.useState(0);f.useEffect(()=>{var S;if((S=t==null?void 0:t.photos)!=null&&S[0]){const M=document.createElement("link");return M.rel="preload",M.as="image",M.href=t.photos[0],document.head.appendChild(M),()=>{document.head.removeChild(M)}}},[t==null?void 0:t.photos]),f.useEffect(()=>{const S=performance.now();if(x().then(()=>{const M=performance.now()-S;console.log(`ClubPage loaded in ${M.toFixed(0)}ms`)}),e){const M=yr(Ge(Pe(se,"venues",e,"courts"),Ee("status","==","active")),D=>{const L=D.docs.map(I=>({id:I.id,...I.data()}));s(L)},D=>{console.error("Error listening to courts updates:",D)});return()=>M()}},[e]),f.useEffect(()=>{if(g){const S=M=>{M.key==="Escape"?_():M.key==="ArrowLeft"?j("prev"):M.key==="ArrowRight"&&j("next")};return document.addEventListener("keydown",S),()=>{document.removeEventListener("keydown",S)}}},[g]);const x=async()=>{if(!e){c("ID клуба не указан"),a(!1);return}try{const[S,M]=await Promise.all([Ct(Ne(se,"venues",e)),qe(Ge(Pe(se,"venues",e,"courts"),Ee("status","==","active")))]);if(!S.exists()){c("Клуб не найден"),a(!1);return}const D={id:S.id,...S.data()};if(S.data().status!=="active"){c("Клуб временно недоступен"),a(!1);return}console.log("Loaded venue data:",D);const L=M.docs.map(I=>({id:I.id,...I.data()}));n(D),s(L),a(!1)}catch(S){console.error("Error loading venue:",S),c("Ошибка при загрузке данных клуба"),a(!1)}},w=S=>{u(S)},C=()=>{if(d){if(!T){alert("Этот клуб находится на модерации и временно недоступен для бронирования.");return}console.log("Opening booking modal, venue:",t,"court:",d),h(!0)}},k=S=>{y(S),v(!0)},_=()=>{v(!1)},j=S=>{t!=null&&t.photos&&y(S==="prev"?M=>M===0?t.photos.length-1:M-1:M=>M===t.photos.length-1?0:M+1)};if(i)return o.jsxs("div",{style:je.loadingContainer,children:[o.jsxs("div",{style:je.loadingContent,children:[o.jsx("div",{className:"spinner",style:je.spinner}),o.jsx("p",{className:"body-small",children:"Загрузка..."})]}),o.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]});if(l)return o.jsx("div",{style:je.errorContainer,children:o.jsxs("div",{className:"flutter-card",style:je.errorCard,children:[o.jsx("div",{style:je.errorIcon,children:"❌"}),o.jsx("h2",{className:"h2",style:je.errorTitle,children:"Ошибка"}),o.jsx("p",{className:"body",style:je.errorText,children:l})]})});if(!t)return null;const E=window.innerWidth>768,T=t.status==="active";return o.jsxs("div",{style:je.pageContainer,children:[!T&&o.jsx("div",{style:{backgroundColor:"#fff3cd",borderBottom:"1px solid #ffeaa7",padding:"var(--spacing-lg)",textAlign:"center"},children:o.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto"},children:[o.jsx("h3",{className:"h3",style:{color:"#856404",marginBottom:"var(--spacing-sm)"},children:"Клуб находится на модерации"}),o.jsx("p",{className:"body",style:{color:"#856404"},children:"Данный клуб еще не прошел проверку и временно недоступен для бронирования. Страница будет активирована после проверки администратором."})]})}),E&&o.jsx("div",{className:"hero-image",children:t.photos&&t.photos.length>0?o.jsx(ed,{loading:"eager",src:t.photos[0],alt:t.name,style:je.heroImage,onClick:()=>k(0)}):o.jsxs("div",{style:je.heroPlaceholder,children:[o.jsx("span",{style:je.heroPlaceholderIcon,children:"🏸"}),o.jsx("span",{className:"body-small",style:je.heroPlaceholderText,children:"Фото клуба"})]})}),o.jsxs("div",{style:E?Jc.container:ZA.contentPadding,children:[o.jsxs("div",{style:E?Jc.mainContent:{},children:[E&&t.photos&&t.photos.length>0&&o.jsx("div",{style:je.desktopGallery,children:t.photos.map((S,M)=>o.jsx(ed,{loading:"lazy",src:S,alt:`${t.name} - фото ${M+1}`,className:"gallery-image",style:je.galleryImage,onMouseOver:D=>D.currentTarget.style.transform="scale(1.05)",onMouseOut:D=>D.currentTarget.style.transform="scale(1)",onClick:()=>k(M)},M))}),!E&&t.photos&&t.photos.length>0&&o.jsx("div",{style:je.mobileGallery,children:t.photos.map((S,M)=>o.jsx(ed,{loading:"lazy",src:S,alt:`${t.name} - фото ${M+1}`,style:je.mobileGalleryImage,onClick:()=>k(M)},M))}),o.jsxs("div",{style:je.clubInfoWrapper,children:[o.jsx("h1",{className:"h1",style:je.clubTitle,children:t.name}),o.jsxs("div",{style:je.clubInfoItems,children:[o.jsxs("div",{style:je.infoItem,children:[o.jsx("span",{style:je.infoIcon,children:"📍"}),o.jsx("span",{className:"body",children:t.address})]}),t.phone&&o.jsxs("div",{style:je.infoItem,children:[o.jsx("span",{style:je.infoIcon,children:"📞"}),o.jsx("span",{className:"body",children:t.phone})]})]})]}),!E&&o.jsxs("div",{style:je.courtsWrapper,children:[o.jsx("h3",{className:"h2",style:je.courtsTitle,children:"Доступные корты"}),r.length===0?o.jsxs("div",{className:"flutter-card",style:je.noCourtsCard,children:[o.jsx("span",{style:je.noCourtsIcon,children:"🎾"}),o.jsx("p",{className:"body",style:je.noCourtsText,children:"Нет доступных кортов"})]}):o.jsx("div",{children:r.map(S=>{const M=(d==null?void 0:d.id)===S.id;return o.jsx("div",{className:`court-card ${M?"selected":""}`,onClick:()=>w(S),children:o.jsxs("div",{style:je.courtCardContent,children:[o.jsxs("div",{style:je.courtInfo,children:[o.jsx("h4",{className:"body-bold",style:je.courtName,children:S.name}),o.jsxs("div",{style:je.courtDetails,children:[o.jsx("span",{className:`sport-chip ${S.type}`,style:{backgroundColor:jm[S.type]},children:td[S.type]}),S.indoor&&o.jsx("span",{className:"caption",style:je.courtIndoor,children:"Крытый"}),S.surface&&o.jsxs("span",{className:"caption",style:je.courtSurface,children:["• ",S.surface]})]})]}),o.jsxs("div",{style:je.courtPricing,children:[o.jsxs("div",{className:"h3",style:je.courtPrice,children:[S.pricePerHour||S.priceWeekday||0,"₽"]}),o.jsx("div",{className:"caption",style:je.courtPriceUnit,children:"за час"})]})]})},S.id)})})]}),!E&&t.description&&o.jsxs("div",{className:"info-section",style:je.descriptionSection,children:[o.jsx("h3",{className:"info-section-title",children:"О клубе"}),o.jsx("p",{className:"body",style:je.descriptionText,children:t.description})]}),!E&&o.jsxs(o.Fragment,{children:[t.workingHours&&o.jsxs("div",{className:"info-section",style:{marginBottom:"var(--spacing-lg)"},children:[o.jsx("h3",{className:"info-section-title",children:"Часы работы"}),o.jsxs("div",{style:{display:"grid",gap:"var(--spacing-xs)"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("span",{className:"body",children:"Будние дни (пн-пт)"}),o.jsx("span",{className:"body",style:{color:"var(--gray)"},children:t.workingHours.weekday||"07:00-23:00"})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("span",{className:"body",children:"Выходные (сб-вс)"}),o.jsx("span",{className:"body",style:{color:"var(--gray)"},children:t.workingHours.weekend||"08:00-22:00"})]})]})]}),t.amenities&&t.amenities.length>0&&o.jsxs("div",{className:"info-section",style:{marginBottom:"var(--spacing-lg)"},children:[o.jsx("h3",{className:"info-section-title",children:"Удобства"}),o.jsx("div",{style:{display:"flex",flexWrap:"wrap"},children:t.amenities.map(S=>o.jsxs("div",{className:"amenity-item",children:[o.jsx("span",{className:"check-icon",children:"✓"}),o.jsx("span",{className:"body",children:Sm[S]||S})]},S))})]})]}),E&&o.jsxs("div",{style:je.courtsWrapperDesktop,children:[o.jsx("h3",{className:"h2",style:je.courtsTitle,children:"Доступные корты"}),r.length===0?o.jsxs("div",{className:"flutter-card",style:je.noCourtsCard,children:[o.jsx("span",{style:je.noCourtsIcon,children:"🎾"}),o.jsx("p",{className:"body",style:je.noCourtsText,children:"Нет доступных кортов"})]}):o.jsx("div",{className:"courts-grid",children:r.map(S=>{const M=(d==null?void 0:d.id)===S.id;return o.jsx("div",{className:`court-card ${M?"selected":""}`,onClick:()=>w(S),children:o.jsxs("div",{style:je.courtCardContent,children:[o.jsxs("div",{style:je.courtInfo,children:[o.jsx("h4",{className:"body-bold",style:je.courtName,children:S.name}),o.jsxs("div",{style:je.courtDetails,children:[o.jsx("span",{className:`sport-chip ${S.type}`,style:{backgroundColor:jm[S.type]},children:td[S.type]}),S.indoor&&o.jsx("span",{className:"caption",style:je.courtIndoor,children:"Крытый"}),S.surface&&o.jsxs("span",{className:"caption",style:je.courtSurface,children:["• ",S.surface]})]})]}),o.jsxs("div",{style:je.courtPricing,children:[o.jsxs("div",{className:"h3",style:je.courtPrice,children:[S.pricePerHour||S.priceWeekday||0,"₽"]}),o.jsx("div",{className:"caption",style:je.courtPriceUnit,children:"за час"})]})]})},S.id)})})]}),E&&t.description&&o.jsxs("div",{className:"info-section",style:je.descriptionSection,children:[o.jsx("h3",{className:"info-section-title",children:"О клубе"}),o.jsx("p",{className:"body",style:je.descriptionText,children:t.description})]})]}),E&&o.jsxs("div",{style:Jc.sidebar,children:[o.jsxs("div",{className:"sticky-bottom-bar",style:je.sidebarBookingCard,children:[d&&o.jsxs("div",{className:"selected-court-summary",children:[o.jsx("h4",{className:"body-bold",style:je.selectedCourtSection,children:d.name}),o.jsxs("div",{style:je.selectedCourtDetails,children:[o.jsx("span",{className:"body-small",style:je.selectedCourtType,children:td[d.type]}),o.jsxs("span",{className:"body-bold",style:je.selectedCourtPrice,children:[d.pricePerHour||d.priceWeekday||0,"₽/час"]})]})]}),o.jsx("button",{className:"flutter-button",style:{width:"100%",marginBottom:"var(--spacing-md)"},onClick:C,disabled:!d,children:d?"Выбрать время":"Выберите корт"})]}),t.workingHours&&o.jsxs("div",{className:"info-section",style:{marginBottom:"var(--spacing-lg)"},children:[o.jsx("h3",{className:"info-section-title",children:"Часы работы"}),o.jsxs("div",{style:{display:"grid",gap:"var(--spacing-xs)"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("span",{className:"caption",children:"Будние дни (пн-пт)"}),o.jsx("span",{className:"caption",style:{color:"var(--gray)"},children:t.workingHours.weekday||"07:00-23:00"})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("span",{className:"caption",children:"Выходные (сб-вс)"}),o.jsx("span",{className:"caption",style:{color:"var(--gray)"},children:t.workingHours.weekend||"08:00-22:00"})]})]})]}),t.amenities&&t.amenities.length>0&&o.jsxs("div",{className:"info-section",children:[o.jsx("h3",{className:"info-section-title",children:"Удобства"}),o.jsx("div",{style:{display:"grid",gap:"var(--spacing-xs)"},children:t.amenities.map(S=>o.jsxs("div",{className:"amenity-item",style:{background:"transparent",padding:"var(--spacing-xs) 0",margin:0},children:[o.jsx("span",{className:"check-icon",children:"✓"}),o.jsx("span",{className:"caption",children:Sm[S]||S})]},S))})]})]})]}),!E&&o.jsx("div",{className:"sticky-bottom-bar",children:o.jsx("button",{className:"flutter-button",style:{width:"100%"},onClick:C,disabled:!d,children:d?`Выбрать время для ${d.name}`:"Выберите корт"})}),d&&t&&o.jsx(Fe.Suspense,{fallback:o.jsx("div",{}),children:o.jsx(JA,{isOpen:p,onClose:()=>h(!1),court:d,venue:t})}),g&&(t==null?void 0:t.photos)&&o.jsx("div",{className:"modal-backdrop",onClick:_,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.95)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center",padding:"var(--spacing-xl)"},children:o.jsxs("div",{onClick:S=>S.stopPropagation(),style:{position:"relative",maxWidth:"90vw",maxHeight:"90vh",display:"flex",alignItems:"center",justifyContent:"center"},children:[o.jsx("button",{onClick:_,style:{position:"absolute",top:"-40px",right:"0",background:"none",border:"none",color:"white",fontSize:"28px",cursor:"pointer",padding:"8px",zIndex:10,lineHeight:1},"aria-label":"Закрыть",children:"✕"}),t.photos.length>1&&o.jsx("button",{onClick:()=>j("prev"),style:{position:"absolute",left:window.innerWidth>768?"-50px":"10px",top:"50%",transform:"translateY(-50%)",background:"rgba(255, 255, 255, 0.1)",border:"none",color:"white",fontSize:"24px",cursor:"pointer",width:"40px",height:"40px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",transition:"background 0.2s",zIndex:5},onMouseEnter:S=>S.currentTarget.style.background="rgba(255, 255, 255, 0.2)",onMouseLeave:S=>S.currentTarget.style.background="rgba(255, 255, 255, 0.1)","aria-label":"Предыдущее фото",children:"←"}),o.jsx("img",{src:t.photos[m],alt:`${t.name} - фото ${m+1}`,style:{maxWidth:"100%",maxHeight:"90vh",objectFit:"contain",borderRadius:"var(--radius-md)"}}),t.photos.length>1&&o.jsx("button",{onClick:()=>j("next"),style:{position:"absolute",right:window.innerWidth>768?"-50px":"10px",top:"50%",transform:"translateY(-50%)",background:"rgba(255, 255, 255, 0.1)",border:"none",color:"white",fontSize:"24px",cursor:"pointer",width:"40px",height:"40px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",transition:"background 0.2s",zIndex:5},onMouseEnter:S=>S.currentTarget.style.background="rgba(255, 255, 255, 0.2)",onMouseLeave:S=>S.currentTarget.style.background="rgba(255, 255, 255, 0.1)","aria-label":"Следующее фото",children:"→"}),t.photos.length>1&&o.jsxs("div",{style:{position:"absolute",bottom:"-30px",left:"50%",transform:"translateX(-50%)",color:"white",fontSize:"14px",fontWeight:"500"},children:[m+1," / ",t.photos.length]})]})}),o.jsxs("div",{style:{borderTop:"1px solid var(--divider)",padding:"24px",marginTop:"40px",paddingBottom:E?"24px":"calc(140px + 24px)",textAlign:"center",backgroundColor:"var(--background)"},children:[o.jsx(id,{to:`/club/${e}/user-agreement`,style:{color:"var(--text-secondary)",fontSize:"14px",textDecoration:"none",borderBottom:"1px dashed var(--text-secondary)",transition:"color 0.2s"},onMouseEnter:S=>{S.currentTarget.style.color="var(--primary)",S.currentTarget.style.borderBottomColor="var(--primary)"},onMouseLeave:S=>{S.currentTarget.style.color="var(--text-secondary)",S.currentTarget.style.borderBottomColor="var(--text-secondary)"},children:"Пользовательское соглашение"}),(t==null?void 0:t.legalName)&&o.jsxs("div",{style:{marginTop:"12px",fontSize:"12px",color:"var(--text-disabled)"},children:["© ",new Date().getFullYear()," ",t.legalName]})]})]})}function Xe(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function de(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function me(e){de(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Sr(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Hr(e,t){de(2,arguments);var n=me(e),r=Xe(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function mc(e,t){de(2,arguments);var n=me(e).getTime(),r=Xe(t);return new Date(n+r)}function t$(e,t){de(2,arguments);var n=Xe(t);return mc(e,n*1e3)}var n$=6e4;function nr(e,t){de(2,arguments);var n=Xe(t);return mc(e,n*n$)}var r$=36e5;function s$(e,t){de(2,arguments);var n=Xe(t);return mc(e,n*r$)}function o$(e,t){de(2,arguments);var n=Xe(t),r=n*7;return Hr(e,r)}function Da(e,t){de(2,arguments);var n=me(e),r=Xe(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var s=n.getDate(),i=new Date(n.getTime());i.setMonth(n.getMonth()+r+1,0);var a=i.getDate();return s>=a?i:(n.setFullYear(i.getFullYear(),i.getMonth(),s),n)}function km(e,t){de(2,arguments);var n=Xe(t);return Da(e,n*12)}function i$(e,t){de(2,arguments);var n=me(e),r=me(t);return n.getFullYear()-r.getFullYear()}function gi(e,t){de(2,arguments);var n=me(e),r=me(t),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function a$(e,t){de(2,arguments);var n=me(e),r=me(t),s=gi(n,r),i=Math.abs(i$(n,r));n.setFullYear(1584),r.setFullYear(1584);var a=gi(n,r)===-s,l=s*(i-Number(a));return l===0?0:l}function l$(e,t){de(2,arguments);var n=me(e),r=me(t),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function Xd(e){de(1,arguments);var t=me(e);return t.setHours(23,59,59,999),t}function Zd(e){de(1,arguments);var t=me(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function c$(e){de(1,arguments);var t=me(e);return Xd(t).getTime()===Zd(t).getTime()}function Cx(e,t){de(2,arguments);var n=me(e),r=me(t),s=gi(n,r),i=Math.abs(l$(n,r)),a;if(i<1)a=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);var l=gi(n,r)===-s;c$(me(e))&&i===1&&gi(e,r)===1&&(l=!1),a=s*(i-Number(l))}return a===0?0:a}var _m={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},d$="trunc";function Ji(e){return e?_m[e]:_m[d$]}function u$(e,t,n){de(2,arguments);var r=Cx(e,t)/3;return Ji(void 0)(r)}function cl(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Cs(e){de(1,arguments);var t=me(e);return t.setHours(0,0,0,0),t}var p$=864e5;function h$(e,t){de(2,arguments);var n=Cs(e),r=Cs(t),s=n.getTime()-cl(n),i=r.getTime()-cl(r);return Math.round((s-i)/p$)}function Tm(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function wx(e,t){de(2,arguments);var n=me(e),r=me(t),s=Tm(n,r),i=Math.abs(h$(n,r));n.setDate(n.getDate()-s*i);var a=+(Tm(n,r)===-s),l=s*(i-a);return l===0?0:l}function f$(e,t,n){de(2,arguments);var r=wx(e,t)/7;return Ji(void 0)(r)}var gc=6e4,vc=36e5,m$=1e3;function yc(e,t){return de(2,arguments),me(e).getTime()-me(t).getTime()}function g$(e,t,n){de(2,arguments);var r=yc(e,t)/vc;return Ji(void 0)(r)}function v$(e,t,n){de(2,arguments);var r=yc(e,t)/gc;return Ji(void 0)(r)}function y$(e,t,n){de(2,arguments);var r=yc(e,t)/1e3;return Ji(void 0)(r)}function x$(e,t){var n;de(1,arguments);var r=e||{},s=me(r.start),i=me(r.end),a=i.getTime();if(!(s.getTime()<=a))throw new RangeError("Invalid interval");var l=[],c=s;c.setHours(0,0,0,0);var d=Number((n=void 0)!==null&&n!==void 0?n:1);if(d<1||isNaN(d))throw new RangeError("`options.step` must be a number greater than 1");for(;c.getTime()<=a;)l.push(me(c)),c.setDate(c.getDate()+d),c.setHours(0,0,0,0);return l}var b$={};function pr(){return b$}function nd(e,t){var n,r,s,i,a,l,c,d;de(1,arguments);var u=pr(),p=Xe((n=(r=(s=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:u.weekStartsOn)!==null&&r!==void 0?r:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=me(e),g=h.getDay(),v=(g<p?-7:0)+6-(g-p);return h.setDate(h.getDate()+v),h.setHours(23,59,59,999),h}function rd(e){de(1,arguments);var t=me(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function C$(e){return de(1,arguments),e instanceof Date||Sr(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function jx(e){if(de(1,arguments),!C$(e)&&typeof e!="number")return!1;var t=me(e);return!isNaN(Number(t))}function Sx(e,t){de(2,arguments);var n=Xe(t);return mc(e,-n)}var w$=864e5;function j$(e){de(1,arguments);var t=me(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),s=n-r;return Math.floor(s/w$)+1}function yo(e){de(1,arguments);var t=1,n=me(e),r=n.getUTCDay(),s=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function kx(e){de(1,arguments);var t=me(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=yo(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var a=yo(i);return t.getTime()>=s.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function S$(e){de(1,arguments);var t=kx(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=yo(n);return r}var k$=6048e5;function _x(e){de(1,arguments);var t=me(e),n=yo(t).getTime()-S$(t).getTime();return Math.round(n/k$)+1}function Mr(e,t){var n,r,s,i,a,l,c,d;de(1,arguments);var u=pr(),p=Xe((n=(r=(s=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:u.weekStartsOn)!==null&&r!==void 0?r:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=me(e),g=h.getUTCDay(),v=(g<p?7:0)+g-p;return h.setUTCDate(h.getUTCDate()-v),h.setUTCHours(0,0,0,0),h}function Cp(e,t){var n,r,s,i,a,l,c,d;de(1,arguments);var u=me(e),p=u.getUTCFullYear(),h=pr(),g=Xe((n=(r=(s=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:h.firstWeekContainsDate)!==null&&r!==void 0?r:(c=h.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setUTCFullYear(p+1,0,g),v.setUTCHours(0,0,0,0);var m=Mr(v,t),y=new Date(0);y.setUTCFullYear(p,0,g),y.setUTCHours(0,0,0,0);var x=Mr(y,t);return u.getTime()>=m.getTime()?p+1:u.getTime()>=x.getTime()?p:p-1}function _$(e,t){var n,r,s,i,a,l,c,d;de(1,arguments);var u=pr(),p=Xe((n=(r=(s=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:u.firstWeekContainsDate)!==null&&r!==void 0?r:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=Cp(e,t),g=new Date(0);g.setUTCFullYear(h,0,p),g.setUTCHours(0,0,0,0);var v=Mr(g,t);return v}var T$=6048e5;function Tx(e,t){de(1,arguments);var n=me(e),r=Mr(n,t).getTime()-_$(n,t).getTime();return Math.round(r/T$)+1}function Oe(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var Ar={y:function(t,n){var r=t.getUTCFullYear(),s=r>0?r:1-r;return Oe(n==="yy"?s%100:s,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):Oe(r+1,2)},d:function(t,n){return Oe(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return Oe(t.getUTCHours()%12||12,n.length)},H:function(t,n){return Oe(t.getUTCHours(),n.length)},m:function(t,n){return Oe(t.getUTCMinutes(),n.length)},s:function(t,n){return Oe(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,s=t.getUTCMilliseconds(),i=Math.floor(s*Math.pow(10,r-3));return Oe(i,n.length)}},Os={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},E$={G:function(t,n,r){var s=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var s=t.getUTCFullYear(),i=s>0?s:1-s;return r.ordinalNumber(i,{unit:"year"})}return Ar.y(t,n)},Y:function(t,n,r,s){var i=Cp(t,s),a=i>0?i:1-i;if(n==="YY"){var l=a%100;return Oe(l,2)}return n==="Yo"?r.ordinalNumber(a,{unit:"year"}):Oe(a,n.length)},R:function(t,n){var r=kx(t);return Oe(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return Oe(r,n.length)},Q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return Oe(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return Oe(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,n,r){var s=t.getUTCMonth();switch(n){case"M":case"MM":return Ar.M(t,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(t,n,r){var s=t.getUTCMonth();switch(n){case"L":return String(s+1);case"LL":return Oe(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(t,n,r,s){var i=Tx(t,s);return n==="wo"?r.ordinalNumber(i,{unit:"week"}):Oe(i,n.length)},I:function(t,n,r){var s=_x(t);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):Oe(s,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):Ar.d(t,n)},D:function(t,n,r){var s=j$(t);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):Oe(s,n.length)},E:function(t,n,r){var s=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(t,n,r,s){var i=t.getUTCDay(),a=(i-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(a);case"ee":return Oe(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,n,r,s){var i=t.getUTCDay(),a=(i-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(a);case"cc":return Oe(a,n.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,n,r){var s=t.getUTCDay(),i=s===0?7:s;switch(n){case"i":return String(i);case"ii":return Oe(i,n.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(t,n,r){var s=t.getUTCHours(),i=s/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,n,r){var s=t.getUTCHours(),i;switch(s===12?i=Os.noon:s===0?i=Os.midnight:i=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,n,r){var s=t.getUTCHours(),i;switch(s>=17?i=Os.evening:s>=12?i=Os.afternoon:s>=4?i=Os.morning:i=Os.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var s=t.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Ar.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Ar.H(t,n)},K:function(t,n,r){var s=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):Oe(s,n.length)},k:function(t,n,r){var s=t.getUTCHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):Oe(s,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Ar.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Ar.s(t,n)},S:function(t,n){return Ar.S(t,n)},X:function(t,n,r,s){var i=s._originalDate||t,a=i.getTimezoneOffset();if(a===0)return"Z";switch(n){case"X":return Mm(a);case"XXXX":case"XX":return ss(a);case"XXXXX":case"XXX":default:return ss(a,":")}},x:function(t,n,r,s){var i=s._originalDate||t,a=i.getTimezoneOffset();switch(n){case"x":return Mm(a);case"xxxx":case"xx":return ss(a);case"xxxxx":case"xxx":default:return ss(a,":")}},O:function(t,n,r,s){var i=s._originalDate||t,a=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+Em(a,":");case"OOOO":default:return"GMT"+ss(a,":")}},z:function(t,n,r,s){var i=s._originalDate||t,a=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+Em(a,":");case"zzzz":default:return"GMT"+ss(a,":")}},t:function(t,n,r,s){var i=s._originalDate||t,a=Math.floor(i.getTime()/1e3);return Oe(a,n.length)},T:function(t,n,r,s){var i=s._originalDate||t,a=i.getTime();return Oe(a,n.length)}};function Em(e,t){var n=e>0?"-":"+",r=Math.abs(e),s=Math.floor(r/60),i=r%60;if(i===0)return n+String(s);var a=t;return n+String(s)+a+Oe(i,2)}function Mm(e,t){if(e%60===0){var n=e>0?"-":"+";return n+Oe(Math.abs(e)/60,2)}return ss(e,t)}function ss(e,t){var n=t||"",r=e>0?"-":"+",s=Math.abs(e),i=Oe(Math.floor(s/60),2),a=Oe(s%60,2);return r+i+n+a}var Pm=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},Ex=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},M$=function(t,n){var r=t.match(/(P+)(p+)?/)||[],s=r[1],i=r[2];if(!i)return Pm(t,n);var a;switch(s){case"P":a=n.dateTime({width:"short"});break;case"PP":a=n.dateTime({width:"medium"});break;case"PPP":a=n.dateTime({width:"long"});break;case"PPPP":default:a=n.dateTime({width:"full"});break}return a.replace("{{date}}",Pm(s,n)).replace("{{time}}",Ex(i,n))},Jd={p:Ex,P:M$},P$=["D","DD"],N$=["YY","YYYY"];function Mx(e){return P$.indexOf(e)!==-1}function Px(e){return N$.indexOf(e)!==-1}function dl(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var I$={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},R$=function(t,n,r){var s,i=I$[t];return typeof i=="string"?s=i:n===1?s=i.one:s=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function Zs(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var D$={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},A$={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$$={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},O$={date:Zs({formats:D$,defaultWidth:"full"}),time:Zs({formats:A$,defaultWidth:"full"}),dateTime:Zs({formats:$$,defaultWidth:"full"})},L$={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},F$=function(t,n,r,s){return L$[t]};function Kn(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,a=n!=null&&n.width?String(n.width):i;s=e.formattingValues[a]||e.formattingValues[i]}else{var l=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[c]||e.values[l]}var d=e.argumentCallback?e.argumentCallback(t):t;return s[d]}}var z$={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},B$={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},W$={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},H$={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},U$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},V$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Y$=function(t,n){var r=Number(t),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},G$={ordinalNumber:Y$,era:Kn({values:z$,defaultWidth:"wide"}),quarter:Kn({values:B$,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Kn({values:W$,defaultWidth:"wide"}),day:Kn({values:H$,defaultWidth:"wide"}),dayPeriod:Kn({values:U$,defaultWidth:"wide",formattingValues:V$,defaultFormattingWidth:"wide"})};function Qn(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;var a=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?K$(l,function(p){return p.test(a)}):q$(l,function(p){return p.test(a)}),d;d=e.valueCallback?e.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;var u=t.slice(a.length);return{value:d,rest:u}}}function q$(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function K$(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function Nx(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var s=r[0],i=t.match(e.parsePattern);if(!i)return null;var a=e.valueCallback?e.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;var l=t.slice(s.length);return{value:a,rest:l}}}var Q$=/^(\d+)(th|st|nd|rd)?/i,X$=/\d+/i,Z$={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},J$={any:[/^b/i,/^(a|c)/i]},eO={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},tO={any:[/1/i,/2/i,/3/i,/4/i]},nO={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},rO={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},sO={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},oO={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},iO={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},aO={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},lO={ordinalNumber:Nx({matchPattern:Q$,parsePattern:X$,valueCallback:function(t){return parseInt(t,10)}}),era:Qn({matchPatterns:Z$,defaultMatchWidth:"wide",parsePatterns:J$,defaultParseWidth:"any"}),quarter:Qn({matchPatterns:eO,defaultMatchWidth:"wide",parsePatterns:tO,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Qn({matchPatterns:nO,defaultMatchWidth:"wide",parsePatterns:rO,defaultParseWidth:"any"}),day:Qn({matchPatterns:sO,defaultMatchWidth:"wide",parsePatterns:oO,defaultParseWidth:"any"}),dayPeriod:Qn({matchPatterns:iO,defaultMatchWidth:"any",parsePatterns:aO,defaultParseWidth:"any"})},wp={code:"en-US",formatDistance:R$,formatLong:O$,formatRelative:F$,localize:G$,match:lO,options:{weekStartsOn:0,firstWeekContainsDate:1}},cO=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,dO=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,uO=/^'([^]*?)'?$/,pO=/''/g,hO=/[a-zA-Z]/;function ft(e,t,n){var r,s,i,a,l,c,d,u,p,h,g,v,m,y,x,w,C,k;de(2,arguments);var _=String(t),j=pr(),E=(r=(s=n==null?void 0:n.locale)!==null&&s!==void 0?s:j.locale)!==null&&r!==void 0?r:wp,T=Xe((i=(a=(l=(c=n==null?void 0:n.firstWeekContainsDate)!==null&&c!==void 0?c:n==null||(d=n.locale)===null||d===void 0||(u=d.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&l!==void 0?l:j.firstWeekContainsDate)!==null&&a!==void 0?a:(p=j.locale)===null||p===void 0||(h=p.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var S=Xe((g=(v=(m=(y=n==null?void 0:n.weekStartsOn)!==null&&y!==void 0?y:n==null||(x=n.locale)===null||x===void 0||(w=x.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&m!==void 0?m:j.weekStartsOn)!==null&&v!==void 0?v:(C=j.locale)===null||C===void 0||(k=C.options)===null||k===void 0?void 0:k.weekStartsOn)!==null&&g!==void 0?g:0);if(!(S>=0&&S<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!E.localize)throw new RangeError("locale must contain localize property");if(!E.formatLong)throw new RangeError("locale must contain formatLong property");var M=me(e);if(!jx(M))throw new RangeError("Invalid time value");var D=cl(M),L=Sx(M,D),I={firstWeekContainsDate:T,weekStartsOn:S,locale:E,_originalDate:M},P=_.match(dO).map(function(R){var N=R[0];if(N==="p"||N==="P"){var O=Jd[N];return O(R,E.formatLong)}return R}).join("").match(cO).map(function(R){if(R==="''")return"'";var N=R[0];if(N==="'")return fO(R);var O=E$[N];if(O)return!(n!=null&&n.useAdditionalWeekYearTokens)&&Px(R)&&dl(R,t,String(e)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&Mx(R)&&dl(R,t,String(e)),O(L,R,E.localize,I);if(N.match(hO))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return R}).join("");return P}function fO(e){var t=e.match(uO);return t?t[1].replace(pO,"'"):e}function mO(e){de(1,arguments);var t=me(e),n=t.getDate();return n}function Ix(e){de(1,arguments);var t=me(e),n=t.getFullYear(),r=t.getMonth(),s=new Date(0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function gO(e){de(1,arguments);var t=me(e),n=t.getHours();return n}function vO(e){de(1,arguments);var t=me(e),n=t.getMinutes();return n}function yO(e){de(1,arguments);var t=me(e),n=t.getMonth();return n}function xO(e){de(1,arguments);var t=me(e),n=t.getSeconds();return n}function bO(e){de(1,arguments);var t=me(e),n=t.getMilliseconds();return n}function us(e,t){var n,r,s,i,a,l,c,d;de(1,arguments);var u=pr(),p=Xe((n=(r=(s=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:u.weekStartsOn)!==null&&r!==void 0?r:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=me(e),g=h.getDay(),v=(g<p?7:0)+g-p;return h.setDate(h.getDate()-v),h.setHours(0,0,0,0),h}function CO(e,t){var n,r,s,i,a,l,c,d;de(1,arguments);var u=me(e),p=u.getFullYear(),h=pr(),g=Xe((n=(r=(s=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:h.firstWeekContainsDate)!==null&&r!==void 0?r:(c=h.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setFullYear(p+1,0,g),v.setHours(0,0,0,0);var m=us(v,t),y=new Date(0);y.setFullYear(p,0,g),y.setHours(0,0,0,0);var x=us(y,t);return u.getTime()>=m.getTime()?p+1:u.getTime()>=x.getTime()?p:p-1}function wO(e,t){var n,r,s,i,a,l,c,d;de(1,arguments);var u=pr(),p=Xe((n=(r=(s=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:u.firstWeekContainsDate)!==null&&r!==void 0?r:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=CO(e,t),g=new Date(0);g.setFullYear(h,0,p),g.setHours(0,0,0,0);var v=us(g,t);return v}var jO=6048e5;function SO(e,t){de(1,arguments);var n=me(e),r=us(n,t).getTime()-wO(n,t).getTime();return Math.round(r/jO)+1}function kO(e){return de(1,arguments),me(e).getFullYear()}function Hn(e,t){de(2,arguments);var n=me(e),r=me(t);return n.getTime()>r.getTime()}function tn(e,t){de(2,arguments);var n=me(e),r=me(t);return n.getTime()<r.getTime()}function _O(e,t){de(2,arguments);var n=me(e),r=me(t);return n.getTime()===r.getTime()}function Rx(e,t){de(2,arguments);var n=Cs(e),r=Cs(t);return n.getTime()===r.getTime()}function TO(e,t){de(2,arguments);var n=me(e),r=me(t);return n.getFullYear()===r.getFullYear()}function EO(e,t){de(2,arguments);var n=me(e),r=me(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function Nm(e){de(1,arguments);var t=me(e);return t.setMinutes(0,0,0),t}function MO(e,t){de(2,arguments);var n=Nm(e),r=Nm(t);return n.getTime()===r.getTime()}function Im(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function PO(e,t){if(e){if(typeof e=="string")return Im(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Im(e,t):void 0}}function Rm(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=PO(e))||t){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(d){throw d},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var d=n.next();return a=d.done,d},e:function(d){l=!0,i=d},f:function(){try{a||n.return==null||n.return()}finally{if(l)throw i}}}}function NO(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function Ze(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ja(e,t)}function ul(e){return ul=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ul(e)}function Dx(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Dx=function(){return!!e})()}function IO(e,t){if(t&&(Sr(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ce(e)}function Je(e){var t=Dx();return function(){var n,r=ul(e);if(t){var s=ul(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return IO(this,n)}}function He(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Qg(r.key),r)}}function Ue(e,t,n){return t&&RO(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function be(e,t,n){return(t=Qg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var DO=10,Ax=function(){function e(){He(this,e),be(this,"priority",void 0),be(this,"subPriority",0)}return Ue(e,[{key:"validate",value:function(n,r){return!0}}]),e}(),AO=function(e){Ze(n,e);var t=Je(n);function n(r,s,i,a,l){var c;return He(this,n),c=t.call(this),c.value=r,c.validateValue=s,c.setValue=i,c.priority=a,l&&(c.subPriority=l),c}return Ue(n,[{key:"validate",value:function(s,i){return this.validateValue(s,this.value,i)}},{key:"set",value:function(s,i,a){return this.setValue(s,i,this.value,a)}}]),n}(Ax),$O=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",DO),be(Ce(r),"subPriority",-1),r}return Ue(n,[{key:"set",value:function(s,i){if(i.timestampIsSet)return s;var a=new Date(0);return a.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),a.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),a}}]),n}(Ax),rt=function(){function e(){He(this,e),be(this,"incompatibleTokens",void 0),be(this,"priority",void 0),be(this,"subPriority",void 0)}return Ue(e,[{key:"run",value:function(n,r,s,i){var a=this.parse(n,r,s,i);return a?{setter:new AO(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}},{key:"validate",value:function(n,r,s){return!0}}]),e}(),OO=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",140),be(Ce(r),"incompatibleTokens",["R","u","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){switch(i){case"G":case"GG":case"GGG":return a.era(s,{width:"abbreviated"})||a.era(s,{width:"narrow"});case"GGGGG":return a.era(s,{width:"narrow"});case"GGGG":default:return a.era(s,{width:"wide"})||a.era(s,{width:"abbreviated"})||a.era(s,{width:"narrow"})}}},{key:"set",value:function(s,i,a){return i.era=a,s.setUTCFullYear(a,0,1),s.setUTCHours(0,0,0,0),s}}]),n}(rt),Pt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Xn={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Nt(e,t){return e&&{value:t(e.value),rest:e.rest}}function jt(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function Zn(e,t){var n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};var r=n[1]==="+"?1:-1,s=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,a=n[5]?parseInt(n[5],10):0;return{value:r*(s*vc+i*gc+a*m$),rest:t.slice(n[0].length)}}function $x(e){return jt(Pt.anyDigitsSigned,e)}function Tt(e,t){switch(e){case 1:return jt(Pt.singleDigit,t);case 2:return jt(Pt.twoDigits,t);case 3:return jt(Pt.threeDigits,t);case 4:return jt(Pt.fourDigits,t);default:return jt(new RegExp("^\\d{1,"+e+"}"),t)}}function pl(e,t){switch(e){case 1:return jt(Pt.singleDigitSigned,t);case 2:return jt(Pt.twoDigitsSigned,t);case 3:return jt(Pt.threeDigitsSigned,t);case 4:return jt(Pt.fourDigitsSigned,t);default:return jt(new RegExp("^-?\\d{1,"+e+"}"),t)}}function jp(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Ox(e,t){var n=t>0,r=n?t:1-t,s;if(r<=50)s=e||100;else{var i=r+50,a=Math.floor(i/100)*100,l=e>=i%100;s=e+a-(l?100:0)}return n?s:1-s}function Lx(e){return e%400===0||e%4===0&&e%100!==0}var LO=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",130),be(Ce(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){var l=function(d){return{year:d,isTwoDigitYear:i==="yy"}};switch(i){case"y":return Nt(Tt(4,s),l);case"yo":return Nt(a.ordinalNumber(s,{unit:"year"}),l);default:return Nt(Tt(i.length,s),l)}}},{key:"validate",value:function(s,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(s,i,a){var l=s.getUTCFullYear();if(a.isTwoDigitYear){var c=Ox(a.year,l);return s.setUTCFullYear(c,0,1),s.setUTCHours(0,0,0,0),s}var d=!("era"in i)||i.era===1?a.year:1-a.year;return s.setUTCFullYear(d,0,1),s.setUTCHours(0,0,0,0),s}}]),n}(rt),FO=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",130),be(Ce(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){var l=function(d){return{year:d,isTwoDigitYear:i==="YY"}};switch(i){case"Y":return Nt(Tt(4,s),l);case"Yo":return Nt(a.ordinalNumber(s,{unit:"year"}),l);default:return Nt(Tt(i.length,s),l)}}},{key:"validate",value:function(s,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(s,i,a,l){var c=Cp(s,l);if(a.isTwoDigitYear){var d=Ox(a.year,c);return s.setUTCFullYear(d,0,l.firstWeekContainsDate),s.setUTCHours(0,0,0,0),Mr(s,l)}var u=!("era"in i)||i.era===1?a.year:1-a.year;return s.setUTCFullYear(u,0,l.firstWeekContainsDate),s.setUTCHours(0,0,0,0),Mr(s,l)}}]),n}(rt),zO=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",130),be(Ce(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i){return pl(i==="R"?4:i.length,s)}},{key:"set",value:function(s,i,a){var l=new Date(0);return l.setUTCFullYear(a,0,4),l.setUTCHours(0,0,0,0),yo(l)}}]),n}(rt),BO=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",130),be(Ce(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i){return pl(i==="u"?4:i.length,s)}},{key:"set",value:function(s,i,a){return s.setUTCFullYear(a,0,1),s.setUTCHours(0,0,0,0),s}}]),n}(rt),WO=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",120),be(Ce(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){switch(i){case"Q":case"QQ":return Tt(i.length,s);case"Qo":return a.ordinalNumber(s,{unit:"quarter"});case"QQQ":return a.quarter(s,{width:"abbreviated",context:"formatting"})||a.quarter(s,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(s,{width:"wide",context:"formatting"})||a.quarter(s,{width:"abbreviated",context:"formatting"})||a.quarter(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,i){return i>=1&&i<=4}},{key:"set",value:function(s,i,a){return s.setUTCMonth((a-1)*3,1),s.setUTCHours(0,0,0,0),s}}]),n}(rt),HO=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",120),be(Ce(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){switch(i){case"q":case"qq":return Tt(i.length,s);case"qo":return a.ordinalNumber(s,{unit:"quarter"});case"qqq":return a.quarter(s,{width:"abbreviated",context:"standalone"})||a.quarter(s,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(s,{width:"wide",context:"standalone"})||a.quarter(s,{width:"abbreviated",context:"standalone"})||a.quarter(s,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(s,i){return i>=1&&i<=4}},{key:"set",value:function(s,i,a){return s.setUTCMonth((a-1)*3,1),s.setUTCHours(0,0,0,0),s}}]),n}(rt),UO=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),be(Ce(r),"priority",110),r}return Ue(n,[{key:"parse",value:function(s,i,a){var l=function(d){return d-1};switch(i){case"M":return Nt(jt(Pt.month,s),l);case"MM":return Nt(Tt(2,s),l);case"Mo":return Nt(a.ordinalNumber(s,{unit:"month"}),l);case"MMM":return a.month(s,{width:"abbreviated",context:"formatting"})||a.month(s,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(s,{width:"wide",context:"formatting"})||a.month(s,{width:"abbreviated",context:"formatting"})||a.month(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=11}},{key:"set",value:function(s,i,a){return s.setUTCMonth(a,1),s.setUTCHours(0,0,0,0),s}}]),n}(rt),VO=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",110),be(Ce(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){var l=function(d){return d-1};switch(i){case"L":return Nt(jt(Pt.month,s),l);case"LL":return Nt(Tt(2,s),l);case"Lo":return Nt(a.ordinalNumber(s,{unit:"month"}),l);case"LLL":return a.month(s,{width:"abbreviated",context:"standalone"})||a.month(s,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(s,{width:"wide",context:"standalone"})||a.month(s,{width:"abbreviated",context:"standalone"})||a.month(s,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=11}},{key:"set",value:function(s,i,a){return s.setUTCMonth(a,1),s.setUTCHours(0,0,0,0),s}}]),n}(rt);function YO(e,t,n){de(2,arguments);var r=me(e),s=Xe(t),i=Tx(r,n)-s;return r.setUTCDate(r.getUTCDate()-i*7),r}var GO=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",100),be(Ce(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){switch(i){case"w":return jt(Pt.week,s);case"wo":return a.ordinalNumber(s,{unit:"week"});default:return Tt(i.length,s)}}},{key:"validate",value:function(s,i){return i>=1&&i<=53}},{key:"set",value:function(s,i,a,l){return Mr(YO(s,a,l),l)}}]),n}(rt);function qO(e,t){de(2,arguments);var n=me(e),r=Xe(t),s=_x(n)-r;return n.setUTCDate(n.getUTCDate()-s*7),n}var KO=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",100),be(Ce(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){switch(i){case"I":return jt(Pt.week,s);case"Io":return a.ordinalNumber(s,{unit:"week"});default:return Tt(i.length,s)}}},{key:"validate",value:function(s,i){return i>=1&&i<=53}},{key:"set",value:function(s,i,a){return yo(qO(s,a))}}]),n}(rt),QO=[31,28,31,30,31,30,31,31,30,31,30,31],XO=[31,29,31,30,31,30,31,31,30,31,30,31],ZO=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",90),be(Ce(r),"subPriority",1),be(Ce(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){switch(i){case"d":return jt(Pt.date,s);case"do":return a.ordinalNumber(s,{unit:"date"});default:return Tt(i.length,s)}}},{key:"validate",value:function(s,i){var a=s.getUTCFullYear(),l=Lx(a),c=s.getUTCMonth();return l?i>=1&&i<=XO[c]:i>=1&&i<=QO[c]}},{key:"set",value:function(s,i,a){return s.setUTCDate(a),s.setUTCHours(0,0,0,0),s}}]),n}(rt),JO=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",90),be(Ce(r),"subpriority",1),be(Ce(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){switch(i){case"D":case"DD":return jt(Pt.dayOfYear,s);case"Do":return a.ordinalNumber(s,{unit:"date"});default:return Tt(i.length,s)}}},{key:"validate",value:function(s,i){var a=s.getUTCFullYear(),l=Lx(a);return l?i>=1&&i<=366:i>=1&&i<=365}},{key:"set",value:function(s,i,a){return s.setUTCMonth(0,a),s.setUTCHours(0,0,0,0),s}}]),n}(rt);function Sp(e,t,n){var r,s,i,a,l,c,d,u;de(2,arguments);var p=pr(),h=Xe((r=(s=(i=(a=n==null?void 0:n.weekStartsOn)!==null&&a!==void 0?a:n==null||(l=n.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&i!==void 0?i:p.weekStartsOn)!==null&&s!==void 0?s:(d=p.locale)===null||d===void 0||(u=d.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=me(e),v=Xe(t),m=g.getUTCDay(),y=v%7,x=(y+7)%7,w=(x<h?7:0)+v-m;return g.setUTCDate(g.getUTCDate()+w),g}var e4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",90),be(Ce(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){switch(i){case"E":case"EE":case"EEE":return a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(s,{width:"wide",context:"formatting"})||a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=6}},{key:"set",value:function(s,i,a,l){return s=Sp(s,a,l),s.setUTCHours(0,0,0,0),s}}]),n}(rt),t4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",90),be(Ce(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a,l){var c=function(u){var p=Math.floor((u-1)/7)*7;return(u+l.weekStartsOn+6)%7+p};switch(i){case"e":case"ee":return Nt(Tt(i.length,s),c);case"eo":return Nt(a.ordinalNumber(s,{unit:"day"}),c);case"eee":return a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"});case"eeeee":return a.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(s,{width:"wide",context:"formatting"})||a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=6}},{key:"set",value:function(s,i,a,l){return s=Sp(s,a,l),s.setUTCHours(0,0,0,0),s}}]),n}(rt),n4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",90),be(Ce(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a,l){var c=function(u){var p=Math.floor((u-1)/7)*7;return(u+l.weekStartsOn+6)%7+p};switch(i){case"c":case"cc":return Nt(Tt(i.length,s),c);case"co":return Nt(a.ordinalNumber(s,{unit:"day"}),c);case"ccc":return a.day(s,{width:"abbreviated",context:"standalone"})||a.day(s,{width:"short",context:"standalone"})||a.day(s,{width:"narrow",context:"standalone"});case"ccccc":return a.day(s,{width:"narrow",context:"standalone"});case"cccccc":return a.day(s,{width:"short",context:"standalone"})||a.day(s,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(s,{width:"wide",context:"standalone"})||a.day(s,{width:"abbreviated",context:"standalone"})||a.day(s,{width:"short",context:"standalone"})||a.day(s,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=6}},{key:"set",value:function(s,i,a,l){return s=Sp(s,a,l),s.setUTCHours(0,0,0,0),s}}]),n}(rt);function r4(e,t){de(2,arguments);var n=Xe(t);n%7===0&&(n=n-7);var r=1,s=me(e),i=s.getUTCDay(),a=n%7,l=(a+7)%7,c=(l<r?7:0)+n-i;return s.setUTCDate(s.getUTCDate()+c),s}var s4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",90),be(Ce(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){var l=function(d){return d===0?7:d};switch(i){case"i":case"ii":return Tt(i.length,s);case"io":return a.ordinalNumber(s,{unit:"day"});case"iii":return Nt(a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"}),l);case"iiiii":return Nt(a.day(s,{width:"narrow",context:"formatting"}),l);case"iiiiii":return Nt(a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"}),l);case"iiii":default:return Nt(a.day(s,{width:"wide",context:"formatting"})||a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"}),l)}}},{key:"validate",value:function(s,i){return i>=1&&i<=7}},{key:"set",value:function(s,i,a){return s=r4(s,a),s.setUTCHours(0,0,0,0),s}}]),n}(rt),o4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",80),be(Ce(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){switch(i){case"a":case"aa":case"aaa":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(s,{width:"wide",context:"formatting"})||a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(s,i,a){return s.setUTCHours(jp(a),0,0,0),s}}]),n}(rt),i4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",80),be(Ce(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){switch(i){case"b":case"bb":case"bbb":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(s,{width:"wide",context:"formatting"})||a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(s,i,a){return s.setUTCHours(jp(a),0,0,0),s}}]),n}(rt),a4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",80),be(Ce(r),"incompatibleTokens",["a","b","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){switch(i){case"B":case"BB":case"BBB":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(s,{width:"wide",context:"formatting"})||a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(s,i,a){return s.setUTCHours(jp(a),0,0,0),s}}]),n}(rt),l4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",70),be(Ce(r),"incompatibleTokens",["H","K","k","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){switch(i){case"h":return jt(Pt.hour12h,s);case"ho":return a.ordinalNumber(s,{unit:"hour"});default:return Tt(i.length,s)}}},{key:"validate",value:function(s,i){return i>=1&&i<=12}},{key:"set",value:function(s,i,a){var l=s.getUTCHours()>=12;return l&&a<12?s.setUTCHours(a+12,0,0,0):!l&&a===12?s.setUTCHours(0,0,0,0):s.setUTCHours(a,0,0,0),s}}]),n}(rt),c4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",70),be(Ce(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){switch(i){case"H":return jt(Pt.hour23h,s);case"Ho":return a.ordinalNumber(s,{unit:"hour"});default:return Tt(i.length,s)}}},{key:"validate",value:function(s,i){return i>=0&&i<=23}},{key:"set",value:function(s,i,a){return s.setUTCHours(a,0,0,0),s}}]),n}(rt),d4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",70),be(Ce(r),"incompatibleTokens",["h","H","k","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){switch(i){case"K":return jt(Pt.hour11h,s);case"Ko":return a.ordinalNumber(s,{unit:"hour"});default:return Tt(i.length,s)}}},{key:"validate",value:function(s,i){return i>=0&&i<=11}},{key:"set",value:function(s,i,a){var l=s.getUTCHours()>=12;return l&&a<12?s.setUTCHours(a+12,0,0,0):s.setUTCHours(a,0,0,0),s}}]),n}(rt),u4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",70),be(Ce(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){switch(i){case"k":return jt(Pt.hour24h,s);case"ko":return a.ordinalNumber(s,{unit:"hour"});default:return Tt(i.length,s)}}},{key:"validate",value:function(s,i){return i>=1&&i<=24}},{key:"set",value:function(s,i,a){var l=a<=24?a%24:a;return s.setUTCHours(l,0,0,0),s}}]),n}(rt),p4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",60),be(Ce(r),"incompatibleTokens",["t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){switch(i){case"m":return jt(Pt.minute,s);case"mo":return a.ordinalNumber(s,{unit:"minute"});default:return Tt(i.length,s)}}},{key:"validate",value:function(s,i){return i>=0&&i<=59}},{key:"set",value:function(s,i,a){return s.setUTCMinutes(a,0,0),s}}]),n}(rt),h4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",50),be(Ce(r),"incompatibleTokens",["t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){switch(i){case"s":return jt(Pt.second,s);case"so":return a.ordinalNumber(s,{unit:"second"});default:return Tt(i.length,s)}}},{key:"validate",value:function(s,i){return i>=0&&i<=59}},{key:"set",value:function(s,i,a){return s.setUTCSeconds(a,0),s}}]),n}(rt),f4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",30),be(Ce(r),"incompatibleTokens",["t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i){var a=function(c){return Math.floor(c*Math.pow(10,-i.length+3))};return Nt(Tt(i.length,s),a)}},{key:"set",value:function(s,i,a){return s.setUTCMilliseconds(a),s}}]),n}(rt),m4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",10),be(Ce(r),"incompatibleTokens",["t","T","x"]),r}return Ue(n,[{key:"parse",value:function(s,i){switch(i){case"X":return Zn(Xn.basicOptionalMinutes,s);case"XX":return Zn(Xn.basic,s);case"XXXX":return Zn(Xn.basicOptionalSeconds,s);case"XXXXX":return Zn(Xn.extendedOptionalSeconds,s);case"XXX":default:return Zn(Xn.extended,s)}}},{key:"set",value:function(s,i,a){return i.timestampIsSet?s:new Date(s.getTime()-a)}}]),n}(rt),g4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",10),be(Ce(r),"incompatibleTokens",["t","T","X"]),r}return Ue(n,[{key:"parse",value:function(s,i){switch(i){case"x":return Zn(Xn.basicOptionalMinutes,s);case"xx":return Zn(Xn.basic,s);case"xxxx":return Zn(Xn.basicOptionalSeconds,s);case"xxxxx":return Zn(Xn.extendedOptionalSeconds,s);case"xxx":default:return Zn(Xn.extended,s)}}},{key:"set",value:function(s,i,a){return i.timestampIsSet?s:new Date(s.getTime()-a)}}]),n}(rt),v4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",40),be(Ce(r),"incompatibleTokens","*"),r}return Ue(n,[{key:"parse",value:function(s){return $x(s)}},{key:"set",value:function(s,i,a){return[new Date(a*1e3),{timestampIsSet:!0}]}}]),n}(rt),y4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",20),be(Ce(r),"incompatibleTokens","*"),r}return Ue(n,[{key:"parse",value:function(s){return $x(s)}},{key:"set",value:function(s,i,a){return[new Date(a),{timestampIsSet:!0}]}}]),n}(rt),x4={G:new OO,y:new LO,Y:new FO,R:new zO,u:new BO,Q:new WO,q:new HO,M:new UO,L:new VO,w:new GO,I:new KO,d:new ZO,D:new JO,E:new e4,e:new t4,c:new n4,i:new s4,a:new o4,b:new i4,B:new a4,h:new l4,H:new c4,K:new d4,k:new u4,m:new p4,s:new h4,S:new f4,X:new m4,x:new g4,t:new v4,T:new y4},b4=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,C4=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,w4=/^'([^]*?)'?$/,j4=/''/g,S4=/\S/,k4=/[a-zA-Z]/;function Vt(e,t,n,r){var s,i,a,l,c,d,u,p,h,g,v,m,y,x,w,C,k,_;de(3,arguments);var j=String(e),E=String(t),T=pr(),S=(s=(i=r==null?void 0:r.locale)!==null&&i!==void 0?i:T.locale)!==null&&s!==void 0?s:wp;if(!S.match)throw new RangeError("locale must contain match property");var M=Xe((a=(l=(c=(d=r==null?void 0:r.firstWeekContainsDate)!==null&&d!==void 0?d:r==null||(u=r.locale)===null||u===void 0||(p=u.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&c!==void 0?c:T.firstWeekContainsDate)!==null&&l!==void 0?l:(h=T.locale)===null||h===void 0||(g=h.options)===null||g===void 0?void 0:g.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(M>=1&&M<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var D=Xe((v=(m=(y=(x=r==null?void 0:r.weekStartsOn)!==null&&x!==void 0?x:r==null||(w=r.locale)===null||w===void 0||(C=w.options)===null||C===void 0?void 0:C.weekStartsOn)!==null&&y!==void 0?y:T.weekStartsOn)!==null&&m!==void 0?m:(k=T.locale)===null||k===void 0||(_=k.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&v!==void 0?v:0);if(!(D>=0&&D<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(E==="")return j===""?me(n):new Date(NaN);var L={firstWeekContainsDate:M,weekStartsOn:D,locale:S},I=[new $O],P=E.match(C4).map(function(ee){var X=ee[0];if(X in Jd){var ie=Jd[X];return ie(ee,S.formatLong)}return ee}).join("").match(b4),R=[],N=Rm(P),O;try{var z=function(){var X=O.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&Px(X)&&dl(X,E,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&Mx(X)&&dl(X,E,e);var ie=X[0],K=x4[ie];if(K){var W=K.incompatibleTokens;if(Array.isArray(W)){var F=R.find(function(ne){return W.includes(ne.token)||ne.token===ie});if(F)throw new RangeError("The format string mustn't contain `".concat(F.fullToken,"` and `").concat(X,"` at the same time"))}else if(K.incompatibleTokens==="*"&&R.length>0)throw new RangeError("The format string mustn't contain `".concat(X,"` and any other token at the same time"));R.push({token:ie,fullToken:X});var q=K.run(j,X,S.match,L);if(!q)return{v:new Date(NaN)};I.push(q.setter),j=q.rest}else{if(ie.match(k4))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ie+"`");if(X==="''"?X="'":ie==="'"&&(X=_4(X)),j.indexOf(X)===0)j=j.slice(X.length);else return{v:new Date(NaN)}}};for(N.s();!(O=N.n()).done;){var $=z();if(Sr($)==="object")return $.v}}catch(ee){N.e(ee)}finally{N.f()}if(j.length>0&&S4.test(j))return new Date(NaN);var A=I.map(function(ee){return ee.priority}).sort(function(ee,X){return X-ee}).filter(function(ee,X,ie){return ie.indexOf(ee)===X}).map(function(ee){return I.filter(function(X){return X.priority===ee}).sort(function(X,ie){return ie.subPriority-X.subPriority})}).map(function(ee){return ee[0]}),U=me(n);if(isNaN(U.getTime()))return new Date(NaN);var Y=Sx(U,cl(U)),G={},J=Rm(A),ae;try{for(J.s();!(ae=J.n()).done;){var H=ae.value;if(!H.validate(Y,L))return new Date(NaN);var le=H.set(Y,G,L);Array.isArray(le)?(Y=le[0],NO(G,le[1])):Y=le}}catch(ee){J.e(ee)}finally{J.f()}return Y}function _4(e){return e.match(w4)[1].replace(j4,"'")}function T4(e,t){de(2,arguments);var n=me(e),r=Xe(t);return n.setDate(r),n}function E4(e,t){de(2,arguments);var n=me(e),r=Xe(t);return n.setHours(r),n}function M4(e,t){de(2,arguments);var n=me(e),r=Xe(t);return n.setMinutes(r),n}function P4(e,t){de(2,arguments);var n=me(e),r=Xe(t),s=n.getFullYear(),i=n.getDate(),a=new Date(0);a.setFullYear(s,r,15),a.setHours(0,0,0,0);var l=Ix(a);return n.setMonth(r,Math.min(i,l)),n}function N4(e,t){de(2,arguments);var n=me(e),r=Xe(t);return n.setSeconds(r),n}function I4(e,t){de(2,arguments);var n=me(e),r=Xe(t);return n.setMilliseconds(r),n}function R4(e,t){de(2,arguments);var n=me(e),r=Xe(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function Dm(e){de(1,arguments);var t=me(e);return t.setDate(1),t.setHours(0,0,0,0),t}function ya(e){de(1,arguments);var t=me(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function D4(e,t){var n;de(1,arguments);var r=Xe((n=void 0)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var s=L4(e),i;if(s.date){var a=F4(s.date,r);i=z4(a.restDateString,a.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var l=i.getTime(),c=0,d;if(s.time&&(c=B4(s.time),isNaN(c)))return new Date(NaN);if(s.timezone){if(d=W4(s.timezone),isNaN(d))return new Date(NaN)}else{var u=new Date(l+c),p=new Date(0);return p.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),p.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),p}return new Date(l+c+d)}var xa={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},A4=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,$4=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,O4=/^([+-])(\d{2})(?::?(\d{2}))?$/;function L4(e){var t={},n=e.split(xa.dateTimeDelimiter),r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],xa.timeZoneDelimiter.test(t.date)&&(t.date=e.split(xa.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){var s=xa.timezone.exec(r);s?(t.time=r.replace(s[1],""),t.timezone=s[1]):t.time=r}return t}function F4(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:e.slice((r[1]||r[2]).length)}}function z4(e,t){if(t===null)return new Date(NaN);var n=e.match(A4);if(!n)return new Date(NaN);var r=!!n[4],s=Jo(n[1]),i=Jo(n[2])-1,a=Jo(n[3]),l=Jo(n[4]),c=Jo(n[5])-1;if(r)return G4(t,l,c)?H4(t,l,c):new Date(NaN);var d=new Date(0);return!V4(t,i,a)||!Y4(t,s)?new Date(NaN):(d.setUTCFullYear(t,i,Math.max(s,a)),d)}function Jo(e){return e?parseInt(e):1}function B4(e){var t=e.match($4);if(!t)return NaN;var n=sd(t[1]),r=sd(t[2]),s=sd(t[3]);return q4(n,r,s)?n*vc+r*gc+s*1e3:NaN}function sd(e){return e&&parseFloat(e.replace(",","."))||0}function W4(e){if(e==="Z")return 0;var t=e.match(O4);if(!t)return 0;var n=t[1]==="+"?-1:1,r=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return K4(r,s)?n*(r*vc+s*gc):NaN}function H4(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var s=r.getUTCDay()||7,i=(t-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}var U4=[31,null,31,30,31,30,31,31,30,31,30,31];function Fx(e){return e%400===0||e%4===0&&e%100!==0}function V4(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(U4[t]||(Fx(e)?29:28))}function Y4(e,t){return t>=1&&t<=(Fx(e)?366:365)}function G4(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function q4(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function K4(e,t){return t>=0&&t<=59}function Q4(e,t){var n,r;de(1,arguments);var s=me(e);if(isNaN(s.getTime()))throw new RangeError("Invalid time value");var i=String((n=t==null?void 0:t.format)!==null&&n!==void 0?n:"extended"),a=String((r=t==null?void 0:t.representation)!==null&&r!==void 0?r:"complete");if(i!=="extended"&&i!=="basic")throw new RangeError("format must be 'extended' or 'basic'");if(a!=="date"&&a!=="time"&&a!=="complete")throw new RangeError("representation must be 'date', 'time', or 'complete'");var l="",c="",d=i==="extended"?"-":"",u=i==="extended"?":":"";if(a!=="time"){var p=Oe(s.getDate(),2),h=Oe(s.getMonth()+1,2),g=Oe(s.getFullYear(),4);l="".concat(g).concat(d).concat(h).concat(d).concat(p)}if(a!=="date"){var v=s.getTimezoneOffset();if(v!==0){var m=Math.abs(v),y=Oe(Math.floor(m/60),2),x=Oe(m%60,2),w=v<0?"+":"-";c="".concat(w).concat(y,":").concat(x)}else c="Z";var C=Oe(s.getHours(),2),k=Oe(s.getMinutes(),2),_=Oe(s.getSeconds(),2),j=l===""?"":"T",E=[C,k,_].join(u);l="".concat(l).concat(j).concat(E).concat(c)}return l}function X4(e,t){de(2,arguments);var n=me(e).getTime(),r=me(t.start).getTime(),s=me(t.end).getTime();if(!(r<=s))throw new RangeError("Invalid interval");return n>=r&&n<=s}var eu={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(c,d){switch(c){case"P":return d.date({width:"short"});case"PP":return d.date({width:"medium"});case"PPP":return d.date({width:"long"});case"PPPP":default:return d.date({width:"full"})}},r=function(c,d){switch(c){case"p":return d.time({width:"short"});case"pp":return d.time({width:"medium"});case"ppp":return d.time({width:"long"});case"pppp":default:return d.time({width:"full"})}},s=function(c,d){var u=c.match(/(P+)(p+)?/)||[],p=u[1],h=u[2];if(!h)return n(c,d);var g;switch(p){case"P":g=d.dateTime({width:"short"});break;case"PP":g=d.dateTime({width:"medium"});break;case"PPP":g=d.dateTime({width:"long"});break;case"PPPP":default:g=d.dateTime({width:"full"});break}return g.replace("{{date}}",n(p,d)).replace("{{time}}",r(h,d))},i={p:r,P:s},a=i;t.default=a,e.exports=t.default})(eu,eu.exports);var Z4=eu.exports;const J4=ab(Z4),e3={y:{sectionType:"year",contentType:"digit",maxLength:4},yy:"year",yyy:{sectionType:"year",contentType:"digit",maxLength:4},yyyy:"year",M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMMM:{sectionType:"month",contentType:"letter"},MMM:{sectionType:"month",contentType:"letter"},L:{sectionType:"month",contentType:"digit",maxLength:2},LL:"month",LLL:{sectionType:"month",contentType:"letter"},LLLL:{sectionType:"month",contentType:"letter"},d:{sectionType:"day",contentType:"digit",maxLength:2},dd:"day",do:{sectionType:"day",contentType:"digit-with-letter"},E:{sectionType:"weekDay",contentType:"letter"},EE:{sectionType:"weekDay",contentType:"letter"},EEE:{sectionType:"weekDay",contentType:"letter"},EEEE:{sectionType:"weekDay",contentType:"letter"},EEEEE:{sectionType:"weekDay",contentType:"letter"},i:{sectionType:"weekDay",contentType:"digit",maxLength:1},ii:"weekDay",iii:{sectionType:"weekDay",contentType:"letter"},iiii:{sectionType:"weekDay",contentType:"letter"},e:{sectionType:"weekDay",contentType:"digit",maxLength:1},ee:"weekDay",eee:{sectionType:"weekDay",contentType:"letter"},eeee:{sectionType:"weekDay",contentType:"letter"},eeeee:{sectionType:"weekDay",contentType:"letter"},eeeeee:{sectionType:"weekDay",contentType:"letter"},c:{sectionType:"weekDay",contentType:"digit",maxLength:1},cc:"weekDay",ccc:{sectionType:"weekDay",contentType:"letter"},cccc:{sectionType:"weekDay",contentType:"letter"},ccccc:{sectionType:"weekDay",contentType:"letter"},cccccc:{sectionType:"weekDay",contentType:"letter"},a:"meridiem",aa:"meridiem",aaa:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},t3={year:"yyyy",month:"LLLL",monthShort:"MMM",dayOfMonth:"d",weekday:"EEEE",weekdayShort:"EEEEEE",hours24h:"HH",hours12h:"hh",meridiem:"aa",minutes:"mm",seconds:"ss",fullDate:"PP",fullDateWithWeekday:"PPPP",keyboardDate:"P",shortDate:"MMM d",normalDate:"d MMMM",normalDateWithWeekday:"EEE, MMM d",monthAndYear:"LLLL yyyy",monthAndDate:"MMMM d",fullTime:"p",fullTime12h:"hh:mm aa",fullTime24h:"HH:mm",fullDateTime:"PP p",fullDateTime12h:"PP hh:mm aa",fullDateTime24h:"PP HH:mm",keyboardDateTime:"P p",keyboardDateTime12h:"P hh:mm aa",keyboardDateTime24h:"P HH:mm"};class n3{constructor(t){this.isMUIAdapter=!0,this.isTimezoneCompatible=!1,this.lib="date-fns",this.locale=void 0,this.formats=void 0,this.formatTokenMap=e3,this.escapedCharacters={start:"'",end:"'"},this.longFormatters=void 0,this.date=i=>typeof i>"u"?new Date:i===null?null:new Date(i),this.dateWithTimezone=i=>this.date(i),this.getTimezone=()=>"default",this.setTimezone=i=>i,this.toJsDate=i=>i,this.getCurrentLocaleCode=()=>{var i;return((i=this.locale)==null?void 0:i.code)||"en-US"},this.is12HourCycleInCurrentLocale=()=>this.locale?/a/.test(this.locale.formatLong.time({width:"short"})):!0,this.expandFormat=i=>{const a=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;return i.match(a).map(l=>{const c=l[0];if(c==="p"||c==="P"){const d=this.longFormatters[c];return d(l,this.locale.formatLong)}return l}).join("")},this.getFormatHelperText=i=>this.expandFormat(i).replace(/(aaa|aa|a)/g,"(a|p)m").toLocaleLowerCase(),this.isNull=i=>i===null,this.formatNumber=i=>i,this.getMeridiemText=i=>i==="am"?"AM":"PM";const{locale:n,formats:r,longFormatters:s}=t;this.locale=n,this.formats=b({},t3,r),this.longFormatters=s}}class r3 extends n3{constructor({locale:t,formats:n}={}){if(typeof Hr!="function")throw new Error(["MUI: The `date-fns` package v3.x is not compatible with this adapter.","Please, install v2.x of the package or use the `AdapterDateFnsV3` instead."].join(`
`));super({locale:t??wp,formats:n,longFormatters:J4}),this.parseISO=r=>D4(r),this.toISO=r=>Q4(r,{format:"extended"}),this.parse=(r,s)=>r===""?null:Vt(r,s,new Date,{locale:this.locale}),this.isValid=r=>jx(this.date(r)),this.format=(r,s)=>this.formatByString(r,this.formats[s]),this.formatByString=(r,s)=>ft(r,s,{locale:this.locale}),this.getDiff=(r,s,i)=>{switch(i){case"years":return a$(r,this.date(s));case"quarters":return u$(r,this.date(s));case"months":return Cx(r,this.date(s));case"weeks":return f$(r,this.date(s));case"days":return wx(r,this.date(s));case"hours":return g$(r,this.date(s));case"minutes":return v$(r,this.date(s));case"seconds":return y$(r,this.date(s));default:return yc(r,this.date(s))}},this.isEqual=(r,s)=>r===null&&s===null?!0:_O(r,s),this.isSameYear=(r,s)=>TO(r,s),this.isSameMonth=(r,s)=>EO(r,s),this.isSameDay=(r,s)=>Rx(r,s),this.isSameHour=(r,s)=>MO(r,s),this.isAfter=(r,s)=>Hn(r,s),this.isAfterYear=(r,s)=>Hn(r,rd(s)),this.isAfterDay=(r,s)=>Hn(r,Xd(s)),this.isBefore=(r,s)=>tn(r,s),this.isBeforeYear=(r,s)=>tn(r,ya(s)),this.isBeforeDay=(r,s)=>tn(r,Cs(s)),this.isWithinRange=(r,[s,i])=>X4(r,{start:s,end:i}),this.startOfYear=r=>ya(r),this.startOfMonth=r=>Dm(r),this.startOfWeek=r=>us(r,{locale:this.locale}),this.startOfDay=r=>Cs(r),this.endOfYear=r=>rd(r),this.endOfMonth=r=>Zd(r),this.endOfWeek=r=>nd(r,{locale:this.locale}),this.endOfDay=r=>Xd(r),this.addYears=(r,s)=>km(r,s),this.addMonths=(r,s)=>Da(r,s),this.addWeeks=(r,s)=>o$(r,s),this.addDays=(r,s)=>Hr(r,s),this.addHours=(r,s)=>s$(r,s),this.addMinutes=(r,s)=>nr(r,s),this.addSeconds=(r,s)=>t$(r,s),this.getYear=r=>kO(r),this.getMonth=r=>yO(r),this.getDate=r=>mO(r),this.getHours=r=>gO(r),this.getMinutes=r=>vO(r),this.getSeconds=r=>xO(r),this.getMilliseconds=r=>bO(r),this.setYear=(r,s)=>R4(r,s),this.setMonth=(r,s)=>P4(r,s),this.setDate=(r,s)=>T4(r,s),this.setHours=(r,s)=>E4(r,s),this.setMinutes=(r,s)=>M4(r,s),this.setSeconds=(r,s)=>N4(r,s),this.setMilliseconds=(r,s)=>I4(r,s),this.getDaysInMonth=r=>Ix(r),this.getNextMonth=r=>Da(r,1),this.getPreviousMonth=r=>Da(r,-1),this.getMonthArray=r=>{const i=[ya(r)];for(;i.length<12;){const a=i[i.length-1];i.push(this.getNextMonth(a))}return i},this.mergeDateAndTime=(r,s)=>this.setSeconds(this.setMinutes(this.setHours(r,this.getHours(s)),this.getMinutes(s)),this.getSeconds(s)),this.getWeekdays=()=>{const r=new Date;return x$({start:us(r,{locale:this.locale}),end:nd(r,{locale:this.locale})}).map(s=>this.formatByString(s,"EEEEEE"))},this.getWeekArray=r=>{const s=us(Dm(r),{locale:this.locale}),i=nd(Zd(r),{locale:this.locale});let a=0,l=s;const c=[];for(;tn(l,i);){const d=Math.floor(a/7);c[d]=c[d]||[],c[d].push(l),l=Hr(l,1),a+=1}return c},this.getWeekNumber=r=>SO(r,{locale:this.locale}),this.getYearRange=(r,s)=>{const i=ya(r),a=rd(s),l=[];let c=i;for(;tn(c,a);)l.push(c),c=km(c,1);return l}}}const s3=["localeText"],tu=f.createContext(null),o3=function(t){var n;const{localeText:r}=t,s=Z(t,s3),{utils:i,localeText:a}=(n=f.useContext(tu))!=null?n:{utils:void 0,localeText:void 0},l=Ln({props:s,name:"MuiLocalizationProvider"}),{children:c,dateAdapter:d,dateFormats:u,dateLibInstance:p,adapterLocale:h,localeText:g}=l,v=f.useMemo(()=>b({},g,a,r),[g,a,r]),m=f.useMemo(()=>{if(!d)return i||null;const w=new d({locale:h,formats:u,instance:p});if(!w.isMUIAdapter)throw new Error(["MUI: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join(`
`));return w},[d,h,u,p,i]),y=f.useMemo(()=>m?{minDate:m.date("1900-01-01T00:00:00.000"),maxDate:m.date("2099-12-31T00:00:00.000")}:null,[m]),x=f.useMemo(()=>({utils:m,defaultDates:y,localeText:v}),[y,m,v]);return o.jsx(tu.Provider,{value:x,children:c})};function i3(e){return typeof e=="string"}function a3(e,t,n){return e===void 0||i3(e)?t:{...t,ownerState:{...t.ownerState,...n}}}function l3(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function c3(e,t,n){return typeof e=="function"?e(t,n):e}function d3(...e){const t=f.useRef(void 0),n=f.useCallback(r=>{const s=e.map(i=>{if(i==null)return null;if(typeof i=="function"){const a=i,l=a(r);return typeof l=="function"?l:()=>{a(null)}}return i.current=r,()=>{i.current=null}});return()=>{s.forEach(i=>i==null?void 0:i())}},e);return f.useMemo(()=>e.every(r=>r==null)?null:r=>{t.current&&(t.current(),t.current=void 0),r!=null&&(t.current=n(r))},e)}function Am(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function u3(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:s,className:i}=e;if(!t){const g=re(n==null?void 0:n.className,i,s==null?void 0:s.className,r==null?void 0:r.className),v={...n==null?void 0:n.style,...s==null?void 0:s.style,...r==null?void 0:r.style},m={...n,...s,...r};return g.length>0&&(m.className=g),Object.keys(v).length>0&&(m.style=v),{props:m,internalRef:void 0}}const a=l3({...s,...r}),l=Am(r),c=Am(s),d=t(a),u=re(d==null?void 0:d.className,n==null?void 0:n.className,i,s==null?void 0:s.className,r==null?void 0:r.className),p={...d==null?void 0:d.style,...n==null?void 0:n.style,...s==null?void 0:s.style,...r==null?void 0:r.style},h={...d,...n,...c,...l};return u.length>0&&(h.className=u),Object.keys(p).length>0&&(h.style=p),{props:h,internalRef:d.ref}}function Br(e){var p;const{elementType:t,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:s=!1,...i}=e,a=s?{}:c3(n,r),{props:l,internalRef:c}=u3({...i,externalSlotProps:a}),d=d3(c,a==null?void 0:a.ref,(p=e.additionalProps)==null?void 0:p.ref);return a3(t,{...l,ref:d},r)}const hl=(e,t,n)=>{let r=t;return r=e.setHours(r,e.getHours(n)),r=e.setMinutes(r,e.getMinutes(n)),r=e.setSeconds(r,e.getSeconds(n)),r},vi=({date:e,disableFuture:t,disablePast:n,maxDate:r,minDate:s,isDateDisabled:i,utils:a,timezone:l})=>{const c=hl(a,a.dateWithTimezone(void 0,l),e);n&&a.isBefore(s,c)&&(s=c),t&&a.isAfter(r,c)&&(r=c);let d=e,u=e;for(a.isBefore(e,s)&&(d=s,u=null),a.isAfter(e,r)&&(u&&(u=r),d=null);d||u;){if(d&&a.isAfter(d,r)&&(d=null),u&&a.isBefore(u,s)&&(u=null),d){if(!i(d))return d;d=a.addDays(d,1)}if(u){if(!i(u))return u;u=a.addDays(u,-1)}}return null},p3=(e,t)=>t==null||!e.isValid(t)?null:t,qr=(e,t,n)=>t==null||!e.isValid(t)?n:t,h3=(e,t,n)=>!e.isValid(t)&&t!=null&&!e.isValid(n)&&n!=null?!0:e.isEqual(t,n),f3=(e,t)=>{const r=[e.startOfYear(t)];for(;r.length<12;){const s=r[r.length-1];r.push(e.addMonths(s,1))}return r},zx=(e,t,n)=>n==="date"?e.startOfDay(e.dateWithTimezone(void 0,t)):e.dateWithTimezone(void 0,t),m3=(e,t)=>{const n=e.startOfWeek(t);return[0,1,2,3,4,5,6].map(r=>e.addDays(n,r))},g3=({props:e,value:t,adapter:n})=>{if(t===null)return null;const{shouldDisableDate:r,shouldDisableMonth:s,shouldDisableYear:i,disablePast:a,disableFuture:l,timezone:c}=e,d=n.utils.dateWithTimezone(void 0,c),u=qr(n.utils,e.minDate,n.defaultDates.minDate),p=qr(n.utils,e.maxDate,n.defaultDates.maxDate);switch(!0){case!n.utils.isValid(t):return"invalidDate";case!!(r&&r(t)):return"shouldDisableDate";case!!(s&&s(t)):return"shouldDisableMonth";case!!(i&&i(t)):return"shouldDisableYear";case!!(l&&n.utils.isAfterDay(t,d)):return"disableFuture";case!!(a&&n.utils.isBeforeDay(t,d)):return"disablePast";case!!(u&&n.utils.isBeforeDay(t,u)):return"minDate";case!!(p&&n.utils.isAfterDay(t,p)):return"maxDate";default:return null}},v3=e=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:b({},e)}}}}),Bx={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"open previous view",openNextView:"open next view",calendarViewSwitchingButtonAriaLabel:e=>e==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",clockLabelText:(e,t,n)=>`Select ${e}. ${t===null?"No time selected":`Selected time is ${n.format(t,"fullTime")}`}`,hoursClockNumberText:e=>`${e} hours`,minutesClockNumberText:e=>`${e} minutes`,secondsClockNumberText:e=>`${e} seconds`,selectViewText:e=>`Select ${e}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:e=>`Week ${e}`,calendarWeekNumberText:e=>`${e}`,openDatePickerDialogue:(e,t)=>e!==null&&t.isValid(e)?`Choose date, selected date is ${t.format(e,"fullDate")}`:"Choose date",openTimePickerDialogue:(e,t)=>e!==null&&t.isValid(e)?`Choose time, selected time is ${t.format(e,"fullTime")}`:"Choose time",fieldClearLabel:"Clear value",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:e=>"Y".repeat(e.digitAmount),fieldMonthPlaceholder:e=>e.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:e=>e.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa"},y3=Bx;v3(Bx);const xc=()=>{const e=f.useContext(tu);if(e===null)throw new Error(["MUI: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(e.utils===null)throw new Error(["MUI: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const t=f.useMemo(()=>b({},y3,e.localeText),[e.localeText]);return f.useMemo(()=>b({},e,{localeText:t}),[e,t])},an=()=>xc().utils,kp=()=>xc().defaultDates,Wx=()=>xc().localeText,bc=e=>{const t=an(),n=f.useRef();return n.current===void 0&&(n.current=t.dateWithTimezone(void 0,e)),n.current},Hx=({shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:n,minDate:r,maxDate:s,disableFuture:i,disablePast:a,timezone:l})=>{const c=xc();return f.useCallback(d=>g3({adapter:c,value:d,props:{shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:n,minDate:r,maxDate:s,disableFuture:i,disablePast:a,timezone:l}})!==null,[c,e,t,n,r,s,i,a,l])},$m=(e,t)=>t.getHours(e)*3600+t.getMinutes(e)*60+t.getSeconds(e),x3=(e,t)=>(n,r)=>e?t.isAfter(n,r):$m(n,t)>$m(r,t),fr={year:1,month:2,day:3,minutes:5,seconds:6,milliseconds:7},ei=(e,t,n)=>{if(t===fr.year)return e.startOfYear(n);if(t===fr.month)return e.startOfMonth(n);if(t===fr.day)return e.startOfDay(n);let r=n;return t<fr.minutes&&(r=e.setMinutes(r,0)),t<fr.seconds&&(r=e.setSeconds(r,0)),t<fr.milliseconds&&(r=e.setMilliseconds(r,0)),r},b3=({props:e,utils:t,granularity:n,timezone:r,getTodayDate:s})=>{var i;let a=s?s():ei(t,n,zx(t,r));e.minDate!=null&&t.isAfterDay(e.minDate,a)&&(a=ei(t,n,e.minDate)),e.maxDate!=null&&t.isBeforeDay(e.maxDate,a)&&(a=ei(t,n,e.maxDate));const l=x3((i=e.disableIgnoringDatePartForTimeValidation)!=null?i:!1,t);return e.minTime!=null&&l(e.minTime,a)&&(a=ei(t,n,e.disableIgnoringDatePartForTimeValidation?e.minTime:hl(t,a,e.minTime))),e.maxTime!=null&&l(a,e.maxTime)&&(a=ei(t,n,e.disableIgnoringDatePartForTimeValidation?e.maxTime:hl(t,a,e.maxTime))),a},C3=["value","referenceDate"],xo={emptyValue:null,getTodayValue:zx,getInitialReferenceValue:e=>{let{value:t,referenceDate:n}=e,r=Z(e,C3);return t!=null&&r.utils.isValid(t)?t:n??b3(r)},cleanValue:p3,areValuesEqual:h3,isSameError:(e,t)=>e===t,hasError:e=>e!=null,defaultErrorState:null,getTimezone:(e,t)=>t==null||!e.isValid(t)?null:e.getTimezone(t),setTimezone:(e,t,n)=>n==null?null:e.setTimezone(n,t)},w3=(e,t,n)=>(r,s)=>{switch(s.type){case"changeMonth":return b({},r,{slideDirection:s.direction,currentMonth:s.newMonth,isMonthSwitchingAnimating:!e});case"finishMonthSwitchingAnimation":return b({},r,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(r.focusedDay!=null&&s.focusedDay!=null&&n.isSameDay(s.focusedDay,r.focusedDay))return r;const i=s.focusedDay!=null&&!t&&!n.isSameMonth(r.currentMonth,s.focusedDay);return b({},r,{focusedDay:s.focusedDay,isMonthSwitchingAnimating:i&&!e&&!s.withoutMonthSwitchingAnimation,currentMonth:i?n.startOfMonth(s.focusedDay):r.currentMonth,slideDirection:s.focusedDay!=null&&n.isAfterDay(s.focusedDay,r.currentMonth)?"left":"right"})}default:throw new Error("missing support")}},j3=e=>{const{value:t,referenceDate:n,defaultCalendarMonth:r,disableFuture:s,disablePast:i,disableSwitchToMonthOnDayFocus:a=!1,maxDate:l,minDate:c,onMonthChange:d,reduceAnimations:u,shouldDisableDate:p,timezone:h}=e,g=an(),v=f.useRef(w3(!!u,a,g)).current,m=f.useMemo(()=>{let E=null;return n?E=n:r&&(E=g.startOfMonth(r)),xo.getInitialReferenceValue({value:t,utils:g,timezone:h,props:e,referenceDate:E,granularity:fr.day})},[]),[y,x]=f.useReducer(v,{isMonthSwitchingAnimating:!1,focusedDay:m,currentMonth:g.startOfMonth(m),slideDirection:"left"}),w=f.useCallback(E=>{x(b({type:"changeMonth"},E)),d&&d(E.newMonth)},[d]),C=f.useCallback(E=>{const T=E;g.isSameMonth(T,y.currentMonth)||w({newMonth:g.startOfMonth(T),direction:g.isAfterDay(T,y.currentMonth)?"left":"right"})},[y.currentMonth,w,g]),k=Hx({shouldDisableDate:p,minDate:c,maxDate:l,disableFuture:s,disablePast:i,timezone:h}),_=f.useCallback(()=>{x({type:"finishMonthSwitchingAnimation"})},[]),j=De((E,T)=>{k(E)||x({type:"changeFocusedDay",focusedDay:E,withoutMonthSwitchingAnimation:T})});return{referenceDate:m,calendarState:y,changeMonth:C,changeFocusedDay:j,isDateDisabled:k,onMonthSwitchingAnimationEnd:_,handleChangeMonth:w}},S3=e=>he("MuiPickersFadeTransitionGroup",e);fe("MuiPickersFadeTransitionGroup",["root"]);const k3=e=>{const{classes:t}=e;return ge({root:["root"]},S3,t)},_3=V(Gi,{name:"MuiPickersFadeTransitionGroup",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"block",position:"relative"});function Ux(e){const t=Ln({props:e,name:"MuiPickersFadeTransitionGroup"}),{children:n,className:r,reduceAnimations:s,transKey:i}=t,a=k3(t),l=Vn();return s?n:o.jsx(_3,{className:re(a.root,r),children:o.jsx(Qi,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:l.transitions.duration.enteringScreen,enter:l.transitions.duration.enteringScreen,exit:0},children:n},i)})}const Ni=36,Cc=2,_p=320,T3=280,Vx=334;function E3(e){return he("MuiPickersDay",e)}const es=fe("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),M3=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today","isFirstVisibleCell","isLastVisibleCell"],P3=e=>{const{selected:t,disableMargin:n,disableHighlightToday:r,today:s,disabled:i,outsideCurrentMonth:a,showDaysOutsideCurrentMonth:l,classes:c}=e,d=a&&!l;return ge({root:["root",t&&!d&&"selected",i&&"disabled",!n&&"dayWithMargin",!r&&s&&"today",a&&l&&"dayOutsideMonth",d&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},E3,c)},Yx=({theme:e,ownerState:t})=>b({},e.typography.caption,{width:Ni,height:Ni,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:e.transitions.create("background-color",{duration:e.transitions.duration.short}),color:(e.vars||e).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ro(e.palette.primary.main,e.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:ro(e.palette.primary.main,e.palette.action.focusOpacity),[`&.${es.selected}`]:{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${es.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,fontWeight:e.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${es.disabled}:not(.${es.selected})`]:{color:(e.vars||e).palette.text.disabled},[`&.${es.disabled}&.${es.selected}`]:{opacity:.6}},!t.disableMargin&&{margin:`0 ${Cc}px`},t.outsideCurrentMonth&&t.showDaysOutsideCurrentMonth&&{color:(e.vars||e).palette.text.secondary},!t.disableHighlightToday&&t.today&&{[`&:not(.${es.selected})`]:{border:`1px solid ${(e.vars||e).palette.text.secondary}`}}),Gx=(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableMargin&&t.dayWithMargin,!n.disableHighlightToday&&n.today&&t.today,!n.outsideCurrentMonth&&n.showDaysOutsideCurrentMonth&&t.dayOutsideMonth,n.outsideCurrentMonth&&!n.showDaysOutsideCurrentMonth&&t.hiddenDaySpacingFiller]},N3=V(Yr,{name:"MuiPickersDay",slot:"Root",overridesResolver:Gx})(Yx),I3=V("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:Gx})(({theme:e,ownerState:t})=>b({},Yx({theme:e,ownerState:t}),{opacity:0,pointerEvents:"none"})),ti=()=>{},R3=f.forwardRef(function(t,n){const r=Ln({props:t,name:"MuiPickersDay"}),{autoFocus:s=!1,className:i,day:a,disabled:l=!1,disableHighlightToday:c=!1,disableMargin:d=!1,isAnimating:u,onClick:p,onDaySelect:h,onFocus:g=ti,onBlur:v=ti,onKeyDown:m=ti,onMouseDown:y=ti,onMouseEnter:x=ti,outsideCurrentMonth:w,selected:C=!1,showDaysOutsideCurrentMonth:k=!1,children:_,today:j=!1}=r,E=Z(r,M3),T=b({},r,{autoFocus:s,disabled:l,disableHighlightToday:c,disableMargin:d,selected:C,showDaysOutsideCurrentMonth:k,today:j}),S=P3(T),M=an(),D=f.useRef(null),L=vt(D,n);rn(()=>{s&&!l&&!u&&!w&&D.current.focus()},[s,l,u,w]);const I=R=>{y(R),w&&R.preventDefault()},P=R=>{l||h(a),w&&R.currentTarget.focus(),p&&p(R)};return w&&!k?o.jsx(I3,{className:re(S.root,S.hiddenDaySpacingFiller,i),ownerState:T,role:E.role}):o.jsx(N3,b({className:re(S.root,i),ref:L,centerRipple:!0,disabled:l,tabIndex:C?0:-1,onKeyDown:R=>m(R,a),onFocus:R=>g(R,a),onBlur:R=>v(R,a),onMouseEnter:R=>x(R,a),onClick:P,onMouseDown:I},E,{ownerState:T,children:_||M.format(a,"dayOfMonth")}))}),D3=f.memo(R3),A3=e=>he("MuiPickersSlideTransition",e),_n=fe("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),$3=["children","className","reduceAnimations","slideDirection","transKey","classes"],O3=e=>{const{classes:t,slideDirection:n}=e,r={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${n}`],exitActive:[`slideExitActiveLeft-${n}`]};return ge(r,A3,t)},L3=V(Gi,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`.${_n["slideEnter-left"]}`]:t["slideEnter-left"]},{[`.${_n["slideEnter-right"]}`]:t["slideEnter-right"]},{[`.${_n.slideEnterActive}`]:t.slideEnterActive},{[`.${_n.slideExit}`]:t.slideExit},{[`.${_n["slideExitActiveLeft-left"]}`]:t["slideExitActiveLeft-left"]},{[`.${_n["slideExitActiveLeft-right"]}`]:t["slideExitActiveLeft-right"]}]})(({theme:e})=>{const t=e.transitions.create("transform",{duration:e.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${_n["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${_n["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${_n.slideEnterActive}`]:{transform:"translate(0%)",transition:t},[`& .${_n.slideExit}`]:{transform:"translate(0%)"},[`& .${_n["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:t,zIndex:0},[`& .${_n["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:t,zIndex:0}}});function F3(e){const t=Ln({props:e,name:"MuiPickersSlideTransition"}),{children:n,className:r,reduceAnimations:s,transKey:i}=t,a=Z(t,$3),l=O3(t),c=Vn();if(s)return o.jsx("div",{className:re(l.root,r),children:n});const d={exit:l.exit,enterActive:l.enterActive,enter:l.enter,exitActive:l.exitActive};return o.jsx(L3,{className:re(l.root,r),childFactory:u=>f.cloneElement(u,{classNames:d}),role:"presentation",children:o.jsx(Qu,b({mountOnEnter:!0,unmountOnExit:!0,timeout:c.transitions.duration.complex,classNames:d},a,{children:n}),i)})}const z3=e=>he("MuiDayCalendar",e);fe("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const B3=["parentProps","day","focusableDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],W3=["ownerState"],H3=e=>{const{classes:t}=e;return ge({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},z3,t)},qx=(Ni+Cc*2)*6,U3=V("div",{name:"MuiDayCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({}),V3=V("div",{name:"MuiDayCalendar",slot:"Header",overridesResolver:(e,t)=>t.header})({display:"flex",justifyContent:"center",alignItems:"center"}),Y3=V(B,{name:"MuiDayCalendar",slot:"WeekDayLabel",overridesResolver:(e,t)=>t.weekDayLabel})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.secondary})),G3=V(B,{name:"MuiDayCalendar",slot:"WeekNumberLabel",overridesResolver:(e,t)=>t.weekNumberLabel})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:e.palette.text.disabled})),q3=V(B,{name:"MuiDayCalendar",slot:"WeekNumber",overridesResolver:(e,t)=>t.weekNumber})(({theme:e})=>b({},e.typography.caption,{width:Ni,height:Ni,padding:0,margin:`0 ${Cc}px`,color:e.palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),K3=V("div",{name:"MuiDayCalendar",slot:"LoadingContainer",overridesResolver:(e,t)=>t.loadingContainer})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:qx}),Q3=V(F3,{name:"MuiDayCalendar",slot:"SlideTransition",overridesResolver:(e,t)=>t.slideTransition})({minHeight:qx}),X3=V("div",{name:"MuiDayCalendar",slot:"MonthContainer",overridesResolver:(e,t)=>t.monthContainer})({overflow:"hidden"}),Z3=V("div",{name:"MuiDayCalendar",slot:"WeekContainer",overridesResolver:(e,t)=>t.weekContainer})({margin:`${Cc}px 0`,display:"flex",justifyContent:"center"});function J3(e){var t,n,r;let{parentProps:s,day:i,focusableDay:a,selectedDays:l,isDateDisabled:c,currentMonthNumber:d,isViewFocused:u}=e,p=Z(e,B3);const{disabled:h,disableHighlightToday:g,isMonthSwitchingAnimating:v,showDaysOutsideCurrentMonth:m,components:y,componentsProps:x,slots:w,slotProps:C,timezone:k}=s,_=an(),j=bc(k),E=a!==null&&_.isSameDay(i,a),T=l.some(O=>_.isSameDay(O,i)),S=_.isSameDay(i,j),M=(t=(n=w==null?void 0:w.day)!=null?n:y==null?void 0:y.Day)!=null?t:D3,D=Br({elementType:M,externalSlotProps:(r=C==null?void 0:C.day)!=null?r:x==null?void 0:x.day,additionalProps:b({disableHighlightToday:g,showDaysOutsideCurrentMonth:m,role:"gridcell",isAnimating:v,"data-timestamp":_.toJsDate(i).valueOf()},p),ownerState:b({},s,{day:i,selected:T})}),L=Z(D,W3),I=f.useMemo(()=>h||c(i),[h,c,i]),P=f.useMemo(()=>_.getMonth(i)!==d,[_,i,d]),R=f.useMemo(()=>{const O=_.startOfMonth(_.setMonth(i,d));return m?_.isSameDay(i,_.startOfWeek(O)):_.isSameDay(i,O)},[d,i,m,_]),N=f.useMemo(()=>{const O=_.endOfMonth(_.setMonth(i,d));return m?_.isSameDay(i,_.endOfWeek(O)):_.isSameDay(i,O)},[d,i,m,_]);return o.jsx(M,b({},L,{day:i,disabled:I,autoFocus:u&&E,today:S,outsideCurrentMonth:P,isFirstVisibleCell:R,isLastVisibleCell:N,selected:T,tabIndex:E?0:-1,"aria-selected":T,"aria-current":S?"date":void 0}))}function e5(e){const t=Ln({props:e,name:"MuiDayCalendar"}),{onFocusedDayChange:n,className:r,currentMonth:s,selectedDays:i,focusedDay:a,loading:l,onSelectedDaysChange:c,onMonthSwitchingAnimationEnd:d,readOnly:u,reduceAnimations:p,renderLoading:h=()=>o.jsx("span",{children:"..."}),slideDirection:g,TransitionProps:v,disablePast:m,disableFuture:y,minDate:x,maxDate:w,shouldDisableDate:C,shouldDisableMonth:k,shouldDisableYear:_,dayOfWeekFormatter:j,hasFocus:E,onFocusedViewChange:T,gridLabelId:S,displayWeekNumber:M,fixedWeekNumber:D,autoFocus:L,timezone:I}=t,P=bc(I),R=an(),N=H3(t),z=Vn().direction==="rtl",$=j||((oe,ce)=>R.format(ce,"weekdayShort").charAt(0).toUpperCase()),A=Hx({shouldDisableDate:C,shouldDisableMonth:k,shouldDisableYear:_,minDate:x,maxDate:w,disablePast:m,disableFuture:y,timezone:I}),U=Wx(),[Y,G]=lr({name:"DayCalendar",state:"hasFocus",controlled:E,default:L??!1}),[J,ae]=f.useState(()=>a||P),H=De(oe=>{u||c(oe)}),le=oe=>{A(oe)||(n(oe),ae(oe),T==null||T(!0),G(!0))},ee=De((oe,ce)=>{switch(oe.key){case"ArrowUp":le(R.addDays(ce,-7)),oe.preventDefault();break;case"ArrowDown":le(R.addDays(ce,7)),oe.preventDefault();break;case"ArrowLeft":{const xe=R.addDays(ce,z?1:-1),ve=R.addMonths(ce,z?1:-1),Re=vi({utils:R,date:xe,minDate:z?xe:R.startOfMonth(ve),maxDate:z?R.endOfMonth(ve):xe,isDateDisabled:A,timezone:I});le(Re||xe),oe.preventDefault();break}case"ArrowRight":{const xe=R.addDays(ce,z?-1:1),ve=R.addMonths(ce,z?-1:1),Re=vi({utils:R,date:xe,minDate:z?R.startOfMonth(ve):xe,maxDate:z?xe:R.endOfMonth(ve),isDateDisabled:A,timezone:I});le(Re||xe),oe.preventDefault();break}case"Home":le(R.startOfWeek(ce)),oe.preventDefault();break;case"End":le(R.endOfWeek(ce)),oe.preventDefault();break;case"PageUp":le(R.addMonths(ce,1)),oe.preventDefault();break;case"PageDown":le(R.addMonths(ce,-1)),oe.preventDefault();break}}),X=De((oe,ce)=>le(ce)),ie=De((oe,ce)=>{Y&&R.isSameDay(J,ce)&&(T==null||T(!1))}),K=R.getMonth(s),W=f.useMemo(()=>i.filter(oe=>!!oe).map(oe=>R.startOfDay(oe)),[R,i]),F=K,q=f.useMemo(()=>f.createRef(),[F]),ne=R.startOfWeek(P),pe=f.useMemo(()=>{const oe=R.startOfMonth(s),ce=R.endOfMonth(s);return A(J)||R.isAfterDay(J,ce)||R.isBeforeDay(J,oe)?vi({utils:R,date:J,minDate:oe,maxDate:ce,disablePast:m,disableFuture:y,isDateDisabled:A,timezone:I}):J},[s,y,m,J,A,R,I]),Te=f.useMemo(()=>{const oe=R.setTimezone(s,I),ce=R.getWeekArray(oe);let xe=R.addMonths(oe,1);for(;D&&ce.length<D;){const ve=R.getWeekArray(xe),Re=R.isSameDay(ce[ce.length-1][0],ve[0][0]);ve.slice(Re?1:0).forEach(Me=>{ce.length<D&&ce.push(Me)}),xe=R.addMonths(xe,1)}return ce},[s,D,R,I]);return o.jsxs(U3,{role:"grid","aria-labelledby":S,className:N.root,children:[o.jsxs(V3,{role:"row",className:N.header,children:[M&&o.jsx(G3,{variant:"caption",role:"columnheader","aria-label":U.calendarWeekNumberHeaderLabel,className:N.weekNumberLabel,children:U.calendarWeekNumberHeaderText}),m3(R,P).map((oe,ce)=>{var xe;const ve=R.format(oe,"weekdayShort");return o.jsx(Y3,{variant:"caption",role:"columnheader","aria-label":R.format(R.addDays(ne,ce),"weekday"),className:N.weekDayLabel,children:(xe=$==null?void 0:$(ve,oe))!=null?xe:ve},ve+ce.toString())})]}),l?o.jsx(K3,{className:N.loadingContainer,children:h()}):o.jsx(Q3,b({transKey:F,onExited:d,reduceAnimations:p,slideDirection:g,className:re(r,N.slideTransition)},v,{nodeRef:q,children:o.jsx(X3,{ref:q,role:"rowgroup",className:N.monthContainer,children:Te.map((oe,ce)=>o.jsxs(Z3,{role:"row",className:N.weekContainer,"aria-rowindex":ce+1,children:[M&&o.jsx(q3,{className:N.weekNumber,role:"rowheader","aria-label":U.calendarWeekNumberAriaLabelText(R.getWeekNumber(oe[0])),children:U.calendarWeekNumberText(R.getWeekNumber(oe[0]))}),oe.map((xe,ve)=>o.jsx(J3,{parentProps:t,day:xe,selectedDays:W,focusableDay:pe,onKeyDown:ee,onFocus:X,onBlur:ie,onDaySelect:H,isDateDisabled:A,currentMonthNumber:K,isViewFocused:Y,"aria-colindex":ve+1},xe.toString()))]},`week-${oe[0]}`))})}))]})}function t5(e){return he("MuiPickersMonth",e)}const ba=fe("MuiPickersMonth",["root","monthButton","disabled","selected"]),n5=["autoFocus","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","aria-label","monthsPerRow"],r5=e=>{const{disabled:t,selected:n,classes:r}=e;return ge({root:["root"],monthButton:["monthButton",t&&"disabled",n&&"selected"]},t5,r)},s5=V("div",{name:"MuiPickersMonth",slot:"Root",overridesResolver:(e,t)=>[t.root]})(({ownerState:e})=>({flexBasis:e.monthsPerRow===3?"33.3%":"25%",display:"flex",alignItems:"center",justifyContent:"center"})),o5=V("button",{name:"MuiPickersMonth",slot:"MonthButton",overridesResolver:(e,t)=>[t.monthButton,{[`&.${ba.disabled}`]:t.disabled},{[`&.${ba.selected}`]:t.selected}]})(({theme:e})=>b({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:ro(e.palette.action.active,e.palette.action.hoverOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:ro(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${ba.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${ba.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),i5=f.memo(function(t){const n=Ln({props:t,name:"MuiPickersMonth"}),{autoFocus:r,children:s,disabled:i,selected:a,value:l,tabIndex:c,onClick:d,onKeyDown:u,onFocus:p,onBlur:h,"aria-current":g,"aria-label":v}=n,m=Z(n,n5),y=f.useRef(null),x=r5(n);return rn(()=>{if(r){var w;(w=y.current)==null||w.focus()}},[r]),o.jsx(s5,b({className:x.root,ownerState:n},m,{children:o.jsx(o5,{ref:y,disabled:i,type:"button",role:"radio",tabIndex:i?-1:c,"aria-current":g,"aria-checked":a,"aria-label":v,onClick:w=>d(w,l),onKeyDown:w=>u(w,l),onFocus:w=>p(w,l),onBlur:w=>h(w,l),className:x.monthButton,ownerState:n,children:s})}))});function a5(e){return he("MuiMonthCalendar",e)}fe("MuiMonthCalendar",["root"]);const l5=({timezone:e,value:t,defaultValue:n,onChange:r,valueManager:s})=>{var i,a;const l=an(),c=f.useRef(n),d=(i=t??c.current)!=null?i:s.emptyValue,u=f.useMemo(()=>s.getTimezone(l,d),[l,s,d]),p=De(m=>u==null?m:s.setTimezone(l,u,m)),h=(a=e??u)!=null?a:"default",g=f.useMemo(()=>s.setTimezone(l,h,d),[s,l,h,d]),v=De((m,...y)=>{const x=p(m);r==null||r(x,...y)});return{value:g,handleValueChange:v,timezone:h}},Tp=({name:e,timezone:t,value:n,defaultValue:r,onChange:s,valueManager:i})=>{const[a,l]=lr({name:e,state:"value",controlled:n,default:r??i.emptyValue}),c=De((d,...u)=>{l(d),s==null||s(d,...u)});return l5({timezone:t,value:a,defaultValue:void 0,onChange:c,valueManager:i})},c5=["className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","autoFocus","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId"],d5=e=>{const{classes:t}=e;return ge({root:["root"]},a5,t)};function u5(e,t){const n=an(),r=kp(),s=Ln({props:e,name:t});return b({disableFuture:!1,disablePast:!1},s,{minDate:qr(n,s.minDate,r.minDate),maxDate:qr(n,s.maxDate,r.maxDate)})}const p5=V("div",{name:"MuiMonthCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexWrap:"wrap",alignContent:"stretch",padding:"0 4px",width:_p,boxSizing:"border-box"}),h5=f.forwardRef(function(t,n){const r=u5(t,"MuiMonthCalendar"),{className:s,value:i,defaultValue:a,referenceDate:l,disabled:c,disableFuture:d,disablePast:u,maxDate:p,minDate:h,onChange:g,shouldDisableMonth:v,readOnly:m,disableHighlightToday:y,autoFocus:x=!1,onMonthFocus:w,hasFocus:C,onFocusedViewChange:k,monthsPerRow:_=3,timezone:j,gridLabelId:E}=r,T=Z(r,c5),{value:S,handleValueChange:M,timezone:D}=Tp({name:"MonthCalendar",timezone:j,value:i,defaultValue:a,onChange:g,valueManager:xo}),L=bc(D),I=So(),P=an(),R=f.useMemo(()=>xo.getInitialReferenceValue({value:S,utils:P,props:r,timezone:D,referenceDate:l,granularity:fr.month}),[]),N=r,O=d5(N),z=f.useMemo(()=>P.getMonth(L),[P,L]),$=f.useMemo(()=>S!=null?P.getMonth(S):y?null:P.getMonth(R),[S,P,y,R]),[A,U]=f.useState(()=>$||z),[Y,G]=lr({name:"MonthCalendar",state:"hasFocus",controlled:C,default:x??!1}),J=De(K=>{G(K),k&&k(K)}),ae=f.useCallback(K=>{const W=P.startOfMonth(u&&P.isAfter(L,h)?L:h),F=P.startOfMonth(d&&P.isBefore(L,p)?L:p),q=P.startOfMonth(K);return P.isBefore(q,W)||P.isAfter(q,F)?!0:v?v(q):!1},[d,u,p,h,L,v,P]),H=De((K,W)=>{if(m)return;const F=P.setMonth(S??R,W);M(F)}),le=De(K=>{ae(P.setMonth(S??R,K))||(U(K),J(!0),w&&w(K))});f.useEffect(()=>{U(K=>$!==null&&K!==$?$:K)},[$]);const ee=De((K,W)=>{switch(K.key){case"ArrowUp":le((12+W-3)%12),K.preventDefault();break;case"ArrowDown":le((12+W+3)%12),K.preventDefault();break;case"ArrowLeft":le((12+W+(I.direction==="ltr"?-1:1))%12),K.preventDefault();break;case"ArrowRight":le((12+W+(I.direction==="ltr"?1:-1))%12),K.preventDefault();break}}),X=De((K,W)=>{le(W)}),ie=De((K,W)=>{A===W&&J(!1)});return o.jsx(p5,b({ref:n,className:re(O.root,s),ownerState:N,role:"radiogroup","aria-labelledby":E},T,{children:f3(P,S??R).map(K=>{const W=P.getMonth(K),F=P.format(K,"monthShort"),q=P.format(K,"month"),ne=W===$,pe=c||ae(K);return o.jsx(i5,{selected:ne,value:W,onClick:H,onKeyDown:ee,autoFocus:Y&&W===A,disabled:pe,tabIndex:W===A?0:-1,onFocus:X,onBlur:ie,"aria-current":z===W?"date":void 0,"aria-label":q,monthsPerRow:_,children:F},F)})}))});function f5(e){return he("MuiPickersYear",e)}const Ca=fe("MuiPickersYear",["root","yearButton","selected","disabled"]),m5=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","yearsPerRow"],g5=e=>{const{disabled:t,selected:n,classes:r}=e;return ge({root:["root"],yearButton:["yearButton",t&&"disabled",n&&"selected"]},f5,r)},v5=V("div",{name:"MuiPickersYear",slot:"Root",overridesResolver:(e,t)=>[t.root]})(({ownerState:e})=>({flexBasis:e.yearsPerRow===3?"33.3%":"25%",display:"flex",alignItems:"center",justifyContent:"center"})),y5=V("button",{name:"MuiPickersYear",slot:"YearButton",overridesResolver:(e,t)=>[t.yearButton,{[`&.${Ca.disabled}`]:t.disabled},{[`&.${Ca.selected}`]:t.selected}]})(({theme:e})=>b({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{margin:"6px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.focusOpacity})`:ro(e.palette.action.active,e.palette.action.focusOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:ro(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${Ca.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${Ca.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),x5=f.memo(function(t){const n=Ln({props:t,name:"MuiPickersYear"}),{autoFocus:r,className:s,children:i,disabled:a,selected:l,value:c,tabIndex:d,onClick:u,onKeyDown:p,onFocus:h,onBlur:g,"aria-current":v}=n,m=Z(n,m5),y=f.useRef(null),x=g5(n);return f.useEffect(()=>{r&&y.current.focus()},[r]),o.jsx(v5,b({className:re(x.root,s),ownerState:n},m,{children:o.jsx(y5,{ref:y,disabled:a,type:"button",role:"radio",tabIndex:a?-1:d,"aria-current":v,"aria-checked":l,onClick:w=>u(w,c),onKeyDown:w=>p(w,c),onFocus:w=>h(w,c),onBlur:w=>g(w,c),className:x.yearButton,ownerState:n,children:i})}))});function b5(e){return he("MuiYearCalendar",e)}fe("MuiYearCalendar",["root"]);const C5=["autoFocus","className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsPerRow","timezone","gridLabelId"],w5=e=>{const{classes:t}=e;return ge({root:["root"]},b5,t)};function j5(e,t){var n;const r=an(),s=kp(),i=Ln({props:e,name:t});return b({disablePast:!1,disableFuture:!1},i,{yearsPerRow:(n=i.yearsPerRow)!=null?n:3,minDate:qr(r,i.minDate,s.minDate),maxDate:qr(r,i.maxDate,s.maxDate)})}const S5=V("div",{name:"MuiYearCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",padding:"0 4px",width:_p,maxHeight:T3,boxSizing:"border-box",position:"relative"}),k5=f.forwardRef(function(t,n){const r=j5(t,"MuiYearCalendar"),{autoFocus:s,className:i,value:a,defaultValue:l,referenceDate:c,disabled:d,disableFuture:u,disablePast:p,maxDate:h,minDate:g,onChange:v,readOnly:m,shouldDisableYear:y,disableHighlightToday:x,onYearFocus:w,hasFocus:C,onFocusedViewChange:k,yearsPerRow:_,timezone:j,gridLabelId:E}=r,T=Z(r,C5),{value:S,handleValueChange:M,timezone:D}=Tp({name:"YearCalendar",timezone:j,value:a,defaultValue:l,onChange:v,valueManager:xo}),L=bc(D),I=So(),P=an(),R=f.useMemo(()=>xo.getInitialReferenceValue({value:S,utils:P,props:r,timezone:D,referenceDate:c,granularity:fr.year}),[]),N=r,O=w5(N),z=f.useMemo(()=>P.getYear(L),[P,L]),$=f.useMemo(()=>S!=null?P.getYear(S):x?null:P.getYear(R),[S,P,x,R]),[A,U]=f.useState(()=>$||z),[Y,G]=lr({name:"YearCalendar",state:"hasFocus",controlled:C,default:s??!1}),J=De(F=>{G(F),k&&k(F)}),ae=f.useCallback(F=>{if(p&&P.isBeforeYear(F,L)||u&&P.isAfterYear(F,L)||g&&P.isBeforeYear(F,g)||h&&P.isAfterYear(F,h))return!0;if(!y)return!1;const q=P.startOfYear(F);return y(q)},[u,p,h,g,L,y,P]),H=De((F,q)=>{if(m)return;const ne=P.setYear(S??R,q);M(ne)}),le=De(F=>{ae(P.setYear(S??R,F))||(U(F),J(!0),w==null||w(F))});f.useEffect(()=>{U(F=>$!==null&&F!==$?$:F)},[$]);const ee=De((F,q)=>{switch(F.key){case"ArrowUp":le(q-_),F.preventDefault();break;case"ArrowDown":le(q+_),F.preventDefault();break;case"ArrowLeft":le(q+(I.direction==="ltr"?-1:1)),F.preventDefault();break;case"ArrowRight":le(q+(I.direction==="ltr"?1:-1)),F.preventDefault();break}}),X=De((F,q)=>{le(q)}),ie=De((F,q)=>{A===q&&J(!1)}),K=f.useRef(null),W=vt(n,K);return f.useEffect(()=>{if(s||K.current===null)return;const F=K.current.querySelector('[tabindex="0"]');if(!F)return;const q=F.offsetHeight,ne=F.offsetTop,pe=K.current.clientHeight,Te=K.current.scrollTop,oe=ne+q;q>pe||ne<Te||(K.current.scrollTop=oe-pe/2-q/2)},[s]),o.jsx(S5,b({ref:W,className:re(O.root,i),ownerState:N,role:"radiogroup","aria-labelledby":E},T,{children:P.getYearRange(g,h).map(F=>{const q=P.getYear(F),ne=q===$,pe=d||ae(F);return o.jsx(x5,{selected:ne,value:q,onClick:H,onKeyDown:ee,autoFocus:Y&&q===A,disabled:pe,tabIndex:q===A?0:-1,onFocus:X,onBlur:ie,"aria-current":z===q?"date":void 0,yearsPerRow:_,children:P.format(F,"year")},P.format(F,"year"))})}))});function _5({onChange:e,onViewChange:t,openTo:n,view:r,views:s,autoFocus:i,focusedView:a,onFocusedViewChange:l}){var c,d;const u=f.useRef(n),p=f.useRef(s),h=f.useRef(s.includes(n)?n:s[0]),[g,v]=lr({name:"useViews",state:"view",controlled:r,default:h.current}),m=f.useRef(i?g:null),[y,x]=lr({name:"useViews",state:"focusedView",controlled:a,default:m.current});f.useEffect(()=>{(u.current&&u.current!==n||p.current&&p.current.some(S=>!s.includes(S)))&&(v(s.includes(n)?n:s[0]),p.current=s,u.current=n)},[n,v,g,s]);const w=s.indexOf(g),C=(c=s[w-1])!=null?c:null,k=(d=s[w+1])!=null?d:null,_=De((S,M)=>{x(M?S:D=>S===D?null:D),l==null||l(S,M)}),j=De(S=>{_(S,!0),S!==g&&(v(S),t&&t(S))}),E=De(()=>{k&&j(k)}),T=De((S,M,D)=>{const L=M==="finish",I=D?s.indexOf(D)<s.length-1:!!k;if(e(S,L&&I?"partial":M,D),D&&D!==g){const R=s[s.indexOf(D)+1];R&&j(R)}else L&&E()});return{view:g,setView:j,focusedView:y,setFocusedView:_,nextView:k,previousView:C,defaultView:s.includes(n)?n:s[0],goToNextView:E,setValueAndGoToNextView:T}}const T5=e=>he("MuiPickersCalendarHeader",e),E5=fe("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),M5=ue(o.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),P5=ue(o.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),N5=ue(o.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight");ue(o.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar");ue(o.jsxs(f.Fragment,{children:[o.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),o.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock");ue(o.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange");ue(o.jsxs(f.Fragment,{children:[o.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),o.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time");ue(o.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");function I5(e){return he("MuiPickersArrowSwitcher",e)}fe("MuiPickersArrowSwitcher",["root","spacer","button"]);const R5=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel"],D5=["ownerState"],A5=["ownerState"],$5=V("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex"}),O5=V("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(e,t)=>t.spacer})(({theme:e})=>({width:e.spacing(3)})),Om=V(cn,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(e,t)=>t.button})(({ownerState:e})=>b({},e.hidden&&{visibility:"hidden"})),L5=e=>{const{classes:t}=e;return ge({root:["root"],spacer:["spacer"],button:["button"]},I5,t)},F5=f.forwardRef(function(t,n){var r,s,i,a;const c=Vn().direction==="rtl",d=Ln({props:t,name:"MuiPickersArrowSwitcher"}),{children:u,className:p,slots:h,slotProps:g,isNextDisabled:v,isNextHidden:m,onGoToNext:y,nextLabel:x,isPreviousDisabled:w,isPreviousHidden:C,onGoToPrevious:k,previousLabel:_}=d,j=Z(d,R5),E=d,T=L5(E),S={isDisabled:v,isHidden:m,goTo:y,label:x},M={isDisabled:w,isHidden:C,goTo:k,label:_},D=(r=h==null?void 0:h.previousIconButton)!=null?r:Om,L=Br({elementType:D,externalSlotProps:g==null?void 0:g.previousIconButton,additionalProps:{size:"medium",title:M.label,"aria-label":M.label,disabled:M.isDisabled,edge:"end",onClick:M.goTo},ownerState:b({},E,{hidden:M.isHidden}),className:T.button}),I=(s=h==null?void 0:h.nextIconButton)!=null?s:Om,P=Br({elementType:I,externalSlotProps:g==null?void 0:g.nextIconButton,additionalProps:{size:"medium",title:S.label,"aria-label":S.label,disabled:S.isDisabled,edge:"start",onClick:S.goTo},ownerState:b({},E,{hidden:S.isHidden}),className:T.button}),R=(i=h==null?void 0:h.leftArrowIcon)!=null?i:P5,N=Br({elementType:R,externalSlotProps:g==null?void 0:g.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),O=Z(N,D5),z=(a=h==null?void 0:h.rightArrowIcon)!=null?a:N5,$=Br({elementType:z,externalSlotProps:g==null?void 0:g.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),A=Z($,A5);return o.jsxs($5,b({ref:n,className:re(T.root,p),ownerState:E},j,{children:[o.jsx(D,b({},L,{children:c?o.jsx(z,b({},A)):o.jsx(R,b({},O))})),u?o.jsx(B,{variant:"subtitle1",component:"span",children:u}):o.jsx(O5,{className:T.spacer,ownerState:E}),o.jsx(I,b({},P,{children:c?o.jsx(R,b({},O)):o.jsx(z,b({},A))}))]}))});function z5(e,{disableFuture:t,maxDate:n,timezone:r}){const s=an();return f.useMemo(()=>{const i=s.dateWithTimezone(void 0,r),a=s.startOfMonth(t&&s.isBefore(i,n)?i:n);return!s.isAfter(a,e)},[t,n,e,s,r])}function B5(e,{disablePast:t,minDate:n,timezone:r}){const s=an();return f.useMemo(()=>{const i=s.dateWithTimezone(void 0,r),a=s.startOfMonth(t&&s.isAfter(i,n)?i:n);return!s.isBefore(a,e)},[t,n,e,s,r])}const W5=["slots","slotProps","components","componentsProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","timezone"],H5=["ownerState"],U5=e=>{const{classes:t}=e;return ge({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},T5,t)},V5=V("div",{name:"MuiPickersCalendarHeader",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",alignItems:"center",marginTop:16,marginBottom:8,paddingLeft:24,paddingRight:12,maxHeight:30,minHeight:30}),Y5=V("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer",overridesResolver:(e,t)=>t.labelContainer})(({theme:e})=>b({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},e.typography.body1,{fontWeight:e.typography.fontWeightMedium})),G5=V("div",{name:"MuiPickersCalendarHeader",slot:"Label",overridesResolver:(e,t)=>t.label})({marginRight:6}),q5=V(cn,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton",overridesResolver:(e,t)=>t.switchViewButton})(({ownerState:e})=>b({marginRight:"auto"},e.view==="year"&&{[`.${E5.switchViewIcon}`]:{transform:"rotate(180deg)"}})),K5=V(M5,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon",overridesResolver:(e,t)=>t.switchViewIcon})(({theme:e})=>({willChange:"transform",transition:e.transitions.create("transform"),transform:"rotate(0deg)"})),Q5=f.forwardRef(function(t,n){var r,s,i,a;const l=Wx(),c=an(),d=Ln({props:t,name:"MuiPickersCalendarHeader"}),{slots:u,slotProps:p,components:h,currentMonth:g,disabled:v,disableFuture:m,disablePast:y,maxDate:x,minDate:w,onMonthChange:C,onViewChange:k,view:_,reduceAnimations:j,views:E,labelId:T,className:S,timezone:M}=d,D=Z(d,W5),L=d,I=U5(d),P=(r=(s=u==null?void 0:u.switchViewButton)!=null?s:h==null?void 0:h.SwitchViewButton)!=null?r:q5,R=Br({elementType:P,externalSlotProps:p==null?void 0:p.switchViewButton,additionalProps:{size:"small","aria-label":l.calendarViewSwitchingButtonAriaLabel(_)},ownerState:L,className:I.switchViewButton}),N=(i=(a=u==null?void 0:u.switchViewIcon)!=null?a:h==null?void 0:h.SwitchViewIcon)!=null?i:K5,O=Br({elementType:N,externalSlotProps:p==null?void 0:p.switchViewIcon,ownerState:void 0,className:I.switchViewIcon}),z=Z(O,H5),$=()=>C(c.addMonths(g,1),"left"),A=()=>C(c.addMonths(g,-1),"right"),U=z5(g,{disableFuture:m,maxDate:x,timezone:M}),Y=B5(g,{disablePast:y,minDate:w,timezone:M}),G=()=>{if(!(E.length===1||!k||v))if(E.length===2)k(E.find(J=>J!==_)||E[0]);else{const J=E.indexOf(_)!==0?0:1;k(E[J])}};return E.length===1&&E[0]==="year"?null:o.jsxs(V5,b({},D,{ownerState:L,className:re(S,I.root),ref:n,children:[o.jsxs(Y5,{role:"presentation",onClick:G,ownerState:L,"aria-live":"polite",className:I.labelContainer,children:[o.jsx(Ux,{reduceAnimations:j,transKey:c.format(g,"monthAndYear"),children:o.jsx(G5,{id:T,ownerState:L,className:I.label,children:c.format(g,"monthAndYear")})}),E.length>1&&!v&&o.jsx(P,b({},R,{children:o.jsx(N,b({},z))}))]}),o.jsx(Qi,{in:_==="day",children:o.jsx(F5,{slots:u,slotProps:p,onGoToPrevious:A,isPreviousDisabled:Y,previousLabel:l.previousMonth,onGoToNext:$,isNextDisabled:U,nextLabel:l.nextMonth})})]}))}),X5=V("div")({overflow:"hidden",width:_p,maxHeight:Vx,display:"flex",flexDirection:"column",margin:"0 auto"}),Z5="@media (prefers-reduced-motion: reduce)",Js=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),Lm=Js&&Js[1]?parseInt(Js[1],10):null,Fm=Js&&Js[2]?parseInt(Js[2],10):null,J5=Lm&&Lm<10||Fm&&Fm<13||!1,eL=()=>hC(Z5,{defaultMatches:!1})||J5,tL=e=>he("MuiDateCalendar",e);fe("MuiDateCalendar",["root","viewTransitionContainer"]);const nL=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","defaultCalendarMonth","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","components","componentsProps","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsPerRow","monthsPerRow","timezone"],rL=e=>{const{classes:t}=e;return ge({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},tL,t)};function sL(e,t){var n,r,s,i,a,l,c;const d=an(),u=kp(),p=eL(),h=Ln({props:e,name:t});return b({},h,{loading:(n=h.loading)!=null?n:!1,disablePast:(r=h.disablePast)!=null?r:!1,disableFuture:(s=h.disableFuture)!=null?s:!1,openTo:(i=h.openTo)!=null?i:"day",views:(a=h.views)!=null?a:["year","day"],reduceAnimations:(l=h.reduceAnimations)!=null?l:p,renderLoading:(c=h.renderLoading)!=null?c:()=>o.jsx("span",{children:"..."}),minDate:qr(d,h.minDate,u.minDate),maxDate:qr(d,h.maxDate,u.maxDate)})}const oL=V(X5,{name:"MuiDateCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"column",height:Vx}),iL=V(Ux,{name:"MuiDateCalendar",slot:"ViewTransitionContainer",overridesResolver:(e,t)=>t.viewTransitionContainer})({}),aL=f.forwardRef(function(t,n){var r,s,i;const a=an(),l=ko(),c=sL(t,"MuiDateCalendar"),{autoFocus:d,onViewChange:u,value:p,defaultValue:h,referenceDate:g,disableFuture:v,disablePast:m,defaultCalendarMonth:y,onChange:x,onYearChange:w,onMonthChange:C,reduceAnimations:k,shouldDisableDate:_,shouldDisableMonth:j,shouldDisableYear:E,view:T,views:S,openTo:M,className:D,disabled:L,readOnly:I,minDate:P,maxDate:R,disableHighlightToday:N,focusedView:O,onFocusedViewChange:z,showDaysOutsideCurrentMonth:$,fixedWeekNumber:A,dayOfWeekFormatter:U,components:Y,componentsProps:G,slots:J,slotProps:ae,loading:H,renderLoading:le,displayWeekNumber:ee,yearsPerRow:X,monthsPerRow:ie,timezone:K}=c,W=Z(c,nL),{value:F,handleValueChange:q,timezone:ne}=Tp({name:"DateCalendar",timezone:K,value:p,defaultValue:h,onChange:x,valueManager:xo}),{view:pe,setView:Te,focusedView:oe,setFocusedView:ce,goToNextView:xe,setValueAndGoToNextView:ve}=_5({view:T,views:S,openTo:M,onChange:q,onViewChange:u,autoFocus:d,focusedView:O,onFocusedViewChange:z}),{referenceDate:Re,calendarState:Me,changeFocusedDay:Ie,changeMonth:wt,handleChangeMonth:Dt,isDateDisabled:At,onMonthSwitchingAnimationEnd:Qe}=j3({value:F,defaultCalendarMonth:y,referenceDate:g,reduceAnimations:k,onMonthChange:C,minDate:P,maxDate:R,shouldDisableDate:_,disablePast:m,disableFuture:v,timezone:ne}),_e=L&&F||P,Et=L&&F||R,kn=`${l}-grid-label`,Xt=oe!==null,Se=(r=(s=J==null?void 0:J.calendarHeader)!=null?s:Y==null?void 0:Y.CalendarHeader)!=null?r:Q5,st=Br({elementType:Se,externalSlotProps:(i=ae==null?void 0:ae.calendarHeader)!=null?i:G==null?void 0:G.calendarHeader,additionalProps:{views:S,view:pe,currentMonth:Me.currentMonth,onViewChange:Te,onMonthChange:(ht,vn)=>Dt({newMonth:ht,direction:vn}),minDate:_e,maxDate:Et,disabled:L,disablePast:m,disableFuture:v,reduceAnimations:k,timezone:ne,labelId:kn,slots:J,slotProps:ae},ownerState:c}),xt=De(ht=>{const vn=a.startOfMonth(ht),Zr=a.endOfMonth(ht),Yn=At(ht)?vi({utils:a,date:ht,minDate:a.isBefore(P,vn)?vn:P,maxDate:a.isAfter(R,Zr)?Zr:R,disablePast:m,disableFuture:v,isDateDisabled:At,timezone:ne}):ht;Yn?(ve(Yn,"finish"),C==null||C(vn)):(xe(),wt(vn)),Ie(Yn,!0)}),gn=De(ht=>{const vn=a.startOfYear(ht),Zr=a.endOfYear(ht),Yn=At(ht)?vi({utils:a,date:ht,minDate:a.isBefore(P,vn)?vn:P,maxDate:a.isAfter(R,Zr)?Zr:R,disablePast:m,disableFuture:v,isDateDisabled:At,timezone:ne}):ht;Yn?(ve(Yn,"finish"),w==null||w(Yn)):(xe(),wt(vn)),Ie(Yn,!0)}),Ir=De(ht=>q(ht&&hl(a,ht,F??Re),"finish",pe));f.useEffect(()=>{F!=null&&a.isValid(F)&&wt(F)},[F]);const Es=c,ea=rL(Es),Ao={disablePast:m,disableFuture:v,maxDate:R,minDate:P},$o={disableHighlightToday:N,readOnly:I,disabled:L,timezone:ne,gridLabelId:kn},Ms=f.useRef(pe);f.useEffect(()=>{Ms.current!==pe&&(oe===Ms.current&&ce(pe,!0),Ms.current=pe)},[oe,ce,pe]);const ta=f.useMemo(()=>[F],[F]);return o.jsxs(oL,b({ref:n,className:re(ea.root,D),ownerState:Es},W,{children:[o.jsx(Se,b({},st)),o.jsx(iL,{reduceAnimations:k,className:ea.viewTransitionContainer,transKey:pe,ownerState:Es,children:o.jsxs("div",{children:[pe==="year"&&o.jsx(k5,b({},Ao,$o,{value:F,onChange:gn,shouldDisableYear:E,hasFocus:Xt,onFocusedViewChange:ht=>ce("year",ht),yearsPerRow:X,referenceDate:Re})),pe==="month"&&o.jsx(h5,b({},Ao,$o,{hasFocus:Xt,className:D,value:F,onChange:xt,shouldDisableMonth:j,onFocusedViewChange:ht=>ce("month",ht),monthsPerRow:ie,referenceDate:Re})),pe==="day"&&o.jsx(e5,b({},Me,Ao,$o,{onMonthSwitchingAnimationEnd:Qe,onFocusedDayChange:Ie,reduceAnimations:k,selectedDays:ta,onSelectedDaysChange:Ir,shouldDisableDate:_,shouldDisableMonth:j,shouldDisableYear:E,hasFocus:Xt,onFocusedViewChange:ht=>ce("day",ht),showDaysOutsideCurrentMonth:$,fixedWeekNumber:A,dayOfWeekFormatter:U,displayWeekNumber:ee,components:Y,componentsProps:G,slots:J,slotProps:ae,loading:H,renderLoading:le}))]})})]}))});function Kx(e){return de(1,arguments),Rx(e,Date.now())}function eo(){return Cs(Date.now())}function zm(e,t,n){de(2,arguments);var r=Mr(e,n),s=Mr(t,n);return r.getTime()===s.getTime()}function ni(e,t){if(e.one!==void 0&&t===1)return e.one;var n=t%10,r=t%100;return n===1&&r!==11?e.singularNominative.replace("{{count}}",String(t)):n>=2&&n<=4&&(r<10||r>20)?e.singularGenitive.replace("{{count}}",String(t)):e.pluralGenitive.replace("{{count}}",String(t))}function Zt(e){return function(t,n){return n!=null&&n.addSuffix?n.comparison&&n.comparison>0?e.future?ni(e.future,t):"через "+ni(e.regular,t):e.past?ni(e.past,t):ni(e.regular,t)+" назад":ni(e.regular,t)}}var lL={lessThanXSeconds:Zt({regular:{one:"меньше секунды",singularNominative:"меньше {{count}} секунды",singularGenitive:"меньше {{count}} секунд",pluralGenitive:"меньше {{count}} секунд"},future:{one:"меньше, чем через секунду",singularNominative:"меньше, чем через {{count}} секунду",singularGenitive:"меньше, чем через {{count}} секунды",pluralGenitive:"меньше, чем через {{count}} секунд"}}),xSeconds:Zt({regular:{singularNominative:"{{count}} секунда",singularGenitive:"{{count}} секунды",pluralGenitive:"{{count}} секунд"},past:{singularNominative:"{{count}} секунду назад",singularGenitive:"{{count}} секунды назад",pluralGenitive:"{{count}} секунд назад"},future:{singularNominative:"через {{count}} секунду",singularGenitive:"через {{count}} секунды",pluralGenitive:"через {{count}} секунд"}}),halfAMinute:function(t,n){return n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"через полминуты":"полминуты назад":"полминуты"},lessThanXMinutes:Zt({regular:{one:"меньше минуты",singularNominative:"меньше {{count}} минуты",singularGenitive:"меньше {{count}} минут",pluralGenitive:"меньше {{count}} минут"},future:{one:"меньше, чем через минуту",singularNominative:"меньше, чем через {{count}} минуту",singularGenitive:"меньше, чем через {{count}} минуты",pluralGenitive:"меньше, чем через {{count}} минут"}}),xMinutes:Zt({regular:{singularNominative:"{{count}} минута",singularGenitive:"{{count}} минуты",pluralGenitive:"{{count}} минут"},past:{singularNominative:"{{count}} минуту назад",singularGenitive:"{{count}} минуты назад",pluralGenitive:"{{count}} минут назад"},future:{singularNominative:"через {{count}} минуту",singularGenitive:"через {{count}} минуты",pluralGenitive:"через {{count}} минут"}}),aboutXHours:Zt({regular:{singularNominative:"около {{count}} часа",singularGenitive:"около {{count}} часов",pluralGenitive:"около {{count}} часов"},future:{singularNominative:"приблизительно через {{count}} час",singularGenitive:"приблизительно через {{count}} часа",pluralGenitive:"приблизительно через {{count}} часов"}}),xHours:Zt({regular:{singularNominative:"{{count}} час",singularGenitive:"{{count}} часа",pluralGenitive:"{{count}} часов"}}),xDays:Zt({regular:{singularNominative:"{{count}} день",singularGenitive:"{{count}} дня",pluralGenitive:"{{count}} дней"}}),aboutXWeeks:Zt({regular:{singularNominative:"около {{count}} недели",singularGenitive:"около {{count}} недель",pluralGenitive:"около {{count}} недель"},future:{singularNominative:"приблизительно через {{count}} неделю",singularGenitive:"приблизительно через {{count}} недели",pluralGenitive:"приблизительно через {{count}} недель"}}),xWeeks:Zt({regular:{singularNominative:"{{count}} неделя",singularGenitive:"{{count}} недели",pluralGenitive:"{{count}} недель"}}),aboutXMonths:Zt({regular:{singularNominative:"около {{count}} месяца",singularGenitive:"около {{count}} месяцев",pluralGenitive:"около {{count}} месяцев"},future:{singularNominative:"приблизительно через {{count}} месяц",singularGenitive:"приблизительно через {{count}} месяца",pluralGenitive:"приблизительно через {{count}} месяцев"}}),xMonths:Zt({regular:{singularNominative:"{{count}} месяц",singularGenitive:"{{count}} месяца",pluralGenitive:"{{count}} месяцев"}}),aboutXYears:Zt({regular:{singularNominative:"около {{count}} года",singularGenitive:"около {{count}} лет",pluralGenitive:"около {{count}} лет"},future:{singularNominative:"приблизительно через {{count}} год",singularGenitive:"приблизительно через {{count}} года",pluralGenitive:"приблизительно через {{count}} лет"}}),xYears:Zt({regular:{singularNominative:"{{count}} год",singularGenitive:"{{count}} года",pluralGenitive:"{{count}} лет"}}),overXYears:Zt({regular:{singularNominative:"больше {{count}} года",singularGenitive:"больше {{count}} лет",pluralGenitive:"больше {{count}} лет"},future:{singularNominative:"больше, чем через {{count}} год",singularGenitive:"больше, чем через {{count}} года",pluralGenitive:"больше, чем через {{count}} лет"}}),almostXYears:Zt({regular:{singularNominative:"почти {{count}} год",singularGenitive:"почти {{count}} года",pluralGenitive:"почти {{count}} лет"},future:{singularNominative:"почти через {{count}} год",singularGenitive:"почти через {{count}} года",pluralGenitive:"почти через {{count}} лет"}})},cL=function(t,n,r){return lL[t](n,r)},dL={full:"EEEE, d MMMM y 'г.'",long:"d MMMM y 'г.'",medium:"d MMM y 'г.'",short:"dd.MM.y"},uL={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},pL={any:"{{date}}, {{time}}"},hL={date:Zs({formats:dL,defaultWidth:"full"}),time:Zs({formats:uL,defaultWidth:"full"}),dateTime:Zs({formats:pL,defaultWidth:"any"})},Ep=["воскресенье","понедельник","вторник","среду","четверг","пятницу","субботу"];function fL(e){var t=Ep[e];switch(e){case 0:return"'в прошлое "+t+" в' p";case 1:case 2:case 4:return"'в прошлый "+t+" в' p";case 3:case 5:case 6:return"'в прошлую "+t+" в' p"}}function Bm(e){var t=Ep[e];return e===2?"'во "+t+" в' p":"'в "+t+" в' p"}function mL(e){var t=Ep[e];switch(e){case 0:return"'в следующее "+t+" в' p";case 1:case 2:case 4:return"'в следующий "+t+" в' p";case 3:case 5:case 6:return"'в следующую "+t+" в' p"}}var gL={lastWeek:function(t,n,r){var s=t.getUTCDay();return zm(t,n,r)?Bm(s):fL(s)},yesterday:"'вчера в' p",today:"'сегодня в' p",tomorrow:"'завтра в' p",nextWeek:function(t,n,r){var s=t.getUTCDay();return zm(t,n,r)?Bm(s):mL(s)},other:"P"},vL=function(t,n,r,s){var i=gL[t];return typeof i=="function"?i(n,r,s):i},yL={narrow:["до н.э.","н.э."],abbreviated:["до н. э.","н. э."],wide:["до нашей эры","нашей эры"]},xL={narrow:["1","2","3","4"],abbreviated:["1-й кв.","2-й кв.","3-й кв.","4-й кв."],wide:["1-й квартал","2-й квартал","3-й квартал","4-й квартал"]},bL={narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","март","апр.","май","июнь","июль","авг.","сент.","окт.","нояб.","дек."],wide:["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"]},CL={narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","мар.","апр.","мая","июн.","июл.","авг.","сент.","окт.","нояб.","дек."],wide:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"]},wL={narrow:["В","П","В","С","Ч","П","С"],short:["вс","пн","вт","ср","чт","пт","сб"],abbreviated:["вск","пнд","втр","срд","чтв","птн","суб"],wide:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"]},jL={narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утро",afternoon:"день",evening:"вечер",night:"ночь"}},SL={narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утра",afternoon:"дня",evening:"вечера",night:"ночи"}},kL=function(t,n){var r=Number(t),s=n==null?void 0:n.unit,i;return s==="date"?i="-е":s==="week"||s==="minute"||s==="second"?i="-я":i="-й",r+i},_L={ordinalNumber:kL,era:Kn({values:yL,defaultWidth:"wide"}),quarter:Kn({values:xL,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Kn({values:bL,defaultWidth:"wide",formattingValues:CL,defaultFormattingWidth:"wide"}),day:Kn({values:wL,defaultWidth:"wide"}),dayPeriod:Kn({values:jL,defaultWidth:"any",formattingValues:SL,defaultFormattingWidth:"wide"})},TL=/^(\d+)(-?(е|я|й|ое|ье|ая|ья|ый|ой|ий|ый))?/i,EL=/\d+/i,ML={narrow:/^((до )?н\.?\s?э\.?)/i,abbreviated:/^((до )?н\.?\s?э\.?)/i,wide:/^(до нашей эры|нашей эры|наша эра)/i},PL={any:[/^д/i,/^н/i]},NL={narrow:/^[1234]/i,abbreviated:/^[1234](-?[ыои]?й?)? кв.?/i,wide:/^[1234](-?[ыои]?й?)? квартал/i},IL={any:[/1/i,/2/i,/3/i,/4/i]},RL={narrow:/^[яфмаисонд]/i,abbreviated:/^(янв|фев|март?|апр|ма[йя]|июн[ья]?|июл[ья]?|авг|сент?|окт|нояб?|дек)\.?/i,wide:/^(январ[ья]|феврал[ья]|марта?|апрел[ья]|ма[йя]|июн[ья]|июл[ья]|августа?|сентябр[ья]|октябр[ья]|октябр[ья]|ноябр[ья]|декабр[ья])/i},DL={narrow:[/^я/i,/^ф/i,/^м/i,/^а/i,/^м/i,/^и/i,/^и/i,/^а/i,/^с/i,/^о/i,/^н/i,/^я/i],any:[/^я/i,/^ф/i,/^мар/i,/^ап/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^ав/i,/^с/i,/^о/i,/^н/i,/^д/i]},AL={narrow:/^[впсч]/i,short:/^(вс|во|пн|по|вт|ср|чт|че|пт|пя|сб|су)\.?/i,abbreviated:/^(вск|вос|пнд|пон|втр|вто|срд|сре|чтв|чет|птн|пят|суб).?/i,wide:/^(воскресень[ея]|понедельника?|вторника?|сред[аы]|четверга?|пятниц[аы]|суббот[аы])/i},$L={narrow:[/^в/i,/^п/i,/^в/i,/^с/i,/^ч/i,/^п/i,/^с/i],any:[/^в[ос]/i,/^п[он]/i,/^в/i,/^ср/i,/^ч/i,/^п[ят]/i,/^с[уб]/i]},OL={narrow:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,abbreviated:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,wide:/^([дп]п|полночь|полдень|утр[оа]|день|дня|вечера?|ноч[ьи])/i},LL={any:{am:/^дп/i,pm:/^пп/i,midnight:/^полн/i,noon:/^полд/i,morning:/^у/i,afternoon:/^д[ен]/i,evening:/^в/i,night:/^н/i}},FL={ordinalNumber:Nx({matchPattern:TL,parsePattern:EL,valueCallback:function(t){return parseInt(t,10)}}),era:Qn({matchPatterns:ML,defaultMatchWidth:"wide",parsePatterns:PL,defaultParseWidth:"any"}),quarter:Qn({matchPatterns:NL,defaultMatchWidth:"wide",parsePatterns:IL,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Qn({matchPatterns:RL,defaultMatchWidth:"wide",parsePatterns:DL,defaultParseWidth:"any"}),day:Qn({matchPatterns:AL,defaultMatchWidth:"wide",parsePatterns:$L,defaultParseWidth:"any"}),dayPeriod:Qn({matchPatterns:OL,defaultMatchWidth:"wide",parsePatterns:LL,defaultParseWidth:"any"})},ws={code:"ru",formatDistance:cL,formatLong:hL,formatRelative:vL,localize:_L,match:FL,options:{weekStartsOn:1,firstWeekContainsDate:1}};function zL(){const{clubId:e,courtId:t}=js(),n=jn(),[r,s]=f.useState(eo()),[i,a]=f.useState(null),[l,c]=f.useState(null),[d,u]=f.useState(!0),[p,h]=f.useState("");f.useEffect(()=>{g()},[e,t]);const g=async()=>{if(!e||!t){h("Некорректные параметры"),u(!1);return}try{const y=await Ct(Ne(se,"courts",t));if(!y.exists()){h("Корт не найден"),u(!1);return}const x={id:y.id,...y.data()};if(x.venueId!==e){h("Корт не принадлежит указанному клубу"),u(!1);return}a(x);const w=await Ct(Ne(se,"venues",e));w.exists()&&c({id:w.id,...w.data()}),u(!1)}catch(y){console.error("Error loading data:",y),h("Ошибка при загрузке данных"),u(!1)}},v=()=>{r&&n(`/club/${e}/court/${t}/time?date=${ft(r,"yyyy-MM-dd")}`)},m=y=>{const x=eo();if(y<x)return!0;const w=Hr(x,30);if(y>w)return!0;if(l!=null&&l.workingHours){const k=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][y.getDay()],_=l.workingHours[k];if(!_||!_.open&&!_.close)return!0}return!1};return d?o.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),o.jsx("p",{className:"body-small",children:"Загрузка..."})]}),o.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]}):p?o.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:o.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[o.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"❌"}),o.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Ошибка"}),o.jsx("p",{className:"body",style:{color:"var(--text-secondary)"},children:p})]})}):o.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[o.jsx("div",{style:{backgroundColor:"var(--white)",padding:"var(--spacing-md) var(--spacing-xl)",boxShadow:"var(--shadow-sm)",position:"sticky",top:0,zIndex:10},children:o.jsx("button",{onClick:()=>n(-1),style:{background:"none",border:"none",fontSize:"20px",cursor:"pointer",padding:"8px",marginLeft:"-8px",borderRadius:"50%",display:"inline-flex",alignItems:"center",justifyContent:"center",transition:"background 0.2s"},onMouseEnter:y=>y.currentTarget.style.background="var(--extra-light-gray)",onMouseLeave:y=>y.currentTarget.style.background="none",children:"←"})}),o.jsxs("div",{style:{padding:"var(--spacing-xl)"},children:[o.jsx("h1",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Выберите дату"}),i&&l&&o.jsxs("p",{className:"body-small",style:{marginBottom:"var(--spacing-xl)"},children:[l.name," • ",i.name]}),o.jsx("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)"},children:o.jsx(o3,{dateAdapter:r3,adapterLocale:ws,children:o.jsx(aL,{value:r,onChange:y=>s(y),shouldDisableDate:m,disablePast:!0,sx:{width:"100%",".MuiDayCalendar-weekContainer":{justifyContent:"space-around"},".MuiPickersDay-root":{fontSize:"var(--text-body)","&:hover":{backgroundColor:"var(--primary-light)"},"&.Mui-selected":{backgroundColor:"var(--primary)","&:hover":{backgroundColor:"var(--primary-dark)"}}},".MuiPickersCalendarHeader-label":{fontSize:"var(--text-body)",fontWeight:600},".MuiPickersArrowSwitcher-button":{color:"var(--primary)"}}})})}),r&&o.jsxs("div",{className:"info-section",style:{marginBottom:"var(--spacing-xl)"},children:[o.jsx("p",{className:"body-small",style:{marginBottom:"var(--spacing-xs)"},children:"Выбранная дата:"}),o.jsx("h3",{className:"h3",children:ft(r,"d MMMM yyyy",{locale:ws})})]}),o.jsx("div",{style:{backgroundColor:"var(--info)",color:"white",padding:"var(--spacing-md)",borderRadius:"var(--radius-md)",marginBottom:"calc(80px + var(--spacing-xl))"},children:o.jsx("p",{className:"caption",style:{color:"white"},children:"ℹ️ Бронирование доступно на 30 дней вперед. Серым цветом отмечены дни, когда клуб не работает."})})]}),o.jsx("div",{className:"sticky-bottom-bar",children:o.jsx("button",{className:"flutter-button",style:{width:"100%"},onClick:v,disabled:!r,children:"Выбрать время →"})})]})}function BL(){var O,z;const{clubId:e,courtId:t}=js(),n=jn(),[r]=Hm(),s=r.get("date"),i=s?Vt(s,"yyyy-MM-dd",new Date):new Date,[a,l]=f.useState(null),[c,d]=f.useState(null),[u,p]=f.useState([]),[h,g]=f.useState(null),[v,m]=f.useState(60),[y,x]=f.useState([60,90,120]),[w,C]=f.useState(!0),[k,_]=f.useState(""),[j,E]=f.useState([]),[T,S]=f.useState([]),[M,D]=f.useState(0);f.useEffect(()=>{L()},[]),f.useEffect(()=>{I()},[e,t,M]),f.useEffect(()=>{c&&a&&P()},[c,a,u,v,M]);const L=()=>{const $=[],A=["Вс","Пн","Вт","Ср","Чт","Пт","Сб"];let U=-1;for(let Y=0;Y<7;Y++){const G=Hr(eo(),Y);$.push({date:G,day:A[G.getDay()],dayNumber:ft(G,"d")}),ft(G,"yyyy-MM-dd")===s&&(U=Y)}S($),D(U>=0?U:0)},I=async()=>{var $;if(!e||!t){_("Некорректные параметры"),C(!1);return}try{const A=await Ct(Ne(se,"courts",t));if(!A.exists()){_("Корт не найден"),C(!1);return}const U={id:A.id,...A.data()};l(U);const Y=await Ct(Ne(se,"venues",e));if(Y.exists()){const ee={id:Y.id,...Y.data()};if(d(ee),ee.bookingDurations){const X=[60,90,120].filter(ie=>ee.bookingDurations[ie]!==!1);x(X),X.includes(v)||m(X[0]||60)}}const G=(($=T[M])==null?void 0:$.date)||i,J=ft(G,"yyyy-MM-dd"),ae=Ge(Pe(se,"bookings"),Ee("courtId","==",t),Ee("date","==",J),Ee("status","in",["confirmed","pending"])),le=(await qe(ae)).docs.map(ee=>({id:ee.id,...ee.data()}));p(le),C(!1)}catch(A){console.error("Error loading data:",A),_("Ошибка при загрузке данных"),C(!1)}},P=()=>{var ee;if(!(c!=null&&c.workingHours)||!a)return;const $=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],A=((ee=T[M])==null?void 0:ee.date)||i,U=$[A.getDay()],Y=c.workingHours[U];if(!Y)return;const G=[],J=Vt(Y.open,"HH:mm",A),ae=Vt(Y.close,"HH:mm",A);let H=J;const le=new Date;for(;tn(H,ae);){const X=ft(H,"HH:mm"),ie=nr(H,v);let K=!0;if(Kx(A)&&tn(H,le)&&(K=!1),Hn(ie,ae)&&(K=!1),K)for(const q of u){const ne=Vt(q.startTime,"HH:mm",A),pe=Vt(q.endTime,"HH:mm",A);if(Hn(H,ne)&&tn(H,pe)||Hn(ie,ne)&&tn(ie,pe)||tn(H,ne)&&Hn(ie,pe)||ft(H,"HH:mm")===q.startTime){K=!1;break}}let W=a.pricePerHour;const F=H.getHours();F>=18&&F<21?W=Math.round(W*1.2):(F>=21||F<7)&&(W=Math.round(W*.8)),G.push({time:X,available:K,price:Math.round(W*v/60)}),H=nr(H,30)}E(G)},R=()=>{var U;if(!h)return;const $=((U=T[M])==null?void 0:U.date)||i,A=ft($,"yyyy-MM-dd");n(`/club/${e}/court/${t}/game-type?date=${A}&time=${h}&duration=${v}`)},N=$=>{D($),g(null)};return w?o.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),o.jsx("p",{className:"body-small",children:"Загрузка..."})]}),o.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]}):k?o.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:o.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[o.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"❌"}),o.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Ошибка"}),o.jsx("p",{className:"body",style:{color:"var(--text-secondary)"},children:k})]})}):o.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[o.jsx("div",{style:{backgroundColor:"var(--white)",padding:"var(--spacing-md) var(--spacing-xl)",boxShadow:"var(--shadow-sm)"},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-md)"},children:[o.jsx("button",{onClick:()=>n(-1),style:{width:"40px",height:"40px",background:"var(--divider)",border:"none",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"},children:"←"}),o.jsxs("div",{children:[o.jsx("h1",{className:"h3",style:{marginBottom:"4px"},children:"Выберите время"}),a&&c&&o.jsxs("p",{className:"caption",children:[c.name," • ",a.name]})]})]})}),o.jsx("div",{style:{height:"90px",padding:"var(--spacing-md) 0",backgroundColor:"var(--white)",borderBottom:"1px solid var(--divider)"},children:o.jsx("div",{style:{display:"flex",gap:"var(--spacing-sm)",padding:"0 var(--spacing-xl)",overflowX:"auto",WebkitOverflowScrolling:"touch"},children:T.map(($,A)=>{const U=M===A;return o.jsxs("button",{onClick:()=>N(A),style:{minWidth:"60px",height:"60px",backgroundColor:U?"var(--primary)":"var(--white)",color:U?"white":"var(--dark)",border:`2px solid ${U?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},children:[o.jsx("span",{className:"caption-bold",children:$.day}),o.jsx("span",{className:"body-bold",children:$.dayNumber})]},A)})})}),o.jsxs("div",{style:{padding:"var(--spacing-xl) var(--spacing-xl) 0"},children:[o.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Длительность игры"}),o.jsx("div",{style:{display:"flex",gap:"var(--spacing-sm)"},children:[60,90,120].map($=>{const A=y.includes($);return o.jsx("button",{onClick:()=>{A&&(m($),g(null))},disabled:!A,style:{flex:1,padding:"var(--spacing-sm)",backgroundColor:v===$?"var(--primary)":A?"var(--white)":"var(--extra-light-gray)",color:v===$?"white":A?"var(--dark)":"var(--gray)",border:`2px solid ${v===$?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",cursor:A?"pointer":"not-allowed",fontWeight:600,fontSize:"var(--text-body)",transition:"all 0.2s",opacity:A?1:.5},children:$===60?"1 час":$===90?"1.5 часа":"2 часа"},$)})})]}),o.jsxs("div",{style:{padding:"var(--spacing-xl)"},children:[o.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Свободное время"}),j.length===0?o.jsx("div",{className:"flutter-card",style:{textAlign:"center",padding:"var(--spacing-2xl)"},children:o.jsx("p",{className:"body",style:{color:"var(--gray)"},children:"Нет доступных слотов на выбранную дату"})}):o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"10px",marginBottom:"calc(120px + var(--spacing-xl))"},children:j.map($=>{const A=h===$.time;return o.jsxs("button",{onClick:()=>$.available&&g($.time),disabled:!$.available,style:{padding:"var(--spacing-sm) var(--spacing-xs)",backgroundColor:$.available?A?"var(--primary)":"var(--primary-light)":"var(--busy)",color:$.available?A?"white":"var(--dark)":"var(--busy-text)",border:`2px solid ${$.available?A?"var(--primary)":"var(--available)":"var(--busy)"}`,borderRadius:"var(--radius-sm)",cursor:$.available?"pointer":"not-allowed",opacity:1,transition:"all 0.2s",display:"flex",flexDirection:"column",alignItems:"center",gap:"2px",height:"60px",justifyContent:"center"},children:[o.jsx("span",{className:"body-bold",children:$.time}),$.available?o.jsx("span",{className:"caption",style:{color:A?"white":"var(--primary-dark)",fontSize:"var(--text-caption)"},children:A?"Выбрано":`${$.price}₽`}):o.jsx("span",{className:"caption",style:{color:"var(--busy-text)"},children:"Занято"})]},$.time)})})]}),o.jsxs("div",{style:{padding:"0 var(--spacing-xl) var(--spacing-xl)",display:"flex",gap:"var(--spacing-lg)",flexWrap:"wrap"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[o.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--white)",border:"2px solid var(--extra-light-gray)",borderRadius:"4px"}}),o.jsx("span",{className:"caption",children:"Свободно"})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[o.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--busy)",borderRadius:"4px"}}),o.jsx("span",{className:"caption",children:"Занято"})]})]}),o.jsxs("div",{className:"sticky-bottom-bar",style:{padding:"var(--spacing-xl)",borderRadius:"var(--radius-lg) var(--radius-lg) 0 0"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--spacing-sm)"},children:[o.jsx("span",{className:"body-small",style:{color:"var(--gray)"},children:h&&T[M]&&`${ft(T[M].date,"d MMMM",{locale:ws})}, ${h}-${ft(nr(Vt(h,"HH:mm",new Date),v),"HH:mm")}`}),h&&((O=j.find($=>$.time===h))==null?void 0:O.available)&&o.jsxs("span",{className:"h2",children:[(z=j.find($=>$.time===h))==null?void 0:z.price," ₽"]})]}),o.jsx("button",{className:"flutter-button",style:{width:"100%"},onClick:R,disabled:!h,children:"Далее"})]})]})}function WL(){const{clubId:e,courtId:t}=js(),n=jn(),[r]=Hm(),s=r.get("date"),i=r.get("time"),a=r.get("duration"),[l,c]=f.useState("open"),[d,u]=f.useState(!1),[p,h]=f.useState({name:"",phone:"",email:"",comment:""}),[g,v]=f.useState({}),[m,y]=f.useState(!1),x=[{id:"private",title:"Приватная игра",subtitle:"Только для вас и ваших друзей",icon:"🔒",iconColor:"var(--gray)",tags:["Только для вас","Без посторонних"],available:!1},{id:"open",title:"Открытая игра",subtitle:"Найдите партнёров для игры",icon:"👥",iconColor:"var(--primary)",tags:["Найти партнёров","Разделить оплату"],available:!0},{id:"find",title:"Найти игру",subtitle:"Присоединитесь к существующей игре",icon:"🔍",iconColor:"var(--gray)",tags:["12 открытых игр"],available:!1}],w=_=>{_.available?(c(_.id),u(!0)):window.confirm(`Функция "${_.title}" доступна только в мобильном приложении "Все корты".

Перейти в приложение?`)&&(window.location.href=`allcourts://club/${e}/court/${t}?date=${s}&time=${i}&duration=${a}`)},C=()=>{const _={};return p.name.trim()||(_.name="Укажите ваше имя"),p.phone.trim()?/^[\d\s\+\-\(\)]+$/.test(p.phone)||(_.phone="Неверный формат телефона"):_.phone="Укажите номер телефона",p.email&&!/\S+@\S+\.\S+/.test(p.email)&&(_.email="Неверный формат email"),v(_),Object.keys(_).length===0},k=async()=>{if(C()){y(!0);try{const _={venueId:e,courtId:t,date:s,startTime:i,endTime:ft(nr(Vt(i,"HH:mm",new Date),parseInt(a)),"HH:mm"),duration:parseInt(a),gameType:l,customerName:p.name,customerPhone:p.phone,customerEmail:p.email,comment:p.comment,status:"pending",source:"web",createdAt:new Date,price:0},j=await gr(Pe(se,"bookings"),_);n(`/club/${e}/booking-confirmation/${j.id}`)}catch(_){console.error("Error creating booking:",_),alert("Ошибка при создании бронирования. Попробуйте еще раз.")}finally{y(!1)}}};return d?o.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[o.jsx("div",{style:{backgroundColor:"var(--white)",padding:"var(--spacing-md) var(--spacing-xl)",boxShadow:"var(--shadow-sm)"},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-md)"},children:[o.jsx("button",{onClick:()=>u(!1),style:{width:"40px",height:"40px",background:"var(--divider)",border:"none",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"},children:"←"}),o.jsx("div",{children:o.jsx("h1",{className:"h3",children:"Оформление бронирования"})})]})}),o.jsxs("div",{style:{padding:"var(--spacing-xl)"},children:[o.jsxs("div",{className:"info-section",style:{marginBottom:"var(--spacing-xl)"},children:[o.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Детали бронирования"}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-sm)"},children:[o.jsxs("div",{children:[o.jsx("span",{className:"caption",children:"Дата:"}),o.jsx("span",{className:"body",style:{marginLeft:"var(--spacing-xs)"},children:s&&ft(Vt(s,"yyyy-MM-dd",new Date),"d MMMM yyyy",{locale:ws})})]}),o.jsxs("div",{children:[o.jsx("span",{className:"caption",children:"Время:"}),o.jsxs("span",{className:"body",style:{marginLeft:"var(--spacing-xs)"},children:[i," - ",a&&ft(nr(Vt(i,"HH:mm",new Date),parseInt(a)),"HH:mm")]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"caption",children:"Тип игры:"}),o.jsx("span",{className:"body",style:{marginLeft:"var(--spacing-xs)"},children:"Открытая игра"})]})]})]}),o.jsxs("div",{style:{marginBottom:"calc(80px + var(--spacing-xl))"},children:[o.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Контактные данные"}),o.jsxs("div",{style:{marginBottom:"var(--spacing-md)"},children:[o.jsx("label",{className:"caption",style:{display:"block",marginBottom:"var(--spacing-xs)"},children:"Ваше имя *"}),o.jsx("input",{type:"text",value:p.name,onChange:_=>h({...p,name:_.target.value}),style:{width:"100%",padding:"var(--spacing-md)",border:`2px solid ${g.name?"var(--error)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",fontSize:"var(--text-body)",transition:"border-color 0.2s",outline:"none"},onFocus:_=>_.target.style.borderColor="var(--primary)",onBlur:_=>_.target.style.borderColor=g.name?"var(--error)":"var(--extra-light-gray)"}),g.name&&o.jsx("span",{className:"caption",style:{color:"var(--error)",marginTop:"var(--spacing-xs)"},children:g.name})]}),o.jsxs("div",{style:{marginBottom:"var(--spacing-md)"},children:[o.jsx("label",{className:"caption",style:{display:"block",marginBottom:"var(--spacing-xs)"},children:"Телефон *"}),o.jsx("input",{type:"tel",value:p.phone,onChange:_=>h({...p,phone:_.target.value}),placeholder:"+7 (999) 123-45-67",style:{width:"100%",padding:"var(--spacing-md)",border:`2px solid ${g.phone?"var(--error)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",fontSize:"var(--text-body)",transition:"border-color 0.2s",outline:"none"},onFocus:_=>_.target.style.borderColor="var(--primary)",onBlur:_=>_.target.style.borderColor=g.phone?"var(--error)":"var(--extra-light-gray)"}),g.phone&&o.jsx("span",{className:"caption",style:{color:"var(--error)",marginTop:"var(--spacing-xs)"},children:g.phone})]}),o.jsxs("div",{style:{marginBottom:"var(--spacing-md)"},children:[o.jsx("label",{className:"caption",style:{display:"block",marginBottom:"var(--spacing-xs)"},children:"Email (необязательно)"}),o.jsx("input",{type:"email",value:p.email,onChange:_=>h({...p,email:_.target.value}),style:{width:"100%",padding:"var(--spacing-md)",border:`2px solid ${g.email?"var(--error)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",fontSize:"var(--text-body)",transition:"border-color 0.2s",outline:"none"},onFocus:_=>_.target.style.borderColor="var(--primary)",onBlur:_=>_.target.style.borderColor=g.email?"var(--error)":"var(--extra-light-gray)"}),g.email&&o.jsx("span",{className:"caption",style:{color:"var(--error)",marginTop:"var(--spacing-xs)"},children:g.email})]}),o.jsxs("div",{style:{marginBottom:"var(--spacing-md)"},children:[o.jsx("label",{className:"caption",style:{display:"block",marginBottom:"var(--spacing-xs)"},children:"Комментарий (необязательно)"}),o.jsx("textarea",{value:p.comment,onChange:_=>h({...p,comment:_.target.value}),rows:3,style:{width:"100%",padding:"var(--spacing-md)",border:"2px solid var(--extra-light-gray)",borderRadius:"var(--radius-md)",fontSize:"var(--text-body)",transition:"border-color 0.2s",outline:"none",resize:"vertical"},onFocus:_=>_.target.style.borderColor="var(--primary)",onBlur:_=>_.target.style.borderColor="var(--extra-light-gray)"})]}),o.jsx("div",{style:{backgroundColor:"var(--info)",color:"white",padding:"var(--spacing-md)",borderRadius:"var(--radius-md)"},children:o.jsx("p",{className:"caption",style:{color:"white"},children:"ℹ️ После отправки заявки с вами свяжется менеджер клуба для подтверждения бронирования"})})]})]}),o.jsx("div",{className:"sticky-bottom-bar",children:o.jsx("button",{className:"flutter-button",style:{width:"100%"},onClick:k,disabled:m,children:m?"Отправка...":"Отправить заявку"})})]}):o.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[o.jsx("div",{style:{backgroundColor:"var(--white)",padding:"var(--spacing-md) var(--spacing-xl)",boxShadow:"var(--shadow-sm)"},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-md)"},children:[o.jsx("button",{onClick:()=>n(-1),style:{width:"40px",height:"40px",background:"var(--divider)",border:"none",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"},children:"←"}),o.jsx("div",{children:o.jsx("h1",{className:"h3",children:"Выберите формат игры"})})]})}),o.jsxs("div",{style:{padding:"var(--spacing-xl)"},children:[x.map(_=>o.jsxs("div",{onClick:()=>w(_),style:{backgroundColor:"var(--white)",borderRadius:"var(--radius-md)",padding:"var(--spacing-lg)",marginBottom:"var(--spacing-md)",cursor:"pointer",transition:"all 0.2s",border:`2px solid ${l===_.id&&_.available?"var(--primary)":"transparent"}`,boxShadow:l===_.id&&_.available?"0 2px 10px rgba(0, 211, 50, 0.1)":"none",opacity:_.available?1:.7,position:"relative"},onMouseEnter:j=>{_.available&&(j.currentTarget.style.transform="translateY(-2px)",j.currentTarget.style.boxShadow="var(--shadow-md)")},onMouseLeave:j=>{j.currentTarget.style.transform="none",j.currentTarget.style.boxShadow="none"},children:[!_.available&&o.jsx("div",{style:{position:"absolute",top:"var(--spacing-sm)",right:"var(--spacing-sm)",backgroundColor:"var(--secondary)",color:"white",padding:"4px 8px",borderRadius:"var(--radius-sm)",fontSize:"var(--text-tiny)",fontWeight:600},children:"В приложении"}),o.jsxs("div",{style:{display:"flex",gap:"var(--spacing-md)"},children:[o.jsx("div",{style:{width:"40px",height:"40px",backgroundColor:l===_.id&&_.available?"var(--primary)":"var(--divider)",borderRadius:"var(--radius-sm)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",flexShrink:0},children:o.jsx("span",{style:{filter:l===_.id&&_.available?"brightness(0) invert(1)":"none"},children:_.icon})}),o.jsxs("div",{style:{flex:1},children:[o.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-xxs)"},children:_.title}),o.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-sm)"},children:_.subtitle}),o.jsx("div",{style:{display:"flex",gap:"var(--spacing-xs)",flexWrap:"wrap"},children:_.tags.map((j,E)=>o.jsx("span",{style:{padding:"4px 16px",backgroundColor:l===_.id&&_.available?"var(--primary-light)":"var(--divider)",color:l===_.id&&_.available?"var(--primary-dark)":"var(--gray)",borderRadius:"var(--radius-xl)",fontSize:"var(--text-caption)",fontWeight:600},children:j},E))})]})]})]},_.id)),o.jsx("div",{style:{backgroundColor:"var(--warning)",color:"white",padding:"var(--spacing-md)",borderRadius:"var(--radius-md)",marginTop:"var(--spacing-xl)"},children:o.jsx("p",{className:"caption",style:{color:"white"},children:'⚠️ В веб-версии доступна только "Открытая игра". Для доступа ко всем типам игр скачайте мобильное приложение "Все корты".'})})]})]})}function HL(){const{clubId:e,bookingId:t}=js(),n=jn(),[r,s]=f.useState(null),[i,a]=f.useState(null),[l,c]=f.useState(null),[d,u]=f.useState(!0),[p,h]=f.useState("");f.useEffect(()=>{g()},[t]);const g=async()=>{if(!t){h("ID бронирования не указан"),u(!1);return}try{const m=await Ct(Ne(se,"bookings",t));if(!m.exists()){h("Бронирование не найдено"),u(!1);return}const y={id:m.id,...m.data()};s(y);const x=await Ct(Ne(se,"venues",y.venueId));x.exists()&&a(x.data());const w=await Ct(Ne(se,"courts",y.courtId));w.exists()&&c(w.data()),u(!1)}catch(m){console.error("Error loading booking:",m),h("Ошибка при загрузке данных бронирования"),u(!1)}};if(d)return o.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),o.jsx("p",{className:"body-small",children:"Загрузка..."})]}),o.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]});if(p)return o.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:o.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[o.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"❌"}),o.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Ошибка"}),o.jsx("p",{className:"body",style:{color:"var(--text-secondary)"},children:p})]})});if(!r||!i||!l)return null;const v=Vt(r.date,"yyyy-MM-dd",new Date);return o.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[o.jsxs("div",{style:{backgroundColor:"var(--success)",padding:"var(--spacing-3xl) var(--spacing-xl)",textAlign:"center",color:"white"},children:[o.jsx("div",{style:{width:"80px",height:"80px",backgroundColor:"white",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto var(--spacing-lg)",fontSize:"40px"},children:"✅"}),o.jsx("h1",{className:"h2",style:{color:"white",marginBottom:"var(--spacing-sm)"},children:"Заявка отправлена!"}),o.jsx("p",{className:"body",style:{color:"white",opacity:.9},children:"Ваша заявка на бронирование успешно отправлена"})]}),o.jsxs("div",{style:{padding:"var(--spacing-xl)"},children:[o.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)"},children:[o.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Что дальше?"}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-md)"},children:[o.jsxs("div",{style:{display:"flex",gap:"var(--spacing-md)"},children:[o.jsx("div",{style:{width:"32px",height:"32px",backgroundColor:"var(--primary-light)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,color:"var(--primary)"},children:"1"}),o.jsxs("div",{children:[o.jsx("p",{className:"body-bold",style:{marginBottom:"var(--spacing-xxs)"},children:"Ожидайте звонка"}),o.jsx("p",{className:"caption",children:"Менеджер клуба свяжется с вами в течение 30 минут"})]})]}),o.jsxs("div",{style:{display:"flex",gap:"var(--spacing-md)"},children:[o.jsx("div",{style:{width:"32px",height:"32px",backgroundColor:"var(--primary-light)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,color:"var(--primary)"},children:"2"}),o.jsxs("div",{children:[o.jsx("p",{className:"body-bold",style:{marginBottom:"var(--spacing-xxs)"},children:"Подтверждение бронирования"}),o.jsx("p",{className:"caption",children:"Вы получите SMS с подтверждением"})]})]}),o.jsxs("div",{style:{display:"flex",gap:"var(--spacing-md)"},children:[o.jsx("div",{style:{width:"32px",height:"32px",backgroundColor:"var(--primary-light)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,color:"var(--primary)"},children:"3"}),o.jsxs("div",{children:[o.jsx("p",{className:"body-bold",style:{marginBottom:"var(--spacing-xxs)"},children:"Оплата в клубе"}),o.jsx("p",{className:"caption",children:"Оплатите бронирование при посещении клуба"})]})]})]})]}),o.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)"},children:[o.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Детали бронирования"}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-md)"},children:[o.jsxs("div",{children:[o.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-xxs)"},children:"Клуб"}),o.jsx("p",{className:"body-bold",children:i.name}),o.jsx("p",{className:"caption",children:i.address})]}),o.jsx("div",{style:{height:"1px",backgroundColor:"var(--divider)",margin:"var(--spacing-xs) 0"}}),o.jsxs("div",{children:[o.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-xxs)"},children:"Корт"}),o.jsx("p",{className:"body-bold",children:l.name})]}),o.jsx("div",{style:{height:"1px",backgroundColor:"var(--divider)",margin:"var(--spacing-xs) 0"}}),o.jsxs("div",{style:{display:"flex",gap:"var(--spacing-xl)"},children:[o.jsxs("div",{style:{flex:1},children:[o.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-xxs)"},children:"Дата"}),o.jsx("p",{className:"body-bold",children:ft(v,"d MMMM",{locale:ws})})]}),o.jsxs("div",{style:{flex:1},children:[o.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-xxs)"},children:"Время"}),o.jsxs("p",{className:"body-bold",children:[r.startTime," - ",r.endTime]})]})]})]})]}),o.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)"},children:[o.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Ваши контакты"}),o.jsx("p",{className:"body",style:{marginBottom:"var(--spacing-xs)"},children:r.customerName}),o.jsx("p",{className:"caption",children:r.customerPhone}),r.customerEmail&&o.jsx("p",{className:"caption",children:r.customerEmail})]}),o.jsx("button",{className:"flutter-button",style:{width:"100%",marginBottom:"var(--spacing-md)"},onClick:()=>n(`/club/${e}`),children:"Вернуться к клубу"}),o.jsx("button",{className:"flutter-button-outlined",style:{width:"100%",backgroundColor:"transparent",color:"var(--primary)",border:"2px solid var(--primary)"},onClick:()=>{window.location.href=`allcourts://booking/${t}`},children:"Открыть в приложении 📱"}),o.jsxs("div",{style:{textAlign:"center",marginTop:"var(--spacing-3xl)",padding:"var(--spacing-xl)",backgroundColor:"var(--white)",borderRadius:"var(--radius-md)"},children:[o.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-sm)"},children:"Есть вопросы? Позвоните в клуб"}),o.jsxs("a",{href:`tel:${i.phone}`,style:{display:"inline-flex",alignItems:"center",gap:"var(--spacing-xs)",color:"var(--primary)",textDecoration:"none",fontSize:"var(--text-body-large)",fontWeight:600},children:["📞 ",i.phone]})]})]})]})}function UL(){var O,z;const{clubId:e,courtId:t}=js(),n=jn(),[r,s]=f.useState(null),[i,a]=f.useState(null),[l,c]=f.useState([]),[d,u]=f.useState(eo()),[p,h]=f.useState(null),[g,v]=f.useState(60),[m,y]=f.useState([60,90,120]),[x,w]=f.useState(!0),[C,k]=f.useState(""),[_,j]=f.useState([]),[E,T]=f.useState([]),[S,M]=f.useState(window.innerWidth<=768);f.useEffect(()=>{const $=()=>M(window.innerWidth<=768);return window.addEventListener("resize",$),()=>window.removeEventListener("resize",$)},[]),f.useEffect(()=>{D()},[]),f.useEffect(()=>{L()},[e,t]),f.useEffect(()=>{i&&r&&I()},[i,r,d,g]);const D=()=>{const $=[],A=["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],U=["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек"];for(let Y=0;Y<14;Y++){const G=Hr(eo(),Y);$.push({date:G,day:A[G.getDay()],dayNumber:ft(G,"d"),month:Y===0||G.getDate()===1?U[G.getMonth()]:void 0})}T($)},L=async()=>{if(!e||!t){k("Некорректные параметры"),w(!1);return}try{const $=await Ct(Ne(se,"courts",t));if(!$.exists()){k("Корт не найден"),w(!1);return}const A={id:$.id,...$.data()};s(A);const U=await Ct(Ne(se,"venues",e));if(U.exists()){const Y={id:U.id,...U.data()};if(a(Y),Y.bookingDurations){const G=[60,90,120].filter(J=>Y.bookingDurations[J]!==!1);y(G),G.includes(g)||v(G[0]||60)}}w(!1)}catch($){console.error("Error loading data:",$),k("Ошибка при загрузке данных"),w(!1)}},I=async()=>{if(!(!(i!=null&&i.workingHours)||!r))try{const $=ft(d,"yyyy-MM-dd"),A=Ge(Pe(se,"bookings"),Ee("courtId","==",t),Ee("date","==",$),Ee("status","in",["confirmed","pending"])),Y=(await qe(A)).docs.map(G=>({id:G.id,...G.data()}));c(Y),P(Y)}catch($){console.error("Error loading bookings:",$)}},P=$=>{if(!(i!=null&&i.workingHours)||!r)return;const U=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][d.getDay()],Y=i.workingHours[U];if(!Y)return;const G=[],J=Vt(Y.open,"HH:mm",d),ae=Vt(Y.close,"HH:mm",d);let H=J;const le=new Date;for(;tn(H,ae);){const ee=ft(H,"HH:mm"),X=nr(H,g);let ie=!0;if(Kx(d)&&tn(H,le)&&(ie=!1),Hn(X,ae)&&(ie=!1),ie)for(const F of $){const q=Vt(F.startTime,"HH:mm",d),ne=Vt(F.endTime,"HH:mm",d);if(Hn(H,q)&&tn(H,ne)||Hn(X,q)&&tn(X,ne)||tn(H,q)&&Hn(X,ne)||ft(H,"HH:mm")===F.startTime){ie=!1;break}}let K=r.pricePerHour;const W=H.getHours();W>=18&&W<21?K=Math.round(K*1.2):(W>=21||W<7)&&(K=Math.round(K*.8)),G.push({time:ee,available:ie,price:Math.round(K*g/60)}),H=nr(H,30)}j(G)},R=()=>{if(!p)return;const $=ft(d,"yyyy-MM-dd");n(`/club/${e}/court/${t}/game-type?date=${$}&time=${p}&duration=${g}`)},N=$=>{const A=eo();if($<A)return!0;const U=Hr(A,30);if($>U)return!0;if(i!=null&&i.workingHours){const G=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][$.getDay()],J=i.workingHours[G];if(!J||!J.open&&!J.close)return!0}return!1};return x?o.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),o.jsx("p",{className:"body-small",children:"Загрузка..."})]}),o.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]}):C?o.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:o.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[o.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"❌"}),o.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Ошибка"}),o.jsx("p",{className:"body",style:{color:"var(--text-secondary)"},children:C})]})}):o.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[o.jsx("div",{style:{backgroundColor:"var(--white)",padding:"var(--spacing-md) var(--spacing-xl)",boxShadow:"var(--shadow-sm)",position:"sticky",top:0,zIndex:10},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-md)"},children:[o.jsx("button",{onClick:()=>n(-1),style:{width:"40px",height:"40px",background:"var(--divider)",border:"none",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"},children:"←"}),o.jsxs("div",{children:[o.jsx("h1",{className:"h3",style:{marginBottom:"4px"},children:"Выберите время"}),r&&i&&o.jsxs("p",{className:"caption",children:[i.name," • ",r.name]})]})]})}),o.jsx("div",{style:{padding:S?"var(--spacing-md)":"var(--spacing-xl)",paddingBottom:S?"calc(140px + var(--spacing-xl))":"var(--spacing-xl)",maxWidth:"1200px",margin:"0 auto"},children:o.jsxs("div",{style:{display:S?"block":"grid",gridTemplateColumns:S?"1fr":"1fr 2fr",gap:"var(--spacing-xl)"},children:[o.jsxs("div",{children:[o.jsxs("div",{style:{marginBottom:"var(--spacing-xl)"},children:[o.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Выберите дату"}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"var(--spacing-sm)"},children:E.map(($,A)=>{const U=ft(d,"yyyy-MM-dd")===ft($.date,"yyyy-MM-dd"),Y=N($.date),G=A===0;return o.jsxs("div",{style:{textAlign:"center"},children:[$.month&&o.jsx("div",{className:"caption",style:{marginBottom:"var(--spacing-xs)",color:"var(--gray)",height:"16px"},children:$.month}),!$.month&&o.jsx("div",{style:{height:"16px",marginBottom:"var(--spacing-xs)"}}),o.jsxs("button",{onClick:()=>!Y&&u($.date),disabled:Y,style:{width:"100%",aspectRatio:"1",backgroundColor:U?"var(--primary)":Y?"var(--extra-light-gray)":"var(--white)",color:U?"white":Y?"var(--gray)":"var(--dark)",border:`2px solid ${U||G&&!Y?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",cursor:Y?"not-allowed":"pointer",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",transition:"all 0.2s",opacity:Y?.5:1,fontSize:"var(--text-caption)"},children:[o.jsx("span",{className:"caption-bold",children:$.day}),o.jsx("span",{className:"body-bold",children:$.dayNumber})]})]},A)})})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Длительность игры"}),o.jsx("div",{style:{display:"flex",gap:"var(--spacing-sm)"},children:[60,90,120].map($=>{const A=m.includes($);return o.jsx("button",{onClick:()=>{A&&(v($),h(null))},disabled:!A,style:{flex:1,padding:"var(--spacing-md)",backgroundColor:g===$?"var(--primary)":A?"var(--white)":"var(--extra-light-gray)",color:g===$?"white":A?"var(--dark)":"var(--gray)",border:`2px solid ${g===$?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",cursor:A?"pointer":"not-allowed",fontWeight:600,fontSize:"var(--text-body)",transition:"all 0.2s",opacity:A?1:.5},children:$===60?"1 час":$===90?"1.5 часа":"2 часа"},$)})})]})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:["Свободное время на ",ft(d,"d MMMM",{locale:ws})]}),_.length===0?o.jsx("div",{className:"flutter-card",style:{textAlign:"center",padding:"var(--spacing-2xl)"},children:o.jsx("p",{className:"body",style:{color:"var(--gray)"},children:"Нет доступных слотов на выбранную дату"})}):o.jsx("div",{style:{display:"grid",gridTemplateColumns:S?"repeat(3, 1fr)":"repeat(4, 1fr)",gap:"var(--spacing-sm)"},children:_.map($=>{const A=p===$.time;return o.jsxs("button",{onClick:()=>$.available&&h($.time),disabled:!$.available,style:{padding:"var(--spacing-md) var(--spacing-xs)",backgroundColor:$.available?A?"var(--primary)":"var(--primary-light)":"var(--busy)",color:$.available?A?"white":"var(--dark)":"var(--busy-text)",border:`2px solid ${$.available?A?"var(--primary)":"var(--available)":"var(--busy)"}`,borderRadius:"var(--radius-sm)",cursor:$.available?"pointer":"not-allowed",opacity:1,transition:"all 0.2s",display:"flex",flexDirection:"column",alignItems:"center",gap:"4px",minHeight:S?"60px":"70px",justifyContent:"center"},children:[o.jsxs("span",{className:"body-bold",style:{fontSize:"14px"},children:[$.time,"-",(()=>{const[U,Y]=$.time.split(":").map(Number),G=nr(Vt($.time,"HH:mm",new Date),g);return ft(G,"HH:mm")})()]}),$.available?A&&o.jsx("span",{className:"caption",style:{color:"white",fontSize:"var(--text-caption)"},children:"Выбрано"}):o.jsx("span",{className:"caption",style:{color:"var(--busy-text)"},children:"Занято"})]},$.time)})}),o.jsxs("div",{style:{marginTop:"var(--spacing-lg)",display:"flex",gap:"var(--spacing-lg)",flexWrap:"wrap"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[o.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--primary-light)",border:"2px solid var(--available)",borderRadius:"4px"}}),o.jsx("span",{className:"caption",children:"Свободно"})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[o.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--busy)",borderRadius:"4px"}}),o.jsx("span",{className:"caption",children:"Занято"})]})]})]})]})}),o.jsxs("div",{className:"sticky-bottom-bar",style:{padding:"var(--spacing-xl)",borderRadius:"var(--radius-lg) var(--radius-lg) 0 0"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--spacing-sm)"},children:[o.jsx("span",{className:"body-small",style:{color:"var(--gray)"},children:p&&`${ft(d,"d MMMM",{locale:ws})}, ${p}-${ft(nr(Vt(p,"HH:mm",new Date),g),"HH:mm")}`}),p&&((O=_.find($=>$.time===p))==null?void 0:O.available)&&o.jsxs("span",{className:"h2",children:[(z=_.find($=>$.time===p))==null?void 0:z.price," ₽"]})]}),o.jsx("button",{className:"flutter-button",style:{width:"100%"},onClick:R,disabled:!p,children:"Далее"})]})]})}function VL(){const{clubId:e}=js(),[t,n]=f.useState(null),[r,s]=f.useState(!0),[i,a]=f.useState("");f.useEffect(()=>{e&&l()},[e]);const l=async()=>{try{const u=Ne(se,"venues",e),p=await Ct(u);p.exists()?n(p.data()):a("Клуб не найден")}catch(u){console.error("Error loading club data:",u),a("Ошибка загрузки данных")}finally{s(!1)}},c=()=>{window.print()},d=()=>new Date().toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric"});return r?o.jsx(pi,{maxWidth:"md",sx:{py:4,display:"flex",justifyContent:"center"},children:o.jsx(pn,{})}):i||!t?o.jsxs(pi,{maxWidth:"md",sx:{py:4},children:[o.jsx(B,{color:"error",children:i||"Данные не найдены"}),o.jsx(ke,{component:id,to:"/",startIcon:o.jsx(dm,{}),sx:{mt:2},children:"Вернуться на главную"})]}):o.jsxs(pi,{maxWidth:"md",sx:{py:4},children:[o.jsxs(te,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center","@media print":{display:"none"}},children:[o.jsx(ke,{component:id,to:`/club/${e}`,startIcon:o.jsx(dm,{}),children:"Вернуться к клубу"}),o.jsx(ke,{variant:"outlined",startIcon:o.jsx(ZD,{}),onClick:c,children:"Печать"})]}),o.jsxs(sn,{sx:{p:4,"@media print":{boxShadow:"none",p:2}},children:[o.jsx(B,{variant:"h4",component:"h1",align:"center",gutterBottom:!0,children:"ПОЛЬЗОВАТЕЛЬСКОЕ СОГЛАШЕНИЕ"}),o.jsx(B,{variant:"subtitle1",align:"center",gutterBottom:!0,color:"text.secondary",children:"об оказании услуг по предоставлению спортивных площадок"}),o.jsxs(B,{variant:"body2",align:"center",sx:{mt:3,mb:4},children:["Дата публикации: ",d()]}),o.jsxs(te,{sx:{mt:4},children:[o.jsxs(B,{paragraph:!0,children:["Настоящее Пользовательское соглашение (далее – «Соглашение») регулирует отношения между ",t.legalName||t.name,t.organizationType&&` (${t.organizationType})`,", именуемым в дальнейшем «Исполнитель», с одной стороны, и физическим лицом, именуемым в дальнейшем «Заказчик», с другой стороны, совместно именуемые «Стороны», по поводу оказания услуг по предоставлению спортивных площадок для занятий спортом."]}),o.jsx(B,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"1. ТЕРМИНЫ И ОПРЕДЕЛЕНИЯ"}),o.jsxs(B,{paragraph:!0,children:["1.1. ",o.jsx("strong",{children:"Клуб"})," — спортивный комплекс, расположенный по адресу: ",t.address,", управляемый Исполнителем."]}),o.jsxs(B,{paragraph:!0,children:["1.2. ",o.jsx("strong",{children:"Корт/Площадка"})," — специально оборудованная спортивная площадка для занятий теннисом, паделом, бадминтоном или иными видами спорта."]}),o.jsxs(B,{paragraph:!0,children:["1.3. ",o.jsx("strong",{children:"Бронирование"})," — резервирование Корта на определенную дату и время через мобильное приложение «Все Корты» или иным способом, предусмотренным Исполнителем."]}),o.jsxs(B,{paragraph:!0,children:["1.4. ",o.jsx("strong",{children:"Услуги"})," — предоставление Корта во временное пользование Заказчику для занятий спортом."]}),o.jsx(B,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"2. ПРЕДМЕТ СОГЛАШЕНИЯ"}),o.jsx(B,{paragraph:!0,children:"2.1. Исполнитель обязуется предоставить Заказчику во временное пользование Корт для занятий спортом, а Заказчик обязуется оплатить Услуги в соответствии с условиями настоящего Соглашения."}),o.jsx(B,{paragraph:!0,children:"2.2. Конкретные условия предоставления Услуг (дата, время, продолжительность, стоимость) определяются при Бронировании."}),o.jsx(B,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"3. ПОРЯДОК БРОНИРОВАНИЯ И ОПЛАТЫ"}),o.jsxs(B,{paragraph:!0,children:["3.1. Бронирование осуществляется через мобильное приложение «Все Корты», по телефону ",t.phone,"или иным доступным способом."]}),o.jsx(B,{paragraph:!0,children:"3.2. Оплата Услуг производится в соответствии с действующими тарифами Исполнителя одним из следующих способов:"}),o.jsxs(B,{component:"div",paragraph:!0,sx:{pl:2},children:["• Онлайн-оплата банковской картой через приложение",o.jsx("br",{}),"• Оплата наличными в кассе Клуба",o.jsx("br",{}),"• Оплата банковской картой на месте",o.jsx("br",{}),"• Безналичный перевод по реквизитам Исполнителя"]}),o.jsx(B,{paragraph:!0,children:"3.3. Бронирование считается подтвержденным после получения оплаты или подтверждения от администратора Клуба."}),o.jsx(B,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"4. ПРАВА И ОБЯЗАННОСТИ СТОРОН"}),o.jsx(B,{paragraph:!0,children:o.jsx("strong",{children:"4.1. Исполнитель обязуется:"})}),o.jsxs(B,{component:"div",paragraph:!0,sx:{pl:2},children:["• Предоставить Корт в соответствии с Бронированием",o.jsx("br",{}),"• Обеспечить надлежащее состояние Корта и оборудования",o.jsx("br",{}),"• Предоставить раздевалки и душевые (при наличии)",o.jsx("br",{}),"• Обеспечить безопасность на территории Клуба"]}),o.jsx(B,{paragraph:!0,children:o.jsx("strong",{children:"4.2. Заказчик обязуется:"})}),o.jsxs(B,{component:"div",paragraph:!0,sx:{pl:2},children:["• Своевременно оплатить Услуги",o.jsx("br",{}),"• Соблюдать правила поведения в Клубе",o.jsx("br",{}),"• Бережно относиться к имуществу Клуба",o.jsx("br",{}),"• Использовать спортивную обувь и форму",o.jsx("br",{}),"• Освободить Корт по истечении оплаченного времени"]}),o.jsx(B,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"5. ОТМЕНА И ПЕРЕНОС БРОНИРОВАНИЯ"}),o.jsx(B,{paragraph:!0,children:"5.1. Заказчик вправе отменить или перенести Бронирование не позднее чем за 24 часа до начала оказания Услуг."}),o.jsx(B,{paragraph:!0,children:"5.2. При отмене Бронирования менее чем за 24 часа, внесенная предоплата не возвращается."}),o.jsx(B,{paragraph:!0,children:"5.3. Исполнитель вправе отменить Бронирование по техническим причинам с полным возвратом предоплаты."}),o.jsx(B,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"6. ОТВЕТСТВЕННОСТЬ СТОРОН"}),o.jsx(B,{paragraph:!0,children:"6.1. Исполнитель не несет ответственности за вред, причиненный жизни и здоровью Заказчика в результате нарушения им правил техники безопасности и правил поведения в Клубе."}),o.jsx(B,{paragraph:!0,children:"6.2. Заказчик несет материальную ответственность за ущерб, причиненный имуществу Клуба."}),o.jsx(B,{paragraph:!0,children:"6.3. Исполнитель не несет ответственности за сохранность личных вещей Заказчика."}),o.jsx(B,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"7. ПЕРСОНАЛЬНЫЕ ДАННЫЕ"}),o.jsx(B,{paragraph:!0,children:"7.1. Заказчик дает согласие на обработку своих персональных данных в соответствии с Федеральным законом «О персональных данных» №152-ФЗ."}),o.jsx(B,{paragraph:!0,children:"7.2. Исполнитель обязуется использовать персональные данные Заказчика исключительно для оказания Услуг и не передавать их третьим лицам без согласия Заказчика."}),o.jsx(B,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"8. ЗАКЛЮЧИТЕЛЬНЫЕ ПОЛОЖЕНИЯ"}),o.jsx(B,{paragraph:!0,children:"8.1. Настоящее Соглашение вступает в силу с момента акцепта Заказчиком его условий путем оформления Бронирования и действует до полного исполнения Сторонами своих обязательств."}),o.jsx(B,{paragraph:!0,children:"8.2. Все споры и разногласия решаются путем переговоров, а при невозможности достижения соглашения — в судебном порядке."}),o.jsx(B,{paragraph:!0,children:"8.3. Исполнитель вправе в одностороннем порядке изменять условия настоящего Соглашения, публикуя изменения на сайте и в приложении."}),o.jsx(B,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"9. РЕКВИЗИТЫ ИСПОЛНИТЕЛЯ"}),o.jsx(te,{sx:{backgroundColor:"grey.50",p:3,borderRadius:1,mt:2},children:o.jsxs(B,{variant:"body2",component:"div",children:[o.jsx("strong",{children:t.legalName||t.name}),o.jsx("br",{}),t.legalAddress&&o.jsxs(o.Fragment,{children:["Юридический адрес: ",t.legalAddress,o.jsx("br",{})]}),t.inn&&o.jsxs(o.Fragment,{children:["ИНН: ",t.inn,o.jsx("br",{})]}),t.kpp&&o.jsxs(o.Fragment,{children:["КПП: ",t.kpp,o.jsx("br",{})]}),t.ogrn&&o.jsxs(o.Fragment,{children:["ОГРН: ",t.ogrn,o.jsx("br",{})]}),t.bankAccount&&o.jsxs(o.Fragment,{children:[o.jsx("br",{}),o.jsx("strong",{children:"Банковские реквизиты:"}),o.jsx("br",{}),"Расчетный счет: ",t.bankAccount,o.jsx("br",{}),t.bankName&&o.jsxs(o.Fragment,{children:["Банк: ",t.bankName,o.jsx("br",{})]}),t.bankBik&&o.jsxs(o.Fragment,{children:["БИК: ",t.bankBik,o.jsx("br",{})]}),t.bankCorrespondentAccount&&o.jsxs(o.Fragment,{children:["Корр. счет: ",t.bankCorrespondentAccount,o.jsx("br",{})]})]}),(t.directorName||t.directorPosition)&&o.jsxs(o.Fragment,{children:[o.jsx("br",{}),o.jsx("strong",{children:"Руководитель:"}),o.jsx("br",{}),t.directorPosition&&o.jsxs(o.Fragment,{children:[t.directorPosition," "]}),t.directorName]}),(t.phone||t.email)&&o.jsxs(o.Fragment,{children:[o.jsx("br",{}),o.jsx("strong",{children:"Контакты:"}),o.jsx("br",{}),t.phone&&o.jsxs(o.Fragment,{children:["Телефон: ",t.phone,o.jsx("br",{})]}),t.email&&o.jsxs(o.Fragment,{children:["Email: ",t.email]})]})]})})]})]})]})}const YL=_u({palette:{primary:{main:"#00A86B"},secondary:{main:"#1A1F36"},success:{main:"#10B981"},warning:{main:"#F59E0B"},error:{main:"#EF4444"},background:{default:"#F8F9FA"}},typography:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, sans-serif'}});function GL(){return o.jsxs(i2,{theme:YL,children:[o.jsx(d2,{}),o.jsx(qA,{children:o.jsx(vk,{children:o.jsx(lb,{children:o.jsxs(cb,{children:[o.jsx(dt,{path:"/",element:o.jsx(wa,{to:"/admin/dashboard",replace:!0})}),o.jsx(dt,{path:"/info",element:o.jsx(DA,{})}),o.jsx(dt,{path:"/club/:clubId",element:o.jsx(e$,{})}),o.jsx(dt,{path:"/club/:clubId/court/:courtId/booking",element:o.jsx(UL,{})}),o.jsx(dt,{path:"/club/:clubId/court/:courtId/date",element:o.jsx(zL,{})}),o.jsx(dt,{path:"/club/:clubId/court/:courtId/time",element:o.jsx(BL,{})}),o.jsx(dt,{path:"/club/:clubId/court/:courtId/game-type",element:o.jsx(WL,{})}),o.jsx(dt,{path:"/club/:clubId/booking-confirmation/:bookingId",element:o.jsx(HL,{})}),o.jsx(dt,{path:"/club/:clubId/user-agreement",element:o.jsx(VL,{})}),o.jsx(dt,{path:"/login",element:o.jsx(cA,{})}),o.jsx(dt,{path:"/register",element:o.jsx(dA,{})}),o.jsx(dt,{path:"/admin/login",element:o.jsx(wa,{to:"/login",replace:!0})}),o.jsx(dt,{path:"/admin/register",element:o.jsx(wa,{to:"/register",replace:!0})}),o.jsxs(dt,{path:"/admin",element:o.jsx(ID,{children:o.jsx(Yd,{})}),children:[o.jsx(dt,{path:"dashboard",element:o.jsx(bA,{})}),o.jsx(dt,{path:"venues",element:o.jsx(LA,{})}),o.jsx(dt,{path:"billing-settings",element:o.jsx(WA,{})}),o.jsx(dt,{path:"admins",element:o.jsx(OA,{})}),o.jsx(dt,{path:"club",element:o.jsx(CA,{})}),o.jsx(dt,{path:"subscription",element:o.jsx(zA,{})}),o.jsx(dt,{path:"payment-settings",element:o.jsx(BA,{})}),o.jsx(dt,{path:"courts",element:o.jsx(wA,{})}),o.jsx(dt,{path:"bookings",element:o.jsx(IA,{})}),o.jsx(dt,{path:"finance",element:o.jsx(HA,{})}),o.jsx(dt,{path:"customers",element:o.jsx(RA,{})}),o.jsx(dt,{path:"marketing",element:o.jsx(UA,{})}),o.jsx(dt,{path:"settings",element:o.jsx(YA,{})}),o.jsx(dt,{path:"debug",element:o.jsx(GA,{})})]})]})})})})]})}ld.createRoot(document.getElementById("root")).render(o.jsx(Fe.StrictMode,{children:o.jsx(GL,{})}));export{M4 as a,E4 as b,Hr as c,se as d,EA as e,ft as f,TA as g,JL as h,tn as i,o as j,MA as k,ws as l,xm as m,ym as n,eo as s};
