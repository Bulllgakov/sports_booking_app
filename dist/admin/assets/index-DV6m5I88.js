function $4(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Lb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ia(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var wR={exports:{}},rv={},CR={exports:{}},st={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ff=Symbol.for("react.element"),F4=Symbol.for("react.portal"),V4=Symbol.for("react.fragment"),B4=Symbol.for("react.strict_mode"),U4=Symbol.for("react.profiler"),z4=Symbol.for("react.provider"),W4=Symbol.for("react.context"),H4=Symbol.for("react.forward_ref"),q4=Symbol.for("react.suspense"),G4=Symbol.for("react.memo"),Y4=Symbol.for("react.lazy"),UT=Symbol.iterator;function K4(t){return t===null||typeof t!="object"?null:(t=UT&&t[UT]||t["@@iterator"],typeof t=="function"?t:null)}var TR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ER=Object.assign,SR={};function Eu(t,e,n){this.props=t,this.context=e,this.refs=SR,this.updater=n||TR}Eu.prototype.isReactComponent={};Eu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Eu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function IR(){}IR.prototype=Eu.prototype;function $b(t,e,n){this.props=t,this.context=e,this.refs=SR,this.updater=n||TR}var Fb=$b.prototype=new IR;Fb.constructor=$b;ER(Fb,Eu.prototype);Fb.isPureReactComponent=!0;var zT=Array.isArray,kR=Object.prototype.hasOwnProperty,Vb={current:null},RR={key:!0,ref:!0,__self:!0,__source:!0};function PR(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)kR.call(e,r)&&!RR.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:ff,type:t,key:i,ref:o,props:s,_owner:Vb.current}}function Q4(t,e){return{$$typeof:ff,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Bb(t){return typeof t=="object"&&t!==null&&t.$$typeof===ff}function X4(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var WT=/\/+/g;function c0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?X4(""+t.key):e.toString(36)}function tm(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ff:case F4:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+c0(o,0):r,zT(s)?(n="",t!=null&&(n=t.replace(WT,"$&/")+"/"),tm(s,e,n,"",function(u){return u})):s!=null&&(Bb(s)&&(s=Q4(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(WT,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",zT(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+c0(i,l);o+=tm(i,e,n,c,s)}else if(c=K4(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+c0(i,l++),o+=tm(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function pp(t,e,n){if(t==null)return t;var r=[],s=0;return tm(t,r,"","",function(i){return e.call(n,i,s++)}),r}function J4(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ar={current:null},nm={transition:null},Z4={ReactCurrentDispatcher:Ar,ReactCurrentBatchConfig:nm,ReactCurrentOwner:Vb};function AR(){throw Error("act(...) is not supported in production builds of React.")}st.Children={map:pp,forEach:function(t,e,n){pp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return pp(t,function(){e++}),e},toArray:function(t){return pp(t,function(e){return e})||[]},only:function(t){if(!Bb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};st.Component=Eu;st.Fragment=V4;st.Profiler=U4;st.PureComponent=$b;st.StrictMode=B4;st.Suspense=q4;st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z4;st.act=AR;st.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ER({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Vb.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)kR.call(e,c)&&!RR.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:ff,type:t.type,key:s,ref:i,props:r,_owner:o}};st.createContext=function(t){return t={$$typeof:W4,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:z4,_context:t},t.Consumer=t};st.createElement=PR;st.createFactory=function(t){var e=PR.bind(null,t);return e.type=t,e};st.createRef=function(){return{current:null}};st.forwardRef=function(t){return{$$typeof:H4,render:t}};st.isValidElement=Bb;st.lazy=function(t){return{$$typeof:Y4,_payload:{_status:-1,_result:t},_init:J4}};st.memo=function(t,e){return{$$typeof:G4,type:t,compare:e===void 0?null:e}};st.startTransition=function(t){var e=nm.transition;nm.transition={};try{t()}finally{nm.transition=e}};st.unstable_act=AR;st.useCallback=function(t,e){return Ar.current.useCallback(t,e)};st.useContext=function(t){return Ar.current.useContext(t)};st.useDebugValue=function(){};st.useDeferredValue=function(t){return Ar.current.useDeferredValue(t)};st.useEffect=function(t,e){return Ar.current.useEffect(t,e)};st.useId=function(){return Ar.current.useId()};st.useImperativeHandle=function(t,e,n){return Ar.current.useImperativeHandle(t,e,n)};st.useInsertionEffect=function(t,e){return Ar.current.useInsertionEffect(t,e)};st.useLayoutEffect=function(t,e){return Ar.current.useLayoutEffect(t,e)};st.useMemo=function(t,e){return Ar.current.useMemo(t,e)};st.useReducer=function(t,e,n){return Ar.current.useReducer(t,e,n)};st.useRef=function(t){return Ar.current.useRef(t)};st.useState=function(t){return Ar.current.useState(t)};st.useSyncExternalStore=function(t,e,n){return Ar.current.useSyncExternalStore(t,e,n)};st.useTransition=function(){return Ar.current.useTransition()};st.version="18.3.1";CR.exports=st;var y=CR.exports;const ot=Lb(y),Om=$4({__proto__:null,default:ot},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e$=y,t$=Symbol.for("react.element"),n$=Symbol.for("react.fragment"),r$=Object.prototype.hasOwnProperty,s$=e$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i$={key:!0,ref:!0,__self:!0,__source:!0};function NR(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)r$.call(e,r)&&!i$.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:t$,type:t,key:i,ref:o,props:s,_owner:s$.current}}rv.Fragment=n$;rv.jsx=NR;rv.jsxs=NR;wR.exports=rv;var a=wR.exports,kx={},DR={exports:{}},hs={},jR={exports:{}},MR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,F){var L=U.length;U.push(F);e:for(;0<L;){var H=L-1>>>1,q=U[H];if(0<s(q,F))U[H]=F,U[L]=q,L=H;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var F=U[0],L=U.pop();if(L!==F){U[0]=L;e:for(var H=0,q=U.length,K=q>>>1;H<K;){var te=2*(H+1)-1,me=U[te],Q=te+1,ce=U[Q];if(0>s(me,L))Q<q&&0>s(ce,me)?(U[H]=ce,U[Q]=L,H=Q):(U[H]=me,U[te]=L,H=te);else if(Q<q&&0>s(ce,L))U[H]=ce,U[Q]=L,H=Q;else break e}}return F}function s(U,F){var L=U.sortIndex-F.sortIndex;return L!==0?L:U.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,p=3,m=!1,v=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(U){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=U)r(u),F.sortIndex=F.expirationTime,e(c,F);else break;F=n(u)}}function I(U){if(g=!1,w(U),!v)if(n(c)!==null)v=!0,B(N);else{var F=n(u);F!==null&&z(I,F.startTime-U)}}function N(U,F){v=!1,g&&(g=!1,x(E),E=-1),m=!0;var L=p;try{for(w(F),h=n(c);h!==null&&(!(h.expirationTime>F)||U&&!A());){var H=h.callback;if(typeof H=="function"){h.callback=null,p=h.priorityLevel;var q=H(h.expirationTime<=F);F=t.unstable_now(),typeof q=="function"?h.callback=q:h===n(c)&&r(c),w(F)}else r(c);h=n(c)}if(h!==null)var K=!0;else{var te=n(u);te!==null&&z(I,te.startTime-F),K=!1}return K}finally{h=null,p=L,m=!1}}var R=!1,S=null,E=-1,C=5,k=-1;function A(){return!(t.unstable_now()-k<C)}function M(){if(S!==null){var U=t.unstable_now();k=U;var F=!0;try{F=S(!0,U)}finally{F?P():(R=!1,S=null)}}else R=!1}var P;if(typeof _=="function")P=function(){_(M)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,V=O.port2;O.port1.onmessage=M,P=function(){V.postMessage(null)}}else P=function(){b(M,0)};function B(U){S=U,R||(R=!0,P())}function z(U,F){E=b(function(){U(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,B(N))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(U){switch(p){case 1:case 2:case 3:var F=3;break;default:F=p}var L=p;p=F;try{return U()}finally{p=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,F){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var L=p;p=U;try{return F()}finally{p=L}},t.unstable_scheduleCallback=function(U,F,L){var H=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?H+L:H):L=H,U){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=L+q,U={id:d++,callback:F,priorityLevel:U,startTime:L,expirationTime:q,sortIndex:-1},L>H?(U.sortIndex=L,e(u,U),n(c)===null&&U===n(u)&&(g?(x(E),E=-1):g=!0,z(I,L-H))):(U.sortIndex=q,e(c,U),v||m||(v=!0,B(N))),U},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(U){var F=p;return function(){var L=p;p=F;try{return U.apply(this,arguments)}finally{p=L}}}})(MR);jR.exports=MR;var o$=jR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a$=y,us=o$;function pe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var OR=new Set,_h={};function Ol(t,e){Kc(t,e),Kc(t+"Capture",e)}function Kc(t,e){for(_h[t]=e,t=0;t<e.length;t++)OR.add(e[t])}var ao=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rx=Object.prototype.hasOwnProperty,l$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,HT={},qT={};function c$(t){return Rx.call(qT,t)?!0:Rx.call(HT,t)?!1:l$.test(t)?qT[t]=!0:(HT[t]=!0,!1)}function u$(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function d$(t,e,n,r){if(e===null||typeof e>"u"||u$(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Nr(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var nr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){nr[t]=new Nr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];nr[e]=new Nr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){nr[t]=new Nr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){nr[t]=new Nr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){nr[t]=new Nr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){nr[t]=new Nr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){nr[t]=new Nr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){nr[t]=new Nr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){nr[t]=new Nr(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ub=/[\-:]([a-z])/g;function zb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ub,zb);nr[e]=new Nr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ub,zb);nr[e]=new Nr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ub,zb);nr[e]=new Nr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){nr[t]=new Nr(t,1,!1,t.toLowerCase(),null,!1,!1)});nr.xlinkHref=new Nr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){nr[t]=new Nr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Wb(t,e,n,r){var s=nr.hasOwnProperty(e)?nr[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(d$(e,n,s,r)&&(n=null),r||s===null?c$(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var To=a$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mp=Symbol.for("react.element"),hc=Symbol.for("react.portal"),fc=Symbol.for("react.fragment"),Hb=Symbol.for("react.strict_mode"),Px=Symbol.for("react.profiler"),LR=Symbol.for("react.provider"),$R=Symbol.for("react.context"),qb=Symbol.for("react.forward_ref"),Ax=Symbol.for("react.suspense"),Nx=Symbol.for("react.suspense_list"),Gb=Symbol.for("react.memo"),Fo=Symbol.for("react.lazy"),FR=Symbol.for("react.offscreen"),GT=Symbol.iterator;function ld(t){return t===null||typeof t!="object"?null:(t=GT&&t[GT]||t["@@iterator"],typeof t=="function"?t:null)}var un=Object.assign,u0;function Md(t){if(u0===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);u0=e&&e[1]||""}return`
`+u0+t}var d0=!1;function h0(t,e){if(!t||d0)return"";d0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{d0=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Md(t):""}function h$(t){switch(t.tag){case 5:return Md(t.type);case 16:return Md("Lazy");case 13:return Md("Suspense");case 19:return Md("SuspenseList");case 0:case 2:case 15:return t=h0(t.type,!1),t;case 11:return t=h0(t.type.render,!1),t;case 1:return t=h0(t.type,!0),t;default:return""}}function Dx(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case fc:return"Fragment";case hc:return"Portal";case Px:return"Profiler";case Hb:return"StrictMode";case Ax:return"Suspense";case Nx:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $R:return(t.displayName||"Context")+".Consumer";case LR:return(t._context.displayName||"Context")+".Provider";case qb:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Gb:return e=t.displayName||null,e!==null?e:Dx(t.type)||"Memo";case Fo:e=t._payload,t=t._init;try{return Dx(t(e))}catch{}}return null}function f$(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Dx(e);case 8:return e===Hb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function xa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function VR(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function p$(t){var e=VR(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gp(t){t._valueTracker||(t._valueTracker=p$(t))}function BR(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=VR(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Lm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function jx(t,e){var n=e.checked;return un({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function YT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=xa(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function UR(t,e){e=e.checked,e!=null&&Wb(t,"checked",e,!1)}function Mx(t,e){UR(t,e);var n=xa(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ox(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ox(t,e.type,xa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function KT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ox(t,e,n){(e!=="number"||Lm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Od=Array.isArray;function Pc(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+xa(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Lx(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(pe(91));return un({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function QT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(pe(92));if(Od(n)){if(1<n.length)throw Error(pe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:xa(n)}}function zR(t,e){var n=xa(e.value),r=xa(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function XT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function WR(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $x(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?WR(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var vp,HR=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(vp=vp||document.createElement("div"),vp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function bh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Gd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},m$=["Webkit","ms","Moz","O"];Object.keys(Gd).forEach(function(t){m$.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Gd[e]=Gd[t]})});function qR(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Gd.hasOwnProperty(t)&&Gd[t]?(""+e).trim():e+"px"}function GR(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=qR(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var g$=un({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fx(t,e){if(e){if(g$[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(pe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(pe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(pe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(pe(62))}}function Vx(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bx=null;function Yb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ux=null,Ac=null,Nc=null;function JT(t){if(t=gf(t)){if(typeof Ux!="function")throw Error(pe(280));var e=t.stateNode;e&&(e=lv(e),Ux(t.stateNode,t.type,e))}}function YR(t){Ac?Nc?Nc.push(t):Nc=[t]:Ac=t}function KR(){if(Ac){var t=Ac,e=Nc;if(Nc=Ac=null,JT(t),e)for(t=0;t<e.length;t++)JT(e[t])}}function QR(t,e){return t(e)}function XR(){}var f0=!1;function JR(t,e,n){if(f0)return t(e,n);f0=!0;try{return QR(t,e,n)}finally{f0=!1,(Ac!==null||Nc!==null)&&(XR(),KR())}}function wh(t,e){var n=t.stateNode;if(n===null)return null;var r=lv(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(pe(231,e,typeof n));return n}var zx=!1;if(ao)try{var cd={};Object.defineProperty(cd,"passive",{get:function(){zx=!0}}),window.addEventListener("test",cd,cd),window.removeEventListener("test",cd,cd)}catch{zx=!1}function v$(t,e,n,r,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Yd=!1,$m=null,Fm=!1,Wx=null,y$={onError:function(t){Yd=!0,$m=t}};function x$(t,e,n,r,s,i,o,l,c){Yd=!1,$m=null,v$.apply(y$,arguments)}function _$(t,e,n,r,s,i,o,l,c){if(x$.apply(this,arguments),Yd){if(Yd){var u=$m;Yd=!1,$m=null}else throw Error(pe(198));Fm||(Fm=!0,Wx=u)}}function Ll(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ZR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ZT(t){if(Ll(t)!==t)throw Error(pe(188))}function b$(t){var e=t.alternate;if(!e){if(e=Ll(t),e===null)throw Error(pe(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return ZT(s),t;if(i===r)return ZT(s),e;i=i.sibling}throw Error(pe(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(pe(189))}}if(n.alternate!==r)throw Error(pe(190))}if(n.tag!==3)throw Error(pe(188));return n.stateNode.current===n?t:e}function eP(t){return t=b$(t),t!==null?tP(t):null}function tP(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=tP(t);if(e!==null)return e;t=t.sibling}return null}var nP=us.unstable_scheduleCallback,eE=us.unstable_cancelCallback,w$=us.unstable_shouldYield,C$=us.unstable_requestPaint,Cn=us.unstable_now,T$=us.unstable_getCurrentPriorityLevel,Kb=us.unstable_ImmediatePriority,rP=us.unstable_UserBlockingPriority,Vm=us.unstable_NormalPriority,E$=us.unstable_LowPriority,sP=us.unstable_IdlePriority,sv=null,yi=null;function S$(t){if(yi&&typeof yi.onCommitFiberRoot=="function")try{yi.onCommitFiberRoot(sv,t,void 0,(t.current.flags&128)===128)}catch{}}var Ks=Math.clz32?Math.clz32:R$,I$=Math.log,k$=Math.LN2;function R$(t){return t>>>=0,t===0?32:31-(I$(t)/k$|0)|0}var yp=64,xp=4194304;function Ld(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Bm(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Ld(l):(i&=o,i!==0&&(r=Ld(i)))}else o=n&~s,o!==0?r=Ld(o):i!==0&&(r=Ld(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ks(e),s=1<<n,r|=t[n],e&=~s;return r}function P$(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function A$(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Ks(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=P$(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function Hx(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function iP(){var t=yp;return yp<<=1,!(yp&4194240)&&(yp=64),t}function p0(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function pf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ks(e),t[e]=n}function N$(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Ks(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Qb(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ks(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Dt=0;function oP(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var aP,Xb,lP,cP,uP,qx=!1,_p=[],ra=null,sa=null,ia=null,Ch=new Map,Th=new Map,Bo=[],D$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tE(t,e){switch(t){case"focusin":case"focusout":ra=null;break;case"dragenter":case"dragleave":sa=null;break;case"mouseover":case"mouseout":ia=null;break;case"pointerover":case"pointerout":Ch.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Th.delete(e.pointerId)}}function ud(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=gf(e),e!==null&&Xb(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function j$(t,e,n,r,s){switch(e){case"focusin":return ra=ud(ra,t,e,n,r,s),!0;case"dragenter":return sa=ud(sa,t,e,n,r,s),!0;case"mouseover":return ia=ud(ia,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ch.set(i,ud(Ch.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Th.set(i,ud(Th.get(i)||null,t,e,n,r,s)),!0}return!1}function dP(t){var e=Za(t.target);if(e!==null){var n=Ll(e);if(n!==null){if(e=n.tag,e===13){if(e=ZR(n),e!==null){t.blockedOn=e,uP(t.priority,function(){lP(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Gx(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Bx=r,n.target.dispatchEvent(r),Bx=null}else return e=gf(n),e!==null&&Xb(e),t.blockedOn=n,!1;e.shift()}return!0}function nE(t,e,n){rm(t)&&n.delete(e)}function M$(){qx=!1,ra!==null&&rm(ra)&&(ra=null),sa!==null&&rm(sa)&&(sa=null),ia!==null&&rm(ia)&&(ia=null),Ch.forEach(nE),Th.forEach(nE)}function dd(t,e){t.blockedOn===e&&(t.blockedOn=null,qx||(qx=!0,us.unstable_scheduleCallback(us.unstable_NormalPriority,M$)))}function Eh(t){function e(s){return dd(s,t)}if(0<_p.length){dd(_p[0],t);for(var n=1;n<_p.length;n++){var r=_p[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ra!==null&&dd(ra,t),sa!==null&&dd(sa,t),ia!==null&&dd(ia,t),Ch.forEach(e),Th.forEach(e),n=0;n<Bo.length;n++)r=Bo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Bo.length&&(n=Bo[0],n.blockedOn===null);)dP(n),n.blockedOn===null&&Bo.shift()}var Dc=To.ReactCurrentBatchConfig,Um=!0;function O$(t,e,n,r){var s=Dt,i=Dc.transition;Dc.transition=null;try{Dt=1,Jb(t,e,n,r)}finally{Dt=s,Dc.transition=i}}function L$(t,e,n,r){var s=Dt,i=Dc.transition;Dc.transition=null;try{Dt=4,Jb(t,e,n,r)}finally{Dt=s,Dc.transition=i}}function Jb(t,e,n,r){if(Um){var s=Gx(t,e,n,r);if(s===null)T0(t,e,r,zm,n),tE(t,r);else if(j$(s,t,e,n,r))r.stopPropagation();else if(tE(t,r),e&4&&-1<D$.indexOf(t)){for(;s!==null;){var i=gf(s);if(i!==null&&aP(i),i=Gx(t,e,n,r),i===null&&T0(t,e,r,zm,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else T0(t,e,r,null,n)}}var zm=null;function Gx(t,e,n,r){if(zm=null,t=Yb(r),t=Za(t),t!==null)if(e=Ll(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ZR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return zm=t,null}function hP(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(T$()){case Kb:return 1;case rP:return 4;case Vm:case E$:return 16;case sP:return 536870912;default:return 16}default:return 16}}var Ko=null,Zb=null,sm=null;function fP(){if(sm)return sm;var t,e=Zb,n=e.length,r,s="value"in Ko?Ko.value:Ko.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return sm=s.slice(t,1<r?1-r:void 0)}function im(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function bp(){return!0}function rE(){return!1}function fs(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?bp:rE,this.isPropagationStopped=rE,this}return un(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bp)},persist:function(){},isPersistent:bp}),e}var Su={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ew=fs(Su),mf=un({},Su,{view:0,detail:0}),$$=fs(mf),m0,g0,hd,iv=un({},mf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hd&&(hd&&t.type==="mousemove"?(m0=t.screenX-hd.screenX,g0=t.screenY-hd.screenY):g0=m0=0,hd=t),m0)},movementY:function(t){return"movementY"in t?t.movementY:g0}}),sE=fs(iv),F$=un({},iv,{dataTransfer:0}),V$=fs(F$),B$=un({},mf,{relatedTarget:0}),v0=fs(B$),U$=un({},Su,{animationName:0,elapsedTime:0,pseudoElement:0}),z$=fs(U$),W$=un({},Su,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),H$=fs(W$),q$=un({},Su,{data:0}),iE=fs(q$),G$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Y$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},K$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Q$(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=K$[t])?!!e[t]:!1}function tw(){return Q$}var X$=un({},mf,{key:function(t){if(t.key){var e=G$[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=im(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Y$[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tw,charCode:function(t){return t.type==="keypress"?im(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?im(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),J$=fs(X$),Z$=un({},iv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oE=fs(Z$),e3=un({},mf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tw}),t3=fs(e3),n3=un({},Su,{propertyName:0,elapsedTime:0,pseudoElement:0}),r3=fs(n3),s3=un({},iv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),i3=fs(s3),o3=[9,13,27,32],nw=ao&&"CompositionEvent"in window,Kd=null;ao&&"documentMode"in document&&(Kd=document.documentMode);var a3=ao&&"TextEvent"in window&&!Kd,pP=ao&&(!nw||Kd&&8<Kd&&11>=Kd),aE=" ",lE=!1;function mP(t,e){switch(t){case"keyup":return o3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pc=!1;function l3(t,e){switch(t){case"compositionend":return gP(e);case"keypress":return e.which!==32?null:(lE=!0,aE);case"textInput":return t=e.data,t===aE&&lE?null:t;default:return null}}function c3(t,e){if(pc)return t==="compositionend"||!nw&&mP(t,e)?(t=fP(),sm=Zb=Ko=null,pc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return pP&&e.locale!=="ko"?null:e.data;default:return null}}var u3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!u3[t.type]:e==="textarea"}function vP(t,e,n,r){YR(r),e=Wm(e,"onChange"),0<e.length&&(n=new ew("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Qd=null,Sh=null;function d3(t){kP(t,0)}function ov(t){var e=vc(t);if(BR(e))return t}function h3(t,e){if(t==="change")return e}var yP=!1;if(ao){var y0;if(ao){var x0="oninput"in document;if(!x0){var uE=document.createElement("div");uE.setAttribute("oninput","return;"),x0=typeof uE.oninput=="function"}y0=x0}else y0=!1;yP=y0&&(!document.documentMode||9<document.documentMode)}function dE(){Qd&&(Qd.detachEvent("onpropertychange",xP),Sh=Qd=null)}function xP(t){if(t.propertyName==="value"&&ov(Sh)){var e=[];vP(e,Sh,t,Yb(t)),JR(d3,e)}}function f3(t,e,n){t==="focusin"?(dE(),Qd=e,Sh=n,Qd.attachEvent("onpropertychange",xP)):t==="focusout"&&dE()}function p3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ov(Sh)}function m3(t,e){if(t==="click")return ov(e)}function g3(t,e){if(t==="input"||t==="change")return ov(e)}function v3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Js=typeof Object.is=="function"?Object.is:v3;function Ih(t,e){if(Js(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Rx.call(e,s)||!Js(t[s],e[s]))return!1}return!0}function hE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fE(t,e){var n=hE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hE(n)}}function _P(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_P(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function bP(){for(var t=window,e=Lm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Lm(t.document)}return e}function rw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function y3(t){var e=bP(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&_P(n.ownerDocument.documentElement,n)){if(r!==null&&rw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=fE(n,i);var o=fE(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var x3=ao&&"documentMode"in document&&11>=document.documentMode,mc=null,Yx=null,Xd=null,Kx=!1;function pE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Kx||mc==null||mc!==Lm(r)||(r=mc,"selectionStart"in r&&rw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xd&&Ih(Xd,r)||(Xd=r,r=Wm(Yx,"onSelect"),0<r.length&&(e=new ew("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=mc)))}function wp(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var gc={animationend:wp("Animation","AnimationEnd"),animationiteration:wp("Animation","AnimationIteration"),animationstart:wp("Animation","AnimationStart"),transitionend:wp("Transition","TransitionEnd")},_0={},wP={};ao&&(wP=document.createElement("div").style,"AnimationEvent"in window||(delete gc.animationend.animation,delete gc.animationiteration.animation,delete gc.animationstart.animation),"TransitionEvent"in window||delete gc.transitionend.transition);function av(t){if(_0[t])return _0[t];if(!gc[t])return t;var e=gc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in wP)return _0[t]=e[n];return t}var CP=av("animationend"),TP=av("animationiteration"),EP=av("animationstart"),SP=av("transitionend"),IP=new Map,mE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ka(t,e){IP.set(t,e),Ol(e,[t])}for(var b0=0;b0<mE.length;b0++){var w0=mE[b0],_3=w0.toLowerCase(),b3=w0[0].toUpperCase()+w0.slice(1);ka(_3,"on"+b3)}ka(CP,"onAnimationEnd");ka(TP,"onAnimationIteration");ka(EP,"onAnimationStart");ka("dblclick","onDoubleClick");ka("focusin","onFocus");ka("focusout","onBlur");ka(SP,"onTransitionEnd");Kc("onMouseEnter",["mouseout","mouseover"]);Kc("onMouseLeave",["mouseout","mouseover"]);Kc("onPointerEnter",["pointerout","pointerover"]);Kc("onPointerLeave",["pointerout","pointerover"]);Ol("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ol("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ol("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ol("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ol("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ol("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $d="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w3=new Set("cancel close invalid load scroll toggle".split(" ").concat($d));function gE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,_$(r,e,void 0,t),t.currentTarget=null}function kP(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;gE(s,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;gE(s,l,u),i=c}}}if(Fm)throw t=Wx,Fm=!1,Wx=null,t}function Yt(t,e){var n=e[e_];n===void 0&&(n=e[e_]=new Set);var r=t+"__bubble";n.has(r)||(RP(e,t,2,!1),n.add(r))}function C0(t,e,n){var r=0;e&&(r|=4),RP(n,t,r,e)}var Cp="_reactListening"+Math.random().toString(36).slice(2);function kh(t){if(!t[Cp]){t[Cp]=!0,OR.forEach(function(n){n!=="selectionchange"&&(w3.has(n)||C0(n,!1,t),C0(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Cp]||(e[Cp]=!0,C0("selectionchange",!1,e))}}function RP(t,e,n,r){switch(hP(e)){case 1:var s=O$;break;case 4:s=L$;break;default:s=Jb}n=s.bind(null,e,n,t),s=void 0,!zx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function T0(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Za(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}JR(function(){var u=i,d=Yb(n),h=[];e:{var p=IP.get(t);if(p!==void 0){var m=ew,v=t;switch(t){case"keypress":if(im(n)===0)break e;case"keydown":case"keyup":m=J$;break;case"focusin":v="focus",m=v0;break;case"focusout":v="blur",m=v0;break;case"beforeblur":case"afterblur":m=v0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=sE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=V$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=t3;break;case CP:case TP:case EP:m=z$;break;case SP:m=r3;break;case"scroll":m=$$;break;case"wheel":m=i3;break;case"copy":case"cut":case"paste":m=H$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=oE}var g=(e&4)!==0,b=!g&&t==="scroll",x=g?p!==null?p+"Capture":null:p;g=[];for(var _=u,w;_!==null;){w=_;var I=w.stateNode;if(w.tag===5&&I!==null&&(w=I,x!==null&&(I=wh(_,x),I!=null&&g.push(Rh(_,I,w)))),b)break;_=_.return}0<g.length&&(p=new m(p,v,null,n,d),h.push({event:p,listeners:g}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==Bx&&(v=n.relatedTarget||n.fromElement)&&(Za(v)||v[lo]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?Za(v):null,v!==null&&(b=Ll(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(g=sE,I="onMouseLeave",x="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(g=oE,I="onPointerLeave",x="onPointerEnter",_="pointer"),b=m==null?p:vc(m),w=v==null?p:vc(v),p=new g(I,_+"leave",m,n,d),p.target=b,p.relatedTarget=w,I=null,Za(d)===u&&(g=new g(x,_+"enter",v,n,d),g.target=w,g.relatedTarget=b,I=g),b=I,m&&v)t:{for(g=m,x=v,_=0,w=g;w;w=Jl(w))_++;for(w=0,I=x;I;I=Jl(I))w++;for(;0<_-w;)g=Jl(g),_--;for(;0<w-_;)x=Jl(x),w--;for(;_--;){if(g===x||x!==null&&g===x.alternate)break t;g=Jl(g),x=Jl(x)}g=null}else g=null;m!==null&&vE(h,p,m,g,!1),v!==null&&b!==null&&vE(h,b,v,g,!0)}}e:{if(p=u?vc(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var N=h3;else if(cE(p))if(yP)N=g3;else{N=p3;var R=f3}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=m3);if(N&&(N=N(t,u))){vP(h,N,n,d);break e}R&&R(t,p,u),t==="focusout"&&(R=p._wrapperState)&&R.controlled&&p.type==="number"&&Ox(p,"number",p.value)}switch(R=u?vc(u):window,t){case"focusin":(cE(R)||R.contentEditable==="true")&&(mc=R,Yx=u,Xd=null);break;case"focusout":Xd=Yx=mc=null;break;case"mousedown":Kx=!0;break;case"contextmenu":case"mouseup":case"dragend":Kx=!1,pE(h,n,d);break;case"selectionchange":if(x3)break;case"keydown":case"keyup":pE(h,n,d)}var S;if(nw)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else pc?mP(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(pP&&n.locale!=="ko"&&(pc||E!=="onCompositionStart"?E==="onCompositionEnd"&&pc&&(S=fP()):(Ko=d,Zb="value"in Ko?Ko.value:Ko.textContent,pc=!0)),R=Wm(u,E),0<R.length&&(E=new iE(E,t,null,n,d),h.push({event:E,listeners:R}),S?E.data=S:(S=gP(n),S!==null&&(E.data=S)))),(S=a3?l3(t,n):c3(t,n))&&(u=Wm(u,"onBeforeInput"),0<u.length&&(d=new iE("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=S))}kP(h,e)})}function Rh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Wm(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=wh(t,n),i!=null&&r.unshift(Rh(t,i,s)),i=wh(t,e),i!=null&&r.push(Rh(t,i,s))),t=t.return}return r}function Jl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function vE(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=wh(n,i),c!=null&&o.unshift(Rh(n,c,l))):s||(c=wh(n,i),c!=null&&o.push(Rh(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var C3=/\r\n?/g,T3=/\u0000|\uFFFD/g;function yE(t){return(typeof t=="string"?t:""+t).replace(C3,`
`).replace(T3,"")}function Tp(t,e,n){if(e=yE(e),yE(t)!==e&&n)throw Error(pe(425))}function Hm(){}var Qx=null,Xx=null;function Jx(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Zx=typeof setTimeout=="function"?setTimeout:void 0,E3=typeof clearTimeout=="function"?clearTimeout:void 0,xE=typeof Promise=="function"?Promise:void 0,S3=typeof queueMicrotask=="function"?queueMicrotask:typeof xE<"u"?function(t){return xE.resolve(null).then(t).catch(I3)}:Zx;function I3(t){setTimeout(function(){throw t})}function E0(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Eh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Eh(e)}function oa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function _E(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Iu=Math.random().toString(36).slice(2),ci="__reactFiber$"+Iu,Ph="__reactProps$"+Iu,lo="__reactContainer$"+Iu,e_="__reactEvents$"+Iu,k3="__reactListeners$"+Iu,R3="__reactHandles$"+Iu;function Za(t){var e=t[ci];if(e)return e;for(var n=t.parentNode;n;){if(e=n[lo]||n[ci]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=_E(t);t!==null;){if(n=t[ci])return n;t=_E(t)}return e}t=n,n=t.parentNode}return null}function gf(t){return t=t[ci]||t[lo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function vc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(pe(33))}function lv(t){return t[Ph]||null}var t_=[],yc=-1;function Ra(t){return{current:t}}function Jt(t){0>yc||(t.current=t_[yc],t_[yc]=null,yc--)}function qt(t,e){yc++,t_[yc]=t.current,t.current=e}var _a={},vr=Ra(_a),Ur=Ra(!1),pl=_a;function Qc(t,e){var n=t.type.contextTypes;if(!n)return _a;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function zr(t){return t=t.childContextTypes,t!=null}function qm(){Jt(Ur),Jt(vr)}function bE(t,e,n){if(vr.current!==_a)throw Error(pe(168));qt(vr,e),qt(Ur,n)}function PP(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(pe(108,f$(t)||"Unknown",s));return un({},n,r)}function Gm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||_a,pl=vr.current,qt(vr,t),qt(Ur,Ur.current),!0}function wE(t,e,n){var r=t.stateNode;if(!r)throw Error(pe(169));n?(t=PP(t,e,pl),r.__reactInternalMemoizedMergedChildContext=t,Jt(Ur),Jt(vr),qt(vr,t)):Jt(Ur),qt(Ur,n)}var Ui=null,cv=!1,S0=!1;function AP(t){Ui===null?Ui=[t]:Ui.push(t)}function P3(t){cv=!0,AP(t)}function Pa(){if(!S0&&Ui!==null){S0=!0;var t=0,e=Dt;try{var n=Ui;for(Dt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ui=null,cv=!1}catch(s){throw Ui!==null&&(Ui=Ui.slice(t+1)),nP(Kb,Pa),s}finally{Dt=e,S0=!1}}return null}var xc=[],_c=0,Ym=null,Km=0,_s=[],bs=0,ml=null,Hi=1,qi="";function qa(t,e){xc[_c++]=Km,xc[_c++]=Ym,Ym=t,Km=e}function NP(t,e,n){_s[bs++]=Hi,_s[bs++]=qi,_s[bs++]=ml,ml=t;var r=Hi;t=qi;var s=32-Ks(r)-1;r&=~(1<<s),n+=1;var i=32-Ks(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Hi=1<<32-Ks(e)+s|n<<s|r,qi=i+t}else Hi=1<<i|n<<s|r,qi=t}function sw(t){t.return!==null&&(qa(t,1),NP(t,1,0))}function iw(t){for(;t===Ym;)Ym=xc[--_c],xc[_c]=null,Km=xc[--_c],xc[_c]=null;for(;t===ml;)ml=_s[--bs],_s[bs]=null,qi=_s[--bs],_s[bs]=null,Hi=_s[--bs],_s[bs]=null}var is=null,ns=null,nn=!1,Ws=null;function DP(t,e){var n=Cs(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function CE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,is=t,ns=oa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,is=t,ns=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ml!==null?{id:Hi,overflow:qi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Cs(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,is=t,ns=null,!0):!1;default:return!1}}function n_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function r_(t){if(nn){var e=ns;if(e){var n=e;if(!CE(t,e)){if(n_(t))throw Error(pe(418));e=oa(n.nextSibling);var r=is;e&&CE(t,e)?DP(r,n):(t.flags=t.flags&-4097|2,nn=!1,is=t)}}else{if(n_(t))throw Error(pe(418));t.flags=t.flags&-4097|2,nn=!1,is=t}}}function TE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;is=t}function Ep(t){if(t!==is)return!1;if(!nn)return TE(t),nn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Jx(t.type,t.memoizedProps)),e&&(e=ns)){if(n_(t))throw jP(),Error(pe(418));for(;e;)DP(t,e),e=oa(e.nextSibling)}if(TE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(pe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ns=oa(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ns=null}}else ns=is?oa(t.stateNode.nextSibling):null;return!0}function jP(){for(var t=ns;t;)t=oa(t.nextSibling)}function Xc(){ns=is=null,nn=!1}function ow(t){Ws===null?Ws=[t]:Ws.push(t)}var A3=To.ReactCurrentBatchConfig;function fd(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(pe(309));var r=n.stateNode}if(!r)throw Error(pe(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(pe(284));if(!n._owner)throw Error(pe(290,t))}return t}function Sp(t,e){throw t=Object.prototype.toString.call(e),Error(pe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function EE(t){var e=t._init;return e(t._payload)}function MP(t){function e(x,_){if(t){var w=x.deletions;w===null?(x.deletions=[_],x.flags|=16):w.push(_)}}function n(x,_){if(!t)return null;for(;_!==null;)e(x,_),_=_.sibling;return null}function r(x,_){for(x=new Map;_!==null;)_.key!==null?x.set(_.key,_):x.set(_.index,_),_=_.sibling;return x}function s(x,_){return x=ua(x,_),x.index=0,x.sibling=null,x}function i(x,_,w){return x.index=w,t?(w=x.alternate,w!==null?(w=w.index,w<_?(x.flags|=2,_):w):(x.flags|=2,_)):(x.flags|=1048576,_)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function l(x,_,w,I){return _===null||_.tag!==6?(_=D0(w,x.mode,I),_.return=x,_):(_=s(_,w),_.return=x,_)}function c(x,_,w,I){var N=w.type;return N===fc?d(x,_,w.props.children,I,w.key):_!==null&&(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Fo&&EE(N)===_.type)?(I=s(_,w.props),I.ref=fd(x,_,w),I.return=x,I):(I=hm(w.type,w.key,w.props,null,x.mode,I),I.ref=fd(x,_,w),I.return=x,I)}function u(x,_,w,I){return _===null||_.tag!==4||_.stateNode.containerInfo!==w.containerInfo||_.stateNode.implementation!==w.implementation?(_=j0(w,x.mode,I),_.return=x,_):(_=s(_,w.children||[]),_.return=x,_)}function d(x,_,w,I,N){return _===null||_.tag!==7?(_=al(w,x.mode,I,N),_.return=x,_):(_=s(_,w),_.return=x,_)}function h(x,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return _=D0(""+_,x.mode,w),_.return=x,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case mp:return w=hm(_.type,_.key,_.props,null,x.mode,w),w.ref=fd(x,null,_),w.return=x,w;case hc:return _=j0(_,x.mode,w),_.return=x,_;case Fo:var I=_._init;return h(x,I(_._payload),w)}if(Od(_)||ld(_))return _=al(_,x.mode,w,null),_.return=x,_;Sp(x,_)}return null}function p(x,_,w,I){var N=_!==null?_.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:l(x,_,""+w,I);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case mp:return w.key===N?c(x,_,w,I):null;case hc:return w.key===N?u(x,_,w,I):null;case Fo:return N=w._init,p(x,_,N(w._payload),I)}if(Od(w)||ld(w))return N!==null?null:d(x,_,w,I,null);Sp(x,w)}return null}function m(x,_,w,I,N){if(typeof I=="string"&&I!==""||typeof I=="number")return x=x.get(w)||null,l(_,x,""+I,N);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case mp:return x=x.get(I.key===null?w:I.key)||null,c(_,x,I,N);case hc:return x=x.get(I.key===null?w:I.key)||null,u(_,x,I,N);case Fo:var R=I._init;return m(x,_,w,R(I._payload),N)}if(Od(I)||ld(I))return x=x.get(w)||null,d(_,x,I,N,null);Sp(_,I)}return null}function v(x,_,w,I){for(var N=null,R=null,S=_,E=_=0,C=null;S!==null&&E<w.length;E++){S.index>E?(C=S,S=null):C=S.sibling;var k=p(x,S,w[E],I);if(k===null){S===null&&(S=C);break}t&&S&&k.alternate===null&&e(x,S),_=i(k,_,E),R===null?N=k:R.sibling=k,R=k,S=C}if(E===w.length)return n(x,S),nn&&qa(x,E),N;if(S===null){for(;E<w.length;E++)S=h(x,w[E],I),S!==null&&(_=i(S,_,E),R===null?N=S:R.sibling=S,R=S);return nn&&qa(x,E),N}for(S=r(x,S);E<w.length;E++)C=m(S,x,E,w[E],I),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?E:C.key),_=i(C,_,E),R===null?N=C:R.sibling=C,R=C);return t&&S.forEach(function(A){return e(x,A)}),nn&&qa(x,E),N}function g(x,_,w,I){var N=ld(w);if(typeof N!="function")throw Error(pe(150));if(w=N.call(w),w==null)throw Error(pe(151));for(var R=N=null,S=_,E=_=0,C=null,k=w.next();S!==null&&!k.done;E++,k=w.next()){S.index>E?(C=S,S=null):C=S.sibling;var A=p(x,S,k.value,I);if(A===null){S===null&&(S=C);break}t&&S&&A.alternate===null&&e(x,S),_=i(A,_,E),R===null?N=A:R.sibling=A,R=A,S=C}if(k.done)return n(x,S),nn&&qa(x,E),N;if(S===null){for(;!k.done;E++,k=w.next())k=h(x,k.value,I),k!==null&&(_=i(k,_,E),R===null?N=k:R.sibling=k,R=k);return nn&&qa(x,E),N}for(S=r(x,S);!k.done;E++,k=w.next())k=m(S,x,E,k.value,I),k!==null&&(t&&k.alternate!==null&&S.delete(k.key===null?E:k.key),_=i(k,_,E),R===null?N=k:R.sibling=k,R=k);return t&&S.forEach(function(M){return e(x,M)}),nn&&qa(x,E),N}function b(x,_,w,I){if(typeof w=="object"&&w!==null&&w.type===fc&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case mp:e:{for(var N=w.key,R=_;R!==null;){if(R.key===N){if(N=w.type,N===fc){if(R.tag===7){n(x,R.sibling),_=s(R,w.props.children),_.return=x,x=_;break e}}else if(R.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Fo&&EE(N)===R.type){n(x,R.sibling),_=s(R,w.props),_.ref=fd(x,R,w),_.return=x,x=_;break e}n(x,R);break}else e(x,R);R=R.sibling}w.type===fc?(_=al(w.props.children,x.mode,I,w.key),_.return=x,x=_):(I=hm(w.type,w.key,w.props,null,x.mode,I),I.ref=fd(x,_,w),I.return=x,x=I)}return o(x);case hc:e:{for(R=w.key;_!==null;){if(_.key===R)if(_.tag===4&&_.stateNode.containerInfo===w.containerInfo&&_.stateNode.implementation===w.implementation){n(x,_.sibling),_=s(_,w.children||[]),_.return=x,x=_;break e}else{n(x,_);break}else e(x,_);_=_.sibling}_=j0(w,x.mode,I),_.return=x,x=_}return o(x);case Fo:return R=w._init,b(x,_,R(w._payload),I)}if(Od(w))return v(x,_,w,I);if(ld(w))return g(x,_,w,I);Sp(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,_!==null&&_.tag===6?(n(x,_.sibling),_=s(_,w),_.return=x,x=_):(n(x,_),_=D0(w,x.mode,I),_.return=x,x=_),o(x)):n(x,_)}return b}var Jc=MP(!0),OP=MP(!1),Qm=Ra(null),Xm=null,bc=null,aw=null;function lw(){aw=bc=Xm=null}function cw(t){var e=Qm.current;Jt(Qm),t._currentValue=e}function s_(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function jc(t,e){Xm=t,aw=bc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Vr=!0),t.firstContext=null)}function ks(t){var e=t._currentValue;if(aw!==t)if(t={context:t,memoizedValue:e,next:null},bc===null){if(Xm===null)throw Error(pe(308));bc=t,Xm.dependencies={lanes:0,firstContext:t}}else bc=bc.next=t;return e}var el=null;function uw(t){el===null?el=[t]:el.push(t)}function LP(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,uw(e)):(n.next=s.next,s.next=n),e.interleaved=n,co(t,r)}function co(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Vo=!1;function dw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $P(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function aa(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,xt&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,co(t,n)}return s=r.interleaved,s===null?(e.next=e,uw(r)):(e.next=s.next,s.next=e),r.interleaved=e,co(t,n)}function om(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Qb(t,n)}}function SE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Jm(t,e,n,r){var s=t.updateQueue;Vo=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,d=u=c=null,l=i;do{var p=l.lane,m=l.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,g=l;switch(p=e,m=n,g.tag){case 1:if(v=g.payload,typeof v=="function"){h=v.call(m,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,p=typeof v=="function"?v.call(m,h,p):v,p==null)break e;h=un({},h,p);break e;case 2:Vo=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else m={eventTime:m,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=h):d=d.next=m,o|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);vl|=o,t.lanes=o,t.memoizedState=h}}function IE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(pe(191,s));s.call(r)}}}var vf={},xi=Ra(vf),Ah=Ra(vf),Nh=Ra(vf);function tl(t){if(t===vf)throw Error(pe(174));return t}function hw(t,e){switch(qt(Nh,e),qt(Ah,t),qt(xi,vf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:$x(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=$x(e,t)}Jt(xi),qt(xi,e)}function Zc(){Jt(xi),Jt(Ah),Jt(Nh)}function FP(t){tl(Nh.current);var e=tl(xi.current),n=$x(e,t.type);e!==n&&(qt(Ah,t),qt(xi,n))}function fw(t){Ah.current===t&&(Jt(xi),Jt(Ah))}var an=Ra(0);function Zm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var I0=[];function pw(){for(var t=0;t<I0.length;t++)I0[t]._workInProgressVersionPrimary=null;I0.length=0}var am=To.ReactCurrentDispatcher,k0=To.ReactCurrentBatchConfig,gl=0,cn=null,Mn=null,Fn=null,eg=!1,Jd=!1,Dh=0,N3=0;function ar(){throw Error(pe(321))}function mw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Js(t[n],e[n]))return!1;return!0}function gw(t,e,n,r,s,i){if(gl=i,cn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,am.current=t===null||t.memoizedState===null?O3:L3,t=n(r,s),Jd){i=0;do{if(Jd=!1,Dh=0,25<=i)throw Error(pe(301));i+=1,Fn=Mn=null,e.updateQueue=null,am.current=$3,t=n(r,s)}while(Jd)}if(am.current=tg,e=Mn!==null&&Mn.next!==null,gl=0,Fn=Mn=cn=null,eg=!1,e)throw Error(pe(300));return t}function vw(){var t=Dh!==0;return Dh=0,t}function oi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fn===null?cn.memoizedState=Fn=t:Fn=Fn.next=t,Fn}function Rs(){if(Mn===null){var t=cn.alternate;t=t!==null?t.memoizedState:null}else t=Mn.next;var e=Fn===null?cn.memoizedState:Fn.next;if(e!==null)Fn=e,Mn=t;else{if(t===null)throw Error(pe(310));Mn=t,t={memoizedState:Mn.memoizedState,baseState:Mn.baseState,baseQueue:Mn.baseQueue,queue:Mn.queue,next:null},Fn===null?cn.memoizedState=Fn=t:Fn=Fn.next=t}return Fn}function jh(t,e){return typeof e=="function"?e(t):e}function R0(t){var e=Rs(),n=e.queue;if(n===null)throw Error(pe(311));n.lastRenderedReducer=t;var r=Mn,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((gl&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,cn.lanes|=d,vl|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,Js(r,e.memoizedState)||(Vr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,cn.lanes|=i,vl|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function P0(t){var e=Rs(),n=e.queue;if(n===null)throw Error(pe(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Js(i,e.memoizedState)||(Vr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function VP(){}function BP(t,e){var n=cn,r=Rs(),s=e(),i=!Js(r.memoizedState,s);if(i&&(r.memoizedState=s,Vr=!0),r=r.queue,yw(WP.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Fn!==null&&Fn.memoizedState.tag&1){if(n.flags|=2048,Mh(9,zP.bind(null,n,r,s,e),void 0,null),Un===null)throw Error(pe(349));gl&30||UP(n,e,s)}return s}function UP(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=cn.updateQueue,e===null?(e={lastEffect:null,stores:null},cn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function zP(t,e,n,r){e.value=n,e.getSnapshot=r,HP(e)&&qP(t)}function WP(t,e,n){return n(function(){HP(e)&&qP(t)})}function HP(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Js(t,n)}catch{return!0}}function qP(t){var e=co(t,1);e!==null&&Qs(e,t,1,-1)}function kE(t){var e=oi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jh,lastRenderedState:t},e.queue=t,t=t.dispatch=M3.bind(null,cn,t),[e.memoizedState,t]}function Mh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=cn.updateQueue,e===null?(e={lastEffect:null,stores:null},cn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function GP(){return Rs().memoizedState}function lm(t,e,n,r){var s=oi();cn.flags|=t,s.memoizedState=Mh(1|e,n,void 0,r===void 0?null:r)}function uv(t,e,n,r){var s=Rs();r=r===void 0?null:r;var i=void 0;if(Mn!==null){var o=Mn.memoizedState;if(i=o.destroy,r!==null&&mw(r,o.deps)){s.memoizedState=Mh(e,n,i,r);return}}cn.flags|=t,s.memoizedState=Mh(1|e,n,i,r)}function RE(t,e){return lm(8390656,8,t,e)}function yw(t,e){return uv(2048,8,t,e)}function YP(t,e){return uv(4,2,t,e)}function KP(t,e){return uv(4,4,t,e)}function QP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function XP(t,e,n){return n=n!=null?n.concat([t]):null,uv(4,4,QP.bind(null,e,t),n)}function xw(){}function JP(t,e){var n=Rs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&mw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ZP(t,e){var n=Rs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&mw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function eA(t,e,n){return gl&21?(Js(n,e)||(n=iP(),cn.lanes|=n,vl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Vr=!0),t.memoizedState=n)}function D3(t,e){var n=Dt;Dt=n!==0&&4>n?n:4,t(!0);var r=k0.transition;k0.transition={};try{t(!1),e()}finally{Dt=n,k0.transition=r}}function tA(){return Rs().memoizedState}function j3(t,e,n){var r=ca(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},nA(t))rA(e,n);else if(n=LP(t,e,n,r),n!==null){var s=Ir();Qs(n,t,r,s),sA(n,e,r)}}function M3(t,e,n){var r=ca(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(nA(t))rA(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Js(l,o)){var c=e.interleaved;c===null?(s.next=s,uw(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=LP(t,e,s,r),n!==null&&(s=Ir(),Qs(n,t,r,s),sA(n,e,r))}}function nA(t){var e=t.alternate;return t===cn||e!==null&&e===cn}function rA(t,e){Jd=eg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function sA(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Qb(t,n)}}var tg={readContext:ks,useCallback:ar,useContext:ar,useEffect:ar,useImperativeHandle:ar,useInsertionEffect:ar,useLayoutEffect:ar,useMemo:ar,useReducer:ar,useRef:ar,useState:ar,useDebugValue:ar,useDeferredValue:ar,useTransition:ar,useMutableSource:ar,useSyncExternalStore:ar,useId:ar,unstable_isNewReconciler:!1},O3={readContext:ks,useCallback:function(t,e){return oi().memoizedState=[t,e===void 0?null:e],t},useContext:ks,useEffect:RE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,lm(4194308,4,QP.bind(null,e,t),n)},useLayoutEffect:function(t,e){return lm(4194308,4,t,e)},useInsertionEffect:function(t,e){return lm(4,2,t,e)},useMemo:function(t,e){var n=oi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=oi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=j3.bind(null,cn,t),[r.memoizedState,t]},useRef:function(t){var e=oi();return t={current:t},e.memoizedState=t},useState:kE,useDebugValue:xw,useDeferredValue:function(t){return oi().memoizedState=t},useTransition:function(){var t=kE(!1),e=t[0];return t=D3.bind(null,t[1]),oi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=cn,s=oi();if(nn){if(n===void 0)throw Error(pe(407));n=n()}else{if(n=e(),Un===null)throw Error(pe(349));gl&30||UP(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,RE(WP.bind(null,r,i,t),[t]),r.flags|=2048,Mh(9,zP.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=oi(),e=Un.identifierPrefix;if(nn){var n=qi,r=Hi;n=(r&~(1<<32-Ks(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Dh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=N3++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},L3={readContext:ks,useCallback:JP,useContext:ks,useEffect:yw,useImperativeHandle:XP,useInsertionEffect:YP,useLayoutEffect:KP,useMemo:ZP,useReducer:R0,useRef:GP,useState:function(){return R0(jh)},useDebugValue:xw,useDeferredValue:function(t){var e=Rs();return eA(e,Mn.memoizedState,t)},useTransition:function(){var t=R0(jh)[0],e=Rs().memoizedState;return[t,e]},useMutableSource:VP,useSyncExternalStore:BP,useId:tA,unstable_isNewReconciler:!1},$3={readContext:ks,useCallback:JP,useContext:ks,useEffect:yw,useImperativeHandle:XP,useInsertionEffect:YP,useLayoutEffect:KP,useMemo:ZP,useReducer:P0,useRef:GP,useState:function(){return P0(jh)},useDebugValue:xw,useDeferredValue:function(t){var e=Rs();return Mn===null?e.memoizedState=t:eA(e,Mn.memoizedState,t)},useTransition:function(){var t=P0(jh)[0],e=Rs().memoizedState;return[t,e]},useMutableSource:VP,useSyncExternalStore:BP,useId:tA,unstable_isNewReconciler:!1};function Us(t,e){if(t&&t.defaultProps){e=un({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function i_(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:un({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var dv={isMounted:function(t){return(t=t._reactInternals)?Ll(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ir(),s=ca(t),i=Zi(r,s);i.payload=e,n!=null&&(i.callback=n),e=aa(t,i,s),e!==null&&(Qs(e,t,s,r),om(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ir(),s=ca(t),i=Zi(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=aa(t,i,s),e!==null&&(Qs(e,t,s,r),om(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ir(),r=ca(t),s=Zi(n,r);s.tag=2,e!=null&&(s.callback=e),e=aa(t,s,r),e!==null&&(Qs(e,t,r,n),om(e,t,r))}};function PE(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ih(n,r)||!Ih(s,i):!0}function iA(t,e,n){var r=!1,s=_a,i=e.contextType;return typeof i=="object"&&i!==null?i=ks(i):(s=zr(e)?pl:vr.current,r=e.contextTypes,i=(r=r!=null)?Qc(t,s):_a),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=dv,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function AE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&dv.enqueueReplaceState(e,e.state,null)}function o_(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},dw(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=ks(i):(i=zr(e)?pl:vr.current,s.context=Qc(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(i_(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&dv.enqueueReplaceState(s,s.state,null),Jm(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function eu(t,e){try{var n="",r=e;do n+=h$(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function A0(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function a_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var F3=typeof WeakMap=="function"?WeakMap:Map;function oA(t,e,n){n=Zi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){rg||(rg=!0,v_=r),a_(t,e)},n}function aA(t,e,n){n=Zi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){a_(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){a_(t,e),typeof r!="function"&&(la===null?la=new Set([this]):la.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function NE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new F3;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Z3.bind(null,t,e,n),e.then(t,t))}function DE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function jE(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Zi(-1,1),e.tag=2,aa(n,e,1))),n.lanes|=1),t)}var V3=To.ReactCurrentOwner,Vr=!1;function Tr(t,e,n,r){e.child=t===null?OP(e,null,n,r):Jc(e,t.child,n,r)}function ME(t,e,n,r,s){n=n.render;var i=e.ref;return jc(e,s),r=gw(t,e,n,r,i,s),n=vw(),t!==null&&!Vr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,uo(t,e,s)):(nn&&n&&sw(e),e.flags|=1,Tr(t,e,r,s),e.child)}function OE(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Iw(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,lA(t,e,i,r,s)):(t=hm(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ih,n(o,r)&&t.ref===e.ref)return uo(t,e,s)}return e.flags|=1,t=ua(i,r),t.ref=e.ref,t.return=e,e.child=t}function lA(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ih(i,r)&&t.ref===e.ref)if(Vr=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Vr=!0);else return e.lanes=t.lanes,uo(t,e,s)}return l_(t,e,n,r,s)}function cA(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qt(Cc,es),es|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,qt(Cc,es),es|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,qt(Cc,es),es|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,qt(Cc,es),es|=r;return Tr(t,e,s,n),e.child}function uA(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function l_(t,e,n,r,s){var i=zr(n)?pl:vr.current;return i=Qc(e,i),jc(e,s),n=gw(t,e,n,r,i,s),r=vw(),t!==null&&!Vr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,uo(t,e,s)):(nn&&r&&sw(e),e.flags|=1,Tr(t,e,n,s),e.child)}function LE(t,e,n,r,s){if(zr(n)){var i=!0;Gm(e)}else i=!1;if(jc(e,s),e.stateNode===null)cm(t,e),iA(e,n,r),o_(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ks(u):(u=zr(n)?pl:vr.current,u=Qc(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&AE(e,o,r,u),Vo=!1;var p=e.memoizedState;o.state=p,Jm(e,r,o,s),c=e.memoizedState,l!==r||p!==c||Ur.current||Vo?(typeof d=="function"&&(i_(e,n,d,r),c=e.memoizedState),(l=Vo||PE(e,n,l,r,p,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,$P(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Us(e.type,l),o.props=u,h=e.pendingProps,p=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=ks(c):(c=zr(n)?pl:vr.current,c=Qc(e,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||p!==c)&&AE(e,o,r,c),Vo=!1,p=e.memoizedState,o.state=p,Jm(e,r,o,s);var v=e.memoizedState;l!==h||p!==v||Ur.current||Vo?(typeof m=="function"&&(i_(e,n,m,r),v=e.memoizedState),(u=Vo||PE(e,n,u,r,p,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return c_(t,e,n,r,i,s)}function c_(t,e,n,r,s,i){uA(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&wE(e,n,!1),uo(t,e,i);r=e.stateNode,V3.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Jc(e,t.child,null,i),e.child=Jc(e,null,l,i)):Tr(t,e,l,i),e.memoizedState=r.state,s&&wE(e,n,!0),e.child}function dA(t){var e=t.stateNode;e.pendingContext?bE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&bE(t,e.context,!1),hw(t,e.containerInfo)}function $E(t,e,n,r,s){return Xc(),ow(s),e.flags|=256,Tr(t,e,n,r),e.child}var u_={dehydrated:null,treeContext:null,retryLane:0};function d_(t){return{baseLanes:t,cachePool:null,transitions:null}}function hA(t,e,n){var r=e.pendingProps,s=an.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),qt(an,s&1),t===null)return r_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=pv(o,r,0,null),t=al(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=d_(n),e.memoizedState=u_,t):_w(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return B3(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=ua(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=ua(l,i):(i=al(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?d_(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=u_,r}return i=t.child,t=i.sibling,r=ua(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function _w(t,e){return e=pv({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ip(t,e,n,r){return r!==null&&ow(r),Jc(e,t.child,null,n),t=_w(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function B3(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=A0(Error(pe(422))),Ip(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=pv({mode:"visible",children:r.children},s,0,null),i=al(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Jc(e,t.child,null,o),e.child.memoizedState=d_(o),e.memoizedState=u_,i);if(!(e.mode&1))return Ip(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(pe(419)),r=A0(i,r,void 0),Ip(t,e,o,r)}if(l=(o&t.childLanes)!==0,Vr||l){if(r=Un,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,co(t,s),Qs(r,t,s,-1))}return Sw(),r=A0(Error(pe(421))),Ip(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=e5.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,ns=oa(s.nextSibling),is=e,nn=!0,Ws=null,t!==null&&(_s[bs++]=Hi,_s[bs++]=qi,_s[bs++]=ml,Hi=t.id,qi=t.overflow,ml=e),e=_w(e,r.children),e.flags|=4096,e)}function FE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),s_(t.return,e,n)}function N0(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function fA(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Tr(t,e,r.children,n),r=an.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&FE(t,n,e);else if(t.tag===19)FE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(qt(an,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Zm(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),N0(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Zm(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}N0(e,!0,n,null,i);break;case"together":N0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function cm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function uo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),vl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(pe(153));if(e.child!==null){for(t=e.child,n=ua(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ua(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function U3(t,e,n){switch(e.tag){case 3:dA(e),Xc();break;case 5:FP(e);break;case 1:zr(e.type)&&Gm(e);break;case 4:hw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;qt(Qm,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(qt(an,an.current&1),e.flags|=128,null):n&e.child.childLanes?hA(t,e,n):(qt(an,an.current&1),t=uo(t,e,n),t!==null?t.sibling:null);qt(an,an.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return fA(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),qt(an,an.current),r)break;return null;case 22:case 23:return e.lanes=0,cA(t,e,n)}return uo(t,e,n)}var pA,h_,mA,gA;pA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};h_=function(){};mA=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,tl(xi.current);var i=null;switch(n){case"input":s=jx(t,s),r=jx(t,r),i=[];break;case"select":s=un({},s,{value:void 0}),r=un({},r,{value:void 0}),i=[];break;case"textarea":s=Lx(t,s),r=Lx(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Hm)}Fx(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(_h.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(_h.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Yt("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};gA=function(t,e,n,r){n!==r&&(e.flags|=4)};function pd(t,e){if(!nn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function lr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function z3(t,e,n){var r=e.pendingProps;switch(iw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lr(e),null;case 1:return zr(e.type)&&qm(),lr(e),null;case 3:return r=e.stateNode,Zc(),Jt(Ur),Jt(vr),pw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ep(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ws!==null&&(__(Ws),Ws=null))),h_(t,e),lr(e),null;case 5:fw(e);var s=tl(Nh.current);if(n=e.type,t!==null&&e.stateNode!=null)mA(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(pe(166));return lr(e),null}if(t=tl(xi.current),Ep(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ci]=e,r[Ph]=i,t=(e.mode&1)!==0,n){case"dialog":Yt("cancel",r),Yt("close",r);break;case"iframe":case"object":case"embed":Yt("load",r);break;case"video":case"audio":for(s=0;s<$d.length;s++)Yt($d[s],r);break;case"source":Yt("error",r);break;case"img":case"image":case"link":Yt("error",r),Yt("load",r);break;case"details":Yt("toggle",r);break;case"input":YT(r,i),Yt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Yt("invalid",r);break;case"textarea":QT(r,i),Yt("invalid",r)}Fx(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Tp(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Tp(r.textContent,l,t),s=["children",""+l]):_h.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Yt("scroll",r)}switch(n){case"input":gp(r),KT(r,i,!0);break;case"textarea":gp(r),XT(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Hm)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=WR(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ci]=e,t[Ph]=r,pA(t,e,!1,!1),e.stateNode=t;e:{switch(o=Vx(n,r),n){case"dialog":Yt("cancel",t),Yt("close",t),s=r;break;case"iframe":case"object":case"embed":Yt("load",t),s=r;break;case"video":case"audio":for(s=0;s<$d.length;s++)Yt($d[s],t);s=r;break;case"source":Yt("error",t),s=r;break;case"img":case"image":case"link":Yt("error",t),Yt("load",t),s=r;break;case"details":Yt("toggle",t),s=r;break;case"input":YT(t,r),s=jx(t,r),Yt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=un({},r,{value:void 0}),Yt("invalid",t);break;case"textarea":QT(t,r),s=Lx(t,r),Yt("invalid",t);break;default:s=r}Fx(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?GR(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&HR(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&bh(t,c):typeof c=="number"&&bh(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(_h.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Yt("scroll",t):c!=null&&Wb(t,i,c,o))}switch(n){case"input":gp(t),KT(t,r,!1);break;case"textarea":gp(t),XT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+xa(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Pc(t,!!r.multiple,i,!1):r.defaultValue!=null&&Pc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Hm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return lr(e),null;case 6:if(t&&e.stateNode!=null)gA(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(pe(166));if(n=tl(Nh.current),tl(xi.current),Ep(e)){if(r=e.stateNode,n=e.memoizedProps,r[ci]=e,(i=r.nodeValue!==n)&&(t=is,t!==null))switch(t.tag){case 3:Tp(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Tp(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ci]=e,e.stateNode=r}return lr(e),null;case 13:if(Jt(an),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(nn&&ns!==null&&e.mode&1&&!(e.flags&128))jP(),Xc(),e.flags|=98560,i=!1;else if(i=Ep(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(pe(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(pe(317));i[ci]=e}else Xc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;lr(e),i=!1}else Ws!==null&&(__(Ws),Ws=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||an.current&1?On===0&&(On=3):Sw())),e.updateQueue!==null&&(e.flags|=4),lr(e),null);case 4:return Zc(),h_(t,e),t===null&&kh(e.stateNode.containerInfo),lr(e),null;case 10:return cw(e.type._context),lr(e),null;case 17:return zr(e.type)&&qm(),lr(e),null;case 19:if(Jt(an),i=e.memoizedState,i===null)return lr(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)pd(i,!1);else{if(On!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Zm(t),o!==null){for(e.flags|=128,pd(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return qt(an,an.current&1|2),e.child}t=t.sibling}i.tail!==null&&Cn()>tu&&(e.flags|=128,r=!0,pd(i,!1),e.lanes=4194304)}else{if(!r)if(t=Zm(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),pd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!nn)return lr(e),null}else 2*Cn()-i.renderingStartTime>tu&&n!==1073741824&&(e.flags|=128,r=!0,pd(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Cn(),e.sibling=null,n=an.current,qt(an,r?n&1|2:n&1),e):(lr(e),null);case 22:case 23:return Ew(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?es&1073741824&&(lr(e),e.subtreeFlags&6&&(e.flags|=8192)):lr(e),null;case 24:return null;case 25:return null}throw Error(pe(156,e.tag))}function W3(t,e){switch(iw(e),e.tag){case 1:return zr(e.type)&&qm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Zc(),Jt(Ur),Jt(vr),pw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return fw(e),null;case 13:if(Jt(an),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(pe(340));Xc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Jt(an),null;case 4:return Zc(),null;case 10:return cw(e.type._context),null;case 22:case 23:return Ew(),null;case 24:return null;default:return null}}var kp=!1,dr=!1,H3=typeof WeakSet=="function"?WeakSet:Set,De=null;function wc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){mn(t,e,r)}else n.current=null}function f_(t,e,n){try{n()}catch(r){mn(t,e,r)}}var VE=!1;function q3(t,e){if(Qx=Um,t=bP(),rw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=t,p=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===t)break t;if(p===n&&++u===s&&(l=o),p===i&&++d===r&&(c=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xx={focusedElem:t,selectionRange:n},Um=!1,De=e;De!==null;)if(e=De,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,De=t;else for(;De!==null;){e=De;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,b=v.memoizedState,x=e.stateNode,_=x.getSnapshotBeforeUpdate(e.elementType===e.type?g:Us(e.type,g),b);x.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(pe(163))}}catch(I){mn(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,De=t;break}De=e.return}return v=VE,VE=!1,v}function Zd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&f_(e,n,i)}s=s.next}while(s!==r)}}function hv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function p_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function vA(t){var e=t.alternate;e!==null&&(t.alternate=null,vA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ci],delete e[Ph],delete e[e_],delete e[k3],delete e[R3])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function yA(t){return t.tag===5||t.tag===3||t.tag===4}function BE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||yA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function m_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Hm));else if(r!==4&&(t=t.child,t!==null))for(m_(t,e,n),t=t.sibling;t!==null;)m_(t,e,n),t=t.sibling}function g_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(g_(t,e,n),t=t.sibling;t!==null;)g_(t,e,n),t=t.sibling}var Yn=null,zs=!1;function jo(t,e,n){for(n=n.child;n!==null;)xA(t,e,n),n=n.sibling}function xA(t,e,n){if(yi&&typeof yi.onCommitFiberUnmount=="function")try{yi.onCommitFiberUnmount(sv,n)}catch{}switch(n.tag){case 5:dr||wc(n,e);case 6:var r=Yn,s=zs;Yn=null,jo(t,e,n),Yn=r,zs=s,Yn!==null&&(zs?(t=Yn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Yn.removeChild(n.stateNode));break;case 18:Yn!==null&&(zs?(t=Yn,n=n.stateNode,t.nodeType===8?E0(t.parentNode,n):t.nodeType===1&&E0(t,n),Eh(t)):E0(Yn,n.stateNode));break;case 4:r=Yn,s=zs,Yn=n.stateNode.containerInfo,zs=!0,jo(t,e,n),Yn=r,zs=s;break;case 0:case 11:case 14:case 15:if(!dr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&f_(n,e,o),s=s.next}while(s!==r)}jo(t,e,n);break;case 1:if(!dr&&(wc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){mn(n,e,l)}jo(t,e,n);break;case 21:jo(t,e,n);break;case 22:n.mode&1?(dr=(r=dr)||n.memoizedState!==null,jo(t,e,n),dr=r):jo(t,e,n);break;default:jo(t,e,n)}}function UE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new H3),e.forEach(function(r){var s=t5.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Bs(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Yn=l.stateNode,zs=!1;break e;case 3:Yn=l.stateNode.containerInfo,zs=!0;break e;case 4:Yn=l.stateNode.containerInfo,zs=!0;break e}l=l.return}if(Yn===null)throw Error(pe(160));xA(i,o,s),Yn=null,zs=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){mn(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_A(e,t),e=e.sibling}function _A(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Bs(e,t),ii(t),r&4){try{Zd(3,t,t.return),hv(3,t)}catch(g){mn(t,t.return,g)}try{Zd(5,t,t.return)}catch(g){mn(t,t.return,g)}}break;case 1:Bs(e,t),ii(t),r&512&&n!==null&&wc(n,n.return);break;case 5:if(Bs(e,t),ii(t),r&512&&n!==null&&wc(n,n.return),t.flags&32){var s=t.stateNode;try{bh(s,"")}catch(g){mn(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&UR(s,i),Vx(l,o);var u=Vx(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?GR(s,h):d==="dangerouslySetInnerHTML"?HR(s,h):d==="children"?bh(s,h):Wb(s,d,h,u)}switch(l){case"input":Mx(s,i);break;case"textarea":zR(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Pc(s,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?Pc(s,!!i.multiple,i.defaultValue,!0):Pc(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ph]=i}catch(g){mn(t,t.return,g)}}break;case 6:if(Bs(e,t),ii(t),r&4){if(t.stateNode===null)throw Error(pe(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){mn(t,t.return,g)}}break;case 3:if(Bs(e,t),ii(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Eh(e.containerInfo)}catch(g){mn(t,t.return,g)}break;case 4:Bs(e,t),ii(t);break;case 13:Bs(e,t),ii(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Cw=Cn())),r&4&&UE(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(dr=(u=dr)||d,Bs(e,t),dr=u):Bs(e,t),ii(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(De=t,d=t.child;d!==null;){for(h=De=d;De!==null;){switch(p=De,m=p.child,p.tag){case 0:case 11:case 14:case 15:Zd(4,p,p.return);break;case 1:wc(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(g){mn(r,n,g)}}break;case 5:wc(p,p.return);break;case 22:if(p.memoizedState!==null){WE(h);continue}}m!==null?(m.return=p,De=m):WE(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=qR("display",o))}catch(g){mn(t,t.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){mn(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Bs(e,t),ii(t),r&4&&UE(t);break;case 21:break;default:Bs(e,t),ii(t)}}function ii(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(yA(n)){var r=n;break e}n=n.return}throw Error(pe(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(bh(s,""),r.flags&=-33);var i=BE(t);g_(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=BE(t);m_(t,l,o);break;default:throw Error(pe(161))}}catch(c){mn(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function G3(t,e,n){De=t,bA(t)}function bA(t,e,n){for(var r=(t.mode&1)!==0;De!==null;){var s=De,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||kp;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||dr;l=kp;var u=dr;if(kp=o,(dr=c)&&!u)for(De=s;De!==null;)o=De,c=o.child,o.tag===22&&o.memoizedState!==null?HE(s):c!==null?(c.return=o,De=c):HE(s);for(;i!==null;)De=i,bA(i),i=i.sibling;De=s,kp=l,dr=u}zE(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,De=i):zE(t)}}function zE(t){for(;De!==null;){var e=De;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:dr||hv(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!dr)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Us(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&IE(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}IE(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Eh(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(pe(163))}dr||e.flags&512&&p_(e)}catch(p){mn(e,e.return,p)}}if(e===t){De=null;break}if(n=e.sibling,n!==null){n.return=e.return,De=n;break}De=e.return}}function WE(t){for(;De!==null;){var e=De;if(e===t){De=null;break}var n=e.sibling;if(n!==null){n.return=e.return,De=n;break}De=e.return}}function HE(t){for(;De!==null;){var e=De;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{hv(4,e)}catch(c){mn(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){mn(e,s,c)}}var i=e.return;try{p_(e)}catch(c){mn(e,i,c)}break;case 5:var o=e.return;try{p_(e)}catch(c){mn(e,o,c)}}}catch(c){mn(e,e.return,c)}if(e===t){De=null;break}var l=e.sibling;if(l!==null){l.return=e.return,De=l;break}De=e.return}}var Y3=Math.ceil,ng=To.ReactCurrentDispatcher,bw=To.ReactCurrentOwner,Es=To.ReactCurrentBatchConfig,xt=0,Un=null,An=null,er=0,es=0,Cc=Ra(0),On=0,Oh=null,vl=0,fv=0,ww=0,eh=null,Lr=null,Cw=0,tu=1/0,Bi=null,rg=!1,v_=null,la=null,Rp=!1,Qo=null,sg=0,th=0,y_=null,um=-1,dm=0;function Ir(){return xt&6?Cn():um!==-1?um:um=Cn()}function ca(t){return t.mode&1?xt&2&&er!==0?er&-er:A3.transition!==null?(dm===0&&(dm=iP()),dm):(t=Dt,t!==0||(t=window.event,t=t===void 0?16:hP(t.type)),t):1}function Qs(t,e,n,r){if(50<th)throw th=0,y_=null,Error(pe(185));pf(t,n,r),(!(xt&2)||t!==Un)&&(t===Un&&(!(xt&2)&&(fv|=n),On===4&&Uo(t,er)),Wr(t,r),n===1&&xt===0&&!(e.mode&1)&&(tu=Cn()+500,cv&&Pa()))}function Wr(t,e){var n=t.callbackNode;A$(t,e);var r=Bm(t,t===Un?er:0);if(r===0)n!==null&&eE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&eE(n),e===1)t.tag===0?P3(qE.bind(null,t)):AP(qE.bind(null,t)),S3(function(){!(xt&6)&&Pa()}),n=null;else{switch(oP(r)){case 1:n=Kb;break;case 4:n=rP;break;case 16:n=Vm;break;case 536870912:n=sP;break;default:n=Vm}n=RA(n,wA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function wA(t,e){if(um=-1,dm=0,xt&6)throw Error(pe(327));var n=t.callbackNode;if(Mc()&&t.callbackNode!==n)return null;var r=Bm(t,t===Un?er:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ig(t,r);else{e=r;var s=xt;xt|=2;var i=TA();(Un!==t||er!==e)&&(Bi=null,tu=Cn()+500,ol(t,e));do try{X3();break}catch(l){CA(t,l)}while(!0);lw(),ng.current=i,xt=s,An!==null?e=0:(Un=null,er=0,e=On)}if(e!==0){if(e===2&&(s=Hx(t),s!==0&&(r=s,e=x_(t,s))),e===1)throw n=Oh,ol(t,0),Uo(t,r),Wr(t,Cn()),n;if(e===6)Uo(t,r);else{if(s=t.current.alternate,!(r&30)&&!K3(s)&&(e=ig(t,r),e===2&&(i=Hx(t),i!==0&&(r=i,e=x_(t,i))),e===1))throw n=Oh,ol(t,0),Uo(t,r),Wr(t,Cn()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(pe(345));case 2:Ga(t,Lr,Bi);break;case 3:if(Uo(t,r),(r&130023424)===r&&(e=Cw+500-Cn(),10<e)){if(Bm(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ir(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Zx(Ga.bind(null,t,Lr,Bi),e);break}Ga(t,Lr,Bi);break;case 4:if(Uo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Ks(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Cn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Y3(r/1960))-r,10<r){t.timeoutHandle=Zx(Ga.bind(null,t,Lr,Bi),r);break}Ga(t,Lr,Bi);break;case 5:Ga(t,Lr,Bi);break;default:throw Error(pe(329))}}}return Wr(t,Cn()),t.callbackNode===n?wA.bind(null,t):null}function x_(t,e){var n=eh;return t.current.memoizedState.isDehydrated&&(ol(t,e).flags|=256),t=ig(t,e),t!==2&&(e=Lr,Lr=n,e!==null&&__(e)),t}function __(t){Lr===null?Lr=t:Lr.push.apply(Lr,t)}function K3(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Js(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Uo(t,e){for(e&=~ww,e&=~fv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ks(e),r=1<<n;t[n]=-1,e&=~r}}function qE(t){if(xt&6)throw Error(pe(327));Mc();var e=Bm(t,0);if(!(e&1))return Wr(t,Cn()),null;var n=ig(t,e);if(t.tag!==0&&n===2){var r=Hx(t);r!==0&&(e=r,n=x_(t,r))}if(n===1)throw n=Oh,ol(t,0),Uo(t,e),Wr(t,Cn()),n;if(n===6)throw Error(pe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ga(t,Lr,Bi),Wr(t,Cn()),null}function Tw(t,e){var n=xt;xt|=1;try{return t(e)}finally{xt=n,xt===0&&(tu=Cn()+500,cv&&Pa())}}function yl(t){Qo!==null&&Qo.tag===0&&!(xt&6)&&Mc();var e=xt;xt|=1;var n=Es.transition,r=Dt;try{if(Es.transition=null,Dt=1,t)return t()}finally{Dt=r,Es.transition=n,xt=e,!(xt&6)&&Pa()}}function Ew(){es=Cc.current,Jt(Cc)}function ol(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,E3(n)),An!==null)for(n=An.return;n!==null;){var r=n;switch(iw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&qm();break;case 3:Zc(),Jt(Ur),Jt(vr),pw();break;case 5:fw(r);break;case 4:Zc();break;case 13:Jt(an);break;case 19:Jt(an);break;case 10:cw(r.type._context);break;case 22:case 23:Ew()}n=n.return}if(Un=t,An=t=ua(t.current,null),er=es=e,On=0,Oh=null,ww=fv=vl=0,Lr=eh=null,el!==null){for(e=0;e<el.length;e++)if(n=el[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}el=null}return t}function CA(t,e){do{var n=An;try{if(lw(),am.current=tg,eg){for(var r=cn.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}eg=!1}if(gl=0,Fn=Mn=cn=null,Jd=!1,Dh=0,bw.current=null,n===null||n.return===null){On=1,Oh=e,An=null;break}e:{var i=t,o=n.return,l=n,c=e;if(e=er,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=DE(o);if(m!==null){m.flags&=-257,jE(m,o,l,i,e),m.mode&1&&NE(i,u,e),e=m,c=u;var v=e.updateQueue;if(v===null){var g=new Set;g.add(c),e.updateQueue=g}else v.add(c);break e}else{if(!(e&1)){NE(i,u,e),Sw();break e}c=Error(pe(426))}}else if(nn&&l.mode&1){var b=DE(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),jE(b,o,l,i,e),ow(eu(c,l));break e}}i=c=eu(c,l),On!==4&&(On=2),eh===null?eh=[i]:eh.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=oA(i,c,e);SE(i,x);break e;case 1:l=c;var _=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(la===null||!la.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var I=aA(i,l,e);SE(i,I);break e}}i=i.return}while(i!==null)}SA(n)}catch(N){e=N,An===n&&n!==null&&(An=n=n.return);continue}break}while(!0)}function TA(){var t=ng.current;return ng.current=tg,t===null?tg:t}function Sw(){(On===0||On===3||On===2)&&(On=4),Un===null||!(vl&268435455)&&!(fv&268435455)||Uo(Un,er)}function ig(t,e){var n=xt;xt|=2;var r=TA();(Un!==t||er!==e)&&(Bi=null,ol(t,e));do try{Q3();break}catch(s){CA(t,s)}while(!0);if(lw(),xt=n,ng.current=r,An!==null)throw Error(pe(261));return Un=null,er=0,On}function Q3(){for(;An!==null;)EA(An)}function X3(){for(;An!==null&&!w$();)EA(An)}function EA(t){var e=kA(t.alternate,t,es);t.memoizedProps=t.pendingProps,e===null?SA(t):An=e,bw.current=null}function SA(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=W3(n,e),n!==null){n.flags&=32767,An=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{On=6,An=null;return}}else if(n=z3(n,e,es),n!==null){An=n;return}if(e=e.sibling,e!==null){An=e;return}An=e=t}while(e!==null);On===0&&(On=5)}function Ga(t,e,n){var r=Dt,s=Es.transition;try{Es.transition=null,Dt=1,J3(t,e,n,r)}finally{Es.transition=s,Dt=r}return null}function J3(t,e,n,r){do Mc();while(Qo!==null);if(xt&6)throw Error(pe(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(pe(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(N$(t,i),t===Un&&(An=Un=null,er=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Rp||(Rp=!0,RA(Vm,function(){return Mc(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Es.transition,Es.transition=null;var o=Dt;Dt=1;var l=xt;xt|=4,bw.current=null,q3(t,n),_A(n,t),y3(Xx),Um=!!Qx,Xx=Qx=null,t.current=n,G3(n),C$(),xt=l,Dt=o,Es.transition=i}else t.current=n;if(Rp&&(Rp=!1,Qo=t,sg=s),i=t.pendingLanes,i===0&&(la=null),S$(n.stateNode),Wr(t,Cn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(rg)throw rg=!1,t=v_,v_=null,t;return sg&1&&t.tag!==0&&Mc(),i=t.pendingLanes,i&1?t===y_?th++:(th=0,y_=t):th=0,Pa(),null}function Mc(){if(Qo!==null){var t=oP(sg),e=Es.transition,n=Dt;try{if(Es.transition=null,Dt=16>t?16:t,Qo===null)var r=!1;else{if(t=Qo,Qo=null,sg=0,xt&6)throw Error(pe(331));var s=xt;for(xt|=4,De=t.current;De!==null;){var i=De,o=i.child;if(De.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(De=u;De!==null;){var d=De;switch(d.tag){case 0:case 11:case 15:Zd(8,d,i)}var h=d.child;if(h!==null)h.return=d,De=h;else for(;De!==null;){d=De;var p=d.sibling,m=d.return;if(vA(d),d===u){De=null;break}if(p!==null){p.return=m,De=p;break}De=m}}}var v=i.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}De=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,De=o;else e:for(;De!==null;){if(i=De,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Zd(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,De=x;break e}De=i.return}}var _=t.current;for(De=_;De!==null;){o=De;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,De=w;else e:for(o=_;De!==null;){if(l=De,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:hv(9,l)}}catch(N){mn(l,l.return,N)}if(l===o){De=null;break e}var I=l.sibling;if(I!==null){I.return=l.return,De=I;break e}De=l.return}}if(xt=s,Pa(),yi&&typeof yi.onPostCommitFiberRoot=="function")try{yi.onPostCommitFiberRoot(sv,t)}catch{}r=!0}return r}finally{Dt=n,Es.transition=e}}return!1}function GE(t,e,n){e=eu(n,e),e=oA(t,e,1),t=aa(t,e,1),e=Ir(),t!==null&&(pf(t,1,e),Wr(t,e))}function mn(t,e,n){if(t.tag===3)GE(t,t,n);else for(;e!==null;){if(e.tag===3){GE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(la===null||!la.has(r))){t=eu(n,t),t=aA(e,t,1),e=aa(e,t,1),t=Ir(),e!==null&&(pf(e,1,t),Wr(e,t));break}}e=e.return}}function Z3(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ir(),t.pingedLanes|=t.suspendedLanes&n,Un===t&&(er&n)===n&&(On===4||On===3&&(er&130023424)===er&&500>Cn()-Cw?ol(t,0):ww|=n),Wr(t,e)}function IA(t,e){e===0&&(t.mode&1?(e=xp,xp<<=1,!(xp&130023424)&&(xp=4194304)):e=1);var n=Ir();t=co(t,e),t!==null&&(pf(t,e,n),Wr(t,n))}function e5(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),IA(t,n)}function t5(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(pe(314))}r!==null&&r.delete(e),IA(t,n)}var kA;kA=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ur.current)Vr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Vr=!1,U3(t,e,n);Vr=!!(t.flags&131072)}else Vr=!1,nn&&e.flags&1048576&&NP(e,Km,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;cm(t,e),t=e.pendingProps;var s=Qc(e,vr.current);jc(e,n),s=gw(null,e,r,t,s,n);var i=vw();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zr(r)?(i=!0,Gm(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,dw(e),s.updater=dv,e.stateNode=s,s._reactInternals=e,o_(e,r,t,n),e=c_(null,e,r,!0,i,n)):(e.tag=0,nn&&i&&sw(e),Tr(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(cm(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=r5(r),t=Us(r,t),s){case 0:e=l_(null,e,r,t,n);break e;case 1:e=LE(null,e,r,t,n);break e;case 11:e=ME(null,e,r,t,n);break e;case 14:e=OE(null,e,r,Us(r.type,t),n);break e}throw Error(pe(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Us(r,s),l_(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Us(r,s),LE(t,e,r,s,n);case 3:e:{if(dA(e),t===null)throw Error(pe(387));r=e.pendingProps,i=e.memoizedState,s=i.element,$P(t,e),Jm(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=eu(Error(pe(423)),e),e=$E(t,e,r,n,s);break e}else if(r!==s){s=eu(Error(pe(424)),e),e=$E(t,e,r,n,s);break e}else for(ns=oa(e.stateNode.containerInfo.firstChild),is=e,nn=!0,Ws=null,n=OP(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xc(),r===s){e=uo(t,e,n);break e}Tr(t,e,r,n)}e=e.child}return e;case 5:return FP(e),t===null&&r_(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Jx(r,s)?o=null:i!==null&&Jx(r,i)&&(e.flags|=32),uA(t,e),Tr(t,e,o,n),e.child;case 6:return t===null&&r_(e),null;case 13:return hA(t,e,n);case 4:return hw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Jc(e,null,r,n):Tr(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Us(r,s),ME(t,e,r,s,n);case 7:return Tr(t,e,e.pendingProps,n),e.child;case 8:return Tr(t,e,e.pendingProps.children,n),e.child;case 12:return Tr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,qt(Qm,r._currentValue),r._currentValue=o,i!==null)if(Js(i.value,o)){if(i.children===s.children&&!Ur.current){e=uo(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Zi(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),s_(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(pe(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),s_(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Tr(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,jc(e,n),s=ks(s),r=r(s),e.flags|=1,Tr(t,e,r,n),e.child;case 14:return r=e.type,s=Us(r,e.pendingProps),s=Us(r.type,s),OE(t,e,r,s,n);case 15:return lA(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Us(r,s),cm(t,e),e.tag=1,zr(r)?(t=!0,Gm(e)):t=!1,jc(e,n),iA(e,r,s),o_(e,r,s,n),c_(null,e,r,!0,t,n);case 19:return fA(t,e,n);case 22:return cA(t,e,n)}throw Error(pe(156,e.tag))};function RA(t,e){return nP(t,e)}function n5(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cs(t,e,n,r){return new n5(t,e,n,r)}function Iw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function r5(t){if(typeof t=="function")return Iw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===qb)return 11;if(t===Gb)return 14}return 2}function ua(t,e){var n=t.alternate;return n===null?(n=Cs(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function hm(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Iw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case fc:return al(n.children,s,i,e);case Hb:o=8,s|=8;break;case Px:return t=Cs(12,n,e,s|2),t.elementType=Px,t.lanes=i,t;case Ax:return t=Cs(13,n,e,s),t.elementType=Ax,t.lanes=i,t;case Nx:return t=Cs(19,n,e,s),t.elementType=Nx,t.lanes=i,t;case FR:return pv(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case LR:o=10;break e;case $R:o=9;break e;case qb:o=11;break e;case Gb:o=14;break e;case Fo:o=16,r=null;break e}throw Error(pe(130,t==null?t:typeof t,""))}return e=Cs(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function al(t,e,n,r){return t=Cs(7,t,r,e),t.lanes=n,t}function pv(t,e,n,r){return t=Cs(22,t,r,e),t.elementType=FR,t.lanes=n,t.stateNode={isHidden:!1},t}function D0(t,e,n){return t=Cs(6,t,null,e),t.lanes=n,t}function j0(t,e,n){return e=Cs(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function s5(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=p0(0),this.expirationTimes=p0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=p0(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function kw(t,e,n,r,s,i,o,l,c){return t=new s5(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Cs(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},dw(i),t}function i5(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function PA(t){if(!t)return _a;t=t._reactInternals;e:{if(Ll(t)!==t||t.tag!==1)throw Error(pe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(pe(171))}if(t.tag===1){var n=t.type;if(zr(n))return PP(t,n,e)}return e}function AA(t,e,n,r,s,i,o,l,c){return t=kw(n,r,!0,t,s,i,o,l,c),t.context=PA(null),n=t.current,r=Ir(),s=ca(n),i=Zi(r,s),i.callback=e??null,aa(n,i,s),t.current.lanes=s,pf(t,s,r),Wr(t,r),t}function mv(t,e,n,r){var s=e.current,i=Ir(),o=ca(s);return n=PA(n),e.context===null?e.context=n:e.pendingContext=n,e=Zi(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=aa(s,e,o),t!==null&&(Qs(t,s,o,i),om(t,s,o)),o}function og(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function YE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Rw(t,e){YE(t,e),(t=t.alternate)&&YE(t,e)}function o5(){return null}var NA=typeof reportError=="function"?reportError:function(t){console.error(t)};function Pw(t){this._internalRoot=t}gv.prototype.render=Pw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(pe(409));mv(t,e,null,null)};gv.prototype.unmount=Pw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;yl(function(){mv(null,t,null,null)}),e[lo]=null}};function gv(t){this._internalRoot=t}gv.prototype.unstable_scheduleHydration=function(t){if(t){var e=cP();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Bo.length&&e!==0&&e<Bo[n].priority;n++);Bo.splice(n,0,t),n===0&&dP(t)}};function Aw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function vv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function KE(){}function a5(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=og(o);i.call(u)}}var o=AA(e,r,t,0,null,!1,!1,"",KE);return t._reactRootContainer=o,t[lo]=o.current,kh(t.nodeType===8?t.parentNode:t),yl(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=og(c);l.call(u)}}var c=kw(t,0,!1,null,null,!1,!1,"",KE);return t._reactRootContainer=c,t[lo]=c.current,kh(t.nodeType===8?t.parentNode:t),yl(function(){mv(e,c,n,r)}),c}function yv(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=og(o);l.call(c)}}mv(e,o,t,s)}else o=a5(n,e,t,s,r);return og(o)}aP=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ld(e.pendingLanes);n!==0&&(Qb(e,n|1),Wr(e,Cn()),!(xt&6)&&(tu=Cn()+500,Pa()))}break;case 13:yl(function(){var r=co(t,1);if(r!==null){var s=Ir();Qs(r,t,1,s)}}),Rw(t,1)}};Xb=function(t){if(t.tag===13){var e=co(t,134217728);if(e!==null){var n=Ir();Qs(e,t,134217728,n)}Rw(t,134217728)}};lP=function(t){if(t.tag===13){var e=ca(t),n=co(t,e);if(n!==null){var r=Ir();Qs(n,t,e,r)}Rw(t,e)}};cP=function(){return Dt};uP=function(t,e){var n=Dt;try{return Dt=t,e()}finally{Dt=n}};Ux=function(t,e,n){switch(e){case"input":if(Mx(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=lv(r);if(!s)throw Error(pe(90));BR(r),Mx(r,s)}}}break;case"textarea":zR(t,n);break;case"select":e=n.value,e!=null&&Pc(t,!!n.multiple,e,!1)}};QR=Tw;XR=yl;var l5={usingClientEntryPoint:!1,Events:[gf,vc,lv,YR,KR,Tw]},md={findFiberByHostInstance:Za,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},c5={bundleType:md.bundleType,version:md.version,rendererPackageName:md.rendererPackageName,rendererConfig:md.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:To.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=eP(t),t===null?null:t.stateNode},findFiberByHostInstance:md.findFiberByHostInstance||o5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pp.isDisabled&&Pp.supportsFiber)try{sv=Pp.inject(c5),yi=Pp}catch{}}hs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l5;hs.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Aw(e))throw Error(pe(200));return i5(t,e,null,n)};hs.createRoot=function(t,e){if(!Aw(t))throw Error(pe(299));var n=!1,r="",s=NA;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=kw(t,1,!1,null,null,n,!1,r,s),t[lo]=e.current,kh(t.nodeType===8?t.parentNode:t),new Pw(e)};hs.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(pe(188)):(t=Object.keys(t).join(","),Error(pe(268,t)));return t=eP(e),t=t===null?null:t.stateNode,t};hs.flushSync=function(t){return yl(t)};hs.hydrate=function(t,e,n){if(!vv(e))throw Error(pe(200));return yv(null,t,e,!0,n)};hs.hydrateRoot=function(t,e,n){if(!Aw(t))throw Error(pe(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=NA;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=AA(e,null,t,1,n??null,s,!1,i,o),t[lo]=e.current,kh(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new gv(e)};hs.render=function(t,e,n){if(!vv(e))throw Error(pe(200));return yv(null,t,e,!1,n)};hs.unmountComponentAtNode=function(t){if(!vv(t))throw Error(pe(40));return t._reactRootContainer?(yl(function(){yv(null,null,t,!1,function(){t._reactRootContainer=null,t[lo]=null})}),!0):!1};hs.unstable_batchedUpdates=Tw;hs.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!vv(n))throw Error(pe(200));if(t==null||t._reactInternals===void 0)throw Error(pe(38));return yv(t,e,n,!1,r)};hs.version="18.3.1-next-f1338f8080-20240426";function DA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(DA)}catch(t){console.error(t)}}DA(),DR.exports=hs;var Nw=DR.exports;const Ap=Lb(Nw);var QE=Nw;kx.createRoot=QE.createRoot,kx.hydrateRoot=QE.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lh(){return Lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lh.apply(this,arguments)}var Xo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Xo||(Xo={}));const XE="popstate";function u5(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:l}=r.location;return b_("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:MA(s)}return h5(e,n,null,t)}function Dn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function jA(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function d5(){return Math.random().toString(36).substr(2,8)}function JE(t,e){return{usr:t.state,key:t.key,idx:e}}function b_(t,e,n,r){return n===void 0&&(n=null),Lh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ku(e):e,{state:n,key:e&&e.key||r||d5()})}function MA(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ku(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function h5(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=Xo.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Lh({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=Xo.Pop;let b=d(),x=b==null?null:b-u;u=b,c&&c({action:l,location:g.location,delta:x})}function p(b,x){l=Xo.Push;let _=b_(g.location,b,x);u=d()+1;let w=JE(_,u),I=g.createHref(_);try{o.pushState(w,"",I)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(I)}i&&c&&c({action:l,location:g.location,delta:1})}function m(b,x){l=Xo.Replace;let _=b_(g.location,b,x);u=d();let w=JE(_,u),I=g.createHref(_);o.replaceState(w,"",I),i&&c&&c({action:l,location:g.location,delta:0})}function v(b){let x=s.location.origin!=="null"?s.location.origin:s.location.href,_=typeof b=="string"?b:MA(b);return _=_.replace(/ $/,"%20"),Dn(x,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,x)}let g={get action(){return l},get location(){return t(s,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(XE,h),c=b,()=>{s.removeEventListener(XE,h),c=null}},createHref(b){return e(s,b)},createURL:v,encodeLocation(b){let x=v(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:m,go(b){return o.go(b)}};return g}var ZE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ZE||(ZE={}));function f5(t,e,n){return n===void 0&&(n="/"),p5(t,e,n)}function p5(t,e,n,r){let s=typeof e=="string"?ku(e):e,i=$A(s.pathname||"/",n);if(i==null)return null;let o=OA(t);m5(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=I5(i);l=T5(o[c],u)}return l}function OA(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Dn(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=ll([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(Dn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),OA(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:w5(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of LA(i.path))s(i,o,c)}),e}function LA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=LA(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function m5(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:C5(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const g5=/^:[\w-]+$/,v5=3,y5=2,x5=1,_5=10,b5=-2,eS=t=>t==="*";function w5(t,e){let n=t.split("/"),r=n.length;return n.some(eS)&&(r+=b5),e&&(r+=y5),n.filter(s=>!eS(s)).reduce((s,i)=>s+(g5.test(i)?v5:i===""?x5:_5),r)}function C5(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function T5(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=E5({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:ll([i,h.pathname]),pathnameBase:A5(ll([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=ll([i,h.pathnameBase]))}return o}function E5(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=S5(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:p,isOptional:m}=d;if(p==="*"){let g=l[h]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const v=l[h];return m&&!v?u[p]=void 0:u[p]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function S5(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),jA(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function I5(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return jA(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function $A(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function k5(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ku(t):t;return{pathname:n?n.startsWith("/")?n:R5(n,e):e,search:N5(r),hash:D5(s)}}function R5(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function M0(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function P5(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function FA(t,e){let n=P5(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function VA(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ku(t):(s=Lh({},t),Dn(!s.pathname||!s.pathname.includes("?"),M0("?","pathname","search",s)),Dn(!s.pathname||!s.pathname.includes("#"),M0("#","pathname","hash",s)),Dn(!s.search||!s.search.includes("#"),M0("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}l=h>=0?e[h]:"/"}let c=k5(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const ll=t=>t.join("/").replace(/\/\/+/g,"/"),A5=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),N5=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,D5=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function j5(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const BA=["post","put","patch","delete"];new Set(BA);const M5=["get",...BA];new Set(M5);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $h(){return $h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$h.apply(this,arguments)}const Dw=y.createContext(null),O5=y.createContext(null),yf=y.createContext(null),xv=y.createContext(null),Eo=y.createContext({outlet:null,matches:[],isDataRoute:!1}),UA=y.createContext(null);function xf(){return y.useContext(xv)!=null}function _f(){return xf()||Dn(!1),y.useContext(xv).location}function zA(t){y.useContext(yf).static||y.useLayoutEffect(t)}function Qr(){let{isDataRoute:t}=y.useContext(Eo);return t?X5():L5()}function L5(){xf()||Dn(!1);let t=y.useContext(Dw),{basename:e,future:n,navigator:r}=y.useContext(yf),{matches:s}=y.useContext(Eo),{pathname:i}=_f(),o=JSON.stringify(FA(s,n.v7_relativeSplatPath)),l=y.useRef(!1);return zA(()=>{l.current=!0}),y.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=VA(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ll([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,i,t])}const $5=y.createContext(null);function F5(t){let e=y.useContext(Eo).outlet;return e&&y.createElement($5.Provider,{value:t},e)}function Ru(){let{matches:t}=y.useContext(Eo),e=t[t.length-1];return e?e.params:{}}function V5(t,e){return B5(t,e)}function B5(t,e,n,r){xf()||Dn(!1);let{navigator:s}=y.useContext(yf),{matches:i}=y.useContext(Eo),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=_f(),d;if(e){var h;let b=typeof e=="string"?ku(e):e;c==="/"||(h=b.pathname)!=null&&h.startsWith(c)||Dn(!1),d=b}else d=u;let p=d.pathname||"/",m=p;if(c!=="/"){let b=c.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=f5(t,{pathname:m}),g=q5(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:ll([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:ll([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,r);return e&&g?y.createElement(xv.Provider,{value:{location:$h({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Xo.Pop}},g):g}function U5(){let t=Q5(),e=j5(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:s},n):null,null)}const z5=y.createElement(U5,null);class W5 extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?y.createElement(Eo.Provider,{value:this.props.routeContext},y.createElement(UA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function H5(t){let{routeContext:e,match:n,children:r}=t,s=y.useContext(Dw);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(Eo.Provider,{value:e},r)}function q5(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||Dn(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:p,errors:m}=n,v=h.route.loader&&p[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let m,v=!1,g=null,b=null;n&&(m=l&&h.route.id?l[h.route.id]:void 0,g=h.route.errorElement||z5,c&&(u<0&&p===0?(J5("route-fallback"),v=!0,b=null):u===p&&(v=!0,b=h.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,p+1)),_=()=>{let w;return m?w=g:v?w=b:h.route.Component?w=y.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,y.createElement(H5,{match:h,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?y.createElement(W5,{location:n.location,revalidation:n.revalidation,component:g,error:m,children:_(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):_()},null)}var WA=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(WA||{}),HA=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(HA||{});function G5(t){let e=y.useContext(Dw);return e||Dn(!1),e}function Y5(t){let e=y.useContext(O5);return e||Dn(!1),e}function K5(t){let e=y.useContext(Eo);return e||Dn(!1),e}function qA(t){let e=K5(),n=e.matches[e.matches.length-1];return n.route.id||Dn(!1),n.route.id}function Q5(){var t;let e=y.useContext(UA),n=Y5(),r=qA();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function X5(){let{router:t}=G5(WA.UseNavigateStable),e=qA(HA.UseNavigateStable),n=y.useRef(!1);return zA(()=>{n.current=!0}),y.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,$h({fromRouteId:e},i)))},[t,e])}const tS={};function J5(t,e,n){tS[t]||(tS[t]=!0)}function Z5(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function fm(t){let{to:e,replace:n,state:r,relative:s}=t;xf()||Dn(!1);let{future:i,static:o}=y.useContext(yf),{matches:l}=y.useContext(Eo),{pathname:c}=_f(),u=Qr(),d=VA(e,FA(l,i.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return y.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:s}),[u,h,s,n,r]),null}function eF(t){return F5(t.context)}function Vt(t){Dn(!1)}function tF(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Xo.Pop,navigator:i,static:o=!1,future:l}=t;xf()&&Dn(!1);let c=e.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:c,navigator:i,static:o,future:$h({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=ku(r));let{pathname:d="/",search:h="",hash:p="",state:m=null,key:v="default"}=r,g=y.useMemo(()=>{let b=$A(d,c);return b==null?null:{location:{pathname:b,search:h,hash:p,state:m,key:v},navigationType:s}},[c,d,h,p,m,v,s]);return g==null?null:y.createElement(yf.Provider,{value:u},y.createElement(xv.Provider,{children:n,value:g}))}function nF(t){let{children:e,location:n}=t;return V5(w_(e),n)}new Promise(()=>{});function w_(t,e){e===void 0&&(e=[]);let n=[];return y.Children.forEach(t,(r,s)=>{if(!y.isValidElement(r))return;let i=[...e,s];if(r.type===y.Fragment){n.push.apply(n,w_(r.props.children,i));return}r.type!==Vt&&Dn(!1),!r.props.index||!r.props.children||Dn(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=w_(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function C_(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function rF(t,e){let n=C_(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}const sF="6";try{window.__reactRouterVersion=sF}catch{}const iF="startTransition",nS=Om[iF];function oF(t){let{basename:e,children:n,future:r,window:s}=t,i=y.useRef();i.current==null&&(i.current=u5({window:s,v5Compat:!0}));let o=i.current,[l,c]=y.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=y.useCallback(h=>{u&&nS?nS(()=>c(h)):c(h)},[c,u]);return y.useLayoutEffect(()=>o.listen(d),[o,d]),y.useEffect(()=>Z5(r),[r]),y.createElement(tF,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}var rS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(rS||(rS={}));var sS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(sS||(sS={}));function GA(t){let e=y.useRef(C_(t)),n=y.useRef(!1),r=_f(),s=y.useMemo(()=>rF(r.search,n.current?null:e.current),[r.search]),i=Qr(),o=y.useCallback((l,c)=>{const u=C_(typeof l=="function"?l(s):l);n.current=!0,i("?"+u,c)},[i,s]);return[s,o]}function ho(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const aF=Object.freeze(Object.defineProperty({__proto__:null,default:ho},Symbol.toStringTag,{value:"Module"})),xl="$$material";function j(){return j=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j.apply(null,arguments)}function oe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function lF(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function cF(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var uF=function(){function t(n){var r=this;this._insertTag=function(s){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,i),r.tags.push(s)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(cF(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var i=lF(s);try{i.insertRule(r,i.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var s;return(s=r.parentNode)==null?void 0:s.removeChild(r)}),this.tags=[],this.ctr=0},t}(),ur="-ms-",ag="-moz-",kt="-webkit-",YA="comm",jw="rule",Mw="decl",dF="@import",KA="@keyframes",hF="@layer",fF=Math.abs,_v=String.fromCharCode,pF=Object.assign;function mF(t,e){return Kn(t,0)^45?(((e<<2^Kn(t,0))<<2^Kn(t,1))<<2^Kn(t,2))<<2^Kn(t,3):0}function QA(t){return t.trim()}function gF(t,e){return(t=e.exec(t))?t[0]:t}function Rt(t,e,n){return t.replace(e,n)}function T_(t,e){return t.indexOf(e)}function Kn(t,e){return t.charCodeAt(e)|0}function Fh(t,e,n){return t.slice(e,n)}function ai(t){return t.length}function Ow(t){return t.length}function Np(t,e){return e.push(t),t}function vF(t,e){return t.map(e).join("")}var bv=1,nu=1,XA=0,Yr=0,Pn=0,Pu="";function wv(t,e,n,r,s,i,o){return{value:t,root:e,parent:n,type:r,props:s,children:i,line:bv,column:nu,length:o,return:""}}function gd(t,e){return pF(wv("",null,null,"",null,null,0),t,{length:-t.length},e)}function yF(){return Pn}function xF(){return Pn=Yr>0?Kn(Pu,--Yr):0,nu--,Pn===10&&(nu=1,bv--),Pn}function os(){return Pn=Yr<XA?Kn(Pu,Yr++):0,nu++,Pn===10&&(nu=1,bv++),Pn}function _i(){return Kn(Pu,Yr)}function pm(){return Yr}function bf(t,e){return Fh(Pu,t,e)}function Vh(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function JA(t){return bv=nu=1,XA=ai(Pu=t),Yr=0,[]}function ZA(t){return Pu="",t}function mm(t){return QA(bf(Yr-1,E_(t===91?t+2:t===40?t+1:t)))}function _F(t){for(;(Pn=_i())&&Pn<33;)os();return Vh(t)>2||Vh(Pn)>3?"":" "}function bF(t,e){for(;--e&&os()&&!(Pn<48||Pn>102||Pn>57&&Pn<65||Pn>70&&Pn<97););return bf(t,pm()+(e<6&&_i()==32&&os()==32))}function E_(t){for(;os();)switch(Pn){case t:return Yr;case 34:case 39:t!==34&&t!==39&&E_(Pn);break;case 40:t===41&&E_(t);break;case 92:os();break}return Yr}function wF(t,e){for(;os()&&t+Pn!==57;)if(t+Pn===84&&_i()===47)break;return"/*"+bf(e,Yr-1)+"*"+_v(t===47?t:os())}function CF(t){for(;!Vh(_i());)os();return bf(t,Yr)}function TF(t){return ZA(gm("",null,null,null,[""],t=JA(t),0,[0],t))}function gm(t,e,n,r,s,i,o,l,c){for(var u=0,d=0,h=o,p=0,m=0,v=0,g=1,b=1,x=1,_=0,w="",I=s,N=i,R=r,S=w;b;)switch(v=_,_=os()){case 40:if(v!=108&&Kn(S,h-1)==58){T_(S+=Rt(mm(_),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:S+=mm(_);break;case 9:case 10:case 13:case 32:S+=_F(v);break;case 92:S+=bF(pm()-1,7);continue;case 47:switch(_i()){case 42:case 47:Np(EF(wF(os(),pm()),e,n),c);break;default:S+="/"}break;case 123*g:l[u++]=ai(S)*x;case 125*g:case 59:case 0:switch(_){case 0:case 125:b=0;case 59+d:x==-1&&(S=Rt(S,/\f/g,"")),m>0&&ai(S)-h&&Np(m>32?oS(S+";",r,n,h-1):oS(Rt(S," ","")+";",r,n,h-2),c);break;case 59:S+=";";default:if(Np(R=iS(S,e,n,u,d,s,l,w,I=[],N=[],h),i),_===123)if(d===0)gm(S,e,R,R,I,i,h,l,N);else switch(p===99&&Kn(S,3)===110?100:p){case 100:case 108:case 109:case 115:gm(t,R,R,r&&Np(iS(t,R,R,0,0,s,l,w,s,I=[],h),N),s,N,h,l,r?I:N);break;default:gm(S,R,R,R,[""],N,0,l,N)}}u=d=m=0,g=x=1,w=S="",h=o;break;case 58:h=1+ai(S),m=v;default:if(g<1){if(_==123)--g;else if(_==125&&g++==0&&xF()==125)continue}switch(S+=_v(_),_*g){case 38:x=d>0?1:(S+="\f",-1);break;case 44:l[u++]=(ai(S)-1)*x,x=1;break;case 64:_i()===45&&(S+=mm(os())),p=_i(),d=h=ai(w=S+=CF(pm())),_++;break;case 45:v===45&&ai(S)==2&&(g=0)}}return i}function iS(t,e,n,r,s,i,o,l,c,u,d){for(var h=s-1,p=s===0?i:[""],m=Ow(p),v=0,g=0,b=0;v<r;++v)for(var x=0,_=Fh(t,h+1,h=fF(g=o[v])),w=t;x<m;++x)(w=QA(g>0?p[x]+" "+_:Rt(_,/&\f/g,p[x])))&&(c[b++]=w);return wv(t,e,n,s===0?jw:l,c,u,d)}function EF(t,e,n){return wv(t,e,n,YA,_v(yF()),Fh(t,2,-2),0)}function oS(t,e,n,r){return wv(t,e,n,Mw,Fh(t,0,r),Fh(t,r+1,-1),r)}function Oc(t,e){for(var n="",r=Ow(t),s=0;s<r;s++)n+=e(t[s],s,t,e)||"";return n}function SF(t,e,n,r){switch(t.type){case hF:if(t.children.length)break;case dF:case Mw:return t.return=t.return||t.value;case YA:return"";case KA:return t.return=t.value+"{"+Oc(t.children,r)+"}";case jw:t.value=t.props.join(",")}return ai(n=Oc(t.children,r))?t.return=t.value+"{"+n+"}":""}function IF(t){var e=Ow(t);return function(n,r,s,i){for(var o="",l=0;l<e;l++)o+=t[l](n,r,s,i)||"";return o}}function kF(t){return function(e){e.root||(e=e.return)&&t(e)}}function eN(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var RF=function(e,n,r){for(var s=0,i=0;s=i,i=_i(),s===38&&i===12&&(n[r]=1),!Vh(i);)os();return bf(e,Yr)},PF=function(e,n){var r=-1,s=44;do switch(Vh(s)){case 0:s===38&&_i()===12&&(n[r]=1),e[r]+=RF(Yr-1,n,r);break;case 2:e[r]+=mm(s);break;case 4:if(s===44){e[++r]=_i()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=_v(s)}while(s=os());return e},AF=function(e,n){return ZA(PF(JA(e),n))},aS=new WeakMap,NF=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,s=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!aS.get(r))&&!s){aS.set(e,!0);for(var i=[],o=AF(n,i),l=r.props,c=0,u=0;c<o.length;c++)for(var d=0;d<l.length;d++,u++)e.props[u]=i[c]?o[c].replace(/&\f/g,l[d]):l[d]+" "+o[c]}}},DF=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function tN(t,e){switch(mF(t,e)){case 5103:return kt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return kt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return kt+t+ag+t+ur+t+t;case 6828:case 4268:return kt+t+ur+t+t;case 6165:return kt+t+ur+"flex-"+t+t;case 5187:return kt+t+Rt(t,/(\w+).+(:[^]+)/,kt+"box-$1$2"+ur+"flex-$1$2")+t;case 5443:return kt+t+ur+"flex-item-"+Rt(t,/flex-|-self/,"")+t;case 4675:return kt+t+ur+"flex-line-pack"+Rt(t,/align-content|flex-|-self/,"")+t;case 5548:return kt+t+ur+Rt(t,"shrink","negative")+t;case 5292:return kt+t+ur+Rt(t,"basis","preferred-size")+t;case 6060:return kt+"box-"+Rt(t,"-grow","")+kt+t+ur+Rt(t,"grow","positive")+t;case 4554:return kt+Rt(t,/([^-])(transform)/g,"$1"+kt+"$2")+t;case 6187:return Rt(Rt(Rt(t,/(zoom-|grab)/,kt+"$1"),/(image-set)/,kt+"$1"),t,"")+t;case 5495:case 3959:return Rt(t,/(image-set\([^]*)/,kt+"$1$`$1");case 4968:return Rt(Rt(t,/(.+:)(flex-)?(.*)/,kt+"box-pack:$3"+ur+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+kt+t+t;case 4095:case 3583:case 4068:case 2532:return Rt(t,/(.+)-inline(.+)/,kt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ai(t)-1-e>6)switch(Kn(t,e+1)){case 109:if(Kn(t,e+4)!==45)break;case 102:return Rt(t,/(.+:)(.+)-([^]+)/,"$1"+kt+"$2-$3$1"+ag+(Kn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~T_(t,"stretch")?tN(Rt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Kn(t,e+1)!==115)break;case 6444:switch(Kn(t,ai(t)-3-(~T_(t,"!important")&&10))){case 107:return Rt(t,":",":"+kt)+t;case 101:return Rt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+kt+(Kn(t,14)===45?"inline-":"")+"box$3$1"+kt+"$2$3$1"+ur+"$2box$3")+t}break;case 5936:switch(Kn(t,e+11)){case 114:return kt+t+ur+Rt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return kt+t+ur+Rt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return kt+t+ur+Rt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return kt+t+ur+t+t}return t}var jF=function(e,n,r,s){if(e.length>-1&&!e.return)switch(e.type){case Mw:e.return=tN(e.value,e.length);break;case KA:return Oc([gd(e,{value:Rt(e.value,"@","@"+kt)})],s);case jw:if(e.length)return vF(e.props,function(i){switch(gF(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Oc([gd(e,{props:[Rt(i,/:(read-\w+)/,":"+ag+"$1")]})],s);case"::placeholder":return Oc([gd(e,{props:[Rt(i,/:(plac\w+)/,":"+kt+"input-$1")]}),gd(e,{props:[Rt(i,/:(plac\w+)/,":"+ag+"$1")]}),gd(e,{props:[Rt(i,/:(plac\w+)/,ur+"input-$1")]})],s)}return""})}},MF=[jF],nN=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var b=g.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var s=e.stylisPlugins||MF,i={},o,l=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(g){for(var b=g.getAttribute("data-emotion").split(" "),x=1;x<b.length;x++)i[b[x]]=!0;l.push(g)});var c,u=[NF,DF];{var d,h=[SF,kF(function(g){d.insert(g)})],p=IF(u.concat(s,h)),m=function(b){return Oc(TF(b),p)};c=function(b,x,_,w){d=_,m(b?b+"{"+x.styles+"}":x.styles),w&&(v.inserted[x.name]=!0)}}var v={key:n,sheet:new uF({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:c};return v.sheet.hydrate(l),v},rN={exports:{}},Mt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zn=typeof Symbol=="function"&&Symbol.for,Lw=zn?Symbol.for("react.element"):60103,$w=zn?Symbol.for("react.portal"):60106,Cv=zn?Symbol.for("react.fragment"):60107,Tv=zn?Symbol.for("react.strict_mode"):60108,Ev=zn?Symbol.for("react.profiler"):60114,Sv=zn?Symbol.for("react.provider"):60109,Iv=zn?Symbol.for("react.context"):60110,Fw=zn?Symbol.for("react.async_mode"):60111,kv=zn?Symbol.for("react.concurrent_mode"):60111,Rv=zn?Symbol.for("react.forward_ref"):60112,Pv=zn?Symbol.for("react.suspense"):60113,OF=zn?Symbol.for("react.suspense_list"):60120,Av=zn?Symbol.for("react.memo"):60115,Nv=zn?Symbol.for("react.lazy"):60116,LF=zn?Symbol.for("react.block"):60121,$F=zn?Symbol.for("react.fundamental"):60117,FF=zn?Symbol.for("react.responder"):60118,VF=zn?Symbol.for("react.scope"):60119;function ps(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Lw:switch(t=t.type,t){case Fw:case kv:case Cv:case Ev:case Tv:case Pv:return t;default:switch(t=t&&t.$$typeof,t){case Iv:case Rv:case Nv:case Av:case Sv:return t;default:return e}}case $w:return e}}}function sN(t){return ps(t)===kv}Mt.AsyncMode=Fw;Mt.ConcurrentMode=kv;Mt.ContextConsumer=Iv;Mt.ContextProvider=Sv;Mt.Element=Lw;Mt.ForwardRef=Rv;Mt.Fragment=Cv;Mt.Lazy=Nv;Mt.Memo=Av;Mt.Portal=$w;Mt.Profiler=Ev;Mt.StrictMode=Tv;Mt.Suspense=Pv;Mt.isAsyncMode=function(t){return sN(t)||ps(t)===Fw};Mt.isConcurrentMode=sN;Mt.isContextConsumer=function(t){return ps(t)===Iv};Mt.isContextProvider=function(t){return ps(t)===Sv};Mt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Lw};Mt.isForwardRef=function(t){return ps(t)===Rv};Mt.isFragment=function(t){return ps(t)===Cv};Mt.isLazy=function(t){return ps(t)===Nv};Mt.isMemo=function(t){return ps(t)===Av};Mt.isPortal=function(t){return ps(t)===$w};Mt.isProfiler=function(t){return ps(t)===Ev};Mt.isStrictMode=function(t){return ps(t)===Tv};Mt.isSuspense=function(t){return ps(t)===Pv};Mt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Cv||t===kv||t===Ev||t===Tv||t===Pv||t===OF||typeof t=="object"&&t!==null&&(t.$$typeof===Nv||t.$$typeof===Av||t.$$typeof===Sv||t.$$typeof===Iv||t.$$typeof===Rv||t.$$typeof===$F||t.$$typeof===FF||t.$$typeof===VF||t.$$typeof===LF)};Mt.typeOf=ps;rN.exports=Mt;var BF=rN.exports,iN=BF,UF={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},zF={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},oN={};oN[iN.ForwardRef]=UF;oN[iN.Memo]=zF;var WF=!0;function aN(t,e,n){var r="";return n.split(" ").forEach(function(s){t[s]!==void 0?e.push(t[s]+";"):s&&(r+=s+" ")}),r}var Vw=function(e,n,r){var s=e.key+"-"+n.name;(r===!1||WF===!1)&&e.registered[s]===void 0&&(e.registered[s]=n.styles)},Bw=function(e,n,r){Vw(e,n,r);var s=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var i=n;do e.insert(n===i?"."+s:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function HF(t){for(var e=0,n,r=0,s=t.length;s>=4;++r,s-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var qF={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},GF=/[A-Z]|^ms/g,YF=/_EMO_([^_]+?)_([^]*?)_EMO_/g,lN=function(e){return e.charCodeAt(1)===45},lS=function(e){return e!=null&&typeof e!="boolean"},O0=eN(function(t){return lN(t)?t:t.replace(GF,"-$&").toLowerCase()}),cS=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(YF,function(r,s,i){return li={name:s,styles:i,next:li},s})}return qF[e]!==1&&!lN(e)&&typeof n=="number"&&n!==0?n+"px":n};function Bh(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var s=n;if(s.anim===1)return li={name:s.name,styles:s.styles,next:li},s.name;var i=n;if(i.styles!==void 0){var o=i.next;if(o!==void 0)for(;o!==void 0;)li={name:o.name,styles:o.styles,next:li},o=o.next;var l=i.styles+";";return l}return KF(t,e,n)}case"function":{if(t!==void 0){var c=li,u=n(t);return li=c,Bh(t,e,u)}break}}var d=n;if(e==null)return d;var h=e[d];return h!==void 0?h:d}function KF(t,e,n){var r="";if(Array.isArray(n))for(var s=0;s<n.length;s++)r+=Bh(t,e,n[s])+";";else for(var i in n){var o=n[i];if(typeof o!="object"){var l=o;e!=null&&e[l]!==void 0?r+=i+"{"+e[l]+"}":lS(l)&&(r+=O0(i)+":"+cS(i,l)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var c=0;c<o.length;c++)lS(o[c])&&(r+=O0(i)+":"+cS(i,o[c])+";");else{var u=Bh(t,e,o);switch(i){case"animation":case"animationName":{r+=O0(i)+":"+u+";";break}default:r+=i+"{"+u+"}"}}}return r}var uS=/label:\s*([^\s;{]+)\s*(;|$)/g,li;function wf(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,s="";li=void 0;var i=t[0];if(i==null||i.raw===void 0)r=!1,s+=Bh(n,e,i);else{var o=i;s+=o[0]}for(var l=1;l<t.length;l++)if(s+=Bh(n,e,t[l]),r){var c=i;s+=c[l]}uS.lastIndex=0;for(var u="",d;(d=uS.exec(s))!==null;)u+="-"+d[1];var h=HF(s)+u;return{name:h,styles:s,next:li}}var QF=function(e){return e()},cN=Om.useInsertionEffect?Om.useInsertionEffect:!1,uN=cN||QF,dS=cN||y.useLayoutEffect,dN=y.createContext(typeof HTMLElement<"u"?nN({key:"css"}):null),XF=dN.Provider,Uw=function(e){return y.forwardRef(function(n,r){var s=y.useContext(dN);return e(n,s,r)})},Au=y.createContext({}),zw={}.hasOwnProperty,S_="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",JF=function(e,n){var r={};for(var s in n)zw.call(n,s)&&(r[s]=n[s]);return r[S_]=e,r},ZF=function(e){var n=e.cache,r=e.serialized,s=e.isStringTag;return Vw(n,r,s),uN(function(){return Bw(n,r,s)}),null},eV=Uw(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var s=t[S_],i=[r],o="";typeof t.className=="string"?o=aN(e.registered,i,t.className):t.className!=null&&(o=t.className+" ");var l=wf(i,void 0,y.useContext(Au));o+=e.key+"-"+l.name;var c={};for(var u in t)zw.call(t,u)&&u!=="css"&&u!==S_&&(c[u]=t[u]);return c.className=o,n&&(c.ref=n),y.createElement(y.Fragment,null,y.createElement(ZF,{cache:e,serialized:l,isStringTag:typeof s=="string"}),y.createElement(s,c))}),tV=eV,L0={exports:{}},hS;function hN(){return hS||(hS=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var i in s)({}).hasOwnProperty.call(s,i)&&(n[i]=s[i])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(L0)),L0.exports}hN();var fS=function(e,n){var r=arguments;if(n==null||!zw.call(n,"css"))return y.createElement.apply(void 0,r);var s=r.length,i=new Array(s);i[0]=tV,i[1]=JF(e,n);for(var o=2;o<s;o++)i[o]=r[o];return y.createElement.apply(null,i)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(fS||(fS={}));var nV=Uw(function(t,e){var n=t.styles,r=wf([n],void 0,y.useContext(Au)),s=y.useRef();return dS(function(){var i=e.key+"-global",o=new e.sheet.constructor({key:i,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),l=!1,c=document.querySelector('style[data-emotion="'+i+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),c!==null&&(l=!0,c.setAttribute("data-emotion",i),o.hydrate([c])),s.current=[o,l],function(){o.flush()}},[e]),dS(function(){var i=s.current,o=i[0],l=i[1];if(l){i[1]=!1;return}if(r.next!==void 0&&Bw(e,r.next,!0),o.tags.length){var c=o.tags[o.tags.length-1].nextElementSibling;o.before=c,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function $l(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return wf(e)}function So(){var t=$l.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var rV=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,sV=eN(function(t){return rV.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),iV=sV,oV=function(e){return e!=="theme"},pS=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?iV:oV},mS=function(e,n,r){var s;if(n){var i=n.shouldForwardProp;s=e.__emotion_forwardProp&&i?function(o){return e.__emotion_forwardProp(o)&&i(o)}:i}return typeof s!="function"&&r&&(s=e.__emotion_forwardProp),s},aV=function(e){var n=e.cache,r=e.serialized,s=e.isStringTag;return Vw(n,r,s),uN(function(){return Bw(n,r,s)}),null},lV=function t(e,n){var r=e.__emotion_real===e,s=r&&e.__emotion_base||e,i,o;n!==void 0&&(i=n.label,o=n.target);var l=mS(e,n,r),c=l||pS(s),u=!c("as");return function(){var d=arguments,h=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(i!==void 0&&h.push("label:"+i+";"),d[0]==null||d[0].raw===void 0)h.push.apply(h,d);else{var p=d[0];h.push(p[0]);for(var m=d.length,v=1;v<m;v++)h.push(d[v],p[v])}var g=Uw(function(b,x,_){var w=u&&b.as||s,I="",N=[],R=b;if(b.theme==null){R={};for(var S in b)R[S]=b[S];R.theme=y.useContext(Au)}typeof b.className=="string"?I=aN(x.registered,N,b.className):b.className!=null&&(I=b.className+" ");var E=wf(h.concat(N),x.registered,R);I+=x.key+"-"+E.name,o!==void 0&&(I+=" "+o);var C=u&&l===void 0?pS(w):c,k={};for(var A in b)u&&A==="as"||C(A)&&(k[A]=b[A]);return k.className=I,_&&(k.ref=_),y.createElement(y.Fragment,null,y.createElement(aV,{cache:x,serialized:E,isStringTag:typeof w=="string"}),y.createElement(w,k))});return g.displayName=i!==void 0?i:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",g.defaultProps=e.defaultProps,g.__emotion_real=g,g.__emotion_base=s,g.__emotion_styles=h,g.__emotion_forwardProp=l,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(b,x){var _=t(b,j({},n,x,{shouldForwardProp:mS(g,x,!0)}));return _.apply(void 0,h)},g}},cV=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],I_=lV.bind(null);cV.forEach(function(t){I_[t]=I_(t)});function uV(t,e){const n=nN({key:"css",prepend:t});if(e){const r=n.insert;n.insert=(...s)=>(s[1].styles.match(/^@layer\s+[^{]*$/)||(s[1].styles=`@layer mui {${s[1].styles}}`),r(...s))}return n}const $0=new Map;function dV(t){const{injectFirst:e,enableCssLayer:n,children:r}=t,s=y.useMemo(()=>{const i=`${e}-${n}`;if(typeof document=="object"&&$0.has(i))return $0.get(i);const o=uV(e,n);return $0.set(i,o),o},[e,n]);return e||n?a.jsx(XF,{value:s,children:r}):r}function hV(t){return t==null||Object.keys(t).length===0}function fN(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?s=>e(hV(s)?n:s):e;return a.jsx(nV,{styles:r})}function Ww(t,e){return I_(t,e)}const pN=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},gS=[];function lg(t){return gS[0]=t,wf(gS)}const fV=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:fN,StyledEngineProvider:dV,ThemeContext:Au,css:$l,default:Ww,internal_processStyles:pN,internal_serializeStyles:lg,keyframes:So},Symbol.toStringTag,{value:"Module"}));function Wi(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function mN(t){if(y.isValidElement(t)||!Wi(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=mN(t[n])}),e}function kr(t,e,n={clone:!0}){const r=n.clone?j({},t):t;return Wi(t)&&Wi(e)&&Object.keys(e).forEach(s=>{y.isValidElement(e[s])?r[s]=e[s]:Wi(e[s])&&Object.prototype.hasOwnProperty.call(t,s)&&Wi(t[s])?r[s]=kr(t[s],e[s],n):n.clone?r[s]=Wi(e[s])?mN(e[s]):e[s]:r[s]=e[s]}),r}const pV=Object.freeze(Object.defineProperty({__proto__:null,default:kr,isPlainObject:Wi},Symbol.toStringTag,{value:"Module"})),mV=["values","unit","step"],gV=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>j({},n,{[r.key]:r.val}),{})};function gN(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,s=oe(t,mV),i=gV(e),o=Object.keys(i);function l(p){return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${n})`}function c(p){return`@media (max-width:${(typeof e[p]=="number"?e[p]:p)-r/100}${n})`}function u(p,m){const v=o.indexOf(m);return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${n}) and (max-width:${(v!==-1&&typeof e[o[v]]=="number"?e[o[v]]:m)-r/100}${n})`}function d(p){return o.indexOf(p)+1<o.length?u(p,o[o.indexOf(p)+1]):l(p)}function h(p){const m=o.indexOf(p);return m===0?l(o[1]):m===o.length-1?c(o[m]):u(p,o[o.indexOf(p)+1]).replace("@media","@media not all and")}return j({keys:o,values:i,up:l,down:c,between:u,only:d,not:h,unit:n},s)}const vV={borderRadius:4};function nh(t,e){return e?kr(t,e,{clone:!1}):t}const Hw={xs:0,sm:600,md:900,lg:1200,xl:1536},vS={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${Hw[t]}px)`};function Kr(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const i=r.breakpoints||vS;return e.reduce((o,l,c)=>(o[i.up(i.keys[c])]=n(e[c]),o),{})}if(typeof e=="object"){const i=r.breakpoints||vS;return Object.keys(e).reduce((o,l)=>{if(Object.keys(i.values||Hw).indexOf(l)!==-1){const c=i.up(l);o[c]=n(e[l],l)}else{const c=l;o[c]=e[c]}return o},{})}return n(e)}function vN(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,s)=>{const i=t.up(s);return r[i]={},r},{}))||{}}function k_(t,e){return t.reduce((n,r)=>{const s=n[r];return(!s||Object.keys(s).length===0)&&delete n[r],n},e)}function yV(t,...e){const n=vN(t),r=[n,...e].reduce((s,i)=>kr(s,i),{});return k_(Object.keys(n),r)}function xV(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((s,i)=>{i<t.length&&(n[s]=!0)}):r.forEach(s=>{t[s]!=null&&(n[s]=!0)}),n}function cl({values:t,breakpoints:e,base:n}){const r=n||xV(t,e),s=Object.keys(r);if(s.length===0)return t;let i;return s.reduce((o,l,c)=>(Array.isArray(t)?(o[l]=t[c]!=null?t[c]:t[i],i=c):typeof t=="object"?(o[l]=t[l]!=null?t[l]:t[i],i=l):o[l]=t,o),{})}function se(t){if(typeof t!="string")throw new Error(ho(7));return t.charAt(0).toUpperCase()+t.slice(1)}const _V=Object.freeze(Object.defineProperty({__proto__:null,default:se},Symbol.toStringTag,{value:"Module"}));function Dv(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((s,i)=>s&&s[i]?s[i]:null,t);if(r!=null)return r}return e.split(".").reduce((r,s)=>r&&r[s]!=null?r[s]:null,t)}function cg(t,e,n,r=n){let s;return typeof t=="function"?s=t(n):Array.isArray(t)?s=t[n]||r:s=Dv(t,n)||r,e&&(s=e(s,r,t)),s}function Sn(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:s}=t,i=o=>{if(o[e]==null)return null;const l=o[e],c=o.theme,u=Dv(c,r)||{};return Kr(o,l,h=>{let p=cg(u,s,h);return h===p&&typeof h=="string"&&(p=cg(u,s,`${e}${h==="default"?"":se(h)}`,h)),n===!1?p:{[n]:p}})};return i.propTypes={},i.filterProps=[e],i}function bV(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const wV={m:"margin",p:"padding"},CV={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},yS={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},TV=bV(t=>{if(t.length>2)if(yS[t])t=yS[t];else return[t];const[e,n]=t.split(""),r=wV[e],s=CV[n]||"";return Array.isArray(s)?s.map(i=>r+i):[r+s]}),qw=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Gw=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...qw,...Gw];function Cf(t,e,n,r){var s;const i=(s=Dv(t,e,!1))!=null?s:n;return typeof i=="number"?o=>typeof o=="string"?o:i*o:Array.isArray(i)?o=>typeof o=="string"?o:i[o]:typeof i=="function"?i:()=>{}}function Yw(t){return Cf(t,"spacing",8)}function _l(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function EV(t,e){return n=>t.reduce((r,s)=>(r[s]=_l(e,n),r),{})}function SV(t,e,n,r){if(e.indexOf(n)===-1)return null;const s=TV(n),i=EV(s,r),o=t[n];return Kr(t,o,i)}function yN(t,e){const n=Yw(t.theme);return Object.keys(t).map(r=>SV(t,e,r,n)).reduce(nh,{})}function fn(t){return yN(t,qw)}fn.propTypes={};fn.filterProps=qw;function pn(t){return yN(t,Gw)}pn.propTypes={};pn.filterProps=Gw;function IV(t=8){if(t.mui)return t;const e=Yw({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(i=>{const o=e(i);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function jv(...t){const e=t.reduce((r,s)=>(s.filterProps.forEach(i=>{r[i]=s}),r),{}),n=r=>Object.keys(r).reduce((s,i)=>e[i]?nh(s,e[i](r)):s,{});return n.propTypes={},n.filterProps=t.reduce((r,s)=>r.concat(s.filterProps),[]),n}function ws(t){return typeof t!="number"?t:`${t}px solid`}function js(t,e){return Sn({prop:t,themeKey:"borders",transform:e})}const kV=js("border",ws),RV=js("borderTop",ws),PV=js("borderRight",ws),AV=js("borderBottom",ws),NV=js("borderLeft",ws),DV=js("borderColor"),jV=js("borderTopColor"),MV=js("borderRightColor"),OV=js("borderBottomColor"),LV=js("borderLeftColor"),$V=js("outline",ws),FV=js("outlineColor"),Mv=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Cf(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:_l(e,r)});return Kr(t,t.borderRadius,n)}return null};Mv.propTypes={};Mv.filterProps=["borderRadius"];jv(kV,RV,PV,AV,NV,DV,jV,MV,OV,LV,Mv,$V,FV);const Ov=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Cf(t.theme,"spacing",8),n=r=>({gap:_l(e,r)});return Kr(t,t.gap,n)}return null};Ov.propTypes={};Ov.filterProps=["gap"];const Lv=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Cf(t.theme,"spacing",8),n=r=>({columnGap:_l(e,r)});return Kr(t,t.columnGap,n)}return null};Lv.propTypes={};Lv.filterProps=["columnGap"];const $v=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Cf(t.theme,"spacing",8),n=r=>({rowGap:_l(e,r)});return Kr(t,t.rowGap,n)}return null};$v.propTypes={};$v.filterProps=["rowGap"];const VV=Sn({prop:"gridColumn"}),BV=Sn({prop:"gridRow"}),UV=Sn({prop:"gridAutoFlow"}),zV=Sn({prop:"gridAutoColumns"}),WV=Sn({prop:"gridAutoRows"}),HV=Sn({prop:"gridTemplateColumns"}),qV=Sn({prop:"gridTemplateRows"}),GV=Sn({prop:"gridTemplateAreas"}),YV=Sn({prop:"gridArea"});jv(Ov,Lv,$v,VV,BV,UV,zV,WV,HV,qV,GV,YV);function Lc(t,e){return e==="grey"?e:t}const KV=Sn({prop:"color",themeKey:"palette",transform:Lc}),QV=Sn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Lc}),XV=Sn({prop:"backgroundColor",themeKey:"palette",transform:Lc});jv(KV,QV,XV);function ts(t){return t<=1&&t!==0?`${t*100}%`:t}const JV=Sn({prop:"width",transform:ts}),Kw=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,s;const i=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||Hw[n];return i?((s=t.theme)==null||(s=s.breakpoints)==null?void 0:s.unit)!=="px"?{maxWidth:`${i}${t.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:ts(n)}};return Kr(t,t.maxWidth,e)}return null};Kw.filterProps=["maxWidth"];const ZV=Sn({prop:"minWidth",transform:ts}),e6=Sn({prop:"height",transform:ts}),t6=Sn({prop:"maxHeight",transform:ts}),n6=Sn({prop:"minHeight",transform:ts});Sn({prop:"size",cssProperty:"width",transform:ts});Sn({prop:"size",cssProperty:"height",transform:ts});const r6=Sn({prop:"boxSizing"});jv(JV,Kw,ZV,e6,t6,n6,r6);const Tf={border:{themeKey:"borders",transform:ws},borderTop:{themeKey:"borders",transform:ws},borderRight:{themeKey:"borders",transform:ws},borderBottom:{themeKey:"borders",transform:ws},borderLeft:{themeKey:"borders",transform:ws},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ws},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Mv},color:{themeKey:"palette",transform:Lc},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Lc},backgroundColor:{themeKey:"palette",transform:Lc},p:{style:pn},pt:{style:pn},pr:{style:pn},pb:{style:pn},pl:{style:pn},px:{style:pn},py:{style:pn},padding:{style:pn},paddingTop:{style:pn},paddingRight:{style:pn},paddingBottom:{style:pn},paddingLeft:{style:pn},paddingX:{style:pn},paddingY:{style:pn},paddingInline:{style:pn},paddingInlineStart:{style:pn},paddingInlineEnd:{style:pn},paddingBlock:{style:pn},paddingBlockStart:{style:pn},paddingBlockEnd:{style:pn},m:{style:fn},mt:{style:fn},mr:{style:fn},mb:{style:fn},ml:{style:fn},mx:{style:fn},my:{style:fn},margin:{style:fn},marginTop:{style:fn},marginRight:{style:fn},marginBottom:{style:fn},marginLeft:{style:fn},marginX:{style:fn},marginY:{style:fn},marginInline:{style:fn},marginInlineStart:{style:fn},marginInlineEnd:{style:fn},marginBlock:{style:fn},marginBlockStart:{style:fn},marginBlockEnd:{style:fn},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Ov},rowGap:{style:$v},columnGap:{style:Lv},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:ts},maxWidth:{style:Kw},minWidth:{transform:ts},height:{transform:ts},maxHeight:{transform:ts},minHeight:{transform:ts},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function s6(...t){const e=t.reduce((r,s)=>r.concat(Object.keys(s)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function i6(t,e){return typeof t=="function"?t(e):t}function xN(){function t(n,r,s,i){const o={[n]:r,theme:s},l=i[n];if(!l)return{[n]:r};const{cssProperty:c=n,themeKey:u,transform:d,style:h}=l;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const p=Dv(s,u)||{};return h?h(o):Kr(o,r,v=>{let g=cg(p,d,v);return v===g&&typeof v=="string"&&(g=cg(p,d,`${n}${v==="default"?"":se(v)}`,v)),c===!1?g:{[c]:g}})}function e(n){var r;const{sx:s,theme:i={},nested:o}=n||{};if(!s)return null;const l=(r=i.unstable_sxConfig)!=null?r:Tf;function c(u){let d=u;if(typeof u=="function")d=u(i);else if(typeof u!="object")return u;if(!d)return null;const h=vN(i.breakpoints),p=Object.keys(h);let m=h;return Object.keys(d).forEach(v=>{const g=i6(d[v],i);if(g!=null)if(typeof g=="object")if(l[v])m=nh(m,t(v,g,i,l));else{const b=Kr({theme:i},g,x=>({[v]:x}));s6(b,g)?m[v]=e({sx:g,theme:i,nested:!0}):m=nh(m,b)}else m=nh(m,t(v,g,i,l))}),!o&&i.modularCssLayers?{"@layer sx":k_(p,m)}:k_(p,m)}return Array.isArray(s)?s.map(c):c(s)}return e}const Nu=xN();Nu.filterProps=["sx"];function _N(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const o6=["breakpoints","palette","spacing","shape"];function Du(t={},...e){const{breakpoints:n={},palette:r={},spacing:s,shape:i={}}=t,o=oe(t,o6),l=gN(n),c=IV(s);let u=kr({breakpoints:l,direction:"ltr",components:{},palette:j({mode:"light"},r),spacing:c,shape:j({},vV,i)},o);return u.applyStyles=_N,u=e.reduce((d,h)=>kr(d,h),u),u.unstable_sxConfig=j({},Tf,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(h){return Nu({sx:h,theme:this})},u}const a6=Object.freeze(Object.defineProperty({__proto__:null,default:Du,private_createBreakpoints:gN,unstable_applyStyles:_N},Symbol.toStringTag,{value:"Module"}));function l6(t){return Object.keys(t).length===0}function Fv(t=null){const e=y.useContext(Au);return!e||l6(e)?t:e}const c6=Du();function ju(t=c6){return Fv(t)}function F0(t){const e=lg(t);return t!==e&&e.styles?(e.styles.match(/^@layer\s+[^{]*$/)||(e.styles=`@layer global{${e.styles}}`),e):t}function bN({styles:t,themeId:e,defaultTheme:n={}}){const r=ju(n),s=e&&r[e]||r;let i=typeof t=="function"?t(s):t;return s.modularCssLayers&&(Array.isArray(i)?i=i.map(o=>F0(typeof o=="function"?o(s):o)):i=F0(i)),a.jsx(fN,{styles:i})}const u6=["sx"],d6=t=>{var e,n;const r={systemProps:{},otherProps:{}},s=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:Tf;return Object.keys(t).forEach(i=>{s[i]?r.systemProps[i]=t[i]:r.otherProps[i]=t[i]}),r};function Ef(t){const{sx:e}=t,n=oe(t,u6),{systemProps:r,otherProps:s}=d6(n);let i;return Array.isArray(e)?i=[r,...e]:typeof e=="function"?i=(...o)=>{const l=e(...o);return Wi(l)?j({},r,l):r}:i=j({},r,e),j({},s,{sx:i})}const h6=Object.freeze(Object.defineProperty({__proto__:null,default:Nu,extendSxProp:Ef,unstable_createStyleFunctionSx:xN,unstable_defaultSxConfig:Tf},Symbol.toStringTag,{value:"Module"})),xS=t=>t,f6=()=>{let t=xS;return{configure(e){t=e},generate(e){return t(e)},reset(){t=xS}}},wN=f6();function CN(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=CN(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ue(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=CN(t))&&(r&&(r+=" "),r+=e);return r}const p6=["className","component"];function m6(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:s}=t,i=Ww("div",{shouldForwardProp:l=>l!=="theme"&&l!=="sx"&&l!=="as"})(Nu);return y.forwardRef(function(c,u){const d=ju(n),h=Ef(c),{className:p,component:m="div"}=h,v=oe(h,p6);return a.jsx(i,j({as:m,ref:u,className:ue(p,s?s(r):r),theme:e&&d[e]||d},v))})}const g6={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Ee(t,e,n="Mui"){const r=g6[e];return r?`${n}-${r}`:`${wN.generate(t)}-${e}`}function Se(t,e,n="Mui"){const r={};return e.forEach(s=>{r[s]=Ee(t,s,n)}),r}var TN={exports:{}},zt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qw=Symbol.for("react.transitional.element"),Xw=Symbol.for("react.portal"),Vv=Symbol.for("react.fragment"),Bv=Symbol.for("react.strict_mode"),Uv=Symbol.for("react.profiler"),zv=Symbol.for("react.consumer"),Wv=Symbol.for("react.context"),Hv=Symbol.for("react.forward_ref"),qv=Symbol.for("react.suspense"),Gv=Symbol.for("react.suspense_list"),Yv=Symbol.for("react.memo"),Kv=Symbol.for("react.lazy"),v6=Symbol.for("react.view_transition"),y6=Symbol.for("react.client.reference");function Ms(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Qw:switch(t=t.type,t){case Vv:case Uv:case Bv:case qv:case Gv:case v6:return t;default:switch(t=t&&t.$$typeof,t){case Wv:case Hv:case Kv:case Yv:return t;case zv:return t;default:return e}}case Xw:return e}}}zt.ContextConsumer=zv;zt.ContextProvider=Wv;zt.Element=Qw;zt.ForwardRef=Hv;zt.Fragment=Vv;zt.Lazy=Kv;zt.Memo=Yv;zt.Portal=Xw;zt.Profiler=Uv;zt.StrictMode=Bv;zt.Suspense=qv;zt.SuspenseList=Gv;zt.isContextConsumer=function(t){return Ms(t)===zv};zt.isContextProvider=function(t){return Ms(t)===Wv};zt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Qw};zt.isForwardRef=function(t){return Ms(t)===Hv};zt.isFragment=function(t){return Ms(t)===Vv};zt.isLazy=function(t){return Ms(t)===Kv};zt.isMemo=function(t){return Ms(t)===Yv};zt.isPortal=function(t){return Ms(t)===Xw};zt.isProfiler=function(t){return Ms(t)===Uv};zt.isStrictMode=function(t){return Ms(t)===Bv};zt.isSuspense=function(t){return Ms(t)===qv};zt.isSuspenseList=function(t){return Ms(t)===Gv};zt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Vv||t===Uv||t===Bv||t===qv||t===Gv||typeof t=="object"&&t!==null&&(t.$$typeof===Kv||t.$$typeof===Yv||t.$$typeof===Wv||t.$$typeof===zv||t.$$typeof===Hv||t.$$typeof===y6||t.getModuleId!==void 0)};zt.typeOf=Ms;TN.exports=zt;var _S=TN.exports;const x6=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function EN(t){const e=`${t}`.match(x6);return e&&e[1]||""}function SN(t,e=""){return t.displayName||t.name||EN(t)||e}function bS(t,e,n){const r=SN(e);return t.displayName||(r!==""?`${n}(${r})`:n)}function _6(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return SN(t,"Component");if(typeof t=="object")switch(t.$$typeof){case _S.ForwardRef:return bS(t,t.render,"ForwardRef");case _S.Memo:return bS(t,t.type,"memo");default:return}}}const b6=Object.freeze(Object.defineProperty({__proto__:null,default:_6,getFunctionName:EN},Symbol.toStringTag,{value:"Module"})),w6=["ownerState"],C6=["variants"],T6=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function E6(t){return Object.keys(t).length===0}function S6(t){return typeof t=="string"&&t.charCodeAt(0)>96}function V0(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function wS(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}const I6=Du(),k6=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function Dp({defaultTheme:t,theme:e,themeId:n}){return E6(e)?t:e[n]||e}function R6(t){return t?(e,n)=>n[t]:null}function vm(t,e,n){let{ownerState:r}=e,s=oe(e,w6);const i=typeof t=="function"?t(j({ownerState:r},s)):t;if(Array.isArray(i))return i.flatMap(o=>vm(o,j({ownerState:r},s),n));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:o=[]}=i;let c=oe(i,C6);return o.forEach(u=>{let d=!0;if(typeof u.props=="function"?d=u.props(j({ownerState:r},s,r)):Object.keys(u.props).forEach(h=>{(r==null?void 0:r[h])!==u.props[h]&&s[h]!==u.props[h]&&(d=!1)}),d){Array.isArray(c)||(c=[c]);const h=typeof u.style=="function"?u.style(j({ownerState:r},s,r)):u.style;c.push(n?wS(lg(h),n):h)}}),c}return n?wS(lg(i),n):i}function P6(t={}){const{themeId:e,defaultTheme:n=I6,rootShouldForwardProp:r=V0,slotShouldForwardProp:s=V0}=t,i=o=>Nu(j({},o,{theme:Dp(j({},o,{defaultTheme:n,themeId:e}))}));return i.__mui_systemSx=!0,(o,l={})=>{pN(o,R=>R.filter(S=>!(S!=null&&S.__mui_systemSx)));const{name:c,slot:u,skipVariantsResolver:d,skipSx:h,overridesResolver:p=R6(k6(u))}=l,m=oe(l,T6),v=c&&c.startsWith("Mui")||u?"components":"custom",g=d!==void 0?d:u&&u!=="Root"&&u!=="root"||!1,b=h||!1;let x,_=V0;u==="Root"||u==="root"?_=r:u?_=s:S6(o)&&(_=void 0);const w=Ww(o,j({shouldForwardProp:_,label:x},m)),I=R=>typeof R=="function"&&R.__emotion_real!==R||Wi(R)?S=>{const E=Dp({theme:S.theme,defaultTheme:n,themeId:e});return vm(R,j({},S,{theme:E}),E.modularCssLayers?v:void 0)}:R,N=(R,...S)=>{let E=I(R);const C=S?S.map(I):[];c&&p&&C.push(M=>{const P=Dp(j({},M,{defaultTheme:n,themeId:e}));if(!P.components||!P.components[c]||!P.components[c].styleOverrides)return null;const O=P.components[c].styleOverrides,V={};return Object.entries(O).forEach(([B,z])=>{V[B]=vm(z,j({},M,{theme:P}),P.modularCssLayers?"theme":void 0)}),p(M,V)}),c&&!g&&C.push(M=>{var P;const O=Dp(j({},M,{defaultTheme:n,themeId:e})),V=O==null||(P=O.components)==null||(P=P[c])==null?void 0:P.variants;return vm({variants:V},j({},M,{theme:O}),O.modularCssLayers?"theme":void 0)}),b||C.push(i);const k=C.length-S.length;if(Array.isArray(R)&&k>0){const M=new Array(k).fill("");E=[...R,...M],E.raw=[...R.raw,...M]}const A=w(E,...C);return o.muiName&&(A.muiName=o.muiName),A};return w.withConfig&&(N.withConfig=w.withConfig),N}}const IN=P6();function Uh(t,e){const n=j({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=j({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const s=t[r]||{},i=e[r];n[r]={},!i||!Object.keys(i)?n[r]=s:!s||!Object.keys(s)?n[r]=i:(n[r]=j({},i),Object.keys(s).forEach(o=>{n[r][o]=Uh(s[o],i[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function kN(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:Uh(e.components[n].defaultProps,r)}function Jw({props:t,name:e,defaultTheme:n,themeId:r}){let s=ju(n);return r&&(s=s[r]||s),kN({theme:s,name:e,props:t})}const Pr=typeof window<"u"?y.useLayoutEffect:y.useEffect;function A6(t,e,n,r,s){const[i,o]=y.useState(()=>s&&n?n(t).matches:r?r(t).matches:e);return Pr(()=>{let l=!0;if(!n)return;const c=n(t),u=()=>{l&&o(c.matches)};return u(),c.addListener(u),()=>{l=!1,c.removeListener(u)}},[t,n]),i}const RN=y.useSyncExternalStore;function N6(t,e,n,r,s){const i=y.useCallback(()=>e,[e]),o=y.useMemo(()=>{if(s&&n)return()=>n(t).matches;if(r!==null){const{matches:d}=r(t);return()=>d}return i},[i,t,r,s,n]),[l,c]=y.useMemo(()=>{if(n===null)return[i,()=>()=>{}];const d=n(t);return[()=>d.matches,h=>(d.addListener(h),()=>{d.removeListener(h)})]},[i,n,t]);return RN(c,l,o)}function D6(t,e={}){const n=Fv(),r=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:s=!1,matchMedia:i=r?window.matchMedia:null,ssrMatchMedia:o=null,noSsr:l=!1}=kN({name:"MuiUseMediaQuery",props:e,theme:n});let c=t;return c=c.replace(/^@media( ?)/m,""),(RN!==void 0?N6:A6)(c,s,i,o,l)}function PN(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const j6=Object.freeze(Object.defineProperty({__proto__:null,default:PN},Symbol.toStringTag,{value:"Module"}));function M6(t,e=0,n=1){return PN(t,e,n)}function O6(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,s)=>s<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function AN(t){if(t.type)return t;if(t.charAt(0)==="#")return AN(O6(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(ho(9,t));let r=t.substring(e+1,t.length-1),s;if(n==="color"){if(r=r.split(" "),s=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(s)===-1)throw new Error(ho(10,s))}else r=r.split(",");return r=r.map(i=>parseFloat(i)),{type:n,values:r,colorSpace:s}}function L6(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((s,i)=>i<3?parseInt(s,10):s):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function ru(t,e){return t=AN(t),e=M6(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,L6(t)}function CS(...t){return t.reduce((e,n)=>n==null?e:function(...s){e.apply(this,s),n.apply(this,s)},()=>{})}function NN(t,e=166){let n;function r(...s){const i=()=>{t.apply(this,s)};clearTimeout(n),n=setTimeout(i,e)}return r.clear=()=>{clearTimeout(n)},r}function ym(t,e){var n,r;return y.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function Rr(t){return t&&t.ownerDocument||document}function bl(t){return Rr(t).defaultView||window}function R_(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let TS=0;function $6(t){const[e,n]=y.useState(t),r=t||e;return y.useEffect(()=>{e==null&&(TS+=1,n(`mui-${TS}`))},[e]),r}const ES=Om.useId;function Mu(t){if(ES!==void 0){const e=ES();return t??e}return $6(t)}function ki({controlled:t,default:e,name:n,state:r="value"}){const{current:s}=y.useRef(t!==void 0),[i,o]=y.useState(e),l=s?t:i,c=y.useCallback(u=>{s||o(u)},[]);return[l,c]}function ct(t){const e=y.useRef(t);return Pr(()=>{e.current=t}),y.useRef((...n)=>(0,e.current)(...n)).current}function on(...t){return y.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{R_(n,e)})},t)}const SS={};function F6(t,e){const n=y.useRef(SS);return n.current===SS&&(n.current=t(e)),n}const V6=[];function B6(t){y.useEffect(t,V6)}class Sf{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new Sf}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function nl(){const t=F6(Sf.create).current;return B6(t.disposeEffect),t}let Qv=!0,P_=!1;const U6=new Sf,z6={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function W6(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&z6[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function H6(t){t.metaKey||t.altKey||t.ctrlKey||(Qv=!0)}function B0(){Qv=!1}function q6(){this.visibilityState==="hidden"&&P_&&(Qv=!0)}function G6(t){t.addEventListener("keydown",H6,!0),t.addEventListener("mousedown",B0,!0),t.addEventListener("pointerdown",B0,!0),t.addEventListener("touchstart",B0,!0),t.addEventListener("visibilitychange",q6,!0)}function Y6(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return Qv||W6(e)}function DN(){const t=y.useCallback(s=>{s!=null&&G6(s.ownerDocument)},[]),e=y.useRef(!1);function n(){return e.current?(P_=!0,U6.start(100,()=>{P_=!1}),e.current=!1,!0):!1}function r(s){return Y6(s)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function jN(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function Re(t,e,n=void 0){const r={};return Object.keys(t).forEach(s=>{r[s]=t[s].reduce((i,o)=>{if(o){const l=e(o);l!==""&&i.push(l),n&&n[o]&&i.push(n[o])}return i},[]).join(" ")}),r}function su(t){return typeof t=="string"}function Tc(t,e,n){return t===void 0||su(t)?e:j({},e,{ownerState:j({},e.ownerState,n)})}function MN(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function IS(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function ON(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:s,className:i}=t;if(!e){const m=ue(n==null?void 0:n.className,i,s==null?void 0:s.className,r==null?void 0:r.className),v=j({},n==null?void 0:n.style,s==null?void 0:s.style,r==null?void 0:r.style),g=j({},n,s,r);return m.length>0&&(g.className=m),Object.keys(v).length>0&&(g.style=v),{props:g,internalRef:void 0}}const o=MN(j({},s,r)),l=IS(r),c=IS(s),u=e(o),d=ue(u==null?void 0:u.className,n==null?void 0:n.className,i,s==null?void 0:s.className,r==null?void 0:r.className),h=j({},u==null?void 0:u.style,n==null?void 0:n.style,s==null?void 0:s.style,r==null?void 0:r.style),p=j({},u,n,c,l);return d.length>0&&(p.className=d),Object.keys(h).length>0&&(p.style=h),{props:p,internalRef:u.ref}}function LN(t,e,n){return typeof t=="function"?t(e,n):t}const K6=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function wl(t){var e;const{elementType:n,externalSlotProps:r,ownerState:s,skipResolvingSlotProps:i=!1}=t,o=oe(t,K6),l=i?{}:LN(r,s),{props:c,internalRef:u}=ON(j({},o,{externalSlotProps:l})),d=on(u,l==null?void 0:l.ref,(e=t.additionalProps)==null?void 0:e.ref);return Tc(n,j({},c,{ref:d}),s)}function Ou(t){if(parseInt(y.version,10)>=19){var e;return(t==null||(e=t.props)==null?void 0:e.ref)||null}return(t==null?void 0:t.ref)||null}const $N=y.createContext(null);function FN(){return y.useContext($N)}const Q6=typeof Symbol=="function"&&Symbol.for,X6=Q6?Symbol.for("mui.nested"):"__THEME_NESTED__";function J6(t,e){return typeof e=="function"?e(t):j({},t,e)}function Z6(t){const{children:e,theme:n}=t,r=FN(),s=y.useMemo(()=>{const i=r===null?n:J6(r,n);return i!=null&&(i[X6]=r!==null),i},[n,r]);return a.jsx($N.Provider,{value:s,children:e})}const eB=["value"],VN=y.createContext();function tB(t){let{value:e}=t,n=oe(t,eB);return a.jsx(VN.Provider,j({value:e??!0},n))}const Zw=()=>{const t=y.useContext(VN);return t??!1},BN=y.createContext(void 0);function nB({value:t,children:e}){return a.jsx(BN.Provider,{value:t,children:e})}function rB(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const s=e.components[n];return s.defaultProps?Uh(s.defaultProps,r):!s.styleOverrides&&!s.variants?Uh(s,r):r}function sB({props:t,name:e}){const n=y.useContext(BN);return rB({props:t,name:e,theme:{components:n}})}function iB(t){const e=Fv(),n=Mu()||"",{modularCssLayers:r}=t;let s="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!r||e!==null?s="":typeof r=="string"?s=r.replace(/mui(?!\.)/g,s):s=`@layer ${s};`,Pr(()=>{const i=document.querySelector("head");if(!i)return;const o=i.firstChild;if(s){var l;if(o&&(l=o.hasAttribute)!=null&&l.call(o,"data-mui-layer-order")&&o.getAttribute("data-mui-layer-order")===n)return;const u=document.createElement("style");u.setAttribute("data-mui-layer-order",n),u.textContent=s,i.prepend(u)}else{var c;(c=i.querySelector(`style[data-mui-layer-order="${n}"]`))==null||c.remove()}},[s,n]),s?a.jsx(bN,{styles:s}):null}const kS={};function RS(t,e,n,r=!1){return y.useMemo(()=>{const s=t&&e[t]||e;if(typeof n=="function"){const i=n(s),o=t?j({},e,{[t]:i}):i;return r?()=>o:o}return t?j({},e,{[t]:n}):j({},e,n)},[t,e,n,r])}function oB(t){const{children:e,theme:n,themeId:r}=t,s=Fv(kS),i=FN()||kS,o=RS(r,s,n),l=RS(r,i,n,!0),c=o.direction==="rtl",u=iB(o);return a.jsx(Z6,{theme:l,children:a.jsx(Au.Provider,{value:o,children:a.jsx(tB,{value:c,children:a.jsxs(nB,{value:o==null?void 0:o.components,children:[u,e]})})})})}function fo(t){"@babel/helpers - typeof";return fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fo(t)}function aB(t,e){if(fo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UN(t){var e=aB(t,"string");return fo(e)=="symbol"?e:e+""}const lB=["className","component","disableGutters","fixed","maxWidth","classes"],cB=Du(),uB=IN("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${se(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),dB=t=>Jw({props:t,name:"MuiContainer",defaultTheme:cB}),hB=(t,e)=>{const n=c=>Ee(e,c),{classes:r,fixed:s,disableGutters:i,maxWidth:o}=t,l={root:["root",o&&`maxWidth${se(String(o))}`,s&&"fixed",i&&"disableGutters"]};return Re(l,n,r)};function fB(t={}){const{createStyledComponent:e=uB,useThemeProps:n=dB,componentName:r="MuiContainer"}=t,s=e(({theme:o,ownerState:l})=>j({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!l.disableGutters&&{paddingLeft:o.spacing(2),paddingRight:o.spacing(2),[o.breakpoints.up("sm")]:{paddingLeft:o.spacing(3),paddingRight:o.spacing(3)}}),({theme:o,ownerState:l})=>l.fixed&&Object.keys(o.breakpoints.values).reduce((c,u)=>{const d=u,h=o.breakpoints.values[d];return h!==0&&(c[o.breakpoints.up(d)]={maxWidth:`${h}${o.breakpoints.unit}`}),c},{}),({theme:o,ownerState:l})=>j({},l.maxWidth==="xs"&&{[o.breakpoints.up("xs")]:{maxWidth:Math.max(o.breakpoints.values.xs,444)}},l.maxWidth&&l.maxWidth!=="xs"&&{[o.breakpoints.up(l.maxWidth)]:{maxWidth:`${o.breakpoints.values[l.maxWidth]}${o.breakpoints.unit}`}}));return y.forwardRef(function(l,c){const u=n(l),{className:d,component:h="div",disableGutters:p=!1,fixed:m=!1,maxWidth:v="lg"}=u,g=oe(u,lB),b=j({},u,{component:h,disableGutters:p,fixed:m,maxWidth:v}),x=hB(b,r);return a.jsx(s,j({as:h,ownerState:b,className:ue(x.root,d),ref:c},g))})}const pB=["component","direction","spacing","divider","children","className","useFlexGap"],mB=Du(),gB=IN("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function vB(t){return Jw({props:t,name:"MuiStack",defaultTheme:mB})}function yB(t,e){const n=y.Children.toArray(t).filter(Boolean);return n.reduce((r,s,i)=>(r.push(s),i<n.length-1&&r.push(y.cloneElement(e,{key:`separator-${i}`})),r),[])}const xB=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],_B=({ownerState:t,theme:e})=>{let n=j({display:"flex",flexDirection:"column"},Kr({theme:e},cl({values:t.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r})));if(t.spacing){const r=Yw(e),s=Object.keys(e.breakpoints.values).reduce((c,u)=>((typeof t.spacing=="object"&&t.spacing[u]!=null||typeof t.direction=="object"&&t.direction[u]!=null)&&(c[u]=!0),c),{}),i=cl({values:t.direction,base:s}),o=cl({values:t.spacing,base:s});typeof i=="object"&&Object.keys(i).forEach((c,u,d)=>{if(!i[c]){const p=u>0?i[d[u-1]]:"column";i[c]=p}}),n=kr(n,Kr({theme:e},o,(c,u)=>t.useFlexGap?{gap:_l(r,c)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${xB(u?i[u]:t.direction)}`]:_l(r,c)}}))}return n=yV(e.breakpoints,n),n};function bB(t={}){const{createStyledComponent:e=gB,useThemeProps:n=vB,componentName:r="MuiStack"}=t,s=()=>Re({root:["root"]},c=>Ee(r,c),{}),i=e(_B);return y.forwardRef(function(c,u){const d=n(c),h=Ef(d),{component:p="div",direction:m="column",spacing:v=0,divider:g,children:b,className:x,useFlexGap:_=!1}=h,w=oe(h,pB),I={direction:m,spacing:v,useFlexGap:_},N=s();return a.jsx(i,j({as:p,ownerState:I,ref:u,className:ue(N.root,x)},w,{children:g?yB(b,g):b}))})}function wB(t,e){return j({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var In={},zN={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(zN);var WN=zN.exports;const CB=Ia(aF),TB=Ia(j6);var HN=WN;Object.defineProperty(In,"__esModule",{value:!0});var lt=In.alpha=KN;In.blend=MB;In.colorChannel=void 0;var iu=In.darken=t1;In.decomposeColor=Ps;In.emphasize=QN;var EB=In.getContrastRatio=PB;In.getLuminance=ug;In.hexToRgb=qN;In.hslToRgb=YN;var ou=In.lighten=n1;In.private_safeAlpha=AB;In.private_safeColorChannel=void 0;In.private_safeDarken=NB;In.private_safeEmphasize=jB;In.private_safeLighten=DB;In.recomposeColor=Lu;In.rgbToHex=RB;var PS=HN(CB),SB=HN(TB);function e1(t,e=0,n=1){return(0,SB.default)(t,e,n)}function qN(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,s)=>s<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function IB(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function Ps(t){if(t.type)return t;if(t.charAt(0)==="#")return Ps(qN(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,PS.default)(9,t));let r=t.substring(e+1,t.length-1),s;if(n==="color"){if(r=r.split(" "),s=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(s)===-1)throw new Error((0,PS.default)(10,s))}else r=r.split(",");return r=r.map(i=>parseFloat(i)),{type:n,values:r,colorSpace:s}}const GN=t=>{const e=Ps(t);return e.values.slice(0,3).map((n,r)=>e.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};In.colorChannel=GN;const kB=(t,e)=>{try{return GN(t)}catch{return t}};In.private_safeColorChannel=kB;function Lu(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((s,i)=>i<3?parseInt(s,10):s):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function RB(t){if(t.indexOf("#")===0)return t;const{values:e}=Ps(t);return`#${e.map((n,r)=>IB(r===3?Math.round(255*n):n)).join("")}`}function YN(t){t=Ps(t);const{values:e}=t,n=e[0],r=e[1]/100,s=e[2]/100,i=r*Math.min(s,1-s),o=(u,d=(u+n/30)%12)=>s-i*Math.max(Math.min(d-3,9-d,1),-1);let l="rgb";const c=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(l+="a",c.push(e[3])),Lu({type:l,values:c})}function ug(t){t=Ps(t);let e=t.type==="hsl"||t.type==="hsla"?Ps(YN(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function PB(t,e){const n=ug(t),r=ug(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function KN(t,e){return t=Ps(t),e=e1(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Lu(t)}function AB(t,e,n){try{return KN(t,e)}catch{return t}}function t1(t,e){if(t=Ps(t),e=e1(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Lu(t)}function NB(t,e,n){try{return t1(t,e)}catch{return t}}function n1(t,e){if(t=Ps(t),e=e1(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Lu(t)}function DB(t,e,n){try{return n1(t,e)}catch{return t}}function QN(t,e=.15){return ug(t)>.5?t1(t,e):n1(t,e)}function jB(t,e,n){try{return QN(t,e)}catch{return t}}function MB(t,e,n,r=1){const s=(c,u)=>Math.round((c**(1/r)*(1-n)+u**(1/r)*n)**r),i=Ps(t),o=Ps(e),l=[s(i.values[0],o.values[0]),s(i.values[1],o.values[1]),s(i.values[2],o.values[2])];return Lu({type:"rgb",values:l})}const zh={black:"#000",white:"#fff"},OB={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Zl={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},ec={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},vd={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},tc={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},nc={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},rc={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},LB=["mode","contrastThreshold","tonalOffset"],AS={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:zh.white,default:zh.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},U0={text:{primary:zh.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:zh.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function NS(t,e,n,r){const s=r.light||r,i=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=ou(t.main,s):e==="dark"&&(t.dark=iu(t.main,i)))}function $B(t="light"){return t==="dark"?{main:tc[200],light:tc[50],dark:tc[400]}:{main:tc[700],light:tc[400],dark:tc[800]}}function FB(t="light"){return t==="dark"?{main:Zl[200],light:Zl[50],dark:Zl[400]}:{main:Zl[500],light:Zl[300],dark:Zl[700]}}function VB(t="light"){return t==="dark"?{main:ec[500],light:ec[300],dark:ec[700]}:{main:ec[700],light:ec[400],dark:ec[800]}}function BB(t="light"){return t==="dark"?{main:nc[400],light:nc[300],dark:nc[700]}:{main:nc[700],light:nc[500],dark:nc[900]}}function UB(t="light"){return t==="dark"?{main:rc[400],light:rc[300],dark:rc[700]}:{main:rc[800],light:rc[500],dark:rc[900]}}function zB(t="light"){return t==="dark"?{main:vd[400],light:vd[300],dark:vd[700]}:{main:"#ed6c02",light:vd[500],dark:vd[900]}}function WB(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,s=oe(t,LB),i=t.primary||$B(e),o=t.secondary||FB(e),l=t.error||VB(e),c=t.info||BB(e),u=t.success||UB(e),d=t.warning||zB(e);function h(g){return EB(g,U0.text.primary)>=n?U0.text.primary:AS.text.primary}const p=({color:g,name:b,mainShade:x=500,lightShade:_=300,darkShade:w=700})=>{if(g=j({},g),!g.main&&g[x]&&(g.main=g[x]),!g.hasOwnProperty("main"))throw new Error(ho(11,b?` (${b})`:"",x));if(typeof g.main!="string")throw new Error(ho(12,b?` (${b})`:"",JSON.stringify(g.main)));return NS(g,"light",_,r),NS(g,"dark",w,r),g.contrastText||(g.contrastText=h(g.main)),g},m={dark:U0,light:AS};return kr(j({common:j({},zh),mode:e,primary:p({color:i,name:"primary"}),secondary:p({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:l,name:"error"}),warning:p({color:d,name:"warning"}),info:p({color:c,name:"info"}),success:p({color:u,name:"success"}),grey:OB,contrastThreshold:n,getContrastText:h,augmentColor:p,tonalOffset:r},m[e]),s)}const HB=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function qB(t){return Math.round(t*1e5)/1e5}const DS={textTransform:"uppercase"},jS='"Roboto", "Helvetica", "Arial", sans-serif';function GB(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=jS,fontSize:s=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:l=500,fontWeightBold:c=700,htmlFontSize:u=16,allVariants:d,pxToRem:h}=n,p=oe(n,HB),m=s/14,v=h||(x=>`${x/u*m}rem`),g=(x,_,w,I,N)=>j({fontFamily:r,fontWeight:x,fontSize:v(_),lineHeight:w},r===jS?{letterSpacing:`${qB(I/_)}em`}:{},N,d),b={h1:g(i,96,1.167,-1.5),h2:g(i,60,1.2,-.5),h3:g(o,48,1.167,0),h4:g(o,34,1.235,.25),h5:g(o,24,1.334,0),h6:g(l,20,1.6,.15),subtitle1:g(o,16,1.75,.15),subtitle2:g(l,14,1.57,.1),body1:g(o,16,1.5,.15),body2:g(o,14,1.43,.15),button:g(l,14,1.75,.4,DS),caption:g(o,12,1.66,.4),overline:g(o,12,2.66,1,DS),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return kr(j({htmlFontSize:u,pxToRem:v,fontFamily:r,fontSize:s,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:l,fontWeightBold:c},b),p,{clone:!1})}const YB=.2,KB=.14,QB=.12;function tn(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${YB})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${KB})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${QB})`].join(",")}const XB=["none",tn(0,2,1,-1,0,1,1,0,0,1,3,0),tn(0,3,1,-2,0,2,2,0,0,1,5,0),tn(0,3,3,-2,0,3,4,0,0,1,8,0),tn(0,2,4,-1,0,4,5,0,0,1,10,0),tn(0,3,5,-1,0,5,8,0,0,1,14,0),tn(0,3,5,-1,0,6,10,0,0,1,18,0),tn(0,4,5,-2,0,7,10,1,0,2,16,1),tn(0,5,5,-3,0,8,10,1,0,3,14,2),tn(0,5,6,-3,0,9,12,1,0,3,16,2),tn(0,6,6,-3,0,10,14,1,0,4,18,3),tn(0,6,7,-4,0,11,15,1,0,4,20,3),tn(0,7,8,-4,0,12,17,2,0,5,22,4),tn(0,7,8,-4,0,13,19,2,0,5,24,4),tn(0,7,9,-4,0,14,21,2,0,5,26,4),tn(0,8,9,-5,0,15,22,2,0,6,28,5),tn(0,8,10,-5,0,16,24,2,0,6,30,5),tn(0,8,11,-5,0,17,26,2,0,6,32,5),tn(0,9,11,-5,0,18,28,2,0,7,34,6),tn(0,9,12,-6,0,19,29,2,0,7,36,6),tn(0,10,13,-6,0,20,31,3,0,8,38,7),tn(0,10,13,-6,0,21,33,3,0,8,40,7),tn(0,10,14,-6,0,22,35,3,0,8,42,7),tn(0,11,14,-7,0,23,36,3,0,9,44,8),tn(0,11,15,-7,0,24,38,3,0,9,46,8)],JB=["duration","easing","delay"],ZB={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},XN={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function MS(t){return`${Math.round(t)}ms`}function eU(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function tU(t){const e=j({},ZB,t.easing),n=j({},XN,t.duration);return j({getAutoHeightDuration:eU,create:(s=["all"],i={})=>{const{duration:o=n.standard,easing:l=e.easeInOut,delay:c=0}=i;return oe(i,JB),(Array.isArray(s)?s:[s]).map(u=>`${u} ${typeof o=="string"?o:MS(o)} ${l} ${typeof c=="string"?c:MS(c)}`).join(",")}},t,{easing:e,duration:n})}const nU={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},rU=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function r1(t={},...e){const{mixins:n={},palette:r={},transitions:s={},typography:i={}}=t,o=oe(t,rU);if(t.vars&&t.generateCssVars===void 0)throw new Error(ho(18));const l=WB(r),c=Du(t);let u=kr(c,{mixins:wB(c.breakpoints,n),palette:l,shadows:XB.slice(),typography:GB(l,i),transitions:tU(s),zIndex:j({},nU)});return u=kr(u,o),u=e.reduce((d,h)=>kr(d,h),u),u.unstable_sxConfig=j({},Tf,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(h){return Nu({sx:h,theme:this})},u}const Xv=r1();function Di(){const t=ju(Xv);return t[xl]||t}function Os({props:t,name:e}){return Jw({props:t,name:e,defaultTheme:Xv,themeId:xl})}var If={},z0={exports:{}},OS;function sU(){return OS||(OS=1,function(t){function e(n,r){if(n==null)return{};var s={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(r.indexOf(i)!==-1)continue;s[i]=n[i]}return s}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(z0)),z0.exports}const JN=Ia(fV),iU=Ia(pV),oU=Ia(_V),aU=Ia(b6),lU=Ia(a6),cU=Ia(h6);var $u=WN;Object.defineProperty(If,"__esModule",{value:!0});var uU=If.default=CU;If.shouldForwardProp=xm;If.systemDefaultTheme=void 0;var ys=$u(hN()),A_=$u(sU()),dg=vU(JN),dU=iU;$u(oU);$u(aU);var hU=$u(lU),fU=$u(cU);const pU=["ownerState"],mU=["variants"],gU=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function ZN(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(ZN=function(r){return r?n:e})(t)}function vU(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=ZN(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var o=s?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=t[i]}return r.default=t,n&&n.set(t,r),r}function yU(t){return Object.keys(t).length===0}function xU(t){return typeof t=="string"&&t.charCodeAt(0)>96}function xm(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function LS(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}const _U=If.systemDefaultTheme=(0,hU.default)(),bU=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function jp({defaultTheme:t,theme:e,themeId:n}){return yU(e)?t:e[n]||e}function wU(t){return t?(e,n)=>n[t]:null}function _m(t,e,n){let{ownerState:r}=e,s=(0,A_.default)(e,pU);const i=typeof t=="function"?t((0,ys.default)({ownerState:r},s)):t;if(Array.isArray(i))return i.flatMap(o=>_m(o,(0,ys.default)({ownerState:r},s),n));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:o=[]}=i;let c=(0,A_.default)(i,mU);return o.forEach(u=>{let d=!0;if(typeof u.props=="function"?d=u.props((0,ys.default)({ownerState:r},s,r)):Object.keys(u.props).forEach(h=>{(r==null?void 0:r[h])!==u.props[h]&&s[h]!==u.props[h]&&(d=!1)}),d){Array.isArray(c)||(c=[c]);const h=typeof u.style=="function"?u.style((0,ys.default)({ownerState:r},s,r)):u.style;c.push(n?LS((0,dg.internal_serializeStyles)(h),n):h)}}),c}return n?LS((0,dg.internal_serializeStyles)(i),n):i}function CU(t={}){const{themeId:e,defaultTheme:n=_U,rootShouldForwardProp:r=xm,slotShouldForwardProp:s=xm}=t,i=o=>(0,fU.default)((0,ys.default)({},o,{theme:jp((0,ys.default)({},o,{defaultTheme:n,themeId:e}))}));return i.__mui_systemSx=!0,(o,l={})=>{(0,dg.internal_processStyles)(o,R=>R.filter(S=>!(S!=null&&S.__mui_systemSx)));const{name:c,slot:u,skipVariantsResolver:d,skipSx:h,overridesResolver:p=wU(bU(u))}=l,m=(0,A_.default)(l,gU),v=c&&c.startsWith("Mui")||u?"components":"custom",g=d!==void 0?d:u&&u!=="Root"&&u!=="root"||!1,b=h||!1;let x,_=xm;u==="Root"||u==="root"?_=r:u?_=s:xU(o)&&(_=void 0);const w=(0,dg.default)(o,(0,ys.default)({shouldForwardProp:_,label:x},m)),I=R=>typeof R=="function"&&R.__emotion_real!==R||(0,dU.isPlainObject)(R)?S=>{const E=jp({theme:S.theme,defaultTheme:n,themeId:e});return _m(R,(0,ys.default)({},S,{theme:E}),E.modularCssLayers?v:void 0)}:R,N=(R,...S)=>{let E=I(R);const C=S?S.map(I):[];c&&p&&C.push(M=>{const P=jp((0,ys.default)({},M,{defaultTheme:n,themeId:e}));if(!P.components||!P.components[c]||!P.components[c].styleOverrides)return null;const O=P.components[c].styleOverrides,V={};return Object.entries(O).forEach(([B,z])=>{V[B]=_m(z,(0,ys.default)({},M,{theme:P}),P.modularCssLayers?"theme":void 0)}),p(M,V)}),c&&!g&&C.push(M=>{var P;const O=jp((0,ys.default)({},M,{defaultTheme:n,themeId:e})),V=O==null||(P=O.components)==null||(P=P[c])==null?void 0:P.variants;return _m({variants:V},(0,ys.default)({},M,{theme:O}),O.modularCssLayers?"theme":void 0)}),b||C.push(i);const k=C.length-S.length;if(Array.isArray(R)&&k>0){const M=new Array(k).fill("");E=[...R,...M],E.raw=[...R.raw,...M]}const A=w(E,...C);return o.muiName&&(A.muiName=o.muiName),A};return w.withConfig&&(N.withConfig=w.withConfig),N}}function eD(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Xr=t=>eD(t)&&t!=="classes",X=uU({themeId:xl,defaultTheme:Xv,rootShouldForwardProp:Xr}),TU=["theme"];function EU(t){let{theme:e}=t,n=oe(t,TU);const r=e[xl];let s=r||e;return typeof e!="function"&&(r&&!r.vars?s=j({},r,{vars:null}):e&&!e.vars&&(s=j({},e,{vars:null}))),a.jsx(oB,j({},n,{themeId:r?xl:void 0,theme:s}))}const $S=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)};function je(t){return sB(t)}function tD(t){return a.jsx(bN,j({},t,{defaultTheme:Xv,themeId:xl}))}const SU=(t,e)=>j({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},e&&!t.vars&&{colorScheme:t.palette.mode}),IU=t=>j({color:(t.vars||t).palette.text.primary},t.typography.body1,{backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}}),kU=(t,e=!1)=>{var n;const r={};e&&t.colorSchemes&&Object.entries(t.colorSchemes).forEach(([o,l])=>{var c;r[t.getColorSchemeSelector(o).replace(/\s*&/,"")]={colorScheme:(c=l.palette)==null?void 0:c.mode}});let s=j({html:SU(t,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:j({margin:0},IU(t),{"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}})},r);const i=(n=t.components)==null||(n=n.MuiCssBaseline)==null?void 0:n.styleOverrides;return i&&(s=[s,i]),s};function RU(t){const e=je({props:t,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=e;return a.jsxs(y.Fragment,{children:[a.jsx(tD,{styles:s=>kU(s,r)}),n]})}var FS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ke=function(t,e){if(!t)throw Fu(e)},Fu=function(t){return new Error("Firebase Database ("+nD.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},PU=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},s1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,d=i>>2,h=(i&3)<<4|l>>4;let p=(l&15)<<2|u>>6,m=u&63;c||(m=64,o||(p=64)),r.push(n[d],n[h],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(rD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):PU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||u==null||h==null)throw new AU;const p=i<<2|l>>4;if(r.push(p),u!==64){const m=l<<4&240|u>>2;if(r.push(m),h!==64){const v=u<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class AU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sD=function(t){const e=rD(t);return s1.encodeByteArray(e,!0)},hg=function(t){return sD(t).replace(/\./g,"")},fg=function(t){try{return s1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NU(t){return iD(void 0,t)}function iD(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!DU(n)||(t[n]=iD(t[n],e[n]));return t}function DU(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MU=()=>jU().__FIREBASE_DEFAULTS__,OU=()=>{if(typeof process>"u"||typeof FS>"u")return;const t=FS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},LU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&fg(t[1]);return e&&JSON.parse(e)},Jv=()=>{try{return MU()||OU()||LU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},oD=t=>{var e,n;return(n=(e=Jv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},i1=t=>{const e=oD(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},aD=()=>{var t;return(t=Jv())===null||t===void 0?void 0:t.config},lD=t=>{var e;return(e=Jv())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[hg(JSON.stringify(n)),hg(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function a1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yr())}function $U(){var t;const e=(t=Jv())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VU(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function uD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BU(){const t=yr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function UU(){return nD.NODE_ADMIN===!0}function zU(){return!$U()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WU(){try{return typeof indexedDB=="object"}catch{return!1}}function HU(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qU="FirebaseError";class ji extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=qU,Object.setPrototypeOf(this,ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kf.prototype.create)}}class kf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?GU(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new ji(s,l,r)}}function GU(t,e){return t.replace(YU,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const YU=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(t){return JSON.parse(t)}function Xn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=Wh(fg(i[0])||""),n=Wh(fg(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},KU=function(t){const e=dD(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},QU=function(t){const e=dD(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function au(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function N_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function pg(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function Hh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(VS(i)&&VS(o)){if(!Hh(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function VS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Fd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Vd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const p=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(p<<1|p>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],l=this.chain_[3],c=this.chain_[4],u,d;for(let h=0;h<80;h++){h<40?h<20?(u=l^i&(o^l),d=1518500249):(u=i^o^l,d=1859775393):h<60?(u=i&o|l&(i|o),d=2400959708):(u=i^o^l,d=3395469782);const p=(s<<5|s>>>27)+u+c+d+r[h]&4294967295;c=l,l=o,o=(i<<30|i>>>2)&4294967295,i=s,s=p}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}else for(;s<n;)if(i[o]=e[s],++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function JU(t,e){const n=new ZU(t,e);return n.subscribe.bind(n)}class ZU{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ez(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=W0),s.error===void 0&&(s.error=W0),s.complete===void 0&&(s.complete=W0);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ez(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function W0(){}function tz(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nz=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,ke(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;s=65536+(i<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Zv=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(t){return t&&t._delegate?t._delegate:t}class Ri{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rz{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new o1;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iz(e))try{this.getOrInitializeService({instanceIdentifier:Ya})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ya){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ya){return this.instances.has(e)}getOptions(e=Ya){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sz(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ya){return this.component?this.component.multipleInstances?e:Ya:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sz(t){return t===Ya?void 0:t}function iz(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oz{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rz(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(at||(at={}));const az={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},lz=at.INFO,cz={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},uz=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=cz[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ey{constructor(e){this.name=e,this._logLevel=lz,this._logHandler=uz,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?az[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const dz=(t,e)=>e.some(n=>t instanceof n);let BS,US;function hz(){return BS||(BS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fz(){return US||(US=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hD=new WeakMap,D_=new WeakMap,fD=new WeakMap,H0=new WeakMap,l1=new WeakMap;function pz(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(da(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&hD.set(n,t)}).catch(()=>{}),l1.set(e,t),e}function mz(t){if(D_.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});D_.set(t,e)}let j_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return D_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return da(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gz(t){j_=t(j_)}function vz(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(q0(this),e,...n);return fD.set(r,e.sort?e.sort():[e]),da(r)}:fz().includes(t)?function(...e){return t.apply(q0(this),e),da(hD.get(this))}:function(...e){return da(t.apply(q0(this),e))}}function yz(t){return typeof t=="function"?vz(t):(t instanceof IDBTransaction&&mz(t),dz(t,hz())?new Proxy(t,j_):t)}function da(t){if(t instanceof IDBRequest)return pz(t);if(H0.has(t))return H0.get(t);const e=yz(t);return e!==t&&(H0.set(t,e),l1.set(e,t)),e}const q0=t=>l1.get(t);function xz(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=da(o);return r&&o.addEventListener("upgradeneeded",c=>{r(da(o.result),c.oldVersion,c.newVersion,da(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const _z=["get","getKey","getAll","getAllKeys","count"],bz=["put","add","delete","clear"],G0=new Map;function zS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(G0.get(e))return G0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=bz.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||_z.includes(n)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return G0.set(e,i),i}gz(t=>({...t,get:(e,n,r)=>zS(e,n)||t.get(e,n,r),has:(e,n)=>!!zS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wz{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Cz(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Cz(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const M_="@firebase/app",WS="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=new ey("@firebase/app"),Tz="@firebase/app-compat",Ez="@firebase/analytics-compat",Sz="@firebase/analytics",Iz="@firebase/app-check-compat",kz="@firebase/app-check",Rz="@firebase/auth",Pz="@firebase/auth-compat",Az="@firebase/database",Nz="@firebase/data-connect",Dz="@firebase/database-compat",jz="@firebase/functions",Mz="@firebase/functions-compat",Oz="@firebase/installations",Lz="@firebase/installations-compat",$z="@firebase/messaging",Fz="@firebase/messaging-compat",Vz="@firebase/performance",Bz="@firebase/performance-compat",Uz="@firebase/remote-config",zz="@firebase/remote-config-compat",Wz="@firebase/storage",Hz="@firebase/storage-compat",qz="@firebase/firestore",Gz="@firebase/vertexai-preview",Yz="@firebase/firestore-compat",Kz="firebase",Qz="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_="[DEFAULT]",Xz={[M_]:"fire-core",[Tz]:"fire-core-compat",[Sz]:"fire-analytics",[Ez]:"fire-analytics-compat",[kz]:"fire-app-check",[Iz]:"fire-app-check-compat",[Rz]:"fire-auth",[Pz]:"fire-auth-compat",[Az]:"fire-rtdb",[Nz]:"fire-data-connect",[Dz]:"fire-rtdb-compat",[jz]:"fire-fn",[Mz]:"fire-fn-compat",[Oz]:"fire-iid",[Lz]:"fire-iid-compat",[$z]:"fire-fcm",[Fz]:"fire-fcm-compat",[Vz]:"fire-perf",[Bz]:"fire-perf-compat",[Uz]:"fire-rc",[zz]:"fire-rc-compat",[Wz]:"fire-gcs",[Hz]:"fire-gcs-compat",[qz]:"fire-fst",[Yz]:"fire-fst-compat",[Gz]:"fire-vertex","fire-js":"fire-js",[Kz]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg=new Map,Jz=new Map,L_=new Map;function HS(t,e){try{t.container.addComponent(e)}catch(n){po.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function mo(t){const e=t.name;if(L_.has(e))return po.debug(`There were multiple attempts to register component ${e}.`),!1;L_.set(e,t);for(const n of mg.values())HS(n,t);for(const n of Jz.values())HS(n,t);return!0}function Bu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function pi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ha=new kf("app","Firebase",Zz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ri("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ha.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa=Qz;function pD(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:O_,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw ha.create("bad-app-name",{appName:String(s)});if(n||(n=aD()),!n)throw ha.create("no-options");const i=mg.get(s);if(i){if(Hh(n,i.options)&&Hh(r,i.config))return i;throw ha.create("duplicate-app",{appName:s})}const o=new oz(s);for(const c of L_.values())o.addComponent(c);const l=new e9(n,r,o);return mg.set(s,l),l}function ty(t=O_){const e=mg.get(t);if(!e&&t===O_&&aD())return pD();if(!e)throw ha.create("no-app",{appName:t});return e}function Hr(t,e,n){var r;let s=(r=Xz[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),po.warn(l.join(" "));return}mo(new Ri(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t9="firebase-heartbeat-database",n9=1,qh="firebase-heartbeat-store";let Y0=null;function mD(){return Y0||(Y0=xz(t9,n9,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(qh)}catch(n){console.warn(n)}}}}).catch(t=>{throw ha.create("idb-open",{originalErrorMessage:t.message})})),Y0}async function r9(t){try{const n=(await mD()).transaction(qh),r=await n.objectStore(qh).get(gD(t));return await n.done,r}catch(e){if(e instanceof ji)po.warn(e.message);else{const n=ha.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});po.warn(n.message)}}}async function qS(t,e){try{const r=(await mD()).transaction(qh,"readwrite");await r.objectStore(qh).put(e,gD(t)),await r.done}catch(n){if(n instanceof ji)po.warn(n.message);else{const r=ha.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});po.warn(r.message)}}}function gD(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9=1024,i9=30*24*60*60*1e3;class o9{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new l9(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=GS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=i9}),this._storage.overwrite(this._heartbeatsCache))}catch(r){po.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=GS(),{heartbeatsToSend:r,unsentEntries:s}=a9(this._heartbeatsCache.heartbeats),i=hg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return po.warn(n),""}}}function GS(){return new Date().toISOString().substring(0,10)}function a9(t,e=s9){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),YS(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),YS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class l9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WU()?HU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await r9(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return qS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return qS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function YS(t){return hg(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c9(t){mo(new Ri("platform-logger",e=>new wz(e),"PRIVATE")),mo(new Ri("heartbeat",e=>new o9(e),"PRIVATE")),Hr(M_,WS,t),Hr(M_,WS,"esm2017"),Hr("fire-js","")}c9("");function c1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function vD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const u9=vD,yD=new kf("auth","Firebase",vD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg=new ey("@firebase/auth");function d9(t,...e){gg.logLevel<=at.WARN&&gg.warn(`Auth (${Aa}): ${t}`,...e)}function bm(t,...e){gg.logLevel<=at.ERROR&&gg.error(`Auth (${Aa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(t,...e){throw u1(t,...e)}function bi(t,...e){return u1(t,...e)}function xD(t,e,n){const r=Object.assign(Object.assign({},u9()),{[e]:n});return new kf("auth","Firebase",r).create(e,{appName:t.name})}function eo(t){return xD(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function u1(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return yD.create(t,...e)}function ze(t,e,...n){if(!t)throw u1(e,...n)}function Gi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw bm(e),new Error(e)}function go(t,e){t||Gi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function h9(){return KS()==="http:"||KS()==="https:"}function KS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(h9()||VU()||"connection"in navigator)?navigator.onLine:!0}function p9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,n){this.shortDelay=e,this.longDelay=n,go(n>e,"Short delay should be less than long delay!"),this.isMobile=a1()||uD()}get(){return f9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(t,e){go(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g9=new Rf(3e4,6e4);function Na(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Da(t,e,n,r,s={}){return bD(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const l=Vu(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},i);return FU()||(u.referrerPolicy="no-referrer"),_D.fetch()(wD(t,t.config.apiHost,n,l),u)})}async function bD(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},m9),e);try{const s=new y9(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Mp(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mp(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Mp(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Mp(t,"user-disabled",o);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw xD(t,d,u);Zs(t,d)}}catch(s){if(s instanceof ji)throw s;Zs(t,"network-request-failed",{message:String(s)})}}async function Pf(t,e,n,r,s={}){const i=await Da(t,e,n,r,s);return"mfaPendingCredential"in i&&Zs(t,"multi-factor-auth-required",{_serverResponse:i}),i}function wD(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?d1(t.config,s):`${t.config.apiScheme}://${s}`}function v9(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class y9{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(bi(this.auth,"network-request-failed")),g9.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=bi(t,e,r);return s.customData._tokenResponse=n,s}function QS(t){return t!==void 0&&t.enterprise!==void 0}class x9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return v9(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function _9(t,e){return Da(t,"GET","/v2/recaptchaConfig",Na(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b9(t,e){return Da(t,"POST","/v1/accounts:delete",e)}async function CD(t,e){return Da(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function w9(t,e=!1){const n=Ut(t),r=await n.getIdToken(e),s=h1(r);ze(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:rh(K0(s.auth_time)),issuedAtTime:rh(K0(s.iat)),expirationTime:rh(K0(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function K0(t){return Number(t)*1e3}function h1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return bm("JWT malformed, contained fewer than 3 sections"),null;try{const s=fg(n);return s?JSON.parse(s):(bm("Failed to decode base64 JWT payload"),null)}catch(s){return bm("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function XS(t){const e=h1(t);return ze(e,"internal-error"),ze(typeof e.exp<"u","internal-error"),ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ji&&C9(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function C9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=rh(this.lastLoginAt),this.creationTime=rh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vg(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Gh(t,CD(n,{idToken:r}));ze(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?TD(i.providerUserInfo):[],l=S9(t.providerData,o),c=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),d=c?u:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new F_(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function E9(t){const e=Ut(t);await vg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function S9(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function TD(t){return t.map(e=>{var{providerId:n}=e,r=c1(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I9(t,e){const n=await bD(t,{},async()=>{const r=Vu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=wD(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",_D.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function k9(t,e){return Da(t,"POST","/v2/accounts:revokeToken",Na(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ze(e.idToken,"internal-error"),ze(typeof e.idToken<"u","internal-error"),ze(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):XS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ze(e.length!==0,"internal-error");const n=XS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await I9(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new $c;return r&&(ze(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ze(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ze(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $c,this.toJSON())}_performRefresh(){return Gi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(t,e){ze(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Yi{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=c1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new T9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new F_(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Gh(this,this.stsTokenManager.getToken(this.auth,e));return ze(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return w9(this,e)}reload(){return E9(this)}_assign(e){this!==e&&(ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Yi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await vg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pi(this.auth.app))return Promise.reject(eo(this.auth));const e=await this.getIdToken();return await Gh(this,b9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,l,c,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,m=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(l=n.tenantId)!==null&&l!==void 0?l:void 0,b=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,x=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:w,emailVerified:I,isAnonymous:N,providerData:R,stsTokenManager:S}=n;ze(w&&S,e,"internal-error");const E=$c.fromJSON(this.name,S);ze(typeof w=="string",e,"internal-error"),Mo(h,e.name),Mo(p,e.name),ze(typeof I=="boolean",e,"internal-error"),ze(typeof N=="boolean",e,"internal-error"),Mo(m,e.name),Mo(v,e.name),Mo(g,e.name),Mo(b,e.name),Mo(x,e.name),Mo(_,e.name);const C=new Yi({uid:w,auth:e,email:p,emailVerified:I,displayName:h,isAnonymous:N,photoURL:v,phoneNumber:m,tenantId:g,stsTokenManager:E,createdAt:x,lastLoginAt:_});return R&&Array.isArray(R)&&(C.providerData=R.map(k=>Object.assign({},k))),b&&(C._redirectEventId=b),C}static async _fromIdTokenResponse(e,n,r=!1){const s=new $c;s.updateFromServerResponse(n);const i=new Yi({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await vg(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ze(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?TD(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new $c;l.updateFromIdToken(r);const c=new Yi({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new F_(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS=new Map;function Ki(t){go(t instanceof Function,"Expected a class definition");let e=JS.get(t);return e?(go(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,JS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ED.type="NONE";const ZS=ED;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(t,e,n){return`firebase:${t}:${e}:${n}`}class Fc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=wm(this.userKey,s.apiKey,i),this.fullPersistenceKey=wm("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Yi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Fc(Ki(ZS),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Ki(ZS);const o=wm(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const d=await u._get(o);if(d){const h=Yi._fromJSON(e,d);u!==i&&(l=h),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Fc(i,e,r):(i=c[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Fc(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(RD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(SD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AD(e))return"Blackberry";if(ND(e))return"Webos";if(ID(e))return"Safari";if((e.includes("chrome/")||kD(e))&&!e.includes("edge/"))return"Chrome";if(PD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function SD(t=yr()){return/firefox\//i.test(t)}function ID(t=yr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kD(t=yr()){return/crios\//i.test(t)}function RD(t=yr()){return/iemobile/i.test(t)}function PD(t=yr()){return/android/i.test(t)}function AD(t=yr()){return/blackberry/i.test(t)}function ND(t=yr()){return/webos/i.test(t)}function f1(t=yr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function R9(t=yr()){var e;return f1(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function P9(){return BU()&&document.documentMode===10}function DD(t=yr()){return f1(t)||PD(t)||ND(t)||AD(t)||/windows phone/i.test(t)||RD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(t,e=[]){let n;switch(t){case"Browser":n=eI(yr());break;case"Worker":n=`${eI(yr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Aa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,l)=>{try{const c=e(i);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N9(t,e={}){return Da(t,"GET","/v2/passwordPolicy",Na(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9=6;class j9{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:D9,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tI(this),this.idTokenSubscription=new tI(this),this.beforeStateQueue=new A9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ki(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Fc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await CD(this,{idToken:e}),r=await Yi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(pi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=p9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pi(this.app))return Promise.reject(eo(this));const n=e?Ut(e):null;return n&&ze(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pi(this.app)?Promise.reject(eo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pi(this.app)?Promise.reject(eo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ki(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await N9(this),n=new j9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new kf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await k9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ki(e)||this._popupRedirectResolver;ze(n,this,"argument-error"),this.redirectPersistenceManager=await Fc.create(this,[Ki(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ze(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&d9(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Fl(t){return Ut(t)}let tI=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=JU(n=>this.observer=n)}get next(){return ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ny={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function O9(t){ny=t}function MD(t){return ny.loadJS(t)}function L9(){return ny.recaptchaEnterpriseScript}function $9(){return ny.gapiScript}function F9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const V9="recaptcha-enterprise",B9="NO_RECAPTCHA";class U9{constructor(e){this.type=V9,this.auth=Fl(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,l)=>{_9(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new x9(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(c=>{l(c)})})}function s(i,o,l){const c=window.grecaptcha;QS(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(B9)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(l=>{if(!n&&QS(window.grecaptcha))s(l,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=L9();c.length!==0&&(c+=l),MD(c).then(()=>{s(l,i,o)}).catch(u=>{o(u)})}}).catch(l=>{o(l)})})}}async function nI(t,e,n,r=!1){const s=new U9(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function V_(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await nI(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await nI(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z9(t,e){const n=Bu(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Hh(i,e??{}))return s;Zs(s,"already-initialized")}return n.initialize({options:e})}function W9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ki);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function H9(t,e,n){const r=Fl(t);ze(r._canInitEmulator,r,"emulator-config-failed"),ze(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=OD(e),{host:o,port:l}=q9(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${i}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),G9()}function OD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function q9(t){const e=OD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:rI(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:rI(o)}}}function rI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function G9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gi("not implemented")}_getIdTokenResponse(e){return Gi("not implemented")}_linkToIdToken(e,n){return Gi("not implemented")}_getReauthenticationResolver(e){return Gi("not implemented")}}async function Y9(t,e){return Da(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K9(t,e){return Pf(t,"POST","/v1/accounts:signInWithPassword",Na(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q9(t,e){return Pf(t,"POST","/v1/accounts:signInWithEmailLink",Na(t,e))}async function X9(t,e){return Pf(t,"POST","/v1/accounts:signInWithEmailLink",Na(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh extends p1{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Yh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Yh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return V_(e,n,"signInWithPassword",K9);case"emailLink":return Q9(e,{email:this._email,oobCode:this._password});default:Zs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return V_(e,r,"signUpPassword",Y9);case"emailLink":return X9(e,{idToken:n,email:this._email,oobCode:this._password});default:Zs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vc(t,e){return Pf(t,"POST","/v1/accounts:signInWithIdp",Na(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9="http://localhost";class Cl extends p1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Cl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Zs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=c1(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Cl(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Vc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Vc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Vc(e,n)}buildRequest(){const e={requestUri:J9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Vu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function eW(t){const e=Fd(Vd(t)).link,n=e?Fd(Vd(e)).deep_link_id:null,r=Fd(Vd(t)).deep_link_id;return(r?Fd(Vd(r)).link:null)||r||n||e||t}class m1{constructor(e){var n,r,s,i,o,l;const c=Fd(Vd(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,h=Z9((s=c.mode)!==null&&s!==void 0?s:null);ze(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=eW(e);try{return new m1(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(){this.providerId=Uu.PROVIDER_ID}static credential(e,n){return Yh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=m1.parseLink(n);return ze(r,"argument-error"),Yh._fromEmailAndCode(e,r.code,r.tenantId)}}Uu.PROVIDER_ID="password";Uu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Uu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af extends LD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo extends Af{constructor(){super("facebook.com")}static credential(e){return Cl._fromParams({providerId:zo.PROVIDER_ID,signInMethod:zo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zo.credentialFromTaggedObject(e)}static credentialFromError(e){return zo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zo.credential(e.oauthAccessToken)}catch{return null}}}zo.FACEBOOK_SIGN_IN_METHOD="facebook.com";zo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo extends Af{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Cl._fromParams({providerId:Wo.PROVIDER_ID,signInMethod:Wo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Wo.credentialFromTaggedObject(e)}static credentialFromError(e){return Wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Wo.credential(n,r)}catch{return null}}}Wo.GOOGLE_SIGN_IN_METHOD="google.com";Wo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho extends Af{constructor(){super("github.com")}static credential(e){return Cl._fromParams({providerId:Ho.PROVIDER_ID,signInMethod:Ho.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ho.credentialFromTaggedObject(e)}static credentialFromError(e){return Ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ho.credential(e.oauthAccessToken)}catch{return null}}}Ho.GITHUB_SIGN_IN_METHOD="github.com";Ho.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo extends Af{constructor(){super("twitter.com")}static credential(e,n){return Cl._fromParams({providerId:qo.PROVIDER_ID,signInMethod:qo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return qo.credentialFromTaggedObject(e)}static credentialFromError(e){return qo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return qo.credential(n,r)}catch{return null}}}qo.TWITTER_SIGN_IN_METHOD="twitter.com";qo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tW(t,e){return Pf(t,"POST","/v1/accounts:signUp",Na(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Yi._fromIdTokenResponse(e,r,s),o=sI(r);return new Tl({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=sI(r);return new Tl({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function sI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg extends ji{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,yg.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new yg(e,n,r,s)}}function $D(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?yg._fromErrorAndOperation(t,i,e,r):i})}async function nW(t,e,n=!1){const r=await Gh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Tl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rW(t,e,n=!1){const{auth:r}=t;if(pi(r.app))return Promise.reject(eo(r));const s="reauthenticate";try{const i=await Gh(t,$D(r,s,e,t),n);ze(i.idToken,r,"internal-error");const o=h1(i.idToken);ze(o,r,"internal-error");const{sub:l}=o;return ze(t.uid===l,r,"user-mismatch"),Tl._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Zs(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FD(t,e,n=!1){if(pi(t.app))return Promise.reject(eo(t));const r="signIn",s=await $D(t,r,e),i=await Tl._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function sW(t,e){return FD(Fl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VD(t){const e=Fl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function BD(t,e,n){if(pi(t.app))return Promise.reject(eo(t));const r=Fl(t),o=await V_(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tW).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&VD(t),c}),l=await Tl._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function iW(t,e,n){return pi(t.app)?Promise.reject(eo(t)):sW(Ut(t),Uu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&VD(t),r})}function oW(t,e,n,r){return Ut(t).onIdTokenChanged(e,n,r)}function aW(t,e,n){return Ut(t).beforeAuthStateChanged(e,n)}function lW(t,e,n,r){return Ut(t).onAuthStateChanged(e,n,r)}function xg(t){return Ut(t).signOut()}const _g="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_g,"1"),this.storage.removeItem(_g),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cW=1e3,uW=10;class zD extends UD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=DD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);P9()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,uW):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},cW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}zD.type="LOCAL";const dW=zD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD extends UD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}WD.type="SESSION";const HD=WD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hW(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new ry(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async u=>u(n.origin,i)),c=await hW(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ry.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fW{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((l,c)=>{const u=g1("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const p=h;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(p.data.response);break;default:clearTimeout(d),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(){return window}function pW(t){wi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(){return typeof wi().WorkerGlobalScope<"u"&&typeof wi().importScripts=="function"}async function mW(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gW(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function vW(){return qD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD="firebaseLocalStorageDb",yW=1,bg="firebaseLocalStorage",YD="fbase_key";class Nf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sy(t,e){return t.transaction([bg],e?"readwrite":"readonly").objectStore(bg)}function xW(){const t=indexedDB.deleteDatabase(GD);return new Nf(t).toPromise()}function B_(){const t=indexedDB.open(GD,yW);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(bg,{keyPath:YD})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(bg)?e(r):(r.close(),await xW(),e(await B_()))})})}async function iI(t,e,n){const r=sy(t,!0).put({[YD]:e,value:n});return new Nf(r).toPromise()}async function _W(t,e){const n=sy(t,!1).get(e),r=await new Nf(n).toPromise();return r===void 0?null:r.value}function oI(t,e){const n=sy(t,!0).delete(e);return new Nf(n).toPromise()}const bW=800,wW=3;class KD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await B_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>wW)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ry._getInstance(vW()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await mW(),!this.activeServiceWorker)return;this.sender=new fW(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gW()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await B_();return await iI(e,_g,"1"),await oI(e,_g),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>iI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>_W(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>oI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=sy(s,!1).getAll();return new Nf(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}KD.type="LOCAL";const CW=KD;new Rf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TW(t,e){return e?Ki(e):(ze(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1 extends p1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Vc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Vc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function EW(t){return FD(t.auth,new v1(t),t.bypassAuthState)}function SW(t){const{auth:e,user:n}=t;return ze(n,e,"internal-error"),rW(n,new v1(t),t.bypassAuthState)}async function IW(t){const{auth:e,user:n}=t;return ze(n,e,"internal-error"),nW(n,new v1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return EW;case"linkViaPopup":case"linkViaRedirect":return IW;case"reauthViaPopup":case"reauthViaRedirect":return SW;default:Zs(this.auth,"internal-error")}}resolve(e){go(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){go(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kW=new Rf(2e3,1e4);class Ec extends QD{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ec.currentPopupAction&&Ec.currentPopupAction.cancel(),Ec.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ze(e,this.auth,"internal-error"),e}async onExecution(){go(this.filter.length===1,"Popup operations only handle one event");const e=g1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ec.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,kW.get())};e()}}Ec.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RW="pendingRedirect",Cm=new Map;class PW extends QD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Cm.get(this.auth._key());if(!e){try{const r=await AW(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Cm.set(this.auth._key(),e)}return this.bypassAuthState||Cm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AW(t,e){const n=jW(e),r=DW(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function NW(t,e){Cm.set(t._key(),e)}function DW(t){return Ki(t._redirectPersistence)}function jW(t){return wm(RW,t.config.apiKey,t.name)}async function MW(t,e,n=!1){if(pi(t.app))return Promise.reject(eo(t));const r=Fl(t),s=TW(r,e),o=await new PW(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OW=10*60*1e3;class LW{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$W(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!XD(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(bi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=OW&&this.cachedEventUids.clear(),this.cachedEventUids.has(aI(e))}saveEventToCache(e){this.cachedEventUids.add(aI(e)),this.lastProcessedEventTime=Date.now()}}function aI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function XD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function $W(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FW(t,e={}){return Da(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BW=/^https?/;async function UW(t){if(t.config.emulator)return;const{authorizedDomains:e}=await FW(t);for(const n of e)try{if(zW(n))return}catch{}Zs(t,"unauthorized-domain")}function zW(t){const e=$_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!BW.test(n))return!1;if(VW.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WW=new Rf(3e4,6e4);function lI(){const t=wi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function HW(t){return new Promise((e,n)=>{var r,s,i;function o(){lI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lI(),n(bi(t,"network-request-failed"))},timeout:WW.get()})}if(!((s=(r=wi().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=wi().gapi)===null||i===void 0)&&i.load)o();else{const l=F9("iframefcb");return wi()[l]=()=>{gapi.load?o():n(bi(t,"network-request-failed"))},MD(`${$9()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Tm=null,e})}let Tm=null;function qW(t){return Tm=Tm||HW(t),Tm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GW=new Rf(5e3,15e3),YW="__/auth/iframe",KW="emulator/auth/iframe",QW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function JW(t){const e=t.config;ze(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?d1(e,KW):`https://${t.config.authDomain}/${YW}`,r={apiKey:e.apiKey,appName:t.name,v:Aa},s=XW.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Vu(r).slice(1)}`}async function ZW(t){const e=await qW(t),n=wi().gapi;return ze(n,t,"internal-error"),e.open({where:document.body,url:JW(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QW,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=bi(t,"network-request-failed"),l=wi().setTimeout(()=>{i(o)},GW.get());function c(){wi().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},t8=500,n8=600,r8="_blank",s8="http://localhost";class cI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function i8(t,e,n,r=t8,s=n8){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},e8),{width:r.toString(),height:s.toString(),top:i,left:o}),u=yr().toLowerCase();n&&(l=kD(u)?r8:n),SD(u)&&(e=e||s8,c.scrollbars="yes");const d=Object.entries(c).reduce((p,[m,v])=>`${p}${m}=${v},`,"");if(R9(u)&&l!=="_self")return o8(e||"",l),new cI(null);const h=window.open(e||"",l,d);ze(h,t,"popup-blocked");try{h.focus()}catch{}return new cI(h)}function o8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a8="__/auth/handler",l8="emulator/auth/handler",c8=encodeURIComponent("fac");async function uI(t,e,n,r,s,i){ze(t.config.authDomain,t,"auth-domain-config-required"),ze(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Aa,eventId:s};if(e instanceof LD){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",N_(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof Af){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${c8}=${encodeURIComponent(c)}`:"";return`${u8(t)}?${Vu(l).slice(1)}${u}`}function u8({config:t}){return t.emulator?d1(t,l8):`https://${t.authDomain}/${a8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="webStorageSupport";class d8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=HD,this._completeRedirectFn=MW,this._overrideRedirectResult=NW}async _openPopup(e,n,r,s){var i;go((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await uI(e,n,r,$_(),s);return i8(e,o,g1())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await uI(e,n,r,$_(),s);return pW(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(go(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await ZW(e),r=new LW(e);return n.register("authEvent",s=>(ze(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Q0,{type:Q0},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Q0];o!==void 0&&n(!!o),Zs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=UW(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return DD()||ID()||f1()}}const h8=d8;var dI="@firebase/auth",hI="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function m8(t){mo(new Ri("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;ze(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jD(t)},u=new M9(r,s,i,c);return W9(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),mo(new Ri("auth-internal",e=>{const n=Fl(e.getProvider("auth").getImmediate());return(r=>new f8(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hr(dI,hI,p8(t)),Hr(dI,hI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g8=5*60,v8=lD("authIdTokenMaxAge")||g8;let fI=null;const y8=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>v8)return;const s=n==null?void 0:n.token;fI!==s&&(fI=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function x8(t=ty()){const e=Bu(t,"auth");if(e.isInitialized())return e.getImmediate();const n=z9(t,{popupRedirectResolver:h8,persistence:[CW,dW,HD]}),r=lD("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=y8(i.toString());aW(n,o,()=>o(n.currentUser)),oW(n,l=>o(l))}}const s=oD("auth");return s&&H9(n,`http://${s}`),n}function _8(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}O9({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=bi("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",_8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});m8("Browser");var pI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ul,JD;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,E){function C(){}C.prototype=E.prototype,S.D=E.prototype,S.prototype=new C,S.prototype.constructor=S,S.C=function(k,A,M){for(var P=Array(arguments.length-2),O=2;O<arguments.length;O++)P[O-2]=arguments[O];return E.prototype[A].apply(k,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,E,C){C||(C=0);var k=Array(16);if(typeof E=="string")for(var A=0;16>A;++A)k[A]=E.charCodeAt(C++)|E.charCodeAt(C++)<<8|E.charCodeAt(C++)<<16|E.charCodeAt(C++)<<24;else for(A=0;16>A;++A)k[A]=E[C++]|E[C++]<<8|E[C++]<<16|E[C++]<<24;E=S.g[0],C=S.g[1],A=S.g[2];var M=S.g[3],P=E+(M^C&(A^M))+k[0]+3614090360&4294967295;E=C+(P<<7&4294967295|P>>>25),P=M+(A^E&(C^A))+k[1]+3905402710&4294967295,M=E+(P<<12&4294967295|P>>>20),P=A+(C^M&(E^C))+k[2]+606105819&4294967295,A=M+(P<<17&4294967295|P>>>15),P=C+(E^A&(M^E))+k[3]+3250441966&4294967295,C=A+(P<<22&4294967295|P>>>10),P=E+(M^C&(A^M))+k[4]+4118548399&4294967295,E=C+(P<<7&4294967295|P>>>25),P=M+(A^E&(C^A))+k[5]+1200080426&4294967295,M=E+(P<<12&4294967295|P>>>20),P=A+(C^M&(E^C))+k[6]+2821735955&4294967295,A=M+(P<<17&4294967295|P>>>15),P=C+(E^A&(M^E))+k[7]+4249261313&4294967295,C=A+(P<<22&4294967295|P>>>10),P=E+(M^C&(A^M))+k[8]+1770035416&4294967295,E=C+(P<<7&4294967295|P>>>25),P=M+(A^E&(C^A))+k[9]+2336552879&4294967295,M=E+(P<<12&4294967295|P>>>20),P=A+(C^M&(E^C))+k[10]+4294925233&4294967295,A=M+(P<<17&4294967295|P>>>15),P=C+(E^A&(M^E))+k[11]+2304563134&4294967295,C=A+(P<<22&4294967295|P>>>10),P=E+(M^C&(A^M))+k[12]+1804603682&4294967295,E=C+(P<<7&4294967295|P>>>25),P=M+(A^E&(C^A))+k[13]+4254626195&4294967295,M=E+(P<<12&4294967295|P>>>20),P=A+(C^M&(E^C))+k[14]+2792965006&4294967295,A=M+(P<<17&4294967295|P>>>15),P=C+(E^A&(M^E))+k[15]+1236535329&4294967295,C=A+(P<<22&4294967295|P>>>10),P=E+(A^M&(C^A))+k[1]+4129170786&4294967295,E=C+(P<<5&4294967295|P>>>27),P=M+(C^A&(E^C))+k[6]+3225465664&4294967295,M=E+(P<<9&4294967295|P>>>23),P=A+(E^C&(M^E))+k[11]+643717713&4294967295,A=M+(P<<14&4294967295|P>>>18),P=C+(M^E&(A^M))+k[0]+3921069994&4294967295,C=A+(P<<20&4294967295|P>>>12),P=E+(A^M&(C^A))+k[5]+3593408605&4294967295,E=C+(P<<5&4294967295|P>>>27),P=M+(C^A&(E^C))+k[10]+38016083&4294967295,M=E+(P<<9&4294967295|P>>>23),P=A+(E^C&(M^E))+k[15]+3634488961&4294967295,A=M+(P<<14&4294967295|P>>>18),P=C+(M^E&(A^M))+k[4]+3889429448&4294967295,C=A+(P<<20&4294967295|P>>>12),P=E+(A^M&(C^A))+k[9]+568446438&4294967295,E=C+(P<<5&4294967295|P>>>27),P=M+(C^A&(E^C))+k[14]+3275163606&4294967295,M=E+(P<<9&4294967295|P>>>23),P=A+(E^C&(M^E))+k[3]+4107603335&4294967295,A=M+(P<<14&4294967295|P>>>18),P=C+(M^E&(A^M))+k[8]+1163531501&4294967295,C=A+(P<<20&4294967295|P>>>12),P=E+(A^M&(C^A))+k[13]+2850285829&4294967295,E=C+(P<<5&4294967295|P>>>27),P=M+(C^A&(E^C))+k[2]+4243563512&4294967295,M=E+(P<<9&4294967295|P>>>23),P=A+(E^C&(M^E))+k[7]+1735328473&4294967295,A=M+(P<<14&4294967295|P>>>18),P=C+(M^E&(A^M))+k[12]+2368359562&4294967295,C=A+(P<<20&4294967295|P>>>12),P=E+(C^A^M)+k[5]+4294588738&4294967295,E=C+(P<<4&4294967295|P>>>28),P=M+(E^C^A)+k[8]+2272392833&4294967295,M=E+(P<<11&4294967295|P>>>21),P=A+(M^E^C)+k[11]+1839030562&4294967295,A=M+(P<<16&4294967295|P>>>16),P=C+(A^M^E)+k[14]+4259657740&4294967295,C=A+(P<<23&4294967295|P>>>9),P=E+(C^A^M)+k[1]+2763975236&4294967295,E=C+(P<<4&4294967295|P>>>28),P=M+(E^C^A)+k[4]+1272893353&4294967295,M=E+(P<<11&4294967295|P>>>21),P=A+(M^E^C)+k[7]+4139469664&4294967295,A=M+(P<<16&4294967295|P>>>16),P=C+(A^M^E)+k[10]+3200236656&4294967295,C=A+(P<<23&4294967295|P>>>9),P=E+(C^A^M)+k[13]+681279174&4294967295,E=C+(P<<4&4294967295|P>>>28),P=M+(E^C^A)+k[0]+3936430074&4294967295,M=E+(P<<11&4294967295|P>>>21),P=A+(M^E^C)+k[3]+3572445317&4294967295,A=M+(P<<16&4294967295|P>>>16),P=C+(A^M^E)+k[6]+76029189&4294967295,C=A+(P<<23&4294967295|P>>>9),P=E+(C^A^M)+k[9]+3654602809&4294967295,E=C+(P<<4&4294967295|P>>>28),P=M+(E^C^A)+k[12]+3873151461&4294967295,M=E+(P<<11&4294967295|P>>>21),P=A+(M^E^C)+k[15]+530742520&4294967295,A=M+(P<<16&4294967295|P>>>16),P=C+(A^M^E)+k[2]+3299628645&4294967295,C=A+(P<<23&4294967295|P>>>9),P=E+(A^(C|~M))+k[0]+4096336452&4294967295,E=C+(P<<6&4294967295|P>>>26),P=M+(C^(E|~A))+k[7]+1126891415&4294967295,M=E+(P<<10&4294967295|P>>>22),P=A+(E^(M|~C))+k[14]+2878612391&4294967295,A=M+(P<<15&4294967295|P>>>17),P=C+(M^(A|~E))+k[5]+4237533241&4294967295,C=A+(P<<21&4294967295|P>>>11),P=E+(A^(C|~M))+k[12]+1700485571&4294967295,E=C+(P<<6&4294967295|P>>>26),P=M+(C^(E|~A))+k[3]+2399980690&4294967295,M=E+(P<<10&4294967295|P>>>22),P=A+(E^(M|~C))+k[10]+4293915773&4294967295,A=M+(P<<15&4294967295|P>>>17),P=C+(M^(A|~E))+k[1]+2240044497&4294967295,C=A+(P<<21&4294967295|P>>>11),P=E+(A^(C|~M))+k[8]+1873313359&4294967295,E=C+(P<<6&4294967295|P>>>26),P=M+(C^(E|~A))+k[15]+4264355552&4294967295,M=E+(P<<10&4294967295|P>>>22),P=A+(E^(M|~C))+k[6]+2734768916&4294967295,A=M+(P<<15&4294967295|P>>>17),P=C+(M^(A|~E))+k[13]+1309151649&4294967295,C=A+(P<<21&4294967295|P>>>11),P=E+(A^(C|~M))+k[4]+4149444226&4294967295,E=C+(P<<6&4294967295|P>>>26),P=M+(C^(E|~A))+k[11]+3174756917&4294967295,M=E+(P<<10&4294967295|P>>>22),P=A+(E^(M|~C))+k[2]+718787259&4294967295,A=M+(P<<15&4294967295|P>>>17),P=C+(M^(A|~E))+k[9]+3951481745&4294967295,S.g[0]=S.g[0]+E&4294967295,S.g[1]=S.g[1]+(A+(P<<21&4294967295|P>>>11))&4294967295,S.g[2]=S.g[2]+A&4294967295,S.g[3]=S.g[3]+M&4294967295}r.prototype.u=function(S,E){E===void 0&&(E=S.length);for(var C=E-this.blockSize,k=this.B,A=this.h,M=0;M<E;){if(A==0)for(;M<=C;)s(this,S,M),M+=this.blockSize;if(typeof S=="string"){for(;M<E;)if(k[A++]=S.charCodeAt(M++),A==this.blockSize){s(this,k),A=0;break}}else for(;M<E;)if(k[A++]=S[M++],A==this.blockSize){s(this,k),A=0;break}}this.h=A,this.o+=E},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var E=1;E<S.length-8;++E)S[E]=0;var C=8*this.o;for(E=S.length-8;E<S.length;++E)S[E]=C&255,C/=256;for(this.u(S),S=Array(16),E=C=0;4>E;++E)for(var k=0;32>k;k+=8)S[C++]=this.g[E]>>>k&255;return S};function i(S,E){var C=l;return Object.prototype.hasOwnProperty.call(C,S)?C[S]:C[S]=E(S)}function o(S,E){this.h=E;for(var C=[],k=!0,A=S.length-1;0<=A;A--){var M=S[A]|0;k&&M==E||(C[A]=M,k=!1)}this.g=C}var l={};function c(S){return-128<=S&&128>S?i(S,function(E){return new o([E|0],0>E?-1:0)}):new o([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return h;if(0>S)return b(u(-S));for(var E=[],C=1,k=0;S>=C;k++)E[k]=S/C|0,C*=4294967296;return new o(E,0)}function d(S,E){if(S.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(S.charAt(0)=="-")return b(d(S.substring(1),E));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=u(Math.pow(E,8)),k=h,A=0;A<S.length;A+=8){var M=Math.min(8,S.length-A),P=parseInt(S.substring(A,A+M),E);8>M?(M=u(Math.pow(E,M)),k=k.j(M).add(u(P))):(k=k.j(C),k=k.add(u(P)))}return k}var h=c(0),p=c(1),m=c(16777216);t=o.prototype,t.m=function(){if(g(this))return-b(this).m();for(var S=0,E=1,C=0;C<this.g.length;C++){var k=this.i(C);S+=(0<=k?k:4294967296+k)*E,E*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(v(this))return"0";if(g(this))return"-"+b(this).toString(S);for(var E=u(Math.pow(S,6)),C=this,k="";;){var A=I(C,E).g;C=x(C,A.j(E));var M=((0<C.g.length?C.g[0]:C.h)>>>0).toString(S);if(C=A,v(C))return M+k;for(;6>M.length;)M="0"+M;k=M+k}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function v(S){if(S.h!=0)return!1;for(var E=0;E<S.g.length;E++)if(S.g[E]!=0)return!1;return!0}function g(S){return S.h==-1}t.l=function(S){return S=x(this,S),g(S)?-1:v(S)?0:1};function b(S){for(var E=S.g.length,C=[],k=0;k<E;k++)C[k]=~S.g[k];return new o(C,~S.h).add(p)}t.abs=function(){return g(this)?b(this):this},t.add=function(S){for(var E=Math.max(this.g.length,S.g.length),C=[],k=0,A=0;A<=E;A++){var M=k+(this.i(A)&65535)+(S.i(A)&65535),P=(M>>>16)+(this.i(A)>>>16)+(S.i(A)>>>16);k=P>>>16,M&=65535,P&=65535,C[A]=P<<16|M}return new o(C,C[C.length-1]&-2147483648?-1:0)};function x(S,E){return S.add(b(E))}t.j=function(S){if(v(this)||v(S))return h;if(g(this))return g(S)?b(this).j(b(S)):b(b(this).j(S));if(g(S))return b(this.j(b(S)));if(0>this.l(m)&&0>S.l(m))return u(this.m()*S.m());for(var E=this.g.length+S.g.length,C=[],k=0;k<2*E;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(var A=0;A<S.g.length;A++){var M=this.i(k)>>>16,P=this.i(k)&65535,O=S.i(A)>>>16,V=S.i(A)&65535;C[2*k+2*A]+=P*V,_(C,2*k+2*A),C[2*k+2*A+1]+=M*V,_(C,2*k+2*A+1),C[2*k+2*A+1]+=P*O,_(C,2*k+2*A+1),C[2*k+2*A+2]+=M*O,_(C,2*k+2*A+2)}for(k=0;k<E;k++)C[k]=C[2*k+1]<<16|C[2*k];for(k=E;k<2*E;k++)C[k]=0;return new o(C,0)};function _(S,E){for(;(S[E]&65535)!=S[E];)S[E+1]+=S[E]>>>16,S[E]&=65535,E++}function w(S,E){this.g=S,this.h=E}function I(S,E){if(v(E))throw Error("division by zero");if(v(S))return new w(h,h);if(g(S))return E=I(b(S),E),new w(b(E.g),b(E.h));if(g(E))return E=I(S,b(E)),new w(b(E.g),E.h);if(30<S.g.length){if(g(S)||g(E))throw Error("slowDivide_ only works with positive integers.");for(var C=p,k=E;0>=k.l(S);)C=N(C),k=N(k);var A=R(C,1),M=R(k,1);for(k=R(k,2),C=R(C,2);!v(k);){var P=M.add(k);0>=P.l(S)&&(A=A.add(C),M=P),k=R(k,1),C=R(C,1)}return E=x(S,A.j(E)),new w(A,E)}for(A=h;0<=S.l(E);){for(C=Math.max(1,Math.floor(S.m()/E.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),M=u(C),P=M.j(E);g(P)||0<P.l(S);)C-=k,M=u(C),P=M.j(E);v(M)&&(M=p),A=A.add(M),S=x(S,P)}return new w(A,S)}t.A=function(S){return I(this,S).h},t.and=function(S){for(var E=Math.max(this.g.length,S.g.length),C=[],k=0;k<E;k++)C[k]=this.i(k)&S.i(k);return new o(C,this.h&S.h)},t.or=function(S){for(var E=Math.max(this.g.length,S.g.length),C=[],k=0;k<E;k++)C[k]=this.i(k)|S.i(k);return new o(C,this.h|S.h)},t.xor=function(S){for(var E=Math.max(this.g.length,S.g.length),C=[],k=0;k<E;k++)C[k]=this.i(k)^S.i(k);return new o(C,this.h^S.h)};function N(S){for(var E=S.g.length+1,C=[],k=0;k<E;k++)C[k]=S.i(k)<<1|S.i(k-1)>>>31;return new o(C,S.h)}function R(S,E){var C=E>>5;E%=32;for(var k=S.g.length-C,A=[],M=0;M<k;M++)A[M]=0<E?S.i(M+C)>>>E|S.i(M+C+1)<<32-E:S.i(M+C);return new o(A,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,JD=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,ul=o}).apply(typeof pI<"u"?pI:typeof self<"u"?self:typeof window<"u"?window:{});var Op=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ZD,Bd,ej,Em,U_,tj,nj,rj;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,T,D){return f==Array.prototype||f==Object.prototype||(f[T]=D.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Op=="object"&&Op];for(var T=0;T<f.length;++T){var D=f[T];if(D&&D.Math==Math)return D}throw Error("Cannot find global object")}var r=n(this);function s(f,T){if(T)e:{var D=r;f=f.split(".");for(var $=0;$<f.length-1;$++){var G=f[$];if(!(G in D))break e;D=D[G]}f=f[f.length-1],$=D[f],T=T($),T!=$&&T!=null&&e(D,f,{configurable:!0,writable:!0,value:T})}}function i(f,T){f instanceof String&&(f+="");var D=0,$=!1,G={next:function(){if(!$&&D<f.length){var J=D++;return{value:T(J,f[J]),done:!1}}return $=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}s("Array.prototype.values",function(f){return f||function(){return i(this,function(T,D){return D})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(f){var T=typeof f;return T=T!="object"?T:f?Array.isArray(f)?"array":T:"null",T=="array"||T=="object"&&typeof f.length=="number"}function u(f){var T=typeof f;return T=="object"&&f!=null||T=="function"}function d(f,T,D){return f.call.apply(f.bind,arguments)}function h(f,T,D){if(!f)throw Error();if(2<arguments.length){var $=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,$),f.apply(T,G)}}return function(){return f.apply(T,arguments)}}function p(f,T,D){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,p.apply(null,arguments)}function m(f,T){var D=Array.prototype.slice.call(arguments,1);return function(){var $=D.slice();return $.push.apply($,arguments),f.apply(this,$)}}function v(f,T){function D(){}D.prototype=T.prototype,f.aa=T.prototype,f.prototype=new D,f.prototype.constructor=f,f.Qb=function($,G,J){for(var xe=Array(arguments.length-2),Ft=2;Ft<arguments.length;Ft++)xe[Ft-2]=arguments[Ft];return T.prototype[G].apply($,xe)}}function g(f){const T=f.length;if(0<T){const D=Array(T);for(let $=0;$<T;$++)D[$]=f[$];return D}return[]}function b(f,T){for(let D=1;D<arguments.length;D++){const $=arguments[D];if(c($)){const G=f.length||0,J=$.length||0;f.length=G+J;for(let xe=0;xe<J;xe++)f[G+xe]=$[xe]}else f.push($)}}class x{constructor(T,D){this.i=T,this.j=D,this.h=0,this.g=null}get(){let T;return 0<this.h?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function _(f){return/^[\s\xa0]*$/.test(f)}function w(){var f=l.navigator;return f&&(f=f.userAgent)?f:""}function I(f){return I[" "](f),f}I[" "]=function(){};var N=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function R(f,T,D){for(const $ in f)T.call(D,f[$],$,f)}function S(f,T){for(const D in f)T.call(void 0,f[D],D,f)}function E(f){const T={};for(const D in f)T[D]=f[D];return T}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(f,T){let D,$;for(let G=1;G<arguments.length;G++){$=arguments[G];for(D in $)f[D]=$[D];for(let J=0;J<C.length;J++)D=C[J],Object.prototype.hasOwnProperty.call($,D)&&(f[D]=$[D])}}function A(f){var T=1;f=f.split(":");const D=[];for(;0<T&&f.length;)D.push(f.shift()),T--;return f.length&&D.push(f.join(":")),D}function M(f){l.setTimeout(()=>{throw f},0)}function P(){var f=F;let T=null;return f.g&&(T=f.g,f.g=f.g.next,f.g||(f.h=null),T.next=null),T}class O{constructor(){this.h=this.g=null}add(T,D){const $=V.get();$.set(T,D),this.h?this.h.next=$:this.g=$,this.h=$}}var V=new x(()=>new B,f=>f.reset());class B{constructor(){this.next=this.g=this.h=null}set(T,D){this.h=T,this.g=D,this.next=null}reset(){this.next=this.g=this.h=null}}let z,U=!1,F=new O,L=()=>{const f=l.Promise.resolve(void 0);z=()=>{f.then(H)}};var H=()=>{for(var f;f=P();){try{f.h.call(f.g)}catch(D){M(D)}var T=V;T.j(f),100>T.h&&(T.h++,f.next=T.g,T.g=f)}U=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(f,T){this.type=f,this.g=this.target=T,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var te=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var f=!1,T=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const D=()=>{};l.addEventListener("test",D,T),l.removeEventListener("test",D,T)}catch{}return f}();function me(f,T){if(K.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var D=this.type=f.type,$=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=T,T=f.relatedTarget){if(N){e:{try{I(T.nodeName);var G=!0;break e}catch{}G=!1}G||(T=null)}}else D=="mouseover"?T=f.fromElement:D=="mouseout"&&(T=f.toElement);this.relatedTarget=T,$?(this.clientX=$.clientX!==void 0?$.clientX:$.pageX,this.clientY=$.clientY!==void 0?$.clientY:$.pageY,this.screenX=$.screenX||0,this.screenY=$.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Q[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&me.aa.h.call(this)}}v(me,K);var Q={2:"touch",3:"pen",4:"mouse"};me.prototype.h=function(){me.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),ie=0;function re(f,T,D,$,G){this.listener=f,this.proxy=null,this.src=T,this.type=D,this.capture=!!$,this.ha=G,this.key=++ie,this.da=this.fa=!1}function ge(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ee(f){this.src=f,this.g={},this.h=0}ee.prototype.add=function(f,T,D,$,G){var J=f.toString();f=this.g[J],f||(f=this.g[J]=[],this.h++);var xe=W(f,T,$,G);return-1<xe?(T=f[xe],D||(T.fa=!1)):(T=new re(T,this.src,J,!!$,G),T.fa=D,f.push(T)),T};function Y(f,T){var D=T.type;if(D in f.g){var $=f.g[D],G=Array.prototype.indexOf.call($,T,void 0),J;(J=0<=G)&&Array.prototype.splice.call($,G,1),J&&(ge(T),f.g[D].length==0&&(delete f.g[D],f.h--))}}function W(f,T,D,$){for(var G=0;G<f.length;++G){var J=f[G];if(!J.da&&J.listener==T&&J.capture==!!D&&J.ha==$)return G}return-1}var Z="closure_lm_"+(1e6*Math.random()|0),le={};function be(f,T,D,$,G){if(Array.isArray(T)){for(var J=0;J<T.length;J++)be(f,T[J],D,$,G);return null}return D=Wt(D),f&&f[ce]?f.K(T,D,u($)?!!$.capture:!1,G):Be(f,T,D,!1,$,G)}function Be(f,T,D,$,G,J){if(!T)throw Error("Invalid event type");var xe=u(G)?!!G.capture:!!G,Ft=Ve(f);if(Ft||(f[Z]=Ft=new ee(f)),D=Ft.add(T,D,$,xe,J),D.proxy)return D;if($=fe(),D.proxy=$,$.src=f,$.listener=D,f.addEventListener)te||(G=xe),G===void 0&&(G=!1),f.addEventListener(T.toString(),$,G);else if(f.attachEvent)f.attachEvent(we(T.toString()),$);else if(f.addListener&&f.removeListener)f.addListener($);else throw Error("addEventListener and attachEvent are unavailable.");return D}function fe(){function f(D){return T.call(f.src,f.listener,D)}const T=qe;return f}function ve(f,T,D,$,G){if(Array.isArray(T))for(var J=0;J<T.length;J++)ve(f,T[J],D,$,G);else $=u($)?!!$.capture:!!$,D=Wt(D),f&&f[ce]?(f=f.i,T=String(T).toString(),T in f.g&&(J=f.g[T],D=W(J,D,$,G),-1<D&&(ge(J[D]),Array.prototype.splice.call(J,D,1),J.length==0&&(delete f.g[T],f.h--)))):f&&(f=Ve(f))&&(T=f.g[T.toString()],f=-1,T&&(f=W(T,D,$,G)),(D=-1<f?T[f]:null)&&Te(D))}function Te(f){if(typeof f!="number"&&f&&!f.da){var T=f.src;if(T&&T[ce])Y(T.i,f);else{var D=f.type,$=f.proxy;T.removeEventListener?T.removeEventListener(D,$,f.capture):T.detachEvent?T.detachEvent(we(D),$):T.addListener&&T.removeListener&&T.removeListener($),(D=Ve(T))?(Y(D,f),D.h==0&&(D.src=null,T[Z]=null)):ge(f)}}}function we(f){return f in le?le[f]:le[f]="on"+f}function qe(f,T){if(f.da)f=!0;else{T=new me(T,this);var D=f.listener,$=f.ha||f.src;f.fa&&Te(f),f=D.call($,T)}return f}function Ve(f){return f=f[Z],f instanceof ee?f:null}var Ue="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wt(f){return typeof f=="function"?f:(f[Ue]||(f[Ue]=function(T){return f.handleEvent(T)}),f[Ue])}function et(){q.call(this),this.i=new ee(this),this.M=this,this.F=null}v(et,q),et.prototype[ce]=!0,et.prototype.removeEventListener=function(f,T,D,$){ve(this,f,T,D,$)};function it(f,T){var D,$=f.F;if($)for(D=[];$;$=$.F)D.push($);if(f=f.M,$=T.type||T,typeof T=="string")T=new K(T,f);else if(T instanceof K)T.target=T.target||f;else{var G=T;T=new K($,f),k(T,G)}if(G=!0,D)for(var J=D.length-1;0<=J;J--){var xe=T.g=D[J];G=Ze(xe,$,!0,T)&&G}if(xe=T.g=f,G=Ze(xe,$,!0,T)&&G,G=Ze(xe,$,!1,T)&&G,D)for(J=0;J<D.length;J++)xe=T.g=D[J],G=Ze(xe,$,!1,T)&&G}et.prototype.N=function(){if(et.aa.N.call(this),this.i){var f=this.i,T;for(T in f.g){for(var D=f.g[T],$=0;$<D.length;$++)ge(D[$]);delete f.g[T],f.h--}}this.F=null},et.prototype.K=function(f,T,D,$){return this.i.add(String(f),T,!1,D,$)},et.prototype.L=function(f,T,D,$){return this.i.add(String(f),T,!0,D,$)};function Ze(f,T,D,$){if(T=f.i.g[String(T)],!T)return!0;T=T.concat();for(var G=!0,J=0;J<T.length;++J){var xe=T[J];if(xe&&!xe.da&&xe.capture==D){var Ft=xe.listener,Gn=xe.ha||xe.src;xe.fa&&Y(f.i,xe),G=Ft.call(Gn,$)!==!1&&G}}return G&&!$.defaultPrevented}function $e(f,T,D){if(typeof f=="function")D&&(f=p(f,D));else if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(T)?-1:l.setTimeout(f,T||0)}function en(f){f.g=$e(()=>{f.g=null,f.i&&(f.i=!1,en(f))},f.l);const T=f.h;f.h=null,f.m.apply(null,T)}class Mr extends q{constructor(T,D){super(),this.m=T,this.l=D,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:en(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bn(f){q.call(this),this.h=f,this.g={}}v(bn,q);var Oe=[];function yt(f){R(f.g,function(T,D){this.g.hasOwnProperty(D)&&Te(T)},f),f.g={}}bn.prototype.N=function(){bn.aa.N.call(this),yt(this)},bn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ot=l.JSON.stringify,_r=l.JSON.parse,ti=class{stringify(f){return l.JSON.stringify(f,void 0)}parse(f){return l.JSON.parse(f,void 0)}};function ni(){}ni.prototype.h=null;function La(f){return f.h||(f.h=f.i())}function Ro(){}var Fs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ri(){K.call(this,"d")}v(ri,K);function Po(){K.call(this,"c")}v(Po,K);var pt={},sr=null;function ms(){return sr=sr||new et}pt.La="serverreachability";function Jr(f){K.call(this,pt.La,f)}v(Jr,K);function $a(f){const T=ms();it(T,new Jr(T))}pt.STAT_EVENT="statevent";function ql(f,T){K.call(this,pt.STAT_EVENT,f),this.stat=T}v(ql,K);function Wn(f){const T=ms();it(T,new ql(T,f))}pt.Ma="timingevent";function Ao(f,T){K.call(this,pt.Ma,f),this.size=T}v(Ao,K);function Li(f,T){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){f()},T)}function Hn(){this.g=!0}Hn.prototype.xa=function(){this.g=!1};function Fa(f,T,D,$,G,J){f.info(function(){if(f.g)if(J)for(var xe="",Ft=J.split("&"),Gn=0;Gn<Ft.length;Gn++){var Ct=Ft[Gn].split("=");if(1<Ct.length){var ir=Ct[0];Ct=Ct[1];var or=ir.split("_");xe=2<=or.length&&or[1]=="type"?xe+(ir+"="+Ct+"&"):xe+(ir+"=redacted&")}}else xe=null;else xe=J;return"XMLHTTP REQ ("+$+") [attempt "+G+"]: "+T+`
`+D+`
`+xe})}function Zy(f,T,D,$,G,J,xe){f.info(function(){return"XMLHTTP RESP ("+$+") [ attempt "+G+"]: "+T+`
`+D+`
`+J+" "+xe})}function gs(f,T,D,$){f.info(function(){return"XMLHTTP TEXT ("+T+"): "+Zf(f,D)+($?" "+$:"")})}function Ju(f,T){f.info(function(){return"TIMEOUT: "+T})}Hn.prototype.info=function(){};function Zf(f,T){if(!f.g)return T;if(!T)return null;try{var D=JSON.parse(T);if(D){for(f=0;f<D.length;f++)if(Array.isArray(D[f])){var $=D[f];if(!(2>$.length)){var G=$[1];if(Array.isArray(G)&&!(1>G.length)){var J=G[0];if(J!="noop"&&J!="stop"&&J!="close")for(var xe=1;xe<G.length;xe++)G[xe]=""}}}}return Ot(D)}catch{return T}}var Va={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Zu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gl;function Yl(){}v(Yl,ni),Yl.prototype.g=function(){return new XMLHttpRequest},Yl.prototype.i=function(){return{}},Gl=new Yl;function si(f,T,D,$){this.j=f,this.i=T,this.l=D,this.R=$||1,this.U=new bn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ep}function ep(){this.i=null,this.g="",this.h=!1}var tp={},Xe={};function qn(f,T,D){f.L=1,f.v=ip($i(T)),f.m=D,f.P=!0,oT(f,null)}function oT(f,T){f.F=Date.now(),np(f),f.A=$i(f.v);var D=f.A,$=f.R;Array.isArray($)||($=[String($)]),_T(D.i,"t",$),f.C=0,D=f.j.J,f.h=new ep,f.g=$T(f.j,D?T:null,!f.m),0<f.O&&(f.M=new Mr(p(f.Y,f,f.g),f.O)),T=f.U,D=f.g,$=f.ca;var G="readystatechange";Array.isArray(G)||(G&&(Oe[0]=G.toString()),G=Oe);for(var J=0;J<G.length;J++){var xe=be(D,G[J],$||T.handleEvent,!1,T.h||T);if(!xe)break;T.g[xe.key]=xe}T=f.H?E(f.H):{},f.m?(f.u||(f.u="POST"),T["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,T)):(f.u="GET",f.g.ea(f.A,f.u,null,T)),$a(),Fa(f.i,f.u,f.A,f.l,f.R,f.m)}si.prototype.ca=function(f){f=f.target;const T=this.M;T&&Fi(f)==3?T.j():this.Y(f)},si.prototype.Y=function(f){try{if(f==this.g)e:{const or=Fi(this.g);var T=this.g.Ba();const Xl=this.g.Z();if(!(3>or)&&(or!=3||this.g&&(this.h.h||this.g.oa()||IT(this.g)))){this.J||or!=4||T==7||(T==8||0>=Xl?$a(3):$a(2)),e0(this);var D=this.g.Z();this.X=D;t:if(aT(this)){var $=IT(this.g);f="";var G=$.length,J=Fi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ba(this),ed(this);var xe="";break t}this.h.i=new l.TextDecoder}for(T=0;T<G;T++)this.h.h=!0,f+=this.h.i.decode($[T],{stream:!(J&&T==G-1)});$.length=0,this.h.g+=f,this.C=0,xe=this.h.g}else xe=this.g.oa();if(this.o=D==200,Zy(this.i,this.u,this.A,this.l,this.R,or,D),this.o){if(this.T&&!this.K){t:{if(this.g){var Ft,Gn=this.g;if((Ft=Gn.g?Gn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Ft)){var Ct=Ft;break t}}Ct=null}if(D=Ct)gs(this.i,this.l,D,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,t0(this,D);else{this.o=!1,this.s=3,Wn(12),Ba(this),ed(this);break e}}if(this.P){D=!0;let Vs;for(;!this.J&&this.C<xe.length;)if(Vs=x4(this,xe),Vs==Xe){or==4&&(this.s=4,Wn(14),D=!1),gs(this.i,this.l,null,"[Incomplete Response]");break}else if(Vs==tp){this.s=4,Wn(15),gs(this.i,this.l,xe,"[Invalid Chunk]"),D=!1;break}else gs(this.i,this.l,Vs,null),t0(this,Vs);if(aT(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),or!=4||xe.length!=0||this.h.h||(this.s=1,Wn(16),D=!1),this.o=this.o&&D,!D)gs(this.i,this.l,xe,"[Invalid Chunked Response]"),Ba(this),ed(this);else if(0<xe.length&&!this.W){this.W=!0;var ir=this.j;ir.g==this&&ir.ba&&!ir.M&&(ir.j.info("Great, no buffering proxy detected. Bytes received: "+xe.length),a0(ir),ir.M=!0,Wn(11))}}else gs(this.i,this.l,xe,null),t0(this,xe);or==4&&Ba(this),this.o&&!this.J&&(or==4?jT(this.j,this):(this.o=!1,np(this)))}else O4(this.g),D==400&&0<xe.indexOf("Unknown SID")?(this.s=3,Wn(12)):(this.s=0,Wn(13)),Ba(this),ed(this)}}}catch{}finally{}};function aT(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function x4(f,T){var D=f.C,$=T.indexOf(`
`,D);return $==-1?Xe:(D=Number(T.substring(D,$)),isNaN(D)?tp:($+=1,$+D>T.length?Xe:(T=T.slice($,$+D),f.C=$+D,T)))}si.prototype.cancel=function(){this.J=!0,Ba(this)};function np(f){f.S=Date.now()+f.I,lT(f,f.I)}function lT(f,T){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Li(p(f.ba,f),T)}function e0(f){f.B&&(l.clearTimeout(f.B),f.B=null)}si.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Ju(this.i,this.A),this.L!=2&&($a(),Wn(17)),Ba(this),this.s=2,ed(this)):lT(this,this.S-f)};function ed(f){f.j.G==0||f.J||jT(f.j,f)}function Ba(f){e0(f);var T=f.M;T&&typeof T.ma=="function"&&T.ma(),f.M=null,yt(f.U),f.g&&(T=f.g,f.g=null,T.abort(),T.ma())}function t0(f,T){try{var D=f.j;if(D.G!=0&&(D.g==f||n0(D.h,f))){if(!f.K&&n0(D.h,f)&&D.G==3){try{var $=D.Da.g.parse(T)}catch{$=null}if(Array.isArray($)&&$.length==3){var G=$;if(G[0]==0){e:if(!D.u){if(D.g)if(D.g.F+3e3<f.F)dp(D),cp(D);else break e;o0(D),Wn(18)}}else D.za=G[1],0<D.za-D.T&&37500>G[2]&&D.F&&D.v==0&&!D.C&&(D.C=Li(p(D.Za,D),6e3));if(1>=dT(D.h)&&D.ca){try{D.ca()}catch{}D.ca=void 0}}else za(D,11)}else if((f.K||D.g==f)&&dp(D),!_(T))for(G=D.Da.g.parse(T),T=0;T<G.length;T++){let Ct=G[T];if(D.T=Ct[0],Ct=Ct[1],D.G==2)if(Ct[0]=="c"){D.K=Ct[1],D.ia=Ct[2];const ir=Ct[3];ir!=null&&(D.la=ir,D.j.info("VER="+D.la));const or=Ct[4];or!=null&&(D.Aa=or,D.j.info("SVER="+D.Aa));const Xl=Ct[5];Xl!=null&&typeof Xl=="number"&&0<Xl&&($=1.5*Xl,D.L=$,D.j.info("backChannelRequestTimeoutMs_="+$)),$=D;const Vs=f.g;if(Vs){const fp=Vs.g?Vs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fp){var J=$.h;J.g||fp.indexOf("spdy")==-1&&fp.indexOf("quic")==-1&&fp.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(r0(J,J.h),J.h=null))}if($.D){const l0=Vs.g?Vs.g.getResponseHeader("X-HTTP-Session-Id"):null;l0&&($.ya=l0,Gt($.I,$.D,l0))}}D.G=3,D.l&&D.l.ua(),D.ba&&(D.R=Date.now()-f.F,D.j.info("Handshake RTT: "+D.R+"ms")),$=D;var xe=f;if($.qa=LT($,$.J?$.ia:null,$.W),xe.K){hT($.h,xe);var Ft=xe,Gn=$.L;Gn&&(Ft.I=Gn),Ft.B&&(e0(Ft),np(Ft)),$.g=xe}else NT($);0<D.i.length&&up(D)}else Ct[0]!="stop"&&Ct[0]!="close"||za(D,7);else D.G==3&&(Ct[0]=="stop"||Ct[0]=="close"?Ct[0]=="stop"?za(D,7):i0(D):Ct[0]!="noop"&&D.l&&D.l.ta(Ct),D.v=0)}}$a(4)}catch{}}var _4=class{constructor(f,T){this.g=f,this.map=T}};function cT(f){this.l=f||10,l.PerformanceNavigationTiming?(f=l.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function uT(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function dT(f){return f.h?1:f.g?f.g.size:0}function n0(f,T){return f.h?f.h==T:f.g?f.g.has(T):!1}function r0(f,T){f.g?f.g.add(T):f.h=T}function hT(f,T){f.h&&f.h==T?f.h=null:f.g&&f.g.has(T)&&f.g.delete(T)}cT.prototype.cancel=function(){if(this.i=fT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function fT(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let T=f.i;for(const D of f.g.values())T=T.concat(D.D);return T}return g(f.i)}function b4(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(c(f)){for(var T=[],D=f.length,$=0;$<D;$++)T.push(f[$]);return T}T=[],D=0;for($ in f)T[D++]=f[$];return T}function w4(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(c(f)||typeof f=="string"){var T=[];f=f.length;for(var D=0;D<f;D++)T.push(D);return T}T=[],D=0;for(const $ in f)T[D++]=$;return T}}}function pT(f,T){if(f.forEach&&typeof f.forEach=="function")f.forEach(T,void 0);else if(c(f)||typeof f=="string")Array.prototype.forEach.call(f,T,void 0);else for(var D=w4(f),$=b4(f),G=$.length,J=0;J<G;J++)T.call(void 0,$[J],D&&D[J],f)}var mT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function C4(f,T){if(f){f=f.split("&");for(var D=0;D<f.length;D++){var $=f[D].indexOf("="),G=null;if(0<=$){var J=f[D].substring(0,$);G=f[D].substring($+1)}else J=f[D];T(J,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Ua(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Ua){this.h=f.h,rp(this,f.j),this.o=f.o,this.g=f.g,sp(this,f.s),this.l=f.l;var T=f.i,D=new rd;D.i=T.i,T.g&&(D.g=new Map(T.g),D.h=T.h),gT(this,D),this.m=f.m}else f&&(T=String(f).match(mT))?(this.h=!1,rp(this,T[1]||"",!0),this.o=td(T[2]||""),this.g=td(T[3]||"",!0),sp(this,T[4]),this.l=td(T[5]||"",!0),gT(this,T[6]||"",!0),this.m=td(T[7]||"")):(this.h=!1,this.i=new rd(null,this.h))}Ua.prototype.toString=function(){var f=[],T=this.j;T&&f.push(nd(T,vT,!0),":");var D=this.g;return(D||T=="file")&&(f.push("//"),(T=this.o)&&f.push(nd(T,vT,!0),"@"),f.push(encodeURIComponent(String(D)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),D=this.s,D!=null&&f.push(":",String(D))),(D=this.l)&&(this.g&&D.charAt(0)!="/"&&f.push("/"),f.push(nd(D,D.charAt(0)=="/"?S4:E4,!0))),(D=this.i.toString())&&f.push("?",D),(D=this.m)&&f.push("#",nd(D,k4)),f.join("")};function $i(f){return new Ua(f)}function rp(f,T,D){f.j=D?td(T,!0):T,f.j&&(f.j=f.j.replace(/:$/,""))}function sp(f,T){if(T){if(T=Number(T),isNaN(T)||0>T)throw Error("Bad port number "+T);f.s=T}else f.s=null}function gT(f,T,D){T instanceof rd?(f.i=T,R4(f.i,f.h)):(D||(T=nd(T,I4)),f.i=new rd(T,f.h))}function Gt(f,T,D){f.i.set(T,D)}function ip(f){return Gt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function td(f,T){return f?T?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function nd(f,T,D){return typeof f=="string"?(f=encodeURI(f).replace(T,T4),D&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function T4(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var vT=/[#\/\?@]/g,E4=/[#\?:]/g,S4=/[#\?]/g,I4=/[#\?@]/g,k4=/#/g;function rd(f,T){this.h=this.g=null,this.i=f||null,this.j=!!T}function No(f){f.g||(f.g=new Map,f.h=0,f.i&&C4(f.i,function(T,D){f.add(decodeURIComponent(T.replace(/\+/g," ")),D)}))}t=rd.prototype,t.add=function(f,T){No(this),this.i=null,f=Kl(this,f);var D=this.g.get(f);return D||this.g.set(f,D=[]),D.push(T),this.h+=1,this};function yT(f,T){No(f),T=Kl(f,T),f.g.has(T)&&(f.i=null,f.h-=f.g.get(T).length,f.g.delete(T))}function xT(f,T){return No(f),T=Kl(f,T),f.g.has(T)}t.forEach=function(f,T){No(this),this.g.forEach(function(D,$){D.forEach(function(G){f.call(T,G,$,this)},this)},this)},t.na=function(){No(this);const f=Array.from(this.g.values()),T=Array.from(this.g.keys()),D=[];for(let $=0;$<T.length;$++){const G=f[$];for(let J=0;J<G.length;J++)D.push(T[$])}return D},t.V=function(f){No(this);let T=[];if(typeof f=="string")xT(this,f)&&(T=T.concat(this.g.get(Kl(this,f))));else{f=Array.from(this.g.values());for(let D=0;D<f.length;D++)T=T.concat(f[D])}return T},t.set=function(f,T){return No(this),this.i=null,f=Kl(this,f),xT(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[T]),this.h+=1,this},t.get=function(f,T){return f?(f=this.V(f),0<f.length?String(f[0]):T):T};function _T(f,T,D){yT(f,T),0<D.length&&(f.i=null,f.g.set(Kl(f,T),g(D)),f.h+=D.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],T=Array.from(this.g.keys());for(var D=0;D<T.length;D++){var $=T[D];const J=encodeURIComponent(String($)),xe=this.V($);for($=0;$<xe.length;$++){var G=J;xe[$]!==""&&(G+="="+encodeURIComponent(String(xe[$]))),f.push(G)}}return this.i=f.join("&")};function Kl(f,T){return T=String(T),f.j&&(T=T.toLowerCase()),T}function R4(f,T){T&&!f.j&&(No(f),f.i=null,f.g.forEach(function(D,$){var G=$.toLowerCase();$!=G&&(yT(this,$),_T(this,G,D))},f)),f.j=T}function P4(f,T){const D=new Hn;if(l.Image){const $=new Image;$.onload=m(Do,D,"TestLoadImage: loaded",!0,T,$),$.onerror=m(Do,D,"TestLoadImage: error",!1,T,$),$.onabort=m(Do,D,"TestLoadImage: abort",!1,T,$),$.ontimeout=m(Do,D,"TestLoadImage: timeout",!1,T,$),l.setTimeout(function(){$.ontimeout&&$.ontimeout()},1e4),$.src=f}else T(!1)}function A4(f,T){const D=new Hn,$=new AbortController,G=setTimeout(()=>{$.abort(),Do(D,"TestPingServer: timeout",!1,T)},1e4);fetch(f,{signal:$.signal}).then(J=>{clearTimeout(G),J.ok?Do(D,"TestPingServer: ok",!0,T):Do(D,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(G),Do(D,"TestPingServer: error",!1,T)})}function Do(f,T,D,$,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),$(D)}catch{}}function N4(){this.g=new ti}function D4(f,T,D){const $=D||"";try{pT(f,function(G,J){let xe=G;u(G)&&(xe=Ot(G)),T.push($+J+"="+encodeURIComponent(xe))})}catch(G){throw T.push($+"type="+encodeURIComponent("_badmap")),G}}function op(f){this.l=f.Ub||null,this.j=f.eb||!1}v(op,ni),op.prototype.g=function(){return new ap(this.l,this.j)},op.prototype.i=function(f){return function(){return f}}({});function ap(f,T){et.call(this),this.D=f,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(ap,et),t=ap.prototype,t.open=function(f,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=T,this.readyState=1,id(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const T={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(T.body=f),(this.D||l).fetch(new Request(this.A,T)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,sd(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,id(this)),this.g&&(this.readyState=3,id(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bT(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function bT(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var T=f.value?f.value:new Uint8Array(0);(T=this.v.decode(T,{stream:!f.done}))&&(this.response=this.responseText+=T)}f.done?sd(this):id(this),this.readyState==3&&bT(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,sd(this))},t.Qa=function(f){this.g&&(this.response=f,sd(this))},t.ga=function(){this.g&&sd(this)};function sd(f){f.readyState=4,f.l=null,f.j=null,f.v=null,id(f)}t.setRequestHeader=function(f,T){this.u.append(f,T)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],T=this.h.entries();for(var D=T.next();!D.done;)D=D.value,f.push(D[0]+": "+D[1]),D=T.next();return f.join(`\r
`)};function id(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ap.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function wT(f){let T="";return R(f,function(D,$){T+=$,T+=":",T+=D,T+=`\r
`}),T}function s0(f,T,D){e:{for($ in D){var $=!1;break e}$=!0}$||(D=wT(D),typeof f=="string"?D!=null&&encodeURIComponent(String(D)):Gt(f,T,D))}function dn(f){et.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(dn,et);var j4=/^https?$/i,M4=["POST","PUT"];t=dn.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,T,D,$){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);T=T?T.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gl.g(),this.v=this.o?La(this.o):La(Gl),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(T,String(f),!0),this.B=!1}catch(J){CT(this,J);return}if(f=D||"",D=new Map(this.headers),$)if(Object.getPrototypeOf($)===Object.prototype)for(var G in $)D.set(G,$[G]);else if(typeof $.keys=="function"&&typeof $.get=="function")for(const J of $.keys())D.set(J,$.get(J));else throw Error("Unknown input type for opt_headers: "+String($));$=Array.from(D.keys()).find(J=>J.toLowerCase()=="content-type"),G=l.FormData&&f instanceof l.FormData,!(0<=Array.prototype.indexOf.call(M4,T,void 0))||$||G||D.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,xe]of D)this.g.setRequestHeader(J,xe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ST(this),this.u=!0,this.g.send(f),this.u=!1}catch(J){CT(this,J)}};function CT(f,T){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=T,f.m=5,TT(f),lp(f)}function TT(f){f.A||(f.A=!0,it(f,"complete"),it(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,it(this,"complete"),it(this,"abort"),lp(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),lp(this,!0)),dn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ET(this):this.bb())},t.bb=function(){ET(this)};function ET(f){if(f.h&&typeof o<"u"&&(!f.v[1]||Fi(f)!=4||f.Z()!=2)){if(f.u&&Fi(f)==4)$e(f.Ea,0,f);else if(it(f,"readystatechange"),Fi(f)==4){f.h=!1;try{const xe=f.Z();e:switch(xe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var D;if(!(D=T)){var $;if($=xe===0){var G=String(f.D).match(mT)[1]||null;!G&&l.self&&l.self.location&&(G=l.self.location.protocol.slice(0,-1)),$=!j4.test(G?G.toLowerCase():"")}D=$}if(D)it(f,"complete"),it(f,"success");else{f.m=6;try{var J=2<Fi(f)?f.g.statusText:""}catch{J=""}f.l=J+" ["+f.Z()+"]",TT(f)}}finally{lp(f)}}}}function lp(f,T){if(f.g){ST(f);const D=f.g,$=f.v[0]?()=>{}:null;f.g=null,f.v=null,T||it(f,"ready");try{D.onreadystatechange=$}catch{}}}function ST(f){f.I&&(l.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function Fi(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<Fi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var T=this.g.responseText;return f&&T.indexOf(f)==0&&(T=T.substring(f.length)),_r(T)}};function IT(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function O4(f){const T={};f=(f.g&&2<=Fi(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let $=0;$<f.length;$++){if(_(f[$]))continue;var D=A(f[$]);const G=D[0];if(D=D[1],typeof D!="string")continue;D=D.trim();const J=T[G]||[];T[G]=J,J.push(D)}S(T,function($){return $.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function od(f,T,D){return D&&D.internalChannelParams&&D.internalChannelParams[f]||T}function kT(f){this.Aa=0,this.i=[],this.j=new Hn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=od("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=od("baseRetryDelayMs",5e3,f),this.cb=od("retryDelaySeedMs",1e4,f),this.Wa=od("forwardChannelMaxRetries",2,f),this.wa=od("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new cT(f&&f.concurrentRequestLimit),this.Da=new N4,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=kT.prototype,t.la=8,t.G=1,t.connect=function(f,T,D,$){Wn(0),this.W=f,this.H=T||{},D&&$!==void 0&&(this.H.OSID=D,this.H.OAID=$),this.F=this.X,this.I=LT(this,null,this.W),up(this)};function i0(f){if(RT(f),f.G==3){var T=f.U++,D=$i(f.I);if(Gt(D,"SID",f.K),Gt(D,"RID",T),Gt(D,"TYPE","terminate"),ad(f,D),T=new si(f,f.j,T),T.L=2,T.v=ip($i(D)),D=!1,l.navigator&&l.navigator.sendBeacon)try{D=l.navigator.sendBeacon(T.v.toString(),"")}catch{}!D&&l.Image&&(new Image().src=T.v,D=!0),D||(T.g=$T(T.j,null),T.g.ea(T.v)),T.F=Date.now(),np(T)}OT(f)}function cp(f){f.g&&(a0(f),f.g.cancel(),f.g=null)}function RT(f){cp(f),f.u&&(l.clearTimeout(f.u),f.u=null),dp(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&l.clearTimeout(f.s),f.s=null)}function up(f){if(!uT(f.h)&&!f.s){f.s=!0;var T=f.Ga;z||L(),U||(z(),U=!0),F.add(T,f),f.B=0}}function L4(f,T){return dT(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=T.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Li(p(f.Ga,f,T),MT(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const G=new si(this,this.j,f);let J=this.o;if(this.S&&(J?(J=E(J),k(J,this.S)):J=this.S),this.m!==null||this.O||(G.H=J,J=null),this.P)e:{for(var T=0,D=0;D<this.i.length;D++){t:{var $=this.i[D];if("__data__"in $.map&&($=$.map.__data__,typeof $=="string")){$=$.length;break t}$=void 0}if($===void 0)break;if(T+=$,4096<T){T=D;break e}if(T===4096||D===this.i.length-1){T=D+1;break e}}T=1e3}else T=1e3;T=AT(this,G,T),D=$i(this.I),Gt(D,"RID",f),Gt(D,"CVER",22),this.D&&Gt(D,"X-HTTP-Session-Id",this.D),ad(this,D),J&&(this.O?T="headers="+encodeURIComponent(String(wT(J)))+"&"+T:this.m&&s0(D,this.m,J)),r0(this.h,G),this.Ua&&Gt(D,"TYPE","init"),this.P?(Gt(D,"$req",T),Gt(D,"SID","null"),G.T=!0,qn(G,D,null)):qn(G,D,T),this.G=2}}else this.G==3&&(f?PT(this,f):this.i.length==0||uT(this.h)||PT(this))};function PT(f,T){var D;T?D=T.l:D=f.U++;const $=$i(f.I);Gt($,"SID",f.K),Gt($,"RID",D),Gt($,"AID",f.T),ad(f,$),f.m&&f.o&&s0($,f.m,f.o),D=new si(f,f.j,D,f.B+1),f.m===null&&(D.H=f.o),T&&(f.i=T.D.concat(f.i)),T=AT(f,D,1e3),D.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),r0(f.h,D),qn(D,$,T)}function ad(f,T){f.H&&R(f.H,function(D,$){Gt(T,$,D)}),f.l&&pT({},function(D,$){Gt(T,$,D)})}function AT(f,T,D){D=Math.min(f.i.length,D);var $=f.l?p(f.l.Na,f.l,f):null;e:{var G=f.i;let J=-1;for(;;){const xe=["count="+D];J==-1?0<D?(J=G[0].g,xe.push("ofs="+J)):J=0:xe.push("ofs="+J);let Ft=!0;for(let Gn=0;Gn<D;Gn++){let Ct=G[Gn].g;const ir=G[Gn].map;if(Ct-=J,0>Ct)J=Math.max(0,G[Gn].g-100),Ft=!1;else try{D4(ir,xe,"req"+Ct+"_")}catch{$&&$(ir)}}if(Ft){$=xe.join("&");break e}}}return f=f.i.splice(0,D),T.D=f,$}function NT(f){if(!f.g&&!f.u){f.Y=1;var T=f.Fa;z||L(),U||(z(),U=!0),F.add(T,f),f.v=0}}function o0(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Li(p(f.Fa,f),MT(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,DT(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Li(p(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wn(10),cp(this),DT(this))};function a0(f){f.A!=null&&(l.clearTimeout(f.A),f.A=null)}function DT(f){f.g=new si(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var T=$i(f.qa);Gt(T,"RID","rpc"),Gt(T,"SID",f.K),Gt(T,"AID",f.T),Gt(T,"CI",f.F?"0":"1"),!f.F&&f.ja&&Gt(T,"TO",f.ja),Gt(T,"TYPE","xmlhttp"),ad(f,T),f.m&&f.o&&s0(T,f.m,f.o),f.L&&(f.g.I=f.L);var D=f.g;f=f.ia,D.L=1,D.v=ip($i(T)),D.m=null,D.P=!0,oT(D,f)}t.Za=function(){this.C!=null&&(this.C=null,cp(this),o0(this),Wn(19))};function dp(f){f.C!=null&&(l.clearTimeout(f.C),f.C=null)}function jT(f,T){var D=null;if(f.g==T){dp(f),a0(f),f.g=null;var $=2}else if(n0(f.h,T))D=T.D,hT(f.h,T),$=1;else return;if(f.G!=0){if(T.o)if($==1){D=T.m?T.m.length:0,T=Date.now()-T.F;var G=f.B;$=ms(),it($,new Ao($,D)),up(f)}else NT(f);else if(G=T.s,G==3||G==0&&0<T.X||!($==1&&L4(f,T)||$==2&&o0(f)))switch(D&&0<D.length&&(T=f.h,T.i=T.i.concat(D)),G){case 1:za(f,5);break;case 4:za(f,10);break;case 3:za(f,6);break;default:za(f,2)}}}function MT(f,T){let D=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(D*=2),D*T}function za(f,T){if(f.j.info("Error code "+T),T==2){var D=p(f.fb,f),$=f.Xa;const G=!$;$=new Ua($||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||rp($,"https"),ip($),G?P4($.toString(),D):A4($.toString(),D)}else Wn(2);f.G=0,f.l&&f.l.sa(T),OT(f),RT(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Wn(2)):(this.j.info("Failed to ping google.com"),Wn(1))};function OT(f){if(f.G=0,f.ka=[],f.l){const T=fT(f.h);(T.length!=0||f.i.length!=0)&&(b(f.ka,T),b(f.ka,f.i),f.h.i.length=0,g(f.i),f.i.length=0),f.l.ra()}}function LT(f,T,D){var $=D instanceof Ua?$i(D):new Ua(D);if($.g!="")T&&($.g=T+"."+$.g),sp($,$.s);else{var G=l.location;$=G.protocol,T=T?T+"."+G.hostname:G.hostname,G=+G.port;var J=new Ua(null);$&&rp(J,$),T&&(J.g=T),G&&sp(J,G),D&&(J.l=D),$=J}return D=f.D,T=f.ya,D&&T&&Gt($,D,T),Gt($,"VER",f.la),ad(f,$),$}function $T(f,T,D){if(T&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return T=f.Ca&&!f.pa?new dn(new op({eb:D})):new dn(f.pa),T.Ha(f.J),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function FT(){}t=FT.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function hp(){}hp.prototype.g=function(f,T){return new Zr(f,T)};function Zr(f,T){et.call(this),this.g=new kT(T),this.l=f,this.h=T&&T.messageUrlParams||null,f=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(f?f["X-WebChannel-Content-Type"]=T.messageContentType:f={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.va&&(f?f["X-WebChannel-Client-Profile"]=T.va:f={"X-WebChannel-Client-Profile":T.va}),this.g.S=f,(f=T&&T.Sb)&&!_(f)&&(this.g.m=f),this.v=T&&T.supportsCrossDomainXhr||!1,this.u=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!_(T)&&(this.g.D=T,f=this.h,f!==null&&T in f&&(f=this.h,T in f&&delete f[T])),this.j=new Ql(this)}v(Zr,et),Zr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zr.prototype.close=function(){i0(this.g)},Zr.prototype.o=function(f){var T=this.g;if(typeof f=="string"){var D={};D.__data__=f,f=D}else this.u&&(D={},D.__data__=Ot(f),f=D);T.i.push(new _4(T.Ya++,f)),T.G==3&&up(T)},Zr.prototype.N=function(){this.g.l=null,delete this.j,i0(this.g),delete this.g,Zr.aa.N.call(this)};function VT(f){ri.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var T=f.__sm__;if(T){e:{for(const D in T){f=D;break e}f=void 0}(this.i=f)&&(f=this.i,T=T!==null&&f in T?T[f]:void 0),this.data=T}else this.data=f}v(VT,ri);function BT(){Po.call(this),this.status=1}v(BT,Po);function Ql(f){this.g=f}v(Ql,FT),Ql.prototype.ua=function(){it(this.g,"a")},Ql.prototype.ta=function(f){it(this.g,new VT(f))},Ql.prototype.sa=function(f){it(this.g,new BT)},Ql.prototype.ra=function(){it(this.g,"b")},hp.prototype.createWebChannel=hp.prototype.g,Zr.prototype.send=Zr.prototype.o,Zr.prototype.open=Zr.prototype.m,Zr.prototype.close=Zr.prototype.close,rj=function(){return new hp},nj=function(){return ms()},tj=pt,U_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Va.NO_ERROR=0,Va.TIMEOUT=8,Va.HTTP_ERROR=6,Em=Va,Zu.COMPLETE="complete",ej=Zu,Ro.EventType=Fs,Fs.OPEN="a",Fs.CLOSE="b",Fs.ERROR="c",Fs.MESSAGE="d",et.prototype.listen=et.prototype.K,Bd=Ro,dn.prototype.listenOnce=dn.prototype.L,dn.prototype.getLastError=dn.prototype.Ka,dn.prototype.getLastErrorCode=dn.prototype.Ba,dn.prototype.getStatus=dn.prototype.Z,dn.prototype.getResponseJson=dn.prototype.Oa,dn.prototype.getResponseText=dn.prototype.oa,dn.prototype.send=dn.prototype.ea,dn.prototype.setWithCredentials=dn.prototype.Ha,ZD=dn}).apply(typeof Op<"u"?Op:typeof self<"u"?self:typeof window<"u"?window:{});const mI="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Or.UNAUTHENTICATED=new Or(null),Or.GOOGLE_CREDENTIALS=new Or("google-credentials-uid"),Or.FIRST_PARTY=new Or("first-party-uid"),Or.MOCK_USER=new Or("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El=new ey("@firebase/firestore");function yd(){return El.logLevel}function Me(t,...e){if(El.logLevel<=at.DEBUG){const n=e.map(y1);El.debug(`Firestore (${zu}): ${t}`,...n)}}function vo(t,...e){if(El.logLevel<=at.ERROR){const n=e.map(y1);El.error(`Firestore (${zu}): ${t}`,...n)}}function Kh(t,...e){if(El.logLevel<=at.WARN){const n=e.map(y1);El.warn(`Firestore (${zu}): ${t}`,...n)}}function y1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(t="Unexpected state"){const e=`FIRESTORE (${zu}) INTERNAL ASSERTION FAILED: `+t;throw vo(e),new Error(e)}function jt(t,e){t||He()}function Qe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends ji{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b8{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class w8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Or.UNAUTHENTICATED))}shutdown(){}}class C8{constructor(e){this.t=e,this.currentUser=Or.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){jt(this.o===void 0);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new to;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new to,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{Me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Me("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new to)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(jt(typeof r.accessToken=="string"),new b8(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return jt(e===null||typeof e=="string"),new Or(e)}}class T8{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Or.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class E8{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new T8(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Or.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class S8{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class I8{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){jt(this.o===void 0);const r=i=>{i.error!=null&&Me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,Me("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):Me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(jt(typeof n.token=="string"),this.R=n.token,new S8(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=k8(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function St(t,e){return t<e?-1:t>e?1:0}function lu(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ae(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ae(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ae(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Bt.fromMillis(Date.now())}static fromDate(e){return Bt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Bt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?St(this.nanoseconds,e.nanoseconds):St(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ke(e)}static min(){return new Ke(new Bt(0,0))}static max(){return new Ke(new Bt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n,r){n===void 0?n=0:n>e.length&&He(),r===void 0?r=e.length-n:r>e.length-n&&He(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Qh.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Qh?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Xt extends Qh{construct(e,n,r){return new Xt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Xt(n)}static emptyPath(){return new Xt([])}}const R8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jn extends Qh{construct(e,n,r){return new Jn(e,n,r)}static isValidIdentifier(e){return R8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Jn(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Ae(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new Ae(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Ae(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new Ae(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jn(n)}static emptyPath(){return new Jn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.path=e}static fromPath(e){return new Fe(Xt.fromString(e))}static fromName(e){return new Fe(Xt.fromString(e).popFirst(5))}static empty(){return new Fe(Xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Fe(new Xt(e.slice()))}}function P8(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ke.fromTimestamp(r===1e9?new Bt(n+1,0):new Bt(n,r));return new ba(s,Fe.empty(),e)}function A8(t){return new ba(t.readTime,t.key,-1)}class ba{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ba(Ke.min(),Fe.empty(),-1)}static max(){return new ba(Ke.max(),Fe.empty(),-1)}}function N8(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Fe.comparator(t.documentKey,e.documentKey),n!==0?n:St(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class j8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Df(t){if(t.code!==ae.FAILED_PRECONDITION||t.message!==D8)throw t;Me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&He(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new de((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof de?n:de.resolve(n)}catch(n){return de.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):de.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):de.reject(n)}static resolve(e){return new de((n,r)=>{n(e)})}static reject(e){return new de((n,r)=>{r(e)})}static waitFor(e){return new de((n,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=de.resolve(!1);for(const r of e)n=n.next(s=>s?de.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new de((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(d=>{o[u]=d,++l,l===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new de((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function M8(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function jf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}x1.oe=-1;function iy(t){return t==null}function wg(t){return t===0&&1/t==-1/0}function O8(t){return typeof t=="number"&&Number.isInteger(t)&&!wg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Vl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ij(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jn=class z_{constructor(e,n){this.comparator=e,this.root=n||fa.EMPTY}insert(e,n){return new z_(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,fa.BLACK,null,null))}remove(e){return new z_(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fa.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lp(this.root,e,this.comparator,!0)}},Lp=class{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},fa=class Vi{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Vi.RED,this.left=s??Vi.EMPTY,this.right=i??Vi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Vi(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Vi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Vi.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw He();const e=this.left.check();if(e!==this.right.check())throw He();return e+(this.isRed()?0:1)}};fa.EMPTY=null,fa.RED=!0,fa.BLACK=!1;fa.EMPTY=new class{constructor(){this.size=0}get key(){throw He()}get value(){throw He()}get color(){throw He()}get left(){throw He()}get right(){throw He()}copy(e,n,r,s,i){return this}insert(e,n,r){return new fa(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.comparator=e,this.data=new jn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new vI(this.data.getIterator())}getIteratorFrom(e){return new vI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof tr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new tr(this.comparator);return n.data=e,n}}class vI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e){this.fields=e,e.sort(Jn.comparator)}static empty(){return new rs([])}unionWith(e){let n=new tr(Jn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new rs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return lu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new oj("Invalid base64 string: "+i):i}}(e);return new rr(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new rr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return St(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rr.EMPTY_BYTE_STRING=new rr("");const L8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wa(t){if(jt(!!t),typeof t=="string"){let e=0;const n=L8.exec(t);if(jt(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wn(t.seconds),nanos:wn(t.nanos)}}function wn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Sl(t){return typeof t=="string"?rr.fromBase64String(t):rr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function b1(t){const e=t.mapValue.fields.__previous_value__;return _1(e)?b1(e):e}function Xh(t){const e=wa(t.mapValue.fields.__local_write_time__.timestampValue);return new Bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{constructor(e,n,r,s,i,o,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u}}class Jh{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Jh("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Jh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p={mapValue:{}};function Il(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_1(t)?4:V8(t)?9007199254740991:F8(t)?10:11:He()}function Pi(t,e){if(t===e)return!0;const n=Il(t);if(n!==Il(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xh(t).isEqual(Xh(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=wa(s.timestampValue),l=wa(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Sl(s.bytesValue).isEqual(Sl(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return wn(s.geoPointValue.latitude)===wn(i.geoPointValue.latitude)&&wn(s.geoPointValue.longitude)===wn(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return wn(s.integerValue)===wn(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=wn(s.doubleValue),l=wn(i.doubleValue);return o===l?wg(o)===wg(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return lu(t.arrayValue.values||[],e.arrayValue.values||[],Pi);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(gI(o)!==gI(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!Pi(o[c],l[c])))return!1;return!0}(t,e);default:return He()}}function Zh(t,e){return(t.values||[]).find(n=>Pi(n,e))!==void 0}function cu(t,e){if(t===e)return 0;const n=Il(t),r=Il(e);if(n!==r)return St(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return St(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=wn(i.integerValue||i.doubleValue),c=wn(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return yI(t.timestampValue,e.timestampValue);case 4:return yI(Xh(t),Xh(e));case 5:return St(t.stringValue,e.stringValue);case 6:return function(i,o){const l=Sl(i),c=Sl(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=St(l[u],c[u]);if(d!==0)return d}return St(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=St(wn(i.latitude),wn(o.latitude));return l!==0?l:St(wn(i.longitude),wn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return xI(t.arrayValue,e.arrayValue);case 10:return function(i,o){var l,c,u,d;const h=i.fields||{},p=o.fields||{},m=(l=h.value)===null||l===void 0?void 0:l.arrayValue,v=(c=p.value)===null||c===void 0?void 0:c.arrayValue,g=St(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((d=v==null?void 0:v.values)===null||d===void 0?void 0:d.length)||0);return g!==0?g:xI(m,v)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===$p.mapValue&&o===$p.mapValue)return 0;if(i===$p.mapValue)return 1;if(o===$p.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let h=0;h<c.length&&h<d.length;++h){const p=St(c[h],d[h]);if(p!==0)return p;const m=cu(l[c[h]],u[d[h]]);if(m!==0)return m}return St(c.length,d.length)}(t.mapValue,e.mapValue);default:throw He()}}function yI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return St(t,e);const n=wa(t),r=wa(e),s=St(n.seconds,r.seconds);return s!==0?s:St(n.nanos,r.nanos)}function xI(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=cu(n[s],r[s]);if(i)return i}return St(n.length,r.length)}function uu(t){return W_(t)}function W_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=wa(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Sl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Fe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=W_(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${W_(n.fields[o])}`;return s+"}"}(t.mapValue):He()}function _I(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function H_(t){return!!t&&"integerValue"in t}function w1(t){return!!t&&"arrayValue"in t}function bI(t){return!!t&&"nullValue"in t}function wI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sm(t){return!!t&&"mapValue"in t}function F8(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function sh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Vl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=sh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=sh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function V8(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this.value=e}static empty(){return new Fr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Sm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=sh(n)}setAll(e){let n=Jn.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=sh(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Sm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Pi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Sm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Vl(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Fr(sh(this.value))}}function aj(t){const e=[];return Vl(t.fields,(n,r)=>{const s=new Jn([n]);if(Sm(r)){const i=aj(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new rs(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new hr(e,0,Ke.min(),Ke.min(),Ke.min(),Fr.empty(),0)}static newFoundDocument(e,n,r,s){return new hr(e,1,n,Ke.min(),r,s,0)}static newNoDocument(e,n){return new hr(e,2,n,Ke.min(),Ke.min(),Fr.empty(),0)}static newUnknownDocument(e,n){return new hr(e,3,n,Ke.min(),Ke.min(),Fr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,n){this.position=e,this.inclusive=n}}function CI(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Fe.comparator(Fe.fromName(o.referenceValue),n.key):r=cu(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function TI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Pi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,n="asc"){this.field=e,this.dir=n}}function B8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{}class Nn extends lj{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new z8(e,n,r):n==="array-contains"?new q8(e,r):n==="in"?new G8(e,r):n==="not-in"?new Y8(e,r):n==="array-contains-any"?new K8(e,r):new Nn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new W8(e,r):new H8(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(cu(n,this.value)):n!==null&&Il(this.value)===Il(n)&&this.matchesComparison(cu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return He()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends lj{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ei(e,n)}matches(e){return cj(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function cj(t){return t.op==="and"}function uj(t){return U8(t)&&cj(t)}function U8(t){for(const e of t.filters)if(e instanceof ei)return!1;return!0}function q_(t){if(t instanceof Nn)return t.field.canonicalString()+t.op.toString()+uu(t.value);if(uj(t))return t.filters.map(e=>q_(e)).join(",");{const e=t.filters.map(n=>q_(n)).join(",");return`${t.op}(${e})`}}function dj(t,e){return t instanceof Nn?function(r,s){return s instanceof Nn&&r.op===s.op&&r.field.isEqual(s.field)&&Pi(r.value,s.value)}(t,e):t instanceof ei?function(r,s){return s instanceof ei&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&dj(o,s.filters[l]),!0):!1}(t,e):void He()}function hj(t){return t instanceof Nn?function(n){return`${n.field.canonicalString()} ${n.op} ${uu(n.value)}`}(t):t instanceof ei?function(n){return n.op.toString()+" {"+n.getFilters().map(hj).join(" ,")+"}"}(t):"Filter"}class z8 extends Nn{constructor(e,n,r){super(e,n,r),this.key=Fe.fromName(r.referenceValue)}matches(e){const n=Fe.comparator(e.key,this.key);return this.matchesComparison(n)}}class W8 extends Nn{constructor(e,n){super(e,"in",n),this.keys=fj("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class H8 extends Nn{constructor(e,n){super(e,"not-in",n),this.keys=fj("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function fj(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Fe.fromName(r.referenceValue))}class q8 extends Nn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return w1(n)&&Zh(n.arrayValue,this.value)}}class G8 extends Nn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zh(this.value.arrayValue,n)}}class Y8 extends Nn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Zh(this.value.arrayValue,n)}}class K8 extends Nn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!w1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Zh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.ue=null}}function EI(t,e=null,n=[],r=[],s=null,i=null,o=null){return new Q8(t,e,n,r,s,i,o)}function C1(t){const e=Qe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>q_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),iy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>uu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>uu(r)).join(",")),e.ue=n}return e.ue}function T1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!B8(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!dj(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!TI(t.startAt,e.startAt)&&TI(t.endAt,e.endAt)}function G_(t){return Fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function X8(t,e,n,r,s,i,o,l){return new Wu(t,e,n,r,s,i,o,l)}function oy(t){return new Wu(t)}function SI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function pj(t){return t.collectionGroup!==null}function ih(t){const e=Qe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new tr(Jn.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new ef(i,r))}),n.has(Jn.keyField().canonicalString())||e.ce.push(new ef(Jn.keyField(),r))}return e.ce}function Ci(t){const e=Qe(t);return e.le||(e.le=J8(e,ih(t))),e.le}function J8(t,e){if(t.limitType==="F")return EI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new ef(s.field,i)});const n=t.endAt?new Cg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Cg(t.startAt.position,t.startAt.inclusive):null;return EI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Y_(t,e){const n=t.filters.concat([e]);return new Wu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Tg(t,e,n){return new Wu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ay(t,e){return T1(Ci(t),Ci(e))&&t.limitType===e.limitType}function mj(t){return`${C1(Ci(t))}|lt:${t.limitType}`}function ac(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>hj(s)).join(", ")}]`),iy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>uu(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>uu(s)).join(",")),`Target(${r})`}(Ci(t))}; limitType=${t.limitType})`}function ly(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Fe.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of ih(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,c){const u=CI(o,l,c);return o.inclusive?u<=0:u<0}(r.startAt,ih(r),s)||r.endAt&&!function(o,l,c){const u=CI(o,l,c);return o.inclusive?u>=0:u>0}(r.endAt,ih(r),s))}(t,e)}function Z8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function gj(t){return(e,n)=>{let r=!1;for(const s of ih(t)){const i=eH(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function eH(t,e,n){const r=t.field.isKeyField()?Fe.comparator(e.key,n.key):function(i,o,l){const c=o.data.field(i),u=l.data.field(i);return c!==null&&u!==null?cu(c,u):He()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return He()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Vl(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return ij(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tH=new jn(Fe.comparator);function yo(){return tH}const vj=new jn(Fe.comparator);function Ud(...t){let e=vj;for(const n of t)e=e.insert(n.key,n);return e}function yj(t){let e=vj;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function rl(){return oh()}function xj(){return oh()}function oh(){return new Hu(t=>t.toString(),(t,e)=>t.isEqual(e))}const nH=new jn(Fe.comparator),rH=new tr(Fe.comparator);function ut(...t){let e=rH;for(const n of t)e=e.add(n);return e}const sH=new tr(St);function iH(){return sH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wg(e)?"-0":e}}function _j(t){return{integerValue:""+t}}function oH(t,e){return O8(e)?_j(e):E1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(){this._=void 0}}function aH(t,e,n){return t instanceof Eg?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&_1(i)&&(i=b1(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof tf?wj(t,e):t instanceof nf?Cj(t,e):function(s,i){const o=bj(s,i),l=II(o)+II(s.Pe);return H_(o)&&H_(s.Pe)?_j(l):E1(s.serializer,l)}(t,e)}function lH(t,e,n){return t instanceof tf?wj(t,e):t instanceof nf?Cj(t,e):n}function bj(t,e){return t instanceof Sg?function(r){return H_(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Eg extends cy{}class tf extends cy{constructor(e){super(),this.elements=e}}function wj(t,e){const n=Tj(e);for(const r of t.elements)n.some(s=>Pi(s,r))||n.push(r);return{arrayValue:{values:n}}}class nf extends cy{constructor(e){super(),this.elements=e}}function Cj(t,e){let n=Tj(e);for(const r of t.elements)n=n.filter(s=>!Pi(s,r));return{arrayValue:{values:n}}}class Sg extends cy{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function II(t){return wn(t.integerValue||t.doubleValue)}function Tj(t){return w1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function cH(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof tf&&s instanceof tf||r instanceof nf&&s instanceof nf?lu(r.elements,s.elements,Pi):r instanceof Sg&&s instanceof Sg?Pi(r.Pe,s.Pe):r instanceof Eg&&s instanceof Eg}(t.transform,e.transform)}class uH{constructor(e,n){this.version=e,this.transformResults=n}}class Ss{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ss}static exists(e){return new Ss(void 0,e)}static updateTime(e){return new Ss(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Im(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class uy{}function Ej(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new S1(t.key,Ss.none()):new Mf(t.key,t.data,Ss.none());{const n=t.data,r=Fr.empty();let s=new tr(Jn.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ja(t.key,r,new rs(s.toArray()),Ss.none())}}function dH(t,e,n){t instanceof Mf?function(s,i,o){const l=s.value.clone(),c=RI(s.fieldTransforms,i,o.transformResults);l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof ja?function(s,i,o){if(!Im(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=RI(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(Sj(s)),c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ah(t,e,n,r){return t instanceof Mf?function(i,o,l,c){if(!Im(i.precondition,o))return l;const u=i.value.clone(),d=PI(i.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ja?function(i,o,l,c){if(!Im(i.precondition,o))return l;const u=PI(i.fieldTransforms,c,o),d=o.data;return d.setAll(Sj(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,l){return Im(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function hH(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=bj(r.transform,s||null);i!=null&&(n===null&&(n=Fr.empty()),n.set(r.field,i))}return n||null}function kI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&lu(r,s,(i,o)=>cH(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Mf extends uy{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ja extends uy{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Sj(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function RI(t,e,n){const r=new Map;jt(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,lH(o,l,n[s]))}return r}function PI(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,aH(i,o,e))}return r}class S1 extends uy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fH extends uy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pH{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&dH(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ah(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ah(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=xj();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const c=Ej(o,l);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(Ke.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ut())}isEqual(e){return this.batchId===e.batchId&&lu(this.mutations,e.mutations,(n,r)=>kI(n,r))&&lu(this.baseMutations,e.baseMutations,(n,r)=>kI(n,r))}}class I1{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){jt(e.mutations.length===r.length);let s=function(){return nH}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new I1(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mH{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gH{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kn,mt;function vH(t){switch(t){default:return He();case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0}}function Ij(t){if(t===void 0)return vo("GRPC error has no .code"),ae.UNKNOWN;switch(t){case kn.OK:return ae.OK;case kn.CANCELLED:return ae.CANCELLED;case kn.UNKNOWN:return ae.UNKNOWN;case kn.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case kn.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case kn.INTERNAL:return ae.INTERNAL;case kn.UNAVAILABLE:return ae.UNAVAILABLE;case kn.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case kn.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case kn.NOT_FOUND:return ae.NOT_FOUND;case kn.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case kn.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case kn.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case kn.ABORTED:return ae.ABORTED;case kn.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case kn.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case kn.DATA_LOSS:return ae.DATA_LOSS;default:return He()}}(mt=kn||(kn={}))[mt.OK=0]="OK",mt[mt.CANCELLED=1]="CANCELLED",mt[mt.UNKNOWN=2]="UNKNOWN",mt[mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mt[mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mt[mt.NOT_FOUND=5]="NOT_FOUND",mt[mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",mt[mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",mt[mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",mt[mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mt[mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mt[mt.ABORTED=10]="ABORTED",mt[mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",mt[mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",mt[mt.INTERNAL=13]="INTERNAL",mt[mt.UNAVAILABLE=14]="UNAVAILABLE",mt[mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yH(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xH=new ul([4294967295,4294967295],0);function AI(t){const e=yH().encode(t),n=new JD;return n.update(e),new Uint8Array(n.digest())}function NI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ul([n,r],0),new ul([s,i],0)]}class k1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new zd(`Invalid padding: ${n}`);if(r<0)throw new zd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new zd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new zd(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ul.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(ul.fromNumber(r)));return s.compare(xH)===1&&(s=new ul([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=AI(e),[r,s]=NI(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new k1(i,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=AI(e),[r,s]=NI(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class zd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Of.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new dy(Ke.min(),s,new jn(St),yo(),ut())}}class Of{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Of(r,n,ut(),ut(),ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class kj{constructor(e,n){this.targetId=e,this.me=n}}class Rj{constructor(e,n,r=rr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class DI{constructor(){this.fe=0,this.ge=MI(),this.pe=rr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ut(),n=ut(),r=ut();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:He()}}),new Of(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=MI()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,jt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class _H{constructor(e){this.Le=e,this.Be=new Map,this.ke=yo(),this.qe=jI(),this.Qe=new jn(St)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:He()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(G_(i))if(r===0){const o=new Fe(i.path);this.Ue(n,o,hr.newNoDocument(o,Ke.min()))}else jt(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),c=l?this.Xe(l,e,o):1;if(c!==0){this.je(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=Sl(r).toUint8Array()}catch(c){if(c instanceof oj)return Kh("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new k1(o,s,i)}catch(c){return Kh(c instanceof zd?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const l=this.Je(o);if(l){if(i.current&&G_(l.target)){const c=new Fe(l.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,hr.newNoDocument(c,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=ut();this.qe.forEach((i,o)=>{let l=!0;o.forEachWhile(c=>{const u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new dy(e,n,this.Qe,this.ke,r);return this.ke=yo(),this.qe=jI(),this.Qe=new jn(St),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new DI,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new tr(St),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Me("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new DI),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function jI(){return new jn(Fe.comparator)}function MI(){return new jn(Fe.comparator)}const bH={asc:"ASCENDING",desc:"DESCENDING"},wH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CH={and:"AND",or:"OR"};class TH{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function K_(t,e){return t.useProto3Json||iy(e)?e:{value:e}}function Ig(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Pj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function EH(t,e){return Ig(t,e.toTimestamp())}function Ti(t){return jt(!!t),Ke.fromTimestamp(function(n){const r=wa(n);return new Bt(r.seconds,r.nanos)}(t))}function R1(t,e){return Q_(t,e).canonicalString()}function Q_(t,e){const n=function(s){return new Xt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Aj(t){const e=Xt.fromString(t);return jt(Oj(e)),e}function X_(t,e){return R1(t.databaseId,e.path)}function X0(t,e){const n=Aj(e);if(n.get(1)!==t.databaseId.projectId)throw new Ae(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ae(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Fe(Dj(n))}function Nj(t,e){return R1(t.databaseId,e)}function SH(t){const e=Aj(t);return e.length===4?Xt.emptyPath():Dj(e)}function J_(t){return new Xt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Dj(t){return jt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function OI(t,e,n){return{name:X_(t,e),fields:n.value.mapValue.fields}}function IH(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:He()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(jt(d===void 0||typeof d=="string"),rr.fromBase64String(d||"")):(jt(d===void 0||d instanceof Buffer||d instanceof Uint8Array),rr.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const d=u.code===void 0?ae.UNKNOWN:Ij(u.code);return new Ae(d,u.message||"")}(o);n=new Rj(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=X0(t,r.document.name),i=Ti(r.document.updateTime),o=r.document.createTime?Ti(r.document.createTime):Ke.min(),l=new Fr({mapValue:{fields:r.document.fields}}),c=hr.newFoundDocument(s,i,o,l),u=r.targetIds||[],d=r.removedTargetIds||[];n=new km(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=X0(t,r.document),i=r.readTime?Ti(r.readTime):Ke.min(),o=hr.newNoDocument(s,i),l=r.removedTargetIds||[];n=new km([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=X0(t,r.document),i=r.removedTargetIds||[];n=new km([],i,s,null)}else{if(!("filter"in e))return He();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new gH(s,i),l=r.targetId;n=new kj(l,o)}}return n}function kH(t,e){let n;if(e instanceof Mf)n={update:OI(t,e.key,e.value)};else if(e instanceof S1)n={delete:X_(t,e.key)};else if(e instanceof ja)n={update:OI(t,e.key,e.data),updateMask:LH(e.fieldMask)};else{if(!(e instanceof fH))return He();n={verify:X_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const l=o.transform;if(l instanceof Eg)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof tf)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof nf)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Sg)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw He()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:EH(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:He()}(t,e.precondition)),n}function RH(t,e){return t&&t.length>0?(jt(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Ti(s.updateTime):Ti(i);return o.isEqual(Ke.min())&&(o=Ti(i)),new uH(o,s.transformResults||[])}(n,e))):[]}function PH(t,e){return{documents:[Nj(t,e.path)]}}function AH(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Nj(t,s);const i=function(u){if(u.length!==0)return Mj(ei.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(p){return{field:lc(p.field),direction:jH(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=K_(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:s}}function NH(t){let e=SH(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){jt(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const p=jj(h);return p instanceof ei&&uj(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(v){return new ef(cc(v.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(p))}(n.orderBy));let l=null;n.limit&&(l=function(h){let p;return p=typeof h=="object"?h.value:h,iy(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(h){const p=!!h.before,m=h.values||[];return new Cg(m,p)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const p=!h.before,m=h.values||[];return new Cg(m,p)}(n.endAt)),X8(e,s,o,i,l,"F",c,u)}function DH(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return He()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function jj(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=cc(n.unaryFilter.field);return Nn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=cc(n.unaryFilter.field);return Nn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=cc(n.unaryFilter.field);return Nn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=cc(n.unaryFilter.field);return Nn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return He()}}(t):t.fieldFilter!==void 0?function(n){return Nn.create(cc(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return He()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ei.create(n.compositeFilter.filters.map(r=>jj(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return He()}}(n.compositeFilter.op))}(t):He()}function jH(t){return bH[t]}function MH(t){return wH[t]}function OH(t){return CH[t]}function lc(t){return{fieldPath:t.canonicalString()}}function cc(t){return Jn.fromServerFormat(t.fieldPath)}function Mj(t){return t instanceof Nn?function(n){if(n.op==="=="){if(wI(n.value))return{unaryFilter:{field:lc(n.field),op:"IS_NAN"}};if(bI(n.value))return{unaryFilter:{field:lc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(wI(n.value))return{unaryFilter:{field:lc(n.field),op:"IS_NOT_NAN"}};if(bI(n.value))return{unaryFilter:{field:lc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lc(n.field),op:MH(n.op),value:n.value}}}(t):t instanceof ei?function(n){const r=n.getFilters().map(s=>Mj(s));return r.length===1?r[0]:{compositeFilter:{op:OH(n.op),filters:r}}}(t):He()}function LH(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Oj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,n,r,s,i=Ke.min(),o=Ke.min(),l=rr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Jo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Jo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Jo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Jo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $H{constructor(e){this.ct=e}}function FH(t){const e=NH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Tg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VH{constructor(){this.un=new BH}addToCollectionParentIndex(e,n){return this.un.add(n),de.resolve()}getCollectionParents(e,n){return de.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return de.resolve()}deleteFieldIndex(e,n){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,n){return de.resolve()}getDocumentsMatchingTarget(e,n){return de.resolve(null)}getIndexType(e,n){return de.resolve(0)}getFieldIndexes(e,n){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,n){return de.resolve(ba.min())}getMinOffsetFromCollectionGroup(e,n){return de.resolve(ba.min())}updateCollectionGroup(e,n,r){return de.resolve()}updateIndexEntries(e,n){return de.resolve()}}class BH{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new tr(Xt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new tr(Xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new du(0)}static kn(){return new du(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UH{constructor(){this.changes=new Hu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,hr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?de.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zH{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WH{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&ah(r.mutation,s,rs.empty(),Bt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ut()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ut()){const s=rl();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Ud();return i.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=rl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ut()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let i=yo();const o=oh(),l=function(){return oh()}();return n.forEach((c,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof ja)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),ah(d.mutation,u,d.mutation.getFieldMask(),Bt.now())):o.set(u.key,rs.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var h;return l.set(u,new zH(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),l))}recalculateAndSaveOverlays(e,n){const r=oh();let s=new jn((o,l)=>o-l),i=ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||rs.empty();d=l.applyToLocalView(u,d),r.set(c,d);const h=(s.get(l.batchId)||ut()).add(c);s=s.insert(l.batchId,h)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,h=xj();d.forEach(p=>{if(!i.has(p)){const m=Ej(n.get(p),r.get(p));m!==null&&h.set(p,m),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return de.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Fe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):pj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):de.resolve(rl());let l=-1,c=i;return o.next(u=>de.forEach(u,(d,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),i.get(d)?de.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{c=c.insert(d,p)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,ut())).next(d=>({batchId:l,changes:yj(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Fe(n)).next(r=>{let s=Ud();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Ud();return this.indexManager.getCollectionParents(e,i).next(l=>de.forEach(l,c=>{const u=function(h,p){return new Wu(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,hr.newInvalidDocument(d)))});let l=Ud();return o.forEach((c,u)=>{const d=i.get(c);d!==void 0&&ah(d.mutation,u,rs.empty(),Bt.now()),ly(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HH{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return de.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ti(s.createTime)}}(n)),de.resolve()}getNamedQuery(e,n){return de.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:FH(s.bundledQuery),readTime:Ti(s.readTime)}}(n)),de.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qH{constructor(){this.overlays=new jn(Fe.comparator),this.Ir=new Map}getOverlay(e,n){return de.resolve(this.overlays.get(n))}getOverlays(e,n){const r=rl();return de.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),de.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),de.resolve()}getOverlaysForCollection(e,n,r){const s=rl(),i=n.length+1,o=new Fe(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return de.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new jn((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=rl(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=rl(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=s)););return de.resolve(l)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new mH(n,r));let i=this.Ir.get(n);i===void 0&&(i=ut(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GH{constructor(){this.sessionToken=rr.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,de.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(){this.Tr=new tr($n.Er),this.dr=new tr($n.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new $n(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new $n(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Fe(new Xt([])),r=new $n(n,e),s=new $n(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Fe(new Xt([])),r=new $n(n,e),s=new $n(n,e+1);let i=ut();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new $n(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class $n{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Fe.comparator(e.key,n.key)||St(e.wr,n.wr)}static Ar(e,n){return St(e.wr,n.wr)||Fe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YH{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new tr($n.Er)}checkEmpty(e){return de.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new pH(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.br=this.br.add(new $n(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return de.resolve(o)}lookupMutationBatch(e,n){return de.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return de.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new $n(n,0),s=new $n(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const l=this.Dr(o.wr);i.push(l)}),de.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new tr(St);return n.forEach(s=>{const i=new $n(s,0),o=new $n(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],l=>{r=r.add(l.wr)})}),de.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Fe.isDocumentKey(i)||(i=i.child(""));const o=new $n(new Fe(i),0);let l=new tr(St);return this.br.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(l=l.add(c.wr)),!0)},o),de.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){jt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return de.forEach(n.mutations,s=>{const i=new $n(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new $n(n,0),s=this.br.firstAfterOrEqual(r);return de.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,de.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KH{constructor(e){this.Mr=e,this.docs=function(){return new jn(Fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return de.resolve(r?r.document.mutableCopy():hr.newInvalidDocument(n))}getEntries(e,n){let r=yo();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():hr.newInvalidDocument(s))}),de.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=yo();const o=n.path,l=new Fe(o.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||N8(A8(d),r)<=0||(s.has(d.key)||ly(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return de.resolve(i)}getAllFromCollectionGroup(e,n,r,s){He()}Or(e,n){return de.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new QH(this)}getSize(e){return de.resolve(this.size)}}class QH extends UH{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),de.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XH{constructor(e){this.persistence=e,this.Nr=new Hu(n=>C1(n),T1),this.lastRemoteSnapshotVersion=Ke.min(),this.highestTargetId=0,this.Lr=0,this.Br=new P1,this.targetCount=0,this.kr=du.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),de.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new du(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,de.resolve()}updateTargetData(e,n){return this.Kn(n),de.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),de.waitFor(i).next(()=>s)}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return de.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),de.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),de.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),de.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return de.resolve(r)}containsKey(e,n){return de.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JH{constructor(e,n){this.qr={},this.overlays={},this.Qr=new x1(0),this.Kr=!1,this.Kr=!0,this.$r=new GH,this.referenceDelegate=e(this),this.Ur=new XH(this),this.indexManager=new VH,this.remoteDocumentCache=function(s){return new KH(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new $H(n),this.Gr=new HH(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qH,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new YH(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Me("MemoryPersistence","Starting transaction:",e);const s=new ZH(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return de.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class ZH extends j8{constructor(e){super(),this.currentSequenceNumber=e}}class A1{constructor(e){this.persistence=e,this.Jr=new P1,this.Yr=null}static Zr(e){return new A1(e)}get Xr(){if(this.Yr)return this.Yr;throw He()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),de.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),de.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),de.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.Xr,r=>{const s=Fe.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,Ke.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return de.or([()=>de.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=ut(),s=ut();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new N1(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t7{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return zU()?8:M8(yr())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new e7;return this.Xi(e,n,o).next(l=>{if(i.result=l,this.zi)return this.es(e,n,o,l.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(yd()<=at.DEBUG&&Me("QueryEngine","SDK will not create cache indexes for query:",ac(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),de.resolve()):(yd()<=at.DEBUG&&Me("QueryEngine","Query:",ac(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(yd()<=at.DEBUG&&Me("QueryEngine","The SDK decides to create cache indexes for query:",ac(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ci(n))):de.resolve())}Yi(e,n){if(SI(n))return de.resolve(null);let r=Ci(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Tg(n,null,"F"),r=Ci(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ut(...i);return this.Ji.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.ts(n,l);return this.ns(n,u,o,c.readTime)?this.Yi(e,Tg(n,null,"F")):this.rs(e,u,n,c)}))})))}Zi(e,n,r,s){return SI(n)||s.isEqual(Ke.min())?de.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?de.resolve(null):(yd()<=at.DEBUG&&Me("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ac(n)),this.rs(e,o,n,P8(s,-1)).next(l=>l))})}ts(e,n){let r=new tr(gj(e));return n.forEach((s,i)=>{ly(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return yd()<=at.DEBUG&&Me("QueryEngine","Using full collection scan to execute query:",ac(n)),this.Ji.getDocumentsMatchingQuery(e,n,ba.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new jn(St),this._s=new Hu(i=>C1(i),T1),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new WH(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function r7(t,e,n,r){return new n7(t,e,n,r)}async function Lj(t,e){const n=Qe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let c=ut();for(const u of s){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of i){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:l}))})})}function s7(t,e){const n=Qe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const h=u.batch,p=h.keys();let m=de.resolve();return p.forEach(v=>{m=m.next(()=>d.getEntry(c,v)).next(g=>{const b=u.docVersions.get(v);jt(b!==null),g.version.compareTo(b)<0&&(h.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),d.addEntry(g)))})}),m.next(()=>l.mutationQueue.removeMutationBatch(c,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=ut();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function $j(t){const e=Qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function i7(t,e){const n=Qe(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const l=[];e.targetChanges.forEach((d,h)=>{const p=s.get(h);if(!p)return;l.push(n.Ur.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(i,d.addedDocuments,h)));let m=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(rr.EMPTY_BYTE_STRING,Ke.min()).withLastLimboFreeSnapshotVersion(Ke.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),s=s.insert(h,m),function(g,b,x){return g.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(p,m,d)&&l.push(n.Ur.updateTargetData(i,m))});let c=yo(),u=ut();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),l.push(o7(i,o,e.documentUpdates).next(d=>{c=d.Ps,u=d.Is})),!r.isEqual(Ke.min())){const d=n.Ur.getLastRemoteSnapshotVersion(i).next(h=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(d)}return de.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.os=s,i))}function o7(t,e,n){let r=ut(),s=ut();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=yo();return n.forEach((l,c)=>{const u=i.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(Ke.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):Me("LocalStore","Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{Ps:o,Is:s}})}function a7(t,e){const n=Qe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function l7(t,e){const n=Qe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,de.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new Jo(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Z_(t,e,n){const r=Qe(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!jf(o))throw o;Me("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function LI(t,e,n){const r=Qe(t);let s=Ke.min(),i=ut();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){const h=Qe(c),p=h._s.get(d);return p!==void 0?de.resolve(h.os.get(p)):h.Ur.getTargetData(u,d)}(r,o,Ci(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,l.targetId).next(c=>{i=c})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:Ke.min(),n?i:ut())).next(l=>(c7(r,Z8(e),l),{documents:l,Ts:i})))}function c7(t,e,n){let r=t.us.get(e)||Ke.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class $I{constructor(){this.activeTargetIds=iH()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class u7{constructor(){this.so=new $I,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new $I,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d7{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fp=null;function J0(){return Fp===null?Fp=function(){return 268435456+Math.round(2147483648*Math.random())}():Fp++,"0x"+Fp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr="WebChannelConnection";class p7 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const l=J0(),c=this.xo(n,r.toUriEncodedString());Me("RestConnection",`Sending RPC '${n}' ${l}:`,c,s);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,i,o),this.No(n,c,u,s).then(d=>(Me("RestConnection",`Received RPC '${n}' ${l}: `,d),d),d=>{throw Kh("RestConnection",`RPC '${n}' ${l} failed with error: `,d,"url: ",c,"request:",s),d})}Lo(n,r,s,i,o,l){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=h7[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=J0();return new Promise((o,l)=>{const c=new ZD;c.setWithCredentials(!0),c.listenOnce(ej.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Em.NO_ERROR:const d=c.getResponseJson();Me(cr,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case Em.TIMEOUT:Me(cr,`RPC '${e}' ${i} timed out`),l(new Ae(ae.DEADLINE_EXCEEDED,"Request time out"));break;case Em.HTTP_ERROR:const h=c.getStatus();if(Me(cr,`RPC '${e}' ${i} failed with status:`,h,"response text:",c.getResponseText()),h>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const v=function(b){const x=b.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(x)>=0?x:ae.UNKNOWN}(m.status);l(new Ae(v,m.message))}else l(new Ae(ae.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Ae(ae.UNAVAILABLE,"Connection failed."));break;default:He()}}finally{Me(cr,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);Me(cr,`RPC '${e}' ${i} sending request:`,s),c.send(n,"POST",u,r,15)})}Bo(e,n,r){const s=J0(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=rj(),l=nj(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=i.join("");Me(cr,`Creating RPC '${e}' stream ${s}: ${d}`,c);const h=o.createWebChannel(d,c);let p=!1,m=!1;const v=new f7({Io:b=>{m?Me(cr,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(p||(Me(cr,`Opening RPC '${e}' stream ${s} transport.`),h.open(),p=!0),Me(cr,`RPC '${e}' stream ${s} sending:`,b),h.send(b))},To:()=>h.close()}),g=(b,x,_)=>{b.listen(x,w=>{try{_(w)}catch(I){setTimeout(()=>{throw I},0)}})};return g(h,Bd.EventType.OPEN,()=>{m||(Me(cr,`RPC '${e}' stream ${s} transport opened.`),v.yo())}),g(h,Bd.EventType.CLOSE,()=>{m||(m=!0,Me(cr,`RPC '${e}' stream ${s} transport closed`),v.So())}),g(h,Bd.EventType.ERROR,b=>{m||(m=!0,Kh(cr,`RPC '${e}' stream ${s} transport errored:`,b),v.So(new Ae(ae.UNAVAILABLE,"The operation could not be completed")))}),g(h,Bd.EventType.MESSAGE,b=>{var x;if(!m){const _=b.data[0];jt(!!_);const w=_,I=w.error||((x=w[0])===null||x===void 0?void 0:x.error);if(I){Me(cr,`RPC '${e}' stream ${s} received error:`,I);const N=I.status;let R=function(C){const k=kn[C];if(k!==void 0)return Ij(k)}(N),S=I.message;R===void 0&&(R=ae.INTERNAL,S="Unknown error status: "+N+" with message "+I.message),m=!0,v.So(new Ae(R,S)),h.close()}else Me(cr,`RPC '${e}' stream ${s} received:`,_),v.bo(_)}}),g(l,tj.STAT_EVENT,b=>{b.stat===U_.PROXY?Me(cr,`RPC '${e}' stream ${s} detected buffering proxy`):b.stat===U_.NOPROXY&&Me(cr,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}function Z0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(t){return new TH(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&Me("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e,n,r,s,i,o,l,c){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Fj(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?(vo(n.toString()),vo("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new Ae(ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Me("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class m7 extends Vj{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=IH(this.serializer,e),r=function(i){if(!("targetChange"in i))return Ke.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Ke.min():o.readTime?Ti(o.readTime):Ke.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=J_(this.serializer),n.addTarget=function(i,o){let l;const c=o.target;if(l=G_(c)?{documents:PH(i,c)}:{query:AH(i,c)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=Pj(i,o.resumeToken);const u=K_(i,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(Ke.min())>0){l.readTime=Ig(i,o.snapshotVersion.toTimestamp());const u=K_(i,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=DH(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=J_(this.serializer),n.removeTarget=e,this.a_(n)}}class g7 extends Vj{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return jt(!!e.streamToken),this.lastStreamToken=e.streamToken,jt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){jt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=RH(e.writeResults,e.commitTime),r=Ti(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=J_(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>kH(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v7 extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new Ae(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,Q_(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ae(ae.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Lo(e,Q_(n,r),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ae(ae.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class y7{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(vo(n),this.D_=!1):Me("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{Bl(this)&&(Me("RemoteStore","Restarting streams for network reachability change."),await async function(c){const u=Qe(c);u.L_.add(4),await Lf(u),u.q_.set("Unknown"),u.L_.delete(4),await fy(u)}(this))})}),this.q_=new y7(r,s)}}async function fy(t){if(Bl(t))for(const e of t.B_)await e(!0)}async function Lf(t){for(const e of t.B_)await e(!1)}function Bj(t,e){const n=Qe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),O1(n)?M1(n):qu(n).r_()&&j1(n,e))}function D1(t,e){const n=Qe(t),r=qu(n);n.N_.delete(e),r.r_()&&Uj(n,e),n.N_.size===0&&(r.r_()?r.o_():Bl(n)&&n.q_.set("Unknown"))}function j1(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}qu(t).A_(e)}function Uj(t,e){t.Q_.xe(e),qu(t).R_(e)}function M1(t){t.Q_=new _H({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),qu(t).start(),t.q_.v_()}function O1(t){return Bl(t)&&!qu(t).n_()&&t.N_.size>0}function Bl(t){return Qe(t).L_.size===0}function zj(t){t.Q_=void 0}async function _7(t){t.q_.set("Online")}async function b7(t){t.N_.forEach((e,n)=>{j1(t,e)})}async function w7(t,e){zj(t),O1(t)?(t.q_.M_(e),M1(t)):t.q_.set("Unknown")}async function C7(t,e,n){if(t.q_.set("Online"),e instanceof Rj&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.N_.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.N_.delete(l),s.Q_.removeTarget(l))}(t,e)}catch(r){Me("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await kg(t,r)}else if(e instanceof km?t.Q_.Ke(e):e instanceof kj?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ke.min()))try{const r=await $j(t.localStore);n.compareTo(r)>=0&&await function(i,o){const l=i.Q_.rt(o);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=i.N_.get(u);d&&i.N_.set(u,d.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,u)=>{const d=i.N_.get(c);if(!d)return;i.N_.set(c,d.withResumeToken(rr.EMPTY_BYTE_STRING,d.snapshotVersion)),Uj(i,c);const h=new Jo(d.target,c,u,d.sequenceNumber);j1(i,h)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Me("RemoteStore","Failed to raise snapshot:",r),await kg(t,r)}}async function kg(t,e,n){if(!jf(e))throw e;t.L_.add(1),await Lf(t),t.q_.set("Offline"),n||(n=()=>$j(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Me("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await fy(t)})}function Wj(t,e){return e().catch(n=>kg(t,n,e))}async function py(t){const e=Qe(t),n=Ca(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;T7(e);)try{const s=await a7(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,E7(e,s)}catch(s){await kg(e,s)}Hj(e)&&qj(e)}function T7(t){return Bl(t)&&t.O_.length<10}function E7(t,e){t.O_.push(e);const n=Ca(t);n.r_()&&n.V_&&n.m_(e.mutations)}function Hj(t){return Bl(t)&&!Ca(t).n_()&&t.O_.length>0}function qj(t){Ca(t).start()}async function S7(t){Ca(t).p_()}async function I7(t){const e=Ca(t);for(const n of t.O_)e.m_(n.mutations)}async function k7(t,e,n){const r=t.O_.shift(),s=I1.from(r,e,n);await Wj(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await py(t)}async function R7(t,e){e&&Ca(t).V_&&await async function(r,s){if(function(o){return vH(o)&&o!==ae.ABORTED}(s.code)){const i=r.O_.shift();Ca(r).s_(),await Wj(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await py(r)}}(t,e),Hj(t)&&qj(t)}async function VI(t,e){const n=Qe(t);n.asyncQueue.verifyOperationInProgress(),Me("RemoteStore","RemoteStore received new credentials");const r=Bl(n);n.L_.add(3),await Lf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await fy(n)}async function P7(t,e){const n=Qe(t);e?(n.L_.delete(2),await fy(n)):e||(n.L_.add(2),await Lf(n),n.q_.set("Unknown"))}function qu(t){return t.K_||(t.K_=function(n,r,s){const i=Qe(n);return i.w_(),new m7(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:_7.bind(null,t),Ro:b7.bind(null,t),mo:w7.bind(null,t),d_:C7.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),O1(t)?M1(t):t.q_.set("Unknown")):(await t.K_.stop(),zj(t))})),t.K_}function Ca(t){return t.U_||(t.U_=function(n,r,s){const i=Qe(n);return i.w_(),new g7(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:S7.bind(null,t),mo:R7.bind(null,t),f_:I7.bind(null,t),g_:k7.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await py(t)):(await t.U_.stop(),t.O_.length>0&&(Me("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new to,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new L1(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $1(t,e){if(vo("AsyncQueue",`${e}: ${t}`),jf(t))return new Ae(ae.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Fe.comparator(n.key,r.key):(n,r)=>Fe.comparator(n.key,r.key),this.keyedMap=Ud(),this.sortedSet=new jn(this.comparator)}static emptySet(e){return new Bc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Bc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Bc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(){this.W_=new jn(Fe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):He():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class hu{constructor(e,n,r,s,i,o,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new hu(e,n,Bc.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ay(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class N7{constructor(){this.queries=UI(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=Qe(n),i=s.queries;s.queries=UI(),i.forEach((o,l)=>{for(const c of l.j_)c.onError(r)})})(this,new Ae(ae.ABORTED,"Firestore shutting down"))}}function UI(){return new Hu(t=>mj(t),ay)}async function F1(t,e){const n=Qe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new A7,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=$1(o,`Initialization of query '${ac(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&B1(n)}async function V1(t,e){const n=Qe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function D7(t,e){const n=Qe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.j_)l.X_(s)&&(r=!0);o.z_=s}}r&&B1(n)}function j7(t,e,n){const r=Qe(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function B1(t){t.Y_.forEach(e=>{e.next()})}var eb,zI;(zI=eb||(eb={})).ea="default",zI.Cache="cache";class U1{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new hu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=hu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==eb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(e){this.key=e}}class Yj{constructor(e){this.key=e}}class M7{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ut(),this.mutatedKeys=ut(),this.Aa=gj(e),this.Ra=new Bc(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new BI,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const p=s.get(d),m=ly(this.query,h)?h:null,v=!!p&&this.mutatedKeys.has(p.key),g=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let b=!1;p&&m?p.data.isEqual(m.data)?v!==g&&(r.track({type:3,doc:m}),b=!0):this.ga(p,m)||(r.track({type:2,doc:m}),b=!0,(c&&this.Aa(m,c)>0||u&&this.Aa(m,u)<0)&&(l=!0)):!p&&m?(r.track({type:0,doc:m}),b=!0):p&&!m&&(r.track({type:1,doc:p}),b=!0,(c||u)&&(l=!0)),b&&(m?(o=o.add(m),i=g?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:l,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,h)=>function(m,v){const g=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return He()}};return g(m)-g(v)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(r),s=s!=null&&s;const l=n&&!s?this.ya():[],c=this.da.size===0&&this.current&&!s?1:0,u=c!==this.Ea;return this.Ea=c,o.length!==0||u?{snapshot:new hu(this.query,e.Ra,i,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new BI,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ut(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Yj(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Gj(r))}),n}ba(e){this.Ta=e.Ts,this.da=ut();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return hu.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class O7{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class L7{constructor(e){this.key=e,this.va=!1}}class $7{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Hu(l=>mj(l),ay),this.Ma=new Map,this.xa=new Set,this.Oa=new jn(Fe.comparator),this.Na=new Map,this.La=new P1,this.Ba={},this.ka=new Map,this.qa=du.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function F7(t,e,n=!0){const r=eM(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await Kj(r,e,n,!0),s}async function V7(t,e){const n=eM(t);await Kj(n,e,!0,!1)}async function Kj(t,e,n,r){const s=await l7(t.localStore,Ci(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await B7(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&Bj(t.remoteStore,s),l}async function B7(t,e,n,r,s){t.Ka=(h,p,m)=>async function(g,b,x,_){let w=b.view.ma(x);w.ns&&(w=await LI(g.localStore,b.query,!1).then(({documents:S})=>b.view.ma(S,w)));const I=_&&_.targetChanges.get(b.targetId),N=_&&_.targetMismatches.get(b.targetId)!=null,R=b.view.applyChanges(w,g.isPrimaryClient,I,N);return HI(g,b.targetId,R.wa),R.snapshot}(t,h,p,m);const i=await LI(t.localStore,e,!0),o=new M7(e,i.Ts),l=o.ma(i.documents),c=Of.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(l,t.isPrimaryClient,c);HI(t,n,u.wa);const d=new O7(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function U7(t,e,n){const r=Qe(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!ay(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Z_(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&D1(r.remoteStore,s.targetId),tb(r,s.targetId)}).catch(Df)):(tb(r,s.targetId),await Z_(r.localStore,s.targetId,!0))}async function z7(t,e){const n=Qe(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),D1(n.remoteStore,r.targetId))}async function W7(t,e,n){const r=X7(t);try{const s=await function(o,l){const c=Qe(o),u=Bt.now(),d=l.reduce((m,v)=>m.add(v.key),ut());let h,p;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=yo(),g=ut();return c.cs.getEntries(m,d).next(b=>{v=b,v.forEach((x,_)=>{_.isValidDocument()||(g=g.add(x))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,v)).next(b=>{h=b;const x=[];for(const _ of l){const w=hH(_,h.get(_.key).overlayedDocument);w!=null&&x.push(new ja(_.key,w,aj(w.value.mapValue),Ss.exists(!0)))}return c.mutationQueue.addMutationBatch(m,u,x,l)}).next(b=>{p=b;const x=b.applyToLocalDocumentSet(h,g);return c.documentOverlayCache.saveOverlays(m,b.batchId,x)})}).then(()=>({batchId:p.batchId,changes:yj(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,c){let u=o.Ba[o.currentUser.toKey()];u||(u=new jn(St)),u=u.insert(l,c),o.Ba[o.currentUser.toKey()]=u}(r,s.batchId,n),await $f(r,s.changes),await py(r.remoteStore)}catch(s){const i=$1(s,"Failed to persist write");n.reject(i)}}async function Qj(t,e){const n=Qe(t);try{const r=await i7(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(jt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?jt(o.va):s.removedDocuments.size>0&&(jt(o.va),o.va=!1))}),await $f(n,r,e)}catch(r){await Df(r)}}function WI(t,e,n){const r=Qe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const l=o.view.Z_(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const c=Qe(o);c.onlineState=l;let u=!1;c.queries.forEach((d,h)=>{for(const p of h.j_)p.Z_(l)&&(u=!0)}),u&&B1(c)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function H7(t,e,n){const r=Qe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new jn(Fe.comparator);o=o.insert(i,hr.newNoDocument(i,Ke.min()));const l=ut().add(i),c=new dy(Ke.min(),new Map,new jn(St),o,l);await Qj(r,c),r.Oa=r.Oa.remove(i),r.Na.delete(e),z1(r)}else await Z_(r.localStore,e,!1).then(()=>tb(r,e,n)).catch(Df)}async function q7(t,e){const n=Qe(t),r=e.batch.batchId;try{const s=await s7(n.localStore,e);Jj(n,r,null),Xj(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await $f(n,s)}catch(s){await Df(s)}}async function G7(t,e,n){const r=Qe(t);try{const s=await function(o,l){const c=Qe(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(h=>(jt(h!==null),d=h.keys(),c.mutationQueue.removeMutationBatch(u,h))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);Jj(r,e,n),Xj(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await $f(r,s)}catch(s){await Df(s)}}function Xj(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function Jj(t,e,n){const r=Qe(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function tb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||Zj(t,r)})}function Zj(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(D1(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),z1(t))}function HI(t,e,n){for(const r of n)r instanceof Gj?(t.La.addReference(r.key,e),Y7(t,r)):r instanceof Yj?(Me("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||Zj(t,r.key)):He()}function Y7(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Me("SyncEngine","New document in limbo: "+n),t.xa.add(r),z1(t))}function z1(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Fe(Xt.fromString(e)),r=t.qa.next();t.Na.set(r,new L7(n)),t.Oa=t.Oa.insert(n,r),Bj(t.remoteStore,new Jo(Ci(oy(n.path)),r,"TargetPurposeLimboResolution",x1.oe))}}async function $f(t,e,n){const r=Qe(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((l,c)=>{o.push(r.Ka(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(u){s.push(u);const h=N1.Wi(c.targetId,u);i.push(h)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(c,u){const d=Qe(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>de.forEach(u,p=>de.forEach(p.$i,m=>d.persistence.referenceDelegate.addReference(h,p.targetId,m)).next(()=>de.forEach(p.Ui,m=>d.persistence.referenceDelegate.removeReference(h,p.targetId,m)))))}catch(h){if(!jf(h))throw h;Me("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const p=h.targetId;if(!h.fromCache){const m=d.os.get(p),v=m.snapshotVersion,g=m.withLastLimboFreeSnapshotVersion(v);d.os=d.os.insert(p,g)}}}(r.localStore,i))}async function K7(t,e){const n=Qe(t);if(!n.currentUser.isEqual(e)){Me("SyncEngine","User change. New user:",e.toKey());const r=await Lj(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(l=>{l.forEach(c=>{c.reject(new Ae(ae.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await $f(n,r.hs)}}function Q7(t,e){const n=Qe(t),r=n.Na.get(e);if(r&&r.va)return ut().add(r.key);{let s=ut();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const l=n.Fa.get(o);s=s.unionWith(l.view.Va)}return s}}function eM(t){const e=Qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Qj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Q7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=H7.bind(null,e),e.Ca.d_=D7.bind(null,e.eventManager),e.Ca.$a=j7.bind(null,e.eventManager),e}function X7(t){const e=Qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=q7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=G7.bind(null,e),e}class Rg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hy(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return r7(this.persistence,new t7,e.initialUser,this.serializer)}Ga(e){return new JH(A1.Zr,this.serializer)}Wa(e){return new u7}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rg.provider={build:()=>new Rg};class nb{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>WI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=K7.bind(null,this.syncEngine),await P7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new N7}()}createDatastore(e){const n=hy(e.databaseInfo.databaseId),r=function(i){return new p7(i)}(e.databaseInfo);return function(i,o,l,c){return new v7(i,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,l){return new x7(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>WI(this.syncEngine,n,0),function(){return FI.D()?new FI:new d7}())}createSyncEngine(e,n){return function(s,i,o,l,c,u,d){const h=new $7(s,i,o,l,c,u);return d&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Qe(s);Me("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await Lf(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}nb.provider={build:()=>new nb};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):vo("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J7{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Or.UNAUTHENTICATED,this.clientId=sj.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Me("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Me("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new to;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=$1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ex(t,e){t.asyncQueue.verifyOperationInProgress(),Me("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Lj(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function qI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Z7(t);Me("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>VI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>VI(e.remoteStore,s)),t._onlineComponents=e}async function Z7(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Me("FirestoreClient","Using user provided OfflineComponentProvider");try{await ex(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===ae.FAILED_PRECONDITION||s.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Kh("Error using user provided cache. Falling back to memory cache: "+n),await ex(t,new Rg)}}else Me("FirestoreClient","Using default OfflineComponentProvider"),await ex(t,new Rg);return t._offlineComponents}async function tM(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Me("FirestoreClient","Using user provided OnlineComponentProvider"),await qI(t,t._uninitializedComponentsProvider._online)):(Me("FirestoreClient","Using default OnlineComponentProvider"),await qI(t,new nb))),t._onlineComponents}function eq(t){return tM(t).then(e=>e.syncEngine)}async function Pg(t){const e=await tM(t),n=e.eventManager;return n.onListen=F7.bind(null,e.syncEngine),n.onUnlisten=U7.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=V7.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=z7.bind(null,e.syncEngine),n}function tq(t,e,n={}){const r=new to;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,u){const d=new W1({next:p=>{d.Za(),o.enqueueAndForget(()=>V1(i,h));const m=p.docs.has(l);!m&&p.fromCache?u.reject(new Ae(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&c&&c.source==="server"?u.reject(new Ae(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new U1(oy(l.path),d,{includeMetadataChanges:!0,_a:!0});return F1(i,h)}(await Pg(t),t.asyncQueue,e,n,r)),r.promise}function nq(t,e,n={}){const r=new to;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,u){const d=new W1({next:p=>{d.Za(),o.enqueueAndForget(()=>V1(i,h)),p.fromCache&&c.source==="server"?u.reject(new Ae(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new U1(l,d,{includeMetadataChanges:!0,_a:!0});return F1(i,h)}(await Pg(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(t,e,n){if(!n)throw new Ae(ae.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function rq(t,e,n,r){if(e===!0&&r===!0)throw new Ae(ae.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function YI(t){if(!Fe.isDocumentKey(t))throw new Ae(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function KI(t){if(Fe.isDocumentKey(t))throw new Ae(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function my(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":He()}function as(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ae(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=my(t);throw new Ae(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ae(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Ae(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ae(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ae(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class H1{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new QI({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new QI(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new w8;switch(r.type){case"firstParty":return new E8(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ae(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=GI.get(n);r&&(Me("ComponentProvider","Removing Datastore"),GI.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ko(this.firestore,e,this._query)}}class gr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gr(this.firestore,e,this._key)}}class pa extends ko{constructor(e,n,r){super(e,n,oy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gr(this.firestore,null,new Fe(e))}withConverter(e){return new pa(this.firestore,e,this._path)}}function Je(t,e,...n){if(t=Ut(t),rM("collection","path",e),t instanceof H1){const r=Xt.fromString(e,...n);return KI(r),new pa(t,null,r)}{if(!(t instanceof gr||t instanceof pa))throw new Ae(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xt.fromString(e,...n));return KI(r),new pa(t.firestore,null,r)}}function We(t,e,...n){if(t=Ut(t),arguments.length===1&&(e=sj.newId()),rM("doc","path",e),t instanceof H1){const r=Xt.fromString(e,...n);return YI(r),new gr(t,null,new Fe(r))}{if(!(t instanceof gr||t instanceof pa))throw new Ae(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xt.fromString(e,...n));return YI(r),new gr(t.firestore,t instanceof pa?t.converter:null,new Fe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Fj(this,"async_queue_retry"),this.Vu=()=>{const r=Z0();r&&Me("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Z0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Z0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new to;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!jf(e))throw e;Me("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw vo("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=L1.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&He()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function JI(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class xo extends H1{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new XI,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new XI(e),this._firestoreClient=void 0,await e}}}function sq(t,e,n){n||(n="(default)");const r=Bu(t,"firestore");if(r.isInitialized(n)){const s=r.getImmediate({identifier:n}),i=r.getOptions(n);if(Hh(i,e))return s;throw new Ae(ae.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new Ae(ae.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ae(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:e,instanceIdentifier:n})}function gy(t){if(t._terminated)throw new Ae(ae.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||iq(t),t._firestoreClient}function iq(t){var e,n,r;const s=t._freezeSettings(),i=function(l,c,u,d){return new $8(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,nM(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new J7(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fu(rr.fromBase64String(e))}catch(n){throw new Ae(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fu(rr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ae(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ae(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ae(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return St(this._lat,e._lat)||St(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oq=/^__.*__$/;class aq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ja(e,this.data,this.fieldMask,n,this.fieldTransforms):new Mf(e,this.data,n,this.fieldTransforms)}}class sM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ja(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function iM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw He()}}class Y1{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Y1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Ag(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(iM(this.Cu)&&oq.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class lq{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||hy(e)}Qu(e,n,r,s=!1){return new Y1({Cu:e,methodName:n,qu:r,path:Jn.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xy(t){const e=t._freezeSettings(),n=hy(t._databaseId);return new lq(t._databaseId,!!e.ignoreUndefinedProperties,n)}function oM(t,e,n,r,s,i={}){const o=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);K1("Data must be an object, but it was:",o,r);const l=aM(r,o);let c,u;if(i.merge)c=new rs(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const p=rb(e,h,n);if(!o.contains(p))throw new Ae(ae.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);cM(d,p)||d.push(p)}c=new rs(d),u=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,u=o.fieldTransforms;return new aq(new Fr(l),c,u)}class _y extends q1{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _y}}function cq(t,e,n,r){const s=t.Qu(1,e,n);K1("Data must be an object, but it was:",s,r);const i=[],o=Fr.empty();Vl(r,(c,u)=>{const d=Q1(e,c,n);u=Ut(u);const h=s.Nu(d);if(u instanceof _y)i.push(d);else{const p=Ff(u,h);p!=null&&(i.push(d),o.set(d,p))}});const l=new rs(i);return new sM(o,l,s.fieldTransforms)}function uq(t,e,n,r,s,i){const o=t.Qu(1,e,n),l=[rb(e,r,n)],c=[s];if(i.length%2!=0)throw new Ae(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)l.push(rb(e,i[p])),c.push(i[p+1]);const u=[],d=Fr.empty();for(let p=l.length-1;p>=0;--p)if(!cM(u,l[p])){const m=l[p];let v=c[p];v=Ut(v);const g=o.Nu(m);if(v instanceof _y)u.push(m);else{const b=Ff(v,g);b!=null&&(u.push(m),d.set(m,b))}}const h=new rs(u);return new sM(d,h,o.fieldTransforms)}function dq(t,e,n,r=!1){return Ff(n,t.Qu(r?4:3,e))}function Ff(t,e){if(lM(t=Ut(t)))return K1("Unsupported field value:",e,t),aM(t,e);if(t instanceof q1)return function(r,s){if(!iM(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const l of r){let c=Ff(l,s.Lu(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Ut(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return oH(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Bt.fromDate(r);return{timestampValue:Ig(s.serializer,i)}}if(r instanceof Bt){const i=new Bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ig(s.serializer,i)}}if(r instanceof yy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fu)return{bytesValue:Pj(s.serializer,r._byteString)};if(r instanceof gr){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:R1(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof G1)return function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw l.Bu("VectorValues must only contain numeric values.");return E1(l.serializer,c)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${my(r)}`)}(t,e)}function aM(t,e){const n={};return ij(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vl(t,(r,s)=>{const i=Ff(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function lM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Bt||t instanceof yy||t instanceof fu||t instanceof gr||t instanceof q1||t instanceof G1)}function K1(t,e,n){if(!lM(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=my(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function rb(t,e,n){if((e=Ut(e))instanceof vy)return e._internalPath;if(typeof e=="string")return Q1(t,e);throw Ag("Field path arguments must be of type string or ",t,!1,void 0,n)}const hq=new RegExp("[~\\*/\\[\\]]");function Q1(t,e,n){if(e.search(hq)>=0)throw Ag(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vy(...e.split("."))._internalPath}catch{throw Ag(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ag(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new Ae(ae.INVALID_ARGUMENT,l+t+c)}function cM(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new gr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(by("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class fq extends uM{data(){return super.data()}}function by(t,e){return typeof e=="string"?Q1(t,e):e instanceof vy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ae(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class X1{}class J1 extends X1{}function Lt(t,e,...n){let r=[];e instanceof X1&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof Z1).length,l=i.filter(c=>c instanceof wy).length;if(o>1||o>0&&l>0)throw new Ae(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class wy extends J1{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new wy(e,n,r)}_apply(e){const n=this._parse(e);return hM(e._query,n),new ko(e.firestore,e.converter,Y_(e._query,n))}_parse(e){const n=xy(e.firestore);return function(i,o,l,c,u,d,h){let p;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Ae(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){ek(h,d);const m=[];for(const v of h)m.push(ZI(c,i,v));p={arrayValue:{values:m}}}else p=ZI(c,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||ek(h,d),p=dq(l,o,h,d==="in"||d==="not-in");return Nn.create(u,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ge(t,e,n){const r=e,s=by("where",t);return wy._create(s,r,n)}class Z1 extends X1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Z1(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ei.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const l=i.getFlattenedFilters();for(const c of l)hM(o,c),o=Y_(o,c)}(e._query,n),new ko(e.firestore,e.converter,Y_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class eC extends J1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new eC(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new Ae(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Ae(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ef(i,o)}(e._query,this._field,this._direction);return new ko(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Wu(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function pq(t,e="asc"){const n=e,r=by("orderBy",t);return eC._create(r,n)}class tC extends J1{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new tC(e,n,r)}_apply(e){return new ko(e.firestore,e.converter,Tg(e._query,this._limit,this._limitType))}}function mq(t){return tC._create("limit",t,"F")}function ZI(t,e,n){if(typeof(n=Ut(n))=="string"){if(n==="")throw new Ae(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pj(e)&&n.indexOf("/")!==-1)throw new Ae(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Xt.fromString(n));if(!Fe.isDocumentKey(r))throw new Ae(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return _I(t,new Fe(r))}if(n instanceof gr)return _I(t,n._key);throw new Ae(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${my(n)}.`)}function ek(t,e){if(!Array.isArray(t)||t.length===0)throw new Ae(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hM(t,e){const n=function(s,i){for(const o of s)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ae(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ae(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class gq{convertValue(e,n="none"){switch(Il(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Sl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw He()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Vl(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>wn(o.doubleValue));return new G1(i)}convertGeoPoint(e){return new yy(wn(e.latitude),wn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=b1(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xh(e));default:return null}}convertTimestamp(e){const n=wa(e);return new Bt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Xt.fromString(e);jt(Oj(r));const s=new Jh(r.get(1),r.get(3)),i=new Fe(r.popFirst(5));return s.isEqual(n)||vo(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pM extends uM{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(by("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Rm extends pM{data(e={}){return super.data(e)}}class mM{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Wd(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Rm(this._firestore,this._userDataWriter,r.key,r,new Wd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ae(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const c=new Rm(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Wd(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new Rm(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Wd(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:vq(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function vq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return He()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(t){t=as(t,gr);const e=as(t.firestore,xo);return tq(gy(e),t._key).then(n=>gM(e,t,n))}class nC extends gq{constructor(e){super(),this.firestore=e}convertBytes(e){return new fu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gr(this.firestore,null,n)}}function It(t){t=as(t,ko);const e=as(t.firestore,xo),n=gy(e),r=new nC(e);return dM(t._query),nq(n,t._query).then(s=>new mM(e,r,t,s))}function yq(t,e,n){t=as(t,gr);const r=as(t.firestore,xo),s=fM(t.converter,e,n);return Ty(r,[oM(xy(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Ss.none())])}function Zn(t,e,n,...r){t=as(t,gr);const s=as(t.firestore,xo),i=xy(s);let o;return o=typeof(e=Ut(e))=="string"||e instanceof vy?uq(i,"updateDoc",t._key,e,n,r):cq(i,"updateDoc",t._key,e),Ty(s,[o.toMutation(t._key,Ss.exists(!0))])}function Cy(t){return Ty(as(t.firestore,xo),[new S1(t._key,Ss.none())])}function Zo(t,e){const n=as(t.firestore,xo),r=We(t),s=fM(t.converter,e);return Ty(n,[oM(xy(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Ss.exists(!1))]).then(()=>r)}function Ng(t,...e){var n,r,s;t=Ut(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||JI(e[o])||(i=e[o],o++);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(JI(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(s=h.complete)===null||s===void 0?void 0:s.bind(h)}let c,u,d;if(t instanceof gr)u=as(t.firestore,xo),d=oy(t._key.path),c={next:h=>{e[o]&&e[o](gM(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=as(t,ko);u=as(h.firestore,xo),d=h._query;const p=new nC(u);c={next:m=>{e[o]&&e[o](new mM(u,p,h,m))},error:e[o+1],complete:e[o+2]},dM(t._query)}return function(p,m,v,g){const b=new W1(g),x=new U1(m,b,v);return p.asyncQueue.enqueueAndForget(async()=>F1(await Pg(p),x)),()=>{b.Za(),p.asyncQueue.enqueueAndForget(async()=>V1(await Pg(p),x))}}(gy(u),d,l,c)}function Ty(t,e){return function(r,s){const i=new to;return r.asyncQueue.enqueueAndForget(async()=>W7(await eq(r),s,i)),i.promise}(gy(t),e)}function gM(t,e,n){const r=n.docs.get(e._key),s=new nC(t);return new pM(t,s,e._key,r,new Wd(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){zu=s})(Aa),mo(new Ri("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new xo(new C8(r.getProvider("auth-internal")),new I8(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Ae(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jh(u.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),Hr(mI,"4.7.3",e),Hr(mI,"4.7.3","esm2017")})();var xq="firebase",_q="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hr(xq,_q,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM="firebasestorage.googleapis.com",yM="storageBucket",bq=2*60*1e3,wq=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n extends ji{constructor(e,n,r=0){super(tx(e),`Firebase Storage: ${n} (${tx(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return tx(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var yn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(yn||(yn={}));function tx(t){return"storage/"+t}function rC(){const t="An unknown error occurred, please check the error payload for server response.";return new _n(yn.UNKNOWN,t)}function Cq(t){return new _n(yn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Tq(t){return new _n(yn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Eq(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new _n(yn.UNAUTHENTICATED,t)}function Sq(){return new _n(yn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Iq(t){return new _n(yn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function kq(){return new _n(yn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Rq(){return new _n(yn.CANCELED,"User canceled the upload/download.")}function Pq(t){return new _n(yn.INVALID_URL,"Invalid URL '"+t+"'.")}function Aq(t){return new _n(yn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Nq(){return new _n(yn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+yM+"' property when initializing the app?")}function Dq(){return new _n(yn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function jq(){return new _n(yn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Mq(t){return new _n(yn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function sb(t){return new _n(yn.INVALID_ARGUMENT,t)}function xM(){return new _n(yn.APP_DELETED,"The Firebase app was deleted.")}function Oq(t){return new _n(yn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function lh(t,e){return new _n(yn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function xd(t){throw new _n(yn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ss.makeFromUrl(e,n)}catch{return new ss(e,"")}if(r.path==="")return r;throw Aq(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(I){I.path.charAt(I.path.length-1)==="/"&&(I.path_=I.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+s+o,"i"),c={bucket:1,path:3};function u(I){I.path_=decodeURIComponent(I.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",m=new RegExp(`^https?://${h}/${d}/b/${s}/o${p}`,"i"),v={bucket:1,path:3},g=n===vM?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",x=new RegExp(`^https?://${g}/${s}/${b}`,"i"),w=[{regex:l,indices:c,postModify:i},{regex:m,indices:v,postModify:u},{regex:x,indices:{bucket:1,path:2},postModify:u}];for(let I=0;I<w.length;I++){const N=w[I],R=N.regex.exec(e);if(R){const S=R[N.indices.bucket];let E=R[N.indices.path];E||(E=""),r=new ss(S,E),N.postModify(r);break}}if(r==null)throw Pq(e);return r}}class Lq{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $q(t,e,n){let r=1,s=null,i=null,o=!1,l=0;function c(){return l===2}let u=!1;function d(...b){u||(u=!0,e.apply(null,b))}function h(b){s=setTimeout(()=>{s=null,t(m,c())},b)}function p(){i&&clearTimeout(i)}function m(b,...x){if(u){p();return}if(b){p(),d.call(null,b,...x);return}if(c()||o){p(),d.call(null,b,...x);return}r<64&&(r*=2);let w;l===1?(l=2,w=0):w=(r+Math.random())*1e3,h(w)}let v=!1;function g(b){v||(v=!0,p(),!u&&(s!==null?(b||(l=2),clearTimeout(s),h(0)):b||(l=1)))}return h(0),i=setTimeout(()=>{o=!0,g(!0)},n),g}function Fq(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vq(t){return t!==void 0}function Bq(t){return typeof t=="object"&&!Array.isArray(t)}function sC(t){return typeof t=="string"||t instanceof String}function tk(t){return iC()&&t instanceof Blob}function iC(){return typeof Blob<"u"}function nk(t,e,n,r){if(r<e)throw sb(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw sb(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function _M(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var dl;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(dl||(dl={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uq(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zq{constructor(e,n,r,s,i,o,l,c,u,d,h,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,v)=>{this.resolve_=m,this.reject_=v,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Vp(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=l=>{const c=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const l=i.getErrorCode()===dl.NO_ERROR,c=i.getStatus();if(!l||Uq(c,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===dl.ABORT;r(!1,new Vp(!1,null,d));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new Vp(u,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());Vq(c)?i(c):i()}catch(c){o(c)}else if(l!==null){const c=rC();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(s.canceled){const c=this.appDelete_?xM():Rq();o(c)}else{const c=kq();o(c)}};this.canceled_?n(!1,new Vp(!1,null,!0)):this.backoffId_=$q(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Fq(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Vp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Wq(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Hq(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function qq(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Gq(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Yq(t,e,n,r,s,i,o=!0){const l=_M(t.urlParams),c=t.url+l,u=Object.assign({},t.headers);return qq(u,e),Wq(u,n),Hq(u,i),Gq(u,r),new zq(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kq(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Qq(...t){const e=Kq();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(iC())return new Blob(t);throw new _n(yn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Xq(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jq(t){if(typeof atob>"u")throw Mq("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class nx{constructor(e,n){this.data=e,this.contentType=n||null}}function Zq(t,e){switch(t){case mi.RAW:return new nx(bM(e));case mi.BASE64:case mi.BASE64URL:return new nx(wM(t,e));case mi.DATA_URL:return new nx(tG(e),nG(e))}throw rC()}function bM(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function eG(t){let e;try{e=decodeURIComponent(t)}catch{throw lh(mi.DATA_URL,"Malformed data URL.")}return bM(e)}function wM(t,e){switch(t){case mi.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw lh(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case mi.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw lh(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Jq(e)}catch(s){throw s.message.includes("polyfill")?s:lh(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class CM{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw lh(mi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=rG(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function tG(t){const e=new CM(t);return e.base64?wM(mi.BASE64,e.rest):eG(e.rest)}function nG(t){return new CM(t).contentType}function rG(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,n){let r=0,s="";tk(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(tk(this.data_)){const r=this.data_,s=Xq(r,e,n);return s===null?null:new Go(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Go(r,!0)}}static getBlob(...e){if(iC()){const n=e.map(r=>r instanceof Go?r.data_:r);return new Go(Qq.apply(null,n))}else{const n=e.map(o=>sC(o)?Zq(mi.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)s[i++]=o[l]}),new Go(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TM(t){let e;try{e=JSON.parse(t)}catch{return null}return Bq(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sG(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function iG(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function EM(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oG(t,e){return e}class br{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||oG}}let Bp=null;function aG(t){return!sC(t)||t.length<2?t:EM(t)}function SM(){if(Bp)return Bp;const t=[];t.push(new br("bucket")),t.push(new br("generation")),t.push(new br("metageneration")),t.push(new br("name","fullPath",!0));function e(i,o){return aG(o)}const n=new br("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new br("size");return s.xform=r,t.push(s),t.push(new br("timeCreated")),t.push(new br("updated")),t.push(new br("md5Hash",null,!0)),t.push(new br("cacheControl",null,!0)),t.push(new br("contentDisposition",null,!0)),t.push(new br("contentEncoding",null,!0)),t.push(new br("contentLanguage",null,!0)),t.push(new br("contentType",null,!0)),t.push(new br("metadata","customMetadata",!0)),Bp=t,Bp}function lG(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new ss(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function cG(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return lG(r,t),r}function IM(t,e,n){const r=TM(e);return r===null?null:cG(t,r,n)}function uG(t,e,n,r){const s=TM(e);if(s===null||!sC(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(u=>{const d=t.bucket,h=t.fullPath,p="/b/"+o(d)+"/o/"+o(h),m=oC(p,n,r),v=_M({alt:"media",token:u});return m+v})[0]}function dG(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class kM{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(t){if(!t)throw rC()}function hG(t,e){function n(r,s){const i=IM(t,s,e);return RM(i!==null),i}return n}function fG(t,e){function n(r,s){const i=IM(t,s,e);return RM(i!==null),uG(i,s,t.host,t._protocol)}return n}function PM(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=Sq():s=Eq():n.getStatus()===402?s=Tq(t.bucket):n.getStatus()===403?s=Iq(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function pG(t){const e=PM(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=Cq(t.path)),i.serverResponse=s.serverResponse,i}return n}function mG(t,e,n){const r=e.fullServerUrl(),s=oC(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,l=new kM(s,i,fG(t,n),o);return l.errorHandler=pG(e),l}function gG(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function vG(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=gG(null,e)),r}function yG(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let w="";for(let I=0;I<2;I++)w=w+Math.random().toString().slice(2);return w}const c=l();o["Content-Type"]="multipart/related; boundary="+c;const u=vG(e,r,s),d=dG(u,n),h="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,p=`\r
--`+c+"--",m=Go.getBlob(h,r,p);if(m===null)throw Dq();const v={name:u.fullPath},g=oC(i,t.host,t._protocol),b="POST",x=t.maxUploadRetryTime,_=new kM(g,b,hG(t,n),x);return _.urlParams=v,_.headers=o,_.body=m.uploadData(),_.errorHandler=PM(e),_}class xG{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=dl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=dl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=dl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw xd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw xd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw xd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw xd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw xd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class _G extends xG{initXhr(){this.xhr_.responseType="text"}}function AM(){return new _G}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,n){this._service=e,n instanceof ss?this._location=n:this._location=ss.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new kl(e,n)}get root(){const e=new ss(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return EM(this._location.path)}get storage(){return this._service}get parent(){const e=sG(this._location.path);if(e===null)return null;const n=new ss(this._location.bucket,e);return new kl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Oq(e)}}function bG(t,e,n){t._throwIfRoot("uploadBytes");const r=yG(t.storage,t._location,SM(),new Go(e,!0),n);return t.storage.makeRequestWithTokens(r,AM).then(s=>({metadata:s,ref:t}))}function wG(t){t._throwIfRoot("getDownloadURL");const e=mG(t.storage,t._location,SM());return t.storage.makeRequestWithTokens(e,AM).then(n=>{if(n===null)throw jq();return n})}function CG(t,e){const n=iG(t._location.path,e),r=new ss(t._location.bucket,n);return new kl(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TG(t){return/^[A-Za-z]+:\/\//.test(t)}function EG(t,e){return new kl(t,e)}function NM(t,e){if(t instanceof aC){const n=t;if(n._bucket==null)throw Nq();const r=new kl(n,n._bucket);return e!=null?NM(r,e):r}else return e!==void 0?CG(t,e):t}function SG(t,e){if(e&&TG(e)){if(t instanceof aC)return EG(t,e);throw sb("To use ref(service, url), the first argument must be a Storage instance.")}else return NM(t,e)}function rk(t,e){const n=e==null?void 0:e[yM];return n==null?null:ss.makeFromBucketSpec(n,t)}function IG(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:cD(s,t.app.options.projectId))}class aC{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=vM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=bq,this._maxUploadRetryTime=wq,this._requests=new Set,s!=null?this._bucket=ss.makeFromBucketSpec(s,this._host):this._bucket=rk(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ss.makeFromBucketSpec(this._url,e):this._bucket=rk(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){nk("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){nk("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new kl(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new Lq(xM());{const o=Yq(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const sk="@firebase/storage",ik="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM="storage";function ok(t,e,n){return t=Ut(t),bG(t,e,n)}function ak(t){return t=Ut(t),wG(t)}function lk(t,e){return t=Ut(t),SG(t,e)}function kG(t=ty(),e){t=Ut(t);const r=Bu(t,DM).getImmediate({identifier:e}),s=i1("storage");return s&&RG(r,...s),r}function RG(t,e,n,r={}){IG(t,e,n,r)}function PG(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new aC(n,r,s,e,Aa)}function AG(){mo(new Ri(DM,PG,"PUBLIC").setMultipleInstances(!0)),Hr(sk,ik,""),Hr(sk,ik,"esm2017")}AG();var ck={};const uk="@firebase/database",dk="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jM="";function NG(t){jM=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DG{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Xn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Wh(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jG{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Io(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new DG(e)}}catch{}return new jG},sl=MM("localStorage"),MG=MM("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=new ey("@firebase/database"),OG=function(){let t=1;return function(){return t++}}(),OM=function(t){const e=nz(t),n=new XU;n.update(e);const r=n.digest();return s1.encodeByteArray(r)},Vf=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Vf.apply(null,r):typeof r=="object"?e+=Xn(r):e+=r,e+=" "}return e};let ch=null,hk=!0;const LG=function(t,e){ke(!0,"Can't turn on custom loggers persistently."),Uc.logLevel=at.VERBOSE,ch=Uc.log.bind(Uc)},fr=function(...t){if(hk===!0&&(hk=!1,ch===null&&MG.get("logging_enabled")===!0&&LG()),ch){const e=Vf.apply(null,t);ch(e)}},Bf=function(t){return function(...e){fr(t,...e)}},ib=function(...t){const e="FIREBASE INTERNAL ERROR: "+Vf(...t);Uc.error(e)},_o=function(...t){const e=`FIREBASE FATAL ERROR: ${Vf(...t)}`;throw Uc.error(e),new Error(e)},ls=function(...t){const e="FIREBASE WARNING: "+Vf(...t);Uc.warn(e)},$G=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ls("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},LM=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},FG=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},pu="[MIN_NAME]",Rl="[MAX_NAME]",Gu=function(t,e){if(t===e)return 0;if(t===pu||e===Rl)return-1;if(e===pu||t===Rl)return 1;{const n=fk(t),r=fk(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},VG=function(t,e){return t===e?0:t<e?-1:1},_d=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Xn(e))},lC=function(t){if(typeof t!="object"||t===null)return Xn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Xn(e[r]),n+=":",n+=lC(t[e[r]]);return n+="}",n},$M=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function As(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const FM=function(t){ke(!LM(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,o,l,c;t===0?(i=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=l+r,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(c=n;c;c-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(c=e;c;c-=1)u.push(i%2?1:0),i=Math.floor(i/2);u.push(s?1:0),u.reverse();const d=u.join("");let h="";for(c=0;c<64;c+=8){let p=parseInt(d.substr(c,8),2).toString(16);p.length===1&&(p="0"+p),h=h+p}return h.toLowerCase()},BG=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},UG=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},zG=new RegExp("^-?(0*)\\d{1,10}$"),WG=-2147483648,HG=2147483647,fk=function(t){if(zG.test(t)){const e=Number(t);if(e>=WG&&e<=HG)return e}return null},Uf=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw ls("Exception was thrown by user callback.",n),e},Math.floor(0))}},qG=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},uh=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GG{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ls(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YG{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(fr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ls(e)}}class Pm{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Pm.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC="5",VM="v",BM="s",UM="r",zM="f",WM=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,HM="ls",qM="p",ob="ac",GM="websocket",YM="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e,n,r,s,i=!1,o="",l=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=sl.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&sl.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function KG(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function QM(t,e,n){ke(typeof e=="string","typeof type must == string"),ke(typeof n=="object","typeof params must == object");let r;if(e===GM)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===YM)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);KG(t)&&(n.ns=t.namespace);const s=[];return As(n,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QG{constructor(){this.counters_={}}incrementCounter(e,n=1){Io(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return NU(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx={},sx={};function uC(t){const e=t.toString();return rx[e]||(rx[e]=new QG),rx[e]}function XG(t,e){const n=t.toString();return sx[n]||(sx[n]=e()),sx[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JG{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&Uf(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk="start",ZG="close",eY="pLPCommand",tY="pRTLPCB",XM="id",JM="pw",ZM="ser",nY="cb",rY="seg",sY="ts",iY="d",oY="dframe",eO=1870,tO=30,aY=eO-tO,lY=25e3,cY=3e4;class Sc{constructor(e,n,r,s,i,o,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Bf(e),this.stats_=uC(n),this.urlFn=c=>(this.appCheckToken&&(c[ob]=this.appCheckToken),QM(n,YM,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new JG(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(cY)),FG(()=>{if(this.isClosed_)return;this.scriptTagHolder=new dC((...i)=>{const[o,l,c,u,d]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===pk)this.id=l,this.password=c;else if(o===ZG)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,l]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[pk]="t",r[ZM]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[nY]=this.scriptTagHolder.uniqueCallbackIdentifier),r[VM]=cC,this.transportSessionId&&(r[BM]=this.transportSessionId),this.lastSessionId&&(r[HM]=this.lastSessionId),this.applicationId&&(r[qM]=this.applicationId),this.appCheckToken&&(r[ob]=this.appCheckToken),typeof location<"u"&&location.hostname&&WM.test(location.hostname)&&(r[UM]=zM);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Sc.forceAllow_=!0}static forceDisallow(){Sc.forceDisallow_=!0}static isAvailable(){return Sc.forceAllow_?!0:!Sc.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!BG()&&!UG()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Xn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=sD(n),s=$M(r,aY);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[oY]="t",r[XM]=e,r[JM]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Xn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class dC{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=OG(),window[eY+this.uniqueCallbackIdentifier]=e,window[tY+this.uniqueCallbackIdentifier]=n,this.myIFrame=dC.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){fr("frame writing exception"),l.stack&&fr(l.stack),fr(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||fr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[XM]=this.myID,e[JM]=this.myPW,e[ZM]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+tO+r.length<=eO;){const o=this.pendingSegs.shift();r=r+"&"+rY+s+"="+o.seg+"&"+sY+s+"="+o.ts+"&"+iY+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(lY)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{fr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uY=16384,dY=45e3;let Dg=null;typeof MozWebSocket<"u"?Dg=MozWebSocket:typeof WebSocket<"u"&&(Dg=WebSocket);class Hs{constructor(e,n,r,s,i,o,l){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Bf(this.connId),this.stats_=uC(n),this.connURL=Hs.connectionURL_(n,o,l,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const o={};return o[VM]=cC,typeof location<"u"&&location.hostname&&WM.test(location.hostname)&&(o[UM]=zM),n&&(o[BM]=n),r&&(o[HM]=r),s&&(o[ob]=s),i&&(o[qM]=i),QM(e,GM,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,sl.set("previous_websocket_failure",!0);try{let r;UU(),this.mySock=new Dg(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Hs.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Dg!==null&&!Hs.forceDisallow_}static previouslyFailed(){return sl.isInMemoryStorage||sl.get("previous_websocket_failure")===!0}markConnectionHealthy(){sl.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Wh(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ke(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Xn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=$M(n,uY);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(dY))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Hs.responsesRequiredToBeHealthy=2;Hs.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Sc,Hs]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Hs&&Hs.isAvailable();let r=n&&!Hs.previouslyFailed();if(e.webSocketOnly&&(n||ls("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Hs];else{const s=this.transports_=[];for(const i of rf.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);rf.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}rf.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hY=6e4,fY=5e3,pY=10*1024,mY=100*1024,ix="t",mk="d",gY="s",gk="r",vY="e",vk="o",yk="a",xk="n",_k="p",yY="h";class xY{constructor(e,n,r,s,i,o,l,c,u,d){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=c,this.onKill_=u,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Bf("c:"+this.id+":"),this.transportManager_=new rf(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=uh(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>mY?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>pY?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(ix in e){const n=e[ix];n===yk?this.upgradeIfSecondaryHealthy_():n===gk?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===vk&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=_d("t",e),r=_d("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:_k,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:yk,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:xk,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=_d("t",e),r=_d("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=_d(ix,e);if(mk in e){const r=e[mk];if(n===yY){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===xk){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===gY?this.onConnectionShutdown_(r):n===gk?this.onReset_(r):n===vY?ib("Server Error: "+r):n===vk?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ib("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),cC!==r&&ls("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),uh(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(hY))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):uh(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(fY))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:_k,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(sl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e){this.allowedEvents_=e,this.listeners_={},ke(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){ke(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg extends rO{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!a1()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new jg}getInitialEvent(e){return ke(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk=32,wk=768;class Zt{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function $t(){return new Zt("")}function gt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ta(t){return t.pieces_.length-t.pieceNum_}function Qt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Zt(t.pieces_,e)}function sO(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function _Y(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function iO(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function oO(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Zt(e,0)}function Bn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Zt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new Zt(n,0)}function dt(t){return t.pieceNum_>=t.pieces_.length}function Ts(t,e){const n=gt(t),r=gt(e);if(n===null)return e;if(n===r)return Ts(Qt(t),Qt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function aO(t,e){if(Ta(t)!==Ta(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function qs(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Ta(t)>Ta(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class bY{constructor(e,n){this.errorPrefix_=n,this.parts_=iO(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Zv(this.parts_[r]);lO(this)}}function wY(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Zv(e),lO(t)}function CY(t){const e=t.parts_.pop();t.byteLength_-=Zv(e),t.parts_.length>0&&(t.byteLength_-=1)}function lO(t){if(t.byteLength_>wk)throw new Error(t.errorPrefix_+"has a key path longer than "+wk+" bytes ("+t.byteLength_+").");if(t.parts_.length>bk)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+bk+") or object contains a cycle "+Ka(t))}function Ka(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC extends rO{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new hC}getInitialEvent(e){return ke(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd=1e3,TY=60*5*1e3,Ck=30*1e3,EY=1.3,SY=3e4,IY="server_kill",Tk=3;class no extends nO{constructor(e,n,r,s,i,o,l,c){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=no.nextPersistentConnectionId_++,this.log_=Bf("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=bd,this.maxReconnectDelay_=TY,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");hC.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&jg.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(Xn(i)),ke(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new o1,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),ke(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ke(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(o).set(i,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,l=>{const c=l.d,u=l.s;no.warnOnListenWarnings_(c,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(u,c))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Io(e,"w")){const r=au(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();ls(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||QU(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Ck)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=KU(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),ke(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const o={p:n,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Xn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):ib("Unrecognized action received from server: "+Xn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ke(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=bd,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=bd,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>SY&&(this.reconnectDelay_=bd),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*EY)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+no.nextConnectionId_++,i=this.lastSessionId;let o=!1,l=null;const c=function(){l?l.close():(o=!0,r())},u=function(h){ke(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(h)};this.realtime_={close:c,sendRequest:u};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,p]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?fr("getToken() completed but was canceled"):(fr("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=p&&p.token,l=new xY(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,m=>{ls(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(IY)},i))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&ls(h),c())}}}interrupt(e){fr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){fr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],N_(this.interruptReasons_)&&(this.reconnectDelay_=bd,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>lC(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new Zt(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){fr("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Tk&&(this.reconnectDelay_=Ck,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){fr("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Tk&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+jM.replace(/\./g,"-")]=1,a1()?e["framework.cordova"]=1:uD()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=jg.getInstance().currentlyOnline();return N_(this.interruptReasons_)&&e}}no.nextPersistentConnectionId_=0;no.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new vt(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new vt(pu,e),s=new vt(pu,n);return this.compare(r,s)!==0}minPost(){return vt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Up;class cO extends Ey{static get __EMPTY_NODE(){return Up}static set __EMPTY_NODE(e){Up=e}compare(e,n){return Gu(e.name,n.name)}isDefinedOn(e){throw Fu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return vt.MIN}maxPost(){return new vt(Rl,Up)}makePost(e,n){return ke(typeof e=="string","KeyIndex indexValue must always be a string."),new vt(e,Up)}toString(){return".key"}}const zc=new cO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Vn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Vn.RED,this.left=s??Br.EMPTY_NODE,this.right=i??Br.EMPTY_NODE}copy(e,n,r,s,i){return new Vn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Br.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Br.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Vn.RED=!0;Vn.BLACK=!1;class kY{copy(e,n,r,s,i){return this}insert(e,n,r){return new Vn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Br{constructor(e,n=Br.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Br(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Vn.BLACK,null,null))}remove(e){return new Br(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Vn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new zp(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new zp(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new zp(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new zp(this.root_,null,this.comparator_,!0,e)}}Br.EMPTY_NODE=new kY;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RY(t,e){return Gu(t.name,e.name)}function fC(t,e){return Gu(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ab;function PY(t){ab=t}const uO=function(t){return typeof t=="number"?"number:"+FM(t):"string:"+t},dO=function(t){if(t.isLeafNode()){const e=t.val();ke(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Io(e,".sv"),"Priority must be a string or number.")}else ke(t===ab||t.isEmpty(),"priority of unexpected type.");ke(t===ab||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ek;class Ln{constructor(e,n=Ln.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ke(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),dO(this.priorityNode_)}static set __childrenNodeConstructor(e){Ek=e}static get __childrenNodeConstructor(){return Ek}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ln(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ln.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return dt(e)?this:gt(e)===".priority"?this.priorityNode_:Ln.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Ln.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=gt(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ke(r!==".priority"||Ta(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Ln.__childrenNodeConstructor.EMPTY_NODE.updateChild(Qt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+uO(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=FM(this.value_):e+=this.value_,this.lazyHash_=OM(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ln.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ln.__childrenNodeConstructor?-1:(ke(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=Ln.VALUE_TYPE_ORDER.indexOf(n),i=Ln.VALUE_TYPE_ORDER.indexOf(r);return ke(s>=0,"Unknown leaf type: "+n),ke(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ln.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hO,fO;function AY(t){hO=t}function NY(t){fO=t}class DY extends Ey{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?Gu(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return vt.MIN}maxPost(){return new vt(Rl,new Ln("[PRIORITY-POST]",fO))}makePost(e,n){const r=hO(e);return new vt(n,new Ln("[PRIORITY-POST]",r))}toString(){return".priority"}}const mr=new DY;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jY=Math.log(2);class MY{constructor(e){const n=i=>parseInt(Math.log(i)/jY,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Mg=function(t,e,n,r){t.sort(e);const s=function(c,u){const d=u-c;let h,p;if(d===0)return null;if(d===1)return h=t[c],p=n?n(h):h,new Vn(p,h.node,Vn.BLACK,null,null);{const m=parseInt(d/2,10)+c,v=s(c,m),g=s(m+1,u);return h=t[m],p=n?n(h):h,new Vn(p,h.node,Vn.BLACK,v,g)}},i=function(c){let u=null,d=null,h=t.length;const p=function(v,g){const b=h-v,x=h;h-=v;const _=s(b+1,x),w=t[b],I=n?n(w):w;m(new Vn(I,w.node,g,null,_))},m=function(v){u?(u.left=v,u=v):(d=v,u=v)};for(let v=0;v<c.count;++v){const g=c.nextBitIsOne(),b=Math.pow(2,c.count-(v+1));g?p(b,Vn.BLACK):(p(b,Vn.BLACK),p(b,Vn.RED))}return d},o=new MY(t.length),l=i(o);return new Br(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ox;const sc={};class Qi{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return ke(sc&&mr,"ChildrenNode.ts has not been loaded"),ox=ox||new Qi({".priority":sc},{".priority":mr}),ox}get(e){const n=au(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Br?n:null}hasIndex(e){return Io(this.indexSet_,e.toString())}addIndex(e,n){ke(e!==zc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(vt.Wrap);let o=i.getNext();for(;o;)s=s||e.isDefinedOn(o.node),r.push(o),o=i.getNext();let l;s?l=Mg(r,e.getCompare()):l=sc;const c=e.toString(),u=Object.assign({},this.indexSet_);u[c]=e;const d=Object.assign({},this.indexes_);return d[c]=l,new Qi(d,u)}addToIndexes(e,n){const r=pg(this.indexes_,(s,i)=>{const o=au(this.indexSet_,i);if(ke(o,"Missing index implementation for "+i),s===sc)if(o.isDefinedOn(e.node)){const l=[],c=n.getIterator(vt.Wrap);let u=c.getNext();for(;u;)u.name!==e.name&&l.push(u),u=c.getNext();return l.push(e),Mg(l,o.getCompare())}else return sc;else{const l=n.get(e.name);let c=s;return l&&(c=c.remove(new vt(e.name,l))),c.insert(e,e.node)}});return new Qi(r,this.indexSet_)}removeFromIndexes(e,n){const r=pg(this.indexes_,s=>{if(s===sc)return s;{const i=n.get(e.name);return i?s.remove(new vt(e.name,i)):s}});return new Qi(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wd;class Nt{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&dO(this.priorityNode_),this.children_.isEmpty()&&ke(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return wd||(wd=new Nt(new Br(fC),null,Qi.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||wd}updatePriority(e){return this.children_.isEmpty()?this:new Nt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?wd:n}}getChild(e){const n=gt(e);return n===null?this:this.getImmediateChild(n).getChild(Qt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(ke(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new vt(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?wd:this.priorityNode_;return new Nt(s,o,i)}}updateChild(e,n){const r=gt(e);if(r===null)return n;{ke(gt(e)!==".priority"||Ta(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Qt(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(mr,(o,l)=>{n[o]=l.val(e),r++,i&&Nt.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!e&&i&&s<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+uO(this.getPriority().val())+":"),this.forEachChild(mr,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":OM(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new vt(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new vt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new vt(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,vt.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,vt.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===zf?-1:0}withIndex(e){if(e===zc||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Nt(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===zc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(mr),s=n.getIterator(mr);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===zc?null:this.indexMap_.get(e.toString())}}Nt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class OY extends Nt{constructor(){super(new Br(fC),Nt.EMPTY_NODE,Qi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Nt.EMPTY_NODE}isEmpty(){return!1}}const zf=new OY;Object.defineProperties(vt,{MIN:{value:new vt(pu,Nt.EMPTY_NODE)},MAX:{value:new vt(Rl,zf)}});cO.__EMPTY_NODE=Nt.EMPTY_NODE;Ln.__childrenNodeConstructor=Nt;PY(zf);NY(zf);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LY=!0;function pr(t,e=null){if(t===null)return Nt.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ke(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Ln(n,pr(e))}if(!(t instanceof Array)&&LY){const n=[];let r=!1;if(As(t,(o,l)=>{if(o.substring(0,1)!=="."){const c=pr(l);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new vt(o,c)))}}),n.length===0)return Nt.EMPTY_NODE;const i=Mg(n,RY,o=>o.name,fC);if(r){const o=Mg(n,mr.getCompare());return new Nt(i,pr(e),new Qi({".priority":o},{".priority":mr}))}else return new Nt(i,pr(e),Qi.Default)}else{let n=Nt.EMPTY_NODE;return As(t,(r,s)=>{if(Io(t,r)&&r.substring(0,1)!=="."){const i=pr(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(pr(e))}}AY(pr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Y extends Ey{constructor(e){super(),this.indexPath_=e,ke(!dt(e)&&gt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?Gu(e.name,n.name):i}makePost(e,n){const r=pr(e),s=Nt.EMPTY_NODE.updateChild(this.indexPath_,r);return new vt(n,s)}maxPost(){const e=Nt.EMPTY_NODE.updateChild(this.indexPath_,zf);return new vt(Rl,e)}toString(){return iO(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FY extends Ey{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Gu(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return vt.MIN}maxPost(){return vt.MAX}makePost(e,n){const r=pr(e);return new vt(n,r)}toString(){return".value"}}const VY=new FY;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BY(t){return{type:"value",snapshotNode:t}}function UY(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function zY(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Sk(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function WY(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=mr}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ke(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ke(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:pu}hasEnd(){return this.endSet_}getIndexEndValue(){return ke(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ke(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Rl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ke(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===mr}copy(){const e=new pC;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Ik(t){const e={};if(t.isDefault())return e;let n;if(t.index_===mr?n="$priority":t.index_===VY?n="$value":t.index_===zc?n="$key":(ke(t.index_ instanceof $Y,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Xn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Xn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Xn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Xn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Xn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function kk(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==mr&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og extends nO{constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=Bf("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(ke(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=Og.getListenId_(e,r),l={};this.listens_[o]=l;const c=Ik(e._queryParams);this.restRequest_(i+".json",c,(u,d)=>{let h=d;if(u===404&&(h=null,u=null),u===null&&this.onDataUpdate_(i,h,!1,r),au(this.listens_,o)===l){let p;u?u===401?p="permission_denied":p="rest_error:"+u:p="ok",s(p,null)}})}unlisten(e,n){const r=Og.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Ik(e._queryParams),r=e._path.toString(),s=new o1;return this.restRequest_(r+".json",n,(i,o)=>{let l=o;i===404&&(l=null,i=null),i===null?(this.onDataUpdate_(r,l,!1,null),s.resolve(l)):s.reject(new Error(l))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Vu(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let c=null;if(l.status>=200&&l.status<300){try{c=Wh(l.responseText)}catch{ls("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,c)}else l.status!==401&&l.status!==404&&ls("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HY{constructor(){this.rootNode_=Nt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(){return{value:null,children:new Map}}function pO(t,e,n){if(dt(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=gt(e);t.children.has(r)||t.children.set(r,Lg());const s=t.children.get(r);e=Qt(e),pO(s,e,n)}}function lb(t,e,n){t.value!==null?n(e,t.value):qY(t,(r,s)=>{const i=new Zt(e.toString()+"/"+r);lb(s,i,n)})}function qY(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GY{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&As(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk=10*1e3,YY=30*1e3,KY=5*60*1e3;class QY{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new GY(e);const r=Rk+(YY-Rk)*Math.random();uh(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;As(e,(s,i)=>{i>0&&Io(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),uh(this.reportStats_.bind(this),Math.floor(Math.random()*2*KY))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gi;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(gi||(gi={}));function mO(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function gO(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function vO(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=gi.ACK_USER_WRITE,this.source=mO()}operationForChild(e){if(dt(this.path)){if(this.affectedTree.value!=null)return ke(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Zt(e));return new $g($t(),n,this.revert)}}else return ke(gt(this.path)===e,"operationForChild called for unrelated child."),new $g(Qt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=gi.OVERWRITE}operationForChild(e){return dt(this.path)?new Pl(this.source,$t(),this.snap.getImmediateChild(e)):new Pl(this.source,Qt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=gi.MERGE}operationForChild(e){if(dt(this.path)){const n=this.children.subtree(new Zt(e));return n.isEmpty()?null:n.value?new Pl(this.source,$t(),n.value):new sf(this.source,$t(),n)}else return ke(gt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new sf(this.source,Qt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(dt(e))return this.isFullyInitialized()&&!this.filtered_;const n=gt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function XY(t,e,n,r){const s=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(WY(o.childName,o.snapshotNode))}),Cd(t,s,"child_removed",e,r,n),Cd(t,s,"child_added",e,r,n),Cd(t,s,"child_moved",i,r,n),Cd(t,s,"child_changed",e,r,n),Cd(t,s,"value",e,r,n),s}function Cd(t,e,n,r,s,i){const o=r.filter(l=>l.type===n);o.sort((l,c)=>ZY(t,l,c)),o.forEach(l=>{const c=JY(t,l,i);s.forEach(u=>{u.respondsTo(l.type)&&e.push(u.createEvent(c,t.query_))})})}function JY(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function ZY(t,e,n){if(e.childName==null||n.childName==null)throw Fu("Should only compare child_ events.");const r=new vt(e.childName,e.snapshotNode),s=new vt(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(t,e){return{eventCache:t,serverCache:e}}function dh(t,e,n,r){return yO(new mC(e,n,r),t.serverCache)}function xO(t,e,n,r){return yO(t.eventCache,new mC(e,n,r))}function cb(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Al(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ax;const eK=()=>(ax||(ax=new Br(VG)),ax);class Kt{constructor(e,n=eK()){this.value=e,this.children=n}static fromObject(e){let n=new Kt(null);return As(e,(r,s)=>{n=n.set(new Zt(r),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:$t(),value:this.value};if(dt(e))return null;{const r=gt(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(Qt(e),n);return i!=null?{path:Bn(new Zt(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(dt(e))return this;{const n=gt(e),r=this.children.get(n);return r!==null?r.subtree(Qt(e)):new Kt(null)}}set(e,n){if(dt(e))return new Kt(n,this.children);{const r=gt(e),i=(this.children.get(r)||new Kt(null)).set(Qt(e),n),o=this.children.insert(r,i);return new Kt(this.value,o)}}remove(e){if(dt(e))return this.children.isEmpty()?new Kt(null):new Kt(null,this.children);{const n=gt(e),r=this.children.get(n);if(r){const s=r.remove(Qt(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new Kt(null):new Kt(this.value,i)}else return this}}get(e){if(dt(e))return this.value;{const n=gt(e),r=this.children.get(n);return r?r.get(Qt(e)):null}}setTree(e,n){if(dt(e))return n;{const r=gt(e),i=(this.children.get(r)||new Kt(null)).setTree(Qt(e),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new Kt(this.value,o)}}fold(e){return this.fold_($t(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(Bn(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,$t(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(dt(e))return null;{const i=gt(e),o=this.children.get(i);return o?o.findOnPath_(Qt(e),Bn(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,$t(),n)}foreachOnPath_(e,n,r){if(dt(e))return this;{this.value&&r(n,this.value);const s=gt(e),i=this.children.get(s);return i?i.foreachOnPath_(Qt(e),Bn(n,s),r):new Kt(null)}}foreach(e){this.foreach_($t(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(Bn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e){this.writeTree_=e}static empty(){return new Xs(new Kt(null))}}function hh(t,e,n){if(dt(e))return new Xs(new Kt(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const o=Ts(s,e);return i=i.updateChild(o,n),new Xs(t.writeTree_.set(s,i))}else{const s=new Kt(n),i=t.writeTree_.setTree(e,s);return new Xs(i)}}}function Pk(t,e,n){let r=t;return As(n,(s,i)=>{r=hh(r,Bn(e,s),i)}),r}function Ak(t,e){if(dt(e))return Xs.empty();{const n=t.writeTree_.setTree(e,new Kt(null));return new Xs(n)}}function ub(t,e){return Ul(t,e)!=null}function Ul(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ts(n.path,e)):null}function Nk(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(mr,(r,s)=>{e.push(new vt(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new vt(r,s.value))}),e}function ma(t,e){if(dt(e))return t;{const n=Ul(t,e);return n!=null?new Xs(new Kt(n)):new Xs(t.writeTree_.subtree(e))}}function db(t){return t.writeTree_.isEmpty()}function mu(t,e){return _O($t(),t.writeTree_,e)}function _O(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(ke(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=_O(Bn(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Bn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(t,e){return SO(e,t)}function tK(t,e,n,r,s){ke(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=hh(t.visibleWrites,e,n)),t.lastWriteId=r}function nK(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function rK(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);ke(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&sK(l,r.path)?s=!1:qs(r.path,l.path)&&(i=!0)),o--}if(s){if(i)return iK(t),!0;if(r.snap)t.visibleWrites=Ak(t.visibleWrites,r.path);else{const l=r.children;As(l,c=>{t.visibleWrites=Ak(t.visibleWrites,Bn(r.path,c))})}return!0}else return!1}function sK(t,e){if(t.snap)return qs(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&qs(Bn(t.path,n),e))return!0;return!1}function iK(t){t.visibleWrites=wO(t.allWrites,oK,$t()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function oK(t){return t.visible}function wO(t,e,n){let r=Xs.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const o=i.path;let l;if(i.snap)qs(n,o)?(l=Ts(n,o),r=hh(r,l,i.snap)):qs(o,n)&&(l=Ts(o,n),r=hh(r,$t(),i.snap.getChild(l)));else if(i.children){if(qs(n,o))l=Ts(n,o),r=Pk(r,l,i.children);else if(qs(o,n))if(l=Ts(o,n),dt(l))r=Pk(r,$t(),i.children);else{const c=au(i.children,gt(l));if(c){const u=c.getChild(Qt(l));r=hh(r,$t(),u)}}}else throw Fu("WriteRecord should have .snap or .children")}}return r}function CO(t,e,n,r,s){if(!r&&!s){const i=Ul(t.visibleWrites,e);if(i!=null)return i;{const o=ma(t.visibleWrites,e);if(db(o))return n;if(n==null&&!ub(o,$t()))return null;{const l=n||Nt.EMPTY_NODE;return mu(o,l)}}}else{const i=ma(t.visibleWrites,e);if(!s&&db(i))return n;if(!s&&n==null&&!ub(i,$t()))return null;{const o=function(u){return(u.visible||s)&&(!r||!~r.indexOf(u.writeId))&&(qs(u.path,e)||qs(e,u.path))},l=wO(t.allWrites,o,e),c=n||Nt.EMPTY_NODE;return mu(l,c)}}}function aK(t,e,n){let r=Nt.EMPTY_NODE;const s=Ul(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(mr,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(n){const i=ma(t.visibleWrites,e);return n.forEachChild(mr,(o,l)=>{const c=mu(ma(i,new Zt(o)),l);r=r.updateImmediateChild(o,c)}),Nk(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=ma(t.visibleWrites,e);return Nk(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function lK(t,e,n,r,s){ke(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=Bn(e,n);if(ub(t.visibleWrites,i))return null;{const o=ma(t.visibleWrites,i);return db(o)?s.getChild(n):mu(o,s.getChild(n))}}function cK(t,e,n,r){const s=Bn(e,n),i=Ul(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const o=ma(t.visibleWrites,s);return mu(o,r.getNode().getImmediateChild(n))}else return null}function uK(t,e){return Ul(t.visibleWrites,e)}function dK(t,e,n,r,s,i,o){let l;const c=ma(t.visibleWrites,e),u=Ul(c,$t());if(u!=null)l=u;else if(n!=null)l=mu(c,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const d=[],h=o.getCompare(),p=i?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let m=p.getNext();for(;m&&d.length<s;)h(m,r)!==0&&d.push(m),m=p.getNext();return d}else return[]}function hK(){return{visibleWrites:Xs.empty(),allWrites:[],lastWriteId:-1}}function hb(t,e,n,r){return CO(t.writeTree,t.treePath,e,n,r)}function TO(t,e){return aK(t.writeTree,t.treePath,e)}function Dk(t,e,n,r){return lK(t.writeTree,t.treePath,e,n,r)}function Fg(t,e){return uK(t.writeTree,Bn(t.treePath,e))}function fK(t,e,n,r,s,i){return dK(t.writeTree,t.treePath,e,n,r,s,i)}function gC(t,e,n){return cK(t.writeTree,t.treePath,e,n)}function EO(t,e){return SO(Bn(t.treePath,e),t.writeTree)}function SO(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pK{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;ke(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ke(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,Sk(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,zY(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,UY(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,Sk(r,e.snapshotNode,s.oldSnap));else throw Fu("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mK{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const IO=new mK;class vC{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new mC(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return gC(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Al(this.viewCache_),i=fK(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}function gK(t,e){ke(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ke(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function vK(t,e,n,r,s){const i=new pK;let o,l;if(n.type===gi.OVERWRITE){const u=n;u.source.fromUser?o=fb(t,e,u.path,u.snap,r,s,i):(ke(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered()&&!dt(u.path),o=Vg(t,e,u.path,u.snap,r,s,l,i))}else if(n.type===gi.MERGE){const u=n;u.source.fromUser?o=xK(t,e,u.path,u.children,r,s,i):(ke(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered(),o=pb(t,e,u.path,u.children,r,s,l,i))}else if(n.type===gi.ACK_USER_WRITE){const u=n;u.revert?o=wK(t,e,u.path,r,s,i):o=_K(t,e,u.path,u.affectedTree,r,s,i)}else if(n.type===gi.LISTEN_COMPLETE)o=bK(t,e,n.path,r,i);else throw Fu("Unknown operation type: "+n.type);const c=i.getChanges();return yK(e,o,c),{viewCache:o,changes:c}}function yK(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=cb(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(BY(cb(e)))}}function kO(t,e,n,r,s,i){const o=e.eventCache;if(Fg(r,n)!=null)return e;{let l,c;if(dt(n))if(ke(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Al(e),d=u instanceof Nt?u:Nt.EMPTY_NODE,h=TO(r,d);l=t.filter.updateFullNode(e.eventCache.getNode(),h,i)}else{const u=hb(r,Al(e));l=t.filter.updateFullNode(e.eventCache.getNode(),u,i)}else{const u=gt(n);if(u===".priority"){ke(Ta(n)===1,"Can't have a priority with additional path components");const d=o.getNode();c=e.serverCache.getNode();const h=Dk(r,n,d,c);h!=null?l=t.filter.updatePriority(d,h):l=o.getNode()}else{const d=Qt(n);let h;if(o.isCompleteForChild(u)){c=e.serverCache.getNode();const p=Dk(r,n,o.getNode(),c);p!=null?h=o.getNode().getImmediateChild(u).updateChild(d,p):h=o.getNode().getImmediateChild(u)}else h=gC(r,u,e.serverCache);h!=null?l=t.filter.updateChild(o.getNode(),u,h,d,s,i):l=o.getNode()}}return dh(e,l,o.isFullyInitialized()||dt(n),t.filter.filtersNodes())}}function Vg(t,e,n,r,s,i,o,l){const c=e.serverCache;let u;const d=o?t.filter:t.filter.getIndexedFilter();if(dt(n))u=d.updateFullNode(c.getNode(),r,null);else if(d.filtersNodes()&&!c.isFiltered()){const m=c.getNode().updateChild(n,r);u=d.updateFullNode(c.getNode(),m,null)}else{const m=gt(n);if(!c.isCompleteForPath(n)&&Ta(n)>1)return e;const v=Qt(n),b=c.getNode().getImmediateChild(m).updateChild(v,r);m===".priority"?u=d.updatePriority(c.getNode(),b):u=d.updateChild(c.getNode(),m,b,v,IO,null)}const h=xO(e,u,c.isFullyInitialized()||dt(n),d.filtersNodes()),p=new vC(s,h,i);return kO(t,h,n,s,p,l)}function fb(t,e,n,r,s,i,o){const l=e.eventCache;let c,u;const d=new vC(s,e,i);if(dt(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),c=dh(e,u,!0,t.filter.filtersNodes());else{const h=gt(n);if(h===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),c=dh(e,u,l.isFullyInitialized(),l.isFiltered());else{const p=Qt(n),m=l.getNode().getImmediateChild(h);let v;if(dt(p))v=r;else{const g=d.getCompleteChild(h);g!=null?sO(p)===".priority"&&g.getChild(oO(p)).isEmpty()?v=g:v=g.updateChild(p,r):v=Nt.EMPTY_NODE}if(m.equals(v))c=e;else{const g=t.filter.updateChild(l.getNode(),h,v,p,d,o);c=dh(e,g,l.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function jk(t,e){return t.eventCache.isCompleteForChild(e)}function xK(t,e,n,r,s,i,o){let l=e;return r.foreach((c,u)=>{const d=Bn(n,c);jk(e,gt(d))&&(l=fb(t,l,d,u,s,i,o))}),r.foreach((c,u)=>{const d=Bn(n,c);jk(e,gt(d))||(l=fb(t,l,d,u,s,i,o))}),l}function Mk(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function pb(t,e,n,r,s,i,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,u;dt(n)?u=r:u=new Kt(null).setTree(n,r);const d=e.serverCache.getNode();return u.children.inorderTraversal((h,p)=>{if(d.hasChild(h)){const m=e.serverCache.getNode().getImmediateChild(h),v=Mk(t,m,p);c=Vg(t,c,new Zt(h),v,s,i,o,l)}}),u.children.inorderTraversal((h,p)=>{const m=!e.serverCache.isCompleteForChild(h)&&p.value===null;if(!d.hasChild(h)&&!m){const v=e.serverCache.getNode().getImmediateChild(h),g=Mk(t,v,p);c=Vg(t,c,new Zt(h),g,s,i,o,l)}}),c}function _K(t,e,n,r,s,i,o){if(Fg(s,n)!=null)return e;const l=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(dt(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Vg(t,e,n,c.getNode().getChild(n),s,i,l,o);if(dt(n)){let u=new Kt(null);return c.getNode().forEachChild(zc,(d,h)=>{u=u.set(new Zt(d),h)}),pb(t,e,n,u,s,i,l,o)}else return e}else{let u=new Kt(null);return r.foreach((d,h)=>{const p=Bn(n,d);c.isCompleteForPath(p)&&(u=u.set(d,c.getNode().getChild(p)))}),pb(t,e,n,u,s,i,l,o)}}function bK(t,e,n,r,s){const i=e.serverCache,o=xO(e,i.getNode(),i.isFullyInitialized()||dt(n),i.isFiltered());return kO(t,o,n,r,IO,s)}function wK(t,e,n,r,s,i){let o;if(Fg(r,n)!=null)return e;{const l=new vC(r,e,s),c=e.eventCache.getNode();let u;if(dt(n)||gt(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=hb(r,Al(e));else{const h=e.serverCache.getNode();ke(h instanceof Nt,"serverChildren would be complete if leaf node"),d=TO(r,h)}d=d,u=t.filter.updateFullNode(c,d,i)}else{const d=gt(n);let h=gC(r,d,e.serverCache);h==null&&e.serverCache.isCompleteForChild(d)&&(h=c.getImmediateChild(d)),h!=null?u=t.filter.updateChild(c,d,h,Qt(n),l,i):e.eventCache.getNode().hasChild(d)?u=t.filter.updateChild(c,d,Nt.EMPTY_NODE,Qt(n),l,i):u=c,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=hb(r,Al(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,i)))}return o=e.serverCache.isFullyInitialized()||Fg(r,$t())!=null,dh(e,u,o,t.filter.filtersNodes())}}function CK(t,e){const n=Al(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!dt(e)&&!n.getImmediateChild(gt(e)).isEmpty())?n.getChild(e):null}function Ok(t,e,n,r){e.type===gi.MERGE&&e.source.queryId!==null&&(ke(Al(t.viewCache_),"We should always have a full cache before handling merges"),ke(cb(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=vK(t.processor_,s,e,n,r);return gK(t.processor_,i.viewCache),ke(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,TK(t,i.changes,i.viewCache.eventCache.getNode())}function TK(t,e,n,r){const s=t.eventRegistrations_;return XY(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lk;function EK(t){ke(!Lk,"__referenceConstructor has already been defined"),Lk=t}function yC(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return ke(i!=null,"SyncTree gave us an op for an invalid query."),Ok(i,e,n,r)}else{let i=[];for(const o of t.views.values())i=i.concat(Ok(o,e,n,r));return i}}function xC(t,e){let n=null;for(const r of t.views.values())n=n||CK(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $k;function SK(t){ke(!$k,"__referenceConstructor has already been defined"),$k=t}class Fk{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Kt(null),this.pendingWriteTree_=hK(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function IK(t,e,n,r,s){return tK(t.pendingWriteTree_,e,n,r,s),s?Iy(t,new Pl(mO(),e,n)):[]}function Ic(t,e,n=!1){const r=nK(t.pendingWriteTree_,e);if(rK(t.pendingWriteTree_,e)){let i=new Kt(null);return r.snap!=null?i=i.set($t(),!0):As(r.children,o=>{i=i.set(new Zt(o),!0)}),Iy(t,new $g(r.path,i,n))}else return[]}function Sy(t,e,n){return Iy(t,new Pl(gO(),e,n))}function kK(t,e,n){const r=Kt.fromObject(n);return Iy(t,new sf(gO(),e,r))}function RK(t,e,n,r){const s=NO(t,r);if(s!=null){const i=DO(s),o=i.path,l=i.queryId,c=Ts(o,e),u=new Pl(vO(l),c,n);return jO(t,o,u)}else return[]}function PK(t,e,n,r){const s=NO(t,r);if(s){const i=DO(s),o=i.path,l=i.queryId,c=Ts(o,e),u=Kt.fromObject(n),d=new sf(vO(l),c,u);return jO(t,o,d)}else return[]}function RO(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,l)=>{const c=Ts(o,e),u=xC(l,c);if(u)return u});return CO(s,e,i,n,!0)}function Iy(t,e){return PO(e,t.syncPointTree_,null,bO(t.pendingWriteTree_,$t()))}function PO(t,e,n,r){if(dt(t.path))return AO(t,e,n,r);{const s=e.get($t());n==null&&s!=null&&(n=xC(s,$t()));let i=[];const o=gt(t.path),l=t.operationForChild(o),c=e.children.get(o);if(c&&l){const u=n?n.getImmediateChild(o):null,d=EO(r,o);i=i.concat(PO(l,c,u,d))}return s&&(i=i.concat(yC(s,t,r,n))),i}}function AO(t,e,n,r){const s=e.get($t());n==null&&s!=null&&(n=xC(s,$t()));let i=[];return e.children.inorderTraversal((o,l)=>{const c=n?n.getImmediateChild(o):null,u=EO(r,o),d=t.operationForChild(o);d&&(i=i.concat(AO(d,l,c,u)))}),s&&(i=i.concat(yC(s,t,r,n))),i}function NO(t,e){return t.tagToQueryMap.get(e)}function DO(t){const e=t.indexOf("$");return ke(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Zt(t.substr(0,e))}}function jO(t,e,n){const r=t.syncPointTree_.get(e);ke(r,"Missing sync point for query tag that we're tracking");const s=bO(t.pendingWriteTree_,e);return yC(r,n,s,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new _C(n)}node(){return this.node_}}class bC{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Bn(this.path_,e);return new bC(this.syncTree_,n)}node(){return RO(this.syncTree_,this.path_)}}const AK=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Vk=function(t,e,n){if(!t||typeof t!="object")return t;if(ke(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return NK(t[".sv"],e,n);if(typeof t[".sv"]=="object")return DK(t[".sv"],e);ke(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},NK=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ke(!1,"Unexpected server value: "+t)}},DK=function(t,e,n){t.hasOwnProperty("increment")||ke(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&ke(!1,"Unexpected increment value: "+r);const s=e.node();if(ke(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},jK=function(t,e,n,r){return wC(e,new bC(n,t),r)},MK=function(t,e,n){return wC(t,new _C(e),n)};function wC(t,e,n){const r=t.getPriority().val(),s=Vk(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,l=Vk(o.getValue(),e,n);return l!==o.getValue()||s!==o.getPriority().val()?new Ln(l,pr(s)):t}else{const o=t;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new Ln(s))),o.forEachChild(mr,(l,c)=>{const u=wC(c,e.getImmediateChild(l),n);u!==c&&(i=i.updateImmediateChild(l,u))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function TC(t,e){let n=e instanceof Zt?e:new Zt(e),r=t,s=gt(n);for(;s!==null;){const i=au(r.node.children,s)||{children:{},childCount:0};r=new CC(s,r,i),n=Qt(n),s=gt(n)}return r}function Yu(t){return t.node.value}function MO(t,e){t.node.value=e,mb(t)}function OO(t){return t.node.childCount>0}function OK(t){return Yu(t)===void 0&&!OO(t)}function ky(t,e){As(t.node.children,(n,r)=>{e(new CC(n,t,r))})}function LO(t,e,n,r){n&&e(t),ky(t,s=>{LO(s,e,!0)})}function LK(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Wf(t){return new Zt(t.parent===null?t.name:Wf(t.parent)+"/"+t.name)}function mb(t){t.parent!==null&&$K(t.parent,t.name,t)}function $K(t,e,n){const r=OK(n),s=Io(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,mb(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,mb(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FK=/[\[\].#$\/\u0000-\u001F\u007F]/,VK=/[\[\].#$\u0000-\u001F\u007F]/,lx=10*1024*1024,$O=function(t){return typeof t=="string"&&t.length!==0&&!FK.test(t)},BK=function(t){return typeof t=="string"&&t.length!==0&&!VK.test(t)},UK=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),BK(t)},FO=function(t,e,n){const r=n instanceof Zt?new bY(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Ka(r));if(typeof e=="function")throw new Error(t+"contains a function "+Ka(r)+" with contents = "+e.toString());if(LM(e))throw new Error(t+"contains "+e.toString()+" "+Ka(r));if(typeof e=="string"&&e.length>lx/3&&Zv(e)>lx)throw new Error(t+"contains a string greater than "+lx+" utf8 bytes "+Ka(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(As(e,(o,l)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!$O(o)))throw new Error(t+" contains an invalid key ("+o+") "+Ka(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);wY(r,o),FO(t,l,r),CY(r)}),s&&i)throw new Error(t+' contains ".value" child '+Ka(r)+" in addition to actual children.")}},zK=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!$O(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!UK(n))throw new Error(tz(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WK{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function HK(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!aO(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function zl(t,e,n){HK(t,n),qK(t,r=>qs(r,e)||qs(e,r))}function qK(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(GK(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function GK(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();ch&&fr("event: "+n.toString()),Uf(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YK="repo_interrupt",KK=25;class QK{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new WK,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Lg(),this.transactionQueueTree_=new CC,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function XK(t,e,n){if(t.stats_=uC(t.repoInfo_),t.forceRestClient_||qG())t.server_=new Og(t.repoInfo_,(r,s,i,o)=>{Bk(t,r,s,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Uk(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Xn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new no(t.repoInfo_,e,(r,s,i,o)=>{Bk(t,r,s,i,o)},r=>{Uk(t,r)},r=>{ZK(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=XG(t.repoInfo_,()=>new QY(t.stats_,t.server_)),t.infoData_=new HY,t.infoSyncTree_=new Fk({startListening:(r,s,i,o)=>{let l=[];const c=t.infoData_.getNode(r._path);return c.isEmpty()||(l=Sy(t.infoSyncTree_,r._path,c),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),EC(t,"connected",!1),t.serverSyncTree_=new Fk({startListening:(r,s,i,o)=>(t.server_.listen(r,i,s,(l,c)=>{const u=o(l,c);zl(t.eventQueue_,r._path,u)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function JK(t){const n=t.infoData_.getNode(new Zt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function VO(t){return AK({timestamp:JK(t)})}function Bk(t,e,n,r,s){t.dataUpdateCount++;const i=new Zt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(r){const c=pg(n,u=>pr(u));o=PK(t.serverSyncTree_,i,c,s)}else{const c=pr(n);o=RK(t.serverSyncTree_,i,c,s)}else if(r){const c=pg(n,u=>pr(u));o=kK(t.serverSyncTree_,i,c)}else{const c=pr(n);o=Sy(t.serverSyncTree_,i,c)}let l=i;o.length>0&&(l=IC(t,i)),zl(t.eventQueue_,l,o)}function Uk(t,e){EC(t,"connected",e),e===!1&&tQ(t)}function ZK(t,e){As(e,(n,r)=>{EC(t,n,r)})}function EC(t,e,n){const r=new Zt("/.info/"+e),s=pr(n);t.infoData_.updateSnapshot(r,s);const i=Sy(t.infoSyncTree_,r,s);zl(t.eventQueue_,r,i)}function eQ(t){return t.nextWriteId_++}function tQ(t){BO(t,"onDisconnectEvents");const e=VO(t),n=Lg();lb(t.onDisconnect_,$t(),(s,i)=>{const o=jK(s,i,t.serverSyncTree_,e);pO(n,s,o)});let r=[];lb(n,$t(),(s,i)=>{r=r.concat(Sy(t.serverSyncTree_,s,i));const o=iQ(t,s);IC(t,o)}),t.onDisconnect_=Lg(),zl(t.eventQueue_,$t(),r)}function nQ(t){t.persistentConnection_&&t.persistentConnection_.interrupt(YK)}function BO(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),fr(n,...e)}function UO(t,e,n){return RO(t.serverSyncTree_,e,n)||Nt.EMPTY_NODE}function SC(t,e=t.transactionQueueTree_){if(e||Ry(t,e),Yu(e)){const n=WO(t,e);ke(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&rQ(t,Wf(e),n)}else OO(e)&&ky(e,n=>{SC(t,n)})}function rQ(t,e,n){const r=n.map(u=>u.currentWriteId),s=UO(t,e,r);let i=s;const o=s.hash();for(let u=0;u<n.length;u++){const d=n[u];ke(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const h=Ts(e,d.path);i=i.updateChild(h,d.currentOutputSnapshotRaw)}const l=i.val(!0),c=e;t.server_.put(c.toString(),l,u=>{BO(t,"transaction put response",{path:c.toString(),status:u});let d=[];if(u==="ok"){const h=[];for(let p=0;p<n.length;p++)n[p].status=2,d=d.concat(Ic(t.serverSyncTree_,n[p].currentWriteId)),n[p].onComplete&&h.push(()=>n[p].onComplete(null,!0,n[p].currentOutputSnapshotResolved)),n[p].unwatcher();Ry(t,TC(t.transactionQueueTree_,e)),SC(t,t.transactionQueueTree_),zl(t.eventQueue_,e,d);for(let p=0;p<h.length;p++)Uf(h[p])}else{if(u==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{ls("transaction at "+c.toString()+" failed: "+u);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=u}IC(t,e)}},o)}function IC(t,e){const n=zO(t,e),r=Wf(n),s=WO(t,n);return sQ(t,s,r),r}function sQ(t,e,n){if(e.length===0)return;const r=[];let s=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const c=e[l],u=Ts(n,c.path);let d=!1,h;if(ke(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)d=!0,h=c.abortReason,s=s.concat(Ic(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=KK)d=!0,h="maxretry",s=s.concat(Ic(t.serverSyncTree_,c.currentWriteId,!0));else{const p=UO(t,c.path,o);c.currentInputSnapshot=p;const m=e[l].update(p.val());if(m!==void 0){FO("transaction failed: Data returned ",m,c.path);let v=pr(m);typeof m=="object"&&m!=null&&Io(m,".priority")||(v=v.updatePriority(p.getPriority()));const b=c.currentWriteId,x=VO(t),_=MK(v,p,x);c.currentOutputSnapshotRaw=v,c.currentOutputSnapshotResolved=_,c.currentWriteId=eQ(t),o.splice(o.indexOf(b),1),s=s.concat(IK(t.serverSyncTree_,c.path,_,c.currentWriteId,c.applyLocally)),s=s.concat(Ic(t.serverSyncTree_,b,!0))}else d=!0,h="nodata",s=s.concat(Ic(t.serverSyncTree_,c.currentWriteId,!0))}zl(t.eventQueue_,n,s),s=[],d&&(e[l].status=2,function(p){setTimeout(p,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(h==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(h),!1,null))))}Ry(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)Uf(r[l]);SC(t,t.transactionQueueTree_)}function zO(t,e){let n,r=t.transactionQueueTree_;for(n=gt(e);n!==null&&Yu(r)===void 0;)r=TC(r,n),e=Qt(e),n=gt(e);return r}function WO(t,e){const n=[];return HO(t,e,n),n.sort((r,s)=>r.order-s.order),n}function HO(t,e,n){const r=Yu(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);ky(e,s=>{HO(t,s,n)})}function Ry(t,e){const n=Yu(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,MO(e,n.length>0?n:void 0)}ky(e,r=>{Ry(t,r)})}function iQ(t,e){const n=Wf(zO(t,e)),r=TC(t.transactionQueueTree_,e);return LK(r,s=>{cx(t,s)}),cx(t,r),LO(r,s=>{cx(t,s)}),n}function cx(t,e){const n=Yu(e);if(n){const r=[];let s=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(ke(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(ke(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(Ic(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?MO(e,void 0):n.length=i+1,zl(t.eventQueue_,Wf(e),s);for(let o=0;o<r.length;o++)Uf(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oQ(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function aQ(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ls(`Invalid query segment '${n}' in query '${t}'`)}return e}const zk=function(t,e){const n=lQ(t),r=n.namespace;n.domain==="firebase.com"&&_o(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&_o("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||$G();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new KM(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new Zt(n.pathString)}},lQ=function(t){let e="",n="",r="",s="",i="",o=!0,l="https",c=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(l=t.substring(0,u-1),t=t.substring(u+2));let d=t.indexOf("/");d===-1&&(d=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(d,h)),d<h&&(s=oQ(t.substring(d,h)));const p=aQ(t.substring(Math.min(t.length,h)));u=e.indexOf(":"),u>=0?(o=l==="https"||l==="wss",c=parseInt(e.substring(u+1),10)):u=e.length;const m=e.slice(0,u);if(m.toLowerCase()==="localhost")n="localhost";else if(m.split(".").length<=2)n=m;else{const v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),i=r}"ns"in p&&(i=p.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:o,scheme:l,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return dt(this._path)?null:sO(this._path)}get ref(){return new Ku(this._repo,this._path)}get _queryIdentifier(){const e=kk(this._queryParams),n=lC(e);return n==="{}"?"default":n}get _queryObject(){return kk(this._queryParams)}isEqual(e){if(e=Ut(e),!(e instanceof kC))return!1;const n=this._repo===e._repo,r=aO(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+_Y(this._path)}}class Ku extends kC{constructor(e,n){super(e,n,new pC,!1)}get parent(){const e=oO(this._path);return e===null?null:new Ku(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}EK(Ku);SK(Ku);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cQ="FIREBASE_DATABASE_EMULATOR_HOST",gb={};let uQ=!1;function dQ(t,e,n,r){t.repoInfo_=new KM(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function hQ(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||_o("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),fr("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=zk(i,s),l=o.repoInfo,c;typeof process<"u"&&ck&&(c=ck[cQ]),c?(i=`http://${c}?ns=${l.namespace}`,o=zk(i,s),l=o.repoInfo):o.repoInfo.secure;const u=new YG(t.name,t.options,e);zK("Invalid Firebase Database URL",o),dt(o.path)||_o("Database URL must point to the root of a Firebase Database (not including a child path).");const d=pQ(l,t,u,new GG(t.name,n));return new mQ(d,t)}function fQ(t,e){const n=gb[e];(!n||n[t.key]!==t)&&_o(`Database ${e}(${t.repoInfo_}) has already been deleted.`),nQ(t),delete n[t.key]}function pQ(t,e,n,r){let s=gb[e.name];s||(s={},gb[e.name]=s);let i=s[t.toURLString()];return i&&_o("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new QK(t,uQ,n,r),s[t.toURLString()]=i,i}class mQ{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(XK(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ku(this._repo,$t())),this._rootInternal}_delete(){return this._rootInternal!==null&&(fQ(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&_o("Cannot call "+e+" on a deleted database.")}}function gQ(t=ty(),e){const n=Bu(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=i1("database");r&&vQ(n,...r)}return n}function vQ(t,e,n,r={}){t=Ut(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&_o("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let i;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&_o('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new Pm(Pm.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:cD(r.mockUserToken,t.app.options.projectId);i=new Pm(o)}dQ(s,e,n,i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yQ(t){NG(Aa),mo(new Ri("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return hQ(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),Hr(uk,dk,t),Hr(uk,dk,"esm2017")}no.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};no.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};yQ();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xQ{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(s=>this.auth=s,()=>{}),this.messaging||n.get().then(s=>this.messaging=s,()=>{}),this.appCheck||r.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="us-central1";class _Q{constructor(e,n,r,s,i=vb,o){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new xQ(n,r,s),this.cancelAllRequests=new Promise(l=>{this.deleteService=()=>Promise.resolve(l())});try{const l=new URL(i);this.customDomain=l.origin+(l.pathname==="/"?"":l.pathname),this.region=vb}catch{this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function bQ(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}const Wk="@firebase/functions",Hk="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wQ="auth-internal",CQ="app-check-internal",TQ="messaging-internal";function EQ(t,e){const n=(r,{instanceIdentifier:s})=>{const i=r.getProvider("app").getImmediate(),o=r.getProvider(wQ),l=r.getProvider(TQ),c=r.getProvider(CQ);return new _Q(i,o,l,c,s,t)};mo(new Ri(qO,n,"PUBLIC").setMultipleInstances(!0)),Hr(Wk,Hk,e),Hr(Wk,Hk,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SQ(t=ty(),e=vb){const r=Bu(Ut(t),qO).getImmediate({identifier:e}),s=i1("functions");return s&&IQ(r,...s),r}function IQ(t,e,n){bQ(Ut(t),e,n)}EQ(fetch.bind(self));const kQ={apiKey:"AIzaSyAnp3SY9XEyF-le5q_Tcv-7Le2qqvtz0ZM",authDomain:"sports-booking-app-1d7e5.firebaseapp.com",databaseURL:"https://sports-booking-app-1d7e5-default-rtdb.europe-west1.firebasedatabase.app",projectId:"sports-booking-app-1d7e5",storageBucket:"sports-booking-app-1d7e5.firebasestorage.app",messagingSenderId:"648540980109",appId:"1:648540980109:web:97fbe182c59bb2641ab3c4",measurementId:"G-VL4MCP1PZP"},Hf=pD(kQ),ye=sq(Hf,{experimentalForceLongPolling:!1,cacheSizeBytes:50*1024*1024}),$r=x8(Hf),qk=kG(Hf);gQ(Hf);SQ(Hf,"europe-west1");const GO=y.createContext(void 0),xr=()=>{const t=y.useContext(GO);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},RQ=({children:t})=>{const[e,n]=y.useState(null),[r,s]=y.useState(null),[i,o]=y.useState(null),[l,c]=y.useState(!0);y.useEffect(()=>lW($r,async m=>{if(m)try{const v=await sn(We(ye,"admins",m.uid));if(v.exists()){const g=v.data();if(n(m),s(g),g.venueId){const b=await sn(We(ye,"venues",g.venueId));b.exists()&&o({id:b.id,...b.data()})}else g.role==="superadmin"&&o(null)}else await xg($r),n(null),s(null),o(null)}catch(v){console.error("Error fetching admin data:",v),n(null),s(null),o(null)}else n(null),s(null),o(null);c(!1)}),[]);const h={user:e,admin:r,club:i,loading:l,logout:async()=>{try{await xg($r),n(null),s(null),o(null)}catch(p){console.error("Logout error:",p)}},refreshClubData:async()=>{if(r!=null&&r.venueId)try{const p=await sn(We(ye,"venues",r.venueId));if(p.exists()){const m=p.data();o({id:p.id,name:m.name||"",address:m.address||"",phone:m.phone||"",email:m.email||"",description:m.description,logoUrl:m.logoUrl,amenities:m.amenities,organizationType:m.organizationType,inn:m.inn,bankAccount:m.bankAccount})}}catch(p){console.error("Error refreshing club data:",p)}}};return a.jsx(GO.Provider,{value:h,children:t})};function PQ(t){return Ee("MuiSvgIcon",t)}Se("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const AQ=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],NQ=t=>{const{color:e,fontSize:n,classes:r}=t,s={root:["root",e!=="inherit"&&`color${se(e)}`,`fontSize${se(n)}`]};return Re(s,PQ,r)},DQ=X("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${se(n.color)}`],e[`fontSize${se(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,s,i,o,l,c,u,d,h,p,m,v;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(s=t.transitions)==null||(s=s.duration)==null?void 0:s.shorter}),fontSize:{inherit:"inherit",small:((i=t.typography)==null||(o=i.pxToRem)==null?void 0:o.call(i,20))||"1.25rem",medium:((l=t.typography)==null||(c=l.pxToRem)==null?void 0:c.call(l,24))||"1.5rem",large:((u=t.typography)==null||(d=u.pxToRem)==null?void 0:d.call(u,35))||"2.1875rem"}[e.fontSize],color:(h=(p=(t.vars||t).palette)==null||(p=p[e.color])==null?void 0:p.main)!=null?h:{action:(m=(t.vars||t).palette)==null||(m=m.action)==null?void 0:m.active,disabled:(v=(t.vars||t).palette)==null||(v=v.action)==null?void 0:v.disabled,inherit:void 0}[e.color]}}),Bg=y.forwardRef(function(e,n){const r=je({props:e,name:"MuiSvgIcon"}),{children:s,className:i,color:o="inherit",component:l="svg",fontSize:c="medium",htmlColor:u,inheritViewBox:d=!1,titleAccess:h,viewBox:p="0 0 24 24"}=r,m=oe(r,AQ),v=y.isValidElement(s)&&s.type==="svg",g=j({},r,{color:o,component:l,fontSize:c,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:p,hasSvgAsChild:v}),b={};d||(b.viewBox=p);const x=NQ(g);return a.jsxs(DQ,j({as:l,className:ue(x.root,i),focusable:"false",color:u,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:n},b,m,v&&s.props,{ownerState:g,children:[v?s.props.children:s,h?a.jsx("title",{children:h}):null]}))});Bg.muiName="SvgIcon";function Ie(t,e){function n(r,s){return a.jsx(Bg,j({"data-testid":`${e}Icon`,ref:s},r,{children:t}))}return n.muiName=Bg.muiName,y.memo(y.forwardRef(n))}function Ug(t,e){return Ug=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Ug(t,e)}function RC(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Ug(t,e)}function jQ(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function MQ(t,e){t.classList?t.classList.add(e):jQ(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function Gk(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function OQ(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=Gk(t.className,e):t.setAttribute("class",Gk(t.className&&t.className.baseVal||"",e))}const Yk={disabled:!1},zg=ot.createContext(null);var YO=function(e){return e.scrollTop},Hd="unmounted",Qa="exited",Xa="entering",uc="entered",yb="exiting",Ls=function(t){RC(e,t);function e(r,s){var i;i=t.call(this,r,s)||this;var o=s,l=o&&!o.isMounting?r.enter:r.appear,c;return i.appearStatus=null,r.in?l?(c=Qa,i.appearStatus=Xa):c=uc:r.unmountOnExit||r.mountOnEnter?c=Hd:c=Qa,i.state={status:c},i.nextCallback=null,i}e.getDerivedStateFromProps=function(s,i){var o=s.in;return o&&i.status===Hd?{status:Qa}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(s){var i=null;if(s!==this.props){var o=this.state.status;this.props.in?o!==Xa&&o!==uc&&(i=Xa):(o===Xa||o===uc)&&(i=yb)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var s=this.props.timeout,i,o,l;return i=o=l=s,s!=null&&typeof s!="number"&&(i=s.exit,o=s.enter,l=s.appear!==void 0?s.appear:o),{exit:i,enter:o,appear:l}},n.updateStatus=function(s,i){if(s===void 0&&(s=!1),i!==null)if(this.cancelNextCallback(),i===Xa){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Ap.findDOMNode(this);o&&YO(o)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Qa&&this.setState({status:Hd})},n.performEnter=function(s){var i=this,o=this.props.enter,l=this.context?this.context.isMounting:s,c=this.props.nodeRef?[l]:[Ap.findDOMNode(this),l],u=c[0],d=c[1],h=this.getTimeouts(),p=l?h.appear:h.enter;if(!s&&!o||Yk.disabled){this.safeSetState({status:uc},function(){i.props.onEntered(u)});return}this.props.onEnter(u,d),this.safeSetState({status:Xa},function(){i.props.onEntering(u,d),i.onTransitionEnd(p,function(){i.safeSetState({status:uc},function(){i.props.onEntered(u,d)})})})},n.performExit=function(){var s=this,i=this.props.exit,o=this.getTimeouts(),l=this.props.nodeRef?void 0:Ap.findDOMNode(this);if(!i||Yk.disabled){this.safeSetState({status:Qa},function(){s.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:yb},function(){s.props.onExiting(l),s.onTransitionEnd(o.exit,function(){s.safeSetState({status:Qa},function(){s.props.onExited(l)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(s,i){i=this.setNextCallback(i),this.setState(s,i)},n.setNextCallback=function(s){var i=this,o=!0;return this.nextCallback=function(l){o&&(o=!1,i.nextCallback=null,s(l))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(s,i){this.setNextCallback(i);var o=this.props.nodeRef?this.props.nodeRef.current:Ap.findDOMNode(this),l=s==null&&!this.props.addEndListener;if(!o||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=c[0],d=c[1];this.props.addEndListener(u,d)}s!=null&&setTimeout(this.nextCallback,s)},n.render=function(){var s=this.state.status;if(s===Hd)return null;var i=this.props,o=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var l=oe(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ot.createElement(zg.Provider,{value:null},typeof o=="function"?o(s,l):ot.cloneElement(ot.Children.only(o),l))},e}(ot.Component);Ls.contextType=zg;Ls.propTypes={};function ic(){}Ls.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ic,onEntering:ic,onEntered:ic,onExit:ic,onExiting:ic,onExited:ic};Ls.UNMOUNTED=Hd;Ls.EXITED=Qa;Ls.ENTERING=Xa;Ls.ENTERED=uc;Ls.EXITING=yb;var LQ=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return MQ(e,r)})},ux=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return OQ(e,r)})},PC=function(t){RC(e,t);function e(){for(var r,s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(l,c){var u=r.resolveArguments(l,c),d=u[0],h=u[1];r.removeClasses(d,"exit"),r.addClass(d,h?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(l,c)},r.onEntering=function(l,c){var u=r.resolveArguments(l,c),d=u[0],h=u[1],p=h?"appear":"enter";r.addClass(d,p,"active"),r.props.onEntering&&r.props.onEntering(l,c)},r.onEntered=function(l,c){var u=r.resolveArguments(l,c),d=u[0],h=u[1],p=h?"appear":"enter";r.removeClasses(d,p),r.addClass(d,p,"done"),r.props.onEntered&&r.props.onEntered(l,c)},r.onExit=function(l){var c=r.resolveArguments(l),u=c[0];r.removeClasses(u,"appear"),r.removeClasses(u,"enter"),r.addClass(u,"exit","base"),r.props.onExit&&r.props.onExit(l)},r.onExiting=function(l){var c=r.resolveArguments(l),u=c[0];r.addClass(u,"exit","active"),r.props.onExiting&&r.props.onExiting(l)},r.onExited=function(l){var c=r.resolveArguments(l),u=c[0];r.removeClasses(u,"exit"),r.addClass(u,"exit","done"),r.props.onExited&&r.props.onExited(l)},r.resolveArguments=function(l,c){return r.props.nodeRef?[r.props.nodeRef.current,l]:[l,c]},r.getClassNames=function(l){var c=r.props.classNames,u=typeof c=="string",d=u&&c?c+"-":"",h=u?""+d+l:c[l],p=u?h+"-active":c[l+"Active"],m=u?h+"-done":c[l+"Done"];return{baseClassName:h,activeClassName:p,doneClassName:m}},r}var n=e.prototype;return n.addClass=function(s,i,o){var l=this.getClassNames(i)[o+"ClassName"],c=this.getClassNames("enter"),u=c.doneClassName;i==="appear"&&o==="done"&&u&&(l+=" "+u),o==="active"&&s&&YO(s),l&&(this.appliedClasses[i][o]=l,LQ(s,l))},n.removeClasses=function(s,i){var o=this.appliedClasses[i],l=o.base,c=o.active,u=o.done;this.appliedClasses[i]={},l&&ux(s,l),c&&ux(s,c),u&&ux(s,u)},n.render=function(){var s=this.props;s.classNames;var i=oe(s,["classNames"]);return ot.createElement(Ls,j({},i,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(ot.Component);PC.defaultProps={classNames:""};PC.propTypes={};function Ne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AC(t,e){var n=function(i){return e&&y.isValidElement(i)?e(i):i},r=Object.create(null);return t&&y.Children.map(t,function(s){return s}).forEach(function(s){r[s.key]=n(s)}),r}function $Q(t,e){t=t||{},e=e||{};function n(d){return d in e?e[d]:t[d]}var r=Object.create(null),s=[];for(var i in t)i in e?s.length&&(r[i]=s,s=[]):s.push(i);var o,l={};for(var c in e){if(r[c])for(o=0;o<r[c].length;o++){var u=r[c][o];l[r[c][o]]=n(u)}l[c]=n(c)}for(o=0;o<s.length;o++)l[s[o]]=n(s[o]);return l}function il(t,e,n){return n[e]!=null?n[e]:t.props[e]}function FQ(t,e){return AC(t.children,function(n){return y.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:il(n,"appear",t),enter:il(n,"enter",t),exit:il(n,"exit",t)})})}function VQ(t,e,n){var r=AC(t.children),s=$Q(e,r);return Object.keys(s).forEach(function(i){var o=s[i];if(y.isValidElement(o)){var l=i in e,c=i in r,u=e[i],d=y.isValidElement(u)&&!u.props.in;c&&(!l||d)?s[i]=y.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:il(o,"exit",t),enter:il(o,"enter",t)}):!c&&l&&!d?s[i]=y.cloneElement(o,{in:!1}):c&&l&&y.isValidElement(u)&&(s[i]=y.cloneElement(o,{onExited:n.bind(null,o),in:u.props.in,exit:il(o,"exit",t),enter:il(o,"enter",t)}))}}),s}var BQ=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},UQ={component:"div",childFactory:function(e){return e}},qf=function(t){RC(e,t);function e(r,s){var i;i=t.call(this,r,s)||this;var o=i.handleExited.bind(Ne(i));return i.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},i}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(s,i){var o=i.children,l=i.handleExited,c=i.firstRender;return{children:c?FQ(s,l):VQ(s,o,l),firstRender:!1}},n.handleExited=function(s,i){var o=AC(this.props.children);s.key in o||(s.props.onExited&&s.props.onExited(i),this.mounted&&this.setState(function(l){var c=j({},l.children);return delete c[s.key],{children:c}}))},n.render=function(){var s=this.props,i=s.component,o=s.childFactory,l=oe(s,["component","childFactory"]),c=this.state.contextValue,u=BQ(this.state.children).map(o);return delete l.appear,delete l.enter,delete l.exit,i===null?ot.createElement(zg.Provider,{value:c},u):ot.createElement(zg.Provider,{value:c},ot.createElement(i,l,u))},e}(ot.Component);qf.propTypes={};qf.defaultProps=UQ;const KO=t=>t.scrollTop;function gu(t,e){var n,r;const{timeout:s,easing:i,style:o={}}=t;return{duration:(n=o.transitionDuration)!=null?n:typeof s=="number"?s:s[e.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof i=="object"?i[e.mode]:i,delay:o.transitionDelay}}function zQ(t){return Ee("MuiCollapse",t)}Se("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const WQ=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],HQ=t=>{const{orientation:e,classes:n}=t,r={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return Re(r,zQ,n)},qQ=X("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.orientation],n.state==="entered"&&e.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&e.hidden]}})(({theme:t,ownerState:e})=>j({height:0,overflow:"hidden",transition:t.transitions.create("height")},e.orientation==="horizontal"&&{height:"auto",width:0,transition:t.transitions.create("width")},e.state==="entered"&&j({height:"auto",overflow:"visible"},e.orientation==="horizontal"&&{width:"auto"}),e.state==="exited"&&!e.in&&e.collapsedSize==="0px"&&{visibility:"hidden"})),GQ=X("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(t,e)=>e.wrapper})(({ownerState:t})=>j({display:"flex",width:"100%"},t.orientation==="horizontal"&&{width:"auto",height:"100%"})),YQ=X("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(t,e)=>e.wrapperInner})(({ownerState:t})=>j({width:"100%"},t.orientation==="horizontal"&&{width:"auto",height:"100%"})),NC=y.forwardRef(function(e,n){const r=je({props:e,name:"MuiCollapse"}),{addEndListener:s,children:i,className:o,collapsedSize:l="0px",component:c,easing:u,in:d,onEnter:h,onEntered:p,onEntering:m,onExit:v,onExited:g,onExiting:b,orientation:x="vertical",style:_,timeout:w=XN.standard,TransitionComponent:I=Ls}=r,N=oe(r,WQ),R=j({},r,{orientation:x,collapsedSize:l}),S=HQ(R),E=Di(),C=nl(),k=y.useRef(null),A=y.useRef(),M=typeof l=="number"?`${l}px`:l,P=x==="horizontal",O=P?"width":"height",V=y.useRef(null),B=on(n,V),z=Q=>ce=>{if(Q){const ie=V.current;ce===void 0?Q(ie):Q(ie,ce)}},U=()=>k.current?k.current[P?"clientWidth":"clientHeight"]:0,F=z((Q,ce)=>{k.current&&P&&(k.current.style.position="absolute"),Q.style[O]=M,h&&h(Q,ce)}),L=z((Q,ce)=>{const ie=U();k.current&&P&&(k.current.style.position="");const{duration:re,easing:ge}=gu({style:_,timeout:w,easing:u},{mode:"enter"});if(w==="auto"){const ee=E.transitions.getAutoHeightDuration(ie);Q.style.transitionDuration=`${ee}ms`,A.current=ee}else Q.style.transitionDuration=typeof re=="string"?re:`${re}ms`;Q.style[O]=`${ie}px`,Q.style.transitionTimingFunction=ge,m&&m(Q,ce)}),H=z((Q,ce)=>{Q.style[O]="auto",p&&p(Q,ce)}),q=z(Q=>{Q.style[O]=`${U()}px`,v&&v(Q)}),K=z(g),te=z(Q=>{const ce=U(),{duration:ie,easing:re}=gu({style:_,timeout:w,easing:u},{mode:"exit"});if(w==="auto"){const ge=E.transitions.getAutoHeightDuration(ce);Q.style.transitionDuration=`${ge}ms`,A.current=ge}else Q.style.transitionDuration=typeof ie=="string"?ie:`${ie}ms`;Q.style[O]=M,Q.style.transitionTimingFunction=re,b&&b(Q)}),me=Q=>{w==="auto"&&C.start(A.current||0,Q),s&&s(V.current,Q)};return a.jsx(I,j({in:d,onEnter:F,onEntered:H,onEntering:L,onExit:q,onExited:K,onExiting:te,addEndListener:me,nodeRef:V,timeout:w==="auto"?null:w},N,{children:(Q,ce)=>a.jsx(qQ,j({as:c,className:ue(S.root,o,{entered:S.entered,exited:!d&&M==="0px"&&S.hidden}[Q]),style:j({[P?"minWidth":"minHeight"]:M},_),ref:B},ce,{ownerState:j({},R,{state:Q}),children:a.jsx(GQ,{ownerState:j({},R,{state:Q}),className:S.wrapper,ref:k,children:a.jsx(YQ,{ownerState:j({},R,{state:Q}),className:S.wrapperInner,children:i})})}))}))});NC.muiSupportAuto=!0;function KQ(t){return Ee("MuiPaper",t)}Se("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const QQ=["className","component","elevation","square","variant"],XQ=t=>{const{square:e,elevation:n,variant:r,classes:s}=t,i={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return Re(i,KQ,s)},JQ=X("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return j({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&j({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${lt("#fff",$S(e.elevation))}, ${lt("#fff",$S(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),$s=y.forwardRef(function(e,n){const r=je({props:e,name:"MuiPaper"}),{className:s,component:i="div",elevation:o=1,square:l=!1,variant:c="elevation"}=r,u=oe(r,QQ),d=j({},r,{component:i,elevation:o,square:l,variant:c}),h=XQ(d);return a.jsx(JQ,j({as:i,ownerState:d,className:ue(h.root,s),ref:n},u))}),ZQ=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],eX=["component","slots","slotProps"],tX=["component"];function Kk(t,e){const{className:n,elementType:r,ownerState:s,externalForwardedProps:i,getSlotOwnerState:o,internalForwardedProps:l}=e,c=oe(e,ZQ),{component:u,slots:d={[t]:void 0},slotProps:h={[t]:void 0}}=i,p=oe(i,eX),m=d[t]||r,v=LN(h[t],s),g=ON(j({className:n},c,{externalForwardedProps:t==="root"?p:void 0,externalSlotProps:v})),{props:{component:b},internalRef:x}=g,_=oe(g.props,tX),w=on(x,v==null?void 0:v.ref,e.ref),I=o?o(_):{},N=j({},s,I),R=t==="root"?b||u:b,S=Tc(m,j({},t==="root"&&!u&&!d[t]&&l,t!=="root"&&!d[t]&&l,_,R&&{as:R},{ref:w}),N);return Object.keys(I).forEach(E=>{delete S[E]}),[m,S]}function nX(t){const{className:e,classes:n,pulsate:r=!1,rippleX:s,rippleY:i,rippleSize:o,in:l,onExited:c,timeout:u}=t,[d,h]=y.useState(!1),p=ue(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),m={width:o,height:o,top:-(o/2)+i,left:-(o/2)+s},v=ue(n.child,d&&n.childLeaving,r&&n.childPulsate);return!l&&!d&&h(!0),y.useEffect(()=>{if(!l&&c!=null){const g=setTimeout(c,u);return()=>{clearTimeout(g)}}},[c,l,u]),a.jsx("span",{className:p,style:m,children:a.jsx("span",{className:v})})}const xs=Se("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),rX=["center","classes","className"];let Py=t=>t,Qk,Xk,Jk,Zk;const xb=550,sX=80,iX=So(Qk||(Qk=Py`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),oX=So(Xk||(Xk=Py`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),aX=So(Jk||(Jk=Py`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),lX=X("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),cX=X(nX,{name:"MuiTouchRipple",slot:"Ripple"})(Zk||(Zk=Py`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),xs.rippleVisible,iX,xb,({theme:t})=>t.transitions.easing.easeInOut,xs.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,xs.child,xs.childLeaving,oX,xb,({theme:t})=>t.transitions.easing.easeInOut,xs.childPulsate,aX,({theme:t})=>t.transitions.easing.easeInOut),uX=y.forwardRef(function(e,n){const r=je({props:e,name:"MuiTouchRipple"}),{center:s=!1,classes:i={},className:o}=r,l=oe(r,rX),[c,u]=y.useState([]),d=y.useRef(0),h=y.useRef(null);y.useEffect(()=>{h.current&&(h.current(),h.current=null)},[c]);const p=y.useRef(!1),m=nl(),v=y.useRef(null),g=y.useRef(null),b=y.useCallback(I=>{const{pulsate:N,rippleX:R,rippleY:S,rippleSize:E,cb:C}=I;u(k=>[...k,a.jsx(cX,{classes:{ripple:ue(i.ripple,xs.ripple),rippleVisible:ue(i.rippleVisible,xs.rippleVisible),ripplePulsate:ue(i.ripplePulsate,xs.ripplePulsate),child:ue(i.child,xs.child),childLeaving:ue(i.childLeaving,xs.childLeaving),childPulsate:ue(i.childPulsate,xs.childPulsate)},timeout:xb,pulsate:N,rippleX:R,rippleY:S,rippleSize:E},d.current)]),d.current+=1,h.current=C},[i]),x=y.useCallback((I={},N={},R=()=>{})=>{const{pulsate:S=!1,center:E=s||N.pulsate,fakeElement:C=!1}=N;if((I==null?void 0:I.type)==="mousedown"&&p.current){p.current=!1;return}(I==null?void 0:I.type)==="touchstart"&&(p.current=!0);const k=C?null:g.current,A=k?k.getBoundingClientRect():{width:0,height:0,left:0,top:0};let M,P,O;if(E||I===void 0||I.clientX===0&&I.clientY===0||!I.clientX&&!I.touches)M=Math.round(A.width/2),P=Math.round(A.height/2);else{const{clientX:V,clientY:B}=I.touches&&I.touches.length>0?I.touches[0]:I;M=Math.round(V-A.left),P=Math.round(B-A.top)}if(E)O=Math.sqrt((2*A.width**2+A.height**2)/3),O%2===0&&(O+=1);else{const V=Math.max(Math.abs((k?k.clientWidth:0)-M),M)*2+2,B=Math.max(Math.abs((k?k.clientHeight:0)-P),P)*2+2;O=Math.sqrt(V**2+B**2)}I!=null&&I.touches?v.current===null&&(v.current=()=>{b({pulsate:S,rippleX:M,rippleY:P,rippleSize:O,cb:R})},m.start(sX,()=>{v.current&&(v.current(),v.current=null)})):b({pulsate:S,rippleX:M,rippleY:P,rippleSize:O,cb:R})},[s,b,m]),_=y.useCallback(()=>{x({},{pulsate:!0})},[x]),w=y.useCallback((I,N)=>{if(m.clear(),(I==null?void 0:I.type)==="touchend"&&v.current){v.current(),v.current=null,m.start(0,()=>{w(I,N)});return}v.current=null,u(R=>R.length>0?R.slice(1):R),h.current=N},[m]);return y.useImperativeHandle(n,()=>({pulsate:_,start:x,stop:w}),[_,x,w]),a.jsx(lX,j({className:ue(xs.root,i.root,o),ref:g},l,{children:a.jsx(qf,{component:null,exit:!0,children:c})}))});function dX(t){return Ee("MuiButtonBase",t)}const hX=Se("MuiButtonBase",["root","disabled","focusVisible"]),fX=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],pX=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:s}=t,o=Re({root:["root",e&&"disabled",n&&"focusVisible"]},dX,s);return n&&r&&(o.root+=` ${r}`),o},mX=X("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${hX.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Ea=y.forwardRef(function(e,n){const r=je({props:e,name:"MuiButtonBase"}),{action:s,centerRipple:i=!1,children:o,className:l,component:c="button",disabled:u=!1,disableRipple:d=!1,disableTouchRipple:h=!1,focusRipple:p=!1,LinkComponent:m="a",onBlur:v,onClick:g,onContextMenu:b,onDragLeave:x,onFocus:_,onFocusVisible:w,onKeyDown:I,onKeyUp:N,onMouseDown:R,onMouseLeave:S,onMouseUp:E,onTouchEnd:C,onTouchMove:k,onTouchStart:A,tabIndex:M=0,TouchRippleProps:P,touchRippleRef:O,type:V}=r,B=oe(r,fX),z=y.useRef(null),U=y.useRef(null),F=on(U,O),{isFocusVisibleRef:L,onFocus:H,onBlur:q,ref:K}=DN(),[te,me]=y.useState(!1);u&&te&&me(!1),y.useImperativeHandle(s,()=>({focusVisible:()=>{me(!0),z.current.focus()}}),[]);const[Q,ce]=y.useState(!1);y.useEffect(()=>{ce(!0)},[]);const ie=Q&&!d&&!u;y.useEffect(()=>{te&&p&&!d&&Q&&U.current.pulsate()},[d,p,te,Q]);function re($e,en,Mr=h){return ct(bn=>(en&&en(bn),!Mr&&U.current&&U.current[$e](bn),!0))}const ge=re("start",R),ee=re("stop",b),Y=re("stop",x),W=re("stop",E),Z=re("stop",$e=>{te&&$e.preventDefault(),S&&S($e)}),le=re("start",A),be=re("stop",C),Be=re("stop",k),fe=re("stop",$e=>{q($e),L.current===!1&&me(!1),v&&v($e)},!1),ve=ct($e=>{z.current||(z.current=$e.currentTarget),H($e),L.current===!0&&(me(!0),w&&w($e)),_&&_($e)}),Te=()=>{const $e=z.current;return c&&c!=="button"&&!($e.tagName==="A"&&$e.href)},we=y.useRef(!1),qe=ct($e=>{p&&!we.current&&te&&U.current&&$e.key===" "&&(we.current=!0,U.current.stop($e,()=>{U.current.start($e)})),$e.target===$e.currentTarget&&Te()&&$e.key===" "&&$e.preventDefault(),I&&I($e),$e.target===$e.currentTarget&&Te()&&$e.key==="Enter"&&!u&&($e.preventDefault(),g&&g($e))}),Ve=ct($e=>{p&&$e.key===" "&&U.current&&te&&!$e.defaultPrevented&&(we.current=!1,U.current.stop($e,()=>{U.current.pulsate($e)})),N&&N($e),g&&$e.target===$e.currentTarget&&Te()&&$e.key===" "&&!$e.defaultPrevented&&g($e)});let Ue=c;Ue==="button"&&(B.href||B.to)&&(Ue=m);const Wt={};Ue==="button"?(Wt.type=V===void 0?"button":V,Wt.disabled=u):(!B.href&&!B.to&&(Wt.role="button"),u&&(Wt["aria-disabled"]=u));const et=on(n,K,z),it=j({},r,{centerRipple:i,component:c,disabled:u,disableRipple:d,disableTouchRipple:h,focusRipple:p,tabIndex:M,focusVisible:te}),Ze=pX(it);return a.jsxs(mX,j({as:Ue,className:ue(Ze.root,l),ownerState:it,onBlur:fe,onClick:g,onContextMenu:ee,onFocus:ve,onKeyDown:qe,onKeyUp:Ve,onMouseDown:ge,onMouseLeave:Z,onMouseUp:W,onDragLeave:Y,onTouchEnd:be,onTouchMove:Be,onTouchStart:le,ref:et,tabIndex:u?-1:M,type:V},Wt,B,{children:[o,ie?a.jsx(uX,j({ref:F,center:i},P)):null]}))});function gX(t){return Ee("MuiAlert",t)}const e2=Se("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function vX(t){return Ee("MuiIconButton",t)}const yX=Se("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),xX=["edge","children","className","color","disabled","disableFocusRipple","size"],_X=t=>{const{classes:e,disabled:n,color:r,edge:s,size:i}=t,o={root:["root",n&&"disabled",r!=="default"&&`color${se(r)}`,s&&`edge${se(s)}`,`size${se(i)}`]};return Re(o,vX,e)},bX=X(Ea,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${se(n.color)}`],n.edge&&e[`edge${se(n.edge)}`],e[`size${se(n.size)}`]]}})(({theme:t,ownerState:e})=>j({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:lt(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var n;const r=(n=(t.vars||t).palette)==null?void 0:n[e.color];return j({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&j({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":j({},r&&{backgroundColor:t.vars?`rgba(${r.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:lt(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${yX.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),cs=y.forwardRef(function(e,n){const r=je({props:e,name:"MuiIconButton"}),{edge:s=!1,children:i,className:o,color:l="default",disabled:c=!1,disableFocusRipple:u=!1,size:d="medium"}=r,h=oe(r,xX),p=j({},r,{edge:s,color:l,disabled:c,disableFocusRipple:u,size:d}),m=_X(p);return a.jsx(bX,j({className:ue(m.root,o),centerRipple:!0,focusRipple:!u,disabled:c,ref:n},h,{ownerState:p,children:i}))}),wX=Ie(a.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),CX=Ie(a.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),TX=Ie(a.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),EX=Ie(a.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),SX=Ie(a.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),IX=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],kX=t=>{const{variant:e,color:n,severity:r,classes:s}=t,i={root:["root",`color${se(n||r)}`,`${e}${se(n||r)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return Re(i,gX,s)},RX=X($s,{name:"MuiAlert",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${se(n.color||n.severity)}`]]}})(({theme:t})=>{const e=t.palette.mode==="light"?iu:ou,n=t.palette.mode==="light"?ou:iu;return j({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${r}StandardBg`]:n(t.palette[r].light,.9),[`& .${e2.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),border:`1px solid ${(t.vars||t).palette[r].light}`,[`& .${e2.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(([,r])=>r.main&&r.dark).map(([r])=>({props:{colorSeverity:r,variant:"filled"},style:j({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert[`${r}FilledColor`],backgroundColor:t.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[r].dark:t.palette[r].main,color:t.palette.getContrastText(t.palette[r].main)})}))]})}),PX=X("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(t,e)=>e.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),AX=X("div",{name:"MuiAlert",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),t2=X("div",{name:"MuiAlert",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),n2={success:a.jsx(wX,{fontSize:"inherit"}),warning:a.jsx(CX,{fontSize:"inherit"}),error:a.jsx(TX,{fontSize:"inherit"}),info:a.jsx(EX,{fontSize:"inherit"})},rn=y.forwardRef(function(e,n){const r=je({props:e,name:"MuiAlert"}),{action:s,children:i,className:o,closeText:l="Close",color:c,components:u={},componentsProps:d={},icon:h,iconMapping:p=n2,onClose:m,role:v="alert",severity:g="success",slotProps:b={},slots:x={},variant:_="standard"}=r,w=oe(r,IX),I=j({},r,{color:c,severity:g,variant:_,colorSeverity:c||g}),N=kX(I),R={slots:j({closeButton:u.CloseButton,closeIcon:u.CloseIcon},x),slotProps:j({},d,b)},[S,E]=Kk("closeButton",{elementType:cs,externalForwardedProps:R,ownerState:I}),[C,k]=Kk("closeIcon",{elementType:SX,externalForwardedProps:R,ownerState:I});return a.jsxs(RX,j({role:v,elevation:0,ownerState:I,className:ue(N.root,o),ref:n},w,{children:[h!==!1?a.jsx(PX,{ownerState:I,className:N.icon,children:h||p[g]||n2[g]}):null,a.jsx(AX,{ownerState:I,className:N.message,children:i}),s!=null?a.jsx(t2,{ownerState:I,className:N.action,children:s}):null,s==null&&m?a.jsx(t2,{ownerState:I,className:N.action,children:a.jsx(S,j({size:"small","aria-label":l,title:l,color:"inherit",onClick:m},E,{children:a.jsx(C,j({fontSize:"small"},k))}))}):null]}))});function NX(t){return Ee("MuiTypography",t)}Se("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const DX=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],jX=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:s,variant:i,classes:o}=t,l={root:["root",i,t.align!=="inherit"&&`align${se(e)}`,n&&"gutterBottom",r&&"noWrap",s&&"paragraph"]};return Re(l,NX,o)},MX=X("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${se(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>j({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),r2={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},OX={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},LX=t=>OX[t]||t,ne=y.forwardRef(function(e,n){const r=je({props:e,name:"MuiTypography"}),s=LX(r.color),i=Ef(j({},r,{color:s})),{align:o="inherit",className:l,component:c,gutterBottom:u=!1,noWrap:d=!1,paragraph:h=!1,variant:p="body1",variantMapping:m=r2}=i,v=oe(i,DX),g=j({},i,{align:o,color:s,className:l,component:c,gutterBottom:u,noWrap:d,paragraph:h,variant:p,variantMapping:m}),b=c||(h?"p":m[p]||r2[p])||"span",x=jX(g);return a.jsx(MX,j({as:b,ref:n,ownerState:g,className:ue(x.root,l)},v))});function $X(t){return Ee("MuiAlertTitle",t)}Se("MuiAlertTitle",["root"]);const FX=["className"],VX=t=>{const{classes:e}=t;return Re({root:["root"]},$X,e)},BX=X(ne,{name:"MuiAlertTitle",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({fontWeight:t.typography.fontWeightMedium,marginTop:-2})),of=y.forwardRef(function(e,n){const r=je({props:e,name:"MuiAlertTitle"}),{className:s}=r,i=oe(r,FX),o=r,l=VX(o);return a.jsx(BX,j({gutterBottom:!0,component:"div",ownerState:o,ref:n,className:ue(l.root,s)},i))});var DC={};Object.defineProperty(DC,"__esModule",{value:!0});var QO=DC.default=void 0,UX=WX(y),zX=JN;function XO(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(XO=function(r){return r?n:e})(t)}function WX(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=XO(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var o=s?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=t[i]}return r.default=t,n&&n.set(t,r),r}function HX(t){return Object.keys(t).length===0}function qX(t=null){const e=UX.useContext(zX.ThemeContext);return!e||HX(e)?t:e}QO=DC.default=qX;var qr="top",Ns="bottom",Ds="right",Gr="left",jC="auto",Gf=[qr,Ns,Ds,Gr],vu="start",af="end",GX="clippingParents",JO="viewport",Td="popper",YX="reference",s2=Gf.reduce(function(t,e){return t.concat([e+"-"+vu,e+"-"+af])},[]),ZO=[].concat(Gf,[jC]).reduce(function(t,e){return t.concat([e,e+"-"+vu,e+"-"+af])},[]),KX="beforeRead",QX="read",XX="afterRead",JX="beforeMain",ZX="main",eJ="afterMain",tJ="beforeWrite",nJ="write",rJ="afterWrite",sJ=[KX,QX,XX,JX,ZX,eJ,tJ,nJ,rJ];function Ai(t){return t?(t.nodeName||"").toLowerCase():null}function ds(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Nl(t){var e=ds(t).Element;return t instanceof e||t instanceof Element}function Is(t){var e=ds(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function MC(t){if(typeof ShadowRoot>"u")return!1;var e=ds(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function iJ(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},s=e.attributes[n]||{},i=e.elements[n];!Is(i)||!Ai(i)||(Object.assign(i.style,r),Object.keys(s).forEach(function(o){var l=s[o];l===!1?i.removeAttribute(o):i.setAttribute(o,l===!0?"":l)}))})}function oJ(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var s=e.elements[r],i=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),l=o.reduce(function(c,u){return c[u]="",c},{});!Is(s)||!Ai(s)||(Object.assign(s.style,l),Object.keys(i).forEach(function(c){s.removeAttribute(c)}))})}}const aJ={name:"applyStyles",enabled:!0,phase:"write",fn:iJ,effect:oJ,requires:["computeStyles"]};function Ei(t){return t.split("-")[0]}var hl=Math.max,Wg=Math.min,yu=Math.round;function _b(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function eL(){return!/^((?!chrome|android).)*safari/i.test(_b())}function xu(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),s=1,i=1;e&&Is(t)&&(s=t.offsetWidth>0&&yu(r.width)/t.offsetWidth||1,i=t.offsetHeight>0&&yu(r.height)/t.offsetHeight||1);var o=Nl(t)?ds(t):window,l=o.visualViewport,c=!eL()&&n,u=(r.left+(c&&l?l.offsetLeft:0))/s,d=(r.top+(c&&l?l.offsetTop:0))/i,h=r.width/s,p=r.height/i;return{width:h,height:p,top:d,right:u+h,bottom:d+p,left:u,x:u,y:d}}function OC(t){var e=xu(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function tL(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&MC(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function bo(t){return ds(t).getComputedStyle(t)}function lJ(t){return["table","td","th"].indexOf(Ai(t))>=0}function Ma(t){return((Nl(t)?t.ownerDocument:t.document)||window.document).documentElement}function Ay(t){return Ai(t)==="html"?t:t.assignedSlot||t.parentNode||(MC(t)?t.host:null)||Ma(t)}function i2(t){return!Is(t)||bo(t).position==="fixed"?null:t.offsetParent}function cJ(t){var e=/firefox/i.test(_b()),n=/Trident/i.test(_b());if(n&&Is(t)){var r=bo(t);if(r.position==="fixed")return null}var s=Ay(t);for(MC(s)&&(s=s.host);Is(s)&&["html","body"].indexOf(Ai(s))<0;){var i=bo(s);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return s;s=s.parentNode}return null}function Yf(t){for(var e=ds(t),n=i2(t);n&&lJ(n)&&bo(n).position==="static";)n=i2(n);return n&&(Ai(n)==="html"||Ai(n)==="body"&&bo(n).position==="static")?e:n||cJ(t)||e}function LC(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function fh(t,e,n){return hl(t,Wg(e,n))}function uJ(t,e,n){var r=fh(t,e,n);return r>n?n:r}function nL(){return{top:0,right:0,bottom:0,left:0}}function rL(t){return Object.assign({},nL(),t)}function sL(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var dJ=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,rL(typeof e!="number"?e:sL(e,Gf))};function hJ(t){var e,n=t.state,r=t.name,s=t.options,i=n.elements.arrow,o=n.modifiersData.popperOffsets,l=Ei(n.placement),c=LC(l),u=[Gr,Ds].indexOf(l)>=0,d=u?"height":"width";if(!(!i||!o)){var h=dJ(s.padding,n),p=OC(i),m=c==="y"?qr:Gr,v=c==="y"?Ns:Ds,g=n.rects.reference[d]+n.rects.reference[c]-o[c]-n.rects.popper[d],b=o[c]-n.rects.reference[c],x=Yf(i),_=x?c==="y"?x.clientHeight||0:x.clientWidth||0:0,w=g/2-b/2,I=h[m],N=_-p[d]-h[v],R=_/2-p[d]/2+w,S=fh(I,R,N),E=c;n.modifiersData[r]=(e={},e[E]=S,e.centerOffset=S-R,e)}}function fJ(t){var e=t.state,n=t.options,r=n.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||tL(e.elements.popper,s)&&(e.elements.arrow=s))}const pJ={name:"arrow",enabled:!0,phase:"main",fn:hJ,effect:fJ,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function _u(t){return t.split("-")[1]}var mJ={top:"auto",right:"auto",bottom:"auto",left:"auto"};function gJ(t,e){var n=t.x,r=t.y,s=e.devicePixelRatio||1;return{x:yu(n*s)/s||0,y:yu(r*s)/s||0}}function o2(t){var e,n=t.popper,r=t.popperRect,s=t.placement,i=t.variation,o=t.offsets,l=t.position,c=t.gpuAcceleration,u=t.adaptive,d=t.roundOffsets,h=t.isFixed,p=o.x,m=p===void 0?0:p,v=o.y,g=v===void 0?0:v,b=typeof d=="function"?d({x:m,y:g}):{x:m,y:g};m=b.x,g=b.y;var x=o.hasOwnProperty("x"),_=o.hasOwnProperty("y"),w=Gr,I=qr,N=window;if(u){var R=Yf(n),S="clientHeight",E="clientWidth";if(R===ds(n)&&(R=Ma(n),bo(R).position!=="static"&&l==="absolute"&&(S="scrollHeight",E="scrollWidth")),R=R,s===qr||(s===Gr||s===Ds)&&i===af){I=Ns;var C=h&&R===N&&N.visualViewport?N.visualViewport.height:R[S];g-=C-r.height,g*=c?1:-1}if(s===Gr||(s===qr||s===Ns)&&i===af){w=Ds;var k=h&&R===N&&N.visualViewport?N.visualViewport.width:R[E];m-=k-r.width,m*=c?1:-1}}var A=Object.assign({position:l},u&&mJ),M=d===!0?gJ({x:m,y:g},ds(n)):{x:m,y:g};if(m=M.x,g=M.y,c){var P;return Object.assign({},A,(P={},P[I]=_?"0":"",P[w]=x?"0":"",P.transform=(N.devicePixelRatio||1)<=1?"translate("+m+"px, "+g+"px)":"translate3d("+m+"px, "+g+"px, 0)",P))}return Object.assign({},A,(e={},e[I]=_?g+"px":"",e[w]=x?m+"px":"",e.transform="",e))}function vJ(t){var e=t.state,n=t.options,r=n.gpuAcceleration,s=r===void 0?!0:r,i=n.adaptive,o=i===void 0?!0:i,l=n.roundOffsets,c=l===void 0?!0:l,u={placement:Ei(e.placement),variation:_u(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,o2(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,o2(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const yJ={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:vJ,data:{}};var Wp={passive:!0};function xJ(t){var e=t.state,n=t.instance,r=t.options,s=r.scroll,i=s===void 0?!0:s,o=r.resize,l=o===void 0?!0:o,c=ds(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&u.forEach(function(d){d.addEventListener("scroll",n.update,Wp)}),l&&c.addEventListener("resize",n.update,Wp),function(){i&&u.forEach(function(d){d.removeEventListener("scroll",n.update,Wp)}),l&&c.removeEventListener("resize",n.update,Wp)}}const _J={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:xJ,data:{}};var bJ={left:"right",right:"left",bottom:"top",top:"bottom"};function Am(t){return t.replace(/left|right|bottom|top/g,function(e){return bJ[e]})}var wJ={start:"end",end:"start"};function a2(t){return t.replace(/start|end/g,function(e){return wJ[e]})}function $C(t){var e=ds(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function FC(t){return xu(Ma(t)).left+$C(t).scrollLeft}function CJ(t,e){var n=ds(t),r=Ma(t),s=n.visualViewport,i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;var u=eL();(u||!u&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:l+FC(t),y:c}}function TJ(t){var e,n=Ma(t),r=$C(t),s=(e=t.ownerDocument)==null?void 0:e.body,i=hl(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=hl(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),l=-r.scrollLeft+FC(t),c=-r.scrollTop;return bo(s||n).direction==="rtl"&&(l+=hl(n.clientWidth,s?s.clientWidth:0)-i),{width:i,height:o,x:l,y:c}}function VC(t){var e=bo(t),n=e.overflow,r=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function iL(t){return["html","body","#document"].indexOf(Ai(t))>=0?t.ownerDocument.body:Is(t)&&VC(t)?t:iL(Ay(t))}function ph(t,e){var n;e===void 0&&(e=[]);var r=iL(t),s=r===((n=t.ownerDocument)==null?void 0:n.body),i=ds(r),o=s?[i].concat(i.visualViewport||[],VC(r)?r:[]):r,l=e.concat(o);return s?l:l.concat(ph(Ay(o)))}function bb(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function EJ(t,e){var n=xu(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function l2(t,e,n){return e===JO?bb(CJ(t,n)):Nl(e)?EJ(e,n):bb(TJ(Ma(t)))}function SJ(t){var e=ph(Ay(t)),n=["absolute","fixed"].indexOf(bo(t).position)>=0,r=n&&Is(t)?Yf(t):t;return Nl(r)?e.filter(function(s){return Nl(s)&&tL(s,r)&&Ai(s)!=="body"}):[]}function IJ(t,e,n,r){var s=e==="clippingParents"?SJ(t):[].concat(e),i=[].concat(s,[n]),o=i[0],l=i.reduce(function(c,u){var d=l2(t,u,r);return c.top=hl(d.top,c.top),c.right=Wg(d.right,c.right),c.bottom=Wg(d.bottom,c.bottom),c.left=hl(d.left,c.left),c},l2(t,o,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function oL(t){var e=t.reference,n=t.element,r=t.placement,s=r?Ei(r):null,i=r?_u(r):null,o=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,c;switch(s){case qr:c={x:o,y:e.y-n.height};break;case Ns:c={x:o,y:e.y+e.height};break;case Ds:c={x:e.x+e.width,y:l};break;case Gr:c={x:e.x-n.width,y:l};break;default:c={x:e.x,y:e.y}}var u=s?LC(s):null;if(u!=null){var d=u==="y"?"height":"width";switch(i){case vu:c[u]=c[u]-(e[d]/2-n[d]/2);break;case af:c[u]=c[u]+(e[d]/2-n[d]/2);break}}return c}function lf(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=r===void 0?t.placement:r,i=n.strategy,o=i===void 0?t.strategy:i,l=n.boundary,c=l===void 0?GX:l,u=n.rootBoundary,d=u===void 0?JO:u,h=n.elementContext,p=h===void 0?Td:h,m=n.altBoundary,v=m===void 0?!1:m,g=n.padding,b=g===void 0?0:g,x=rL(typeof b!="number"?b:sL(b,Gf)),_=p===Td?YX:Td,w=t.rects.popper,I=t.elements[v?_:p],N=IJ(Nl(I)?I:I.contextElement||Ma(t.elements.popper),c,d,o),R=xu(t.elements.reference),S=oL({reference:R,element:w,placement:s}),E=bb(Object.assign({},w,S)),C=p===Td?E:R,k={top:N.top-C.top+x.top,bottom:C.bottom-N.bottom+x.bottom,left:N.left-C.left+x.left,right:C.right-N.right+x.right},A=t.modifiersData.offset;if(p===Td&&A){var M=A[s];Object.keys(k).forEach(function(P){var O=[Ds,Ns].indexOf(P)>=0?1:-1,V=[qr,Ns].indexOf(P)>=0?"y":"x";k[P]+=M[V]*O})}return k}function kJ(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=n.boundary,i=n.rootBoundary,o=n.padding,l=n.flipVariations,c=n.allowedAutoPlacements,u=c===void 0?ZO:c,d=_u(r),h=d?l?s2:s2.filter(function(v){return _u(v)===d}):Gf,p=h.filter(function(v){return u.indexOf(v)>=0});p.length===0&&(p=h);var m=p.reduce(function(v,g){return v[g]=lf(t,{placement:g,boundary:s,rootBoundary:i,padding:o})[Ei(g)],v},{});return Object.keys(m).sort(function(v,g){return m[v]-m[g]})}function RJ(t){if(Ei(t)===jC)return[];var e=Am(t);return[a2(t),e,a2(e)]}function PJ(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var s=n.mainAxis,i=s===void 0?!0:s,o=n.altAxis,l=o===void 0?!0:o,c=n.fallbackPlacements,u=n.padding,d=n.boundary,h=n.rootBoundary,p=n.altBoundary,m=n.flipVariations,v=m===void 0?!0:m,g=n.allowedAutoPlacements,b=e.options.placement,x=Ei(b),_=x===b,w=c||(_||!v?[Am(b)]:RJ(b)),I=[b].concat(w).reduce(function(te,me){return te.concat(Ei(me)===jC?kJ(e,{placement:me,boundary:d,rootBoundary:h,padding:u,flipVariations:v,allowedAutoPlacements:g}):me)},[]),N=e.rects.reference,R=e.rects.popper,S=new Map,E=!0,C=I[0],k=0;k<I.length;k++){var A=I[k],M=Ei(A),P=_u(A)===vu,O=[qr,Ns].indexOf(M)>=0,V=O?"width":"height",B=lf(e,{placement:A,boundary:d,rootBoundary:h,altBoundary:p,padding:u}),z=O?P?Ds:Gr:P?Ns:qr;N[V]>R[V]&&(z=Am(z));var U=Am(z),F=[];if(i&&F.push(B[M]<=0),l&&F.push(B[z]<=0,B[U]<=0),F.every(function(te){return te})){C=A,E=!1;break}S.set(A,F)}if(E)for(var L=v?3:1,H=function(me){var Q=I.find(function(ce){var ie=S.get(ce);if(ie)return ie.slice(0,me).every(function(re){return re})});if(Q)return C=Q,"break"},q=L;q>0;q--){var K=H(q);if(K==="break")break}e.placement!==C&&(e.modifiersData[r]._skip=!0,e.placement=C,e.reset=!0)}}const AJ={name:"flip",enabled:!0,phase:"main",fn:PJ,requiresIfExists:["offset"],data:{_skip:!1}};function c2(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function u2(t){return[qr,Ds,Ns,Gr].some(function(e){return t[e]>=0})}function NJ(t){var e=t.state,n=t.name,r=e.rects.reference,s=e.rects.popper,i=e.modifiersData.preventOverflow,o=lf(e,{elementContext:"reference"}),l=lf(e,{altBoundary:!0}),c=c2(o,r),u=c2(l,s,i),d=u2(c),h=u2(u);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":h})}const DJ={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:NJ};function jJ(t,e,n){var r=Ei(t),s=[Gr,qr].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=i[0],l=i[1];return o=o||0,l=(l||0)*s,[Gr,Ds].indexOf(r)>=0?{x:l,y:o}:{x:o,y:l}}function MJ(t){var e=t.state,n=t.options,r=t.name,s=n.offset,i=s===void 0?[0,0]:s,o=ZO.reduce(function(d,h){return d[h]=jJ(h,e.rects,i),d},{}),l=o[e.placement],c=l.x,u=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=o}const OJ={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:MJ};function LJ(t){var e=t.state,n=t.name;e.modifiersData[n]=oL({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const $J={name:"popperOffsets",enabled:!0,phase:"read",fn:LJ,data:{}};function FJ(t){return t==="x"?"y":"x"}function VJ(t){var e=t.state,n=t.options,r=t.name,s=n.mainAxis,i=s===void 0?!0:s,o=n.altAxis,l=o===void 0?!1:o,c=n.boundary,u=n.rootBoundary,d=n.altBoundary,h=n.padding,p=n.tether,m=p===void 0?!0:p,v=n.tetherOffset,g=v===void 0?0:v,b=lf(e,{boundary:c,rootBoundary:u,padding:h,altBoundary:d}),x=Ei(e.placement),_=_u(e.placement),w=!_,I=LC(x),N=FJ(I),R=e.modifiersData.popperOffsets,S=e.rects.reference,E=e.rects.popper,C=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,k=typeof C=="number"?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),A=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,M={x:0,y:0};if(R){if(i){var P,O=I==="y"?qr:Gr,V=I==="y"?Ns:Ds,B=I==="y"?"height":"width",z=R[I],U=z+b[O],F=z-b[V],L=m?-E[B]/2:0,H=_===vu?S[B]:E[B],q=_===vu?-E[B]:-S[B],K=e.elements.arrow,te=m&&K?OC(K):{width:0,height:0},me=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:nL(),Q=me[O],ce=me[V],ie=fh(0,S[B],te[B]),re=w?S[B]/2-L-ie-Q-k.mainAxis:H-ie-Q-k.mainAxis,ge=w?-S[B]/2+L+ie+ce+k.mainAxis:q+ie+ce+k.mainAxis,ee=e.elements.arrow&&Yf(e.elements.arrow),Y=ee?I==="y"?ee.clientTop||0:ee.clientLeft||0:0,W=(P=A==null?void 0:A[I])!=null?P:0,Z=z+re-W-Y,le=z+ge-W,be=fh(m?Wg(U,Z):U,z,m?hl(F,le):F);R[I]=be,M[I]=be-z}if(l){var Be,fe=I==="x"?qr:Gr,ve=I==="x"?Ns:Ds,Te=R[N],we=N==="y"?"height":"width",qe=Te+b[fe],Ve=Te-b[ve],Ue=[qr,Gr].indexOf(x)!==-1,Wt=(Be=A==null?void 0:A[N])!=null?Be:0,et=Ue?qe:Te-S[we]-E[we]-Wt+k.altAxis,it=Ue?Te+S[we]+E[we]-Wt-k.altAxis:Ve,Ze=m&&Ue?uJ(et,Te,it):fh(m?et:qe,Te,m?it:Ve);R[N]=Ze,M[N]=Ze-Te}e.modifiersData[r]=M}}const BJ={name:"preventOverflow",enabled:!0,phase:"main",fn:VJ,requiresIfExists:["offset"]};function UJ(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function zJ(t){return t===ds(t)||!Is(t)?$C(t):UJ(t)}function WJ(t){var e=t.getBoundingClientRect(),n=yu(e.width)/t.offsetWidth||1,r=yu(e.height)/t.offsetHeight||1;return n!==1||r!==1}function HJ(t,e,n){n===void 0&&(n=!1);var r=Is(e),s=Is(e)&&WJ(e),i=Ma(e),o=xu(t,s,n),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((Ai(e)!=="body"||VC(i))&&(l=zJ(e)),Is(e)?(c=xu(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):i&&(c.x=FC(i))),{x:o.left+l.scrollLeft-c.x,y:o.top+l.scrollTop-c.y,width:o.width,height:o.height}}function qJ(t){var e=new Map,n=new Set,r=[];t.forEach(function(i){e.set(i.name,i)});function s(i){n.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(l){if(!n.has(l)){var c=e.get(l);c&&s(c)}}),r.push(i)}return t.forEach(function(i){n.has(i.name)||s(i)}),r}function GJ(t){var e=qJ(t);return sJ.reduce(function(n,r){return n.concat(e.filter(function(s){return s.phase===r}))},[])}function YJ(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function KJ(t){var e=t.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var d2={placement:"bottom",modifiers:[],strategy:"absolute"};function h2(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function QJ(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,s=e.defaultOptions,i=s===void 0?d2:s;return function(l,c,u){u===void 0&&(u=i);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},d2,i),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},h=[],p=!1,m={state:d,setOptions:function(x){var _=typeof x=="function"?x(d.options):x;g(),d.options=Object.assign({},i,d.options,_),d.scrollParents={reference:Nl(l)?ph(l):l.contextElement?ph(l.contextElement):[],popper:ph(c)};var w=GJ(KJ([].concat(r,d.options.modifiers)));return d.orderedModifiers=w.filter(function(I){return I.enabled}),v(),m.update()},forceUpdate:function(){if(!p){var x=d.elements,_=x.reference,w=x.popper;if(h2(_,w)){d.rects={reference:HJ(_,Yf(w),d.options.strategy==="fixed"),popper:OC(w)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(k){return d.modifiersData[k.name]=Object.assign({},k.data)});for(var I=0;I<d.orderedModifiers.length;I++){if(d.reset===!0){d.reset=!1,I=-1;continue}var N=d.orderedModifiers[I],R=N.fn,S=N.options,E=S===void 0?{}:S,C=N.name;typeof R=="function"&&(d=R({state:d,options:E,name:C,instance:m})||d)}}}},update:YJ(function(){return new Promise(function(b){m.forceUpdate(),b(d)})}),destroy:function(){g(),p=!0}};if(!h2(l,c))return m;m.setOptions(u).then(function(b){!p&&u.onFirstUpdate&&u.onFirstUpdate(b)});function v(){d.orderedModifiers.forEach(function(b){var x=b.name,_=b.options,w=_===void 0?{}:_,I=b.effect;if(typeof I=="function"){var N=I({state:d,name:x,instance:m,options:w}),R=function(){};h.push(N||R)}})}function g(){h.forEach(function(b){return b()}),h=[]}return m}}var XJ=[_J,$J,yJ,aJ,OJ,AJ,BJ,pJ,DJ],JJ=QJ({defaultModifiers:XJ});function ZJ(t){return typeof t=="function"?t():t}const aL=y.forwardRef(function(e,n){const{children:r,container:s,disablePortal:i=!1}=e,[o,l]=y.useState(null),c=on(y.isValidElement(r)?Ou(r):null,n);if(Pr(()=>{i||l(ZJ(s)||document.body)},[s,i]),Pr(()=>{if(o&&!i)return R_(n,o),()=>{R_(n,null)}},[n,o,i]),i){if(y.isValidElement(r)){const u={ref:c};return y.cloneElement(r,u)}return a.jsx(y.Fragment,{children:r})}return a.jsx(y.Fragment,{children:o&&Nw.createPortal(r,o)})});function eZ(t){return Ee("MuiPopper",t)}Se("MuiPopper",["root"]);const tZ=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],nZ=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function rZ(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function wb(t){return typeof t=="function"?t():t}function sZ(t){return t.nodeType!==void 0}const iZ=t=>{const{classes:e}=t;return Re({root:["root"]},eZ,e)},oZ={},aZ=y.forwardRef(function(e,n){var r;const{anchorEl:s,children:i,direction:o,disablePortal:l,modifiers:c,open:u,placement:d,popperOptions:h,popperRef:p,slotProps:m={},slots:v={},TransitionProps:g}=e,b=oe(e,tZ),x=y.useRef(null),_=on(x,n),w=y.useRef(null),I=on(w,p),N=y.useRef(I);Pr(()=>{N.current=I},[I]),y.useImperativeHandle(p,()=>w.current,[]);const R=rZ(d,o),[S,E]=y.useState(R),[C,k]=y.useState(wb(s));y.useEffect(()=>{w.current&&w.current.forceUpdate()}),y.useEffect(()=>{s&&k(wb(s))},[s]),Pr(()=>{if(!C||!u)return;const V=U=>{E(U.placement)};let B=[{name:"preventOverflow",options:{altBoundary:l}},{name:"flip",options:{altBoundary:l}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:U})=>{V(U)}}];c!=null&&(B=B.concat(c)),h&&h.modifiers!=null&&(B=B.concat(h.modifiers));const z=JJ(C,x.current,j({placement:R},h,{modifiers:B}));return N.current(z),()=>{z.destroy(),N.current(null)}},[C,l,c,u,h,R]);const A={placement:S};g!==null&&(A.TransitionProps=g);const M=iZ(e),P=(r=v.root)!=null?r:"div",O=wl({elementType:P,externalSlotProps:m.root,externalForwardedProps:b,additionalProps:{role:"tooltip",ref:_},ownerState:e,className:M.root});return a.jsx(P,j({},O,{children:typeof i=="function"?i(A):i}))}),lZ=y.forwardRef(function(e,n){const{anchorEl:r,children:s,container:i,direction:o="ltr",disablePortal:l=!1,keepMounted:c=!1,modifiers:u,open:d,placement:h="bottom",popperOptions:p=oZ,popperRef:m,style:v,transition:g=!1,slotProps:b={},slots:x={}}=e,_=oe(e,nZ),[w,I]=y.useState(!0),N=()=>{I(!1)},R=()=>{I(!0)};if(!c&&!d&&(!g||w))return null;let S;if(i)S=i;else if(r){const k=wb(r);S=k&&sZ(k)?Rr(k).body:Rr(null).body}const E=!d&&c&&(!g||w)?"none":void 0,C=g?{in:d,onEnter:N,onExited:R}:void 0;return a.jsx(aL,{disablePortal:l,container:S,children:a.jsx(aZ,j({anchorEl:r,direction:o,disablePortal:l,modifiers:u,ref:n,open:g?!w:d,placement:h,popperOptions:p,popperRef:m,slotProps:b,slots:x},_,{style:j({position:"fixed",top:0,left:0,display:E},v),TransitionProps:C,children:s}))})}),cZ=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],uZ=X(lZ,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),lL=y.forwardRef(function(e,n){var r;const s=QO(),i=je({props:e,name:"MuiPopper"}),{anchorEl:o,component:l,components:c,componentsProps:u,container:d,disablePortal:h,keepMounted:p,modifiers:m,open:v,placement:g,popperOptions:b,popperRef:x,transition:_,slots:w,slotProps:I}=i,N=oe(i,cZ),R=(r=w==null?void 0:w.root)!=null?r:c==null?void 0:c.Root,S=j({anchorEl:o,container:d,disablePortal:h,keepMounted:p,modifiers:m,open:v,placement:g,popperOptions:b,popperRef:x,transition:_},N);return a.jsx(uZ,j({as:l,direction:s==null?void 0:s.direction,slots:{root:R},slotProps:I??u},S,{ref:n}))}),dZ=Ie(a.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function hZ(t){return Ee("MuiChip",t)}const Tt=Se("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),fZ=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],pZ=t=>{const{classes:e,disabled:n,size:r,color:s,iconColor:i,onDelete:o,clickable:l,variant:c}=t,u={root:["root",c,n&&"disabled",`size${se(r)}`,`color${se(s)}`,l&&"clickable",l&&`clickableColor${se(s)}`,o&&"deletable",o&&`deletableColor${se(s)}`,`${c}${se(s)}`],label:["label",`label${se(r)}`],avatar:["avatar",`avatar${se(r)}`,`avatarColor${se(s)}`],icon:["icon",`icon${se(r)}`,`iconColor${se(i)}`],deleteIcon:["deleteIcon",`deleteIcon${se(r)}`,`deleteIconColor${se(s)}`,`deleteIcon${se(c)}Color${se(s)}`]};return Re(u,hZ,e)},mZ=X("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{color:r,iconColor:s,clickable:i,onDelete:o,size:l,variant:c}=n;return[{[`& .${Tt.avatar}`]:e.avatar},{[`& .${Tt.avatar}`]:e[`avatar${se(l)}`]},{[`& .${Tt.avatar}`]:e[`avatarColor${se(r)}`]},{[`& .${Tt.icon}`]:e.icon},{[`& .${Tt.icon}`]:e[`icon${se(l)}`]},{[`& .${Tt.icon}`]:e[`iconColor${se(s)}`]},{[`& .${Tt.deleteIcon}`]:e.deleteIcon},{[`& .${Tt.deleteIcon}`]:e[`deleteIcon${se(l)}`]},{[`& .${Tt.deleteIcon}`]:e[`deleteIconColor${se(r)}`]},{[`& .${Tt.deleteIcon}`]:e[`deleteIcon${se(c)}Color${se(r)}`]},e.root,e[`size${se(l)}`],e[`color${se(r)}`],i&&e.clickable,i&&r!=="default"&&e[`clickableColor${se(r)})`],o&&e.deletable,o&&r!=="default"&&e[`deletableColor${se(r)}`],e[c],e[`${c}${se(r)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return j({maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Tt.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Tt.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:n,fontSize:t.typography.pxToRem(12)},[`& .${Tt.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${Tt.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${Tt.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${Tt.icon}`]:j({marginLeft:5,marginRight:-6},e.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},e.iconColor===e.color&&j({color:t.vars?t.vars.palette.Chip.defaultIconColor:n},e.color!=="default"&&{color:"inherit"})),[`& .${Tt.deleteIcon}`]:j({WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:lt(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:lt(t.palette.text.primary,.4)}},e.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},e.color!=="default"&&{color:t.vars?`rgba(${t.vars.palette[e.color].contrastTextChannel} / 0.7)`:lt(t.palette[e.color].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].contrastText}})},e.size==="small"&&{height:24},e.color!=="default"&&{backgroundColor:(t.vars||t).palette[e.color].main,color:(t.vars||t).palette[e.color].contrastText},e.onDelete&&{[`&.${Tt.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:lt(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},e.onDelete&&e.color!=="default"&&{[`&.${Tt.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}})},({theme:t,ownerState:e})=>j({},e.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:lt(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${Tt.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:lt(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}},e.clickable&&e.color!=="default"&&{[`&:hover, &.${Tt.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}}),({theme:t,ownerState:e})=>j({},e.variant==="outlined"&&{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${Tt.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${Tt.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${Tt.avatar}`]:{marginLeft:4},[`& .${Tt.avatarSmall}`]:{marginLeft:2},[`& .${Tt.icon}`]:{marginLeft:4},[`& .${Tt.iconSmall}`]:{marginLeft:2},[`& .${Tt.deleteIcon}`]:{marginRight:5},[`& .${Tt.deleteIconSmall}`]:{marginRight:3}},e.variant==="outlined"&&e.color!=="default"&&{color:(t.vars||t).palette[e.color].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:lt(t.palette[e.color].main,.7)}`,[`&.${Tt.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:lt(t.palette[e.color].main,t.palette.action.hoverOpacity)},[`&.${Tt.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.focusOpacity})`:lt(t.palette[e.color].main,t.palette.action.focusOpacity)},[`& .${Tt.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:lt(t.palette[e.color].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].main}}})),gZ=X("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:n}=t,{size:r}=n;return[e.label,e[`label${se(r)}`]]}})(({ownerState:t})=>j({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},t.variant==="outlined"&&{paddingLeft:11,paddingRight:11},t.size==="small"&&{paddingLeft:8,paddingRight:8},t.size==="small"&&t.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function f2(t){return t.key==="Backspace"||t.key==="Delete"}const Gs=y.forwardRef(function(e,n){const r=je({props:e,name:"MuiChip"}),{avatar:s,className:i,clickable:o,color:l="default",component:c,deleteIcon:u,disabled:d=!1,icon:h,label:p,onClick:m,onDelete:v,onKeyDown:g,onKeyUp:b,size:x="medium",variant:_="filled",tabIndex:w,skipFocusWhenDisabled:I=!1}=r,N=oe(r,fZ),R=y.useRef(null),S=on(R,n),E=F=>{F.stopPropagation(),v&&v(F)},C=F=>{F.currentTarget===F.target&&f2(F)&&F.preventDefault(),g&&g(F)},k=F=>{F.currentTarget===F.target&&(v&&f2(F)?v(F):F.key==="Escape"&&R.current&&R.current.blur()),b&&b(F)},A=o!==!1&&m?!0:o,M=A||v?Ea:c||"div",P=j({},r,{component:M,disabled:d,size:x,color:l,iconColor:y.isValidElement(h)&&h.props.color||l,onDelete:!!v,clickable:A,variant:_}),O=pZ(P),V=M===Ea?j({component:c||"div",focusVisibleClassName:O.focusVisible},v&&{disableRipple:!0}):{};let B=null;v&&(B=u&&y.isValidElement(u)?y.cloneElement(u,{className:ue(u.props.className,O.deleteIcon),onClick:E}):a.jsx(dZ,{className:ue(O.deleteIcon),onClick:E}));let z=null;s&&y.isValidElement(s)&&(z=y.cloneElement(s,{className:ue(O.avatar,s.props.className)}));let U=null;return h&&y.isValidElement(h)&&(U=y.cloneElement(h,{className:ue(O.icon,h.props.className)})),a.jsxs(mZ,j({as:M,className:ue(O.root,i),disabled:A&&d?!0:void 0,onClick:m,onKeyDown:C,onKeyUp:k,ref:S,tabIndex:I&&d?-1:w,ownerState:P},V,N,{children:[z||U,a.jsx(gZ,{className:ue(O.label),ownerState:P,children:p}),B]}))}),vZ=["onChange","maxRows","minRows","style","value"];function Hp(t){return parseInt(t,10)||0}const yZ={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function xZ(t){for(const e in t)return!1;return!0}function p2(t){return xZ(t)||t.outerHeightStyle===0&&!t.overflowing}const _Z=y.forwardRef(function(e,n){const{onChange:r,maxRows:s,minRows:i=1,style:o,value:l}=e,c=oe(e,vZ),{current:u}=y.useRef(l!=null),d=y.useRef(null),h=on(n,d),p=y.useRef(null),m=y.useRef(null),v=y.useCallback(()=>{const w=d.current,I=m.current;if(!w||!I)return;const R=bl(w).getComputedStyle(w);if(R.width==="0px")return{outerHeightStyle:0,overflowing:!1};I.style.width=R.width,I.value=w.value||e.placeholder||"x",I.value.slice(-1)===`
`&&(I.value+=" ");const S=R.boxSizing,E=Hp(R.paddingBottom)+Hp(R.paddingTop),C=Hp(R.borderBottomWidth)+Hp(R.borderTopWidth),k=I.scrollHeight;I.value="x";const A=I.scrollHeight;let M=k;i&&(M=Math.max(Number(i)*A,M)),s&&(M=Math.min(Number(s)*A,M)),M=Math.max(M,A);const P=M+(S==="border-box"?E+C:0),O=Math.abs(M-k)<=1;return{outerHeightStyle:P,overflowing:O}},[s,i,e.placeholder]),g=ct(()=>{const w=d.current,I=v();if(!w||!I||p2(I))return!1;const N=I.outerHeightStyle;return p.current!=null&&p.current!==N}),b=y.useCallback(()=>{const w=d.current,I=v();if(!w||!I||p2(I))return;const N=I.outerHeightStyle;p.current!==N&&(p.current=N,w.style.height=`${N}px`),w.style.overflow=I.overflowing?"hidden":""},[v]),x=y.useRef(-1);Pr(()=>{const w=NN(b),I=d==null?void 0:d.current;if(!I)return;const N=bl(I);N.addEventListener("resize",w);let R;return typeof ResizeObserver<"u"&&(R=new ResizeObserver(()=>{g()&&(R.unobserve(I),cancelAnimationFrame(x.current),b(),x.current=requestAnimationFrame(()=>{R.observe(I)}))}),R.observe(I)),()=>{w.clear(),cancelAnimationFrame(x.current),N.removeEventListener("resize",w),R&&R.disconnect()}},[v,b,g]),Pr(()=>{b()});const _=w=>{u||b(),r&&r(w)};return a.jsxs(y.Fragment,{children:[a.jsx("textarea",j({value:l,onChange:_,ref:h,rows:i,style:o},c)),a.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:m,tabIndex:-1,style:j({},yZ.shadow,o,{paddingTop:0,paddingBottom:0})})]})});function Oa({props:t,states:e,muiFormControl:n}){return e.reduce((r,s)=>(r[s]=t[s],n&&typeof t[s]>"u"&&(r[s]=n[s]),r),{})}const Ny=y.createContext(void 0);function Mi(){return y.useContext(Ny)}function m2(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function Hg(t,e=!1){return t&&(m2(t.value)&&t.value!==""||e&&m2(t.defaultValue)&&t.defaultValue!=="")}function bZ(t){return t.startAdornment}function wZ(t){return Ee("MuiInputBase",t)}const bu=Se("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),CZ=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],Dy=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${se(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},jy=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},TZ=t=>{const{classes:e,color:n,disabled:r,error:s,endAdornment:i,focused:o,formControl:l,fullWidth:c,hiddenLabel:u,multiline:d,readOnly:h,size:p,startAdornment:m,type:v}=t,g={root:["root",`color${se(n)}`,r&&"disabled",s&&"error",c&&"fullWidth",o&&"focused",l&&"formControl",p&&p!=="medium"&&`size${se(p)}`,d&&"multiline",m&&"adornedStart",i&&"adornedEnd",u&&"hiddenLabel",h&&"readOnly"],input:["input",r&&"disabled",v==="search"&&"inputTypeSearch",d&&"inputMultiline",p==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",m&&"inputAdornedStart",i&&"inputAdornedEnd",h&&"readOnly"]};return Re(g,wZ,e)},My=X("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Dy})(({theme:t,ownerState:e})=>j({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${bu.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&j({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),Oy=X("input",{name:"MuiInputBase",slot:"Input",overridesResolver:jy})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=j({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),s={opacity:"0 !important"},i=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return j({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${bu.formControl} &`]:{"&::-webkit-input-placeholder":s,"&::-moz-placeholder":s,"&:-ms-input-placeholder":s,"&::-ms-input-placeholder":s,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus:-ms-input-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${bu.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),EZ=a.jsx(tD,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),BC=y.forwardRef(function(e,n){var r;const s=je({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:o,autoFocus:l,className:c,components:u={},componentsProps:d={},defaultValue:h,disabled:p,disableInjectingGlobalStyles:m,endAdornment:v,fullWidth:g=!1,id:b,inputComponent:x="input",inputProps:_={},inputRef:w,maxRows:I,minRows:N,multiline:R=!1,name:S,onBlur:E,onChange:C,onClick:k,onFocus:A,onKeyDown:M,onKeyUp:P,placeholder:O,readOnly:V,renderSuffix:B,rows:z,slotProps:U={},slots:F={},startAdornment:L,type:H="text",value:q}=s,K=oe(s,CZ),te=_.value!=null?_.value:q,{current:me}=y.useRef(te!=null),Q=y.useRef(),ce=y.useCallback(Ze=>{},[]),ie=on(Q,w,_.ref,ce),[re,ge]=y.useState(!1),ee=Mi(),Y=Oa({props:s,muiFormControl:ee,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Y.focused=ee?ee.focused:re,y.useEffect(()=>{!ee&&p&&re&&(ge(!1),E&&E())},[ee,p,re,E]);const W=ee&&ee.onFilled,Z=ee&&ee.onEmpty,le=y.useCallback(Ze=>{Hg(Ze)?W&&W():Z&&Z()},[W,Z]);Pr(()=>{me&&le({value:te})},[te,le,me]);const be=Ze=>{if(Y.disabled){Ze.stopPropagation();return}A&&A(Ze),_.onFocus&&_.onFocus(Ze),ee&&ee.onFocus?ee.onFocus(Ze):ge(!0)},Be=Ze=>{E&&E(Ze),_.onBlur&&_.onBlur(Ze),ee&&ee.onBlur?ee.onBlur(Ze):ge(!1)},fe=(Ze,...$e)=>{if(!me){const en=Ze.target||Q.current;if(en==null)throw new Error(ho(1));le({value:en.value})}_.onChange&&_.onChange(Ze,...$e),C&&C(Ze,...$e)};y.useEffect(()=>{le(Q.current)},[]);const ve=Ze=>{Q.current&&Ze.currentTarget===Ze.target&&Q.current.focus(),k&&k(Ze)};let Te=x,we=_;R&&Te==="input"&&(z?we=j({type:void 0,minRows:z,maxRows:z},we):we=j({type:void 0,maxRows:I,minRows:N},we),Te=_Z);const qe=Ze=>{le(Ze.animationName==="mui-auto-fill-cancel"?Q.current:{value:"x"})};y.useEffect(()=>{ee&&ee.setAdornedStart(!!L)},[ee,L]);const Ve=j({},s,{color:Y.color||"primary",disabled:Y.disabled,endAdornment:v,error:Y.error,focused:Y.focused,formControl:ee,fullWidth:g,hiddenLabel:Y.hiddenLabel,multiline:R,size:Y.size,startAdornment:L,type:H}),Ue=TZ(Ve),Wt=F.root||u.Root||My,et=U.root||d.root||{},it=F.input||u.Input||Oy;return we=j({},we,(r=U.input)!=null?r:d.input),a.jsxs(y.Fragment,{children:[!m&&EZ,a.jsxs(Wt,j({},et,!su(Wt)&&{ownerState:j({},Ve,et.ownerState)},{ref:n,onClick:ve},K,{className:ue(Ue.root,et.className,c,V&&"MuiInputBase-readOnly"),children:[L,a.jsx(Ny.Provider,{value:null,children:a.jsx(it,j({ownerState:Ve,"aria-invalid":Y.error,"aria-describedby":i,autoComplete:o,autoFocus:l,defaultValue:h,disabled:Y.disabled,id:b,onAnimationStart:qe,name:S,placeholder:O,readOnly:V,required:Y.required,rows:z,value:te,onKeyDown:M,onKeyUp:P,type:H},we,!su(it)&&{as:Te,ownerState:j({},Ve,we.ownerState)},{ref:ie,className:ue(Ue.input,we.className,V&&"MuiInputBase-readOnly"),onBlur:Be,onChange:fe,onFocus:be}))}),v,B?B(j({},Y,{startAdornment:L})):null]}))]})});function SZ(t){return Ee("MuiInput",t)}const Ed=j({},bu,Se("MuiInput",["root","underline","input"]));function IZ(t){return Ee("MuiOutlinedInput",t)}const Oo=j({},bu,Se("MuiOutlinedInput",["root","notchedOutline","input"]));function kZ(t){return Ee("MuiFilledInput",t)}const Wa=j({},bu,Se("MuiFilledInput",["root","underline","input"])),RZ=Ie(a.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),PZ=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],AZ={entering:{opacity:1},entered:{opacity:1}},Kf=y.forwardRef(function(e,n){const r=Di(),s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:i,appear:o=!0,children:l,easing:c,in:u,onEnter:d,onEntered:h,onEntering:p,onExit:m,onExited:v,onExiting:g,style:b,timeout:x=s,TransitionComponent:_=Ls}=e,w=oe(e,PZ),I=y.useRef(null),N=on(I,Ou(l),n),R=O=>V=>{if(O){const B=I.current;V===void 0?O(B):O(B,V)}},S=R(p),E=R((O,V)=>{KO(O);const B=gu({style:b,timeout:x,easing:c},{mode:"enter"});O.style.webkitTransition=r.transitions.create("opacity",B),O.style.transition=r.transitions.create("opacity",B),d&&d(O,V)}),C=R(h),k=R(g),A=R(O=>{const V=gu({style:b,timeout:x,easing:c},{mode:"exit"});O.style.webkitTransition=r.transitions.create("opacity",V),O.style.transition=r.transitions.create("opacity",V),m&&m(O)}),M=R(v),P=O=>{i&&i(I.current,O)};return a.jsx(_,j({appear:o,in:u,nodeRef:I,onEnter:E,onEntered:C,onEntering:S,onExit:A,onExited:M,onExiting:k,addEndListener:P,timeout:x},w,{children:(O,V)=>y.cloneElement(l,j({style:j({opacity:0,visibility:O==="exited"&&!u?"hidden":void 0},AZ[O],b,l.props.style),ref:N},V))}))});function NZ(t){return Ee("MuiBackdrop",t)}Se("MuiBackdrop",["root","invisible"]);const DZ=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],jZ=t=>{const{classes:e,invisible:n}=t;return Re({root:["root",n&&"invisible"]},NZ,e)},MZ=X("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>j({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),cL=y.forwardRef(function(e,n){var r,s,i;const o=je({props:e,name:"MuiBackdrop"}),{children:l,className:c,component:u="div",components:d={},componentsProps:h={},invisible:p=!1,open:m,slotProps:v={},slots:g={},TransitionComponent:b=Kf,transitionDuration:x}=o,_=oe(o,DZ),w=j({},o,{component:u,invisible:p}),I=jZ(w),N=(r=v.root)!=null?r:h.root;return a.jsx(b,j({in:m,timeout:x},_,{children:a.jsx(MZ,j({"aria-hidden":!0},N,{as:(s=(i=g.root)!=null?i:d.Root)!=null?s:u,className:ue(I.root,c,N==null?void 0:N.className),ownerState:j({},w,N==null?void 0:N.ownerState),classes:I,ref:n,children:l}))}))}),OZ=Se("MuiBox",["root"]),LZ=r1(),he=m6({themeId:xl,defaultTheme:LZ,defaultClassName:OZ.root,generateClassName:wN.generate});function $Z(t){return Ee("MuiButton",t)}const qp=Se("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),FZ=y.createContext({}),VZ=y.createContext(void 0),BZ=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],UZ=t=>{const{color:e,disableElevation:n,fullWidth:r,size:s,variant:i,classes:o}=t,l={root:["root",i,`${i}${se(e)}`,`size${se(s)}`,`${i}Size${se(s)}`,`color${se(e)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${se(s)}`],endIcon:["icon","endIcon",`iconSize${se(s)}`]},c=Re(l,$Z,o);return j({},o,c)},uL=t=>j({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),zZ=X(Ea,{shouldForwardProp:t=>Xr(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${se(n.color)}`],e[`size${se(n.size)}`],e[`${n.variant}Size${se(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;const s=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],i=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return j({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":j({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:lt(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:lt(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:lt(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:i,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":j({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${qp.focusVisible}`]:j({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${qp.disabled}`]:j({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${lt(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:s,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${qp.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${qp.disabled}`]:{boxShadow:"none"}}),WZ=X("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${se(n.size)}`]]}})(({ownerState:t})=>j({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},uL(t))),HZ=X("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${se(n.size)}`]]}})(({ownerState:t})=>j({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},uL(t))),Ye=y.forwardRef(function(e,n){const r=y.useContext(FZ),s=y.useContext(VZ),i=Uh(r,e),o=je({props:i,name:"MuiButton"}),{children:l,color:c="primary",component:u="button",className:d,disabled:h=!1,disableElevation:p=!1,disableFocusRipple:m=!1,endIcon:v,focusVisibleClassName:g,fullWidth:b=!1,size:x="medium",startIcon:_,type:w,variant:I="text"}=o,N=oe(o,BZ),R=j({},o,{color:c,component:u,disabled:h,disableElevation:p,disableFocusRipple:m,fullWidth:b,size:x,type:w,variant:I}),S=UZ(R),E=_&&a.jsx(WZ,{className:S.startIcon,ownerState:R,children:_}),C=v&&a.jsx(HZ,{className:S.endIcon,ownerState:R,children:v}),k=s||"";return a.jsxs(zZ,j({ownerState:R,className:ue(r.className,S.root,d,k),component:u,disabled:h,focusRipple:!m,focusVisibleClassName:ue(S.focusVisible,g),ref:n,type:w},N,{classes:S,children:[E,l,C]}))});function qZ(t){return Ee("MuiCard",t)}Se("MuiCard",["root"]);const GZ=["className","raised"],YZ=t=>{const{classes:e}=t;return Re({root:["root"]},qZ,e)},KZ=X($s,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),gn=y.forwardRef(function(e,n){const r=je({props:e,name:"MuiCard"}),{className:s,raised:i=!1}=r,o=oe(r,GZ),l=j({},r,{raised:i}),c=YZ(l);return a.jsx(KZ,j({className:ue(c.root,s),elevation:i?8:void 0,ref:n,ownerState:l},o))});function QZ(t){return Ee("MuiCardActions",t)}Se("MuiCardActions",["root","spacing"]);const XZ=["disableSpacing","className"],JZ=t=>{const{classes:e,disableSpacing:n}=t;return Re({root:["root",!n&&"spacing"]},QZ,e)},ZZ=X("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})(({ownerState:t})=>j({display:"flex",alignItems:"center",padding:8},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),eee=y.forwardRef(function(e,n){const r=je({props:e,name:"MuiCardActions"}),{disableSpacing:s=!1,className:i}=r,o=oe(r,XZ),l=j({},r,{disableSpacing:s}),c=JZ(l);return a.jsx(ZZ,j({className:ue(c.root,i),ownerState:l,ref:n},o))});function tee(t){return Ee("MuiCardContent",t)}Se("MuiCardContent",["root"]);const nee=["className","component"],ree=t=>{const{classes:e}=t;return Re({root:["root"]},tee,e)},see=X("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),vn=y.forwardRef(function(e,n){const r=je({props:e,name:"MuiCardContent"}),{className:s,component:i="div"}=r,o=oe(r,nee),l=j({},r,{component:i}),c=ree(l);return a.jsx(see,j({as:i,className:ue(c.root,s),ownerState:l,ref:n},o))});function iee(t){return Ee("PrivateSwitchBase",t)}Se("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const oee=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],aee=t=>{const{classes:e,checked:n,disabled:r,edge:s}=t,i={root:["root",n&&"checked",r&&"disabled",s&&`edge${se(s)}`],input:["input"]};return Re(i,iee,e)},lee=X(Ea,{name:"MuiSwitchBase"})(({ownerState:t})=>j({padding:9,borderRadius:"50%"},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12})),cee=X("input",{name:"MuiSwitchBase",shouldForwardProp:Xr})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),dL=y.forwardRef(function(e,n){const{autoFocus:r,checked:s,checkedIcon:i,className:o,defaultChecked:l,disabled:c,disableFocusRipple:u=!1,edge:d=!1,icon:h,id:p,inputProps:m,inputRef:v,name:g,onBlur:b,onChange:x,onFocus:_,readOnly:w,required:I=!1,tabIndex:N,type:R,value:S}=e,E=oe(e,oee),[C,k]=ki({controlled:s,default:!!l,name:"SwitchBase",state:"checked"}),A=Mi(),M=F=>{_&&_(F),A&&A.onFocus&&A.onFocus(F)},P=F=>{b&&b(F),A&&A.onBlur&&A.onBlur(F)},O=F=>{if(F.nativeEvent.defaultPrevented)return;const L=F.target.checked;k(L),x&&x(F,L)};let V=c;A&&typeof V>"u"&&(V=A.disabled);const B=R==="checkbox"||R==="radio",z=j({},e,{checked:C,disabled:V,disableFocusRipple:u,edge:d}),U=aee(z);return a.jsxs(lee,j({component:"span",className:ue(U.root,o),centerRipple:!0,focusRipple:!u,disabled:V,tabIndex:null,role:void 0,onFocus:M,onBlur:P,ownerState:z,ref:n},E,{children:[a.jsx(cee,j({autoFocus:r,checked:s,defaultChecked:l,className:U.input,disabled:V,id:B?p:void 0,name:g,onChange:O,readOnly:w,ref:v,required:I,ownerState:z,tabIndex:N,type:R},R==="checkbox"&&S===void 0?{}:{value:S},m)),C?i:h]}))}),uee=Ie(a.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),dee=Ie(a.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),hee=Ie(a.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function fee(t){return Ee("MuiCheckbox",t)}const dx=Se("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),pee=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],mee=t=>{const{classes:e,indeterminate:n,color:r,size:s}=t,i={root:["root",n&&"indeterminate",`color${se(r)}`,`size${se(s)}`]},o=Re(i,fee,e);return j({},e,o)},gee=X(dL,{shouldForwardProp:t=>Xr(t)||t==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.indeterminate&&e.indeterminate,e[`size${se(n.size)}`],n.color!=="default"&&e[`color${se(n.color)}`]]}})(({theme:t,ownerState:e})=>j({color:(t.vars||t).palette.text.secondary},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${e.color==="default"?t.vars.palette.action.activeChannel:t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:lt(e.color==="default"?t.palette.action.active:t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.color!=="default"&&{[`&.${dx.checked}, &.${dx.indeterminate}`]:{color:(t.vars||t).palette[e.color].main},[`&.${dx.disabled}`]:{color:(t.vars||t).palette.action.disabled}})),vee=a.jsx(dee,{}),yee=a.jsx(uee,{}),xee=a.jsx(hee,{}),_ee=y.forwardRef(function(e,n){var r,s;const i=je({props:e,name:"MuiCheckbox"}),{checkedIcon:o=vee,color:l="primary",icon:c=yee,indeterminate:u=!1,indeterminateIcon:d=xee,inputProps:h,size:p="medium",className:m}=i,v=oe(i,pee),g=u?d:c,b=u?d:o,x=j({},i,{color:l,indeterminate:u,size:p}),_=mee(x);return a.jsx(gee,j({type:"checkbox",inputProps:j({"data-indeterminate":u},h),icon:y.cloneElement(g,{fontSize:(r=g.props.fontSize)!=null?r:p}),checkedIcon:y.cloneElement(b,{fontSize:(s=b.props.fontSize)!=null?s:p}),ownerState:x,ref:n,className:ue(_.root,m)},v,{classes:_}))});function bee(t){return Ee("MuiCircularProgress",t)}Se("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const wee=["className","color","disableShrink","size","style","thickness","value","variant"];let Ly=t=>t,g2,v2,y2,x2;const Lo=44,Cee=So(g2||(g2=Ly`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),Tee=So(v2||(v2=Ly`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),Eee=t=>{const{classes:e,variant:n,color:r,disableShrink:s}=t,i={root:["root",n,`color${se(r)}`],svg:["svg"],circle:["circle",`circle${se(n)}`,s&&"circleDisableShrink"]};return Re(i,bee,e)},See=X("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${se(n.color)}`]]}})(({ownerState:t,theme:e})=>j({display:"inline-block"},t.variant==="determinate"&&{transition:e.transitions.create("transform")},t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&$l(y2||(y2=Ly`
      animation: ${0} 1.4s linear infinite;
    `),Cee)),Iee=X("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),kee=X("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${se(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(({ownerState:t,theme:e})=>j({stroke:"currentColor"},t.variant==="determinate"&&{transition:e.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&$l(x2||(x2=Ly`
      animation: ${0} 1.4s ease-in-out infinite;
    `),Tee)),Si=y.forwardRef(function(e,n){const r=je({props:e,name:"MuiCircularProgress"}),{className:s,color:i="primary",disableShrink:o=!1,size:l=40,style:c,thickness:u=3.6,value:d=0,variant:h="indeterminate"}=r,p=oe(r,wee),m=j({},r,{color:i,disableShrink:o,size:l,thickness:u,value:d,variant:h}),v=Eee(m),g={},b={},x={};if(h==="determinate"){const _=2*Math.PI*((Lo-u)/2);g.strokeDasharray=_.toFixed(3),x["aria-valuenow"]=Math.round(d),g.strokeDashoffset=`${((100-d)/100*_).toFixed(3)}px`,b.transform="rotate(-90deg)"}return a.jsx(See,j({className:ue(v.root,s),style:j({width:l,height:l},b,c),ownerState:m,ref:n,role:"progressbar"},x,p,{children:a.jsx(Iee,{className:v.svg,ownerState:m,viewBox:`${Lo/2} ${Lo/2} ${Lo} ${Lo}`,children:a.jsx(kee,{className:v.circle,style:g,ownerState:m,cx:Lo,cy:Lo,r:(Lo-u)/2,fill:"none",strokeWidth:u})})}))}),hL=fB({createStyledComponent:X("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${se(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemeProps:t=>je({props:t,name:"MuiContainer"})});function Ree(t){const e=Rr(t);return e.body===t?bl(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function mh(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function _2(t){return parseInt(bl(t).getComputedStyle(t).paddingRight,10)||0}function Pee(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function b2(t,e,n,r,s){const i=[e,n,...r];[].forEach.call(t.children,o=>{const l=i.indexOf(o)===-1,c=!Pee(o);l&&c&&mh(o,s)})}function hx(t,e){let n=-1;return t.some((r,s)=>e(r)?(n=s,!0):!1),n}function Aee(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(Ree(r)){const o=jN(Rr(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${_2(r)+o}px`;const l=Rr(r).querySelectorAll(".mui-fixed");[].forEach.call(l,c=>{n.push({value:c.style.paddingRight,property:"padding-right",el:c}),c.style.paddingRight=`${_2(c)+o}px`})}let i;if(r.parentNode instanceof DocumentFragment)i=Rr(r).body;else{const o=r.parentElement,l=bl(r);i=(o==null?void 0:o.nodeName)==="HTML"&&l.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:i.style.overflow,property:"overflow",el:i},{value:i.style.overflowX,property:"overflow-x",el:i},{value:i.style.overflowY,property:"overflow-y",el:i}),i.style.overflow="hidden"}return()=>{n.forEach(({value:i,el:o,property:l})=>{i?o.style.setProperty(l,i):o.style.removeProperty(l)})}}function Nee(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class Dee{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&mh(e.modalRef,!1);const s=Nee(n);b2(n,e.mount,e.modalRef,s,!0);const i=hx(this.containers,o=>o.container===n);return i!==-1?(this.containers[i].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:s}),r)}mount(e,n){const r=hx(this.containers,i=>i.modals.indexOf(e)!==-1),s=this.containers[r];s.restore||(s.restore=Aee(s,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const s=hx(this.containers,o=>o.modals.indexOf(e)!==-1),i=this.containers[s];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(r,1),i.modals.length===0)i.restore&&i.restore(),e.modalRef&&mh(e.modalRef,n),b2(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(s,1);else{const o=i.modals[i.modals.length-1];o.modalRef&&mh(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const jee=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Mee(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function Oee(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function Lee(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||Oee(t))}function $ee(t){const e=[],n=[];return Array.from(t.querySelectorAll(jee)).forEach((r,s)=>{const i=Mee(r);i===-1||!Lee(r)||(i===0?e.push(r):n.push({documentOrder:s,tabIndex:i,node:r}))}),n.sort((r,s)=>r.tabIndex===s.tabIndex?r.documentOrder-s.documentOrder:r.tabIndex-s.tabIndex).map(r=>r.node).concat(e)}function Fee(){return!0}function Vee(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:s=!1,getTabbable:i=$ee,isEnabled:o=Fee,open:l}=t,c=y.useRef(!1),u=y.useRef(null),d=y.useRef(null),h=y.useRef(null),p=y.useRef(null),m=y.useRef(!1),v=y.useRef(null),g=on(Ou(e),v),b=y.useRef(null);y.useEffect(()=>{!l||!v.current||(m.current=!n)},[n,l]),y.useEffect(()=>{if(!l||!v.current)return;const w=Rr(v.current);return v.current.contains(w.activeElement)||(v.current.hasAttribute("tabIndex")||v.current.setAttribute("tabIndex","-1"),m.current&&v.current.focus()),()=>{s||(h.current&&h.current.focus&&(c.current=!0,h.current.focus()),h.current=null)}},[l]),y.useEffect(()=>{if(!l||!v.current)return;const w=Rr(v.current),I=S=>{b.current=S,!(r||!o()||S.key!=="Tab")&&w.activeElement===v.current&&S.shiftKey&&(c.current=!0,d.current&&d.current.focus())},N=()=>{const S=v.current;if(S===null)return;if(!w.hasFocus()||!o()||c.current){c.current=!1;return}if(S.contains(w.activeElement)||r&&w.activeElement!==u.current&&w.activeElement!==d.current)return;if(w.activeElement!==p.current)p.current=null;else if(p.current!==null)return;if(!m.current)return;let E=[];if((w.activeElement===u.current||w.activeElement===d.current)&&(E=i(v.current)),E.length>0){var C,k;const A=!!((C=b.current)!=null&&C.shiftKey&&((k=b.current)==null?void 0:k.key)==="Tab"),M=E[0],P=E[E.length-1];typeof M!="string"&&typeof P!="string"&&(A?P.focus():M.focus())}else S.focus()};w.addEventListener("focusin",N),w.addEventListener("keydown",I,!0);const R=setInterval(()=>{w.activeElement&&w.activeElement.tagName==="BODY"&&N()},50);return()=>{clearInterval(R),w.removeEventListener("focusin",N),w.removeEventListener("keydown",I,!0)}},[n,r,s,o,l,i]);const x=w=>{h.current===null&&(h.current=w.relatedTarget),m.current=!0,p.current=w.target;const I=e.props.onFocus;I&&I(w)},_=w=>{h.current===null&&(h.current=w.relatedTarget),m.current=!0};return a.jsxs(y.Fragment,{children:[a.jsx("div",{tabIndex:l?0:-1,onFocus:_,ref:u,"data-testid":"sentinelStart"}),y.cloneElement(e,{ref:g,onFocus:x}),a.jsx("div",{tabIndex:l?0:-1,onFocus:_,ref:d,"data-testid":"sentinelEnd"})]})}function Bee(t){return typeof t=="function"?t():t}function Uee(t){return t?t.props.hasOwnProperty("in"):!1}const zee=new Dee;function Wee(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:s=zee,closeAfterTransition:i=!1,onTransitionEnter:o,onTransitionExited:l,children:c,onClose:u,open:d,rootRef:h}=t,p=y.useRef({}),m=y.useRef(null),v=y.useRef(null),g=on(v,h),[b,x]=y.useState(!d),_=Uee(c);let w=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(w=!1);const I=()=>Rr(m.current),N=()=>(p.current.modalRef=v.current,p.current.mount=m.current,p.current),R=()=>{s.mount(N(),{disableScrollLock:r}),v.current&&(v.current.scrollTop=0)},S=ct(()=>{const B=Bee(e)||I().body;s.add(N(),B),v.current&&R()}),E=y.useCallback(()=>s.isTopModal(N()),[s]),C=ct(B=>{m.current=B,B&&(d&&E()?R():v.current&&mh(v.current,w))}),k=y.useCallback(()=>{s.remove(N(),w)},[w,s]);y.useEffect(()=>()=>{k()},[k]),y.useEffect(()=>{d?S():(!_||!i)&&k()},[d,k,_,i,S]);const A=B=>z=>{var U;(U=B.onKeyDown)==null||U.call(B,z),!(z.key!=="Escape"||z.which===229||!E())&&(n||(z.stopPropagation(),u&&u(z,"escapeKeyDown")))},M=B=>z=>{var U;(U=B.onClick)==null||U.call(B,z),z.target===z.currentTarget&&u&&u(z,"backdropClick")};return{getRootProps:(B={})=>{const z=MN(t);delete z.onTransitionEnter,delete z.onTransitionExited;const U=j({},z,B);return j({role:"presentation"},U,{onKeyDown:A(U),ref:g})},getBackdropProps:(B={})=>{const z=B;return j({"aria-hidden":!0},z,{onClick:M(z),open:d})},getTransitionProps:()=>{const B=()=>{x(!1),o&&o()},z=()=>{x(!0),l&&l(),i&&k()};return{onEnter:CS(B,c==null?void 0:c.props.onEnter),onExited:CS(z,c==null?void 0:c.props.onExited)}},rootRef:g,portalRef:C,isTopModal:E,exited:b,hasTransition:_}}function Hee(t){return Ee("MuiModal",t)}Se("MuiModal",["root","hidden","backdrop"]);const qee=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],Gee=t=>{const{open:e,exited:n,classes:r}=t;return Re({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},Hee,r)},Yee=X("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>j({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),Kee=X(cL,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),fL=y.forwardRef(function(e,n){var r,s,i,o,l,c;const u=je({name:"MuiModal",props:e}),{BackdropComponent:d=Kee,BackdropProps:h,className:p,closeAfterTransition:m=!1,children:v,container:g,component:b,components:x={},componentsProps:_={},disableAutoFocus:w=!1,disableEnforceFocus:I=!1,disableEscapeKeyDown:N=!1,disablePortal:R=!1,disableRestoreFocus:S=!1,disableScrollLock:E=!1,hideBackdrop:C=!1,keepMounted:k=!1,onBackdropClick:A,open:M,slotProps:P,slots:O}=u,V=oe(u,qee),B=j({},u,{closeAfterTransition:m,disableAutoFocus:w,disableEnforceFocus:I,disableEscapeKeyDown:N,disablePortal:R,disableRestoreFocus:S,disableScrollLock:E,hideBackdrop:C,keepMounted:k}),{getRootProps:z,getBackdropProps:U,getTransitionProps:F,portalRef:L,isTopModal:H,exited:q,hasTransition:K}=Wee(j({},B,{rootRef:n})),te=j({},B,{exited:q}),me=Gee(te),Q={};if(v.props.tabIndex===void 0&&(Q.tabIndex="-1"),K){const{onEnter:W,onExited:Z}=F();Q.onEnter=W,Q.onExited=Z}const ce=(r=(s=O==null?void 0:O.root)!=null?s:x.Root)!=null?r:Yee,ie=(i=(o=O==null?void 0:O.backdrop)!=null?o:x.Backdrop)!=null?i:d,re=(l=P==null?void 0:P.root)!=null?l:_.root,ge=(c=P==null?void 0:P.backdrop)!=null?c:_.backdrop,ee=wl({elementType:ce,externalSlotProps:re,externalForwardedProps:V,getSlotProps:z,additionalProps:{ref:n,as:b},ownerState:te,className:ue(p,re==null?void 0:re.className,me==null?void 0:me.root,!te.open&&te.exited&&(me==null?void 0:me.hidden))}),Y=wl({elementType:ie,externalSlotProps:ge,additionalProps:h,getSlotProps:W=>U(j({},W,{onClick:Z=>{A&&A(Z),W!=null&&W.onClick&&W.onClick(Z)}})),className:ue(ge==null?void 0:ge.className,h==null?void 0:h.className,me==null?void 0:me.backdrop),ownerState:te});return!k&&!M&&(!K||q)?null:a.jsx(aL,{ref:L,container:g,disablePortal:R,children:a.jsxs(ce,j({},ee,{children:[!C&&d?a.jsx(ie,j({},Y)):null,a.jsx(Vee,{disableEnforceFocus:I,disableAutoFocus:w,disableRestoreFocus:S,isEnabled:H,open:M,children:y.cloneElement(v,Q)})]}))})});function Qee(t){return Ee("MuiDialog",t)}const fx=Se("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),pL=y.createContext({}),Xee=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],Jee=X(cL,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),Zee=t=>{const{classes:e,scroll:n,maxWidth:r,fullWidth:s,fullScreen:i}=t,o={root:["root"],container:["container",`scroll${se(n)}`],paper:["paper",`paperScroll${se(n)}`,`paperWidth${se(String(r))}`,s&&"paperFullWidth",i&&"paperFullScreen"]};return Re(o,Qee,e)},ete=X(fL,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),tte=X("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${se(n.scroll)}`]]}})(({ownerState:t})=>j({height:"100%","@media print":{height:"auto"},outline:0},t.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},t.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),nte=X($s,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${se(n.scroll)}`],e[`paperWidth${se(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(({theme:t,ownerState:e})=>j({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},e.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},e.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!e.maxWidth&&{maxWidth:"calc(100% - 64px)"},e.maxWidth==="xs"&&{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${fx.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.maxWidth&&e.maxWidth!=="xs"&&{maxWidth:`${t.breakpoints.values[e.maxWidth]}${t.breakpoints.unit}`,[`&.${fx.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.fullWidth&&{width:"calc(100% - 64px)"},e.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${fx.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),ro=y.forwardRef(function(e,n){const r=je({props:e,name:"MuiDialog"}),s=Di(),i={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":l,BackdropComponent:c,BackdropProps:u,children:d,className:h,disableEscapeKeyDown:p=!1,fullScreen:m=!1,fullWidth:v=!1,maxWidth:g="sm",onBackdropClick:b,onClick:x,onClose:_,open:w,PaperComponent:I=$s,PaperProps:N={},scroll:R="paper",TransitionComponent:S=Kf,transitionDuration:E=i,TransitionProps:C}=r,k=oe(r,Xee),A=j({},r,{disableEscapeKeyDown:p,fullScreen:m,fullWidth:v,maxWidth:g,scroll:R}),M=Zee(A),P=y.useRef(),O=U=>{P.current=U.target===U.currentTarget},V=U=>{x&&x(U),P.current&&(P.current=null,b&&b(U),_&&_(U,"backdropClick"))},B=Mu(l),z=y.useMemo(()=>({titleId:B}),[B]);return a.jsx(ete,j({className:ue(M.root,h),closeAfterTransition:!0,components:{Backdrop:Jee},componentsProps:{backdrop:j({transitionDuration:E,as:c},u)},disableEscapeKeyDown:p,onClose:_,open:w,ref:n,onClick:V,ownerState:A},k,{children:a.jsx(S,j({appear:!0,in:w,timeout:E,role:"presentation"},C,{children:a.jsx(tte,{className:ue(M.container),onMouseDown:O,ownerState:A,children:a.jsx(nte,j({as:I,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":B},N,{className:ue(M.paper,N.className),ownerState:A,children:a.jsx(pL.Provider,{value:z,children:d})}))})}))}))});function rte(t){return Ee("MuiDialogActions",t)}Se("MuiDialogActions",["root","spacing"]);const ste=["className","disableSpacing"],ite=t=>{const{classes:e,disableSpacing:n}=t;return Re({root:["root",!n&&"spacing"]},rte,e)},ote=X("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})(({ownerState:t})=>j({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),ga=y.forwardRef(function(e,n){const r=je({props:e,name:"MuiDialogActions"}),{className:s,disableSpacing:i=!1}=r,o=oe(r,ste),l=j({},r,{disableSpacing:i}),c=ite(l);return a.jsx(ote,j({className:ue(c.root,s),ownerState:l,ref:n},o))});function ate(t){return Ee("MuiDialogContent",t)}Se("MuiDialogContent",["root","dividers"]);function lte(t){return Ee("MuiDialogTitle",t)}const cte=Se("MuiDialogTitle",["root"]),ute=["className","dividers"],dte=t=>{const{classes:e,dividers:n}=t;return Re({root:["root",n&&"dividers"]},ate,e)},hte=X("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.dividers&&e.dividers]}})(({theme:t,ownerState:e})=>j({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},e.dividers?{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}:{[`.${cte.root} + &`]:{paddingTop:0}})),so=y.forwardRef(function(e,n){const r=je({props:e,name:"MuiDialogContent"}),{className:s,dividers:i=!1}=r,o=oe(r,ute),l=j({},r,{dividers:i}),c=dte(l);return a.jsx(hte,j({className:ue(c.root,s),ownerState:l,ref:n},o))}),fte=["className","id"],pte=t=>{const{classes:e}=t;return Re({root:["root"]},lte,e)},mte=X(ne,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),va=y.forwardRef(function(e,n){const r=je({props:e,name:"MuiDialogTitle"}),{className:s,id:i}=r,o=oe(r,fte),l=r,c=pte(l),{titleId:u=i}=y.useContext(pL);return a.jsx(mte,j({component:"h2",className:ue(c.root,s),ownerState:l,ref:n,variant:"h6",id:i??u},o))});function gte(t){return Ee("MuiDivider",t)}const w2=Se("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),vte=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],yte=t=>{const{absolute:e,children:n,classes:r,flexItem:s,light:i,orientation:o,textAlign:l,variant:c}=t;return Re({root:["root",e&&"absolute",c,i&&"light",o==="vertical"&&"vertical",s&&"flexItem",n&&"withChildren",n&&o==="vertical"&&"withChildrenVertical",l==="right"&&o!=="vertical"&&"textAlignRight",l==="left"&&o!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",o==="vertical"&&"wrapperVertical"]},gte,r)},xte=X("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(({theme:t,ownerState:e})=>j({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},e.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},e.light&&{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:lt(t.palette.divider,.08)},e.variant==="inset"&&{marginLeft:72},e.variant==="middle"&&e.orientation==="horizontal"&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},e.variant==="middle"&&e.orientation==="vertical"&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},e.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},e.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:t})=>j({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:t,ownerState:e})=>j({},e.children&&e.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}),({theme:t,ownerState:e})=>j({},e.children&&e.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}),({ownerState:t})=>j({},t.textAlign==="right"&&t.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},t.textAlign==="left"&&t.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),_te=X("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(({theme:t,ownerState:e})=>j({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},e.orientation==="vertical"&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})),mL=y.forwardRef(function(e,n){const r=je({props:e,name:"MuiDivider"}),{absolute:s=!1,children:i,className:o,component:l=i?"div":"hr",flexItem:c=!1,light:u=!1,orientation:d="horizontal",role:h=l!=="hr"?"separator":void 0,textAlign:p="center",variant:m="fullWidth"}=r,v=oe(r,vte),g=j({},r,{absolute:s,component:l,flexItem:c,light:u,orientation:d,role:h,textAlign:p,variant:m}),b=yte(g);return a.jsx(xte,j({as:l,className:ue(b.root,o),role:h,ref:n,ownerState:g},v,{children:i?a.jsx(_te,{className:b.wrapper,ownerState:g,children:i}):null}))});mL.muiSkipListHighlight=!0;const bte=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],wte=t=>{const{classes:e,disableUnderline:n}=t,s=Re({root:["root",!n&&"underline"],input:["input"]},kZ,e);return j({},e,s)},Cte=X(My,{shouldForwardProp:t=>Xr(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Dy(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",s=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",l=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return j({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i}},[`&.${Wa.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i},[`&.${Wa.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:l}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Wa.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Wa.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:s}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Wa.disabled}, .${Wa.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Wa.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&j({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),Tte=X(Oy,{name:"MuiFilledInput",slot:"Input",overridesResolver:jy})(({theme:t,ownerState:e})=>j({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),UC=y.forwardRef(function(e,n){var r,s,i,o;const l=je({props:e,name:"MuiFilledInput"}),{components:c={},componentsProps:u,fullWidth:d=!1,inputComponent:h="input",multiline:p=!1,slotProps:m,slots:v={},type:g="text"}=l,b=oe(l,bte),x=j({},l,{fullWidth:d,inputComponent:h,multiline:p,type:g}),_=wte(l),w={root:{ownerState:x},input:{ownerState:x}},I=m??u?kr(w,m??u):w,N=(r=(s=v.root)!=null?s:c.Root)!=null?r:Cte,R=(i=(o=v.input)!=null?o:c.Input)!=null?i:Tte;return a.jsx(BC,j({slots:{root:N,input:R},componentsProps:I,fullWidth:d,inputComponent:h,multiline:p,ref:n,type:g},b,{classes:_}))});UC.muiName="Input";function Ete(t){return Ee("MuiFormControl",t)}Se("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Ste=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],Ite=t=>{const{classes:e,margin:n,fullWidth:r}=t,s={root:["root",n!=="none"&&`margin${se(n)}`,r&&"fullWidth"]};return Re(s,Ete,e)},kte=X("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>j({},e.root,e[`margin${se(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>j({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),Ii=y.forwardRef(function(e,n){const r=je({props:e,name:"MuiFormControl"}),{children:s,className:i,color:o="primary",component:l="div",disabled:c=!1,error:u=!1,focused:d,fullWidth:h=!1,hiddenLabel:p=!1,margin:m="none",required:v=!1,size:g="medium",variant:b="outlined"}=r,x=oe(r,Ste),_=j({},r,{color:o,component:l,disabled:c,error:u,fullWidth:h,hiddenLabel:p,margin:m,required:v,size:g,variant:b}),w=Ite(_),[I,N]=y.useState(()=>{let P=!1;return s&&y.Children.forEach(s,O=>{if(!ym(O,["Input","Select"]))return;const V=ym(O,["Select"])?O.props.input:O;V&&bZ(V.props)&&(P=!0)}),P}),[R,S]=y.useState(()=>{let P=!1;return s&&y.Children.forEach(s,O=>{ym(O,["Input","Select"])&&(Hg(O.props,!0)||Hg(O.props.inputProps,!0))&&(P=!0)}),P}),[E,C]=y.useState(!1);c&&E&&C(!1);const k=d!==void 0&&!c?d:E;let A;const M=y.useMemo(()=>({adornedStart:I,setAdornedStart:N,color:o,disabled:c,error:u,filled:R,focused:k,fullWidth:h,hiddenLabel:p,size:g,onBlur:()=>{C(!1)},onEmpty:()=>{S(!1)},onFilled:()=>{S(!0)},onFocus:()=>{C(!0)},registerEffect:A,required:v,variant:b}),[I,o,c,u,R,k,h,p,A,v,g,b]);return a.jsx(Ny.Provider,{value:M,children:a.jsx(kte,j({as:l,ownerState:_,className:ue(w.root,i),ref:n},x,{children:s}))})}),Rte=bB({createStyledComponent:X("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>je({props:t,name:"MuiStack"})});function Pte(t){return Ee("MuiFormControlLabel",t)}const qd=Se("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),Ate=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],Nte=t=>{const{classes:e,disabled:n,labelPlacement:r,error:s,required:i}=t,o={root:["root",n&&"disabled",`labelPlacement${se(r)}`,s&&"error",i&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",s&&"error"]};return Re(o,Pte,e)},Dte=X("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${qd.label}`]:e.label},e.root,e[`labelPlacement${se(n.labelPlacement)}`]]}})(({theme:t,ownerState:e})=>j({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${qd.disabled}`]:{cursor:"default"}},e.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},e.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},e.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${qd.label}`]:{[`&.${qd.disabled}`]:{color:(t.vars||t).palette.text.disabled}}})),jte=X("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${qd.error}`]:{color:(t.vars||t).palette.error.main}})),qg=y.forwardRef(function(e,n){var r,s;const i=je({props:e,name:"MuiFormControlLabel"}),{className:o,componentsProps:l={},control:c,disabled:u,disableTypography:d,label:h,labelPlacement:p="end",required:m,slotProps:v={}}=i,g=oe(i,Ate),b=Mi(),x=(r=u??c.props.disabled)!=null?r:b==null?void 0:b.disabled,_=m??c.props.required,w={disabled:x,required:_};["checked","name","onChange","value","inputRef"].forEach(C=>{typeof c.props[C]>"u"&&typeof i[C]<"u"&&(w[C]=i[C])});const I=Oa({props:i,muiFormControl:b,states:["error"]}),N=j({},i,{disabled:x,labelPlacement:p,required:_,error:I.error}),R=Nte(N),S=(s=v.typography)!=null?s:l.typography;let E=h;return E!=null&&E.type!==ne&&!d&&(E=a.jsx(ne,j({component:"span"},S,{className:ue(R.label,S==null?void 0:S.className),children:E}))),a.jsxs(Dte,j({className:ue(R.root,o),ownerState:N,ref:n},g,{children:[y.cloneElement(c,w),_?a.jsxs(Rte,{display:"block",children:[E,a.jsxs(jte,{ownerState:N,"aria-hidden":!0,className:R.asterisk,children:[" ","*"]})]}):E]}))});function Mte(t){return Ee("MuiFormGroup",t)}Se("MuiFormGroup",["root","row","error"]);const Ote=["className","row"],Lte=t=>{const{classes:e,row:n,error:r}=t;return Re({root:["root",n&&"row",r&&"error"]},Mte,e)},$te=X("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.row&&e.row]}})(({ownerState:t})=>j({display:"flex",flexDirection:"column",flexWrap:"wrap"},t.row&&{flexDirection:"row"})),Fte=y.forwardRef(function(e,n){const r=je({props:e,name:"MuiFormGroup"}),{className:s,row:i=!1}=r,o=oe(r,Ote),l=Mi(),c=Oa({props:r,muiFormControl:l,states:["error"]}),u=j({},r,{row:i,error:c.error}),d=Lte(u);return a.jsx($te,j({className:ue(d.root,s),ownerState:u,ref:n},o))});function Vte(t){return Ee("MuiFormHelperText",t)}const C2=Se("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var T2;const Bte=["children","className","component","disabled","error","filled","focused","margin","required","variant"],Ute=t=>{const{classes:e,contained:n,size:r,disabled:s,error:i,filled:o,focused:l,required:c}=t,u={root:["root",s&&"disabled",i&&"error",r&&`size${se(r)}`,n&&"contained",l&&"focused",o&&"filled",c&&"required"]};return Re(u,Vte,e)},zte=X("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${se(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>j({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${C2.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${C2.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),Wte=y.forwardRef(function(e,n){const r=je({props:e,name:"MuiFormHelperText"}),{children:s,className:i,component:o="p"}=r,l=oe(r,Bte),c=Mi(),u=Oa({props:r,muiFormControl:c,states:["variant","size","disabled","error","filled","focused","required"]}),d=j({},r,{component:o,contained:u.variant==="filled"||u.variant==="outlined",variant:u.variant,size:u.size,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),h=Ute(d);return a.jsx(zte,j({as:o,ownerState:d,className:ue(h.root,i),ref:n},l,{children:s===" "?T2||(T2=a.jsx("span",{className:"notranslate",children:"​"})):s}))});function Hte(t){return Ee("MuiFormLabel",t)}const gh=Se("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),qte=["children","className","color","component","disabled","error","filled","focused","required"],Gte=t=>{const{classes:e,color:n,focused:r,disabled:s,error:i,filled:o,required:l}=t,c={root:["root",`color${se(n)}`,s&&"disabled",i&&"error",o&&"filled",r&&"focused",l&&"required"],asterisk:["asterisk",i&&"error"]};return Re(c,Hte,e)},Yte=X("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>j({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>j({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${gh.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${gh.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${gh.error}`]:{color:(t.vars||t).palette.error.main}})),Kte=X("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${gh.error}`]:{color:(t.vars||t).palette.error.main}})),gL=y.forwardRef(function(e,n){const r=je({props:e,name:"MuiFormLabel"}),{children:s,className:i,component:o="label"}=r,l=oe(r,qte),c=Mi(),u=Oa({props:r,muiFormControl:c,states:["color","required","focused","disabled","error","filled"]}),d=j({},r,{color:u.color||"primary",component:o,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),h=Gte(d);return a.jsxs(Yte,j({as:o,ownerState:d,className:ue(h.root,i),ref:n},l,{children:[s,u.required&&a.jsxs(Kte,{ownerState:d,"aria-hidden":!0,className:h.asterisk,children:[" ","*"]})]}))}),E2=y.createContext();function Qte(t){return Ee("MuiGrid",t)}const Xte=[0,1,2,3,4,5,6,7,8,9,10],Jte=["column-reverse","column","row-reverse","row"],Zte=["nowrap","wrap-reverse","wrap"],Sd=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],cf=Se("MuiGrid",["root","container","item","zeroMinWidth",...Xte.map(t=>`spacing-xs-${t}`),...Jte.map(t=>`direction-xs-${t}`),...Zte.map(t=>`wrap-xs-${t}`),...Sd.map(t=>`grid-xs-${t}`),...Sd.map(t=>`grid-sm-${t}`),...Sd.map(t=>`grid-md-${t}`),...Sd.map(t=>`grid-lg-${t}`),...Sd.map(t=>`grid-xl-${t}`)]),ene=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Wc(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}function tne({theme:t,ownerState:e}){let n;return t.breakpoints.keys.reduce((r,s)=>{let i={};if(e[s]&&(n=e[s]),!n)return r;if(n===!0)i={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")i={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const o=cl({values:e.columns,breakpoints:t.breakpoints.values}),l=typeof o=="object"?o[s]:o;if(l==null)return r;const c=`${Math.round(n/l*1e8)/1e6}%`;let u={};if(e.container&&e.item&&e.columnSpacing!==0){const d=t.spacing(e.columnSpacing);if(d!=="0px"){const h=`calc(${c} + ${Wc(d)})`;u={flexBasis:h,maxWidth:h}}}i=j({flexBasis:c,flexGrow:0,maxWidth:c},u)}return t.breakpoints.values[s]===0?Object.assign(r,i):r[t.breakpoints.up(s)]=i,r},{})}function nne({theme:t,ownerState:e}){const n=cl({values:e.direction,breakpoints:t.breakpoints.values});return Kr({theme:t},n,r=>{const s={flexDirection:r};return r.indexOf("column")===0&&(s[`& > .${cf.item}`]={maxWidth:"none"}),s})}function vL({breakpoints:t,values:e}){let n="";Object.keys(e).forEach(s=>{n===""&&e[s]!==0&&(n=s)});const r=Object.keys(t).sort((s,i)=>t[s]-t[i]);return r.slice(0,r.indexOf(n))}function rne({theme:t,ownerState:e}){const{container:n,rowSpacing:r}=e;let s={};if(n&&r!==0){const i=cl({values:r,breakpoints:t.breakpoints.values});let o;typeof i=="object"&&(o=vL({breakpoints:t.breakpoints.values,values:i})),s=Kr({theme:t},i,(l,c)=>{var u;const d=t.spacing(l);return d!=="0px"?{marginTop:`-${Wc(d)}`,[`& > .${cf.item}`]:{paddingTop:Wc(d)}}:(u=o)!=null&&u.includes(c)?{}:{marginTop:0,[`& > .${cf.item}`]:{paddingTop:0}}})}return s}function sne({theme:t,ownerState:e}){const{container:n,columnSpacing:r}=e;let s={};if(n&&r!==0){const i=cl({values:r,breakpoints:t.breakpoints.values});let o;typeof i=="object"&&(o=vL({breakpoints:t.breakpoints.values,values:i})),s=Kr({theme:t},i,(l,c)=>{var u;const d=t.spacing(l);return d!=="0px"?{width:`calc(100% + ${Wc(d)})`,marginLeft:`-${Wc(d)}`,[`& > .${cf.item}`]:{paddingLeft:Wc(d)}}:(u=o)!=null&&u.includes(c)?{}:{width:"100%",marginLeft:0,[`& > .${cf.item}`]:{paddingLeft:0}}})}return s}function ine(t,e,n={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[n[`spacing-xs-${String(t)}`]];const r=[];return e.forEach(s=>{const i=t[s];Number(i)>0&&r.push(n[`spacing-${s}-${String(i)}`])}),r}const one=X("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{container:r,direction:s,item:i,spacing:o,wrap:l,zeroMinWidth:c,breakpoints:u}=n;let d=[];r&&(d=ine(o,u,e));const h=[];return u.forEach(p=>{const m=n[p];m&&h.push(e[`grid-${p}-${String(m)}`])}),[e.root,r&&e.container,i&&e.item,c&&e.zeroMinWidth,...d,s!=="row"&&e[`direction-xs-${String(s)}`],l!=="wrap"&&e[`wrap-xs-${String(l)}`],...h]}})(({ownerState:t})=>j({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},t.wrap!=="wrap"&&{flexWrap:t.wrap}),nne,rne,sne,tne);function ane(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const n=[];return e.forEach(r=>{const s=t[r];if(Number(s)>0){const i=`spacing-${r}-${String(s)}`;n.push(i)}}),n}const lne=t=>{const{classes:e,container:n,direction:r,item:s,spacing:i,wrap:o,zeroMinWidth:l,breakpoints:c}=t;let u=[];n&&(u=ane(i,c));const d=[];c.forEach(p=>{const m=t[p];m&&d.push(`grid-${p}-${String(m)}`)});const h={root:["root",n&&"container",s&&"item",l&&"zeroMinWidth",...u,r!=="row"&&`direction-xs-${String(r)}`,o!=="wrap"&&`wrap-xs-${String(o)}`,...d]};return Re(h,Qte,e)},Et=y.forwardRef(function(e,n){const r=je({props:e,name:"MuiGrid"}),{breakpoints:s}=Di(),i=Ef(r),{className:o,columns:l,columnSpacing:c,component:u="div",container:d=!1,direction:h="row",item:p=!1,rowSpacing:m,spacing:v=0,wrap:g="wrap",zeroMinWidth:b=!1}=i,x=oe(i,ene),_=m||v,w=c||v,I=y.useContext(E2),N=d?l||12:I,R={},S=j({},x);s.keys.forEach(k=>{x[k]!=null&&(R[k]=x[k],delete S[k])});const E=j({},i,{columns:N,container:d,direction:h,item:p,rowSpacing:_,columnSpacing:w,wrap:g,zeroMinWidth:b,spacing:v},R,{breakpoints:s.keys}),C=lne(E);return a.jsx(E2.Provider,{value:N,children:a.jsx(one,j({ownerState:E,className:ue(C.root,o),as:u,ref:n},S))})}),cne=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Cb(t){return`scale(${t}, ${t**2})`}const une={entering:{opacity:1,transform:Cb(1)},entered:{opacity:1,transform:"none"}},px=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Gg=y.forwardRef(function(e,n){const{addEndListener:r,appear:s=!0,children:i,easing:o,in:l,onEnter:c,onEntered:u,onEntering:d,onExit:h,onExited:p,onExiting:m,style:v,timeout:g="auto",TransitionComponent:b=Ls}=e,x=oe(e,cne),_=nl(),w=y.useRef(),I=Di(),N=y.useRef(null),R=on(N,Ou(i),n),S=V=>B=>{if(V){const z=N.current;B===void 0?V(z):V(z,B)}},E=S(d),C=S((V,B)=>{KO(V);const{duration:z,delay:U,easing:F}=gu({style:v,timeout:g,easing:o},{mode:"enter"});let L;g==="auto"?(L=I.transitions.getAutoHeightDuration(V.clientHeight),w.current=L):L=z,V.style.transition=[I.transitions.create("opacity",{duration:L,delay:U}),I.transitions.create("transform",{duration:px?L:L*.666,delay:U,easing:F})].join(","),c&&c(V,B)}),k=S(u),A=S(m),M=S(V=>{const{duration:B,delay:z,easing:U}=gu({style:v,timeout:g,easing:o},{mode:"exit"});let F;g==="auto"?(F=I.transitions.getAutoHeightDuration(V.clientHeight),w.current=F):F=B,V.style.transition=[I.transitions.create("opacity",{duration:F,delay:z}),I.transitions.create("transform",{duration:px?F:F*.666,delay:px?z:z||F*.333,easing:U})].join(","),V.style.opacity=0,V.style.transform=Cb(.75),h&&h(V)}),P=S(p),O=V=>{g==="auto"&&_.start(w.current||0,V),r&&r(N.current,V)};return a.jsx(b,j({appear:s,in:l,nodeRef:N,onEnter:C,onEntered:k,onEntering:E,onExit:M,onExited:P,onExiting:A,addEndListener:O,timeout:g==="auto"?null:g},x,{children:(V,B)=>y.cloneElement(i,j({style:j({opacity:0,transform:Cb(.75),visibility:V==="exited"&&!l?"hidden":void 0},une[V],v,i.props.style),ref:R},B))}))});Gg.muiSupportAuto=!0;const dne=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],hne=t=>{const{classes:e,disableUnderline:n}=t,s=Re({root:["root",!n&&"underline"],input:["input"]},SZ,e);return j({},e,s)},fne=X(My,{shouldForwardProp:t=>Xr(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Dy(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),j({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Ed.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Ed.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Ed.disabled}, .${Ed.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Ed.disabled}:before`]:{borderBottomStyle:"dotted"}})}),pne=X(Oy,{name:"MuiInput",slot:"Input",overridesResolver:jy})({}),zC=y.forwardRef(function(e,n){var r,s,i,o;const l=je({props:e,name:"MuiInput"}),{disableUnderline:c,components:u={},componentsProps:d,fullWidth:h=!1,inputComponent:p="input",multiline:m=!1,slotProps:v,slots:g={},type:b="text"}=l,x=oe(l,dne),_=hne(l),I={root:{ownerState:{disableUnderline:c}}},N=v??d?kr(v??d,I):I,R=(r=(s=g.root)!=null?s:u.Root)!=null?r:fne,S=(i=(o=g.input)!=null?o:u.Input)!=null?i:pne;return a.jsx(BC,j({slots:{root:R,input:S},slotProps:N,fullWidth:h,inputComponent:p,multiline:m,ref:n,type:b},x,{classes:_}))});zC.muiName="Input";function mne(t){return Ee("MuiInputAdornment",t)}const S2=Se("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var I2;const gne=["children","className","component","disablePointerEvents","disableTypography","position","variant"],vne=(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${se(n.position)}`],n.disablePointerEvents===!0&&e.disablePointerEvents,e[n.variant]]},yne=t=>{const{classes:e,disablePointerEvents:n,hiddenLabel:r,position:s,size:i,variant:o}=t,l={root:["root",n&&"disablePointerEvents",s&&`position${se(s)}`,o,r&&"hiddenLabel",i&&`size${se(i)}`]};return Re(l,mne,e)},xne=X("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:vne})(({theme:t,ownerState:e})=>j({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},e.variant==="filled"&&{[`&.${S2.positionStart}&:not(.${S2.hiddenLabel})`]:{marginTop:16}},e.position==="start"&&{marginRight:8},e.position==="end"&&{marginLeft:8},e.disablePointerEvents===!0&&{pointerEvents:"none"})),_ne=y.forwardRef(function(e,n){const r=je({props:e,name:"MuiInputAdornment"}),{children:s,className:i,component:o="div",disablePointerEvents:l=!1,disableTypography:c=!1,position:u,variant:d}=r,h=oe(r,gne),p=Mi()||{};let m=d;d&&p.variant,p&&!m&&(m=p.variant);const v=j({},r,{hiddenLabel:p.hiddenLabel,size:p.size,disablePointerEvents:l,position:u,variant:m}),g=yne(v);return a.jsx(Ny.Provider,{value:null,children:a.jsx(xne,j({as:o,ownerState:v,className:ue(g.root,i),ref:n},h,{children:typeof s=="string"&&!c?a.jsx(ne,{color:"text.secondary",children:s}):a.jsxs(y.Fragment,{children:[u==="start"?I2||(I2=a.jsx("span",{className:"notranslate",children:"​"})):null,s]})}))})});function bne(t){return Ee("MuiInputLabel",t)}Se("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const wne=["disableAnimation","margin","shrink","variant","className"],Cne=t=>{const{classes:e,formControl:n,size:r,shrink:s,disableAnimation:i,variant:o,required:l}=t,c={root:["root",n&&"formControl",!i&&"animated",s&&"shrink",r&&r!=="normal"&&`size${se(r)}`,o],asterisk:[l&&"asterisk"]},u=Re(c,bne,e);return j({},e,u)},Tne=X(gL,{shouldForwardProp:t=>Xr(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${gh.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(({theme:t,ownerState:e})=>j({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&j({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&j({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&j({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),wo=y.forwardRef(function(e,n){const r=je({name:"MuiInputLabel",props:e}),{disableAnimation:s=!1,shrink:i,className:o}=r,l=oe(r,wne),c=Mi();let u=i;typeof u>"u"&&c&&(u=c.filled||c.focused||c.adornedStart);const d=Oa({props:r,muiFormControl:c,states:["size","variant","required","focused"]}),h=j({},r,{disableAnimation:s,formControl:c,shrink:u,size:d.size,variant:d.variant,required:d.required,focused:d.focused}),p=Cne(h);return a.jsx(Tne,j({"data-shrink":u,ownerState:h,ref:n,className:ue(p.root,o)},l,{classes:p}))});function Ene(t){return Ee("MuiLinearProgress",t)}Se("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const Sne=["className","color","value","valueBuffer","variant"];let Qu=t=>t,k2,R2,P2,A2,N2,D2;const Tb=4,Ine=So(k2||(k2=Qu`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),kne=So(R2||(R2=Qu`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),Rne=So(P2||(P2=Qu`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),Pne=t=>{const{classes:e,variant:n,color:r}=t,s={root:["root",`color${se(r)}`,n],dashed:["dashed",`dashedColor${se(r)}`],bar1:["bar",`barColor${se(r)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar",n!=="buffer"&&`barColor${se(r)}`,n==="buffer"&&`color${se(r)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return Re(s,Ene,e)},WC=(t,e)=>e==="inherit"?"currentColor":t.vars?t.vars.palette.LinearProgress[`${e}Bg`]:t.palette.mode==="light"?ou(t.palette[e].main,.62):iu(t.palette[e].main,.5),Ane=X("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`color${se(n.color)}`],e[n.variant]]}})(({ownerState:t,theme:e})=>j({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:WC(e,t.color)},t.color==="inherit"&&t.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},t.variant==="buffer"&&{backgroundColor:"transparent"},t.variant==="query"&&{transform:"rotate(180deg)"})),Nne=X("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.dashed,e[`dashedColor${se(n.color)}`]]}})(({ownerState:t,theme:e})=>{const n=WC(e,t.color);return j({position:"absolute",marginTop:0,height:"100%",width:"100%"},t.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},$l(A2||(A2=Qu`
    animation: ${0} 3s infinite linear;
  `),Rne)),Dne=X("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e[`barColor${se(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar1Indeterminate,n.variant==="determinate"&&e.bar1Determinate,n.variant==="buffer"&&e.bar1Buffer]}})(({ownerState:t,theme:e})=>j({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:t.color==="inherit"?"currentColor":(e.vars||e).palette[t.color].main},t.variant==="determinate"&&{transition:`transform .${Tb}s linear`},t.variant==="buffer"&&{zIndex:1,transition:`transform .${Tb}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&$l(N2||(N2=Qu`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),Ine)),jne=X("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e[`barColor${se(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar2Indeterminate,n.variant==="buffer"&&e.bar2Buffer]}})(({ownerState:t,theme:e})=>j({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},t.variant!=="buffer"&&{backgroundColor:t.color==="inherit"?"currentColor":(e.vars||e).palette[t.color].main},t.color==="inherit"&&{opacity:.3},t.variant==="buffer"&&{backgroundColor:WC(e,t.color),transition:`transform .${Tb}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&$l(D2||(D2=Qu`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),kne)),Nm=y.forwardRef(function(e,n){const r=je({props:e,name:"MuiLinearProgress"}),{className:s,color:i="primary",value:o,valueBuffer:l,variant:c="indeterminate"}=r,u=oe(r,Sne),d=j({},r,{color:i,variant:c}),h=Pne(d),p=Zw(),m={},v={bar1:{},bar2:{}};if((c==="determinate"||c==="buffer")&&o!==void 0){m["aria-valuenow"]=Math.round(o),m["aria-valuemin"]=0,m["aria-valuemax"]=100;let g=o-100;p&&(g=-g),v.bar1.transform=`translateX(${g}%)`}if(c==="buffer"&&l!==void 0){let g=(l||0)-100;p&&(g=-g),v.bar2.transform=`translateX(${g}%)`}return a.jsxs(Ane,j({className:ue(h.root,s),ownerState:d,role:"progressbar"},m,{ref:n},u,{children:[c==="buffer"?a.jsx(Nne,{className:h.dashed,ownerState:d}):null,a.jsx(Dne,{className:h.bar1,ownerState:d,style:v.bar1}),c==="determinate"?null:a.jsx(jne,{className:h.bar2,ownerState:d,style:v.bar2})]}))}),io=y.createContext({});function Mne(t){return Ee("MuiList",t)}Se("MuiList",["root","padding","dense","subheader"]);const One=["children","className","component","dense","disablePadding","subheader"],Lne=t=>{const{classes:e,disablePadding:n,dense:r,subheader:s}=t;return Re({root:["root",!n&&"padding",r&&"dense",s&&"subheader"]},Mne,e)},$ne=X("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>j({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),wu=y.forwardRef(function(e,n){const r=je({props:e,name:"MuiList"}),{children:s,className:i,component:o="ul",dense:l=!1,disablePadding:c=!1,subheader:u}=r,d=oe(r,One),h=y.useMemo(()=>({dense:l}),[l]),p=j({},r,{component:o,dense:l,disablePadding:c}),m=Lne(p);return a.jsx(io.Provider,{value:h,children:a.jsxs($ne,j({as:o,className:ue(m.root,i),ref:n,ownerState:p},d,{children:[u,s]}))})});function Fne(t){return Ee("MuiListItem",t)}const dc=Se("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),Vne=Se("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function Bne(t){return Ee("MuiListItemSecondaryAction",t)}Se("MuiListItemSecondaryAction",["root","disableGutters"]);const Une=["className"],zne=t=>{const{disableGutters:e,classes:n}=t;return Re({root:["root",e&&"disableGutters"]},Bne,n)},Wne=X("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.disableGutters&&e.disableGutters]}})(({ownerState:t})=>j({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})),kc=y.forwardRef(function(e,n){const r=je({props:e,name:"MuiListItemSecondaryAction"}),{className:s}=r,i=oe(r,Une),o=y.useContext(io),l=j({},r,{disableGutters:o.disableGutters}),c=zne(l);return a.jsx(Wne,j({className:ue(c.root,s),ownerState:l,ref:n},i))});kc.muiName="ListItemSecondaryAction";const Hne=["className"],qne=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],Gne=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters,!n.disablePadding&&e.padding,n.button&&e.button,n.hasSecondaryAction&&e.secondaryAction]},Yne=t=>{const{alignItems:e,button:n,classes:r,dense:s,disabled:i,disableGutters:o,disablePadding:l,divider:c,hasSecondaryAction:u,selected:d}=t;return Re({root:["root",s&&"dense",!o&&"gutters",!l&&"padding",c&&"divider",i&&"disabled",n&&"button",e==="flex-start"&&"alignItemsFlexStart",u&&"secondaryAction",d&&"selected"],container:["container"]},Fne,r)},Kne=X("div",{name:"MuiListItem",slot:"Root",overridesResolver:Gne})(({theme:t,ownerState:e})=>j({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!e.disablePadding&&j({paddingTop:8,paddingBottom:8},e.dense&&{paddingTop:4,paddingBottom:4},!e.disableGutters&&{paddingLeft:16,paddingRight:16},!!e.secondaryAction&&{paddingRight:48}),!!e.secondaryAction&&{[`& > .${Vne.root}`]:{paddingRight:48}},{[`&.${dc.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${dc.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:lt(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${dc.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:lt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${dc.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.alignItems==="flex-start"&&{alignItems:"flex-start"},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${dc.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:lt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:lt(t.palette.primary.main,t.palette.action.selectedOpacity)}}},e.hasSecondaryAction&&{paddingRight:48})),Qne=X("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),Xi=y.forwardRef(function(e,n){const r=je({props:e,name:"MuiListItem"}),{alignItems:s="center",autoFocus:i=!1,button:o=!1,children:l,className:c,component:u,components:d={},componentsProps:h={},ContainerComponent:p="li",ContainerProps:{className:m}={},dense:v=!1,disabled:g=!1,disableGutters:b=!1,disablePadding:x=!1,divider:_=!1,focusVisibleClassName:w,secondaryAction:I,selected:N=!1,slotProps:R={},slots:S={}}=r,E=oe(r.ContainerProps,Hne),C=oe(r,qne),k=y.useContext(io),A=y.useMemo(()=>({dense:v||k.dense||!1,alignItems:s,disableGutters:b}),[s,k.dense,v,b]),M=y.useRef(null);Pr(()=>{i&&M.current&&M.current.focus()},[i]);const P=y.Children.toArray(l),O=P.length&&ym(P[P.length-1],["ListItemSecondaryAction"]),V=j({},r,{alignItems:s,autoFocus:i,button:o,dense:A.dense,disabled:g,disableGutters:b,disablePadding:x,divider:_,hasSecondaryAction:O,selected:N}),B=Yne(V),z=on(M,n),U=S.root||d.Root||Kne,F=R.root||h.root||{},L=j({className:ue(B.root,F.className,c),disabled:g},C);let H=u||"li";return o&&(L.component=u||"div",L.focusVisibleClassName=ue(dc.focusVisible,w),H=Ea),O?(H=!L.component&&!u?"div":H,p==="li"&&(H==="li"?H="div":L.component==="li"&&(L.component="div")),a.jsx(io.Provider,{value:A,children:a.jsxs(Qne,j({as:p,className:ue(B.container,m),ref:z,ownerState:V},E,{children:[a.jsx(U,j({},F,!su(U)&&{as:H,ownerState:j({},V,F.ownerState)},L,{children:P})),P.pop()]}))})):a.jsx(io.Provider,{value:A,children:a.jsxs(U,j({},F,{as:H,ref:z},!su(U)&&{ownerState:j({},V,F.ownerState)},L,{children:[P,I&&a.jsx(kc,{children:I})]}))})});function Xne(t){return Ee("MuiListItemIcon",t)}const j2=Se("MuiListItemIcon",["root","alignItemsFlexStart"]),Jne=["className"],Zne=t=>{const{alignItems:e,classes:n}=t;return Re({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},Xne,n)},ere=X("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(({theme:t,ownerState:e})=>j({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex"},e.alignItems==="flex-start"&&{marginTop:8})),Dm=y.forwardRef(function(e,n){const r=je({props:e,name:"MuiListItemIcon"}),{className:s}=r,i=oe(r,Jne),o=y.useContext(io),l=j({},r,{alignItems:o.alignItems}),c=Zne(l);return a.jsx(ere,j({className:ue(c.root,s),ownerState:l,ref:n},i))});function tre(t){return Ee("MuiListItemText",t)}const Yg=Se("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),nre=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],rre=t=>{const{classes:e,inset:n,primary:r,secondary:s,dense:i}=t;return Re({root:["root",n&&"inset",i&&"dense",r&&s&&"multiline"],primary:["primary"],secondary:["secondary"]},tre,e)},sre=X("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Yg.primary}`]:e.primary},{[`& .${Yg.secondary}`]:e.secondary},e.root,n.inset&&e.inset,n.primary&&n.secondary&&e.multiline,n.dense&&e.dense]}})(({ownerState:t})=>j({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})),Ji=y.forwardRef(function(e,n){const r=je({props:e,name:"MuiListItemText"}),{children:s,className:i,disableTypography:o=!1,inset:l=!1,primary:c,primaryTypographyProps:u,secondary:d,secondaryTypographyProps:h}=r,p=oe(r,nre),{dense:m}=y.useContext(io);let v=c??s,g=d;const b=j({},r,{disableTypography:o,inset:l,primary:!!v,secondary:!!g,dense:m}),x=rre(b);return v!=null&&v.type!==ne&&!o&&(v=a.jsx(ne,j({variant:m?"body2":"body1",className:x.primary,component:u!=null&&u.variant?void 0:"span",display:"block"},u,{children:v}))),g!=null&&g.type!==ne&&!o&&(g=a.jsx(ne,j({variant:"body2",className:x.secondary,color:"text.secondary",display:"block"},h,{children:g}))),a.jsxs(sre,j({className:ue(x.root,i),ownerState:b,ref:n},p,{children:[v,g]}))}),ire=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function mx(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function M2(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function yL(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function Id(t,e,n,r,s,i){let o=!1,l=s(t,e,e?n:!1);for(;l;){if(l===t.firstChild){if(o)return!1;o=!0}const c=r?!1:l.disabled||l.getAttribute("aria-disabled")==="true";if(!l.hasAttribute("tabindex")||!yL(l,i)||c)l=s(t,l,n);else return l.focus(),!0}return!1}const ore=y.forwardRef(function(e,n){const{actions:r,autoFocus:s=!1,autoFocusItem:i=!1,children:o,className:l,disabledItemsFocusable:c=!1,disableListWrap:u=!1,onKeyDown:d,variant:h="selectedMenu"}=e,p=oe(e,ire),m=y.useRef(null),v=y.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Pr(()=>{s&&m.current.focus()},[s]),y.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(w,{direction:I})=>{const N=!m.current.style.width;if(w.clientHeight<m.current.clientHeight&&N){const R=`${jN(Rr(w))}px`;m.current.style[I==="rtl"?"paddingLeft":"paddingRight"]=R,m.current.style.width=`calc(100% + ${R})`}return m.current}}),[]);const g=w=>{const I=m.current,N=w.key,R=Rr(I).activeElement;if(N==="ArrowDown")w.preventDefault(),Id(I,R,u,c,mx);else if(N==="ArrowUp")w.preventDefault(),Id(I,R,u,c,M2);else if(N==="Home")w.preventDefault(),Id(I,null,u,c,mx);else if(N==="End")w.preventDefault(),Id(I,null,u,c,M2);else if(N.length===1){const S=v.current,E=N.toLowerCase(),C=performance.now();S.keys.length>0&&(C-S.lastTime>500?(S.keys=[],S.repeating=!0,S.previousKeyMatched=!0):S.repeating&&E!==S.keys[0]&&(S.repeating=!1)),S.lastTime=C,S.keys.push(E);const k=R&&!S.repeating&&yL(R,S);S.previousKeyMatched&&(k||Id(I,R,!1,c,mx,S))?w.preventDefault():S.previousKeyMatched=!1}d&&d(w)},b=on(m,n);let x=-1;y.Children.forEach(o,(w,I)=>{if(!y.isValidElement(w)){x===I&&(x+=1,x>=o.length&&(x=-1));return}w.props.disabled||(h==="selectedMenu"&&w.props.selected||x===-1)&&(x=I),x===I&&(w.props.disabled||w.props.muiSkipListHighlight||w.type.muiSkipListHighlight)&&(x+=1,x>=o.length&&(x=-1))});const _=y.Children.map(o,(w,I)=>{if(I===x){const N={};return i&&(N.autoFocus=!0),w.props.tabIndex===void 0&&h==="selectedMenu"&&(N.tabIndex=0),y.cloneElement(w,N)}return w});return a.jsx(wu,j({role:"menu",ref:b,className:l,onKeyDown:g,tabIndex:s?0:-1},p,{children:_}))});function are(t){return Ee("MuiPopover",t)}Se("MuiPopover",["root","paper"]);const lre=["onEntering"],cre=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],ure=["slotProps"];function O2(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function L2(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function $2(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function gx(t){return typeof t=="function"?t():t}const dre=t=>{const{classes:e}=t;return Re({root:["root"],paper:["paper"]},are,e)},hre=X(fL,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),xL=X($s,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),fre=y.forwardRef(function(e,n){var r,s,i;const o=je({props:e,name:"MuiPopover"}),{action:l,anchorEl:c,anchorOrigin:u={vertical:"top",horizontal:"left"},anchorPosition:d,anchorReference:h="anchorEl",children:p,className:m,container:v,elevation:g=8,marginThreshold:b=16,open:x,PaperProps:_={},slots:w,slotProps:I,transformOrigin:N={vertical:"top",horizontal:"left"},TransitionComponent:R=Gg,transitionDuration:S="auto",TransitionProps:{onEntering:E}={},disableScrollLock:C=!1}=o,k=oe(o.TransitionProps,lre),A=oe(o,cre),M=(r=I==null?void 0:I.paper)!=null?r:_,P=y.useRef(),O=on(P,M.ref),V=j({},o,{anchorOrigin:u,anchorReference:h,elevation:g,marginThreshold:b,externalPaperSlotProps:M,transformOrigin:N,TransitionComponent:R,transitionDuration:S,TransitionProps:k}),B=dre(V),z=y.useCallback(()=>{if(h==="anchorPosition")return d;const W=gx(c),le=(W&&W.nodeType===1?W:Rr(P.current).body).getBoundingClientRect();return{top:le.top+O2(le,u.vertical),left:le.left+L2(le,u.horizontal)}},[c,u.horizontal,u.vertical,d,h]),U=y.useCallback(W=>({vertical:O2(W,N.vertical),horizontal:L2(W,N.horizontal)}),[N.horizontal,N.vertical]),F=y.useCallback(W=>{const Z={width:W.offsetWidth,height:W.offsetHeight},le=U(Z);if(h==="none")return{top:null,left:null,transformOrigin:$2(le)};const be=z();let Be=be.top-le.vertical,fe=be.left-le.horizontal;const ve=Be+Z.height,Te=fe+Z.width,we=bl(gx(c)),qe=we.innerHeight-b,Ve=we.innerWidth-b;if(b!==null&&Be<b){const Ue=Be-b;Be-=Ue,le.vertical+=Ue}else if(b!==null&&ve>qe){const Ue=ve-qe;Be-=Ue,le.vertical+=Ue}if(b!==null&&fe<b){const Ue=fe-b;fe-=Ue,le.horizontal+=Ue}else if(Te>Ve){const Ue=Te-Ve;fe-=Ue,le.horizontal+=Ue}return{top:`${Math.round(Be)}px`,left:`${Math.round(fe)}px`,transformOrigin:$2(le)}},[c,h,z,U,b]),[L,H]=y.useState(x),q=y.useCallback(()=>{const W=P.current;if(!W)return;const Z=F(W);Z.top!==null&&(W.style.top=Z.top),Z.left!==null&&(W.style.left=Z.left),W.style.transformOrigin=Z.transformOrigin,H(!0)},[F]);y.useEffect(()=>(C&&window.addEventListener("scroll",q),()=>window.removeEventListener("scroll",q)),[c,C,q]);const K=(W,Z)=>{E&&E(W,Z),q()},te=()=>{H(!1)};y.useEffect(()=>{x&&q()}),y.useImperativeHandle(l,()=>x?{updatePosition:()=>{q()}}:null,[x,q]),y.useEffect(()=>{if(!x)return;const W=NN(()=>{q()}),Z=bl(c);return Z.addEventListener("resize",W),()=>{W.clear(),Z.removeEventListener("resize",W)}},[c,x,q]);let me=S;S==="auto"&&!R.muiSupportAuto&&(me=void 0);const Q=v||(c?Rr(gx(c)).body:void 0),ce=(s=w==null?void 0:w.root)!=null?s:hre,ie=(i=w==null?void 0:w.paper)!=null?i:xL,re=wl({elementType:ie,externalSlotProps:j({},M,{style:L?M.style:j({},M.style,{opacity:0})}),additionalProps:{elevation:g,ref:O},ownerState:V,className:ue(B.paper,M==null?void 0:M.className)}),ge=wl({elementType:ce,externalSlotProps:(I==null?void 0:I.root)||{},externalForwardedProps:A,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:Q,open:x},ownerState:V,className:ue(B.root,m)}),{slotProps:ee}=ge,Y=oe(ge,ure);return a.jsx(ce,j({},Y,!su(ce)&&{slotProps:ee,disableScrollLock:C},{children:a.jsx(R,j({appear:!0,in:x,onEntering:K,onExited:te,timeout:me},k,{children:a.jsx(ie,j({},re,{children:p}))}))}))});function pre(t){return Ee("MuiMenu",t)}Se("MuiMenu",["root","paper","list"]);const mre=["onEntering"],gre=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],vre={vertical:"top",horizontal:"right"},yre={vertical:"top",horizontal:"left"},xre=t=>{const{classes:e}=t;return Re({root:["root"],paper:["paper"],list:["list"]},pre,e)},_re=X(fre,{shouldForwardProp:t=>Xr(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),bre=X(xL,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),wre=X(ore,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),Cre=y.forwardRef(function(e,n){var r,s;const i=je({props:e,name:"MuiMenu"}),{autoFocus:o=!0,children:l,className:c,disableAutoFocusItem:u=!1,MenuListProps:d={},onClose:h,open:p,PaperProps:m={},PopoverClasses:v,transitionDuration:g="auto",TransitionProps:{onEntering:b}={},variant:x="selectedMenu",slots:_={},slotProps:w={}}=i,I=oe(i.TransitionProps,mre),N=oe(i,gre),R=Zw(),S=j({},i,{autoFocus:o,disableAutoFocusItem:u,MenuListProps:d,onEntering:b,PaperProps:m,transitionDuration:g,TransitionProps:I,variant:x}),E=xre(S),C=o&&!u&&p,k=y.useRef(null),A=(U,F)=>{k.current&&k.current.adjustStyleForScrollbar(U,{direction:R?"rtl":"ltr"}),b&&b(U,F)},M=U=>{U.key==="Tab"&&(U.preventDefault(),h&&h(U,"tabKeyDown"))};let P=-1;y.Children.map(l,(U,F)=>{y.isValidElement(U)&&(U.props.disabled||(x==="selectedMenu"&&U.props.selected||P===-1)&&(P=F))});const O=(r=_.paper)!=null?r:bre,V=(s=w.paper)!=null?s:m,B=wl({elementType:_.root,externalSlotProps:w.root,ownerState:S,className:[E.root,c]}),z=wl({elementType:O,externalSlotProps:V,ownerState:S,className:E.paper});return a.jsx(_re,j({onClose:h,anchorOrigin:{vertical:"bottom",horizontal:R?"right":"left"},transformOrigin:R?vre:yre,slots:{paper:O,root:_.root},slotProps:{root:B,paper:z},open:p,ref:n,transitionDuration:g,TransitionProps:j({onEntering:A},I),ownerState:S},N,{classes:v,children:a.jsx(wre,j({onKeyDown:M,actions:k,autoFocus:o&&(P===-1||u),autoFocusItem:C,variant:x},d,{className:ue(E.list,d.className),children:l}))}))});function Tre(t){return Ee("MuiMenuItem",t)}const kd=Se("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Ere=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],Sre=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},Ire=t=>{const{disabled:e,dense:n,divider:r,disableGutters:s,selected:i,classes:o}=t,c=Re({root:["root",n&&"dense",e&&"disabled",!s&&"gutters",r&&"divider",i&&"selected"]},Tre,o);return j({},o,c)},kre=X(Ea,{shouldForwardProp:t=>Xr(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Sre})(({theme:t,ownerState:e})=>j({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${kd.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:lt(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${kd.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:lt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${kd.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:lt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:lt(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${kd.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${kd.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${w2.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${w2.inset}`]:{marginLeft:52},[`& .${Yg.root}`]:{marginTop:0,marginBottom:0},[`& .${Yg.inset}`]:{paddingLeft:36},[`& .${j2.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&j({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${j2.root} svg`]:{fontSize:"1.25rem"}}))),Rn=y.forwardRef(function(e,n){const r=je({props:e,name:"MuiMenuItem"}),{autoFocus:s=!1,component:i="li",dense:o=!1,divider:l=!1,disableGutters:c=!1,focusVisibleClassName:u,role:d="menuitem",tabIndex:h,className:p}=r,m=oe(r,Ere),v=y.useContext(io),g=y.useMemo(()=>({dense:o||v.dense||!1,disableGutters:c}),[v.dense,o,c]),b=y.useRef(null);Pr(()=>{s&&b.current&&b.current.focus()},[s]);const x=j({},r,{dense:g.dense,divider:l,disableGutters:c}),_=Ire(r),w=on(b,n);let I;return r.disabled||(I=h!==void 0?h:-1),a.jsx(io.Provider,{value:g,children:a.jsx(kre,j({ref:w,role:d,tabIndex:I,component:i,focusVisibleClassName:ue(_.focusVisible,u),className:ue(_.root,p)},m,{ownerState:x,classes:_}))})});function Rre(t){return Ee("MuiNativeSelect",t)}const HC=Se("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Pre=["className","disabled","error","IconComponent","inputRef","variant"],Are=t=>{const{classes:e,variant:n,disabled:r,multiple:s,open:i,error:o}=t,l={select:["select",n,r&&"disabled",s&&"multiple",o&&"error"],icon:["icon",`icon${se(n)}`,i&&"iconOpen",r&&"disabled"]};return Re(l,Rre,e)},_L=({ownerState:t,theme:e})=>j({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":j({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${HC.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),Nre=X("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Xr,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${HC.multiple}`]:e.multiple}]}})(_L),bL=({ownerState:t,theme:e})=>j({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${HC.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),Dre=X("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${se(n.variant)}`],n.open&&e.iconOpen]}})(bL),jre=y.forwardRef(function(e,n){const{className:r,disabled:s,error:i,IconComponent:o,inputRef:l,variant:c="standard"}=e,u=oe(e,Pre),d=j({},e,{disabled:s,variant:c,error:i}),h=Are(d);return a.jsxs(y.Fragment,{children:[a.jsx(Nre,j({ownerState:d,className:ue(h.select,r),disabled:s,ref:l||n},u)),e.multiple?null:a.jsx(Dre,{as:o,ownerState:d,className:h.icon})]})});var F2;const Mre=["children","classes","className","label","notched"],Ore=X("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:Xr})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Lre=X("legend",{name:"MuiNotchedOutlined",shouldForwardProp:Xr})(({ownerState:t,theme:e})=>j({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&j({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function $re(t){const{className:e,label:n,notched:r}=t,s=oe(t,Mre),i=n!=null&&n!=="",o=j({},t,{notched:r,withLabel:i});return a.jsx(Ore,j({"aria-hidden":!0,className:e,ownerState:o},s,{children:a.jsx(Lre,{ownerState:o,children:i?a.jsx("span",{children:n}):F2||(F2=a.jsx("span",{className:"notranslate",children:"​"}))})}))}const Fre=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],Vre=t=>{const{classes:e}=t,r=Re({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},IZ,e);return j({},e,r)},Bre=X(My,{shouldForwardProp:t=>Xr(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Dy})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return j({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Oo.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Oo.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${Oo.focused} .${Oo.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${Oo.error} .${Oo.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Oo.disabled} .${Oo.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&j({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),Ure=X($re,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),zre=X(Oy,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:jy})(({theme:t,ownerState:e})=>j({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),qC=y.forwardRef(function(e,n){var r,s,i,o,l;const c=je({props:e,name:"MuiOutlinedInput"}),{components:u={},fullWidth:d=!1,inputComponent:h="input",label:p,multiline:m=!1,notched:v,slots:g={},type:b="text"}=c,x=oe(c,Fre),_=Vre(c),w=Mi(),I=Oa({props:c,muiFormControl:w,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),N=j({},c,{color:I.color||"primary",disabled:I.disabled,error:I.error,focused:I.focused,formControl:w,fullWidth:d,hiddenLabel:I.hiddenLabel,multiline:m,size:I.size,type:b}),R=(r=(s=g.root)!=null?s:u.Root)!=null?r:Bre,S=(i=(o=g.input)!=null?o:u.Input)!=null?i:zre;return a.jsx(BC,j({slots:{root:R,input:S},renderSuffix:E=>a.jsx(Ure,{ownerState:N,className:_.notchedOutline,label:p!=null&&p!==""&&I.required?l||(l=a.jsxs(y.Fragment,{children:[p," ","*"]})):p,notched:typeof v<"u"?v:!!(E.startAdornment||E.filled||E.focused)}),fullWidth:d,inputComponent:h,multiline:m,ref:n,type:b},x,{classes:j({},_,{notchedOutline:null})}))});qC.muiName="Input";function Wre(t){return Ee("MuiSelect",t)}const Rd=Se("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var V2;const Hre=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],qre=X("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${Rd.select}`]:e.select},{[`&.${Rd.select}`]:e[n.variant]},{[`&.${Rd.error}`]:e.error},{[`&.${Rd.multiple}`]:e.multiple}]}})(_L,{[`&.${Rd.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Gre=X("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${se(n.variant)}`],n.open&&e.iconOpen]}})(bL),Yre=X("input",{shouldForwardProp:t=>eD(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function B2(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function Kre(t){return t==null||typeof t=="string"&&!t.trim()}const Qre=t=>{const{classes:e,variant:n,disabled:r,multiple:s,open:i,error:o}=t,l={select:["select",n,r&&"disabled",s&&"multiple",o&&"error"],icon:["icon",`icon${se(n)}`,i&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Re(l,Wre,e)},Xre=y.forwardRef(function(e,n){var r;const{"aria-describedby":s,"aria-label":i,autoFocus:o,autoWidth:l,children:c,className:u,defaultOpen:d,defaultValue:h,disabled:p,displayEmpty:m,error:v=!1,IconComponent:g,inputRef:b,labelId:x,MenuProps:_={},multiple:w,name:I,onBlur:N,onChange:R,onClose:S,onFocus:E,onOpen:C,open:k,readOnly:A,renderValue:M,SelectDisplayProps:P={},tabIndex:O,value:V,variant:B="standard"}=e,z=oe(e,Hre),[U,F]=ki({controlled:V,default:h,name:"Select"}),[L,H]=ki({controlled:k,default:d,name:"Select"}),q=y.useRef(null),K=y.useRef(null),[te,me]=y.useState(null),{current:Q}=y.useRef(k!=null),[ce,ie]=y.useState(),re=on(n,b),ge=y.useCallback(Oe=>{K.current=Oe,Oe&&me(Oe)},[]),ee=te==null?void 0:te.parentNode;y.useImperativeHandle(re,()=>({focus:()=>{K.current.focus()},node:q.current,value:U}),[U]),y.useEffect(()=>{d&&L&&te&&!Q&&(ie(l?null:ee.clientWidth),K.current.focus())},[te,l]),y.useEffect(()=>{o&&K.current.focus()},[o]),y.useEffect(()=>{if(!x)return;const Oe=Rr(K.current).getElementById(x);if(Oe){const yt=()=>{getSelection().isCollapsed&&K.current.focus()};return Oe.addEventListener("click",yt),()=>{Oe.removeEventListener("click",yt)}}},[x]);const Y=(Oe,yt)=>{Oe?C&&C(yt):S&&S(yt),Q||(ie(l?null:ee.clientWidth),H(Oe))},W=Oe=>{Oe.button===0&&(Oe.preventDefault(),K.current.focus(),Y(!0,Oe))},Z=Oe=>{Y(!1,Oe)},le=y.Children.toArray(c),be=Oe=>{const yt=le.find(Ot=>Ot.props.value===Oe.target.value);yt!==void 0&&(F(yt.props.value),R&&R(Oe,yt))},Be=Oe=>yt=>{let Ot;if(yt.currentTarget.hasAttribute("tabindex")){if(w){Ot=Array.isArray(U)?U.slice():[];const _r=U.indexOf(Oe.props.value);_r===-1?Ot.push(Oe.props.value):Ot.splice(_r,1)}else Ot=Oe.props.value;if(Oe.props.onClick&&Oe.props.onClick(yt),U!==Ot&&(F(Ot),R)){const _r=yt.nativeEvent||yt,ti=new _r.constructor(_r.type,_r);Object.defineProperty(ti,"target",{writable:!0,value:{value:Ot,name:I}}),R(ti,Oe)}w||Y(!1,yt)}},fe=Oe=>{A||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Oe.key)!==-1&&(Oe.preventDefault(),Y(!0,Oe))},ve=te!==null&&L,Te=Oe=>{!ve&&N&&(Object.defineProperty(Oe,"target",{writable:!0,value:{value:U,name:I}}),N(Oe))};delete z["aria-invalid"];let we,qe;const Ve=[];let Ue=!1;(Hg({value:U})||m)&&(M?we=M(U):Ue=!0);const Wt=le.map(Oe=>{if(!y.isValidElement(Oe))return null;let yt;if(w){if(!Array.isArray(U))throw new Error(ho(2));yt=U.some(Ot=>B2(Ot,Oe.props.value)),yt&&Ue&&Ve.push(Oe.props.children)}else yt=B2(U,Oe.props.value),yt&&Ue&&(qe=Oe.props.children);return y.cloneElement(Oe,{"aria-selected":yt?"true":"false",onClick:Be(Oe),onKeyUp:Ot=>{Ot.key===" "&&Ot.preventDefault(),Oe.props.onKeyUp&&Oe.props.onKeyUp(Ot)},role:"option",selected:yt,value:void 0,"data-value":Oe.props.value})});Ue&&(w?Ve.length===0?we=null:we=Ve.reduce((Oe,yt,Ot)=>(Oe.push(yt),Ot<Ve.length-1&&Oe.push(", "),Oe),[]):we=qe);let et=ce;!l&&Q&&te&&(et=ee.clientWidth);let it;typeof O<"u"?it=O:it=p?null:0;const Ze=P.id||(I?`mui-component-select-${I}`:void 0),$e=j({},e,{variant:B,value:U,open:ve,error:v}),en=Qre($e),Mr=j({},_.PaperProps,(r=_.slotProps)==null?void 0:r.paper),bn=Mu();return a.jsxs(y.Fragment,{children:[a.jsx(qre,j({ref:ge,tabIndex:it,role:"combobox","aria-controls":bn,"aria-disabled":p?"true":void 0,"aria-expanded":ve?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[x,Ze].filter(Boolean).join(" ")||void 0,"aria-describedby":s,onKeyDown:fe,onMouseDown:p||A?null:W,onBlur:Te,onFocus:E},P,{ownerState:$e,className:ue(P.className,en.select,u),id:Ze,children:Kre(we)?V2||(V2=a.jsx("span",{className:"notranslate",children:"​"})):we})),a.jsx(Yre,j({"aria-invalid":v,value:Array.isArray(U)?U.join(","):U,name:I,ref:q,"aria-hidden":!0,onChange:be,tabIndex:-1,disabled:p,className:en.nativeInput,autoFocus:o,ownerState:$e},z)),a.jsx(Gre,{as:g,className:en.icon,ownerState:$e}),a.jsx(Cre,j({id:`menu-${I||""}`,anchorEl:ee,open:ve,onClose:Z,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},_,{MenuListProps:j({"aria-labelledby":x,role:"listbox","aria-multiselectable":w?"true":void 0,disableListWrap:!0,id:bn},_.MenuListProps),slotProps:j({},_.slotProps,{paper:j({},Mr,{style:j({minWidth:et},Mr!=null?Mr.style:null)})}),children:Wt}))]})}),Jre=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Zre=["root"],ese=t=>{const{classes:e}=t;return e},GC={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>Xr(t)&&t!=="variant",slot:"Root"},tse=X(zC,GC)(""),nse=X(qC,GC)(""),rse=X(UC,GC)(""),Ni=y.forwardRef(function(e,n){const r=je({name:"MuiSelect",props:e}),{autoWidth:s=!1,children:i,classes:o={},className:l,defaultOpen:c=!1,displayEmpty:u=!1,IconComponent:d=RZ,id:h,input:p,inputProps:m,label:v,labelId:g,MenuProps:b,multiple:x=!1,native:_=!1,onClose:w,onOpen:I,open:N,renderValue:R,SelectDisplayProps:S,variant:E="outlined"}=r,C=oe(r,Jre),k=_?jre:Xre,A=Mi(),M=Oa({props:r,muiFormControl:A,states:["variant","error"]}),P=M.variant||E,O=j({},r,{variant:P,classes:o}),V=ese(O),B=oe(V,Zre),z=p||{standard:a.jsx(tse,{ownerState:O}),outlined:a.jsx(nse,{label:v,ownerState:O}),filled:a.jsx(rse,{ownerState:O})}[P],U=on(n,Ou(z));return a.jsx(y.Fragment,{children:y.cloneElement(z,j({inputComponent:k,inputProps:j({children:i,error:M.error,IconComponent:d,variant:P,type:void 0,multiple:x},_?{id:h}:{autoWidth:s,defaultOpen:c,displayEmpty:u,labelId:g,MenuProps:b,onClose:w,onOpen:I,open:N,renderValue:R,SelectDisplayProps:j({id:h},S)},m,{classes:m?kr(B,m.classes):B},p?p.props.inputProps:{})},(x&&_||u)&&P==="outlined"?{notched:!0}:{},{ref:U,className:ue(z.props.className,l,V.root)},!p&&{variant:P},C))})});Ni.muiName="Select";function sse(t){return Ee("MuiTooltip",t)}const ea=Se("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),ise=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function ose(t){return Math.round(t*1e5)/1e5}const ase=t=>{const{classes:e,disableInteractive:n,arrow:r,touch:s,placement:i}=t,o={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",s&&"touch",`tooltipPlacement${se(i.split("-")[0])}`],arrow:["arrow"]};return Re(o,sse,e)},lse=X(lL,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popper,!n.disableInteractive&&e.popperInteractive,n.arrow&&e.popperArrow,!n.open&&e.popperClose]}})(({theme:t,ownerState:e,open:n})=>j({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!e.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},e.arrow&&{[`&[data-popper-placement*="bottom"] .${ea.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${ea.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${ea.arrow}`]:j({},e.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${ea.arrow}`]:j({},e.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),cse=X("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.tooltip,n.touch&&e.touch,n.arrow&&e.tooltipArrow,e[`tooltipPlacement${se(n.placement.split("-")[0])}`]]}})(({theme:t,ownerState:e})=>j({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:lt(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},e.arrow&&{position:"relative",margin:0},e.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${ose(16/14)}em`,fontWeight:t.typography.fontWeightRegular},{[`.${ea.popper}[data-popper-placement*="left"] &`]:j({transformOrigin:"right center"},e.isRtl?j({marginLeft:"14px"},e.touch&&{marginLeft:"24px"}):j({marginRight:"14px"},e.touch&&{marginRight:"24px"})),[`.${ea.popper}[data-popper-placement*="right"] &`]:j({transformOrigin:"left center"},e.isRtl?j({marginRight:"14px"},e.touch&&{marginRight:"24px"}):j({marginLeft:"14px"},e.touch&&{marginLeft:"24px"})),[`.${ea.popper}[data-popper-placement*="top"] &`]:j({transformOrigin:"center bottom",marginBottom:"14px"},e.touch&&{marginBottom:"24px"}),[`.${ea.popper}[data-popper-placement*="bottom"] &`]:j({transformOrigin:"center top",marginTop:"14px"},e.touch&&{marginTop:"24px"})})),use=X("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(t,e)=>e.arrow})(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:lt(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let Gp=!1;const U2=new Sf;let Pd={x:0,y:0};function Yp(t,e){return(n,...r)=>{e&&e(n,...r),t(n,...r)}}const z2=y.forwardRef(function(e,n){var r,s,i,o,l,c,u,d,h,p,m,v,g,b,x,_,w,I,N;const R=je({props:e,name:"MuiTooltip"}),{arrow:S=!1,children:E,components:C={},componentsProps:k={},describeChild:A=!1,disableFocusListener:M=!1,disableHoverListener:P=!1,disableInteractive:O=!1,disableTouchListener:V=!1,enterDelay:B=100,enterNextDelay:z=0,enterTouchDelay:U=700,followCursor:F=!1,id:L,leaveDelay:H=0,leaveTouchDelay:q=1500,onClose:K,onOpen:te,open:me,placement:Q="bottom",PopperComponent:ce,PopperProps:ie={},slotProps:re={},slots:ge={},title:ee,TransitionComponent:Y=Gg,TransitionProps:W}=R,Z=oe(R,ise),le=y.isValidElement(E)?E:a.jsx("span",{children:E}),be=Di(),Be=Zw(),[fe,ve]=y.useState(),[Te,we]=y.useState(null),qe=y.useRef(!1),Ve=O||F,Ue=nl(),Wt=nl(),et=nl(),it=nl(),[Ze,$e]=ki({controlled:me,default:!1,name:"Tooltip",state:"open"});let en=Ze;const Mr=Mu(L),bn=y.useRef(),Oe=ct(()=>{bn.current!==void 0&&(document.body.style.WebkitUserSelect=bn.current,bn.current=void 0),it.clear()});y.useEffect(()=>Oe,[Oe]);const yt=Xe=>{U2.clear(),Gp=!0,$e(!0),te&&!en&&te(Xe)},Ot=ct(Xe=>{U2.start(800+H,()=>{Gp=!1}),$e(!1),K&&en&&K(Xe),Ue.start(be.transitions.duration.shortest,()=>{qe.current=!1})}),_r=Xe=>{qe.current&&Xe.type!=="touchstart"||(fe&&fe.removeAttribute("title"),Wt.clear(),et.clear(),B||Gp&&z?Wt.start(Gp?z:B,()=>{yt(Xe)}):yt(Xe))},ti=Xe=>{Wt.clear(),et.start(H,()=>{Ot(Xe)})},{isFocusVisibleRef:ni,onBlur:La,onFocus:Ro,ref:Fs}=DN(),[,ri]=y.useState(!1),Po=Xe=>{La(Xe),ni.current===!1&&(ri(!1),ti(Xe))},pt=Xe=>{fe||ve(Xe.currentTarget),Ro(Xe),ni.current===!0&&(ri(!0),_r(Xe))},sr=Xe=>{qe.current=!0;const qn=le.props;qn.onTouchStart&&qn.onTouchStart(Xe)},ms=Xe=>{sr(Xe),et.clear(),Ue.clear(),Oe(),bn.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",it.start(U,()=>{document.body.style.WebkitUserSelect=bn.current,_r(Xe)})},Jr=Xe=>{le.props.onTouchEnd&&le.props.onTouchEnd(Xe),Oe(),et.start(q,()=>{Ot(Xe)})};y.useEffect(()=>{if(!en)return;function Xe(qn){(qn.key==="Escape"||qn.key==="Esc")&&Ot(qn)}return document.addEventListener("keydown",Xe),()=>{document.removeEventListener("keydown",Xe)}},[Ot,en]);const $a=on(Ou(le),Fs,ve,n);!ee&&ee!==0&&(en=!1);const ql=y.useRef(),Wn=Xe=>{const qn=le.props;qn.onMouseMove&&qn.onMouseMove(Xe),Pd={x:Xe.clientX,y:Xe.clientY},ql.current&&ql.current.update()},Ao={},Li=typeof ee=="string";A?(Ao.title=!en&&Li&&!P?ee:null,Ao["aria-describedby"]=en?Mr:null):(Ao["aria-label"]=Li?ee:null,Ao["aria-labelledby"]=en&&!Li?Mr:null);const Hn=j({},Ao,Z,le.props,{className:ue(Z.className,le.props.className),onTouchStart:sr,ref:$a},F?{onMouseMove:Wn}:{}),Fa={};V||(Hn.onTouchStart=ms,Hn.onTouchEnd=Jr),P||(Hn.onMouseOver=Yp(_r,Hn.onMouseOver),Hn.onMouseLeave=Yp(ti,Hn.onMouseLeave),Ve||(Fa.onMouseOver=_r,Fa.onMouseLeave=ti)),M||(Hn.onFocus=Yp(pt,Hn.onFocus),Hn.onBlur=Yp(Po,Hn.onBlur),Ve||(Fa.onFocus=pt,Fa.onBlur=Po));const Zy=y.useMemo(()=>{var Xe;let qn=[{name:"arrow",enabled:!!Te,options:{element:Te,padding:4}}];return(Xe=ie.popperOptions)!=null&&Xe.modifiers&&(qn=qn.concat(ie.popperOptions.modifiers)),j({},ie.popperOptions,{modifiers:qn})},[Te,ie]),gs=j({},R,{isRtl:Be,arrow:S,disableInteractive:Ve,placement:Q,PopperComponentProp:ce,touch:qe.current}),Ju=ase(gs),Zf=(r=(s=ge.popper)!=null?s:C.Popper)!=null?r:lse,Va=(i=(o=(l=ge.transition)!=null?l:C.Transition)!=null?o:Y)!=null?i:Gg,Zu=(c=(u=ge.tooltip)!=null?u:C.Tooltip)!=null?c:cse,Gl=(d=(h=ge.arrow)!=null?h:C.Arrow)!=null?d:use,Yl=Tc(Zf,j({},ie,(p=re.popper)!=null?p:k.popper,{className:ue(Ju.popper,ie==null?void 0:ie.className,(m=(v=re.popper)!=null?v:k.popper)==null?void 0:m.className)}),gs),si=Tc(Va,j({},W,(g=re.transition)!=null?g:k.transition),gs),ep=Tc(Zu,j({},(b=re.tooltip)!=null?b:k.tooltip,{className:ue(Ju.tooltip,(x=(_=re.tooltip)!=null?_:k.tooltip)==null?void 0:x.className)}),gs),tp=Tc(Gl,j({},(w=re.arrow)!=null?w:k.arrow,{className:ue(Ju.arrow,(I=(N=re.arrow)!=null?N:k.arrow)==null?void 0:I.className)}),gs);return a.jsxs(y.Fragment,{children:[y.cloneElement(le,Hn),a.jsx(Zf,j({as:ce??lL,placement:Q,anchorEl:F?{getBoundingClientRect:()=>({top:Pd.y,left:Pd.x,right:Pd.x,bottom:Pd.y,width:0,height:0})}:fe,popperRef:ql,open:fe?en:!1,id:Mr,transition:!0},Fa,Yl,{popperOptions:Zy,children:({TransitionProps:Xe})=>a.jsx(Va,j({timeout:be.transitions.duration.shorter},Xe,si,{children:a.jsxs(Zu,j({},ep,{children:[ee,S?a.jsx(Gl,j({},tp,{ref:we})):null]}))}))}))]})}),Qf=y.createContext({}),$y=y.createContext({});function dse(t){return Ee("MuiStep",t)}Se("MuiStep",["root","horizontal","vertical","alternativeLabel","completed"]);const hse=["active","children","className","component","completed","disabled","expanded","index","last"],fse=t=>{const{classes:e,orientation:n,alternativeLabel:r,completed:s}=t;return Re({root:["root",n,r&&"alternativeLabel",s&&"completed"]},dse,e)},pse=X("div",{name:"MuiStep",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.orientation],n.alternativeLabel&&e.alternativeLabel,n.completed&&e.completed]}})(({ownerState:t})=>j({},t.orientation==="horizontal"&&{paddingLeft:8,paddingRight:8},t.alternativeLabel&&{flex:1,position:"relative"})),vx=y.forwardRef(function(e,n){const r=je({props:e,name:"MuiStep"}),{active:s,children:i,className:o,component:l="div",completed:c,disabled:u,expanded:d=!1,index:h,last:p}=r,m=oe(r,hse),{activeStep:v,connector:g,alternativeLabel:b,orientation:x,nonLinear:_}=y.useContext(Qf);let[w=!1,I=!1,N=!1]=[s,c,u];v===h?w=s!==void 0?s:!0:!_&&v>h?I=c!==void 0?c:!0:!_&&v<h&&(N=u!==void 0?u:!0);const R=y.useMemo(()=>({index:h,last:p,expanded:d,icon:h+1,active:w,completed:I,disabled:N}),[h,p,d,w,I,N]),S=j({},r,{active:w,orientation:x,alternativeLabel:b,completed:I,disabled:N,expanded:d,component:l}),E=fse(S),C=a.jsxs(pse,j({as:l,className:ue(E.root,o),ref:n,ownerState:S},m,{children:[g&&b&&h!==0?g:null,i]}));return a.jsx($y.Provider,{value:R,children:g&&!b&&h!==0?a.jsxs(y.Fragment,{children:[g,C]}):C})}),mse=Ie(a.jsx("path",{d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"}),"CheckCircle"),gse=Ie(a.jsx("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning");function vse(t){return Ee("MuiStepIcon",t)}const yx=Se("MuiStepIcon",["root","active","completed","error","text"]);var W2;const yse=["active","className","completed","error","icon"],xse=t=>{const{classes:e,active:n,completed:r,error:s}=t;return Re({root:["root",n&&"active",r&&"completed",s&&"error"],text:["text"]},vse,e)},xx=X(Bg,{name:"MuiStepIcon",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({display:"block",transition:t.transitions.create("color",{duration:t.transitions.duration.shortest}),color:(t.vars||t).palette.text.disabled,[`&.${yx.completed}`]:{color:(t.vars||t).palette.primary.main},[`&.${yx.active}`]:{color:(t.vars||t).palette.primary.main},[`&.${yx.error}`]:{color:(t.vars||t).palette.error.main}})),_se=X("text",{name:"MuiStepIcon",slot:"Text",overridesResolver:(t,e)=>e.text})(({theme:t})=>({fill:(t.vars||t).palette.primary.contrastText,fontSize:t.typography.caption.fontSize,fontFamily:t.typography.fontFamily})),bse=y.forwardRef(function(e,n){const r=je({props:e,name:"MuiStepIcon"}),{active:s=!1,className:i,completed:o=!1,error:l=!1,icon:c}=r,u=oe(r,yse),d=j({},r,{active:s,completed:o,error:l}),h=xse(d);if(typeof c=="number"||typeof c=="string"){const p=ue(i,h.root);return l?a.jsx(xx,j({as:gse,className:p,ref:n,ownerState:d},u)):o?a.jsx(xx,j({as:mse,className:p,ref:n,ownerState:d},u)):a.jsxs(xx,j({className:p,ref:n,ownerState:d},u,{children:[W2||(W2=a.jsx("circle",{cx:"12",cy:"12",r:"12"})),a.jsx(_se,{className:h.text,x:"12",y:"12",textAnchor:"middle",dominantBaseline:"central",ownerState:d,children:c})]}))}return c});function wse(t){return Ee("MuiStepLabel",t)}const ta=Se("MuiStepLabel",["root","horizontal","vertical","label","active","completed","error","disabled","iconContainer","alternativeLabel","labelContainer"]),Cse=["children","className","componentsProps","error","icon","optional","slotProps","StepIconComponent","StepIconProps"],Tse=t=>{const{classes:e,orientation:n,active:r,completed:s,error:i,disabled:o,alternativeLabel:l}=t;return Re({root:["root",n,i&&"error",o&&"disabled",l&&"alternativeLabel"],label:["label",r&&"active",s&&"completed",i&&"error",o&&"disabled",l&&"alternativeLabel"],iconContainer:["iconContainer",r&&"active",s&&"completed",i&&"error",o&&"disabled",l&&"alternativeLabel"],labelContainer:["labelContainer",l&&"alternativeLabel"]},wse,e)},Ese=X("span",{name:"MuiStepLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.orientation]]}})(({ownerState:t})=>j({display:"flex",alignItems:"center",[`&.${ta.alternativeLabel}`]:{flexDirection:"column"},[`&.${ta.disabled}`]:{cursor:"default"}},t.orientation==="vertical"&&{textAlign:"left",padding:"8px 0"})),Sse=X("span",{name:"MuiStepLabel",slot:"Label",overridesResolver:(t,e)=>e.label})(({theme:t})=>j({},t.typography.body2,{display:"block",transition:t.transitions.create("color",{duration:t.transitions.duration.shortest}),[`&.${ta.active}`]:{color:(t.vars||t).palette.text.primary,fontWeight:500},[`&.${ta.completed}`]:{color:(t.vars||t).palette.text.primary,fontWeight:500},[`&.${ta.alternativeLabel}`]:{marginTop:16},[`&.${ta.error}`]:{color:(t.vars||t).palette.error.main}})),Ise=X("span",{name:"MuiStepLabel",slot:"IconContainer",overridesResolver:(t,e)=>e.iconContainer})(()=>({flexShrink:0,display:"flex",paddingRight:8,[`&.${ta.alternativeLabel}`]:{paddingRight:0}})),kse=X("span",{name:"MuiStepLabel",slot:"LabelContainer",overridesResolver:(t,e)=>e.labelContainer})(({theme:t})=>({width:"100%",color:(t.vars||t).palette.text.secondary,[`&.${ta.alternativeLabel}`]:{textAlign:"center"}})),jm=y.forwardRef(function(e,n){var r;const s=je({props:e,name:"MuiStepLabel"}),{children:i,className:o,componentsProps:l={},error:c=!1,icon:u,optional:d,slotProps:h={},StepIconComponent:p,StepIconProps:m}=s,v=oe(s,Cse),{alternativeLabel:g,orientation:b}=y.useContext(Qf),{active:x,disabled:_,completed:w,icon:I}=y.useContext($y),N=u||I;let R=p;N&&!R&&(R=bse);const S=j({},s,{active:x,alternativeLabel:g,completed:w,disabled:_,error:c,orientation:b}),E=Tse(S),C=(r=h.label)!=null?r:l.label;return a.jsxs(Ese,j({className:ue(E.root,o),ref:n,ownerState:S},v,{children:[N||R?a.jsx(Ise,{className:E.iconContainer,ownerState:S,children:a.jsx(R,j({completed:w,active:x,error:c,icon:N},m))}):null,a.jsxs(kse,{className:E.labelContainer,ownerState:S,children:[i?a.jsx(Sse,j({ownerState:S},C,{className:ue(E.label,C==null?void 0:C.className),children:i})):null,d]})]}))});jm.muiName="StepLabel";function Rse(t){return Ee("MuiStepConnector",t)}Se("MuiStepConnector",["root","horizontal","vertical","alternativeLabel","active","completed","disabled","line","lineHorizontal","lineVertical"]);const Pse=["className"],Ase=t=>{const{classes:e,orientation:n,alternativeLabel:r,active:s,completed:i,disabled:o}=t,l={root:["root",n,r&&"alternativeLabel",s&&"active",i&&"completed",o&&"disabled"],line:["line",`line${se(n)}`]};return Re(l,Rse,e)},Nse=X("div",{name:"MuiStepConnector",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.orientation],n.alternativeLabel&&e.alternativeLabel,n.completed&&e.completed]}})(({ownerState:t})=>j({flex:"1 1 auto"},t.orientation==="vertical"&&{marginLeft:12},t.alternativeLabel&&{position:"absolute",top:12,left:"calc(-50% + 20px)",right:"calc(50% + 20px)"})),Dse=X("span",{name:"MuiStepConnector",slot:"Line",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.line,e[`line${se(n.orientation)}`]]}})(({ownerState:t,theme:e})=>{const n=e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[600];return j({display:"block",borderColor:e.vars?e.vars.palette.StepConnector.border:n},t.orientation==="horizontal"&&{borderTopStyle:"solid",borderTopWidth:1},t.orientation==="vertical"&&{borderLeftStyle:"solid",borderLeftWidth:1,minHeight:24})}),jse=y.forwardRef(function(e,n){const r=je({props:e,name:"MuiStepConnector"}),{className:s}=r,i=oe(r,Pse),{alternativeLabel:o,orientation:l="horizontal"}=y.useContext(Qf),{active:c,disabled:u,completed:d}=y.useContext($y),h=j({},r,{alternativeLabel:o,orientation:l,active:c,completed:d,disabled:u}),p=Ase(h);return a.jsx(Nse,j({className:ue(p.root,s),ref:n,ownerState:h},i,{children:a.jsx(Dse,{className:p.line,ownerState:h})}))});function Mse(t){return Ee("MuiStepContent",t)}Se("MuiStepContent",["root","last","transition"]);const Ose=["children","className","TransitionComponent","transitionDuration","TransitionProps"],Lse=t=>{const{classes:e,last:n}=t;return Re({root:["root",n&&"last"],transition:["transition"]},Mse,e)},$se=X("div",{name:"MuiStepContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.last&&e.last]}})(({ownerState:t,theme:e})=>j({marginLeft:12,paddingLeft:20,paddingRight:8,borderLeft:e.vars?`1px solid ${e.vars.palette.StepContent.border}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[600]}`},t.last&&{borderLeft:"none"})),Fse=X(NC,{name:"MuiStepContent",slot:"Transition",overridesResolver:(t,e)=>e.transition})({}),_x=y.forwardRef(function(e,n){const r=je({props:e,name:"MuiStepContent"}),{children:s,className:i,TransitionComponent:o=NC,transitionDuration:l="auto",TransitionProps:c}=r,u=oe(r,Ose),{orientation:d}=y.useContext(Qf),{active:h,last:p,expanded:m}=y.useContext($y),v=j({},r,{last:p}),g=Lse(v);let b=l;return l==="auto"&&!o.muiSupportAuto&&(b=void 0),a.jsx($se,j({className:ue(g.root,i),ref:n,ownerState:v},u,{children:a.jsx(Fse,j({as:o,in:h||m,className:g.transition,ownerState:v,timeout:b,unmountOnExit:!0},c,{children:s}))}))});function Vse(t){return Ee("MuiStepper",t)}Se("MuiStepper",["root","horizontal","vertical","nonLinear","alternativeLabel"]);const Bse=["activeStep","alternativeLabel","children","className","component","connector","nonLinear","orientation"],Use=t=>{const{orientation:e,nonLinear:n,alternativeLabel:r,classes:s}=t;return Re({root:["root",e,n&&"nonLinear",r&&"alternativeLabel"]},Vse,s)},zse=X("div",{name:"MuiStepper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.orientation],n.alternativeLabel&&e.alternativeLabel,n.nonLinear&&e.nonLinear]}})(({ownerState:t})=>j({display:"flex"},t.orientation==="horizontal"&&{flexDirection:"row",alignItems:"center"},t.orientation==="vertical"&&{flexDirection:"column"},t.alternativeLabel&&{alignItems:"flex-start"})),Wse=a.jsx(jse,{}),Hse=y.forwardRef(function(e,n){const r=je({props:e,name:"MuiStepper"}),{activeStep:s=0,alternativeLabel:i=!1,children:o,className:l,component:c="div",connector:u=Wse,nonLinear:d=!1,orientation:h="horizontal"}=r,p=oe(r,Bse),m=j({},r,{nonLinear:d,alternativeLabel:i,orientation:h,component:c}),v=Use(m),g=y.Children.toArray(o).filter(Boolean),b=g.map((_,w)=>y.cloneElement(_,j({index:w,last:w+1===g.length},_.props))),x=y.useMemo(()=>({activeStep:s,alternativeLabel:i,connector:u,nonLinear:d,orientation:h}),[s,i,u,d,h]);return a.jsx(Qf.Provider,{value:x,children:a.jsx(zse,j({as:c,ownerState:m,className:ue(v.root,l),ref:n},p,{children:b}))})});function qse(t){return Ee("MuiSwitch",t)}const Cr=Se("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),Gse=["className","color","edge","size","sx"],Yse=t=>{const{classes:e,edge:n,size:r,color:s,checked:i,disabled:o}=t,l={root:["root",n&&`edge${se(n)}`,`size${se(r)}`],switchBase:["switchBase",`color${se(s)}`,i&&"checked",o&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},c=Re(l,qse,e);return j({},e,c)},Kse=X("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.edge&&e[`edge${se(n.edge)}`],e[`size${se(n.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${Cr.thumb}`]:{width:16,height:16},[`& .${Cr.switchBase}`]:{padding:4,[`&.${Cr.checked}`]:{transform:"translateX(16px)"}}}}]}),Qse=X(dL,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.switchBase,{[`& .${Cr.input}`]:e.input},n.color!=="default"&&e[`color${se(n.color)}`]]}})(({theme:t})=>({position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${t.palette.mode==="light"?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${Cr.checked}`]:{transform:"translateX(20px)"},[`&.${Cr.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${Cr.checked} + .${Cr.track}`]:{opacity:.5},[`&.${Cr.disabled} + .${Cr.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:`${t.palette.mode==="light"?.12:.2}`},[`& .${Cr.input}`]:{left:"-100%",width:"300%"}}),({theme:t})=>({"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:lt(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter(([,e])=>e.main&&e.light).map(([e])=>({props:{color:e},style:{[`&.${Cr.checked}`]:{color:(t.vars||t).palette[e].main,"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:lt(t.palette[e].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Cr.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${e}DisabledColor`]:`${t.palette.mode==="light"?ou(t.palette[e].main,.62):iu(t.palette[e].main,.55)}`}},[`&.${Cr.checked} + .${Cr.track}`]:{backgroundColor:(t.vars||t).palette[e].main}}}))]})),Xse=X("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(t,e)=>e.track})(({theme:t})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${t.palette.mode==="light"?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:`${t.palette.mode==="light"?.38:.3}`})),Jse=X("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(t,e)=>e.thumb})(({theme:t})=>({boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),Hc=y.forwardRef(function(e,n){const r=je({props:e,name:"MuiSwitch"}),{className:s,color:i="primary",edge:o=!1,size:l="medium",sx:c}=r,u=oe(r,Gse),d=j({},r,{color:i,edge:o,size:l}),h=Yse(d),p=a.jsx(Jse,{className:h.thumb,ownerState:d});return a.jsxs(Kse,{className:ue(h.root,s),sx:c,ownerState:d,children:[a.jsx(Qse,j({type:"checkbox",icon:p,checkedIcon:p,ref:n,ownerState:d},u,{classes:j({},h,{root:h.switchBase})})),a.jsx(Xse,{className:h.track,ownerState:d})]})}),wL=y.createContext();function Zse(t){return Ee("MuiTable",t)}Se("MuiTable",["root","stickyHeader"]);const eie=["className","component","padding","size","stickyHeader"],tie=t=>{const{classes:e,stickyHeader:n}=t;return Re({root:["root",n&&"stickyHeader"]},Zse,e)},nie=X("table",{name:"MuiTable",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.stickyHeader&&e.stickyHeader]}})(({theme:t,ownerState:e})=>j({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":j({},t.typography.body2,{padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},e.stickyHeader&&{borderCollapse:"separate"})),H2="table",Fy=y.forwardRef(function(e,n){const r=je({props:e,name:"MuiTable"}),{className:s,component:i=H2,padding:o="normal",size:l="medium",stickyHeader:c=!1}=r,u=oe(r,eie),d=j({},r,{component:i,padding:o,size:l,stickyHeader:c}),h=tie(d),p=y.useMemo(()=>({padding:o,size:l,stickyHeader:c}),[o,l,c]);return a.jsx(wL.Provider,{value:p,children:a.jsx(nie,j({as:i,role:i===H2?null:"table",ref:n,className:ue(h.root,s),ownerState:d},u))})}),Vy=y.createContext();function rie(t){return Ee("MuiTableBody",t)}Se("MuiTableBody",["root"]);const sie=["className","component"],iie=t=>{const{classes:e}=t;return Re({root:["root"]},rie,e)},oie=X("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-row-group"}),aie={variant:"body"},q2="tbody",By=y.forwardRef(function(e,n){const r=je({props:e,name:"MuiTableBody"}),{className:s,component:i=q2}=r,o=oe(r,sie),l=j({},r,{component:i}),c=iie(l);return a.jsx(Vy.Provider,{value:aie,children:a.jsx(oie,j({className:ue(c.root,s),as:i,ref:n,role:i===q2?null:"rowgroup",ownerState:l},o))})});function lie(t){return Ee("MuiTableCell",t)}const cie=Se("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),uie=["align","className","component","padding","scope","size","sortDirection","variant"],die=t=>{const{classes:e,variant:n,align:r,padding:s,size:i,stickyHeader:o}=t,l={root:["root",n,o&&"stickyHeader",r!=="inherit"&&`align${se(r)}`,s!=="normal"&&`padding${se(s)}`,`size${se(i)}`]};return Re(l,lie,e)},hie=X("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`size${se(n.size)}`],n.padding!=="normal"&&e[`padding${se(n.padding)}`],n.align!=="inherit"&&e[`align${se(n.align)}`],n.stickyHeader&&e.stickyHeader]}})(({theme:t,ownerState:e})=>j({},t.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid
    ${t.palette.mode==="light"?ou(lt(t.palette.divider,1),.88):iu(lt(t.palette.divider,1),.68)}`,textAlign:"left",padding:16},e.variant==="head"&&{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium},e.variant==="body"&&{color:(t.vars||t).palette.text.primary},e.variant==="footer"&&{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)},e.size==="small"&&{padding:"6px 16px",[`&.${cie.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},e.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},e.padding==="none"&&{padding:0},e.align==="left"&&{textAlign:"left"},e.align==="center"&&{textAlign:"center"},e.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},e.align==="justify"&&{textAlign:"justify"},e.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default})),rt=y.forwardRef(function(e,n){const r=je({props:e,name:"MuiTableCell"}),{align:s="inherit",className:i,component:o,padding:l,scope:c,size:u,sortDirection:d,variant:h}=r,p=oe(r,uie),m=y.useContext(wL),v=y.useContext(Vy),g=v&&v.variant==="head";let b;o?b=o:b=g?"th":"td";let x=c;b==="td"?x=void 0:!x&&g&&(x="col");const _=h||v&&v.variant,w=j({},r,{align:s,component:b,padding:l||(m&&m.padding?m.padding:"normal"),size:u||(m&&m.size?m.size:"medium"),sortDirection:d,stickyHeader:_==="head"&&m&&m.stickyHeader,variant:_}),I=die(w);let N=null;return d&&(N=d==="asc"?"ascending":"descending"),a.jsx(hie,j({as:b,ref:n,className:ue(I.root,i),"aria-sort":N,scope:x,ownerState:w},p))});function fie(t){return Ee("MuiTableContainer",t)}Se("MuiTableContainer",["root"]);const pie=["className","component"],mie=t=>{const{classes:e}=t;return Re({root:["root"]},fie,e)},gie=X("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(t,e)=>e.root})({width:"100%",overflowX:"auto"}),Uy=y.forwardRef(function(e,n){const r=je({props:e,name:"MuiTableContainer"}),{className:s,component:i="div"}=r,o=oe(r,pie),l=j({},r,{component:i}),c=mie(l);return a.jsx(gie,j({ref:n,as:i,className:ue(c.root,s),ownerState:l},o))});function vie(t){return Ee("MuiTableHead",t)}Se("MuiTableHead",["root"]);const yie=["className","component"],xie=t=>{const{classes:e}=t;return Re({root:["root"]},vie,e)},_ie=X("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-header-group"}),bie={variant:"head"},G2="thead",zy=y.forwardRef(function(e,n){const r=je({props:e,name:"MuiTableHead"}),{className:s,component:i=G2}=r,o=oe(r,yie),l=j({},r,{component:i}),c=xie(l);return a.jsx(Vy.Provider,{value:bie,children:a.jsx(_ie,j({as:i,className:ue(c.root,s),ref:n,role:i===G2?null:"rowgroup",ownerState:l},o))})});function wie(t){return Ee("MuiTableRow",t)}const Y2=Se("MuiTableRow",["root","selected","hover","head","footer"]),Cie=["className","component","hover","selected"],Tie=t=>{const{classes:e,selected:n,hover:r,head:s,footer:i}=t;return Re({root:["root",n&&"selected",r&&"hover",s&&"head",i&&"footer"]},wie,e)},Eie=X("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.head&&e.head,n.footer&&e.footer]}})(({theme:t})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${Y2.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${Y2.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:lt(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:lt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}})),K2="tr",oo=y.forwardRef(function(e,n){const r=je({props:e,name:"MuiTableRow"}),{className:s,component:i=K2,hover:o=!1,selected:l=!1}=r,c=oe(r,Cie),u=y.useContext(Vy),d=j({},r,{component:i,hover:o,selected:l,head:u&&u.variant==="head",footer:u&&u.variant==="footer"}),h=Tie(d);return a.jsx(Eie,j({as:i,ref:n,className:ue(h.root,s),role:i===K2?null:"row",ownerState:d},c))});function Sie(t){return Ee("MuiTextField",t)}Se("MuiTextField",["root"]);const Iie=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],kie={standard:zC,filled:UC,outlined:qC},Rie=t=>{const{classes:e}=t;return Re({root:["root"]},Sie,e)},Pie=X(Ii,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),At=y.forwardRef(function(e,n){const r=je({props:e,name:"MuiTextField"}),{autoComplete:s,autoFocus:i=!1,children:o,className:l,color:c="primary",defaultValue:u,disabled:d=!1,error:h=!1,FormHelperTextProps:p,fullWidth:m=!1,helperText:v,id:g,InputLabelProps:b,inputProps:x,InputProps:_,inputRef:w,label:I,maxRows:N,minRows:R,multiline:S=!1,name:E,onBlur:C,onChange:k,onFocus:A,placeholder:M,required:P=!1,rows:O,select:V=!1,SelectProps:B,type:z,value:U,variant:F="outlined"}=r,L=oe(r,Iie),H=j({},r,{autoFocus:i,color:c,disabled:d,error:h,fullWidth:m,multiline:S,required:P,select:V,variant:F}),q=Rie(H),K={};F==="outlined"&&(b&&typeof b.shrink<"u"&&(K.notched=b.shrink),K.label=I),V&&((!B||!B.native)&&(K.id=void 0),K["aria-describedby"]=void 0);const te=Mu(g),me=v&&te?`${te}-helper-text`:void 0,Q=I&&te?`${te}-label`:void 0,ce=kie[F],ie=a.jsx(ce,j({"aria-describedby":me,autoComplete:s,autoFocus:i,defaultValue:u,fullWidth:m,multiline:S,name:E,rows:O,maxRows:N,minRows:R,type:z,value:U,id:te,inputRef:w,onBlur:C,onChange:k,onFocus:A,placeholder:M,inputProps:x},K,_));return a.jsxs(Pie,j({className:ue(q.root,l),disabled:d,error:h,fullWidth:m,ref:n,required:P,color:c,variant:F,ownerState:H},L,{children:[I!=null&&I!==""&&a.jsx(wo,j({htmlFor:te,id:Q},b,{children:I})),V?a.jsx(Ni,j({"aria-describedby":me,id:te,labelId:Q,value:U,input:ie},B,{children:o})):ie,v&&a.jsx(Wte,j({id:me},p,{children:v}))]}))});function Aie({children:t}){const{user:e,loading:n}=xr();return n?a.jsx(he,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",children:a.jsx(Si,{})}):e?a.jsx(a.Fragment,{children:t}):a.jsx(fm,{to:"/login",replace:!0})}const Nie=Ie(a.jsx("path",{d:"M4 10h3v7H4zm6.5 0h3v7h-3zM2 19h20v3H2zm15-9h3v7h-3zm-5-9L2 6v2h20V6z"}),"AccountBalance"),CL=Ie(a.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle"),Wy=Ie(a.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),Die=Ie(a.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-5h2zm4 0h-2v-3h2zm0-5h-2v-2h2zm4 5h-2V7h2z"}),"Analytics"),jie=Ie(a.jsx("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8z"}),"ArrowDownward"),Mie=Ie(a.jsx("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8z"}),"ArrowUpward"),uf=Ie(a.jsx("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4"}),"AttachMoney"),Eb=Ie(a.jsx("path",{d:"M12 7V3H2v18h20V7zM6 19H4v-2h2zm0-4H4v-2h2zm0-4H4V9h2zm0-4H4V5h2zm4 12H8v-2h2zm0-4H8v-2h2zm0-4H8V9h2zm0-4H8V5h2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8zm-2-8h-2v2h2zm0 4h-2v2h2z"}),"Business"),YC=Ie(a.jsx("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 16H5V10h14zM9 14H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2zm-8 4H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2z"}),"CalendarMonth"),Oie=Ie(a.jsx("path",{d:"M18 11v2h4v-2zm-2 6.61c.96.71 2.21 1.65 3.2 2.39.4-.53.8-1.07 1.2-1.6-.99-.74-2.24-1.68-3.2-2.4-.4.54-.8 1.08-1.2 1.61M20.4 5.6c-.4-.53-.8-1.07-1.2-1.6-.99.74-2.24 1.68-3.2 2.4.4.53.8 1.07 1.2 1.6.96-.72 2.21-1.65 3.2-2.4M4 9c-1.1 0-2 .9-2 2v2c0 1.1.9 2 2 2h1v4h2v-4h1l5 3V6L8 9zm11.5 3c0-1.33-.58-2.53-1.5-3.35v6.69c.92-.81 1.5-2.01 1.5-3.34"}),"Campaign"),Kg=Ie(a.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel"),Sb=Ie(a.jsx("path",{d:"M20 2H4c-1.11 0-2 .89-2 2v11c0 1.11.89 2 2 2h4v5l4-2 4 2v-5h4c1.11 0 2-.89 2-2V4c0-1.11-.89-2-2-2m0 13H4v-2h16zm0-5H4V4h16z"}),"CardMembership"),Yo=Ie(a.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),TL=Ie(a.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),Lie=Ie(a.jsx("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft"),$ie=Ie(a.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight"),KC=Ie(a.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),EL=Ie(a.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy"),Fie=Ie(a.jsx("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4v-6h16zm0-10H4V6h16z"}),"CreditCard"),Vie=Ie(a.jsx("path",{d:"M3 13h8V3H3zm0 8h8v-6H3zm10 0h8V11h-8zm0-18v6h8V3z"}),"Dashboard"),Xf=Ie(a.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),df=Ie(a.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),Bie=Ie(a.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email"),Uie=Ie(a.jsx("path",{d:"M10.09 15.59 11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"ExitToApp"),zie=Ie(a.jsx("path",{d:"M19 9h-4V3H9v6H5l7 7zM5 18v2h14v-2z"}),"FileDownload"),Wie=Ie(a.jsx("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"}),"FilterList"),Hie=Ie(a.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"}),"History"),qie=Ie(a.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info"),Gie=Ie(a.jsx("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),"Link"),Yie=Ie(a.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"}),"LocationOn"),Kie=Ie(a.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),SL=Ie(a.jsx("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1z"}),"Notifications"),vh=Ie(a.jsx("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4v-6h16zm0-10H4V6h16z"}),"Payment"),QC=Ie(a.jsx("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"People"),Qie=Ie(a.jsx("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02z"}),"Phone"),Xie=Ie(a.jsx("path",{d:"M16 1H8C6.34 1 5 2.34 5 4v16c0 1.66 1.34 3 3 3h8c1.66 0 3-1.34 3-3V4c0-1.66-1.34-3-3-3m-2 20h-4v-1h4zm3.25-3H6.75V4h10.5z"}),"PhoneAndroid"),Jie=Ie(a.jsx("path",{d:"M3 11h8V3H3zm2-6h4v4H5zM3 21h8v-8H3zm2-6h4v4H5zm8-12v8h8V3zm6 6h-4V5h4zm0 10h2v2h-2zm-6-6h2v2h-2zm2 2h2v2h-2zm-2 2h2v2h-2zm2 2h2v2h-2zm2-2h2v2h-2zm0-4h2v2h-2zm2 2h2v2h-2z"}),"QrCode"),XC=Ie(a.jsx("path",{d:"M15 21h-2v-2h2zm-2-7h-2v5h2zm8-2h-2v4h2zm-2-2h-2v2h2zM7 12H5v2h2zm-2-2H3v2h2zm7-5h2V3h-2zm-7.5-.5v3h3v-3zM9 9H3V3h6zm-4.5 7.5v3h3v-3zM9 21H3v-6h6zm7.5-16.5v3h3v-3zM21 9h-6V3h6zm-2 10v-3h-4v2h2v3h4v-2zm-2-7h-4v2h4zm-4-2H7v2h2v2h2v-2h2zm1-1V7h-2V5h-2v4zM6.75 5.25h-1.5v1.5h1.5zm0 12h-1.5v1.5h1.5zm12-12h-1.5v1.5h1.5z"}),"QrCode2"),Zie=Ie(a.jsx("path",{d:"M18 17H6v-2h12zm0-4H6v-2h12zm0-4H6V7h12zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2z"}),"Receipt"),Ib=Ie(a.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save"),eoe=Ie([a.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),a.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"Schedule"),toe=Ie(a.jsx("path",{d:"M19.8 18.4 14 10.67V6.5l1.35-1.69c.26-.33.03-.81-.39-.81H9.04c-.42 0-.65.48-.39.81L10 6.5v4.17L4.2 18.4c-.49.66-.02 1.6.8 1.6h14c.82 0 1.29-.94.8-1.6"}),"Science"),IL=Ie(a.jsx("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11z"}),"Security"),noe=Ie(a.jsx("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send"),kL=Ie(a.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),RL=Ie(a.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92"}),"Share"),PL=Ie(a.jsx("path",{d:"M19.52 2.49C17.18.15 12.9.62 9.97 3.55c-1.6 1.6-2.52 3.87-2.54 5.46-.02 1.58.26 3.89-1.35 5.5l-4.24 4.24 1.42 1.42 4.24-4.24c1.61-1.61 3.92-1.33 5.5-1.35s3.86-.94 5.46-2.54c2.92-2.93 3.4-7.21 1.06-9.55m-9.2 9.19c-1.53-1.53-1.05-4.61 1.06-6.72s5.18-2.59 6.72-1.06c1.53 1.53 1.05 4.61-1.06 6.72s-5.18 2.59-6.72 1.06M18 17c.53 0 1.04.21 1.41.59.78.78.78 2.05 0 2.83-.37.37-.88.58-1.41.58s-1.04-.21-1.41-.59c-.78-.78-.78-2.05 0-2.83.37-.37.88-.58 1.41-.58m0-2c-1.02 0-2.05.39-2.83 1.17-1.56 1.56-1.56 4.09 0 5.66.78.78 1.81 1.17 2.83 1.17s2.05-.39 2.83-1.17c1.56-1.56 1.56-4.09 0-5.66C20.05 15.39 19.02 15 18 15"}),"SportsTennis"),roe=Ie(a.jsx("path",{d:"M20 4H4v2h16zm1 10v-2l-1-5H4l-1 5v2h1v6h10v-6h4v6h2v-6zm-9 4H6v-4h6z"}),"Store"),soe=Ie(a.jsx("path",{d:"M16.5 12c1.38 0 2.49-1.12 2.49-2.5S17.88 7 16.5 7C15.12 7 14 8.12 14 9.5s1.12 2.5 2.5 2.5M9 11c1.66 0 2.99-1.34 2.99-3S10.66 5 9 5C7.34 5 6 6.34 6 8s1.34 3 3 3m7.5 3c-1.83 0-5.5.92-5.5 2.75V19h11v-2.25c0-1.83-3.67-2.75-5.5-2.75M9 13c-2.33 0-7 1.17-7 3.5V19h7v-2.25c0-.85.33-2.34 2.37-3.47C10.5 13.1 9.66 13 9 13"}),"SupervisorAccount"),ioe=Ie(a.jsx("path",{d:"M9 1h6v2H9zm10.03 6.39 1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42C16.07 4.74 14.12 4 12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9 9-4.03 9-9c0-2.12-.74-4.07-1.97-5.61M13 14h-2V8h2z"}),"Timer"),Hy=Ie(a.jsx("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp"),ooe=Ie(a.jsx("path",{d:"M16 18v2H8v-2zM11 7.99V16h2V7.99h3L12 4 8 7.99z"}),"Upgrade"),aoe=Ie(a.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),loe=Ie(a.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff"),kb=Ie(a.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning"),coe=Ie(a.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m-5 14H4v-4h11zm0-5H4V9h11zm5 5h-4V9h4z"}),"Web"),Dr=()=>{const{admin:t}=xr(),e=p=>t?t.role==="superadmin"?!0:Array.isArray(p)?p.some(m=>t.permissions.includes(m)):t.permissions.includes(p):!1;return{hasPermission:e,hasAllPermissions:p=>t?t.role==="superadmin"?!0:p.every(m=>t.permissions.includes(m)):!1,hasRole:p=>t?Array.isArray(p)?p.includes(t.role):t.role===p:!1,canAccessVenue:p=>t?t.role==="superadmin"?!0:t.venueId===p:!1,canManageAdmins:()=>e("manage_admins"),canManageAllVenues:()=>e("manage_all_venues"),canViewFinance:()=>e(["manage_finance","view_reports"]),canManageBookings:()=>e(["manage_bookings","manage_all_bookings"]),canManageCourts:()=>e(["manage_courts","manage_all_venues"]),canManageClub:()=>e(["manage_club","manage_all_venues"]),canViewReports:()=>e(["view_reports","view_all_reports"]),permissions:(t==null?void 0:t.permissions)||[],role:(t==null?void 0:t.role)||null,isSuperAdmin:(t==null?void 0:t.role)==="superadmin",isAdmin:(t==null?void 0:t.role)==="admin",isManager:(t==null?void 0:t.role)==="manager"}};function Rb({size:t=60,backgroundColor:e="#00A86B",courtColor:n="white",className:r}){return a.jsxs("svg",{viewBox:"0 0 120 120",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,className:r,children:[a.jsx("rect",{x:"0",y:"0",width:"120",height:"120",rx:"24",fill:e}),a.jsx("rect",{x:"20",y:"20",width:"80",height:"80",rx:"8",fill:"none",stroke:n,strokeWidth:"3"}),a.jsx("line",{x1:"20",y1:"60",x2:"100",y2:"60",stroke:n,strokeWidth:"3"}),a.jsx("line",{x1:"60",y1:"20",x2:"60",y2:"100",stroke:n,strokeWidth:"3"})]})}function uoe(){var x;const t=Qr(),e=_f(),{club:n,logout:r,admin:s}=xr(),{hasPermission:i,hasRole:o,isSuperAdmin:l,canViewFinance:c,canManageClub:u}=Dr(),[d,h]=y.useState(!1),p=[{path:"/admin/dashboard",label:"Главная",icon:a.jsx(Vie,{})},{path:"/admin/bookings",label:"Календарь",icon:a.jsx(YC,{}),permission:["manage_bookings","manage_all_bookings","view_bookings"]},...l?[{path:"/admin/venues",label:"Все клубы",icon:a.jsx(roe,{})},{path:"/admin/billing-settings",label:"Настройки биллинга",icon:a.jsx(vh,{})},{path:"/admin/admins",label:"Администраторы",icon:a.jsx(soe,{})}]:[],...u()?[{path:"/admin/club",label:"Управление клубом",icon:a.jsx(Eb,{})}]:[],{path:"/admin/subscription",label:"Подписка",icon:a.jsx(Sb,{}),permission:["manage_club","manage_all_venues"]},{path:"/admin/payment-settings",label:"Настройки оплаты",icon:a.jsx(Fie,{}),permission:["manage_club","manage_all_venues"]},{path:"/admin/courts",label:"Корты",icon:a.jsx(PL,{}),permission:["manage_courts","manage_all_venues"]},{path:"/admin/customers",label:"Клиенты",icon:a.jsx(QC,{}),permission:["manage_all_users","manage_club"]},...c()?[{path:"/admin/finance",label:"Финансы",icon:a.jsx(uf,{})}]:[],{path:"/admin/marketing",label:"Маркетинг",icon:a.jsx(Hy,{}),roles:["superadmin","admin"]},{path:"/admin/settings",label:"Настройки",icon:a.jsx(kL,{})}].filter(_=>!(_.permission&&!i(_.permission)||_.roles&&!o(_.roles))),m=_=>e.pathname===_,v=_=>{t(_),window.innerWidth<=768&&h(!1)},g=()=>{h(!d)},b=()=>{const _=p.find(w=>m(w.path));return(_==null?void 0:_.label)||"Главная"};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:`sidebar-overlay ${d?"active":""}`,onClick:g}),a.jsxs("aside",{className:`sidebar ${d?"active":""}`,children:[a.jsx("button",{className:"sidebar-close",onClick:g,children:a.jsx(KC,{})}),a.jsxs("div",{className:"logo-section",children:[a.jsxs("div",{className:"platform-logo",children:[a.jsx(Rb,{size:40}),a.jsx("div",{className:"logo-text",children:"Все Корты"})]}),!l&&a.jsxs("div",{className:"club-info",children:[a.jsx("div",{className:"club-logo",children:n!=null&&n.logoUrl?a.jsx("img",{src:n.logoUrl,alt:n.name}):((x=n==null?void 0:n.name)==null?void 0:x.substring(0,2).toUpperCase())||"CL"}),a.jsx("div",{className:"club-name",children:(n==null?void 0:n.name)||"Загрузка..."})]}),l&&a.jsxs("div",{className:"club-info",children:[a.jsx("div",{className:"club-logo",style:{background:"#ef4444"},children:"SA"}),a.jsx("div",{className:"club-name",children:"Суперадминистратор"})]})]}),a.jsx("nav",{className:"nav-menu",children:p.map(_=>a.jsxs("a",{className:`nav-item ${m(_.path)?"active":""}`,onClick:()=>v(_.path),children:[a.jsx("span",{className:"nav-icon",children:_.icon}),a.jsx("span",{children:_.label})]},_.path))})]}),a.jsxs("div",{className:"main-container",children:[a.jsxs("header",{className:"header",children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[a.jsx("button",{className:"menu-toggle",onClick:g,children:a.jsx(Kie,{})}),a.jsx("h1",{className:"page-title",children:b()})]}),a.jsxs("div",{className:"header-actions",children:[a.jsx("button",{className:"notification-btn",children:a.jsx(SL,{fontSize:"small"})}),a.jsxs("div",{className:"user-menu",children:[a.jsxs("div",{className:"user-info",children:[a.jsx("span",{className:"user-name",children:s==null?void 0:s.name}),a.jsx("span",{className:"user-role",children:s==null?void 0:s.role})]}),a.jsx("button",{className:"user-btn",children:a.jsx(CL,{fontSize:"small"})}),a.jsx("button",{className:"logout-btn",onClick:r,title:"Выйти",children:a.jsx(Uie,{fontSize:"small"})})]})]})]}),a.jsx("div",{className:"content",children:a.jsx(eF,{})})]})]})}function doe(){const t=Qr(),[e,n]=y.useState(""),[r,s]=y.useState(""),[i,o]=y.useState(!1),[l,c]=y.useState(""),[u,d]=y.useState(!1),h=async p=>{p.preventDefault(),c(""),d(!0);try{const m=await iW($r,e,r);if(!(await sn(We(ye,"admins",m.user.uid))).exists())throw new Error("У вас нет прав доступа к админ-панели");t("/admin/dashboard")}catch(m){console.error("Login error:",m),m.code==="auth/user-not-found"?c("Пользователь не найден"):m.code==="auth/wrong-password"?c("Неверный пароль"):m.code==="auth/invalid-email"?c("Неверный формат email"):c(m.message||"Ошибка авторизации")}finally{d(!1)}};return a.jsx(he,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"#f5f5f5"},children:a.jsx(gn,{sx:{maxWidth:400,width:"100%",mx:2},children:a.jsxs(vn,{sx:{p:4},children:[a.jsx(ne,{variant:"h4",component:"h1",gutterBottom:!0,align:"center",children:"Админ-панель"}),a.jsx(ne,{variant:"body2",color:"text.secondary",align:"center",sx:{mb:3},children:"Вход для сотрудников клубов"}),l&&a.jsx(rn,{severity:"error",sx:{mb:2},children:l}),a.jsxs("form",{onSubmit:h,children:[a.jsx(At,{fullWidth:!0,label:"Email",type:"email",value:e,onChange:p=>n(p.target.value),margin:"normal",required:!0,autoComplete:"email",autoFocus:!0}),a.jsx(At,{fullWidth:!0,label:"Пароль",type:i?"text":"password",value:r,onChange:p=>s(p.target.value),margin:"normal",required:!0,autoComplete:"current-password",InputProps:{endAdornment:a.jsx(_ne,{position:"end",children:a.jsx(cs,{onClick:()=>o(!i),edge:"end",children:i?a.jsx(loe,{}):a.jsx(aoe,{})})})}}),a.jsx(Ye,{type:"submit",fullWidth:!0,variant:"contained",size:"large",sx:{mt:3,mb:2},disabled:u,children:u?"Вход...":"Войти"})]}),a.jsx(ne,{variant:"body2",color:"text.secondary",align:"center",sx:{mt:2},children:"Забыли пароль? Обратитесь к администратору системы"}),a.jsx(he,{sx:{mt:3,pt:3,borderTop:1,borderColor:"divider"},children:a.jsxs(ne,{variant:"body2",color:"text.secondary",align:"center",children:["Хотите зарегистрировать свой клуб?"," ",a.jsx(Ye,{variant:"text",onClick:()=>t("/register"),sx:{textTransform:"none"},children:"Создать аккаунт"})]})})]})})})}const Q2=[{icon:a.jsx(PL,{}),title:"Управление кортами",description:"Настройка расписания и цен"},{icon:a.jsx(YC,{}),title:"Онлайн-бронирование",description:"Прием заявок 24/7"},{icon:a.jsx(QC,{}),title:"База клиентов",description:"CRM система для клуба"},{icon:a.jsx(Die,{}),title:"Аналитика и отчеты",description:"Статистика доходов и загрузки"},{icon:a.jsx(SL,{}),title:"Уведомления",description:"SMS и email рассылки"},{icon:a.jsx(vh,{}),title:"Онлайн-оплата",description:"Прием платежей картами"},{icon:a.jsx(kL,{}),title:"Гибкие настройки",description:"Адаптация под ваш клуб"},{icon:a.jsx(IL,{}),title:"Безопасность",description:"Защита данных клиентов"}];function hoe(){const t=Qr(),[e,n]=y.useState(!1),[r,s]=y.useState(""),[i,o]=y.useState(!1),[l,c]=y.useState(!1),[u,d]=y.useState(0),[h,p]=y.useState(0),[m,v]=y.useState(!1),[g,b]=y.useState({name:"",address:"",city:"",phone:"",email:"",description:"",organizationType:"ИП",inn:"",bankAccount:"",adminPassword:""});y.useEffect(()=>{if(e){v(!0),p(0),d(0);const w=setInterval(()=>{d(N=>N>=95?(clearInterval(w),95):N+Math.random()*10)},500),I=setInterval(()=>{p(N=>N>=Q2.length-1?(clearInterval(I),N):N+1)},2e3);return()=>{clearInterval(w),clearInterval(I)}}else v(!1),d(0),p(0)},[e]);const x=()=>{const w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let I="";for(let N=0;N<10;N++)I+=w.charAt(Math.floor(Math.random()*w.length));return I},_=async w=>{w.preventDefault(),console.log("Form submitted with data:",g),s(""),n(!0);try{if(!g.name||!g.address||!g.city||!g.phone||!g.email){s("Заполните все обязательные поля"),n(!1);return}const I=g.adminPassword||x();console.log("Generated/provided password:",I),$r.currentUser&&(console.log("Signing out current user:",$r.currentUser.email),await xg($r)),console.log("Creating user with email:",g.email);const R=(await BD($r,g.email,I)).user.uid;console.log("User created successfully with ID:",R);const S={name:g.name,address:g.address,city:g.city,phone:g.phone,email:g.email,description:g.description||"",organizationType:g.organizationType,inn:g.inn,bankAccount:g.bankAccount||"",status:"pending",createdAt:new Date,updatedAt:new Date,logoUrl:"",amenities:[],location:null};console.log("Creating venue with data:",S);let E=!1,C="";try{console.log("Creating club via Cloud Function..."),console.log("Sending data:",{venueData:S,password:I,userId:R});const A=await(await fetch("https://europe-west1-sports-booking-app-1d7e5.cloudfunctions.net/createClubHttp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({venueData:S,password:I,userId:R})})).json();if(A.success)console.log("Club created via Cloud Function!"),E=!0,C=A.venueId;else throw new Error(A.error||"Unknown error")}catch(k){throw console.error("Cloud Function failed:",k),k}if(E)c(!1);else{console.log("Saving registration for manual processing...");const k={id:R,userId:R,venueData:S,password:I,timestamp:new Date().toISOString(),status:"pending_manual_creation"};localStorage.setItem("pendingClubRegistration_"+R,JSON.stringify(k)),c(!0)}b({...g,adminPassword:I}),(E||!l)&&d(100),$r.currentUser&&(await xg($r),console.log("Signed out after club creation")),o(!0),console.log("Registration completed successfully!")}catch(I){console.error("Error creating club:",I),console.error("Error details:",{code:I==null?void 0:I.code,message:I==null?void 0:I.message,stack:I==null?void 0:I.stack}),I.code==="auth/email-already-in-use"?s("Этот email уже используется. Пожалуйста, войдите в систему."):I.code==="auth/weak-password"?s("Пароль слишком слабый. Минимум 6 символов."):I.code==="auth/invalid-email"?s("Неверный формат email адреса."):s("Ошибка при создании клуба: "+(I.message||"Неизвестная ошибка"))}finally{n(!1)}};return a.jsxs(hL,{component:"main",maxWidth:"md",children:[a.jsxs(he,{sx:{marginTop:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[a.jsx(Rb,{size:60,className:"mb-4"}),a.jsx(ne,{component:"h1",variant:"h4",gutterBottom:!0,children:"Регистрация клуба"}),a.jsx(ne,{variant:"body2",color:"textSecondary",align:"center",sx:{mb:3},children:"Создайте аккаунт для управления вашим спортивным клубом"}),a.jsxs($s,{sx:{width:"100%",p:4},children:[r&&a.jsx(rn,{severity:"error",sx:{mb:3},children:r}),a.jsxs("form",{onSubmit:_,children:[a.jsxs(he,{sx:{display:"grid",gap:2,gridTemplateColumns:{md:"1fr 1fr"}},children:[a.jsx(ne,{variant:"h6",sx:{gridColumn:"1 / -1",mb:1},children:"Информация о клубе"}),a.jsx(At,{label:"Название клуба",value:g.name,onChange:w=>b({...g,name:w.target.value}),fullWidth:!0,required:!0}),a.jsx(At,{label:"Адрес",value:g.address,onChange:w=>b({...g,address:w.target.value}),fullWidth:!0,required:!0}),a.jsx(At,{label:"Город",value:g.city,onChange:w=>b({...g,city:w.target.value}),fullWidth:!0,required:!0}),a.jsx(At,{label:"Телефон",value:g.phone,onChange:w=>b({...g,phone:w.target.value}),fullWidth:!0,required:!0,placeholder:"+7 (900) 123-45-67"}),a.jsx(At,{label:"Email",value:g.email,onChange:w=>b({...g,email:w.target.value}),fullWidth:!0,required:!0,type:"email",sx:{gridColumn:"1 / -1"}}),a.jsx(ne,{variant:"h6",sx:{gridColumn:"1 / -1",mt:2,mb:1},children:"Юридическая информация"}),a.jsxs(Ii,{fullWidth:!0,children:[a.jsx(wo,{children:"Форма организации"}),a.jsxs(Ni,{value:g.organizationType,onChange:w=>b({...g,organizationType:w.target.value}),label:"Форма организации",children:[a.jsx(Rn,{value:"ИП",children:"ИП"}),a.jsx(Rn,{value:"ООО",children:"ООО"}),a.jsx(Rn,{value:"Самозанятый",children:"Самозанятый"})]})]}),a.jsx(At,{label:"ИНН",value:g.inn,onChange:w=>b({...g,inn:w.target.value}),fullWidth:!0}),a.jsx(At,{label:"Пароль администратора (необязательно)",value:g.adminPassword,onChange:w=>b({...g,adminPassword:w.target.value}),fullWidth:!0,type:"password",helperText:"Если не указан, будет сгенерирован автоматически"})]}),a.jsxs(he,{sx:{mt:3,display:"flex",gap:2,justifyContent:"flex-end"},children:[a.jsx(Ye,{type:"button",onClick:()=>t("/admin/login"),disabled:e,children:"Уже есть аккаунт?"}),a.jsx(Ye,{type:"submit",variant:"contained",disabled:e,children:e?"Создание...":"Создать клуб"})]})]})]})]}),a.jsxs(ro,{open:i,onClose:()=>{},maxWidth:"sm",fullWidth:!0,children:[a.jsx(va,{children:a.jsxs(he,{display:"flex",alignItems:"center",gap:2,children:[a.jsx(Eb,{color:l?"warning":"success"}),l?"Регистрация отправлена!":"Клуб успешно создан!"]})}),a.jsxs(so,{children:[a.jsx(rn,{severity:l?"warning":"success",sx:{mb:2},children:l?"Ваша заявка принята! Мы свяжемся с вами в течение 24 часов для завершения регистрации.":"Сохраните эти данные для входа в систему"}),a.jsxs(he,{sx:{display:"flex",flexDirection:"column",gap:2},children:[a.jsxs(he,{children:[a.jsx(ne,{variant:"body2",color:"textSecondary",children:"Название клуба"}),a.jsx(ne,{variant:"body1",fontWeight:"bold",children:g.name})]}),a.jsxs(he,{children:[a.jsx(ne,{variant:"body2",color:"textSecondary",children:"Email администратора"}),a.jsx(ne,{variant:"body1",fontWeight:"bold",children:g.email})]}),a.jsxs(he,{children:[a.jsx(ne,{variant:"body2",color:"textSecondary",children:"Пароль администратора"}),a.jsx(ne,{variant:"body1",fontWeight:"bold",children:g.adminPassword})]})]})]}),a.jsxs(ga,{sx:{justifyContent:"space-between",px:3,pb:3},children:[a.jsx(Ye,{onClick:()=>t("/"),variant:"outlined",children:"На главную"}),!l&&a.jsx(Ye,{onClick:()=>window.open("/admin/login","_blank"),variant:"contained",startIcon:a.jsx(Eb,{}),children:"Вход для админов"})]})]}),a.jsx(ro,{open:e,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{background:"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)",borderRadius:3}},children:a.jsx(so,{sx:{py:4},children:a.jsxs(he,{textAlign:"center",children:[a.jsx(Rb,{size:80,className:"mb-4"}),a.jsx(ne,{variant:"h5",gutterBottom:!0,sx:{mb:4,fontWeight:600},children:"Создаем ваш клуб..."}),a.jsxs(he,{sx:{mb:4},children:[a.jsx(Nm,{variant:"determinate",value:u,sx:{height:8,borderRadius:4,backgroundColor:"rgba(0, 168, 107, 0.1)","& .MuiLinearProgress-bar":{borderRadius:4,backgroundColor:"#00A86B"}}}),a.jsxs(ne,{variant:"caption",sx:{mt:1,display:"block"},children:[Math.round(u),"%"]})]}),m&&a.jsx(he,{sx:{minHeight:120},children:Q2.map((w,I)=>a.jsx(Kf,{in:h>=I,timeout:1e3,style:{display:h===I?"block":"none"},children:a.jsxs(he,{children:[a.jsx(he,{sx:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:60,height:60,borderRadius:"50%",backgroundColor:"rgba(0, 168, 107, 0.1)",mb:2},children:ot.cloneElement(w.icon,{sx:{fontSize:30,color:"#00A86B"}})}),a.jsx(ne,{variant:"h6",gutterBottom:!0,children:w.title}),a.jsx(ne,{variant:"body2",color:"textSecondary",children:w.description})]})},I))}),a.jsx(ne,{variant:"body2",color:"textSecondary",sx:{mt:3},children:"Настраиваем систему управления для вашего клуба..."})]})})})]})}var foe=Object.defineProperty,Qg=Object.getOwnPropertySymbols,AL=Object.prototype.hasOwnProperty,NL=Object.prototype.propertyIsEnumerable,X2=(t,e,n)=>e in t?foe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Pb=(t,e)=>{for(var n in e||(e={}))AL.call(e,n)&&X2(t,n,e[n]);if(Qg)for(var n of Qg(e))NL.call(e,n)&&X2(t,n,e[n]);return t},Ab=(t,e)=>{var n={};for(var r in t)AL.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Qg)for(var r of Qg(t))e.indexOf(r)<0&&NL.call(t,r)&&(n[r]=t[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Dl;(t=>{const e=class tt{constructor(c,u,d,h){if(this.version=c,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],c<tt.MIN_VERSION||c>tt.MAX_VERSION)throw new RangeError("Version value out of range");if(h<-1||h>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let p=[];for(let v=0;v<this.size;v++)p.push(!1);for(let v=0;v<this.size;v++)this.modules.push(p.slice()),this.isFunction.push(p.slice());this.drawFunctionPatterns();const m=this.addEccAndInterleave(d);if(this.drawCodewords(m),h==-1){let v=1e9;for(let g=0;g<8;g++){this.applyMask(g),this.drawFormatBits(g);const b=this.getPenaltyScore();b<v&&(h=g,v=b),this.applyMask(g)}}s(0<=h&&h<=7),this.mask=h,this.applyMask(h),this.drawFormatBits(h),this.isFunction=[]}static encodeText(c,u){const d=t.QrSegment.makeSegments(c);return tt.encodeSegments(d,u)}static encodeBinary(c,u){const d=t.QrSegment.makeBytes(c);return tt.encodeSegments([d],u)}static encodeSegments(c,u,d=1,h=40,p=-1,m=!0){if(!(tt.MIN_VERSION<=d&&d<=h&&h<=tt.MAX_VERSION)||p<-1||p>7)throw new RangeError("Invalid value");let v,g;for(v=d;;v++){const w=tt.getNumDataCodewords(v,u)*8,I=o.getTotalBits(c,v);if(I<=w){g=I;break}if(v>=h)throw new RangeError("Data too long")}for(const w of[tt.Ecc.MEDIUM,tt.Ecc.QUARTILE,tt.Ecc.HIGH])m&&g<=tt.getNumDataCodewords(v,w)*8&&(u=w);let b=[];for(const w of c){n(w.mode.modeBits,4,b),n(w.numChars,w.mode.numCharCountBits(v),b);for(const I of w.getData())b.push(I)}s(b.length==g);const x=tt.getNumDataCodewords(v,u)*8;s(b.length<=x),n(0,Math.min(4,x-b.length),b),n(0,(8-b.length%8)%8,b),s(b.length%8==0);for(let w=236;b.length<x;w^=253)n(w,8,b);let _=[];for(;_.length*8<b.length;)_.push(0);return b.forEach((w,I)=>_[I>>>3]|=w<<7-(I&7)),new tt(v,u,_,p)}getModule(c,u){return 0<=c&&c<this.size&&0<=u&&u<this.size&&this.modules[u][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),u=c.length;for(let d=0;d<u;d++)for(let h=0;h<u;h++)d==0&&h==0||d==0&&h==u-1||d==u-1&&h==0||this.drawAlignmentPattern(c[d],c[h]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const u=this.errorCorrectionLevel.formatBits<<3|c;let d=u;for(let p=0;p<10;p++)d=d<<1^(d>>>9)*1335;const h=(u<<10|d)^21522;s(h>>>15==0);for(let p=0;p<=5;p++)this.setFunctionModule(8,p,r(h,p));this.setFunctionModule(8,7,r(h,6)),this.setFunctionModule(8,8,r(h,7)),this.setFunctionModule(7,8,r(h,8));for(let p=9;p<15;p++)this.setFunctionModule(14-p,8,r(h,p));for(let p=0;p<8;p++)this.setFunctionModule(this.size-1-p,8,r(h,p));for(let p=8;p<15;p++)this.setFunctionModule(8,this.size-15+p,r(h,p));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let d=0;d<12;d++)c=c<<1^(c>>>11)*7973;const u=this.version<<12|c;s(u>>>18==0);for(let d=0;d<18;d++){const h=r(u,d),p=this.size-11+d%3,m=Math.floor(d/3);this.setFunctionModule(p,m,h),this.setFunctionModule(m,p,h)}}drawFinderPattern(c,u){for(let d=-4;d<=4;d++)for(let h=-4;h<=4;h++){const p=Math.max(Math.abs(h),Math.abs(d)),m=c+h,v=u+d;0<=m&&m<this.size&&0<=v&&v<this.size&&this.setFunctionModule(m,v,p!=2&&p!=4)}}drawAlignmentPattern(c,u){for(let d=-2;d<=2;d++)for(let h=-2;h<=2;h++)this.setFunctionModule(c+h,u+d,Math.max(Math.abs(h),Math.abs(d))!=1)}setFunctionModule(c,u,d){this.modules[u][c]=d,this.isFunction[u][c]=!0}addEccAndInterleave(c){const u=this.version,d=this.errorCorrectionLevel;if(c.length!=tt.getNumDataCodewords(u,d))throw new RangeError("Invalid argument");const h=tt.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][u],p=tt.ECC_CODEWORDS_PER_BLOCK[d.ordinal][u],m=Math.floor(tt.getNumRawDataModules(u)/8),v=h-m%h,g=Math.floor(m/h);let b=[];const x=tt.reedSolomonComputeDivisor(p);for(let w=0,I=0;w<h;w++){let N=c.slice(I,I+g-p+(w<v?0:1));I+=N.length;const R=tt.reedSolomonComputeRemainder(N,x);w<v&&N.push(0),b.push(N.concat(R))}let _=[];for(let w=0;w<b[0].length;w++)b.forEach((I,N)=>{(w!=g-p||N>=v)&&_.push(I[w])});return s(_.length==m),_}drawCodewords(c){if(c.length!=Math.floor(tt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let h=0;h<this.size;h++)for(let p=0;p<2;p++){const m=d-p,g=(d+1&2)==0?this.size-1-h:h;!this.isFunction[g][m]&&u<c.length*8&&(this.modules[g][m]=r(c[u>>>3],7-(u&7)),u++)}}s(u==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let d=0;d<this.size;d++){let h;switch(c){case 0:h=(d+u)%2==0;break;case 1:h=u%2==0;break;case 2:h=d%3==0;break;case 3:h=(d+u)%3==0;break;case 4:h=(Math.floor(d/3)+Math.floor(u/2))%2==0;break;case 5:h=d*u%2+d*u%3==0;break;case 6:h=(d*u%2+d*u%3)%2==0;break;case 7:h=((d+u)%2+d*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][d]&&h&&(this.modules[u][d]=!this.modules[u][d])}}getPenaltyScore(){let c=0;for(let p=0;p<this.size;p++){let m=!1,v=0,g=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[p][b]==m?(v++,v==5?c+=tt.PENALTY_N1:v>5&&c++):(this.finderPenaltyAddHistory(v,g),m||(c+=this.finderPenaltyCountPatterns(g)*tt.PENALTY_N3),m=this.modules[p][b],v=1);c+=this.finderPenaltyTerminateAndCount(m,v,g)*tt.PENALTY_N3}for(let p=0;p<this.size;p++){let m=!1,v=0,g=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[b][p]==m?(v++,v==5?c+=tt.PENALTY_N1:v>5&&c++):(this.finderPenaltyAddHistory(v,g),m||(c+=this.finderPenaltyCountPatterns(g)*tt.PENALTY_N3),m=this.modules[b][p],v=1);c+=this.finderPenaltyTerminateAndCount(m,v,g)*tt.PENALTY_N3}for(let p=0;p<this.size-1;p++)for(let m=0;m<this.size-1;m++){const v=this.modules[p][m];v==this.modules[p][m+1]&&v==this.modules[p+1][m]&&v==this.modules[p+1][m+1]&&(c+=tt.PENALTY_N2)}let u=0;for(const p of this.modules)u=p.reduce((m,v)=>m+(v?1:0),u);const d=this.size*this.size,h=Math.ceil(Math.abs(u*20-d*10)/d)-1;return s(0<=h&&h<=9),c+=h*tt.PENALTY_N4,s(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let d=[6];for(let h=this.size-7;d.length<c;h-=u)d.splice(1,0,h);return d}}static getNumRawDataModules(c){if(c<tt.MIN_VERSION||c>tt.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*c+128)*c+64;if(c>=2){const d=Math.floor(c/7)+2;u-=(25*d-10)*d-55,c>=7&&(u-=36)}return s(208<=u&&u<=29648),u}static getNumDataCodewords(c,u){return Math.floor(tt.getNumRawDataModules(c)/8)-tt.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c]*tt.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let u=[];for(let h=0;h<c-1;h++)u.push(0);u.push(1);let d=1;for(let h=0;h<c;h++){for(let p=0;p<u.length;p++)u[p]=tt.reedSolomonMultiply(u[p],d),p+1<u.length&&(u[p]^=u[p+1]);d=tt.reedSolomonMultiply(d,2)}return u}static reedSolomonComputeRemainder(c,u){let d=u.map(h=>0);for(const h of c){const p=h^d.shift();d.push(0),u.forEach((m,v)=>d[v]^=tt.reedSolomonMultiply(m,p))}return d}static reedSolomonMultiply(c,u){if(c>>>8||u>>>8)throw new RangeError("Byte out of range");let d=0;for(let h=7;h>=0;h--)d=d<<1^(d>>>7)*285,d^=(u>>>h&1)*c;return s(d>>>8==0),d}finderPenaltyCountPatterns(c){const u=c[1];s(u<=this.size*3);const d=u>0&&c[2]==u&&c[3]==u*3&&c[4]==u&&c[5]==u;return(d&&c[0]>=u*4&&c[6]>=u?1:0)+(d&&c[6]>=u*4&&c[0]>=u?1:0)}finderPenaltyTerminateAndCount(c,u,d){return c&&(this.finderPenaltyAddHistory(u,d),u=0),u+=this.size,this.finderPenaltyAddHistory(u,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(c,u){u[0]==0&&(c+=this.size),u.pop(),u.unshift(c)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function n(l,c,u){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let d=c-1;d>=0;d--)u.push(l>>>d&1)}function r(l,c){return(l>>>c&1)!=0}function s(l){if(!l)throw new Error("Assertion error")}const i=class hn{constructor(c,u,d){if(this.mode=c,this.numChars=u,this.bitData=d,u<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(c){let u=[];for(const d of c)n(d,8,u);return new hn(hn.Mode.BYTE,c.length,u)}static makeNumeric(c){if(!hn.isNumeric(c))throw new RangeError("String contains non-numeric characters");let u=[];for(let d=0;d<c.length;){const h=Math.min(c.length-d,3);n(parseInt(c.substring(d,d+h),10),h*3+1,u),d+=h}return new hn(hn.Mode.NUMERIC,c.length,u)}static makeAlphanumeric(c){if(!hn.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],d;for(d=0;d+2<=c.length;d+=2){let h=hn.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d))*45;h+=hn.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d+1)),n(h,11,u)}return d<c.length&&n(hn.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d)),6,u),new hn(hn.Mode.ALPHANUMERIC,c.length,u)}static makeSegments(c){return c==""?[]:hn.isNumeric(c)?[hn.makeNumeric(c)]:hn.isAlphanumeric(c)?[hn.makeAlphanumeric(c)]:[hn.makeBytes(hn.toUtf8ByteArray(c))]}static makeEci(c){let u=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)n(c,8,u);else if(c<16384)n(2,2,u),n(c,14,u);else if(c<1e6)n(6,3,u),n(c,21,u);else throw new RangeError("ECI assignment value out of range");return new hn(hn.Mode.ECI,0,u)}static isNumeric(c){return hn.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return hn.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,u){let d=0;for(const h of c){const p=h.mode.numCharCountBits(u);if(h.numChars>=1<<p)return 1/0;d+=4+p+h.bitData.length}return d}static toUtf8ByteArray(c){c=encodeURI(c);let u=[];for(let d=0;d<c.length;d++)c.charAt(d)!="%"?u.push(c.charCodeAt(d)):(u.push(parseInt(c.substring(d+1,d+3),16)),d+=2);return u}};i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=i;t.QrSegment=i})(Dl||(Dl={}));(t=>{(e=>{const n=class{constructor(s,i){this.ordinal=s,this.formatBits=i}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(Dl||(Dl={}));(t=>{(e=>{const n=class{constructor(s,i){this.modeBits=s,this.numBitsCharCount=i}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(Dl||(Dl={}));var Rc=Dl;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var poe={L:Rc.QrCode.Ecc.LOW,M:Rc.QrCode.Ecc.MEDIUM,Q:Rc.QrCode.Ecc.QUARTILE,H:Rc.QrCode.Ecc.HIGH},DL=128,jL="L",ML="#FFFFFF",OL="#000000",LL=!1,$L=1,moe=4,goe=0,voe=.1;function FL(t,e=0){const n=[];return t.forEach(function(r,s){let i=null;r.forEach(function(o,l){if(!o&&i!==null){n.push(`M${i+e} ${s+e}h${l-i}v1H${i+e}z`),i=null;return}if(l===r.length-1){if(!o)return;i===null?n.push(`M${l+e},${s+e} h1v1H${l+e}z`):n.push(`M${i+e},${s+e} h${l+1-i}v1H${i+e}z`);return}o&&i===null&&(i=l)})}),n.join("")}function VL(t,e){return t.slice().map((n,r)=>r<e.y||r>=e.y+e.h?n:n.map((s,i)=>i<e.x||i>=e.x+e.w?s:!1))}function yoe(t,e,n,r){if(r==null)return null;const s=t.length+n*2,i=Math.floor(e*voe),o=s/e,l=(r.width||i)*o,c=(r.height||i)*o,u=r.x==null?t.length/2-l/2:r.x*o,d=r.y==null?t.length/2-c/2:r.y*o,h=r.opacity==null?1:r.opacity;let p=null;if(r.excavate){let v=Math.floor(u),g=Math.floor(d),b=Math.ceil(l+u-v),x=Math.ceil(c+d-g);p={x:v,y:g,w:b,h:x}}const m=r.crossOrigin;return{x:u,y:d,h:c,w:l,excavation:p,opacity:h,crossOrigin:m}}function xoe(t,e){return e!=null?Math.max(Math.floor(e),0):t?moe:goe}function BL({value:t,level:e,minVersion:n,includeMargin:r,marginSize:s,imageSettings:i,size:o,boostLevel:l}){let c=ot.useMemo(()=>{const v=(Array.isArray(t)?t:[t]).reduce((g,b)=>(g.push(...Rc.QrSegment.makeSegments(b)),g),[]);return Rc.QrCode.encodeSegments(v,poe[e],n,void 0,void 0,l)},[t,e,n,l]);const{cells:u,margin:d,numCells:h,calculatedImageSettings:p}=ot.useMemo(()=>{let m=c.getModules();const v=xoe(r,s),g=m.length+v*2,b=yoe(m,o,v,i);return{cells:m,margin:v,numCells:g,calculatedImageSettings:b}},[c,o,i,r,s]);return{qrcode:c,margin:d,cells:u,numCells:h,calculatedImageSettings:p}}var _oe=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),boe=ot.forwardRef(function(e,n){const r=e,{value:s,size:i=DL,level:o=jL,bgColor:l=ML,fgColor:c=OL,includeMargin:u=LL,minVersion:d=$L,boostLevel:h,marginSize:p,imageSettings:m}=r,g=Ab(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:b}=g,x=Ab(g,["style"]),_=m==null?void 0:m.src,w=ot.useRef(null),I=ot.useRef(null),N=ot.useCallback(O=>{w.current=O,typeof n=="function"?n(O):n&&(n.current=O)},[n]),[R,S]=ot.useState(!1),{margin:E,cells:C,numCells:k,calculatedImageSettings:A}=BL({value:s,level:o,minVersion:d,boostLevel:h,includeMargin:u,marginSize:p,imageSettings:m,size:i});ot.useEffect(()=>{if(w.current!=null){const O=w.current,V=O.getContext("2d");if(!V)return;let B=C;const z=I.current,U=A!=null&&z!==null&&z.complete&&z.naturalHeight!==0&&z.naturalWidth!==0;U&&A.excavation!=null&&(B=VL(C,A.excavation));const F=window.devicePixelRatio||1;O.height=O.width=i*F;const L=i/k*F;V.scale(L,L),V.fillStyle=l,V.fillRect(0,0,k,k),V.fillStyle=c,_oe?V.fill(new Path2D(FL(B,E))):C.forEach(function(H,q){H.forEach(function(K,te){K&&V.fillRect(te+E,q+E,1,1)})}),A&&(V.globalAlpha=A.opacity),U&&V.drawImage(z,A.x+E,A.y+E,A.w,A.h)}}),ot.useEffect(()=>{S(!1)},[_]);const M=Pb({height:i,width:i},b);let P=null;return _!=null&&(P=ot.createElement("img",{src:_,key:_,style:{display:"none"},onLoad:()=>{S(!0)},ref:I,crossOrigin:A==null?void 0:A.crossOrigin})),ot.createElement(ot.Fragment,null,ot.createElement("canvas",Pb({style:M,height:i,width:i,ref:N,role:"img"},x)),P)});boe.displayName="QRCodeCanvas";var Xg=ot.forwardRef(function(e,n){const r=e,{value:s,size:i=DL,level:o=jL,bgColor:l=ML,fgColor:c=OL,includeMargin:u=LL,minVersion:d=$L,boostLevel:h,title:p,marginSize:m,imageSettings:v}=r,g=Ab(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:b,cells:x,numCells:_,calculatedImageSettings:w}=BL({value:s,level:o,minVersion:d,boostLevel:h,includeMargin:u,marginSize:m,imageSettings:v,size:i});let I=x,N=null;v!=null&&w!=null&&(w.excavation!=null&&(I=VL(x,w.excavation)),N=ot.createElement("image",{href:v.src,height:w.h,width:w.w,x:w.x+b,y:w.y+b,preserveAspectRatio:"none",opacity:w.opacity,crossOrigin:w.crossOrigin}));const R=FL(I,b);return ot.createElement("svg",Pb({height:i,width:i,viewBox:`0 0 ${_} ${_}`,ref:n,role:"img"},g),!!p&&ot.createElement("title",null,p),ot.createElement("path",{fill:l,d:`M0,0 h${_}v${_}H0z`,shapeRendering:"crispEdges"}),ot.createElement("path",{fill:c,d:R,shapeRendering:"crispEdges"}),N)});Xg.displayName="QRCodeSVG";const Kp=({title:t,value:e,icon:n,change:r,isPositive:s})=>a.jsxs("div",{className:"stat-card",children:[a.jsxs("div",{className:"stat-header",children:[a.jsx("span",{className:"stat-label",children:t}),a.jsx("div",{className:"stat-icon",children:n})]}),a.jsx("div",{className:"stat-value",children:e}),a.jsxs("div",{className:`stat-change ${s?"":"negative"}`,children:[s?a.jsx(Mie,{fontSize:"small"}):a.jsx(jie,{fontSize:"small"}),r]})]});function woe(){var C;const{currentUser:t,admin:e}=xr(),{isSuperAdmin:n}=Dr(),[r,s]=y.useState(null),[i,o]=y.useState(!1),[l,c]=y.useState(!1),[u,d]=y.useState([]),[h,p]=y.useState({todayBookings:0,todayRevenue:0,utilization:0,activeCustomers:0,bookingsChange:0,revenueChange:0,utilizationChange:0}),[m,v]=y.useState(!0),[g,b]=y.useState([]),[x,_]=y.useState("all");y.useEffect(()=>{(async()=>{n?(await w(),x==="all"?await I():await N(x)):e!=null&&e.venueId&&(s(e.venueId),await N(e.venueId)),v(!1)})()},[t,e,n,x]);const w=async()=>{try{const k=Lt(Je(ye,"venues"),Ge("status","==","active")),M=(await It(k)).docs.map(P=>({id:P.id,name:P.data().name}));b(M)}catch(k){console.error("Error loading venues:",k)}},I=async()=>{var k;try{const A=new Date,M=new Date(A.getFullYear(),A.getMonth(),A.getDate()),P=new Date(A.getFullYear(),A.getMonth(),A.getDate(),23,59,59);let O=g;if(O.length===0){const ie=Lt(Je(ye,"venues"),Ge("status","==","active"));O=(await It(ie)).docs.map(ge=>({id:ge.id,name:ge.data().name}))}const V=Lt(Je(ye,"bookings")),B=await It(V),z=B.docs.filter(ie=>{var ee,Y;const re=ie.data(),ge=(Y=(ee=re.date)==null?void 0:ee.toDate)==null?void 0:Y.call(ee);return ge?ge>=M&&ge<=P&&re.status==="confirmed":!1}),U=z.length,F=z.reduce((ie,re)=>ie+(re.data().amount||0),0),L=B.docs.sort((ie,re)=>{var Y,W,Z,le,be,Be,fe,ve;const ge=((W=(Y=ie.data().createdAt)==null?void 0:Y.toDate)==null?void 0:W.call(Y))||((le=(Z=ie.data().date)==null?void 0:Z.toDate)==null?void 0:le.call(Z))||new Date(0);return(((Be=(be=re.data().createdAt)==null?void 0:be.toDate)==null?void 0:Be.call(be))||((ve=(fe=re.data().date)==null?void 0:fe.toDate)==null?void 0:ve.call(fe))||new Date(0)).getTime()-ge.getTime()}).slice(0,10),H=[];for(const ie of L){const re=ie.data();let ge="",ee="Корт";if(re.venueId){const Y=O.find(W=>W.id===re.venueId);if(ge=(Y==null?void 0:Y.name)||"",re.courtId)try{const W=await sn(ie(ye,"venues",re.venueId,"courts",re.courtId));W.exists()&&(ee=W.data().name)}catch(W){console.error("Error fetching court:",W)}}H.push({id:ie.id,clientName:re.clientName||re.customerName||"Неизвестный клиент",courtName:ge?`${ge} - ${ee}`:ee,date:((k=re.date)==null?void 0:k.toDate())||new Date,startTime:re.startTime||re.time||"",endTime:re.endTime||"",status:re.status||"pending",amount:re.amount||0})}d(H);let q=0;for(const ie of O){const re=Lt(Je(ye,"venues",ie.id,"courts"),Ge("status","==","active")),ge=await It(re);q+=ge.size}const K=q*16,te=K>0?Math.round(U/K*100):0,me=new Date;me.setDate(me.getDate()-30);const Q=B.docs.filter(ie=>{var ee,Y;const ge=(Y=(ee=ie.data().date)==null?void 0:ee.toDate)==null?void 0:Y.call(ee);return ge&&ge>=me}),ce=new Set(Q.map(ie=>ie.data().clientPhone||ie.data().customerPhone));p({todayBookings:U,todayRevenue:F,utilization:te,activeCustomers:ce.size,bookingsChange:15,revenueChange:10,utilizationChange:-3})}catch(A){console.error("Error loading all venues data:",A)}},N=async k=>{var A,M;try{const P=new Date,O=new Date(P.getFullYear(),P.getMonth(),P.getDate()),V=new Date(P.getFullYear(),P.getMonth(),P.getDate(),23,59,59),B=Lt(Je(ye,"bookings"),Ge("venueId","==",k)),U=(await It(B)).docs.map(W=>({id:W.id,...W.data()})).sort((W,Z)=>{var Be,fe,ve,Te,we,qe,Ve,Ue;const le=((fe=(Be=W.createdAt)==null?void 0:Be.toDate)==null?void 0:fe.call(Be))||((Te=(ve=W.date)==null?void 0:ve.toDate)==null?void 0:Te.call(ve))||new Date(0);return(((qe=(we=Z.createdAt)==null?void 0:we.toDate)==null?void 0:qe.call(we))||((Ue=(Ve=Z.date)==null?void 0:Ve.toDate)==null?void 0:Ue.call(Ve))||new Date(0)).getTime()-le.getTime()}).slice(0,5),F=[];for(const W of U){let Z=W.courtName||"Корт";if(W.courtId&&!W.courtName)try{const le=await sn(We(ye,"venues",k,"courts",W.courtId));le.exists()&&(Z=le.data().name)}catch(le){console.error("Error fetching court:",le)}F.push({id:W.id,clientName:W.clientName||W.customerName||"Неизвестный клиент",courtName:Z,date:((M=(A=W.date)==null?void 0:A.toDate)==null?void 0:M.call(A))||new Date,startTime:W.startTime||W.time||"",endTime:W.endTime||"",status:W.status||"pending",amount:W.amount||0})}d(F);const L=Lt(Je(ye,"bookings"),Ge("venueId","==",k)),H=await It(L),q=H.docs.filter(W=>{var be,Be;const Z=W.data(),le=(Be=(be=Z.date)==null?void 0:be.toDate)==null?void 0:Be.call(be);return le?le>=O&&le<=V&&Z.status==="confirmed":!1}),K=q.length,te=q.reduce((W,Z)=>W+(Z.data().amount||0),0),me=Lt(Je(ye,"venues",k,"courts"),Ge("status","==","active")),ie=(await It(me)).size*16,re=ie>0?Math.round(K/ie*100):0,ge=new Date;ge.setDate(ge.getDate()-30);const ee=H.docs.filter(W=>{var be,Be;const le=(Be=(be=W.data().date)==null?void 0:be.toDate)==null?void 0:Be.call(be);return le&&le>=ge}),Y=new Set(ee.map(W=>W.data().clientPhone||W.data().customerPhone));p({todayBookings:K,todayRevenue:te,utilization:re,activeCustomers:Y.size,bookingsChange:12,revenueChange:8,utilizationChange:-5})}catch(P){console.error("Error loading dashboard data:",P)}},R=()=>r?`https://allcourt.ru/club/${r}`:"",S=()=>{const k=R();k&&(navigator.clipboard.writeText(k),c(!0),setTimeout(()=>c(!1),2e3))},E=async()=>{const k=R();if(k)if(navigator.share)try{await navigator.share({title:"Забронировать корт",text:"Забронируйте корт в нашем клубе",url:k})}catch(A){console.log("Share failed:",A)}else S()};return m?a.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},children:a.jsx("div",{children:"Загрузка..."})}):a.jsxs("div",{children:[n&&a.jsx("div",{className:"section-card",style:{marginBottom:"24px"},children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[a.jsx("label",{style:{fontWeight:"600"},children:"Фильтр по клубу:"}),a.jsxs("select",{className:"form-select",style:{maxWidth:"300px"},value:x,onChange:k=>_(k.target.value),children:[a.jsx("option",{value:"all",children:"Все клубы"}),g.map(k=>a.jsx("option",{value:k.id,children:k.name},k.id))]})]})}),!n&&r&&a.jsxs("div",{className:"section-card",style:{marginBottom:"24px"},children:[a.jsx("div",{className:"section-header",children:a.jsx("h2",{className:"section-title",children:"Ссылка для бронирования"})}),a.jsxs("div",{style:{display:"flex",gap:"24px",alignItems:"center",flexWrap:"wrap"},children:[a.jsxs("div",{onClick:()=>o(!0),style:{cursor:"pointer",padding:"8px",border:"1px solid var(--extra-light-gray)",borderRadius:"8px",transition:"all 0.3s ease"},onMouseEnter:k=>k.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)",onMouseLeave:k=>k.currentTarget.style.boxShadow="none",children:[a.jsx(Xg,{value:R(),size:120,level:"M",includeMargin:!0}),a.jsx("div",{style:{textAlign:"center",marginTop:"8px"},children:a.jsxs("button",{className:"btn btn-secondary btn-icon",children:[a.jsx(XC,{fontSize:"small"}),a.jsx("span",{children:"Увеличить"})]})})]}),a.jsxs("div",{style:{flex:1,minWidth:"250px"},children:[a.jsxs("div",{style:{marginBottom:"12px"},children:[a.jsx("label",{style:{fontSize:"14px",color:"var(--gray)",display:"block",marginBottom:"4px"},children:"Отправьте эту ссылку клиентам:"}),a.jsxs("div",{style:{display:"flex",gap:"8px",padding:"12px",background:"var(--background)",borderRadius:"8px",alignItems:"center"},children:[a.jsx("input",{type:"text",value:R(),readOnly:!0,style:{flex:1,border:"none",background:"transparent",fontSize:"14px",outline:"none"}}),a.jsxs("button",{className:"btn btn-primary btn-icon",onClick:S,children:[l?a.jsx(Yo,{fontSize:"small"}):a.jsx(EL,{fontSize:"small"}),a.jsx("span",{children:l?"Скопировано":"Копировать"})]})]})]}),a.jsx("div",{style:{display:"flex",gap:"8px"},children:a.jsxs("button",{className:"btn btn-secondary",onClick:E,children:[a.jsx(RL,{fontSize:"small"}),a.jsx("span",{children:"Поделиться"})]})})]})]})]}),n&&a.jsx("h2",{style:{marginBottom:"24px",fontSize:"24px",fontWeight:"700"},children:x==="all"?"Общая статистика по всем клубам":`Статистика клуба "${(C=g.find(k=>k.id===x))==null?void 0:C.name}"`}),a.jsxs("div",{className:"stats-grid",children:[a.jsx(Kp,{title:"Бронирований сегодня",value:h.todayBookings,icon:a.jsx(YC,{}),change:`${h.bookingsChange>0?"+":""}${h.bookingsChange}% от вчера`,isPositive:h.bookingsChange>0}),a.jsx(Kp,{title:"Доход за сегодня",value:`${h.todayRevenue.toLocaleString("ru-RU")}₽`,icon:a.jsx(uf,{}),change:`${h.revenueChange>0?"+":""}${h.revenueChange}% от вчера`,isPositive:h.revenueChange>0}),a.jsx(Kp,{title:"Загрузка кортов",value:`${h.utilization}%`,icon:a.jsx(Hy,{}),change:`${h.utilizationChange>0?"+":""}${h.utilizationChange}% от вчера`,isPositive:h.utilizationChange>0}),a.jsx(Kp,{title:"Активных клиентов",value:h.activeCustomers,icon:a.jsx(QC,{}),change:"за последние 30 дней",isPositive:!0})]}),a.jsxs("div",{className:"section-card",children:[a.jsxs("div",{className:"section-header",children:[a.jsx("h2",{className:"section-title",children:"Последние бронирования"}),a.jsx("button",{className:"btn btn-secondary",onClick:()=>window.location.href="/admin/bookings",children:"Все бронирования"})]}),a.jsx("div",{className:"table-wrapper",children:m?a.jsx("div",{style:{textAlign:"center",padding:"40px"},children:"Загрузка..."}):u.length===0?a.jsx("div",{style:{textAlign:"center",padding:"40px",color:"var(--gray)"},children:"Пока нет бронирований"}):a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Клиент"}),a.jsx("th",{children:n&&x==="all"?"Клуб / Корт":"Корт"}),a.jsx("th",{children:"Дата и время"}),a.jsx("th",{children:"Статус"}),a.jsx("th",{children:"Сумма"})]})}),a.jsx("tbody",{children:u.map(k=>a.jsxs("tr",{children:[a.jsx("td",{children:k.clientName}),a.jsx("td",{children:k.courtName}),a.jsxs("td",{children:[k.date.toLocaleDateString("ru-RU"),", ",k.startTime,k.endTime&&`-${k.endTime}`]}),a.jsxs("td",{children:[k.status==="confirmed"&&a.jsx("span",{style:{color:"var(--success)"},children:"✅ Подтверждено"}),k.status==="pending"&&a.jsx("span",{style:{color:"var(--warning)"},children:"⏳ Ожидает оплаты"}),k.status==="cancelled"&&a.jsx("span",{style:{color:"var(--danger)"},children:"❌ Отменено"})]}),a.jsxs("td",{children:[k.amount.toLocaleString("ru-RU"),"₽"]})]},k.id))})]})})]}),i&&a.jsx("div",{className:"modal active",onClick:()=>o(!1),style:{display:"flex",position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:1e3,alignItems:"center",justifyContent:"center"},children:a.jsxs("div",{className:"modal-content",onClick:k=>k.stopPropagation(),style:{background:"white",borderRadius:"12px",padding:"24px",maxWidth:"400px",width:"90%",textAlign:"center"},children:[a.jsxs("div",{className:"modal-header",style:{marginBottom:"24px"},children:[a.jsx("h2",{className:"modal-title",children:"QR код для бронирования"}),a.jsx("button",{className:"modal-close",onClick:()=>o(!1),style:{position:"absolute",right:"24px",top:"24px",background:"none",border:"none",fontSize:"24px",cursor:"pointer"},children:"×"})]}),a.jsxs("div",{className:"modal-body",children:[a.jsx(Xg,{value:R(),size:256,level:"H",includeMargin:!0}),a.jsxs("p",{style:{marginTop:"16px",color:"var(--gray)",fontSize:"14px"},children:["Клиенты могут отсканировать этот QR код,",a.jsx("br",{}),"чтобы забронировать корт"]}),a.jsx("div",{style:{marginTop:"24px"},children:a.jsx("button",{className:"btn btn-primary",onClick:()=>{const k=document.querySelector("svg");if(k){const A=new XMLSerializer().serializeToString(k),M=new Blob([A],{type:"image/svg+xml;charset=utf-8"}),P=URL.createObjectURL(M),O=document.createElement("a");O.href=P,O.download=`qr-code-booking-${r}.svg`,document.body.appendChild(O),O.click(),document.body.removeChild(O)}},children:"Скачать QR код"})})]})]})})]})}const Xu=({children:t,permission:e,role:n,requireAll:r=!1,fallback:s})=>{const{hasPermission:i,hasAllPermissions:o,hasRole:l}=Dr();return n&&!l(n)?s?a.jsx(a.Fragment,{children:s}):a.jsxs(rn,{severity:"error",sx:{mt:2},children:[a.jsx(of,{children:"Доступ запрещен"}),"У вас недостаточно прав для просмотра этой страницы."]}):e&&!(r&&Array.isArray(e)?o(e):i(e))?s?a.jsx(a.Fragment,{children:s}):a.jsxs(rn,{severity:"error",sx:{mt:2},children:[a.jsx(of,{children:"Доступ запрещен"}),"У вас недостаточно прав для просмотра этой страницы."]}):a.jsx(a.Fragment,{children:t})},Wl=({selectedVenueId:t,onVenueChange:e,label:n="Управление клубом",showHint:r=!1})=>{const[s,i]=y.useState([]),[o,l]=y.useState(!0);y.useEffect(()=>{c()},[]);const c=async()=>{try{const u=Lt(Je(ye,"venues"),Ge("status","==","active")),h=(await It(u)).docs.map(p=>({id:p.id,...p.data()}));i(h)}catch(u){console.error("Error fetching venues:",u)}finally{l(!1)}};return o?a.jsx("div",{children:"Загрузка клубов..."}):a.jsx("div",{className:"section-card",style:{marginBottom:"24px"},children:a.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[a.jsx("label",{className:"form-label",children:n}),a.jsxs("select",{className:"form-select",value:t||"",onChange:u=>e(u.target.value),style:{maxWidth:"400px"},children:[a.jsx("option",{value:"",children:"Выберите клуб"}),s.map(u=>a.jsx("option",{value:u.id,children:u.name},u.id))]}),r&&a.jsx("p",{className:"form-hint",children:"Выберите клуб для управления"})]})})},Hl=({title:t})=>{const[e,n]=y.useState([]),[r,s]=y.useState(!0);y.useEffect(()=>{i()},[]);const i=async()=>{try{const l=Lt(Je(ye,"venues"),Ge("status","==","active")),u=(await It(l)).docs.map(d=>({id:d.id,...d.data()}));n(u)}catch(l){console.error("Error fetching venues:",l)}finally{s(!1)}},o=l=>{l&&(localStorage.setItem("selectedVenueId",l),window.location.reload())};return r?a.jsx("div",{children:"Загрузка..."}):a.jsx("div",{children:a.jsxs("div",{className:"section-card",children:[a.jsx("div",{className:"section-header",children:a.jsx("h2",{className:"section-title",children:t})}),a.jsxs("div",{className:"form-group",style:{maxWidth:"400px"},children:[a.jsx("label",{className:"form-label",children:"Клуб"}),a.jsxs("select",{className:"form-select",value:"",onChange:l=>o(l.target.value),children:[a.jsx("option",{value:"",children:"Выберите клуб для управления"}),e.map(l=>a.jsx("option",{value:l.id,children:l.name},l.id))]}),a.jsx("p",{className:"form-hint",children:"Выберите клуб для просмотра и управления"})]})]})})};function Coe(){const t=Qr(),{club:e,admin:n,refreshClubData:r}=xr(),{isSuperAdmin:s,canManageClub:i}=Dr(),[o,l]=y.useState(null),[c,u]=y.useState(null),[d,h]=y.useState(!1),[p,m]=y.useState(!1),[v,g]=y.useState(null),[b,x]=y.useState({name:"",phone:"",address:"",city:"",latitude:"",longitude:"",description:"",amenities:{showers:!1,parking:!1,cafe:!1,proshop:!1,lockers:!1},organizationType:"",inn:"",bankAccount:"",workingHours:{weekday:"07:00-23:00",weekend:"08:00-22:00"},bookingDurations:{60:!0,90:!0,120:!0}}),[_,w]=y.useState([]),[I,N]=y.useState(!1);y.useEffect(()=>{var B,z,U,F,L,H,q,K;if(s){const te=localStorage.getItem("selectedVenueId");te&&(l(te),S(te))}else e&&(x({name:e.name||"",phone:e.phone||"",address:e.address||"",city:e.city||"",latitude:((z=(B=e.location)==null?void 0:B._lat)==null?void 0:z.toString())||((F=(U=e.location)==null?void 0:U.latitude)==null?void 0:F.toString())||"",longitude:((H=(L=e.location)==null?void 0:L._long)==null?void 0:H.toString())||((K=(q=e.location)==null?void 0:q.longitude)==null?void 0:K.toString())||"",description:e.description||"",amenities:{showers:Array.isArray(e.amenities)&&e.amenities.includes("showers")||!1,parking:Array.isArray(e.amenities)&&e.amenities.includes("parking")||!1,cafe:Array.isArray(e.amenities)&&e.amenities.includes("cafe")||!1,proshop:Array.isArray(e.amenities)&&e.amenities.includes("proshop")||!1,lockers:Array.isArray(e.amenities)&&e.amenities.includes("lockers")||!1},organizationType:e.organizationType||"",inn:e.inn||"",bankAccount:e.bankAccount||"",workingHours:e.workingHours||{weekday:"07:00-23:00",weekend:"08:00-22:00"},bookingDurations:e.bookingDurations||{60:!0,90:!0,120:!0}}),w(e.photos||[]))},[e,s]);const R=B=>{l(B),localStorage.setItem("selectedVenueId",B),B&&S(B)},S=async B=>{var z,U,F,L,H,q,K,te;try{console.log("Loading venue data for:",B);const me=await sn(We(ye,"venues",B));if(me.exists()){const Q=me.data();console.log("Venue data loaded:",Q),u({id:me.id,...Q}),x({name:Q.name||"",phone:Q.phone||"",address:Q.address||"",city:Q.city||"",latitude:((U=(z=Q.location)==null?void 0:z._lat)==null?void 0:U.toString())||((L=(F=Q.location)==null?void 0:F.latitude)==null?void 0:L.toString())||"",longitude:((q=(H=Q.location)==null?void 0:H._long)==null?void 0:q.toString())||((te=(K=Q.location)==null?void 0:K.longitude)==null?void 0:te.toString())||"",description:Q.description||"",amenities:{showers:Array.isArray(Q.amenities)&&Q.amenities.includes("showers")||!1,parking:Array.isArray(Q.amenities)&&Q.amenities.includes("parking")||!1,cafe:Array.isArray(Q.amenities)&&Q.amenities.includes("cafe")||!1,proshop:Array.isArray(Q.amenities)&&Q.amenities.includes("proshop")||!1,lockers:Array.isArray(Q.amenities)&&Q.amenities.includes("lockers")||!1},organizationType:Q.organizationType||"",inn:Q.inn||"",bankAccount:Q.bankAccount||"",workingHours:Q.workingHours||{weekday:"07:00-23:00",weekend:"08:00-22:00"},bookingDurations:Q.bookingDurations||{60:!0,90:!0,120:!0}}),w(Q.photos||[])}}catch(me){console.error("Error loading venue:",me)}},E=B=>{const{name:z,value:U}=B.target;x(F=>({...F,[z]:U}))},C=B=>{x(z=>({...z,amenities:{...z.amenities,[B]:!z.amenities[B]}}))},k=async B=>{var F;const z=(F=B.target.files)==null?void 0:F[0];if(!z)return;const U=s?o:n==null?void 0:n.venueId;if(!U){g("Не выбран клуб");return}try{h(!0);const L=lk(qk,`clubs/${U}/logo.${z.name.split(".").pop()}`),H=await ok(L,z),q=await ak(H.ref);await Zn(We(ye,"venues",U),{logoUrl:q}),s&&c?u({...c,logoUrl:q}):await r(),m(!0),setTimeout(()=>m(!1),3e3)}catch(L){console.error("Error uploading logo:",L),g("Ошибка при загрузке логотипа")}finally{h(!1)}},A=async B=>{const z=B.target.files;if(!z||z.length===0)return;const U=s?o:n==null?void 0:n.venueId;if(!U){g("Не выбран клуб");return}if(_.length+z.length>5){g("Максимальное количество фотографий - 5");return}try{N(!0);const F=[];for(let q=0;q<z.length;q++){const K=z[q];if(K.size>5*1024*1024){g(`Файл ${K.name} превышает максимальный размер 5 МБ`);continue}if(!K.type.startsWith("image/")){g(`Файл ${K.name} не является изображением`);continue}const me=`photo_${Date.now()}_${q}.${K.name.split(".").pop()}`,Q=lk(qk,`clubs/${U}/photos/${me}`);F.push(ok(Q,K).then(async ce=>await ak(ce.ref)))}const L=await Promise.all(F),H=[..._,...L];w(H),await Zn(We(ye,"venues",U),{photos:H}),s&&c?u({...c,photos:H}):await r(),m(!0),setTimeout(()=>m(!1),3e3)}catch(F){console.error("Error uploading photos:",F),g("Ошибка при загрузке фотографий")}finally{N(!1)}},M=async()=>{const B=s?o:n==null?void 0:n.venueId;if(!B){g("Не выбран клуб");return}try{h(!0),await Zn(We(ye,"venues",B),{logoUrl:null}),s&&c?u({...c,logoUrl:null}):await r(),m(!0),setTimeout(()=>m(!1),3e3)}catch(z){console.error("Error deleting logo:",z),g("Ошибка при удалении логотипа")}finally{h(!1)}},P=async(B,z)=>{const U=s?o:n==null?void 0:n.venueId;if(!U){g("Не выбран клуб");return}try{h(!0);const F=_.filter((L,H)=>H!==z);w(F),await Zn(We(ye,"venues",U),{photos:F}),s&&c?u({...c,photos:F}):await r(),m(!0),setTimeout(()=>m(!1),3e3)}catch(F){console.error("Error deleting photo:",F),g("Ошибка при удалении фотографии")}finally{h(!1)}},O=async B=>{B.preventDefault();const z=s?o:n==null?void 0:n.venueId;if(z)try{h(!0);const U=Object.entries(b.amenities).filter(([L,H])=>H).map(([L])=>L),F={name:b.name,phone:b.phone,address:b.address,city:b.city,description:b.description,amenities:U,organizationType:b.organizationType,inn:b.inn,bankAccount:b.bankAccount,workingHours:b.workingHours,bookingDurations:b.bookingDurations,updatedAt:new Date};b.latitude&&b.longitude&&(F.location=new yy(parseFloat(b.latitude),parseFloat(b.longitude))),await Zn(We(ye,"venues",z),F),s&&c?await S(z):await r(),m(!0),setTimeout(()=>m(!1),3e3)}catch(U){console.error("Error updating club:",U),g("Ошибка при сохранении данных")}finally{h(!1)}};if(!i())return a.jsxs(rn,{severity:"error",children:[a.jsx(of,{children:"Доступ запрещен"}),"У вас недостаточно прав для управления клубом."]});if(s&&!o)return a.jsx(Hl,{title:"Выберите клуб для управления"});const V=s?c:e;return a.jsx(Xu,{permission:["manage_club","manage_all_venues"],children:a.jsxs("div",{children:[s&&a.jsx(Wl,{selectedVenueId:o,onVenueChange:R}),a.jsxs("div",{className:"section-card",children:[a.jsxs("h2",{className:"section-title",children:["Информация о клубе",s&&c&&a.jsx("span",{style:{fontSize:"16px",color:"var(--gray)",marginLeft:"16px"},children:c.name})]}),a.jsxs("div",{style:{backgroundColor:"#e3f2fd",padding:"12px 16px",borderRadius:"8px",marginBottom:"20px",fontSize:"14px",color:"#1976d2"},children:[a.jsx("strong",{children:"💡 Как получить координаты:"}),a.jsx("br",{}),"1. Откройте ",a.jsx("a",{href:"https://maps.google.com",target:"_blank",rel:"noopener noreferrer",style:{color:"#1976d2"},children:"Google Maps"}),a.jsx("br",{}),"2. Найдите ваш клуб на карте",a.jsx("br",{}),"3. Кликните правой кнопкой мыши на нужное место",a.jsx("br",{}),"4. Скопируйте координаты (первое число - широта, второе - долгота)"]}),a.jsxs("form",{onSubmit:O,children:[v&&a.jsx(rn,{severity:"error",sx:{mb:3},onClose:()=>g(null),children:v}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Логотип клуба"}),a.jsxs("div",{className:"logo-uploader",style:{display:"flex",alignItems:"center",gap:"24px"},children:[a.jsx("div",{className:"logo-preview",style:{width:"120px",height:"120px",border:"2px dashed var(--extra-light-gray)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",background:"var(--background)",position:"relative"},onMouseEnter:B=>{const z=B.currentTarget.querySelector("button");z&&(z.style.opacity="1")},onMouseLeave:B=>{const z=B.currentTarget.querySelector("button");z&&(z.style.opacity="0")},children:V!=null&&V.logoUrl?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:V.logoUrl,alt:V.name,style:{width:"100%",height:"100%",objectFit:"cover"}}),a.jsx("button",{type:"button",onClick:M,style:{position:"absolute",top:"4px",right:"4px",width:"28px",height:"28px",borderRadius:"50%",background:"rgba(255, 255, 255, 0.9)",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",opacity:0,transition:"opacity 0.2s"},disabled:d,children:a.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"#dc2626",children:a.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}):a.jsxs("div",{style:{textAlign:"center",color:"var(--gray)"},children:[a.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"var(--light-gray)",children:a.jsx("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"})}),a.jsx("p",{style:{fontSize:"12px",marginTop:"8px"},children:"Нажмите для загрузки"})]})}),a.jsxs("div",{children:[a.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>{var B;return(B=document.getElementById("logoInput"))==null?void 0:B.click()},disabled:d,children:"Загрузить логотип"}),a.jsx("input",{type:"file",id:"logoInput",accept:"image/*",style:{display:"none"},onChange:k}),a.jsxs("p",{className:"form-hint",children:["Рекомендуемый размер: 500x500px",a.jsx("br",{}),"Максимум 2MB. PNG, JPG или SVG"]})]})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Фотографии клуба"}),a.jsx("div",{style:{marginBottom:"16px"},children:a.jsx("p",{className:"form-hint",children:"Максимум 5 фотографий, до 5 МБ каждая. Рекомендуемый размер: 1920x1080px"})}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"16px",marginBottom:"16px"},children:[_.map((B,z)=>a.jsxs("div",{style:{position:"relative",paddingBottom:"56.25%",overflow:"hidden",borderRadius:"12px",background:"var(--extra-light-gray)"},children:[a.jsx("img",{src:B,alt:`Фото ${z+1}`,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}}),a.jsx("button",{type:"button",onClick:()=>P(B,z),style:{position:"absolute",top:"8px",right:"8px",width:"32px",height:"32px",borderRadius:"50%",background:"rgba(255, 255, 255, 0.9)",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},disabled:d,children:a.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"#dc2626",children:a.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]},z)),_.length<5&&a.jsx("div",{onClick:()=>{var B;return(B=document.getElementById("photosInput"))==null?void 0:B.click()},style:{position:"relative",paddingBottom:"56.25%",overflow:"hidden",borderRadius:"12px",border:"2px dashed var(--extra-light-gray)",background:"var(--background)",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:B=>{B.currentTarget.style.borderColor="var(--primary)",B.currentTarget.style.background="rgba(0, 214, 50, 0.05)"},onMouseLeave:B=>{B.currentTarget.style.borderColor="var(--extra-light-gray)",B.currentTarget.style.background="var(--background)"},children:a.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",color:"var(--gray)"},children:[a.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"var(--light-gray)",children:a.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})}),a.jsx("p",{style:{fontSize:"14px",marginTop:"8px"},children:I?"Загрузка...":"Добавить фото"})]})})]}),a.jsx("input",{type:"file",id:"photosInput",accept:"image/*",multiple:!0,style:{display:"none"},onChange:A,disabled:I||_.length>=5})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Название клуба"}),a.jsx("input",{type:"text",className:"form-input",name:"name",value:b.name,onChange:E,required:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Телефон"}),a.jsx("input",{type:"tel",className:"form-input",name:"phone",value:b.phone,onChange:E,required:!0})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Адрес"}),a.jsx("input",{type:"text",className:"form-input",name:"address",value:b.address,onChange:E,required:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Город"}),a.jsx("input",{type:"text",className:"form-input",name:"city",value:b.city,onChange:E,placeholder:"Например: Москва"})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Широта (Latitude)"}),a.jsx("input",{type:"number",step:"0.000001",className:"form-input",name:"latitude",value:b.latitude,onChange:E,placeholder:"55.755831"})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Долгота (Longitude)"}),a.jsx("input",{type:"number",step:"0.000001",className:"form-input",name:"longitude",value:b.longitude,onChange:E,placeholder:"37.617673"})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Описание"}),a.jsx("textarea",{className:"form-textarea",name:"description",value:b.description,onChange:E,rows:4})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Удобства"}),a.jsxs("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap",marginTop:"12px"},children:[a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[a.jsx("input",{type:"checkbox",checked:b.amenities.showers,onChange:()=>C("showers")}),"Душевые"]}),a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[a.jsx("input",{type:"checkbox",checked:b.amenities.parking,onChange:()=>C("parking")}),"Парковка"]}),a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[a.jsx("input",{type:"checkbox",checked:b.amenities.cafe,onChange:()=>C("cafe")}),"Кафе"]}),a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[a.jsx("input",{type:"checkbox",checked:b.amenities.proshop,onChange:()=>C("proshop")}),"Pro Shop"]}),a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[a.jsx("input",{type:"checkbox",checked:b.amenities.lockers,onChange:()=>C("lockers")}),"Раздевалки"]})]})]}),a.jsxs("div",{style:{marginTop:"32px"},children:[a.jsx("h3",{className:"section-subtitle",children:"Режим работы"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px",marginTop:"16px"},children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Будние дни (пн-пт)"}),a.jsx("input",{type:"text",className:"form-input",name:"workingHours.weekday",value:b.workingHours.weekday,onChange:B=>x(z=>({...z,workingHours:{...z.workingHours,weekday:B.target.value}})),placeholder:"07:00-23:00"}),a.jsx("span",{className:"form-hint",children:"Формат: ЧЧ:ММ-ЧЧ:ММ"})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Выходные дни (сб-вс)"}),a.jsx("input",{type:"text",className:"form-input",name:"workingHours.weekend",value:b.workingHours.weekend,onChange:B=>x(z=>({...z,workingHours:{...z.workingHours,weekend:B.target.value}})),placeholder:"08:00-22:00"}),a.jsx("span",{className:"form-hint",children:"Формат: ЧЧ:ММ-ЧЧ:ММ"})]})]})]}),a.jsxs("div",{style:{marginTop:"32px"},children:[a.jsx("h3",{className:"section-subtitle",children:"Доступные длительности бронирования"}),a.jsxs("div",{style:{display:"flex",gap:"24px",flexWrap:"wrap",marginTop:"16px"},children:[a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[a.jsx("input",{type:"checkbox",checked:b.bookingDurations[60],onChange:()=>x(B=>({...B,bookingDurations:{...B.bookingDurations,60:!B.bookingDurations[60]}}))}),"1 час"]}),a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[a.jsx("input",{type:"checkbox",checked:b.bookingDurations[90],onChange:()=>x(B=>({...B,bookingDurations:{...B.bookingDurations,90:!B.bookingDurations[90]}}))}),"1.5 часа"]}),a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[a.jsx("input",{type:"checkbox",checked:b.bookingDurations[120],onChange:()=>x(B=>({...B,bookingDurations:{...B.bookingDurations,120:!B.bookingDurations[120]}}))}),"2 часа"]})]}),a.jsx("p",{className:"form-hint",style:{marginTop:"8px"},children:"Выберите, какие длительности бронирования будут доступны клиентам"})]}),a.jsxs("div",{style:{display:"flex",gap:"12px"},children:[a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Сохранение...":"Сохранить изменения"}),a.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{var z,U,F,L,H,q,K,te;const B=s?c:e;B&&x({name:B.name||"",phone:B.phone||"",address:B.address||"",city:B.city||"",latitude:((U=(z=B.location)==null?void 0:z._lat)==null?void 0:U.toString())||((L=(F=B.location)==null?void 0:F.latitude)==null?void 0:L.toString())||"",longitude:((q=(H=B.location)==null?void 0:H._long)==null?void 0:q.toString())||((te=(K=B.location)==null?void 0:K.longitude)==null?void 0:te.toString())||"",description:B.description||"",amenities:{showers:Array.isArray(B.amenities)&&B.amenities.includes("showers")||!1,parking:Array.isArray(B.amenities)&&B.amenities.includes("parking")||!1,cafe:Array.isArray(B.amenities)&&B.amenities.includes("cafe")||!1,proshop:Array.isArray(B.amenities)&&B.amenities.includes("proshop")||!1,lockers:Array.isArray(B.amenities)&&B.amenities.includes("lockers")||!1},organizationType:B.organizationType||"",inn:B.inn||"",bankAccount:B.bankAccount||"",workingHours:B.workingHours||{weekday:"07:00-23:00",weekend:"08:00-22:00"},bookingDurations:B.bookingDurations||{60:!0,90:!0,120:!0}})},children:"Отмена"})]}),p&&a.jsx("div",{style:{marginTop:"16px",padding:"12px",background:"rgba(16, 185, 129, 0.1)",color:"var(--success)",borderRadius:"8px",fontSize:"14px"},children:"✅ Изменения успешно сохранены"})]})]}),a.jsxs("div",{className:"section-card",children:[a.jsx("h2",{className:"section-title",children:"Настройки платежей"}),a.jsxs("form",{onSubmit:O,children:[a.jsxs("div",{className:"form-group",style:{marginTop:"24px"},children:[a.jsx("label",{className:"form-label",children:"Тип организации"}),a.jsxs("select",{className:"form-select",name:"organizationType",value:b.organizationType,onChange:E,children:[a.jsx("option",{value:"",children:"Выберите тип"}),a.jsx("option",{value:"ИП",children:"ИП"}),a.jsx("option",{value:"ООО",children:"ООО"}),a.jsx("option",{value:"Самозанятый",children:"Самозанятый"})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"ИНН"}),a.jsx("input",{type:"text",className:"form-input",name:"inn",value:b.inn,onChange:E,placeholder:"Введите ИНН"})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Расчетный счет"}),a.jsx("input",{type:"text",className:"form-input",name:"bankAccount",value:b.bankAccount,onChange:E,placeholder:"40702810900000123456"})]}),a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Сохранение...":"Сохранить платежные данные"})]}),a.jsxs("div",{style:{marginTop:"24px",padding:"16px",background:"var(--background)",borderRadius:"8px",textAlign:"center"},children:[a.jsx("p",{style:{fontSize:"14px",color:"var(--gray)",marginBottom:"12px"},children:"Для настройки приема платежей от клиентов"}),a.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>t("/admin/payment-settings"),style:{width:"auto"},children:"Перейти к настройкам эквайринга"})]})]})]})})}const Qp=["#00A86B","#2E86AB","#FF6B6B","#F39C12","#8E44AD","#E91E63","#00BCD4","#795548","#607D8B","#FF5722","#009688","#3F51B5","#FFEB3B","#4CAF50","#FF9800"];function Toe(){const{admin:t}=xr(),{isSuperAdmin:e,canManageCourts:n}=Dr(),[r,s]=y.useState(null),[i,o]=y.useState([]),[l,c]=y.useState(!0),[u,d]=y.useState(!1),[h,p]=y.useState(null),[m,v]=y.useState({name:"",type:"padel",courtType:"indoor",priceWeekday:1900,priceWeekend:2400,status:"active",color:"#00A86B"});y.useEffect(()=>{if(e){const E=localStorage.getItem("selectedVenueId");E&&(s(E),b(E))}else t!=null&&t.venueId&&b(t.venueId)},[t,e]);const g=E=>{s(E),localStorage.setItem("selectedVenueId",E),E&&b(E)},b=async E=>{if(E)try{c(!0);const C=Lt(Je(ye,"venues",E,"courts")),A=(await It(C)).docs.map((M,P)=>{const O=M.data();if(!O.color){const V=P%Qp.length;O.color=Qp[V],Zn(M.ref,{color:O.color})}return{id:M.id,...O}});o(A)}catch(C){console.error("Error fetching courts:",C)}finally{c(!1)}},x=()=>{const E=i.map(k=>k.color).filter(Boolean);for(const k of Qp)if(!E.includes(k))return k;const C=Qp.reduce((k,A)=>(k[A]=E.filter(M=>M===A).length,k),{});return Object.entries(C).sort((k,A)=>k[1]-A[1])[0][0]},_=E=>{const{name:C,value:k}=E.target;v(A=>({...A,[C]:C.includes("price")?Number(k):k}))},w=async E=>{E.preventDefault();const C=e?r:t==null?void 0:t.venueId;if(C)try{h?await Zn(We(ye,"venues",C,"courts",h.id),{...m,updatedAt:new Date}):await Zo(Je(ye,"venues",C,"courts"),{...m,createdAt:new Date}),d(!1),p(null);const k=x();v({name:"",type:"padel",courtType:"indoor",priceWeekday:1900,priceWeekend:2400,status:"active",color:k}),b(C)}catch(k){console.error("Error saving court:",k)}},I=E=>{p(E),v({name:E.name,type:E.type,courtType:E.courtType,priceWeekday:E.priceWeekday,priceWeekend:E.priceWeekend,status:E.status,color:E.color||"#00A86B"}),d(!0)},N=async E=>{if(window.confirm("Вы уверены, что хотите удалить этот корт?"))try{const C=e?r:t==null?void 0:t.venueId;if(!C)return;await Cy(We(ye,"venues",C,"courts",E)),b(C)}catch(C){console.error("Error deleting court:",C)}},R=E=>{switch(E){case"tennis":return"tennis";case"padel":return"padel";case"badminton":return"badminton";default:return"padel"}},S=E=>{switch(E){case"tennis":return"Теннис";case"padel":return"Падел";case"badminton":return"Бадминтон";default:return E}};return l?a.jsx("div",{children:"Загрузка..."}):n()?e&&!r?a.jsx(Hl,{title:"Выберите клуб для управления кортами"}):a.jsx(Xu,{permission:["manage_courts","manage_all_venues"],children:a.jsxs("div",{children:[e&&a.jsx(Wl,{selectedVenueId:r,onVenueChange:g}),a.jsxs("div",{className:"section-card",children:[a.jsxs("div",{className:"section-header",children:[a.jsx("h2",{className:"section-title",children:"Управление кортами"}),a.jsxs("button",{className:"btn btn-primary",onClick:()=>{const E=x();v(C=>({...C,color:E})),d(!0)},children:[a.jsx(Wy,{fontSize:"small"}),"Добавить корт"]})]}),a.jsx("div",{className:"courts-grid",children:i.map(E=>a.jsxs("div",{className:"court-card",children:[a.jsx("div",{className:"court-header",children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[E.color&&a.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"4px",backgroundColor:E.color,border:"1px solid #e5e7eb"}}),a.jsxs("div",{children:[a.jsx("div",{className:"court-name",children:E.name}),a.jsx("span",{className:`court-type ${R(E.type)}`,children:S(E.type)})]})]})}),a.jsxs("div",{className:"court-details",children:[a.jsxs("div",{children:["Тип: ",E.courtType==="indoor"?"Крытый":"Открытый"]}),a.jsxs("div",{children:["Будни: ",E.priceWeekday,"₽/час"]}),a.jsxs("div",{children:["Выходные: ",E.priceWeekend,"₽/час"]}),a.jsxs("div",{children:["Статус: ",E.status==="active"?"Активен":E.status==="maintenance"?"Обслуживание":"Неактивен"]})]}),a.jsxs("div",{className:"court-actions",children:[a.jsxs("button",{className:"btn btn-secondary",onClick:()=>I(E),children:[a.jsx(df,{fontSize:"small"}),"Редактировать"]}),a.jsxs("button",{className:"btn btn-secondary",children:[a.jsx(eoe,{fontSize:"small"}),"Расписание"]}),a.jsx("button",{className:"btn btn-danger",onClick:()=>N(E.id),style:{marginLeft:"auto"},children:a.jsx(Xf,{fontSize:"small"})})]})]},E.id))}),i.length===0&&a.jsxs("div",{style:{textAlign:"center",padding:"48px",color:"var(--gray)"},children:[a.jsx("p",{children:"У вас пока нет кортов"}),a.jsx("p",{children:'Нажмите "Добавить корт", чтобы создать первый'})]})]}),a.jsx("div",{className:`modal ${u?"active":""}`,children:a.jsxs("div",{className:"modal-content",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h3",{className:"modal-title",children:h?"Редактировать корт":"Добавить корт"}),a.jsx("button",{className:"modal-close",onClick:()=>{d(!1),p(null);const E=x();v({name:"",type:"padel",courtType:"indoor",priceWeekday:1900,priceWeekend:2400,status:"active",color:E})},children:a.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),a.jsxs("form",{onSubmit:w,children:[a.jsxs("div",{className:"modal-body",children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Название корта"}),a.jsx("input",{type:"text",className:"form-input",name:"name",value:m.name,onChange:_,placeholder:"Например: Падел корт 1",required:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Вид спорта"}),a.jsxs("select",{className:"form-select",name:"type",value:m.type,onChange:_,children:[a.jsx("option",{value:"padel",children:"Падел"}),a.jsx("option",{value:"tennis",children:"Теннис"}),a.jsx("option",{value:"badminton",children:"Бадминтон"})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Тип корта"}),a.jsxs("select",{className:"form-select",name:"courtType",value:m.courtType,onChange:_,children:[a.jsx("option",{value:"indoor",children:"Крытый"}),a.jsx("option",{value:"outdoor",children:"Открытый"})]})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Цена за час (будни)"}),a.jsx("input",{type:"number",className:"form-input",name:"priceWeekday",value:m.priceWeekday,onChange:_,min:"0",required:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Цена за час (выходные)"}),a.jsx("input",{type:"number",className:"form-input",name:"priceWeekend",value:m.priceWeekend,onChange:_,min:"0",required:!0})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Статус"}),a.jsxs("select",{className:"form-select",name:"status",value:m.status,onChange:_,children:[a.jsx("option",{value:"active",children:"Активен"}),a.jsx("option",{value:"maintenance",children:"На обслуживании"}),a.jsx("option",{value:"inactive",children:"Неактивен"})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Цвет корта"}),a.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[a.jsx("input",{type:"color",className:"form-input",name:"color",value:m.color,onChange:_,style:{width:"80px",height:"48px",padding:"4px",cursor:"pointer"}}),a.jsx("input",{type:"text",className:"form-input",value:m.color,onChange:E=>v(C=>({...C,color:E.target.value})),placeholder:"#00A86B",style:{flex:1}})]}),a.jsx("div",{className:"form-hint",children:"Этот цвет будет использоваться для визуального отображения корта в календаре"})]})]}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{d(!1),p(null)},children:"Отмена"}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:h?"Сохранить изменения":"Добавить корт"})]})]})]})})]})}):a.jsxs(rn,{severity:"error",children:[a.jsx(of,{children:"Доступ запрещен"}),"У вас недостаточно прав для управления кортами."]})}const J2={awaiting_payment:"Ожидает оплаты",paid:"Оплачено",online_payment:"Онлайн оплата",cancelled:"Отменено"},Z2={awaiting_payment:"#F59E0B",paid:"#10B981",online_payment:"#3B82F6",cancelled:"#EF4444"},Eoe={awaiting_payment:ioe,paid:TL,online_payment:uf,cancelled:Kg};function UL({bookingId:t,currentStatus:e,paymentMethod:n,onStatusUpdate:r}){const{admin:s}=xr(),[i,o]=y.useState(!1),[l,c]=y.useState(!1),[u,d]=y.useState(null),[h,p]=y.useState(e);y.useEffect(()=>{console.log("PaymentStatusManager: currentStatus changed to",e),p(e)},[e]),y.useEffect(()=>{if(!t)return;console.log("PaymentStatusManager: subscribing to booking changes");const b=Ng(We(ye,"bookings",t),x=>{if(x.exists()){const w=x.data().paymentStatus||"awaiting_payment";console.log("PaymentStatusManager: realtime update, status:",w),p(w)}});return()=>b()},[t]);const m=h==="awaiting_payment"&&n!=="online",v=async b=>{if(!s){alert("Ошибка: пользователь не авторизован");return}o(!0);try{const x=We(ye,"bookings",t),_=await sn(x);if(!_.exists())throw new Error("Бронирование не найдено");const I=_.data().paymentHistory||[],N={timestamp:Bt.now(),action:b,userId:s.uid||"unknown",userName:s.displayName||s.email||"Администратор"},R={paymentStatus:b};Array.isArray(I)?R.paymentHistory=[...I,N]:R.paymentHistory=[N],b==="cancelled"&&(R.status="cancelled"),Object.keys(R).forEach(S=>{R[S]===void 0&&delete R[S]}),await Zn(x,R),c(!1),d(null),await new Promise(S=>setTimeout(S,500)),p(b),r&&await r()}catch(x){console.error("Error updating payment status:",x);let _="Ошибка при обновлении статуса оплаты";x.code==="permission-denied"?_="У вас нет прав для изменения статуса оплаты":x.code==="not-found"?_="Бронирование не найдено":x.message&&(_=`Ошибка: ${x.message}`),alert(_)}finally{o(!1)}},g=Eoe[h];return console.log("PaymentStatusManager render:",{bookingId:t,currentStatus:e,localStatus:h,canChangeStatus:m}),a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"6px 12px",background:`${Z2[h]}1A`,color:Z2[h],borderRadius:"20px",fontSize:"14px",fontWeight:"600"},children:[a.jsx(g,{style:{fontSize:"18px"}}),a.jsx("span",{children:J2[h]}),m&&a.jsxs("div",{style:{marginLeft:"8px",display:"flex",gap:"4px"},children:[a.jsx("button",{onClick:()=>{d("paid"),c(!0)},disabled:i,style:{padding:"4px 8px",fontSize:"12px",background:"#10B981",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",opacity:i?.6:1},children:"Оплачено"}),a.jsx("button",{onClick:()=>{d("cancelled"),c(!0)},disabled:i,style:{padding:"4px 8px",fontSize:"12px",background:"#EF4444",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",opacity:i?.6:1},children:"Отменить"})]})]}),l&&u&&a.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:a.jsxs("div",{style:{background:"white",padding:"24px",borderRadius:"12px",maxWidth:"400px",width:"90%"},children:[a.jsx("h3",{style:{marginBottom:"16px"},children:"Подтверждение"}),a.jsxs("p",{style:{marginBottom:"24px"},children:['Вы уверены, что хотите изменить статус оплаты на "',J2[u],'"?']}),a.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[a.jsx("button",{onClick:()=>{c(!1),d(null)},style:{padding:"8px 16px",background:"#E5E7EB",border:"none",borderRadius:"8px",cursor:"pointer"},children:"Отмена"}),a.jsx("button",{onClick:()=>v(u),disabled:i,style:{padding:"8px 16px",background:u==="paid"?"#10B981":"#EF4444",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",opacity:i?.6:1},children:i?"Обновление...":"Подтвердить"})]})]})})]})}const Soe={created:"Создано бронирование",paid:"Оплачено",cancelled:"Отменено"},eR={created:"#6B7280",paid:"#10B981",cancelled:"#EF4444"};function Ioe({history:t}){if(!t||t.length===0)return null;const e=n=>{const r=n.toDate?n.toDate():new Date(n);return new Intl.DateTimeFormat("ru-RU",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(r)};return a.jsxs("div",{style:{marginTop:"16px",padding:"16px",background:"var(--background)",borderRadius:"8px"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px",color:"var(--gray)",fontSize:"14px",fontWeight:"600"},children:[a.jsx(Hie,{style:{fontSize:"18px"}}),"История платежей"]}),a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:t.map((n,r)=>a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"8px",background:"var(--white)",borderRadius:"6px",fontSize:"14px"},children:[a.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:eR[n.action],flexShrink:0}}),a.jsxs("div",{style:{flex:1},children:[a.jsx("div",{style:{color:eR[n.action],fontWeight:"500"},children:Soe[n.action]}),a.jsx("div",{style:{color:"var(--gray)",fontSize:"12px",marginTop:"2px"},children:e(n.timestamp)})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",color:"var(--gray)",fontSize:"12px"},children:[a.jsx(CL,{style:{fontSize:"16px"}}),n.userName||"Администратор"]}),n.note&&a.jsx("div",{style:{fontSize:"12px",color:"var(--gray)",fontStyle:"italic"},children:n.note})]},r))})]})}function zL({booking:t,isOpen:e,onClose:n,onUpdate:r}){var p,m;const[s,i]=y.useState(t);y.useEffect(()=>{if(t&&e){o(t.id);const v=Ng(We(ye,"bookings",t.id),g=>{var b,x;if(g.exists()){const _=g.data(),w={id:g.id,..._,date:((b=_.date)==null?void 0:b.toDate())||new Date,createdAt:((x=_.createdAt)==null?void 0:x.toDate())||new Date,paymentStatus:_.paymentStatus||"awaiting_payment",paymentHistory:_.paymentHistory||[]};i(w)}});return()=>v()}},[t==null?void 0:t.id,e]);const o=async v=>{var g,b;console.log("Loading fresh booking data:",v);try{const x=await sn(We(ye,"bookings",v));if(x.exists()){const _=x.data(),w={id:x.id,..._,date:((g=_.date)==null?void 0:g.toDate())||new Date,createdAt:((b=_.createdAt)==null?void 0:b.toDate())||new Date,paymentStatus:_.paymentStatus||"awaiting_payment",paymentHistory:_.paymentHistory||[]};console.log("Fresh booking loaded with payment status:",w.paymentStatus),i(w)}}catch(x){console.error("Error loading fresh booking:",x)}};if(!e||!s)return null;const l=v=>new Intl.DateTimeFormat("ru-RU",{weekday:"long",day:"numeric",month:"long",year:"numeric"}).format(v),c=v=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0}).format(v),u={cash:"Наличные",card_on_site:"Карта на месте",transfer:"Перевод",online:"Онлайн"},d={confirmed:"Подтверждено",pending:"Ожидает",cancelled:"Отменено"},h={confirmed:"#10B981",pending:"#F59E0B",cancelled:"#EF4444"};return a.jsx("div",{className:"modal active",children:a.jsxs("div",{className:"modal-content",style:{maxWidth:"700px"},children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h2",{className:"modal-title",children:"Детали бронирования"}),a.jsx("button",{className:"modal-close",onClick:n,children:a.jsx(KC,{})})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("div",{style:{display:"grid",gap:"24px"},children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Информация о бронировании"}),a.jsxs("div",{style:{display:"grid",gap:"12px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("span",{style:{color:"var(--gray)"},children:"Корт:"}),a.jsx("span",{style:{fontWeight:"600"},children:s.courtName})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("span",{style:{color:"var(--gray)"},children:"Дата:"}),a.jsx("span",{style:{fontWeight:"600"},children:l(s.date)})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("span",{style:{color:"var(--gray)"},children:"Время:"}),a.jsxs("span",{style:{fontWeight:"600"},children:[s.startTime," - ",s.endTime]})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("span",{style:{color:"var(--gray)"},children:"Статус:"}),a.jsx("span",{style:{fontWeight:"600",color:h[s.status]},children:d[s.status]})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Информация о клиенте"}),a.jsxs("div",{style:{display:"grid",gap:"12px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("span",{style:{color:"var(--gray)"},children:"Имя:"}),a.jsx("span",{style:{fontWeight:"600"},children:s.clientName||s.customerName})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("span",{style:{color:"var(--gray)"},children:"Телефон:"}),a.jsx("span",{style:{fontWeight:"600"},children:s.clientPhone||s.customerPhone})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Информация о создании"}),a.jsxs("div",{style:{display:"grid",gap:"12px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("span",{style:{color:"var(--gray)"},children:"Создано:"}),a.jsx("span",{style:{fontWeight:"600"},children:((p=s.createdBy)==null?void 0:p.userName)||"Система"})]}),((m=s.createdBy)==null?void 0:m.userRole)&&a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("span",{style:{color:"var(--gray)"},children:"Роль:"}),a.jsx("span",{style:{fontWeight:"600"},children:s.createdBy.userRole==="superadmin"?"Суперадминистратор":"Администратор"})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("span",{style:{color:"var(--gray)"},children:"Дата создания:"}),a.jsx("span",{style:{fontWeight:"600"},children:new Intl.DateTimeFormat("ru-RU",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(s.createdAt)})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Информация об оплате"}),a.jsxs("div",{style:{display:"grid",gap:"12px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("span",{style:{color:"var(--gray)"},children:"Сумма:"}),a.jsx("span",{style:{fontWeight:"600",fontSize:"18px"},children:c(s.amount)})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("span",{style:{color:"var(--gray)"},children:"Способ оплаты:"}),a.jsx("span",{style:{fontWeight:"600"},children:u[s.paymentMethod]})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx("span",{style:{color:"var(--gray)"},children:"Статус оплаты:"}),a.jsx(UL,{bookingId:s.id,currentStatus:s.paymentStatus||"awaiting_payment",paymentMethod:s.paymentMethod,onStatusUpdate:async()=>{r&&await r()}},`${s.id}-${s.paymentStatus}`)]})]})]}),s.paymentHistory&&s.paymentHistory.length>0&&a.jsx(Ioe,{history:s.paymentHistory})]})}),a.jsx("div",{className:"modal-footer",children:a.jsx("button",{className:"btn btn-secondary",onClick:n,children:"Закрыть"})})]})})}function koe({venueId:t,onRefresh:e}){const{admin:n}=xr(),{hasPermission:r}=Dr(),[s,i]=y.useState([]),[o,l]=y.useState(!0),[c,u]=y.useState("all"),[d,h]=y.useState("all"),[p,m]=y.useState(!1),[v,g]=y.useState(null),[b,x]=y.useState(!1);y.useEffect(()=>{_()},[t]);const _=async()=>{if(!t){console.log("No venueId provided to BookingsList");return}console.log("BookingsList: Fetching bookings for venue:",t);try{l(!0);const C=Lt(Je(ye,"bookings"),Ge("venueId","==",t)),k=await It(C);console.log("BookingsList: Found bookings:",k.size);const M=k.docs.map(P=>{var V,B;const O=P.data();return console.log("BookingsList: Raw booking:",O),{id:P.id,...O,date:(V=O.date)!=null&&V.toDate?O.date.toDate():new Date(O.date),createdAt:(B=O.createdAt)!=null&&B.toDate?O.createdAt.toDate():new Date}}).sort((P,O)=>new Date(O.date).getTime()-new Date(P.date).getTime());console.log("BookingsList: Processed and sorted bookings:",M),i(M)}catch(C){console.error("Error fetching bookings:",C)}finally{l(!1)}},w=async C=>{if(confirm("Вы уверены, что хотите удалить это бронирование?"))try{await Cy(We(ye,"bookings",C)),_(),e&&e()}catch(k){console.error("Error deleting booking:",k),alert("Ошибка при удалении бронирования")}},I=s.filter(C=>!(c!=="all"&&C.status!==c||d!=="all"&&(C.paymentStatus||"awaiting_payment")!==d)),N=C=>new Intl.DateTimeFormat("ru-RU",{day:"numeric",month:"long",year:"numeric"}).format(C),R=C=>C||"—",S=C=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0}).format(C),E={cash:"Наличные",card_on_site:"Карта на месте",transfer:"Перевод",online:"Онлайн"};return o?a.jsx("div",{children:"Загрузка..."}):a.jsxs("div",{className:"section-card",children:[a.jsxs("div",{className:"section-header",children:[a.jsx("h2",{className:"section-title",children:"Список бронирований"}),a.jsxs("button",{className:"btn btn-secondary btn-icon",onClick:()=>m(!p),children:[a.jsx(Wie,{}),"Фильтры"]})]}),p&&a.jsxs("div",{style:{marginBottom:"24px",padding:"16px",background:"var(--background)",borderRadius:"8px",display:"flex",gap:"16px",flexWrap:"wrap"},children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",style:{fontSize:"12px",marginBottom:"4px"},children:"Статус бронирования"}),a.jsxs("select",{className:"form-select",value:c,onChange:C=>u(C.target.value),style:{minWidth:"150px"},children:[a.jsx("option",{value:"all",children:"Все"}),a.jsx("option",{value:"confirmed",children:"Подтверждено"}),a.jsx("option",{value:"pending",children:"Ожидает"}),a.jsx("option",{value:"cancelled",children:"Отменено"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",style:{fontSize:"12px",marginBottom:"4px"},children:"Статус оплаты"}),a.jsxs("select",{className:"form-select",value:d,onChange:C=>h(C.target.value),style:{minWidth:"150px"},children:[a.jsx("option",{value:"all",children:"Все"}),a.jsx("option",{value:"awaiting_payment",children:"Ожидает оплаты"}),a.jsx("option",{value:"paid",children:"Оплачено"}),a.jsx("option",{value:"online_payment",children:"Онлайн оплата"}),a.jsx("option",{value:"cancelled",children:"Отменено"})]})]})]}),a.jsx("div",{className:"table-wrapper",children:a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Дата и время"}),a.jsx("th",{children:"Корт"}),a.jsx("th",{children:"Клиент"}),a.jsx("th",{children:"Сумма"}),a.jsx("th",{children:"Способ оплаты"}),a.jsx("th",{children:"Статус оплаты"}),a.jsx("th",{children:"Действия"})]})}),a.jsx("tbody",{children:I.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:7,style:{textAlign:"center",padding:"48px"},children:"Нет бронирований"})}):I.map(C=>a.jsxs("tr",{children:[a.jsxs("td",{children:[a.jsx("div",{children:N(C.date)}),a.jsxs("div",{style:{fontSize:"14px",color:"var(--gray)"},children:[R(C.startTime)," - ",R(C.endTime)]})]}),a.jsx("td",{children:C.courtName}),a.jsxs("td",{children:[a.jsx("div",{children:C.clientName||C.customerName}),a.jsx("div",{style:{fontSize:"14px",color:"var(--gray)"},children:C.clientPhone||C.customerPhone})]}),a.jsx("td",{style:{fontWeight:"600"},children:S(C.amount)}),a.jsx("td",{children:E[C.paymentMethod]||C.paymentMethod}),a.jsx("td",{children:a.jsx(UL,{bookingId:C.id,currentStatus:C.paymentStatus||"awaiting_payment",paymentMethod:C.paymentMethod,onStatusUpdate:_})}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",gap:"8px"},children:[a.jsx("button",{className:"btn btn-secondary btn-icon",onClick:()=>{g(C),x(!0)},title:"Подробности",children:a.jsx(qie,{})}),r(["manage_bookings","manage_all_bookings"])&&a.jsx("button",{className:"btn btn-danger btn-icon",onClick:()=>w(C.id),title:"Удалить бронирование",children:a.jsx(Xf,{})})]})})]},C.id))})]})}),a.jsx(zL,{booking:v,isOpen:b,onClose:()=>{x(!1),g(null)},onUpdate:_})]})}function Roe({isOpen:t,onClose:e,onSuccess:n,venueId:r,preSelectedDate:s,preSelectedTime:i}){const{admin:o}=xr(),[l,c]=y.useState([]),[u,d]=y.useState(!1),[h,p]=y.useState(""),[m,v]=y.useState({clientName:"",clientPhone:"",courtId:"",date:s?s.toISOString().split("T")[0]:new Date().toISOString().split("T")[0],startTime:i||"10:00",duration:1,paymentMethod:"cash"}),[g,b]=y.useState([]),[x,_]=y.useState([]),[w,I]=y.useState(null),N=(A,M)=>{const[P,O]=A.split(":").map(Number),V=P+O/60,B=V+M;return x.some(z=>{const[U,F]=z.startTime.split(":").map(Number),[L,H]=z.endTime.split(":").map(Number),q=U+F/60,K=L+H/60;return V<K&&B>q})},R=A=>{const M=[],V=23-A,B=.5;for(let z=7;z<=V;z+=B){const U=Math.floor(z),F=z%1*60,L=`${String(U).padStart(2,"0")}:${String(F).padStart(2,"0")}`;z+A<=23&&M.push(L)}return M};y.useEffect(()=>{if(t){S(),s&&v(M=>({...M,date:s.toISOString().split("T")[0]})),i&&v(M=>({...M,startTime:i}));const A=R(m.duration);b(A)}},[t,s,i]),y.useEffect(()=>{const A=R(m.duration);b(A),!A.includes(m.startTime)&&A.length>0&&v(M=>({...M,startTime:A[0]}))},[m.duration]),y.useEffect(()=>{if(m.courtId&&m.date&&t){w&&(w(),I(null)),E();const A=Je(ye,"bookings"),M=Lt(A,Ge("courtId","==",m.courtId),Ge("date","==",m.date),Ge("status","in",["confirmed","pending"])),P=new Date(m.date);P.setHours(0,0,0,0);const O=new Date(m.date);O.setHours(23,59,59,999);const V=Lt(A,Ge("courtId","==",m.courtId),Ge("date",">=",Bt.fromDate(P)),Ge("date","<=",Bt.fromDate(O)),Ge("status","in",["confirmed","pending"])),B=new Map,z=Ng(M,L=>{L.docs.forEach(H=>{B.set(H.id,{id:H.id,...H.data()})}),_(Array.from(B.values()))}),U=Ng(V,L=>{L.docs.forEach(H=>{B.set(H.id,{id:H.id,...H.data()})}),_(Array.from(B.values()))}),F=()=>{z(),U()};I(()=>F)}return()=>{w&&(w(),I(null))}},[m.courtId,m.date,t]);const S=async()=>{if(r)try{const A=await sn(We(ye,"venues",r));A.exists()&&p(A.data().name||"");const M=Je(ye,"venues",r,"courts"),O=(await It(M)).docs.map(V=>({id:V.id,...V.data()}));c(O),O.length>0&&!m.courtId&&v(V=>({...V,courtId:O[0].id}))}catch(A){console.error("Error fetching courts:",A)}},E=async()=>{if(!(!r||!m.courtId||!m.date))try{const A=Je(ye,"bookings");let M=Lt(A,Ge("courtId","==",m.courtId),Ge("date","==",m.date),Ge("status","in",["confirmed","pending"])),P=await It(M);if(P.empty){const V=new Date(m.date);V.setHours(0,0,0,0);const B=new Date(m.date);B.setHours(23,59,59,999),M=Lt(A,Ge("courtId","==",m.courtId),Ge("date",">=",Bt.fromDate(V)),Ge("date","<=",Bt.fromDate(B)),Ge("status","in",["confirmed","pending"])),P=await It(M)}const O=P.docs.map(V=>({id:V.id,...V.data()}));_(O)}catch(A){console.error("Error fetching bookings:",A)}},C=A=>{const{name:M,value:P}=A.target;v(O=>({...O,[M]:M==="duration"?parseFloat(P):P}))},k=async A=>{if(A.preventDefault(),!(!r||!o)){d(!0);try{const M=l.find(K=>K.id===m.courtId);if(!M)return;const[P,O]=m.startTime.split(":").map(Number),V=P+Math.floor(m.duration),B=O+m.duration%1*60,z=`${String(V+Math.floor(B/60)).padStart(2,"0")}:${String(B%60).padStart(2,"0")}`,U=m.paymentMethod==="online"?"online_payment":"awaiting_payment",F=new Date(m.date),L=F.getDay()===0||F.getDay()===6,H=M.pricePerHour||(L?M.priceWeekend:M.priceWeekday)||1900,q={venueId:r,courtId:m.courtId,courtName:M.name,venueName:h,clientName:m.clientName,clientPhone:m.clientPhone,customerName:m.clientName,customerPhone:m.clientPhone,date:m.date,time:m.startTime,startTime:m.startTime,endTime:z,duration:m.duration*60,gameType:"single",status:"confirmed",amount:m.duration*H,price:H,paymentMethod:m.paymentMethod,paymentStatus:U,source:"admin",paymentHistory:[{timestamp:Bt.now(),action:"created",userId:o.uid||"",userName:o.displayName||o.email||"Администратор"}],createdBy:{userId:o.uid||"",userName:o.displayName||o.email||"Администратор",userRole:o.role||"admin"},createdAt:Bt.now()};await Zo(Je(ye,"bookings"),q),v({clientName:"",clientPhone:"",courtId:l.length>0?l[0].id:"",date:new Date().toISOString().split("T")[0],startTime:"10:00",duration:1,paymentMethod:"cash"}),n(),e()}catch(M){console.error("Error creating booking:",M),alert("Ошибка при создании бронирования: "+M.message)}finally{d(!1)}}};return t?a.jsx("div",{className:"modal active",children:a.jsxs("div",{className:"modal-content",style:{maxWidth:"600px"},children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h2",{className:"modal-title",children:"Создать бронирование"}),a.jsx("button",{className:"modal-close",onClick:e,children:a.jsx(KC,{})})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("form",{onSubmit:k,children:[a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Имя клиента"}),a.jsx("input",{type:"text",className:"form-input",name:"clientName",value:m.clientName,onChange:C,placeholder:"Введите имя",required:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Телефон"}),a.jsx("input",{type:"tel",className:"form-input",name:"clientPhone",value:m.clientPhone,onChange:C,placeholder:"+7 (___) ___-__-__",required:!0})]})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginTop:"20px"},children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Корт"}),a.jsxs("select",{className:"form-select",name:"courtId",value:m.courtId,onChange:C,required:!0,children:[a.jsx("option",{value:"",children:"Выберите корт"}),l.map(A=>{const M=new Date(m.date),P=M.getDay()===0||M.getDay()===6,O=A.pricePerHour||(P?A.priceWeekend:A.priceWeekday)||0;return a.jsxs("option",{value:A.id,children:[A.name," - ",O," ₽/час"]},A.id)})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Дата"}),a.jsx("input",{type:"date",className:"form-input",name:"date",value:m.date,onChange:C,required:!0})]})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginTop:"20px"},children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Длительность"}),a.jsxs("select",{className:"form-select",name:"duration",value:m.duration,onChange:C,children:[a.jsx("option",{value:"0.5",children:"30 минут"}),a.jsx("option",{value:"1",children:"1 час"}),a.jsx("option",{value:"1.5",children:"1.5 часа"}),a.jsx("option",{value:"2",children:"2 часа"}),a.jsx("option",{value:"2.5",children:"2.5 часа"}),a.jsx("option",{value:"3",children:"3 часа"})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Время начала"}),a.jsxs("select",{className:"form-select",name:"startTime",value:m.startTime,onChange:C,required:!0,children:[a.jsx("option",{value:"",children:"Выберите время"}),g.map(A=>{const M=N(A,m.duration),[P,O]=A.split(":").map(Number),V=P+Math.floor(m.duration),B=O+m.duration%1*60,z=V+Math.floor(B/60),U=B%60,F=`${String(z).padStart(2,"0")}:${String(U).padStart(2,"0")}`;return a.jsxs("option",{value:A,disabled:M,children:[A," - ",F," ",M?"(Занято)":""]},A)})]})]})]}),a.jsxs("div",{className:"form-group",style:{marginTop:"20px"},children:[a.jsx("label",{className:"form-label",children:"Способ оплаты"}),a.jsxs("select",{className:"form-select",name:"paymentMethod",value:m.paymentMethod,onChange:C,children:[a.jsx("option",{value:"cash",children:"Оплата в клубе наличными"}),a.jsx("option",{value:"card_on_site",children:"Оплата в клубе картой"}),a.jsx("option",{value:"transfer",children:"Перевод на счет клуба"}),a.jsx("option",{value:"online",children:"Онлайн оплата"})]})]}),m.courtId&&m.duration&&m.startTime&&a.jsx("div",{style:{background:"var(--background)",padding:"20px",borderRadius:"8px",marginTop:"24px"},children:(()=>{const A=l.find(B=>B.id===m.courtId);if(!A)return null;const M=new Date(m.date),P=M.getDay()===0||M.getDay()===6,O=A.pricePerHour||(P?A.priceWeekend:A.priceWeekday)||0,V=O*m.duration;return a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx("span",{style:{color:"var(--gray)"},children:"Стоимость за час:"}),a.jsxs("span",{style:{fontWeight:"500"},children:[O.toLocaleString("ru-RU")," ₽"]})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingTop:"12px",borderTop:"1px solid var(--extra-light-gray)",marginTop:"4px"},children:[a.jsx("span",{style:{fontWeight:"600",fontSize:"18px"},children:"Итого:"}),a.jsxs("span",{style:{fontWeight:"700",fontSize:"20px",color:"var(--primary)"},children:[V.toLocaleString("ru-RU")," ₽"]})]}),a.jsxs("div",{style:{fontSize:"14px",color:"var(--gray)",marginTop:"8px"},children:["Способ оплаты: ",m.paymentMethod==="cash"?"Оплата в клубе наличными":m.paymentMethod==="card_on_site"?"Оплата в клубе картой":m.paymentMethod==="transfer"?"Перевод на счет клуба":"Онлайн оплата"]})]})})()}),a.jsxs("div",{className:"modal-footer",style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid var(--extra-light-gray)"},children:[a.jsx("button",{type:"button",className:"btn btn-secondary",onClick:e,children:"Отмена"}),a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"Создание...":"Создать бронирование"})]})]})})]})}):null}function Poe(){const{admin:t}=xr(),{isSuperAdmin:e,hasPermission:n}=Dr(),[r,s]=y.useState(null),[i,o]=y.useState([]),[l,c]=y.useState([]),[u,d]=y.useState([]),[h,p]=y.useState(!0),[m,v]=y.useState(new Date),[g,b]=y.useState({clientName:"",clientPhone:"",courtId:"",date:new Date().toISOString().split("T")[0],startTime:"10:00",duration:1.5,paymentMethod:"cash"}),[x,_]=y.useState([]),[w,I]=y.useState([]),[N,R]=y.useState(null),[S,E]=y.useState(!1),[C,k]=y.useState(!1),[A,M]=y.useState(null),[P,O]=y.useState(null),[V,B]=y.useState(null);y.useEffect(()=>{if(e){U();const Y=localStorage.getItem("selectedVenueId");Y?(s(Y),L(Y),H(Y)):p(!1)}else t!=null&&t.venueId?(z(t.venueId),L(t.venueId),H(t.venueId)):p(!1)},[t,m,e]),y.useEffect(()=>{const Y=Q(g.duration);_(Y),!Y.includes(g.startTime)&&Y.length>0&&b(W=>({...W,startTime:Y[0]}))},[g.duration,g.date,i,r,t==null?void 0:t.venueId]),y.useEffect(()=>{g.courtId&&g.date&&q()},[g.courtId,g.date]);const z=async Y=>{try{const W=await sn(We(ye,"venues",Y));if(W.exists()){const Z={id:W.id,...W.data()};o([Z])}}catch(W){console.error("Error fetching venue data:",W)}},U=async()=>{try{const W=(await It(Je(ye,"venues"))).docs.map(Z=>({id:Z.id,...Z.data()}));o(W)}catch(Y){console.error("Error fetching venues:",Y)}},F=Y=>{s(Y),localStorage.setItem("selectedVenueId",Y),L(Y),H(Y)},L=async Y=>{if(Y)try{const W=Je(ye,"venues",Y,"courts"),le=(await It(W)).docs.map(be=>({id:be.id,...be.data()}));d(le)}catch(W){console.error("Error fetching courts:",W)}},H=async Y=>{if(Y)try{p(!0);const W=new Date(m);W.setDate(m.getDate()-m.getDay()+1),W.setHours(0,0,0,0);const Z=new Date(W);Z.setDate(W.getDate()+6),Z.setHours(23,59,59,999),console.log("Fetching bookings for venue:",Y),console.log("Date range:",W,"to",Z);const le=Lt(Je(ye,"bookings"),Ge("venueId","==",Y)),be=await It(le);console.log("Found bookings:",be.size);const Be=be.docs.map(Te=>{var qe,Ve;const we=Te.data();return console.log("Raw booking data:",we),{id:Te.id,...we,date:(qe=we.date)!=null&&qe.toDate?we.date.toDate():new Date(we.date),createdAt:(Ve=we.createdAt)!=null&&Ve.toDate?we.createdAt.toDate():new Date}});console.log("All bookings data:",Be);const ve=Be.filter(Te=>{const we=new Date(Te.date),qe=we>=W&&we<=Z;return console.log("Booking date:",we,"In range:",qe,"Venue match:",Te.venueId===Y),qe&&Te.venueId===Y}).sort((Te,we)=>new Date(we.date).getTime()-new Date(Te.date).getTime());console.log("Filtered and sorted bookings:",ve),c(ve)}catch(W){console.error("Error fetching bookings:",W)}finally{p(!1)}},q=async()=>{if(!(!r&&!(t!=null&&t.venueId))&&!(!g.courtId||!g.date))try{const Y=Je(ye,"bookings"),W=Lt(Y,Ge("venueId","==",r||(t==null?void 0:t.venueId)),Ge("courtId","==",g.courtId),Ge("date","==",Bt.fromDate(new Date(g.date)))),le=(await It(W)).docs.map(be=>({id:be.id,...be.data()}));I(le)}catch(Y){console.error("Error fetching bookings:",Y)}},K=Y=>{const W=new Date(m);W.setDate(m.getDate()+Y*7),v(W)},te=()=>{const Y=[],W=new Date(m);W.setDate(m.getDate()-m.getDay()+1);for(let Z=0;Z<7;Z++){const le=new Date(W);le.setDate(W.getDate()+Z),Y.push(le)}return Y},me=(Y,W,Z)=>l.filter(le=>{const be=new Date(le.date),Be=le.startTime||le.time;return be.toDateString()===Y.toDateString()&&Be===W&&le.courtId===Z}),Q=Y=>{var qe;const W=i.find(Ve=>Ve.id===(r||(t==null?void 0:t.venueId))),Z=g.date?new Date(g.date).getDay()===0||new Date(g.date).getDay()===6:!1,le=((qe=W==null?void 0:W.workingHours)==null?void 0:qe[Z?"weekend":"weekday"])||(Z?"08:00-22:00":"07:00-23:00"),[be,Be]=le.split("-"),[fe]=be.split(":").map(Number),[ve]=Be.split(":").map(Number),Te=[],we=ve-Y;for(let Ve=fe;Ve<=we;Ve+=.5){const Ue=Math.floor(Ve),Wt=Ve%1*60,et=`${String(Ue).padStart(2,"0")}:${String(Wt).padStart(2,"0")}`;Ve+Y<=ve&&Te.push(et)}return Te},ce=()=>{var fe;const Y=[],W=i.find(ve=>ve.id===(r||(t==null?void 0:t.venueId))),Z=g.date?new Date(g.date).getDay()===0||new Date(g.date).getDay()===6:!1,le=((fe=W==null?void 0:W.workingHours)==null?void 0:fe[Z?"weekend":"weekday"])||(Z?"08:00-22:00":"07:00-23:00");let be=7,Be=23;if(le.includes("-")){const[ve,Te]=le.split("-").map(we=>we.trim());ve&&Te&&(be=parseInt(ve.split(":")[0]),Be=parseInt(Te.split(":")[0]))}for(let ve=be;ve<Be;ve++)Y.push(`${ve.toString().padStart(2,"0")}:00`);return Y},ie=y.useMemo(()=>ce(),[i,r,t==null?void 0:t.venueId,g.date]),re=te(),ge=["Пн","Вт","Ср","Чт","Пт","Сб","Вс"],ee=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"];return h?a.jsx("div",{children:"Загрузка..."}):n(["manage_bookings","manage_all_bookings","view_bookings"])?e&&!r?a.jsx("div",{children:a.jsxs("div",{className:"section-card",children:[a.jsx("div",{className:"section-header",children:a.jsx("h2",{className:"section-title",children:"Выберите клуб"})}),a.jsxs("div",{className:"form-group",style:{maxWidth:"400px"},children:[a.jsx("label",{className:"form-label",children:"Клуб"}),a.jsxs("select",{className:"form-select",value:r||"",onChange:Y=>F(Y.target.value),children:[a.jsx("option",{value:"",children:"Выберите клуб для управления"}),i.map(Y=>a.jsx("option",{value:Y.id,children:Y.name},Y.id))]}),a.jsx("p",{className:"form-hint",children:"Выберите клуб для просмотра календаря и создания бронирований"})]})]})}):(n(["manage_bookings","manage_all_bookings","create_bookings"]),a.jsx(Xu,{permission:["manage_bookings","manage_all_bookings","view_bookings"],children:a.jsxs("div",{children:[e&&a.jsx("div",{className:"section-card",style:{marginBottom:"24px"},children:a.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[a.jsx("label",{className:"form-label",children:"Управление клубом"}),a.jsxs("select",{className:"form-select",value:r||"",onChange:Y=>F(Y.target.value),style:{maxWidth:"400px"},children:[a.jsx("option",{value:"",children:"Выберите клуб"}),i.map(Y=>a.jsx("option",{value:Y.id,children:Y.name},Y.id))]})]})}),a.jsxs("div",{className:"section-card",children:[a.jsxs("div",{className:"calendar-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[a.jsx("h2",{className:"section-title",children:"Календарь бронирований"}),a.jsxs("div",{className:"calendar-nav",style:{display:"flex",alignItems:"center",gap:"16px"},children:[a.jsx("button",{onClick:()=>K(-1),style:{width:"32px",height:"32px",border:"1px solid var(--extra-light-gray)",background:"var(--white)",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(Lie,{})}),a.jsxs("span",{style:{fontWeight:"600",minWidth:"150px",textAlign:"center"},children:[ee[m.getMonth()]," ",m.getFullYear()]}),a.jsx("button",{onClick:()=>K(1),style:{width:"32px",height:"32px",border:"1px solid var(--extra-light-gray)",background:"var(--white)",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx($ie,{})}),a.jsx("button",{onClick:()=>v(new Date),style:{padding:"6px 12px",border:"1px solid var(--extra-light-gray)",background:"var(--white)",borderRadius:"6px",cursor:"pointer",fontSize:"14px",marginLeft:"16px"},children:"Сегодня"})]})]}),a.jsxs("div",{className:"calendar-grid",style:{display:"grid",gridTemplateColumns:"60px repeat(7, 1fr)",gap:"1px",background:"var(--extra-light-gray)",border:"1px solid var(--extra-light-gray)",borderRadius:"8px",overflow:"hidden"},children:[a.jsx("div",{style:{background:"var(--white)",padding:"12px"}}),re.map((Y,W)=>a.jsxs("div",{className:"day-header",style:{fontWeight:"600",textAlign:"center",background:"var(--background)",padding:"12px"},children:[ge[W]," ",Y.getDate()]},W)),ie.map(Y=>a.jsxs(ot.Fragment,{children:[a.jsx("div",{className:"time-slot",style:{fontSize:"12px",color:"var(--gray)",textAlign:"center",padding:"8px",background:"var(--white)"},children:Y}),re.map((W,Z)=>{const le=u.flatMap(fe=>me(W,Y,fe.id)),be=A&&P&&W.toDateString()===A.toDateString()&&Y===P,Be=V&&W.toDateString()===V.date.toDateString()&&Y===V.time;return a.jsxs("div",{className:"booking-slot",style:{position:"relative",cursor:"pointer",minHeight:"60px",background:le.length>0?(()=>{const fe=le[0],ve=u.find(Ue=>Ue.id===fe.courtId),Te=(ve==null?void 0:ve.color)||"#00A86B",we=parseInt(Te.slice(1,3),16),qe=parseInt(Te.slice(3,5),16),Ve=parseInt(Te.slice(5,7),16);return`rgba(${we}, ${qe}, ${Ve}, 0.15)`})():be?"rgba(0, 168, 107, 0.2)":Be?"rgba(0, 168, 107, 0.05)":"var(--white)",padding:"8px",overflow:"hidden",border:be?"2px solid var(--primary)":"2px solid transparent",transition:"all 0.2s ease"},onMouseEnter:()=>{le.length===0&&B({date:W,time:Y})},onMouseLeave:()=>{B(null)},onClick:()=>{le.length>0?(R(le[0]),E(!0)):(M(W),O(Y),k(!0))},children:[le.length===0&&(Be||be)&&a.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"12px",color:"var(--primary)",fontWeight:"600",textAlign:"center"},children:Y}),le.map((fe,ve)=>{const Te=fe.paymentStatus||"awaiting_payment",we={awaiting_payment:"#F59E0B",paid:"#10B981",online_payment:"#3B82F6",cancelled:"#EF4444"},qe={awaiting_payment:"Ожидает",paid:"Оплачено",online_payment:"Онлайн",cancelled:"Отменено"};return a.jsxs("div",{style:{fontSize:"11px",marginBottom:"4px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[a.jsxs("div",{style:{fontWeight:"600",color:"var(--dark)",display:"flex",alignItems:"center",gap:"4px"},children:[(()=>{const Ve=u.find(Ue=>Ue.id===fe.courtId);return Ve!=null&&Ve.color?a.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"2px",backgroundColor:Ve.color,flexShrink:0}}):null})(),fe.courtName]}),a.jsxs("div",{style:{color:"var(--gray)",fontSize:"10px"},children:[fe.clientName||fe.customerName,(fe.clientPhone||fe.customerPhone)&&a.jsx("span",{style:{fontSize:"9px",marginLeft:"4px"},children:fe.clientPhone||fe.customerPhone})]}),a.jsx("div",{style:{fontSize:"9px",marginTop:"2px",color:we[Te],fontWeight:"500"},children:qe[Te]})]},ve)})]},`${Y}-${Z}`)})]},Y))]})]}),a.jsx(koe,{venueId:r||(t==null?void 0:t.venueId)||"",onRefresh:()=>H(r||(t==null?void 0:t.venueId)||"")}),a.jsx(zL,{booking:N,isOpen:S,onClose:()=>{E(!1),R(null)},onUpdate:()=>H(r||(t==null?void 0:t.venueId)||"")}),a.jsx(Roe,{isOpen:C,onClose:()=>{k(!1),M(null),O(null)},onSuccess:()=>{H(r||(t==null?void 0:t.venueId)||"")},venueId:r||(t==null?void 0:t.venueId)||"",preSelectedDate:A||void 0,preSelectedTime:P||void 0})]})})):a.jsxs(rn,{severity:"error",children:[a.jsx(of,{children:"Доступ запрещен"}),"У вас недостаточно прав для просмотра бронирований."]})}function Aoe(){const{admin:t}=xr(),{isSuperAdmin:e}=Dr(),[n,r]=y.useState(null),[s,i]=y.useState([]),[o,l]=y.useState(!0),[c,u]=y.useState("");y.useEffect(()=>{if(e){const x=localStorage.getItem("selectedVenueId");x?(r(x),h(x)):l(!1)}else t!=null&&t.venueId&&h(t.venueId)},[t,e]);const d=x=>{r(x),localStorage.setItem("selectedVenueId",x),x&&h(x)},h=async x=>{const _=x||(t==null?void 0:t.venueId);if(_)try{l(!0);const w=Lt(Je(ye,"bookings"),Ge("venueId","==",_),pq("createdAt","desc"),mq(100)),I=await It(w),N=new Map;I.docs.forEach(R=>{var C,k,A;const S=R.data(),E=S.clientPhone;if(N.has(E)){const M=N.get(E);M.bookingsCount++,M.totalSpent+=S.amount||0,((C=S.date)==null?void 0:C.toDate())>M.lastVisit&&(M.lastVisit=S.date.toDate())}else N.set(E,{id:E,name:S.clientName,phone:S.clientPhone,bookingsCount:1,lastVisit:(k=S.date)==null?void 0:k.toDate(),totalSpent:S.amount||0,hasApp:S.paymentMethod==="app",venueId:t.venueId,createdAt:((A=S.createdAt)==null?void 0:A.toDate())||new Date})}),i(Array.from(N.values()))}catch(w){console.error("Error fetching customers:",w)}finally{l(!1)}},p=s.filter(x=>x.name.toLowerCase().includes(c.toLowerCase())||x.phone.includes(c)),m=x=>x.split(" ").map(_=>_[0]).join("").toUpperCase().slice(0,2),v=x=>{const _=["var(--primary)","var(--padel)","var(--badminton)","var(--tennis)"],w=x.charCodeAt(0)%_.length;return _[w]},g=x=>{if(!x)return"Нет данных";const w=Math.abs(new Date().getTime()-x.getTime()),I=Math.ceil(w/(1e3*60*60*24));return I===0?"Сегодня":I===1?"Вчера":I<7?`${I} дней назад`:I<30?`${Math.floor(I/7)} недель назад`:x.toLocaleDateString("ru-RU")},b=()=>{const x=[["Имя","Телефон","Количество бронирований","Потрачено","Последний визит"].join(","),...p.map(I=>{var N;return[I.name,I.phone,I.bookingsCount,I.totalSpent,((N=I.lastVisit)==null?void 0:N.toLocaleDateString("ru-RU"))||""].join(",")})].join(`
`),_=new Blob([x],{type:"text/csv;charset=utf-8;"}),w=document.createElement("a");w.href=URL.createObjectURL(_),w.download=`customers_${new Date().toISOString().split("T")[0]}.csv`,w.click()};return o?a.jsx("div",{children:"Загрузка..."}):e&&!n?a.jsx(Hl,{title:"Выберите клуб для просмотра клиентов"}):a.jsxs("div",{children:[e&&a.jsx(Wl,{selectedVenueId:n,onVenueChange:d}),a.jsxs("div",{className:"section-card",children:[a.jsxs("div",{className:"section-header",children:[a.jsx("h2",{className:"section-title",children:"База клиентов"}),a.jsxs("div",{style:{display:"flex",gap:"12px"},children:[a.jsx("input",{type:"search",className:"form-input",placeholder:"Поиск по имени или телефону",style:{width:"300px"},value:c,onChange:x=>u(x.target.value)}),a.jsxs("button",{className:"btn btn-secondary",onClick:b,children:[a.jsx(zie,{fontSize:"small"}),"Экспорт"]})]})]}),a.jsx("div",{className:"table-wrapper",children:a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Клиент"}),a.jsx("th",{children:"Телефон"}),a.jsx("th",{children:"Бронирований"}),a.jsx("th",{children:"Потрачено"}),a.jsx("th",{children:"Последний визит"}),a.jsx("th",{children:"Статус в приложении"}),a.jsx("th",{children:"Действия"})]})}),a.jsx("tbody",{children:p.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:7,style:{textAlign:"center",padding:"48px",color:"var(--gray)"},children:"Клиенты не найдены"})}):p.map(x=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("div",{className:"customer-info",style:{display:"flex",alignItems:"center",gap:"12px"},children:[a.jsx("div",{className:"customer-avatar",style:{width:"40px",height:"40px",borderRadius:"50%",background:v(x.name),color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"600",fontSize:"16px"},children:m(x.name)}),a.jsx("div",{children:a.jsx("div",{className:"customer-name",style:{fontWeight:"600",color:"var(--dark)"},children:x.name})})]})}),a.jsx("td",{children:x.phone}),a.jsx("td",{children:x.bookingsCount}),a.jsxs("td",{children:[x.totalSpent.toLocaleString("ru-RU"),"₽"]}),a.jsx("td",{children:g(x.lastVisit)}),a.jsx("td",{children:x.hasApp?a.jsx("span",{style:{color:"var(--success)"},children:"✅ Установлено"}):a.jsx("span",{style:{color:"var(--warning)"},children:"📱 Не установлено"})}),a.jsx("td",{children:x.hasApp?a.jsx("button",{className:"btn btn-secondary",children:"Детали"}):a.jsxs("button",{className:"btn btn-secondary",children:[a.jsx(noe,{fontSize:"small"}),"Отправить SMS"]})})]},x.id))})]})})]}),a.jsxs("div",{className:"section-card",children:[a.jsx("h2",{className:"section-title",children:"Статистика по клиентам"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"24px"},children:[a.jsxs("div",{style:{textAlign:"center"},children:[a.jsx("div",{style:{fontSize:"32px",fontWeight:"700",color:"var(--primary)"},children:s.length}),a.jsx("div",{style:{color:"var(--gray)",fontSize:"14px"},children:"Всего клиентов"})]}),a.jsxs("div",{style:{textAlign:"center"},children:[a.jsx("div",{style:{fontSize:"32px",fontWeight:"700",color:"var(--primary)"},children:s.filter(x=>x.hasApp).length}),a.jsx("div",{style:{color:"var(--gray)",fontSize:"14px"},children:"С приложением"})]}),a.jsxs("div",{style:{textAlign:"center"},children:[a.jsxs("div",{style:{fontSize:"32px",fontWeight:"700",color:"var(--primary)"},children:[Math.round(s.filter(x=>x.hasApp).length/s.length*100),"%"]}),a.jsx("div",{style:{color:"var(--gray)",fontSize:"14px"},children:"Конверсия в приложение"})]}),a.jsxs("div",{style:{textAlign:"center"},children:[a.jsxs("div",{style:{fontSize:"32px",fontWeight:"700",color:"var(--primary)"},children:[s.reduce((x,_)=>x+_.totalSpent,0).toLocaleString("ru-RU"),"₽"]}),a.jsx("div",{style:{color:"var(--gray)",fontSize:"14px"},children:"Общий доход"})]})]})]})]})}function Noe(){const t=Qr();return a.jsxs(hL,{maxWidth:"lg",sx:{py:8},children:[a.jsxs(he,{textAlign:"center",mb:6,children:[a.jsx(ne,{variant:"h2",component:"h1",gutterBottom:!0,children:"Sports Booking"}),a.jsx(ne,{variant:"h5",color:"text.secondary",gutterBottom:!0,children:"Система бронирования спортивных кортов"}),a.jsx(ne,{variant:"body1",color:"text.secondary",sx:{maxWidth:600,mx:"auto"},children:"Мобильное приложение для клиентов и веб-панель управления для клубов"})]}),a.jsxs(Et,{container:!0,spacing:4,mb:6,children:[a.jsx(Et,{item:!0,xs:12,md:6,children:a.jsx(gn,{children:a.jsxs(vn,{sx:{p:4,textAlign:"center"},children:[a.jsx(Xie,{sx:{fontSize:60,color:"primary.main",mb:2}}),a.jsx(ne,{variant:"h5",gutterBottom:!0,children:"Для клиентов"}),a.jsx(ne,{variant:"body1",color:"text.secondary",mb:3,children:"Скачайте мобильное приложение для бронирования кортов, поиска партнеров и оплаты"}),a.jsxs(he,{display:"flex",gap:2,justifyContent:"center",flexWrap:"wrap",children:[a.jsx(Ye,{variant:"outlined",disabled:!0,children:"App Store"}),a.jsx(Ye,{variant:"outlined",disabled:!0,children:"Google Play"})]})]})})}),a.jsx(Et,{item:!0,xs:12,md:6,children:a.jsx(gn,{children:a.jsxs(vn,{sx:{p:4,textAlign:"center"},children:[a.jsx(coe,{sx:{fontSize:60,color:"primary.main",mb:2}}),a.jsx(ne,{variant:"h5",gutterBottom:!0,children:"Для клубов"}),a.jsx(ne,{variant:"body1",color:"text.secondary",mb:3,children:"Веб-панель управления для администраторов спортивных клубов"}),a.jsx(Ye,{variant:"contained",size:"large",onClick:()=>t("/admin/login"),children:"Войти в админ-панель"})]})})})]}),a.jsxs($s,{sx:{p:4,textAlign:"center"},children:[a.jsx(XC,{sx:{fontSize:80,color:"primary.main",mb:2}}),a.jsx(ne,{variant:"h5",gutterBottom:!0,children:"QR-код для клиентов"}),a.jsx(ne,{variant:"body1",color:"text.secondary",mb:3,children:"Разместите этот QR-код в вашем клубе, чтобы клиенты могли скачать приложение"}),a.jsx(he,{sx:{maxWidth:200,height:200,mx:"auto",bgcolor:"grey.100",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:2},children:a.jsx(ne,{color:"text.secondary",children:"QR-код приложения"})})]})]})}const Doe=[{value:"manage_all_venues",label:"Управление всеми клубами"},{value:"manage_all_bookings",label:"Управление всеми бронированиями"},{value:"manage_all_users",label:"Управление всеми пользователями"},{value:"manage_platform_settings",label:"Управление настройками платформы"},{value:"view_all_reports",label:"Просмотр всех отчетов"},{value:"manage_finance",label:"Управление финансами"},{value:"manage_admins",label:"Управление администраторами"},{value:"manage_bookings",label:"Управление бронированиями"},{value:"manage_courts",label:"Управление кортами"},{value:"manage_club",label:"Управление клубом"},{value:"view_reports",label:"Просмотр отчетов"},{value:"view_bookings",label:"Просмотр бронирований"},{value:"create_bookings",label:"Создание бронирований"}],bx={superadmin:["manage_all_venues","manage_all_bookings","manage_all_users","manage_platform_settings","view_all_reports","manage_finance","manage_admins"],admin:["manage_bookings","manage_courts","manage_club","view_reports"],manager:["view_bookings","create_bookings","view_reports"]};function joe(){const{isSuperAdmin:t}=Dr(),[e,n]=y.useState([]),[r,s]=y.useState([]),[i,o]=y.useState(!0),[l,c]=y.useState(!1),[u,d]=y.useState(null),[h,p]=y.useState({name:"",email:"",password:"",role:"manager",venueId:"",permissions:[]}),[m,v]=y.useState("");y.useEffect(()=>{g()},[]);const g=async()=>{try{const R=await It(Je(ye,"admins")),S=[];for(const k of R.docs){const A=k.data();let M="";if(A.venueId){const P=await It(Lt(Je(ye,"venues"),Ge("__name__","==",A.venueId)));P.empty||(M=P.docs[0].data().name)}S.push({id:k.id,name:A.name,email:A.email,password:A.password,role:A.role,venueId:A.venueId,venueName:M,permissions:A.permissions||[]})}n(S);const C=(await It(Je(ye,"venues"))).docs.map(k=>({id:k.id,name:k.data().name}));s(C),o(!1)}catch(R){console.error("Error loading data:",R),o(!1)}},b=R=>{R?(d(R),p({name:R.name,email:R.email,password:"",role:R.role,venueId:R.venueId||"",permissions:R.permissions})):(d(null),p({name:"",email:"",password:"",role:"manager",venueId:"",permissions:bx.manager})),c(!0),v("")},x=()=>{c(!1),d(null),v("")},_=R=>{p({...h,role:R,permissions:bx[R]})},w=R=>{const S=h.permissions.includes(R)?h.permissions.filter(E=>E!==R):[...h.permissions,R];p({...h,permissions:S})},I=async()=>{try{if(v(""),u){const R={name:h.name,role:h.role,venueId:h.venueId||null,permissions:h.permissions,updatedAt:new Date};h.password&&(R.password=h.password),await Zn(We(ye,"admins",u.id),R)}else{if(!h.password){v("Пароль обязателен для нового администратора");return}const R=await BD($r,h.email,h.password);await Zo(Je(ye,"admins"),{uid:R.user.uid,name:h.name,email:h.email,password:h.password,role:h.role,venueId:h.venueId||null,permissions:h.permissions,createdAt:new Date,updatedAt:new Date})}x(),g()}catch(R){console.error("Error saving admin:",R),R.code==="auth/email-already-in-use"?v("Пользователь с таким email уже существует"):R.code==="auth/weak-password"?v("Пароль должен содержать минимум 6 символов"):v("Ошибка при сохранении администратора")}},N=async R=>{if(confirm("Вы уверены, что хотите удалить этого администратора?"))try{await Cy(We(ye,"admins",R)),g()}catch(S){console.error("Error deleting admin:",S)}};return i?a.jsx(he,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:a.jsx(Si,{})}):a.jsx(Xu,{role:"superadmin",children:a.jsxs(he,{children:[a.jsxs(he,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[a.jsx("h2",{children:"Управление администраторами"}),a.jsx(Ye,{variant:"contained",startIcon:a.jsx(Wy,{}),onClick:()=>b(),children:"Добавить администратора"})]}),a.jsx(Uy,{component:$s,children:a.jsxs(Fy,{children:[a.jsx(zy,{children:a.jsxs(oo,{children:[a.jsx(rt,{children:"Имя"}),a.jsx(rt,{children:"Email"}),t&&a.jsx(rt,{children:"Пароль"}),a.jsx(rt,{children:"Роль"}),a.jsx(rt,{children:"Клуб"}),a.jsx(rt,{align:"right",children:"Действия"})]})}),a.jsx(By,{children:e.map(R=>a.jsxs(oo,{children:[a.jsx(rt,{children:R.name}),a.jsx(rt,{children:R.email}),t&&a.jsx(rt,{children:R.password?a.jsx(he,{display:"flex",alignItems:"center",gap:1,children:a.jsx("span",{style:{fontFamily:"monospace",fontSize:"14px"},children:R.password})}):a.jsx("span",{style:{color:"#999"},children:"Не сохранен"})}),a.jsx(rt,{children:a.jsx(Gs,{label:R.role,color:R.role==="superadmin"?"error":R.role==="admin"?"primary":"default",size:"small"})}),a.jsx(rt,{children:R.venueName||"-"}),a.jsx(rt,{align:"right",children:R.role!=="superadmin"&&a.jsxs(a.Fragment,{children:[a.jsx(cs,{onClick:()=>b(R),children:a.jsx(df,{})}),a.jsx(cs,{onClick:()=>N(R.id),color:"error",children:a.jsx(Xf,{})})]})})]},R.id))})]})}),a.jsxs(ro,{open:l,onClose:x,maxWidth:"sm",fullWidth:!0,children:[a.jsx(va,{children:u?"Редактировать администратора":"Добавить администратора"}),a.jsxs(so,{children:[m&&a.jsx(rn,{severity:"error",sx:{mb:2},children:m}),a.jsx(At,{fullWidth:!0,label:"Имя",value:h.name,onChange:R=>p({...h,name:R.target.value}),margin:"normal"}),a.jsx(At,{fullWidth:!0,label:"Email",type:"email",value:h.email,onChange:R=>p({...h,email:R.target.value}),margin:"normal",disabled:!!u}),a.jsx(At,{fullWidth:!0,label:u?"Новый пароль (оставьте пустым чтобы не менять)":"Пароль",type:"password",value:h.password,onChange:R=>p({...h,password:R.target.value}),margin:"normal"}),a.jsxs(Ii,{fullWidth:!0,margin:"normal",children:[a.jsx(wo,{children:"Роль"}),a.jsxs(Ni,{value:h.role,onChange:R=>_(R.target.value),children:[a.jsx(Rn,{value:"admin",children:"Администратор"}),a.jsx(Rn,{value:"manager",children:"Менеджер"})]})]}),a.jsxs(Ii,{fullWidth:!0,margin:"normal",children:[a.jsx(wo,{children:"Клуб"}),a.jsxs(Ni,{value:h.venueId,onChange:R=>p({...h,venueId:R.target.value}),children:[a.jsx(Rn,{value:"",children:"Не выбран"}),r.map(R=>a.jsx(Rn,{value:R.id,children:R.name},R.id))]})]}),a.jsxs(Ii,{component:"fieldset",margin:"normal",children:[a.jsx(gL,{component:"legend",children:"Права доступа"}),a.jsx(Fte,{children:Doe.map(R=>a.jsx(qg,{control:a.jsx(_ee,{checked:h.permissions.includes(R.value),onChange:()=>w(R.value),disabled:bx[h.role].includes(R.value)}),label:R.label},R.value))})]})]}),a.jsxs(ga,{children:[a.jsx(Ye,{onClick:x,children:"Отмена"}),a.jsx(Ye,{onClick:I,variant:"contained",children:u?"Сохранить":"Создать"})]})]})]})})}const Er={start:{name:"СТАРТ",price:0,pricePerCourt:0,limits:{maxCourts:2,maxBookingsPerMonth:-1,smsEmailNotifications:0,customDesign:!1,apiAccess:!1,multiVenue:!1,searchPriority:0,abTesting:!1,trainersModule:!1,personalManager:!1},features:["До 2 кортов бесплатно","Неограниченные бронирования","Управление расписанием","Онлайн-оплата (свой эквайринг)","Белый лейбл (логотип клуба)","Push-уведомления в приложении","Мобильное приложение для клиентов","Базовая отчетность","QR-коды для бронирований"]},standard:{name:"СТАНДАРТ",price:990,pricePerCourt:990,limits:{maxCourts:-1,maxBookingsPerMonth:-1,smsEmailNotifications:500,customDesign:!1,apiAccess:!1,multiVenue:!1,searchPriority:10,abTesting:!1,trainersModule:!1,personalManager:!1},features:["990₽ за корт в месяц","От 3 кортов","Неограниченные бронирования","SMS/Email уведомления (500 шт/месяц на корт)","Расширенная аналитика и отчеты","Управление ценами и скидками","Промокоды и акции","Интеграция с календарями","Экспорт данных в Excel","Приоритет в поиске (+10%)"]},pro:{name:"ПРОФИ",price:1990,pricePerCourt:1990,limits:{maxCourts:-1,maxBookingsPerMonth:-1,smsEmailNotifications:-1,customDesign:!0,apiAccess:!0,multiVenue:!0,searchPriority:30,abTesting:!0,trainersModule:!0,personalManager:!0},features:["1,990₽ за корт в месяц","От 1 корта","SMS/Email без ограничений","Белый лейбл PRO (кастомизация дизайна)","API доступ для интеграций","Мультиплощадки (управление сетью)","Топ в поиске (+30% видимости)","A/B тестирование цен","Модуль абонементов и пакетов","Модуль тренеров и расписания","Персональный менеджер"]},premium:{name:"ПРЕМИУМ",price:-1,limits:{maxCourts:-1,maxBookingsPerMonth:-1,smsEmailNotifications:-1,customDesign:!0,apiAccess:!0,multiVenue:!0,searchPriority:50,abTesting:!0,trainersModule:!0,personalManager:!0},features:["Все функции ПРОФИ","Т-Банк Мультирасчеты","Кастомные интеграции","Выделенный сервер","SLA гарантии","Приоритетная разработка функций","Выделенный менеджер 24/7"]}};function Moe(){const t=Qr(),{isSuperAdmin:e}=Dr(),{admin:n}=xr(),[r,s]=y.useState([]),[i,o]=y.useState(!0),[l,c]=y.useState(null),[u,d]=y.useState(!1),[h,p]=y.useState(!1),[m,v]=y.useState("start"),[g,b]=y.useState(""),[x,_]=y.useState(null),[w,I]=y.useState(!1),[N,R]=y.useState(null),[S,E]=y.useState(!1),[C,k]=y.useState({name:"",address:"",city:"",phone:"",email:"",description:"",organizationType:"ИП",inn:"",bankAccount:""});y.useEffect(()=>{A()},[]);const A=async()=>{try{const L=await It(Je(ye,"venues")),H=await Promise.all(L.docs.map(async q=>{var ce,ie,re,ge,ee,Y;const K=q.data();K.location&&K.location._lat!==void 0&&(K.location={latitude:K.location._lat,longitude:K.location._long});const te=Lt(Je(ye,"subscriptions"),Ge("venueId","==",q.id),Ge("status","in",["active","trial"])),me=await It(te);let Q=null;if(!me.empty){const W=me.docs[0].data();Q={id:me.docs[0].id,...W,startDate:(ce=W.startDate)==null?void 0:ce.toDate(),endDate:(ie=W.endDate)==null?void 0:ie.toDate(),trialEndDate:(re=W.trialEndDate)==null?void 0:re.toDate(),nextBillingDate:(ge=W.nextBillingDate)==null?void 0:ge.toDate(),usage:{...W.usage,lastUpdated:(Y=(ee=W.usage)==null?void 0:ee.lastUpdated)==null?void 0:Y.toDate()}}}return{id:q.id,...K,subscription:Q}}));s(H),o(!1)}catch(L){console.error("Error loading venues:",L),o(!1)}},M=L=>{localStorage.setItem("selectedVenueId",L.id),t("/admin/club")},P=async L=>{try{const H=L.status==="active"?"inactive":"active";await Zn(We(ye,"venues",L.id),{status:H,updatedAt:new Date}),A()}catch(H){console.error("Error updating venue status:",H)}},O=async L=>{if(confirm("Вы уверены, что хотите удалить этот клуб? Это действие необратимо."))try{await Cy(We(ye,"venues",L)),A()}catch(H){console.error("Error deleting venue:",H)}},V=L=>`https://allcourt.ru/club/${L}`,B=L=>{const H=V(L);navigator.clipboard.writeText(H),_(L),setTimeout(()=>_(null),2e3)},z=L=>{R(L),I(!0)},U=L=>{var H;c(L),v(((H=L.subscription)==null?void 0:H.plan)||"start"),p(!0)},F=async()=>{var L,H;if(l)try{const q={venueId:l.id,plan:m,status:"active",startDate:new Date,endDate:null,updatedAt:new Date,updatedBy:"superadmin",usage:((L=l.subscription)==null?void 0:L.usage)||{courtsCount:0,bookingsThisMonth:0,smsEmailsSent:0,lastUpdated:new Date}};(H=l.subscription)!=null&&H.id?await Zn(We(ye,"subscriptions",l.subscription.id),{plan:m,updatedAt:new Date,updatedBy:"superadmin"}):await Zo(Je(ye,"subscriptions"),q),p(!1),A()}catch(q){console.error("Error updating subscription:",q),b("Ошибка при обновлении подписки")}};return i?a.jsx(he,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:a.jsx(Si,{})}):a.jsxs(Xu,{role:"superadmin",children:[a.jsxs(he,{children:[a.jsxs(he,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[a.jsx(ne,{variant:"h5",component:"h2",children:"Управление клубами"}),a.jsx(Ye,{variant:"contained",startIcon:a.jsx(Wy,{}),onClick:()=>E(!0),children:"Добавить клуб"})]}),r.length===0?a.jsx(rn,{severity:"info",children:"Клубы не найдены. Создайте первый клуб для начала работы."}):a.jsx(Et,{container:!0,spacing:3,children:r.map(L=>{var H,q;return a.jsx(Et,{item:!0,xs:12,md:6,lg:4,children:a.jsxs(gn,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[a.jsxs(vn,{sx:{flexGrow:1},children:[a.jsxs(he,{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2,children:[a.jsx(ne,{variant:"h6",component:"h3",children:L.name}),a.jsx(Gs,{label:L.status==="active"?"Активен":"Неактивен",color:L.status==="active"?"success":"default",size:"small"})]}),a.jsxs(he,{display:"flex",alignItems:"center",gap:1,mb:1,children:[a.jsx(Yie,{fontSize:"small",color:"action"}),a.jsx(ne,{variant:"body2",color:"text.secondary",children:L.address})]}),L.city&&a.jsx(he,{display:"flex",alignItems:"center",gap:1,mb:1,children:a.jsx(ne,{variant:"body2",color:"text.secondary",sx:{ml:3},children:L.city})}),L.location?a.jsx(he,{display:"flex",alignItems:"center",gap:1,mb:1,children:a.jsxs(ne,{variant:"body2",color:"text.secondary",sx:{ml:3,fontSize:"0.75rem"},children:["📍 ",(H=L.location.latitude)==null?void 0:H.toFixed(6),", ",(q=L.location.longitude)==null?void 0:q.toFixed(6)]})}):a.jsx(he,{display:"flex",alignItems:"center",gap:1,mb:1,children:a.jsx(ne,{variant:"body2",color:"warning.main",sx:{ml:3,fontSize:"0.75rem",fontStyle:"italic"},children:"⚠️ Координаты не указаны"})}),a.jsxs(he,{display:"flex",alignItems:"center",gap:1,mb:1,children:[a.jsx(Qie,{fontSize:"small",color:"action"}),a.jsx(ne,{variant:"body2",color:"text.secondary",children:L.phone})]}),a.jsxs(he,{display:"flex",alignItems:"center",gap:1,children:[a.jsx(Bie,{fontSize:"small",color:"action"}),a.jsx(ne,{variant:"body2",color:"text.secondary",children:L.email})]}),L.description&&a.jsx(ne,{variant:"body2",color:"text.secondary",mt:2,children:L.description}),L.status==="pending"&&a.jsxs(he,{sx:{mt:2,p:1.5,bgcolor:"warning.light",borderRadius:1},children:[a.jsxs(he,{display:"flex",alignItems:"center",gap:1,mb:1,children:[a.jsx(kb,{fontSize:"small",color:"warning"}),a.jsx(ne,{variant:"subtitle2",color:"warning.dark",children:"Ожидает модерации"})]}),a.jsx(Ye,{variant:"contained",size:"small",color:"success",onClick:async()=>{var K;try{await Zn(We(ye,"venues",L.id),{status:"active",moderatedAt:new Date,moderatedBy:((K=$r.currentUser)==null?void 0:K.uid)||"superadmin"}),A()}catch(te){console.error("Error activating venue:",te)}},children:"Активировать клуб"})]}),L.status==="active"&&e&&a.jsxs(he,{sx:{mt:2,p:1.5,bgcolor:"success.light",borderRadius:1},children:[a.jsxs(he,{display:"flex",alignItems:"center",gap:1,mb:1,children:[a.jsx(TL,{fontSize:"small",color:"success"}),a.jsx(ne,{variant:"subtitle2",color:"success.dark",children:"Активный клуб"})]}),a.jsx(Ye,{variant:"outlined",size:"small",color:"warning",onClick:async()=>{if(window.confirm("Вы уверены, что хотите отправить клуб на модерацию? Это заблокирует возможность бронирования."))try{await Zn(We(ye,"venues",L.id),{status:"pending",moderatedAt:null,moderatedBy:null}),A()}catch(K){console.error("Error deactivating venue:",K)}},children:"Отправить на модерацию"})]}),a.jsxs(he,{sx:{mt:2,p:1.5,bgcolor:"background.default",borderRadius:1},children:[a.jsxs(he,{display:"flex",alignItems:"center",gap:1,mb:.5,children:[a.jsx(Sb,{fontSize:"small",color:"primary"}),a.jsxs(ne,{variant:"subtitle2",color:"primary",children:["Тариф: ",L.subscription?Er[L.subscription.plan].name:"Не определен"]})]}),L.subscription&&a.jsx(ne,{variant:"caption",color:"text.secondary",children:Er[L.subscription.plan].price===0?"Бесплатный":`${Er[L.subscription.plan].price.toLocaleString("ru-RU")} ₽/мес`}),!L.subscription&&a.jsxs(ne,{variant:"caption",color:"warning.main",children:[a.jsx(kb,{fontSize:"small",sx:{verticalAlign:"middle",mr:.5}}),"Требуется настройка подписки"]})]}),a.jsxs(he,{sx:{mt:2,p:1.5,bgcolor:"background.default",borderRadius:1},children:[a.jsxs(he,{display:"flex",alignItems:"center",gap:1,mb:1,children:[a.jsx(Gie,{fontSize:"small",color:"action"}),a.jsx(ne,{variant:"caption",color:"text.secondary",children:"Ссылка для клиентов:"})]}),a.jsxs(he,{display:"flex",alignItems:"center",gap:1,children:[a.jsx(ne,{variant:"caption",sx:{flex:1,fontFamily:"monospace",wordBreak:"break-all",p:.5,bgcolor:"white",borderRadius:.5},children:V(L.id)}),a.jsx(z2,{title:x===L.id?"Скопировано!":"Копировать ссылку",children:a.jsx(cs,{size:"small",onClick:()=>B(L.id),color:x===L.id?"success":"default",children:x===L.id?a.jsx(Yo,{fontSize:"small"}):a.jsx(EL,{fontSize:"small"})})}),a.jsx(z2,{title:"Показать QR код",children:a.jsx(cs,{size:"small",onClick:()=>z(L),children:a.jsx(XC,{fontSize:"small"})})})]})]})]}),a.jsxs(eee,{sx:{flexWrap:"wrap",gap:.5},children:[a.jsx(Ye,{size:"small",onClick:()=>M(L),startIcon:a.jsx(df,{fontSize:"small"}),children:"Редактировать"}),a.jsx(Ye,{size:"small",onClick:()=>U(L),startIcon:a.jsx(Sb,{fontSize:"small"}),color:"secondary",children:"Тариф"}),a.jsx(Ye,{size:"small",onClick:()=>P(L),children:L.status==="active"?"Деактивировать":"Активировать"}),a.jsx(cs,{size:"small",color:"error",onClick:()=>O(L.id),children:a.jsx(Xf,{})})]})]})},L.id)})})]}),a.jsxs(ro,{open:w,onClose:()=>I(!1),maxWidth:"sm",children:[a.jsxs(va,{children:["QR код для ",N==null?void 0:N.name]}),a.jsx(so,{children:a.jsxs(he,{sx:{textAlign:"center",p:2},children:[a.jsx(Xg,{value:N?V(N.id):"",size:256,level:"H",includeMargin:!0}),a.jsx(ne,{variant:"body2",color:"text.secondary",sx:{mt:2},children:"Клиенты могут отсканировать этот QR код для бронирования"}),a.jsx(mL,{sx:{my:2}}),a.jsx(ne,{variant:"caption",sx:{fontFamily:"monospace"},children:N&&V(N.id)})]})}),a.jsxs(ga,{children:[a.jsx(Ye,{onClick:()=>I(!1),children:"Закрыть"}),a.jsx(Ye,{variant:"contained",onClick:()=>{N&&B(N.id)},children:"Копировать ссылку"})]})]}),a.jsxs(ro,{open:h,onClose:()=>p(!1),maxWidth:"sm",fullWidth:!0,children:[a.jsxs(va,{children:["Изменение тарифа для ",l==null?void 0:l.name]}),a.jsxs(so,{children:[g&&a.jsx(rn,{severity:"error",sx:{mb:2},children:g}),a.jsxs(he,{sx:{mt:2},children:[a.jsxs(Ii,{fullWidth:!0,children:[a.jsx(wo,{children:"Тарифный план"}),a.jsx(Ni,{value:m,onChange:L=>v(L.target.value),label:"Тарифный план",children:Object.entries(Er).filter(([L])=>L!=="premium").map(([L,H])=>a.jsx(Rn,{value:L,children:a.jsxs(he,{children:[a.jsx(ne,{variant:"body1",children:H.name}),a.jsx(ne,{variant:"caption",color:"text.secondary",children:H.price===0?"Бесплатно":`${H.price.toLocaleString("ru-RU")} ₽/месяц`})]})},L))})]}),m&&a.jsxs(he,{sx:{mt:3},children:[a.jsxs(ne,{variant:"subtitle2",gutterBottom:!0,children:["Возможности тарифа ",Er[m].name,":"]}),a.jsx(wu,{dense:!0,children:Er[m].features.slice(0,5).map((L,H)=>a.jsx(Xi,{disablePadding:!0,children:a.jsx(Ji,{primary:L,primaryTypographyProps:{variant:"body2"}})},H))})]}),a.jsx(rn,{severity:"info",sx:{mt:2},children:"Изменение тарифа вступит в силу немедленно. Клуб будет уведомлен об изменении."})]})]}),a.jsxs(ga,{children:[a.jsx(Ye,{onClick:()=>p(!1),children:"Отмена"}),a.jsx(Ye,{onClick:F,variant:"contained",children:"Применить"})]})]}),a.jsxs(ro,{open:S,onClose:()=>E(!1),maxWidth:"md",fullWidth:!0,children:[a.jsx(va,{children:"Добавить новый клуб"}),a.jsxs(so,{children:[g&&a.jsx(rn,{severity:"error",sx:{mb:2},children:g}),a.jsxs(he,{sx:{mt:2,display:"flex",flexDirection:"column",gap:2},children:[a.jsx(At,{label:"Название клуба",value:C.name,onChange:L=>k({...C,name:L.target.value}),fullWidth:!0,required:!0}),a.jsx(At,{label:"Адрес",value:C.address,onChange:L=>k({...C,address:L.target.value}),fullWidth:!0,required:!0}),a.jsx(At,{label:"Город",value:C.city,onChange:L=>k({...C,city:L.target.value}),fullWidth:!0,required:!0}),a.jsx(At,{label:"Телефон",value:C.phone,onChange:L=>k({...C,phone:L.target.value}),fullWidth:!0,required:!0,placeholder:"+7 (900) 123-45-67"}),a.jsx(At,{label:"Email",value:C.email,onChange:L=>k({...C,email:L.target.value}),fullWidth:!0,required:!0,type:"email"}),a.jsx(At,{label:"Описание",value:C.description,onChange:L=>k({...C,description:L.target.value}),fullWidth:!0,multiline:!0,rows:3}),a.jsxs(Ii,{fullWidth:!0,children:[a.jsx(wo,{children:"Форма организации"}),a.jsxs(Ni,{value:C.organizationType,onChange:L=>k({...C,organizationType:L.target.value}),label:"Форма организации",children:[a.jsx(Rn,{value:"ИП",children:"ИП"}),a.jsx(Rn,{value:"ООО",children:"ООО"}),a.jsx(Rn,{value:"Самозанятый",children:"Самозанятый"})]})]}),a.jsx(At,{label:"ИНН",value:C.inn,onChange:L=>k({...C,inn:L.target.value}),fullWidth:!0}),a.jsx(At,{label:"Расчетный счет",value:C.bankAccount,onChange:L=>k({...C,bankAccount:L.target.value}),fullWidth:!0})]})]}),a.jsxs(ga,{children:[a.jsx(Ye,{onClick:()=>{E(!1),b(""),k({name:"",address:"",city:"",phone:"",email:"",description:"",organizationType:"ИП",inn:"",bankAccount:""})},children:"Отмена"}),a.jsx(Ye,{onClick:async()=>{try{if(!C.name||!C.address||!C.city||!C.phone||!C.email){b("Заполните все обязательные поля");return}const L=Lt(Je(ye,"venues"),Ge("email","==",C.email));if(!(await It(L)).empty){b("Клуб с таким email уже существует");return}const q={name:C.name,address:C.address,city:C.city,phone:C.phone,email:C.email,description:C.description||"",organizationType:C.organizationType,inn:C.inn||"",bankAccount:C.bankAccount||"",status:"pending",createdAt:new Date,updatedAt:new Date,logoUrl:"",amenities:[],location:null,moderatedAt:null,moderatedBy:null,courts:[],workingHours:{weekday:{start:"07:00",end:"23:00"},weekend:{start:"08:00",end:"22:00"}}};if(!$r.currentUser){b("Необходимо авторизоваться");return}if(!e){b("Только суперадминистратор может создавать клубы");return}console.log("Creating venue with data:",q),console.log("Firebase auth current user:",$r.currentUser);const K=await Zo(Je(ye,"venues"),q);console.log("Venue created with ID:",K.id),await Zo(Je(ye,"subscriptions"),{venueId:K.id,plan:"start",status:"active",startDate:new Date,endDate:null,createdAt:new Date,updatedAt:new Date,usage:{courtsCount:0,bookingsThisMonth:0,smsEmailsSent:0,lastUpdated:new Date}}),await Zo(Je(ye,"admins"),{name:"Администратор",email:C.email,password:"123456",role:"admin",venueId:K.id,permissions:["manage_bookings","manage_courts","manage_clients","manage_settings"],createdAt:new Date,updatedAt:new Date}),E(!1),b(""),k({name:"",address:"",city:"",phone:"",email:"",description:"",organizationType:"ИП",inn:"",bankAccount:""}),A(),alert(`Клуб "${C.name}" успешно создан! Администратор: ${C.email}, пароль: 123456`)}catch(L){console.error("Error creating venue:",L),console.error("Error details:",{code:L==null?void 0:L.code,message:L==null?void 0:L.message,stack:L==null?void 0:L.stack}),b("Ошибка при создании клуба: "+((L==null?void 0:L.message)||"Неизвестная ошибка"))}},variant:"contained",children:"Создать"})]})]})]})}function Ooe(){var M;const{admin:t,club:e}=xr(),{isSuperAdmin:n}=Dr(),[r,s]=y.useState(null),[i,o]=y.useState(null),[l,c]=y.useState(!0),[u,d]=y.useState(!1),[h,p]=y.useState(null),[m,v]=y.useState([]);y.useEffect(()=>{if(n){const P=localStorage.getItem("selectedVenueId");P?(s(P),b(P)):c(!1)}else t!=null&&t.venueId&&b(t.venueId)},[t,n]);const g=P=>{s(P),localStorage.setItem("selectedVenueId",P),P&&b(P)},b=async P=>{var V,B,z,U,F,L,H;const O=P||(t==null?void 0:t.venueId);if(O)try{c(!0);const q=Lt(Je(ye,"subscriptions"),Ge("venueId","==",O),Ge("status","in",["active","trial"])),K=await It(q);if(K.empty)o({id:"",venueId:O,plan:"start",status:"active",startDate:new Date,usage:{courtsCount:0,bookingsThisMonth:0,smsEmailsSent:0,lastUpdated:new Date}});else{const ce=K.docs[0].data();o({id:K.docs[0].id,...ce,startDate:(V=ce.startDate)==null?void 0:V.toDate(),endDate:(B=ce.endDate)==null?void 0:B.toDate(),trialEndDate:(z=ce.trialEndDate)==null?void 0:z.toDate(),nextBillingDate:(U=ce.nextBillingDate)==null?void 0:U.toDate(),cancelledAt:(F=ce.cancelledAt)==null?void 0:F.toDate(),usage:{...ce.usage,lastUpdated:(H=(L=ce.usage)==null?void 0:L.lastUpdated)==null?void 0:H.toDate()}})}const te=Lt(Je(ye,"payments"),Ge("venueId","==",t.venueId),Ge("type","==","subscription")),Q=(await It(te)).docs.map(ce=>{var ie;return{id:ce.id,...ce.data(),date:(ie=ce.data().date)==null?void 0:ie.toDate()}});v(Q.sort((ce,ie)=>ie.date-ce.date)),c(!1)}catch(q){console.error("Error loading subscription:",q),c(!1)}},x=P=>{p(P),d(!0)},_=async()=>{console.log("Upgrading to plan:",h),d(!1)},w=async()=>{confirm("Вы уверены, что хотите отменить подписку? Она будет активна до конца оплаченного периода.")&&console.log("Cancelling subscription")};if(l)return a.jsx(he,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:a.jsx(Si,{})});if(n&&!r)return a.jsx(Hl,{title:"Выберите клуб для управления подпиской"});if(!i)return a.jsx(rn,{severity:"error",children:"Ошибка загрузки данных подписки"});const I=Er[i.plan],N=I.limits,R=((M=i==null?void 0:i.usage)==null?void 0:M.courtsCount)||0,S=(P,O)=>{const V=Er[P];return P==="start"?O<=2?0:-1:P==="standard"?O>=3?V.pricePerCourt*O:-1:P==="pro"&&O>=1?V.pricePerCourt*O:-1},E=P=>P==="start"?R<=2:P==="standard"?R>=3:P==="pro"?R>=1:!1,C=N.maxCourts>0?i.usage.courtsCount/N.maxCourts*100:0,k=N.maxBookingsPerMonth>0?i.usage.bookingsThisMonth/N.maxBookingsPerMonth*100:0,A=N.smsEmailNotifications>0?i.usage.smsEmailsSent/N.smsEmailNotifications*100:0;return a.jsxs(he,{children:[n&&a.jsx(Wl,{selectedVenueId:r,onVenueChange:g}),a.jsx(ne,{variant:"h5",component:"h2",gutterBottom:!0,children:"Управление подпиской"}),a.jsx(gn,{sx:{mb:3},children:a.jsxs(vn,{children:[a.jsxs(he,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[a.jsxs(he,{children:[a.jsxs(ne,{variant:"h6",component:"h3",children:["Текущий тариф: ",I.name]}),a.jsx(ne,{variant:"body2",color:"text.secondary",children:(()=>{const P=S(i.plan,R);return P===0?"Бесплатно":P===-1?"По запросу":`${P.toLocaleString("ru-RU")} ₽/месяц`})()})]}),a.jsxs(he,{display:"flex",gap:1,children:[a.jsx(Gs,{label:i.status==="active"?"Активна":"Пробный период",color:i.status==="active"?"success":"warning",size:"small"}),i.nextBillingDate&&a.jsx(Gs,{label:`Следующий платеж: ${i.nextBillingDate.toLocaleDateString("ru-RU")}`,size:"small",variant:"outlined"})]})]}),i.status==="trial"&&i.trialEndDate&&a.jsxs(rn,{severity:"info",sx:{mb:2},children:["Пробный период заканчивается ",i.trialEndDate.toLocaleDateString("ru-RU")]}),a.jsx(ne,{variant:"subtitle2",gutterBottom:!0,sx:{mt:3},children:"Использование ресурсов"}),a.jsxs(he,{sx:{mt:2},children:[a.jsxs(he,{sx:{mb:2},children:[a.jsxs(he,{display:"flex",justifyContent:"space-between",mb:1,children:[a.jsx(ne,{variant:"body2",children:"Корты"}),a.jsxs(ne,{variant:"body2",children:[i.usage.courtsCount," / ",N.maxCourts>0?N.maxCourts:"∞"]})]}),a.jsx(Nm,{variant:"determinate",value:C,color:C>90?"error":C>70?"warning":"primary"})]}),N.maxBookingsPerMonth>0&&a.jsxs(he,{sx:{mb:2},children:[a.jsxs(he,{display:"flex",justifyContent:"space-between",mb:1,children:[a.jsx(ne,{variant:"body2",children:"Бронирования в этом месяце"}),a.jsxs(ne,{variant:"body2",children:[i.usage.bookingsThisMonth," / ",N.maxBookingsPerMonth]})]}),a.jsx(Nm,{variant:"determinate",value:k,color:k>90?"error":k>70?"warning":"primary"})]}),N.smsEmailNotifications>0&&a.jsxs(he,{sx:{mb:2},children:[a.jsxs(he,{display:"flex",justifyContent:"space-between",mb:1,children:[a.jsx(ne,{variant:"body2",children:"SMS/Email уведомления"}),a.jsxs(ne,{variant:"body2",children:[i.usage.smsEmailsSent," / ",N.smsEmailNotifications]})]}),a.jsx(Nm,{variant:"determinate",value:A,color:A>90?"error":A>70?"warning":"primary"})]})]}),a.jsxs(ne,{variant:"caption",color:"text.secondary",children:["Последнее обновление: ",i.usage.lastUpdated.toLocaleDateString("ru-RU")]})]})}),a.jsx(ne,{variant:"h6",gutterBottom:!0,children:"Доступные тарифы"}),a.jsx(Et,{container:!0,spacing:3,sx:{mb:4},children:Object.entries(Er).filter(([P])=>P!=="premium").map(([P,O])=>{const V=P===i.plan,B=Er[P].price<I.price;return a.jsx(Et,{item:!0,xs:12,md:4,children:a.jsxs(gn,{sx:{height:"100%",position:"relative",border:V?2:1,borderColor:V?"primary.main":"divider"},children:[V&&a.jsx(Gs,{label:"Текущий тариф",color:"primary",size:"small",sx:{position:"absolute",top:16,right:16}}),a.jsxs(vn,{children:[a.jsx(ne,{variant:"h5",component:"h3",gutterBottom:!0,children:O.name}),a.jsx(ne,{variant:"h4",color:"primary",gutterBottom:!0,children:(()=>{const z=S(P,R);return z===0?"Бесплатно":z===-1?P==="premium"?"По запросу":E(P)?"Недоступно":`Нужно ${P==="standard"?"3+":"1+"} кортов`:a.jsxs(a.Fragment,{children:[z.toLocaleString("ru-RU")," ₽",a.jsx(ne,{variant:"body2",component:"span",children:"/месяц"})]})})()}),a.jsx(wu,{dense:!0,sx:{mt:2},children:O.features.slice(0,6).map((z,U)=>a.jsxs(Xi,{disablePadding:!0,children:[a.jsx(Dm,{sx:{minWidth:32},children:a.jsx(Yo,{fontSize:"small",color:"success"})}),a.jsx(Ji,{primary:z,primaryTypographyProps:{variant:"body2"}})]},U))}),!V&&E(P)&&P!=="premium"&&a.jsx(Ye,{variant:B?"outlined":"contained",fullWidth:!0,sx:{mt:2},onClick:()=>x(P),startIcon:a.jsx(ooe,{}),children:B?"Понизить тариф":"Повысить тариф"}),P==="premium"&&!V&&a.jsx(Ye,{variant:"outlined",fullWidth:!0,sx:{mt:2},onClick:()=>window.open("mailto:sales@allcourt.ru?subject=Запрос на тариф ПРЕМИУМ","_blank"),children:"Связаться с нами"})]})]})},P)})}),a.jsx(ne,{variant:"h6",gutterBottom:!0,children:"История платежей"}),a.jsx(Uy,{component:$s,children:a.jsxs(Fy,{children:[a.jsx(zy,{children:a.jsxs(oo,{children:[a.jsx(rt,{children:"Дата"}),a.jsx(rt,{children:"Описание"}),a.jsx(rt,{align:"right",children:"Сумма"}),a.jsx(rt,{children:"Статус"})]})}),a.jsx(By,{children:m.length===0?a.jsx(oo,{children:a.jsx(rt,{colSpan:4,align:"center",children:a.jsx(ne,{variant:"body2",color:"text.secondary",children:"История платежей пуста"})})}):m.map(P=>{var O;return a.jsxs(oo,{children:[a.jsx(rt,{children:(O=P.date)==null?void 0:O.toLocaleDateString("ru-RU")}),a.jsx(rt,{children:P.description}),a.jsxs(rt,{align:"right",children:[P.amount.toLocaleString("ru-RU")," ₽"]}),a.jsx(rt,{children:a.jsx(Gs,{label:P.status==="success"?"Оплачено":"Ошибка",color:P.status==="success"?"success":"error",size:"small"})})]},P.id)})})]})}),i.plan!=="start"&&i.status==="active"&&a.jsx(he,{sx:{mt:3,display:"flex",justifyContent:"flex-end"},children:a.jsx(Ye,{variant:"outlined",color:"error",startIcon:a.jsx(Kg,{}),onClick:w,children:"Отменить подписку"})}),a.jsxs(ro,{open:u,onClose:()=>d(!1),maxWidth:"sm",fullWidth:!0,children:[a.jsx(va,{children:"Изменение тарифа"}),a.jsx(so,{children:h&&a.jsxs(a.Fragment,{children:[a.jsxs(ne,{variant:"body1",gutterBottom:!0,children:["Вы собираетесь перейти на тариф ",a.jsx("strong",{children:Er[h].name})]}),a.jsxs(ne,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Стоимость: ",(()=>{const P=S(h,R);return P===0?"Бесплатно":P===-1?"По запросу":`${P.toLocaleString("ru-RU")} ₽/месяц`})()]}),Er[h].price<I.price&&a.jsx(rn,{severity:"warning",sx:{mt:2},children:"При понижении тарифа некоторые функции могут стать недоступны. Убедитесь, что новые лимиты соответствуют вашим потребностям."})]})}),a.jsxs(ga,{children:[a.jsx(Ye,{onClick:()=>d(!1),children:"Отмена"}),a.jsx(Ye,{variant:"contained",onClick:_,children:"Подтвердить"})]})]})]})}const tR=[{id:"tbank",name:"Т-Банк",commission:2.5,fields:[{name:"shopId",label:"Shop ID",type:"text",required:!0,placeholder:"Например: shop_12345"},{name:"secretKey",label:"Secret Key",type:"password",required:!0},{name:"terminalKey",label:"Terminal Key",type:"text",required:!0}]},{id:"sber",name:"Сбербанк",commission:2.3,fields:[{name:"merchantLogin",label:"Merchant Login",type:"text",required:!0},{name:"password",label:"Пароль",type:"password",required:!0},{name:"gateway",label:"Gateway",type:"select",required:!0,options:[{value:"securepayments.sberbank.ru",label:"Боевой"},{value:"3dsec.sberbank.ru",label:"Тестовый"}]}]},{id:"yookassa",name:"ЮKassa",commission:2.8,fields:[{name:"shopId",label:"Shop ID",type:"text",required:!0},{name:"secretKey",label:"Secret Key",type:"password",required:!0}]},{id:"tinkoff",name:"Тинькофф",commission:2.49,fields:[{name:"terminalKey",label:"Terminal Key",type:"text",required:!0},{name:"password",label:"Пароль",type:"password",required:!0}]}];function Loe(){const{admin:t,club:e}=xr(),{isSuperAdmin:n}=Dr(),[r,s]=y.useState(null),[i,o]=y.useState(!0),[l,c]=y.useState(!1),[u,d]=y.useState(!0),[h,p]=y.useState(!1),[m,v]=y.useState(""),[g,b]=y.useState({}),[x,_]=y.useState(!1),[w,I]=y.useState(null),[N,R]=y.useState(0);y.useEffect(()=>{if(n){const O=localStorage.getItem("selectedVenueId");O?(s(O),E(O)):o(!1)}else t!=null&&t.venueId&&E(t.venueId)},[t,n]);const S=O=>{s(O),localStorage.setItem("selectedVenueId",O),O&&E(O)},E=async O=>{const V=O||(t==null?void 0:t.venueId);if(V)try{o(!0);const B=await sn(We(ye,"venues",V));if(B.exists()){const z=B.data();p(z.paymentEnabled||!1),d(z.paymentTestMode!==!1),v(z.paymentProvider||""),z.paymentCredentials&&b(z.paymentCredentials),z.paymentProvider&&z.paymentCredentials?R(2):z.paymentProvider&&R(1)}o(!1)}catch(B){console.error("Error loading payment settings:",B),o(!1)}},C=O=>{v(O),b({}),R(1)},k=(O,V)=>{b(B=>({...B,[O]:V}))},A=async()=>{const O=n?r:t==null?void 0:t.venueId;if(!(!O||!m)){c(!0);try{await Zn(We(ye,"venues",O),{paymentEnabled:h,paymentTestMode:u,paymentProvider:m,paymentCredentials:g,paymentUpdatedAt:new Date}),R(2),alert("Настройки успешно сохранены")}catch(V){console.error("Error saving payment settings:",V),alert("Ошибка при сохранении настроек")}finally{c(!1)}}},M=async()=>{_(!0),I(null),setTimeout(()=>{const O=Math.random()>.3;I({success:O,message:O?"Подключение успешно проверено. Платежи готовы к работе.":"Ошибка подключения. Проверьте правильность введенных данных."})},2e3)};if(i)return a.jsx(he,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:a.jsx(Si,{})});if(n&&!r)return a.jsx(Hl,{title:"Выберите клуб для настройки оплаты"});const P=tR.find(O=>O.id===m);return a.jsxs(he,{children:[n&&a.jsx(Wl,{selectedVenueId:r,onVenueChange:S}),a.jsx(ne,{variant:"h5",component:"h2",gutterBottom:!0,children:"Настройки эквайринга"}),a.jsx(rn,{severity:"info",sx:{mb:3},children:"Подключите свой эквайринг для приема платежей от клиентов. Все платежи будут поступать напрямую на ваш расчетный счет."}),a.jsx(gn,{sx:{mb:3},children:a.jsxs(vn,{children:[a.jsxs(he,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[a.jsxs(he,{children:[a.jsx(ne,{variant:"h6",children:"Статус платежей"}),a.jsx(ne,{variant:"body2",color:"text.secondary",children:h?"Платежи активны и готовы к приему":"Платежи не настроены"})]}),a.jsxs(he,{display:"flex",alignItems:"center",gap:2,children:[a.jsx(qg,{control:a.jsx(Hc,{checked:u,onChange:O=>d(O.target.checked),disabled:!h}),label:"Тестовый режим"}),a.jsx(Gs,{icon:h?a.jsx(Yo,{}):a.jsx(kb,{}),label:h?"Подключено":"Не подключено",color:h?"success":"default"})]})]}),h&&P&&a.jsxs(he,{mt:2,p:2,bgcolor:"background.default",borderRadius:1,children:[a.jsxs(ne,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Провайдер: ",a.jsx("strong",{children:P.name})]}),a.jsxs(ne,{variant:"body2",color:"text.secondary",children:["Комиссия: ",a.jsxs("strong",{children:[P.commission,"%"]})]})]})]})}),a.jsxs(Hse,{activeStep:N,orientation:"vertical",children:[a.jsxs(vx,{children:[a.jsx(jm,{children:"Выберите платежного провайдера"}),a.jsxs(_x,{children:[a.jsx(ne,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Выберите банк или платежную систему, с которой у вас заключен договор эквайринга"}),a.jsx(he,{sx:{mt:2,mb:3},children:tR.map(O=>a.jsx($s,{sx:{p:2,mb:2,cursor:"pointer",border:m===O.id?2:1,borderColor:m===O.id?"primary.main":"divider","&:hover":{borderColor:"primary.main"}},onClick:()=>C(O.id),children:a.jsxs(he,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[a.jsxs(he,{display:"flex",alignItems:"center",gap:2,children:[a.jsx(Nie,{color:"action"}),a.jsxs(he,{children:[a.jsx(ne,{variant:"subtitle1",children:O.name}),a.jsxs(ne,{variant:"body2",color:"text.secondary",children:["Комиссия: ",O.commission,"%"]})]})]}),m===O.id&&a.jsx(Yo,{color:"primary"})]})},O.id))}),a.jsx(Ye,{variant:"contained",onClick:()=>R(1),disabled:!m,children:"Продолжить"})]})]}),a.jsxs(vx,{children:[a.jsx(jm,{children:"Введите данные для подключения"}),a.jsx(_x,{children:P&&a.jsxs(a.Fragment,{children:[a.jsxs(ne,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Введите данные из личного кабинета ",P.name]}),a.jsx(he,{sx:{mt:2},children:P.fields.map(O=>{var V;return a.jsx(he,{sx:{mb:2},children:O.type==="select"?a.jsxs(Ii,{fullWidth:!0,children:[a.jsx(wo,{children:O.label}),a.jsx(Ni,{value:g[O.name]||"",onChange:B=>k(O.name,B.target.value),required:O.required,children:(V=O.options)==null?void 0:V.map(B=>a.jsx(Rn,{value:B.value,children:B.label},B.value))})]}):a.jsx(At,{fullWidth:!0,label:O.label,type:O.type,value:g[O.name]||"",onChange:B=>k(O.name,B.target.value),required:O.required,placeholder:O.placeholder})},O.name)})}),a.jsx(rn,{severity:"warning",icon:a.jsx(IL,{}),sx:{mt:2,mb:2},children:"Все данные хранятся в зашифрованном виде и используются только для проведения платежей"}),a.jsxs(he,{sx:{mt:2},children:[a.jsx(Ye,{variant:"contained",onClick:A,disabled:l||!P.fields.every(O=>!O.required||g[O.name]),startIcon:l?a.jsx(Si,{size:20}):a.jsx(Ib,{}),children:l?"Сохранение...":"Сохранить и продолжить"}),a.jsx(Ye,{sx:{ml:1},onClick:()=>R(0),children:"Назад"})]})]})})]}),a.jsxs(vx,{children:[a.jsx(jm,{children:"Проверка подключения"}),a.jsxs(_x,{children:[a.jsx(ne,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Проверьте работу платежей в тестовом режиме перед началом приема реальных платежей"}),a.jsx(he,{sx:{mt:3},children:a.jsx(Ye,{variant:"contained",onClick:M,startIcon:a.jsx(toe,{}),children:"Проверить подключение"})}),h&&a.jsxs(rn,{severity:"success",sx:{mt:3},children:["Поздравляем! Платежи настроены и готовы к работе.",u&&" Не забудьте отключить тестовый режим для приема реальных платежей."]})]})]})]}),a.jsx(gn,{sx:{mt:4},children:a.jsxs(vn,{children:[a.jsx(ne,{variant:"h6",gutterBottom:!0,children:"Преимущества собственного эквайринга"}),a.jsxs(wu,{children:[a.jsxs(Xi,{children:[a.jsx(Dm,{children:a.jsx(Yo,{color:"success"})}),a.jsx(Ji,{primary:"Прямые платежи на ваш счет",secondary:"Деньги поступают напрямую без посредников"})]}),a.jsxs(Xi,{children:[a.jsx(Dm,{children:a.jsx(Yo,{color:"success"})}),a.jsx(Ji,{primary:"Полный контроль",secondary:"Вы сами управляете возвратами и платежами"})]}),a.jsxs(Xi,{children:[a.jsx(Dm,{children:a.jsx(Yo,{color:"success"})}),a.jsx(Ji,{primary:"Низкие комиссии",secondary:"Только комиссия вашего банка, без дополнительных сборов"})]})]})]})}),a.jsxs(ro,{open:x,onClose:()=>_(!1),children:[a.jsx(va,{children:"Проверка подключения"}),a.jsx(so,{children:w?a.jsx(rn,{severity:w.success?"success":"error",sx:{mt:1},children:w.message}):a.jsxs(he,{display:"flex",alignItems:"center",gap:2,py:2,children:[a.jsx(Si,{size:24}),a.jsx(ne,{children:"Проверяем подключение..."})]})}),a.jsxs(ga,{children:[a.jsx(Ye,{onClick:()=>_(!1),children:"Закрыть"}),(w==null?void 0:w.success)&&a.jsx(Ye,{variant:"contained",onClick:()=>{p(!0),_(!1),A()},children:"Активировать платежи"})]})]})]})}function $oe(){const{isSuperAdmin:t}=Dr(),[e,n]=y.useState(!0),[r,s]=y.useState(!1),[i,o]=y.useState({tbank:{terminalKey:"",password:"",notificationUrl:"https://europe-west1-sports-booking-app-1d7e5.cloudfunctions.net/tbankWebhook",testMode:!0},autoRenewal:!0,gracePeriodDays:3}),[l,c]=y.useState(!1),[u,d]=y.useState(!1),[h,p]=y.useState({totalRevenue:0,activeSubscriptions:0,pendingPayments:0,failedPayments:0}),[m,v]=y.useState(null),[g,b]=y.useState({});y.useEffect(()=>{x(),_(),w()},[]);const x=async()=>{try{const R=We(ye,"settings","billing"),S=await sn(R);if(S.exists()){const E=S.data();o(E)}}catch(R){console.error("Error loading billing config:",R)}finally{n(!1)}},_=async()=>{try{const R=Lt(Je(ye,"subscriptions"),Ge("status","==","active")),S=await It(R);p({totalRevenue:0,activeSubscriptions:S.size,pendingPayments:0,failedPayments:0})}catch(R){console.error("Error loading billing stats:",R)}},w=()=>{const R={};Object.entries(Er).forEach(([S,E])=>{R[S]=E.price}),b(R)},I=async()=>{try{s(!0);const R=We(ye,"settings","billing");await yq(R,{...i,updatedAt:new Date},{merge:!0}),c(!1),alert("Настройки биллинга сохранены")}catch(R){console.error("Error saving billing config:",R),alert("Ошибка при сохранении настроек")}finally{s(!1)}},N=async R=>{try{alert(`Цена тарифа ${Er[R].name} обновлена`),v(null)}catch(S){console.error("Error updating plan price:",S),alert("Ошибка при обновлении цены")}};return t?e?a.jsx(he,{sx:{display:"flex",justifyContent:"center",p:3},children:a.jsx(Si,{})}):a.jsx(Xu,{requiredPermission:"superadmin",children:a.jsxs(he,{sx:{p:3},children:[a.jsx(ne,{variant:"h4",gutterBottom:!0,children:"Настройки биллинга"}),a.jsxs(Et,{container:!0,spacing:3,sx:{mb:3},children:[a.jsx(Et,{item:!0,xs:12,sm:6,md:3,children:a.jsx(gn,{children:a.jsxs(vn,{children:[a.jsxs(he,{display:"flex",alignItems:"center",gap:1,children:[a.jsx(Hy,{color:"primary"}),a.jsx(ne,{color:"textSecondary",gutterBottom:!0,children:"Общий доход"})]}),a.jsxs(ne,{variant:"h5",children:[h.totalRevenue.toLocaleString("ru-RU")," ₽"]})]})})}),a.jsx(Et,{item:!0,xs:12,sm:6,md:3,children:a.jsx(gn,{children:a.jsxs(vn,{children:[a.jsxs(he,{display:"flex",alignItems:"center",gap:1,children:[a.jsx(vh,{color:"success"}),a.jsx(ne,{color:"textSecondary",gutterBottom:!0,children:"Активные подписки"})]}),a.jsx(ne,{variant:"h5",children:h.activeSubscriptions})]})})}),a.jsx(Et,{item:!0,xs:12,sm:6,md:3,children:a.jsx(gn,{children:a.jsxs(vn,{children:[a.jsxs(he,{display:"flex",alignItems:"center",gap:1,children:[a.jsx(vh,{color:"warning"}),a.jsx(ne,{color:"textSecondary",gutterBottom:!0,children:"Ожидают оплаты"})]}),a.jsx(ne,{variant:"h5",children:h.pendingPayments})]})})}),a.jsx(Et,{item:!0,xs:12,sm:6,md:3,children:a.jsx(gn,{children:a.jsxs(vn,{children:[a.jsxs(he,{display:"flex",alignItems:"center",gap:1,children:[a.jsx(vh,{color:"error"}),a.jsx(ne,{color:"textSecondary",gutterBottom:!0,children:"Неудачные платежи"})]}),a.jsx(ne,{variant:"h5",children:h.failedPayments})]})})})]}),a.jsx(gn,{sx:{mb:3},children:a.jsxs(vn,{children:[a.jsxs(he,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[a.jsx(ne,{variant:"h6",children:"Настройки Т-Банк"}),l?a.jsxs(he,{children:[a.jsx(Ye,{startIcon:a.jsx(Kg,{}),onClick:()=>{c(!1),x()},sx:{mr:1},children:"Отмена"}),a.jsx(Ye,{startIcon:a.jsx(Ib,{}),onClick:I,variant:"contained",disabled:r,children:"Сохранить"})]}):a.jsx(Ye,{startIcon:a.jsx(df,{}),onClick:()=>c(!0),variant:"outlined",children:"Редактировать"})]}),a.jsxs(Et,{container:!0,spacing:2,children:[a.jsx(Et,{item:!0,xs:12,md:6,children:a.jsx(At,{label:"Terminal Key",value:i.tbank.terminalKey,onChange:R=>o({...i,tbank:{...i.tbank,terminalKey:R.target.value}}),fullWidth:!0,disabled:!l,helperText:"Ключ терминала для рекуррентных платежей"})}),a.jsx(Et,{item:!0,xs:12,md:6,children:a.jsx(At,{label:"Password",type:u?"text":"password",value:i.tbank.password,onChange:R=>o({...i,tbank:{...i.tbank,password:R.target.value}}),fullWidth:!0,disabled:!l,helperText:"Пароль для API Т-Банк",InputProps:{endAdornment:l&&a.jsx(Ye,{size:"small",onClick:()=>d(!u),children:u?"Скрыть":"Показать"})}})}),a.jsx(Et,{item:!0,xs:12,children:a.jsx(At,{label:"Notification URL",value:i.tbank.notificationUrl,onChange:R=>o({...i,tbank:{...i.tbank,notificationUrl:R.target.value}}),fullWidth:!0,disabled:!l,helperText:"URL для получения уведомлений от Т-Банк"})}),a.jsxs(Et,{item:!0,xs:12,children:[a.jsx(qg,{control:a.jsx(Hc,{checked:i.tbank.testMode,onChange:R=>o({...i,tbank:{...i.tbank,testMode:R.target.checked}}),disabled:!l}),label:"Тестовый режим"}),i.tbank.testMode&&a.jsx(rn,{severity:"warning",sx:{mt:1},children:"Включен тестовый режим. Реальные платежи не будут проводиться."})]})]})]})}),a.jsx(gn,{sx:{mb:3},children:a.jsxs(vn,{children:[a.jsx(ne,{variant:"h6",gutterBottom:!0,children:"Общие настройки"}),a.jsxs(Et,{container:!0,spacing:2,children:[a.jsx(Et,{item:!0,xs:12,children:a.jsx(qg,{control:a.jsx(Hc,{checked:i.autoRenewal,onChange:R=>o({...i,autoRenewal:R.target.checked}),disabled:!l}),label:"Автоматическое продление подписок"})}),a.jsx(Et,{item:!0,xs:12,md:6,children:a.jsx(At,{label:"Льготный период (дней)",type:"number",value:i.gracePeriodDays,onChange:R=>o({...i,gracePeriodDays:parseInt(R.target.value)||0}),fullWidth:!0,disabled:!l,helperText:"Количество дней после неудачного платежа до блокировки"})})]})]})}),a.jsx(gn,{children:a.jsxs(vn,{children:[a.jsx(ne,{variant:"h6",gutterBottom:!0,children:"Тарифные планы"}),a.jsx(Uy,{component:$s,variant:"outlined",children:a.jsxs(Fy,{children:[a.jsx(zy,{children:a.jsxs(oo,{children:[a.jsx(rt,{children:"Тариф"}),a.jsx(rt,{children:"Описание"}),a.jsx(rt,{align:"right",children:"Цена за корт/мес"}),a.jsx(rt,{align:"center",children:"Статус"}),a.jsx(rt,{align:"center",children:"Действия"})]})}),a.jsx(By,{children:Object.entries(Er).map(([R,S])=>a.jsxs(oo,{children:[a.jsx(rt,{children:a.jsx(ne,{variant:"subtitle2",children:S.name})}),a.jsx(rt,{children:a.jsx(ne,{variant:"body2",color:"textSecondary",children:S.features[0]})}),a.jsx(rt,{align:"right",children:m===R?a.jsx(At,{type:"number",value:g[R],onChange:E=>b({...g,[R]:parseInt(E.target.value)||0}),size:"small",sx:{width:120}}):a.jsx(ne,{children:S.price===0?"Бесплатно":`${S.price.toLocaleString("ru-RU")} ₽`})}),a.jsx(rt,{align:"center",children:a.jsx(Gs,{label:"Активен",color:"success",size:"small"})}),a.jsx(rt,{align:"center",children:m===R?a.jsxs(a.Fragment,{children:[a.jsx(cs,{size:"small",onClick:()=>N(R),color:"primary",children:a.jsx(Ib,{})}),a.jsx(cs,{size:"small",onClick:()=>{v(null),w()},children:a.jsx(Kg,{})})]}):a.jsx(cs,{size:"small",onClick:()=>v(R),disabled:R==="start",children:a.jsx(df,{})})})]},R))})]})})]})})]})}):a.jsx(he,{sx:{p:3},children:a.jsx(rn,{severity:"error",children:"У вас нет доступа к настройкам биллинга"})})}function Foe(){const{admin:t}=xr(),{isSuperAdmin:e}=Dr(),[n,r]=y.useState(null),[s,i]=y.useState(!0),[o,l]=y.useState("month"),[c,u]=y.useState("all"),[d,h]=y.useState({totalRevenue:0,bookingsCount:0,averageCheck:0,revenueChange:0}),[p,m]=y.useState([]);y.useEffect(()=>{if(e){const b=localStorage.getItem("selectedVenueId");b?(r(b),g(b)):i(!1)}else t!=null&&t.venueId&&g(t.venueId)},[t,e,o,c]);const v=b=>{r(b),localStorage.setItem("selectedVenueId",b),b&&g(b)},g=async b=>{const x=b||(t==null?void 0:t.venueId);if(x)try{i(!0);const _=new Date;let w=new Date;switch(o){case"week":w.setDate(_.getDate()-7);break;case"month":w.setMonth(_.getMonth()-1);break;case"year":w.setFullYear(_.getFullYear()-1);break}console.log("Loading finance data for venue:",x),console.log("Period:",o,"Start date:",w);const I=Lt(Je(ye,"bookings"),Ge("venueId","==",x)),N=await It(I);console.log("Total bookings found:",N.size);let R=N.docs.map(A=>{var M;return{id:A.id,...A.data(),date:(M=A.data().date)==null?void 0:M.toDate(),paymentStatus:A.data().paymentStatus||"awaiting_payment",paymentMethod:A.data().paymentMethod||"cash"}});R=R.filter(A=>A.date?A.date>=w&&A.status==="confirmed":!1),console.log("Bookings after date filter:",R.length),R=R.filter(A=>A.paymentStatus==="paid"||A.paymentStatus==="online_payment"),console.log("Paid bookings:",R.length),c!=="all"&&(R=R.filter(A=>A.paymentMethod===c));const S=R.reduce((A,M)=>A+(M.amount||0),0),E=R.length,C=E>0?S/E:0;h({totalRevenue:S,bookingsCount:E,averageCheck:C,revenueChange:15.5});const k=R.reduce((A,M)=>{var O;const P=(O=M.date)==null?void 0:O.toLocaleDateString("ru-RU");return A[P]||(A[P]={date:M.date,bookings:0,revenue:0}),A[P].bookings++,A[P].revenue+=M.amount||0,A},{});m(Object.values(k).slice(0,10))}catch(_){console.error("Error loading finance data:",_)}finally{i(!1)}};return s?a.jsx(he,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:a.jsx(Si,{})}):e&&!n?a.jsx(Hl,{title:"Выберите клуб для просмотра финансов"}):a.jsxs(he,{children:[e&&a.jsx(Wl,{selectedVenueId:n,onVenueChange:v}),a.jsxs(he,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[a.jsx(ne,{variant:"h5",component:"h2",children:"Финансовая аналитика"}),a.jsxs(he,{display:"flex",gap:2,children:[a.jsxs(Ii,{size:"small",sx:{minWidth:150},children:[a.jsx(wo,{children:"Способ оплаты"}),a.jsxs(Ni,{value:c,label:"Способ оплаты",onChange:b=>u(b.target.value),children:[a.jsx(Rn,{value:"all",children:"Все"}),a.jsx(Rn,{value:"cash",children:"Наличные"}),a.jsx(Rn,{value:"card_on_site",children:"Карта на месте"}),a.jsx(Rn,{value:"transfer",children:"Перевод"}),a.jsx(Rn,{value:"online",children:"Онлайн оплата"})]})]}),a.jsxs(Ii,{size:"small",sx:{minWidth:120},children:[a.jsx(wo,{children:"Период"}),a.jsxs(Ni,{value:o,label:"Период",onChange:b=>l(b.target.value),children:[a.jsx(Rn,{value:"week",children:"Неделя"}),a.jsx(Rn,{value:"month",children:"Месяц"}),a.jsx(Rn,{value:"year",children:"Год"})]})]})]})]}),a.jsxs(Et,{container:!0,spacing:3,mb:4,children:[a.jsx(Et,{item:!0,xs:12,sm:6,md:3,children:a.jsx(gn,{children:a.jsxs(vn,{children:[a.jsxs(he,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[a.jsx(uf,{color:"primary"}),a.jsx(Gs,{size:"small",label:`+${d.revenueChange}%`,color:"success",icon:a.jsx(Hy,{})})]}),a.jsx(ne,{color:"text.secondary",variant:"body2",children:"Общий доход"}),a.jsxs(ne,{variant:"h5",component:"div",children:[d.totalRevenue.toLocaleString("ru-RU")," ₽"]})]})})}),a.jsx(Et,{item:!0,xs:12,sm:6,md:3,children:a.jsx(gn,{children:a.jsxs(vn,{children:[a.jsx(he,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:a.jsx(Zie,{color:"primary"})}),a.jsx(ne,{color:"text.secondary",variant:"body2",children:"Количество бронирований"}),a.jsx(ne,{variant:"h5",component:"div",children:d.bookingsCount})]})})}),a.jsx(Et,{item:!0,xs:12,sm:6,md:3,children:a.jsx(gn,{children:a.jsxs(vn,{children:[a.jsx(he,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:a.jsx(uf,{color:"primary"})}),a.jsx(ne,{color:"text.secondary",variant:"body2",children:"Средний чек"}),a.jsxs(ne,{variant:"h5",component:"div",children:[Math.round(d.averageCheck).toLocaleString("ru-RU")," ₽"]})]})})})]}),a.jsx(gn,{children:a.jsxs(vn,{children:[a.jsx(ne,{variant:"h6",component:"h3",gutterBottom:!0,children:"Последние транзакции"}),a.jsx(Uy,{component:$s,variant:"outlined",children:a.jsxs(Fy,{children:[a.jsx(zy,{children:a.jsxs(oo,{children:[a.jsx(rt,{children:"Дата"}),a.jsx(rt,{align:"center",children:"Бронирований"}),a.jsx(rt,{align:"right",children:"Сумма"})]})}),a.jsx(By,{children:p.map((b,x)=>{var _;return a.jsxs(oo,{children:[a.jsx(rt,{children:(_=b.date)==null?void 0:_.toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"})}),a.jsx(rt,{align:"center",children:b.bookings}),a.jsxs(rt,{align:"right",children:[b.revenue.toLocaleString("ru-RU")," ₽"]})]},x)})})]})})]})})]})}function Voe(){const{admin:t}=xr(),{isSuperAdmin:e}=Dr(),[n,r]=y.useState(null),[s,i]=y.useState(!0),[o,l]=y.useState({smsEnabled:!1,emailEnabled:!1,pushEnabled:!1,promotions:[]}),[c,u]=y.useState(!1),[d,h]=y.useState({name:"",description:"",discount:10,validUntil:"",active:!0});y.useEffect(()=>{if(e){const x=localStorage.getItem("selectedVenueId");x?(r(x),m(x)):i(!1)}else t!=null&&t.venueId&&m(t.venueId)},[t,e]);const p=x=>{r(x),localStorage.setItem("selectedVenueId",x),x&&m(x)},m=async x=>{const _=x||(t==null?void 0:t.venueId);if(_)try{i(!0);const w=await sn(We(ye,"venues",_));if(w.exists()){const I=w.data();l({smsEnabled:I.marketingSms||!1,emailEnabled:I.marketingEmail||!1,pushEnabled:I.marketingPush||!1,promotions:I.promotions||[]})}}catch(w){console.error("Error loading marketing data:",w)}finally{i(!1)}},v=async x=>{const _=e?n:t==null?void 0:t.venueId;if(!_)return;const w=!o[x];try{await Zn(We(ye,"venues",_),{[`marketing${x.charAt(0).toUpperCase()+x.slice(1).replace("Enabled","")}`]:w}),l(I=>({...I,[x]:w}))}catch(I){console.error("Error updating notification settings:",I)}},g=async()=>{const x=e?n:t==null?void 0:t.venueId;if(!x)return;const _={...d,id:Date.now().toString(),createdAt:new Date};try{const w=[...o.promotions,_];await Zn(We(ye,"venues",x),{promotions:w}),l(I=>({...I,promotions:w})),u(!1),h({name:"",description:"",discount:10,validUntil:"",active:!0})}catch(w){console.error("Error creating promotion:",w)}},b=async x=>{const _=e?n:t==null?void 0:t.venueId;if(_)try{const w=o.promotions.filter(I=>I.id!==x);await Zn(We(ye,"venues",_),{promotions:w}),l(I=>({...I,promotions:w}))}catch(w){console.error("Error deleting promotion:",w)}};return s?a.jsx(he,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:a.jsx(Si,{})}):e&&!n?a.jsx(Hl,{title:"Выберите клуб для управления маркетингом"}):a.jsxs(he,{children:[e&&a.jsx(Wl,{selectedVenueId:n,onVenueChange:p}),a.jsx(ne,{variant:"h5",component:"h2",gutterBottom:!0,children:"Маркетинг и продвижение"}),a.jsxs(Et,{container:!0,spacing:3,children:[a.jsx(Et,{item:!0,xs:12,md:6,children:a.jsx(gn,{children:a.jsxs(vn,{children:[a.jsx(ne,{variant:"h6",component:"h3",gutterBottom:!0,children:"Каналы коммуникации"}),a.jsxs(wu,{children:[a.jsxs(Xi,{children:[a.jsx(Ji,{primary:"SMS-рассылки",secondary:"Отправка СМС клиентам о акциях и напоминаниях"}),a.jsx(kc,{children:a.jsx(Hc,{checked:o.smsEnabled,onChange:()=>v("smsEnabled")})})]}),a.jsxs(Xi,{children:[a.jsx(Ji,{primary:"Email-рассылки",secondary:"Отправка писем с новостями и предложениями"}),a.jsx(kc,{children:a.jsx(Hc,{checked:o.emailEnabled,onChange:()=>v("emailEnabled")})})]}),a.jsxs(Xi,{children:[a.jsx(Ji,{primary:"Push-уведомления",secondary:"Мгновенные уведомления в мобильном приложении"}),a.jsx(kc,{children:a.jsx(Hc,{checked:o.pushEnabled,onChange:()=>v("pushEnabled")})})]})]})]})})}),a.jsx(Et,{item:!0,xs:12,md:6,children:a.jsx(gn,{children:a.jsxs(vn,{children:[a.jsx(ne,{variant:"h6",component:"h3",gutterBottom:!0,children:"Быстрые действия"}),a.jsxs(Et,{container:!0,spacing:2,children:[a.jsx(Et,{item:!0,xs:12,children:a.jsx(Ye,{variant:"outlined",fullWidth:!0,startIcon:a.jsx(Jie,{}),sx:{justifyContent:"flex-start",textAlign:"left"},children:"Генерировать QR-код клуба"})}),a.jsx(Et,{item:!0,xs:12,children:a.jsx(Ye,{variant:"outlined",fullWidth:!0,startIcon:a.jsx(RL,{}),sx:{justifyContent:"flex-start",textAlign:"left"},children:"Поделиться ссылкой на клуб"})}),a.jsx(Et,{item:!0,xs:12,children:a.jsx(Ye,{variant:"outlined",fullWidth:!0,startIcon:a.jsx(Oie,{}),sx:{justifyContent:"flex-start",textAlign:"left"},children:"Создать рассылку"})})]})]})})}),a.jsx(Et,{item:!0,xs:12,children:a.jsx(gn,{children:a.jsxs(vn,{children:[a.jsxs(he,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[a.jsx(ne,{variant:"h6",component:"h3",children:"Активные акции"}),a.jsx(Ye,{variant:"contained",startIcon:a.jsx(Wy,{}),onClick:()=>u(!0),children:"Создать акцию"})]}),o.promotions.length===0?a.jsx(rn,{severity:"info",children:"У вас пока нет активных акций. Создайте первую акцию для привлечения клиентов."}):a.jsx(wu,{children:o.promotions.map(x=>a.jsxs(Xi,{children:[a.jsx(Ji,{primary:x.name,secondary:a.jsxs(he,{children:[a.jsx(ne,{variant:"body2",children:x.description}),a.jsxs(he,{mt:1,children:[a.jsx(Gs,{size:"small",label:`-${x.discount}%`,color:"primary",sx:{mr:1}}),x.validUntil&&a.jsx(Gs,{size:"small",label:`До ${new Date(x.validUntil).toLocaleDateString("ru-RU")}`,variant:"outlined"})]})]})}),a.jsx(kc,{children:a.jsx(cs,{onClick:()=>b(x.id),children:a.jsx(Xf,{})})})]},x.id))})]})})})]}),a.jsxs(ro,{open:c,onClose:()=>u(!1),maxWidth:"sm",fullWidth:!0,children:[a.jsx(va,{children:"Создать акцию"}),a.jsxs(so,{children:[a.jsx(At,{autoFocus:!0,margin:"dense",label:"Название акции",fullWidth:!0,variant:"outlined",value:d.name,onChange:x=>h(_=>({..._,name:x.target.value})),sx:{mb:2}}),a.jsx(At,{margin:"dense",label:"Описание",fullWidth:!0,multiline:!0,rows:3,variant:"outlined",value:d.description,onChange:x=>h(_=>({..._,description:x.target.value})),sx:{mb:2}}),a.jsx(At,{margin:"dense",label:"Размер скидки (%)",type:"number",fullWidth:!0,variant:"outlined",value:d.discount,onChange:x=>h(_=>({..._,discount:parseInt(x.target.value)||0})),sx:{mb:2}}),a.jsx(At,{margin:"dense",label:"Действует до",type:"date",fullWidth:!0,variant:"outlined",InputLabelProps:{shrink:!0},value:d.validUntil,onChange:x=>h(_=>({..._,validUntil:x.target.value}))})]}),a.jsxs(ga,{children:[a.jsx(Ye,{onClick:()=>u(!1),children:"Отмена"}),a.jsx(Ye,{onClick:g,variant:"contained",children:"Создать"})]})]})]})}const Boe="modulepreload",Uoe=function(t){return"/admin/"+t},nR={},zoe=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=Uoe(c),c in nR)return;nR[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Boe,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((p,m)=>{h.addEventListener("load",p),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},Le={loadingContainer:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},loadingContent:{textAlign:"center"},spinner:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"},errorContainer:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},errorCard:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},errorIcon:{fontSize:"48px",marginBottom:"var(--spacing-md)"},errorTitle:{marginBottom:"var(--spacing-sm)"},errorText:{color:"var(--text-secondary)"},pageContainer:{minHeight:"100vh",backgroundColor:"var(--background)"},heroImage:{width:"100%",height:"100%",objectFit:"cover",cursor:"pointer"},heroPlaceholder:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"8px",backgroundColor:"var(--extra-light-gray)"},heroPlaceholderIcon:{fontSize:"48px",color:"var(--light-gray)"},heroPlaceholderText:{color:"var(--gray)"},desktopGallery:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"var(--spacing-md)",marginBottom:"var(--spacing-xl)"},galleryImage:{width:"100%",height:"150px",objectFit:"cover",borderRadius:"var(--radius-md)",cursor:"pointer",transition:"transform 0.2s"},mobileGallery:{display:"flex",gap:"var(--spacing-sm)",overflowX:"auto",marginBottom:"var(--spacing-lg)",paddingBottom:"var(--spacing-sm)",WebkitOverflowScrolling:"touch"},mobileGalleryImage:{minWidth:"120px",width:"120px",height:"80px",objectFit:"cover",borderRadius:"var(--radius-sm)",cursor:"pointer"},clubInfoWrapper:{marginBottom:"var(--spacing-xl)"},clubTitle:{marginBottom:"var(--spacing-sm)"},clubInfoItems:{display:"flex",flexWrap:"wrap",gap:"var(--spacing-lg)",marginBottom:"var(--spacing-lg)"},infoItem:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},infoIcon:{color:"var(--gray)",fontSize:"var(--icon-size-md)"},descriptionSection:{marginBottom:"var(--spacing-lg)"},descriptionText:{color:"var(--text-secondary)",lineHeight:1.6},courtsWrapper:{marginBottom:"var(--spacing-lg)"},courtsWrapperDesktop:{marginBottom:"0"},courtsTitle:{marginBottom:"var(--spacing-lg)"},noCourtsCard:{textAlign:"center",padding:"var(--spacing-3xl)"},noCourtsIcon:{fontSize:"48px",color:"var(--light-gray)"},noCourtsText:{color:"var(--gray)",marginTop:"var(--spacing-md)"},courtCardContent:{display:"flex",justifyContent:"space-between",alignItems:"center"},courtInfo:{flex:1},courtName:{marginBottom:"var(--spacing-xs)"},courtDetails:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)",flexWrap:"wrap"},courtPricing:{textAlign:"right",minWidth:"120px"},courtPrice:{color:"var(--primary)"},courtPriceUnit:{color:"var(--gray)"},courtIndoor:{color:"var(--gray)"},courtSurface:{color:"var(--gray)"},sidebarBookingCard:{marginBottom:"var(--spacing-lg)"},selectedCourtSection:{marginBottom:"var(--spacing-xs)"},selectedCourtDetails:{display:"flex",justifyContent:"space-between",alignItems:"center"},selectedCourtType:{color:"var(--gray)"},selectedCourtPrice:{color:"var(--primary)"}},Woe={contentPadding:{padding:"var(--spacing-xl)"}},wx={container:{maxWidth:"1200px",margin:"0 auto",display:"grid",gridTemplateColumns:"1fr 400px",gap:"var(--spacing-2xl)",padding:"var(--spacing-2xl)",minHeight:"calc(100vh - 350px)"},mainContent:{flex:1},sidebar:{position:"sticky",top:"var(--spacing-2xl)",height:"fit-content",display:"flex",flexDirection:"column",gap:"var(--spacing-lg)"}};function Cx({src:t,alt:e,className:n,style:r,onClick:s,loading:i="lazy",onMouseOver:o,onMouseOut:l}){const[c,u]=y.useState(i==="eager"),[d,h]=y.useState(!1),p=y.useRef(null);return y.useEffect(()=>{if(i==="eager"||!p.current)return;const m=new IntersectionObserver(v=>{v.forEach(g=>{g.isIntersecting&&(u(!0),m.unobserve(g.target))})},{rootMargin:"50px"});return m.observe(p.current),()=>{p.current&&m.unobserve(p.current)}},[i]),d?a.jsx("div",{style:{...r,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"var(--extra-light-gray)",color:"var(--gray)"},className:n,children:a.jsx("span",{children:"📷"})}):a.jsx("img",{ref:p,src:c?t:void 0,alt:e,className:n,style:r,onClick:s,onMouseOver:o,onMouseOut:l,onError:()=>h(!0),loading:i})}const Hoe=ot.lazy(()=>zoe(()=>import("./BookingModal-DioikfJX.js"),[])),rR={padel:"#3B82F6",tennis:"#00D632",badminton:"#F59E0B"},Tx={padel:"Падел",tennis:"Теннис",badminton:"Бадминтон"},sR={parking:"Парковка",showers:"Душевые",cafe:"Кафе",lockers:"Шкафчики",shop:"Магазин",wifi:"Wi-Fi",changing_rooms:"Раздевалки",equipment_rental:"Прокат снаряжения"};function qoe(){const{clubId:t}=Ru();Qr();const[e,n]=y.useState(null),[r,s]=y.useState([]),[i,o]=y.useState(!0),[l,c]=y.useState(""),[u,d]=y.useState(null),[h,p]=y.useState(!1),[m,v]=y.useState(!1),[g,b]=y.useState(0);y.useEffect(()=>{var C;if((C=e==null?void 0:e.photos)!=null&&C[0]){const k=document.createElement("link");return k.rel="preload",k.as="image",k.href=e.photos[0],document.head.appendChild(k),()=>{document.head.removeChild(k)}}},[e==null?void 0:e.photos]),y.useEffect(()=>{const C=performance.now();x().then(()=>{const k=performance.now()-C;console.log(`ClubPage loaded in ${k.toFixed(0)}ms`)})},[t]),y.useEffect(()=>{if(m){const C=k=>{k.key==="Escape"?N():k.key==="ArrowLeft"?R("prev"):k.key==="ArrowRight"&&R("next")};return document.addEventListener("keydown",C),()=>{document.removeEventListener("keydown",C)}}},[m]);const x=async()=>{if(!t){c("ID клуба не указан"),o(!1);return}try{const[C,k]=await Promise.all([sn(We(ye,"venues",t)),It(Lt(Je(ye,"venues",t,"courts"),Ge("status","==","active")))]);if(!C.exists()){c("Клуб не найден"),o(!1);return}const A={id:C.id,...C.data()};if(C.data().status!=="active"){c("Клуб временно недоступен"),o(!1);return}console.log("Loaded venue data:",A);const M=k.docs.map(P=>({id:P.id,...P.data()}));n(A),s(M),o(!1)}catch(C){console.error("Error loading venue:",C),c("Ошибка при загрузке данных клуба"),o(!1)}},_=C=>{d(C)},w=()=>{if(u){if(!E){alert("Этот клуб находится на модерации и временно недоступен для бронирования.");return}console.log("Opening booking modal, venue:",e,"court:",u),p(!0)}},I=C=>{b(C),v(!0)},N=()=>{v(!1)},R=C=>{e!=null&&e.photos&&b(C==="prev"?k=>k===0?e.photos.length-1:k-1:k=>k===e.photos.length-1?0:k+1)};if(i)return a.jsxs("div",{style:Le.loadingContainer,children:[a.jsxs("div",{style:Le.loadingContent,children:[a.jsx("div",{className:"spinner",style:Le.spinner}),a.jsx("p",{className:"body-small",children:"Загрузка..."})]}),a.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]});if(l)return a.jsx("div",{style:Le.errorContainer,children:a.jsxs("div",{className:"flutter-card",style:Le.errorCard,children:[a.jsx("div",{style:Le.errorIcon,children:"❌"}),a.jsx("h2",{className:"h2",style:Le.errorTitle,children:"Ошибка"}),a.jsx("p",{className:"body",style:Le.errorText,children:l})]})});if(!e)return null;const S=window.innerWidth>768,E=e.status==="active";return a.jsxs("div",{style:Le.pageContainer,children:[!E&&a.jsx("div",{style:{backgroundColor:"#fff3cd",borderBottom:"1px solid #ffeaa7",padding:"var(--spacing-lg)",textAlign:"center"},children:a.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto"},children:[a.jsx("h3",{className:"h3",style:{color:"#856404",marginBottom:"var(--spacing-sm)"},children:"Клуб находится на модерации"}),a.jsx("p",{className:"body",style:{color:"#856404"},children:"Данный клуб еще не прошел проверку и временно недоступен для бронирования. Страница будет активирована после проверки администратором."})]})}),a.jsxs("div",{className:"hero-image",children:[e.photos&&e.photos.length>0?a.jsx(Cx,{loading:"eager",src:e.photos[0],alt:e.name,style:Le.heroImage,onClick:()=>I(0)}):a.jsxs("div",{style:Le.heroPlaceholder,children:[a.jsx("span",{style:Le.heroPlaceholderIcon,children:"🏸"}),a.jsx("span",{className:"body-small",style:Le.heroPlaceholderText,children:"Фото клуба"})]}),a.jsx("button",{className:"back-button",onClick:()=>window.history.back(),"aria-label":"Назад",children:"←"})]}),a.jsxs("div",{style:S?wx.container:{...Woe.contentPadding,paddingBottom:"calc(140px + var(--spacing-xl))"},children:[a.jsxs("div",{style:S?wx.mainContent:{},children:[S&&e.photos&&e.photos.length>0&&a.jsx("div",{style:Le.desktopGallery,children:e.photos.map((C,k)=>a.jsx(Cx,{loading:"lazy",src:C,alt:`${e.name} - фото ${k+1}`,className:"gallery-image",style:Le.galleryImage,onMouseOver:A=>A.currentTarget.style.transform="scale(1.05)",onMouseOut:A=>A.currentTarget.style.transform="scale(1)",onClick:()=>I(k)},k))}),!S&&e.photos&&e.photos.length>1&&a.jsx("div",{style:Le.mobileGallery,children:e.photos.slice(1).map((C,k)=>a.jsx(Cx,{loading:"lazy",src:C,alt:`${e.name} - фото ${k+2}`,style:Le.mobileGalleryImage,onClick:()=>I(k+1)},k))}),a.jsxs("div",{style:Le.clubInfoWrapper,children:[a.jsx("h1",{className:"h1",style:Le.clubTitle,children:e.name}),a.jsxs("div",{style:Le.clubInfoItems,children:[a.jsxs("div",{style:Le.infoItem,children:[a.jsx("span",{style:Le.infoIcon,children:"📍"}),a.jsx("span",{className:"body",children:e.address})]}),e.phone&&a.jsxs("div",{style:Le.infoItem,children:[a.jsx("span",{style:Le.infoIcon,children:"📞"}),a.jsx("span",{className:"body",children:e.phone})]})]})]}),e.description&&a.jsxs("div",{className:"info-section",style:Le.descriptionSection,children:[a.jsx("h3",{className:"info-section-title",children:"О клубе"}),a.jsx("p",{className:"body",style:Le.descriptionText,children:e.description})]}),!S&&a.jsxs("div",{style:Le.courtsWrapper,children:[a.jsx("h3",{className:"h2",style:Le.courtsTitle,children:"Доступные корты"}),r.length===0?a.jsxs("div",{className:"flutter-card",style:Le.noCourtsCard,children:[a.jsx("span",{style:Le.noCourtsIcon,children:"🎾"}),a.jsx("p",{className:"body",style:Le.noCourtsText,children:"Нет доступных кортов"})]}):a.jsx("div",{children:r.map(C=>{const k=(u==null?void 0:u.id)===C.id;return a.jsx("div",{className:`court-card ${k?"selected":""}`,onClick:()=>_(C),children:a.jsxs("div",{style:Le.courtCardContent,children:[a.jsxs("div",{style:Le.courtInfo,children:[a.jsx("h4",{className:"body-bold",style:Le.courtName,children:C.name}),a.jsxs("div",{style:Le.courtDetails,children:[a.jsx("span",{className:`sport-chip ${C.type}`,style:{backgroundColor:rR[C.type]},children:Tx[C.type]}),C.indoor&&a.jsx("span",{className:"caption",style:Le.courtIndoor,children:"Крытый"}),C.surface&&a.jsxs("span",{className:"caption",style:Le.courtSurface,children:["• ",C.surface]})]})]}),a.jsxs("div",{style:Le.courtPricing,children:[a.jsxs("div",{className:"h3",style:Le.courtPrice,children:[C.pricePerHour||C.priceWeekday||0,"₽"]}),a.jsx("div",{className:"caption",style:Le.courtPriceUnit,children:"за час"})]})]})},C.id)})})]}),!S&&a.jsxs(a.Fragment,{children:[e.workingHours&&a.jsxs("div",{className:"info-section",style:{marginBottom:"var(--spacing-lg)"},children:[a.jsx("h3",{className:"info-section-title",children:"Часы работы"}),a.jsxs("div",{style:{display:"grid",gap:"var(--spacing-xs)"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("span",{className:"body",children:"Будние дни (пн-пт)"}),a.jsx("span",{className:"body",style:{color:"var(--gray)"},children:e.workingHours.weekday||"07:00-23:00"})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("span",{className:"body",children:"Выходные (сб-вс)"}),a.jsx("span",{className:"body",style:{color:"var(--gray)"},children:e.workingHours.weekend||"08:00-22:00"})]})]})]}),e.amenities&&e.amenities.length>0&&a.jsxs("div",{className:"info-section",style:{marginBottom:"var(--spacing-lg)"},children:[a.jsx("h3",{className:"info-section-title",children:"Удобства"}),a.jsx("div",{style:{display:"flex",flexWrap:"wrap"},children:e.amenities.map(C=>a.jsxs("div",{className:"amenity-item",children:[a.jsx("span",{className:"check-icon",children:"✓"}),a.jsx("span",{className:"body",children:sR[C]||C})]},C))})]})]}),S&&a.jsxs("div",{style:Le.courtsWrapperDesktop,children:[a.jsx("h3",{className:"h2",style:Le.courtsTitle,children:"Доступные корты"}),r.length===0?a.jsxs("div",{className:"flutter-card",style:Le.noCourtsCard,children:[a.jsx("span",{style:Le.noCourtsIcon,children:"🎾"}),a.jsx("p",{className:"body",style:Le.noCourtsText,children:"Нет доступных кортов"})]}):a.jsx("div",{className:"courts-grid",children:r.map(C=>{const k=(u==null?void 0:u.id)===C.id;return a.jsx("div",{className:`court-card ${k?"selected":""}`,onClick:()=>_(C),children:a.jsxs("div",{style:Le.courtCardContent,children:[a.jsxs("div",{style:Le.courtInfo,children:[a.jsx("h4",{className:"body-bold",style:Le.courtName,children:C.name}),a.jsxs("div",{style:Le.courtDetails,children:[a.jsx("span",{className:`sport-chip ${C.type}`,style:{backgroundColor:rR[C.type]},children:Tx[C.type]}),C.indoor&&a.jsx("span",{className:"caption",style:Le.courtIndoor,children:"Крытый"}),C.surface&&a.jsxs("span",{className:"caption",style:Le.courtSurface,children:["• ",C.surface]})]})]}),a.jsxs("div",{style:Le.courtPricing,children:[a.jsxs("div",{className:"h3",style:Le.courtPrice,children:[C.pricePerHour||C.priceWeekday||0,"₽"]}),a.jsx("div",{className:"caption",style:Le.courtPriceUnit,children:"за час"})]})]})},C.id)})})]})]}),S&&a.jsxs("div",{style:wx.sidebar,children:[a.jsxs("div",{className:"sticky-bottom-bar",style:Le.sidebarBookingCard,children:[u&&a.jsxs("div",{className:"selected-court-summary",children:[a.jsx("h4",{className:"body-bold",style:Le.selectedCourtSection,children:u.name}),a.jsxs("div",{style:Le.selectedCourtDetails,children:[a.jsx("span",{className:"body-small",style:Le.selectedCourtType,children:Tx[u.type]}),a.jsxs("span",{className:"body-bold",style:Le.selectedCourtPrice,children:[u.pricePerHour||u.priceWeekday||0,"₽/час"]})]})]}),a.jsx("button",{className:"flutter-button",style:{width:"100%",marginBottom:"var(--spacing-md)"},onClick:w,disabled:!u,children:u?"Выбрать время":"Выберите корт"}),a.jsxs("div",{style:{textAlign:"center",padding:"var(--spacing-md)",backgroundColor:"var(--background)",borderRadius:"var(--radius-md)",marginTop:"var(--spacing-lg)"},children:[a.jsx("p",{className:"caption",style:{color:"var(--gray)",marginBottom:"var(--spacing-sm)"},children:"Удобнее в приложении"}),a.jsx("button",{style:{background:"var(--secondary)",color:"white",border:"none",borderRadius:"var(--radius-sm)",padding:"var(--spacing-xs) var(--spacing-md)",fontSize:"var(--text-caption)",fontWeight:"600",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"var(--spacing-xs)"},onClick:()=>{window.location.href=`allcourts://club/${t}`},children:"📱 Открыть в приложении"})]})]}),e.workingHours&&a.jsxs("div",{className:"info-section",style:{marginBottom:"var(--spacing-lg)"},children:[a.jsx("h3",{className:"info-section-title",children:"Часы работы"}),a.jsxs("div",{style:{display:"grid",gap:"var(--spacing-xs)"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("span",{className:"caption",children:"Будние дни (пн-пт)"}),a.jsx("span",{className:"caption",style:{color:"var(--gray)"},children:e.workingHours.weekday||"07:00-23:00"})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[a.jsx("span",{className:"caption",children:"Выходные (сб-вс)"}),a.jsx("span",{className:"caption",style:{color:"var(--gray)"},children:e.workingHours.weekend||"08:00-22:00"})]})]})]}),e.amenities&&e.amenities.length>0&&a.jsxs("div",{className:"info-section",children:[a.jsx("h3",{className:"info-section-title",children:"Удобства"}),a.jsx("div",{style:{display:"grid",gap:"var(--spacing-xs)"},children:e.amenities.map(C=>a.jsxs("div",{className:"amenity-item",style:{background:"transparent",padding:"var(--spacing-xs) 0",margin:0},children:[a.jsx("span",{className:"check-icon",children:"✓"}),a.jsx("span",{className:"caption",children:sR[C]||C})]},C))})]})]})]}),!S&&a.jsx("div",{className:"sticky-bottom-bar",children:a.jsx("button",{className:"flutter-button",style:{width:"100%"},onClick:w,disabled:!u,children:u?`Выбрать время для ${u.name}`:"Выберите корт"})}),!S&&a.jsx("div",{className:"mobile-app-promo",style:{position:"fixed",bottom:"140px",right:"20px",zIndex:99},children:a.jsx("button",{style:{background:"var(--secondary)",color:"white",border:"none",borderRadius:"var(--radius-full)",padding:"var(--spacing-sm) var(--spacing-md)",fontSize:"var(--text-caption)",fontWeight:"600",boxShadow:"var(--shadow-lg)",cursor:"pointer",display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},onClick:()=>{window.location.href=`allcourts://club/${t}`},children:"📱 Открыть в приложении"})}),u&&e&&a.jsx(ot.Suspense,{fallback:a.jsx("div",{}),children:a.jsx(Hoe,{isOpen:h,onClose:()=>p(!1),court:u,venue:e})}),m&&(e==null?void 0:e.photos)&&a.jsx("div",{className:"modal-backdrop",onClick:N,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.95)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center",padding:"var(--spacing-xl)"},children:a.jsxs("div",{onClick:C=>C.stopPropagation(),style:{position:"relative",maxWidth:"90vw",maxHeight:"90vh",display:"flex",alignItems:"center",justifyContent:"center"},children:[a.jsx("button",{onClick:N,style:{position:"absolute",top:"-40px",right:"0",background:"none",border:"none",color:"white",fontSize:"28px",cursor:"pointer",padding:"8px",zIndex:10,lineHeight:1},"aria-label":"Закрыть",children:"✕"}),e.photos.length>1&&a.jsx("button",{onClick:()=>R("prev"),style:{position:"absolute",left:window.innerWidth>768?"-50px":"10px",top:"50%",transform:"translateY(-50%)",background:"rgba(255, 255, 255, 0.1)",border:"none",color:"white",fontSize:"24px",cursor:"pointer",width:"40px",height:"40px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",transition:"background 0.2s",zIndex:5},onMouseEnter:C=>C.currentTarget.style.background="rgba(255, 255, 255, 0.2)",onMouseLeave:C=>C.currentTarget.style.background="rgba(255, 255, 255, 0.1)","aria-label":"Предыдущее фото",children:"←"}),a.jsx("img",{src:e.photos[g],alt:`${e.name} - фото ${g+1}`,style:{maxWidth:"100%",maxHeight:"90vh",objectFit:"contain",borderRadius:"var(--radius-md)"}}),e.photos.length>1&&a.jsx("button",{onClick:()=>R("next"),style:{position:"absolute",right:window.innerWidth>768?"-50px":"10px",top:"50%",transform:"translateY(-50%)",background:"rgba(255, 255, 255, 0.1)",border:"none",color:"white",fontSize:"24px",cursor:"pointer",width:"40px",height:"40px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",transition:"background 0.2s",zIndex:5},onMouseEnter:C=>C.currentTarget.style.background="rgba(255, 255, 255, 0.2)",onMouseLeave:C=>C.currentTarget.style.background="rgba(255, 255, 255, 0.1)","aria-label":"Следующее фото",children:"→"}),e.photos.length>1&&a.jsxs("div",{style:{position:"absolute",bottom:"-30px",left:"50%",transform:"translateX(-50%)",color:"white",fontSize:"14px",fontWeight:"500"},children:[g+1," / ",e.photos.length]})]})})]})}function _t(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function _e(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function Ce(t){_e(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||fo(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function ya(t,e){_e(2,arguments);var n=Ce(t),r=_t(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function qy(t,e){_e(2,arguments);var n=Ce(t).getTime(),r=_t(e);return new Date(n+r)}function Goe(t,e){_e(2,arguments);var n=_t(e);return qy(t,n*1e3)}var Yoe=6e4;function vi(t,e){_e(2,arguments);var n=_t(e);return qy(t,n*Yoe)}var Koe=36e5;function Qoe(t,e){_e(2,arguments);var n=_t(e);return qy(t,n*Koe)}function Xoe(t,e){_e(2,arguments);var n=_t(e),r=n*7;return ya(t,r)}function Mm(t,e){_e(2,arguments);var n=Ce(t),r=_t(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var s=n.getDate(),i=new Date(n.getTime());i.setMonth(n.getMonth()+r+1,0);var o=i.getDate();return s>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),s),n)}function iR(t,e){_e(2,arguments);var n=_t(e);return Mm(t,n*12)}function Joe(t,e){_e(2,arguments);var n=Ce(t),r=Ce(e);return n.getFullYear()-r.getFullYear()}function yh(t,e){_e(2,arguments);var n=Ce(t),r=Ce(e),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function Zoe(t,e){_e(2,arguments);var n=Ce(t),r=Ce(e),s=yh(n,r),i=Math.abs(Joe(n,r));n.setFullYear(1584),r.setFullYear(1584);var o=yh(n,r)===-s,l=s*(i-Number(o));return l===0?0:l}function eae(t,e){_e(2,arguments);var n=Ce(t),r=Ce(e),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function Nb(t){_e(1,arguments);var e=Ce(t);return e.setHours(23,59,59,999),e}function Db(t){_e(1,arguments);var e=Ce(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function tae(t){_e(1,arguments);var e=Ce(t);return Nb(e).getTime()===Db(e).getTime()}function WL(t,e){_e(2,arguments);var n=Ce(t),r=Ce(e),s=yh(n,r),i=Math.abs(eae(n,r)),o;if(i<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);var l=yh(n,r)===-s;tae(Ce(t))&&i===1&&yh(t,r)===1&&(l=!1),o=s*(i-Number(l))}return o===0?0:o}var oR={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},nae="trunc";function Jf(t){return t?oR[t]:oR[nae]}function rae(t,e,n){_e(2,arguments);var r=WL(t,e)/3;return Jf(void 0)(r)}function Jg(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function jl(t){_e(1,arguments);var e=Ce(t);return e.setHours(0,0,0,0),e}var sae=864e5;function iae(t,e){_e(2,arguments);var n=jl(t),r=jl(e),s=n.getTime()-Jg(n),i=r.getTime()-Jg(r);return Math.round((s-i)/sae)}function aR(t,e){var n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function HL(t,e){_e(2,arguments);var n=Ce(t),r=Ce(e),s=aR(n,r),i=Math.abs(iae(n,r));n.setDate(n.getDate()-s*i);var o=+(aR(n,r)===-s),l=s*(i-o);return l===0?0:l}function oae(t,e,n){_e(2,arguments);var r=HL(t,e)/7;return Jf(void 0)(r)}var Gy=6e4,Yy=36e5,aae=1e3;function Ky(t,e){return _e(2,arguments),Ce(t).getTime()-Ce(e).getTime()}function lae(t,e,n){_e(2,arguments);var r=Ky(t,e)/Yy;return Jf(void 0)(r)}function cae(t,e,n){_e(2,arguments);var r=Ky(t,e)/Gy;return Jf(void 0)(r)}function uae(t,e,n){_e(2,arguments);var r=Ky(t,e)/1e3;return Jf(void 0)(r)}function dae(t,e){var n;_e(1,arguments);var r=t||{},s=Ce(r.start),i=Ce(r.end),o=i.getTime();if(!(s.getTime()<=o))throw new RangeError("Invalid interval");var l=[],c=s;c.setHours(0,0,0,0);var u=Number((n=void 0)!==null&&n!==void 0?n:1);if(u<1||isNaN(u))throw new RangeError("`options.step` must be a number greater than 1");for(;c.getTime()<=o;)l.push(Ce(c)),c.setDate(c.getDate()+u),c.setHours(0,0,0,0);return l}var hae={};function Oi(){return hae}function Ex(t,e){var n,r,s,i,o,l,c,u;_e(1,arguments);var d=Oi(),h=_t((n=(r=(s=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Ce(t),m=p.getDay(),v=(m<h?-7:0)+6-(m-h);return p.setDate(p.getDate()+v),p.setHours(23,59,59,999),p}function Sx(t){_e(1,arguments);var e=Ce(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function fae(t){return _e(1,arguments),t instanceof Date||fo(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function qL(t){if(_e(1,arguments),!fae(t)&&typeof t!="number")return!1;var e=Ce(t);return!isNaN(Number(e))}function GL(t,e){_e(2,arguments);var n=_t(e);return qy(t,-n)}var pae=864e5;function mae(t){_e(1,arguments);var e=Ce(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),s=n-r;return Math.floor(s/pae)+1}function Cu(t){_e(1,arguments);var e=1,n=Ce(t),r=n.getUTCDay(),s=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function YL(t){_e(1,arguments);var e=Ce(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=Cu(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var o=Cu(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function gae(t){_e(1,arguments);var e=YL(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=Cu(n);return r}var vae=6048e5;function KL(t){_e(1,arguments);var e=Ce(t),n=Cu(e).getTime()-gae(e).getTime();return Math.round(n/vae)+1}function Co(t,e){var n,r,s,i,o,l,c,u;_e(1,arguments);var d=Oi(),h=_t((n=(r=(s=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Ce(t),m=p.getUTCDay(),v=(m<h?7:0)+m-h;return p.setUTCDate(p.getUTCDate()-v),p.setUTCHours(0,0,0,0),p}function JC(t,e){var n,r,s,i,o,l,c,u;_e(1,arguments);var d=Ce(t),h=d.getUTCFullYear(),p=Oi(),m=_t((n=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:p.firstWeekContainsDate)!==null&&r!==void 0?r:(c=p.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setUTCFullYear(h+1,0,m),v.setUTCHours(0,0,0,0);var g=Co(v,e),b=new Date(0);b.setUTCFullYear(h,0,m),b.setUTCHours(0,0,0,0);var x=Co(b,e);return d.getTime()>=g.getTime()?h+1:d.getTime()>=x.getTime()?h:h-1}function yae(t,e){var n,r,s,i,o,l,c,u;_e(1,arguments);var d=Oi(),h=_t((n=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=JC(t,e),m=new Date(0);m.setUTCFullYear(p,0,h),m.setUTCHours(0,0,0,0);var v=Co(m,e);return v}var xae=6048e5;function QL(t,e){_e(1,arguments);var n=Ce(t),r=Co(n,e).getTime()-yae(n,e).getTime();return Math.round(r/xae)+1}function nt(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var $o={y:function(e,n){var r=e.getUTCFullYear(),s=r>0?r:1-r;return nt(n==="yy"?s%100:s,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):nt(r+1,2)},d:function(e,n){return nt(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return nt(e.getUTCHours()%12||12,n.length)},H:function(e,n){return nt(e.getUTCHours(),n.length)},m:function(e,n){return nt(e.getUTCMinutes(),n.length)},s:function(e,n){return nt(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,s=e.getUTCMilliseconds(),i=Math.floor(s*Math.pow(10,r-3));return nt(i,n.length)}},oc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},_ae={G:function(e,n,r){var s=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var s=e.getUTCFullYear(),i=s>0?s:1-s;return r.ordinalNumber(i,{unit:"year"})}return $o.y(e,n)},Y:function(e,n,r,s){var i=JC(e,s),o=i>0?i:1-i;if(n==="YY"){var l=o%100;return nt(l,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):nt(o,n.length)},R:function(e,n){var r=YL(e);return nt(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return nt(r,n.length)},Q:function(e,n,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return nt(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,n,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return nt(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,n,r){var s=e.getUTCMonth();switch(n){case"M":case"MM":return $o.M(e,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,n,r){var s=e.getUTCMonth();switch(n){case"L":return String(s+1);case"LL":return nt(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,n,r,s){var i=QL(e,s);return n==="wo"?r.ordinalNumber(i,{unit:"week"}):nt(i,n.length)},I:function(e,n,r){var s=KL(e);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):nt(s,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):$o.d(e,n)},D:function(e,n,r){var s=mae(e);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):nt(s,n.length)},E:function(e,n,r){var s=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,n,r,s){var i=e.getUTCDay(),o=(i-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return nt(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,n,r,s){var i=e.getUTCDay(),o=(i-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return nt(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,n,r){var s=e.getUTCDay(),i=s===0?7:s;switch(n){case"i":return String(i);case"ii":return nt(i,n.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,n,r){var s=e.getUTCHours(),i=s/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,n,r){var s=e.getUTCHours(),i;switch(s===12?i=oc.noon:s===0?i=oc.midnight:i=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,n,r){var s=e.getUTCHours(),i;switch(s>=17?i=oc.evening:s>=12?i=oc.afternoon:s>=4?i=oc.morning:i=oc.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var s=e.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return $o.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):$o.H(e,n)},K:function(e,n,r){var s=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):nt(s,n.length)},k:function(e,n,r){var s=e.getUTCHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):nt(s,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):$o.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):$o.s(e,n)},S:function(e,n){return $o.S(e,n)},X:function(e,n,r,s){var i=s._originalDate||e,o=i.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return cR(o);case"XXXX":case"XX":return Ja(o);case"XXXXX":case"XXX":default:return Ja(o,":")}},x:function(e,n,r,s){var i=s._originalDate||e,o=i.getTimezoneOffset();switch(n){case"x":return cR(o);case"xxxx":case"xx":return Ja(o);case"xxxxx":case"xxx":default:return Ja(o,":")}},O:function(e,n,r,s){var i=s._originalDate||e,o=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+lR(o,":");case"OOOO":default:return"GMT"+Ja(o,":")}},z:function(e,n,r,s){var i=s._originalDate||e,o=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+lR(o,":");case"zzzz":default:return"GMT"+Ja(o,":")}},t:function(e,n,r,s){var i=s._originalDate||e,o=Math.floor(i.getTime()/1e3);return nt(o,n.length)},T:function(e,n,r,s){var i=s._originalDate||e,o=i.getTime();return nt(o,n.length)}};function lR(t,e){var n=t>0?"-":"+",r=Math.abs(t),s=Math.floor(r/60),i=r%60;if(i===0)return n+String(s);var o=e;return n+String(s)+o+nt(i,2)}function cR(t,e){if(t%60===0){var n=t>0?"-":"+";return n+nt(Math.abs(t)/60,2)}return Ja(t,e)}function Ja(t,e){var n=e||"",r=t>0?"-":"+",s=Math.abs(t),i=nt(Math.floor(s/60),2),o=nt(s%60,2);return r+i+n+o}var uR=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},XL=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},bae=function(e,n){var r=e.match(/(P+)(p+)?/)||[],s=r[1],i=r[2];if(!i)return uR(e,n);var o;switch(s){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",uR(s,n)).replace("{{time}}",XL(i,n))},jb={p:XL,P:bae},wae=["D","DD"],Cae=["YY","YYYY"];function JL(t){return wae.indexOf(t)!==-1}function ZL(t){return Cae.indexOf(t)!==-1}function Zg(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Tae={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Eae=function(e,n,r){var s,i=Tae[e];return typeof i=="string"?s=i:n===1?s=i.one:s=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function qc(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var Sae={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Iae={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},kae={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Rae={date:qc({formats:Sae,defaultWidth:"full"}),time:qc({formats:Iae,defaultWidth:"full"}),dateTime:qc({formats:kae,defaultWidth:"full"})},Pae={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Aae=function(e,n,r,s){return Pae[e]};function ui(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&t.formattingValues){var i=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):i;s=t.formattingValues[o]||t.formattingValues[i]}else{var l=t.defaultWidth,c=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[c]||t.values[l]}var u=t.argumentCallback?t.argumentCallback(e):e;return s[u]}}var Nae={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Dae={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},jae={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Mae={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Oae={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Lae={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},$ae=function(e,n){var r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Fae={ordinalNumber:$ae,era:ui({values:Nae,defaultWidth:"wide"}),quarter:ui({values:Dae,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:ui({values:jae,defaultWidth:"wide"}),day:ui({values:Mae,defaultWidth:"wide"}),dayPeriod:ui({values:Oae,defaultWidth:"wide",formattingValues:Lae,defaultFormattingWidth:"wide"})};function di(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;var o=i[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?Bae(l,function(h){return h.test(o)}):Vae(l,function(h){return h.test(o)}),u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;var d=e.slice(o.length);return{value:u,rest:d}}}function Vae(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function Bae(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function e4(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var s=r[0],i=e.match(t.parsePattern);if(!i)return null;var o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;var l=e.slice(s.length);return{value:o,rest:l}}}var Uae=/^(\d+)(th|st|nd|rd)?/i,zae=/\d+/i,Wae={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Hae={any:[/^b/i,/^(a|c)/i]},qae={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Gae={any:[/1/i,/2/i,/3/i,/4/i]},Yae={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Kae={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Qae={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Xae={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Jae={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Zae={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ele={ordinalNumber:e4({matchPattern:Uae,parsePattern:zae,valueCallback:function(e){return parseInt(e,10)}}),era:di({matchPatterns:Wae,defaultMatchWidth:"wide",parsePatterns:Hae,defaultParseWidth:"any"}),quarter:di({matchPatterns:qae,defaultMatchWidth:"wide",parsePatterns:Gae,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:di({matchPatterns:Yae,defaultMatchWidth:"wide",parsePatterns:Kae,defaultParseWidth:"any"}),day:di({matchPatterns:Qae,defaultMatchWidth:"wide",parsePatterns:Xae,defaultParseWidth:"any"}),dayPeriod:di({matchPatterns:Jae,defaultMatchWidth:"any",parsePatterns:Zae,defaultParseWidth:"any"})},ZC={code:"en-US",formatDistance:Eae,formatLong:Rae,formatRelative:Aae,localize:Fae,match:ele,options:{weekStartsOn:0,firstWeekContainsDate:1}},tle=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,nle=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,rle=/^'([^]*?)'?$/,sle=/''/g,ile=/[a-zA-Z]/;function Ht(t,e,n){var r,s,i,o,l,c,u,d,h,p,m,v,g,b,x,_,w,I;_e(2,arguments);var N=String(e),R=Oi(),S=(r=(s=n==null?void 0:n.locale)!==null&&s!==void 0?s:R.locale)!==null&&r!==void 0?r:ZC,E=_t((i=(o=(l=(c=n==null?void 0:n.firstWeekContainsDate)!==null&&c!==void 0?c:n==null||(u=n.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&l!==void 0?l:R.firstWeekContainsDate)!==null&&o!==void 0?o:(h=R.locale)===null||h===void 0||(p=h.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(E>=1&&E<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var C=_t((m=(v=(g=(b=n==null?void 0:n.weekStartsOn)!==null&&b!==void 0?b:n==null||(x=n.locale)===null||x===void 0||(_=x.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&g!==void 0?g:R.weekStartsOn)!==null&&v!==void 0?v:(w=R.locale)===null||w===void 0||(I=w.options)===null||I===void 0?void 0:I.weekStartsOn)!==null&&m!==void 0?m:0);if(!(C>=0&&C<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!S.localize)throw new RangeError("locale must contain localize property");if(!S.formatLong)throw new RangeError("locale must contain formatLong property");var k=Ce(t);if(!qL(k))throw new RangeError("Invalid time value");var A=Jg(k),M=GL(k,A),P={firstWeekContainsDate:E,weekStartsOn:C,locale:S,_originalDate:k},O=N.match(nle).map(function(V){var B=V[0];if(B==="p"||B==="P"){var z=jb[B];return z(V,S.formatLong)}return V}).join("").match(tle).map(function(V){if(V==="''")return"'";var B=V[0];if(B==="'")return ole(V);var z=_ae[B];if(z)return!(n!=null&&n.useAdditionalWeekYearTokens)&&ZL(V)&&Zg(V,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&JL(V)&&Zg(V,e,String(t)),z(M,V,S.localize,P);if(B.match(ile))throw new RangeError("Format string contains an unescaped latin alphabet character `"+B+"`");return V}).join("");return O}function ole(t){var e=t.match(rle);return e?e[1].replace(sle,"'"):t}function ale(t){_e(1,arguments);var e=Ce(t),n=e.getDate();return n}function t4(t){_e(1,arguments);var e=Ce(t),n=e.getFullYear(),r=e.getMonth(),s=new Date(0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function lle(t){_e(1,arguments);var e=Ce(t),n=e.getHours();return n}function cle(t){_e(1,arguments);var e=Ce(t),n=e.getMinutes();return n}function ule(t){_e(1,arguments);var e=Ce(t),n=e.getMonth();return n}function dle(t){_e(1,arguments);var e=Ce(t),n=e.getSeconds();return n}function hle(t){_e(1,arguments);var e=Ce(t),n=e.getMilliseconds();return n}function fl(t,e){var n,r,s,i,o,l,c,u;_e(1,arguments);var d=Oi(),h=_t((n=(r=(s=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Ce(t),m=p.getDay(),v=(m<h?7:0)+m-h;return p.setDate(p.getDate()-v),p.setHours(0,0,0,0),p}function fle(t,e){var n,r,s,i,o,l,c,u;_e(1,arguments);var d=Ce(t),h=d.getFullYear(),p=Oi(),m=_t((n=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:p.firstWeekContainsDate)!==null&&r!==void 0?r:(c=p.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setFullYear(h+1,0,m),v.setHours(0,0,0,0);var g=fl(v,e),b=new Date(0);b.setFullYear(h,0,m),b.setHours(0,0,0,0);var x=fl(b,e);return d.getTime()>=g.getTime()?h+1:d.getTime()>=x.getTime()?h:h-1}function ple(t,e){var n,r,s,i,o,l,c,u;_e(1,arguments);var d=Oi(),h=_t((n=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=fle(t,e),m=new Date(0);m.setFullYear(p,0,h),m.setHours(0,0,0,0);var v=fl(m,e);return v}var mle=6048e5;function gle(t,e){_e(1,arguments);var n=Ce(t),r=fl(n,e).getTime()-ple(n,e).getTime();return Math.round(r/mle)+1}function vle(t){return _e(1,arguments),Ce(t).getFullYear()}function Ys(t,e){_e(2,arguments);var n=Ce(t),r=Ce(e);return n.getTime()>r.getTime()}function Sr(t,e){_e(2,arguments);var n=Ce(t),r=Ce(e);return n.getTime()<r.getTime()}function yle(t,e){_e(2,arguments);var n=Ce(t),r=Ce(e);return n.getTime()===r.getTime()}function n4(t,e){_e(2,arguments);var n=jl(t),r=jl(e);return n.getTime()===r.getTime()}function xle(t,e){_e(2,arguments);var n=Ce(t),r=Ce(e);return n.getFullYear()===r.getFullYear()}function _le(t,e){_e(2,arguments);var n=Ce(t),r=Ce(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function dR(t){_e(1,arguments);var e=Ce(t);return e.setMinutes(0,0,0),e}function ble(t,e){_e(2,arguments);var n=dR(t),r=dR(e);return n.getTime()===r.getTime()}function hR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function wle(t,e){if(t){if(typeof t=="string")return hR(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hR(t,e):void 0}}function fR(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=wle(t))||e){n&&(t=n);var r=0,s=function(){};return{s,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return o=u.done,u},e:function(u){l=!0,i=u},f:function(){try{o||n.return==null||n.return()}finally{if(l)throw i}}}}function Cle(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function bt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ug(t,e)}function ev(t){return ev=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ev(t)}function r4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r4=function(){return!!t})()}function Tle(t,e){if(e&&(fo(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ne(t)}function wt(t){var e=r4();return function(){var n,r=ev(t);if(e){var s=ev(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return Tle(this,n)}}function ht(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ele(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UN(r.key),r)}}function ft(t,e,n){return e&&Ele(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pe(t,e,n){return(e=UN(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Sle=10,s4=function(){function t(){ht(this,t),Pe(this,"priority",void 0),Pe(this,"subPriority",0)}return ft(t,[{key:"validate",value:function(n,r){return!0}}]),t}(),Ile=function(t){bt(n,t);var e=wt(n);function n(r,s,i,o,l){var c;return ht(this,n),c=e.call(this),c.value=r,c.validateValue=s,c.setValue=i,c.priority=o,l&&(c.subPriority=l),c}return ft(n,[{key:"validate",value:function(s,i){return this.validateValue(s,this.value,i)}},{key:"set",value:function(s,i,o){return this.setValue(s,i,this.value,o)}}]),n}(s4),kle=function(t){bt(n,t);var e=wt(n);function n(){var r;ht(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),Pe(Ne(r),"priority",Sle),Pe(Ne(r),"subPriority",-1),r}return ft(n,[{key:"set",value:function(s,i){if(i.timestampIsSet)return s;var o=new Date(0);return o.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),o.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),o}}]),n}(s4),Pt=function(){function t(){ht(this,t),Pe(this,"incompatibleTokens",void 0),Pe(this,"priority",void 0),Pe(this,"subPriority",void 0)}return ft(t,[{key:"run",value:function(n,r,s,i){var o=this.parse(n,r,s,i);return o?{setter:new Ile(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(n,r,s){return!0}}]),t}(),Rle=function(t){bt(n,t);var e=wt(n);function n(){var r;ht(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),Pe(Ne(r),"priority",140),Pe(Ne(r),"incompatibleTokens",["R","u","t","T"]),r}return ft(n,[{key:"parse",value:function(s,i,o){switch(i){case"G":case"GG":case"GGG":return o.era(s,{width:"abbreviated"})||o.era(s,{width:"narrow"});case"GGGGG":return o.era(s,{width:"narrow"});case"GGGG":default:return o.era(s,{width:"wide"})||o.era(s,{width:"abbreviated"})||o.era(s,{width:"narrow"})}}},{key:"set",value:function(s,i,o){return i.era=o,s.setUTCFullYear(o,0,1),s.setUTCHours(0,0,0,0),s}}]),n}(Pt),Tn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},hi={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function En(t,e){return t&&{value:e(t.value),rest:t.rest}}function ln(t,e){var n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function fi(t,e){var n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};var r=n[1]==="+"?1:-1,s=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(s*Yy+i*Gy+o*aae),rest:e.slice(n[0].length)}}function i4(t){return ln(Tn.anyDigitsSigned,t)}function xn(t,e){switch(t){case 1:return ln(Tn.singleDigit,e);case 2:return ln(Tn.twoDigits,e);case 3:return ln(Tn.threeDigits,e);case 4:return ln(Tn.fourDigits,e);default:return ln(new RegExp("^\\d{1,"+t+"}"),e)}}function tv(t,e){switch(t){case 1:return ln(Tn.singleDigitSigned,e);case 2:return ln(Tn.twoDigitsSigned,e);case 3:return ln(Tn.threeDigitsSigned,e);case 4:return ln(Tn.fourDigitsSigned,e);default:return ln(new RegExp("^-?\\d{1,"+t+"}"),e)}}function eT(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function o4(t,e){var n=e>0,r=n?e:1-e,s;if(r<=50)s=t||100;else{var i=r+50,o=Math.floor(i/100)*100,l=t>=i%100;s=t+o-(l?100:0)}return n?s:1-s}function a4(t){return t%400===0||t%4===0&&t%100!==0}var Ple=function(t){bt(n,t);var e=wt(n);function n(){var r;ht(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),Pe(Ne(r),"priority",130),Pe(Ne(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return ft(n,[{key:"parse",value:function(s,i,o){var l=function(u){return{year:u,isTwoDigitYear:i==="yy"}};switch(i){case"y":return En(xn(4,s),l);case"yo":return En(o.ordinalNumber(s,{unit:"year"}),l);default:return En(xn(i.length,s),l)}}},{key:"validate",value:function(s,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(s,i,o){var l=s.getUTCFullYear();if(o.isTwoDigitYear){var c=o4(o.year,l);return s.setUTCFullYear(c,0,1),s.setUTCHours(0,0,0,0),s}var u=!("era"in i)||i.era===1?o.year:1-o.year;return s.setUTCFullYear(u,0,1),s.setUTCHours(0,0,0,0),s}}]),n}(Pt),Ale=function(t){bt(n,t);var e=wt(n);function n(){var r;ht(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),Pe(Ne(r),"priority",130),Pe(Ne(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return ft(n,[{key:"parse",value:function(s,i,o){var l=function(u){return{year:u,isTwoDigitYear:i==="YY"}};switch(i){case"Y":return En(xn(4,s),l);case"Yo":return En(o.ordinalNumber(s,{unit:"year"}),l);default:return En(xn(i.length,s),l)}}},{key:"validate",value:function(s,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(s,i,o,l){var c=JC(s,l);if(o.isTwoDigitYear){var u=o4(o.year,c);return s.setUTCFullYear(u,0,l.firstWeekContainsDate),s.setUTCHours(0,0,0,0),Co(s,l)}var d=!("era"in i)||i.era===1?o.year:1-o.year;return s.setUTCFullYear(d,0,l.firstWeekContainsDate),s.setUTCHours(0,0,0,0),Co(s,l)}}]),n}(Pt),Nle=function(t){bt(n,t);var e=wt(n);function n(){var r;ht(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),Pe(Ne(r),"priority",130),Pe(Ne(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return ft(n,[{key:"parse",value:function(s,i){return tv(i==="R"?4:i.length,s)}},{key:"set",value:function(s,i,o){var l=new Date(0);return l.setUTCFullYear(o,0,4),l.setUTCHours(0,0,0,0),Cu(l)}}]),n}(Pt),Dle=function(t){bt(n,t);var e=wt(n);function n(){var r;ht(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),Pe(Ne(r),"priority",130),Pe(Ne(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return ft(n,[{key:"parse",value:function(s,i){return tv(i==="u"?4:i.length,s)}},{key:"set",value:function(s,i,o){return s.setUTCFullYear(o,0,1),s.setUTCHours(0,0,0,0),s}}]),n}(Pt),jle=function(t){bt(n,t);var e=wt(n);function n(){var r;ht(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),Pe(Ne(r),"priority",120),Pe(Ne(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return ft(n,[{key:"parse",value:function(s,i,o){switch(i){case"Q":case"QQ":return xn(i.length,s);case"Qo":return o.ordinalNumber(s,{unit:"quarter"});case"QQQ":return o.quarter(s,{width:"abbreviated",context:"formatting"})||o.quarter(s,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(s,{width:"wide",context:"formatting"})||o.quarter(s,{width:"abbreviated",context:"formatting"})||o.quarter(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,i){return i>=1&&i<=4}},{key:"set",value:function(s,i,o){return s.setUTCMonth((o-1)*3,1),s.setUTCHours(0,0,0,0),s}}]),n}(Pt),Mle=function(t){bt(n,t);var e=wt(n);function n(){var r;ht(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),Pe(Ne(r),"priority",120),Pe(Ne(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return ft(n,[{key:"parse",value:function(s,i,o){switch(i){case"q":case"qq":return xn(i.length,s);case"qo":return o.ordinalNumber(s,{unit:"quarter"});case"qqq":return o.quarter(s,{width:"abbreviated",context:"standalone"})||o.quarter(s,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(s,{width:"wide",context:"standalone"})||o.quarter(s,{width:"abbreviated",context:"standalone"})||o.quarter(s,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(s,i){return i>=1&&i<=4}},{key:"set",value:function(s,i,o){return s.setUTCMonth((o-1)*3,1),s.setUTCHours(0,0,0,0),s}}]),n}(Pt),Ole=function(t){bt(n,t);var e=wt(n);function n(){var r;ht(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),Pe(Ne(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Pe(Ne(r),"priority",110),r}return ft(n,[{key:"parse",value:function(s,i,o){var l=function(u){return u-1};switch(i){case"M":return En(ln(Tn.month,s),l);case"MM":return En(xn(2,s),l);case"Mo":return En(o.ordinalNumber(s,{unit:"month"}),l);case"MMM":return o.month(s,{width:"abbreviated",context:"formatting"})||o.month(s,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(s,{width:"wide",context:"formatting"})||o.month(s,{width:"abbreviated",context:"formatting"})||o.month(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=11}},{key:"set",value:function(s,i,o){return s.setUTCMonth(o,1),s.setUTCHours(0,0,0,0),s}}]),n}(Pt),Lle=function(t){bt(n,t);var e=wt(n);function n(){var r;ht(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),Pe(Ne(r),"priority",110),Pe(Ne(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return ft(n,[{key:"parse",value:function(s,i,o){var l=function(u){return u-1};switch(i){case"L":return En(ln(Tn.month,s),l);case"LL":return En(xn(2,s),l);case"Lo":return En(o.ordinalNumber(s,{unit:"month"}),l);case"LLL":return o.month(s,{width:"abbreviated",context:"standalone"})||o.month(s,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(s,{width:"wide",context:"standalone"})||o.month(s,{width:"abbreviated",context:"standalone"})||o.month(s,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=11}},{key:"set",value:function(s,i,o){return s.setUTCMonth(o,1),s.setUTCHours(0,0,0,0),s}}]),n}(Pt);function $le(t,e,n){_e(2,arguments);var r=Ce(t),s=_t(e),i=QL(r,n)-s;return r.setUTCDate(r.getUTCDate()-i*7),r}var Fle=function(t){bt(n,t);var e=wt(n);function n(){var r;ht(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),Pe(Ne(r),"priority",100),Pe(Ne(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return ft(n,[{key:"parse",value:function(s,i,o){switch(i){case"w":return ln(Tn.week,s);case"wo":return o.ordinalNumber(s,{unit:"week"});default:return xn(i.length,s)}}},{key:"validate",value:function(s,i){return i>=1&&i<=53}},{key:"set",value:function(s,i,o,l){return Co($le(s,o,l),l)}}]),n}(Pt);function Vle(t,e){_e(2,arguments);var n=Ce(t),r=_t(e),s=KL(n)-r;return n.setUTCDate(n.getUTCDate()-s*7),n}var Ble=function(t){bt(n,t);var e=wt(n);function n(){var r;ht(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),Pe(Ne(r),"priority",100),Pe(Ne(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return ft(n,[{key:"parse",value:function(s,i,o){switch(i){case"I":return ln(Tn.week,s);case"Io":return o.ordinalNumber(s,{unit:"week"});default:return xn(i.length,s)}}},{key:"validate",value:function(s,i){return i>=1&&i<=53}},{key:"set",value:function(s,i,o){return Cu(Vle(s,o))}}]),n}(Pt),Ule=[31,28,31,30,31,30,31,31,30,31,30,31],zle=[31,29,31,30,31,30,31,31,30,31,30,31],Wle=function(t){bt(n,t);var e=wt(n);function n(){var r;ht(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),Pe(Ne(r),"priority",90),Pe(Ne(r),"subPriority",1),Pe(Ne(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return ft(n,[{key:"parse",value:function(s,i,o){switch(i){case"d":return ln(Tn.date,s);case"do":return o.ordinalNumber(s,{unit:"date"});default:return xn(i.length,s)}}},{key:"validate",value:function(s,i){var o=s.getUTCFullYear(),l=a4(o),c=s.getUTCMonth();return l?i>=1&&i<=zle[c]:i>=1&&i<=Ule[c]}},{key:"set",value:function(s,i,o){return s.setUTCDate(o),s.setUTCHours(0,0,0,0),s}}]),n}(Pt),Hle=function(t){bt(n,t);var e=wt(n);function n(){var r;ht(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),Pe(Ne(r),"priority",90),Pe(Ne(r),"subpriority",1),Pe(Ne(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return ft(n,[{key:"parse",value:function(s,i,o){switch(i){case"D":case"DD":return ln(Tn.dayOfYear,s);case"Do":return o.ordinalNumber(s,{unit:"date"});default:return xn(i.length,s)}}},{key:"validate",value:function(s,i){var o=s.getUTCFullYear(),l=a4(o);return l?i>=1&&i<=366:i>=1&&i<=365}},{key:"set",value:function(s,i,o){return s.setUTCMonth(0,o),s.setUTCHours(0,0,0,0),s}}]),n}(Pt);function tT(t,e,n){var r,s,i,o,l,c,u,d;_e(2,arguments);var h=Oi(),p=_t((r=(s=(i=(o=n==null?void 0:n.weekStartsOn)!==null&&o!==void 0?o:n==null||(l=n.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&i!==void 0?i:h.weekStartsOn)!==null&&s!==void 0?s:(u=h.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&r!==void 0?r:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=Ce(t),v=_t(e),g=m.getUTCDay(),b=v%7,x=(b+7)%7,_=(x<p?7:0)+v-g;return m.setUTCDate(m.getUTCDate()+_),m}var qle=function(t){bt(n,t);var e=wt(n);function n(){var r;ht(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),Pe(Ne(r),"priority",90),Pe(Ne(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return ft(n,[{key:"parse",value:function(s,i,o){switch(i){case"E":case"EE":case"EEE":return o.day(s,{width:"abbreviated",context:"formatting"})||o.day(s,{width:"short",context:"formatting"})||o.day(s,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(s,{width:"short",context:"formatting"})||o.day(s,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(s,{width:"wide",context:"formatting"})||o.day(s,{width:"abbreviated",context:"formatting"})||o.day(s,{width:"short",context:"formatting"})||o.day(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=6}},{key:"set",value:function(s,i,o,l){return s=tT(s,o,l),s.setUTCHours(0,0,0,0),s}}]),n}(Pt),Gle=function(t){bt(n,t);var e=wt(n);function n(){var r;ht(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),Pe(Ne(r),"priority",90),Pe(Ne(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return ft(n,[{key:"parse",value:function(s,i,o,l){var c=function(d){var h=Math.floor((d-1)/7)*7;return(d+l.weekStartsOn+6)%7+h};switch(i){case"e":case"ee":return En(xn(i.length,s),c);case"eo":return En(o.ordinalNumber(s,{unit:"day"}),c);case"eee":return o.day(s,{width:"abbreviated",context:"formatting"})||o.day(s,{width:"short",context:"formatting"})||o.day(s,{width:"narrow",context:"formatting"});case"eeeee":return o.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(s,{width:"short",context:"formatting"})||o.day(s,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(s,{width:"wide",context:"formatting"})||o.day(s,{width:"abbreviated",context:"formatting"})||o.day(s,{width:"short",context:"formatting"})||o.day(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=6}},{key:"set",value:function(s,i,o,l){return s=tT(s,o,l),s.setUTCHours(0,0,0,0),s}}]),n}(Pt),Yle=function(t){bt(n,t);var e=wt(n);function n(){var r;ht(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),Pe(Ne(r),"priority",90),Pe(Ne(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return ft(n,[{key:"parse",value:function(s,i,o,l){var c=function(d){var h=Math.floor((d-1)/7)*7;return(d+l.weekStartsOn+6)%7+h};switch(i){case"c":case"cc":return En(xn(i.length,s),c);case"co":return En(o.ordinalNumber(s,{unit:"day"}),c);case"ccc":return o.day(s,{width:"abbreviated",context:"standalone"})||o.day(s,{width:"short",context:"standalone"})||o.day(s,{width:"narrow",context:"standalone"});case"ccccc":return o.day(s,{width:"narrow",context:"standalone"});case"cccccc":return o.day(s,{width:"short",context:"standalone"})||o.day(s,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(s,{width:"wide",context:"standalone"})||o.day(s,{width:"abbreviated",context:"standalone"})||o.day(s,{width:"short",context:"standalone"})||o.day(s,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=6}},{key:"set",value:function(s,i,o,l){return s=tT(s,o,l),s.setUTCHours(0,0,0,0),s}}]),n}(Pt);function Kle(t,e){_e(2,arguments);var n=_t(e);n%7===0&&(n=n-7);var r=1,s=Ce(t),i=s.getUTCDay(),o=n%7,l=(o+7)%7,c=(l<r?7:0)+n-i;return s.setUTCDate(s.getUTCDate()+c),s}var Qle=function(t){bt(n,t);var e=wt(n);function n(){var r;ht(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),Pe(Ne(r),"priority",90),Pe(Ne(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return ft(n,[{key:"parse",value:function(s,i,o){var l=function(u){return u===0?7:u};switch(i){case"i":case"ii":return xn(i.length,s);case"io":return o.ordinalNumber(s,{unit:"day"});case"iii":return En(o.day(s,{width:"abbreviated",context:"formatting"})||o.day(s,{width:"short",context:"formatting"})||o.day(s,{width:"narrow",context:"formatting"}),l);case"iiiii":return En(o.day(s,{width:"narrow",context:"formatting"}),l);case"iiiiii":return En(o.day(s,{width:"short",context:"formatting"})||o.day(s,{width:"narrow",context:"formatting"}),l);case"iiii":default:return En(o.day(s,{width:"wide",context:"formatting"})||o.day(s,{width:"abbreviated",context:"formatting"})||o.day(s,{width:"short",context:"formatting"})||o.day(s,{width:"narrow",context:"formatting"}),l)}}},{key:"validate",value:function(s,i){return i>=1&&i<=7}},{key:"set",value:function(s,i,o){return s=Kle(s,o),s.setUTCHours(0,0,0,0),s}}]),n}(Pt),Xle=function(t){bt(n,t);var e=wt(n);function n(){var r;ht(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),Pe(Ne(r),"priority",80),Pe(Ne(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return ft(n,[{key:"parse",value:function(s,i,o){switch(i){case"a":case"aa":case"aaa":return o.dayPeriod(s,{width:"abbreviated",context:"formatting"})||o.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(s,{width:"wide",context:"formatting"})||o.dayPeriod(s,{width:"abbreviated",context:"formatting"})||o.dayPeriod(s,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(s,i,o){return s.setUTCHours(eT(o),0,0,0),s}}]),n}(Pt),Jle=function(t){bt(n,t);var e=wt(n);function n(){var r;ht(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),Pe(Ne(r),"priority",80),Pe(Ne(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return ft(n,[{key:"parse",value:function(s,i,o){switch(i){case"b":case"bb":case"bbb":return o.dayPeriod(s,{width:"abbreviated",context:"formatting"})||o.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(s,{width:"wide",context:"formatting"})||o.dayPeriod(s,{width:"abbreviated",context:"formatting"})||o.dayPeriod(s,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(s,i,o){return s.setUTCHours(eT(o),0,0,0),s}}]),n}(Pt),Zle=function(t){bt(n,t);var e=wt(n);function n(){var r;ht(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),Pe(Ne(r),"priority",80),Pe(Ne(r),"incompatibleTokens",["a","b","t","T"]),r}return ft(n,[{key:"parse",value:function(s,i,o){switch(i){case"B":case"BB":case"BBB":return o.dayPeriod(s,{width:"abbreviated",context:"formatting"})||o.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(s,{width:"wide",context:"formatting"})||o.dayPeriod(s,{width:"abbreviated",context:"formatting"})||o.dayPeriod(s,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(s,i,o){return s.setUTCHours(eT(o),0,0,0),s}}]),n}(Pt),ece=function(t){bt(n,t);var e=wt(n);function n(){var r;ht(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),Pe(Ne(r),"priority",70),Pe(Ne(r),"incompatibleTokens",["H","K","k","t","T"]),r}return ft(n,[{key:"parse",value:function(s,i,o){switch(i){case"h":return ln(Tn.hour12h,s);case"ho":return o.ordinalNumber(s,{unit:"hour"});default:return xn(i.length,s)}}},{key:"validate",value:function(s,i){return i>=1&&i<=12}},{key:"set",value:function(s,i,o){var l=s.getUTCHours()>=12;return l&&o<12?s.setUTCHours(o+12,0,0,0):!l&&o===12?s.setUTCHours(0,0,0,0):s.setUTCHours(o,0,0,0),s}}]),n}(Pt),tce=function(t){bt(n,t);var e=wt(n);function n(){var r;ht(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),Pe(Ne(r),"priority",70),Pe(Ne(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return ft(n,[{key:"parse",value:function(s,i,o){switch(i){case"H":return ln(Tn.hour23h,s);case"Ho":return o.ordinalNumber(s,{unit:"hour"});default:return xn(i.length,s)}}},{key:"validate",value:function(s,i){return i>=0&&i<=23}},{key:"set",value:function(s,i,o){return s.setUTCHours(o,0,0,0),s}}]),n}(Pt),nce=function(t){bt(n,t);var e=wt(n);function n(){var r;ht(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),Pe(Ne(r),"priority",70),Pe(Ne(r),"incompatibleTokens",["h","H","k","t","T"]),r}return ft(n,[{key:"parse",value:function(s,i,o){switch(i){case"K":return ln(Tn.hour11h,s);case"Ko":return o.ordinalNumber(s,{unit:"hour"});default:return xn(i.length,s)}}},{key:"validate",value:function(s,i){return i>=0&&i<=11}},{key:"set",value:function(s,i,o){var l=s.getUTCHours()>=12;return l&&o<12?s.setUTCHours(o+12,0,0,0):s.setUTCHours(o,0,0,0),s}}]),n}(Pt),rce=function(t){bt(n,t);var e=wt(n);function n(){var r;ht(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),Pe(Ne(r),"priority",70),Pe(Ne(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return ft(n,[{key:"parse",value:function(s,i,o){switch(i){case"k":return ln(Tn.hour24h,s);case"ko":return o.ordinalNumber(s,{unit:"hour"});default:return xn(i.length,s)}}},{key:"validate",value:function(s,i){return i>=1&&i<=24}},{key:"set",value:function(s,i,o){var l=o<=24?o%24:o;return s.setUTCHours(l,0,0,0),s}}]),n}(Pt),sce=function(t){bt(n,t);var e=wt(n);function n(){var r;ht(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),Pe(Ne(r),"priority",60),Pe(Ne(r),"incompatibleTokens",["t","T"]),r}return ft(n,[{key:"parse",value:function(s,i,o){switch(i){case"m":return ln(Tn.minute,s);case"mo":return o.ordinalNumber(s,{unit:"minute"});default:return xn(i.length,s)}}},{key:"validate",value:function(s,i){return i>=0&&i<=59}},{key:"set",value:function(s,i,o){return s.setUTCMinutes(o,0,0),s}}]),n}(Pt),ice=function(t){bt(n,t);var e=wt(n);function n(){var r;ht(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),Pe(Ne(r),"priority",50),Pe(Ne(r),"incompatibleTokens",["t","T"]),r}return ft(n,[{key:"parse",value:function(s,i,o){switch(i){case"s":return ln(Tn.second,s);case"so":return o.ordinalNumber(s,{unit:"second"});default:return xn(i.length,s)}}},{key:"validate",value:function(s,i){return i>=0&&i<=59}},{key:"set",value:function(s,i,o){return s.setUTCSeconds(o,0),s}}]),n}(Pt),oce=function(t){bt(n,t);var e=wt(n);function n(){var r;ht(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),Pe(Ne(r),"priority",30),Pe(Ne(r),"incompatibleTokens",["t","T"]),r}return ft(n,[{key:"parse",value:function(s,i){var o=function(c){return Math.floor(c*Math.pow(10,-i.length+3))};return En(xn(i.length,s),o)}},{key:"set",value:function(s,i,o){return s.setUTCMilliseconds(o),s}}]),n}(Pt),ace=function(t){bt(n,t);var e=wt(n);function n(){var r;ht(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),Pe(Ne(r),"priority",10),Pe(Ne(r),"incompatibleTokens",["t","T","x"]),r}return ft(n,[{key:"parse",value:function(s,i){switch(i){case"X":return fi(hi.basicOptionalMinutes,s);case"XX":return fi(hi.basic,s);case"XXXX":return fi(hi.basicOptionalSeconds,s);case"XXXXX":return fi(hi.extendedOptionalSeconds,s);case"XXX":default:return fi(hi.extended,s)}}},{key:"set",value:function(s,i,o){return i.timestampIsSet?s:new Date(s.getTime()-o)}}]),n}(Pt),lce=function(t){bt(n,t);var e=wt(n);function n(){var r;ht(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),Pe(Ne(r),"priority",10),Pe(Ne(r),"incompatibleTokens",["t","T","X"]),r}return ft(n,[{key:"parse",value:function(s,i){switch(i){case"x":return fi(hi.basicOptionalMinutes,s);case"xx":return fi(hi.basic,s);case"xxxx":return fi(hi.basicOptionalSeconds,s);case"xxxxx":return fi(hi.extendedOptionalSeconds,s);case"xxx":default:return fi(hi.extended,s)}}},{key:"set",value:function(s,i,o){return i.timestampIsSet?s:new Date(s.getTime()-o)}}]),n}(Pt),cce=function(t){bt(n,t);var e=wt(n);function n(){var r;ht(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),Pe(Ne(r),"priority",40),Pe(Ne(r),"incompatibleTokens","*"),r}return ft(n,[{key:"parse",value:function(s){return i4(s)}},{key:"set",value:function(s,i,o){return[new Date(o*1e3),{timestampIsSet:!0}]}}]),n}(Pt),uce=function(t){bt(n,t);var e=wt(n);function n(){var r;ht(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),Pe(Ne(r),"priority",20),Pe(Ne(r),"incompatibleTokens","*"),r}return ft(n,[{key:"parse",value:function(s){return i4(s)}},{key:"set",value:function(s,i,o){return[new Date(o),{timestampIsSet:!0}]}}]),n}(Pt),dce={G:new Rle,y:new Ple,Y:new Ale,R:new Nle,u:new Dle,Q:new jle,q:new Mle,M:new Ole,L:new Lle,w:new Fle,I:new Ble,d:new Wle,D:new Hle,E:new qle,e:new Gle,c:new Yle,i:new Qle,a:new Xle,b:new Jle,B:new Zle,h:new ece,H:new tce,K:new nce,k:new rce,m:new sce,s:new ice,S:new oce,X:new ace,x:new lce,t:new cce,T:new uce},hce=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,fce=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,pce=/^'([^]*?)'?$/,mce=/''/g,gce=/\S/,vce=/[a-zA-Z]/;function Qn(t,e,n,r){var s,i,o,l,c,u,d,h,p,m,v,g,b,x,_,w,I,N;_e(3,arguments);var R=String(t),S=String(e),E=Oi(),C=(s=(i=r==null?void 0:r.locale)!==null&&i!==void 0?i:E.locale)!==null&&s!==void 0?s:ZC;if(!C.match)throw new RangeError("locale must contain match property");var k=_t((o=(l=(c=(u=r==null?void 0:r.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(d=r.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&c!==void 0?c:E.firstWeekContainsDate)!==null&&l!==void 0?l:(p=E.locale)===null||p===void 0||(m=p.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(k>=1&&k<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var A=_t((v=(g=(b=(x=r==null?void 0:r.weekStartsOn)!==null&&x!==void 0?x:r==null||(_=r.locale)===null||_===void 0||(w=_.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&b!==void 0?b:E.weekStartsOn)!==null&&g!==void 0?g:(I=E.locale)===null||I===void 0||(N=I.options)===null||N===void 0?void 0:N.weekStartsOn)!==null&&v!==void 0?v:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(S==="")return R===""?Ce(n):new Date(NaN);var M={firstWeekContainsDate:k,weekStartsOn:A,locale:C},P=[new kle],O=S.match(fce).map(function(ie){var re=ie[0];if(re in jb){var ge=jb[re];return ge(ie,C.formatLong)}return ie}).join("").match(hce),V=[],B=fR(O),z;try{var U=function(){var re=z.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&ZL(re)&&Zg(re,S,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&JL(re)&&Zg(re,S,t);var ge=re[0],ee=dce[ge];if(ee){var Y=ee.incompatibleTokens;if(Array.isArray(Y)){var W=V.find(function(le){return Y.includes(le.token)||le.token===ge});if(W)throw new RangeError("The format string mustn't contain `".concat(W.fullToken,"` and `").concat(re,"` at the same time"))}else if(ee.incompatibleTokens==="*"&&V.length>0)throw new RangeError("The format string mustn't contain `".concat(re,"` and any other token at the same time"));V.push({token:ge,fullToken:re});var Z=ee.run(R,re,C.match,M);if(!Z)return{v:new Date(NaN)};P.push(Z.setter),R=Z.rest}else{if(ge.match(vce))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ge+"`");if(re==="''"?re="'":ge==="'"&&(re=yce(re)),R.indexOf(re)===0)R=R.slice(re.length);else return{v:new Date(NaN)}}};for(B.s();!(z=B.n()).done;){var F=U();if(fo(F)==="object")return F.v}}catch(ie){B.e(ie)}finally{B.f()}if(R.length>0&&gce.test(R))return new Date(NaN);var L=P.map(function(ie){return ie.priority}).sort(function(ie,re){return re-ie}).filter(function(ie,re,ge){return ge.indexOf(ie)===re}).map(function(ie){return P.filter(function(re){return re.priority===ie}).sort(function(re,ge){return ge.subPriority-re.subPriority})}).map(function(ie){return ie[0]}),H=Ce(n);if(isNaN(H.getTime()))return new Date(NaN);var q=GL(H,Jg(H)),K={},te=fR(L),me;try{for(te.s();!(me=te.n()).done;){var Q=me.value;if(!Q.validate(q,M))return new Date(NaN);var ce=Q.set(q,K,M);Array.isArray(ce)?(q=ce[0],Cle(K,ce[1])):q=ce}}catch(ie){te.e(ie)}finally{te.f()}return q}function yce(t){return t.match(pce)[1].replace(mce,"'")}function xce(t,e){_e(2,arguments);var n=Ce(t),r=_t(e);return n.setDate(r),n}function _ce(t,e){_e(2,arguments);var n=Ce(t),r=_t(e);return n.setHours(r),n}function bce(t,e){_e(2,arguments);var n=Ce(t),r=_t(e);return n.setMinutes(r),n}function wce(t,e){_e(2,arguments);var n=Ce(t),r=_t(e),s=n.getFullYear(),i=n.getDate(),o=new Date(0);o.setFullYear(s,r,15),o.setHours(0,0,0,0);var l=t4(o);return n.setMonth(r,Math.min(i,l)),n}function Cce(t,e){_e(2,arguments);var n=Ce(t),r=_t(e);return n.setSeconds(r),n}function Tce(t,e){_e(2,arguments);var n=Ce(t),r=_t(e);return n.setMilliseconds(r),n}function Ece(t,e){_e(2,arguments);var n=Ce(t),r=_t(e);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function pR(t){_e(1,arguments);var e=Ce(t);return e.setDate(1),e.setHours(0,0,0,0),e}function Xp(t){_e(1,arguments);var e=Ce(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Sce(t,e){var n;_e(1,arguments);var r=_t((n=void 0)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var s=Pce(t),i;if(s.date){var o=Ace(s.date,r);i=Nce(o.restDateString,o.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var l=i.getTime(),c=0,u;if(s.time&&(c=Dce(s.time),isNaN(c)))return new Date(NaN);if(s.timezone){if(u=jce(s.timezone),isNaN(u))return new Date(NaN)}else{var d=new Date(l+c),h=new Date(0);return h.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),h.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),h}return new Date(l+c+u)}var Jp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Ice=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,kce=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Rce=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Pce(t){var e={},n=t.split(Jp.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Jp.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Jp.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var s=Jp.timezone.exec(r);s?(e.time=r.replace(s[1],""),e.timezone=s[1]):e.time=r}return e}function Ace(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:t.slice((r[1]||r[2]).length)}}function Nce(t,e){if(e===null)return new Date(NaN);var n=t.match(Ice);if(!n)return new Date(NaN);var r=!!n[4],s=Ad(n[1]),i=Ad(n[2])-1,o=Ad(n[3]),l=Ad(n[4]),c=Ad(n[5])-1;if(r)return Fce(e,l,c)?Mce(e,l,c):new Date(NaN);var u=new Date(0);return!Lce(e,i,o)||!$ce(e,s)?new Date(NaN):(u.setUTCFullYear(e,i,Math.max(s,o)),u)}function Ad(t){return t?parseInt(t):1}function Dce(t){var e=t.match(kce);if(!e)return NaN;var n=Ix(e[1]),r=Ix(e[2]),s=Ix(e[3]);return Vce(n,r,s)?n*Yy+r*Gy+s*1e3:NaN}function Ix(t){return t&&parseFloat(t.replace(",","."))||0}function jce(t){if(t==="Z")return 0;var e=t.match(Rce);if(!e)return 0;var n=e[1]==="+"?-1:1,r=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return Bce(r,s)?n*(r*Yy+s*Gy):NaN}function Mce(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var s=r.getUTCDay()||7,i=(e-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}var Oce=[31,null,31,30,31,30,31,31,30,31,30,31];function l4(t){return t%400===0||t%4===0&&t%100!==0}function Lce(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(Oce[e]||(l4(t)?29:28))}function $ce(t,e){return e>=1&&e<=(l4(t)?366:365)}function Fce(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function Vce(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function Bce(t,e){return e>=0&&e<=59}function Uce(t,e){var n,r;_e(1,arguments);var s=Ce(t);if(isNaN(s.getTime()))throw new RangeError("Invalid time value");var i=String((n=e==null?void 0:e.format)!==null&&n!==void 0?n:"extended"),o=String((r=e==null?void 0:e.representation)!==null&&r!==void 0?r:"complete");if(i!=="extended"&&i!=="basic")throw new RangeError("format must be 'extended' or 'basic'");if(o!=="date"&&o!=="time"&&o!=="complete")throw new RangeError("representation must be 'date', 'time', or 'complete'");var l="",c="",u=i==="extended"?"-":"",d=i==="extended"?":":"";if(o!=="time"){var h=nt(s.getDate(),2),p=nt(s.getMonth()+1,2),m=nt(s.getFullYear(),4);l="".concat(m).concat(u).concat(p).concat(u).concat(h)}if(o!=="date"){var v=s.getTimezoneOffset();if(v!==0){var g=Math.abs(v),b=nt(Math.floor(g/60),2),x=nt(g%60,2),_=v<0?"+":"-";c="".concat(_).concat(b,":").concat(x)}else c="Z";var w=nt(s.getHours(),2),I=nt(s.getMinutes(),2),N=nt(s.getSeconds(),2),R=l===""?"":"T",S=[w,I,N].join(d);l="".concat(l).concat(R).concat(S).concat(c)}return l}function zce(t,e){_e(2,arguments);var n=Ce(t).getTime(),r=Ce(e.start).getTime(),s=Ce(e.end).getTime();if(!(r<=s))throw new RangeError("Invalid interval");return n>=r&&n<=s}var Mb={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(c,u){switch(c){case"P":return u.date({width:"short"});case"PP":return u.date({width:"medium"});case"PPP":return u.date({width:"long"});case"PPPP":default:return u.date({width:"full"})}},r=function(c,u){switch(c){case"p":return u.time({width:"short"});case"pp":return u.time({width:"medium"});case"ppp":return u.time({width:"long"});case"pppp":default:return u.time({width:"full"})}},s=function(c,u){var d=c.match(/(P+)(p+)?/)||[],h=d[1],p=d[2];if(!p)return n(c,u);var m;switch(h){case"P":m=u.dateTime({width:"short"});break;case"PP":m=u.dateTime({width:"medium"});break;case"PPP":m=u.dateTime({width:"long"});break;case"PPPP":default:m=u.dateTime({width:"full"});break}return m.replace("{{date}}",n(h,u)).replace("{{time}}",r(p,u))},i={p:r,P:s},o=i;e.default=o,t.exports=e.default})(Mb,Mb.exports);var Wce=Mb.exports;const Hce=Lb(Wce),qce={y:{sectionType:"year",contentType:"digit",maxLength:4},yy:"year",yyy:{sectionType:"year",contentType:"digit",maxLength:4},yyyy:"year",M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMMM:{sectionType:"month",contentType:"letter"},MMM:{sectionType:"month",contentType:"letter"},L:{sectionType:"month",contentType:"digit",maxLength:2},LL:"month",LLL:{sectionType:"month",contentType:"letter"},LLLL:{sectionType:"month",contentType:"letter"},d:{sectionType:"day",contentType:"digit",maxLength:2},dd:"day",do:{sectionType:"day",contentType:"digit-with-letter"},E:{sectionType:"weekDay",contentType:"letter"},EE:{sectionType:"weekDay",contentType:"letter"},EEE:{sectionType:"weekDay",contentType:"letter"},EEEE:{sectionType:"weekDay",contentType:"letter"},EEEEE:{sectionType:"weekDay",contentType:"letter"},i:{sectionType:"weekDay",contentType:"digit",maxLength:1},ii:"weekDay",iii:{sectionType:"weekDay",contentType:"letter"},iiii:{sectionType:"weekDay",contentType:"letter"},e:{sectionType:"weekDay",contentType:"digit",maxLength:1},ee:"weekDay",eee:{sectionType:"weekDay",contentType:"letter"},eeee:{sectionType:"weekDay",contentType:"letter"},eeeee:{sectionType:"weekDay",contentType:"letter"},eeeeee:{sectionType:"weekDay",contentType:"letter"},c:{sectionType:"weekDay",contentType:"digit",maxLength:1},cc:"weekDay",ccc:{sectionType:"weekDay",contentType:"letter"},cccc:{sectionType:"weekDay",contentType:"letter"},ccccc:{sectionType:"weekDay",contentType:"letter"},cccccc:{sectionType:"weekDay",contentType:"letter"},a:"meridiem",aa:"meridiem",aaa:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},Gce={year:"yyyy",month:"LLLL",monthShort:"MMM",dayOfMonth:"d",weekday:"EEEE",weekdayShort:"EEEEEE",hours24h:"HH",hours12h:"hh",meridiem:"aa",minutes:"mm",seconds:"ss",fullDate:"PP",fullDateWithWeekday:"PPPP",keyboardDate:"P",shortDate:"MMM d",normalDate:"d MMMM",normalDateWithWeekday:"EEE, MMM d",monthAndYear:"LLLL yyyy",monthAndDate:"MMMM d",fullTime:"p",fullTime12h:"hh:mm aa",fullTime24h:"HH:mm",fullDateTime:"PP p",fullDateTime12h:"PP hh:mm aa",fullDateTime24h:"PP HH:mm",keyboardDateTime:"P p",keyboardDateTime12h:"P hh:mm aa",keyboardDateTime24h:"P HH:mm"};class Yce{constructor(e){this.isMUIAdapter=!0,this.isTimezoneCompatible=!1,this.lib="date-fns",this.locale=void 0,this.formats=void 0,this.formatTokenMap=qce,this.escapedCharacters={start:"'",end:"'"},this.longFormatters=void 0,this.date=i=>typeof i>"u"?new Date:i===null?null:new Date(i),this.dateWithTimezone=i=>this.date(i),this.getTimezone=()=>"default",this.setTimezone=i=>i,this.toJsDate=i=>i,this.getCurrentLocaleCode=()=>{var i;return((i=this.locale)==null?void 0:i.code)||"en-US"},this.is12HourCycleInCurrentLocale=()=>this.locale?/a/.test(this.locale.formatLong.time({width:"short"})):!0,this.expandFormat=i=>{const o=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;return i.match(o).map(l=>{const c=l[0];if(c==="p"||c==="P"){const u=this.longFormatters[c];return u(l,this.locale.formatLong)}return l}).join("")},this.getFormatHelperText=i=>this.expandFormat(i).replace(/(aaa|aa|a)/g,"(a|p)m").toLocaleLowerCase(),this.isNull=i=>i===null,this.formatNumber=i=>i,this.getMeridiemText=i=>i==="am"?"AM":"PM";const{locale:n,formats:r,longFormatters:s}=e;this.locale=n,this.formats=j({},Gce,r),this.longFormatters=s}}class Kce extends Yce{constructor({locale:e,formats:n}={}){if(typeof ya!="function")throw new Error(["MUI: The `date-fns` package v3.x is not compatible with this adapter.","Please, install v2.x of the package or use the `AdapterDateFnsV3` instead."].join(`
`));super({locale:e??ZC,formats:n,longFormatters:Hce}),this.parseISO=r=>Sce(r),this.toISO=r=>Uce(r,{format:"extended"}),this.parse=(r,s)=>r===""?null:Qn(r,s,new Date,{locale:this.locale}),this.isValid=r=>qL(this.date(r)),this.format=(r,s)=>this.formatByString(r,this.formats[s]),this.formatByString=(r,s)=>Ht(r,s,{locale:this.locale}),this.getDiff=(r,s,i)=>{switch(i){case"years":return Zoe(r,this.date(s));case"quarters":return rae(r,this.date(s));case"months":return WL(r,this.date(s));case"weeks":return oae(r,this.date(s));case"days":return HL(r,this.date(s));case"hours":return lae(r,this.date(s));case"minutes":return cae(r,this.date(s));case"seconds":return uae(r,this.date(s));default:return Ky(r,this.date(s))}},this.isEqual=(r,s)=>r===null&&s===null?!0:yle(r,s),this.isSameYear=(r,s)=>xle(r,s),this.isSameMonth=(r,s)=>_le(r,s),this.isSameDay=(r,s)=>n4(r,s),this.isSameHour=(r,s)=>ble(r,s),this.isAfter=(r,s)=>Ys(r,s),this.isAfterYear=(r,s)=>Ys(r,Sx(s)),this.isAfterDay=(r,s)=>Ys(r,Nb(s)),this.isBefore=(r,s)=>Sr(r,s),this.isBeforeYear=(r,s)=>Sr(r,Xp(s)),this.isBeforeDay=(r,s)=>Sr(r,jl(s)),this.isWithinRange=(r,[s,i])=>zce(r,{start:s,end:i}),this.startOfYear=r=>Xp(r),this.startOfMonth=r=>pR(r),this.startOfWeek=r=>fl(r,{locale:this.locale}),this.startOfDay=r=>jl(r),this.endOfYear=r=>Sx(r),this.endOfMonth=r=>Db(r),this.endOfWeek=r=>Ex(r,{locale:this.locale}),this.endOfDay=r=>Nb(r),this.addYears=(r,s)=>iR(r,s),this.addMonths=(r,s)=>Mm(r,s),this.addWeeks=(r,s)=>Xoe(r,s),this.addDays=(r,s)=>ya(r,s),this.addHours=(r,s)=>Qoe(r,s),this.addMinutes=(r,s)=>vi(r,s),this.addSeconds=(r,s)=>Goe(r,s),this.getYear=r=>vle(r),this.getMonth=r=>ule(r),this.getDate=r=>ale(r),this.getHours=r=>lle(r),this.getMinutes=r=>cle(r),this.getSeconds=r=>dle(r),this.getMilliseconds=r=>hle(r),this.setYear=(r,s)=>Ece(r,s),this.setMonth=(r,s)=>wce(r,s),this.setDate=(r,s)=>xce(r,s),this.setHours=(r,s)=>_ce(r,s),this.setMinutes=(r,s)=>bce(r,s),this.setSeconds=(r,s)=>Cce(r,s),this.setMilliseconds=(r,s)=>Tce(r,s),this.getDaysInMonth=r=>t4(r),this.getNextMonth=r=>Mm(r,1),this.getPreviousMonth=r=>Mm(r,-1),this.getMonthArray=r=>{const i=[Xp(r)];for(;i.length<12;){const o=i[i.length-1];i.push(this.getNextMonth(o))}return i},this.mergeDateAndTime=(r,s)=>this.setSeconds(this.setMinutes(this.setHours(r,this.getHours(s)),this.getMinutes(s)),this.getSeconds(s)),this.getWeekdays=()=>{const r=new Date;return dae({start:fl(r,{locale:this.locale}),end:Ex(r,{locale:this.locale})}).map(s=>this.formatByString(s,"EEEEEE"))},this.getWeekArray=r=>{const s=fl(pR(r),{locale:this.locale}),i=Ex(Db(r),{locale:this.locale});let o=0,l=s;const c=[];for(;Sr(l,i);){const u=Math.floor(o/7);c[u]=c[u]||[],c[u].push(l),l=ya(l,1),o+=1}return c},this.getWeekNumber=r=>gle(r,{locale:this.locale}),this.getYearRange=(r,s)=>{const i=Xp(r),o=Sx(s),l=[];let c=i;for(;Sr(c,o);)l.push(c),c=iR(c,1);return l}}}const Qce=["localeText"],Ob=y.createContext(null),Xce=function(e){var n;const{localeText:r}=e,s=oe(e,Qce),{utils:i,localeText:o}=(n=y.useContext(Ob))!=null?n:{utils:void 0,localeText:void 0},l=Os({props:s,name:"MuiLocalizationProvider"}),{children:c,dateAdapter:u,dateFormats:d,dateLibInstance:h,adapterLocale:p,localeText:m}=l,v=y.useMemo(()=>j({},m,o,r),[m,o,r]),g=y.useMemo(()=>{if(!u)return i||null;const _=new u({locale:p,formats:d,instance:h});if(!_.isMUIAdapter)throw new Error(["MUI: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join(`
`));return _},[u,p,d,h,i]),b=y.useMemo(()=>g?{minDate:g.date("1900-01-01T00:00:00.000"),maxDate:g.date("2099-12-31T00:00:00.000")}:null,[g]),x=y.useMemo(()=>({utils:g,defaultDates:b,localeText:v}),[b,g,v]);return a.jsx(Ob.Provider,{value:x,children:c})};function Jce(t){return typeof t=="string"}function Zce(t,e,n){return t===void 0||Jce(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function eue(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function tue(t,e,n){return typeof t=="function"?t(e,n):t}function nue(...t){const e=y.useRef(void 0),n=y.useCallback(r=>{const s=t.map(i=>{if(i==null)return null;if(typeof i=="function"){const o=i,l=o(r);return typeof l=="function"?l:()=>{o(null)}}return i.current=r,()=>{i.current=null}});return()=>{s.forEach(i=>i==null?void 0:i())}},t);return y.useMemo(()=>t.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=n(r))},t)}function mR(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function rue(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:s,className:i}=t;if(!e){const m=ue(n==null?void 0:n.className,i,s==null?void 0:s.className,r==null?void 0:r.className),v={...n==null?void 0:n.style,...s==null?void 0:s.style,...r==null?void 0:r.style},g={...n,...s,...r};return m.length>0&&(g.className=m),Object.keys(v).length>0&&(g.style=v),{props:g,internalRef:void 0}}const o=eue({...s,...r}),l=mR(r),c=mR(s),u=e(o),d=ue(u==null?void 0:u.className,n==null?void 0:n.className,i,s==null?void 0:s.className,r==null?void 0:r.className),h={...u==null?void 0:u.style,...n==null?void 0:n.style,...s==null?void 0:s.style,...r==null?void 0:r.style},p={...u,...n,...c,...l};return d.length>0&&(p.className=d),Object.keys(h).length>0&&(p.style=h),{props:p,internalRef:u.ref}}function na(t){var h;const{elementType:e,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:s=!1,...i}=t,o=s?{}:tue(n,r),{props:l,internalRef:c}=rue({...i,externalSlotProps:o}),u=nue(c,o==null?void 0:o.ref,(h=t.additionalProps)==null?void 0:h.ref);return Zce(e,{...l,ref:u},r)}const nv=(t,e,n)=>{let r=e;return r=t.setHours(r,t.getHours(n)),r=t.setMinutes(r,t.getMinutes(n)),r=t.setSeconds(r,t.getSeconds(n)),r},xh=({date:t,disableFuture:e,disablePast:n,maxDate:r,minDate:s,isDateDisabled:i,utils:o,timezone:l})=>{const c=nv(o,o.dateWithTimezone(void 0,l),t);n&&o.isBefore(s,c)&&(s=c),e&&o.isAfter(r,c)&&(r=c);let u=t,d=t;for(o.isBefore(t,s)&&(u=s,d=null),o.isAfter(t,r)&&(d&&(d=r),u=null);u||d;){if(u&&o.isAfter(u,r)&&(u=null),d&&o.isBefore(d,s)&&(d=null),u){if(!i(u))return u;u=o.addDays(u,1)}if(d){if(!i(d))return d;d=o.addDays(d,-1)}}return null},sue=(t,e)=>e==null||!t.isValid(e)?null:e,Sa=(t,e,n)=>e==null||!t.isValid(e)?n:e,iue=(t,e,n)=>!t.isValid(e)&&e!=null&&!t.isValid(n)&&n!=null?!0:t.isEqual(e,n),oue=(t,e)=>{const r=[t.startOfYear(e)];for(;r.length<12;){const s=r[r.length-1];r.push(t.addMonths(s,1))}return r},c4=(t,e,n)=>n==="date"?t.startOfDay(t.dateWithTimezone(void 0,e)):t.dateWithTimezone(void 0,e),aue=(t,e)=>{const n=t.startOfWeek(e);return[0,1,2,3,4,5,6].map(r=>t.addDays(n,r))},lue=({props:t,value:e,adapter:n})=>{if(e===null)return null;const{shouldDisableDate:r,shouldDisableMonth:s,shouldDisableYear:i,disablePast:o,disableFuture:l,timezone:c}=t,u=n.utils.dateWithTimezone(void 0,c),d=Sa(n.utils,t.minDate,n.defaultDates.minDate),h=Sa(n.utils,t.maxDate,n.defaultDates.maxDate);switch(!0){case!n.utils.isValid(e):return"invalidDate";case!!(r&&r(e)):return"shouldDisableDate";case!!(s&&s(e)):return"shouldDisableMonth";case!!(i&&i(e)):return"shouldDisableYear";case!!(l&&n.utils.isAfterDay(e,u)):return"disableFuture";case!!(o&&n.utils.isBeforeDay(e,u)):return"disablePast";case!!(d&&n.utils.isBeforeDay(e,d)):return"minDate";case!!(h&&n.utils.isAfterDay(e,h)):return"maxDate";default:return null}},cue=t=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:j({},t)}}}}),u4={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"open previous view",openNextView:"open next view",calendarViewSwitchingButtonAriaLabel:t=>t==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",clockLabelText:(t,e,n)=>`Select ${t}. ${e===null?"No time selected":`Selected time is ${n.format(e,"fullTime")}`}`,hoursClockNumberText:t=>`${t} hours`,minutesClockNumberText:t=>`${t} minutes`,secondsClockNumberText:t=>`${t} seconds`,selectViewText:t=>`Select ${t}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:t=>`Week ${t}`,calendarWeekNumberText:t=>`${t}`,openDatePickerDialogue:(t,e)=>t!==null&&e.isValid(t)?`Choose date, selected date is ${e.format(t,"fullDate")}`:"Choose date",openTimePickerDialogue:(t,e)=>t!==null&&e.isValid(t)?`Choose time, selected time is ${e.format(t,"fullTime")}`:"Choose time",fieldClearLabel:"Clear value",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:t=>"Y".repeat(t.digitAmount),fieldMonthPlaceholder:t=>t.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:t=>t.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa"},uue=u4;cue(u4);const Qy=()=>{const t=y.useContext(Ob);if(t===null)throw new Error(["MUI: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(t.utils===null)throw new Error(["MUI: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const e=y.useMemo(()=>j({},uue,t.localeText),[t.localeText]);return y.useMemo(()=>j({},t,{localeText:e}),[t,e])},jr=()=>Qy().utils,nT=()=>Qy().defaultDates,d4=()=>Qy().localeText,Xy=t=>{const e=jr(),n=y.useRef();return n.current===void 0&&(n.current=e.dateWithTimezone(void 0,t)),n.current},h4=({shouldDisableDate:t,shouldDisableMonth:e,shouldDisableYear:n,minDate:r,maxDate:s,disableFuture:i,disablePast:o,timezone:l})=>{const c=Qy();return y.useCallback(u=>lue({adapter:c,value:u,props:{shouldDisableDate:t,shouldDisableMonth:e,shouldDisableYear:n,minDate:r,maxDate:s,disableFuture:i,disablePast:o,timezone:l}})!==null,[c,t,e,n,r,s,i,o,l])},gR=(t,e)=>e.getHours(t)*3600+e.getMinutes(t)*60+e.getSeconds(t),due=(t,e)=>(n,r)=>t?e.isAfter(n,r):gR(n,e)>gR(r,e),zi={year:1,month:2,day:3,minutes:5,seconds:6,milliseconds:7},Nd=(t,e,n)=>{if(e===zi.year)return t.startOfYear(n);if(e===zi.month)return t.startOfMonth(n);if(e===zi.day)return t.startOfDay(n);let r=n;return e<zi.minutes&&(r=t.setMinutes(r,0)),e<zi.seconds&&(r=t.setSeconds(r,0)),e<zi.milliseconds&&(r=t.setMilliseconds(r,0)),r},hue=({props:t,utils:e,granularity:n,timezone:r,getTodayDate:s})=>{var i;let o=s?s():Nd(e,n,c4(e,r));t.minDate!=null&&e.isAfterDay(t.minDate,o)&&(o=Nd(e,n,t.minDate)),t.maxDate!=null&&e.isBeforeDay(t.maxDate,o)&&(o=Nd(e,n,t.maxDate));const l=due((i=t.disableIgnoringDatePartForTimeValidation)!=null?i:!1,e);return t.minTime!=null&&l(t.minTime,o)&&(o=Nd(e,n,t.disableIgnoringDatePartForTimeValidation?t.minTime:nv(e,o,t.minTime))),t.maxTime!=null&&l(o,t.maxTime)&&(o=Nd(e,n,t.disableIgnoringDatePartForTimeValidation?t.maxTime:nv(e,o,t.maxTime))),o},fue=["value","referenceDate"],Tu={emptyValue:null,getTodayValue:c4,getInitialReferenceValue:t=>{let{value:e,referenceDate:n}=t,r=oe(t,fue);return e!=null&&r.utils.isValid(e)?e:n??hue(r)},cleanValue:sue,areValuesEqual:iue,isSameError:(t,e)=>t===e,hasError:t=>t!=null,defaultErrorState:null,getTimezone:(t,e)=>e==null||!t.isValid(e)?null:t.getTimezone(e),setTimezone:(t,e,n)=>n==null?null:t.setTimezone(n,e)},pue=(t,e,n)=>(r,s)=>{switch(s.type){case"changeMonth":return j({},r,{slideDirection:s.direction,currentMonth:s.newMonth,isMonthSwitchingAnimating:!t});case"finishMonthSwitchingAnimation":return j({},r,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(r.focusedDay!=null&&s.focusedDay!=null&&n.isSameDay(s.focusedDay,r.focusedDay))return r;const i=s.focusedDay!=null&&!e&&!n.isSameMonth(r.currentMonth,s.focusedDay);return j({},r,{focusedDay:s.focusedDay,isMonthSwitchingAnimating:i&&!t&&!s.withoutMonthSwitchingAnimation,currentMonth:i?n.startOfMonth(s.focusedDay):r.currentMonth,slideDirection:s.focusedDay!=null&&n.isAfterDay(s.focusedDay,r.currentMonth)?"left":"right"})}default:throw new Error("missing support")}},mue=t=>{const{value:e,referenceDate:n,defaultCalendarMonth:r,disableFuture:s,disablePast:i,disableSwitchToMonthOnDayFocus:o=!1,maxDate:l,minDate:c,onMonthChange:u,reduceAnimations:d,shouldDisableDate:h,timezone:p}=t,m=jr(),v=y.useRef(pue(!!d,o,m)).current,g=y.useMemo(()=>{let S=null;return n?S=n:r&&(S=m.startOfMonth(r)),Tu.getInitialReferenceValue({value:e,utils:m,timezone:p,props:t,referenceDate:S,granularity:zi.day})},[]),[b,x]=y.useReducer(v,{isMonthSwitchingAnimating:!1,focusedDay:g,currentMonth:m.startOfMonth(g),slideDirection:"left"}),_=y.useCallback(S=>{x(j({type:"changeMonth"},S)),u&&u(S.newMonth)},[u]),w=y.useCallback(S=>{const E=S;m.isSameMonth(E,b.currentMonth)||_({newMonth:m.startOfMonth(E),direction:m.isAfterDay(E,b.currentMonth)?"left":"right"})},[b.currentMonth,_,m]),I=h4({shouldDisableDate:h,minDate:c,maxDate:l,disableFuture:s,disablePast:i,timezone:p}),N=y.useCallback(()=>{x({type:"finishMonthSwitchingAnimation"})},[]),R=ct((S,E)=>{I(S)||x({type:"changeFocusedDay",focusedDay:S,withoutMonthSwitchingAnimation:E})});return{referenceDate:g,calendarState:b,changeMonth:w,changeFocusedDay:R,isDateDisabled:I,onMonthSwitchingAnimationEnd:N,handleChangeMonth:_}},gue=t=>Ee("MuiPickersFadeTransitionGroup",t);Se("MuiPickersFadeTransitionGroup",["root"]);const vue=t=>{const{classes:e}=t;return Re({root:["root"]},gue,e)},yue=X(qf,{name:"MuiPickersFadeTransitionGroup",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"block",position:"relative"});function f4(t){const e=Os({props:t,name:"MuiPickersFadeTransitionGroup"}),{children:n,className:r,reduceAnimations:s,transKey:i}=e,o=vue(e),l=Di();return s?n:a.jsx(yue,{className:ue(o.root,r),children:a.jsx(Kf,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:l.transitions.duration.enteringScreen,enter:l.transitions.duration.enteringScreen,exit:0},children:n},i)})}const hf=36,Jy=2,rT=320,xue=280,p4=334;function _ue(t){return Ee("MuiPickersDay",t)}const Ha=Se("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),bue=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today","isFirstVisibleCell","isLastVisibleCell"],wue=t=>{const{selected:e,disableMargin:n,disableHighlightToday:r,today:s,disabled:i,outsideCurrentMonth:o,showDaysOutsideCurrentMonth:l,classes:c}=t,u=o&&!l;return Re({root:["root",e&&!u&&"selected",i&&"disabled",!n&&"dayWithMargin",!r&&s&&"today",o&&l&&"dayOutsideMonth",u&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},_ue,c)},m4=({theme:t,ownerState:e})=>j({},t.typography.caption,{width:hf,height:hf,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:t.transitions.create("background-color",{duration:t.transitions.duration.short}),color:(t.vars||t).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ru(t.palette.primary.main,t.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.focusOpacity})`:ru(t.palette.primary.main,t.palette.action.focusOpacity),[`&.${Ha.selected}`]:{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}},[`&.${Ha.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,fontWeight:t.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}},[`&.${Ha.disabled}:not(.${Ha.selected})`]:{color:(t.vars||t).palette.text.disabled},[`&.${Ha.disabled}&.${Ha.selected}`]:{opacity:.6}},!e.disableMargin&&{margin:`0 ${Jy}px`},e.outsideCurrentMonth&&e.showDaysOutsideCurrentMonth&&{color:(t.vars||t).palette.text.secondary},!e.disableHighlightToday&&e.today&&{[`&:not(.${Ha.selected})`]:{border:`1px solid ${(t.vars||t).palette.text.secondary}`}}),g4=(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableMargin&&e.dayWithMargin,!n.disableHighlightToday&&n.today&&e.today,!n.outsideCurrentMonth&&n.showDaysOutsideCurrentMonth&&e.dayOutsideMonth,n.outsideCurrentMonth&&!n.showDaysOutsideCurrentMonth&&e.hiddenDaySpacingFiller]},Cue=X(Ea,{name:"MuiPickersDay",slot:"Root",overridesResolver:g4})(m4),Tue=X("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:g4})(({theme:t,ownerState:e})=>j({},m4({theme:t,ownerState:e}),{opacity:0,pointerEvents:"none"})),Dd=()=>{},Eue=y.forwardRef(function(e,n){const r=Os({props:e,name:"MuiPickersDay"}),{autoFocus:s=!1,className:i,day:o,disabled:l=!1,disableHighlightToday:c=!1,disableMargin:u=!1,isAnimating:d,onClick:h,onDaySelect:p,onFocus:m=Dd,onBlur:v=Dd,onKeyDown:g=Dd,onMouseDown:b=Dd,onMouseEnter:x=Dd,outsideCurrentMonth:_,selected:w=!1,showDaysOutsideCurrentMonth:I=!1,children:N,today:R=!1}=r,S=oe(r,bue),E=j({},r,{autoFocus:s,disabled:l,disableHighlightToday:c,disableMargin:u,selected:w,showDaysOutsideCurrentMonth:I,today:R}),C=wue(E),k=jr(),A=y.useRef(null),M=on(A,n);Pr(()=>{s&&!l&&!d&&!_&&A.current.focus()},[s,l,d,_]);const P=V=>{b(V),_&&V.preventDefault()},O=V=>{l||p(o),_&&V.currentTarget.focus(),h&&h(V)};return _&&!I?a.jsx(Tue,{className:ue(C.root,C.hiddenDaySpacingFiller,i),ownerState:E,role:S.role}):a.jsx(Cue,j({className:ue(C.root,i),ref:M,centerRipple:!0,disabled:l,tabIndex:w?0:-1,onKeyDown:V=>g(V,o),onFocus:V=>m(V,o),onBlur:V=>v(V,o),onMouseEnter:V=>x(V,o),onClick:O,onMouseDown:P},S,{ownerState:E,children:N||k.format(o,"dayOfMonth")}))}),Sue=y.memo(Eue),Iue=t=>Ee("MuiPickersSlideTransition",t),vs=Se("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),kue=["children","className","reduceAnimations","slideDirection","transKey","classes"],Rue=t=>{const{classes:e,slideDirection:n}=t,r={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${n}`],exitActive:[`slideExitActiveLeft-${n}`]};return Re(r,Iue,e)},Pue=X(qf,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(t,e)=>[e.root,{[`.${vs["slideEnter-left"]}`]:e["slideEnter-left"]},{[`.${vs["slideEnter-right"]}`]:e["slideEnter-right"]},{[`.${vs.slideEnterActive}`]:e.slideEnterActive},{[`.${vs.slideExit}`]:e.slideExit},{[`.${vs["slideExitActiveLeft-left"]}`]:e["slideExitActiveLeft-left"]},{[`.${vs["slideExitActiveLeft-right"]}`]:e["slideExitActiveLeft-right"]}]})(({theme:t})=>{const e=t.transitions.create("transform",{duration:t.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${vs["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${vs["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${vs.slideEnterActive}`]:{transform:"translate(0%)",transition:e},[`& .${vs.slideExit}`]:{transform:"translate(0%)"},[`& .${vs["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:e,zIndex:0},[`& .${vs["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:e,zIndex:0}}});function Aue(t){const e=Os({props:t,name:"MuiPickersSlideTransition"}),{children:n,className:r,reduceAnimations:s,transKey:i}=e,o=oe(e,kue),l=Rue(e),c=Di();if(s)return a.jsx("div",{className:ue(l.root,r),children:n});const u={exit:l.exit,enterActive:l.enterActive,enter:l.enter,exitActive:l.exitActive};return a.jsx(Pue,{className:ue(l.root,r),childFactory:d=>y.cloneElement(d,{classNames:u}),role:"presentation",children:a.jsx(PC,j({mountOnEnter:!0,unmountOnExit:!0,timeout:c.transitions.duration.complex,classNames:u},o,{children:n}),i)})}const Nue=t=>Ee("MuiDayCalendar",t);Se("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const Due=["parentProps","day","focusableDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],jue=["ownerState"],Mue=t=>{const{classes:e}=t;return Re({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},Nue,e)},v4=(hf+Jy*2)*6,Oue=X("div",{name:"MuiDayCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Lue=X("div",{name:"MuiDayCalendar",slot:"Header",overridesResolver:(t,e)=>e.header})({display:"flex",justifyContent:"center",alignItems:"center"}),$ue=X(ne,{name:"MuiDayCalendar",slot:"WeekDayLabel",overridesResolver:(t,e)=>e.weekDayLabel})(({theme:t})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(t.vars||t).palette.text.secondary})),Fue=X(ne,{name:"MuiDayCalendar",slot:"WeekNumberLabel",overridesResolver:(t,e)=>e.weekNumberLabel})(({theme:t})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:t.palette.text.disabled})),Vue=X(ne,{name:"MuiDayCalendar",slot:"WeekNumber",overridesResolver:(t,e)=>e.weekNumber})(({theme:t})=>j({},t.typography.caption,{width:hf,height:hf,padding:0,margin:`0 ${Jy}px`,color:t.palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),Bue=X("div",{name:"MuiDayCalendar",slot:"LoadingContainer",overridesResolver:(t,e)=>e.loadingContainer})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:v4}),Uue=X(Aue,{name:"MuiDayCalendar",slot:"SlideTransition",overridesResolver:(t,e)=>e.slideTransition})({minHeight:v4}),zue=X("div",{name:"MuiDayCalendar",slot:"MonthContainer",overridesResolver:(t,e)=>e.monthContainer})({overflow:"hidden"}),Wue=X("div",{name:"MuiDayCalendar",slot:"WeekContainer",overridesResolver:(t,e)=>e.weekContainer})({margin:`${Jy}px 0`,display:"flex",justifyContent:"center"});function Hue(t){var e,n,r;let{parentProps:s,day:i,focusableDay:o,selectedDays:l,isDateDisabled:c,currentMonthNumber:u,isViewFocused:d}=t,h=oe(t,Due);const{disabled:p,disableHighlightToday:m,isMonthSwitchingAnimating:v,showDaysOutsideCurrentMonth:g,components:b,componentsProps:x,slots:_,slotProps:w,timezone:I}=s,N=jr(),R=Xy(I),S=o!==null&&N.isSameDay(i,o),E=l.some(z=>N.isSameDay(z,i)),C=N.isSameDay(i,R),k=(e=(n=_==null?void 0:_.day)!=null?n:b==null?void 0:b.Day)!=null?e:Sue,A=na({elementType:k,externalSlotProps:(r=w==null?void 0:w.day)!=null?r:x==null?void 0:x.day,additionalProps:j({disableHighlightToday:m,showDaysOutsideCurrentMonth:g,role:"gridcell",isAnimating:v,"data-timestamp":N.toJsDate(i).valueOf()},h),ownerState:j({},s,{day:i,selected:E})}),M=oe(A,jue),P=y.useMemo(()=>p||c(i),[p,c,i]),O=y.useMemo(()=>N.getMonth(i)!==u,[N,i,u]),V=y.useMemo(()=>{const z=N.startOfMonth(N.setMonth(i,u));return g?N.isSameDay(i,N.startOfWeek(z)):N.isSameDay(i,z)},[u,i,g,N]),B=y.useMemo(()=>{const z=N.endOfMonth(N.setMonth(i,u));return g?N.isSameDay(i,N.endOfWeek(z)):N.isSameDay(i,z)},[u,i,g,N]);return a.jsx(k,j({},M,{day:i,disabled:P,autoFocus:d&&S,today:C,outsideCurrentMonth:O,isFirstVisibleCell:V,isLastVisibleCell:B,selected:E,tabIndex:S?0:-1,"aria-selected":E,"aria-current":C?"date":void 0}))}function que(t){const e=Os({props:t,name:"MuiDayCalendar"}),{onFocusedDayChange:n,className:r,currentMonth:s,selectedDays:i,focusedDay:o,loading:l,onSelectedDaysChange:c,onMonthSwitchingAnimationEnd:u,readOnly:d,reduceAnimations:h,renderLoading:p=()=>a.jsx("span",{children:"..."}),slideDirection:m,TransitionProps:v,disablePast:g,disableFuture:b,minDate:x,maxDate:_,shouldDisableDate:w,shouldDisableMonth:I,shouldDisableYear:N,dayOfWeekFormatter:R,hasFocus:S,onFocusedViewChange:E,gridLabelId:C,displayWeekNumber:k,fixedWeekNumber:A,autoFocus:M,timezone:P}=e,O=Xy(P),V=jr(),B=Mue(e),U=Di().direction==="rtl",F=R||((fe,ve)=>V.format(ve,"weekdayShort").charAt(0).toUpperCase()),L=h4({shouldDisableDate:w,shouldDisableMonth:I,shouldDisableYear:N,minDate:x,maxDate:_,disablePast:g,disableFuture:b,timezone:P}),H=d4(),[q,K]=ki({name:"DayCalendar",state:"hasFocus",controlled:S,default:M??!1}),[te,me]=y.useState(()=>o||O),Q=ct(fe=>{d||c(fe)}),ce=fe=>{L(fe)||(n(fe),me(fe),E==null||E(!0),K(!0))},ie=ct((fe,ve)=>{switch(fe.key){case"ArrowUp":ce(V.addDays(ve,-7)),fe.preventDefault();break;case"ArrowDown":ce(V.addDays(ve,7)),fe.preventDefault();break;case"ArrowLeft":{const Te=V.addDays(ve,U?1:-1),we=V.addMonths(ve,U?1:-1),qe=xh({utils:V,date:Te,minDate:U?Te:V.startOfMonth(we),maxDate:U?V.endOfMonth(we):Te,isDateDisabled:L,timezone:P});ce(qe||Te),fe.preventDefault();break}case"ArrowRight":{const Te=V.addDays(ve,U?-1:1),we=V.addMonths(ve,U?-1:1),qe=xh({utils:V,date:Te,minDate:U?V.startOfMonth(we):Te,maxDate:U?Te:V.endOfMonth(we),isDateDisabled:L,timezone:P});ce(qe||Te),fe.preventDefault();break}case"Home":ce(V.startOfWeek(ve)),fe.preventDefault();break;case"End":ce(V.endOfWeek(ve)),fe.preventDefault();break;case"PageUp":ce(V.addMonths(ve,1)),fe.preventDefault();break;case"PageDown":ce(V.addMonths(ve,-1)),fe.preventDefault();break}}),re=ct((fe,ve)=>ce(ve)),ge=ct((fe,ve)=>{q&&V.isSameDay(te,ve)&&(E==null||E(!1))}),ee=V.getMonth(s),Y=y.useMemo(()=>i.filter(fe=>!!fe).map(fe=>V.startOfDay(fe)),[V,i]),W=ee,Z=y.useMemo(()=>y.createRef(),[W]),le=V.startOfWeek(O),be=y.useMemo(()=>{const fe=V.startOfMonth(s),ve=V.endOfMonth(s);return L(te)||V.isAfterDay(te,ve)||V.isBeforeDay(te,fe)?xh({utils:V,date:te,minDate:fe,maxDate:ve,disablePast:g,disableFuture:b,isDateDisabled:L,timezone:P}):te},[s,b,g,te,L,V,P]),Be=y.useMemo(()=>{const fe=V.setTimezone(s,P),ve=V.getWeekArray(fe);let Te=V.addMonths(fe,1);for(;A&&ve.length<A;){const we=V.getWeekArray(Te),qe=V.isSameDay(ve[ve.length-1][0],we[0][0]);we.slice(qe?1:0).forEach(Ve=>{ve.length<A&&ve.push(Ve)}),Te=V.addMonths(Te,1)}return ve},[s,A,V,P]);return a.jsxs(Oue,{role:"grid","aria-labelledby":C,className:B.root,children:[a.jsxs(Lue,{role:"row",className:B.header,children:[k&&a.jsx(Fue,{variant:"caption",role:"columnheader","aria-label":H.calendarWeekNumberHeaderLabel,className:B.weekNumberLabel,children:H.calendarWeekNumberHeaderText}),aue(V,O).map((fe,ve)=>{var Te;const we=V.format(fe,"weekdayShort");return a.jsx($ue,{variant:"caption",role:"columnheader","aria-label":V.format(V.addDays(le,ve),"weekday"),className:B.weekDayLabel,children:(Te=F==null?void 0:F(we,fe))!=null?Te:we},we+ve.toString())})]}),l?a.jsx(Bue,{className:B.loadingContainer,children:p()}):a.jsx(Uue,j({transKey:W,onExited:u,reduceAnimations:h,slideDirection:m,className:ue(r,B.slideTransition)},v,{nodeRef:Z,children:a.jsx(zue,{ref:Z,role:"rowgroup",className:B.monthContainer,children:Be.map((fe,ve)=>a.jsxs(Wue,{role:"row",className:B.weekContainer,"aria-rowindex":ve+1,children:[k&&a.jsx(Vue,{className:B.weekNumber,role:"rowheader","aria-label":H.calendarWeekNumberAriaLabelText(V.getWeekNumber(fe[0])),children:H.calendarWeekNumberText(V.getWeekNumber(fe[0]))}),fe.map((Te,we)=>a.jsx(Hue,{parentProps:e,day:Te,selectedDays:Y,focusableDay:be,onKeyDown:ie,onFocus:re,onBlur:ge,onDaySelect:Q,isDateDisabled:L,currentMonthNumber:ee,isViewFocused:q,"aria-colindex":we+1},Te.toString()))]},`week-${fe[0]}`))})}))]})}function Gue(t){return Ee("MuiPickersMonth",t)}const Zp=Se("MuiPickersMonth",["root","monthButton","disabled","selected"]),Yue=["autoFocus","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","aria-label","monthsPerRow"],Kue=t=>{const{disabled:e,selected:n,classes:r}=t;return Re({root:["root"],monthButton:["monthButton",e&&"disabled",n&&"selected"]},Gue,r)},Que=X("div",{name:"MuiPickersMonth",slot:"Root",overridesResolver:(t,e)=>[e.root]})(({ownerState:t})=>({flexBasis:t.monthsPerRow===3?"33.3%":"25%",display:"flex",alignItems:"center",justifyContent:"center"})),Xue=X("button",{name:"MuiPickersMonth",slot:"MonthButton",overridesResolver:(t,e)=>[e.monthButton,{[`&.${Zp.disabled}`]:e.disabled},{[`&.${Zp.selected}`]:e.selected}]})(({theme:t})=>j({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:ru(t.palette.action.active,t.palette.action.hoverOpacity)},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:ru(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${Zp.disabled}`]:{color:(t.vars||t).palette.text.secondary},[`&.${Zp.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}})),Jue=y.memo(function(e){const n=Os({props:e,name:"MuiPickersMonth"}),{autoFocus:r,children:s,disabled:i,selected:o,value:l,tabIndex:c,onClick:u,onKeyDown:d,onFocus:h,onBlur:p,"aria-current":m,"aria-label":v}=n,g=oe(n,Yue),b=y.useRef(null),x=Kue(n);return Pr(()=>{if(r){var _;(_=b.current)==null||_.focus()}},[r]),a.jsx(Que,j({className:x.root,ownerState:n},g,{children:a.jsx(Xue,{ref:b,disabled:i,type:"button",role:"radio",tabIndex:i?-1:c,"aria-current":m,"aria-checked":o,"aria-label":v,onClick:_=>u(_,l),onKeyDown:_=>d(_,l),onFocus:_=>h(_,l),onBlur:_=>p(_,l),className:x.monthButton,ownerState:n,children:s})}))});function Zue(t){return Ee("MuiMonthCalendar",t)}Se("MuiMonthCalendar",["root"]);const ede=({timezone:t,value:e,defaultValue:n,onChange:r,valueManager:s})=>{var i,o;const l=jr(),c=y.useRef(n),u=(i=e??c.current)!=null?i:s.emptyValue,d=y.useMemo(()=>s.getTimezone(l,u),[l,s,u]),h=ct(g=>d==null?g:s.setTimezone(l,d,g)),p=(o=t??d)!=null?o:"default",m=y.useMemo(()=>s.setTimezone(l,p,u),[s,l,p,u]),v=ct((g,...b)=>{const x=h(g);r==null||r(x,...b)});return{value:m,handleValueChange:v,timezone:p}},sT=({name:t,timezone:e,value:n,defaultValue:r,onChange:s,valueManager:i})=>{const[o,l]=ki({name:t,state:"value",controlled:n,default:r??i.emptyValue}),c=ct((u,...d)=>{l(u),s==null||s(u,...d)});return ede({timezone:e,value:o,defaultValue:void 0,onChange:c,valueManager:i})},tde=["className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","autoFocus","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId"],nde=t=>{const{classes:e}=t;return Re({root:["root"]},Zue,e)};function rde(t,e){const n=jr(),r=nT(),s=Os({props:t,name:e});return j({disableFuture:!1,disablePast:!1},s,{minDate:Sa(n,s.minDate,r.minDate),maxDate:Sa(n,s.maxDate,r.maxDate)})}const sde=X("div",{name:"MuiMonthCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexWrap:"wrap",alignContent:"stretch",padding:"0 4px",width:rT,boxSizing:"border-box"}),ide=y.forwardRef(function(e,n){const r=rde(e,"MuiMonthCalendar"),{className:s,value:i,defaultValue:o,referenceDate:l,disabled:c,disableFuture:u,disablePast:d,maxDate:h,minDate:p,onChange:m,shouldDisableMonth:v,readOnly:g,disableHighlightToday:b,autoFocus:x=!1,onMonthFocus:_,hasFocus:w,onFocusedViewChange:I,monthsPerRow:N=3,timezone:R,gridLabelId:S}=r,E=oe(r,tde),{value:C,handleValueChange:k,timezone:A}=sT({name:"MonthCalendar",timezone:R,value:i,defaultValue:o,onChange:m,valueManager:Tu}),M=Xy(A),P=ju(),O=jr(),V=y.useMemo(()=>Tu.getInitialReferenceValue({value:C,utils:O,props:r,timezone:A,referenceDate:l,granularity:zi.month}),[]),B=r,z=nde(B),U=y.useMemo(()=>O.getMonth(M),[O,M]),F=y.useMemo(()=>C!=null?O.getMonth(C):b?null:O.getMonth(V),[C,O,b,V]),[L,H]=y.useState(()=>F||U),[q,K]=ki({name:"MonthCalendar",state:"hasFocus",controlled:w,default:x??!1}),te=ct(ee=>{K(ee),I&&I(ee)}),me=y.useCallback(ee=>{const Y=O.startOfMonth(d&&O.isAfter(M,p)?M:p),W=O.startOfMonth(u&&O.isBefore(M,h)?M:h),Z=O.startOfMonth(ee);return O.isBefore(Z,Y)||O.isAfter(Z,W)?!0:v?v(Z):!1},[u,d,h,p,M,v,O]),Q=ct((ee,Y)=>{if(g)return;const W=O.setMonth(C??V,Y);k(W)}),ce=ct(ee=>{me(O.setMonth(C??V,ee))||(H(ee),te(!0),_&&_(ee))});y.useEffect(()=>{H(ee=>F!==null&&ee!==F?F:ee)},[F]);const ie=ct((ee,Y)=>{switch(ee.key){case"ArrowUp":ce((12+Y-3)%12),ee.preventDefault();break;case"ArrowDown":ce((12+Y+3)%12),ee.preventDefault();break;case"ArrowLeft":ce((12+Y+(P.direction==="ltr"?-1:1))%12),ee.preventDefault();break;case"ArrowRight":ce((12+Y+(P.direction==="ltr"?1:-1))%12),ee.preventDefault();break}}),re=ct((ee,Y)=>{ce(Y)}),ge=ct((ee,Y)=>{L===Y&&te(!1)});return a.jsx(sde,j({ref:n,className:ue(z.root,s),ownerState:B,role:"radiogroup","aria-labelledby":S},E,{children:oue(O,C??V).map(ee=>{const Y=O.getMonth(ee),W=O.format(ee,"monthShort"),Z=O.format(ee,"month"),le=Y===F,be=c||me(ee);return a.jsx(Jue,{selected:le,value:Y,onClick:Q,onKeyDown:ie,autoFocus:q&&Y===L,disabled:be,tabIndex:Y===L?0:-1,onFocus:re,onBlur:ge,"aria-current":U===Y?"date":void 0,"aria-label":Z,monthsPerRow:N,children:W},W)})}))});function ode(t){return Ee("MuiPickersYear",t)}const em=Se("MuiPickersYear",["root","yearButton","selected","disabled"]),ade=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","yearsPerRow"],lde=t=>{const{disabled:e,selected:n,classes:r}=t;return Re({root:["root"],yearButton:["yearButton",e&&"disabled",n&&"selected"]},ode,r)},cde=X("div",{name:"MuiPickersYear",slot:"Root",overridesResolver:(t,e)=>[e.root]})(({ownerState:t})=>({flexBasis:t.yearsPerRow===3?"33.3%":"25%",display:"flex",alignItems:"center",justifyContent:"center"})),ude=X("button",{name:"MuiPickersYear",slot:"YearButton",overridesResolver:(t,e)=>[e.yearButton,{[`&.${em.disabled}`]:e.disabled},{[`&.${em.selected}`]:e.selected}]})(({theme:t})=>j({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{margin:"6px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.focusOpacity})`:ru(t.palette.action.active,t.palette.action.focusOpacity)},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:ru(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${em.disabled}`]:{color:(t.vars||t).palette.text.secondary},[`&.${em.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}})),dde=y.memo(function(e){const n=Os({props:e,name:"MuiPickersYear"}),{autoFocus:r,className:s,children:i,disabled:o,selected:l,value:c,tabIndex:u,onClick:d,onKeyDown:h,onFocus:p,onBlur:m,"aria-current":v}=n,g=oe(n,ade),b=y.useRef(null),x=lde(n);return y.useEffect(()=>{r&&b.current.focus()},[r]),a.jsx(cde,j({className:ue(x.root,s),ownerState:n},g,{children:a.jsx(ude,{ref:b,disabled:o,type:"button",role:"radio",tabIndex:o?-1:u,"aria-current":v,"aria-checked":l,onClick:_=>d(_,c),onKeyDown:_=>h(_,c),onFocus:_=>p(_,c),onBlur:_=>m(_,c),className:x.yearButton,ownerState:n,children:i})}))});function hde(t){return Ee("MuiYearCalendar",t)}Se("MuiYearCalendar",["root"]);const fde=["autoFocus","className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsPerRow","timezone","gridLabelId"],pde=t=>{const{classes:e}=t;return Re({root:["root"]},hde,e)};function mde(t,e){var n;const r=jr(),s=nT(),i=Os({props:t,name:e});return j({disablePast:!1,disableFuture:!1},i,{yearsPerRow:(n=i.yearsPerRow)!=null?n:3,minDate:Sa(r,i.minDate,s.minDate),maxDate:Sa(r,i.maxDate,s.maxDate)})}const gde=X("div",{name:"MuiYearCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",padding:"0 4px",width:rT,maxHeight:xue,boxSizing:"border-box",position:"relative"}),vde=y.forwardRef(function(e,n){const r=mde(e,"MuiYearCalendar"),{autoFocus:s,className:i,value:o,defaultValue:l,referenceDate:c,disabled:u,disableFuture:d,disablePast:h,maxDate:p,minDate:m,onChange:v,readOnly:g,shouldDisableYear:b,disableHighlightToday:x,onYearFocus:_,hasFocus:w,onFocusedViewChange:I,yearsPerRow:N,timezone:R,gridLabelId:S}=r,E=oe(r,fde),{value:C,handleValueChange:k,timezone:A}=sT({name:"YearCalendar",timezone:R,value:o,defaultValue:l,onChange:v,valueManager:Tu}),M=Xy(A),P=ju(),O=jr(),V=y.useMemo(()=>Tu.getInitialReferenceValue({value:C,utils:O,props:r,timezone:A,referenceDate:c,granularity:zi.year}),[]),B=r,z=pde(B),U=y.useMemo(()=>O.getYear(M),[O,M]),F=y.useMemo(()=>C!=null?O.getYear(C):x?null:O.getYear(V),[C,O,x,V]),[L,H]=y.useState(()=>F||U),[q,K]=ki({name:"YearCalendar",state:"hasFocus",controlled:w,default:s??!1}),te=ct(W=>{K(W),I&&I(W)}),me=y.useCallback(W=>{if(h&&O.isBeforeYear(W,M)||d&&O.isAfterYear(W,M)||m&&O.isBeforeYear(W,m)||p&&O.isAfterYear(W,p))return!0;if(!b)return!1;const Z=O.startOfYear(W);return b(Z)},[d,h,p,m,M,b,O]),Q=ct((W,Z)=>{if(g)return;const le=O.setYear(C??V,Z);k(le)}),ce=ct(W=>{me(O.setYear(C??V,W))||(H(W),te(!0),_==null||_(W))});y.useEffect(()=>{H(W=>F!==null&&W!==F?F:W)},[F]);const ie=ct((W,Z)=>{switch(W.key){case"ArrowUp":ce(Z-N),W.preventDefault();break;case"ArrowDown":ce(Z+N),W.preventDefault();break;case"ArrowLeft":ce(Z+(P.direction==="ltr"?-1:1)),W.preventDefault();break;case"ArrowRight":ce(Z+(P.direction==="ltr"?1:-1)),W.preventDefault();break}}),re=ct((W,Z)=>{ce(Z)}),ge=ct((W,Z)=>{L===Z&&te(!1)}),ee=y.useRef(null),Y=on(n,ee);return y.useEffect(()=>{if(s||ee.current===null)return;const W=ee.current.querySelector('[tabindex="0"]');if(!W)return;const Z=W.offsetHeight,le=W.offsetTop,be=ee.current.clientHeight,Be=ee.current.scrollTop,fe=le+Z;Z>be||le<Be||(ee.current.scrollTop=fe-be/2-Z/2)},[s]),a.jsx(gde,j({ref:Y,className:ue(z.root,i),ownerState:B,role:"radiogroup","aria-labelledby":S},E,{children:O.getYearRange(m,p).map(W=>{const Z=O.getYear(W),le=Z===F,be=u||me(W);return a.jsx(dde,{selected:le,value:Z,onClick:Q,onKeyDown:ie,autoFocus:q&&Z===L,disabled:be,tabIndex:Z===L?0:-1,onFocus:re,onBlur:ge,"aria-current":U===Z?"date":void 0,yearsPerRow:N,children:O.format(W,"year")},O.format(W,"year"))})}))});function yde({onChange:t,onViewChange:e,openTo:n,view:r,views:s,autoFocus:i,focusedView:o,onFocusedViewChange:l}){var c,u;const d=y.useRef(n),h=y.useRef(s),p=y.useRef(s.includes(n)?n:s[0]),[m,v]=ki({name:"useViews",state:"view",controlled:r,default:p.current}),g=y.useRef(i?m:null),[b,x]=ki({name:"useViews",state:"focusedView",controlled:o,default:g.current});y.useEffect(()=>{(d.current&&d.current!==n||h.current&&h.current.some(C=>!s.includes(C)))&&(v(s.includes(n)?n:s[0]),h.current=s,d.current=n)},[n,v,m,s]);const _=s.indexOf(m),w=(c=s[_-1])!=null?c:null,I=(u=s[_+1])!=null?u:null,N=ct((C,k)=>{x(k?C:A=>C===A?null:A),l==null||l(C,k)}),R=ct(C=>{N(C,!0),C!==m&&(v(C),e&&e(C))}),S=ct(()=>{I&&R(I)}),E=ct((C,k,A)=>{const M=k==="finish",P=A?s.indexOf(A)<s.length-1:!!I;if(t(C,M&&P?"partial":k,A),A&&A!==m){const V=s[s.indexOf(A)+1];V&&R(V)}else M&&S()});return{view:m,setView:R,focusedView:b,setFocusedView:N,nextView:I,previousView:w,defaultView:s.includes(n)?n:s[0],goToNextView:S,setValueAndGoToNextView:E}}const xde=t=>Ee("MuiPickersCalendarHeader",t),_de=Se("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),bde=Ie(a.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),wde=Ie(a.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),Cde=Ie(a.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight");Ie(a.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar");Ie(a.jsxs(y.Fragment,{children:[a.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),a.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock");Ie(a.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange");Ie(a.jsxs(y.Fragment,{children:[a.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),a.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time");Ie(a.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");function Tde(t){return Ee("MuiPickersArrowSwitcher",t)}Se("MuiPickersArrowSwitcher",["root","spacer","button"]);const Ede=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel"],Sde=["ownerState"],Ide=["ownerState"],kde=X("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex"}),Rde=X("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(t,e)=>e.spacer})(({theme:t})=>({width:t.spacing(3)})),vR=X(cs,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(t,e)=>e.button})(({ownerState:t})=>j({},t.hidden&&{visibility:"hidden"})),Pde=t=>{const{classes:e}=t;return Re({root:["root"],spacer:["spacer"],button:["button"]},Tde,e)},Ade=y.forwardRef(function(e,n){var r,s,i,o;const c=Di().direction==="rtl",u=Os({props:e,name:"MuiPickersArrowSwitcher"}),{children:d,className:h,slots:p,slotProps:m,isNextDisabled:v,isNextHidden:g,onGoToNext:b,nextLabel:x,isPreviousDisabled:_,isPreviousHidden:w,onGoToPrevious:I,previousLabel:N}=u,R=oe(u,Ede),S=u,E=Pde(S),C={isDisabled:v,isHidden:g,goTo:b,label:x},k={isDisabled:_,isHidden:w,goTo:I,label:N},A=(r=p==null?void 0:p.previousIconButton)!=null?r:vR,M=na({elementType:A,externalSlotProps:m==null?void 0:m.previousIconButton,additionalProps:{size:"medium",title:k.label,"aria-label":k.label,disabled:k.isDisabled,edge:"end",onClick:k.goTo},ownerState:j({},S,{hidden:k.isHidden}),className:E.button}),P=(s=p==null?void 0:p.nextIconButton)!=null?s:vR,O=na({elementType:P,externalSlotProps:m==null?void 0:m.nextIconButton,additionalProps:{size:"medium",title:C.label,"aria-label":C.label,disabled:C.isDisabled,edge:"start",onClick:C.goTo},ownerState:j({},S,{hidden:C.isHidden}),className:E.button}),V=(i=p==null?void 0:p.leftArrowIcon)!=null?i:wde,B=na({elementType:V,externalSlotProps:m==null?void 0:m.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),z=oe(B,Sde),U=(o=p==null?void 0:p.rightArrowIcon)!=null?o:Cde,F=na({elementType:U,externalSlotProps:m==null?void 0:m.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),L=oe(F,Ide);return a.jsxs(kde,j({ref:n,className:ue(E.root,h),ownerState:S},R,{children:[a.jsx(A,j({},M,{children:c?a.jsx(U,j({},L)):a.jsx(V,j({},z))})),d?a.jsx(ne,{variant:"subtitle1",component:"span",children:d}):a.jsx(Rde,{className:E.spacer,ownerState:S}),a.jsx(P,j({},O,{children:c?a.jsx(V,j({},z)):a.jsx(U,j({},L))}))]}))});function Nde(t,{disableFuture:e,maxDate:n,timezone:r}){const s=jr();return y.useMemo(()=>{const i=s.dateWithTimezone(void 0,r),o=s.startOfMonth(e&&s.isBefore(i,n)?i:n);return!s.isAfter(o,t)},[e,n,t,s,r])}function Dde(t,{disablePast:e,minDate:n,timezone:r}){const s=jr();return y.useMemo(()=>{const i=s.dateWithTimezone(void 0,r),o=s.startOfMonth(e&&s.isAfter(i,n)?i:n);return!s.isBefore(o,t)},[e,n,t,s,r])}const jde=["slots","slotProps","components","componentsProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","timezone"],Mde=["ownerState"],Ode=t=>{const{classes:e}=t;return Re({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},xde,e)},Lde=X("div",{name:"MuiPickersCalendarHeader",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",alignItems:"center",marginTop:16,marginBottom:8,paddingLeft:24,paddingRight:12,maxHeight:30,minHeight:30}),$de=X("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer",overridesResolver:(t,e)=>e.labelContainer})(({theme:t})=>j({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},t.typography.body1,{fontWeight:t.typography.fontWeightMedium})),Fde=X("div",{name:"MuiPickersCalendarHeader",slot:"Label",overridesResolver:(t,e)=>e.label})({marginRight:6}),Vde=X(cs,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton",overridesResolver:(t,e)=>e.switchViewButton})(({ownerState:t})=>j({marginRight:"auto"},t.view==="year"&&{[`.${_de.switchViewIcon}`]:{transform:"rotate(180deg)"}})),Bde=X(bde,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon",overridesResolver:(t,e)=>e.switchViewIcon})(({theme:t})=>({willChange:"transform",transition:t.transitions.create("transform"),transform:"rotate(0deg)"})),Ude=y.forwardRef(function(e,n){var r,s,i,o;const l=d4(),c=jr(),u=Os({props:e,name:"MuiPickersCalendarHeader"}),{slots:d,slotProps:h,components:p,currentMonth:m,disabled:v,disableFuture:g,disablePast:b,maxDate:x,minDate:_,onMonthChange:w,onViewChange:I,view:N,reduceAnimations:R,views:S,labelId:E,className:C,timezone:k}=u,A=oe(u,jde),M=u,P=Ode(u),O=(r=(s=d==null?void 0:d.switchViewButton)!=null?s:p==null?void 0:p.SwitchViewButton)!=null?r:Vde,V=na({elementType:O,externalSlotProps:h==null?void 0:h.switchViewButton,additionalProps:{size:"small","aria-label":l.calendarViewSwitchingButtonAriaLabel(N)},ownerState:M,className:P.switchViewButton}),B=(i=(o=d==null?void 0:d.switchViewIcon)!=null?o:p==null?void 0:p.SwitchViewIcon)!=null?i:Bde,z=na({elementType:B,externalSlotProps:h==null?void 0:h.switchViewIcon,ownerState:void 0,className:P.switchViewIcon}),U=oe(z,Mde),F=()=>w(c.addMonths(m,1),"left"),L=()=>w(c.addMonths(m,-1),"right"),H=Nde(m,{disableFuture:g,maxDate:x,timezone:k}),q=Dde(m,{disablePast:b,minDate:_,timezone:k}),K=()=>{if(!(S.length===1||!I||v))if(S.length===2)I(S.find(te=>te!==N)||S[0]);else{const te=S.indexOf(N)!==0?0:1;I(S[te])}};return S.length===1&&S[0]==="year"?null:a.jsxs(Lde,j({},A,{ownerState:M,className:ue(C,P.root),ref:n,children:[a.jsxs($de,{role:"presentation",onClick:K,ownerState:M,"aria-live":"polite",className:P.labelContainer,children:[a.jsx(f4,{reduceAnimations:R,transKey:c.format(m,"monthAndYear"),children:a.jsx(Fde,{id:E,ownerState:M,className:P.label,children:c.format(m,"monthAndYear")})}),S.length>1&&!v&&a.jsx(O,j({},V,{children:a.jsx(B,j({},U))}))]}),a.jsx(Kf,{in:N==="day",children:a.jsx(Ade,{slots:d,slotProps:h,onGoToPrevious:L,isPreviousDisabled:q,previousLabel:l.previousMonth,onGoToNext:F,isNextDisabled:H,nextLabel:l.nextMonth})})]}))}),zde=X("div")({overflow:"hidden",width:rT,maxHeight:p4,display:"flex",flexDirection:"column",margin:"0 auto"}),Wde="@media (prefers-reduced-motion: reduce)",Gc=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),yR=Gc&&Gc[1]?parseInt(Gc[1],10):null,xR=Gc&&Gc[2]?parseInt(Gc[2],10):null,Hde=yR&&yR<10||xR&&xR<13||!1,qde=()=>D6(Wde,{defaultMatches:!1})||Hde,Gde=t=>Ee("MuiDateCalendar",t);Se("MuiDateCalendar",["root","viewTransitionContainer"]);const Yde=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","defaultCalendarMonth","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","components","componentsProps","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsPerRow","monthsPerRow","timezone"],Kde=t=>{const{classes:e}=t;return Re({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},Gde,e)};function Qde(t,e){var n,r,s,i,o,l,c;const u=jr(),d=nT(),h=qde(),p=Os({props:t,name:e});return j({},p,{loading:(n=p.loading)!=null?n:!1,disablePast:(r=p.disablePast)!=null?r:!1,disableFuture:(s=p.disableFuture)!=null?s:!1,openTo:(i=p.openTo)!=null?i:"day",views:(o=p.views)!=null?o:["year","day"],reduceAnimations:(l=p.reduceAnimations)!=null?l:h,renderLoading:(c=p.renderLoading)!=null?c:()=>a.jsx("span",{children:"..."}),minDate:Sa(u,p.minDate,d.minDate),maxDate:Sa(u,p.maxDate,d.maxDate)})}const Xde=X(zde,{name:"MuiDateCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexDirection:"column",height:p4}),Jde=X(f4,{name:"MuiDateCalendar",slot:"ViewTransitionContainer",overridesResolver:(t,e)=>e.viewTransitionContainer})({}),Zde=y.forwardRef(function(e,n){var r,s,i;const o=jr(),l=Mu(),c=Qde(e,"MuiDateCalendar"),{autoFocus:u,onViewChange:d,value:h,defaultValue:p,referenceDate:m,disableFuture:v,disablePast:g,defaultCalendarMonth:b,onChange:x,onYearChange:_,onMonthChange:w,reduceAnimations:I,shouldDisableDate:N,shouldDisableMonth:R,shouldDisableYear:S,view:E,views:C,openTo:k,className:A,disabled:M,readOnly:P,minDate:O,maxDate:V,disableHighlightToday:B,focusedView:z,onFocusedViewChange:U,showDaysOutsideCurrentMonth:F,fixedWeekNumber:L,dayOfWeekFormatter:H,components:q,componentsProps:K,slots:te,slotProps:me,loading:Q,renderLoading:ce,displayWeekNumber:ie,yearsPerRow:re,monthsPerRow:ge,timezone:ee}=c,Y=oe(c,Yde),{value:W,handleValueChange:Z,timezone:le}=sT({name:"DateCalendar",timezone:ee,value:h,defaultValue:p,onChange:x,valueManager:Tu}),{view:be,setView:Be,focusedView:fe,setFocusedView:ve,goToNextView:Te,setValueAndGoToNextView:we}=yde({view:E,views:C,openTo:k,onChange:Z,onViewChange:d,autoFocus:u,focusedView:z,onFocusedViewChange:U}),{referenceDate:qe,calendarState:Ve,changeFocusedDay:Ue,changeMonth:Wt,handleChangeMonth:et,isDateDisabled:it,onMonthSwitchingAnimationEnd:Ze}=mue({value:W,defaultCalendarMonth:b,referenceDate:m,reduceAnimations:I,onMonthChange:w,minDate:O,maxDate:V,shouldDisableDate:N,disablePast:g,disableFuture:v,timezone:le}),$e=M&&W||O,en=M&&W||V,Mr=`${l}-grid-label`,bn=fe!==null,Oe=(r=(s=te==null?void 0:te.calendarHeader)!=null?s:q==null?void 0:q.CalendarHeader)!=null?r:Ude,yt=na({elementType:Oe,externalSlotProps:(i=me==null?void 0:me.calendarHeader)!=null?i:K==null?void 0:K.calendarHeader,additionalProps:{views:C,view:be,currentMonth:Ve.currentMonth,onViewChange:Be,onMonthChange:(pt,sr)=>et({newMonth:pt,direction:sr}),minDate:$e,maxDate:en,disabled:M,disablePast:g,disableFuture:v,reduceAnimations:I,timezone:le,labelId:Mr,slots:te,slotProps:me},ownerState:c}),Ot=ct(pt=>{const sr=o.startOfMonth(pt),ms=o.endOfMonth(pt),Jr=it(pt)?xh({utils:o,date:pt,minDate:o.isBefore(O,sr)?sr:O,maxDate:o.isAfter(V,ms)?ms:V,disablePast:g,disableFuture:v,isDateDisabled:it,timezone:le}):pt;Jr?(we(Jr,"finish"),w==null||w(sr)):(Te(),Wt(sr)),Ue(Jr,!0)}),_r=ct(pt=>{const sr=o.startOfYear(pt),ms=o.endOfYear(pt),Jr=it(pt)?xh({utils:o,date:pt,minDate:o.isBefore(O,sr)?sr:O,maxDate:o.isAfter(V,ms)?ms:V,disablePast:g,disableFuture:v,isDateDisabled:it,timezone:le}):pt;Jr?(we(Jr,"finish"),_==null||_(Jr)):(Te(),Wt(sr)),Ue(Jr,!0)}),ti=ct(pt=>Z(pt&&nv(o,pt,W??qe),"finish",be));y.useEffect(()=>{W!=null&&o.isValid(W)&&Wt(W)},[W]);const ni=c,La=Kde(ni),Ro={disablePast:g,disableFuture:v,maxDate:V,minDate:O},Fs={disableHighlightToday:B,readOnly:P,disabled:M,timezone:le,gridLabelId:Mr},ri=y.useRef(be);y.useEffect(()=>{ri.current!==be&&(fe===ri.current&&ve(be,!0),ri.current=be)},[fe,ve,be]);const Po=y.useMemo(()=>[W],[W]);return a.jsxs(Xde,j({ref:n,className:ue(La.root,A),ownerState:ni},Y,{children:[a.jsx(Oe,j({},yt)),a.jsx(Jde,{reduceAnimations:I,className:La.viewTransitionContainer,transKey:be,ownerState:ni,children:a.jsxs("div",{children:[be==="year"&&a.jsx(vde,j({},Ro,Fs,{value:W,onChange:_r,shouldDisableYear:S,hasFocus:bn,onFocusedViewChange:pt=>ve("year",pt),yearsPerRow:re,referenceDate:qe})),be==="month"&&a.jsx(ide,j({},Ro,Fs,{hasFocus:bn,className:A,value:W,onChange:Ot,shouldDisableMonth:R,onFocusedViewChange:pt=>ve("month",pt),monthsPerRow:ge,referenceDate:qe})),be==="day"&&a.jsx(que,j({},Ve,Ro,Fs,{onMonthSwitchingAnimationEnd:Ze,onFocusedDayChange:Ue,reduceAnimations:I,selectedDays:Po,onSelectedDaysChange:ti,shouldDisableDate:N,shouldDisableMonth:R,shouldDisableYear:S,hasFocus:bn,onFocusedViewChange:pt=>ve("day",pt),showDaysOutsideCurrentMonth:F,fixedWeekNumber:L,dayOfWeekFormatter:H,displayWeekNumber:ie,components:q,componentsProps:K,slots:te,slotProps:me,loading:Q,renderLoading:ce}))]})})]}))});function y4(t){return _e(1,arguments),n4(t,Date.now())}function Yc(){return jl(Date.now())}function _R(t,e,n){_e(2,arguments);var r=Co(t,n),s=Co(e,n);return r.getTime()===s.getTime()}function jd(t,e){if(t.one!==void 0&&e===1)return t.one;var n=e%10,r=e%100;return n===1&&r!==11?t.singularNominative.replace("{{count}}",String(e)):n>=2&&n<=4&&(r<10||r>20)?t.singularGenitive.replace("{{count}}",String(e)):t.pluralGenitive.replace("{{count}}",String(e))}function wr(t){return function(e,n){return n!=null&&n.addSuffix?n.comparison&&n.comparison>0?t.future?jd(t.future,e):"через "+jd(t.regular,e):t.past?jd(t.past,e):jd(t.regular,e)+" назад":jd(t.regular,e)}}var ehe={lessThanXSeconds:wr({regular:{one:"меньше секунды",singularNominative:"меньше {{count}} секунды",singularGenitive:"меньше {{count}} секунд",pluralGenitive:"меньше {{count}} секунд"},future:{one:"меньше, чем через секунду",singularNominative:"меньше, чем через {{count}} секунду",singularGenitive:"меньше, чем через {{count}} секунды",pluralGenitive:"меньше, чем через {{count}} секунд"}}),xSeconds:wr({regular:{singularNominative:"{{count}} секунда",singularGenitive:"{{count}} секунды",pluralGenitive:"{{count}} секунд"},past:{singularNominative:"{{count}} секунду назад",singularGenitive:"{{count}} секунды назад",pluralGenitive:"{{count}} секунд назад"},future:{singularNominative:"через {{count}} секунду",singularGenitive:"через {{count}} секунды",pluralGenitive:"через {{count}} секунд"}}),halfAMinute:function(e,n){return n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"через полминуты":"полминуты назад":"полминуты"},lessThanXMinutes:wr({regular:{one:"меньше минуты",singularNominative:"меньше {{count}} минуты",singularGenitive:"меньше {{count}} минут",pluralGenitive:"меньше {{count}} минут"},future:{one:"меньше, чем через минуту",singularNominative:"меньше, чем через {{count}} минуту",singularGenitive:"меньше, чем через {{count}} минуты",pluralGenitive:"меньше, чем через {{count}} минут"}}),xMinutes:wr({regular:{singularNominative:"{{count}} минута",singularGenitive:"{{count}} минуты",pluralGenitive:"{{count}} минут"},past:{singularNominative:"{{count}} минуту назад",singularGenitive:"{{count}} минуты назад",pluralGenitive:"{{count}} минут назад"},future:{singularNominative:"через {{count}} минуту",singularGenitive:"через {{count}} минуты",pluralGenitive:"через {{count}} минут"}}),aboutXHours:wr({regular:{singularNominative:"около {{count}} часа",singularGenitive:"около {{count}} часов",pluralGenitive:"около {{count}} часов"},future:{singularNominative:"приблизительно через {{count}} час",singularGenitive:"приблизительно через {{count}} часа",pluralGenitive:"приблизительно через {{count}} часов"}}),xHours:wr({regular:{singularNominative:"{{count}} час",singularGenitive:"{{count}} часа",pluralGenitive:"{{count}} часов"}}),xDays:wr({regular:{singularNominative:"{{count}} день",singularGenitive:"{{count}} дня",pluralGenitive:"{{count}} дней"}}),aboutXWeeks:wr({regular:{singularNominative:"около {{count}} недели",singularGenitive:"около {{count}} недель",pluralGenitive:"около {{count}} недель"},future:{singularNominative:"приблизительно через {{count}} неделю",singularGenitive:"приблизительно через {{count}} недели",pluralGenitive:"приблизительно через {{count}} недель"}}),xWeeks:wr({regular:{singularNominative:"{{count}} неделя",singularGenitive:"{{count}} недели",pluralGenitive:"{{count}} недель"}}),aboutXMonths:wr({regular:{singularNominative:"около {{count}} месяца",singularGenitive:"около {{count}} месяцев",pluralGenitive:"около {{count}} месяцев"},future:{singularNominative:"приблизительно через {{count}} месяц",singularGenitive:"приблизительно через {{count}} месяца",pluralGenitive:"приблизительно через {{count}} месяцев"}}),xMonths:wr({regular:{singularNominative:"{{count}} месяц",singularGenitive:"{{count}} месяца",pluralGenitive:"{{count}} месяцев"}}),aboutXYears:wr({regular:{singularNominative:"около {{count}} года",singularGenitive:"около {{count}} лет",pluralGenitive:"около {{count}} лет"},future:{singularNominative:"приблизительно через {{count}} год",singularGenitive:"приблизительно через {{count}} года",pluralGenitive:"приблизительно через {{count}} лет"}}),xYears:wr({regular:{singularNominative:"{{count}} год",singularGenitive:"{{count}} года",pluralGenitive:"{{count}} лет"}}),overXYears:wr({regular:{singularNominative:"больше {{count}} года",singularGenitive:"больше {{count}} лет",pluralGenitive:"больше {{count}} лет"},future:{singularNominative:"больше, чем через {{count}} год",singularGenitive:"больше, чем через {{count}} года",pluralGenitive:"больше, чем через {{count}} лет"}}),almostXYears:wr({regular:{singularNominative:"почти {{count}} год",singularGenitive:"почти {{count}} года",pluralGenitive:"почти {{count}} лет"},future:{singularNominative:"почти через {{count}} год",singularGenitive:"почти через {{count}} года",pluralGenitive:"почти через {{count}} лет"}})},the=function(e,n,r){return ehe[e](n,r)},nhe={full:"EEEE, d MMMM y 'г.'",long:"d MMMM y 'г.'",medium:"d MMM y 'г.'",short:"dd.MM.y"},rhe={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},she={any:"{{date}}, {{time}}"},ihe={date:qc({formats:nhe,defaultWidth:"full"}),time:qc({formats:rhe,defaultWidth:"full"}),dateTime:qc({formats:she,defaultWidth:"any"})},iT=["воскресенье","понедельник","вторник","среду","четверг","пятницу","субботу"];function ohe(t){var e=iT[t];switch(t){case 0:return"'в прошлое "+e+" в' p";case 1:case 2:case 4:return"'в прошлый "+e+" в' p";case 3:case 5:case 6:return"'в прошлую "+e+" в' p"}}function bR(t){var e=iT[t];return t===2?"'во "+e+" в' p":"'в "+e+" в' p"}function ahe(t){var e=iT[t];switch(t){case 0:return"'в следующее "+e+" в' p";case 1:case 2:case 4:return"'в следующий "+e+" в' p";case 3:case 5:case 6:return"'в следующую "+e+" в' p"}}var lhe={lastWeek:function(e,n,r){var s=e.getUTCDay();return _R(e,n,r)?bR(s):ohe(s)},yesterday:"'вчера в' p",today:"'сегодня в' p",tomorrow:"'завтра в' p",nextWeek:function(e,n,r){var s=e.getUTCDay();return _R(e,n,r)?bR(s):ahe(s)},other:"P"},che=function(e,n,r,s){var i=lhe[e];return typeof i=="function"?i(n,r,s):i},uhe={narrow:["до н.э.","н.э."],abbreviated:["до н. э.","н. э."],wide:["до нашей эры","нашей эры"]},dhe={narrow:["1","2","3","4"],abbreviated:["1-й кв.","2-й кв.","3-й кв.","4-й кв."],wide:["1-й квартал","2-й квартал","3-й квартал","4-й квартал"]},hhe={narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","март","апр.","май","июнь","июль","авг.","сент.","окт.","нояб.","дек."],wide:["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"]},fhe={narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","мар.","апр.","мая","июн.","июл.","авг.","сент.","окт.","нояб.","дек."],wide:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"]},phe={narrow:["В","П","В","С","Ч","П","С"],short:["вс","пн","вт","ср","чт","пт","сб"],abbreviated:["вск","пнд","втр","срд","чтв","птн","суб"],wide:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"]},mhe={narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утро",afternoon:"день",evening:"вечер",night:"ночь"}},ghe={narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утра",afternoon:"дня",evening:"вечера",night:"ночи"}},vhe=function(e,n){var r=Number(e),s=n==null?void 0:n.unit,i;return s==="date"?i="-е":s==="week"||s==="minute"||s==="second"?i="-я":i="-й",r+i},yhe={ordinalNumber:vhe,era:ui({values:uhe,defaultWidth:"wide"}),quarter:ui({values:dhe,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:ui({values:hhe,defaultWidth:"wide",formattingValues:fhe,defaultFormattingWidth:"wide"}),day:ui({values:phe,defaultWidth:"wide"}),dayPeriod:ui({values:mhe,defaultWidth:"any",formattingValues:ghe,defaultFormattingWidth:"wide"})},xhe=/^(\d+)(-?(е|я|й|ое|ье|ая|ья|ый|ой|ий|ый))?/i,_he=/\d+/i,bhe={narrow:/^((до )?н\.?\s?э\.?)/i,abbreviated:/^((до )?н\.?\s?э\.?)/i,wide:/^(до нашей эры|нашей эры|наша эра)/i},whe={any:[/^д/i,/^н/i]},Che={narrow:/^[1234]/i,abbreviated:/^[1234](-?[ыои]?й?)? кв.?/i,wide:/^[1234](-?[ыои]?й?)? квартал/i},The={any:[/1/i,/2/i,/3/i,/4/i]},Ehe={narrow:/^[яфмаисонд]/i,abbreviated:/^(янв|фев|март?|апр|ма[йя]|июн[ья]?|июл[ья]?|авг|сент?|окт|нояб?|дек)\.?/i,wide:/^(январ[ья]|феврал[ья]|марта?|апрел[ья]|ма[йя]|июн[ья]|июл[ья]|августа?|сентябр[ья]|октябр[ья]|октябр[ья]|ноябр[ья]|декабр[ья])/i},She={narrow:[/^я/i,/^ф/i,/^м/i,/^а/i,/^м/i,/^и/i,/^и/i,/^а/i,/^с/i,/^о/i,/^н/i,/^я/i],any:[/^я/i,/^ф/i,/^мар/i,/^ап/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^ав/i,/^с/i,/^о/i,/^н/i,/^д/i]},Ihe={narrow:/^[впсч]/i,short:/^(вс|во|пн|по|вт|ср|чт|че|пт|пя|сб|су)\.?/i,abbreviated:/^(вск|вос|пнд|пон|втр|вто|срд|сре|чтв|чет|птн|пят|суб).?/i,wide:/^(воскресень[ея]|понедельника?|вторника?|сред[аы]|четверга?|пятниц[аы]|суббот[аы])/i},khe={narrow:[/^в/i,/^п/i,/^в/i,/^с/i,/^ч/i,/^п/i,/^с/i],any:[/^в[ос]/i,/^п[он]/i,/^в/i,/^ср/i,/^ч/i,/^п[ят]/i,/^с[уб]/i]},Rhe={narrow:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,abbreviated:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,wide:/^([дп]п|полночь|полдень|утр[оа]|день|дня|вечера?|ноч[ьи])/i},Phe={any:{am:/^дп/i,pm:/^пп/i,midnight:/^полн/i,noon:/^полд/i,morning:/^у/i,afternoon:/^д[ен]/i,evening:/^в/i,night:/^н/i}},Ahe={ordinalNumber:e4({matchPattern:xhe,parsePattern:_he,valueCallback:function(e){return parseInt(e,10)}}),era:di({matchPatterns:bhe,defaultMatchWidth:"wide",parsePatterns:whe,defaultParseWidth:"any"}),quarter:di({matchPatterns:Che,defaultMatchWidth:"wide",parsePatterns:The,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:di({matchPatterns:Ehe,defaultMatchWidth:"wide",parsePatterns:She,defaultParseWidth:"any"}),day:di({matchPatterns:Ihe,defaultMatchWidth:"wide",parsePatterns:khe,defaultParseWidth:"any"}),dayPeriod:di({matchPatterns:Rhe,defaultMatchWidth:"wide",parsePatterns:Phe,defaultParseWidth:"any"})},Ml={code:"ru",formatDistance:the,formatLong:ihe,formatRelative:che,localize:yhe,match:Ahe,options:{weekStartsOn:1,firstWeekContainsDate:1}};function Nhe(){const{clubId:t,courtId:e}=Ru(),n=Qr(),[r,s]=y.useState(Yc()),[i,o]=y.useState(null),[l,c]=y.useState(null),[u,d]=y.useState(!0),[h,p]=y.useState("");y.useEffect(()=>{m()},[t,e]);const m=async()=>{if(!t||!e){p("Некорректные параметры"),d(!1);return}try{const b=await sn(We(ye,"courts",e));if(!b.exists()){p("Корт не найден"),d(!1);return}const x={id:b.id,...b.data()};if(x.venueId!==t){p("Корт не принадлежит указанному клубу"),d(!1);return}o(x);const _=await sn(We(ye,"venues",t));_.exists()&&c({id:_.id,..._.data()}),d(!1)}catch(b){console.error("Error loading data:",b),p("Ошибка при загрузке данных"),d(!1)}},v=()=>{r&&n(`/club/${t}/court/${e}/time?date=${Ht(r,"yyyy-MM-dd")}`)},g=b=>{const x=Yc();if(b<x)return!0;const _=ya(x,30);if(b>_)return!0;if(l!=null&&l.workingHours){const I=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][b.getDay()],N=l.workingHours[I];if(!N||!N.open&&!N.close)return!0}return!1};return u?a.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[a.jsxs("div",{style:{textAlign:"center"},children:[a.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),a.jsx("p",{className:"body-small",children:"Загрузка..."})]}),a.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]}):h?a.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:a.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[a.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"❌"}),a.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Ошибка"}),a.jsx("p",{className:"body",style:{color:"var(--text-secondary)"},children:h})]})}):a.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[a.jsx("div",{style:{backgroundColor:"var(--white)",padding:"var(--spacing-md) var(--spacing-xl)",boxShadow:"var(--shadow-sm)",position:"sticky",top:0,zIndex:10},children:a.jsx("button",{onClick:()=>n(-1),style:{background:"none",border:"none",fontSize:"20px",cursor:"pointer",padding:"8px",marginLeft:"-8px",borderRadius:"50%",display:"inline-flex",alignItems:"center",justifyContent:"center",transition:"background 0.2s"},onMouseEnter:b=>b.currentTarget.style.background="var(--extra-light-gray)",onMouseLeave:b=>b.currentTarget.style.background="none",children:"←"})}),a.jsxs("div",{style:{padding:"var(--spacing-xl)"},children:[a.jsx("h1",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Выберите дату"}),i&&l&&a.jsxs("p",{className:"body-small",style:{marginBottom:"var(--spacing-xl)"},children:[l.name," • ",i.name]}),a.jsx("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)"},children:a.jsx(Xce,{dateAdapter:Kce,adapterLocale:Ml,children:a.jsx(Zde,{value:r,onChange:b=>s(b),shouldDisableDate:g,disablePast:!0,sx:{width:"100%",".MuiDayCalendar-weekContainer":{justifyContent:"space-around"},".MuiPickersDay-root":{fontSize:"var(--text-body)","&:hover":{backgroundColor:"var(--primary-light)"},"&.Mui-selected":{backgroundColor:"var(--primary)","&:hover":{backgroundColor:"var(--primary-dark)"}}},".MuiPickersCalendarHeader-label":{fontSize:"var(--text-body)",fontWeight:600},".MuiPickersArrowSwitcher-button":{color:"var(--primary)"}}})})}),r&&a.jsxs("div",{className:"info-section",style:{marginBottom:"var(--spacing-xl)"},children:[a.jsx("p",{className:"body-small",style:{marginBottom:"var(--spacing-xs)"},children:"Выбранная дата:"}),a.jsx("h3",{className:"h3",children:Ht(r,"d MMMM yyyy",{locale:Ml})})]}),a.jsx("div",{style:{backgroundColor:"var(--info)",color:"white",padding:"var(--spacing-md)",borderRadius:"var(--radius-md)",marginBottom:"calc(80px + var(--spacing-xl))"},children:a.jsx("p",{className:"caption",style:{color:"white"},children:"ℹ️ Бронирование доступно на 30 дней вперед. Серым цветом отмечены дни, когда клуб не работает."})})]}),a.jsx("div",{className:"sticky-bottom-bar",children:a.jsx("button",{className:"flutter-button",style:{width:"100%"},onClick:v,disabled:!r,children:"Выбрать время →"})})]})}function Dhe(){var z,U;const{clubId:t,courtId:e}=Ru(),n=Qr(),[r]=GA(),s=r.get("date"),i=s?Qn(s,"yyyy-MM-dd",new Date):new Date,[o,l]=y.useState(null),[c,u]=y.useState(null),[d,h]=y.useState([]),[p,m]=y.useState(null),[v,g]=y.useState(60),[b,x]=y.useState([60,90,120]),[_,w]=y.useState(!0),[I,N]=y.useState(""),[R,S]=y.useState([]),[E,C]=y.useState([]),[k,A]=y.useState(0);y.useEffect(()=>{M()},[]),y.useEffect(()=>{P()},[t,e,k]),y.useEffect(()=>{c&&o&&O()},[c,o,d,v,k]);const M=()=>{const F=[],L=["Вс","Пн","Вт","Ср","Чт","Пт","Сб"];let H=-1;for(let q=0;q<7;q++){const K=ya(Yc(),q);F.push({date:K,day:L[K.getDay()],dayNumber:Ht(K,"d")}),Ht(K,"yyyy-MM-dd")===s&&(H=q)}C(F),A(H>=0?H:0)},P=async()=>{var F;if(!t||!e){N("Некорректные параметры"),w(!1);return}try{const L=await sn(We(ye,"courts",e));if(!L.exists()){N("Корт не найден"),w(!1);return}const H={id:L.id,...L.data()};l(H);const q=await sn(We(ye,"venues",t));if(q.exists()){const ie={id:q.id,...q.data()};if(u(ie),ie.bookingDurations){const re=[60,90,120].filter(ge=>ie.bookingDurations[ge]!==!1);x(re),re.includes(v)||g(re[0]||60)}}const K=((F=E[k])==null?void 0:F.date)||i,te=Ht(K,"yyyy-MM-dd"),me=Lt(Je(ye,"bookings"),Ge("courtId","==",e),Ge("date","==",te),Ge("status","in",["confirmed","pending"])),ce=(await It(me)).docs.map(ie=>({id:ie.id,...ie.data()}));h(ce),w(!1)}catch(L){console.error("Error loading data:",L),N("Ошибка при загрузке данных"),w(!1)}},O=()=>{var ie;if(!(c!=null&&c.workingHours)||!o)return;const F=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],L=((ie=E[k])==null?void 0:ie.date)||i,H=F[L.getDay()],q=c.workingHours[H];if(!q)return;const K=[],te=Qn(q.open,"HH:mm",L),me=Qn(q.close,"HH:mm",L);let Q=te;const ce=new Date;for(;Sr(Q,me);){const re=Ht(Q,"HH:mm"),ge=vi(Q,v);let ee=!0;if(y4(L)&&Sr(Q,ce)&&(ee=!1),Ys(ge,me)&&(ee=!1),ee)for(const Z of d){const le=Qn(Z.startTime,"HH:mm",L),be=Qn(Z.endTime,"HH:mm",L);if(Ys(Q,le)&&Sr(Q,be)||Ys(ge,le)&&Sr(ge,be)||Sr(Q,le)&&Ys(ge,be)||Ht(Q,"HH:mm")===Z.startTime){ee=!1;break}}let Y=o.pricePerHour;const W=Q.getHours();W>=18&&W<21?Y=Math.round(Y*1.2):(W>=21||W<7)&&(Y=Math.round(Y*.8)),K.push({time:re,available:ee,price:Math.round(Y*v/60)}),Q=vi(Q,30)}S(K)},V=()=>{var H;if(!p)return;const F=((H=E[k])==null?void 0:H.date)||i,L=Ht(F,"yyyy-MM-dd");n(`/club/${t}/court/${e}/game-type?date=${L}&time=${p}&duration=${v}`)},B=F=>{A(F),m(null)};return _?a.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[a.jsxs("div",{style:{textAlign:"center"},children:[a.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),a.jsx("p",{className:"body-small",children:"Загрузка..."})]}),a.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]}):I?a.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:a.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[a.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"❌"}),a.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Ошибка"}),a.jsx("p",{className:"body",style:{color:"var(--text-secondary)"},children:I})]})}):a.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[a.jsx("div",{style:{backgroundColor:"var(--white)",padding:"var(--spacing-md) var(--spacing-xl)",boxShadow:"var(--shadow-sm)"},children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-md)"},children:[a.jsx("button",{onClick:()=>n(-1),style:{width:"40px",height:"40px",background:"var(--divider)",border:"none",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"},children:"←"}),a.jsxs("div",{children:[a.jsx("h1",{className:"h3",style:{marginBottom:"4px"},children:"Выберите время"}),o&&c&&a.jsxs("p",{className:"caption",children:[c.name," • ",o.name]})]})]})}),a.jsx("div",{style:{height:"90px",padding:"var(--spacing-md) 0",backgroundColor:"var(--white)",borderBottom:"1px solid var(--divider)"},children:a.jsx("div",{style:{display:"flex",gap:"var(--spacing-sm)",padding:"0 var(--spacing-xl)",overflowX:"auto",WebkitOverflowScrolling:"touch"},children:E.map((F,L)=>{const H=k===L;return a.jsxs("button",{onClick:()=>B(L),style:{minWidth:"60px",height:"60px",backgroundColor:H?"var(--primary)":"var(--white)",color:H?"white":"var(--dark)",border:`2px solid ${H?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},children:[a.jsx("span",{className:"caption-bold",children:F.day}),a.jsx("span",{className:"body-bold",children:F.dayNumber})]},L)})})}),a.jsxs("div",{style:{padding:"var(--spacing-xl) var(--spacing-xl) 0"},children:[a.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Длительность игры"}),a.jsx("div",{style:{display:"flex",gap:"var(--spacing-sm)"},children:[60,90,120].map(F=>{const L=b.includes(F);return a.jsx("button",{onClick:()=>{L&&(g(F),m(null))},disabled:!L,style:{flex:1,padding:"var(--spacing-sm)",backgroundColor:v===F?"var(--primary)":L?"var(--white)":"var(--extra-light-gray)",color:v===F?"white":L?"var(--dark)":"var(--gray)",border:`2px solid ${v===F?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",cursor:L?"pointer":"not-allowed",fontWeight:600,fontSize:"var(--text-body)",transition:"all 0.2s",opacity:L?1:.5},children:F===60?"1 час":F===90?"1.5 часа":"2 часа"},F)})})]}),a.jsxs("div",{style:{padding:"var(--spacing-xl)"},children:[a.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Свободное время"}),R.length===0?a.jsx("div",{className:"flutter-card",style:{textAlign:"center",padding:"var(--spacing-2xl)"},children:a.jsx("p",{className:"body",style:{color:"var(--gray)"},children:"Нет доступных слотов на выбранную дату"})}):a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"10px",marginBottom:"calc(120px + var(--spacing-xl))"},children:R.map(F=>{const L=p===F.time;return a.jsxs("button",{onClick:()=>F.available&&m(F.time),disabled:!F.available,style:{padding:"var(--spacing-sm) var(--spacing-xs)",backgroundColor:F.available?L?"var(--primary)":"var(--primary-light)":"var(--busy)",color:F.available?L?"white":"var(--dark)":"var(--busy-text)",border:`2px solid ${F.available?L?"var(--primary)":"var(--available)":"var(--busy)"}`,borderRadius:"var(--radius-sm)",cursor:F.available?"pointer":"not-allowed",opacity:1,transition:"all 0.2s",display:"flex",flexDirection:"column",alignItems:"center",gap:"2px",height:"60px",justifyContent:"center"},children:[a.jsx("span",{className:"body-bold",children:F.time}),F.available?a.jsx("span",{className:"caption",style:{color:L?"white":"var(--primary-dark)",fontSize:"var(--text-caption)"},children:L?"Выбрано":`${F.price}₽`}):a.jsx("span",{className:"caption",style:{color:"var(--busy-text)"},children:"Занято"})]},F.time)})})]}),a.jsxs("div",{style:{padding:"0 var(--spacing-xl) var(--spacing-xl)",display:"flex",gap:"var(--spacing-lg)",flexWrap:"wrap"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[a.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--white)",border:"2px solid var(--extra-light-gray)",borderRadius:"4px"}}),a.jsx("span",{className:"caption",children:"Свободно"})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[a.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--busy)",borderRadius:"4px"}}),a.jsx("span",{className:"caption",children:"Занято"})]})]}),a.jsxs("div",{className:"sticky-bottom-bar",style:{padding:"var(--spacing-xl)",borderRadius:"var(--radius-lg) var(--radius-lg) 0 0"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--spacing-sm)"},children:[a.jsx("span",{className:"body-small",style:{color:"var(--gray)"},children:p&&E[k]&&`${Ht(E[k].date,"d MMMM",{locale:Ml})}, ${p}-${Ht(vi(Qn(p,"HH:mm",new Date),v),"HH:mm")}`}),p&&((z=R.find(F=>F.time===p))==null?void 0:z.available)&&a.jsxs("span",{className:"h2",children:[(U=R.find(F=>F.time===p))==null?void 0:U.price," ₽"]})]}),a.jsx("button",{className:"flutter-button",style:{width:"100%"},onClick:V,disabled:!p,children:"Далее"})]})]})}function jhe(){const{clubId:t,courtId:e}=Ru(),n=Qr(),[r]=GA(),s=r.get("date"),i=r.get("time"),o=r.get("duration"),[l,c]=y.useState("open"),[u,d]=y.useState(!1),[h,p]=y.useState({name:"",phone:"",email:"",comment:""}),[m,v]=y.useState({}),[g,b]=y.useState(!1),x=[{id:"private",title:"Приватная игра",subtitle:"Только для вас и ваших друзей",icon:"🔒",iconColor:"var(--gray)",tags:["Только для вас","Без посторонних"],available:!1},{id:"open",title:"Открытая игра",subtitle:"Найдите партнёров для игры",icon:"👥",iconColor:"var(--primary)",tags:["Найти партнёров","Разделить оплату"],available:!0},{id:"find",title:"Найти игру",subtitle:"Присоединитесь к существующей игре",icon:"🔍",iconColor:"var(--gray)",tags:["12 открытых игр"],available:!1}],_=N=>{N.available?(c(N.id),d(!0)):window.confirm(`Функция "${N.title}" доступна только в мобильном приложении "Все корты".

Перейти в приложение?`)&&(window.location.href=`allcourts://club/${t}/court/${e}?date=${s}&time=${i}&duration=${o}`)},w=()=>{const N={};return h.name.trim()||(N.name="Укажите ваше имя"),h.phone.trim()?/^[\d\s\+\-\(\)]+$/.test(h.phone)||(N.phone="Неверный формат телефона"):N.phone="Укажите номер телефона",h.email&&!/\S+@\S+\.\S+/.test(h.email)&&(N.email="Неверный формат email"),v(N),Object.keys(N).length===0},I=async()=>{if(w()){b(!0);try{const N={venueId:t,courtId:e,date:s,startTime:i,endTime:Ht(vi(Qn(i,"HH:mm",new Date),parseInt(o)),"HH:mm"),duration:parseInt(o),gameType:l,customerName:h.name,customerPhone:h.phone,customerEmail:h.email,comment:h.comment,status:"pending",source:"web",createdAt:new Date,price:0},R=await Zo(Je(ye,"bookings"),N);n(`/club/${t}/booking-confirmation/${R.id}`)}catch(N){console.error("Error creating booking:",N),alert("Ошибка при создании бронирования. Попробуйте еще раз.")}finally{b(!1)}}};return u?a.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[a.jsx("div",{style:{backgroundColor:"var(--white)",padding:"var(--spacing-md) var(--spacing-xl)",boxShadow:"var(--shadow-sm)"},children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-md)"},children:[a.jsx("button",{onClick:()=>d(!1),style:{width:"40px",height:"40px",background:"var(--divider)",border:"none",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"},children:"←"}),a.jsx("div",{children:a.jsx("h1",{className:"h3",children:"Оформление бронирования"})})]})}),a.jsxs("div",{style:{padding:"var(--spacing-xl)"},children:[a.jsxs("div",{className:"info-section",style:{marginBottom:"var(--spacing-xl)"},children:[a.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Детали бронирования"}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-sm)"},children:[a.jsxs("div",{children:[a.jsx("span",{className:"caption",children:"Дата:"}),a.jsx("span",{className:"body",style:{marginLeft:"var(--spacing-xs)"},children:s&&Ht(Qn(s,"yyyy-MM-dd",new Date),"d MMMM yyyy",{locale:Ml})})]}),a.jsxs("div",{children:[a.jsx("span",{className:"caption",children:"Время:"}),a.jsxs("span",{className:"body",style:{marginLeft:"var(--spacing-xs)"},children:[i," - ",o&&Ht(vi(Qn(i,"HH:mm",new Date),parseInt(o)),"HH:mm")]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"caption",children:"Тип игры:"}),a.jsx("span",{className:"body",style:{marginLeft:"var(--spacing-xs)"},children:"Открытая игра"})]})]})]}),a.jsxs("div",{style:{marginBottom:"calc(80px + var(--spacing-xl))"},children:[a.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Контактные данные"}),a.jsxs("div",{style:{marginBottom:"var(--spacing-md)"},children:[a.jsx("label",{className:"caption",style:{display:"block",marginBottom:"var(--spacing-xs)"},children:"Ваше имя *"}),a.jsx("input",{type:"text",value:h.name,onChange:N=>p({...h,name:N.target.value}),style:{width:"100%",padding:"var(--spacing-md)",border:`2px solid ${m.name?"var(--error)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",fontSize:"var(--text-body)",transition:"border-color 0.2s",outline:"none"},onFocus:N=>N.target.style.borderColor="var(--primary)",onBlur:N=>N.target.style.borderColor=m.name?"var(--error)":"var(--extra-light-gray)"}),m.name&&a.jsx("span",{className:"caption",style:{color:"var(--error)",marginTop:"var(--spacing-xs)"},children:m.name})]}),a.jsxs("div",{style:{marginBottom:"var(--spacing-md)"},children:[a.jsx("label",{className:"caption",style:{display:"block",marginBottom:"var(--spacing-xs)"},children:"Телефон *"}),a.jsx("input",{type:"tel",value:h.phone,onChange:N=>p({...h,phone:N.target.value}),placeholder:"+7 (999) 123-45-67",style:{width:"100%",padding:"var(--spacing-md)",border:`2px solid ${m.phone?"var(--error)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",fontSize:"var(--text-body)",transition:"border-color 0.2s",outline:"none"},onFocus:N=>N.target.style.borderColor="var(--primary)",onBlur:N=>N.target.style.borderColor=m.phone?"var(--error)":"var(--extra-light-gray)"}),m.phone&&a.jsx("span",{className:"caption",style:{color:"var(--error)",marginTop:"var(--spacing-xs)"},children:m.phone})]}),a.jsxs("div",{style:{marginBottom:"var(--spacing-md)"},children:[a.jsx("label",{className:"caption",style:{display:"block",marginBottom:"var(--spacing-xs)"},children:"Email (необязательно)"}),a.jsx("input",{type:"email",value:h.email,onChange:N=>p({...h,email:N.target.value}),style:{width:"100%",padding:"var(--spacing-md)",border:`2px solid ${m.email?"var(--error)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",fontSize:"var(--text-body)",transition:"border-color 0.2s",outline:"none"},onFocus:N=>N.target.style.borderColor="var(--primary)",onBlur:N=>N.target.style.borderColor=m.email?"var(--error)":"var(--extra-light-gray)"}),m.email&&a.jsx("span",{className:"caption",style:{color:"var(--error)",marginTop:"var(--spacing-xs)"},children:m.email})]}),a.jsxs("div",{style:{marginBottom:"var(--spacing-md)"},children:[a.jsx("label",{className:"caption",style:{display:"block",marginBottom:"var(--spacing-xs)"},children:"Комментарий (необязательно)"}),a.jsx("textarea",{value:h.comment,onChange:N=>p({...h,comment:N.target.value}),rows:3,style:{width:"100%",padding:"var(--spacing-md)",border:"2px solid var(--extra-light-gray)",borderRadius:"var(--radius-md)",fontSize:"var(--text-body)",transition:"border-color 0.2s",outline:"none",resize:"vertical"},onFocus:N=>N.target.style.borderColor="var(--primary)",onBlur:N=>N.target.style.borderColor="var(--extra-light-gray)"})]}),a.jsx("div",{style:{backgroundColor:"var(--info)",color:"white",padding:"var(--spacing-md)",borderRadius:"var(--radius-md)"},children:a.jsx("p",{className:"caption",style:{color:"white"},children:"ℹ️ После отправки заявки с вами свяжется менеджер клуба для подтверждения бронирования"})})]})]}),a.jsx("div",{className:"sticky-bottom-bar",children:a.jsx("button",{className:"flutter-button",style:{width:"100%"},onClick:I,disabled:g,children:g?"Отправка...":"Отправить заявку"})})]}):a.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[a.jsx("div",{style:{backgroundColor:"var(--white)",padding:"var(--spacing-md) var(--spacing-xl)",boxShadow:"var(--shadow-sm)"},children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-md)"},children:[a.jsx("button",{onClick:()=>n(-1),style:{width:"40px",height:"40px",background:"var(--divider)",border:"none",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"},children:"←"}),a.jsx("div",{children:a.jsx("h1",{className:"h3",children:"Выберите формат игры"})})]})}),a.jsxs("div",{style:{padding:"var(--spacing-xl)"},children:[x.map(N=>a.jsxs("div",{onClick:()=>_(N),style:{backgroundColor:"var(--white)",borderRadius:"var(--radius-md)",padding:"var(--spacing-lg)",marginBottom:"var(--spacing-md)",cursor:"pointer",transition:"all 0.2s",border:`2px solid ${l===N.id&&N.available?"var(--primary)":"transparent"}`,boxShadow:l===N.id&&N.available?"0 2px 10px rgba(0, 211, 50, 0.1)":"none",opacity:N.available?1:.7,position:"relative"},onMouseEnter:R=>{N.available&&(R.currentTarget.style.transform="translateY(-2px)",R.currentTarget.style.boxShadow="var(--shadow-md)")},onMouseLeave:R=>{R.currentTarget.style.transform="none",R.currentTarget.style.boxShadow="none"},children:[!N.available&&a.jsx("div",{style:{position:"absolute",top:"var(--spacing-sm)",right:"var(--spacing-sm)",backgroundColor:"var(--secondary)",color:"white",padding:"4px 8px",borderRadius:"var(--radius-sm)",fontSize:"var(--text-tiny)",fontWeight:600},children:"В приложении"}),a.jsxs("div",{style:{display:"flex",gap:"var(--spacing-md)"},children:[a.jsx("div",{style:{width:"40px",height:"40px",backgroundColor:l===N.id&&N.available?"var(--primary)":"var(--divider)",borderRadius:"var(--radius-sm)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",flexShrink:0},children:a.jsx("span",{style:{filter:l===N.id&&N.available?"brightness(0) invert(1)":"none"},children:N.icon})}),a.jsxs("div",{style:{flex:1},children:[a.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-xxs)"},children:N.title}),a.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-sm)"},children:N.subtitle}),a.jsx("div",{style:{display:"flex",gap:"var(--spacing-xs)",flexWrap:"wrap"},children:N.tags.map((R,S)=>a.jsx("span",{style:{padding:"4px 16px",backgroundColor:l===N.id&&N.available?"var(--primary-light)":"var(--divider)",color:l===N.id&&N.available?"var(--primary-dark)":"var(--gray)",borderRadius:"var(--radius-xl)",fontSize:"var(--text-caption)",fontWeight:600},children:R},S))})]})]})]},N.id)),a.jsx("div",{style:{backgroundColor:"var(--warning)",color:"white",padding:"var(--spacing-md)",borderRadius:"var(--radius-md)",marginTop:"var(--spacing-xl)"},children:a.jsx("p",{className:"caption",style:{color:"white"},children:'⚠️ В веб-версии доступна только "Открытая игра". Для доступа ко всем типам игр скачайте мобильное приложение "Все корты".'})})]})]})}function Mhe(){const{clubId:t,bookingId:e}=Ru(),n=Qr(),[r,s]=y.useState(null),[i,o]=y.useState(null),[l,c]=y.useState(null),[u,d]=y.useState(!0),[h,p]=y.useState("");y.useEffect(()=>{m()},[e]);const m=async()=>{if(!e){p("ID бронирования не указан"),d(!1);return}try{const g=await sn(We(ye,"bookings",e));if(!g.exists()){p("Бронирование не найдено"),d(!1);return}const b={id:g.id,...g.data()};s(b);const x=await sn(We(ye,"venues",b.venueId));x.exists()&&o(x.data());const _=await sn(We(ye,"courts",b.courtId));_.exists()&&c(_.data()),d(!1)}catch(g){console.error("Error loading booking:",g),p("Ошибка при загрузке данных бронирования"),d(!1)}};if(u)return a.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[a.jsxs("div",{style:{textAlign:"center"},children:[a.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),a.jsx("p",{className:"body-small",children:"Загрузка..."})]}),a.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]});if(h)return a.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:a.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[a.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"❌"}),a.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Ошибка"}),a.jsx("p",{className:"body",style:{color:"var(--text-secondary)"},children:h})]})});if(!r||!i||!l)return null;const v=Qn(r.date,"yyyy-MM-dd",new Date);return a.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[a.jsxs("div",{style:{backgroundColor:"var(--success)",padding:"var(--spacing-3xl) var(--spacing-xl)",textAlign:"center",color:"white"},children:[a.jsx("div",{style:{width:"80px",height:"80px",backgroundColor:"white",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto var(--spacing-lg)",fontSize:"40px"},children:"✅"}),a.jsx("h1",{className:"h2",style:{color:"white",marginBottom:"var(--spacing-sm)"},children:"Заявка отправлена!"}),a.jsx("p",{className:"body",style:{color:"white",opacity:.9},children:"Ваша заявка на бронирование успешно отправлена"})]}),a.jsxs("div",{style:{padding:"var(--spacing-xl)"},children:[a.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)"},children:[a.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Что дальше?"}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-md)"},children:[a.jsxs("div",{style:{display:"flex",gap:"var(--spacing-md)"},children:[a.jsx("div",{style:{width:"32px",height:"32px",backgroundColor:"var(--primary-light)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,color:"var(--primary)"},children:"1"}),a.jsxs("div",{children:[a.jsx("p",{className:"body-bold",style:{marginBottom:"var(--spacing-xxs)"},children:"Ожидайте звонка"}),a.jsx("p",{className:"caption",children:"Менеджер клуба свяжется с вами в течение 30 минут"})]})]}),a.jsxs("div",{style:{display:"flex",gap:"var(--spacing-md)"},children:[a.jsx("div",{style:{width:"32px",height:"32px",backgroundColor:"var(--primary-light)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,color:"var(--primary)"},children:"2"}),a.jsxs("div",{children:[a.jsx("p",{className:"body-bold",style:{marginBottom:"var(--spacing-xxs)"},children:"Подтверждение бронирования"}),a.jsx("p",{className:"caption",children:"Вы получите SMS с подтверждением"})]})]}),a.jsxs("div",{style:{display:"flex",gap:"var(--spacing-md)"},children:[a.jsx("div",{style:{width:"32px",height:"32px",backgroundColor:"var(--primary-light)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,color:"var(--primary)"},children:"3"}),a.jsxs("div",{children:[a.jsx("p",{className:"body-bold",style:{marginBottom:"var(--spacing-xxs)"},children:"Оплата в клубе"}),a.jsx("p",{className:"caption",children:"Оплатите бронирование при посещении клуба"})]})]})]})]}),a.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)"},children:[a.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Детали бронирования"}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-md)"},children:[a.jsxs("div",{children:[a.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-xxs)"},children:"Клуб"}),a.jsx("p",{className:"body-bold",children:i.name}),a.jsx("p",{className:"caption",children:i.address})]}),a.jsx("div",{style:{height:"1px",backgroundColor:"var(--divider)",margin:"var(--spacing-xs) 0"}}),a.jsxs("div",{children:[a.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-xxs)"},children:"Корт"}),a.jsx("p",{className:"body-bold",children:l.name})]}),a.jsx("div",{style:{height:"1px",backgroundColor:"var(--divider)",margin:"var(--spacing-xs) 0"}}),a.jsxs("div",{style:{display:"flex",gap:"var(--spacing-xl)"},children:[a.jsxs("div",{style:{flex:1},children:[a.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-xxs)"},children:"Дата"}),a.jsx("p",{className:"body-bold",children:Ht(v,"d MMMM",{locale:Ml})})]}),a.jsxs("div",{style:{flex:1},children:[a.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-xxs)"},children:"Время"}),a.jsxs("p",{className:"body-bold",children:[r.startTime," - ",r.endTime]})]})]})]})]}),a.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)"},children:[a.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Ваши контакты"}),a.jsx("p",{className:"body",style:{marginBottom:"var(--spacing-xs)"},children:r.customerName}),a.jsx("p",{className:"caption",children:r.customerPhone}),r.customerEmail&&a.jsx("p",{className:"caption",children:r.customerEmail})]}),a.jsx("button",{className:"flutter-button",style:{width:"100%",marginBottom:"var(--spacing-md)"},onClick:()=>n(`/club/${t}`),children:"Вернуться к клубу"}),a.jsx("button",{className:"flutter-button-outlined",style:{width:"100%",backgroundColor:"transparent",color:"var(--primary)",border:"2px solid var(--primary)"},onClick:()=>{window.location.href=`allcourts://booking/${e}`},children:"Открыть в приложении 📱"}),a.jsxs("div",{style:{textAlign:"center",marginTop:"var(--spacing-3xl)",padding:"var(--spacing-xl)",backgroundColor:"var(--white)",borderRadius:"var(--radius-md)"},children:[a.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-sm)"},children:"Есть вопросы? Позвоните в клуб"}),a.jsxs("a",{href:`tel:${i.phone}`,style:{display:"inline-flex",alignItems:"center",gap:"var(--spacing-xs)",color:"var(--primary)",textDecoration:"none",fontSize:"var(--text-body-large)",fontWeight:600},children:["📞 ",i.phone]})]})]})]})}function Ohe(){var z,U;const{clubId:t,courtId:e}=Ru(),n=Qr(),[r,s]=y.useState(null),[i,o]=y.useState(null),[l,c]=y.useState([]),[u,d]=y.useState(Yc()),[h,p]=y.useState(null),[m,v]=y.useState(60),[g,b]=y.useState([60,90,120]),[x,_]=y.useState(!0),[w,I]=y.useState(""),[N,R]=y.useState([]),[S,E]=y.useState([]),[C,k]=y.useState(window.innerWidth<=768);y.useEffect(()=>{const F=()=>k(window.innerWidth<=768);return window.addEventListener("resize",F),()=>window.removeEventListener("resize",F)},[]),y.useEffect(()=>{A()},[]),y.useEffect(()=>{M()},[t,e]),y.useEffect(()=>{i&&r&&P()},[i,r,u,m]);const A=()=>{const F=[],L=["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],H=["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек"];for(let q=0;q<14;q++){const K=ya(Yc(),q);F.push({date:K,day:L[K.getDay()],dayNumber:Ht(K,"d"),month:q===0||K.getDate()===1?H[K.getMonth()]:void 0})}E(F)},M=async()=>{if(!t||!e){I("Некорректные параметры"),_(!1);return}try{const F=await sn(We(ye,"courts",e));if(!F.exists()){I("Корт не найден"),_(!1);return}const L={id:F.id,...F.data()};s(L);const H=await sn(We(ye,"venues",t));if(H.exists()){const q={id:H.id,...H.data()};if(o(q),q.bookingDurations){const K=[60,90,120].filter(te=>q.bookingDurations[te]!==!1);b(K),K.includes(m)||v(K[0]||60)}}_(!1)}catch(F){console.error("Error loading data:",F),I("Ошибка при загрузке данных"),_(!1)}},P=async()=>{if(!(!(i!=null&&i.workingHours)||!r))try{const F=Ht(u,"yyyy-MM-dd"),L=Lt(Je(ye,"bookings"),Ge("courtId","==",e),Ge("date","==",F),Ge("status","in",["confirmed","pending"])),q=(await It(L)).docs.map(K=>({id:K.id,...K.data()}));c(q),O(q)}catch(F){console.error("Error loading bookings:",F)}},O=F=>{if(!(i!=null&&i.workingHours)||!r)return;const H=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][u.getDay()],q=i.workingHours[H];if(!q)return;const K=[],te=Qn(q.open,"HH:mm",u),me=Qn(q.close,"HH:mm",u);let Q=te;const ce=new Date;for(;Sr(Q,me);){const ie=Ht(Q,"HH:mm"),re=vi(Q,m);let ge=!0;if(y4(u)&&Sr(Q,ce)&&(ge=!1),Ys(re,me)&&(ge=!1),ge)for(const W of F){const Z=Qn(W.startTime,"HH:mm",u),le=Qn(W.endTime,"HH:mm",u);if(Ys(Q,Z)&&Sr(Q,le)||Ys(re,Z)&&Sr(re,le)||Sr(Q,Z)&&Ys(re,le)||Ht(Q,"HH:mm")===W.startTime){ge=!1;break}}let ee=r.pricePerHour;const Y=Q.getHours();Y>=18&&Y<21?ee=Math.round(ee*1.2):(Y>=21||Y<7)&&(ee=Math.round(ee*.8)),K.push({time:ie,available:ge,price:Math.round(ee*m/60)}),Q=vi(Q,30)}R(K)},V=()=>{if(!h)return;const F=Ht(u,"yyyy-MM-dd");n(`/club/${t}/court/${e}/game-type?date=${F}&time=${h}&duration=${m}`)},B=F=>{const L=Yc();if(F<L)return!0;const H=ya(L,30);if(F>H)return!0;if(i!=null&&i.workingHours){const K=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][F.getDay()],te=i.workingHours[K];if(!te||!te.open&&!te.close)return!0}return!1};return x?a.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[a.jsxs("div",{style:{textAlign:"center"},children:[a.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),a.jsx("p",{className:"body-small",children:"Загрузка..."})]}),a.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]}):w?a.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:a.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[a.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"❌"}),a.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Ошибка"}),a.jsx("p",{className:"body",style:{color:"var(--text-secondary)"},children:w})]})}):a.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[a.jsx("div",{style:{backgroundColor:"var(--white)",padding:"var(--spacing-md) var(--spacing-xl)",boxShadow:"var(--shadow-sm)",position:"sticky",top:0,zIndex:10},children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-md)"},children:[a.jsx("button",{onClick:()=>n(-1),style:{width:"40px",height:"40px",background:"var(--divider)",border:"none",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"},children:"←"}),a.jsxs("div",{children:[a.jsx("h1",{className:"h3",style:{marginBottom:"4px"},children:"Выберите время"}),r&&i&&a.jsxs("p",{className:"caption",children:[i.name," • ",r.name]})]})]})}),a.jsx("div",{style:{padding:C?"var(--spacing-md)":"var(--spacing-xl)",paddingBottom:C?"calc(140px + var(--spacing-xl))":"var(--spacing-xl)",maxWidth:"1200px",margin:"0 auto"},children:a.jsxs("div",{style:{display:C?"block":"grid",gridTemplateColumns:C?"1fr":"1fr 2fr",gap:"var(--spacing-xl)"},children:[a.jsxs("div",{children:[a.jsxs("div",{style:{marginBottom:"var(--spacing-xl)"},children:[a.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Выберите дату"}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"var(--spacing-sm)"},children:S.map((F,L)=>{const H=Ht(u,"yyyy-MM-dd")===Ht(F.date,"yyyy-MM-dd"),q=B(F.date),K=L===0;return a.jsxs("div",{style:{textAlign:"center"},children:[F.month&&a.jsx("div",{className:"caption",style:{marginBottom:"var(--spacing-xs)",color:"var(--gray)",height:"16px"},children:F.month}),!F.month&&a.jsx("div",{style:{height:"16px",marginBottom:"var(--spacing-xs)"}}),a.jsxs("button",{onClick:()=>!q&&d(F.date),disabled:q,style:{width:"100%",aspectRatio:"1",backgroundColor:H?"var(--primary)":q?"var(--extra-light-gray)":"var(--white)",color:H?"white":q?"var(--gray)":"var(--dark)",border:`2px solid ${H||K&&!q?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",cursor:q?"not-allowed":"pointer",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",transition:"all 0.2s",opacity:q?.5:1,fontSize:"var(--text-caption)"},children:[a.jsx("span",{className:"caption-bold",children:F.day}),a.jsx("span",{className:"body-bold",children:F.dayNumber})]})]},L)})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Длительность игры"}),a.jsx("div",{style:{display:"flex",gap:"var(--spacing-sm)"},children:[60,90,120].map(F=>{const L=g.includes(F);return a.jsx("button",{onClick:()=>{L&&(v(F),p(null))},disabled:!L,style:{flex:1,padding:"var(--spacing-md)",backgroundColor:m===F?"var(--primary)":L?"var(--white)":"var(--extra-light-gray)",color:m===F?"white":L?"var(--dark)":"var(--gray)",border:`2px solid ${m===F?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",cursor:L?"pointer":"not-allowed",fontWeight:600,fontSize:"var(--text-body)",transition:"all 0.2s",opacity:L?1:.5},children:F===60?"1 час":F===90?"1.5 часа":"2 часа"},F)})})]})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:["Свободное время на ",Ht(u,"d MMMM",{locale:Ml})]}),N.length===0?a.jsx("div",{className:"flutter-card",style:{textAlign:"center",padding:"var(--spacing-2xl)"},children:a.jsx("p",{className:"body",style:{color:"var(--gray)"},children:"Нет доступных слотов на выбранную дату"})}):a.jsx("div",{style:{display:"grid",gridTemplateColumns:C?"repeat(3, 1fr)":"repeat(4, 1fr)",gap:"var(--spacing-sm)"},children:N.map(F=>{const L=h===F.time;return a.jsxs("button",{onClick:()=>F.available&&p(F.time),disabled:!F.available,style:{padding:"var(--spacing-md) var(--spacing-xs)",backgroundColor:F.available?L?"var(--primary)":"var(--primary-light)":"var(--busy)",color:F.available?L?"white":"var(--dark)":"var(--busy-text)",border:`2px solid ${F.available?L?"var(--primary)":"var(--available)":"var(--busy)"}`,borderRadius:"var(--radius-sm)",cursor:F.available?"pointer":"not-allowed",opacity:1,transition:"all 0.2s",display:"flex",flexDirection:"column",alignItems:"center",gap:"4px",minHeight:C?"60px":"70px",justifyContent:"center"},children:[a.jsxs("span",{className:"body-bold",style:{fontSize:"14px"},children:[F.time,"-",(()=>{const[H,q]=F.time.split(":").map(Number),K=vi(Qn(F.time,"HH:mm",new Date),m);return Ht(K,"HH:mm")})()]}),F.available?L&&a.jsx("span",{className:"caption",style:{color:"white",fontSize:"var(--text-caption)"},children:"Выбрано"}):a.jsx("span",{className:"caption",style:{color:"var(--busy-text)"},children:"Занято"})]},F.time)})}),a.jsxs("div",{style:{marginTop:"var(--spacing-lg)",display:"flex",gap:"var(--spacing-lg)",flexWrap:"wrap"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[a.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--primary-light)",border:"2px solid var(--available)",borderRadius:"4px"}}),a.jsx("span",{className:"caption",children:"Свободно"})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[a.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--busy)",borderRadius:"4px"}}),a.jsx("span",{className:"caption",children:"Занято"})]})]})]})]})}),a.jsxs("div",{className:"sticky-bottom-bar",style:{padding:"var(--spacing-xl)",borderRadius:"var(--radius-lg) var(--radius-lg) 0 0"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--spacing-sm)"},children:[a.jsx("span",{className:"body-small",style:{color:"var(--gray)"},children:h&&`${Ht(u,"d MMMM",{locale:Ml})}, ${h}-${Ht(vi(Qn(h,"HH:mm",new Date),m),"HH:mm")}`}),h&&((z=N.find(F=>F.time===h))==null?void 0:z.available)&&a.jsxs("span",{className:"h2",children:[(U=N.find(F=>F.time===h))==null?void 0:U.price," ₽"]})]}),a.jsx("button",{className:"flutter-button",style:{width:"100%"},onClick:V,disabled:!h,children:"Далее"})]})]})}const Lhe=r1({palette:{primary:{main:"#00A86B"},secondary:{main:"#1A1F36"},success:{main:"#10B981"},warning:{main:"#F59E0B"},error:{main:"#EF4444"},background:{default:"#F8F9FA"}},typography:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, sans-serif'}});function $he(){return a.jsxs(EU,{theme:Lhe,children:[a.jsx(RU,{}),a.jsx(RQ,{children:a.jsx(oF,{children:a.jsxs(nF,{children:[a.jsx(Vt,{path:"/",element:a.jsx(fm,{to:"/admin/dashboard",replace:!0})}),a.jsx(Vt,{path:"/info",element:a.jsx(Noe,{})}),a.jsx(Vt,{path:"/club/:clubId",element:a.jsx(qoe,{})}),a.jsx(Vt,{path:"/club/:clubId/court/:courtId/booking",element:a.jsx(Ohe,{})}),a.jsx(Vt,{path:"/club/:clubId/court/:courtId/date",element:a.jsx(Nhe,{})}),a.jsx(Vt,{path:"/club/:clubId/court/:courtId/time",element:a.jsx(Dhe,{})}),a.jsx(Vt,{path:"/club/:clubId/court/:courtId/game-type",element:a.jsx(jhe,{})}),a.jsx(Vt,{path:"/club/:clubId/booking-confirmation/:bookingId",element:a.jsx(Mhe,{})}),a.jsx(Vt,{path:"/login",element:a.jsx(doe,{})}),a.jsx(Vt,{path:"/register",element:a.jsx(hoe,{})}),a.jsx(Vt,{path:"/admin/login",element:a.jsx(fm,{to:"/login",replace:!0})}),a.jsx(Vt,{path:"/admin/register",element:a.jsx(fm,{to:"/register",replace:!0})}),a.jsxs(Vt,{path:"/admin",element:a.jsx(Aie,{children:a.jsx(uoe,{})}),children:[a.jsx(Vt,{path:"dashboard",element:a.jsx(woe,{})}),a.jsx(Vt,{path:"venues",element:a.jsx(Moe,{})}),a.jsx(Vt,{path:"billing-settings",element:a.jsx($oe,{})}),a.jsx(Vt,{path:"admins",element:a.jsx(joe,{})}),a.jsx(Vt,{path:"club",element:a.jsx(Coe,{})}),a.jsx(Vt,{path:"subscription",element:a.jsx(Ooe,{})}),a.jsx(Vt,{path:"payment-settings",element:a.jsx(Loe,{})}),a.jsx(Vt,{path:"courts",element:a.jsx(Toe,{})}),a.jsx(Vt,{path:"bookings",element:a.jsx(Poe,{})}),a.jsx(Vt,{path:"finance",element:a.jsx(Foe,{})}),a.jsx(Vt,{path:"customers",element:a.jsx(Aoe,{})}),a.jsx(Vt,{path:"marketing",element:a.jsx(Voe,{})}),a.jsx(Vt,{path:"settings",element:a.jsx("div",{children:"Настройки"})})]})]})})})]})}kx.createRoot(document.getElementById("root")).render(a.jsx(ot.StrictMode,{children:a.jsx($he,{})}));export{Bt as T,bce as a,_ce as b,Je as c,ye as d,ya as e,Ht as f,It as g,Zo as h,Sr as i,a as j,Ml as l,Ng as o,Lt as q,y as r,Yc as s,Ge as w};
