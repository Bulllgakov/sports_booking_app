const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/BookingModal-Df10epf5.js","assets/vendor-C_tjuDKg.js","assets/firebase-DA4P4dhI.js"])))=>i.map(i=>d[i]);
var ib=Object.defineProperty;var ab=(e,t,n)=>t in e?ib(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Fp=(e,t,n)=>ab(e,typeof t!="symbol"?t+"":t,n);import{r as h,a as Gm,R as ad,g as Qr,b as Fe,c as sa,N as Sa,u as Xt,d as lb,O as cb,e as Pr,L as ld,f as db,h as bo,B as ub,i as pb,j as tt}from"./vendor-C_tjuDKg.js";import{L as hb,a as ye,_ as qm,C as Km,r as Oa,s as Vt,j as iu,b as Mr,d as to,m as La,e as fb,S as mb,f as gb,h as Di,i as vb,k as yb,D as Qm,l as xb,n as bb,p as Cb,t as zp,u as Xm,v as wb,x as Ri,y as jb,z as gl,A as Sb,B as kb,E as Zm,F as Jm,G as eg,H as _b,I as Tb,J as tg,K as Eb,M as Pb,N as Mb,O as Ib,P as Nb,Q as Db,R as Rb,q as Ge,c as Ie,w as Pe,g as qe,U as dt,V as _e,W as cd,X as Ab,Y as ng,Z as Bp,$ as Wp,a0 as Hp,a1 as Tt,a2 as $b,a3 as mr,a4 as Ai,o as vr,T as $r,a5 as rg,a6 as ka,a7 as Ob,a8 as sg}from"./firebase-DA4P4dhI.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var og={exports:{}},vl={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lb=h,Fb=Symbol.for("react.element"),zb=Symbol.for("react.fragment"),Bb=Object.prototype.hasOwnProperty,Wb=Lb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hb={key:!0,ref:!0,__self:!0,__source:!0};function ig(e,t,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Bb.call(t,r)&&!Hb.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Fb,type:e,key:i,ref:a,props:s,_owner:Wb.current}}vl.Fragment=zb;vl.jsx=ig;vl.jsxs=ig;og.exports=vl;var o=og.exports,dd={},Up=Gm;dd.createRoot=Up.createRoot,dd.hydrateRoot=Up.hydrateRoot;function wr(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}const Ub=Object.freeze(Object.defineProperty({__proto__:null,default:wr},Symbol.toStringTag,{value:"Module"})),hs="$$material";function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b.apply(null,arguments)}function J(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Vb(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function Yb(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var Gb=function(){function e(n){var r=this;this._insertTag=function(s){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,i),r.tags.push(s)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Yb(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var i=Vb(s);try{i.insertRule(r,i.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var s;return(s=r.parentNode)==null?void 0:s.removeChild(r)}),this.tags=[],this.ctr=0},e}(),Yt="-ms-",Fa="-moz-",nt="-webkit-",ag="comm",au="rule",lu="decl",qb="@import",lg="@keyframes",Kb="@layer",Qb=Math.abs,yl=String.fromCharCode,Xb=Object.assign;function Zb(e,t){return Ut(e,0)^45?(((t<<2^Ut(e,0))<<2^Ut(e,1))<<2^Ut(e,2))<<2^Ut(e,3):0}function cg(e){return e.trim()}function Jb(e,t){return(e=t.exec(e))?e[0]:e}function rt(e,t,n){return e.replace(t,n)}function ud(e,t){return e.indexOf(t)}function Ut(e,t){return e.charCodeAt(t)|0}function xi(e,t,n){return e.slice(t,n)}function Gn(e){return e.length}function cu(e){return e.length}function oa(e,t){return t.push(e),e}function e0(e,t){return e.map(t).join("")}var xl=1,no=1,dg=0,fn=0,Ot=0,Co="";function bl(e,t,n,r,s,i,a){return{value:e,root:t,parent:n,type:r,props:s,children:i,line:xl,column:no,length:a,return:""}}function Bo(e,t){return Xb(bl("",null,null,"",null,null,0),e,{length:-e.length},t)}function t0(){return Ot}function n0(){return Ot=fn>0?Ut(Co,--fn):0,no--,Ot===10&&(no=1,xl--),Ot}function Cn(){return Ot=fn<dg?Ut(Co,fn++):0,no++,Ot===10&&(no=1,xl++),Ot}function nr(){return Ut(Co,fn)}function _a(){return fn}function $i(e,t){return xi(Co,e,t)}function bi(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ug(e){return xl=no=1,dg=Gn(Co=e),fn=0,[]}function pg(e){return Co="",e}function Ta(e){return cg($i(fn-1,pd(e===91?e+2:e===40?e+1:e)))}function r0(e){for(;(Ot=nr())&&Ot<33;)Cn();return bi(e)>2||bi(Ot)>3?"":" "}function s0(e,t){for(;--t&&Cn()&&!(Ot<48||Ot>102||Ot>57&&Ot<65||Ot>70&&Ot<97););return $i(e,_a()+(t<6&&nr()==32&&Cn()==32))}function pd(e){for(;Cn();)switch(Ot){case e:return fn;case 34:case 39:e!==34&&e!==39&&pd(Ot);break;case 40:e===41&&pd(e);break;case 92:Cn();break}return fn}function o0(e,t){for(;Cn()&&e+Ot!==57;)if(e+Ot===84&&nr()===47)break;return"/*"+$i(t,fn-1)+"*"+yl(e===47?e:Cn())}function i0(e){for(;!bi(nr());)Cn();return $i(e,fn)}function a0(e){return pg(Ea("",null,null,null,[""],e=ug(e),0,[0],e))}function Ea(e,t,n,r,s,i,a,l,c){for(var d=0,u=0,p=a,f=0,m=0,v=0,g=1,y=1,x=1,w=0,C="",S=s,P=i,k=r,T=C;y;)switch(v=w,w=Cn()){case 40:if(v!=108&&Ut(T,p-1)==58){ud(T+=rt(Ta(w),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:T+=Ta(w);break;case 9:case 10:case 13:case 32:T+=r0(v);break;case 92:T+=s0(_a()-1,7);continue;case 47:switch(nr()){case 42:case 47:oa(l0(o0(Cn(),_a()),t,n),c);break;default:T+="/"}break;case 123*g:l[d++]=Gn(T)*x;case 125*g:case 59:case 0:switch(w){case 0:case 125:y=0;case 59+u:x==-1&&(T=rt(T,/\f/g,"")),m>0&&Gn(T)-p&&oa(m>32?Yp(T+";",r,n,p-1):Yp(rt(T," ","")+";",r,n,p-2),c);break;case 59:T+=";";default:if(oa(k=Vp(T,t,n,d,u,s,l,C,S=[],P=[],p),i),w===123)if(u===0)Ea(T,t,k,k,S,i,p,l,P);else switch(f===99&&Ut(T,3)===110?100:f){case 100:case 108:case 109:case 115:Ea(e,k,k,r&&oa(Vp(e,k,k,0,0,s,l,C,s,S=[],p),P),s,P,p,l,r?S:P);break;default:Ea(T,k,k,k,[""],P,0,l,P)}}d=u=m=0,g=x=1,C=T="",p=a;break;case 58:p=1+Gn(T),m=v;default:if(g<1){if(w==123)--g;else if(w==125&&g++==0&&n0()==125)continue}switch(T+=yl(w),w*g){case 38:x=u>0?1:(T+="\f",-1);break;case 44:l[d++]=(Gn(T)-1)*x,x=1;break;case 64:nr()===45&&(T+=Ta(Cn())),f=nr(),u=p=Gn(C=T+=i0(_a())),w++;break;case 45:v===45&&Gn(T)==2&&(g=0)}}return i}function Vp(e,t,n,r,s,i,a,l,c,d,u){for(var p=s-1,f=s===0?i:[""],m=cu(f),v=0,g=0,y=0;v<r;++v)for(var x=0,w=xi(e,p+1,p=Qb(g=a[v])),C=e;x<m;++x)(C=cg(g>0?f[x]+" "+w:rt(w,/&\f/g,f[x])))&&(c[y++]=C);return bl(e,t,n,s===0?au:l,c,d,u)}function l0(e,t,n){return bl(e,t,n,ag,yl(t0()),xi(e,2,-2),0)}function Yp(e,t,n,r){return bl(e,t,n,lu,xi(e,0,r),xi(e,r+1,-1),r)}function Vs(e,t){for(var n="",r=cu(e),s=0;s<r;s++)n+=t(e[s],s,e,t)||"";return n}function c0(e,t,n,r){switch(e.type){case Kb:if(e.children.length)break;case qb:case lu:return e.return=e.return||e.value;case ag:return"";case lg:return e.return=e.value+"{"+Vs(e.children,r)+"}";case au:e.value=e.props.join(",")}return Gn(n=Vs(e.children,r))?e.return=e.value+"{"+n+"}":""}function d0(e){var t=cu(e);return function(n,r,s,i){for(var a="",l=0;l<t;l++)a+=e[l](n,r,s,i)||"";return a}}function u0(e){return function(t){t.root||(t=t.return)&&e(t)}}function hg(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var p0=function(t,n,r){for(var s=0,i=0;s=i,i=nr(),s===38&&i===12&&(n[r]=1),!bi(i);)Cn();return $i(t,fn)},h0=function(t,n){var r=-1,s=44;do switch(bi(s)){case 0:s===38&&nr()===12&&(n[r]=1),t[r]+=p0(fn-1,n,r);break;case 2:t[r]+=Ta(s);break;case 4:if(s===44){t[++r]=nr()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=yl(s)}while(s=Cn());return t},f0=function(t,n){return pg(h0(ug(t),n))},Gp=new WeakMap,m0=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,s=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!Gp.get(r))&&!s){Gp.set(t,!0);for(var i=[],a=f0(n,i),l=r.props,c=0,d=0;c<a.length;c++)for(var u=0;u<l.length;u++,d++)t.props[d]=i[c]?a[c].replace(/&\f/g,l[u]):l[u]+" "+a[c]}}},g0=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function fg(e,t){switch(Zb(e,t)){case 5103:return nt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return nt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return nt+e+Fa+e+Yt+e+e;case 6828:case 4268:return nt+e+Yt+e+e;case 6165:return nt+e+Yt+"flex-"+e+e;case 5187:return nt+e+rt(e,/(\w+).+(:[^]+)/,nt+"box-$1$2"+Yt+"flex-$1$2")+e;case 5443:return nt+e+Yt+"flex-item-"+rt(e,/flex-|-self/,"")+e;case 4675:return nt+e+Yt+"flex-line-pack"+rt(e,/align-content|flex-|-self/,"")+e;case 5548:return nt+e+Yt+rt(e,"shrink","negative")+e;case 5292:return nt+e+Yt+rt(e,"basis","preferred-size")+e;case 6060:return nt+"box-"+rt(e,"-grow","")+nt+e+Yt+rt(e,"grow","positive")+e;case 4554:return nt+rt(e,/([^-])(transform)/g,"$1"+nt+"$2")+e;case 6187:return rt(rt(rt(e,/(zoom-|grab)/,nt+"$1"),/(image-set)/,nt+"$1"),e,"")+e;case 5495:case 3959:return rt(e,/(image-set\([^]*)/,nt+"$1$`$1");case 4968:return rt(rt(e,/(.+:)(flex-)?(.*)/,nt+"box-pack:$3"+Yt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+nt+e+e;case 4095:case 3583:case 4068:case 2532:return rt(e,/(.+)-inline(.+)/,nt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Gn(e)-1-t>6)switch(Ut(e,t+1)){case 109:if(Ut(e,t+4)!==45)break;case 102:return rt(e,/(.+:)(.+)-([^]+)/,"$1"+nt+"$2-$3$1"+Fa+(Ut(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~ud(e,"stretch")?fg(rt(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Ut(e,t+1)!==115)break;case 6444:switch(Ut(e,Gn(e)-3-(~ud(e,"!important")&&10))){case 107:return rt(e,":",":"+nt)+e;case 101:return rt(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+nt+(Ut(e,14)===45?"inline-":"")+"box$3$1"+nt+"$2$3$1"+Yt+"$2box$3")+e}break;case 5936:switch(Ut(e,t+11)){case 114:return nt+e+Yt+rt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return nt+e+Yt+rt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return nt+e+Yt+rt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return nt+e+Yt+e+e}return e}var v0=function(t,n,r,s){if(t.length>-1&&!t.return)switch(t.type){case lu:t.return=fg(t.value,t.length);break;case lg:return Vs([Bo(t,{value:rt(t.value,"@","@"+nt)})],s);case au:if(t.length)return e0(t.props,function(i){switch(Jb(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Vs([Bo(t,{props:[rt(i,/:(read-\w+)/,":"+Fa+"$1")]})],s);case"::placeholder":return Vs([Bo(t,{props:[rt(i,/:(plac\w+)/,":"+nt+"input-$1")]}),Bo(t,{props:[rt(i,/:(plac\w+)/,":"+Fa+"$1")]}),Bo(t,{props:[rt(i,/:(plac\w+)/,Yt+"input-$1")]})],s)}return""})}},y0=[v0],mg=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var y=g.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var s=t.stylisPlugins||y0,i={},a,l=[];a=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(g){for(var y=g.getAttribute("data-emotion").split(" "),x=1;x<y.length;x++)i[y[x]]=!0;l.push(g)});var c,d=[m0,g0];{var u,p=[c0,u0(function(g){u.insert(g)})],f=d0(d.concat(s,p)),m=function(y){return Vs(a0(y),f)};c=function(y,x,w,C){u=w,m(y?y+"{"+x.styles+"}":x.styles),C&&(v.inserted[x.name]=!0)}}var v={key:n,sheet:new Gb({key:n,container:a,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:i,registered:{},insert:c};return v.sheet.hydrate(l),v},gg={exports:{}},ut={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wt=typeof Symbol=="function"&&Symbol.for,du=Wt?Symbol.for("react.element"):60103,uu=Wt?Symbol.for("react.portal"):60106,Cl=Wt?Symbol.for("react.fragment"):60107,wl=Wt?Symbol.for("react.strict_mode"):60108,jl=Wt?Symbol.for("react.profiler"):60114,Sl=Wt?Symbol.for("react.provider"):60109,kl=Wt?Symbol.for("react.context"):60110,pu=Wt?Symbol.for("react.async_mode"):60111,_l=Wt?Symbol.for("react.concurrent_mode"):60111,Tl=Wt?Symbol.for("react.forward_ref"):60112,El=Wt?Symbol.for("react.suspense"):60113,x0=Wt?Symbol.for("react.suspense_list"):60120,Pl=Wt?Symbol.for("react.memo"):60115,Ml=Wt?Symbol.for("react.lazy"):60116,b0=Wt?Symbol.for("react.block"):60121,C0=Wt?Symbol.for("react.fundamental"):60117,w0=Wt?Symbol.for("react.responder"):60118,j0=Wt?Symbol.for("react.scope"):60119;function Sn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case du:switch(e=e.type,e){case pu:case _l:case Cl:case jl:case wl:case El:return e;default:switch(e=e&&e.$$typeof,e){case kl:case Tl:case Ml:case Pl:case Sl:return e;default:return t}}case uu:return t}}}function vg(e){return Sn(e)===_l}ut.AsyncMode=pu;ut.ConcurrentMode=_l;ut.ContextConsumer=kl;ut.ContextProvider=Sl;ut.Element=du;ut.ForwardRef=Tl;ut.Fragment=Cl;ut.Lazy=Ml;ut.Memo=Pl;ut.Portal=uu;ut.Profiler=jl;ut.StrictMode=wl;ut.Suspense=El;ut.isAsyncMode=function(e){return vg(e)||Sn(e)===pu};ut.isConcurrentMode=vg;ut.isContextConsumer=function(e){return Sn(e)===kl};ut.isContextProvider=function(e){return Sn(e)===Sl};ut.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===du};ut.isForwardRef=function(e){return Sn(e)===Tl};ut.isFragment=function(e){return Sn(e)===Cl};ut.isLazy=function(e){return Sn(e)===Ml};ut.isMemo=function(e){return Sn(e)===Pl};ut.isPortal=function(e){return Sn(e)===uu};ut.isProfiler=function(e){return Sn(e)===jl};ut.isStrictMode=function(e){return Sn(e)===wl};ut.isSuspense=function(e){return Sn(e)===El};ut.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Cl||e===_l||e===jl||e===wl||e===El||e===x0||typeof e=="object"&&e!==null&&(e.$$typeof===Ml||e.$$typeof===Pl||e.$$typeof===Sl||e.$$typeof===kl||e.$$typeof===Tl||e.$$typeof===C0||e.$$typeof===w0||e.$$typeof===j0||e.$$typeof===b0)};ut.typeOf=Sn;gg.exports=ut;var S0=gg.exports,yg=S0,k0={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},_0={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},xg={};xg[yg.ForwardRef]=k0;xg[yg.Memo]=_0;var T0=!0;function bg(e,t,n){var r="";return n.split(" ").forEach(function(s){e[s]!==void 0?t.push(e[s]+";"):s&&(r+=s+" ")}),r}var hu=function(t,n,r){var s=t.key+"-"+n.name;(r===!1||T0===!1)&&t.registered[s]===void 0&&(t.registered[s]=n.styles)},fu=function(t,n,r){hu(t,n,r);var s=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var i=n;do t.insert(n===i?"."+s:"",i,t.sheet,!0),i=i.next;while(i!==void 0)}};function E0(e){for(var t=0,n,r=0,s=e.length;s>=4;++r,s-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(s){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var P0={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},M0=/[A-Z]|^ms/g,I0=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Cg=function(t){return t.charCodeAt(1)===45},qp=function(t){return t!=null&&typeof t!="boolean"},Tc=hg(function(e){return Cg(e)?e:e.replace(M0,"-$&").toLowerCase()}),Kp=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(I0,function(r,s,i){return qn={name:s,styles:i,next:qn},s})}return P0[t]!==1&&!Cg(t)&&typeof n=="number"&&n!==0?n+"px":n};function Ci(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var s=n;if(s.anim===1)return qn={name:s.name,styles:s.styles,next:qn},s.name;var i=n;if(i.styles!==void 0){var a=i.next;if(a!==void 0)for(;a!==void 0;)qn={name:a.name,styles:a.styles,next:qn},a=a.next;var l=i.styles+";";return l}return N0(e,t,n)}case"function":{if(e!==void 0){var c=qn,d=n(e);return qn=c,Ci(e,t,d)}break}}var u=n;if(t==null)return u;var p=t[u];return p!==void 0?p:u}function N0(e,t,n){var r="";if(Array.isArray(n))for(var s=0;s<n.length;s++)r+=Ci(e,t,n[s])+";";else for(var i in n){var a=n[i];if(typeof a!="object"){var l=a;t!=null&&t[l]!==void 0?r+=i+"{"+t[l]+"}":qp(l)&&(r+=Tc(i)+":"+Kp(i,l)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&(t==null||t[a[0]]===void 0))for(var c=0;c<a.length;c++)qp(a[c])&&(r+=Tc(i)+":"+Kp(i,a[c])+";");else{var d=Ci(e,t,a);switch(i){case"animation":case"animationName":{r+=Tc(i)+":"+d+";";break}default:r+=i+"{"+d+"}"}}}return r}var Qp=/label:\s*([^\s;{]+)\s*(;|$)/g,qn;function Oi(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,s="";qn=void 0;var i=e[0];if(i==null||i.raw===void 0)r=!1,s+=Ci(n,t,i);else{var a=i;s+=a[0]}for(var l=1;l<e.length;l++)if(s+=Ci(n,t,e[l]),r){var c=i;s+=c[l]}Qp.lastIndex=0;for(var d="",u;(u=Qp.exec(s))!==null;)d+="-"+u[1];var p=E0(s)+d;return{name:p,styles:s,next:qn}}var D0=function(t){return t()},wg=ad.useInsertionEffect?ad.useInsertionEffect:!1,jg=wg||D0,Xp=wg||h.useLayoutEffect,Sg=h.createContext(typeof HTMLElement<"u"?mg({key:"css"}):null),R0=Sg.Provider,mu=function(t){return h.forwardRef(function(n,r){var s=h.useContext(Sg);return t(n,s,r)})},wo=h.createContext({}),gu={}.hasOwnProperty,hd="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",A0=function(t,n){var r={};for(var s in n)gu.call(n,s)&&(r[s]=n[s]);return r[hd]=t,r},$0=function(t){var n=t.cache,r=t.serialized,s=t.isStringTag;return hu(n,r,s),jg(function(){return fu(n,r,s)}),null},O0=mu(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var s=e[hd],i=[r],a="";typeof e.className=="string"?a=bg(t.registered,i,e.className):e.className!=null&&(a=e.className+" ");var l=Oi(i,void 0,h.useContext(wo));a+=t.key+"-"+l.name;var c={};for(var d in e)gu.call(e,d)&&d!=="css"&&d!==hd&&(c[d]=e[d]);return c.className=a,n&&(c.ref=n),h.createElement(h.Fragment,null,h.createElement($0,{cache:t,serialized:l,isStringTag:typeof s=="string"}),h.createElement(s,c))}),L0=O0,Ec={exports:{}},Zp;function kg(){return Zp||(Zp=1,function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var i in s)({}).hasOwnProperty.call(s,i)&&(n[i]=s[i])}return n},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(Ec)),Ec.exports}kg();var Jp=function(t,n){var r=arguments;if(n==null||!gu.call(n,"css"))return h.createElement.apply(void 0,r);var s=r.length,i=new Array(s);i[0]=L0,i[1]=A0(t,n);for(var a=2;a<s;a++)i[a]=r[a];return h.createElement.apply(null,i)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(Jp||(Jp={}));var F0=mu(function(e,t){var n=e.styles,r=Oi([n],void 0,h.useContext(wo)),s=h.useRef();return Xp(function(){var i=t.key+"-global",a=new t.sheet.constructor({key:i,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),l=!1,c=document.querySelector('style[data-emotion="'+i+" "+r.name+'"]');return t.sheet.tags.length&&(a.before=t.sheet.tags[0]),c!==null&&(l=!0,c.setAttribute("data-emotion",i),a.hydrate([c])),s.current=[a,l],function(){a.flush()}},[t]),Xp(function(){var i=s.current,a=i[0],l=i[1];if(l){i[1]=!1;return}if(r.next!==void 0&&fu(t,r.next,!0),a.tags.length){var c=a.tags[a.tags.length-1].nextElementSibling;a.before=c,a.flush()}t.insert("",r,a,!1)},[t,r.name]),null});function Ss(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Oi(t)}function Ir(){var e=Ss.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var z0=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,B0=hg(function(e){return z0.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),W0=B0,H0=function(t){return t!=="theme"},eh=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?W0:H0},th=function(t,n,r){var s;if(n){var i=n.shouldForwardProp;s=t.__emotion_forwardProp&&i?function(a){return t.__emotion_forwardProp(a)&&i(a)}:i}return typeof s!="function"&&r&&(s=t.__emotion_forwardProp),s},U0=function(t){var n=t.cache,r=t.serialized,s=t.isStringTag;return hu(n,r,s),jg(function(){return fu(n,r,s)}),null},V0=function e(t,n){var r=t.__emotion_real===t,s=r&&t.__emotion_base||t,i,a;n!==void 0&&(i=n.label,a=n.target);var l=th(t,n,r),c=l||eh(s),d=!c("as");return function(){var u=arguments,p=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(i!==void 0&&p.push("label:"+i+";"),u[0]==null||u[0].raw===void 0)p.push.apply(p,u);else{var f=u[0];p.push(f[0]);for(var m=u.length,v=1;v<m;v++)p.push(u[v],f[v])}var g=mu(function(y,x,w){var C=d&&y.as||s,S="",P=[],k=y;if(y.theme==null){k={};for(var T in y)k[T]=y[T];k.theme=h.useContext(wo)}typeof y.className=="string"?S=bg(x.registered,P,y.className):y.className!=null&&(S=y.className+" ");var _=Oi(p.concat(P),x.registered,k);S+=x.key+"-"+_.name,a!==void 0&&(S+=" "+a);var j=d&&l===void 0?eh(C):c,E={};for(var A in y)d&&A==="as"||j(A)&&(E[A]=y[A]);return E.className=S,w&&(E.ref=w),h.createElement(h.Fragment,null,h.createElement(U0,{cache:x,serialized:_,isStringTag:typeof C=="string"}),h.createElement(C,E))});return g.displayName=i!==void 0?i:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=s,g.__emotion_styles=p,g.__emotion_forwardProp=l,Object.defineProperty(g,"toString",{value:function(){return"."+a}}),g.withComponent=function(y,x){var w=e(y,b({},n,x,{shouldForwardProp:th(g,x,!0)}));return w.apply(void 0,p)},g}},Y0=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],fd=V0.bind(null);Y0.forEach(function(e){fd[e]=fd(e)});function G0(e,t){const n=mg({key:"css",prepend:e});if(t){const r=n.insert;n.insert=(...s)=>(s[1].styles.match(/^@layer\s+[^{]*$/)||(s[1].styles=`@layer mui {${s[1].styles}}`),r(...s))}return n}const Pc=new Map;function q0(e){const{injectFirst:t,enableCssLayer:n,children:r}=e,s=h.useMemo(()=>{const i=`${t}-${n}`;if(typeof document=="object"&&Pc.has(i))return Pc.get(i);const a=G0(t,n);return Pc.set(i,a),a},[t,n]);return t||n?o.jsx(R0,{value:s,children:r}):r}function K0(e){return e==null||Object.keys(e).length===0}function _g(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?s=>t(K0(s)?n:s):t;return o.jsx(F0,{styles:r})}function vu(e,t){return fd(e,t)}const Tg=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},nh=[];function za(e){return nh[0]=e,Oi(nh)}const Q0=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:_g,StyledEngineProvider:q0,ThemeContext:wo,css:Ss,default:vu,internal_processStyles:Tg,internal_serializeStyles:za,keyframes:Ir},Symbol.toStringTag,{value:"Module"}));function fr(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Eg(e){if(h.isValidElement(e)||!fr(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=Eg(e[n])}),t}function rn(e,t,n={clone:!0}){const r=n.clone?b({},e):e;return fr(e)&&fr(t)&&Object.keys(t).forEach(s=>{h.isValidElement(t[s])?r[s]=t[s]:fr(t[s])&&Object.prototype.hasOwnProperty.call(e,s)&&fr(e[s])?r[s]=rn(e[s],t[s],n):n.clone?r[s]=fr(t[s])?Eg(t[s]):t[s]:r[s]=t[s]}),r}const X0=Object.freeze(Object.defineProperty({__proto__:null,default:rn,isPlainObject:fr},Symbol.toStringTag,{value:"Module"})),Z0=["values","unit","step"],J0=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>b({},n,{[r.key]:r.val}),{})};function Pg(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,s=J(e,Z0),i=J0(t),a=Object.keys(i);function l(f){return`@media (min-width:${typeof t[f]=="number"?t[f]:f}${n})`}function c(f){return`@media (max-width:${(typeof t[f]=="number"?t[f]:f)-r/100}${n})`}function d(f,m){const v=a.indexOf(m);return`@media (min-width:${typeof t[f]=="number"?t[f]:f}${n}) and (max-width:${(v!==-1&&typeof t[a[v]]=="number"?t[a[v]]:m)-r/100}${n})`}function u(f){return a.indexOf(f)+1<a.length?d(f,a[a.indexOf(f)+1]):l(f)}function p(f){const m=a.indexOf(f);return m===0?l(a[1]):m===a.length-1?c(a[m]):d(f,a[a.indexOf(f)+1]).replace("@media","@media not all and")}return b({keys:a,values:i,up:l,down:c,between:d,only:u,not:p,unit:n},s)}const e1={borderRadius:4};function ii(e,t){return t?rn(e,t,{clone:!1}):e}const yu={xs:0,sm:600,md:900,lg:1200,xl:1536},rh={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${yu[e]}px)`};function mn(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const i=r.breakpoints||rh;return t.reduce((a,l,c)=>(a[i.up(i.keys[c])]=n(t[c]),a),{})}if(typeof t=="object"){const i=r.breakpoints||rh;return Object.keys(t).reduce((a,l)=>{if(Object.keys(i.values||yu).indexOf(l)!==-1){const c=i.up(l);a[c]=n(t[l],l)}else{const c=l;a[c]=t[c]}return a},{})}return n(t)}function Mg(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((r,s)=>{const i=e.up(s);return r[i]={},r},{}))||{}}function md(e,t){return e.reduce((n,r)=>{const s=n[r];return(!s||Object.keys(s).length===0)&&delete n[r],n},t)}function t1(e,...t){const n=Mg(e),r=[n,...t].reduce((s,i)=>rn(s,i),{});return md(Object.keys(n),r)}function n1(e,t){if(typeof e!="object")return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((s,i)=>{i<e.length&&(n[s]=!0)}):r.forEach(s=>{e[s]!=null&&(n[s]=!0)}),n}function ds({values:e,breakpoints:t,base:n}){const r=n||n1(e,t),s=Object.keys(r);if(s.length===0)return e;let i;return s.reduce((a,l,c)=>(Array.isArray(e)?(a[l]=e[c]!=null?e[c]:e[i],i=c):typeof e=="object"?(a[l]=e[l]!=null?e[l]:e[i],i=l):a[l]=e,a),{})}function X(e){if(typeof e!="string")throw new Error(wr(7));return e.charAt(0).toUpperCase()+e.slice(1)}const r1=Object.freeze(Object.defineProperty({__proto__:null,default:X},Symbol.toStringTag,{value:"Module"}));function Il(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((s,i)=>s&&s[i]?s[i]:null,e);if(r!=null)return r}return t.split(".").reduce((r,s)=>r&&r[s]!=null?r[s]:null,e)}function Ba(e,t,n,r=n){let s;return typeof e=="function"?s=e(n):Array.isArray(e)?s=e[n]||r:s=Il(e,n)||r,t&&(s=t(s,r,e)),s}function Dt(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:s}=e,i=a=>{if(a[t]==null)return null;const l=a[t],c=a.theme,d=Il(c,r)||{};return mn(a,l,p=>{let f=Ba(d,s,p);return p===f&&typeof p=="string"&&(f=Ba(d,s,`${t}${p==="default"?"":X(p)}`,p)),n===!1?f:{[n]:f}})};return i.propTypes={},i.filterProps=[t],i}function s1(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const o1={m:"margin",p:"padding"},i1={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},sh={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},a1=s1(e=>{if(e.length>2)if(sh[e])e=sh[e];else return[e];const[t,n]=e.split(""),r=o1[t],s=i1[n]||"";return Array.isArray(s)?s.map(i=>r+i):[r+s]}),xu=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],bu=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...xu,...bu];function Li(e,t,n,r){var s;const i=(s=Il(e,t,!1))!=null?s:n;return typeof i=="number"?a=>typeof a=="string"?a:i*a:Array.isArray(i)?a=>typeof a=="string"?a:i[a]:typeof i=="function"?i:()=>{}}function Cu(e){return Li(e,"spacing",8)}function fs(e,t){if(typeof t=="string"||t==null)return t;const n=Math.abs(t),r=e(n);return t>=0?r:typeof r=="number"?-r:`-${r}`}function l1(e,t){return n=>e.reduce((r,s)=>(r[s]=fs(t,n),r),{})}function c1(e,t,n,r){if(t.indexOf(n)===-1)return null;const s=a1(n),i=l1(s,r),a=e[n];return mn(e,a,i)}function Ig(e,t){const n=Cu(e.theme);return Object.keys(e).map(r=>c1(e,t,r,n)).reduce(ii,{})}function kt(e){return Ig(e,xu)}kt.propTypes={};kt.filterProps=xu;function _t(e){return Ig(e,bu)}_t.propTypes={};_t.filterProps=bu;function d1(e=8){if(e.mui)return e;const t=Cu({spacing:e}),n=(...r)=>(r.length===0?[1]:r).map(i=>{const a=t(i);return typeof a=="number"?`${a}px`:a}).join(" ");return n.mui=!0,n}function Nl(...e){const t=e.reduce((r,s)=>(s.filterProps.forEach(i=>{r[i]=s}),r),{}),n=r=>Object.keys(r).reduce((s,i)=>t[i]?ii(s,t[i](r)):s,{});return n.propTypes={},n.filterProps=e.reduce((r,s)=>r.concat(s.filterProps),[]),n}function Pn(e){return typeof e!="number"?e:`${e}px solid`}function $n(e,t){return Dt({prop:e,themeKey:"borders",transform:t})}const u1=$n("border",Pn),p1=$n("borderTop",Pn),h1=$n("borderRight",Pn),f1=$n("borderBottom",Pn),m1=$n("borderLeft",Pn),g1=$n("borderColor"),v1=$n("borderTopColor"),y1=$n("borderRightColor"),x1=$n("borderBottomColor"),b1=$n("borderLeftColor"),C1=$n("outline",Pn),w1=$n("outlineColor"),Dl=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=Li(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:fs(t,r)});return mn(e,e.borderRadius,n)}return null};Dl.propTypes={};Dl.filterProps=["borderRadius"];Nl(u1,p1,h1,f1,m1,g1,v1,y1,x1,b1,Dl,C1,w1);const Rl=e=>{if(e.gap!==void 0&&e.gap!==null){const t=Li(e.theme,"spacing",8),n=r=>({gap:fs(t,r)});return mn(e,e.gap,n)}return null};Rl.propTypes={};Rl.filterProps=["gap"];const Al=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=Li(e.theme,"spacing",8),n=r=>({columnGap:fs(t,r)});return mn(e,e.columnGap,n)}return null};Al.propTypes={};Al.filterProps=["columnGap"];const $l=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=Li(e.theme,"spacing",8),n=r=>({rowGap:fs(t,r)});return mn(e,e.rowGap,n)}return null};$l.propTypes={};$l.filterProps=["rowGap"];const j1=Dt({prop:"gridColumn"}),S1=Dt({prop:"gridRow"}),k1=Dt({prop:"gridAutoFlow"}),_1=Dt({prop:"gridAutoColumns"}),T1=Dt({prop:"gridAutoRows"}),E1=Dt({prop:"gridTemplateColumns"}),P1=Dt({prop:"gridTemplateRows"}),M1=Dt({prop:"gridTemplateAreas"}),I1=Dt({prop:"gridArea"});Nl(Rl,Al,$l,j1,S1,k1,_1,T1,E1,P1,M1,I1);function Ys(e,t){return t==="grey"?t:e}const N1=Dt({prop:"color",themeKey:"palette",transform:Ys}),D1=Dt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Ys}),R1=Dt({prop:"backgroundColor",themeKey:"palette",transform:Ys});Nl(N1,D1,R1);function bn(e){return e<=1&&e!==0?`${e*100}%`:e}const A1=Dt({prop:"width",transform:bn}),wu=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var r,s;const i=((r=e.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||yu[n];return i?((s=e.theme)==null||(s=s.breakpoints)==null?void 0:s.unit)!=="px"?{maxWidth:`${i}${e.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:bn(n)}};return mn(e,e.maxWidth,t)}return null};wu.filterProps=["maxWidth"];const $1=Dt({prop:"minWidth",transform:bn}),O1=Dt({prop:"height",transform:bn}),L1=Dt({prop:"maxHeight",transform:bn}),F1=Dt({prop:"minHeight",transform:bn});Dt({prop:"size",cssProperty:"width",transform:bn});Dt({prop:"size",cssProperty:"height",transform:bn});const z1=Dt({prop:"boxSizing"});Nl(A1,wu,$1,O1,L1,F1,z1);const Fi={border:{themeKey:"borders",transform:Pn},borderTop:{themeKey:"borders",transform:Pn},borderRight:{themeKey:"borders",transform:Pn},borderBottom:{themeKey:"borders",transform:Pn},borderLeft:{themeKey:"borders",transform:Pn},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Pn},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Dl},color:{themeKey:"palette",transform:Ys},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Ys},backgroundColor:{themeKey:"palette",transform:Ys},p:{style:_t},pt:{style:_t},pr:{style:_t},pb:{style:_t},pl:{style:_t},px:{style:_t},py:{style:_t},padding:{style:_t},paddingTop:{style:_t},paddingRight:{style:_t},paddingBottom:{style:_t},paddingLeft:{style:_t},paddingX:{style:_t},paddingY:{style:_t},paddingInline:{style:_t},paddingInlineStart:{style:_t},paddingInlineEnd:{style:_t},paddingBlock:{style:_t},paddingBlockStart:{style:_t},paddingBlockEnd:{style:_t},m:{style:kt},mt:{style:kt},mr:{style:kt},mb:{style:kt},ml:{style:kt},mx:{style:kt},my:{style:kt},margin:{style:kt},marginTop:{style:kt},marginRight:{style:kt},marginBottom:{style:kt},marginLeft:{style:kt},marginX:{style:kt},marginY:{style:kt},marginInline:{style:kt},marginInlineStart:{style:kt},marginInlineEnd:{style:kt},marginBlock:{style:kt},marginBlockStart:{style:kt},marginBlockEnd:{style:kt},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Rl},rowGap:{style:$l},columnGap:{style:Al},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:bn},maxWidth:{style:wu},minWidth:{transform:bn},height:{transform:bn},maxHeight:{transform:bn},minHeight:{transform:bn},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function B1(...e){const t=e.reduce((r,s)=>r.concat(Object.keys(s)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function W1(e,t){return typeof e=="function"?e(t):e}function Ng(){function e(n,r,s,i){const a={[n]:r,theme:s},l=i[n];if(!l)return{[n]:r};const{cssProperty:c=n,themeKey:d,transform:u,style:p}=l;if(r==null)return null;if(d==="typography"&&r==="inherit")return{[n]:r};const f=Il(s,d)||{};return p?p(a):mn(a,r,v=>{let g=Ba(f,u,v);return v===g&&typeof v=="string"&&(g=Ba(f,u,`${n}${v==="default"?"":X(v)}`,v)),c===!1?g:{[c]:g}})}function t(n){var r;const{sx:s,theme:i={},nested:a}=n||{};if(!s)return null;const l=(r=i.unstable_sxConfig)!=null?r:Fi;function c(d){let u=d;if(typeof d=="function")u=d(i);else if(typeof d!="object")return d;if(!u)return null;const p=Mg(i.breakpoints),f=Object.keys(p);let m=p;return Object.keys(u).forEach(v=>{const g=W1(u[v],i);if(g!=null)if(typeof g=="object")if(l[v])m=ii(m,e(v,g,i,l));else{const y=mn({theme:i},g,x=>({[v]:x}));B1(y,g)?m[v]=t({sx:g,theme:i,nested:!0}):m=ii(m,y)}else m=ii(m,e(v,g,i,l))}),!a&&i.modularCssLayers?{"@layer sx":md(f,m)}:md(f,m)}return Array.isArray(s)?s.map(c):c(s)}return t}const jo=Ng();jo.filterProps=["sx"];function Dg(e,t){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}:n.palette.mode===e?t:{}}const H1=["breakpoints","palette","spacing","shape"];function So(e={},...t){const{breakpoints:n={},palette:r={},spacing:s,shape:i={}}=e,a=J(e,H1),l=Pg(n),c=d1(s);let d=rn({breakpoints:l,direction:"ltr",components:{},palette:b({mode:"light"},r),spacing:c,shape:b({},e1,i)},a);return d.applyStyles=Dg,d=t.reduce((u,p)=>rn(u,p),d),d.unstable_sxConfig=b({},Fi,a==null?void 0:a.unstable_sxConfig),d.unstable_sx=function(p){return jo({sx:p,theme:this})},d}const U1=Object.freeze(Object.defineProperty({__proto__:null,default:So,private_createBreakpoints:Pg,unstable_applyStyles:Dg},Symbol.toStringTag,{value:"Module"}));function V1(e){return Object.keys(e).length===0}function Ol(e=null){const t=h.useContext(wo);return!t||V1(t)?e:t}const Y1=So();function ko(e=Y1){return Ol(e)}function Mc(e){const t=za(e);return e!==t&&t.styles?(t.styles.match(/^@layer\s+[^{]*$/)||(t.styles=`@layer global{${t.styles}}`),t):e}function Rg({styles:e,themeId:t,defaultTheme:n={}}){const r=ko(n),s=t&&r[t]||r;let i=typeof e=="function"?e(s):e;return s.modularCssLayers&&(Array.isArray(i)?i=i.map(a=>Mc(typeof a=="function"?a(s):a)):i=Mc(i)),o.jsx(_g,{styles:i})}const G1=["sx"],q1=e=>{var t,n;const r={systemProps:{},otherProps:{}},s=(t=e==null||(n=e.theme)==null?void 0:n.unstable_sxConfig)!=null?t:Fi;return Object.keys(e).forEach(i=>{s[i]?r.systemProps[i]=e[i]:r.otherProps[i]=e[i]}),r};function zi(e){const{sx:t}=e,n=J(e,G1),{systemProps:r,otherProps:s}=q1(n);let i;return Array.isArray(t)?i=[r,...t]:typeof t=="function"?i=(...a)=>{const l=t(...a);return fr(l)?b({},r,l):r}:i=b({},r,t),b({},s,{sx:i})}const K1=Object.freeze(Object.defineProperty({__proto__:null,default:jo,extendSxProp:zi,unstable_createStyleFunctionSx:Ng,unstable_defaultSxConfig:Fi},Symbol.toStringTag,{value:"Module"})),oh=e=>e,Q1=()=>{let e=oh;return{configure(t){e=t},generate(t){return e(t)},reset(){e=oh}}},Ag=Q1();function $g(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=$g(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function re(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=$g(e))&&(r&&(r+=" "),r+=t);return r}const X1=["className","component"];function Z1(e={}){const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:s}=e,i=vu("div",{shouldForwardProp:l=>l!=="theme"&&l!=="sx"&&l!=="as"})(jo);return h.forwardRef(function(c,d){const u=ko(n),p=zi(c),{className:f,component:m="div"}=p,v=J(p,X1);return o.jsx(i,b({as:m,ref:d,className:re(f,s?s(r):r),theme:t&&u[t]||u},v))})}const J1={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function he(e,t,n="Mui"){const r=J1[t];return r?`${n}-${r}`:`${Ag.generate(e)}-${t}`}function fe(e,t,n="Mui"){const r={};return t.forEach(s=>{r[s]=he(e,s,n)}),r}var Og={exports:{}},ht={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ju=Symbol.for("react.transitional.element"),Su=Symbol.for("react.portal"),Ll=Symbol.for("react.fragment"),Fl=Symbol.for("react.strict_mode"),zl=Symbol.for("react.profiler"),Bl=Symbol.for("react.consumer"),Wl=Symbol.for("react.context"),Hl=Symbol.for("react.forward_ref"),Ul=Symbol.for("react.suspense"),Vl=Symbol.for("react.suspense_list"),Yl=Symbol.for("react.memo"),Gl=Symbol.for("react.lazy"),eC=Symbol.for("react.view_transition"),tC=Symbol.for("react.client.reference");function On(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case ju:switch(e=e.type,e){case Ll:case zl:case Fl:case Ul:case Vl:case eC:return e;default:switch(e=e&&e.$$typeof,e){case Wl:case Hl:case Gl:case Yl:return e;case Bl:return e;default:return t}}case Su:return t}}}ht.ContextConsumer=Bl;ht.ContextProvider=Wl;ht.Element=ju;ht.ForwardRef=Hl;ht.Fragment=Ll;ht.Lazy=Gl;ht.Memo=Yl;ht.Portal=Su;ht.Profiler=zl;ht.StrictMode=Fl;ht.Suspense=Ul;ht.SuspenseList=Vl;ht.isContextConsumer=function(e){return On(e)===Bl};ht.isContextProvider=function(e){return On(e)===Wl};ht.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ju};ht.isForwardRef=function(e){return On(e)===Hl};ht.isFragment=function(e){return On(e)===Ll};ht.isLazy=function(e){return On(e)===Gl};ht.isMemo=function(e){return On(e)===Yl};ht.isPortal=function(e){return On(e)===Su};ht.isProfiler=function(e){return On(e)===zl};ht.isStrictMode=function(e){return On(e)===Fl};ht.isSuspense=function(e){return On(e)===Ul};ht.isSuspenseList=function(e){return On(e)===Vl};ht.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ll||e===zl||e===Fl||e===Ul||e===Vl||typeof e=="object"&&e!==null&&(e.$$typeof===Gl||e.$$typeof===Yl||e.$$typeof===Wl||e.$$typeof===Bl||e.$$typeof===Hl||e.$$typeof===tC||e.getModuleId!==void 0)};ht.typeOf=On;Og.exports=ht;var ih=Og.exports;const nC=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function Lg(e){const t=`${e}`.match(nC);return t&&t[1]||""}function Fg(e,t=""){return e.displayName||e.name||Lg(e)||t}function ah(e,t,n){const r=Fg(t);return e.displayName||(r!==""?`${n}(${r})`:n)}function rC(e){if(e!=null){if(typeof e=="string")return e;if(typeof e=="function")return Fg(e,"Component");if(typeof e=="object")switch(e.$$typeof){case ih.ForwardRef:return ah(e,e.render,"ForwardRef");case ih.Memo:return ah(e,e.type,"memo");default:return}}}const sC=Object.freeze(Object.defineProperty({__proto__:null,default:rC,getFunctionName:Lg},Symbol.toStringTag,{value:"Module"})),oC=["ownerState"],iC=["variants"],aC=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function lC(e){return Object.keys(e).length===0}function cC(e){return typeof e=="string"&&e.charCodeAt(0)>96}function Ic(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function lh(e,t){return t&&e&&typeof e=="object"&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}const dC=So(),uC=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function ia({defaultTheme:e,theme:t,themeId:n}){return lC(t)?e:t[n]||t}function pC(e){return e?(t,n)=>n[e]:null}function Pa(e,t,n){let{ownerState:r}=t,s=J(t,oC);const i=typeof e=="function"?e(b({ownerState:r},s)):e;if(Array.isArray(i))return i.flatMap(a=>Pa(a,b({ownerState:r},s),n));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:a=[]}=i;let c=J(i,iC);return a.forEach(d=>{let u=!0;if(typeof d.props=="function"?u=d.props(b({ownerState:r},s,r)):Object.keys(d.props).forEach(p=>{(r==null?void 0:r[p])!==d.props[p]&&s[p]!==d.props[p]&&(u=!1)}),u){Array.isArray(c)||(c=[c]);const p=typeof d.style=="function"?d.style(b({ownerState:r},s,r)):d.style;c.push(n?lh(za(p),n):p)}}),c}return n?lh(za(i),n):i}function hC(e={}){const{themeId:t,defaultTheme:n=dC,rootShouldForwardProp:r=Ic,slotShouldForwardProp:s=Ic}=e,i=a=>jo(b({},a,{theme:ia(b({},a,{defaultTheme:n,themeId:t}))}));return i.__mui_systemSx=!0,(a,l={})=>{Tg(a,k=>k.filter(T=>!(T!=null&&T.__mui_systemSx)));const{name:c,slot:d,skipVariantsResolver:u,skipSx:p,overridesResolver:f=pC(uC(d))}=l,m=J(l,aC),v=c&&c.startsWith("Mui")||d?"components":"custom",g=u!==void 0?u:d&&d!=="Root"&&d!=="root"||!1,y=p||!1;let x,w=Ic;d==="Root"||d==="root"?w=r:d?w=s:cC(a)&&(w=void 0);const C=vu(a,b({shouldForwardProp:w,label:x},m)),S=k=>typeof k=="function"&&k.__emotion_real!==k||fr(k)?T=>{const _=ia({theme:T.theme,defaultTheme:n,themeId:t});return Pa(k,b({},T,{theme:_}),_.modularCssLayers?v:void 0)}:k,P=(k,...T)=>{let _=S(k);const j=T?T.map(S):[];c&&f&&j.push(L=>{const R=ia(b({},L,{defaultTheme:n,themeId:t}));if(!R.components||!R.components[c]||!R.components[c].styleOverrides)return null;const M=R.components[c].styleOverrides,D={};return Object.entries(M).forEach(([I,O])=>{D[I]=Pa(O,b({},L,{theme:R}),R.modularCssLayers?"theme":void 0)}),f(L,D)}),c&&!g&&j.push(L=>{var R;const M=ia(b({},L,{defaultTheme:n,themeId:t})),D=M==null||(R=M.components)==null||(R=R[c])==null?void 0:R.variants;return Pa({variants:D},b({},L,{theme:M}),M.modularCssLayers?"theme":void 0)}),y||j.push(i);const E=j.length-T.length;if(Array.isArray(k)&&E>0){const L=new Array(E).fill("");_=[...k,...L],_.raw=[...k.raw,...L]}const A=C(_,...j);return a.muiName&&(A.muiName=a.muiName),A};return C.withConfig&&(P.withConfig=C.withConfig),P}}const zg=hC();function wi(e,t){const n=b({},t);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=b({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const s=e[r]||{},i=t[r];n[r]={},!i||!Object.keys(i)?n[r]=s:!s||!Object.keys(s)?n[r]=i:(n[r]=b({},i),Object.keys(s).forEach(a=>{n[r][a]=wi(s[a],i[a])}))}else n[r]===void 0&&(n[r]=e[r])}),n}function Bg(e){const{theme:t,name:n,props:r}=e;return!t||!t.components||!t.components[n]||!t.components[n].defaultProps?r:wi(t.components[n].defaultProps,r)}function ku({props:e,name:t,defaultTheme:n,themeId:r}){let s=ko(n);return r&&(s=s[r]||s),Bg({theme:s,name:t,props:e})}const sn=typeof window<"u"?h.useLayoutEffect:h.useEffect;function fC(e,t,n,r,s){const[i,a]=h.useState(()=>s&&n?n(e).matches:r?r(e).matches:t);return sn(()=>{let l=!0;if(!n)return;const c=n(e),d=()=>{l&&a(c.matches)};return d(),c.addListener(d),()=>{l=!1,c.removeListener(d)}},[e,n]),i}const Wg=h.useSyncExternalStore;function mC(e,t,n,r,s){const i=h.useCallback(()=>t,[t]),a=h.useMemo(()=>{if(s&&n)return()=>n(e).matches;if(r!==null){const{matches:u}=r(e);return()=>u}return i},[i,e,r,s,n]),[l,c]=h.useMemo(()=>{if(n===null)return[i,()=>()=>{}];const u=n(e);return[()=>u.matches,p=>(u.addListener(p),()=>{u.removeListener(p)})]},[i,n,e]);return Wg(c,l,a)}function gC(e,t={}){const n=Ol(),r=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:s=!1,matchMedia:i=r?window.matchMedia:null,ssrMatchMedia:a=null,noSsr:l=!1}=Bg({name:"MuiUseMediaQuery",props:t,theme:n});let c=e;return c=c.replace(/^@media( ?)/m,""),(Wg!==void 0?mC:fC)(c,s,i,a,l)}function Hg(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}const vC=Object.freeze(Object.defineProperty({__proto__:null,default:Hg},Symbol.toStringTag,{value:"Module"}));function yC(e,t=0,n=1){return Hg(e,t,n)}function xC(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,s)=>s<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Ug(e){if(e.type)return e;if(e.charAt(0)==="#")return Ug(xC(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(wr(9,e));let r=e.substring(t+1,e.length-1),s;if(n==="color"){if(r=r.split(" "),s=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(s)===-1)throw new Error(wr(10,s))}else r=r.split(",");return r=r.map(i=>parseFloat(i)),{type:n,values:r,colorSpace:s}}function bC(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((s,i)=>i<3?parseInt(s,10):s):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function ro(e,t){return e=Ug(e),t=yC(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,bC(e)}function ch(...e){return e.reduce((t,n)=>n==null?t:function(...s){t.apply(this,s),n.apply(this,s)},()=>{})}function Vg(e,t=166){let n;function r(...s){const i=()=>{e.apply(this,s)};clearTimeout(n),n=setTimeout(i,t)}return r.clear=()=>{clearTimeout(n)},r}function Ma(e,t){var n,r;return h.isValidElement(e)&&t.indexOf((n=e.type.muiName)!=null?n:(r=e.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function Bt(e){return e&&e.ownerDocument||document}function ms(e){return Bt(e).defaultView||window}function gd(e,t){typeof e=="function"?e(t):e&&(e.current=t)}let dh=0;function CC(e){const[t,n]=h.useState(e),r=e||t;return h.useEffect(()=>{t==null&&(dh+=1,n(`mui-${dh}`))},[t]),r}const uh=ad.useId;function _o(e){if(uh!==void 0){const t=uh();return e??t}return CC(e)}function ar({controlled:e,default:t,name:n,state:r="value"}){const{current:s}=h.useRef(e!==void 0),[i,a]=h.useState(t),l=s?e:i,c=h.useCallback(d=>{s||a(d)},[]);return[l,c]}function Re(e){const t=h.useRef(e);return sn(()=>{t.current=e}),h.useRef((...n)=>(0,t.current)(...n)).current}function vt(...e){return h.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{gd(n,t)})},e)}const ph={};function wC(e,t){const n=h.useRef(ph);return n.current===ph&&(n.current=e(t)),n}const jC=[];function SC(e){h.useEffect(e,jC)}class Bi{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new Bi}start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}}function Or(){const e=wC(Bi.create).current;return SC(e.disposeEffect),e}let ql=!0,vd=!1;const kC=new Bi,_C={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function TC(e){const{type:t,tagName:n}=e;return!!(n==="INPUT"&&_C[t]&&!e.readOnly||n==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function EC(e){e.metaKey||e.altKey||e.ctrlKey||(ql=!0)}function Nc(){ql=!1}function PC(){this.visibilityState==="hidden"&&vd&&(ql=!0)}function MC(e){e.addEventListener("keydown",EC,!0),e.addEventListener("mousedown",Nc,!0),e.addEventListener("pointerdown",Nc,!0),e.addEventListener("touchstart",Nc,!0),e.addEventListener("visibilitychange",PC,!0)}function IC(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return ql||TC(t)}function Yg(){const e=h.useCallback(s=>{s!=null&&MC(s.ownerDocument)},[]),t=h.useRef(!1);function n(){return t.current?(vd=!0,kC.start(100,()=>{vd=!1}),t.current=!1,!0):!1}function r(s){return IC(s)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:r,onBlur:n,ref:e}}function Gg(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}function ge(e,t,n=void 0){const r={};return Object.keys(e).forEach(s=>{r[s]=e[s].reduce((i,a)=>{if(a){const l=t(a);l!==""&&i.push(l),n&&n[a]&&i.push(n[a])}return i},[]).join(" ")}),r}function so(e){return typeof e=="string"}function Bs(e,t,n){return e===void 0||so(e)?t:b({},t,{ownerState:b({},t.ownerState,n)})}function Wa(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function hh(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function qg(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:s,className:i}=e;if(!t){const m=re(n==null?void 0:n.className,i,s==null?void 0:s.className,r==null?void 0:r.className),v=b({},n==null?void 0:n.style,s==null?void 0:s.style,r==null?void 0:r.style),g=b({},n,s,r);return m.length>0&&(g.className=m),Object.keys(v).length>0&&(g.style=v),{props:g,internalRef:void 0}}const a=Wa(b({},s,r)),l=hh(r),c=hh(s),d=t(a),u=re(d==null?void 0:d.className,n==null?void 0:n.className,i,s==null?void 0:s.className,r==null?void 0:r.className),p=b({},d==null?void 0:d.style,n==null?void 0:n.style,s==null?void 0:s.style,r==null?void 0:r.style),f=b({},d,n,c,l);return u.length>0&&(f.className=u),Object.keys(p).length>0&&(f.style=p),{props:f,internalRef:d.ref}}function Kg(e,t,n){return typeof e=="function"?e(t,n):e}const NC=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Vr(e){var t;const{elementType:n,externalSlotProps:r,ownerState:s,skipResolvingSlotProps:i=!1}=e,a=J(e,NC),l=i?{}:Kg(r,s),{props:c,internalRef:d}=qg(b({},a,{externalSlotProps:l})),u=vt(d,l==null?void 0:l.ref,(t=e.additionalProps)==null?void 0:t.ref);return Bs(n,b({},c,{ref:u}),s)}function ks(e){if(parseInt(h.version,10)>=19){var t;return(e==null||(t=e.props)==null?void 0:t.ref)||null}return(e==null?void 0:e.ref)||null}const Qg=h.createContext(null);function Xg(){return h.useContext(Qg)}const DC=typeof Symbol=="function"&&Symbol.for,RC=DC?Symbol.for("mui.nested"):"__THEME_NESTED__";function AC(e,t){return typeof t=="function"?t(e):b({},e,t)}function $C(e){const{children:t,theme:n}=e,r=Xg(),s=h.useMemo(()=>{const i=r===null?n:AC(r,n);return i!=null&&(i[RC]=r!==null),i},[n,r]);return o.jsx(Qg.Provider,{value:s,children:t})}const OC=["value"],Zg=h.createContext();function LC(e){let{value:t}=e,n=J(e,OC);return o.jsx(Zg.Provider,b({value:t??!0},n))}const _u=()=>{const e=h.useContext(Zg);return e??!1},Jg=h.createContext(void 0);function FC({value:e,children:t}){return o.jsx(Jg.Provider,{value:e,children:t})}function zC(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const s=t.components[n];return s.defaultProps?wi(s.defaultProps,r):!s.styleOverrides&&!s.variants?wi(s,r):r}function BC({props:e,name:t}){const n=h.useContext(Jg);return zC({props:e,name:t,theme:{components:n}})}function WC(e){const t=Ol(),n=_o()||"",{modularCssLayers:r}=e;let s="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!r||t!==null?s="":typeof r=="string"?s=r.replace(/mui(?!\.)/g,s):s=`@layer ${s};`,sn(()=>{const i=document.querySelector("head");if(!i)return;const a=i.firstChild;if(s){var l;if(a&&(l=a.hasAttribute)!=null&&l.call(a,"data-mui-layer-order")&&a.getAttribute("data-mui-layer-order")===n)return;const d=document.createElement("style");d.setAttribute("data-mui-layer-order",n),d.textContent=s,i.prepend(d)}else{var c;(c=i.querySelector(`style[data-mui-layer-order="${n}"]`))==null||c.remove()}},[s,n]),s?o.jsx(Rg,{styles:s}):null}const fh={};function mh(e,t,n,r=!1){return h.useMemo(()=>{const s=e&&t[e]||t;if(typeof n=="function"){const i=n(s),a=e?b({},t,{[e]:i}):i;return r?()=>a:a}return e?b({},t,{[e]:n}):b({},t,n)},[e,t,n,r])}function HC(e){const{children:t,theme:n,themeId:r}=e,s=Ol(fh),i=Xg()||fh,a=mh(r,s,n),l=mh(r,i,n,!0),c=a.direction==="rtl",d=WC(a);return o.jsx($C,{theme:l,children:o.jsx(wo.Provider,{value:a,children:o.jsx(LC,{value:c,children:o.jsxs(FC,{value:a==null?void 0:a.components,children:[d,t]})})})})}function jr(e){"@babel/helpers - typeof";return jr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jr(e)}function UC(e,t){if(jr(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(jr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ev(e){var t=UC(e,"string");return jr(t)=="symbol"?t:t+""}const VC=["className","component","disableGutters","fixed","maxWidth","classes"],YC=So(),GC=zg("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${X(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),qC=e=>ku({props:e,name:"MuiContainer",defaultTheme:YC}),KC=(e,t)=>{const n=c=>he(t,c),{classes:r,fixed:s,disableGutters:i,maxWidth:a}=e,l={root:["root",a&&`maxWidth${X(String(a))}`,s&&"fixed",i&&"disableGutters"]};return ge(l,n,r)};function QC(e={}){const{createStyledComponent:t=GC,useThemeProps:n=qC,componentName:r="MuiContainer"}=e,s=t(({theme:a,ownerState:l})=>b({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!l.disableGutters&&{paddingLeft:a.spacing(2),paddingRight:a.spacing(2),[a.breakpoints.up("sm")]:{paddingLeft:a.spacing(3),paddingRight:a.spacing(3)}}),({theme:a,ownerState:l})=>l.fixed&&Object.keys(a.breakpoints.values).reduce((c,d)=>{const u=d,p=a.breakpoints.values[u];return p!==0&&(c[a.breakpoints.up(u)]={maxWidth:`${p}${a.breakpoints.unit}`}),c},{}),({theme:a,ownerState:l})=>b({},l.maxWidth==="xs"&&{[a.breakpoints.up("xs")]:{maxWidth:Math.max(a.breakpoints.values.xs,444)}},l.maxWidth&&l.maxWidth!=="xs"&&{[a.breakpoints.up(l.maxWidth)]:{maxWidth:`${a.breakpoints.values[l.maxWidth]}${a.breakpoints.unit}`}}));return h.forwardRef(function(l,c){const d=n(l),{className:u,component:p="div",disableGutters:f=!1,fixed:m=!1,maxWidth:v="lg"}=d,g=J(d,VC),y=b({},d,{component:p,disableGutters:f,fixed:m,maxWidth:v}),x=KC(y,r);return o.jsx(s,b({as:p,ownerState:y,className:re(x.root,u),ref:c},g))})}const XC=["component","direction","spacing","divider","children","className","useFlexGap"],ZC=So(),JC=zg("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function ew(e){return ku({props:e,name:"MuiStack",defaultTheme:ZC})}function tw(e,t){const n=h.Children.toArray(e).filter(Boolean);return n.reduce((r,s,i)=>(r.push(s),i<n.length-1&&r.push(h.cloneElement(t,{key:`separator-${i}`})),r),[])}const nw=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],rw=({ownerState:e,theme:t})=>{let n=b({display:"flex",flexDirection:"column"},mn({theme:t},ds({values:e.direction,breakpoints:t.breakpoints.values}),r=>({flexDirection:r})));if(e.spacing){const r=Cu(t),s=Object.keys(t.breakpoints.values).reduce((c,d)=>((typeof e.spacing=="object"&&e.spacing[d]!=null||typeof e.direction=="object"&&e.direction[d]!=null)&&(c[d]=!0),c),{}),i=ds({values:e.direction,base:s}),a=ds({values:e.spacing,base:s});typeof i=="object"&&Object.keys(i).forEach((c,d,u)=>{if(!i[c]){const f=d>0?i[u[d-1]]:"column";i[c]=f}}),n=rn(n,mn({theme:t},a,(c,d)=>e.useFlexGap?{gap:fs(r,c)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${nw(d?i[d]:e.direction)}`]:fs(r,c)}}))}return n=t1(t.breakpoints,n),n};function sw(e={}){const{createStyledComponent:t=JC,useThemeProps:n=ew,componentName:r="MuiStack"}=e,s=()=>ge({root:["root"]},c=>he(r,c),{}),i=t(rw);return h.forwardRef(function(c,d){const u=n(c),p=zi(u),{component:f="div",direction:m="column",spacing:v=0,divider:g,children:y,className:x,useFlexGap:w=!1}=p,C=J(p,XC),S={direction:m,spacing:v,useFlexGap:w},P=s();return o.jsx(i,b({as:f,ownerState:S,ref:d,className:re(P.root,x)},C,{children:g?tw(y,g):y}))})}function ow(e,t){return b({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}var Rt={},tv={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(tv);var nv=tv.exports;const iw=Qr(Ub),aw=Qr(vC);var rv=nv;Object.defineProperty(Rt,"__esModule",{value:!0});var ze=Rt.alpha=av;Rt.blend=xw;Rt.colorChannel=void 0;var oo=Rt.darken=Eu;Rt.decomposeColor=Nn;var lw=Rt.emphasize=lv,cw=Rt.getContrastRatio=fw;Rt.getLuminance=Ha;Rt.hexToRgb=sv;Rt.hslToRgb=iv;var io=Rt.lighten=Pu;Rt.private_safeAlpha=mw;Rt.private_safeColorChannel=void 0;Rt.private_safeDarken=gw;Rt.private_safeEmphasize=yw;Rt.private_safeLighten=vw;Rt.recomposeColor=To;Rt.rgbToHex=hw;var gh=rv(iw),dw=rv(aw);function Tu(e,t=0,n=1){return(0,dw.default)(e,t,n)}function sv(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,s)=>s<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function uw(e){const t=e.toString(16);return t.length===1?`0${t}`:t}function Nn(e){if(e.type)return e;if(e.charAt(0)==="#")return Nn(sv(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,gh.default)(9,e));let r=e.substring(t+1,e.length-1),s;if(n==="color"){if(r=r.split(" "),s=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(s)===-1)throw new Error((0,gh.default)(10,s))}else r=r.split(",");return r=r.map(i=>parseFloat(i)),{type:n,values:r,colorSpace:s}}const ov=e=>{const t=Nn(e);return t.values.slice(0,3).map((n,r)=>t.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};Rt.colorChannel=ov;const pw=(e,t)=>{try{return ov(e)}catch{return e}};Rt.private_safeColorChannel=pw;function To(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((s,i)=>i<3?parseInt(s,10):s):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function hw(e){if(e.indexOf("#")===0)return e;const{values:t}=Nn(e);return`#${t.map((n,r)=>uw(r===3?Math.round(255*n):n)).join("")}`}function iv(e){e=Nn(e);const{values:t}=e,n=t[0],r=t[1]/100,s=t[2]/100,i=r*Math.min(s,1-s),a=(d,u=(d+n/30)%12)=>s-i*Math.max(Math.min(u-3,9-u,1),-1);let l="rgb";const c=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return e.type==="hsla"&&(l+="a",c.push(t[3])),To({type:l,values:c})}function Ha(e){e=Nn(e);let t=e.type==="hsl"||e.type==="hsla"?Nn(iv(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function fw(e,t){const n=Ha(e),r=Ha(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function av(e,t){return e=Nn(e),t=Tu(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,To(e)}function mw(e,t,n){try{return av(e,t)}catch{return e}}function Eu(e,t){if(e=Nn(e),t=Tu(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]*=1-t;return To(e)}function gw(e,t,n){try{return Eu(e,t)}catch{return e}}function Pu(e,t){if(e=Nn(e),t=Tu(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return To(e)}function vw(e,t,n){try{return Pu(e,t)}catch{return e}}function lv(e,t=.15){return Ha(e)>.5?Eu(e,t):Pu(e,t)}function yw(e,t,n){try{return lv(e,t)}catch{return e}}function xw(e,t,n,r=1){const s=(c,d)=>Math.round((c**(1/r)*(1-n)+d**(1/r)*n)**r),i=Nn(e),a=Nn(t),l=[s(i.values[0],a.values[0]),s(i.values[1],a.values[1]),s(i.values[2],a.values[2])];return To({type:"rgb",values:l})}const ji={black:"#000",white:"#fff"},bw={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Ms={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Is={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Wo={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Ns={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Ds={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Rs={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Cw=["mode","contrastThreshold","tonalOffset"],vh={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:ji.white,default:ji.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Dc={text:{primary:ji.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:ji.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function yh(e,t,n,r){const s=r.light||r,i=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=io(e.main,s):t==="dark"&&(e.dark=oo(e.main,i)))}function ww(e="light"){return e==="dark"?{main:Ns[200],light:Ns[50],dark:Ns[400]}:{main:Ns[700],light:Ns[400],dark:Ns[800]}}function jw(e="light"){return e==="dark"?{main:Ms[200],light:Ms[50],dark:Ms[400]}:{main:Ms[500],light:Ms[300],dark:Ms[700]}}function Sw(e="light"){return e==="dark"?{main:Is[500],light:Is[300],dark:Is[700]}:{main:Is[700],light:Is[400],dark:Is[800]}}function kw(e="light"){return e==="dark"?{main:Ds[400],light:Ds[300],dark:Ds[700]}:{main:Ds[700],light:Ds[500],dark:Ds[900]}}function _w(e="light"){return e==="dark"?{main:Rs[400],light:Rs[300],dark:Rs[700]}:{main:Rs[800],light:Rs[500],dark:Rs[900]}}function Tw(e="light"){return e==="dark"?{main:Wo[400],light:Wo[300],dark:Wo[700]}:{main:"#ed6c02",light:Wo[500],dark:Wo[900]}}function Ew(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,s=J(e,Cw),i=e.primary||ww(t),a=e.secondary||jw(t),l=e.error||Sw(t),c=e.info||kw(t),d=e.success||_w(t),u=e.warning||Tw(t);function p(g){return cw(g,Dc.text.primary)>=n?Dc.text.primary:vh.text.primary}const f=({color:g,name:y,mainShade:x=500,lightShade:w=300,darkShade:C=700})=>{if(g=b({},g),!g.main&&g[x]&&(g.main=g[x]),!g.hasOwnProperty("main"))throw new Error(wr(11,y?` (${y})`:"",x));if(typeof g.main!="string")throw new Error(wr(12,y?` (${y})`:"",JSON.stringify(g.main)));return yh(g,"light",w,r),yh(g,"dark",C,r),g.contrastText||(g.contrastText=p(g.main)),g},m={dark:Dc,light:vh};return rn(b({common:b({},ji),mode:t,primary:f({color:i,name:"primary"}),secondary:f({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:l,name:"error"}),warning:f({color:u,name:"warning"}),info:f({color:c,name:"info"}),success:f({color:d,name:"success"}),grey:bw,contrastThreshold:n,getContrastText:p,augmentColor:f,tonalOffset:r},m[t]),s)}const Pw=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Mw(e){return Math.round(e*1e5)/1e5}const xh={textTransform:"uppercase"},bh='"Roboto", "Helvetica", "Arial", sans-serif';function Iw(e,t){const n=typeof t=="function"?t(e):t,{fontFamily:r=bh,fontSize:s=14,fontWeightLight:i=300,fontWeightRegular:a=400,fontWeightMedium:l=500,fontWeightBold:c=700,htmlFontSize:d=16,allVariants:u,pxToRem:p}=n,f=J(n,Pw),m=s/14,v=p||(x=>`${x/d*m}rem`),g=(x,w,C,S,P)=>b({fontFamily:r,fontWeight:x,fontSize:v(w),lineHeight:C},r===bh?{letterSpacing:`${Mw(S/w)}em`}:{},P,u),y={h1:g(i,96,1.167,-1.5),h2:g(i,60,1.2,-.5),h3:g(a,48,1.167,0),h4:g(a,34,1.235,.25),h5:g(a,24,1.334,0),h6:g(l,20,1.6,.15),subtitle1:g(a,16,1.75,.15),subtitle2:g(l,14,1.57,.1),body1:g(a,16,1.5,.15),body2:g(a,14,1.43,.15),button:g(l,14,1.75,.4,xh),caption:g(a,12,1.66,.4),overline:g(a,12,2.66,1,xh),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return rn(b({htmlFontSize:d,pxToRem:v,fontFamily:r,fontSize:s,fontWeightLight:i,fontWeightRegular:a,fontWeightMedium:l,fontWeightBold:c},y),f,{clone:!1})}const Nw=.2,Dw=.14,Rw=.12;function bt(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${Nw})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${Dw})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${Rw})`].join(",")}const Aw=["none",bt(0,2,1,-1,0,1,1,0,0,1,3,0),bt(0,3,1,-2,0,2,2,0,0,1,5,0),bt(0,3,3,-2,0,3,4,0,0,1,8,0),bt(0,2,4,-1,0,4,5,0,0,1,10,0),bt(0,3,5,-1,0,5,8,0,0,1,14,0),bt(0,3,5,-1,0,6,10,0,0,1,18,0),bt(0,4,5,-2,0,7,10,1,0,2,16,1),bt(0,5,5,-3,0,8,10,1,0,3,14,2),bt(0,5,6,-3,0,9,12,1,0,3,16,2),bt(0,6,6,-3,0,10,14,1,0,4,18,3),bt(0,6,7,-4,0,11,15,1,0,4,20,3),bt(0,7,8,-4,0,12,17,2,0,5,22,4),bt(0,7,8,-4,0,13,19,2,0,5,24,4),bt(0,7,9,-4,0,14,21,2,0,5,26,4),bt(0,8,9,-5,0,15,22,2,0,6,28,5),bt(0,8,10,-5,0,16,24,2,0,6,30,5),bt(0,8,11,-5,0,17,26,2,0,6,32,5),bt(0,9,11,-5,0,18,28,2,0,7,34,6),bt(0,9,12,-6,0,19,29,2,0,7,36,6),bt(0,10,13,-6,0,20,31,3,0,8,38,7),bt(0,10,13,-6,0,21,33,3,0,8,40,7),bt(0,10,14,-6,0,22,35,3,0,8,42,7),bt(0,11,14,-7,0,23,36,3,0,9,44,8),bt(0,11,15,-7,0,24,38,3,0,9,46,8)],$w=["duration","easing","delay"],Ow={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},cv={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Ch(e){return`${Math.round(e)}ms`}function Lw(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function Fw(e){const t=b({},Ow,e.easing),n=b({},cv,e.duration);return b({getAutoHeightDuration:Lw,create:(s=["all"],i={})=>{const{duration:a=n.standard,easing:l=t.easeInOut,delay:c=0}=i;return J(i,$w),(Array.isArray(s)?s:[s]).map(d=>`${d} ${typeof a=="string"?a:Ch(a)} ${l} ${typeof c=="string"?c:Ch(c)}`).join(",")}},e,{easing:t,duration:n})}const zw={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Bw=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Mu(e={},...t){const{mixins:n={},palette:r={},transitions:s={},typography:i={}}=e,a=J(e,Bw);if(e.vars&&e.generateCssVars===void 0)throw new Error(wr(18));const l=Ew(r),c=So(e);let d=rn(c,{mixins:ow(c.breakpoints,n),palette:l,shadows:Aw.slice(),typography:Iw(l,i),transitions:Fw(s),zIndex:b({},zw)});return d=rn(d,a),d=t.reduce((u,p)=>rn(u,p),d),d.unstable_sxConfig=b({},Fi,a==null?void 0:a.unstable_sxConfig),d.unstable_sx=function(p){return jo({sx:p,theme:this})},d}const Kl=Mu();function Vn(){const e=ko(Kl);return e[hs]||e}function Ln({props:e,name:t}){return ku({props:e,name:t,defaultTheme:Kl,themeId:hs})}var Wi={},Rc={exports:{}},wh;function Ww(){return wh||(wh=1,function(e){function t(n,r){if(n==null)return{};var s={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(r.indexOf(i)!==-1)continue;s[i]=n[i]}return s}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(Rc)),Rc.exports}const dv=Qr(Q0),Hw=Qr(X0),Uw=Qr(r1),Vw=Qr(sC),Yw=Qr(U1),Gw=Qr(K1);var Eo=nv;Object.defineProperty(Wi,"__esModule",{value:!0});var qw=Wi.default=a2;Wi.shouldForwardProp=Ia;Wi.systemDefaultTheme=void 0;var Tn=Eo(kg()),yd=Eo(Ww()),Ua=t2(dv),Kw=Hw;Eo(Uw);Eo(Vw);var Qw=Eo(Yw),Xw=Eo(Gw);const Zw=["ownerState"],Jw=["variants"],e2=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function uv(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(uv=function(r){return r?n:t})(e)}function t2(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=uv(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var a=s?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}function n2(e){return Object.keys(e).length===0}function r2(e){return typeof e=="string"&&e.charCodeAt(0)>96}function Ia(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function jh(e,t){return t&&e&&typeof e=="object"&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}const s2=Wi.systemDefaultTheme=(0,Qw.default)(),o2=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function aa({defaultTheme:e,theme:t,themeId:n}){return n2(t)?e:t[n]||t}function i2(e){return e?(t,n)=>n[e]:null}function Na(e,t,n){let{ownerState:r}=t,s=(0,yd.default)(t,Zw);const i=typeof e=="function"?e((0,Tn.default)({ownerState:r},s)):e;if(Array.isArray(i))return i.flatMap(a=>Na(a,(0,Tn.default)({ownerState:r},s),n));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:a=[]}=i;let c=(0,yd.default)(i,Jw);return a.forEach(d=>{let u=!0;if(typeof d.props=="function"?u=d.props((0,Tn.default)({ownerState:r},s,r)):Object.keys(d.props).forEach(p=>{(r==null?void 0:r[p])!==d.props[p]&&s[p]!==d.props[p]&&(u=!1)}),u){Array.isArray(c)||(c=[c]);const p=typeof d.style=="function"?d.style((0,Tn.default)({ownerState:r},s,r)):d.style;c.push(n?jh((0,Ua.internal_serializeStyles)(p),n):p)}}),c}return n?jh((0,Ua.internal_serializeStyles)(i),n):i}function a2(e={}){const{themeId:t,defaultTheme:n=s2,rootShouldForwardProp:r=Ia,slotShouldForwardProp:s=Ia}=e,i=a=>(0,Xw.default)((0,Tn.default)({},a,{theme:aa((0,Tn.default)({},a,{defaultTheme:n,themeId:t}))}));return i.__mui_systemSx=!0,(a,l={})=>{(0,Ua.internal_processStyles)(a,k=>k.filter(T=>!(T!=null&&T.__mui_systemSx)));const{name:c,slot:d,skipVariantsResolver:u,skipSx:p,overridesResolver:f=i2(o2(d))}=l,m=(0,yd.default)(l,e2),v=c&&c.startsWith("Mui")||d?"components":"custom",g=u!==void 0?u:d&&d!=="Root"&&d!=="root"||!1,y=p||!1;let x,w=Ia;d==="Root"||d==="root"?w=r:d?w=s:r2(a)&&(w=void 0);const C=(0,Ua.default)(a,(0,Tn.default)({shouldForwardProp:w,label:x},m)),S=k=>typeof k=="function"&&k.__emotion_real!==k||(0,Kw.isPlainObject)(k)?T=>{const _=aa({theme:T.theme,defaultTheme:n,themeId:t});return Na(k,(0,Tn.default)({},T,{theme:_}),_.modularCssLayers?v:void 0)}:k,P=(k,...T)=>{let _=S(k);const j=T?T.map(S):[];c&&f&&j.push(L=>{const R=aa((0,Tn.default)({},L,{defaultTheme:n,themeId:t}));if(!R.components||!R.components[c]||!R.components[c].styleOverrides)return null;const M=R.components[c].styleOverrides,D={};return Object.entries(M).forEach(([I,O])=>{D[I]=Na(O,(0,Tn.default)({},L,{theme:R}),R.modularCssLayers?"theme":void 0)}),f(L,D)}),c&&!g&&j.push(L=>{var R;const M=aa((0,Tn.default)({},L,{defaultTheme:n,themeId:t})),D=M==null||(R=M.components)==null||(R=R[c])==null?void 0:R.variants;return Na({variants:D},(0,Tn.default)({},L,{theme:M}),M.modularCssLayers?"theme":void 0)}),y||j.push(i);const E=j.length-T.length;if(Array.isArray(k)&&E>0){const L=new Array(E).fill("");_=[...k,...L],_.raw=[...k.raw,...L]}const A=C(_,...j);return a.muiName&&(A.muiName=a.muiName),A};return C.withConfig&&(P.withConfig=C.withConfig),P}}function pv(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const gn=e=>pv(e)&&e!=="classes",Y=qw({themeId:hs,defaultTheme:Kl,rootShouldForwardProp:gn}),l2=["theme"];function c2(e){let{theme:t}=e,n=J(e,l2);const r=t[hs];let s=r||t;return typeof t!="function"&&(r&&!r.vars?s=b({},r,{vars:null}):t&&!t.vars&&(s=b({},t,{vars:null}))),o.jsx(HC,b({},n,{themeId:r?hs:void 0,theme:s}))}const Sh=e=>{let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,(t/100).toFixed(2)};function we(e){return BC(e)}function hv(e){return o.jsx(Rg,b({},e,{defaultTheme:Kl,themeId:hs}))}const d2=(e,t)=>b({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),u2=e=>b({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),p2=(e,t=!1)=>{var n;const r={};t&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach(([a,l])=>{var c;r[e.getColorSchemeSelector(a).replace(/\s*&/,"")]={colorScheme:(c=l.palette)==null?void 0:c.mode}});let s=b({html:d2(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:b({margin:0},u2(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},r);const i=(n=e.components)==null||(n=n.MuiCssBaseline)==null?void 0:n.styleOverrides;return i&&(s=[s,i]),s};function h2(e){const t=we({props:e,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=t;return o.jsxs(h.Fragment,{children:[o.jsx(hv,{styles:s=>p2(s,r)}),n]})}var kh={};const _h="@firebase/database",Th="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fv="";function f2(e){fv=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Vt(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:iu(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return Mr(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new m2(t)}}catch{}return new g2},as=mv("localStorage"),v2=mv("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=new hb("@firebase/database"),y2=function(){let e=1;return function(){return e++}}(),gv=function(e){const t=fb(e),n=new mb;n.update(t);const r=n.digest();return gb.encodeByteArray(r)},Hi=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=Hi.apply(null,r):typeof r=="object"?t+=Vt(r):t+=r,t+=" "}return t};let ai=null,Eh=!0;const x2=function(e,t){ye(!0,"Can't turn on custom loggers persistently."),Gs.logLevel=yb.VERBOSE,ai=Gs.log.bind(Gs)},Gt=function(...e){if(Eh===!0&&(Eh=!1,ai===null&&v2.get("logging_enabled")===!0&&x2()),ai){const t=Hi.apply(null,e);ai(t)}},Ui=function(e){return function(...t){Gt(e,...t)}},xd=function(...e){const t="FIREBASE INTERNAL ERROR: "+Hi(...e);Gs.error(t)},Sr=function(...e){const t=`FIREBASE FATAL ERROR: ${Hi(...e)}`;throw Gs.error(t),new Error(t)},wn=function(...e){const t="FIREBASE WARNING: "+Hi(...e);Gs.warn(t)},b2=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&wn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},vv=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},C2=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ao="[MIN_NAME]",gs="[MAX_NAME]",Po=function(e,t){if(e===t)return 0;if(e===ao||t===gs)return-1;if(t===ao||e===gs)return 1;{const n=Ph(e),r=Ph(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},w2=function(e,t){return e===t?0:e<t?-1:1},Ho=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Vt(t))},Iu=function(e){if(typeof e!="object"||e===null)return Vt(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=Vt(t[r]),n+=":",n+=Iu(e[t[r]]);return n+="}",n},yv=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let s=0;s<n;s+=t)s+t>n?r.push(e.substring(s,n)):r.push(e.substring(s,s+t));return r};function Dn(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const xv=function(e){ye(!vv(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let s,i,a,l,c;e===0?(i=0,a=0,s=1/e===-1/0?1:0):(s=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(e)/Math.LN2),r),i=l+r,a=Math.round(e*Math.pow(2,n-l)-Math.pow(2,n))):(i=0,a=Math.round(e/Math.pow(2,1-r-n))));const d=[];for(c=n;c;c-=1)d.push(a%2?1:0),a=Math.floor(a/2);for(c=t;c;c-=1)d.push(i%2?1:0),i=Math.floor(i/2);d.push(s?1:0),d.reverse();const u=d.join("");let p="";for(c=0;c<64;c+=8){let f=parseInt(u.substr(c,8),2).toString(16);f.length===1&&(f="0"+f),p=p+f}return p.toLowerCase()},j2=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},S2=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},k2=new RegExp("^-?(0*)\\d{1,10}$"),_2=-2147483648,T2=2147483647,Ph=function(e){if(k2.test(e)){const t=Number(e);if(t>=_2&&t<=T2)return t}return null},Vi=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw wn("Exception was thrown by user callback.",n),t},Math.floor(0))}},E2=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},li=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){wn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Gt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',wn(t)}}class Da{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Da.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu="5",bv="v",Cv="s",wv="r",jv="f",Sv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,kv="ls",_v="p",bd="ac",Tv="websocket",Ev="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(t,n,r,s,i=!1,a="",l=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=a,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=c,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=as.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&as.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function I2(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function Mv(e,t,n){ye(typeof t=="string","typeof type must == string"),ye(typeof n=="object","typeof params must == object");let r;if(t===Tv)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===Ev)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);I2(e)&&(n.ns=e.namespace);const s=[];return Dn(n,(i,a)=>{s.push(i+"="+a)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(){this.counters_={}}incrementCounter(t,n=1){Mr(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return jb(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac={},$c={};function Du(e){const t=e.toString();return Ac[t]||(Ac[t]=new N2),Ac[t]}function D2(e,t){const n=e.toString();return $c[n]||($c[n]=t()),$c[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&Vi(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh="start",A2="close",$2="pLPCommand",O2="pRTLPCB",Iv="id",Nv="pw",Dv="ser",L2="cb",F2="seg",z2="ts",B2="d",W2="dframe",Rv=1870,Av=30,H2=Rv-Av,U2=25e3,V2=3e4;class Ws{constructor(t,n,r,s,i,a,l){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=a,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ui(t),this.stats_=Du(n),this.urlFn=c=>(this.appCheckToken&&(c[bd]=this.appCheckToken),Mv(n,Ev,c))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new R2(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(V2)),C2(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ru((...i)=>{const[a,l,c,d,u]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===Mh)this.id=l,this.password=c;else if(a===A2)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...i)=>{const[a,l]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(a,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[Mh]="t",r[Dv]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[L2]=this.scriptTagHolder.uniqueCallbackIdentifier),r[bv]=Nu,this.transportSessionId&&(r[Cv]=this.transportSessionId),this.lastSessionId&&(r[kv]=this.lastSessionId),this.applicationId&&(r[_v]=this.applicationId),this.appCheckToken&&(r[bd]=this.appCheckToken),typeof location<"u"&&location.hostname&&Sv.test(location.hostname)&&(r[wv]=jv);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ws.forceAllow_=!0}static forceDisallow(){Ws.forceDisallow_=!0}static isAvailable(){return Ws.forceAllow_?!0:!Ws.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!j2()&&!S2()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=Vt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Sb(n),s=yv(r,H2);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[W2]="t",r[Iv]=t,r[Nv]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=Vt(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Ru{constructor(t,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=y2(),window[$2+this.uniqueCallbackIdentifier]=t,window[O2+this.uniqueCallbackIdentifier]=n,this.myIFrame=Ru.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(l){Gt("frame writing exception"),l.stack&&Gt(l.stack),Gt(l)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Gt("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[Iv]=this.myID,t[Nv]=this.myPW,t[Dv]=this.currentSerial;let n=this.urlFn(t),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Av+r.length<=Rv;){const a=this.pendingSegs.shift();r=r+"&"+F2+s+"="+a.seg+"&"+z2+s+"="+a.ts+"&"+B2+s+"="+a.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(U2)),i=()=>{clearTimeout(s),r()};this.addTag(t,i)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Gt("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2=16384,G2=45e3;let Va=null;typeof MozWebSocket<"u"?Va=MozWebSocket:typeof WebSocket<"u"&&(Va=WebSocket);class Bn{constructor(t,n,r,s,i,a,l){this.connId=t,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ui(this.connId),this.stats_=Du(n),this.connURL=Bn.connectionURL_(n,a,l,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,s,i){const a={};return a[bv]=Nu,typeof location<"u"&&location.hostname&&Sv.test(location.hostname)&&(a[wv]=jv),n&&(a[Cv]=n),r&&(a[kv]=r),s&&(a[bd]=s),i&&(a[_v]=i),Mv(t,Tv,a)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,as.set("previous_websocket_failure",!0);try{let r;kb(),this.mySock=new Va(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Bn.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&Va!==null&&!Bn.forceDisallow_}static previouslyFailed(){return as.isInMemoryStorage||as.get("previous_websocket_failure")===!0}markConnectionHealthy(){as.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=iu(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(ye(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=Vt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=yv(n,Y2);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(G2))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Bn.responsesRequiredToBeHealthy=2;Bn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Ws,Bn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=Bn&&Bn.isAvailable();let r=n&&!Bn.previouslyFailed();if(t.webSocketOnly&&(n||wn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Bn];else{const s=this.transports_=[];for(const i of Si.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);Si.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Si.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=6e4,K2=5e3,Q2=10*1024,X2=100*1024,Oc="t",Ih="d",Z2="s",Nh="r",J2="e",Dh="o",Rh="a",Ah="n",$h="p",ej="h";class tj{constructor(t,n,r,s,i,a,l,c,d,u){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=a,this.onReady_=l,this.onDisconnect_=c,this.onKill_=d,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ui("c:"+this.id+":"),this.transportManager_=new Si(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=t.healthyTimeout||0;s>0&&(this.healthyTimeout_=li(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>X2?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Q2?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Oc in t){const n=t[Oc];n===Rh?this.upgradeIfSecondaryHealthy_():n===Nh?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Dh&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=Ho("t",t),r=Ho("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:$h,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Rh,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Ah,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=Ho("t",t),r=Ho("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=Ho(Oc,t);if(Ih in t){const r=t[Ih];if(n===ej){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===Ah){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Z2?this.onConnectionShutdown_(r):n===Nh?this.onReset_(r):n===J2?xd("Server Error: "+r):n===Dh?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):xd("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,s=t.h;this.sessionId=t.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Nu!==r&&wn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),li(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(q2))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):li(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(K2))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:$h,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(as.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{put(t,n,r,s){}merge(t,n,r,s){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(t){this.allowedEvents_=t,this.listeners_={},ye(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const s=this.getInitialEvent(t);s&&n.apply(r,s)}off(t,n,r){this.validateEventType_(t);const s=this.listeners_[t]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(t){ye(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya extends Ov{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Xm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ya}getInitialEvent(t){return ye(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=32,Lh=768;class yt{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function pt(){return new yt("")}function Ve(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Yr(e){return e.pieces_.length-e.pieceNum_}function gt(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new yt(e.pieces_,t)}function Lv(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function nj(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function Fv(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function zv(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new yt(t,0)}function zt(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof yt)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new yt(n,0)}function We(e){return e.pieceNum_>=e.pieces_.length}function Mn(e,t){const n=Ve(e),r=Ve(t);if(n===null)return t;if(n===r)return Mn(gt(e),gt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Bv(e,t){if(Yr(e)!==Yr(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Wn(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Yr(e)>Yr(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class rj{constructor(t,n){this.errorPrefix_=n,this.parts_=Fv(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=gl(this.parts_[r]);Wv(this)}}function sj(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=gl(t),Wv(e)}function oj(e){const t=e.parts_.pop();e.byteLength_-=gl(t),e.parts_.length>0&&(e.byteLength_-=1)}function Wv(e){if(e.byteLength_>Lh)throw new Error(e.errorPrefix_+"has a key path longer than "+Lh+" bytes ("+e.byteLength_+").");if(e.parts_.length>Oh)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Oh+") or object contains a cycle "+ns(e))}function ns(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au extends Ov{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Au}getInitialEvent(t){return ye(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=1e3,ij=60*5*1e3,Fh=30*1e3,aj=1.3,lj=3e4,cj="server_kill",zh=3;class yr extends $v{constructor(t,n,r,s,i,a,l,c){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=yr.nextPersistentConnectionId_++,this.log_=Ui("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Uo,this.maxReconnectDelay_=ij,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Au.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Ya.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const s=++this.requestNumber_,i={r:s,a:t,b:n};this.log_(Vt(i)),ye(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(t){this.initConnection_();const n=new Qm,s={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{const l=a.d;a.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(t,n,r,s){this.initConnection_();const i=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),ye(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ye(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:n,query:t,tag:r};this.listens.get(a).set(i,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},a="q";t.tag&&(i.q=n._queryObject,i.t=t.tag),i.h=t.hashFn(),this.sendRequest(a,i,l=>{const c=l.d,d=l.s;yr.warnOnListenWarnings_(c,n),(this.listens.get(r)&&this.listens.get(r).get(s))===t&&(this.log_("listen response",l),d!=="ok"&&this.removeListen_(r,s),t.onComplete&&t.onComplete(d,c))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&Mr(t,"w")){const r=to(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();wn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||bb(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Fh)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=Cb(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,a=s.d||"error";this.authToken_===t&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),ye(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,t._queryObject,n)}sendUnlisten_(t,n,r,s){this.log_("Unlisten on "+t+" for "+n);const i={p:t},a="n";s&&(i.q=r,i.t=s),this.sendRequest(a,i)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(t,n,r,s){this.putInternal("p",t,n,r,s)}merge(t,n,r,s){this.putInternal("m",t,n,r,s)}putInternal(t,n,r,s,i){this.initConnection_();const a={p:n,d:r};i!==void 0&&(a.h=i),this.outstandingPuts_.push({action:t,request:a,onComplete:s}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Vt(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):xd("Unrecognized action received from server: "+Vt(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){ye(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Uo,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Uo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>lj&&(this.reconnectDelay_=Uo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*aj)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+yr.nextConnectionId_++,i=this.lastSessionId;let a=!1,l=null;const c=function(){l?l.close():(a=!0,r())},d=function(p){ye(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(p)};this.realtime_={close:c,sendRequest:d};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[p,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);a?Gt("getToken() completed but was canceled"):(Gt("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=f&&f.token,l=new tj(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,m=>{wn(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(cj)},i))}catch(p){this.log_("Failed to get token: "+p),a||(this.repoInfo_.nodeAdmin&&wn(p),c())}}}interrupt(t){Gt("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Gt("Resuming connection for reason: "+t),delete this.interruptReasons_[t],zp(this.interruptReasons_)&&(this.reconnectDelay_=Uo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(i=>Iu(i)).join("$"):r="default";const s=this.removeListen_(t,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,n){const r=new yt(t).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(t,n){Gt("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=zh&&(this.reconnectDelay_=Fh,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){Gt("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=zh&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+fv.replace(/\./g,"-")]=1,Xm()?t["framework.cordova"]=1:wb()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Ya.getInstance().currentlyOnline();return zp(this.interruptReasons_)&&t}}yr.nextPersistentConnectionId_=0;yr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new Ke(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new Ke(ao,t),s=new Ke(ao,n);return this.compare(r,s)!==0}minPost(){return Ke.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let la;class Hv extends Ql{static get __EMPTY_NODE(){return la}static set __EMPTY_NODE(t){la=t}compare(t,n){return Po(t.name,n.name)}isDefinedOn(t){throw Di("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return Ke.MIN}maxPost(){return new Ke(gs,la)}makePost(t,n){return ye(typeof t=="string","KeyIndex indexValue must always be a string."),new Ke(t,la)}toString(){return".key"}}const qs=new Hv;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(t,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let a=1;for(;!t.isEmpty();)if(t=t,a=n?r(t.key,n):1,s&&(a*=-1),a<0)this.isReverse_?t=t.left:t=t.right;else if(a===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Ft{constructor(t,n,r,s,i){this.key=t,this.value=n,this.color=r??Ft.RED,this.left=s??cn.EMPTY_NODE,this.right=i??cn.EMPTY_NODE}copy(t,n,r,s,i){return new Ft(t??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let s=this;const i=r(t,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(t,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(t,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return cn.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,s;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return cn.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Ft.RED=!0;Ft.BLACK=!1;class dj{copy(t,n,r,s,i){return this}insert(t,n,r){return new Ft(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class cn{constructor(t,n=cn.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new cn(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Ft.BLACK,null,null))}remove(t){return new cn(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ft.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new ca(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new ca(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new ca(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new ca(this.root_,null,this.comparator_,!0,t)}}cn.EMPTY_NODE=new dj;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uj(e,t){return Po(e.name,t.name)}function $u(e,t){return Po(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cd;function pj(e){Cd=e}const Uv=function(e){return typeof e=="number"?"number:"+xv(e):"string:"+e},Vv=function(e){if(e.isLeafNode()){const t=e.val();ye(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Mr(t,".sv"),"Priority must be a string or number.")}else ye(e===Cd||e.isEmpty(),"priority of unexpected type.");ye(e===Cd||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bh;class Lt{constructor(t,n=Lt.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,ye(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Vv(this.priorityNode_)}static set __childrenNodeConstructor(t){Bh=t}static get __childrenNodeConstructor(){return Bh}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Lt(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Lt.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return We(t)?this:Ve(t)===".priority"?this.priorityNode_:Lt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:Lt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=Ve(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ye(r!==".priority"||Yr(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Lt.__childrenNodeConstructor.EMPTY_NODE.updateChild(gt(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Uv(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=xv(this.value_):t+=this.value_,this.lazyHash_=gv(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Lt.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Lt.__childrenNodeConstructor?-1:(ye(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,s=Lt.VALUE_TYPE_ORDER.indexOf(n),i=Lt.VALUE_TYPE_ORDER.indexOf(r);return ye(s>=0,"Unknown leaf type: "+n),ye(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Lt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yv,Gv;function hj(e){Yv=e}function fj(e){Gv=e}class mj extends Ql{compare(t,n){const r=t.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?Po(t.name,n.name):i}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return Ke.MIN}maxPost(){return new Ke(gs,new Lt("[PRIORITY-POST]",Gv))}makePost(t,n){const r=Yv(t);return new Ke(n,new Lt("[PRIORITY-POST]",r))}toString(){return".priority"}}const Qt=new mj;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj=Math.log(2);class vj{constructor(t){const n=i=>parseInt(Math.log(i)/gj,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const s=r(this.count);this.bits_=t+1&s}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Ga=function(e,t,n,r){e.sort(t);const s=function(c,d){const u=d-c;let p,f;if(u===0)return null;if(u===1)return p=e[c],f=n?n(p):p,new Ft(f,p.node,Ft.BLACK,null,null);{const m=parseInt(u/2,10)+c,v=s(c,m),g=s(m+1,d);return p=e[m],f=n?n(p):p,new Ft(f,p.node,Ft.BLACK,v,g)}},i=function(c){let d=null,u=null,p=e.length;const f=function(v,g){const y=p-v,x=p;p-=v;const w=s(y+1,x),C=e[y],S=n?n(C):C;m(new Ft(S,C.node,g,null,w))},m=function(v){d?(d.left=v,d=v):(u=v,d=v)};for(let v=0;v<c.count;++v){const g=c.nextBitIsOne(),y=Math.pow(2,c.count-(v+1));g?f(y,Ft.BLACK):(f(y,Ft.BLACK),f(y,Ft.RED))}return u},a=new vj(e.length),l=i(a);return new cn(r||t,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lc;const As={};class gr{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return ye(As&&Qt,"ChildrenNode.ts has not been loaded"),Lc=Lc||new gr({".priority":As},{".priority":Qt}),Lc}get(t){const n=to(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof cn?n:null}hasIndex(t){return Mr(this.indexSet_,t.toString())}addIndex(t,n){ye(t!==qs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(Ke.Wrap);let a=i.getNext();for(;a;)s=s||t.isDefinedOn(a.node),r.push(a),a=i.getNext();let l;s?l=Ga(r,t.getCompare()):l=As;const c=t.toString(),d=Object.assign({},this.indexSet_);d[c]=t;const u=Object.assign({},this.indexes_);return u[c]=l,new gr(u,d)}addToIndexes(t,n){const r=La(this.indexes_,(s,i)=>{const a=to(this.indexSet_,i);if(ye(a,"Missing index implementation for "+i),s===As)if(a.isDefinedOn(t.node)){const l=[],c=n.getIterator(Ke.Wrap);let d=c.getNext();for(;d;)d.name!==t.name&&l.push(d),d=c.getNext();return l.push(t),Ga(l,a.getCompare())}else return As;else{const l=n.get(t.name);let c=s;return l&&(c=c.remove(new Ke(t.name,l))),c.insert(t,t.node)}});return new gr(r,this.indexSet_)}removeFromIndexes(t,n){const r=La(this.indexes_,s=>{if(s===As)return s;{const i=n.get(t.name);return i?s.remove(new Ke(t.name,i)):s}});return new gr(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vo;class lt{constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Vv(this.priorityNode_),this.children_.isEmpty()&&ye(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Vo||(Vo=new lt(new cn($u),null,gr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Vo}updatePriority(t){return this.children_.isEmpty()?this:new lt(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?Vo:n}}getChild(t){const n=Ve(t);return n===null?this:this.getImmediateChild(n).getChild(gt(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(ye(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new Ke(t,n);let s,i;n.isEmpty()?(s=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(r,this.children_));const a=s.isEmpty()?Vo:this.priorityNode_;return new lt(s,a,i)}}updateChild(t,n){const r=Ve(t);if(r===null)return n;{ye(Ve(t)!==".priority"||Yr(t)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(gt(t),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(Qt,(a,l)=>{n[a]=l.val(t),r++,i&&lt.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):i=!1}),!t&&i&&s<2*r){const a=[];for(const l in n)a[l]=n[l];return a}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+Uv(this.getPriority().val())+":"),this.forEachChild(Qt,(n,r)=>{const s=r.hash();s!==""&&(t+=":"+n+":"+s)}),this.lazyHash_=t===""?"":gv(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new Ke(t,n));return i?i.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new Ke(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new Ke(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,Ke.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,t)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,Ke.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,t)>0;)s.getNext(),i=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Yi?-1:0}withIndex(t){if(t===qs||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new lt(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===qs||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Qt),s=n.getIterator(Qt);let i=r.getNext(),a=s.getNext();for(;i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=r.getNext(),a=s.getNext()}return i===null&&a===null}else return!1;else return!1}}resolveIndex_(t){return t===qs?null:this.indexMap_.get(t.toString())}}lt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class yj extends lt{constructor(){super(new cn($u),lt.EMPTY_NODE,gr.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return lt.EMPTY_NODE}isEmpty(){return!1}}const Yi=new yj;Object.defineProperties(Ke,{MIN:{value:new Ke(ao,lt.EMPTY_NODE)},MAX:{value:new Ke(gs,Yi)}});Hv.__EMPTY_NODE=lt.EMPTY_NODE;Lt.__childrenNodeConstructor=lt;pj(Yi);fj(Yi);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj=!0;function qt(e,t=null){if(e===null)return lt.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),ye(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new Lt(n,qt(t))}if(!(e instanceof Array)&&xj){const n=[];let r=!1;if(Dn(e,(a,l)=>{if(a.substring(0,1)!=="."){const c=qt(l);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new Ke(a,c)))}}),n.length===0)return lt.EMPTY_NODE;const i=Ga(n,uj,a=>a.name,$u);if(r){const a=Ga(n,Qt.getCompare());return new lt(i,qt(t),new gr({".priority":a},{".priority":Qt}))}else return new lt(i,qt(t),gr.Default)}else{let n=lt.EMPTY_NODE;return Dn(e,(r,s)=>{if(Mr(e,r)&&r.substring(0,1)!=="."){const i=qt(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(qt(t))}}hj(qt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj extends Ql{constructor(t){super(),this.indexPath_=t,ye(!We(t)&&Ve(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?Po(t.name,n.name):i}makePost(t,n){const r=qt(t),s=lt.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ke(n,s)}maxPost(){const t=lt.EMPTY_NODE.updateChild(this.indexPath_,Yi);return new Ke(gs,t)}toString(){return Fv(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj extends Ql{compare(t,n){const r=t.node.compareTo(n.node);return r===0?Po(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return Ke.MIN}maxPost(){return Ke.MAX}makePost(t,n){const r=qt(t);return new Ke(n,r)}toString(){return".value"}}const wj=new Cj;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jj(e){return{type:"value",snapshotNode:e}}function Sj(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function kj(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Wh(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function _j(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Qt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ye(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ye(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ao}hasEnd(){return this.endSet_}getIndexEndValue(){return ye(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ye(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:gs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ye(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Qt}copy(){const t=new Ou;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Hh(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Qt?n="$priority":e.index_===wj?n="$value":e.index_===qs?n="$key":(ye(e.index_ instanceof bj,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Vt(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=Vt(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+Vt(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=Vt(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+Vt(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Uh(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==Qt&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa extends $v{constructor(t,n,r,s){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=Ui("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(ye(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,s){const i=t._path.toString();this.log_("Listen called for "+i+" "+t._queryIdentifier);const a=qa.getListenId_(t,r),l={};this.listens_[a]=l;const c=Hh(t._queryParams);this.restRequest_(i+".json",c,(d,u)=>{let p=u;if(d===404&&(p=null,d=null),d===null&&this.onDataUpdate_(i,p,!1,r),to(this.listens_,a)===l){let f;d?d===401?f="permission_denied":f="rest_error:"+d:f="ok",s(f,null)}})}unlisten(t,n){const r=qa.getListenId_(t,n);delete this.listens_[r]}get(t){const n=Hh(t._queryParams),r=t._path.toString(),s=new Qm;return this.restRequest_(r+".json",n,(i,a)=>{let l=a;i===404&&(l=null,i=null),i===null?(this.onDataUpdate_(r,l,!1,null),s.resolve(l)):s.reject(new Error(l))}),s.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+xb(n);this.log_("Sending REST request for "+a);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+a+" received. status:",l.status,"response:",l.responseText);let c=null;if(l.status>=200&&l.status<300){try{c=iu(l.responseText)}catch{wn("Failed to parse JSON response for "+a+": "+l.responseText)}r(null,c)}else l.status!==401&&l.status!==404&&wn("Got unsuccessful REST response for "+a+" Status: "+l.status),r(l.status);r=null}},l.open("GET",a,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(){this.rootNode_=lt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(){return{value:null,children:new Map}}function qv(e,t,n){if(We(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const r=Ve(t);e.children.has(r)||e.children.set(r,Ka());const s=e.children.get(r);t=gt(t),qv(s,t,n)}}function wd(e,t,n){e.value!==null?n(t,e.value):Ej(e,(r,s)=>{const i=new yt(t.toString()+"/"+r);wd(s,i,n)})}function Ej(e,t){e.children.forEach((n,r)=>{t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&Dn(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=10*1e3,Mj=30*1e3,Ij=5*60*1e3;class Nj{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Pj(t);const r=Vh+(Mj-Vh)*Math.random();li(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;Dn(t,(s,i)=>{i>0&&Mr(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),li(this.reportStats_.bind(this),Math.floor(Math.random()*2*Ij))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jn;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Jn||(Jn={}));function Kv(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Qv(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Xv(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Jn.ACK_USER_WRITE,this.source=Kv()}operationForChild(t){if(We(this.path)){if(this.affectedTree.value!=null)return ye(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new yt(t));return new Qa(pt(),n,this.revert)}}else return ye(Ve(this.path)===t,"operationForChild called for unrelated child."),new Qa(gt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Jn.OVERWRITE}operationForChild(t){return We(this.path)?new vs(this.source,pt(),this.snap.getImmediateChild(t)):new vs(this.source,gt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Jn.MERGE}operationForChild(t){if(We(this.path)){const n=this.children.subtree(new yt(t));return n.isEmpty()?null:n.value?new vs(this.source,pt(),n.value):new ki(this.source,pt(),n)}else return ye(Ve(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new ki(this.source,gt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(We(t))return this.isFullyInitialized()&&!this.filtered_;const n=Ve(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}function Dj(e,t,n,r){const s=[],i=[];return t.forEach(a=>{a.type==="child_changed"&&e.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&i.push(_j(a.childName,a.snapshotNode))}),Yo(e,s,"child_removed",t,r,n),Yo(e,s,"child_added",t,r,n),Yo(e,s,"child_moved",i,r,n),Yo(e,s,"child_changed",t,r,n),Yo(e,s,"value",t,r,n),s}function Yo(e,t,n,r,s,i){const a=r.filter(l=>l.type===n);a.sort((l,c)=>Aj(e,l,c)),a.forEach(l=>{const c=Rj(e,l,i);s.forEach(d=>{d.respondsTo(l.type)&&t.push(d.createEvent(c,e.query_))})})}function Rj(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function Aj(e,t,n){if(t.childName==null||n.childName==null)throw Di("Should only compare child_ events.");const r=new Ke(t.childName,t.snapshotNode),s=new Ke(n.childName,n.snapshotNode);return e.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(e,t){return{eventCache:e,serverCache:t}}function ci(e,t,n,r){return Zv(new Lu(t,n,r),e.serverCache)}function Jv(e,t,n,r){return Zv(e.eventCache,new Lu(t,n,r))}function jd(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function ys(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fc;const $j=()=>(Fc||(Fc=new cn(w2)),Fc);class mt{constructor(t,n=$j()){this.value=t,this.children=n}static fromObject(t){let n=new mt(null);return Dn(t,(r,s)=>{n=n.set(new yt(r),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:pt(),value:this.value};if(We(t))return null;{const r=Ve(t),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(gt(t),n);return i!=null?{path:zt(new yt(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(We(t))return this;{const n=Ve(t),r=this.children.get(n);return r!==null?r.subtree(gt(t)):new mt(null)}}set(t,n){if(We(t))return new mt(n,this.children);{const r=Ve(t),i=(this.children.get(r)||new mt(null)).set(gt(t),n),a=this.children.insert(r,i);return new mt(this.value,a)}}remove(t){if(We(t))return this.children.isEmpty()?new mt(null):new mt(null,this.children);{const n=Ve(t),r=this.children.get(n);if(r){const s=r.remove(gt(t));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new mt(null):new mt(this.value,i)}else return this}}get(t){if(We(t))return this.value;{const n=Ve(t),r=this.children.get(n);return r?r.get(gt(t)):null}}setTree(t,n){if(We(t))return n;{const r=Ve(t),i=(this.children.get(r)||new mt(null)).setTree(gt(t),n);let a;return i.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,i),new mt(this.value,a)}}fold(t){return this.fold_(pt(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(zt(t,s),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,pt(),n)}findOnPath_(t,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(We(t))return null;{const i=Ve(t),a=this.children.get(i);return a?a.findOnPath_(gt(t),zt(n,i),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,pt(),n)}foreachOnPath_(t,n,r){if(We(t))return this;{this.value&&r(n,this.value);const s=Ve(t),i=this.children.get(s);return i?i.foreachOnPath_(gt(t),zt(n,s),r):new mt(null)}}foreach(t){this.foreach_(pt(),t)}foreach_(t,n){this.children.inorderTraversal((r,s)=>{s.foreach_(zt(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(t){this.writeTree_=t}static empty(){return new Un(new mt(null))}}function di(e,t,n){if(We(t))return new Un(new mt(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const s=r.path;let i=r.value;const a=Mn(s,t);return i=i.updateChild(a,n),new Un(e.writeTree_.set(s,i))}else{const s=new mt(n),i=e.writeTree_.setTree(t,s);return new Un(i)}}}function Yh(e,t,n){let r=e;return Dn(n,(s,i)=>{r=di(r,zt(t,s),i)}),r}function Gh(e,t){if(We(t))return Un.empty();{const n=e.writeTree_.setTree(t,new mt(null));return new Un(n)}}function Sd(e,t){return _s(e,t)!=null}function _s(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Mn(n.path,t)):null}function qh(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Qt,(r,s)=>{t.push(new Ke(r,s))}):e.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&t.push(new Ke(r,s.value))}),t}function Hr(e,t){if(We(t))return e;{const n=_s(e,t);return n!=null?new Un(new mt(n)):new Un(e.writeTree_.subtree(t))}}function kd(e){return e.writeTree_.isEmpty()}function lo(e,t){return ey(pt(),e.writeTree_,t)}function ey(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((s,i)=>{s===".priority"?(ye(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=ey(zt(e,s),i,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(zt(e,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(e,t){return iy(t,e)}function Oj(e,t,n,r,s){ye(r>e.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:s}),s&&(e.visibleWrites=di(e.visibleWrites,t,n)),e.lastWriteId=r}function Lj(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function Fj(e,t){const n=e.allWrites.findIndex(l=>l.writeId===t);ye(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let s=r.visible,i=!1,a=e.allWrites.length-1;for(;s&&a>=0;){const l=e.allWrites[a];l.visible&&(a>=n&&zj(l,r.path)?s=!1:Wn(r.path,l.path)&&(i=!0)),a--}if(s){if(i)return Bj(e),!0;if(r.snap)e.visibleWrites=Gh(e.visibleWrites,r.path);else{const l=r.children;Dn(l,c=>{e.visibleWrites=Gh(e.visibleWrites,zt(r.path,c))})}return!0}else return!1}function zj(e,t){if(e.snap)return Wn(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Wn(zt(e.path,n),t))return!0;return!1}function Bj(e){e.visibleWrites=ny(e.allWrites,Wj,pt()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function Wj(e){return e.visible}function ny(e,t,n){let r=Un.empty();for(let s=0;s<e.length;++s){const i=e[s];if(t(i)){const a=i.path;let l;if(i.snap)Wn(n,a)?(l=Mn(n,a),r=di(r,l,i.snap)):Wn(a,n)&&(l=Mn(a,n),r=di(r,pt(),i.snap.getChild(l)));else if(i.children){if(Wn(n,a))l=Mn(n,a),r=Yh(r,l,i.children);else if(Wn(a,n))if(l=Mn(a,n),We(l))r=Yh(r,pt(),i.children);else{const c=to(i.children,Ve(l));if(c){const d=c.getChild(gt(l));r=di(r,pt(),d)}}}else throw Di("WriteRecord should have .snap or .children")}}return r}function ry(e,t,n,r,s){if(!r&&!s){const i=_s(e.visibleWrites,t);if(i!=null)return i;{const a=Hr(e.visibleWrites,t);if(kd(a))return n;if(n==null&&!Sd(a,pt()))return null;{const l=n||lt.EMPTY_NODE;return lo(a,l)}}}else{const i=Hr(e.visibleWrites,t);if(!s&&kd(i))return n;if(!s&&n==null&&!Sd(i,pt()))return null;{const a=function(d){return(d.visible||s)&&(!r||!~r.indexOf(d.writeId))&&(Wn(d.path,t)||Wn(t,d.path))},l=ny(e.allWrites,a,t),c=n||lt.EMPTY_NODE;return lo(l,c)}}}function Hj(e,t,n){let r=lt.EMPTY_NODE;const s=_s(e.visibleWrites,t);if(s)return s.isLeafNode()||s.forEachChild(Qt,(i,a)=>{r=r.updateImmediateChild(i,a)}),r;if(n){const i=Hr(e.visibleWrites,t);return n.forEachChild(Qt,(a,l)=>{const c=lo(Hr(i,new yt(a)),l);r=r.updateImmediateChild(a,c)}),qh(i).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}else{const i=Hr(e.visibleWrites,t);return qh(i).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}}function Uj(e,t,n,r,s){ye(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=zt(t,n);if(Sd(e.visibleWrites,i))return null;{const a=Hr(e.visibleWrites,i);return kd(a)?s.getChild(n):lo(a,s.getChild(n))}}function Vj(e,t,n,r){const s=zt(t,n),i=_s(e.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const a=Hr(e.visibleWrites,s);return lo(a,r.getNode().getImmediateChild(n))}else return null}function Yj(e,t){return _s(e.visibleWrites,t)}function Gj(e,t,n,r,s,i,a){let l;const c=Hr(e.visibleWrites,t),d=_s(c,pt());if(d!=null)l=d;else if(n!=null)l=lo(c,n);else return[];if(l=l.withIndex(a),!l.isEmpty()&&!l.isLeafNode()){const u=[],p=a.getCompare(),f=i?l.getReverseIteratorFrom(r,a):l.getIteratorFrom(r,a);let m=f.getNext();for(;m&&u.length<s;)p(m,r)!==0&&u.push(m),m=f.getNext();return u}else return[]}function qj(){return{visibleWrites:Un.empty(),allWrites:[],lastWriteId:-1}}function _d(e,t,n,r){return ry(e.writeTree,e.treePath,t,n,r)}function sy(e,t){return Hj(e.writeTree,e.treePath,t)}function Kh(e,t,n,r){return Uj(e.writeTree,e.treePath,t,n,r)}function Xa(e,t){return Yj(e.writeTree,zt(e.treePath,t))}function Kj(e,t,n,r,s,i){return Gj(e.writeTree,e.treePath,t,n,r,s,i)}function Fu(e,t,n){return Vj(e.writeTree,e.treePath,t,n)}function oy(e,t){return iy(zt(e.treePath,t),e.writeTree)}function iy(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;ye(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ye(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,Wh(r,t.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,kj(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,Sj(r,t.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,Wh(r,t.snapshotNode,s.oldSnap));else throw Di("Illegal combination of changes: "+t+" occurred after "+s)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const ay=new Xj;class zu{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new Lu(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Fu(this.writes_,t,r)}}getChildAfterChild(t,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ys(this.viewCache_),i=Kj(this.writes_,s,n,1,r,t);return i.length===0?null:i[0]}}function Zj(e,t){ye(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),ye(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function Jj(e,t,n,r,s){const i=new Qj;let a,l;if(n.type===Jn.OVERWRITE){const d=n;d.source.fromUser?a=Td(e,t,d.path,d.snap,r,s,i):(ye(d.source.fromServer,"Unknown source."),l=d.source.tagged||t.serverCache.isFiltered()&&!We(d.path),a=Za(e,t,d.path,d.snap,r,s,l,i))}else if(n.type===Jn.MERGE){const d=n;d.source.fromUser?a=tS(e,t,d.path,d.children,r,s,i):(ye(d.source.fromServer,"Unknown source."),l=d.source.tagged||t.serverCache.isFiltered(),a=Ed(e,t,d.path,d.children,r,s,l,i))}else if(n.type===Jn.ACK_USER_WRITE){const d=n;d.revert?a=sS(e,t,d.path,r,s,i):a=nS(e,t,d.path,d.affectedTree,r,s,i)}else if(n.type===Jn.LISTEN_COMPLETE)a=rS(e,t,n.path,r,i);else throw Di("Unknown operation type: "+n.type);const c=i.getChanges();return eS(t,a,c),{viewCache:a,changes:c}}function eS(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=jd(e);(n.length>0||!e.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(jj(jd(t)))}}function ly(e,t,n,r,s,i){const a=t.eventCache;if(Xa(r,n)!=null)return t;{let l,c;if(We(n))if(ye(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const d=ys(t),u=d instanceof lt?d:lt.EMPTY_NODE,p=sy(r,u);l=e.filter.updateFullNode(t.eventCache.getNode(),p,i)}else{const d=_d(r,ys(t));l=e.filter.updateFullNode(t.eventCache.getNode(),d,i)}else{const d=Ve(n);if(d===".priority"){ye(Yr(n)===1,"Can't have a priority with additional path components");const u=a.getNode();c=t.serverCache.getNode();const p=Kh(r,n,u,c);p!=null?l=e.filter.updatePriority(u,p):l=a.getNode()}else{const u=gt(n);let p;if(a.isCompleteForChild(d)){c=t.serverCache.getNode();const f=Kh(r,n,a.getNode(),c);f!=null?p=a.getNode().getImmediateChild(d).updateChild(u,f):p=a.getNode().getImmediateChild(d)}else p=Fu(r,d,t.serverCache);p!=null?l=e.filter.updateChild(a.getNode(),d,p,u,s,i):l=a.getNode()}}return ci(t,l,a.isFullyInitialized()||We(n),e.filter.filtersNodes())}}function Za(e,t,n,r,s,i,a,l){const c=t.serverCache;let d;const u=a?e.filter:e.filter.getIndexedFilter();if(We(n))d=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){const m=c.getNode().updateChild(n,r);d=u.updateFullNode(c.getNode(),m,null)}else{const m=Ve(n);if(!c.isCompleteForPath(n)&&Yr(n)>1)return t;const v=gt(n),y=c.getNode().getImmediateChild(m).updateChild(v,r);m===".priority"?d=u.updatePriority(c.getNode(),y):d=u.updateChild(c.getNode(),m,y,v,ay,null)}const p=Jv(t,d,c.isFullyInitialized()||We(n),u.filtersNodes()),f=new zu(s,p,i);return ly(e,p,n,s,f,l)}function Td(e,t,n,r,s,i,a){const l=t.eventCache;let c,d;const u=new zu(s,t,i);if(We(n))d=e.filter.updateFullNode(t.eventCache.getNode(),r,a),c=ci(t,d,!0,e.filter.filtersNodes());else{const p=Ve(n);if(p===".priority")d=e.filter.updatePriority(t.eventCache.getNode(),r),c=ci(t,d,l.isFullyInitialized(),l.isFiltered());else{const f=gt(n),m=l.getNode().getImmediateChild(p);let v;if(We(f))v=r;else{const g=u.getCompleteChild(p);g!=null?Lv(f)===".priority"&&g.getChild(zv(f)).isEmpty()?v=g:v=g.updateChild(f,r):v=lt.EMPTY_NODE}if(m.equals(v))c=t;else{const g=e.filter.updateChild(l.getNode(),p,v,f,u,a);c=ci(t,g,l.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function Qh(e,t){return e.eventCache.isCompleteForChild(t)}function tS(e,t,n,r,s,i,a){let l=t;return r.foreach((c,d)=>{const u=zt(n,c);Qh(t,Ve(u))&&(l=Td(e,l,u,d,s,i,a))}),r.foreach((c,d)=>{const u=zt(n,c);Qh(t,Ve(u))||(l=Td(e,l,u,d,s,i,a))}),l}function Xh(e,t,n){return n.foreach((r,s)=>{t=t.updateChild(r,s)}),t}function Ed(e,t,n,r,s,i,a,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c=t,d;We(n)?d=r:d=new mt(null).setTree(n,r);const u=t.serverCache.getNode();return d.children.inorderTraversal((p,f)=>{if(u.hasChild(p)){const m=t.serverCache.getNode().getImmediateChild(p),v=Xh(e,m,f);c=Za(e,c,new yt(p),v,s,i,a,l)}}),d.children.inorderTraversal((p,f)=>{const m=!t.serverCache.isCompleteForChild(p)&&f.value===null;if(!u.hasChild(p)&&!m){const v=t.serverCache.getNode().getImmediateChild(p),g=Xh(e,v,f);c=Za(e,c,new yt(p),g,s,i,a,l)}}),c}function nS(e,t,n,r,s,i,a){if(Xa(s,n)!=null)return t;const l=t.serverCache.isFiltered(),c=t.serverCache;if(r.value!=null){if(We(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Za(e,t,n,c.getNode().getChild(n),s,i,l,a);if(We(n)){let d=new mt(null);return c.getNode().forEachChild(qs,(u,p)=>{d=d.set(new yt(u),p)}),Ed(e,t,n,d,s,i,l,a)}else return t}else{let d=new mt(null);return r.foreach((u,p)=>{const f=zt(n,u);c.isCompleteForPath(f)&&(d=d.set(u,c.getNode().getChild(f)))}),Ed(e,t,n,d,s,i,l,a)}}function rS(e,t,n,r,s){const i=t.serverCache,a=Jv(t,i.getNode(),i.isFullyInitialized()||We(n),i.isFiltered());return ly(e,a,n,r,ay,s)}function sS(e,t,n,r,s,i){let a;if(Xa(r,n)!=null)return t;{const l=new zu(r,t,s),c=t.eventCache.getNode();let d;if(We(n)||Ve(n)===".priority"){let u;if(t.serverCache.isFullyInitialized())u=_d(r,ys(t));else{const p=t.serverCache.getNode();ye(p instanceof lt,"serverChildren would be complete if leaf node"),u=sy(r,p)}u=u,d=e.filter.updateFullNode(c,u,i)}else{const u=Ve(n);let p=Fu(r,u,t.serverCache);p==null&&t.serverCache.isCompleteForChild(u)&&(p=c.getImmediateChild(u)),p!=null?d=e.filter.updateChild(c,u,p,gt(n),l,i):t.eventCache.getNode().hasChild(u)?d=e.filter.updateChild(c,u,lt.EMPTY_NODE,gt(n),l,i):d=c,d.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=_d(r,ys(t)),a.isLeafNode()&&(d=e.filter.updateFullNode(d,a,i)))}return a=t.serverCache.isFullyInitialized()||Xa(r,pt())!=null,ci(t,d,a,e.filter.filtersNodes())}}function oS(e,t){const n=ys(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!We(t)&&!n.getImmediateChild(Ve(t)).isEmpty())?n.getChild(t):null}function Zh(e,t,n,r){t.type===Jn.MERGE&&t.source.queryId!==null&&(ye(ys(e.viewCache_),"We should always have a full cache before handling merges"),ye(jd(e.viewCache_),"Missing event cache, even though we have a server cache"));const s=e.viewCache_,i=Jj(e.processor_,s,t,n,r);return Zj(e.processor_,i.viewCache),ye(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=i.viewCache,iS(e,i.changes,i.viewCache.eventCache.getNode())}function iS(e,t,n,r){const s=e.eventRegistrations_;return Dj(e.eventGenerator_,t,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jh;function aS(e){ye(!Jh,"__referenceConstructor has already been defined"),Jh=e}function Bu(e,t,n,r){const s=t.source.queryId;if(s!==null){const i=e.views.get(s);return ye(i!=null,"SyncTree gave us an op for an invalid query."),Zh(i,t,n,r)}else{let i=[];for(const a of e.views.values())i=i.concat(Zh(a,t,n,r));return i}}function Wu(e,t){let n=null;for(const r of e.views.values())n=n||oS(r,t);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ef;function lS(e){ye(!ef,"__referenceConstructor has already been defined"),ef=e}class tf{constructor(t){this.listenProvider_=t,this.syncPointTree_=new mt(null),this.pendingWriteTree_=qj(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function cS(e,t,n,r,s){return Oj(e.pendingWriteTree_,t,n,r,s),s?Zl(e,new vs(Kv(),t,n)):[]}function Hs(e,t,n=!1){const r=Lj(e.pendingWriteTree_,t);if(Fj(e.pendingWriteTree_,t)){let i=new mt(null);return r.snap!=null?i=i.set(pt(),!0):Dn(r.children,a=>{i=i.set(new yt(a),!0)}),Zl(e,new Qa(r.path,i,n))}else return[]}function Xl(e,t,n){return Zl(e,new vs(Qv(),t,n))}function dS(e,t,n){const r=mt.fromObject(n);return Zl(e,new ki(Qv(),t,r))}function uS(e,t,n,r){const s=py(e,r);if(s!=null){const i=hy(s),a=i.path,l=i.queryId,c=Mn(a,t),d=new vs(Xv(l),c,n);return fy(e,a,d)}else return[]}function pS(e,t,n,r){const s=py(e,r);if(s){const i=hy(s),a=i.path,l=i.queryId,c=Mn(a,t),d=mt.fromObject(n),u=new ki(Xv(l),c,d);return fy(e,a,u)}else return[]}function cy(e,t,n){const s=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(a,l)=>{const c=Mn(a,t),d=Wu(l,c);if(d)return d});return ry(s,t,i,n,!0)}function Zl(e,t){return dy(t,e.syncPointTree_,null,ty(e.pendingWriteTree_,pt()))}function dy(e,t,n,r){if(We(e.path))return uy(e,t,n,r);{const s=t.get(pt());n==null&&s!=null&&(n=Wu(s,pt()));let i=[];const a=Ve(e.path),l=e.operationForChild(a),c=t.children.get(a);if(c&&l){const d=n?n.getImmediateChild(a):null,u=oy(r,a);i=i.concat(dy(l,c,d,u))}return s&&(i=i.concat(Bu(s,e,r,n))),i}}function uy(e,t,n,r){const s=t.get(pt());n==null&&s!=null&&(n=Wu(s,pt()));let i=[];return t.children.inorderTraversal((a,l)=>{const c=n?n.getImmediateChild(a):null,d=oy(r,a),u=e.operationForChild(a);u&&(i=i.concat(uy(u,l,c,d)))}),s&&(i=i.concat(Bu(s,e,r,n))),i}function py(e,t){return e.tagToQueryMap.get(t)}function hy(e){const t=e.indexOf("$");return ye(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new yt(e.substr(0,t))}}function fy(e,t,n){const r=e.syncPointTree_.get(t);ye(r,"Missing sync point for query tag that we're tracking");const s=ty(e.pendingWriteTree_,t);return Bu(r,n,s,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new Hu(n)}node(){return this.node_}}class Uu{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=zt(this.path_,t);return new Uu(this.syncTree_,n)}node(){return cy(this.syncTree_,this.path_)}}const hS=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},nf=function(e,t,n){if(!e||typeof e!="object")return e;if(ye(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return fS(e[".sv"],t,n);if(typeof e[".sv"]=="object")return mS(e[".sv"],t);ye(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},fS=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:ye(!1,"Unexpected server value: "+e)}},mS=function(e,t,n){e.hasOwnProperty("increment")||ye(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&ye(!1,"Unexpected increment value: "+r);const s=t.node();if(ye(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const a=s.getValue();return typeof a!="number"?r:a+r},gS=function(e,t,n,r){return Vu(t,new Uu(n,e),r)},vS=function(e,t,n){return Vu(e,new Hu(t),n)};function Vu(e,t,n){const r=e.getPriority().val(),s=nf(r,t.getImmediateChild(".priority"),n);let i;if(e.isLeafNode()){const a=e,l=nf(a.getValue(),t,n);return l!==a.getValue()||s!==a.getPriority().val()?new Lt(l,qt(s)):e}else{const a=e;return i=a,s!==a.getPriority().val()&&(i=i.updatePriority(new Lt(s))),a.forEachChild(Qt,(l,c)=>{const d=Vu(c,t.getImmediateChild(l),n);d!==c&&(i=i.updateImmediateChild(l,d))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function Gu(e,t){let n=t instanceof yt?t:new yt(t),r=e,s=Ve(n);for(;s!==null;){const i=to(r.node.children,s)||{children:{},childCount:0};r=new Yu(s,r,i),n=gt(n),s=Ve(n)}return r}function Mo(e){return e.node.value}function my(e,t){e.node.value=t,Pd(e)}function gy(e){return e.node.childCount>0}function yS(e){return Mo(e)===void 0&&!gy(e)}function Jl(e,t){Dn(e.node.children,(n,r)=>{t(new Yu(n,e,r))})}function vy(e,t,n,r){n&&t(e),Jl(e,s=>{vy(s,t,!0)})}function xS(e,t,n){let r=e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function Gi(e){return new yt(e.parent===null?e.name:Gi(e.parent)+"/"+e.name)}function Pd(e){e.parent!==null&&bS(e.parent,e.name,e)}function bS(e,t,n){const r=yS(n),s=Mr(e.node.children,t);r&&s?(delete e.node.children[t],e.node.childCount--,Pd(e)):!r&&!s&&(e.node.children[t]=n.node,e.node.childCount++,Pd(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS=/[\[\].#$\/\u0000-\u001F\u007F]/,wS=/[\[\].#$\u0000-\u001F\u007F]/,zc=10*1024*1024,yy=function(e){return typeof e=="string"&&e.length!==0&&!CS.test(e)},jS=function(e){return typeof e=="string"&&e.length!==0&&!wS.test(e)},SS=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),jS(e)},xy=function(e,t,n){const r=n instanceof yt?new rj(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+ns(r));if(typeof t=="function")throw new Error(e+"contains a function "+ns(r)+" with contents = "+t.toString());if(vv(t))throw new Error(e+"contains "+t.toString()+" "+ns(r));if(typeof t=="string"&&t.length>zc/3&&gl(t)>zc)throw new Error(e+"contains a string greater than "+zc+" utf8 bytes "+ns(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let s=!1,i=!1;if(Dn(t,(a,l)=>{if(a===".value")s=!0;else if(a!==".priority"&&a!==".sv"&&(i=!0,!yy(a)))throw new Error(e+" contains an invalid key ("+a+") "+ns(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);sj(r,a),xy(e,l,r),oj(r)}),s&&i)throw new Error(e+' contains ".value" child '+ns(r)+" in addition to actual children.")}},kS=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!yy(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!SS(n))throw new Error(vb(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function TS(e,t){let n=null;for(let r=0;r<t.length;r++){const s=t[r],i=s.getPath();n!==null&&!Bv(i,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&e.eventLists_.push(n)}function Ts(e,t,n){TS(e,n),ES(e,r=>Wn(r,t)||Wn(t,r))}function ES(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const s=e.eventLists_[r];if(s){const i=s.path;t(i)?(PS(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function PS(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const r=n.getEventRunner();ai&&Gt("event: "+n.toString()),Vi(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS="repo_interrupt",IS=25;class NS{constructor(t,n,r,s){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new _S,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ka(),this.transactionQueueTree_=new Yu,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function DS(e,t,n){if(e.stats_=Du(e.repoInfo_),e.forceRestClient_||E2())e.server_=new qa(e.repoInfo_,(r,s,i,a)=>{rf(e,r,s,i,a)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>sf(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Vt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new yr(e.repoInfo_,t,(r,s,i,a)=>{rf(e,r,s,i,a)},r=>{sf(e,r)},r=>{AS(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=D2(e.repoInfo_,()=>new Nj(e.stats_,e.server_)),e.infoData_=new Tj,e.infoSyncTree_=new tf({startListening:(r,s,i,a)=>{let l=[];const c=e.infoData_.getNode(r._path);return c.isEmpty()||(l=Xl(e.infoSyncTree_,r._path,c),setTimeout(()=>{a("ok")},0)),l},stopListening:()=>{}}),qu(e,"connected",!1),e.serverSyncTree_=new tf({startListening:(r,s,i,a)=>(e.server_.listen(r,i,s,(l,c)=>{const d=a(l,c);Ts(e.eventQueue_,r._path,d)}),[]),stopListening:(r,s)=>{e.server_.unlisten(r,s)}})}function RS(e){const n=e.infoData_.getNode(new yt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function by(e){return hS({timestamp:RS(e)})}function rf(e,t,n,r,s){e.dataUpdateCount++;const i=new yt(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let a=[];if(s)if(r){const c=La(n,d=>qt(d));a=pS(e.serverSyncTree_,i,c,s)}else{const c=qt(n);a=uS(e.serverSyncTree_,i,c,s)}else if(r){const c=La(n,d=>qt(d));a=dS(e.serverSyncTree_,i,c)}else{const c=qt(n);a=Xl(e.serverSyncTree_,i,c)}let l=i;a.length>0&&(l=Qu(e,i)),Ts(e.eventQueue_,l,a)}function sf(e,t){qu(e,"connected",t),t===!1&&OS(e)}function AS(e,t){Dn(t,(n,r)=>{qu(e,n,r)})}function qu(e,t,n){const r=new yt("/.info/"+t),s=qt(n);e.infoData_.updateSnapshot(r,s);const i=Xl(e.infoSyncTree_,r,s);Ts(e.eventQueue_,r,i)}function $S(e){return e.nextWriteId_++}function OS(e){Cy(e,"onDisconnectEvents");const t=by(e),n=Ka();wd(e.onDisconnect_,pt(),(s,i)=>{const a=gS(s,i,e.serverSyncTree_,t);qv(n,s,a)});let r=[];wd(n,pt(),(s,i)=>{r=r.concat(Xl(e.serverSyncTree_,s,i));const a=BS(e,s);Qu(e,a)}),e.onDisconnect_=Ka(),Ts(e.eventQueue_,pt(),r)}function LS(e){e.persistentConnection_&&e.persistentConnection_.interrupt(MS)}function Cy(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Gt(n,...t)}function wy(e,t,n){return cy(e.serverSyncTree_,t,n)||lt.EMPTY_NODE}function Ku(e,t=e.transactionQueueTree_){if(t||ec(e,t),Mo(t)){const n=Sy(e,t);ye(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&FS(e,Gi(t),n)}else gy(t)&&Jl(t,n=>{Ku(e,n)})}function FS(e,t,n){const r=n.map(d=>d.currentWriteId),s=wy(e,t,r);let i=s;const a=s.hash();for(let d=0;d<n.length;d++){const u=n[d];ye(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const p=Mn(t,u.path);i=i.updateChild(p,u.currentOutputSnapshotRaw)}const l=i.val(!0),c=t;e.server_.put(c.toString(),l,d=>{Cy(e,"transaction put response",{path:c.toString(),status:d});let u=[];if(d==="ok"){const p=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(Hs(e.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&p.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();ec(e,Gu(e.transactionQueueTree_,t)),Ku(e,e.transactionQueueTree_),Ts(e.eventQueue_,t,u);for(let f=0;f<p.length;f++)Vi(p[f])}else{if(d==="datastale")for(let p=0;p<n.length;p++)n[p].status===3?n[p].status=4:n[p].status=0;else{wn("transaction at "+c.toString()+" failed: "+d);for(let p=0;p<n.length;p++)n[p].status=4,n[p].abortReason=d}Qu(e,t)}},a)}function Qu(e,t){const n=jy(e,t),r=Gi(n),s=Sy(e,n);return zS(e,s,r),r}function zS(e,t,n){if(t.length===0)return;const r=[];let s=[];const a=t.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<t.length;l++){const c=t[l],d=Mn(n,c.path);let u=!1,p;if(ye(d!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,p=c.abortReason,s=s.concat(Hs(e.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=IS)u=!0,p="maxretry",s=s.concat(Hs(e.serverSyncTree_,c.currentWriteId,!0));else{const f=wy(e,c.path,a);c.currentInputSnapshot=f;const m=t[l].update(f.val());if(m!==void 0){xy("transaction failed: Data returned ",m,c.path);let v=qt(m);typeof m=="object"&&m!=null&&Mr(m,".priority")||(v=v.updatePriority(f.getPriority()));const y=c.currentWriteId,x=by(e),w=vS(v,f,x);c.currentOutputSnapshotRaw=v,c.currentOutputSnapshotResolved=w,c.currentWriteId=$S(e),a.splice(a.indexOf(y),1),s=s.concat(cS(e.serverSyncTree_,c.path,w,c.currentWriteId,c.applyLocally)),s=s.concat(Hs(e.serverSyncTree_,y,!0))}else u=!0,p="nodata",s=s.concat(Hs(e.serverSyncTree_,c.currentWriteId,!0))}Ts(e.eventQueue_,n,s),s=[],u&&(t[l].status=2,function(f){setTimeout(f,Math.floor(0))}(t[l].unwatcher),t[l].onComplete&&(p==="nodata"?r.push(()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot)):r.push(()=>t[l].onComplete(new Error(p),!1,null))))}ec(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)Vi(r[l]);Ku(e,e.transactionQueueTree_)}function jy(e,t){let n,r=e.transactionQueueTree_;for(n=Ve(t);n!==null&&Mo(r)===void 0;)r=Gu(r,n),t=gt(t),n=Ve(t);return r}function Sy(e,t){const n=[];return ky(e,t,n),n.sort((r,s)=>r.order-s.order),n}function ky(e,t,n){const r=Mo(t);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);Jl(t,s=>{ky(e,s,n)})}function ec(e,t){const n=Mo(t);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,my(t,n.length>0?n:void 0)}Jl(t,r=>{ec(e,r)})}function BS(e,t){const n=Gi(jy(e,t)),r=Gu(e.transactionQueueTree_,t);return xS(r,s=>{Bc(e,s)}),Bc(e,r),vy(r,s=>{Bc(e,s)}),n}function Bc(e,t){const n=Mo(t);if(n){const r=[];let s=[],i=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(ye(i===a-1,"All SENT items should be at beginning of queue."),i=a,n[a].status=3,n[a].abortReason="set"):(ye(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),s=s.concat(Hs(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));i===-1?my(t,void 0):n.length=i+1,Ts(e.eventQueue_,Gi(t),s);for(let a=0;a<r.length;a++)Vi(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}t+="/"+s}return t}function HS(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):wn(`Invalid query segment '${n}' in query '${e}'`)}return t}const of=function(e,t){const n=US(e),r=n.namespace;n.domain==="firebase.com"&&Sr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Sr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||b2();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Pv(n.host,n.secure,r,s,t,"",r!==n.subdomain),path:new yt(n.pathString)}},US=function(e){let t="",n="",r="",s="",i="",a=!0,l="https",c=443;if(typeof e=="string"){let d=e.indexOf("//");d>=0&&(l=e.substring(0,d-1),e=e.substring(d+2));let u=e.indexOf("/");u===-1&&(u=e.length);let p=e.indexOf("?");p===-1&&(p=e.length),t=e.substring(0,Math.min(u,p)),u<p&&(s=WS(e.substring(u,p)));const f=HS(e.substring(Math.min(e.length,p)));d=t.indexOf(":"),d>=0?(a=l==="https"||l==="wss",c=parseInt(t.substring(d+1),10)):d=t.length;const m=t.slice(0,d);if(m.toLowerCase()==="localhost")n="localhost";else if(m.split(".").length<=2)n=m;else{const v=t.indexOf(".");r=t.substring(0,v).toLowerCase(),n=t.substring(v+1),i=r}"ns"in f&&(i=f.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:a,scheme:l,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(t,n,r,s){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return We(this._path)?null:Lv(this._path)}get ref(){return new Io(this._repo,this._path)}get _queryIdentifier(){const t=Uh(this._queryParams),n=Iu(t);return n==="{}"?"default":n}get _queryObject(){return Uh(this._queryParams)}isEqual(t){if(t=Ri(t),!(t instanceof Xu))return!1;const n=this._repo===t._repo,r=Bv(this._path,t._path),s=this._queryIdentifier===t._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+nj(this._path)}}class Io extends Xu{constructor(t,n){super(t,n,new Ou,!1)}get parent(){const t=zv(this._path);return t===null?null:new Io(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}aS(Io);lS(Io);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="FIREBASE_DATABASE_EMULATOR_HOST",Md={};let YS=!1;function GS(e,t,n,r){e.repoInfo_=new Pv(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}function qS(e,t,n,r,s){let i=r||e.options.databaseURL;i===void 0&&(e.options.projectId||Sr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Gt("Using default host for project ",e.options.projectId),i=`${e.options.projectId}-default-rtdb.firebaseio.com`);let a=of(i,s),l=a.repoInfo,c;typeof process<"u"&&kh&&(c=kh[VS]),c?(i=`http://${c}?ns=${l.namespace}`,a=of(i,s),l=a.repoInfo):a.repoInfo.secure;const d=new M2(e.name,e.options,t);kS("Invalid Firebase Database URL",a),We(a.path)||Sr("Database URL must point to the root of a Firebase Database (not including a child path).");const u=QS(l,e,d,new P2(e.name,n));return new XS(u,e)}function KS(e,t){const n=Md[t];(!n||n[e.key]!==e)&&Sr(`Database ${t}(${e.repoInfo_}) has already been deleted.`),LS(e),delete n[e.key]}function QS(e,t,n,r){let s=Md[t.name];s||(s={},Md[t.name]=s);let i=s[e.toURLString()];return i&&Sr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new NS(e,YS,n,r),s[e.toURLString()]=i,i}class XS{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(DS(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Io(this._repo,pt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(KS(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Sr("Cannot call "+t+" on a deleted database.")}}function ZS(e=Zm(),t){const n=Jm(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=eg("database");r&&JS(n,...r)}return n}function JS(e,t,n,r={}){e=Ri(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&Sr("Cannot call useEmulator() after instance has already been initialized.");const s=e._repoInternal;let i;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&Sr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new Da(Da.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:_b(r.mockUserToken,e.app.options.projectId);i=new Da(a)}GS(s,t,n,i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ek(e){f2(Tb),qm(new Km("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return qS(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),Oa(_h,Th,e),Oa(_h,Th,"esm2017")}yr.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};yr.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};ek();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk="type.googleapis.com/google.protobuf.Int64Value",nk="type.googleapis.com/google.protobuf.UInt64Value";function _y(e,t){const n={};for(const r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}function Id(e){if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(t=>Id(t));if(typeof e=="function"||typeof e=="object")return _y(e,t=>Id(t));throw new Error("Data cannot be encoded in JSON: "+e)}function Ja(e){if(e==null)return e;if(e["@type"])switch(e["@type"]){case tk:case nk:{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(t=>Ja(t)):typeof e=="function"||typeof e=="object"?_y(e,t=>Ja(t)):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const af={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ks extends tg{constructor(t,n,r){super(`${Zu}/${t}`,n||""),this.details=r}}function rk(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function sk(e,t){let n=rk(e),r=n,s;try{const i=t&&t.error;if(i){const a=i.status;if(typeof a=="string"){if(!af[a])return new Ks("internal","internal");n=af[a],r=a}const l=i.message;typeof l=="string"&&(r=l),s=i.details,s!==void 0&&(s=Ja(s))}}catch{}return n==="ok"?null:new Ks(n,r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(t,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(s=>this.auth=s,()=>{}),this.messaging||n.get().then(s=>this.messaging=s,()=>{}),this.appCheck||r.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const t=await this.auth.getToken();return t==null?void 0:t.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.appCheck){const n=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(t){const n=await this.getAuthToken(),r=await this.getMessagingToken(),s=await this.getAppCheckToken(t);return{authToken:n,messagingToken:r,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd="us-central1";function ik(e){let t=null;return{promise:new Promise((n,r)=>{t=setTimeout(()=>{r(new Ks("deadline-exceeded","deadline-exceeded"))},e)}),cancel:()=>{t&&clearTimeout(t)}}}class ak{constructor(t,n,r,s,i=Nd,a){this.app=t,this.fetchImpl=a,this.emulatorOrigin=null,this.contextProvider=new ok(n,r,s),this.cancelAllRequests=new Promise(l=>{this.deleteService=()=>Promise.resolve(l())});try{const l=new URL(i);this.customDomain=l.origin+(l.pathname==="/"?"":l.pathname),this.region=Nd}catch{this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(t){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${n}.cloudfunctions.net/${t}`}}function lk(e,t,n){e.emulatorOrigin=`http://${t}:${n}`}function ck(e,t,n){return r=>uk(e,t,r,n||{})}async function dk(e,t,n,r){n["Content-Type"]="application/json";let s;try{s=await r(e,{method:"POST",body:JSON.stringify(t),headers:n})}catch{return{status:0,json:null}}let i=null;try{i=await s.json()}catch{}return{status:s.status,json:i}}function uk(e,t,n,r){const s=e._url(t);return pk(e,s,n,r)}async function pk(e,t,n,r){n=Id(n);const s={data:n},i={},a=await e.contextProvider.getContext(r.limitedUseAppCheckTokens);a.authToken&&(i.Authorization="Bearer "+a.authToken),a.messagingToken&&(i["Firebase-Instance-ID-Token"]=a.messagingToken),a.appCheckToken!==null&&(i["X-Firebase-AppCheck"]=a.appCheckToken);const l=r.timeout||7e4,c=ik(l),d=await Promise.race([dk(t,s,i,e.fetchImpl),c.promise,e.cancelAllRequests]);if(c.cancel(),!d)throw new Ks("cancelled","Firebase Functions instance was deleted.");const u=sk(d.status,d.json);if(u)throw u;if(!d.json)throw new Ks("internal","Response is not valid JSON object.");let p=d.json.data;if(typeof p>"u"&&(p=d.json.result),typeof p>"u")throw new Ks("internal","Response is missing data field.");return{data:Ja(p)}}const lf="@firebase/functions",cf="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk="auth-internal",fk="app-check-internal",mk="messaging-internal";function gk(e,t){const n=(r,{instanceIdentifier:s})=>{const i=r.getProvider("app").getImmediate(),a=r.getProvider(hk),l=r.getProvider(mk),c=r.getProvider(fk);return new ak(i,a,l,c,s,e)};qm(new Km(Zu,n,"PUBLIC").setMultipleInstances(!0)),Oa(lf,cf,t),Oa(lf,cf,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(e=Zm(),t=Nd){const r=Jm(Ri(e),Zu).getImmediate({identifier:t}),s=eg("functions");return s&&Ty(r,...s),r}function Ty(e,t,n){lk(Ri(e),t,n)}function tc(e,t,n){return ck(Ri(e),t,n)}gk(fetch.bind(self));const vk=Object.freeze(Object.defineProperty({__proto__:null,connectFunctionsEmulator:Ty,getFunctions:Ju,httpsCallable:tc},Symbol.toStringTag,{value:"Module"})),yk={apiKey:"AIzaSyAnp3SY9XEyF-le5q_Tcv-7Le2qqvtz0ZM",authDomain:"sports-booking-app-1d7e5.firebaseapp.com",databaseURL:"https://sports-booking-app-1d7e5-default-rtdb.europe-west1.firebasedatabase.app",projectId:"sports-booking-app-1d7e5",storageBucket:"sports-booking-app-1d7e5.firebasestorage.app",messagingSenderId:"648540980109",appId:"1:648540980109:web:97fbe182c59bb2641ab3c4",measurementId:"G-VL4MCP1PZP"},qi=Eb(yk),se=Pb(qi,{experimentalForceLongPolling:!1,cacheSizeBytes:50*1024*1024}),Kt=Mb(qi);Ib(Kt,Db).catch(e=>{console.error("Error setting persistence:",e)});const Dd=Nb(qi);ZS(qi);const ep=Ju(qi,"europe-west1"),xk=Object.freeze(Object.defineProperty({__proto__:null,auth:Kt,db:se,functions:ep,storage:Dd},Symbol.toStringTag,{value:"Module"})),Ey=h.createContext(void 0),Ht=()=>{const e=h.useContext(Ey);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},bk=({children:e})=>{const[t,n]=h.useState(null),[r,s]=h.useState(null),[i,a]=h.useState(null),[l,c]=h.useState(!0);h.useEffect(()=>Rb(Kt,async m=>{if(console.log(" Auth state changed:",(m==null?void 0:m.email)||"no user","at",new Date().toLocaleTimeString()),m)console.log(" User authenticated:",{uid:m.uid,email:m.email,emailVerified:m.emailVerified,providerId:m.providerId,metadata:m.metadata});else{console.log(" User signed out or session expired");const v=localStorage.getItem("authToken");console.log(" Local storage auth token:",v?"exists":"not found")}if(m)try{console.log(" Searching for admin with email:",m.email);const v=Ge(Ie(se,"admins"),Pe("email","==",m.email)),g=await qe(v);if(console.log(" Admin search result:",g.empty?"not found":"found"),g.empty)console.warn("Admin not found for user:",m.email),n(m),s(null),a(null);else{const y=g.docs[0],x={id:y.id,...y.data()};if(console.log(" Admin data loaded:",x),n(m),s(x),x.venueId){const w=await dt(_e(se,"venues",x.venueId));w.exists()&&a({id:w.id,...w.data()})}else x.role==="superadmin"&&a(null)}}catch(v){console.error("Error fetching admin data:",v),n(null),s(null),a(null)}else n(null),s(null),a(null);c(!1)}),[]);const p={user:t,admin:r,club:i,loading:l,logout:async()=>{try{await cd(Kt),n(null),s(null),a(null)}catch(f){console.error("Logout error:",f)}},refreshClubData:async()=>{if(r!=null&&r.venueId)try{const f=await dt(_e(se,"venues",r.venueId));if(f.exists()){const m=f.data();a({id:f.id,name:m.name||"",address:m.address||"",phone:m.phone||"",email:m.email||"",description:m.description,logoUrl:m.logoUrl,amenities:m.amenities,organizationType:m.organizationType,inn:m.inn,bankAccount:m.bankAccount})}}catch(f){console.error("Error refreshing club data:",f)}}};return o.jsx(Ey.Provider,{value:p,children:e})};function Ck(e){return he("MuiSvgIcon",e)}fe("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const wk=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],jk=e=>{const{color:t,fontSize:n,classes:r}=e,s={root:["root",t!=="inherit"&&`color${X(t)}`,`fontSize${X(n)}`]};return ge(s,Ck,r)},Sk=Y("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${X(n.color)}`],t[`fontSize${X(n.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var n,r,s,i,a,l,c,d,u,p,f,m,v;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=e.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(s=e.transitions)==null||(s=s.duration)==null?void 0:s.shorter}),fontSize:{inherit:"inherit",small:((i=e.typography)==null||(a=i.pxToRem)==null?void 0:a.call(i,20))||"1.25rem",medium:((l=e.typography)==null||(c=l.pxToRem)==null?void 0:c.call(l,24))||"1.5rem",large:((d=e.typography)==null||(u=d.pxToRem)==null?void 0:u.call(d,35))||"2.1875rem"}[t.fontSize],color:(p=(f=(e.vars||e).palette)==null||(f=f[t.color])==null?void 0:f.main)!=null?p:{action:(m=(e.vars||e).palette)==null||(m=m.action)==null?void 0:m.active,disabled:(v=(e.vars||e).palette)==null||(v=v.action)==null?void 0:v.disabled,inherit:void 0}[t.color]}}),el=h.forwardRef(function(t,n){const r=we({props:t,name:"MuiSvgIcon"}),{children:s,className:i,color:a="inherit",component:l="svg",fontSize:c="medium",htmlColor:d,inheritViewBox:u=!1,titleAccess:p,viewBox:f="0 0 24 24"}=r,m=J(r,wk),v=h.isValidElement(s)&&s.type==="svg",g=b({},r,{color:a,component:l,fontSize:c,instanceFontSize:t.fontSize,inheritViewBox:u,viewBox:f,hasSvgAsChild:v}),y={};u||(y.viewBox=f);const x=jk(g);return o.jsxs(Sk,b({as:l,className:re(x.root,i),focusable:"false",color:d,"aria-hidden":p?void 0:!0,role:p?"img":void 0,ref:n},y,m,v&&s.props,{ownerState:g,children:[v?s.props.children:s,p?o.jsx("title",{children:p}):null]}))});el.muiName="SvgIcon";function ue(e,t){function n(r,s){return o.jsx(el,b({"data-testid":`${t}Icon`,ref:s},r,{children:e}))}return n.muiName=el.muiName,h.memo(h.forwardRef(n))}function tl(e,t){return tl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},tl(e,t)}function tp(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,tl(e,t)}function kk(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function _k(e,t){e.classList?e.classList.add(t):kk(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function df(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Tk(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=df(e.className,t):e.setAttribute("class",df(e.className&&e.className.baseVal||"",t))}const uf={disabled:!1},nl=Fe.createContext(null);var Py=function(t){return t.scrollTop},si="unmounted",rs="exited",ss="entering",Ls="entered",Rd="exiting",Fn=function(e){tp(t,e);function t(r,s){var i;i=e.call(this,r,s)||this;var a=s,l=a&&!a.isMounting?r.enter:r.appear,c;return i.appearStatus=null,r.in?l?(c=rs,i.appearStatus=ss):c=Ls:r.unmountOnExit||r.mountOnEnter?c=si:c=rs,i.state={status:c},i.nextCallback=null,i}t.getDerivedStateFromProps=function(s,i){var a=s.in;return a&&i.status===si?{status:rs}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(s){var i=null;if(s!==this.props){var a=this.state.status;this.props.in?a!==ss&&a!==Ls&&(i=ss):(a===ss||a===Ls)&&(i=Rd)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var s=this.props.timeout,i,a,l;return i=a=l=s,s!=null&&typeof s!="number"&&(i=s.exit,a=s.enter,l=s.appear!==void 0?s.appear:a),{exit:i,enter:a,appear:l}},n.updateStatus=function(s,i){if(s===void 0&&(s=!1),i!==null)if(this.cancelNextCallback(),i===ss){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:sa.findDOMNode(this);a&&Py(a)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===rs&&this.setState({status:si})},n.performEnter=function(s){var i=this,a=this.props.enter,l=this.context?this.context.isMounting:s,c=this.props.nodeRef?[l]:[sa.findDOMNode(this),l],d=c[0],u=c[1],p=this.getTimeouts(),f=l?p.appear:p.enter;if(!s&&!a||uf.disabled){this.safeSetState({status:Ls},function(){i.props.onEntered(d)});return}this.props.onEnter(d,u),this.safeSetState({status:ss},function(){i.props.onEntering(d,u),i.onTransitionEnd(f,function(){i.safeSetState({status:Ls},function(){i.props.onEntered(d,u)})})})},n.performExit=function(){var s=this,i=this.props.exit,a=this.getTimeouts(),l=this.props.nodeRef?void 0:sa.findDOMNode(this);if(!i||uf.disabled){this.safeSetState({status:rs},function(){s.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:Rd},function(){s.props.onExiting(l),s.onTransitionEnd(a.exit,function(){s.safeSetState({status:rs},function(){s.props.onExited(l)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(s,i){i=this.setNextCallback(i),this.setState(s,i)},n.setNextCallback=function(s){var i=this,a=!0;return this.nextCallback=function(l){a&&(a=!1,i.nextCallback=null,s(l))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},n.onTransitionEnd=function(s,i){this.setNextCallback(i);var a=this.props.nodeRef?this.props.nodeRef.current:sa.findDOMNode(this),l=s==null&&!this.props.addEndListener;if(!a||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],d=c[0],u=c[1];this.props.addEndListener(d,u)}s!=null&&setTimeout(this.nextCallback,s)},n.render=function(){var s=this.state.status;if(s===si)return null;var i=this.props,a=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var l=J(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Fe.createElement(nl.Provider,{value:null},typeof a=="function"?a(s,l):Fe.cloneElement(Fe.Children.only(a),l))},t}(Fe.Component);Fn.contextType=nl;Fn.propTypes={};function $s(){}Fn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:$s,onEntering:$s,onEntered:$s,onExit:$s,onExiting:$s,onExited:$s};Fn.UNMOUNTED=si;Fn.EXITED=rs;Fn.ENTERING=ss;Fn.ENTERED=Ls;Fn.EXITING=Rd;var Ek=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return _k(t,r)})},Wc=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return Tk(t,r)})},np=function(e){tp(t,e);function t(){for(var r,s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(l,c){var d=r.resolveArguments(l,c),u=d[0],p=d[1];r.removeClasses(u,"exit"),r.addClass(u,p?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(l,c)},r.onEntering=function(l,c){var d=r.resolveArguments(l,c),u=d[0],p=d[1],f=p?"appear":"enter";r.addClass(u,f,"active"),r.props.onEntering&&r.props.onEntering(l,c)},r.onEntered=function(l,c){var d=r.resolveArguments(l,c),u=d[0],p=d[1],f=p?"appear":"enter";r.removeClasses(u,f),r.addClass(u,f,"done"),r.props.onEntered&&r.props.onEntered(l,c)},r.onExit=function(l){var c=r.resolveArguments(l),d=c[0];r.removeClasses(d,"appear"),r.removeClasses(d,"enter"),r.addClass(d,"exit","base"),r.props.onExit&&r.props.onExit(l)},r.onExiting=function(l){var c=r.resolveArguments(l),d=c[0];r.addClass(d,"exit","active"),r.props.onExiting&&r.props.onExiting(l)},r.onExited=function(l){var c=r.resolveArguments(l),d=c[0];r.removeClasses(d,"exit"),r.addClass(d,"exit","done"),r.props.onExited&&r.props.onExited(l)},r.resolveArguments=function(l,c){return r.props.nodeRef?[r.props.nodeRef.current,l]:[l,c]},r.getClassNames=function(l){var c=r.props.classNames,d=typeof c=="string",u=d&&c?c+"-":"",p=d?""+u+l:c[l],f=d?p+"-active":c[l+"Active"],m=d?p+"-done":c[l+"Done"];return{baseClassName:p,activeClassName:f,doneClassName:m}},r}var n=t.prototype;return n.addClass=function(s,i,a){var l=this.getClassNames(i)[a+"ClassName"],c=this.getClassNames("enter"),d=c.doneClassName;i==="appear"&&a==="done"&&d&&(l+=" "+d),a==="active"&&s&&Py(s),l&&(this.appliedClasses[i][a]=l,Ek(s,l))},n.removeClasses=function(s,i){var a=this.appliedClasses[i],l=a.base,c=a.active,d=a.done;this.appliedClasses[i]={},l&&Wc(s,l),c&&Wc(s,c),d&&Wc(s,d)},n.render=function(){var s=this.props;s.classNames;var i=J(s,["classNames"]);return Fe.createElement(Fn,b({},i,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(Fe.Component);np.defaultProps={classNames:""};np.propTypes={};function Ce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rp(e,t){var n=function(i){return t&&h.isValidElement(i)?t(i):i},r=Object.create(null);return e&&h.Children.map(e,function(s){return s}).forEach(function(s){r[s.key]=n(s)}),r}function Pk(e,t){e=e||{},t=t||{};function n(u){return u in t?t[u]:e[u]}var r=Object.create(null),s=[];for(var i in e)i in t?s.length&&(r[i]=s,s=[]):s.push(i);var a,l={};for(var c in t){if(r[c])for(a=0;a<r[c].length;a++){var d=r[c][a];l[r[c][a]]=n(d)}l[c]=n(c)}for(a=0;a<s.length;a++)l[s[a]]=n(s[a]);return l}function ls(e,t,n){return n[t]!=null?n[t]:e.props[t]}function Mk(e,t){return rp(e.children,function(n){return h.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:ls(n,"appear",e),enter:ls(n,"enter",e),exit:ls(n,"exit",e)})})}function Ik(e,t,n){var r=rp(e.children),s=Pk(t,r);return Object.keys(s).forEach(function(i){var a=s[i];if(h.isValidElement(a)){var l=i in t,c=i in r,d=t[i],u=h.isValidElement(d)&&!d.props.in;c&&(!l||u)?s[i]=h.cloneElement(a,{onExited:n.bind(null,a),in:!0,exit:ls(a,"exit",e),enter:ls(a,"enter",e)}):!c&&l&&!u?s[i]=h.cloneElement(a,{in:!1}):c&&l&&h.isValidElement(d)&&(s[i]=h.cloneElement(a,{onExited:n.bind(null,a),in:d.props.in,exit:ls(a,"exit",e),enter:ls(a,"enter",e)}))}}),s}var Nk=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},Dk={component:"div",childFactory:function(t){return t}},Ki=function(e){tp(t,e);function t(r,s){var i;i=e.call(this,r,s)||this;var a=i.handleExited.bind(Ce(i));return i.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},i}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(s,i){var a=i.children,l=i.handleExited,c=i.firstRender;return{children:c?Mk(s,l):Ik(s,a,l),firstRender:!1}},n.handleExited=function(s,i){var a=rp(this.props.children);s.key in a||(s.props.onExited&&s.props.onExited(i),this.mounted&&this.setState(function(l){var c=b({},l.children);return delete c[s.key],{children:c}}))},n.render=function(){var s=this.props,i=s.component,a=s.childFactory,l=J(s,["component","childFactory"]),c=this.state.contextValue,d=Nk(this.state.children).map(a);return delete l.appear,delete l.enter,delete l.exit,i===null?Fe.createElement(nl.Provider,{value:c},d):Fe.createElement(nl.Provider,{value:c},Fe.createElement(i,l,d))},t}(Fe.Component);Ki.propTypes={};Ki.defaultProps=Dk;const My=e=>e.scrollTop;function co(e,t){var n,r;const{timeout:s,easing:i,style:a={}}=e;return{duration:(n=a.transitionDuration)!=null?n:typeof s=="number"?s:s[t.mode]||0,easing:(r=a.transitionTimingFunction)!=null?r:typeof i=="object"?i[t.mode]:i,delay:a.transitionDelay}}function Rk(e){return he("MuiCollapse",e)}fe("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const Ak=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],$k=e=>{const{orientation:t,classes:n}=e,r={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return ge(r,Rk,n)},Ok=Y("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.state==="entered"&&t.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&t.hidden]}})(({theme:e,ownerState:t})=>b({height:0,overflow:"hidden",transition:e.transitions.create("height")},t.orientation==="horizontal"&&{height:"auto",width:0,transition:e.transitions.create("width")},t.state==="entered"&&b({height:"auto",overflow:"visible"},t.orientation==="horizontal"&&{width:"auto"}),t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&{visibility:"hidden"})),Lk=Y("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})(({ownerState:e})=>b({display:"flex",width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),Fk=Y("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})(({ownerState:e})=>b({width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),sp=h.forwardRef(function(t,n){const r=we({props:t,name:"MuiCollapse"}),{addEndListener:s,children:i,className:a,collapsedSize:l="0px",component:c,easing:d,in:u,onEnter:p,onEntered:f,onEntering:m,onExit:v,onExited:g,onExiting:y,orientation:x="vertical",style:w,timeout:C=cv.standard,TransitionComponent:S=Fn}=r,P=J(r,Ak),k=b({},r,{orientation:x,collapsedSize:l}),T=$k(k),_=Vn(),j=Or(),E=h.useRef(null),A=h.useRef(),L=typeof l=="number"?`${l}px`:l,R=x==="horizontal",M=R?"width":"height",D=h.useRef(null),I=vt(n,D),O=U=>le=>{if(U){const ee=D.current;le===void 0?U(ee):U(ee,le)}},z=()=>E.current?E.current[R?"clientWidth":"clientHeight"]:0,$=O((U,le)=>{E.current&&R&&(E.current.style.position="absolute"),U.style[M]=L,p&&p(U,le)}),N=O((U,le)=>{const ee=z();E.current&&R&&(E.current.style.position="");const{duration:Z,easing:ae}=co({style:w,timeout:C,easing:d},{mode:"enter"});if(C==="auto"){const K=_.transitions.getAutoHeightDuration(ee);U.style.transitionDuration=`${K}ms`,A.current=K}else U.style.transitionDuration=typeof Z=="string"?Z:`${Z}ms`;U.style[M]=`${ee}px`,U.style.transitionTimingFunction=ae,m&&m(U,le)}),W=O((U,le)=>{U.style[M]="auto",f&&f(U,le)}),V=O(U=>{U.style[M]=`${z()}px`,v&&v(U)}),G=O(g),Q=O(U=>{const le=z(),{duration:ee,easing:Z}=co({style:w,timeout:C,easing:d},{mode:"exit"});if(C==="auto"){const ae=_.transitions.getAutoHeightDuration(le);U.style.transitionDuration=`${ae}ms`,A.current=ae}else U.style.transitionDuration=typeof ee=="string"?ee:`${ee}ms`;U.style[M]=L,U.style.transitionTimingFunction=Z,y&&y(U)}),oe=U=>{C==="auto"&&j.start(A.current||0,U),s&&s(D.current,U)};return o.jsx(S,b({in:u,onEnter:$,onEntered:W,onEntering:N,onExit:V,onExited:G,onExiting:Q,addEndListener:oe,nodeRef:D,timeout:C==="auto"?null:C},P,{children:(U,le)=>o.jsx(Ok,b({as:c,className:re(T.root,a,{entered:T.entered,exited:!u&&L==="0px"&&T.hidden}[U]),style:b({[R?"minWidth":"minHeight"]:L},w),ref:I},le,{ownerState:b({},k,{state:U}),children:o.jsx(Lk,{ownerState:b({},k,{state:U}),className:T.wrapper,ref:E,children:o.jsx(Fk,{ownerState:b({},k,{state:U}),className:T.wrapperInner,children:i})})}))}))});sp.muiSupportAuto=!0;function zk(e){return he("MuiPaper",e)}fe("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Bk=["className","component","elevation","square","variant"],Wk=e=>{const{square:t,elevation:n,variant:r,classes:s}=e,i={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${n}`]};return ge(i,zk,s)},Hk=Y("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(({theme:e,ownerState:t})=>{var n;return b({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.divider}`},t.variant==="elevation"&&b({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${ze("#fff",Sh(t.elevation))}, ${ze("#fff",Sh(t.elevation))})`},e.vars&&{backgroundImage:(n=e.vars.overlays)==null?void 0:n[t.elevation]}))}),on=h.forwardRef(function(t,n){const r=we({props:t,name:"MuiPaper"}),{className:s,component:i="div",elevation:a=1,square:l=!1,variant:c="elevation"}=r,d=J(r,Bk),u=b({},r,{component:i,elevation:a,square:l,variant:c}),p=Wk(u);return o.jsx(Hk,b({as:i,ownerState:u,className:re(p.root,s),ref:n},d))}),Uk=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],Vk=["component","slots","slotProps"],Yk=["component"];function pf(e,t){const{className:n,elementType:r,ownerState:s,externalForwardedProps:i,getSlotOwnerState:a,internalForwardedProps:l}=t,c=J(t,Uk),{component:d,slots:u={[e]:void 0},slotProps:p={[e]:void 0}}=i,f=J(i,Vk),m=u[e]||r,v=Kg(p[e],s),g=qg(b({className:n},c,{externalForwardedProps:e==="root"?f:void 0,externalSlotProps:v})),{props:{component:y},internalRef:x}=g,w=J(g.props,Yk),C=vt(x,v==null?void 0:v.ref,t.ref),S=a?a(w):{},P=b({},s,S),k=e==="root"?y||d:y,T=Bs(m,b({},e==="root"&&!d&&!u[e]&&l,e!=="root"&&!u[e]&&l,w,k&&{as:k},{ref:C}),P);return Object.keys(S).forEach(_=>{delete T[_]}),[m,T]}function Gk(e){const{className:t,classes:n,pulsate:r=!1,rippleX:s,rippleY:i,rippleSize:a,in:l,onExited:c,timeout:d}=e,[u,p]=h.useState(!1),f=re(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),m={width:a,height:a,top:-(a/2)+i,left:-(a/2)+s},v=re(n.child,u&&n.childLeaving,r&&n.childPulsate);return!l&&!u&&p(!0),h.useEffect(()=>{if(!l&&c!=null){const g=setTimeout(c,d);return()=>{clearTimeout(g)}}},[c,l,d]),o.jsx("span",{className:f,style:m,children:o.jsx("span",{className:v})})}const En=fe("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),qk=["center","classes","className"];let nc=e=>e,hf,ff,mf,gf;const Ad=550,Kk=80,Qk=Ir(hf||(hf=nc`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),Xk=Ir(ff||(ff=nc`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Zk=Ir(mf||(mf=nc`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Jk=Y("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),e_=Y(Gk,{name:"MuiTouchRipple",slot:"Ripple"})(gf||(gf=nc`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),En.rippleVisible,Qk,Ad,({theme:e})=>e.transitions.easing.easeInOut,En.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,En.child,En.childLeaving,Xk,Ad,({theme:e})=>e.transitions.easing.easeInOut,En.childPulsate,Zk,({theme:e})=>e.transitions.easing.easeInOut),t_=h.forwardRef(function(t,n){const r=we({props:t,name:"MuiTouchRipple"}),{center:s=!1,classes:i={},className:a}=r,l=J(r,qk),[c,d]=h.useState([]),u=h.useRef(0),p=h.useRef(null);h.useEffect(()=>{p.current&&(p.current(),p.current=null)},[c]);const f=h.useRef(!1),m=Or(),v=h.useRef(null),g=h.useRef(null),y=h.useCallback(S=>{const{pulsate:P,rippleX:k,rippleY:T,rippleSize:_,cb:j}=S;d(E=>[...E,o.jsx(e_,{classes:{ripple:re(i.ripple,En.ripple),rippleVisible:re(i.rippleVisible,En.rippleVisible),ripplePulsate:re(i.ripplePulsate,En.ripplePulsate),child:re(i.child,En.child),childLeaving:re(i.childLeaving,En.childLeaving),childPulsate:re(i.childPulsate,En.childPulsate)},timeout:Ad,pulsate:P,rippleX:k,rippleY:T,rippleSize:_},u.current)]),u.current+=1,p.current=j},[i]),x=h.useCallback((S={},P={},k=()=>{})=>{const{pulsate:T=!1,center:_=s||P.pulsate,fakeElement:j=!1}=P;if((S==null?void 0:S.type)==="mousedown"&&f.current){f.current=!1;return}(S==null?void 0:S.type)==="touchstart"&&(f.current=!0);const E=j?null:g.current,A=E?E.getBoundingClientRect():{width:0,height:0,left:0,top:0};let L,R,M;if(_||S===void 0||S.clientX===0&&S.clientY===0||!S.clientX&&!S.touches)L=Math.round(A.width/2),R=Math.round(A.height/2);else{const{clientX:D,clientY:I}=S.touches&&S.touches.length>0?S.touches[0]:S;L=Math.round(D-A.left),R=Math.round(I-A.top)}if(_)M=Math.sqrt((2*A.width**2+A.height**2)/3),M%2===0&&(M+=1);else{const D=Math.max(Math.abs((E?E.clientWidth:0)-L),L)*2+2,I=Math.max(Math.abs((E?E.clientHeight:0)-R),R)*2+2;M=Math.sqrt(D**2+I**2)}S!=null&&S.touches?v.current===null&&(v.current=()=>{y({pulsate:T,rippleX:L,rippleY:R,rippleSize:M,cb:k})},m.start(Kk,()=>{v.current&&(v.current(),v.current=null)})):y({pulsate:T,rippleX:L,rippleY:R,rippleSize:M,cb:k})},[s,y,m]),w=h.useCallback(()=>{x({},{pulsate:!0})},[x]),C=h.useCallback((S,P)=>{if(m.clear(),(S==null?void 0:S.type)==="touchend"&&v.current){v.current(),v.current=null,m.start(0,()=>{C(S,P)});return}v.current=null,d(k=>k.length>0?k.slice(1):k),p.current=P},[m]);return h.useImperativeHandle(n,()=>({pulsate:w,start:x,stop:C}),[w,x,C]),o.jsx(Jk,b({className:re(En.root,i.root,a),ref:g},l,{children:o.jsx(Ki,{component:null,exit:!0,children:c})}))});function n_(e){return he("MuiButtonBase",e)}const r_=fe("MuiButtonBase",["root","disabled","focusVisible"]),s_=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],o_=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:s}=e,a=ge({root:["root",t&&"disabled",n&&"focusVisible"]},n_,s);return n&&r&&(a.root+=` ${r}`),a},i_=Y("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${r_.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Gr=h.forwardRef(function(t,n){const r=we({props:t,name:"MuiButtonBase"}),{action:s,centerRipple:i=!1,children:a,className:l,component:c="button",disabled:d=!1,disableRipple:u=!1,disableTouchRipple:p=!1,focusRipple:f=!1,LinkComponent:m="a",onBlur:v,onClick:g,onContextMenu:y,onDragLeave:x,onFocus:w,onFocusVisible:C,onKeyDown:S,onKeyUp:P,onMouseDown:k,onMouseLeave:T,onMouseUp:_,onTouchEnd:j,onTouchMove:E,onTouchStart:A,tabIndex:L=0,TouchRippleProps:R,touchRippleRef:M,type:D}=r,I=J(r,s_),O=h.useRef(null),z=h.useRef(null),$=vt(z,M),{isFocusVisibleRef:N,onFocus:W,onBlur:V,ref:G}=Yg(),[Q,oe]=h.useState(!1);d&&Q&&oe(!1),h.useImperativeHandle(s,()=>({focusVisible:()=>{oe(!0),O.current.focus()}}),[]);const[U,le]=h.useState(!1);h.useEffect(()=>{le(!0)},[]);const ee=U&&!u&&!d;h.useEffect(()=>{Q&&f&&!u&&U&&z.current.pulsate()},[u,f,Q,U]);function Z(Te,Pt,kn=p){return Re(Zt=>(Pt&&Pt(Zt),!kn&&z.current&&z.current[Te](Zt),!0))}const ae=Z("start",k),K=Z("stop",y),H=Z("stop",x),F=Z("stop",_),q=Z("stop",Te=>{Q&&Te.preventDefault(),T&&T(Te)}),ne=Z("start",A),pe=Z("stop",j),Ee=Z("stop",E),ie=Z("stop",Te=>{V(Te),N.current===!1&&oe(!1),v&&v(Te)},!1),ce=Re(Te=>{O.current||(O.current=Te.currentTarget),W(Te),N.current===!0&&(oe(!0),C&&C(Te)),w&&w(Te)}),xe=()=>{const Te=O.current;return c&&c!=="button"&&!(Te.tagName==="A"&&Te.href)},ve=h.useRef(!1),De=Re(Te=>{f&&!ve.current&&Q&&z.current&&Te.key===" "&&(ve.current=!0,z.current.stop(Te,()=>{z.current.start(Te)})),Te.target===Te.currentTarget&&xe()&&Te.key===" "&&Te.preventDefault(),S&&S(Te),Te.target===Te.currentTarget&&xe()&&Te.key==="Enter"&&!d&&(Te.preventDefault(),g&&g(Te))}),Me=Re(Te=>{f&&Te.key===" "&&z.current&&Q&&!Te.defaultPrevented&&(ve.current=!1,z.current.stop(Te,()=>{z.current.pulsate(Te)})),P&&P(Te),g&&Te.target===Te.currentTarget&&xe()&&Te.key===" "&&!Te.defaultPrevented&&g(Te)});let Ne=c;Ne==="button"&&(I.href||I.to)&&(Ne=m);const wt={};Ne==="button"?(wt.type=D===void 0?"button":D,wt.disabled=d):(!I.href&&!I.to&&(wt.role="button"),d&&(wt["aria-disabled"]=d));const At=vt(n,G,O),$t=b({},r,{centerRipple:i,component:c,disabled:d,disableRipple:u,disableTouchRipple:p,focusRipple:f,tabIndex:L,focusVisible:Q}),Qe=o_($t);return o.jsxs(i_,b({as:Ne,className:re(Qe.root,l),ownerState:$t,onBlur:ie,onClick:g,onContextMenu:K,onFocus:ce,onKeyDown:De,onKeyUp:Me,onMouseDown:ae,onMouseLeave:q,onMouseUp:F,onDragLeave:H,onTouchEnd:pe,onTouchMove:Ee,onTouchStart:ne,ref:At,tabIndex:d?-1:L,type:D},wt,I,{children:[a,ee?o.jsx(t_,b({ref:$,center:i},R)):null]}))});function a_(e){return he("MuiAlert",e)}const vf=fe("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function l_(e){return he("MuiIconButton",e)}const c_=fe("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),d_=["edge","children","className","color","disabled","disableFocusRipple","size"],u_=e=>{const{classes:t,disabled:n,color:r,edge:s,size:i}=e,a={root:["root",n&&"disabled",r!=="default"&&`color${X(r)}`,s&&`edge${X(s)}`,`size${X(i)}`]};return ge(a,l_,t)},p_=Y(Gr,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${X(n.color)}`],n.edge&&t[`edge${X(n.edge)}`],t[`size${X(n.size)}`]]}})(({theme:e,ownerState:t})=>b({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:ze(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12}),({theme:e,ownerState:t})=>{var n;const r=(n=(e.vars||e).palette)==null?void 0:n[t.color];return b({},t.color==="inherit"&&{color:"inherit"},t.color!=="inherit"&&t.color!=="default"&&b({color:r==null?void 0:r.main},!t.disableRipple&&{"&:hover":b({},r&&{backgroundColor:e.vars?`rgba(${r.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ze(r.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),t.size==="small"&&{padding:5,fontSize:e.typography.pxToRem(18)},t.size==="large"&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${c_.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),dn=h.forwardRef(function(t,n){const r=we({props:t,name:"MuiIconButton"}),{edge:s=!1,children:i,className:a,color:l="default",disabled:c=!1,disableFocusRipple:d=!1,size:u="medium"}=r,p=J(r,d_),f=b({},r,{edge:s,color:l,disabled:c,disableFocusRipple:d,size:u}),m=u_(f);return o.jsx(p_,b({className:re(m.root,a),centerRipple:!0,focusRipple:!d,disabled:c,ref:n},p,{ownerState:f,children:i}))}),h_=ue(o.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),f_=ue(o.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),m_=ue(o.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),g_=ue(o.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),v_=ue(o.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),y_=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],x_=e=>{const{variant:t,color:n,severity:r,classes:s}=e,i={root:["root",`color${X(n||r)}`,`${t}${X(n||r)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return ge(i,a_,s)},b_=Y(on,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${X(n.color||n.severity)}`]]}})(({theme:e})=>{const t=e.palette.mode==="light"?oo:io,n=e.palette.mode==="light"?io:oo;return b({},e.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(e.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:e.vars?e.vars.palette.Alert[`${r}Color`]:t(e.palette[r].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${r}StandardBg`]:n(e.palette[r].light,.9),[`& .${vf.icon}`]:e.vars?{color:e.vars.palette.Alert[`${r}IconColor`]}:{color:e.palette[r].main}}})),...Object.entries(e.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:e.vars?e.vars.palette.Alert[`${r}Color`]:t(e.palette[r].light,.6),border:`1px solid ${(e.vars||e).palette[r].light}`,[`& .${vf.icon}`]:e.vars?{color:e.vars.palette.Alert[`${r}IconColor`]}:{color:e.palette[r].main}}})),...Object.entries(e.palette).filter(([,r])=>r.main&&r.dark).map(([r])=>({props:{colorSeverity:r,variant:"filled"},style:b({fontWeight:e.typography.fontWeightMedium},e.vars?{color:e.vars.palette.Alert[`${r}FilledColor`],backgroundColor:e.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:e.palette.mode==="dark"?e.palette[r].dark:e.palette[r].main,color:e.palette.getContrastText(e.palette[r].main)})}))]})}),C_=Y("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),w_=Y("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),yf=Y("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),xf={success:o.jsx(h_,{fontSize:"inherit"}),warning:o.jsx(f_,{fontSize:"inherit"}),error:o.jsx(m_,{fontSize:"inherit"}),info:o.jsx(g_,{fontSize:"inherit"})},ct=h.forwardRef(function(t,n){const r=we({props:t,name:"MuiAlert"}),{action:s,children:i,className:a,closeText:l="Close",color:c,components:d={},componentsProps:u={},icon:p,iconMapping:f=xf,onClose:m,role:v="alert",severity:g="success",slotProps:y={},slots:x={},variant:w="standard"}=r,C=J(r,y_),S=b({},r,{color:c,severity:g,variant:w,colorSeverity:c||g}),P=x_(S),k={slots:b({closeButton:d.CloseButton,closeIcon:d.CloseIcon},x),slotProps:b({},u,y)},[T,_]=pf("closeButton",{elementType:dn,externalForwardedProps:k,ownerState:S}),[j,E]=pf("closeIcon",{elementType:v_,externalForwardedProps:k,ownerState:S});return o.jsxs(b_,b({role:v,elevation:0,ownerState:S,className:re(P.root,a),ref:n},C,{children:[p!==!1?o.jsx(C_,{ownerState:S,className:P.icon,children:p||f[g]||xf[g]}):null,o.jsx(w_,{ownerState:S,className:P.message,children:i}),s!=null?o.jsx(yf,{ownerState:S,className:P.action,children:s}):null,s==null&&m?o.jsx(yf,{ownerState:S,className:P.action,children:o.jsx(T,b({size:"small","aria-label":l,title:l,color:"inherit",onClick:m},_,{children:o.jsx(j,b({fontSize:"small"},E))}))}):null]}))});function j_(e){return he("MuiTypography",e)}fe("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const S_=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],k_=e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:s,variant:i,classes:a}=e,l={root:["root",i,e.align!=="inherit"&&`align${X(t)}`,n&&"gutterBottom",r&&"noWrap",s&&"paragraph"]};return ge(l,j_,a)},__=Y("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],n.align!=="inherit"&&t[`align${X(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>b({margin:0},t.variant==="inherit"&&{font:"inherit"},t.variant!=="inherit"&&e.typography[t.variant],t.align!=="inherit"&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),bf={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},T_={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},E_=e=>T_[e]||e,B=h.forwardRef(function(t,n){const r=we({props:t,name:"MuiTypography"}),s=E_(r.color),i=zi(b({},r,{color:s})),{align:a="inherit",className:l,component:c,gutterBottom:d=!1,noWrap:u=!1,paragraph:p=!1,variant:f="body1",variantMapping:m=bf}=i,v=J(i,S_),g=b({},i,{align:a,color:s,className:l,component:c,gutterBottom:d,noWrap:u,paragraph:p,variant:f,variantMapping:m}),y=c||(p?"p":m[f]||bf[f])||"span",x=k_(g);return o.jsx(__,b({as:y,ref:n,ownerState:g,className:re(x.root,l)},v))});function P_(e){return he("MuiAlertTitle",e)}fe("MuiAlertTitle",["root"]);const M_=["className"],I_=e=>{const{classes:t}=e;return ge({root:["root"]},P_,t)},N_=Y(B,{name:"MuiAlertTitle",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({fontWeight:e.typography.fontWeightMedium,marginTop:-2})),_i=h.forwardRef(function(t,n){const r=we({props:t,name:"MuiAlertTitle"}),{className:s}=r,i=J(r,M_),a=r,l=I_(a);return o.jsx(N_,b({gutterBottom:!0,component:"div",ownerState:a,ref:n,className:re(l.root,s)},i))});var op={};Object.defineProperty(op,"__esModule",{value:!0});var Iy=op.default=void 0,D_=A_(h),R_=dv;function Ny(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(Ny=function(r){return r?n:t})(e)}function A_(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=Ny(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var a=s?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}function $_(e){return Object.keys(e).length===0}function O_(e=null){const t=D_.useContext(R_.ThemeContext);return!t||$_(t)?e:t}Iy=op.default=O_;var un="top",Rn="bottom",An="right",pn="left",ip="auto",Qi=[un,Rn,An,pn],uo="start",Ti="end",L_="clippingParents",Dy="viewport",Go="popper",F_="reference",Cf=Qi.reduce(function(e,t){return e.concat([t+"-"+uo,t+"-"+Ti])},[]),Ry=[].concat(Qi,[ip]).reduce(function(e,t){return e.concat([t,t+"-"+uo,t+"-"+Ti])},[]),z_="beforeRead",B_="read",W_="afterRead",H_="beforeMain",U_="main",V_="afterMain",Y_="beforeWrite",G_="write",q_="afterWrite",K_=[z_,B_,W_,H_,U_,V_,Y_,G_,q_];function lr(e){return e?(e.nodeName||"").toLowerCase():null}function jn(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function xs(e){var t=jn(e).Element;return e instanceof t||e instanceof Element}function In(e){var t=jn(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function ap(e){if(typeof ShadowRoot>"u")return!1;var t=jn(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Q_(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},s=t.attributes[n]||{},i=t.elements[n];!In(i)||!lr(i)||(Object.assign(i.style,r),Object.keys(s).forEach(function(a){var l=s[a];l===!1?i.removeAttribute(a):i.setAttribute(a,l===!0?"":l)}))})}function X_(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var s=t.elements[r],i=t.attributes[r]||{},a=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),l=a.reduce(function(c,d){return c[d]="",c},{});!In(s)||!lr(s)||(Object.assign(s.style,l),Object.keys(i).forEach(function(c){s.removeAttribute(c)}))})}}const Z_={name:"applyStyles",enabled:!0,phase:"write",fn:Q_,effect:X_,requires:["computeStyles"]};function rr(e){return e.split("-")[0]}var us=Math.max,rl=Math.min,po=Math.round;function $d(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Ay(){return!/^((?!chrome|android).)*safari/i.test($d())}function ho(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),s=1,i=1;t&&In(e)&&(s=e.offsetWidth>0&&po(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&po(r.height)/e.offsetHeight||1);var a=xs(e)?jn(e):window,l=a.visualViewport,c=!Ay()&&n,d=(r.left+(c&&l?l.offsetLeft:0))/s,u=(r.top+(c&&l?l.offsetTop:0))/i,p=r.width/s,f=r.height/i;return{width:p,height:f,top:u,right:d+p,bottom:u+f,left:d,x:d,y:u}}function lp(e){var t=ho(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function $y(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&ap(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function kr(e){return jn(e).getComputedStyle(e)}function J_(e){return["table","td","th"].indexOf(lr(e))>=0}function Xr(e){return((xs(e)?e.ownerDocument:e.document)||window.document).documentElement}function rc(e){return lr(e)==="html"?e:e.assignedSlot||e.parentNode||(ap(e)?e.host:null)||Xr(e)}function wf(e){return!In(e)||kr(e).position==="fixed"?null:e.offsetParent}function eT(e){var t=/firefox/i.test($d()),n=/Trident/i.test($d());if(n&&In(e)){var r=kr(e);if(r.position==="fixed")return null}var s=rc(e);for(ap(s)&&(s=s.host);In(s)&&["html","body"].indexOf(lr(s))<0;){var i=kr(s);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return s;s=s.parentNode}return null}function Xi(e){for(var t=jn(e),n=wf(e);n&&J_(n)&&kr(n).position==="static";)n=wf(n);return n&&(lr(n)==="html"||lr(n)==="body"&&kr(n).position==="static")?t:n||eT(e)||t}function cp(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function ui(e,t,n){return us(e,rl(t,n))}function tT(e,t,n){var r=ui(e,t,n);return r>n?n:r}function Oy(){return{top:0,right:0,bottom:0,left:0}}function Ly(e){return Object.assign({},Oy(),e)}function Fy(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var nT=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,Ly(typeof t!="number"?t:Fy(t,Qi))};function rT(e){var t,n=e.state,r=e.name,s=e.options,i=n.elements.arrow,a=n.modifiersData.popperOffsets,l=rr(n.placement),c=cp(l),d=[pn,An].indexOf(l)>=0,u=d?"height":"width";if(!(!i||!a)){var p=nT(s.padding,n),f=lp(i),m=c==="y"?un:pn,v=c==="y"?Rn:An,g=n.rects.reference[u]+n.rects.reference[c]-a[c]-n.rects.popper[u],y=a[c]-n.rects.reference[c],x=Xi(i),w=x?c==="y"?x.clientHeight||0:x.clientWidth||0:0,C=g/2-y/2,S=p[m],P=w-f[u]-p[v],k=w/2-f[u]/2+C,T=ui(S,k,P),_=c;n.modifiersData[r]=(t={},t[_]=T,t.centerOffset=T-k,t)}}function sT(e){var t=e.state,n=e.options,r=n.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=t.elements.popper.querySelector(s),!s)||$y(t.elements.popper,s)&&(t.elements.arrow=s))}const oT={name:"arrow",enabled:!0,phase:"main",fn:rT,effect:sT,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function fo(e){return e.split("-")[1]}var iT={top:"auto",right:"auto",bottom:"auto",left:"auto"};function aT(e,t){var n=e.x,r=e.y,s=t.devicePixelRatio||1;return{x:po(n*s)/s||0,y:po(r*s)/s||0}}function jf(e){var t,n=e.popper,r=e.popperRect,s=e.placement,i=e.variation,a=e.offsets,l=e.position,c=e.gpuAcceleration,d=e.adaptive,u=e.roundOffsets,p=e.isFixed,f=a.x,m=f===void 0?0:f,v=a.y,g=v===void 0?0:v,y=typeof u=="function"?u({x:m,y:g}):{x:m,y:g};m=y.x,g=y.y;var x=a.hasOwnProperty("x"),w=a.hasOwnProperty("y"),C=pn,S=un,P=window;if(d){var k=Xi(n),T="clientHeight",_="clientWidth";if(k===jn(n)&&(k=Xr(n),kr(k).position!=="static"&&l==="absolute"&&(T="scrollHeight",_="scrollWidth")),k=k,s===un||(s===pn||s===An)&&i===Ti){S=Rn;var j=p&&k===P&&P.visualViewport?P.visualViewport.height:k[T];g-=j-r.height,g*=c?1:-1}if(s===pn||(s===un||s===Rn)&&i===Ti){C=An;var E=p&&k===P&&P.visualViewport?P.visualViewport.width:k[_];m-=E-r.width,m*=c?1:-1}}var A=Object.assign({position:l},d&&iT),L=u===!0?aT({x:m,y:g},jn(n)):{x:m,y:g};if(m=L.x,g=L.y,c){var R;return Object.assign({},A,(R={},R[S]=w?"0":"",R[C]=x?"0":"",R.transform=(P.devicePixelRatio||1)<=1?"translate("+m+"px, "+g+"px)":"translate3d("+m+"px, "+g+"px, 0)",R))}return Object.assign({},A,(t={},t[S]=w?g+"px":"",t[C]=x?m+"px":"",t.transform="",t))}function lT(e){var t=e.state,n=e.options,r=n.gpuAcceleration,s=r===void 0?!0:r,i=n.adaptive,a=i===void 0?!0:i,l=n.roundOffsets,c=l===void 0?!0:l,d={placement:rr(t.placement),variation:fo(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,jf(Object.assign({},d,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,jf(Object.assign({},d,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const cT={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:lT,data:{}};var da={passive:!0};function dT(e){var t=e.state,n=e.instance,r=e.options,s=r.scroll,i=s===void 0?!0:s,a=r.resize,l=a===void 0?!0:a,c=jn(t.elements.popper),d=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&d.forEach(function(u){u.addEventListener("scroll",n.update,da)}),l&&c.addEventListener("resize",n.update,da),function(){i&&d.forEach(function(u){u.removeEventListener("scroll",n.update,da)}),l&&c.removeEventListener("resize",n.update,da)}}const uT={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:dT,data:{}};var pT={left:"right",right:"left",bottom:"top",top:"bottom"};function Ra(e){return e.replace(/left|right|bottom|top/g,function(t){return pT[t]})}var hT={start:"end",end:"start"};function Sf(e){return e.replace(/start|end/g,function(t){return hT[t]})}function dp(e){var t=jn(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function up(e){return ho(Xr(e)).left+dp(e).scrollLeft}function fT(e,t){var n=jn(e),r=Xr(e),s=n.visualViewport,i=r.clientWidth,a=r.clientHeight,l=0,c=0;if(s){i=s.width,a=s.height;var d=Ay();(d||!d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:a,x:l+up(e),y:c}}function mT(e){var t,n=Xr(e),r=dp(e),s=(t=e.ownerDocument)==null?void 0:t.body,i=us(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),a=us(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),l=-r.scrollLeft+up(e),c=-r.scrollTop;return kr(s||n).direction==="rtl"&&(l+=us(n.clientWidth,s?s.clientWidth:0)-i),{width:i,height:a,x:l,y:c}}function pp(e){var t=kr(e),n=t.overflow,r=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function zy(e){return["html","body","#document"].indexOf(lr(e))>=0?e.ownerDocument.body:In(e)&&pp(e)?e:zy(rc(e))}function pi(e,t){var n;t===void 0&&(t=[]);var r=zy(e),s=r===((n=e.ownerDocument)==null?void 0:n.body),i=jn(r),a=s?[i].concat(i.visualViewport||[],pp(r)?r:[]):r,l=t.concat(a);return s?l:l.concat(pi(rc(a)))}function Od(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function gT(e,t){var n=ho(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function kf(e,t,n){return t===Dy?Od(fT(e,n)):xs(t)?gT(t,n):Od(mT(Xr(e)))}function vT(e){var t=pi(rc(e)),n=["absolute","fixed"].indexOf(kr(e).position)>=0,r=n&&In(e)?Xi(e):e;return xs(r)?t.filter(function(s){return xs(s)&&$y(s,r)&&lr(s)!=="body"}):[]}function yT(e,t,n,r){var s=t==="clippingParents"?vT(e):[].concat(t),i=[].concat(s,[n]),a=i[0],l=i.reduce(function(c,d){var u=kf(e,d,r);return c.top=us(u.top,c.top),c.right=rl(u.right,c.right),c.bottom=rl(u.bottom,c.bottom),c.left=us(u.left,c.left),c},kf(e,a,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function By(e){var t=e.reference,n=e.element,r=e.placement,s=r?rr(r):null,i=r?fo(r):null,a=t.x+t.width/2-n.width/2,l=t.y+t.height/2-n.height/2,c;switch(s){case un:c={x:a,y:t.y-n.height};break;case Rn:c={x:a,y:t.y+t.height};break;case An:c={x:t.x+t.width,y:l};break;case pn:c={x:t.x-n.width,y:l};break;default:c={x:t.x,y:t.y}}var d=s?cp(s):null;if(d!=null){var u=d==="y"?"height":"width";switch(i){case uo:c[d]=c[d]-(t[u]/2-n[u]/2);break;case Ti:c[d]=c[d]+(t[u]/2-n[u]/2);break}}return c}function Ei(e,t){t===void 0&&(t={});var n=t,r=n.placement,s=r===void 0?e.placement:r,i=n.strategy,a=i===void 0?e.strategy:i,l=n.boundary,c=l===void 0?L_:l,d=n.rootBoundary,u=d===void 0?Dy:d,p=n.elementContext,f=p===void 0?Go:p,m=n.altBoundary,v=m===void 0?!1:m,g=n.padding,y=g===void 0?0:g,x=Ly(typeof y!="number"?y:Fy(y,Qi)),w=f===Go?F_:Go,C=e.rects.popper,S=e.elements[v?w:f],P=yT(xs(S)?S:S.contextElement||Xr(e.elements.popper),c,u,a),k=ho(e.elements.reference),T=By({reference:k,element:C,placement:s}),_=Od(Object.assign({},C,T)),j=f===Go?_:k,E={top:P.top-j.top+x.top,bottom:j.bottom-P.bottom+x.bottom,left:P.left-j.left+x.left,right:j.right-P.right+x.right},A=e.modifiersData.offset;if(f===Go&&A){var L=A[s];Object.keys(E).forEach(function(R){var M=[An,Rn].indexOf(R)>=0?1:-1,D=[un,Rn].indexOf(R)>=0?"y":"x";E[R]+=L[D]*M})}return E}function xT(e,t){t===void 0&&(t={});var n=t,r=n.placement,s=n.boundary,i=n.rootBoundary,a=n.padding,l=n.flipVariations,c=n.allowedAutoPlacements,d=c===void 0?Ry:c,u=fo(r),p=u?l?Cf:Cf.filter(function(v){return fo(v)===u}):Qi,f=p.filter(function(v){return d.indexOf(v)>=0});f.length===0&&(f=p);var m=f.reduce(function(v,g){return v[g]=Ei(e,{placement:g,boundary:s,rootBoundary:i,padding:a})[rr(g)],v},{});return Object.keys(m).sort(function(v,g){return m[v]-m[g]})}function bT(e){if(rr(e)===ip)return[];var t=Ra(e);return[Sf(e),t,Sf(t)]}function CT(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var s=n.mainAxis,i=s===void 0?!0:s,a=n.altAxis,l=a===void 0?!0:a,c=n.fallbackPlacements,d=n.padding,u=n.boundary,p=n.rootBoundary,f=n.altBoundary,m=n.flipVariations,v=m===void 0?!0:m,g=n.allowedAutoPlacements,y=t.options.placement,x=rr(y),w=x===y,C=c||(w||!v?[Ra(y)]:bT(y)),S=[y].concat(C).reduce(function(Q,oe){return Q.concat(rr(oe)===ip?xT(t,{placement:oe,boundary:u,rootBoundary:p,padding:d,flipVariations:v,allowedAutoPlacements:g}):oe)},[]),P=t.rects.reference,k=t.rects.popper,T=new Map,_=!0,j=S[0],E=0;E<S.length;E++){var A=S[E],L=rr(A),R=fo(A)===uo,M=[un,Rn].indexOf(L)>=0,D=M?"width":"height",I=Ei(t,{placement:A,boundary:u,rootBoundary:p,altBoundary:f,padding:d}),O=M?R?An:pn:R?Rn:un;P[D]>k[D]&&(O=Ra(O));var z=Ra(O),$=[];if(i&&$.push(I[L]<=0),l&&$.push(I[O]<=0,I[z]<=0),$.every(function(Q){return Q})){j=A,_=!1;break}T.set(A,$)}if(_)for(var N=v?3:1,W=function(oe){var U=S.find(function(le){var ee=T.get(le);if(ee)return ee.slice(0,oe).every(function(Z){return Z})});if(U)return j=U,"break"},V=N;V>0;V--){var G=W(V);if(G==="break")break}t.placement!==j&&(t.modifiersData[r]._skip=!0,t.placement=j,t.reset=!0)}}const wT={name:"flip",enabled:!0,phase:"main",fn:CT,requiresIfExists:["offset"],data:{_skip:!1}};function _f(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Tf(e){return[un,An,Rn,pn].some(function(t){return e[t]>=0})}function jT(e){var t=e.state,n=e.name,r=t.rects.reference,s=t.rects.popper,i=t.modifiersData.preventOverflow,a=Ei(t,{elementContext:"reference"}),l=Ei(t,{altBoundary:!0}),c=_f(a,r),d=_f(l,s,i),u=Tf(c),p=Tf(d);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:d,isReferenceHidden:u,hasPopperEscaped:p},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":p})}const ST={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:jT};function kT(e,t,n){var r=rr(e),s=[pn,un].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,a=i[0],l=i[1];return a=a||0,l=(l||0)*s,[pn,An].indexOf(r)>=0?{x:l,y:a}:{x:a,y:l}}function _T(e){var t=e.state,n=e.options,r=e.name,s=n.offset,i=s===void 0?[0,0]:s,a=Ry.reduce(function(u,p){return u[p]=kT(p,t.rects,i),u},{}),l=a[t.placement],c=l.x,d=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=d),t.modifiersData[r]=a}const TT={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:_T};function ET(e){var t=e.state,n=e.name;t.modifiersData[n]=By({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const PT={name:"popperOffsets",enabled:!0,phase:"read",fn:ET,data:{}};function MT(e){return e==="x"?"y":"x"}function IT(e){var t=e.state,n=e.options,r=e.name,s=n.mainAxis,i=s===void 0?!0:s,a=n.altAxis,l=a===void 0?!1:a,c=n.boundary,d=n.rootBoundary,u=n.altBoundary,p=n.padding,f=n.tether,m=f===void 0?!0:f,v=n.tetherOffset,g=v===void 0?0:v,y=Ei(t,{boundary:c,rootBoundary:d,padding:p,altBoundary:u}),x=rr(t.placement),w=fo(t.placement),C=!w,S=cp(x),P=MT(S),k=t.modifiersData.popperOffsets,T=t.rects.reference,_=t.rects.popper,j=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,E=typeof j=="number"?{mainAxis:j,altAxis:j}:Object.assign({mainAxis:0,altAxis:0},j),A=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,L={x:0,y:0};if(k){if(i){var R,M=S==="y"?un:pn,D=S==="y"?Rn:An,I=S==="y"?"height":"width",O=k[S],z=O+y[M],$=O-y[D],N=m?-_[I]/2:0,W=w===uo?T[I]:_[I],V=w===uo?-_[I]:-T[I],G=t.elements.arrow,Q=m&&G?lp(G):{width:0,height:0},oe=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Oy(),U=oe[M],le=oe[D],ee=ui(0,T[I],Q[I]),Z=C?T[I]/2-N-ee-U-E.mainAxis:W-ee-U-E.mainAxis,ae=C?-T[I]/2+N+ee+le+E.mainAxis:V+ee+le+E.mainAxis,K=t.elements.arrow&&Xi(t.elements.arrow),H=K?S==="y"?K.clientTop||0:K.clientLeft||0:0,F=(R=A==null?void 0:A[S])!=null?R:0,q=O+Z-F-H,ne=O+ae-F,pe=ui(m?rl(z,q):z,O,m?us($,ne):$);k[S]=pe,L[S]=pe-O}if(l){var Ee,ie=S==="x"?un:pn,ce=S==="x"?Rn:An,xe=k[P],ve=P==="y"?"height":"width",De=xe+y[ie],Me=xe-y[ce],Ne=[un,pn].indexOf(x)!==-1,wt=(Ee=A==null?void 0:A[P])!=null?Ee:0,At=Ne?De:xe-T[ve]-_[ve]-wt+E.altAxis,$t=Ne?xe+T[ve]+_[ve]-wt-E.altAxis:Me,Qe=m&&Ne?tT(At,xe,$t):ui(m?At:De,xe,m?$t:Me);k[P]=Qe,L[P]=Qe-xe}t.modifiersData[r]=L}}const NT={name:"preventOverflow",enabled:!0,phase:"main",fn:IT,requiresIfExists:["offset"]};function DT(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function RT(e){return e===jn(e)||!In(e)?dp(e):DT(e)}function AT(e){var t=e.getBoundingClientRect(),n=po(t.width)/e.offsetWidth||1,r=po(t.height)/e.offsetHeight||1;return n!==1||r!==1}function $T(e,t,n){n===void 0&&(n=!1);var r=In(t),s=In(t)&&AT(t),i=Xr(t),a=ho(e,s,n),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((lr(t)!=="body"||pp(i))&&(l=RT(t)),In(t)?(c=ho(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):i&&(c.x=up(i))),{x:a.left+l.scrollLeft-c.x,y:a.top+l.scrollTop-c.y,width:a.width,height:a.height}}function OT(e){var t=new Map,n=new Set,r=[];e.forEach(function(i){t.set(i.name,i)});function s(i){n.add(i.name);var a=[].concat(i.requires||[],i.requiresIfExists||[]);a.forEach(function(l){if(!n.has(l)){var c=t.get(l);c&&s(c)}}),r.push(i)}return e.forEach(function(i){n.has(i.name)||s(i)}),r}function LT(e){var t=OT(e);return K_.reduce(function(n,r){return n.concat(t.filter(function(s){return s.phase===r}))},[])}function FT(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function zT(e){var t=e.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var Ef={placement:"bottom",modifiers:[],strategy:"absolute"};function Pf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function BT(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,s=t.defaultOptions,i=s===void 0?Ef:s;return function(l,c,d){d===void 0&&(d=i);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ef,i),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},p=[],f=!1,m={state:u,setOptions:function(x){var w=typeof x=="function"?x(u.options):x;g(),u.options=Object.assign({},i,u.options,w),u.scrollParents={reference:xs(l)?pi(l):l.contextElement?pi(l.contextElement):[],popper:pi(c)};var C=LT(zT([].concat(r,u.options.modifiers)));return u.orderedModifiers=C.filter(function(S){return S.enabled}),v(),m.update()},forceUpdate:function(){if(!f){var x=u.elements,w=x.reference,C=x.popper;if(Pf(w,C)){u.rects={reference:$T(w,Xi(C),u.options.strategy==="fixed"),popper:lp(C)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(E){return u.modifiersData[E.name]=Object.assign({},E.data)});for(var S=0;S<u.orderedModifiers.length;S++){if(u.reset===!0){u.reset=!1,S=-1;continue}var P=u.orderedModifiers[S],k=P.fn,T=P.options,_=T===void 0?{}:T,j=P.name;typeof k=="function"&&(u=k({state:u,options:_,name:j,instance:m})||u)}}}},update:FT(function(){return new Promise(function(y){m.forceUpdate(),y(u)})}),destroy:function(){g(),f=!0}};if(!Pf(l,c))return m;m.setOptions(d).then(function(y){!f&&d.onFirstUpdate&&d.onFirstUpdate(y)});function v(){u.orderedModifiers.forEach(function(y){var x=y.name,w=y.options,C=w===void 0?{}:w,S=y.effect;if(typeof S=="function"){var P=S({state:u,name:x,instance:m,options:C}),k=function(){};p.push(P||k)}})}function g(){p.forEach(function(y){return y()}),p=[]}return m}}var WT=[uT,PT,cT,Z_,TT,wT,NT,oT,ST],HT=BT({defaultModifiers:WT});function UT(e){return typeof e=="function"?e():e}const Wy=h.forwardRef(function(t,n){const{children:r,container:s,disablePortal:i=!1}=t,[a,l]=h.useState(null),c=vt(h.isValidElement(r)?ks(r):null,n);if(sn(()=>{i||l(UT(s)||document.body)},[s,i]),sn(()=>{if(a&&!i)return gd(n,a),()=>{gd(n,null)}},[n,a,i]),i){if(h.isValidElement(r)){const d={ref:c};return h.cloneElement(r,d)}return o.jsx(h.Fragment,{children:r})}return o.jsx(h.Fragment,{children:a&&Gm.createPortal(r,a)})});function VT(e){return he("MuiPopper",e)}fe("MuiPopper",["root"]);const YT=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],GT=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function qT(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function Ld(e){return typeof e=="function"?e():e}function KT(e){return e.nodeType!==void 0}const QT=e=>{const{classes:t}=e;return ge({root:["root"]},VT,t)},XT={},ZT=h.forwardRef(function(t,n){var r;const{anchorEl:s,children:i,direction:a,disablePortal:l,modifiers:c,open:d,placement:u,popperOptions:p,popperRef:f,slotProps:m={},slots:v={},TransitionProps:g}=t,y=J(t,YT),x=h.useRef(null),w=vt(x,n),C=h.useRef(null),S=vt(C,f),P=h.useRef(S);sn(()=>{P.current=S},[S]),h.useImperativeHandle(f,()=>C.current,[]);const k=qT(u,a),[T,_]=h.useState(k),[j,E]=h.useState(Ld(s));h.useEffect(()=>{C.current&&C.current.forceUpdate()}),h.useEffect(()=>{s&&E(Ld(s))},[s]),sn(()=>{if(!j||!d)return;const D=z=>{_(z.placement)};let I=[{name:"preventOverflow",options:{altBoundary:l}},{name:"flip",options:{altBoundary:l}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:z})=>{D(z)}}];c!=null&&(I=I.concat(c)),p&&p.modifiers!=null&&(I=I.concat(p.modifiers));const O=HT(j,x.current,b({placement:k},p,{modifiers:I}));return P.current(O),()=>{O.destroy(),P.current(null)}},[j,l,c,d,p,k]);const A={placement:T};g!==null&&(A.TransitionProps=g);const L=QT(t),R=(r=v.root)!=null?r:"div",M=Vr({elementType:R,externalSlotProps:m.root,externalForwardedProps:y,additionalProps:{role:"tooltip",ref:w},ownerState:t,className:L.root});return o.jsx(R,b({},M,{children:typeof i=="function"?i(A):i}))}),JT=h.forwardRef(function(t,n){const{anchorEl:r,children:s,container:i,direction:a="ltr",disablePortal:l=!1,keepMounted:c=!1,modifiers:d,open:u,placement:p="bottom",popperOptions:f=XT,popperRef:m,style:v,transition:g=!1,slotProps:y={},slots:x={}}=t,w=J(t,GT),[C,S]=h.useState(!0),P=()=>{S(!1)},k=()=>{S(!0)};if(!c&&!u&&(!g||C))return null;let T;if(i)T=i;else if(r){const E=Ld(r);T=E&&KT(E)?Bt(E).body:Bt(null).body}const _=!u&&c&&(!g||C)?"none":void 0,j=g?{in:u,onEnter:P,onExited:k}:void 0;return o.jsx(Wy,{disablePortal:l,container:T,children:o.jsx(ZT,b({anchorEl:r,direction:a,disablePortal:l,modifiers:d,ref:n,open:g?!C:u,placement:p,popperOptions:f,popperRef:m,slotProps:y,slots:x},w,{style:b({position:"fixed",top:0,left:0,display:_},v),TransitionProps:j,children:s}))})}),eE=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],tE=Y(JT,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Hy=h.forwardRef(function(t,n){var r;const s=Iy(),i=we({props:t,name:"MuiPopper"}),{anchorEl:a,component:l,components:c,componentsProps:d,container:u,disablePortal:p,keepMounted:f,modifiers:m,open:v,placement:g,popperOptions:y,popperRef:x,transition:w,slots:C,slotProps:S}=i,P=J(i,eE),k=(r=C==null?void 0:C.root)!=null?r:c==null?void 0:c.Root,T=b({anchorEl:a,container:u,disablePortal:p,keepMounted:f,modifiers:m,open:v,placement:g,popperOptions:y,popperRef:x,transition:w},P);return o.jsx(tE,b({as:l,direction:s==null?void 0:s.direction,slots:{root:k},slotProps:S??d},T,{ref:n}))}),nE=ue(o.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function rE(e){return he("MuiChip",e)}const et=fe("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),sE=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],oE=e=>{const{classes:t,disabled:n,size:r,color:s,iconColor:i,onDelete:a,clickable:l,variant:c}=e,d={root:["root",c,n&&"disabled",`size${X(r)}`,`color${X(s)}`,l&&"clickable",l&&`clickableColor${X(s)}`,a&&"deletable",a&&`deletableColor${X(s)}`,`${c}${X(s)}`],label:["label",`label${X(r)}`],avatar:["avatar",`avatar${X(r)}`,`avatarColor${X(s)}`],icon:["icon",`icon${X(r)}`,`iconColor${X(i)}`],deleteIcon:["deleteIcon",`deleteIcon${X(r)}`,`deleteIconColor${X(s)}`,`deleteIcon${X(c)}Color${X(s)}`]};return ge(d,rE,t)},iE=Y("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:r,iconColor:s,clickable:i,onDelete:a,size:l,variant:c}=n;return[{[`& .${et.avatar}`]:t.avatar},{[`& .${et.avatar}`]:t[`avatar${X(l)}`]},{[`& .${et.avatar}`]:t[`avatarColor${X(r)}`]},{[`& .${et.icon}`]:t.icon},{[`& .${et.icon}`]:t[`icon${X(l)}`]},{[`& .${et.icon}`]:t[`iconColor${X(s)}`]},{[`& .${et.deleteIcon}`]:t.deleteIcon},{[`& .${et.deleteIcon}`]:t[`deleteIcon${X(l)}`]},{[`& .${et.deleteIcon}`]:t[`deleteIconColor${X(r)}`]},{[`& .${et.deleteIcon}`]:t[`deleteIcon${X(c)}Color${X(r)}`]},t.root,t[`size${X(l)}`],t[`color${X(r)}`],i&&t.clickable,i&&r!=="default"&&t[`clickableColor${X(r)})`],a&&t.deletable,a&&r!=="default"&&t[`deletableColor${X(r)}`],t[c],t[`${c}${X(r)}`]]}})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return b({maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${et.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${et.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:n,fontSize:e.typography.pxToRem(12)},[`& .${et.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${et.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${et.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${et.icon}`]:b({marginLeft:5,marginRight:-6},t.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},t.iconColor===t.color&&b({color:e.vars?e.vars.palette.Chip.defaultIconColor:n},t.color!=="default"&&{color:"inherit"})),[`& .${et.deleteIcon}`]:b({WebkitTapHighlightColor:"transparent",color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.26)`:ze(e.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:ze(e.palette.text.primary,.4)}},t.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},t.color!=="default"&&{color:e.vars?`rgba(${e.vars.palette[t.color].contrastTextChannel} / 0.7)`:ze(e.palette[t.color].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].contrastText}})},t.size==="small"&&{height:24},t.color!=="default"&&{backgroundColor:(e.vars||e).palette[t.color].main,color:(e.vars||e).palette[t.color].contrastText},t.onDelete&&{[`&.${et.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:ze(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},t.onDelete&&t.color!=="default"&&{[`&.${et.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}})},({theme:e,ownerState:t})=>b({},t.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:ze(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)},[`&.${et.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:ze(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},"&:active":{boxShadow:(e.vars||e).shadows[1]}},t.clickable&&t.color!=="default"&&{[`&:hover, &.${et.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}}),({theme:e,ownerState:t})=>b({},t.variant==="outlined"&&{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${et.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${et.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${et.avatar}`]:{marginLeft:4},[`& .${et.avatarSmall}`]:{marginLeft:2},[`& .${et.icon}`]:{marginLeft:4},[`& .${et.iconSmall}`]:{marginLeft:2},[`& .${et.deleteIcon}`]:{marginRight:5},[`& .${et.deleteIconSmall}`]:{marginRight:3}},t.variant==="outlined"&&t.color!=="default"&&{color:(e.vars||e).palette[t.color].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:ze(e.palette[t.color].main,.7)}`,[`&.${et.clickable}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ze(e.palette[t.color].main,e.palette.action.hoverOpacity)},[`&.${et.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.focusOpacity})`:ze(e.palette[t.color].main,e.palette.action.focusOpacity)},[`& .${et.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:ze(e.palette[t.color].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].main}}})),aE=Y("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:r}=n;return[t.label,t[`label${X(r)}`]]}})(({ownerState:e})=>b({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},e.variant==="outlined"&&{paddingLeft:11,paddingRight:11},e.size==="small"&&{paddingLeft:8,paddingRight:8},e.size==="small"&&e.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function Mf(e){return e.key==="Backspace"||e.key==="Delete"}const _r=h.forwardRef(function(t,n){const r=we({props:t,name:"MuiChip"}),{avatar:s,className:i,clickable:a,color:l="default",component:c,deleteIcon:d,disabled:u=!1,icon:p,label:f,onClick:m,onDelete:v,onKeyDown:g,onKeyUp:y,size:x="medium",variant:w="filled",tabIndex:C,skipFocusWhenDisabled:S=!1}=r,P=J(r,sE),k=h.useRef(null),T=vt(k,n),_=$=>{$.stopPropagation(),v&&v($)},j=$=>{$.currentTarget===$.target&&Mf($)&&$.preventDefault(),g&&g($)},E=$=>{$.currentTarget===$.target&&(v&&Mf($)?v($):$.key==="Escape"&&k.current&&k.current.blur()),y&&y($)},A=a!==!1&&m?!0:a,L=A||v?Gr:c||"div",R=b({},r,{component:L,disabled:u,size:x,color:l,iconColor:h.isValidElement(p)&&p.props.color||l,onDelete:!!v,clickable:A,variant:w}),M=oE(R),D=L===Gr?b({component:c||"div",focusVisibleClassName:M.focusVisible},v&&{disableRipple:!0}):{};let I=null;v&&(I=d&&h.isValidElement(d)?h.cloneElement(d,{className:re(d.props.className,M.deleteIcon),onClick:_}):o.jsx(nE,{className:re(M.deleteIcon),onClick:_}));let O=null;s&&h.isValidElement(s)&&(O=h.cloneElement(s,{className:re(M.avatar,s.props.className)}));let z=null;return p&&h.isValidElement(p)&&(z=h.cloneElement(p,{className:re(M.icon,p.props.className)})),o.jsxs(iE,b({as:L,className:re(M.root,i),disabled:A&&u?!0:void 0,onClick:m,onKeyDown:j,onKeyUp:E,ref:T,tabIndex:S&&u?-1:C,ownerState:R},D,P,{children:[O||z,o.jsx(aE,{className:re(M.label),ownerState:R,children:f}),I]}))}),lE=["onChange","maxRows","minRows","style","value"];function ua(e){return parseInt(e,10)||0}const cE={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function dE(e){for(const t in e)return!1;return!0}function If(e){return dE(e)||e.outerHeightStyle===0&&!e.overflowing}const uE=h.forwardRef(function(t,n){const{onChange:r,maxRows:s,minRows:i=1,style:a,value:l}=t,c=J(t,lE),{current:d}=h.useRef(l!=null),u=h.useRef(null),p=vt(n,u),f=h.useRef(null),m=h.useRef(null),v=h.useCallback(()=>{const C=u.current,S=m.current;if(!C||!S)return;const k=ms(C).getComputedStyle(C);if(k.width==="0px")return{outerHeightStyle:0,overflowing:!1};S.style.width=k.width,S.value=C.value||t.placeholder||"x",S.value.slice(-1)===`
`&&(S.value+=" ");const T=k.boxSizing,_=ua(k.paddingBottom)+ua(k.paddingTop),j=ua(k.borderBottomWidth)+ua(k.borderTopWidth),E=S.scrollHeight;S.value="x";const A=S.scrollHeight;let L=E;i&&(L=Math.max(Number(i)*A,L)),s&&(L=Math.min(Number(s)*A,L)),L=Math.max(L,A);const R=L+(T==="border-box"?_+j:0),M=Math.abs(L-E)<=1;return{outerHeightStyle:R,overflowing:M}},[s,i,t.placeholder]),g=Re(()=>{const C=u.current,S=v();if(!C||!S||If(S))return!1;const P=S.outerHeightStyle;return f.current!=null&&f.current!==P}),y=h.useCallback(()=>{const C=u.current,S=v();if(!C||!S||If(S))return;const P=S.outerHeightStyle;f.current!==P&&(f.current=P,C.style.height=`${P}px`),C.style.overflow=S.overflowing?"hidden":""},[v]),x=h.useRef(-1);sn(()=>{const C=Vg(y),S=u==null?void 0:u.current;if(!S)return;const P=ms(S);P.addEventListener("resize",C);let k;return typeof ResizeObserver<"u"&&(k=new ResizeObserver(()=>{g()&&(k.unobserve(S),cancelAnimationFrame(x.current),y(),x.current=requestAnimationFrame(()=>{k.observe(S)}))}),k.observe(S)),()=>{C.clear(),cancelAnimationFrame(x.current),P.removeEventListener("resize",C),k&&k.disconnect()}},[v,y,g]),sn(()=>{y()});const w=C=>{d||y(),r&&r(C)};return o.jsxs(h.Fragment,{children:[o.jsx("textarea",b({value:l,onChange:w,ref:p,rows:i,style:a},c)),o.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:m,tabIndex:-1,style:b({},cE.shadow,a,{paddingTop:0,paddingBottom:0})})]})});function Zr({props:e,states:t,muiFormControl:n}){return t.reduce((r,s)=>(r[s]=e[s],n&&typeof e[s]>"u"&&(r[s]=n[s]),r),{})}const sc=h.createContext(void 0);function dr(){return h.useContext(sc)}function Nf(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function sl(e,t=!1){return e&&(Nf(e.value)&&e.value!==""||t&&Nf(e.defaultValue)&&e.defaultValue!=="")}function pE(e){return e.startAdornment}function hE(e){return he("MuiInputBase",e)}const mo=fe("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),fE=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],oc=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,n.size==="small"&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${X(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},ic=(e,t)=>{const{ownerState:n}=e;return[t.input,n.size==="small"&&t.inputSizeSmall,n.multiline&&t.inputMultiline,n.type==="search"&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},mE=e=>{const{classes:t,color:n,disabled:r,error:s,endAdornment:i,focused:a,formControl:l,fullWidth:c,hiddenLabel:d,multiline:u,readOnly:p,size:f,startAdornment:m,type:v}=e,g={root:["root",`color${X(n)}`,r&&"disabled",s&&"error",c&&"fullWidth",a&&"focused",l&&"formControl",f&&f!=="medium"&&`size${X(f)}`,u&&"multiline",m&&"adornedStart",i&&"adornedEnd",d&&"hiddenLabel",p&&"readOnly"],input:["input",r&&"disabled",v==="search"&&"inputTypeSearch",u&&"inputMultiline",f==="small"&&"inputSizeSmall",d&&"inputHiddenLabel",m&&"inputAdornedStart",i&&"inputAdornedEnd",p&&"readOnly"]};return ge(g,hE,t)},ac=Y("div",{name:"MuiInputBase",slot:"Root",overridesResolver:oc})(({theme:e,ownerState:t})=>b({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${mo.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&b({padding:"4px 0 5px"},t.size==="small"&&{paddingTop:1}),t.fullWidth&&{width:"100%"})),lc=Y("input",{name:"MuiInputBase",slot:"Input",overridesResolver:ic})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light",r=b({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),s={opacity:"0 !important"},i=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return b({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${mo.formControl} &`]:{"&::-webkit-input-placeholder":s,"&::-moz-placeholder":s,"&:-ms-input-placeholder":s,"&::-ms-input-placeholder":s,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus:-ms-input-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${mo.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},t.size==="small"&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},t.type==="search"&&{MozAppearance:"textfield"})}),gE=o.jsx(hv,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),hp=h.forwardRef(function(t,n){var r;const s=we({props:t,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:a,autoFocus:l,className:c,components:d={},componentsProps:u={},defaultValue:p,disabled:f,disableInjectingGlobalStyles:m,endAdornment:v,fullWidth:g=!1,id:y,inputComponent:x="input",inputProps:w={},inputRef:C,maxRows:S,minRows:P,multiline:k=!1,name:T,onBlur:_,onChange:j,onClick:E,onFocus:A,onKeyDown:L,onKeyUp:R,placeholder:M,readOnly:D,renderSuffix:I,rows:O,slotProps:z={},slots:$={},startAdornment:N,type:W="text",value:V}=s,G=J(s,fE),Q=w.value!=null?w.value:V,{current:oe}=h.useRef(Q!=null),U=h.useRef(),le=h.useCallback(Qe=>{},[]),ee=vt(U,C,w.ref,le),[Z,ae]=h.useState(!1),K=dr(),H=Zr({props:s,muiFormControl:K,states:["color","disabled","error","hiddenLabel","size","required","filled"]});H.focused=K?K.focused:Z,h.useEffect(()=>{!K&&f&&Z&&(ae(!1),_&&_())},[K,f,Z,_]);const F=K&&K.onFilled,q=K&&K.onEmpty,ne=h.useCallback(Qe=>{sl(Qe)?F&&F():q&&q()},[F,q]);sn(()=>{oe&&ne({value:Q})},[Q,ne,oe]);const pe=Qe=>{if(H.disabled){Qe.stopPropagation();return}A&&A(Qe),w.onFocus&&w.onFocus(Qe),K&&K.onFocus?K.onFocus(Qe):ae(!0)},Ee=Qe=>{_&&_(Qe),w.onBlur&&w.onBlur(Qe),K&&K.onBlur?K.onBlur(Qe):ae(!1)},ie=(Qe,...Te)=>{if(!oe){const Pt=Qe.target||U.current;if(Pt==null)throw new Error(wr(1));ne({value:Pt.value})}w.onChange&&w.onChange(Qe,...Te),j&&j(Qe,...Te)};h.useEffect(()=>{ne(U.current)},[]);const ce=Qe=>{U.current&&Qe.currentTarget===Qe.target&&U.current.focus(),E&&E(Qe)};let xe=x,ve=w;k&&xe==="input"&&(O?ve=b({type:void 0,minRows:O,maxRows:O},ve):ve=b({type:void 0,maxRows:S,minRows:P},ve),xe=uE);const De=Qe=>{ne(Qe.animationName==="mui-auto-fill-cancel"?U.current:{value:"x"})};h.useEffect(()=>{K&&K.setAdornedStart(!!N)},[K,N]);const Me=b({},s,{color:H.color||"primary",disabled:H.disabled,endAdornment:v,error:H.error,focused:H.focused,formControl:K,fullWidth:g,hiddenLabel:H.hiddenLabel,multiline:k,size:H.size,startAdornment:N,type:W}),Ne=mE(Me),wt=$.root||d.Root||ac,At=z.root||u.root||{},$t=$.input||d.Input||lc;return ve=b({},ve,(r=z.input)!=null?r:u.input),o.jsxs(h.Fragment,{children:[!m&&gE,o.jsxs(wt,b({},At,!so(wt)&&{ownerState:b({},Me,At.ownerState)},{ref:n,onClick:ce},G,{className:re(Ne.root,At.className,c,D&&"MuiInputBase-readOnly"),children:[N,o.jsx(sc.Provider,{value:null,children:o.jsx($t,b({ownerState:Me,"aria-invalid":H.error,"aria-describedby":i,autoComplete:a,autoFocus:l,defaultValue:p,disabled:H.disabled,id:y,onAnimationStart:De,name:T,placeholder:M,readOnly:D,required:H.required,rows:O,value:Q,onKeyDown:L,onKeyUp:R,type:W},ve,!so($t)&&{as:xe,ownerState:b({},Me,ve.ownerState)},{ref:ee,className:re(Ne.input,ve.className,D&&"MuiInputBase-readOnly"),onBlur:Ee,onChange:ie,onFocus:pe}))}),v,I?I(b({},H,{startAdornment:N})):null]}))]})});function vE(e){return he("MuiInput",e)}const qo=b({},mo,fe("MuiInput",["root","underline","input"]));function yE(e){return he("MuiOutlinedInput",e)}const Dr=b({},mo,fe("MuiOutlinedInput",["root","notchedOutline","input"]));function xE(e){return he("MuiFilledInput",e)}const es=b({},mo,fe("MuiFilledInput",["root","underline","input"])),bE=ue(o.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),CE=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],wE={entering:{opacity:1},entered:{opacity:1}},Zi=h.forwardRef(function(t,n){const r=Vn(),s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:i,appear:a=!0,children:l,easing:c,in:d,onEnter:u,onEntered:p,onEntering:f,onExit:m,onExited:v,onExiting:g,style:y,timeout:x=s,TransitionComponent:w=Fn}=t,C=J(t,CE),S=h.useRef(null),P=vt(S,ks(l),n),k=M=>D=>{if(M){const I=S.current;D===void 0?M(I):M(I,D)}},T=k(f),_=k((M,D)=>{My(M);const I=co({style:y,timeout:x,easing:c},{mode:"enter"});M.style.webkitTransition=r.transitions.create("opacity",I),M.style.transition=r.transitions.create("opacity",I),u&&u(M,D)}),j=k(p),E=k(g),A=k(M=>{const D=co({style:y,timeout:x,easing:c},{mode:"exit"});M.style.webkitTransition=r.transitions.create("opacity",D),M.style.transition=r.transitions.create("opacity",D),m&&m(M)}),L=k(v),R=M=>{i&&i(S.current,M)};return o.jsx(w,b({appear:a,in:d,nodeRef:S,onEnter:_,onEntered:j,onEntering:T,onExit:A,onExited:L,onExiting:E,addEndListener:R,timeout:x},C,{children:(M,D)=>h.cloneElement(l,b({style:b({opacity:0,visibility:M==="exited"&&!d?"hidden":void 0},wE[M],y,l.props.style),ref:P},D))}))});function jE(e){return he("MuiBackdrop",e)}fe("MuiBackdrop",["root","invisible"]);const SE=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],kE=e=>{const{classes:t,invisible:n}=e;return ge({root:["root",n&&"invisible"]},jE,t)},_E=Y("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})(({ownerState:e})=>b({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"})),Uy=h.forwardRef(function(t,n){var r,s,i;const a=we({props:t,name:"MuiBackdrop"}),{children:l,className:c,component:d="div",components:u={},componentsProps:p={},invisible:f=!1,open:m,slotProps:v={},slots:g={},TransitionComponent:y=Zi,transitionDuration:x}=a,w=J(a,SE),C=b({},a,{component:d,invisible:f}),S=kE(C),P=(r=v.root)!=null?r:p.root;return o.jsx(y,b({in:m,timeout:x},w,{children:o.jsx(_E,b({"aria-hidden":!0},P,{as:(s=(i=g.root)!=null?i:u.Root)!=null?s:d,className:re(S.root,c,P==null?void 0:P.className),ownerState:b({},C,P==null?void 0:P.ownerState),classes:S,ref:n,children:l}))}))}),TE=fe("MuiBox",["root"]),EE=Mu(),te=Z1({themeId:hs,defaultTheme:EE,defaultClassName:TE.root,generateClassName:Ag.generate});function PE(e){return he("MuiButton",e)}const pa=fe("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),ME=h.createContext({}),IE=h.createContext(void 0),NE=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],DE=e=>{const{color:t,disableElevation:n,fullWidth:r,size:s,variant:i,classes:a}=e,l={root:["root",i,`${i}${X(t)}`,`size${X(s)}`,`${i}Size${X(s)}`,`color${X(t)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${X(s)}`],endIcon:["icon","endIcon",`iconSize${X(s)}`]},c=ge(l,PE,a);return b({},a,c)},Vy=e=>b({},e.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},e.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},e.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),RE=Y(Gr,{shouldForwardProp:e=>gn(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${X(n.color)}`],t[`size${X(n.size)}`],t[`${n.variant}Size${X(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(({theme:e,ownerState:t})=>{var n,r;const s=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],i=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return b({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":b({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:ze(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="text"&&t.color!=="inherit"&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ze(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="outlined"&&t.color!=="inherit"&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ze(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="contained"&&{backgroundColor:e.vars?e.vars.palette.Button.inheritContainedHoverBg:i,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},t.variant==="contained"&&t.color!=="inherit"&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":b({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${pa.focusVisible}`]:b({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${pa.disabled}`]:b({color:(e.vars||e).palette.action.disabled},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},t.variant==="contained"&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},t.variant==="text"&&{padding:"6px 8px"},t.variant==="text"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main},t.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},t.variant==="outlined"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${ze(e.palette[t.color].main,.5)}`},t.variant==="contained"&&{color:e.vars?e.vars.palette.text.primary:(n=(r=e.palette).getContrastText)==null?void 0:n.call(r,e.palette.grey[300]),backgroundColor:e.vars?e.vars.palette.Button.inheritContainedBg:s,boxShadow:(e.vars||e).shadows[2]},t.variant==="contained"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},t.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},t.size==="small"&&t.variant==="text"&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="text"&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="outlined"&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="outlined"&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="contained"&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="contained"&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${pa.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${pa.disabled}`]:{boxShadow:"none"}}),AE=Y("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${X(n.size)}`]]}})(({ownerState:e})=>b({display:"inherit",marginRight:8,marginLeft:-4},e.size==="small"&&{marginLeft:-2},Vy(e))),$E=Y("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${X(n.size)}`]]}})(({ownerState:e})=>b({display:"inherit",marginRight:-4,marginLeft:8},e.size==="small"&&{marginRight:-2},Vy(e))),ke=h.forwardRef(function(t,n){const r=h.useContext(ME),s=h.useContext(IE),i=wi(r,t),a=we({props:i,name:"MuiButton"}),{children:l,color:c="primary",component:d="button",className:u,disabled:p=!1,disableElevation:f=!1,disableFocusRipple:m=!1,endIcon:v,focusVisibleClassName:g,fullWidth:y=!1,size:x="medium",startIcon:w,type:C,variant:S="text"}=a,P=J(a,NE),k=b({},a,{color:c,component:d,disabled:p,disableElevation:f,disableFocusRipple:m,fullWidth:y,size:x,type:C,variant:S}),T=DE(k),_=w&&o.jsx(AE,{className:T.startIcon,ownerState:k,children:w}),j=v&&o.jsx($E,{className:T.endIcon,ownerState:k,children:v}),E=s||"";return o.jsxs(RE,b({ownerState:k,className:re(r.className,T.root,u,E),component:d,disabled:p,focusRipple:!m,focusVisibleClassName:re(T.focusVisible,g),ref:n,type:C},P,{classes:T,children:[_,l,j]}))});function OE(e){return he("MuiCard",e)}fe("MuiCard",["root"]);const LE=["className","raised"],FE=e=>{const{classes:t}=e;return ge({root:["root"]},OE,t)},zE=Y(on,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),it=h.forwardRef(function(t,n){const r=we({props:t,name:"MuiCard"}),{className:s,raised:i=!1}=r,a=J(r,LE),l=b({},r,{raised:i}),c=FE(l);return o.jsx(zE,b({className:re(c.root,s),elevation:i?8:void 0,ref:n,ownerState:l},a))});function BE(e){return he("MuiCardActions",e)}fe("MuiCardActions",["root","spacing"]);const WE=["disableSpacing","className"],HE=e=>{const{classes:t,disableSpacing:n}=e;return ge({root:["root",!n&&"spacing"]},BE,t)},UE=Y("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})(({ownerState:e})=>b({display:"flex",alignItems:"center",padding:8},!e.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),VE=h.forwardRef(function(t,n){const r=we({props:t,name:"MuiCardActions"}),{disableSpacing:s=!1,className:i}=r,a=J(r,WE),l=b({},r,{disableSpacing:s}),c=HE(l);return o.jsx(UE,b({className:re(c.root,i),ownerState:l,ref:n},a))});function YE(e){return he("MuiCardContent",e)}fe("MuiCardContent",["root"]);const GE=["className","component"],qE=e=>{const{classes:t}=e;return ge({root:["root"]},YE,t)},KE=Y("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),at=h.forwardRef(function(t,n){const r=we({props:t,name:"MuiCardContent"}),{className:s,component:i="div"}=r,a=J(r,GE),l=b({},r,{component:i}),c=qE(l);return o.jsx(KE,b({as:i,className:re(c.root,s),ownerState:l,ref:n},a))});function QE(e){return he("PrivateSwitchBase",e)}fe("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const XE=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],ZE=e=>{const{classes:t,checked:n,disabled:r,edge:s}=e,i={root:["root",n&&"checked",r&&"disabled",s&&`edge${X(s)}`],input:["input"]};return ge(i,QE,t)},JE=Y(Gr,{name:"MuiSwitchBase"})(({ownerState:e})=>b({padding:9,borderRadius:"50%"},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12})),eP=Y("input",{name:"MuiSwitchBase",shouldForwardProp:gn})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Yy=h.forwardRef(function(t,n){const{autoFocus:r,checked:s,checkedIcon:i,className:a,defaultChecked:l,disabled:c,disableFocusRipple:d=!1,edge:u=!1,icon:p,id:f,inputProps:m,inputRef:v,name:g,onBlur:y,onChange:x,onFocus:w,readOnly:C,required:S=!1,tabIndex:P,type:k,value:T}=t,_=J(t,XE),[j,E]=ar({controlled:s,default:!!l,name:"SwitchBase",state:"checked"}),A=dr(),L=$=>{w&&w($),A&&A.onFocus&&A.onFocus($)},R=$=>{y&&y($),A&&A.onBlur&&A.onBlur($)},M=$=>{if($.nativeEvent.defaultPrevented)return;const N=$.target.checked;E(N),x&&x($,N)};let D=c;A&&typeof D>"u"&&(D=A.disabled);const I=k==="checkbox"||k==="radio",O=b({},t,{checked:j,disabled:D,disableFocusRipple:d,edge:u}),z=ZE(O);return o.jsxs(JE,b({component:"span",className:re(z.root,a),centerRipple:!0,focusRipple:!d,disabled:D,tabIndex:null,role:void 0,onFocus:L,onBlur:R,ownerState:O,ref:n},_,{children:[o.jsx(eP,b({autoFocus:r,checked:s,defaultChecked:l,className:z.input,disabled:D,id:I?f:void 0,name:g,onChange:M,readOnly:C,ref:v,required:S,ownerState:O,tabIndex:P,type:k},k==="checkbox"&&T===void 0?{}:{value:T},m)),j?i:p]}))}),tP=ue(o.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),nP=ue(o.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),rP=ue(o.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function sP(e){return he("MuiCheckbox",e)}const Hc=fe("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),oP=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],iP=e=>{const{classes:t,indeterminate:n,color:r,size:s}=e,i={root:["root",n&&"indeterminate",`color${X(r)}`,`size${X(s)}`]},a=ge(i,sP,t);return b({},t,a)},aP=Y(Yy,{shouldForwardProp:e=>gn(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,t[`size${X(n.size)}`],n.color!=="default"&&t[`color${X(n.color)}`]]}})(({theme:e,ownerState:t})=>b({color:(e.vars||e).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${t.color==="default"?e.vars.palette.action.activeChannel:e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ze(t.color==="default"?e.palette.action.active:e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${Hc.checked}, &.${Hc.indeterminate}`]:{color:(e.vars||e).palette[t.color].main},[`&.${Hc.disabled}`]:{color:(e.vars||e).palette.action.disabled}})),lP=o.jsx(nP,{}),cP=o.jsx(tP,{}),dP=o.jsx(rP,{}),uP=h.forwardRef(function(t,n){var r,s;const i=we({props:t,name:"MuiCheckbox"}),{checkedIcon:a=lP,color:l="primary",icon:c=cP,indeterminate:d=!1,indeterminateIcon:u=dP,inputProps:p,size:f="medium",className:m}=i,v=J(i,oP),g=d?u:c,y=d?u:a,x=b({},i,{color:l,indeterminate:d,size:f}),w=iP(x);return o.jsx(aP,b({type:"checkbox",inputProps:b({"data-indeterminate":d},p),icon:h.cloneElement(g,{fontSize:(r=g.props.fontSize)!=null?r:f}),checkedIcon:h.cloneElement(y,{fontSize:(s=y.props.fontSize)!=null?s:f}),ownerState:x,ref:n,className:re(w.root,m)},v,{classes:w}))});function pP(e){return he("MuiCircularProgress",e)}fe("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const hP=["className","color","disableShrink","size","style","thickness","value","variant"];let cc=e=>e,Df,Rf,Af,$f;const Rr=44,fP=Ir(Df||(Df=cc`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),mP=Ir(Rf||(Rf=cc`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),gP=e=>{const{classes:t,variant:n,color:r,disableShrink:s}=e,i={root:["root",n,`color${X(r)}`],svg:["svg"],circle:["circle",`circle${X(n)}`,s&&"circleDisableShrink"]};return ge(i,pP,t)},vP=Y("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${X(n.color)}`]]}})(({ownerState:e,theme:t})=>b({display:"inline-block"},e.variant==="determinate"&&{transition:t.transitions.create("transform")},e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main}),({ownerState:e})=>e.variant==="indeterminate"&&Ss(Af||(Af=cc`
      animation: ${0} 1.4s linear infinite;
    `),fP)),yP=Y("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),xP=Y("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${X(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(({ownerState:e,theme:t})=>b({stroke:"currentColor"},e.variant==="determinate"&&{transition:t.transitions.create("stroke-dashoffset")},e.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink&&Ss($f||($f=cc`
      animation: ${0} 1.4s ease-in-out infinite;
    `),mP)),hn=h.forwardRef(function(t,n){const r=we({props:t,name:"MuiCircularProgress"}),{className:s,color:i="primary",disableShrink:a=!1,size:l=40,style:c,thickness:d=3.6,value:u=0,variant:p="indeterminate"}=r,f=J(r,hP),m=b({},r,{color:i,disableShrink:a,size:l,thickness:d,value:u,variant:p}),v=gP(m),g={},y={},x={};if(p==="determinate"){const w=2*Math.PI*((Rr-d)/2);g.strokeDasharray=w.toFixed(3),x["aria-valuenow"]=Math.round(u),g.strokeDashoffset=`${((100-u)/100*w).toFixed(3)}px`,y.transform="rotate(-90deg)"}return o.jsx(vP,b({className:re(v.root,s),style:b({width:l,height:l},y,c),ownerState:m,ref:n,role:"progressbar"},x,f,{children:o.jsx(yP,{className:v.svg,ownerState:m,viewBox:`${Rr/2} ${Rr/2} ${Rr} ${Rr}`,children:o.jsx(xP,{className:v.circle,style:g,ownerState:m,cx:Rr,cy:Rr,r:(Rr-d)/2,fill:"none",strokeWidth:d})})}))});function Of(e){return e.substring(2).toLowerCase()}function bP(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function CP(e){const{children:t,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:s,touchEvent:i="onTouchEnd"}=e,a=h.useRef(!1),l=h.useRef(null),c=h.useRef(!1),d=h.useRef(!1);h.useEffect(()=>(setTimeout(()=>{c.current=!0},0),()=>{c.current=!1}),[]);const u=vt(ks(t),l),p=Re(v=>{const g=d.current;d.current=!1;const y=Bt(l.current);if(!c.current||!l.current||"clientX"in v&&bP(v,y))return;if(a.current){a.current=!1;return}let x;v.composedPath?x=v.composedPath().indexOf(l.current)>-1:x=!y.documentElement.contains(v.target)||l.current.contains(v.target),!x&&(n||!g)&&s(v)}),f=v=>g=>{d.current=!0;const y=t.props[v];y&&y(g)},m={ref:u};return i!==!1&&(m[i]=f(i)),h.useEffect(()=>{if(i!==!1){const v=Of(i),g=Bt(l.current),y=()=>{a.current=!0};return g.addEventListener(v,p),g.addEventListener("touchmove",y),()=>{g.removeEventListener(v,p),g.removeEventListener("touchmove",y)}}},[p,i]),r!==!1&&(m[r]=f(r)),h.useEffect(()=>{if(r!==!1){const v=Of(r),g=Bt(l.current);return g.addEventListener(v,p),()=>{g.removeEventListener(v,p)}}},[p,r]),o.jsx(h.Fragment,{children:h.cloneElement(t,m)})}const hi=QC({createStyledComponent:Y("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${X(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>we({props:e,name:"MuiContainer"})});function wP(e){const t=Bt(e);return t.body===e?ms(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function fi(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Lf(e){return parseInt(ms(e).getComputedStyle(e).paddingRight,10)||0}function jP(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName)!==-1,r=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||r}function Ff(e,t,n,r,s){const i=[t,n,...r];[].forEach.call(e.children,a=>{const l=i.indexOf(a)===-1,c=!jP(a);l&&c&&fi(a,s)})}function Uc(e,t){let n=-1;return e.some((r,s)=>t(r)?(n=s,!0):!1),n}function SP(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(wP(r)){const a=Gg(Bt(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${Lf(r)+a}px`;const l=Bt(r).querySelectorAll(".mui-fixed");[].forEach.call(l,c=>{n.push({value:c.style.paddingRight,property:"padding-right",el:c}),c.style.paddingRight=`${Lf(c)+a}px`})}let i;if(r.parentNode instanceof DocumentFragment)i=Bt(r).body;else{const a=r.parentElement,l=ms(r);i=(a==null?void 0:a.nodeName)==="HTML"&&l.getComputedStyle(a).overflowY==="scroll"?a:r}n.push({value:i.style.overflow,property:"overflow",el:i},{value:i.style.overflowX,property:"overflow-x",el:i},{value:i.style.overflowY,property:"overflow-y",el:i}),i.style.overflow="hidden"}return()=>{n.forEach(({value:i,el:a,property:l})=>{i?a.style.setProperty(l,i):a.style.removeProperty(l)})}}function kP(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class _P{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(t,n){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&fi(t.modalRef,!1);const s=kP(n);Ff(n,t.mount,t.modalRef,s,!0);const i=Uc(this.containers,a=>a.container===n);return i!==-1?(this.containers[i].modals.push(t),r):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:s}),r)}mount(t,n){const r=Uc(this.containers,i=>i.modals.indexOf(t)!==-1),s=this.containers[r];s.restore||(s.restore=SP(s,n))}remove(t,n=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const s=Uc(this.containers,a=>a.modals.indexOf(t)!==-1),i=this.containers[s];if(i.modals.splice(i.modals.indexOf(t),1),this.modals.splice(r,1),i.modals.length===0)i.restore&&i.restore(),t.modalRef&&fi(t.modalRef,n),Ff(i.container,t.mount,t.modalRef,i.hiddenSiblings,!1),this.containers.splice(s,1);else{const a=i.modals[i.modals.length-1];a.modalRef&&fi(a.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const TP=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function EP(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function PP(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=r=>e.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function MP(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||PP(e))}function IP(e){const t=[],n=[];return Array.from(e.querySelectorAll(TP)).forEach((r,s)=>{const i=EP(r);i===-1||!MP(r)||(i===0?t.push(r):n.push({documentOrder:s,tabIndex:i,node:r}))}),n.sort((r,s)=>r.tabIndex===s.tabIndex?r.documentOrder-s.documentOrder:r.tabIndex-s.tabIndex).map(r=>r.node).concat(t)}function NP(){return!0}function DP(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:s=!1,getTabbable:i=IP,isEnabled:a=NP,open:l}=e,c=h.useRef(!1),d=h.useRef(null),u=h.useRef(null),p=h.useRef(null),f=h.useRef(null),m=h.useRef(!1),v=h.useRef(null),g=vt(ks(t),v),y=h.useRef(null);h.useEffect(()=>{!l||!v.current||(m.current=!n)},[n,l]),h.useEffect(()=>{if(!l||!v.current)return;const C=Bt(v.current);return v.current.contains(C.activeElement)||(v.current.hasAttribute("tabIndex")||v.current.setAttribute("tabIndex","-1"),m.current&&v.current.focus()),()=>{s||(p.current&&p.current.focus&&(c.current=!0,p.current.focus()),p.current=null)}},[l]),h.useEffect(()=>{if(!l||!v.current)return;const C=Bt(v.current),S=T=>{y.current=T,!(r||!a()||T.key!=="Tab")&&C.activeElement===v.current&&T.shiftKey&&(c.current=!0,u.current&&u.current.focus())},P=()=>{const T=v.current;if(T===null)return;if(!C.hasFocus()||!a()||c.current){c.current=!1;return}if(T.contains(C.activeElement)||r&&C.activeElement!==d.current&&C.activeElement!==u.current)return;if(C.activeElement!==f.current)f.current=null;else if(f.current!==null)return;if(!m.current)return;let _=[];if((C.activeElement===d.current||C.activeElement===u.current)&&(_=i(v.current)),_.length>0){var j,E;const A=!!((j=y.current)!=null&&j.shiftKey&&((E=y.current)==null?void 0:E.key)==="Tab"),L=_[0],R=_[_.length-1];typeof L!="string"&&typeof R!="string"&&(A?R.focus():L.focus())}else T.focus()};C.addEventListener("focusin",P),C.addEventListener("keydown",S,!0);const k=setInterval(()=>{C.activeElement&&C.activeElement.tagName==="BODY"&&P()},50);return()=>{clearInterval(k),C.removeEventListener("focusin",P),C.removeEventListener("keydown",S,!0)}},[n,r,s,a,l,i]);const x=C=>{p.current===null&&(p.current=C.relatedTarget),m.current=!0,f.current=C.target;const S=t.props.onFocus;S&&S(C)},w=C=>{p.current===null&&(p.current=C.relatedTarget),m.current=!0};return o.jsxs(h.Fragment,{children:[o.jsx("div",{tabIndex:l?0:-1,onFocus:w,ref:d,"data-testid":"sentinelStart"}),h.cloneElement(t,{ref:g,onFocus:x}),o.jsx("div",{tabIndex:l?0:-1,onFocus:w,ref:u,"data-testid":"sentinelEnd"})]})}function RP(e){return typeof e=="function"?e():e}function AP(e){return e?e.props.hasOwnProperty("in"):!1}const $P=new _P;function OP(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:s=$P,closeAfterTransition:i=!1,onTransitionEnter:a,onTransitionExited:l,children:c,onClose:d,open:u,rootRef:p}=e,f=h.useRef({}),m=h.useRef(null),v=h.useRef(null),g=vt(v,p),[y,x]=h.useState(!u),w=AP(c);let C=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(C=!1);const S=()=>Bt(m.current),P=()=>(f.current.modalRef=v.current,f.current.mount=m.current,f.current),k=()=>{s.mount(P(),{disableScrollLock:r}),v.current&&(v.current.scrollTop=0)},T=Re(()=>{const I=RP(t)||S().body;s.add(P(),I),v.current&&k()}),_=h.useCallback(()=>s.isTopModal(P()),[s]),j=Re(I=>{m.current=I,I&&(u&&_()?k():v.current&&fi(v.current,C))}),E=h.useCallback(()=>{s.remove(P(),C)},[C,s]);h.useEffect(()=>()=>{E()},[E]),h.useEffect(()=>{u?T():(!w||!i)&&E()},[u,E,w,i,T]);const A=I=>O=>{var z;(z=I.onKeyDown)==null||z.call(I,O),!(O.key!=="Escape"||O.which===229||!_())&&(n||(O.stopPropagation(),d&&d(O,"escapeKeyDown")))},L=I=>O=>{var z;(z=I.onClick)==null||z.call(I,O),O.target===O.currentTarget&&d&&d(O,"backdropClick")};return{getRootProps:(I={})=>{const O=Wa(e);delete O.onTransitionEnter,delete O.onTransitionExited;const z=b({},O,I);return b({role:"presentation"},z,{onKeyDown:A(z),ref:g})},getBackdropProps:(I={})=>{const O=I;return b({"aria-hidden":!0},O,{onClick:L(O),open:u})},getTransitionProps:()=>{const I=()=>{x(!1),a&&a()},O=()=>{x(!0),l&&l(),i&&E()};return{onEnter:ch(I,c==null?void 0:c.props.onEnter),onExited:ch(O,c==null?void 0:c.props.onExited)}},rootRef:g,portalRef:j,isTopModal:_,exited:y,hasTransition:w}}function LP(e){return he("MuiModal",e)}fe("MuiModal",["root","hidden","backdrop"]);const FP=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],zP=e=>{const{open:t,exited:n,classes:r}=e;return ge({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},LP,r)},BP=Y("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(({theme:e,ownerState:t})=>b({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"})),WP=Y(Uy,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),Gy=h.forwardRef(function(t,n){var r,s,i,a,l,c;const d=we({name:"MuiModal",props:t}),{BackdropComponent:u=WP,BackdropProps:p,className:f,closeAfterTransition:m=!1,children:v,container:g,component:y,components:x={},componentsProps:w={},disableAutoFocus:C=!1,disableEnforceFocus:S=!1,disableEscapeKeyDown:P=!1,disablePortal:k=!1,disableRestoreFocus:T=!1,disableScrollLock:_=!1,hideBackdrop:j=!1,keepMounted:E=!1,onBackdropClick:A,open:L,slotProps:R,slots:M}=d,D=J(d,FP),I=b({},d,{closeAfterTransition:m,disableAutoFocus:C,disableEnforceFocus:S,disableEscapeKeyDown:P,disablePortal:k,disableRestoreFocus:T,disableScrollLock:_,hideBackdrop:j,keepMounted:E}),{getRootProps:O,getBackdropProps:z,getTransitionProps:$,portalRef:N,isTopModal:W,exited:V,hasTransition:G}=OP(b({},I,{rootRef:n})),Q=b({},I,{exited:V}),oe=zP(Q),U={};if(v.props.tabIndex===void 0&&(U.tabIndex="-1"),G){const{onEnter:F,onExited:q}=$();U.onEnter=F,U.onExited=q}const le=(r=(s=M==null?void 0:M.root)!=null?s:x.Root)!=null?r:BP,ee=(i=(a=M==null?void 0:M.backdrop)!=null?a:x.Backdrop)!=null?i:u,Z=(l=R==null?void 0:R.root)!=null?l:w.root,ae=(c=R==null?void 0:R.backdrop)!=null?c:w.backdrop,K=Vr({elementType:le,externalSlotProps:Z,externalForwardedProps:D,getSlotProps:O,additionalProps:{ref:n,as:y},ownerState:Q,className:re(f,Z==null?void 0:Z.className,oe==null?void 0:oe.root,!Q.open&&Q.exited&&(oe==null?void 0:oe.hidden))}),H=Vr({elementType:ee,externalSlotProps:ae,additionalProps:p,getSlotProps:F=>z(b({},F,{onClick:q=>{A&&A(q),F!=null&&F.onClick&&F.onClick(q)}})),className:re(ae==null?void 0:ae.className,p==null?void 0:p.className,oe==null?void 0:oe.backdrop),ownerState:Q});return!E&&!L&&(!G||V)?null:o.jsx(Wy,{ref:N,container:g,disablePortal:k,children:o.jsxs(le,b({},K,{children:[!j&&u?o.jsx(ee,b({},H)):null,o.jsx(DP,{disableEnforceFocus:S,disableAutoFocus:C,disableRestoreFocus:T,isEnabled:W,open:L,children:h.cloneElement(v,U)})]}))})});function HP(e){return he("MuiDialog",e)}const Vc=fe("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),qy=h.createContext({}),UP=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],VP=Y(Uy,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),YP=e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:s,fullScreen:i}=e,a={root:["root"],container:["container",`scroll${X(n)}`],paper:["paper",`paperScroll${X(n)}`,`paperWidth${X(String(r))}`,s&&"paperFullWidth",i&&"paperFullScreen"]};return ge(a,HP,t)},GP=Y(Gy,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),qP=Y("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${X(n.scroll)}`]]}})(({ownerState:e})=>b({height:"100%","@media print":{height:"auto"},outline:0},e.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},e.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),KP=Y(on,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${X(n.scroll)}`],t[`paperWidth${X(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})(({theme:e,ownerState:t})=>b({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},t.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},t.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!t.maxWidth&&{maxWidth:"calc(100% - 64px)"},t.maxWidth==="xs"&&{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${Vc.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.maxWidth&&t.maxWidth!=="xs"&&{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`,[`&.${Vc.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.fullWidth&&{width:"calc(100% - 64px)"},t.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Vc.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),sr=h.forwardRef(function(t,n){const r=we({props:t,name:"MuiDialog"}),s=Vn(),i={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{"aria-describedby":a,"aria-labelledby":l,BackdropComponent:c,BackdropProps:d,children:u,className:p,disableEscapeKeyDown:f=!1,fullScreen:m=!1,fullWidth:v=!1,maxWidth:g="sm",onBackdropClick:y,onClick:x,onClose:w,open:C,PaperComponent:S=on,PaperProps:P={},scroll:k="paper",TransitionComponent:T=Zi,transitionDuration:_=i,TransitionProps:j}=r,E=J(r,UP),A=b({},r,{disableEscapeKeyDown:f,fullScreen:m,fullWidth:v,maxWidth:g,scroll:k}),L=YP(A),R=h.useRef(),M=z=>{R.current=z.target===z.currentTarget},D=z=>{x&&x(z),R.current&&(R.current=null,y&&y(z),w&&w(z,"backdropClick"))},I=_o(l),O=h.useMemo(()=>({titleId:I}),[I]);return o.jsx(GP,b({className:re(L.root,p),closeAfterTransition:!0,components:{Backdrop:VP},componentsProps:{backdrop:b({transitionDuration:_,as:c},d)},disableEscapeKeyDown:f,onClose:w,open:C,ref:n,onClick:D,ownerState:A},E,{children:o.jsx(T,b({appear:!0,in:C,timeout:_,role:"presentation"},j,{children:o.jsx(qP,{className:re(L.container),onMouseDown:M,ownerState:A,children:o.jsx(KP,b({as:S,elevation:24,role:"dialog","aria-describedby":a,"aria-labelledby":I},P,{className:re(L.paper,P.className),ownerState:A,children:o.jsx(qy.Provider,{value:O,children:u})}))})}))}))});function QP(e){return he("MuiDialogActions",e)}fe("MuiDialogActions",["root","spacing"]);const XP=["className","disableSpacing"],ZP=e=>{const{classes:t,disableSpacing:n}=e;return ge({root:["root",!n&&"spacing"]},QP,t)},JP=Y("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})(({ownerState:e})=>b({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),xr=h.forwardRef(function(t,n){const r=we({props:t,name:"MuiDialogActions"}),{className:s,disableSpacing:i=!1}=r,a=J(r,XP),l=b({},r,{disableSpacing:i}),c=ZP(l);return o.jsx(JP,b({className:re(c.root,s),ownerState:l,ref:n},a))});function eM(e){return he("MuiDialogContent",e)}fe("MuiDialogContent",["root","dividers"]);function tM(e){return he("MuiDialogTitle",e)}const nM=fe("MuiDialogTitle",["root"]),rM=["className","dividers"],sM=e=>{const{classes:t,dividers:n}=e;return ge({root:["root",n&&"dividers"]},eM,t)},oM=Y("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(({theme:e,ownerState:t})=>b({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${nM.root} + &`]:{paddingTop:0}})),or=h.forwardRef(function(t,n){const r=we({props:t,name:"MuiDialogContent"}),{className:s,dividers:i=!1}=r,a=J(r,rM),l=b({},r,{dividers:i}),c=sM(l);return o.jsx(oM,b({className:re(c.root,s),ownerState:l,ref:n},a))}),iM=["className","id"],aM=e=>{const{classes:t}=e;return ge({root:["root"]},tM,t)},lM=Y(B,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),br=h.forwardRef(function(t,n){const r=we({props:t,name:"MuiDialogTitle"}),{className:s,id:i}=r,a=J(r,iM),l=r,c=aM(l),{titleId:d=i}=h.useContext(qy);return o.jsx(lM,b({component:"h2",className:re(c.root,s),ownerState:l,ref:n,variant:"h6",id:i??d},a))});function cM(e){return he("MuiDivider",e)}const zf=fe("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),dM=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],uM=e=>{const{absolute:t,children:n,classes:r,flexItem:s,light:i,orientation:a,textAlign:l,variant:c}=e;return ge({root:["root",t&&"absolute",c,i&&"light",a==="vertical"&&"vertical",s&&"flexItem",n&&"withChildren",n&&a==="vertical"&&"withChildrenVertical",l==="right"&&a!=="vertical"&&"textAlignRight",l==="left"&&a!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",a==="vertical"&&"wrapperVertical"]},cM,r)},pM=Y("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,n.orientation==="vertical"&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&n.orientation==="vertical"&&t.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&t.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&t.textAlignLeft]}})(({theme:e,ownerState:t})=>b({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:ze(e.palette.divider,.08)},t.variant==="inset"&&{marginLeft:72},t.variant==="middle"&&t.orientation==="horizontal"&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},t.variant==="middle"&&t.orientation==="vertical"&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},t.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:e})=>b({},e.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:e,ownerState:t})=>b({},t.children&&t.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,borderTopStyle:"inherit"}}),({theme:e,ownerState:t})=>b({},t.children&&t.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`,borderLeftStyle:"inherit"}}),({ownerState:e})=>b({},e.textAlign==="right"&&e.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},e.textAlign==="left"&&e.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),hM=Y("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,n.orientation==="vertical"&&t.wrapperVertical]}})(({theme:e,ownerState:t})=>b({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`},t.orientation==="vertical"&&{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`})),Lr=h.forwardRef(function(t,n){const r=we({props:t,name:"MuiDivider"}),{absolute:s=!1,children:i,className:a,component:l=i?"div":"hr",flexItem:c=!1,light:d=!1,orientation:u="horizontal",role:p=l!=="hr"?"separator":void 0,textAlign:f="center",variant:m="fullWidth"}=r,v=J(r,dM),g=b({},r,{absolute:s,component:l,flexItem:c,light:d,orientation:u,role:p,textAlign:f,variant:m}),y=uM(g);return o.jsx(pM,b({as:l,className:re(y.root,a),role:p,ref:n,ownerState:g},v,{children:i?o.jsx(hM,{className:y.wrapper,ownerState:g,children:i}):null}))});Lr.muiSkipListHighlight=!0;const fM=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],mM=e=>{const{classes:t,disableUnderline:n}=e,s=ge({root:["root",!n&&"underline"],input:["input"]},xE,t);return b({},t,s)},gM=Y(ac,{shouldForwardProp:e=>gn(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...oc(e,t),!n.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{var n;const r=e.palette.mode==="light",s=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",a=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",l=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return b({position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:i,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:a,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:i}},[`&.${es.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:i},[`&.${es.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:l}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(e.vars||e).palette[t.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${es.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${es.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:s}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${es.disabled}, .${es.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${es.disabled}:before`]:{borderBottomStyle:"dotted"}},t.startAdornment&&{paddingLeft:12},t.endAdornment&&{paddingRight:12},t.multiline&&b({padding:"25px 12px 8px"},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9}))}),vM=Y(lc,{name:"MuiFilledInput",slot:"Input",overridesResolver:ic})(({theme:e,ownerState:t})=>b({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9},t.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),fp=h.forwardRef(function(t,n){var r,s,i,a;const l=we({props:t,name:"MuiFilledInput"}),{components:c={},componentsProps:d,fullWidth:u=!1,inputComponent:p="input",multiline:f=!1,slotProps:m,slots:v={},type:g="text"}=l,y=J(l,fM),x=b({},l,{fullWidth:u,inputComponent:p,multiline:f,type:g}),w=mM(l),C={root:{ownerState:x},input:{ownerState:x}},S=m??d?rn(C,m??d):C,P=(r=(s=v.root)!=null?s:c.Root)!=null?r:gM,k=(i=(a=v.input)!=null?a:c.Input)!=null?i:vM;return o.jsx(hp,b({slots:{root:P,input:k},componentsProps:S,fullWidth:u,inputComponent:p,multiline:f,ref:n,type:g},y,{classes:w}))});fp.muiName="Input";function yM(e){return he("MuiFormControl",e)}fe("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const xM=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],bM=e=>{const{classes:t,margin:n,fullWidth:r}=e,s={root:["root",n!=="none"&&`margin${X(n)}`,r&&"fullWidth"]};return ge(s,yM,t)},CM=Y("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:e},t)=>b({},t.root,t[`margin${X(e.margin)}`],e.fullWidth&&t.fullWidth)})(({ownerState:e})=>b({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},e.margin==="normal"&&{marginTop:16,marginBottom:8},e.margin==="dense"&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"})),ir=h.forwardRef(function(t,n){const r=we({props:t,name:"MuiFormControl"}),{children:s,className:i,color:a="primary",component:l="div",disabled:c=!1,error:d=!1,focused:u,fullWidth:p=!1,hiddenLabel:f=!1,margin:m="none",required:v=!1,size:g="medium",variant:y="outlined"}=r,x=J(r,xM),w=b({},r,{color:a,component:l,disabled:c,error:d,fullWidth:p,hiddenLabel:f,margin:m,required:v,size:g,variant:y}),C=bM(w),[S,P]=h.useState(()=>{let R=!1;return s&&h.Children.forEach(s,M=>{if(!Ma(M,["Input","Select"]))return;const D=Ma(M,["Select"])?M.props.input:M;D&&pE(D.props)&&(R=!0)}),R}),[k,T]=h.useState(()=>{let R=!1;return s&&h.Children.forEach(s,M=>{Ma(M,["Input","Select"])&&(sl(M.props,!0)||sl(M.props.inputProps,!0))&&(R=!0)}),R}),[_,j]=h.useState(!1);c&&_&&j(!1);const E=u!==void 0&&!c?u:_;let A;const L=h.useMemo(()=>({adornedStart:S,setAdornedStart:P,color:a,disabled:c,error:d,filled:k,focused:E,fullWidth:p,hiddenLabel:f,size:g,onBlur:()=>{j(!1)},onEmpty:()=>{T(!1)},onFilled:()=>{T(!0)},onFocus:()=>{j(!0)},registerEffect:A,required:v,variant:y}),[S,a,c,d,k,E,p,f,A,v,g,y]);return o.jsx(sc.Provider,{value:L,children:o.jsx(CM,b({as:l,ownerState:w,className:re(C.root,i),ref:n},x,{children:s}))})}),Fs=sw({createStyledComponent:Y("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>we({props:e,name:"MuiStack"})});function wM(e){return he("MuiFormControlLabel",e)}const oi=fe("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),jM=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],SM=e=>{const{classes:t,disabled:n,labelPlacement:r,error:s,required:i}=e,a={root:["root",n&&"disabled",`labelPlacement${X(r)}`,s&&"error",i&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",s&&"error"]};return ge(a,wM,t)},kM=Y("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${oi.label}`]:t.label},t.root,t[`labelPlacement${X(n.labelPlacement)}`]]}})(({theme:e,ownerState:t})=>b({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${oi.disabled}`]:{cursor:"default"}},t.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},t.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},t.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${oi.label}`]:{[`&.${oi.disabled}`]:{color:(e.vars||e).palette.text.disabled}}})),_M=Y("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${oi.error}`]:{color:(e.vars||e).palette.error.main}})),ol=h.forwardRef(function(t,n){var r,s;const i=we({props:t,name:"MuiFormControlLabel"}),{className:a,componentsProps:l={},control:c,disabled:d,disableTypography:u,label:p,labelPlacement:f="end",required:m,slotProps:v={}}=i,g=J(i,jM),y=dr(),x=(r=d??c.props.disabled)!=null?r:y==null?void 0:y.disabled,w=m??c.props.required,C={disabled:x,required:w};["checked","name","onChange","value","inputRef"].forEach(j=>{typeof c.props[j]>"u"&&typeof i[j]<"u"&&(C[j]=i[j])});const S=Zr({props:i,muiFormControl:y,states:["error"]}),P=b({},i,{disabled:x,labelPlacement:f,required:w,error:S.error}),k=SM(P),T=(s=v.typography)!=null?s:l.typography;let _=p;return _!=null&&_.type!==B&&!u&&(_=o.jsx(B,b({component:"span"},T,{className:re(k.label,T==null?void 0:T.className),children:_}))),o.jsxs(kM,b({className:re(k.root,a),ownerState:P,ref:n},g,{children:[h.cloneElement(c,C),w?o.jsxs(Fs,{display:"block",children:[_,o.jsxs(_M,{ownerState:P,"aria-hidden":!0,className:k.asterisk,children:["","*"]})]}):_]}))});function TM(e){return he("MuiFormGroup",e)}fe("MuiFormGroup",["root","row","error"]);const EM=["className","row"],PM=e=>{const{classes:t,row:n,error:r}=e;return ge({root:["root",n&&"row",r&&"error"]},TM,t)},MM=Y("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.row&&t.row]}})(({ownerState:e})=>b({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"})),IM=h.forwardRef(function(t,n){const r=we({props:t,name:"MuiFormGroup"}),{className:s,row:i=!1}=r,a=J(r,EM),l=dr(),c=Zr({props:r,muiFormControl:l,states:["error"]}),d=b({},r,{row:i,error:c.error}),u=PM(d);return o.jsx(MM,b({className:re(u.root,s),ownerState:d,ref:n},a))});function NM(e){return he("MuiFormHelperText",e)}const Bf=fe("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var Wf;const DM=["children","className","component","disabled","error","filled","focused","margin","required","variant"],RM=e=>{const{classes:t,contained:n,size:r,disabled:s,error:i,filled:a,focused:l,required:c}=e,d={root:["root",s&&"disabled",i&&"error",r&&`size${X(r)}`,n&&"contained",l&&"focused",a&&"filled",c&&"required"]};return ge(d,NM,t)},AM=Y("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${X(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})(({theme:e,ownerState:t})=>b({color:(e.vars||e).palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${Bf.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${Bf.error}`]:{color:(e.vars||e).palette.error.main}},t.size==="small"&&{marginTop:4},t.contained&&{marginLeft:14,marginRight:14})),$M=h.forwardRef(function(t,n){const r=we({props:t,name:"MuiFormHelperText"}),{children:s,className:i,component:a="p"}=r,l=J(r,DM),c=dr(),d=Zr({props:r,muiFormControl:c,states:["variant","size","disabled","error","filled","focused","required"]}),u=b({},r,{component:a,contained:d.variant==="filled"||d.variant==="outlined",variant:d.variant,size:d.size,disabled:d.disabled,error:d.error,filled:d.filled,focused:d.focused,required:d.required}),p=RM(u);return o.jsx(AM,b({as:a,ownerState:u,className:re(p.root,i),ref:n},l,{children:s===" "?Wf||(Wf=o.jsx("span",{className:"notranslate",children:""})):s}))});function OM(e){return he("MuiFormLabel",e)}const mi=fe("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),LM=["children","className","color","component","disabled","error","filled","focused","required"],FM=e=>{const{classes:t,color:n,focused:r,disabled:s,error:i,filled:a,required:l}=e,c={root:["root",`color${X(n)}`,s&&"disabled",i&&"error",a&&"filled",r&&"focused",l&&"required"],asterisk:["asterisk",i&&"error"]};return ge(c,OM,t)},zM=Y("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:e},t)=>b({},t.root,e.color==="secondary"&&t.colorSecondary,e.filled&&t.filled)})(({theme:e,ownerState:t})=>b({color:(e.vars||e).palette.text.secondary},e.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${mi.focused}`]:{color:(e.vars||e).palette[t.color].main},[`&.${mi.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${mi.error}`]:{color:(e.vars||e).palette.error.main}})),BM=Y("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${mi.error}`]:{color:(e.vars||e).palette.error.main}})),Ky=h.forwardRef(function(t,n){const r=we({props:t,name:"MuiFormLabel"}),{children:s,className:i,component:a="label"}=r,l=J(r,LM),c=dr(),d=Zr({props:r,muiFormControl:c,states:["color","required","focused","disabled","error","filled"]}),u=b({},r,{color:d.color||"primary",component:a,disabled:d.disabled,error:d.error,filled:d.filled,focused:d.focused,required:d.required}),p=FM(u);return o.jsxs(zM,b({as:a,ownerState:u,className:re(p.root,i),ref:n},l,{children:[s,d.required&&o.jsxs(BM,{ownerState:u,"aria-hidden":!0,className:p.asterisk,children:["","*"]})]}))}),Hf=h.createContext();function WM(e){return he("MuiGrid",e)}const HM=[0,1,2,3,4,5,6,7,8,9,10],UM=["column-reverse","column","row-reverse","row"],VM=["nowrap","wrap-reverse","wrap"],Ko=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Pi=fe("MuiGrid",["root","container","item","zeroMinWidth",...HM.map(e=>`spacing-xs-${e}`),...UM.map(e=>`direction-xs-${e}`),...VM.map(e=>`wrap-xs-${e}`),...Ko.map(e=>`grid-xs-${e}`),...Ko.map(e=>`grid-sm-${e}`),...Ko.map(e=>`grid-md-${e}`),...Ko.map(e=>`grid-lg-${e}`),...Ko.map(e=>`grid-xl-${e}`)]),YM=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Qs(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function GM({theme:e,ownerState:t}){let n;return e.breakpoints.keys.reduce((r,s)=>{let i={};if(t[s]&&(n=t[s]),!n)return r;if(n===!0)i={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")i={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const a=ds({values:t.columns,breakpoints:e.breakpoints.values}),l=typeof a=="object"?a[s]:a;if(l==null)return r;const c=`${Math.round(n/l*1e8)/1e6}%`;let d={};if(t.container&&t.item&&t.columnSpacing!==0){const u=e.spacing(t.columnSpacing);if(u!=="0px"){const p=`calc(${c} + ${Qs(u)})`;d={flexBasis:p,maxWidth:p}}}i=b({flexBasis:c,flexGrow:0,maxWidth:c},d)}return e.breakpoints.values[s]===0?Object.assign(r,i):r[e.breakpoints.up(s)]=i,r},{})}function qM({theme:e,ownerState:t}){const n=ds({values:t.direction,breakpoints:e.breakpoints.values});return mn({theme:e},n,r=>{const s={flexDirection:r};return r.indexOf("column")===0&&(s[`& > .${Pi.item}`]={maxWidth:"none"}),s})}function Qy({breakpoints:e,values:t}){let n="";Object.keys(t).forEach(s=>{n===""&&t[s]!==0&&(n=s)});const r=Object.keys(e).sort((s,i)=>e[s]-e[i]);return r.slice(0,r.indexOf(n))}function KM({theme:e,ownerState:t}){const{container:n,rowSpacing:r}=t;let s={};if(n&&r!==0){const i=ds({values:r,breakpoints:e.breakpoints.values});let a;typeof i=="object"&&(a=Qy({breakpoints:e.breakpoints.values,values:i})),s=mn({theme:e},i,(l,c)=>{var d;const u=e.spacing(l);return u!=="0px"?{marginTop:`-${Qs(u)}`,[`& > .${Pi.item}`]:{paddingTop:Qs(u)}}:(d=a)!=null&&d.includes(c)?{}:{marginTop:0,[`& > .${Pi.item}`]:{paddingTop:0}}})}return s}function QM({theme:e,ownerState:t}){const{container:n,columnSpacing:r}=t;let s={};if(n&&r!==0){const i=ds({values:r,breakpoints:e.breakpoints.values});let a;typeof i=="object"&&(a=Qy({breakpoints:e.breakpoints.values,values:i})),s=mn({theme:e},i,(l,c)=>{var d;const u=e.spacing(l);return u!=="0px"?{width:`calc(100% + ${Qs(u)})`,marginLeft:`-${Qs(u)}`,[`& > .${Pi.item}`]:{paddingLeft:Qs(u)}}:(d=a)!=null&&d.includes(c)?{}:{width:"100%",marginLeft:0,[`& > .${Pi.item}`]:{paddingLeft:0}}})}return s}function XM(e,t,n={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[n[`spacing-xs-${String(e)}`]];const r=[];return t.forEach(s=>{const i=e[s];Number(i)>0&&r.push(n[`spacing-${s}-${String(i)}`])}),r}const ZM=Y("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:s,item:i,spacing:a,wrap:l,zeroMinWidth:c,breakpoints:d}=n;let u=[];r&&(u=XM(a,d,t));const p=[];return d.forEach(f=>{const m=n[f];m&&p.push(t[`grid-${f}-${String(m)}`])}),[t.root,r&&t.container,i&&t.item,c&&t.zeroMinWidth,...u,s!=="row"&&t[`direction-xs-${String(s)}`],l!=="wrap"&&t[`wrap-xs-${String(l)}`],...p]}})(({ownerState:e})=>b({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},e.wrap!=="wrap"&&{flexWrap:e.wrap}),qM,KM,QM,GM);function JM(e,t){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const n=[];return t.forEach(r=>{const s=e[r];if(Number(s)>0){const i=`spacing-${r}-${String(s)}`;n.push(i)}}),n}const eI=e=>{const{classes:t,container:n,direction:r,item:s,spacing:i,wrap:a,zeroMinWidth:l,breakpoints:c}=e;let d=[];n&&(d=JM(i,c));const u=[];c.forEach(f=>{const m=e[f];m&&u.push(`grid-${f}-${String(m)}`)});const p={root:["root",n&&"container",s&&"item",l&&"zeroMinWidth",...d,r!=="row"&&`direction-xs-${String(r)}`,a!=="wrap"&&`wrap-xs-${String(a)}`,...u]};return ge(p,WM,t)},Ae=h.forwardRef(function(t,n){const r=we({props:t,name:"MuiGrid"}),{breakpoints:s}=Vn(),i=zi(r),{className:a,columns:l,columnSpacing:c,component:d="div",container:u=!1,direction:p="row",item:f=!1,rowSpacing:m,spacing:v=0,wrap:g="wrap",zeroMinWidth:y=!1}=i,x=J(i,YM),w=m||v,C=c||v,S=h.useContext(Hf),P=u?l||12:S,k={},T=b({},x);s.keys.forEach(E=>{x[E]!=null&&(k[E]=x[E],delete T[E])});const _=b({},i,{columns:P,container:u,direction:p,item:f,rowSpacing:w,columnSpacing:C,wrap:g,zeroMinWidth:y,spacing:v},k,{breakpoints:s.keys}),j=eI(_);return o.jsx(Hf.Provider,{value:P,children:o.jsx(ZM,b({ownerState:_,className:re(j.root,a),as:d,ref:n},T))})}),tI=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Fd(e){return`scale(${e}, ${e**2})`}const nI={entering:{opacity:1,transform:Fd(1)},entered:{opacity:1,transform:"none"}},Yc=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Mi=h.forwardRef(function(t,n){const{addEndListener:r,appear:s=!0,children:i,easing:a,in:l,onEnter:c,onEntered:d,onEntering:u,onExit:p,onExited:f,onExiting:m,style:v,timeout:g="auto",TransitionComponent:y=Fn}=t,x=J(t,tI),w=Or(),C=h.useRef(),S=Vn(),P=h.useRef(null),k=vt(P,ks(i),n),T=D=>I=>{if(D){const O=P.current;I===void 0?D(O):D(O,I)}},_=T(u),j=T((D,I)=>{My(D);const{duration:O,delay:z,easing:$}=co({style:v,timeout:g,easing:a},{mode:"enter"});let N;g==="auto"?(N=S.transitions.getAutoHeightDuration(D.clientHeight),C.current=N):N=O,D.style.transition=[S.transitions.create("opacity",{duration:N,delay:z}),S.transitions.create("transform",{duration:Yc?N:N*.666,delay:z,easing:$})].join(","),c&&c(D,I)}),E=T(d),A=T(m),L=T(D=>{const{duration:I,delay:O,easing:z}=co({style:v,timeout:g,easing:a},{mode:"exit"});let $;g==="auto"?($=S.transitions.getAutoHeightDuration(D.clientHeight),C.current=$):$=I,D.style.transition=[S.transitions.create("opacity",{duration:$,delay:O}),S.transitions.create("transform",{duration:Yc?$:$*.666,delay:Yc?O:O||$*.333,easing:z})].join(","),D.style.opacity=0,D.style.transform=Fd(.75),p&&p(D)}),R=T(f),M=D=>{g==="auto"&&w.start(C.current||0,D),r&&r(P.current,D)};return o.jsx(y,b({appear:s,in:l,nodeRef:P,onEnter:j,onEntered:E,onEntering:_,onExit:L,onExited:R,onExiting:A,addEndListener:M,timeout:g==="auto"?null:g},x,{children:(D,I)=>h.cloneElement(i,b({style:b({opacity:0,transform:Fd(.75),visibility:D==="exited"&&!l?"hidden":void 0},nI[D],v,i.props.style),ref:k},I))}))});Mi.muiSupportAuto=!0;const rI=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],sI=e=>{const{classes:t,disableUnderline:n}=e,s=ge({root:["root",!n&&"underline"],input:["input"]},vE,t);return b({},t,s)},oI=Y(ac,{shouldForwardProp:e=>gn(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...oc(e,t),!n.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{let r=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(r=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),b({position:"relative"},t.formControl&&{"label + &":{marginTop:16}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${qo.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${qo.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${qo.disabled}, .${qo.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${qo.disabled}:before`]:{borderBottomStyle:"dotted"}})}),iI=Y(lc,{name:"MuiInput",slot:"Input",overridesResolver:ic})({}),mp=h.forwardRef(function(t,n){var r,s,i,a;const l=we({props:t,name:"MuiInput"}),{disableUnderline:c,components:d={},componentsProps:u,fullWidth:p=!1,inputComponent:f="input",multiline:m=!1,slotProps:v,slots:g={},type:y="text"}=l,x=J(l,rI),w=sI(l),S={root:{ownerState:{disableUnderline:c}}},P=v??u?rn(v??u,S):S,k=(r=(s=g.root)!=null?s:d.Root)!=null?r:oI,T=(i=(a=g.input)!=null?a:d.Input)!=null?i:iI;return o.jsx(hp,b({slots:{root:k,input:T},slotProps:P,fullWidth:p,inputComponent:f,multiline:m,ref:n,type:y},x,{classes:w}))});mp.muiName="Input";function aI(e){return he("MuiInputAdornment",e)}const Uf=fe("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var Vf;const lI=["children","className","component","disablePointerEvents","disableTypography","position","variant"],cI=(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${X(n.position)}`],n.disablePointerEvents===!0&&t.disablePointerEvents,t[n.variant]]},dI=e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:r,position:s,size:i,variant:a}=e,l={root:["root",n&&"disablePointerEvents",s&&`position${X(s)}`,a,r&&"hiddenLabel",i&&`size${X(i)}`]};return ge(l,aI,t)},uI=Y("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:cI})(({theme:e,ownerState:t})=>b({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active},t.variant==="filled"&&{[`&.${Uf.positionStart}&:not(.${Uf.hiddenLabel})`]:{marginTop:16}},t.position==="start"&&{marginRight:8},t.position==="end"&&{marginLeft:8},t.disablePointerEvents===!0&&{pointerEvents:"none"})),pI=h.forwardRef(function(t,n){const r=we({props:t,name:"MuiInputAdornment"}),{children:s,className:i,component:a="div",disablePointerEvents:l=!1,disableTypography:c=!1,position:d,variant:u}=r,p=J(r,lI),f=dr()||{};let m=u;u&&f.variant,f&&!m&&(m=f.variant);const v=b({},r,{hiddenLabel:f.hiddenLabel,size:f.size,disablePointerEvents:l,position:d,variant:m}),g=dI(v);return o.jsx(sc.Provider,{value:null,children:o.jsx(uI,b({as:a,ownerState:v,className:re(g.root,i),ref:n},p,{children:typeof s=="string"&&!c?o.jsx(B,{color:"text.secondary",children:s}):o.jsxs(h.Fragment,{children:[d==="start"?Vf||(Vf=o.jsx("span",{className:"notranslate",children:""})):null,s]})}))})});function hI(e){return he("MuiInputLabel",e)}fe("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const fI=["disableAnimation","margin","shrink","variant","className"],mI=e=>{const{classes:t,formControl:n,size:r,shrink:s,disableAnimation:i,variant:a,required:l}=e,c={root:["root",n&&"formControl",!i&&"animated",s&&"shrink",r&&r!=="normal"&&`size${X(r)}`,a],asterisk:[l&&"asterisk"]},d=ge(c,hI,t);return b({},t,d)},gI=Y(Ky,{shouldForwardProp:e=>gn(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${mi.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,n.size==="small"&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})(({theme:e,ownerState:t})=>b({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},t.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},t.size==="small"&&{transform:"translate(0, 17px) scale(1)"},t.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!t.disableAnimation&&{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},t.variant==="filled"&&b({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},t.shrink&&b({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},t.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),t.variant==="outlined"&&b({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},t.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),Tr=h.forwardRef(function(t,n){const r=we({name:"MuiInputLabel",props:t}),{disableAnimation:s=!1,shrink:i,className:a}=r,l=J(r,fI),c=dr();let d=i;typeof d>"u"&&c&&(d=c.filled||c.focused||c.adornedStart);const u=Zr({props:r,muiFormControl:c,states:["size","variant","required","focused"]}),p=b({},r,{disableAnimation:s,formControl:c,shrink:d,size:u.size,variant:u.variant,required:u.required,focused:u.focused}),f=mI(p);return o.jsx(gI,b({"data-shrink":d,ownerState:p,ref:n,className:re(f.root,a)},l,{classes:f}))});function vI(e){return he("MuiLinearProgress",e)}fe("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const yI=["className","color","value","valueBuffer","variant"];let No=e=>e,Yf,Gf,qf,Kf,Qf,Xf;const zd=4,xI=Ir(Yf||(Yf=No`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),bI=Ir(Gf||(Gf=No`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),CI=Ir(qf||(qf=No`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),wI=e=>{const{classes:t,variant:n,color:r}=e,s={root:["root",`color${X(r)}`,n],dashed:["dashed",`dashedColor${X(r)}`],bar1:["bar",`barColor${X(r)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar",n!=="buffer"&&`barColor${X(r)}`,n==="buffer"&&`color${X(r)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return ge(s,vI,t)},gp=(e,t)=>t==="inherit"?"currentColor":e.vars?e.vars.palette.LinearProgress[`${t}Bg`]:e.palette.mode==="light"?io(e.palette[t].main,.62):oo(e.palette[t].main,.5),jI=Y("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`color${X(n.color)}`],t[n.variant]]}})(({ownerState:e,theme:t})=>b({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:gp(t,e.color)},e.color==="inherit"&&e.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},e.variant==="buffer"&&{backgroundColor:"transparent"},e.variant==="query"&&{transform:"rotate(180deg)"})),SI=Y("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.dashed,t[`dashedColor${X(n.color)}`]]}})(({ownerState:e,theme:t})=>{const n=gp(t,e.color);return b({position:"absolute",marginTop:0,height:"100%",width:"100%"},e.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},Ss(Kf||(Kf=No`
    animation: ${0} 3s infinite linear;
  `),CI)),kI=Y("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t[`barColor${X(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&t.bar1Indeterminate,n.variant==="determinate"&&t.bar1Determinate,n.variant==="buffer"&&t.bar1Buffer]}})(({ownerState:e,theme:t})=>b({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:e.color==="inherit"?"currentColor":(t.vars||t).palette[e.color].main},e.variant==="determinate"&&{transition:`transform .${zd}s linear`},e.variant==="buffer"&&{zIndex:1,transition:`transform .${zd}s linear`}),({ownerState:e})=>(e.variant==="indeterminate"||e.variant==="query")&&Ss(Qf||(Qf=No`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),xI)),_I=Y("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t[`barColor${X(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&t.bar2Indeterminate,n.variant==="buffer"&&t.bar2Buffer]}})(({ownerState:e,theme:t})=>b({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},e.variant!=="buffer"&&{backgroundColor:e.color==="inherit"?"currentColor":(t.vars||t).palette[e.color].main},e.color==="inherit"&&{opacity:.3},e.variant==="buffer"&&{backgroundColor:gp(t,e.color),transition:`transform .${zd}s linear`}),({ownerState:e})=>(e.variant==="indeterminate"||e.variant==="query")&&Ss(Xf||(Xf=No`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),bI)),Xy=h.forwardRef(function(t,n){const r=we({props:t,name:"MuiLinearProgress"}),{className:s,color:i="primary",value:a,valueBuffer:l,variant:c="indeterminate"}=r,d=J(r,yI),u=b({},r,{color:i,variant:c}),p=wI(u),f=_u(),m={},v={bar1:{},bar2:{}};if((c==="determinate"||c==="buffer")&&a!==void 0){m["aria-valuenow"]=Math.round(a),m["aria-valuemin"]=0,m["aria-valuemax"]=100;let g=a-100;f&&(g=-g),v.bar1.transform=`translateX(${g}%)`}if(c==="buffer"&&l!==void 0){let g=(l||0)-100;f&&(g=-g),v.bar2.transform=`translateX(${g}%)`}return o.jsxs(jI,b({className:re(p.root,s),ownerState:u,role:"progressbar"},m,{ref:n},d,{children:[c==="buffer"?o.jsx(SI,{className:p.dashed,ownerState:u}):null,o.jsx(kI,{className:p.bar1,ownerState:u,style:v.bar1}),c==="determinate"?null:o.jsx(_I,{className:p.bar2,ownerState:u,style:v.bar2})]}))}),Cr=h.createContext({});function TI(e){return he("MuiList",e)}fe("MuiList",["root","padding","dense","subheader"]);const EI=["children","className","component","dense","disablePadding","subheader"],PI=e=>{const{classes:t,disablePadding:n,dense:r,subheader:s}=e;return ge({root:["root",!n&&"padding",r&&"dense",s&&"subheader"]},TI,t)},MI=Y("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})(({ownerState:e})=>b({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0})),go=h.forwardRef(function(t,n){const r=we({props:t,name:"MuiList"}),{children:s,className:i,component:a="ul",dense:l=!1,disablePadding:c=!1,subheader:d}=r,u=J(r,EI),p=h.useMemo(()=>({dense:l}),[l]),f=b({},r,{component:a,dense:l,disablePadding:c}),m=PI(f);return o.jsx(Cr.Provider,{value:p,children:o.jsxs(MI,b({as:a,className:re(m.root,i),ref:n,ownerState:f},u,{children:[d,s]}))})});function II(e){return he("MuiListItem",e)}const zs=fe("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),NI=fe("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function DI(e){return he("MuiListItemSecondaryAction",e)}fe("MuiListItemSecondaryAction",["root","disableGutters"]);const RI=["className"],AI=e=>{const{disableGutters:t,classes:n}=e;return ge({root:["root",t&&"disableGutters"]},DI,n)},$I=Y("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})(({ownerState:e})=>b({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},e.disableGutters&&{right:0})),cs=h.forwardRef(function(t,n){const r=we({props:t,name:"MuiListItemSecondaryAction"}),{className:s}=r,i=J(r,RI),a=h.useContext(Cr),l=b({},r,{disableGutters:a.disableGutters}),c=AI(l);return o.jsx($I,b({className:re(c.root,s),ownerState:l,ref:n},i))});cs.muiName="ListItemSecondaryAction";const OI=["className"],LI=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],FI=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.alignItems==="flex-start"&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.button&&t.button,n.hasSecondaryAction&&t.secondaryAction]},zI=e=>{const{alignItems:t,button:n,classes:r,dense:s,disabled:i,disableGutters:a,disablePadding:l,divider:c,hasSecondaryAction:d,selected:u}=e;return ge({root:["root",s&&"dense",!a&&"gutters",!l&&"padding",c&&"divider",i&&"disabled",n&&"button",t==="flex-start"&&"alignItemsFlexStart",d&&"secondaryAction",u&&"selected"],container:["container"]},II,r)},BI=Y("div",{name:"MuiListItem",slot:"Root",overridesResolver:FI})(({theme:e,ownerState:t})=>b({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!t.disablePadding&&b({paddingTop:8,paddingBottom:8},t.dense&&{paddingTop:4,paddingBottom:4},!t.disableGutters&&{paddingLeft:16,paddingRight:16},!!t.secondaryAction&&{paddingRight:48}),!!t.secondaryAction&&{[`& > .${NI.root}`]:{paddingRight:48}},{[`&.${zs.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${zs.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:ze(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${zs.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:ze(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${zs.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.alignItems==="flex-start"&&{alignItems:"flex-start"},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},t.button&&{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${zs.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:ze(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:ze(e.palette.primary.main,e.palette.action.selectedOpacity)}}},t.hasSecondaryAction&&{paddingRight:48})),WI=Y("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),er=h.forwardRef(function(t,n){const r=we({props:t,name:"MuiListItem"}),{alignItems:s="center",autoFocus:i=!1,button:a=!1,children:l,className:c,component:d,components:u={},componentsProps:p={},ContainerComponent:f="li",ContainerProps:{className:m}={},dense:v=!1,disabled:g=!1,disableGutters:y=!1,disablePadding:x=!1,divider:w=!1,focusVisibleClassName:C,secondaryAction:S,selected:P=!1,slotProps:k={},slots:T={}}=r,_=J(r.ContainerProps,OI),j=J(r,LI),E=h.useContext(Cr),A=h.useMemo(()=>({dense:v||E.dense||!1,alignItems:s,disableGutters:y}),[s,E.dense,v,y]),L=h.useRef(null);sn(()=>{i&&L.current&&L.current.focus()},[i]);const R=h.Children.toArray(l),M=R.length&&Ma(R[R.length-1],["ListItemSecondaryAction"]),D=b({},r,{alignItems:s,autoFocus:i,button:a,dense:A.dense,disabled:g,disableGutters:y,disablePadding:x,divider:w,hasSecondaryAction:M,selected:P}),I=zI(D),O=vt(L,n),z=T.root||u.Root||BI,$=k.root||p.root||{},N=b({className:re(I.root,$.className,c),disabled:g},j);let W=d||"li";return a&&(N.component=d||"div",N.focusVisibleClassName=re(zs.focusVisible,C),W=Gr),M?(W=!N.component&&!d?"div":W,f==="li"&&(W==="li"?W="div":N.component==="li"&&(N.component="div")),o.jsx(Cr.Provider,{value:A,children:o.jsxs(WI,b({as:f,className:re(I.container,m),ref:O,ownerState:D},_,{children:[o.jsx(z,b({},$,!so(z)&&{as:W,ownerState:b({},D,$.ownerState)},N,{children:R})),R.pop()]}))})):o.jsx(Cr.Provider,{value:A,children:o.jsxs(z,b({},$,{as:W,ref:O},!so(z)&&{ownerState:b({},D,$.ownerState)},N,{children:[R,S&&o.jsx(cs,{children:S})]}))})});function HI(e){return he("MuiListItemIcon",e)}const Zf=fe("MuiListItemIcon",["root","alignItemsFlexStart"]),UI=["className"],VI=e=>{const{alignItems:t,classes:n}=e;return ge({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},HI,n)},YI=Y("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.alignItems==="flex-start"&&t.alignItemsFlexStart]}})(({theme:e,ownerState:t})=>b({minWidth:56,color:(e.vars||e).palette.action.active,flexShrink:0,display:"inline-flex"},t.alignItems==="flex-start"&&{marginTop:8})),Gc=h.forwardRef(function(t,n){const r=we({props:t,name:"MuiListItemIcon"}),{className:s}=r,i=J(r,UI),a=h.useContext(Cr),l=b({},r,{alignItems:a.alignItems}),c=VI(l);return o.jsx(YI,b({className:re(c.root,s),ownerState:l,ref:n},i))});function GI(e){return he("MuiListItemText",e)}const il=fe("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),qI=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],KI=e=>{const{classes:t,inset:n,primary:r,secondary:s,dense:i}=e;return ge({root:["root",n&&"inset",i&&"dense",r&&s&&"multiline"],primary:["primary"],secondary:["secondary"]},GI,t)},QI=Y("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${il.primary}`]:t.primary},{[`& .${il.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})(({ownerState:e})=>b({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56})),tr=h.forwardRef(function(t,n){const r=we({props:t,name:"MuiListItemText"}),{children:s,className:i,disableTypography:a=!1,inset:l=!1,primary:c,primaryTypographyProps:d,secondary:u,secondaryTypographyProps:p}=r,f=J(r,qI),{dense:m}=h.useContext(Cr);let v=c??s,g=u;const y=b({},r,{disableTypography:a,inset:l,primary:!!v,secondary:!!g,dense:m}),x=KI(y);return v!=null&&v.type!==B&&!a&&(v=o.jsx(B,b({variant:m?"body2":"body1",className:x.primary,component:d!=null&&d.variant?void 0:"span",display:"block"},d,{children:v}))),g!=null&&g.type!==B&&!a&&(g=o.jsx(B,b({variant:"body2",className:x.secondary,color:"text.secondary",display:"block"},p,{children:g}))),o.jsxs(QI,b({className:re(x.root,i),ownerState:y,ref:n},f,{children:[v,g]}))}),XI=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function qc(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function Jf(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function Zy(e,t){if(t===void 0)return!0;let n=e.innerText;return n===void 0&&(n=e.textContent),n=n.trim().toLowerCase(),n.length===0?!1:t.repeating?n[0]===t.keys[0]:n.indexOf(t.keys.join(""))===0}function Qo(e,t,n,r,s,i){let a=!1,l=s(e,t,t?n:!1);for(;l;){if(l===e.firstChild){if(a)return!1;a=!0}const c=r?!1:l.disabled||l.getAttribute("aria-disabled")==="true";if(!l.hasAttribute("tabindex")||!Zy(l,i)||c)l=s(e,l,n);else return l.focus(),!0}return!1}const ZI=h.forwardRef(function(t,n){const{actions:r,autoFocus:s=!1,autoFocusItem:i=!1,children:a,className:l,disabledItemsFocusable:c=!1,disableListWrap:d=!1,onKeyDown:u,variant:p="selectedMenu"}=t,f=J(t,XI),m=h.useRef(null),v=h.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});sn(()=>{s&&m.current.focus()},[s]),h.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(C,{direction:S})=>{const P=!m.current.style.width;if(C.clientHeight<m.current.clientHeight&&P){const k=`${Gg(Bt(C))}px`;m.current.style[S==="rtl"?"paddingLeft":"paddingRight"]=k,m.current.style.width=`calc(100% + ${k})`}return m.current}}),[]);const g=C=>{const S=m.current,P=C.key,k=Bt(S).activeElement;if(P==="ArrowDown")C.preventDefault(),Qo(S,k,d,c,qc);else if(P==="ArrowUp")C.preventDefault(),Qo(S,k,d,c,Jf);else if(P==="Home")C.preventDefault(),Qo(S,null,d,c,qc);else if(P==="End")C.preventDefault(),Qo(S,null,d,c,Jf);else if(P.length===1){const T=v.current,_=P.toLowerCase(),j=performance.now();T.keys.length>0&&(j-T.lastTime>500?(T.keys=[],T.repeating=!0,T.previousKeyMatched=!0):T.repeating&&_!==T.keys[0]&&(T.repeating=!1)),T.lastTime=j,T.keys.push(_);const E=k&&!T.repeating&&Zy(k,T);T.previousKeyMatched&&(E||Qo(S,k,!1,c,qc,T))?C.preventDefault():T.previousKeyMatched=!1}u&&u(C)},y=vt(m,n);let x=-1;h.Children.forEach(a,(C,S)=>{if(!h.isValidElement(C)){x===S&&(x+=1,x>=a.length&&(x=-1));return}C.props.disabled||(p==="selectedMenu"&&C.props.selected||x===-1)&&(x=S),x===S&&(C.props.disabled||C.props.muiSkipListHighlight||C.type.muiSkipListHighlight)&&(x+=1,x>=a.length&&(x=-1))});const w=h.Children.map(a,(C,S)=>{if(S===x){const P={};return i&&(P.autoFocus=!0),C.props.tabIndex===void 0&&p==="selectedMenu"&&(P.tabIndex=0),h.cloneElement(C,P)}return C});return o.jsx(go,b({role:"menu",ref:y,className:l,onKeyDown:g,tabIndex:s?0:-1},f,{children:w}))});function JI(e){return he("MuiPopover",e)}fe("MuiPopover",["root","paper"]);const eN=["onEntering"],tN=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],nN=["slotProps"];function em(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.height/2:t==="bottom"&&(n=e.height),n}function tm(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.width/2:t==="right"&&(n=e.width),n}function nm(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function Kc(e){return typeof e=="function"?e():e}const rN=e=>{const{classes:t}=e;return ge({root:["root"],paper:["paper"]},JI,t)},sN=Y(Gy,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Jy=Y(on,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),oN=h.forwardRef(function(t,n){var r,s,i;const a=we({props:t,name:"MuiPopover"}),{action:l,anchorEl:c,anchorOrigin:d={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:p="anchorEl",children:f,className:m,container:v,elevation:g=8,marginThreshold:y=16,open:x,PaperProps:w={},slots:C,slotProps:S,transformOrigin:P={vertical:"top",horizontal:"left"},TransitionComponent:k=Mi,transitionDuration:T="auto",TransitionProps:{onEntering:_}={},disableScrollLock:j=!1}=a,E=J(a.TransitionProps,eN),A=J(a,tN),L=(r=S==null?void 0:S.paper)!=null?r:w,R=h.useRef(),M=vt(R,L.ref),D=b({},a,{anchorOrigin:d,anchorReference:p,elevation:g,marginThreshold:y,externalPaperSlotProps:L,transformOrigin:P,TransitionComponent:k,transitionDuration:T,TransitionProps:E}),I=rN(D),O=h.useCallback(()=>{if(p==="anchorPosition")return u;const F=Kc(c),ne=(F&&F.nodeType===1?F:Bt(R.current).body).getBoundingClientRect();return{top:ne.top+em(ne,d.vertical),left:ne.left+tm(ne,d.horizontal)}},[c,d.horizontal,d.vertical,u,p]),z=h.useCallback(F=>({vertical:em(F,P.vertical),horizontal:tm(F,P.horizontal)}),[P.horizontal,P.vertical]),$=h.useCallback(F=>{const q={width:F.offsetWidth,height:F.offsetHeight},ne=z(q);if(p==="none")return{top:null,left:null,transformOrigin:nm(ne)};const pe=O();let Ee=pe.top-ne.vertical,ie=pe.left-ne.horizontal;const ce=Ee+q.height,xe=ie+q.width,ve=ms(Kc(c)),De=ve.innerHeight-y,Me=ve.innerWidth-y;if(y!==null&&Ee<y){const Ne=Ee-y;Ee-=Ne,ne.vertical+=Ne}else if(y!==null&&ce>De){const Ne=ce-De;Ee-=Ne,ne.vertical+=Ne}if(y!==null&&ie<y){const Ne=ie-y;ie-=Ne,ne.horizontal+=Ne}else if(xe>Me){const Ne=xe-Me;ie-=Ne,ne.horizontal+=Ne}return{top:`${Math.round(Ee)}px`,left:`${Math.round(ie)}px`,transformOrigin:nm(ne)}},[c,p,O,z,y]),[N,W]=h.useState(x),V=h.useCallback(()=>{const F=R.current;if(!F)return;const q=$(F);q.top!==null&&(F.style.top=q.top),q.left!==null&&(F.style.left=q.left),F.style.transformOrigin=q.transformOrigin,W(!0)},[$]);h.useEffect(()=>(j&&window.addEventListener("scroll",V),()=>window.removeEventListener("scroll",V)),[c,j,V]);const G=(F,q)=>{_&&_(F,q),V()},Q=()=>{W(!1)};h.useEffect(()=>{x&&V()}),h.useImperativeHandle(l,()=>x?{updatePosition:()=>{V()}}:null,[x,V]),h.useEffect(()=>{if(!x)return;const F=Vg(()=>{V()}),q=ms(c);return q.addEventListener("resize",F),()=>{F.clear(),q.removeEventListener("resize",F)}},[c,x,V]);let oe=T;T==="auto"&&!k.muiSupportAuto&&(oe=void 0);const U=v||(c?Bt(Kc(c)).body:void 0),le=(s=C==null?void 0:C.root)!=null?s:sN,ee=(i=C==null?void 0:C.paper)!=null?i:Jy,Z=Vr({elementType:ee,externalSlotProps:b({},L,{style:N?L.style:b({},L.style,{opacity:0})}),additionalProps:{elevation:g,ref:M},ownerState:D,className:re(I.paper,L==null?void 0:L.className)}),ae=Vr({elementType:le,externalSlotProps:(S==null?void 0:S.root)||{},externalForwardedProps:A,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:U,open:x},ownerState:D,className:re(I.root,m)}),{slotProps:K}=ae,H=J(ae,nN);return o.jsx(le,b({},H,!so(le)&&{slotProps:K,disableScrollLock:j},{children:o.jsx(k,b({appear:!0,in:x,onEntering:G,onExited:Q,timeout:oe},E,{children:o.jsx(ee,b({},Z,{children:f}))}))}))});function iN(e){return he("MuiMenu",e)}fe("MuiMenu",["root","paper","list"]);const aN=["onEntering"],lN=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],cN={vertical:"top",horizontal:"right"},dN={vertical:"top",horizontal:"left"},uN=e=>{const{classes:t}=e;return ge({root:["root"],paper:["paper"],list:["list"]},iN,t)},pN=Y(oN,{shouldForwardProp:e=>gn(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),hN=Y(Jy,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),fN=Y(ZI,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),mN=h.forwardRef(function(t,n){var r,s;const i=we({props:t,name:"MuiMenu"}),{autoFocus:a=!0,children:l,className:c,disableAutoFocusItem:d=!1,MenuListProps:u={},onClose:p,open:f,PaperProps:m={},PopoverClasses:v,transitionDuration:g="auto",TransitionProps:{onEntering:y}={},variant:x="selectedMenu",slots:w={},slotProps:C={}}=i,S=J(i.TransitionProps,aN),P=J(i,lN),k=_u(),T=b({},i,{autoFocus:a,disableAutoFocusItem:d,MenuListProps:u,onEntering:y,PaperProps:m,transitionDuration:g,TransitionProps:S,variant:x}),_=uN(T),j=a&&!d&&f,E=h.useRef(null),A=(z,$)=>{E.current&&E.current.adjustStyleForScrollbar(z,{direction:k?"rtl":"ltr"}),y&&y(z,$)},L=z=>{z.key==="Tab"&&(z.preventDefault(),p&&p(z,"tabKeyDown"))};let R=-1;h.Children.map(l,(z,$)=>{h.isValidElement(z)&&(z.props.disabled||(x==="selectedMenu"&&z.props.selected||R===-1)&&(R=$))});const M=(r=w.paper)!=null?r:hN,D=(s=C.paper)!=null?s:m,I=Vr({elementType:w.root,externalSlotProps:C.root,ownerState:T,className:[_.root,c]}),O=Vr({elementType:M,externalSlotProps:D,ownerState:T,className:_.paper});return o.jsx(pN,b({onClose:p,anchorOrigin:{vertical:"bottom",horizontal:k?"right":"left"},transformOrigin:k?cN:dN,slots:{paper:M,root:w.root},slotProps:{root:I,paper:O},open:f,ref:n,transitionDuration:g,TransitionProps:b({onEntering:A},S),ownerState:T},P,{classes:v,children:o.jsx(fN,b({onKeyDown:L,actions:E,autoFocus:a&&(R===-1||d),autoFocusItem:j,variant:x},u,{className:re(_.list,u.className),children:l}))}))});function gN(e){return he("MuiMenuItem",e)}const Xo=fe("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),vN=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],yN=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]},xN=e=>{const{disabled:t,dense:n,divider:r,disableGutters:s,selected:i,classes:a}=e,c=ge({root:["root",n&&"dense",t&&"disabled",!s&&"gutters",r&&"divider",i&&"selected"]},gN,a);return b({},a,c)},bN=Y(Gr,{shouldForwardProp:e=>gn(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:yN})(({theme:e,ownerState:t})=>b({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Xo.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:ze(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${Xo.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:ze(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${Xo.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:ze(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:ze(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${Xo.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Xo.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${zf.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${zf.inset}`]:{marginLeft:52},[`& .${il.root}`]:{marginTop:0,marginBottom:0},[`& .${il.inset}`]:{paddingLeft:36},[`& .${Zf.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&b({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${Zf.root} svg`]:{fontSize:"1.25rem"}}))),Mt=h.forwardRef(function(t,n){const r=we({props:t,name:"MuiMenuItem"}),{autoFocus:s=!1,component:i="li",dense:a=!1,divider:l=!1,disableGutters:c=!1,focusVisibleClassName:d,role:u="menuitem",tabIndex:p,className:f}=r,m=J(r,vN),v=h.useContext(Cr),g=h.useMemo(()=>({dense:a||v.dense||!1,disableGutters:c}),[v.dense,a,c]),y=h.useRef(null);sn(()=>{s&&y.current&&y.current.focus()},[s]);const x=b({},r,{dense:g.dense,divider:l,disableGutters:c}),w=xN(r),C=vt(y,n);let S;return r.disabled||(S=p!==void 0?p:-1),o.jsx(Cr.Provider,{value:g,children:o.jsx(bN,b({ref:C,role:u,tabIndex:S,component:i,focusVisibleClassName:re(w.focusVisible,d),className:re(w.root,f)},m,{ownerState:x,classes:w}))})});function CN(e){return he("MuiNativeSelect",e)}const vp=fe("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),wN=["className","disabled","error","IconComponent","inputRef","variant"],jN=e=>{const{classes:t,variant:n,disabled:r,multiple:s,open:i,error:a}=e,l={select:["select",n,r&&"disabled",s&&"multiple",a&&"error"],icon:["icon",`icon${X(n)}`,i&&"iconOpen",r&&"disabled"]};return ge(l,CN,t)},ex=({ownerState:e,theme:t})=>b({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":b({},t.vars?{backgroundColor:`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:t.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${vp.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},e.variant==="filled"&&{"&&&":{paddingRight:32}},e.variant==="outlined"&&{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}),SN=Y("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:gn,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${vp.multiple}`]:t.multiple}]}})(ex),tx=({ownerState:e,theme:t})=>b({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${vp.disabled}`]:{color:(t.vars||t).palette.action.disabled}},e.open&&{transform:"rotate(180deg)"},e.variant==="filled"&&{right:7},e.variant==="outlined"&&{right:7}),kN=Y("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${X(n.variant)}`],n.open&&t.iconOpen]}})(tx),_N=h.forwardRef(function(t,n){const{className:r,disabled:s,error:i,IconComponent:a,inputRef:l,variant:c="standard"}=t,d=J(t,wN),u=b({},t,{disabled:s,variant:c,error:i}),p=jN(u);return o.jsxs(h.Fragment,{children:[o.jsx(SN,b({ownerState:u,className:re(p.select,r),disabled:s,ref:l||n},d)),t.multiple?null:o.jsx(kN,{as:a,ownerState:u,className:p.icon})]})});var rm;const TN=["children","classes","className","label","notched"],EN=Y("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:gn})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),PN=Y("legend",{name:"MuiNotchedOutlined",shouldForwardProp:gn})(({ownerState:e,theme:t})=>b({float:"unset",width:"auto",overflow:"hidden"},!e.withLabel&&{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},e.withLabel&&b({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},e.notched&&{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})})));function MN(e){const{className:t,label:n,notched:r}=e,s=J(e,TN),i=n!=null&&n!=="",a=b({},e,{notched:r,withLabel:i});return o.jsx(EN,b({"aria-hidden":!0,className:t,ownerState:a},s,{children:o.jsx(PN,{ownerState:a,children:i?o.jsx("span",{children:n}):rm||(rm=o.jsx("span",{className:"notranslate",children:""}))})}))}const IN=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],NN=e=>{const{classes:t}=e,r=ge({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},yE,t);return b({},t,r)},DN=Y(ac,{shouldForwardProp:e=>gn(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:oc})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return b({position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${Dr.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${Dr.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${Dr.focused} .${Dr.notchedOutline}`]:{borderColor:(e.vars||e).palette[t.color].main,borderWidth:2},[`&.${Dr.error} .${Dr.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${Dr.disabled} .${Dr.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}},t.startAdornment&&{paddingLeft:14},t.endAdornment&&{paddingRight:14},t.multiline&&b({padding:"16.5px 14px"},t.size==="small"&&{padding:"8.5px 14px"}))}),RN=Y(MN,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),AN=Y(lc,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:ic})(({theme:e,ownerState:t})=>b({padding:"16.5px 14px"},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{padding:"8.5px 14px"},t.multiline&&{padding:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0})),yp=h.forwardRef(function(t,n){var r,s,i,a,l;const c=we({props:t,name:"MuiOutlinedInput"}),{components:d={},fullWidth:u=!1,inputComponent:p="input",label:f,multiline:m=!1,notched:v,slots:g={},type:y="text"}=c,x=J(c,IN),w=NN(c),C=dr(),S=Zr({props:c,muiFormControl:C,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),P=b({},c,{color:S.color||"primary",disabled:S.disabled,error:S.error,focused:S.focused,formControl:C,fullWidth:u,hiddenLabel:S.hiddenLabel,multiline:m,size:S.size,type:y}),k=(r=(s=g.root)!=null?s:d.Root)!=null?r:DN,T=(i=(a=g.input)!=null?a:d.Input)!=null?i:AN;return o.jsx(hp,b({slots:{root:k,input:T},renderSuffix:_=>o.jsx(RN,{ownerState:P,className:w.notchedOutline,label:f!=null&&f!==""&&S.required?l||(l=o.jsxs(h.Fragment,{children:[f,"","*"]})):f,notched:typeof v<"u"?v:!!(_.startAdornment||_.filled||_.focused)}),fullWidth:u,inputComponent:p,multiline:m,ref:n,type:y},x,{classes:b({},w,{notchedOutline:null})}))});yp.muiName="Input";function $N(e){return he("MuiSelect",e)}const Zo=fe("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var sm;const ON=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],LN=Y("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${Zo.select}`]:t.select},{[`&.${Zo.select}`]:t[n.variant]},{[`&.${Zo.error}`]:t.error},{[`&.${Zo.multiple}`]:t.multiple}]}})(ex,{[`&.${Zo.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),FN=Y("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${X(n.variant)}`],n.open&&t.iconOpen]}})(tx),zN=Y("input",{shouldForwardProp:e=>pv(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function om(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function BN(e){return e==null||typeof e=="string"&&!e.trim()}const WN=e=>{const{classes:t,variant:n,disabled:r,multiple:s,open:i,error:a}=e,l={select:["select",n,r&&"disabled",s&&"multiple",a&&"error"],icon:["icon",`icon${X(n)}`,i&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return ge(l,$N,t)},HN=h.forwardRef(function(t,n){var r;const{"aria-describedby":s,"aria-label":i,autoFocus:a,autoWidth:l,children:c,className:d,defaultOpen:u,defaultValue:p,disabled:f,displayEmpty:m,error:v=!1,IconComponent:g,inputRef:y,labelId:x,MenuProps:w={},multiple:C,name:S,onBlur:P,onChange:k,onClose:T,onFocus:_,onOpen:j,open:E,readOnly:A,renderValue:L,SelectDisplayProps:R={},tabIndex:M,value:D,variant:I="standard"}=t,O=J(t,ON),[z,$]=ar({controlled:D,default:p,name:"Select"}),[N,W]=ar({controlled:E,default:u,name:"Select"}),V=h.useRef(null),G=h.useRef(null),[Q,oe]=h.useState(null),{current:U}=h.useRef(E!=null),[le,ee]=h.useState(),Z=vt(n,y),ae=h.useCallback(Se=>{G.current=Se,Se&&oe(Se)},[]),K=Q==null?void 0:Q.parentNode;h.useImperativeHandle(Z,()=>({focus:()=>{G.current.focus()},node:V.current,value:z}),[z]),h.useEffect(()=>{u&&N&&Q&&!U&&(ee(l?null:K.clientWidth),G.current.focus())},[Q,l]),h.useEffect(()=>{a&&G.current.focus()},[a]),h.useEffect(()=>{if(!x)return;const Se=Bt(G.current).getElementById(x);if(Se){const ot=()=>{getSelection().isCollapsed&&G.current.focus()};return Se.addEventListener("click",ot),()=>{Se.removeEventListener("click",ot)}}},[x]);const H=(Se,ot)=>{Se?j&&j(ot):T&&T(ot),U||(ee(l?null:K.clientWidth),W(Se))},F=Se=>{Se.button===0&&(Se.preventDefault(),G.current.focus(),H(!0,Se))},q=Se=>{H(!1,Se)},ne=h.Children.toArray(c),pe=Se=>{const ot=ne.find(xt=>xt.props.value===Se.target.value);ot!==void 0&&($(ot.props.value),k&&k(Se,ot))},Ee=Se=>ot=>{let xt;if(ot.currentTarget.hasAttribute("tabindex")){if(C){xt=Array.isArray(z)?z.slice():[];const vn=z.indexOf(Se.props.value);vn===-1?xt.push(Se.props.value):xt.splice(vn,1)}else xt=Se.props.value;if(Se.props.onClick&&Se.props.onClick(ot),z!==xt&&($(xt),k)){const vn=ot.nativeEvent||ot,Nr=new vn.constructor(vn.type,vn);Object.defineProperty(Nr,"target",{writable:!0,value:{value:xt,name:S}}),k(Nr,Se)}C||H(!1,ot)}},ie=Se=>{A||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Se.key)!==-1&&(Se.preventDefault(),H(!0,Se))},ce=Q!==null&&N,xe=Se=>{!ce&&P&&(Object.defineProperty(Se,"target",{writable:!0,value:{value:z,name:S}}),P(Se))};delete O["aria-invalid"];let ve,De;const Me=[];let Ne=!1;(sl({value:z})||m)&&(L?ve=L(z):Ne=!0);const wt=ne.map(Se=>{if(!h.isValidElement(Se))return null;let ot;if(C){if(!Array.isArray(z))throw new Error(wr(2));ot=z.some(xt=>om(xt,Se.props.value)),ot&&Ne&&Me.push(Se.props.children)}else ot=om(z,Se.props.value),ot&&Ne&&(De=Se.props.children);return h.cloneElement(Se,{"aria-selected":ot?"true":"false",onClick:Ee(Se),onKeyUp:xt=>{xt.key===" "&&xt.preventDefault(),Se.props.onKeyUp&&Se.props.onKeyUp(xt)},role:"option",selected:ot,value:void 0,"data-value":Se.props.value})});Ne&&(C?Me.length===0?ve=null:ve=Me.reduce((Se,ot,xt)=>(Se.push(ot),xt<Me.length-1&&Se.push(", "),Se),[]):ve=De);let At=le;!l&&U&&Q&&(At=K.clientWidth);let $t;typeof M<"u"?$t=M:$t=f?null:0;const Qe=R.id||(S?`mui-component-select-${S}`:void 0),Te=b({},t,{variant:I,value:z,open:ce,error:v}),Pt=WN(Te),kn=b({},w.PaperProps,(r=w.slotProps)==null?void 0:r.paper),Zt=_o();return o.jsxs(h.Fragment,{children:[o.jsx(LN,b({ref:ae,tabIndex:$t,role:"combobox","aria-controls":Zt,"aria-disabled":f?"true":void 0,"aria-expanded":ce?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[x,Qe].filter(Boolean).join(" ")||void 0,"aria-describedby":s,onKeyDown:ie,onMouseDown:f||A?null:F,onBlur:xe,onFocus:_},R,{ownerState:Te,className:re(R.className,Pt.select,d),id:Qe,children:BN(ve)?sm||(sm=o.jsx("span",{className:"notranslate",children:""})):ve})),o.jsx(zN,b({"aria-invalid":v,value:Array.isArray(z)?z.join(","):z,name:S,ref:V,"aria-hidden":!0,onChange:pe,tabIndex:-1,disabled:f,className:Pt.nativeInput,autoFocus:a,ownerState:Te},O)),o.jsx(FN,{as:g,className:Pt.icon,ownerState:Te}),o.jsx(mN,b({id:`menu-${S||""}`,anchorEl:K,open:ce,onClose:q,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},w,{MenuListProps:b({"aria-labelledby":x,role:"listbox","aria-multiselectable":C?"true":void 0,disableListWrap:!0,id:Zt},w.MenuListProps),slotProps:b({},w.slotProps,{paper:b({},kn,{style:b({minWidth:At},kn!=null?kn.style:null)})}),children:wt}))]})}),UN=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],VN=["root"],YN=e=>{const{classes:t}=e;return t},xp={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>gn(e)&&e!=="variant",slot:"Root"},GN=Y(mp,xp)(""),qN=Y(yp,xp)(""),KN=Y(fp,xp)(""),cr=h.forwardRef(function(t,n){const r=we({name:"MuiSelect",props:t}),{autoWidth:s=!1,children:i,classes:a={},className:l,defaultOpen:c=!1,displayEmpty:d=!1,IconComponent:u=bE,id:p,input:f,inputProps:m,label:v,labelId:g,MenuProps:y,multiple:x=!1,native:w=!1,onClose:C,onOpen:S,open:P,renderValue:k,SelectDisplayProps:T,variant:_="outlined"}=r,j=J(r,UN),E=w?_N:HN,A=dr(),L=Zr({props:r,muiFormControl:A,states:["variant","error"]}),R=L.variant||_,M=b({},r,{variant:R,classes:a}),D=YN(M),I=J(D,VN),O=f||{standard:o.jsx(GN,{ownerState:M}),outlined:o.jsx(qN,{label:v,ownerState:M}),filled:o.jsx(KN,{ownerState:M})}[R],z=vt(n,ks(O));return o.jsx(h.Fragment,{children:h.cloneElement(O,b({inputComponent:E,inputProps:b({children:i,error:L.error,IconComponent:u,variant:R,type:void 0,multiple:x},w?{id:p}:{autoWidth:s,defaultOpen:c,displayEmpty:d,labelId:g,MenuProps:y,onClose:C,onOpen:S,open:P,renderValue:k,SelectDisplayProps:b({id:p},T)},m,{classes:m?rn(I,m.classes):I},f?f.props.inputProps:{})},(x&&w||d)&&R==="outlined"?{notched:!0}:{},{ref:z,className:re(O.props.className,l,D.root)},!f&&{variant:R},j))})});cr.muiName="Select";function QN(e={}){const{autoHideDuration:t=null,disableWindowBlurListener:n=!1,onClose:r,open:s,resumeHideDuration:i}=e,a=Or();h.useEffect(()=>{if(!s)return;function x(w){w.defaultPrevented||(w.key==="Escape"||w.key==="Esc")&&(r==null||r(w,"escapeKeyDown"))}return document.addEventListener("keydown",x),()=>{document.removeEventListener("keydown",x)}},[s,r]);const l=Re((x,w)=>{r==null||r(x,w)}),c=Re(x=>{!r||x==null||a.start(x,()=>{l(null,"timeout")})});h.useEffect(()=>(s&&c(t),a.clear),[s,t,c,a]);const d=x=>{r==null||r(x,"clickaway")},u=a.clear,p=h.useCallback(()=>{t!=null&&c(i??t*.5)},[t,i,c]),f=x=>w=>{const C=x.onBlur;C==null||C(w),p()},m=x=>w=>{const C=x.onFocus;C==null||C(w),u()},v=x=>w=>{const C=x.onMouseEnter;C==null||C(w),u()},g=x=>w=>{const C=x.onMouseLeave;C==null||C(w),p()};return h.useEffect(()=>{if(!n&&s)return window.addEventListener("focus",p),window.addEventListener("blur",u),()=>{window.removeEventListener("focus",p),window.removeEventListener("blur",u)}},[n,s,p,u]),{getRootProps:(x={})=>{const w=b({},Wa(e),Wa(x));return b({role:"presentation"},x,w,{onBlur:f(w),onFocus:m(w),onMouseEnter:v(w),onMouseLeave:g(w)})},onClickAway:d}}function XN(e){return he("MuiSnackbarContent",e)}fe("MuiSnackbarContent",["root","message","action"]);const ZN=["action","className","message","role"],JN=e=>{const{classes:t}=e;return ge({root:["root"],action:["action"],message:["message"]},XN,t)},eD=Y(on,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>{const t=e.palette.mode==="light"?.8:.98,n=lw(e.palette.background.default,t);return b({},e.typography.body2,{color:e.vars?e.vars.palette.SnackbarContent.color:e.palette.getContrastText(n),backgroundColor:e.vars?e.vars.palette.SnackbarContent.bg:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,flexGrow:1,[e.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),tD=Y("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0"}),nD=Y("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),rD=h.forwardRef(function(t,n){const r=we({props:t,name:"MuiSnackbarContent"}),{action:s,className:i,message:a,role:l="alert"}=r,c=J(r,ZN),d=r,u=JN(d);return o.jsxs(eD,b({role:l,square:!0,elevation:6,className:re(u.root,i),ownerState:d,ref:n},c,{children:[o.jsx(tD,{className:u.message,ownerState:d,children:a}),s?o.jsx(nD,{className:u.action,ownerState:d,children:s}):null]}))});function sD(e){return he("MuiSnackbar",e)}fe("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const oD=["onEnter","onExited"],iD=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],aD=e=>{const{classes:t,anchorOrigin:n}=e,r={root:["root",`anchorOrigin${X(n.vertical)}${X(n.horizontal)}`]};return ge(r,sD,t)},im=Y("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`anchorOrigin${X(n.anchorOrigin.vertical)}${X(n.anchorOrigin.horizontal)}`]]}})(({theme:e,ownerState:t})=>{const n={left:"50%",right:"auto",transform:"translateX(-50%)"};return b({zIndex:(e.vars||e).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},t.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},t.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},t.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[e.breakpoints.up("sm")]:b({},t.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},t.anchorOrigin.horizontal==="center"&&n,t.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},t.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),nx=h.forwardRef(function(t,n){const r=we({props:t,name:"MuiSnackbar"}),s=Vn(),i={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{action:a,anchorOrigin:{vertical:l,horizontal:c}={vertical:"bottom",horizontal:"left"},autoHideDuration:d=null,children:u,className:p,ClickAwayListenerProps:f,ContentProps:m,disableWindowBlurListener:v=!1,message:g,open:y,TransitionComponent:x=Mi,transitionDuration:w=i,TransitionProps:{onEnter:C,onExited:S}={}}=r,P=J(r.TransitionProps,oD),k=J(r,iD),T=b({},r,{anchorOrigin:{vertical:l,horizontal:c},autoHideDuration:d,disableWindowBlurListener:v,TransitionComponent:x,transitionDuration:w}),_=aD(T),{getRootProps:j,onClickAway:E}=QN(b({},T)),[A,L]=h.useState(!0),R=Vr({elementType:im,getSlotProps:j,externalForwardedProps:k,ownerState:T,additionalProps:{ref:n},className:[_.root,p]}),M=I=>{L(!0),S&&S(I)},D=(I,O)=>{L(!1),C&&C(I,O)};return!y&&A?null:o.jsx(CP,b({onClickAway:E},f,{children:o.jsx(im,b({},R,{children:o.jsx(x,b({appear:!0,in:y,timeout:w,direction:l==="top"?"down":"up",onEnter:D,onExited:M},P,{children:u||o.jsx(rD,b({message:g,action:a},m))}))}))}))});function lD(e){return he("MuiTooltip",e)}const Fr=fe("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),cD=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function dD(e){return Math.round(e*1e5)/1e5}const uD=e=>{const{classes:t,disableInteractive:n,arrow:r,touch:s,placement:i}=e,a={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",s&&"touch",`tooltipPlacement${X(i.split("-")[0])}`],arrow:["arrow"]};return ge(a,lD,t)},pD=Y(Hy,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})(({theme:e,ownerState:t,open:n})=>b({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none"},!t.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},t.arrow&&{[`&[data-popper-placement*="bottom"] .${Fr.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Fr.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Fr.arrow}`]:b({},t.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${Fr.arrow}`]:b({},t.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),hD=Y("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t[`tooltipPlacement${X(n.placement.split("-")[0])}`]]}})(({theme:e,ownerState:t})=>b({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:ze(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},t.arrow&&{position:"relative",margin:0},t.touch&&{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${dD(16/14)}em`,fontWeight:e.typography.fontWeightRegular},{[`.${Fr.popper}[data-popper-placement*="left"] &`]:b({transformOrigin:"right center"},t.isRtl?b({marginLeft:"14px"},t.touch&&{marginLeft:"24px"}):b({marginRight:"14px"},t.touch&&{marginRight:"24px"})),[`.${Fr.popper}[data-popper-placement*="right"] &`]:b({transformOrigin:"left center"},t.isRtl?b({marginRight:"14px"},t.touch&&{marginRight:"24px"}):b({marginLeft:"14px"},t.touch&&{marginLeft:"24px"})),[`.${Fr.popper}[data-popper-placement*="top"] &`]:b({transformOrigin:"center bottom",marginBottom:"14px"},t.touch&&{marginBottom:"24px"}),[`.${Fr.popper}[data-popper-placement*="bottom"] &`]:b({transformOrigin:"center top",marginTop:"14px"},t.touch&&{marginTop:"24px"})})),fD=Y("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:ze(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let ha=!1;const am=new Bi;let Jo={x:0,y:0};function fa(e,t){return(n,...r)=>{t&&t(n,...r),e(n,...r)}}const lm=h.forwardRef(function(t,n){var r,s,i,a,l,c,d,u,p,f,m,v,g,y,x,w,C,S,P;const k=we({props:t,name:"MuiTooltip"}),{arrow:T=!1,children:_,components:j={},componentsProps:E={},describeChild:A=!1,disableFocusListener:L=!1,disableHoverListener:R=!1,disableInteractive:M=!1,disableTouchListener:D=!1,enterDelay:I=100,enterNextDelay:O=0,enterTouchDelay:z=700,followCursor:$=!1,id:N,leaveDelay:W=0,leaveTouchDelay:V=1500,onClose:G,onOpen:Q,open:oe,placement:U="bottom",PopperComponent:le,PopperProps:ee={},slotProps:Z={},slots:ae={},title:K,TransitionComponent:H=Mi,TransitionProps:F}=k,q=J(k,cD),ne=h.isValidElement(_)?_:o.jsx("span",{children:_}),pe=Vn(),Ee=_u(),[ie,ce]=h.useState(),[xe,ve]=h.useState(null),De=h.useRef(!1),Me=M||$,Ne=Or(),wt=Or(),At=Or(),$t=Or(),[Qe,Te]=ar({controlled:oe,default:!1,name:"Tooltip",state:"open"});let Pt=Qe;const kn=_o(N),Zt=h.useRef(),Se=Re(()=>{Zt.current!==void 0&&(document.body.style.WebkitUserSelect=Zt.current,Zt.current=void 0),$t.clear()});h.useEffect(()=>Se,[Se]);const ot=Le=>{am.clear(),ha=!0,Te(!0),Q&&!Pt&&Q(Le)},xt=Re(Le=>{am.start(800+W,()=>{ha=!1}),Te(!1),G&&Pt&&G(Le),Ne.start(pe.transitions.duration.shortest,()=>{De.current=!1})}),vn=Le=>{De.current&&Le.type!=="touchstart"||(ie&&ie.removeAttribute("title"),wt.clear(),At.clear(),I||ha&&O?wt.start(ha?O:I,()=>{ot(Le)}):ot(Le))},Nr=Le=>{wt.clear(),At.start(W,()=>{xt(Le)})},{isFocusVisibleRef:Es,onBlur:na,onFocus:$o,ref:Oo}=Yg(),[,Ps]=h.useState(!1),ra=Le=>{na(Le),Es.current===!1&&(Ps(!1),Nr(Le))},ft=Le=>{ie||ce(Le.currentTarget),$o(Le),Es.current===!0&&(Ps(!0),vn(Le))},yn=Le=>{De.current=!0;const xn=ne.props;xn.onTouchStart&&xn.onTouchStart(Le)},Jr=Le=>{yn(Le),At.clear(),Ne.clear(),Se(),Zt.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",$t.start(z,()=>{document.body.style.WebkitUserSelect=Zt.current,vn(Le)})},Yn=Le=>{ne.props.onTouchEnd&&ne.props.onTouchEnd(Le),Se(),At.start(V,()=>{xt(Le)})};h.useEffect(()=>{if(!Pt)return;function Le(xn){(xn.key==="Escape"||xn.key==="Esc")&&xt(xn)}return document.addEventListener("keydown",Le),()=>{document.removeEventListener("keydown",Le)}},[xt,Pt]);const Jx=vt(ks(ne),Oo,ce,n);!K&&K!==0&&(Pt=!1);const Sc=h.useRef(),eb=Le=>{const xn=ne.props;xn.onMouseMove&&xn.onMouseMove(Le),Jo={x:Le.clientX,y:Le.clientY},Sc.current&&Sc.current.update()},Lo={},kc=typeof K=="string";A?(Lo.title=!Pt&&kc&&!R?K:null,Lo["aria-describedby"]=Pt?kn:null):(Lo["aria-label"]=kc?K:null,Lo["aria-labelledby"]=Pt&&!kc?kn:null);const zn=b({},Lo,q,ne.props,{className:re(q.className,ne.props.className),onTouchStart:yn,ref:Jx},$?{onMouseMove:eb}:{}),Fo={};D||(zn.onTouchStart=Jr,zn.onTouchEnd=Yn),R||(zn.onMouseOver=fa(vn,zn.onMouseOver),zn.onMouseLeave=fa(Nr,zn.onMouseLeave),Me||(Fo.onMouseOver=vn,Fo.onMouseLeave=Nr)),L||(zn.onFocus=fa(ft,zn.onFocus),zn.onBlur=fa(ra,zn.onBlur),Me||(Fo.onFocus=ft,Fo.onBlur=ra));const tb=h.useMemo(()=>{var Le;let xn=[{name:"arrow",enabled:!!xe,options:{element:xe,padding:4}}];return(Le=ee.popperOptions)!=null&&Le.modifiers&&(xn=xn.concat(ee.popperOptions.modifiers)),b({},ee.popperOptions,{modifiers:xn})},[xe,ee]),zo=b({},k,{isRtl:Ee,arrow:T,disableInteractive:Me,placement:U,PopperComponentProp:le,touch:De.current}),_c=uD(zo),Ap=(r=(s=ae.popper)!=null?s:j.Popper)!=null?r:pD,$p=(i=(a=(l=ae.transition)!=null?l:j.Transition)!=null?a:H)!=null?i:Mi,Op=(c=(d=ae.tooltip)!=null?d:j.Tooltip)!=null?c:hD,Lp=(u=(p=ae.arrow)!=null?p:j.Arrow)!=null?u:fD,nb=Bs(Ap,b({},ee,(f=Z.popper)!=null?f:E.popper,{className:re(_c.popper,ee==null?void 0:ee.className,(m=(v=Z.popper)!=null?v:E.popper)==null?void 0:m.className)}),zo),rb=Bs($p,b({},F,(g=Z.transition)!=null?g:E.transition),zo),sb=Bs(Op,b({},(y=Z.tooltip)!=null?y:E.tooltip,{className:re(_c.tooltip,(x=(w=Z.tooltip)!=null?w:E.tooltip)==null?void 0:x.className)}),zo),ob=Bs(Lp,b({},(C=Z.arrow)!=null?C:E.arrow,{className:re(_c.arrow,(S=(P=Z.arrow)!=null?P:E.arrow)==null?void 0:S.className)}),zo);return o.jsxs(h.Fragment,{children:[h.cloneElement(ne,zn),o.jsx(Ap,b({as:le??Hy,placement:U,anchorEl:$?{getBoundingClientRect:()=>({top:Jo.y,left:Jo.x,right:Jo.x,bottom:Jo.y,width:0,height:0})}:ie,popperRef:Sc,open:ie?Pt:!1,id:kn,transition:!0},Fo,nb,{popperOptions:tb,children:({TransitionProps:Le})=>o.jsx($p,b({timeout:pe.transitions.duration.shorter},Le,rb,{children:o.jsxs(Op,b({},sb,{children:[K,T?o.jsx(Lp,b({},ob,{ref:ve})):null]}))}))}))]})}),Ji=h.createContext({}),dc=h.createContext({});function mD(e){return he("MuiStep",e)}fe("MuiStep",["root","horizontal","vertical","alternativeLabel","completed"]);const gD=["active","children","className","component","completed","disabled","expanded","index","last"],vD=e=>{const{classes:t,orientation:n,alternativeLabel:r,completed:s}=e;return ge({root:["root",n,r&&"alternativeLabel",s&&"completed"]},mD,t)},yD=Y("div",{name:"MuiStep",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.alternativeLabel&&t.alternativeLabel,n.completed&&t.completed]}})(({ownerState:e})=>b({},e.orientation==="horizontal"&&{paddingLeft:8,paddingRight:8},e.alternativeLabel&&{flex:1,position:"relative"})),Qc=h.forwardRef(function(t,n){const r=we({props:t,name:"MuiStep"}),{active:s,children:i,className:a,component:l="div",completed:c,disabled:d,expanded:u=!1,index:p,last:f}=r,m=J(r,gD),{activeStep:v,connector:g,alternativeLabel:y,orientation:x,nonLinear:w}=h.useContext(Ji);let[C=!1,S=!1,P=!1]=[s,c,d];v===p?C=s!==void 0?s:!0:!w&&v>p?S=c!==void 0?c:!0:!w&&v<p&&(P=d!==void 0?d:!0);const k=h.useMemo(()=>({index:p,last:f,expanded:u,icon:p+1,active:C,completed:S,disabled:P}),[p,f,u,C,S,P]),T=b({},r,{active:C,orientation:x,alternativeLabel:y,completed:S,disabled:P,expanded:u,component:l}),_=vD(T),j=o.jsxs(yD,b({as:l,className:re(_.root,a),ref:n,ownerState:T},m,{children:[g&&y&&p!==0?g:null,i]}));return o.jsx(dc.Provider,{value:k,children:g&&!y&&p!==0?o.jsxs(h.Fragment,{children:[g,j]}):j})}),xD=ue(o.jsx("path",{d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"}),"CheckCircle"),bD=ue(o.jsx("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning");function CD(e){return he("MuiStepIcon",e)}const Xc=fe("MuiStepIcon",["root","active","completed","error","text"]);var cm;const wD=["active","className","completed","error","icon"],jD=e=>{const{classes:t,active:n,completed:r,error:s}=e;return ge({root:["root",n&&"active",r&&"completed",s&&"error"],text:["text"]},CD,t)},Zc=Y(el,{name:"MuiStepIcon",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({display:"block",transition:e.transitions.create("color",{duration:e.transitions.duration.shortest}),color:(e.vars||e).palette.text.disabled,[`&.${Xc.completed}`]:{color:(e.vars||e).palette.primary.main},[`&.${Xc.active}`]:{color:(e.vars||e).palette.primary.main},[`&.${Xc.error}`]:{color:(e.vars||e).palette.error.main}})),SD=Y("text",{name:"MuiStepIcon",slot:"Text",overridesResolver:(e,t)=>t.text})(({theme:e})=>({fill:(e.vars||e).palette.primary.contrastText,fontSize:e.typography.caption.fontSize,fontFamily:e.typography.fontFamily})),kD=h.forwardRef(function(t,n){const r=we({props:t,name:"MuiStepIcon"}),{active:s=!1,className:i,completed:a=!1,error:l=!1,icon:c}=r,d=J(r,wD),u=b({},r,{active:s,completed:a,error:l}),p=jD(u);if(typeof c=="number"||typeof c=="string"){const f=re(i,p.root);return l?o.jsx(Zc,b({as:bD,className:f,ref:n,ownerState:u},d)):a?o.jsx(Zc,b({as:xD,className:f,ref:n,ownerState:u},d)):o.jsxs(Zc,b({className:f,ref:n,ownerState:u},d,{children:[cm||(cm=o.jsx("circle",{cx:"12",cy:"12",r:"12"})),o.jsx(SD,{className:p.text,x:"12",y:"12",textAnchor:"middle",dominantBaseline:"central",ownerState:u,children:c})]}))}return c});function _D(e){return he("MuiStepLabel",e)}const zr=fe("MuiStepLabel",["root","horizontal","vertical","label","active","completed","error","disabled","iconContainer","alternativeLabel","labelContainer"]),TD=["children","className","componentsProps","error","icon","optional","slotProps","StepIconComponent","StepIconProps"],ED=e=>{const{classes:t,orientation:n,active:r,completed:s,error:i,disabled:a,alternativeLabel:l}=e;return ge({root:["root",n,i&&"error",a&&"disabled",l&&"alternativeLabel"],label:["label",r&&"active",s&&"completed",i&&"error",a&&"disabled",l&&"alternativeLabel"],iconContainer:["iconContainer",r&&"active",s&&"completed",i&&"error",a&&"disabled",l&&"alternativeLabel"],labelContainer:["labelContainer",l&&"alternativeLabel"]},_D,t)},PD=Y("span",{name:"MuiStepLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation]]}})(({ownerState:e})=>b({display:"flex",alignItems:"center",[`&.${zr.alternativeLabel}`]:{flexDirection:"column"},[`&.${zr.disabled}`]:{cursor:"default"}},e.orientation==="vertical"&&{textAlign:"left",padding:"8px 0"})),MD=Y("span",{name:"MuiStepLabel",slot:"Label",overridesResolver:(e,t)=>t.label})(({theme:e})=>b({},e.typography.body2,{display:"block",transition:e.transitions.create("color",{duration:e.transitions.duration.shortest}),[`&.${zr.active}`]:{color:(e.vars||e).palette.text.primary,fontWeight:500},[`&.${zr.completed}`]:{color:(e.vars||e).palette.text.primary,fontWeight:500},[`&.${zr.alternativeLabel}`]:{marginTop:16},[`&.${zr.error}`]:{color:(e.vars||e).palette.error.main}})),ID=Y("span",{name:"MuiStepLabel",slot:"IconContainer",overridesResolver:(e,t)=>t.iconContainer})(()=>({flexShrink:0,display:"flex",paddingRight:8,[`&.${zr.alternativeLabel}`]:{paddingRight:0}})),ND=Y("span",{name:"MuiStepLabel",slot:"LabelContainer",overridesResolver:(e,t)=>t.labelContainer})(({theme:e})=>({width:"100%",color:(e.vars||e).palette.text.secondary,[`&.${zr.alternativeLabel}`]:{textAlign:"center"}})),Aa=h.forwardRef(function(t,n){var r;const s=we({props:t,name:"MuiStepLabel"}),{children:i,className:a,componentsProps:l={},error:c=!1,icon:d,optional:u,slotProps:p={},StepIconComponent:f,StepIconProps:m}=s,v=J(s,TD),{alternativeLabel:g,orientation:y}=h.useContext(Ji),{active:x,disabled:w,completed:C,icon:S}=h.useContext(dc),P=d||S;let k=f;P&&!k&&(k=kD);const T=b({},s,{active:x,alternativeLabel:g,completed:C,disabled:w,error:c,orientation:y}),_=ED(T),j=(r=p.label)!=null?r:l.label;return o.jsxs(PD,b({className:re(_.root,a),ref:n,ownerState:T},v,{children:[P||k?o.jsx(ID,{className:_.iconContainer,ownerState:T,children:o.jsx(k,b({completed:C,active:x,error:c,icon:P},m))}):null,o.jsxs(ND,{className:_.labelContainer,ownerState:T,children:[i?o.jsx(MD,b({ownerState:T},j,{className:re(_.label,j==null?void 0:j.className),children:i})):null,u]})]}))});Aa.muiName="StepLabel";function DD(e){return he("MuiStepConnector",e)}fe("MuiStepConnector",["root","horizontal","vertical","alternativeLabel","active","completed","disabled","line","lineHorizontal","lineVertical"]);const RD=["className"],AD=e=>{const{classes:t,orientation:n,alternativeLabel:r,active:s,completed:i,disabled:a}=e,l={root:["root",n,r&&"alternativeLabel",s&&"active",i&&"completed",a&&"disabled"],line:["line",`line${X(n)}`]};return ge(l,DD,t)},$D=Y("div",{name:"MuiStepConnector",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.alternativeLabel&&t.alternativeLabel,n.completed&&t.completed]}})(({ownerState:e})=>b({flex:"1 1 auto"},e.orientation==="vertical"&&{marginLeft:12},e.alternativeLabel&&{position:"absolute",top:12,left:"calc(-50% + 20px)",right:"calc(50% + 20px)"})),OD=Y("span",{name:"MuiStepConnector",slot:"Line",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.line,t[`line${X(n.orientation)}`]]}})(({ownerState:e,theme:t})=>{const n=t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[600];return b({display:"block",borderColor:t.vars?t.vars.palette.StepConnector.border:n},e.orientation==="horizontal"&&{borderTopStyle:"solid",borderTopWidth:1},e.orientation==="vertical"&&{borderLeftStyle:"solid",borderLeftWidth:1,minHeight:24})}),LD=h.forwardRef(function(t,n){const r=we({props:t,name:"MuiStepConnector"}),{className:s}=r,i=J(r,RD),{alternativeLabel:a,orientation:l="horizontal"}=h.useContext(Ji),{active:c,disabled:d,completed:u}=h.useContext(dc),p=b({},r,{alternativeLabel:a,orientation:l,active:c,completed:u,disabled:d}),f=AD(p);return o.jsx($D,b({className:re(f.root,s),ref:n,ownerState:p},i,{children:o.jsx(OD,{className:f.line,ownerState:p})}))});function FD(e){return he("MuiStepContent",e)}fe("MuiStepContent",["root","last","transition"]);const zD=["children","className","TransitionComponent","transitionDuration","TransitionProps"],BD=e=>{const{classes:t,last:n}=e;return ge({root:["root",n&&"last"],transition:["transition"]},FD,t)},WD=Y("div",{name:"MuiStepContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.last&&t.last]}})(({ownerState:e,theme:t})=>b({marginLeft:12,paddingLeft:20,paddingRight:8,borderLeft:t.vars?`1px solid ${t.vars.palette.StepContent.border}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[600]}`},e.last&&{borderLeft:"none"})),HD=Y(sp,{name:"MuiStepContent",slot:"Transition",overridesResolver:(e,t)=>t.transition})({}),Jc=h.forwardRef(function(t,n){const r=we({props:t,name:"MuiStepContent"}),{children:s,className:i,TransitionComponent:a=sp,transitionDuration:l="auto",TransitionProps:c}=r,d=J(r,zD),{orientation:u}=h.useContext(Ji),{active:p,last:f,expanded:m}=h.useContext(dc),v=b({},r,{last:f}),g=BD(v);let y=l;return l==="auto"&&!a.muiSupportAuto&&(y=void 0),o.jsx(WD,b({className:re(g.root,i),ref:n,ownerState:v},d,{children:o.jsx(HD,b({as:a,in:p||m,className:g.transition,ownerState:v,timeout:y,unmountOnExit:!0},c,{children:s}))}))});function UD(e){return he("MuiStepper",e)}fe("MuiStepper",["root","horizontal","vertical","nonLinear","alternativeLabel"]);const VD=["activeStep","alternativeLabel","children","className","component","connector","nonLinear","orientation"],YD=e=>{const{orientation:t,nonLinear:n,alternativeLabel:r,classes:s}=e;return ge({root:["root",t,n&&"nonLinear",r&&"alternativeLabel"]},UD,s)},GD=Y("div",{name:"MuiStepper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.alternativeLabel&&t.alternativeLabel,n.nonLinear&&t.nonLinear]}})(({ownerState:e})=>b({display:"flex"},e.orientation==="horizontal"&&{flexDirection:"row",alignItems:"center"},e.orientation==="vertical"&&{flexDirection:"column"},e.alternativeLabel&&{alignItems:"flex-start"})),qD=o.jsx(LD,{}),KD=h.forwardRef(function(t,n){const r=we({props:t,name:"MuiStepper"}),{activeStep:s=0,alternativeLabel:i=!1,children:a,className:l,component:c="div",connector:d=qD,nonLinear:u=!1,orientation:p="horizontal"}=r,f=J(r,VD),m=b({},r,{nonLinear:u,alternativeLabel:i,orientation:p,component:c}),v=YD(m),g=h.Children.toArray(a).filter(Boolean),y=g.map((w,C)=>h.cloneElement(w,b({index:C,last:C+1===g.length},w.props))),x=h.useMemo(()=>({activeStep:s,alternativeLabel:i,connector:d,nonLinear:u,orientation:p}),[s,i,d,u,p]);return o.jsx(Ji.Provider,{value:x,children:o.jsx(GD,b({as:c,ownerState:m,className:re(v.root,l),ref:n},f,{children:y}))})});function QD(e){return he("MuiSwitch",e)}const en=fe("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),XD=["className","color","edge","size","sx"],ZD=e=>{const{classes:t,edge:n,size:r,color:s,checked:i,disabled:a}=e,l={root:["root",n&&`edge${X(n)}`,`size${X(r)}`],switchBase:["switchBase",`color${X(s)}`,i&&"checked",a&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},c=ge(l,QD,t);return b({},t,c)},JD=Y("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.edge&&t[`edge${X(n.edge)}`],t[`size${X(n.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${en.thumb}`]:{width:16,height:16},[`& .${en.switchBase}`]:{padding:4,[`&.${en.checked}`]:{transform:"translateX(16px)"}}}}]}),eR=Y(Yy,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.switchBase,{[`& .${en.input}`]:t.input},n.color!=="default"&&t[`color${X(n.color)}`]]}})(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${en.checked}`]:{transform:"translateX(20px)"},[`&.${en.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${en.checked} + .${en.track}`]:{opacity:.5},[`&.${en.disabled} + .${en.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${en.input}`]:{left:"-100%",width:"300%"}}),({theme:e})=>({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:ze(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(e.palette).filter(([,t])=>t.main&&t.light).map(([t])=>({props:{color:t},style:{[`&.${en.checked}`]:{color:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ze(e.palette[t].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${en.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t}DisabledColor`]:`${e.palette.mode==="light"?io(e.palette[t].main,.62):oo(e.palette[t].main,.55)}`}},[`&.${en.checked} + .${en.track}`]:{backgroundColor:(e.vars||e).palette[t].main}}}))]})),tR=Y("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`})),nR=Y("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),Xs=h.forwardRef(function(t,n){const r=we({props:t,name:"MuiSwitch"}),{className:s,color:i="primary",edge:a=!1,size:l="medium",sx:c}=r,d=J(r,XD),u=b({},r,{color:i,edge:a,size:l}),p=ZD(u),f=o.jsx(nR,{className:p.thumb,ownerState:u});return o.jsxs(JD,{className:re(p.root,s),sx:c,ownerState:u,children:[o.jsx(eR,b({type:"checkbox",icon:f,checkedIcon:f,ref:n,ownerState:u},d,{classes:b({},p,{root:p.switchBase})})),o.jsx(tR,{className:p.track,ownerState:u})]})}),rx=h.createContext();function rR(e){return he("MuiTable",e)}fe("MuiTable",["root","stickyHeader"]);const sR=["className","component","padding","size","stickyHeader"],oR=e=>{const{classes:t,stickyHeader:n}=e;return ge({root:["root",n&&"stickyHeader"]},rR,t)},iR=Y("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>b({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":b({},e.typography.body2,{padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},t.stickyHeader&&{borderCollapse:"separate"})),dm="table",uc=h.forwardRef(function(t,n){const r=we({props:t,name:"MuiTable"}),{className:s,component:i=dm,padding:a="normal",size:l="medium",stickyHeader:c=!1}=r,d=J(r,sR),u=b({},r,{component:i,padding:a,size:l,stickyHeader:c}),p=oR(u),f=h.useMemo(()=>({padding:a,size:l,stickyHeader:c}),[a,l,c]);return o.jsx(rx.Provider,{value:f,children:o.jsx(iR,b({as:i,role:i===dm?null:"table",ref:n,className:re(p.root,s),ownerState:u},d))})}),pc=h.createContext();function aR(e){return he("MuiTableBody",e)}fe("MuiTableBody",["root"]);const lR=["className","component"],cR=e=>{const{classes:t}=e;return ge({root:["root"]},aR,t)},dR=Y("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),uR={variant:"body"},um="tbody",hc=h.forwardRef(function(t,n){const r=we({props:t,name:"MuiTableBody"}),{className:s,component:i=um}=r,a=J(r,lR),l=b({},r,{component:i}),c=cR(l);return o.jsx(pc.Provider,{value:uR,children:o.jsx(dR,b({className:re(c.root,s),as:i,ref:n,role:i===um?null:"rowgroup",ownerState:l},a))})});function pR(e){return he("MuiTableCell",e)}const hR=fe("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),fR=["align","className","component","padding","scope","size","sortDirection","variant"],mR=e=>{const{classes:t,variant:n,align:r,padding:s,size:i,stickyHeader:a}=e,l={root:["root",n,a&&"stickyHeader",r!=="inherit"&&`align${X(r)}`,s!=="normal"&&`padding${X(s)}`,`size${X(i)}`]};return ge(l,pR,t)},gR=Y("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${X(n.size)}`],n.padding!=="normal"&&t[`padding${X(n.padding)}`],n.align!=="inherit"&&t[`align${X(n.align)}`],n.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>b({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?io(ze(e.palette.divider,1),.88):oo(ze(e.palette.divider,1),.68)}`,textAlign:"left",padding:16},t.variant==="head"&&{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},t.variant==="body"&&{color:(e.vars||e).palette.text.primary},t.variant==="footer"&&{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},t.size==="small"&&{padding:"6px 16px",[`&.${hR.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},t.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},t.padding==="none"&&{padding:0},t.align==="left"&&{textAlign:"left"},t.align==="center"&&{textAlign:"center"},t.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},t.align==="justify"&&{textAlign:"justify"},t.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default})),Be=h.forwardRef(function(t,n){const r=we({props:t,name:"MuiTableCell"}),{align:s="inherit",className:i,component:a,padding:l,scope:c,size:d,sortDirection:u,variant:p}=r,f=J(r,fR),m=h.useContext(rx),v=h.useContext(pc),g=v&&v.variant==="head";let y;a?y=a:y=g?"th":"td";let x=c;y==="td"?x=void 0:!x&&g&&(x="col");const w=p||v&&v.variant,C=b({},r,{align:s,component:y,padding:l||(m&&m.padding?m.padding:"normal"),size:d||(m&&m.size?m.size:"medium"),sortDirection:u,stickyHeader:w==="head"&&m&&m.stickyHeader,variant:w}),S=mR(C);let P=null;return u&&(P=u==="asc"?"ascending":"descending"),o.jsx(gR,b({as:y,ref:n,className:re(S.root,i),"aria-sort":P,scope:x,ownerState:C},f))});function vR(e){return he("MuiTableContainer",e)}fe("MuiTableContainer",["root"]);const yR=["className","component"],xR=e=>{const{classes:t}=e;return ge({root:["root"]},vR,t)},bR=Y("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),fc=h.forwardRef(function(t,n){const r=we({props:t,name:"MuiTableContainer"}),{className:s,component:i="div"}=r,a=J(r,yR),l=b({},r,{component:i}),c=xR(l);return o.jsx(bR,b({ref:n,as:i,className:re(c.root,s),ownerState:l},a))});function CR(e){return he("MuiTableHead",e)}fe("MuiTableHead",["root"]);const wR=["className","component"],jR=e=>{const{classes:t}=e;return ge({root:["root"]},CR,t)},SR=Y("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),kR={variant:"head"},pm="thead",mc=h.forwardRef(function(t,n){const r=we({props:t,name:"MuiTableHead"}),{className:s,component:i=pm}=r,a=J(r,wR),l=b({},r,{component:i}),c=jR(l);return o.jsx(pc.Provider,{value:kR,children:o.jsx(SR,b({as:i,className:re(c.root,s),ref:n,role:i===pm?null:"rowgroup",ownerState:l},a))})});function _R(e){return he("MuiTableRow",e)}const hm=fe("MuiTableRow",["root","selected","hover","head","footer"]),TR=["className","component","hover","selected"],ER=e=>{const{classes:t,selected:n,hover:r,head:s,footer:i}=e;return ge({root:["root",n&&"selected",r&&"hover",s&&"head",i&&"footer"]},_R,t)},PR=Y("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.head&&t.head,n.footer&&t.footer]}})(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${hm.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${hm.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:ze(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:ze(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}})),fm="tr",qr=h.forwardRef(function(t,n){const r=we({props:t,name:"MuiTableRow"}),{className:s,component:i=fm,hover:a=!1,selected:l=!1}=r,c=J(r,TR),d=h.useContext(pc),u=b({},r,{component:i,hover:a,selected:l,head:d&&d.variant==="head",footer:d&&d.variant==="footer"}),p=ER(u);return o.jsx(PR,b({as:i,ref:n,className:re(p.root,s),role:i===fm?null:"row",ownerState:u},c))});function MR(e){return he("MuiTextField",e)}fe("MuiTextField",["root"]);const IR=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],NR={standard:mp,filled:fp,outlined:yp},DR=e=>{const{classes:t}=e;return ge({root:["root"]},MR,t)},RR=Y(ir,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Ye=h.forwardRef(function(t,n){const r=we({props:t,name:"MuiTextField"}),{autoComplete:s,autoFocus:i=!1,children:a,className:l,color:c="primary",defaultValue:d,disabled:u=!1,error:p=!1,FormHelperTextProps:f,fullWidth:m=!1,helperText:v,id:g,InputLabelProps:y,inputProps:x,InputProps:w,inputRef:C,label:S,maxRows:P,minRows:k,multiline:T=!1,name:_,onBlur:j,onChange:E,onFocus:A,placeholder:L,required:R=!1,rows:M,select:D=!1,SelectProps:I,type:O,value:z,variant:$="outlined"}=r,N=J(r,IR),W=b({},r,{autoFocus:i,color:c,disabled:u,error:p,fullWidth:m,multiline:T,required:R,select:D,variant:$}),V=DR(W),G={};$==="outlined"&&(y&&typeof y.shrink<"u"&&(G.notched=y.shrink),G.label=S),D&&((!I||!I.native)&&(G.id=void 0),G["aria-describedby"]=void 0);const Q=_o(g),oe=v&&Q?`${Q}-helper-text`:void 0,U=S&&Q?`${Q}-label`:void 0,le=NR[$],ee=o.jsx(le,b({"aria-describedby":oe,autoComplete:s,autoFocus:i,defaultValue:d,fullWidth:m,multiline:T,name:_,rows:M,maxRows:P,minRows:k,type:O,value:z,id:Q,inputRef:C,onBlur:j,onChange:E,onFocus:A,placeholder:L,inputProps:x},G,w));return o.jsxs(RR,b({className:re(V.root,l),disabled:u,error:p,fullWidth:m,ref:n,required:R,color:c,variant:$,ownerState:W},N,{children:[S!=null&&S!==""&&o.jsx(Tr,b({htmlFor:Q,id:U},y,{children:S})),D?o.jsx(cr,b({"aria-describedby":oe,id:Q,labelId:U,value:z,input:ee},I,{children:a})):ee,v&&o.jsx($M,b({id:oe},f,{children:v}))]}))});function AR({children:e}){const{user:t,admin:n,loading:r}=Ht();return console.log(" ProtectedRoute check:",{user:(t==null?void 0:t.email)||"no user",admin:(n==null?void 0:n.email)||"no admin",loading:r}),r?o.jsx(te,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",children:o.jsx(hn,{})}):!t||!n?(console.log(" Access denied, redirecting to login"),o.jsx(Sa,{to:"/login",replace:!0})):o.jsx(o.Fragment,{children:e})}const $R=ue(o.jsx("path",{d:"M4 10h3v7H4zm6.5 0h3v7h-3zM2 19h20v3H2zm15-9h3v7h-3zm-5-9L2 6v2h20V6z"}),"AccountBalance"),sx=ue(o.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle"),ea=ue(o.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),OR=ue(o.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-5h2zm4 0h-2v-3h2zm0-5h-2v-2h2zm4 5h-2V7h2z"}),"Analytics"),mm=ue(o.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),LR=ue(o.jsx("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8z"}),"ArrowDownward"),FR=ue(o.jsx("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8z"}),"ArrowUpward"),vo=ue(o.jsx("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4"}),"AttachMoney"),Bd=ue(o.jsx("path",{d:"M12 7V3H2v18h20V7zM6 19H4v-2h2zm0-4H4v-2h2zm0-4H4V9h2zm0-4H4V5h2zm4 12H8v-2h2zm0-4H8v-2h2zm0-4H8V9h2zm0-4H8V5h2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8zm-2-8h-2v2h2zm0 4h-2v2h2z"}),"Business"),bp=ue(o.jsx("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 16H5V10h14zM9 14H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2zm-8 4H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2z"}),"CalendarMonth"),zR=ue(o.jsx("path",{d:"M18 11v2h4v-2zm-2 6.61c.96.71 2.21 1.65 3.2 2.39.4-.53.8-1.07 1.2-1.6-.99-.74-2.24-1.68-3.2-2.4-.4.54-.8 1.08-1.2 1.61M20.4 5.6c-.4-.53-.8-1.07-1.2-1.6-.99.74-2.24 1.68-3.2 2.4.4.53.8 1.07 1.2 1.6.96-.72 2.21-1.65 3.2-2.4M4 9c-1.1 0-2 .9-2 2v2c0 1.1.9 2 2 2h1v4h2v-4h1l5 3V6L8 9zm11.5 3c0-1.33-.58-2.53-1.5-3.35v6.69c.92-.81 1.5-2.01 1.5-3.34"}),"Campaign"),al=ue(o.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel"),Wd=ue(o.jsx("path",{d:"M20 2H4c-1.11 0-2 .89-2 2v11c0 1.11.89 2 2 2h4v5l4-2 4 2v-5h4c1.11 0 2-.89 2-2V4c0-1.11-.89-2-2-2m0 13H4v-2h16zm0-5H4V4h16z"}),"CardMembership"),is=ue(o.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),Cp=ue(o.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),BR=ue(o.jsx("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft"),WR=ue(o.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight"),wp=ue(o.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),ox=ue(o.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy"),Hd=ue(o.jsx("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4v-6h16zm0-10H4V6h16z"}),"CreditCard"),HR=ue(o.jsx("path",{d:"M3 13h8V3H3zm0 8h8v-6H3zm10 0h8V11h-8zm0-18v6h8V3z"}),"Dashboard"),bs=ue(o.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),Ii=ue(o.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),Ud=ue(o.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email"),UR=ue(o.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"ErrorOutline"),VR=ue(o.jsx("path",{d:"M10.09 15.59 11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"ExitToApp"),YR=ue(o.jsx("path",{d:"M19 9h-4V3H9v6H5l7 7zM5 18v2h14v-2z"}),"FileDownload"),GR=ue(o.jsx("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"}),"FilterList"),qR=ue(o.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"}),"History"),gm=ue(o.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info"),KR=ue(o.jsx("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),"Link"),QR=ue(o.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"}),"LocationOn"),XR=ue(o.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l4 4 4-4H6c0-3.86 3.14-7 7-7s7 3.14 7 7-3.14 7-7 7c-1.9 0-3.62-.76-4.88-1.99L6.7 18.42C8.32 20.01 10.55 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m2 8v-1c0-1.1-.9-2-2-2s-2 .9-2 2v1c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-3c0-.55-.45-1-1-1m-1 0h-2v-1c0-.55.45-1 1-1s1 .45 1 1z"}),"LockReset"),ZR=ue(o.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),ix=ue(o.jsx("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1z"}),"Notifications"),gi=ue(o.jsx("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4v-6h16zm0-10H4V6h16z"}),"Payment"),jp=ue(o.jsx("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"People"),JR=ue(o.jsx("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02z"}),"Phone"),eA=ue(o.jsx("path",{d:"M16 1H8C6.34 1 5 2.34 5 4v16c0 1.66 1.34 3 3 3h8c1.66 0 3-1.34 3-3V4c0-1.66-1.34-3-3-3m-2 20h-4v-1h4zm3.25-3H6.75V4h10.5z"}),"PhoneAndroid"),tA=ue(o.jsx("path",{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3m-3 11H8v-5h8zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m-1-9H6v4h12z"}),"Print"),nA=ue(o.jsx("path",{d:"M3 11h8V3H3zm2-6h4v4H5zM3 21h8v-8H3zm2-6h4v4H5zm8-12v8h8V3zm6 6h-4V5h4zm0 10h2v2h-2zm-6-6h2v2h-2zm2 2h2v2h-2zm-2 2h2v2h-2zm2 2h2v2h-2zm2-2h2v2h-2zm0-4h2v2h-2zm2 2h2v2h-2z"}),"QrCode"),Sp=ue(o.jsx("path",{d:"M15 21h-2v-2h2zm-2-7h-2v5h2zm8-2h-2v4h2zm-2-2h-2v2h2zM7 12H5v2h2zm-2-2H3v2h2zm7-5h2V3h-2zm-7.5-.5v3h3v-3zM9 9H3V3h6zm-4.5 7.5v3h3v-3zM9 21H3v-6h6zm7.5-16.5v3h3v-3zM21 9h-6V3h6zm-2 10v-3h-4v2h2v3h4v-2zm-2-7h-4v2h4zm-4-2H7v2h2v2h2v-2h2zm1-1V7h-2V5h-2v4zM6.75 5.25h-1.5v1.5h1.5zm0 12h-1.5v1.5h1.5zm12-12h-1.5v1.5h1.5z"}),"QrCode2"),ax=ue(o.jsx("path",{d:"M18 17H6v-2h12zm0-4H6v-2h12zm0-4H6V7h12zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2z"}),"Receipt"),rA=ue(o.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh"),Vd=ue(o.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save"),sA=ue(o.jsx("path",{d:"M19.8 18.4 14 10.67V6.5l1.35-1.69c.26-.33.03-.81-.39-.81H9.04c-.42 0-.65.48-.39.81L10 6.5v4.17L4.2 18.4c-.49.66-.02 1.6.8 1.6h14c.82 0 1.29-.94.8-1.6"}),"Science"),kp=ue(o.jsx("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11z"}),"Security"),Yd=ue(o.jsx("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send"),_p=ue(o.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),lx=ue(o.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92"}),"Share"),cx=ue(o.jsx("path",{d:"M19.52 2.49C17.18.15 12.9.62 9.97 3.55c-1.6 1.6-2.52 3.87-2.54 5.46-.02 1.58.26 3.89-1.35 5.5l-4.24 4.24 1.42 1.42 4.24-4.24c1.61-1.61 3.92-1.33 5.5-1.35s3.86-.94 5.46-2.54c2.92-2.93 3.4-7.21 1.06-9.55m-9.2 9.19c-1.53-1.53-1.05-4.61 1.06-6.72s5.18-2.59 6.72-1.06c1.53 1.53 1.05 4.61-1.06 6.72s-5.18 2.59-6.72 1.06M18 17c.53 0 1.04.21 1.41.59.78.78.78 2.05 0 2.83-.37.37-.88.58-1.41.58s-1.04-.21-1.41-.59c-.78-.78-.78-2.05 0-2.83.37-.37.88-.58 1.41-.58m0-2c-1.02 0-2.05.39-2.83 1.17-1.56 1.56-1.56 4.09 0 5.66.78.78 1.81 1.17 2.83 1.17s2.05-.39 2.83-1.17c1.56-1.56 1.56-4.09 0-5.66C20.05 15.39 19.02 15 18 15"}),"SportsTennis"),oA=ue(o.jsx("path",{d:"M2 20h20v-4H2zm2-3h2v2H4zM2 4v4h20V4zm4 3H4V5h2zm-4 7h20v-4H2zm2-3h2v2H4z"}),"Storage"),iA=ue(o.jsx("path",{d:"M20 4H4v2h16zm1 10v-2l-1-5H4l-1 5v2h1v6h10v-6h4v6h2v-6zm-9 4H6v-4h6z"}),"Store"),aA=ue(o.jsx("path",{d:"M16.5 12c1.38 0 2.49-1.12 2.49-2.5S17.88 7 16.5 7C15.12 7 14 8.12 14 9.5s1.12 2.5 2.5 2.5M9 11c1.66 0 2.99-1.34 2.99-3S10.66 5 9 5C7.34 5 6 6.34 6 8s1.34 3 3 3m7.5 3c-1.83 0-5.5.92-5.5 2.75V19h11v-2.25c0-1.83-3.67-2.75-5.5-2.75M9 13c-2.33 0-7 1.17-7 3.5V19h7v-2.25c0-.85.33-2.34 2.37-3.47C10.5 13.1 9.66 13 9 13"}),"SupervisorAccount"),Gd=ue(o.jsx("path",{d:"M9 1h6v2H9zm10.03 6.39 1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42C16.07 4.74 14.12 4 12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9 9-4.03 9-9c0-2.12-.74-4.07-1.97-5.61M13 14h-2V8h2z"}),"Timer"),gc=ue(o.jsx("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp"),lA=ue(o.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),cA=ue(o.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff"),ll=ue(o.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning"),dA=ue(o.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m-5 14H4v-4h11zm0-5H4V9h11zm5 5h-4V9h4z"}),"Web"),an=()=>{const{admin:e}=Ht(),t=f=>e?e.role==="superadmin"?!0:Array.isArray(f)?f.some(m=>e.permissions.includes(m)):e.permissions.includes(f):!1;return{hasPermission:t,hasAllPermissions:f=>e?e.role==="superadmin"?!0:f.every(m=>e.permissions.includes(m)):!1,hasRole:f=>e?Array.isArray(f)?f.includes(e.role):e.role===f:!1,canAccessVenue:f=>e?e.role==="superadmin"?!0:e.venueId===f:!1,canManageAdmins:()=>t("manage_admins"),canManageAllVenues:()=>t("manage_all_venues"),canViewFinance:()=>t(["manage_finance","view_reports"]),canManageBookings:()=>t(["manage_bookings","manage_all_bookings"]),canManageCourts:()=>t(["manage_courts","manage_all_venues"]),canManageClub:()=>t(["manage_club","manage_all_venues"]),canViewReports:()=>t(["view_reports","view_all_reports"]),permissions:(e==null?void 0:e.permissions)||[],role:(e==null?void 0:e.role)||null,isSuperAdmin:(e==null?void 0:e.role)==="superadmin",isAdmin:(e==null?void 0:e.role)==="admin",isManager:(e==null?void 0:e.role)==="manager"}};function qd({size:e=60,backgroundColor:t="#00A86B",courtColor:n="white",className:r}){return o.jsxs("svg",{viewBox:"0 0 120 120",xmlns:"http://www.w3.org/2000/svg",width:e,height:e,className:r,children:[o.jsx("rect",{x:"0",y:"0",width:"120",height:"120",rx:"24",fill:t}),o.jsx("rect",{x:"20",y:"20",width:"80",height:"80",rx:"8",fill:"none",stroke:n,strokeWidth:"3"}),o.jsx("line",{x1:"20",y1:"60",x2:"100",y2:"60",stroke:n,strokeWidth:"3"}),o.jsx("line",{x1:"60",y1:"20",x2:"60",y2:"100",stroke:n,strokeWidth:"3"})]})}function Kd(){var x;const e=Xt(),t=lb(),{club:n,logout:r,admin:s}=Ht(),{hasPermission:i,hasRole:a,isSuperAdmin:l,canViewFinance:c,canManageClub:d}=an(),[u,p]=h.useState(!1),f=[{path:"/admin/dashboard",label:"",icon:o.jsx(HR,{})},{path:"/admin/bookings",label:"",icon:o.jsx(bp,{}),permission:["manage_bookings","manage_all_bookings","view_bookings"]},...l?[{path:"/admin/venues",label:" ",icon:o.jsx(iA,{})},{path:"/admin/billing-settings",label:" ",icon:o.jsx(gi,{})},{path:"/admin/admins",label:"",icon:o.jsx(aA,{})}]:[],...d()?[{path:"/admin/club",label:" ",icon:o.jsx(Bd,{})}]:[],{path:"/admin/subscription",label:"",icon:o.jsx(Wd,{}),permission:["manage_club","manage_all_venues"]},{path:"/admin/payment-settings",label:" ",icon:o.jsx(Hd,{}),permission:["manage_club","manage_all_venues"]},{path:"/admin/courts",label:"",icon:o.jsx(cx,{}),permission:["manage_courts","manage_all_venues"]},{path:"/admin/customers",label:"",icon:o.jsx(jp,{}),permission:["manage_all_users","manage_club"]},...c()?[{path:"/admin/finance",label:"",icon:o.jsx(vo,{})}]:[],{path:"/admin/marketing",label:"",icon:o.jsx(gc,{}),roles:["superadmin","admin"]},...l?[{path:"/admin/settings",label:" ",icon:o.jsx(_p,{})}]:[]].filter(w=>!(w.permission&&!i(w.permission)||w.roles&&!a(w.roles))),m=w=>t.pathname===w,v=w=>{e(w),window.innerWidth<=768&&p(!1)},g=()=>{p(!u)},y=()=>{const w=f.find(C=>m(C.path));return(w==null?void 0:w.label)||""};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:`sidebar-overlay ${u?"active":""}`,onClick:g}),o.jsxs("aside",{className:`sidebar ${u?"active":""}`,children:[o.jsx("button",{className:"sidebar-close",onClick:g,children:o.jsx(wp,{})}),o.jsxs("div",{className:"logo-section",children:[o.jsxs("div",{className:"platform-logo",children:[o.jsx(qd,{size:40}),o.jsx("div",{className:"logo-text",children:" "})]}),!l&&o.jsxs("div",{className:"club-info",children:[o.jsx("div",{className:"club-logo",children:n!=null&&n.logoUrl?o.jsx("img",{src:n.logoUrl,alt:n.name}):((x=n==null?void 0:n.name)==null?void 0:x.substring(0,2).toUpperCase())||"CL"}),o.jsx("div",{className:"club-name",children:(n==null?void 0:n.name)||"..."})]}),l&&o.jsxs("div",{className:"club-info",children:[o.jsx("div",{className:"club-logo",style:{background:"#ef4444"},children:"SA"}),o.jsx("div",{className:"club-name",children:""})]})]}),o.jsx("nav",{className:"nav-menu",children:f.map(w=>o.jsxs("a",{className:`nav-item ${m(w.path)?"active":""}`,onClick:()=>v(w.path),children:[o.jsx("span",{className:"nav-icon",children:w.icon}),o.jsx("span",{children:w.label})]},w.path))})]}),o.jsxs("div",{className:"main-container",children:[o.jsxs("header",{className:"header",children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[o.jsx("button",{className:"menu-toggle",onClick:g,children:o.jsx(ZR,{})}),o.jsx("h1",{className:"page-title",children:y()})]}),o.jsxs("div",{className:"header-actions",children:[o.jsx("button",{className:"notification-btn",children:o.jsx(ix,{fontSize:"small"})}),o.jsxs("div",{className:"user-menu",children:[o.jsxs("div",{className:"user-info",children:[o.jsx("span",{className:"user-name",children:s==null?void 0:s.name}),o.jsx("span",{className:"user-role",children:s==null?void 0:s.role})]}),o.jsx("button",{className:"user-btn",children:o.jsx(sx,{fontSize:"small"})}),o.jsx("button",{className:"logout-btn",onClick:r,title:"",children:o.jsx(VR,{fontSize:"small"})})]})]})]}),o.jsx("div",{className:"content",children:o.jsx(cb,{})})]})]})}const vm={"auth/email-already-in-use":" email  ","auth/invalid-email":" email ","auth/weak-password":"  .  6 ","auth/user-not-found":"  ","auth/wrong-password":" ","auth/too-many-requests":"  .  ","auth/user-disabled":" ","auth/expired-action-code":" ","auth/invalid-action-code":" ","auth/network-request-failed":" .  -","permission-denied":"       ","not-found":"   ","already-exists":"   ","resource-exhausted":"  ","failed-precondition":"       ",aborted:"  ","out-of-range":"   ",unimplemented:"  ",internal:"  ",unavailable:"  ","data-loss":"   ",unauthenticated:" ","booking/slot-occupied":"   ","booking/invalid-date":"  ","booking/past-date":"    ","payment/card-declined":"  ","payment/insufficient-funds":"   ","payment/processing-error":"  "};function Qd(e){var t,n,r;if(console.error("Error caught:",e),e.code&&e.code.startsWith("auth/"))return{type:"AUTH",code:e.code,message:vm[e.code]||e.message||" ",originalError:e};if(e instanceof tg||e.code){const s=vm[e.code]||e.message||"  ";let i="SERVER";return e.code==="permission-denied"||e.code==="unauthenticated"?i="PERMISSION":e.code==="not-found"?i="NOT_FOUND":(e.code==="unavailable"||(t=e.code)!=null&&t.includes("network"))&&(i="NETWORK"),{type:i,code:e.code,message:s,originalError:e}}return(n=e.message)!=null&&n.toLowerCase().includes("network")||(r=e.message)!=null&&r.toLowerCase().includes("fetch")?{type:"NETWORK",message:" .  -",originalError:e}:e.type==="validation"||e.validationErrors?{type:"VALIDATION",message:e.message||"  ",details:e.validationErrors,originalError:e}:{type:"UNKNOWN",message:e.message||"  ",originalError:e}}function uA(e){return typeof e=="string"?e:e.message?e.message:" .   "}function dx(e,t){const n=new Date().toISOString();console.group(` Error at ${n}`),e.type&&console.error("Type:",e.type),e.code&&console.error("Code:",e.code),console.error("Message:",e.message||"Unknown error"),t&&console.error("Context:",t),e.originalError&&console.error("Original error:",e.originalError),e.details&&console.error("Details:",e.details),console.trace("Stack trace"),console.groupEnd()}function pA(){const e=Xt(),[t,n]=h.useState(""),[r,s]=h.useState(""),[i,a]=h.useState(!1),[l,c]=h.useState(null),[d,u]=h.useState(!1),p=async f=>{f.preventDefault(),c(null),u(!0);try{if(!t.trim())throw new Error("Email ");if(!r)throw new Error(" ");const m=await Ab(Kt,t,r),v=Ge(Ie(se,"admins"),Pe("email","==",m.user.email));if((await qe(v)).empty)throw new Error("      -");setTimeout(()=>{e("/admin/dashboard")},100)}catch(m){const v=Qd(m);dx(v,{component:"Login",email:t}),c(uA(v))}finally{u(!1)}};return o.jsx(te,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"#f5f5f5"},children:o.jsx(it,{sx:{maxWidth:400,width:"100%",mx:2},children:o.jsxs(at,{sx:{p:4},children:[o.jsx(B,{variant:"h4",component:"h1",gutterBottom:!0,align:"center",children:"-"}),o.jsx(B,{variant:"body2",color:"text.secondary",align:"center",sx:{mb:3},children:"   "}),l&&o.jsx(ct,{severity:"error",sx:{mb:2},children:l}),o.jsxs("form",{onSubmit:p,children:[o.jsx(Ye,{fullWidth:!0,label:"Email",type:"email",value:t,onChange:f=>n(f.target.value),margin:"normal",required:!0,autoComplete:"email",autoFocus:!0}),o.jsx(Ye,{fullWidth:!0,label:"",type:i?"text":"password",value:r,onChange:f=>s(f.target.value),margin:"normal",required:!0,autoComplete:"current-password",InputProps:{endAdornment:o.jsx(pI,{position:"end",children:o.jsx(dn,{onClick:()=>a(!i),edge:"end",children:i?o.jsx(cA,{}):o.jsx(lA,{})})})}}),o.jsx(ke,{type:"submit",fullWidth:!0,variant:"contained",size:"large",sx:{mt:3,mb:2},disabled:d||!t||!r,startIcon:d&&o.jsx(hn,{size:20,color:"inherit"}),children:d?"...":""})]}),o.jsx(B,{variant:"body2",color:"text.secondary",align:"center",sx:{mt:2},children:" ?    "}),o.jsx(te,{sx:{mt:3,pt:3,borderTop:1,borderColor:"divider"},children:o.jsxs(B,{variant:"body2",color:"text.secondary",align:"center",children:["   ?"," ",o.jsx(ke,{variant:"text",onClick:()=>e("/register"),sx:{textTransform:"none"},children:" "})]})})]})})})}const ym=[{icon:o.jsx(cx,{}),title:" ",description:"   "},{icon:o.jsx(bp,{}),title:"-",description:"  24/7"},{icon:o.jsx(jp,{}),title:" ",description:"CRM   "},{icon:o.jsx(OR,{}),title:"  ",description:"   "},{icon:o.jsx(ix,{}),title:"",description:"SMS  email "},{icon:o.jsx(gi,{}),title:"-",description:"  "},{icon:o.jsx(_p,{}),title:" ",description:"   "},{icon:o.jsx(kp,{}),title:"",description:"  "}];function hA(){const e=Xt(),[t,n]=h.useState(!1),[r,s]=h.useState(""),[i,a]=h.useState(!1),[l,c]=h.useState(!1),[d,u]=h.useState(0),[p,f]=h.useState(0),[m,v]=h.useState(!1),[g,y]=h.useState({name:"",address:"",city:"",phone:"",email:"",description:"",organizationType:"",inn:"",bankAccount:"",adminPassword:""});h.useEffect(()=>{if(t){v(!0),f(0),u(0);const C=setInterval(()=>{u(P=>P>=95?(clearInterval(C),95):P+Math.random()*10)},500),S=setInterval(()=>{f(P=>P>=ym.length-1?(clearInterval(S),P):P+1)},2e3);return()=>{clearInterval(C),clearInterval(S)}}else v(!1),u(0),f(0)},[t]);const x=()=>{const C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let S="";for(let P=0;P<10;P++)S+=C.charAt(Math.floor(Math.random()*C.length));return S},w=async C=>{C.preventDefault(),console.log("Form submitted with data:",g),s(""),n(!0);try{if(!g.name||!g.address||!g.city||!g.phone||!g.email){s("   "),n(!1);return}const S=g.adminPassword||x();console.log("Generated/provided password:",S),Kt.currentUser&&(console.log("Signing out current user:",Kt.currentUser.email),await cd(Kt)),console.log("Creating user with email:",g.email);const k=(await ng(Kt,g.email,S)).user.uid;console.log("User created successfully with ID:",k);const T={name:g.name,address:g.address,city:g.city,phone:g.phone,email:g.email,description:g.description||"",organizationType:g.organizationType,inn:g.inn,bankAccount:g.bankAccount||"",status:"pending",createdAt:new Date,updatedAt:new Date,logoUrl:"",amenities:[],location:null};console.log("Creating venue with data:",T);let _=!1,j="";try{console.log("Creating club via Cloud Function..."),console.log("Sending data:",{venueData:T,password:S,userId:k});const A=await(await fetch("https://europe-west1-sports-booking-app-1d7e5.cloudfunctions.net/createClubHttp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({venueData:T,password:S,userId:k})})).json();if(A.success)console.log("Club created via Cloud Function!"),_=!0,j=A.venueId;else throw new Error(A.error||"Unknown error")}catch(E){throw console.error("Cloud Function failed:",E),E}if(_)c(!1);else{console.log("Saving registration for manual processing...");const E={id:k,userId:k,venueData:T,password:S,timestamp:new Date().toISOString(),status:"pending_manual_creation"};localStorage.setItem("pendingClubRegistration_"+k,JSON.stringify(E)),c(!0)}y({...g,adminPassword:S}),(_||!l)&&u(100),Kt.currentUser&&(await cd(Kt),console.log("Signed out after club creation")),a(!0),console.log("Registration completed successfully!")}catch(S){console.error("Error creating club:",S),console.error("Error details:",{code:S==null?void 0:S.code,message:S==null?void 0:S.message,stack:S==null?void 0:S.stack}),S.code==="auth/email-already-in-use"?s(" email  . ,   ."):S.code==="auth/weak-password"?s("  .  6 ."):S.code==="auth/invalid-email"?s("  email ."):s("   : "+(S.message||" "))}finally{n(!1)}};return o.jsxs(hi,{component:"main",maxWidth:"md",children:[o.jsxs(te,{sx:{marginTop:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[o.jsx(qd,{size:60,className:"mb-4"}),o.jsx(B,{component:"h1",variant:"h4",gutterBottom:!0,children:" "}),o.jsx(B,{variant:"body2",color:"textSecondary",align:"center",sx:{mb:3},children:"      "}),o.jsxs(on,{sx:{width:"100%",p:4},children:[r&&o.jsx(ct,{severity:"error",sx:{mb:3},children:r}),o.jsxs("form",{onSubmit:w,children:[o.jsxs(te,{sx:{display:"grid",gap:2,gridTemplateColumns:{md:"1fr 1fr"}},children:[o.jsx(B,{variant:"h6",sx:{gridColumn:"1 / -1",mb:1},children:"  "}),o.jsx(Ye,{label:" ",value:g.name,onChange:C=>y({...g,name:C.target.value}),fullWidth:!0,required:!0}),o.jsx(Ye,{label:"",value:g.address,onChange:C=>y({...g,address:C.target.value}),fullWidth:!0,required:!0}),o.jsx(Ye,{label:"",value:g.city,onChange:C=>y({...g,city:C.target.value}),fullWidth:!0,required:!0}),o.jsx(Ye,{label:"",value:g.phone,onChange:C=>y({...g,phone:C.target.value}),fullWidth:!0,required:!0,placeholder:"+7 (900) 123-45-67"}),o.jsx(Ye,{label:"Email",value:g.email,onChange:C=>y({...g,email:C.target.value}),fullWidth:!0,required:!0,type:"email",sx:{gridColumn:"1 / -1"}}),o.jsx(B,{variant:"h6",sx:{gridColumn:"1 / -1",mt:2,mb:1},children:" "}),o.jsxs(ir,{fullWidth:!0,children:[o.jsx(Tr,{children:" "}),o.jsxs(cr,{value:g.organizationType,onChange:C=>y({...g,organizationType:C.target.value}),label:" ",children:[o.jsx(Mt,{value:"",children:""}),o.jsx(Mt,{value:"",children:""}),o.jsx(Mt,{value:"",children:""})]})]}),o.jsx(Ye,{label:"",value:g.inn,onChange:C=>y({...g,inn:C.target.value}),fullWidth:!0}),o.jsx(Ye,{label:"  ()",value:g.adminPassword,onChange:C=>y({...g,adminPassword:C.target.value}),fullWidth:!0,type:"password",helperText:"  ,   "})]}),o.jsxs(te,{sx:{mt:3,display:"flex",gap:2,justifyContent:"flex-end"},children:[o.jsx(ke,{type:"button",onClick:()=>e("/admin/login"),disabled:t,children:"  ?"}),o.jsx(ke,{type:"submit",variant:"contained",disabled:t,children:t?"...":" "})]})]})]})]}),o.jsxs(sr,{open:i,onClose:()=>{},maxWidth:"sm",fullWidth:!0,children:[o.jsx(br,{children:o.jsxs(te,{display:"flex",alignItems:"center",gap:2,children:[o.jsx(Bd,{color:l?"warning":"success"}),l?" !":"  !"]})}),o.jsxs(or,{children:[o.jsx(ct,{severity:l?"warning":"success",sx:{mb:2},children:l?"  !       24    .":"      "}),o.jsxs(te,{sx:{display:"flex",flexDirection:"column",gap:2},children:[o.jsxs(te,{children:[o.jsx(B,{variant:"body2",color:"textSecondary",children:" "}),o.jsx(B,{variant:"body1",fontWeight:"bold",children:g.name})]}),o.jsxs(te,{children:[o.jsx(B,{variant:"body2",color:"textSecondary",children:"Email "}),o.jsx(B,{variant:"body1",fontWeight:"bold",children:g.email})]}),o.jsxs(te,{children:[o.jsx(B,{variant:"body2",color:"textSecondary",children:" "}),o.jsx(B,{variant:"body1",fontWeight:"bold",children:g.adminPassword})]})]})]}),o.jsxs(xr,{sx:{justifyContent:"space-between",px:3,pb:3},children:[o.jsx(ke,{onClick:()=>e("/"),variant:"outlined",children:" "}),!l&&o.jsx(ke,{onClick:()=>window.open("/admin/login","_blank"),variant:"contained",startIcon:o.jsx(Bd,{}),children:"  "})]})]}),o.jsx(sr,{open:t,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{background:"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)",borderRadius:3}},children:o.jsx(or,{sx:{py:4},children:o.jsxs(te,{textAlign:"center",children:[o.jsx(qd,{size:80,className:"mb-4"}),o.jsx(B,{variant:"h5",gutterBottom:!0,sx:{mb:4,fontWeight:600},children:"  ..."}),o.jsxs(te,{sx:{mb:4},children:[o.jsx(Xy,{variant:"determinate",value:d,sx:{height:8,borderRadius:4,backgroundColor:"rgba(0, 168, 107, 0.1)","& .MuiLinearProgress-bar":{borderRadius:4,backgroundColor:"#00A86B"}}}),o.jsxs(B,{variant:"caption",sx:{mt:1,display:"block"},children:[Math.round(d),"%"]})]}),m&&o.jsx(te,{sx:{minHeight:120},children:ym.map((C,S)=>o.jsx(Zi,{in:p>=S,timeout:1e3,style:{display:p===S?"block":"none"},children:o.jsxs(te,{children:[o.jsx(te,{sx:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:60,height:60,borderRadius:"50%",backgroundColor:"rgba(0, 168, 107, 0.1)",mb:2},children:Fe.cloneElement(C.icon,{sx:{fontSize:30,color:"#00A86B"}})}),o.jsx(B,{variant:"h6",gutterBottom:!0,children:C.title}),o.jsx(B,{variant:"body2",color:"textSecondary",children:C.description})]})},S))}),o.jsx(B,{variant:"body2",color:"textSecondary",sx:{mt:3},children:"     ..."})]})})})]})}var fA=Object.defineProperty,cl=Object.getOwnPropertySymbols,ux=Object.prototype.hasOwnProperty,px=Object.prototype.propertyIsEnumerable,xm=(e,t,n)=>t in e?fA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xd=(e,t)=>{for(var n in t||(t={}))ux.call(t,n)&&xm(e,n,t[n]);if(cl)for(var n of cl(t))px.call(t,n)&&xm(e,n,t[n]);return e},Zd=(e,t)=>{var n={};for(var r in e)ux.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&cl)for(var r of cl(e))t.indexOf(r)<0&&px.call(e,r)&&(n[r]=e[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Cs;(e=>{const t=class $e{constructor(c,d,u,p){if(this.version=c,this.errorCorrectionLevel=d,this.modules=[],this.isFunction=[],c<$e.MIN_VERSION||c>$e.MAX_VERSION)throw new RangeError("Version value out of range");if(p<-1||p>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let f=[];for(let v=0;v<this.size;v++)f.push(!1);for(let v=0;v<this.size;v++)this.modules.push(f.slice()),this.isFunction.push(f.slice());this.drawFunctionPatterns();const m=this.addEccAndInterleave(u);if(this.drawCodewords(m),p==-1){let v=1e9;for(let g=0;g<8;g++){this.applyMask(g),this.drawFormatBits(g);const y=this.getPenaltyScore();y<v&&(p=g,v=y),this.applyMask(g)}}s(0<=p&&p<=7),this.mask=p,this.applyMask(p),this.drawFormatBits(p),this.isFunction=[]}static encodeText(c,d){const u=e.QrSegment.makeSegments(c);return $e.encodeSegments(u,d)}static encodeBinary(c,d){const u=e.QrSegment.makeBytes(c);return $e.encodeSegments([u],d)}static encodeSegments(c,d,u=1,p=40,f=-1,m=!0){if(!($e.MIN_VERSION<=u&&u<=p&&p<=$e.MAX_VERSION)||f<-1||f>7)throw new RangeError("Invalid value");let v,g;for(v=u;;v++){const C=$e.getNumDataCodewords(v,d)*8,S=a.getTotalBits(c,v);if(S<=C){g=S;break}if(v>=p)throw new RangeError("Data too long")}for(const C of[$e.Ecc.MEDIUM,$e.Ecc.QUARTILE,$e.Ecc.HIGH])m&&g<=$e.getNumDataCodewords(v,C)*8&&(d=C);let y=[];for(const C of c){n(C.mode.modeBits,4,y),n(C.numChars,C.mode.numCharCountBits(v),y);for(const S of C.getData())y.push(S)}s(y.length==g);const x=$e.getNumDataCodewords(v,d)*8;s(y.length<=x),n(0,Math.min(4,x-y.length),y),n(0,(8-y.length%8)%8,y),s(y.length%8==0);for(let C=236;y.length<x;C^=253)n(C,8,y);let w=[];for(;w.length*8<y.length;)w.push(0);return y.forEach((C,S)=>w[S>>>3]|=C<<7-(S&7)),new $e(v,d,w,f)}getModule(c,d){return 0<=c&&c<this.size&&0<=d&&d<this.size&&this.modules[d][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let u=0;u<this.size;u++)this.setFunctionModule(6,u,u%2==0),this.setFunctionModule(u,6,u%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),d=c.length;for(let u=0;u<d;u++)for(let p=0;p<d;p++)u==0&&p==0||u==0&&p==d-1||u==d-1&&p==0||this.drawAlignmentPattern(c[u],c[p]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const d=this.errorCorrectionLevel.formatBits<<3|c;let u=d;for(let f=0;f<10;f++)u=u<<1^(u>>>9)*1335;const p=(d<<10|u)^21522;s(p>>>15==0);for(let f=0;f<=5;f++)this.setFunctionModule(8,f,r(p,f));this.setFunctionModule(8,7,r(p,6)),this.setFunctionModule(8,8,r(p,7)),this.setFunctionModule(7,8,r(p,8));for(let f=9;f<15;f++)this.setFunctionModule(14-f,8,r(p,f));for(let f=0;f<8;f++)this.setFunctionModule(this.size-1-f,8,r(p,f));for(let f=8;f<15;f++)this.setFunctionModule(8,this.size-15+f,r(p,f));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let u=0;u<12;u++)c=c<<1^(c>>>11)*7973;const d=this.version<<12|c;s(d>>>18==0);for(let u=0;u<18;u++){const p=r(d,u),f=this.size-11+u%3,m=Math.floor(u/3);this.setFunctionModule(f,m,p),this.setFunctionModule(m,f,p)}}drawFinderPattern(c,d){for(let u=-4;u<=4;u++)for(let p=-4;p<=4;p++){const f=Math.max(Math.abs(p),Math.abs(u)),m=c+p,v=d+u;0<=m&&m<this.size&&0<=v&&v<this.size&&this.setFunctionModule(m,v,f!=2&&f!=4)}}drawAlignmentPattern(c,d){for(let u=-2;u<=2;u++)for(let p=-2;p<=2;p++)this.setFunctionModule(c+p,d+u,Math.max(Math.abs(p),Math.abs(u))!=1)}setFunctionModule(c,d,u){this.modules[d][c]=u,this.isFunction[d][c]=!0}addEccAndInterleave(c){const d=this.version,u=this.errorCorrectionLevel;if(c.length!=$e.getNumDataCodewords(d,u))throw new RangeError("Invalid argument");const p=$e.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][d],f=$e.ECC_CODEWORDS_PER_BLOCK[u.ordinal][d],m=Math.floor($e.getNumRawDataModules(d)/8),v=p-m%p,g=Math.floor(m/p);let y=[];const x=$e.reedSolomonComputeDivisor(f);for(let C=0,S=0;C<p;C++){let P=c.slice(S,S+g-f+(C<v?0:1));S+=P.length;const k=$e.reedSolomonComputeRemainder(P,x);C<v&&P.push(0),y.push(P.concat(k))}let w=[];for(let C=0;C<y[0].length;C++)y.forEach((S,P)=>{(C!=g-f||P>=v)&&w.push(S[C])});return s(w.length==m),w}drawCodewords(c){if(c.length!=Math.floor($e.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let d=0;for(let u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(let p=0;p<this.size;p++)for(let f=0;f<2;f++){const m=u-f,g=(u+1&2)==0?this.size-1-p:p;!this.isFunction[g][m]&&d<c.length*8&&(this.modules[g][m]=r(c[d>>>3],7-(d&7)),d++)}}s(d==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let d=0;d<this.size;d++)for(let u=0;u<this.size;u++){let p;switch(c){case 0:p=(u+d)%2==0;break;case 1:p=d%2==0;break;case 2:p=u%3==0;break;case 3:p=(u+d)%3==0;break;case 4:p=(Math.floor(u/3)+Math.floor(d/2))%2==0;break;case 5:p=u*d%2+u*d%3==0;break;case 6:p=(u*d%2+u*d%3)%2==0;break;case 7:p=((u+d)%2+u*d%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[d][u]&&p&&(this.modules[d][u]=!this.modules[d][u])}}getPenaltyScore(){let c=0;for(let f=0;f<this.size;f++){let m=!1,v=0,g=[0,0,0,0,0,0,0];for(let y=0;y<this.size;y++)this.modules[f][y]==m?(v++,v==5?c+=$e.PENALTY_N1:v>5&&c++):(this.finderPenaltyAddHistory(v,g),m||(c+=this.finderPenaltyCountPatterns(g)*$e.PENALTY_N3),m=this.modules[f][y],v=1);c+=this.finderPenaltyTerminateAndCount(m,v,g)*$e.PENALTY_N3}for(let f=0;f<this.size;f++){let m=!1,v=0,g=[0,0,0,0,0,0,0];for(let y=0;y<this.size;y++)this.modules[y][f]==m?(v++,v==5?c+=$e.PENALTY_N1:v>5&&c++):(this.finderPenaltyAddHistory(v,g),m||(c+=this.finderPenaltyCountPatterns(g)*$e.PENALTY_N3),m=this.modules[y][f],v=1);c+=this.finderPenaltyTerminateAndCount(m,v,g)*$e.PENALTY_N3}for(let f=0;f<this.size-1;f++)for(let m=0;m<this.size-1;m++){const v=this.modules[f][m];v==this.modules[f][m+1]&&v==this.modules[f+1][m]&&v==this.modules[f+1][m+1]&&(c+=$e.PENALTY_N2)}let d=0;for(const f of this.modules)d=f.reduce((m,v)=>m+(v?1:0),d);const u=this.size*this.size,p=Math.ceil(Math.abs(d*20-u*10)/u)-1;return s(0<=p&&p<=9),c+=p*$e.PENALTY_N4,s(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,d=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let u=[6];for(let p=this.size-7;u.length<c;p-=d)u.splice(1,0,p);return u}}static getNumRawDataModules(c){if(c<$e.MIN_VERSION||c>$e.MAX_VERSION)throw new RangeError("Version number out of range");let d=(16*c+128)*c+64;if(c>=2){const u=Math.floor(c/7)+2;d-=(25*u-10)*u-55,c>=7&&(d-=36)}return s(208<=d&&d<=29648),d}static getNumDataCodewords(c,d){return Math.floor($e.getNumRawDataModules(c)/8)-$e.ECC_CODEWORDS_PER_BLOCK[d.ordinal][c]*$e.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let d=[];for(let p=0;p<c-1;p++)d.push(0);d.push(1);let u=1;for(let p=0;p<c;p++){for(let f=0;f<d.length;f++)d[f]=$e.reedSolomonMultiply(d[f],u),f+1<d.length&&(d[f]^=d[f+1]);u=$e.reedSolomonMultiply(u,2)}return d}static reedSolomonComputeRemainder(c,d){let u=d.map(p=>0);for(const p of c){const f=p^u.shift();u.push(0),d.forEach((m,v)=>u[v]^=$e.reedSolomonMultiply(m,f))}return u}static reedSolomonMultiply(c,d){if(c>>>8||d>>>8)throw new RangeError("Byte out of range");let u=0;for(let p=7;p>=0;p--)u=u<<1^(u>>>7)*285,u^=(d>>>p&1)*c;return s(u>>>8==0),u}finderPenaltyCountPatterns(c){const d=c[1];s(d<=this.size*3);const u=d>0&&c[2]==d&&c[3]==d*3&&c[4]==d&&c[5]==d;return(u&&c[0]>=d*4&&c[6]>=d?1:0)+(u&&c[6]>=d*4&&c[0]>=d?1:0)}finderPenaltyTerminateAndCount(c,d,u){return c&&(this.finderPenaltyAddHistory(d,u),d=0),d+=this.size,this.finderPenaltyAddHistory(d,u),this.finderPenaltyCountPatterns(u)}finderPenaltyAddHistory(c,d){d[0]==0&&(c+=this.size),d.pop(),d.unshift(c)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(l,c,d){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let u=c-1;u>=0;u--)d.push(l>>>u&1)}function r(l,c){return(l>>>c&1)!=0}function s(l){if(!l)throw new Error("Assertion error")}const i=class St{constructor(c,d,u){if(this.mode=c,this.numChars=d,this.bitData=u,d<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}static makeBytes(c){let d=[];for(const u of c)n(u,8,d);return new St(St.Mode.BYTE,c.length,d)}static makeNumeric(c){if(!St.isNumeric(c))throw new RangeError("String contains non-numeric characters");let d=[];for(let u=0;u<c.length;){const p=Math.min(c.length-u,3);n(parseInt(c.substring(u,u+p),10),p*3+1,d),u+=p}return new St(St.Mode.NUMERIC,c.length,d)}static makeAlphanumeric(c){if(!St.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let d=[],u;for(u=0;u+2<=c.length;u+=2){let p=St.ALPHANUMERIC_CHARSET.indexOf(c.charAt(u))*45;p+=St.ALPHANUMERIC_CHARSET.indexOf(c.charAt(u+1)),n(p,11,d)}return u<c.length&&n(St.ALPHANUMERIC_CHARSET.indexOf(c.charAt(u)),6,d),new St(St.Mode.ALPHANUMERIC,c.length,d)}static makeSegments(c){return c==""?[]:St.isNumeric(c)?[St.makeNumeric(c)]:St.isAlphanumeric(c)?[St.makeAlphanumeric(c)]:[St.makeBytes(St.toUtf8ByteArray(c))]}static makeEci(c){let d=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)n(c,8,d);else if(c<16384)n(2,2,d),n(c,14,d);else if(c<1e6)n(6,3,d),n(c,21,d);else throw new RangeError("ECI assignment value out of range");return new St(St.Mode.ECI,0,d)}static isNumeric(c){return St.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return St.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,d){let u=0;for(const p of c){const f=p.mode.numCharCountBits(d);if(p.numChars>=1<<f)return 1/0;u+=4+f+p.bitData.length}return u}static toUtf8ByteArray(c){c=encodeURI(c);let d=[];for(let u=0;u<c.length;u++)c.charAt(u)!="%"?d.push(c.charCodeAt(u)):(d.push(parseInt(c.substring(u+1,u+3),16)),u+=2);return d}};i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let a=i;e.QrSegment=i})(Cs||(Cs={}));(e=>{(t=>{const n=class{constructor(s,i){this.ordinal=s,this.formatBits=i}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(Cs||(Cs={}));(e=>{(t=>{const n=class{constructor(s,i){this.modeBits=s,this.numBitsCharCount=i}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(Cs||(Cs={}));var Us=Cs;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var mA={L:Us.QrCode.Ecc.LOW,M:Us.QrCode.Ecc.MEDIUM,Q:Us.QrCode.Ecc.QUARTILE,H:Us.QrCode.Ecc.HIGH},hx=128,fx="L",mx="#FFFFFF",gx="#000000",vx=!1,yx=1,gA=4,vA=0,yA=.1;function xx(e,t=0){const n=[];return e.forEach(function(r,s){let i=null;r.forEach(function(a,l){if(!a&&i!==null){n.push(`M${i+t} ${s+t}h${l-i}v1H${i+t}z`),i=null;return}if(l===r.length-1){if(!a)return;i===null?n.push(`M${l+t},${s+t} h1v1H${l+t}z`):n.push(`M${i+t},${s+t} h${l+1-i}v1H${i+t}z`);return}a&&i===null&&(i=l)})}),n.join("")}function bx(e,t){return e.slice().map((n,r)=>r<t.y||r>=t.y+t.h?n:n.map((s,i)=>i<t.x||i>=t.x+t.w?s:!1))}function xA(e,t,n,r){if(r==null)return null;const s=e.length+n*2,i=Math.floor(t*yA),a=s/t,l=(r.width||i)*a,c=(r.height||i)*a,d=r.x==null?e.length/2-l/2:r.x*a,u=r.y==null?e.length/2-c/2:r.y*a,p=r.opacity==null?1:r.opacity;let f=null;if(r.excavate){let v=Math.floor(d),g=Math.floor(u),y=Math.ceil(l+d-v),x=Math.ceil(c+u-g);f={x:v,y:g,w:y,h:x}}const m=r.crossOrigin;return{x:d,y:u,h:c,w:l,excavation:f,opacity:p,crossOrigin:m}}function bA(e,t){return t!=null?Math.max(Math.floor(t),0):e?gA:vA}function Cx({value:e,level:t,minVersion:n,includeMargin:r,marginSize:s,imageSettings:i,size:a,boostLevel:l}){let c=Fe.useMemo(()=>{const v=(Array.isArray(e)?e:[e]).reduce((g,y)=>(g.push(...Us.QrSegment.makeSegments(y)),g),[]);return Us.QrCode.encodeSegments(v,mA[t],n,void 0,void 0,l)},[e,t,n,l]);const{cells:d,margin:u,numCells:p,calculatedImageSettings:f}=Fe.useMemo(()=>{let m=c.getModules();const v=bA(r,s),g=m.length+v*2,y=xA(m,a,v,i);return{cells:m,margin:v,numCells:g,calculatedImageSettings:y}},[c,a,i,r,s]);return{qrcode:c,margin:u,cells:d,numCells:p,calculatedImageSettings:f}}var CA=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),wA=Fe.forwardRef(function(t,n){const r=t,{value:s,size:i=hx,level:a=fx,bgColor:l=mx,fgColor:c=gx,includeMargin:d=vx,minVersion:u=yx,boostLevel:p,marginSize:f,imageSettings:m}=r,g=Zd(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:y}=g,x=Zd(g,["style"]),w=m==null?void 0:m.src,C=Fe.useRef(null),S=Fe.useRef(null),P=Fe.useCallback(M=>{C.current=M,typeof n=="function"?n(M):n&&(n.current=M)},[n]),[k,T]=Fe.useState(!1),{margin:_,cells:j,numCells:E,calculatedImageSettings:A}=Cx({value:s,level:a,minVersion:u,boostLevel:p,includeMargin:d,marginSize:f,imageSettings:m,size:i});Fe.useEffect(()=>{if(C.current!=null){const M=C.current,D=M.getContext("2d");if(!D)return;let I=j;const O=S.current,z=A!=null&&O!==null&&O.complete&&O.naturalHeight!==0&&O.naturalWidth!==0;z&&A.excavation!=null&&(I=bx(j,A.excavation));const $=window.devicePixelRatio||1;M.height=M.width=i*$;const N=i/E*$;D.scale(N,N),D.fillStyle=l,D.fillRect(0,0,E,E),D.fillStyle=c,CA?D.fill(new Path2D(xx(I,_))):j.forEach(function(W,V){W.forEach(function(G,Q){G&&D.fillRect(Q+_,V+_,1,1)})}),A&&(D.globalAlpha=A.opacity),z&&D.drawImage(O,A.x+_,A.y+_,A.w,A.h)}}),Fe.useEffect(()=>{T(!1)},[w]);const L=Xd({height:i,width:i},y);let R=null;return w!=null&&(R=Fe.createElement("img",{src:w,key:w,style:{display:"none"},onLoad:()=>{T(!0)},ref:S,crossOrigin:A==null?void 0:A.crossOrigin})),Fe.createElement(Fe.Fragment,null,Fe.createElement("canvas",Xd({style:L,height:i,width:i,ref:P,role:"img"},x)),R)});wA.displayName="QRCodeCanvas";var dl=Fe.forwardRef(function(t,n){const r=t,{value:s,size:i=hx,level:a=fx,bgColor:l=mx,fgColor:c=gx,includeMargin:d=vx,minVersion:u=yx,boostLevel:p,title:f,marginSize:m,imageSettings:v}=r,g=Zd(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:y,cells:x,numCells:w,calculatedImageSettings:C}=Cx({value:s,level:a,minVersion:u,boostLevel:p,includeMargin:d,marginSize:m,imageSettings:v,size:i});let S=x,P=null;v!=null&&C!=null&&(C.excavation!=null&&(S=bx(x,C.excavation)),P=Fe.createElement("image",{href:v.src,height:C.h,width:C.w,x:C.x+y,y:C.y+y,preserveAspectRatio:"none",opacity:C.opacity,crossOrigin:C.crossOrigin}));const k=xx(S,y);return Fe.createElement("svg",Xd({height:i,width:i,viewBox:`0 0 ${w} ${w}`,ref:n,role:"img"},g),!!f&&Fe.createElement("title",null,f),Fe.createElement("path",{fill:l,d:`M0,0 h${w}v${w}H0z`,shapeRendering:"crispEdges"}),Fe.createElement("path",{fill:c,d:k,shapeRendering:"crispEdges"}),P)});dl.displayName="QRCodeSVG";const ma=({title:e,value:t,icon:n,change:r,isPositive:s})=>o.jsxs("div",{className:"stat-card",children:[o.jsxs("div",{className:"stat-header",children:[o.jsx("span",{className:"stat-label",children:e}),o.jsx("div",{className:"stat-icon",children:n})]}),o.jsx("div",{className:"stat-value",children:t}),o.jsxs("div",{className:`stat-change ${s?"":"negative"}`,children:[s?o.jsx(FR,{fontSize:"small"}):o.jsx(LR,{fontSize:"small"}),r]})]});function jA(){var j;const{currentUser:e,admin:t}=Ht(),{isSuperAdmin:n}=an(),[r,s]=h.useState(null),[i,a]=h.useState(!1),[l,c]=h.useState(!1),[d,u]=h.useState([]),[p,f]=h.useState({todayBookings:0,todayRevenue:0,utilization:0,activeCustomers:0,bookingsChange:0,revenueChange:0,utilizationChange:0}),[m,v]=h.useState(!0),[g,y]=h.useState([]),[x,w]=h.useState("all");h.useEffect(()=>{(async()=>{n?(await C(),x==="all"?await S():await P(x)):t!=null&&t.venueId&&(s(t.venueId),await P(t.venueId)),v(!1)})()},[e,t,n,x]);const C=async()=>{try{const E=Ge(Ie(se,"venues"),Pe("status","==","active")),L=(await qe(E)).docs.map(R=>({id:R.id,name:R.data().name}));y(L)}catch(E){console.error("Error loading venues:",E)}},S=async()=>{var E;try{const A=new Date,L=new Date(A.getFullYear(),A.getMonth(),A.getDate()),R=new Date(A.getFullYear(),A.getMonth(),A.getDate(),23,59,59);let M=g;if(M.length===0){const ee=Ge(Ie(se,"venues"),Pe("status","==","active"));M=(await qe(ee)).docs.map(ae=>({id:ae.id,name:ae.data().name}))}const D=Ge(Ie(se,"bookings")),I=await qe(D),O=I.docs.filter(ee=>{var K,H;const Z=ee.data(),ae=(H=(K=Z.date)==null?void 0:K.toDate)==null?void 0:H.call(K);return ae?ae>=L&&ae<=R&&Z.status==="confirmed":!1}),z=O.length,$=O.reduce((ee,Z)=>ee+(Z.data().amount||0),0),N=I.docs.sort((ee,Z)=>{var H,F,q,ne,pe,Ee,ie,ce;const ae=((F=(H=ee.data().createdAt)==null?void 0:H.toDate)==null?void 0:F.call(H))||((ne=(q=ee.data().date)==null?void 0:q.toDate)==null?void 0:ne.call(q))||new Date(0);return(((Ee=(pe=Z.data().createdAt)==null?void 0:pe.toDate)==null?void 0:Ee.call(pe))||((ce=(ie=Z.data().date)==null?void 0:ie.toDate)==null?void 0:ce.call(ie))||new Date(0)).getTime()-ae.getTime()}).slice(0,10),W=[];for(const ee of N){const Z=ee.data();let ae="",K="";if(Z.venueId){const H=M.find(F=>F.id===Z.venueId);if(ae=(H==null?void 0:H.name)||"",Z.courtId)try{const F=await dt(ee(se,"venues",Z.venueId,"courts",Z.courtId));F.exists()&&(K=F.data().name)}catch(F){console.error("Error fetching court:",F)}}W.push({id:ee.id,clientName:Z.clientName||Z.customerName||" ",courtName:ae?`${ae} - ${K}`:K,date:((E=Z.date)==null?void 0:E.toDate())||new Date,startTime:Z.startTime||Z.time||"",endTime:Z.endTime||"",status:Z.status||"pending",amount:Z.amount||0})}u(W);let V=0;for(const ee of M){const Z=Ge(Ie(se,"venues",ee.id,"courts"),Pe("status","==","active")),ae=await qe(Z);V+=ae.size}const G=V*16,Q=G>0?Math.round(z/G*100):0,oe=new Date;oe.setDate(oe.getDate()-30);const U=I.docs.filter(ee=>{var K,H;const ae=(H=(K=ee.data().date)==null?void 0:K.toDate)==null?void 0:H.call(K);return ae&&ae>=oe}),le=new Set(U.map(ee=>ee.data().clientPhone||ee.data().customerPhone));f({todayBookings:z,todayRevenue:$,utilization:Q,activeCustomers:le.size,bookingsChange:15,revenueChange:10,utilizationChange:-3})}catch(A){console.error("Error loading all venues data:",A)}},P=async E=>{var A,L;try{const R=new Date,M=new Date(R.getFullYear(),R.getMonth(),R.getDate()),D=new Date(R.getFullYear(),R.getMonth(),R.getDate(),23,59,59),I=Ge(Ie(se,"bookings"),Pe("venueId","==",E)),z=(await qe(I)).docs.map(F=>({id:F.id,...F.data()})).sort((F,q)=>{var Ee,ie,ce,xe,ve,De,Me,Ne;const ne=((ie=(Ee=F.createdAt)==null?void 0:Ee.toDate)==null?void 0:ie.call(Ee))||((xe=(ce=F.date)==null?void 0:ce.toDate)==null?void 0:xe.call(ce))||new Date(0);return(((De=(ve=q.createdAt)==null?void 0:ve.toDate)==null?void 0:De.call(ve))||((Ne=(Me=q.date)==null?void 0:Me.toDate)==null?void 0:Ne.call(Me))||new Date(0)).getTime()-ne.getTime()}).slice(0,5),$=[];for(const F of z){let q=F.courtName||"";if(F.courtId&&!F.courtName)try{const ne=await dt(_e(se,"venues",E,"courts",F.courtId));ne.exists()&&(q=ne.data().name)}catch(ne){console.error("Error fetching court:",ne)}$.push({id:F.id,clientName:F.clientName||F.customerName||" ",courtName:q,date:((L=(A=F.date)==null?void 0:A.toDate)==null?void 0:L.call(A))||new Date,startTime:F.startTime||F.time||"",endTime:F.endTime||"",status:F.status||"pending",amount:F.amount||0})}u($);const N=Ge(Ie(se,"bookings"),Pe("venueId","==",E)),W=await qe(N),V=W.docs.filter(F=>{var pe,Ee;const q=F.data(),ne=(Ee=(pe=q.date)==null?void 0:pe.toDate)==null?void 0:Ee.call(pe);return ne?ne>=M&&ne<=D&&q.status==="confirmed":!1}),G=V.length,Q=V.reduce((F,q)=>F+(q.data().amount||0),0),oe=Ge(Ie(se,"venues",E,"courts"),Pe("status","==","active")),ee=(await qe(oe)).size*16,Z=ee>0?Math.round(G/ee*100):0,ae=new Date;ae.setDate(ae.getDate()-30);const K=W.docs.filter(F=>{var pe,Ee;const ne=(Ee=(pe=F.data().date)==null?void 0:pe.toDate)==null?void 0:Ee.call(pe);return ne&&ne>=ae}),H=new Set(K.map(F=>F.data().clientPhone||F.data().customerPhone));f({todayBookings:G,todayRevenue:Q,utilization:Z,activeCustomers:H.size,bookingsChange:12,revenueChange:8,utilizationChange:-5})}catch(R){console.error("Error loading dashboard data:",R)}},k=()=>r?`https://allcourt.ru/club/${r}`:"",T=()=>{const E=k();E&&(navigator.clipboard.writeText(E),c(!0),setTimeout(()=>c(!1),2e3))},_=async()=>{const E=k();if(E)if(navigator.share)try{await navigator.share({title:" ",text:"    ",url:E})}catch(A){console.log("Share failed:",A)}else T()};return m?o.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},children:o.jsx("div",{children:"..."})}):o.jsxs("div",{children:[n&&o.jsx("div",{className:"section-card",style:{marginBottom:"24px"},children:o.jsx("div",{style:{display:"flex",alignItems:"center",gap:"16px",justifyContent:"space-between",flexWrap:"wrap"},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[o.jsx("label",{style:{fontWeight:"600"},children:"  :"}),o.jsxs("select",{className:"form-select",style:{maxWidth:"300px"},value:x,onChange:E=>w(E.target.value),children:[o.jsx("option",{value:"all",children:" "}),g.map(E=>o.jsx("option",{value:E.id,children:E.name},E.id))]})]})})}),!n&&r&&o.jsxs("div",{className:"section-card",style:{marginBottom:"24px"},children:[o.jsx("div",{className:"section-header",children:o.jsx("h2",{className:"section-title",children:"  "})}),o.jsxs("div",{style:{display:"flex",gap:"24px",alignItems:"center",flexWrap:"wrap"},children:[o.jsxs("div",{onClick:()=>a(!0),style:{cursor:"pointer",padding:"8px",border:"1px solid var(--extra-light-gray)",borderRadius:"8px",transition:"all 0.3s ease"},onMouseEnter:E=>E.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)",onMouseLeave:E=>E.currentTarget.style.boxShadow="none",children:[o.jsx(dl,{value:k(),size:120,level:"M",includeMargin:!0}),o.jsx("div",{style:{textAlign:"center",marginTop:"8px"},children:o.jsxs("button",{className:"btn btn-secondary btn-icon",children:[o.jsx(Sp,{fontSize:"small"}),o.jsx("span",{children:""})]})})]}),o.jsxs("div",{style:{flex:1,minWidth:"250px"},children:[o.jsxs("div",{style:{marginBottom:"12px"},children:[o.jsx("label",{style:{fontSize:"14px",color:"var(--gray)",display:"block",marginBottom:"4px"},children:"   :"}),o.jsxs("div",{style:{display:"flex",gap:"8px",padding:"12px",background:"var(--background)",borderRadius:"8px",alignItems:"center"},children:[o.jsx("input",{type:"text",value:k(),readOnly:!0,style:{flex:1,border:"none",background:"transparent",fontSize:"14px",outline:"none"}}),o.jsxs("button",{className:"btn btn-primary btn-icon",onClick:T,children:[l?o.jsx(is,{fontSize:"small"}):o.jsx(ox,{fontSize:"small"}),o.jsx("span",{children:l?"":""})]})]})]}),o.jsx("div",{style:{display:"flex",gap:"8px"},children:o.jsxs("button",{className:"btn btn-secondary",onClick:_,children:[o.jsx(lx,{fontSize:"small"}),o.jsx("span",{children:""})]})})]})]})]}),n&&o.jsx("h2",{style:{marginBottom:"24px",fontSize:"24px",fontWeight:"700"},children:x==="all"?"    ":`  "${(j=g.find(E=>E.id===x))==null?void 0:j.name}"`}),o.jsxs("div",{className:"stats-grid",children:[o.jsx(ma,{title:" ",value:p.todayBookings,icon:o.jsx(bp,{}),change:`${p.bookingsChange>0?"+":""}${p.bookingsChange}%  `,isPositive:p.bookingsChange>0}),o.jsx(ma,{title:"  ",value:`${p.todayRevenue.toLocaleString("ru-RU")}`,icon:o.jsx(vo,{}),change:`${p.revenueChange>0?"+":""}${p.revenueChange}%  `,isPositive:p.revenueChange>0}),o.jsx(ma,{title:" ",value:`${p.utilization}%`,icon:o.jsx(gc,{}),change:`${p.utilizationChange>0?"+":""}${p.utilizationChange}%  `,isPositive:p.utilizationChange>0}),o.jsx(ma,{title:" ",value:p.activeCustomers,icon:o.jsx(jp,{}),change:"  30 ",isPositive:!0})]}),o.jsxs("div",{className:"section-card",children:[o.jsxs("div",{className:"section-header",children:[o.jsx("h2",{className:"section-title",children:" "}),o.jsx("button",{className:"btn btn-secondary",onClick:()=>window.location.href="/admin/bookings",children:" "})]}),o.jsx("div",{className:"table-wrapper",children:m?o.jsx("div",{style:{textAlign:"center",padding:"40px"},children:"..."}):d.length===0?o.jsx("div",{style:{textAlign:"center",padding:"40px",color:"var(--gray)"},children:"  "}):o.jsxs("table",{children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:""}),o.jsx("th",{children:n&&x==="all"?" / ":""}),o.jsx("th",{children:"  "}),o.jsx("th",{children:""}),o.jsx("th",{children:""})]})}),o.jsx("tbody",{children:d.map(E=>o.jsxs("tr",{children:[o.jsx("td",{children:E.clientName}),o.jsx("td",{children:E.courtName}),o.jsxs("td",{children:[E.date.toLocaleDateString("ru-RU"),", ",E.startTime,E.endTime&&`-${E.endTime}`]}),o.jsxs("td",{children:[E.status==="confirmed"&&o.jsx("span",{style:{color:"var(--success)"},children:" "}),E.status==="pending"&&o.jsx("span",{style:{color:"var(--warning)"},children:"  "}),E.status==="cancelled"&&o.jsx("span",{style:{color:"var(--danger)"},children:" "})]}),o.jsxs("td",{children:[E.amount.toLocaleString("ru-RU"),""]})]},E.id))})]})})]}),i&&o.jsx("div",{className:"modal active",onClick:()=>a(!1),style:{display:"flex",position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:1e3,alignItems:"center",justifyContent:"center"},children:o.jsxs("div",{className:"modal-content",onClick:E=>E.stopPropagation(),style:{background:"white",borderRadius:"12px",padding:"24px",maxWidth:"400px",width:"90%",textAlign:"center"},children:[o.jsxs("div",{className:"modal-header",style:{marginBottom:"24px"},children:[o.jsx("h2",{className:"modal-title",children:"QR   "}),o.jsx("button",{className:"modal-close",onClick:()=>a(!1),style:{position:"absolute",right:"24px",top:"24px",background:"none",border:"none",fontSize:"24px",cursor:"pointer"},children:""})]}),o.jsxs("div",{className:"modal-body",children:[o.jsx(dl,{value:k(),size:256,level:"H",includeMargin:!0}),o.jsxs("p",{style:{marginTop:"16px",color:"var(--gray)",fontSize:"14px"},children:["    QR ,",o.jsx("br",{}),"  "]}),o.jsx("div",{style:{marginTop:"24px"},children:o.jsx("button",{className:"btn btn-primary",onClick:()=>{const E=document.querySelector("svg");if(E){const A=new XMLSerializer().serializeToString(E),L=new Blob([A],{type:"image/svg+xml;charset=utf-8"}),R=URL.createObjectURL(L),M=document.createElement("a");M.href=R,M.download=`qr-code-booking-${r}.svg`,document.body.appendChild(M),M.click(),document.body.removeChild(M)}},children:" QR "})})]})]})})]})}const Do=({children:e,permission:t,role:n,requireAll:r=!1,fallback:s})=>{const{hasPermission:i,hasAllPermissions:a,hasRole:l}=an();return n&&!l(n)?s?o.jsx(o.Fragment,{children:s}):o.jsxs(ct,{severity:"error",sx:{mt:2},children:[o.jsx(_i,{children:" "}),"       ."]}):t&&!(r&&Array.isArray(t)?a(t):i(t))?s?o.jsx(o.Fragment,{children:s}):o.jsxs(ct,{severity:"error",sx:{mt:2},children:[o.jsx(_i,{children:" "}),"       ."]}):o.jsx(o.Fragment,{children:e})},Ro=({selectedVenueId:e,onVenueChange:t,label:n=" ",showHint:r=!1})=>{const[s,i]=h.useState([]),[a,l]=h.useState(!0);h.useEffect(()=>{c()},[]);const c=async()=>{try{const d=Ge(Ie(se,"venues"),Pe("status","==","active")),p=(await qe(d)).docs.map(f=>({id:f.id,...f.data()}));i(p)}catch(d){console.error("Error fetching venues:",d)}finally{l(!1)}};return a?o.jsx("div",{children:" ..."}):o.jsx("div",{className:"section-card",style:{marginBottom:"24px"},children:o.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[o.jsx("label",{className:"form-label",children:n}),o.jsxs("select",{className:"form-select",value:e||"",onChange:d=>t(d.target.value),style:{maxWidth:"400px"},children:[o.jsx("option",{value:"",children:" "}),s.map(d=>o.jsx("option",{value:d.id,children:d.name},d.id))]}),r&&o.jsx("p",{className:"form-hint",children:"   "})]})})},Ao=({title:e})=>{const[t,n]=h.useState([]),[r,s]=h.useState(!0);h.useEffect(()=>{i()},[]);const i=async()=>{try{const l=Ge(Ie(se,"venues"),Pe("status","==","active")),d=(await qe(l)).docs.map(u=>({id:u.id,...u.data()}));n(d)}catch(l){console.error("Error fetching venues:",l)}finally{s(!1)}},a=l=>{l&&(localStorage.setItem("selectedVenueId",l),window.location.reload())};return r?o.jsx("div",{children:"..."}):o.jsx("div",{children:o.jsxs("div",{className:"section-card",children:[o.jsx("div",{className:"section-header",children:o.jsx("h2",{className:"section-title",children:e})}),o.jsxs("div",{className:"form-group",style:{maxWidth:"400px"},children:[o.jsx("label",{className:"form-label",children:""}),o.jsxs("select",{className:"form-select",value:"",onChange:l=>a(l.target.value),children:[o.jsx("option",{value:"",children:"   "}),t.map(l=>o.jsx("option",{value:l.id,children:l.name},l.id))]}),o.jsx("p",{className:"form-hint",children:"     "})]})]})})};function SA(){const e=Xt(),{club:t,admin:n,refreshClubData:r}=Ht(),{isSuperAdmin:s,canManageClub:i}=an(),[a,l]=h.useState(null),[c,d]=h.useState(null),[u,p]=h.useState(!1),[f,m]=h.useState(!1),[v,g]=h.useState(null),[y,x]=h.useState({name:"",phone:"",address:"",city:"",latitude:"",longitude:"",description:"",amenities:{showers:!1,parking:!1,cafe:!1,proshop:!1,lockers:!1},organizationType:"",inn:"",bankAccount:"",legalName:"",ogrn:"",kpp:"",legalAddress:"",bankName:"",bankBik:"",bankCorrespondentAccount:"",directorName:"",directorPosition:"",workingHours:{monday:"07:00-23:00",tuesday:"07:00-23:00",wednesday:"07:00-23:00",thursday:"07:00-23:00",friday:"07:00-23:00",saturday:"08:00-22:00",sunday:"08:00-22:00"},bookingDurations:{60:!0,90:!0,120:!0},bookingSlotInterval:30}),[w,C]=h.useState([]),[S,P]=h.useState(!1);h.useEffect(()=>{var I,O,z,$,N,W,V,G;if(s){const Q=localStorage.getItem("selectedVenueId");Q&&(l(Q),T(Q))}else t&&(x({name:t.name||"",phone:t.phone||"",address:t.address||"",city:t.city||"",latitude:((O=(I=t.location)==null?void 0:I._lat)==null?void 0:O.toString())||(($=(z=t.location)==null?void 0:z.latitude)==null?void 0:$.toString())||"",longitude:((W=(N=t.location)==null?void 0:N._long)==null?void 0:W.toString())||((G=(V=t.location)==null?void 0:V.longitude)==null?void 0:G.toString())||"",description:t.description||"",amenities:{showers:Array.isArray(t.amenities)&&t.amenities.includes("showers")||!1,parking:Array.isArray(t.amenities)&&t.amenities.includes("parking")||!1,cafe:Array.isArray(t.amenities)&&t.amenities.includes("cafe")||!1,proshop:Array.isArray(t.amenities)&&t.amenities.includes("proshop")||!1,lockers:Array.isArray(t.amenities)&&t.amenities.includes("lockers")||!1},organizationType:t.organizationType||"",inn:t.inn||"",bankAccount:t.bankAccount||"",legalName:t.legalName||"",ogrn:t.ogrn||"",kpp:t.kpp||"",legalAddress:t.legalAddress||"",bankName:t.bankName||"",bankBik:t.bankBik||"",bankCorrespondentAccount:t.bankCorrespondentAccount||"",directorName:t.directorName||"",directorPosition:t.directorPosition||"",workingHours:t.workingHours||{monday:"07:00-23:00",tuesday:"07:00-23:00",wednesday:"07:00-23:00",thursday:"07:00-23:00",friday:"07:00-23:00",saturday:"08:00-22:00",sunday:"08:00-22:00"},bookingDurations:t.bookingDurations||{60:!0,90:!0,120:!0},bookingSlotInterval:t.bookingSlotInterval||30}),C(t.photos||[]))},[t,s]);const k=I=>{l(I),localStorage.setItem("selectedVenueId",I),I&&T(I)},T=async I=>{var O,z,$,N,W,V,G,Q;try{console.log("Loading venue data for:",I);const oe=await dt(_e(se,"venues",I));if(oe.exists()){const U=oe.data();console.log("Venue data loaded:",U),d({id:oe.id,...U}),x({name:U.name||"",phone:U.phone||"",address:U.address||"",city:U.city||"",latitude:((z=(O=U.location)==null?void 0:O._lat)==null?void 0:z.toString())||((N=($=U.location)==null?void 0:$.latitude)==null?void 0:N.toString())||"",longitude:((V=(W=U.location)==null?void 0:W._long)==null?void 0:V.toString())||((Q=(G=U.location)==null?void 0:G.longitude)==null?void 0:Q.toString())||"",description:U.description||"",amenities:{showers:Array.isArray(U.amenities)&&U.amenities.includes("showers")||!1,parking:Array.isArray(U.amenities)&&U.amenities.includes("parking")||!1,cafe:Array.isArray(U.amenities)&&U.amenities.includes("cafe")||!1,proshop:Array.isArray(U.amenities)&&U.amenities.includes("proshop")||!1,lockers:Array.isArray(U.amenities)&&U.amenities.includes("lockers")||!1},organizationType:U.organizationType||"",inn:U.inn||"",bankAccount:U.bankAccount||"",legalName:U.legalName||"",ogrn:U.ogrn||"",kpp:U.kpp||"",legalAddress:U.legalAddress||"",bankName:U.bankName||"",bankBik:U.bankBik||"",bankCorrespondentAccount:U.bankCorrespondentAccount||"",directorName:U.directorName||"",directorPosition:U.directorPosition||"",workingHours:U.workingHours||{monday:"07:00-23:00",tuesday:"07:00-23:00",wednesday:"07:00-23:00",thursday:"07:00-23:00",friday:"07:00-23:00",saturday:"08:00-22:00",sunday:"08:00-22:00"},bookingDurations:U.bookingDurations||{60:!0,90:!0,120:!0},bookingSlotInterval:U.bookingSlotInterval||30}),C(U.photos||[])}}catch(oe){console.error("Error loading venue:",oe)}},_=I=>{const{name:O,value:z}=I.target;x($=>({...$,[O]:z}))},j=I=>{x(O=>({...O,amenities:{...O.amenities,[I]:!O.amenities[I]}}))},E=async I=>{var $;const O=($=I.target.files)==null?void 0:$[0];if(!O)return;const z=s?a:n==null?void 0:n.venueId;if(!z){g("  ");return}try{p(!0);const N=Bp(Dd,`clubs/${z}/logo.${O.name.split(".").pop()}`),W=await Wp(N,O),V=await Hp(W.ref);await Tt(_e(se,"venues",z),{logoUrl:V}),s&&c?d({...c,logoUrl:V}):await r(),m(!0),setTimeout(()=>m(!1),3e3)}catch(N){console.error("Error uploading logo:",N),g("   ")}finally{p(!1)}},A=async I=>{const O=I.target.files;if(!O||O.length===0)return;const z=s?a:n==null?void 0:n.venueId;if(!z){g("  ");return}if(w.length+O.length>5){g("   - 5");return}try{P(!0);const $=[];for(let V=0;V<O.length;V++){const G=O[V];if(G.size>5*1024*1024){g(` ${G.name}    5 `);continue}if(!G.type.startsWith("image/")){g(` ${G.name}   `);continue}const oe=`photo_${Date.now()}_${V}.${G.name.split(".").pop()}`,U=Bp(Dd,`clubs/${z}/photos/${oe}`);$.push(Wp(U,G).then(async le=>await Hp(le.ref)))}const N=await Promise.all($),W=[...w,...N];C(W),await Tt(_e(se,"venues",z),{photos:W}),s&&c?d({...c,photos:W}):await r(),m(!0),setTimeout(()=>m(!1),3e3)}catch($){console.error("Error uploading photos:",$),g("   ")}finally{P(!1)}},L=async()=>{const I=s?a:n==null?void 0:n.venueId;if(!I){g("  ");return}try{p(!0),await Tt(_e(se,"venues",I),{logoUrl:null}),s&&c?d({...c,logoUrl:null}):await r(),m(!0),setTimeout(()=>m(!1),3e3)}catch(O){console.error("Error deleting logo:",O),g("   ")}finally{p(!1)}},R=async(I,O)=>{const z=s?a:n==null?void 0:n.venueId;if(!z){g("  ");return}try{p(!0);const $=w.filter((N,W)=>W!==O);C($),await Tt(_e(se,"venues",z),{photos:$}),s&&c?d({...c,photos:$}):await r(),m(!0),setTimeout(()=>m(!1),3e3)}catch($){console.error("Error deleting photo:",$),g("   ")}finally{p(!1)}},M=async I=>{I.preventDefault();const O=s?a:n==null?void 0:n.venueId;if(O)try{p(!0);const z=Object.entries(y.amenities).filter(([N,W])=>W).map(([N])=>N),$={name:y.name,phone:y.phone,address:y.address,city:y.city,description:y.description,amenities:z,organizationType:y.organizationType,inn:y.inn,bankAccount:y.bankAccount,legalName:y.legalName,ogrn:y.ogrn,kpp:y.kpp,legalAddress:y.legalAddress,bankName:y.bankName,bankBik:y.bankBik,bankCorrespondentAccount:y.bankCorrespondentAccount,directorName:y.directorName,directorPosition:y.directorPosition,workingHours:y.workingHours,bookingDurations:y.bookingDurations,bookingSlotInterval:y.bookingSlotInterval,updatedAt:new Date};y.latitude&&y.longitude&&($.location=new $b(parseFloat(y.latitude),parseFloat(y.longitude))),await Tt(_e(se,"venues",O),$),s&&c?await T(O):await r(),m(!0),setTimeout(()=>m(!1),3e3)}catch(z){console.error("Error updating club:",z),g("   ")}finally{p(!1)}};if(!i())return o.jsxs(ct,{severity:"error",children:[o.jsx(_i,{children:" "}),"      ."]});if(s&&!a)return o.jsx(Ao,{title:"   "});const D=s?c:t;return o.jsx(Do,{permission:["manage_club","manage_all_venues"],children:o.jsxs("div",{children:[s&&o.jsx(Ro,{selectedVenueId:a,onVenueChange:k}),o.jsxs("div",{className:"section-card",children:[o.jsxs("h2",{className:"section-title",children:["  ",s&&c&&o.jsx("span",{style:{fontSize:"16px",color:"var(--gray)",marginLeft:"16px"},children:c.name})]}),o.jsxs("div",{style:{backgroundColor:"#e3f2fd",padding:"12px 16px",borderRadius:"8px",marginBottom:"20px",fontSize:"14px",color:"#1976d2"},children:[o.jsx("strong",{children:"   :"}),o.jsx("br",{}),"1.  ",o.jsx("a",{href:"https://maps.google.com",target:"_blank",rel:"noopener noreferrer",style:{color:"#1976d2"},children:"Google Maps"}),o.jsx("br",{}),"2.     ",o.jsx("br",{}),"3.       ",o.jsx("br",{}),"4.   (  - ,  - )"]}),o.jsxs("form",{onSubmit:M,children:[v&&o.jsx(ct,{severity:"error",sx:{mb:3},onClose:()=>g(null),children:v}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:" "}),o.jsxs("div",{className:"logo-uploader",style:{display:"flex",alignItems:"center",gap:"24px"},children:[o.jsx("div",{className:"logo-preview",style:{width:"120px",height:"120px",border:"2px dashed var(--extra-light-gray)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",background:"var(--background)",position:"relative"},onMouseEnter:I=>{const O=I.currentTarget.querySelector("button");O&&(O.style.opacity="1")},onMouseLeave:I=>{const O=I.currentTarget.querySelector("button");O&&(O.style.opacity="0")},children:D!=null&&D.logoUrl?o.jsxs(o.Fragment,{children:[o.jsx("img",{src:D.logoUrl,alt:D.name,style:{width:"100%",height:"100%",objectFit:"cover"}}),o.jsx("button",{type:"button",onClick:L,style:{position:"absolute",top:"4px",right:"4px",width:"28px",height:"28px",borderRadius:"50%",background:"rgba(255, 255, 255, 0.9)",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",opacity:0,transition:"opacity 0.2s"},disabled:u,children:o.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"#dc2626",children:o.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}):o.jsxs("div",{style:{textAlign:"center",color:"var(--gray)"},children:[o.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"var(--light-gray)",children:o.jsx("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"})}),o.jsx("p",{style:{fontSize:"12px",marginTop:"8px"},children:"  "})]})}),o.jsxs("div",{children:[o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>{var I;return(I=document.getElementById("logoInput"))==null?void 0:I.click()},disabled:u,children:" "}),o.jsx("input",{type:"file",id:"logoInput",accept:"image/*",style:{display:"none"},onChange:E}),o.jsxs("p",{className:"form-hint",children:[" : 500x500px",o.jsx("br",{})," 2MB. PNG, JPG  SVG"]})]})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:" "}),o.jsx("div",{style:{marginBottom:"16px"},children:o.jsx("p",{className:"form-hint",children:" 5 ,  5  .  : 1920x1080px"})}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"16px",marginBottom:"16px"},children:[w.map((I,O)=>o.jsxs("div",{style:{position:"relative",paddingBottom:"56.25%",overflow:"hidden",borderRadius:"12px",background:"var(--extra-light-gray)"},children:[o.jsx("img",{src:I,alt:` ${O+1}`,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}}),o.jsx("button",{type:"button",onClick:()=>R(I,O),style:{position:"absolute",top:"8px",right:"8px",width:"32px",height:"32px",borderRadius:"50%",background:"rgba(255, 255, 255, 0.9)",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},disabled:u,children:o.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"#dc2626",children:o.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]},O)),w.length<5&&o.jsx("div",{onClick:()=>{var I;return(I=document.getElementById("photosInput"))==null?void 0:I.click()},style:{position:"relative",paddingBottom:"56.25%",overflow:"hidden",borderRadius:"12px",border:"2px dashed var(--extra-light-gray)",background:"var(--background)",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:I=>{I.currentTarget.style.borderColor="var(--primary)",I.currentTarget.style.background="rgba(0, 214, 50, 0.05)"},onMouseLeave:I=>{I.currentTarget.style.borderColor="var(--extra-light-gray)",I.currentTarget.style.background="var(--background)"},children:o.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",color:"var(--gray)"},children:[o.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"var(--light-gray)",children:o.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})}),o.jsx("p",{style:{fontSize:"14px",marginTop:"8px"},children:S?"...":" "})]})})]}),o.jsx("input",{type:"file",id:"photosInput",accept:"image/*",multiple:!0,style:{display:"none"},onChange:A,disabled:S||w.length>=5})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:" "}),o.jsx("input",{type:"text",className:"form-input",name:"name",value:y.name,onChange:_,required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:""}),o.jsx("input",{type:"tel",className:"form-input",name:"phone",value:y.phone,onChange:_,required:!0})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:""}),o.jsx("input",{type:"text",className:"form-input",name:"address",value:y.address,onChange:_,required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:""}),o.jsx("input",{type:"text",className:"form-input",name:"city",value:y.city,onChange:_,placeholder:": "})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:" (Latitude)"}),o.jsx("input",{type:"number",step:"0.000001",className:"form-input",name:"latitude",value:y.latitude,onChange:_,placeholder:"55.755831"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:" (Longitude)"}),o.jsx("input",{type:"number",step:"0.000001",className:"form-input",name:"longitude",value:y.longitude,onChange:_,placeholder:"37.617673"})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:""}),o.jsx("textarea",{className:"form-textarea",name:"description",value:y.description,onChange:_,rows:4})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:""}),o.jsxs("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap",marginTop:"12px"},children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:y.amenities.showers,onChange:()=>j("showers")}),""]}),o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:y.amenities.parking,onChange:()=>j("parking")}),""]}),o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:y.amenities.cafe,onChange:()=>j("cafe")}),""]}),o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:y.amenities.proshop,onChange:()=>j("proshop")}),"Pro Shop"]}),o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:y.amenities.lockers,onChange:()=>j("lockers")}),""]})]})]}),o.jsxs("div",{style:{marginTop:"32px"},children:[o.jsx("h3",{className:"section-subtitle",children:" "}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px",marginTop:"16px"},children:[{key:"monday",label:""},{key:"tuesday",label:""},{key:"wednesday",label:""},{key:"thursday",label:""},{key:"friday",label:""},{key:"saturday",label:""},{key:"sunday",label:""}].map(I=>o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:I.label}),o.jsx("input",{type:"text",className:"form-input",value:y.workingHours[I.key],onChange:O=>x(z=>({...z,workingHours:{...z.workingHours,[I.key]:O.target.value}})),placeholder:"07:00-23:00"}),o.jsx("span",{className:"form-hint",children:":-:"})]},I.key))})]}),o.jsxs("div",{style:{marginTop:"32px"},children:[o.jsx("h3",{className:"section-subtitle",children:"  "}),o.jsxs("div",{style:{display:"flex",gap:"24px",flexWrap:"wrap",marginTop:"16px"},children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:y.bookingDurations[60],onChange:()=>x(I=>({...I,bookingDurations:{...I.bookingDurations,60:!I.bookingDurations[60]}}))}),"1 "]}),o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:y.bookingDurations[90],onChange:()=>x(I=>({...I,bookingDurations:{...I.bookingDurations,90:!I.bookingDurations[90]}}))}),"1.5 "]}),o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:y.bookingDurations[120],onChange:()=>x(I=>({...I,bookingDurations:{...I.bookingDurations,120:!I.bookingDurations[120]}}))}),"2 "]})]}),o.jsx("p",{className:"form-hint",style:{marginTop:"8px"},children:",      "})]}),o.jsxs("div",{style:{marginTop:"32px"},children:[o.jsx("h3",{className:"section-subtitle",children:"  "}),o.jsxs("div",{style:{display:"flex",gap:"16px",marginTop:"16px"},children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[o.jsx("input",{type:"radio",name:"bookingSlotInterval",value:"30",checked:y.bookingSlotInterval===30,onChange:()=>x(I=>({...I,bookingSlotInterval:30}))})," 30  ()"]}),o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[o.jsx("input",{type:"radio",name:"bookingSlotInterval",value:"60",checked:y.bookingSlotInterval===60,onChange:()=>x(I=>({...I,bookingSlotInterval:60}))}),"  00  ( )"]})]}),o.jsx("p",{className:"form-hint",style:{marginTop:"8px"},children:'     .   "  00 "        (, 10:00, 11:00, 12:00)'})]}),o.jsxs("div",{style:{display:"flex",gap:"12px"},children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"...":" "}),o.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{var O,z,$,N,W,V,G,Q;const I=s?c:t;I&&x({name:I.name||"",phone:I.phone||"",address:I.address||"",city:I.city||"",latitude:((z=(O=I.location)==null?void 0:O._lat)==null?void 0:z.toString())||((N=($=I.location)==null?void 0:$.latitude)==null?void 0:N.toString())||"",longitude:((V=(W=I.location)==null?void 0:W._long)==null?void 0:V.toString())||((Q=(G=I.location)==null?void 0:G.longitude)==null?void 0:Q.toString())||"",description:I.description||"",amenities:{showers:Array.isArray(I.amenities)&&I.amenities.includes("showers")||!1,parking:Array.isArray(I.amenities)&&I.amenities.includes("parking")||!1,cafe:Array.isArray(I.amenities)&&I.amenities.includes("cafe")||!1,proshop:Array.isArray(I.amenities)&&I.amenities.includes("proshop")||!1,lockers:Array.isArray(I.amenities)&&I.amenities.includes("lockers")||!1},organizationType:I.organizationType||"",inn:I.inn||"",bankAccount:I.bankAccount||"",legalName:I.legalName||"",ogrn:I.ogrn||"",kpp:I.kpp||"",legalAddress:I.legalAddress||"",bankName:I.bankName||"",bankBik:I.bankBik||"",bankCorrespondentAccount:I.bankCorrespondentAccount||"",directorName:I.directorName||"",directorPosition:I.directorPosition||"",workingHours:I.workingHours||{monday:"07:00-23:00",tuesday:"07:00-23:00",wednesday:"07:00-23:00",thursday:"07:00-23:00",friday:"07:00-23:00",saturday:"08:00-22:00",sunday:"08:00-22:00"},bookingDurations:I.bookingDurations||{60:!0,90:!0,120:!0},bookingSlotInterval:I.bookingSlotInterval||30})},children:""})]}),f&&o.jsx("div",{style:{marginTop:"16px",padding:"12px",background:"rgba(16, 185, 129, 0.1)",color:"var(--success)",borderRadius:"8px",fontSize:"14px"},children:"   "})]})]}),o.jsxs("div",{className:"section-card",children:[o.jsx("h2",{className:"section-title",children:" "}),o.jsxs("form",{onSubmit:M,children:[o.jsxs("div",{className:"form-group",style:{marginTop:"24px"},children:[o.jsx("label",{className:"form-label",children:" "}),o.jsxs("select",{className:"form-select",name:"organizationType",value:y.organizationType,onChange:_,children:[o.jsx("option",{value:"",children:" "}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"",children:""})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:" "}),o.jsx("input",{type:"text",className:"form-input",name:"legalName",value:y.legalName,onChange:_,placeholder:"  "})]}),o.jsxs("div",{className:"form-row",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:""}),o.jsx("input",{type:"text",className:"form-input",name:"inn",value:y.inn,onChange:_,placeholder:"1234567890"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:""}),o.jsx("input",{type:"text",className:"form-input",name:"kpp",value:y.kpp,onChange:_,placeholder:"123456789"})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:" / "}),o.jsx("input",{type:"text",className:"form-input",name:"ogrn",value:y.ogrn,onChange:_,placeholder:"1234567890123"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:" "}),o.jsx("input",{type:"text",className:"form-input",name:"legalAddress",value:y.legalAddress,onChange:_,placeholder:"123456, . , . , . 1,  1"})]}),o.jsx("h3",{style:{marginTop:"32px",marginBottom:"16px",fontSize:"18px"},children:" "}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:" "}),o.jsx("input",{type:"text",className:"form-input",name:"bankName",value:y.bankName,onChange:_,placeholder:" "})]}),o.jsxs("div",{className:"form-row",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:" "}),o.jsx("input",{type:"text",className:"form-input",name:"bankBik",value:y.bankBik,onChange:_,placeholder:"044525225"})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:". "}),o.jsx("input",{type:"text",className:"form-input",name:"bankCorrespondentAccount",value:y.bankCorrespondentAccount,onChange:_,placeholder:"30101810400000000225"})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:" "}),o.jsx("input",{type:"text",className:"form-input",name:"bankAccount",value:y.bankAccount,onChange:_,placeholder:"40702810900000123456"})]}),o.jsx("h3",{style:{marginTop:"32px",marginBottom:"16px",fontSize:"18px"},children:""}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:" "}),o.jsx("input",{type:"text",className:"form-input",name:"directorName",value:y.directorName,onChange:_,placeholder:"  "})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:""}),o.jsx("input",{type:"text",className:"form-input",name:"directorPosition",value:y.directorPosition,onChange:_,placeholder:" "})]}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"...":" "})]}),o.jsxs("div",{style:{marginTop:"24px",padding:"16px",background:"var(--background)",borderRadius:"8px",textAlign:"center"},children:[o.jsx("p",{style:{fontSize:"14px",color:"var(--gray)",marginBottom:"12px"},children:"     "}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>e("/admin/payment-settings"),style:{width:"auto"},children:"   "})]})]})]})})}const ga=["#00A86B","#2E86AB","#FF6B6B","#F39C12","#8E44AD","#E91E63","#00BCD4","#795548","#607D8B","#FF5722","#009688","#3F51B5","#FFEB3B","#4CAF50","#FF9800"];function kA(){const{admin:e}=Ht(),{isSuperAdmin:t,canManageCourts:n}=an(),[r,s]=h.useState(null),[i,a]=h.useState([]),[l,c]=h.useState(!0),[d,u]=h.useState(!1),[p,f]=h.useState(null),[m,v]=h.useState({name:"",type:"padel",courtType:"indoor",pricing:{monday:{basePrice:1900,intervals:[]},tuesday:{basePrice:1900,intervals:[]},wednesday:{basePrice:1900,intervals:[]},thursday:{basePrice:1900,intervals:[]},friday:{basePrice:1900,intervals:[]},saturday:{basePrice:2400,intervals:[]},sunday:{basePrice:2400,intervals:[]}},status:"active",color:"#00A86B"});h.useEffect(()=>{if(t){const _=localStorage.getItem("selectedVenueId");_&&(s(_),y(_))}else e!=null&&e.venueId&&y(e.venueId)},[e,t]);const g=_=>{s(_),localStorage.setItem("selectedVenueId",_),_&&y(_)},y=async _=>{if(_)try{c(!0);const j=Ge(Ie(se,"venues",_,"courts")),A=(await qe(j)).docs.map((L,R)=>{const M=L.data();if(!M.color){const D=R%ga.length;M.color=ga[D],Tt(L.ref,{color:M.color})}return{id:L.id,...M}});a(A)}catch(j){console.error("Error fetching courts:",j)}finally{c(!1)}},x=()=>{const _=i.map(E=>E.color).filter(Boolean);for(const E of ga)if(!_.includes(E))return E;const j=ga.reduce((E,A)=>(E[A]=_.filter(L=>L===A).length,E),{});return Object.entries(j).sort((E,A)=>E[1]-A[1])[0][0]},w=_=>{const{name:j,value:E}=_.target;v(A=>({...A,[j]:j.includes("price")?Number(E):E}))},C=async _=>{_.preventDefault();const j=t?r:e==null?void 0:e.venueId;if(j)try{p?await Tt(_e(se,"venues",j,"courts",p.id),{...m,updatedAt:new Date}):await mr(Ie(se,"venues",j,"courts"),{...m,createdAt:new Date}),u(!1),f(null);const E=x();v({name:"",type:"padel",courtType:"indoor",pricing:{monday:{basePrice:1900,intervals:[]},tuesday:{basePrice:1900,intervals:[]},wednesday:{basePrice:1900,intervals:[]},thursday:{basePrice:1900,intervals:[]},friday:{basePrice:1900,intervals:[]},saturday:{basePrice:2400,intervals:[]},sunday:{basePrice:2400,intervals:[]}},status:"active",color:E}),y(j)}catch(E){console.error("Error saving court:",E)}},S=_=>{f(_),v({name:_.name,type:_.type,courtType:_.courtType,pricing:_.pricing||{monday:{basePrice:1900,intervals:[]},tuesday:{basePrice:1900,intervals:[]},wednesday:{basePrice:1900,intervals:[]},thursday:{basePrice:1900,intervals:[]},friday:{basePrice:1900,intervals:[]},saturday:{basePrice:2400,intervals:[]},sunday:{basePrice:2400,intervals:[]}},status:_.status,color:_.color||"#00A86B"}),u(!0)},P=async _=>{if(window.confirm(" ,     ?"))try{const j=t?r:e==null?void 0:e.venueId;if(!j)return;await Ai(_e(se,"venues",j,"courts",_)),y(j)}catch(j){console.error("Error deleting court:",j)}},k=_=>{switch(_){case"tennis":return"tennis";case"padel":return"padel";case"badminton":return"badminton";default:return"padel"}},T=_=>{switch(_){case"tennis":return"";case"padel":return"";case"badminton":return"";default:return _}};return l?o.jsx("div",{children:"..."}):n()?t&&!r?o.jsx(Ao,{title:"    "}):o.jsxs(Do,{permission:["manage_courts","manage_all_venues"],children:[o.jsxs("div",{children:[t&&o.jsx(Ro,{selectedVenueId:r,onVenueChange:g}),o.jsxs("div",{className:"section-card",children:[o.jsxs("div",{className:"section-header",children:[o.jsx("h2",{className:"section-title",children:" "}),o.jsxs("button",{className:"btn btn-primary",onClick:()=>{const _=x();v(j=>({...j,color:_})),u(!0)},children:[o.jsx(ea,{fontSize:"small"})," "]})]}),o.jsx("div",{className:"courts-grid",children:i.map(_=>o.jsxs("div",{className:"court-card",children:[o.jsx("div",{className:"court-header",children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[_.color&&o.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"4px",backgroundColor:_.color,border:"1px solid #e5e7eb"}}),o.jsxs("div",{children:[o.jsx("div",{className:"court-name",children:_.name}),o.jsx("span",{className:`court-type ${k(_.type)}`,children:T(_.type)})]})]})}),o.jsxs("div",{className:"court-details",children:[o.jsxs("div",{children:[": ",_.courtType==="indoor"?"":""]}),o.jsx("div",{children:_.pricing?o.jsxs(o.Fragment,{children:[":  ",Math.min(...Object.values(_.pricing).filter(j=>j).map(j=>j.basePrice)),"  ",Math.max(...Object.values(_.pricing).filter(j=>j).map(j=>j.basePrice)),""]}):o.jsxs(o.Fragment,{children:[": ",_.priceWeekday||1900," | : ",_.priceWeekend||2400,""]})}),o.jsxs("div",{children:[": ",_.status==="active"?"":_.status==="maintenance"?"":""]})]}),o.jsxs("div",{className:"court-actions",children:[o.jsxs("button",{className:"btn btn-secondary",onClick:()=>S(_),children:[o.jsx(Ii,{fontSize:"small"}),""]}),o.jsx("button",{className:"btn btn-danger",onClick:()=>P(_.id),style:{marginLeft:"auto"},children:o.jsx(bs,{fontSize:"small"})})]})]},_.id))}),i.length===0&&o.jsxs("div",{style:{textAlign:"center",padding:"48px",color:"var(--gray)"},children:[o.jsx("p",{children:"    "}),o.jsx("p",{children:' " ",   '})]})]})]}),o.jsx("div",{className:`modal ${d?"active":""}`,children:o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h3",{className:"modal-title",children:p?" ":" "}),o.jsx("button",{className:"modal-close",onClick:()=>{u(!1),f(null);const _=x();v({name:"",type:"padel",courtType:"indoor",pricing:{monday:{basePrice:1900,intervals:[]},tuesday:{basePrice:1900,intervals:[]},wednesday:{basePrice:1900,intervals:[]},thursday:{basePrice:1900,intervals:[]},friday:{basePrice:1900,intervals:[]},saturday:{basePrice:2400,intervals:[]},sunday:{basePrice:2400,intervals:[]}},status:"active",color:_})},children:o.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),o.jsxs("form",{onSubmit:C,children:[o.jsxs("div",{className:"modal-body",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:" "}),o.jsx("input",{type:"text",className:"form-input",name:"name",value:m.name,onChange:w,placeholder:":   1",required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:" "}),o.jsxs("select",{className:"form-select",name:"type",value:m.type,onChange:w,children:[o.jsx("option",{value:"padel",children:""}),o.jsx("option",{value:"tennis",children:""}),o.jsx("option",{value:"badminton",children:""})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:" "}),o.jsxs("select",{className:"form-select",name:"courtType",value:m.courtType,onChange:w,children:[o.jsx("option",{value:"indoor",children:""}),o.jsx("option",{value:"outdoor",children:""})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:" "}),o.jsx("div",{style:{marginTop:"16px"},children:[{key:"monday",label:""},{key:"tuesday",label:""},{key:"wednesday",label:""},{key:"thursday",label:""},{key:"friday",label:""},{key:"saturday",label:""},{key:"sunday",label:""}].map(_=>{var j;return o.jsxs("div",{style:{marginBottom:"24px",padding:"16px",background:"#f8f9fa",borderRadius:"8px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"12px"},children:[o.jsx("h4",{style:{margin:0},children:_.label}),o.jsx("input",{type:"number",className:"form-input",style:{width:"120px"},value:m.pricing[_.key].basePrice,onChange:E=>{const A=Number(E.target.value);v(L=>({...L,pricing:{...L.pricing,[_.key]:{...L.pricing[_.key],basePrice:A}}}))},min:"0",placeholder:" "}),o.jsx("span",{style:{marginLeft:"8px"},children:"/"})]}),o.jsxs("div",{style:{marginTop:"12px"},children:[o.jsx("div",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"8px"},children:"   :"}),(j=m.pricing[_.key].intervals)==null?void 0:j.map((E,A)=>o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[o.jsx("input",{type:"time",className:"form-input",style:{width:"100px"},value:E.from,onChange:L=>{const R=[...m.pricing[_.key].intervals];R[A].from=L.target.value,v(M=>({...M,pricing:{...M.pricing,[_.key]:{...M.pricing[_.key],intervals:R}}}))},step:"3600"}),o.jsx("span",{children:"-"}),o.jsx("input",{type:"time",className:"form-input",style:{width:"100px"},value:E.to,onChange:L=>{const R=[...m.pricing[_.key].intervals];R[A].to=L.target.value,v(M=>({...M,pricing:{...M.pricing,[_.key]:{...M.pricing[_.key],intervals:R}}}))},step:"3600"}),o.jsx("input",{type:"number",className:"form-input",style:{width:"100px"},value:E.price,onChange:L=>{const R=[...m.pricing[_.key].intervals];R[A].price=Number(L.target.value),v(M=>({...M,pricing:{...M.pricing,[_.key]:{...M.pricing[_.key],intervals:R}}}))},min:"0",placeholder:""}),o.jsx("span",{children:""}),o.jsx("button",{type:"button",className:"btn btn-secondary",style:{padding:"4px 8px"},onClick:()=>{const L=m.pricing[_.key].intervals.filter((R,M)=>M!==A);v(R=>({...R,pricing:{...R.pricing,[_.key]:{...R.pricing[_.key],intervals:L}}}))},children:""})]},A)),o.jsx("button",{type:"button",className:"btn btn-link",style:{padding:"4px 8px",fontSize:"14px"},onClick:()=>{const E=[...m.pricing[_.key].intervals||[],{from:"09:00",to:"11:00",price:m.pricing[_.key].basePrice*1.5}];v(A=>({...A,pricing:{...A.pricing,[_.key]:{...A.pricing[_.key],intervals:E}}}))},children:"+  "})]})]},_.key)})})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:""}),o.jsxs("select",{className:"form-select",name:"status",value:m.status,onChange:w,children:[o.jsx("option",{value:"active",children:""}),o.jsx("option",{value:"maintenance",children:" "}),o.jsx("option",{value:"inactive",children:""})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:" "}),o.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[o.jsx("input",{type:"color",className:"form-input",name:"color",value:m.color,onChange:w,style:{width:"80px",height:"48px",padding:"4px",cursor:"pointer"}}),o.jsx("input",{type:"text",className:"form-input",value:m.color,onChange:_=>v(j=>({...j,color:_.target.value})),placeholder:"#00A86B",style:{flex:1}})]}),o.jsx("div",{className:"form-hint",children:"         "})]})]}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{u(!1),f(null)},children:""}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:p?" ":" "})]})]})]})})]}):o.jsxs(ct,{severity:"error",children:[o.jsx(_i,{children:" "}),"      ."]})}const bm={awaiting_payment:" ",paid:"",online_payment:" ",cancelled:""},Cm={awaiting_payment:"#F59E0B",paid:"#10B981",online_payment:"#3B82F6",cancelled:"#EF4444"},_A={awaiting_payment:Gd,paid:Cp,online_payment:vo,cancelled:al};function Jd({bookingId:e,currentStatus:t,paymentMethod:n,onStatusUpdate:r}){const{admin:s}=Ht(),[i,a]=h.useState(!1),[l,c]=h.useState(!1),[d,u]=h.useState(null),[p,f]=h.useState(t);h.useEffect(()=>{console.log("PaymentStatusManager: currentStatus changed to",t),f(t)},[t]),h.useEffect(()=>{if(!e)return;console.log("PaymentStatusManager: subscribing to booking changes");const y=vr(_e(se,"bookings",e),x=>{if(x.exists()){const C=x.data().paymentStatus||"awaiting_payment";console.log("PaymentStatusManager: realtime update, status:",C),f(C)}});return()=>y()},[e]);const m=p==="awaiting_payment"&&n!=="online",v=async y=>{if(!s){alert(":   ");return}a(!0);try{const x=_e(se,"bookings",e),w=await dt(x);if(!w.exists())throw new Error("  ");const S=w.data().paymentHistory||[],P={timestamp:$r.now(),action:y,userId:s.uid||"unknown",userName:s.displayName||s.email||""},k={paymentStatus:y};Array.isArray(S)?k.paymentHistory=[...S,P]:k.paymentHistory=[P],y==="cancelled"&&(k.status="cancelled"),Object.keys(k).forEach(T=>{k[T]===void 0&&delete k[T]}),await Tt(x,k),c(!1),u(null),await new Promise(T=>setTimeout(T,500)),f(y),r&&await r()}catch(x){console.error("Error updating payment status:",x);let w="    ";x.code==="permission-denied"?w="       ":x.code==="not-found"?w="  ":x.message&&(w=`: ${x.message}`),alert(w)}finally{a(!1)}},g=_A[p];return console.log("PaymentStatusManager render:",{bookingId:e,currentStatus:t,localStatus:p,canChangeStatus:m}),o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"6px 12px",background:`${Cm[p]}1A`,color:Cm[p],borderRadius:"20px",fontSize:"14px",fontWeight:"600"},children:[o.jsx(g,{style:{fontSize:"18px"}}),o.jsx("span",{children:bm[p]}),m&&o.jsxs("div",{style:{marginLeft:"8px",display:"flex",gap:"4px"},children:[o.jsx("button",{onClick:()=>{u("paid"),c(!0)},disabled:i,style:{padding:"4px 8px",fontSize:"12px",background:"#10B981",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",opacity:i?.6:1},children:""}),o.jsx("button",{onClick:()=>{u("cancelled"),c(!0)},disabled:i,style:{padding:"4px 8px",fontSize:"12px",background:"#EF4444",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",opacity:i?.6:1},children:""})]})]}),l&&d&&o.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:o.jsxs("div",{style:{background:"white",padding:"24px",borderRadius:"12px",maxWidth:"400px",width:"90%"},children:[o.jsx("h3",{style:{marginBottom:"16px"},children:""}),o.jsxs("p",{style:{marginBottom:"24px"},children:[' ,       "',bm[d],'"?']}),o.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[o.jsx("button",{onClick:()=>{c(!1),u(null)},style:{padding:"8px 16px",background:"#E5E7EB",border:"none",borderRadius:"8px",cursor:"pointer"},children:""}),o.jsx("button",{onClick:()=>v(d),disabled:i,style:{padding:"8px 16px",background:d==="paid"?"#10B981":"#EF4444",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",opacity:i?.6:1},children:i?"...":""})]})]})})]})}const TA={created:" ",paid:"",cancelled:""},wm={created:"#6B7280",paid:"#10B981",cancelled:"#EF4444"};function EA({history:e}){if(!e||e.length===0)return null;const t=n=>{const r=n.toDate?n.toDate():new Date(n);return new Intl.DateTimeFormat("ru-RU",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(r)};return o.jsxs("div",{style:{marginTop:"16px",padding:"16px",background:"var(--background)",borderRadius:"8px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px",color:"var(--gray)",fontSize:"14px",fontWeight:"600"},children:[o.jsx(qR,{style:{fontSize:"18px"}})," "]}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:e.map((n,r)=>o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"8px",background:"var(--white)",borderRadius:"6px",fontSize:"14px"},children:[o.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:wm[n.action],flexShrink:0}}),o.jsxs("div",{style:{flex:1},children:[o.jsx("div",{style:{color:wm[n.action],fontWeight:"500"},children:TA[n.action]}),o.jsx("div",{style:{color:"var(--gray)",fontSize:"12px",marginTop:"2px"},children:t(n.timestamp)})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",color:"var(--gray)",fontSize:"12px"},children:[o.jsx(sx,{style:{fontSize:"16px"}}),n.userName||""]}),n.note&&o.jsx("div",{style:{fontSize:"12px",color:"var(--gray)",fontStyle:"italic"},children:n.note})]},r))})]})}function wx({booking:e,isOpen:t,onClose:n,onUpdate:r}){var f,m;const[s,i]=h.useState(e);h.useEffect(()=>{if(e&&t){a(e.id);const v=vr(_e(se,"bookings",e.id),g=>{var y,x;if(g.exists()){const w=g.data(),C={id:g.id,...w,date:(y=w.date)!=null&&y.toDate?w.date.toDate():new Date(w.date),createdAt:(x=w.createdAt)!=null&&x.toDate?w.createdAt.toDate():new Date(w.createdAt||Date.now()),paymentStatus:w.paymentStatus||"awaiting_payment",paymentHistory:w.paymentHistory||[]};i(C)}});return()=>v()}},[e==null?void 0:e.id,t]);const a=async v=>{var g,y;console.log("Loading fresh booking data:",v);try{const x=await dt(_e(se,"bookings",v));if(x.exists()){const w=x.data(),C={id:x.id,...w,date:(g=w.date)!=null&&g.toDate?w.date.toDate():new Date(w.date),createdAt:(y=w.createdAt)!=null&&y.toDate?w.createdAt.toDate():new Date(w.createdAt||Date.now()),paymentStatus:w.paymentStatus||"awaiting_payment",paymentHistory:w.paymentHistory||[]};console.log("Fresh booking loaded with payment status:",C.paymentStatus),i(C)}}catch(x){console.error("Error loading fresh booking:",x)}};if(!t||!s)return null;const l=v=>new Intl.DateTimeFormat("ru-RU",{weekday:"long",day:"numeric",month:"long",year:"numeric"}).format(v),c=v=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0}).format(v),d={cash:"",card_on_site:"  ",transfer:"",online:""},u={confirmed:"",pending:"",cancelled:""},p={confirmed:"#10B981",pending:"#F59E0B",cancelled:"#EF4444"};return o.jsx("div",{className:"modal active",children:o.jsxs("div",{className:"modal-content",style:{maxWidth:"700px"},children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h2",{className:"modal-title",children:" "}),o.jsx("button",{className:"modal-close",onClick:n,children:o.jsx(wp,{})})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("div",{style:{display:"grid",gap:"24px"},children:[o.jsxs("div",{children:[o.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"  "}),o.jsxs("div",{style:{display:"grid",gap:"12px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("span",{style:{color:"var(--gray)"},children:":"}),o.jsx("span",{style:{fontWeight:"600"},children:s.courtName})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("span",{style:{color:"var(--gray)"},children:":"}),o.jsx("span",{style:{fontWeight:"600"},children:l(s.date)})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("span",{style:{color:"var(--gray)"},children:":"}),o.jsxs("span",{style:{fontWeight:"600"},children:[s.startTime," - ",s.endTime]})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("span",{style:{color:"var(--gray)"},children:":"}),o.jsx("span",{style:{fontWeight:"600",color:p[s.status]},children:u[s.status]})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"  "}),o.jsxs("div",{style:{display:"grid",gap:"12px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("span",{style:{color:"var(--gray)"},children:":"}),o.jsx("span",{style:{fontWeight:"600"},children:s.clientName||s.customerName})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("span",{style:{color:"var(--gray)"},children:":"}),o.jsx("span",{style:{fontWeight:"600"},children:s.clientPhone||s.customerPhone})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"  "}),o.jsxs("div",{style:{display:"grid",gap:"12px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("span",{style:{color:"var(--gray)"},children:":"}),o.jsx("span",{style:{fontWeight:"600"},children:((f=s.createdBy)==null?void 0:f.userName)||""})]}),((m=s.createdBy)==null?void 0:m.userRole)&&o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("span",{style:{color:"var(--gray)"},children:":"}),o.jsx("span",{style:{fontWeight:"600"},children:s.createdBy.userRole==="superadmin"?"":""})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("span",{style:{color:"var(--gray)"},children:" :"}),o.jsx("span",{style:{fontWeight:"600"},children:new Intl.DateTimeFormat("ru-RU",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(s.createdAt)})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"  "}),o.jsxs("div",{style:{display:"grid",gap:"12px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("span",{style:{color:"var(--gray)"},children:":"}),o.jsx("span",{style:{fontWeight:"600",fontSize:"18px"},children:c(s.amount)})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("span",{style:{color:"var(--gray)"},children:" :"}),o.jsx("span",{style:{fontWeight:"600"},children:d[s.paymentMethod]})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("span",{style:{color:"var(--gray)"},children:" :"}),o.jsx(Jd,{bookingId:s.id,currentStatus:s.paymentStatus||"awaiting_payment",paymentMethod:s.paymentMethod,onStatusUpdate:async()=>{r&&await r()}},`${s.id}-${s.paymentStatus}`)]})]})]}),s.paymentHistory&&s.paymentHistory.length>0&&o.jsx(EA,{history:s.paymentHistory})]})}),o.jsx("div",{className:"modal-footer",children:o.jsx("button",{className:"btn btn-secondary",onClick:n,children:""})})]})})}function PA({venueId:e,onRefresh:t}){const{admin:n}=Ht(),{hasPermission:r}=an(),[s,i]=h.useState([]),[a,l]=h.useState(!0),[c,d]=h.useState("all"),[u,p]=h.useState("all"),[f,m]=h.useState(!1),[v,g]=h.useState(null),[y,x]=h.useState(!1);h.useEffect(()=>{w()},[e]);const w=async()=>{if(!e){console.log("No venueId provided to BookingsList");return}console.log("BookingsList: Fetching bookings for venue:",e);try{l(!0);const j=Ge(Ie(se,"bookings"),Pe("venueId","==",e)),E=await qe(j);console.log("BookingsList: Found bookings:",E.size);const L=E.docs.map(R=>{var D,I;const M=R.data();return console.log("BookingsList: Raw booking:",M),{id:R.id,...M,date:(D=M.date)!=null&&D.toDate?M.date.toDate():new Date(M.date),createdAt:(I=M.createdAt)!=null&&I.toDate?M.createdAt.toDate():new Date}}).sort((R,M)=>new Date(M.date).getTime()-new Date(R.date).getTime());console.log("BookingsList: Processed and sorted bookings:",L),i(L)}catch(j){console.error("Error fetching bookings:",j)}finally{l(!1)}},C=async j=>{if(confirm(" ,     ?"))try{await Ai(_e(se,"bookings",j)),w(),t&&t()}catch(E){console.error("Error deleting booking:",E),alert("   ")}},S=s.filter(j=>!(c!=="all"&&j.status!==c||u!=="all"&&(j.paymentStatus||"awaiting_payment")!==u)),P=j=>new Intl.DateTimeFormat("ru-RU",{day:"numeric",month:"long",year:"numeric"}).format(j),k=j=>j||"",T=j=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0}).format(j),_={cash:"",card_on_site:"  ",transfer:"",online:""};return a?o.jsx("div",{children:"..."}):o.jsxs("div",{className:"section-card",children:[o.jsxs("div",{className:"section-header",children:[o.jsx("h2",{className:"section-title",children:" "}),o.jsxs("button",{className:"btn btn-secondary btn-icon",onClick:()=>m(!f),children:[o.jsx(GR,{}),""]})]}),f&&o.jsxs("div",{className:"booking-filters-mobile",style:{marginBottom:"24px",padding:"16px",background:"var(--background)",borderRadius:"8px",display:"flex",gap:"16px",flexWrap:"wrap"},children:[o.jsxs("div",{children:[o.jsx("label",{className:"form-label",style:{fontSize:"12px",marginBottom:"4px"},children:" "}),o.jsxs("select",{className:"form-select",value:c,onChange:j=>d(j.target.value),style:{minWidth:"150px"},children:[o.jsx("option",{value:"all",children:""}),o.jsx("option",{value:"confirmed",children:""}),o.jsx("option",{value:"pending",children:""}),o.jsx("option",{value:"cancelled",children:""})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"form-label",style:{fontSize:"12px",marginBottom:"4px"},children:" "}),o.jsxs("select",{className:"form-select",value:u,onChange:j=>p(j.target.value),style:{minWidth:"150px"},children:[o.jsx("option",{value:"all",children:""}),o.jsx("option",{value:"awaiting_payment",children:" "}),o.jsx("option",{value:"paid",children:""}),o.jsx("option",{value:"online_payment",children:" "}),o.jsx("option",{value:"cancelled",children:""})]})]})]}),o.jsx("div",{className:"table-wrapper",children:o.jsxs("table",{children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"  "}),o.jsx("th",{children:""}),o.jsx("th",{children:""}),o.jsx("th",{children:""}),o.jsx("th",{children:" "}),o.jsx("th",{children:" "}),o.jsx("th",{children:""})]})}),o.jsx("tbody",{children:S.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:7,style:{textAlign:"center",padding:"48px"},children:" "})}):S.map(j=>o.jsxs("tr",{children:[o.jsxs("td",{children:[o.jsx("div",{children:P(j.date)}),o.jsxs("div",{style:{fontSize:"14px",color:"var(--gray)"},children:[k(j.startTime)," - ",k(j.endTime)]})]}),o.jsx("td",{children:j.courtName}),o.jsxs("td",{children:[o.jsx("div",{children:j.clientName||j.customerName}),o.jsx("div",{style:{fontSize:"14px",color:"var(--gray)"},children:j.clientPhone||j.customerPhone})]}),o.jsx("td",{style:{fontWeight:"600"},children:T(j.amount)}),o.jsx("td",{children:_[j.paymentMethod]||j.paymentMethod}),o.jsx("td",{children:o.jsx(Jd,{bookingId:j.id,currentStatus:j.paymentStatus||"awaiting_payment",paymentMethod:j.paymentMethod,onStatusUpdate:w})}),o.jsx("td",{children:o.jsxs("div",{style:{display:"flex",gap:"8px"},children:[o.jsx("button",{className:"btn btn-secondary btn-icon",onClick:()=>{g(j),x(!0)},title:"",children:o.jsx(gm,{})}),r(["manage_bookings","manage_all_bookings"])&&o.jsx("button",{className:"btn btn-danger btn-icon",onClick:()=>C(j.id),title:" ",children:o.jsx(bs,{})})]})})]},j.id))})]})}),o.jsx("div",{className:"bookings-mobile-cards",children:S.length===0?o.jsx("div",{style:{textAlign:"center",padding:"48px",color:"var(--gray)"},children:" "}):S.map(j=>o.jsxs("div",{className:"booking-card-mobile",children:[o.jsxs("div",{className:"booking-card-header",children:[o.jsx("div",{className:"booking-card-court",children:j.courtName}),o.jsx("div",{className:"booking-card-amount",children:T(j.amount)})]}),o.jsxs("div",{className:"booking-card-client",children:[o.jsx("div",{className:"booking-card-client-name",children:j.clientName||j.customerName}),o.jsx("div",{className:"booking-card-client-phone",children:j.clientPhone||j.customerPhone})]}),o.jsxs("div",{className:"booking-card-info",children:[o.jsxs("div",{className:"booking-card-row",children:[o.jsx("span",{className:"booking-card-label",children:":"}),o.jsx("span",{className:"booking-card-value",children:P(j.date)})]}),o.jsxs("div",{className:"booking-card-row",children:[o.jsx("span",{className:"booking-card-label",children:":"}),o.jsxs("span",{className:"booking-card-value",children:[k(j.startTime)," - ",k(j.endTime)]})]}),o.jsxs("div",{className:"booking-card-row",children:[o.jsx("span",{className:"booking-card-label",children:" :"}),o.jsx("span",{className:"booking-card-value",children:_[j.paymentMethod]||j.paymentMethod})]})]}),o.jsxs("div",{className:"booking-card-footer",children:[o.jsx(Jd,{bookingId:j.id,currentStatus:j.paymentStatus||"awaiting_payment",paymentMethod:j.paymentMethod,onStatusUpdate:w}),o.jsxs("div",{className:"booking-card-actions",children:[o.jsx("button",{className:"btn btn-secondary btn-icon",onClick:()=>{g(j),x(!0)},title:"",children:o.jsx(gm,{})}),r(["manage_bookings","manage_all_bookings"])&&o.jsx("button",{className:"btn btn-danger btn-icon",onClick:()=>C(j.id),title:"",children:o.jsx(bs,{})})]})]})]},j.id))}),o.jsx(wx,{booking:v,isOpen:y,onClose:()=>{x(!1),g(null)},onUpdate:w})]})}function s6(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function MA(e){const t=e.replace(/\D/g,"");return t.length===11&&(t.startsWith("7")||t.startsWith("8"))}function jm(e){const t=e.replace(/\D/g,"");if(t.length===11){if(t.startsWith("8"))return"+7"+t.substring(1);if(t.startsWith("7"))return"+"+t}return t.length===10?"+7"+t:e}function IA(e){return e.trim().length>=2&&e.trim().length<=100}function NA(e){const t=new Date;t.setHours(0,0,0,0);const n=new Date(e);return n.setHours(0,0,0,0),n>=t}function DA(e,t,n=60){const r=/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/;if(!r.test(e)||!r.test(t))return!1;const[s,i]=e.split(":").map(Number),[a,l]=t.split(":").map(Number),c=s*60+i,d=a*60+l;return d<=c?!1:d-c>=n}function Sm(e){return e.replace(/[<>]/g,"").replace(/javascript:/gi,"").trim()}function RA({isOpen:e,onClose:t,onSuccess:n,venueId:r,preSelectedDate:s,preSelectedTime:i}){const{admin:a}=Ht(),[l,c]=h.useState([]),[d,u]=h.useState(!1),[p,f]=h.useState(""),[m,v]=h.useState(30),[g,y]=h.useState({clientName:"",clientPhone:"",courtId:"",date:s?s.toISOString().split("T")[0]:new Date().toISOString().split("T")[0],startTime:i||"10:00",duration:1,paymentMethod:"cash"}),[x,w]=h.useState([]),[C,S]=h.useState([]),[P,k]=h.useState(null),T=(R,M)=>{const[D,I]=R.split(":").map(Number),O=D+I/60,z=O+M;return C.some($=>{const[N,W]=$.startTime.split(":").map(Number),[V,G]=$.endTime.split(":").map(Number),Q=N+W/60,oe=V+G/60;return O<oe&&z>Q})},_=R=>{const M=[],O=23-R,z=m===60?1:.5;for(let $=7;$<=O;$+=z){const N=Math.floor($),W=$%1*60,V=`${String(N).padStart(2,"0")}:${String(W).padStart(2,"0")}`;$+R<=23&&M.push(V)}return M};h.useEffect(()=>{if(e&&r){j();const R=Ie(se,"venues",r,"courts"),M=vr(R,I=>{const O=I.docs.map(z=>({id:z.id,...z.data()}));c(O),g.courtId&&!O.find(z=>z.id===g.courtId)&&y(z=>({...z,courtId:""}))},I=>{console.error("Error listening to courts:",I)});s&&y(I=>({...I,date:s.toISOString().split("T")[0]})),i&&y(I=>({...I,startTime:i}));const D=_(g.duration);return w(D),()=>{M()}}},[e,r,s,i,m]),h.useEffect(()=>{const R=_(g.duration);w(R),!R.includes(g.startTime)&&R.length>0&&y(M=>({...M,startTime:R[0]}))},[g.duration,m]),h.useEffect(()=>{if(g.courtId&&g.date&&e){P&&(P(),k(null)),E();const R=Ie(se,"bookings"),M=Ge(R,Pe("courtId","==",g.courtId),Pe("date","==",g.date),Pe("status","in",["confirmed","pending"])),D=new Date(g.date);D.setHours(0,0,0,0);const I=new Date(g.date);I.setHours(23,59,59,999);const O=Ge(R,Pe("courtId","==",g.courtId),Pe("date",">=",$r.fromDate(D)),Pe("date","<=",$r.fromDate(I)),Pe("status","in",["confirmed","pending"])),z=new Map,$=vr(M,V=>{V.docs.forEach(G=>{z.set(G.id,{id:G.id,...G.data()})}),S(Array.from(z.values()))}),N=vr(O,V=>{V.docs.forEach(G=>{z.set(G.id,{id:G.id,...G.data()})}),S(Array.from(z.values()))}),W=()=>{$(),N()};k(()=>W)}return()=>{P&&(P(),k(null))}},[g.courtId,g.date,e]);const j=async()=>{if(r)try{const R=await dt(_e(se,"venues",r));if(R.exists()){const O=R.data();f(O.name||""),v(O.bookingSlotInterval||30)}const M=Ie(se,"venues",r,"courts"),I=(await qe(M)).docs.map(O=>({id:O.id,...O.data()}));c(I),I.length>0&&!g.courtId&&y(O=>({...O,courtId:I[0].id}))}catch(R){console.error("Error fetching courts:",R)}},E=async()=>{if(!(!r||!g.courtId||!g.date))try{const R=Ie(se,"bookings");let M=Ge(R,Pe("courtId","==",g.courtId),Pe("date","==",g.date),Pe("status","in",["confirmed","pending"])),D=await qe(M);if(D.empty){const O=new Date(g.date);O.setHours(0,0,0,0);const z=new Date(g.date);z.setHours(23,59,59,999),M=Ge(R,Pe("courtId","==",g.courtId),Pe("date",">=",$r.fromDate(O)),Pe("date","<=",$r.fromDate(z)),Pe("status","in",["confirmed","pending"])),D=await qe(M)}const I=D.docs.map(O=>({id:O.id,...O.data()}));S(I)}catch(R){console.error("Error fetching bookings:",R)}},A=R=>{const{name:M,value:D}=R.target;y(I=>({...I,[M]:M==="duration"?parseFloat(D):D}))},L=async R=>{if(R.preventDefault(),!r||!a)return;if(!IA(g.clientName)){alert("    2  100 ");return}if(!MA(g.clientPhone)){alert("  ");return}const M=new Date;if(M.setFullYear(parseInt(g.date.split("-")[0]),parseInt(g.date.split("-")[1])-1,parseInt(g.date.split("-")[2])),!NA(M)){alert("    ");return}const[D,I]=g.startTime.split(":").map(Number),O=D*60+I+g.duration,z=`${Math.floor(O/60).toString().padStart(2,"0")}:${(O%60).toString().padStart(2,"0")}`;if(!DA(g.startTime,z,g.duration)){alert("  ");return}u(!0);try{const $=l.find(F=>F.id===g.courtId);if(!$)return;const[N,W]=g.startTime.split(":").map(Number),V=N+Math.floor(g.duration),G=W+g.duration%1*60,Q=`${String(V+Math.floor(G/60)).padStart(2,"0")}:${String(G%60).padStart(2,"0")}`,oe=g.paymentMethod==="online"?"online_payment":"awaiting_payment",U=new Date(g.date),[le]=g.startTime.split(":").map(Number),ee=U.getDay(),ae=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][ee];let K=0;if($.pricing&&$.pricing[ae]){const F=$.pricing[ae];if(K=F.basePrice,F.intervals&&F.intervals.length>0)for(const q of F.intervals){const[ne]=q.from.split(":").map(Number),[pe]=q.to.split(":").map(Number);if(le>=ne&&le<pe){K=q.price;break}}}else{const F=ee===0||ee===6;K=$.pricePerHour||(F?$.priceWeekend:$.priceWeekday)||1900}const H={venueId:r,courtId:g.courtId,courtName:$.name,venueName:p,clientName:Sm(g.clientName),clientPhone:jm(g.clientPhone),customerName:Sm(g.clientName),customerPhone:jm(g.clientPhone),date:g.date,time:g.startTime,startTime:g.startTime,endTime:Q,duration:g.duration*60,gameType:"single",status:"confirmed",amount:g.duration*K,price:K,paymentMethod:g.paymentMethod,paymentStatus:oe,source:"admin",paymentHistory:[{timestamp:$r.now(),action:"created",userId:a.uid||"",userName:a.displayName||a.email||""}],createdBy:{userId:a.uid||"",userName:a.displayName||a.email||"",userRole:a.role||"admin"},createdAt:$r.now()};await mr(Ie(se,"bookings"),H),y({clientName:"",clientPhone:"",courtId:l.length>0?l[0].id:"",date:new Date().toISOString().split("T")[0],startTime:"10:00",duration:1,paymentMethod:"cash"}),n(),t()}catch($){console.error("Error creating booking:",$),alert("   : "+$.message)}finally{u(!1)}};return e?o.jsx("div",{className:"modal active",children:o.jsxs("div",{className:"modal-content",style:{maxWidth:"600px"},children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h2",{className:"modal-title",children:" "}),o.jsx("button",{className:"modal-close",onClick:t,children:o.jsx(wp,{})})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("form",{onSubmit:L,children:[o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:" "}),o.jsx("input",{type:"text",className:"form-input",name:"clientName",value:g.clientName,onChange:A,placeholder:" ",required:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:""}),o.jsx("input",{type:"tel",className:"form-input",name:"clientPhone",value:g.clientPhone,onChange:A,placeholder:"+7 (___) ___-__-__",required:!0})]})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginTop:"20px"},children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:""}),o.jsxs("select",{className:"form-select",name:"courtId",value:g.courtId,onChange:A,required:!0,children:[o.jsx("option",{value:"",children:" "}),l.map(R=>{const M=new Date(g.date),D=M.getDay()===0||M.getDay()===6,I=R.pricePerHour||(D?R.priceWeekend:R.priceWeekday)||0;return o.jsxs("option",{value:R.id,children:[R.name," - ",I," /"]},R.id)})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:""}),o.jsx("input",{type:"date",className:"form-input",name:"date",value:g.date,onChange:A,required:!0})]})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginTop:"20px"},children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:""}),o.jsxs("select",{className:"form-select",name:"duration",value:g.duration,onChange:A,children:[o.jsx("option",{value:"0.5",children:"30 "}),o.jsx("option",{value:"1",children:"1 "}),o.jsx("option",{value:"1.5",children:"1.5 "}),o.jsx("option",{value:"2",children:"2 "}),o.jsx("option",{value:"2.5",children:"2.5 "}),o.jsx("option",{value:"3",children:"3 "})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{className:"form-label",children:" "}),o.jsxs("select",{className:"form-select",name:"startTime",value:g.startTime,onChange:A,required:!0,children:[o.jsx("option",{value:"",children:" "}),x.map(R=>{const M=T(R,g.duration),[D,I]=R.split(":").map(Number),O=D+Math.floor(g.duration),z=I+g.duration%1*60,$=O+Math.floor(z/60),N=z%60,W=`${String($).padStart(2,"0")}:${String(N).padStart(2,"0")}`;return o.jsxs("option",{value:R,disabled:M,children:[R," - ",W," ",M?"()":""]},R)})]})]})]}),o.jsxs("div",{className:"form-group",style:{marginTop:"20px"},children:[o.jsx("label",{className:"form-label",children:" "}),o.jsxs("select",{className:"form-select",name:"paymentMethod",value:g.paymentMethod,onChange:A,children:[o.jsx("option",{value:"cash",children:"   "}),o.jsx("option",{value:"card_on_site",children:"   "}),o.jsx("option",{value:"transfer",children:"   "}),o.jsx("option",{value:"online",children:" "})]})]}),g.courtId&&g.duration&&g.startTime&&o.jsx("div",{style:{background:"var(--background)",padding:"20px",borderRadius:"8px",marginTop:"24px"},children:(()=>{const R=l.find(z=>z.id===g.courtId);if(!R)return null;const M=new Date(g.date),D=M.getDay()===0||M.getDay()===6,I=R.pricePerHour||(D?R.priceWeekend:R.priceWeekday)||0,O=I*g.duration;return o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("span",{style:{color:"var(--gray)"},children:"  :"}),o.jsxs("span",{style:{fontWeight:"500"},children:[I.toLocaleString("ru-RU")," "]})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingTop:"12px",borderTop:"1px solid var(--extra-light-gray)",marginTop:"4px"},children:[o.jsx("span",{style:{fontWeight:"600",fontSize:"18px"},children:":"}),o.jsxs("span",{style:{fontWeight:"700",fontSize:"20px",color:"var(--primary)"},children:[O.toLocaleString("ru-RU")," "]})]}),o.jsxs("div",{style:{fontSize:"14px",color:"var(--gray)",marginTop:"8px"},children:[" : ",g.paymentMethod==="cash"?"   ":g.paymentMethod==="card_on_site"?"   ":g.paymentMethod==="transfer"?"   ":" "]})]})})()}),o.jsxs("div",{className:"modal-footer",style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid var(--extra-light-gray)"},children:[o.jsx("button",{type:"button",className:"btn btn-secondary",onClick:t,children:""}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"...":" "})]})]})})]})}):null}function AA(){const{admin:e}=Ht(),{isSuperAdmin:t,hasPermission:n}=an(),[r,s]=h.useState(null),[i,a]=h.useState([]),[l,c]=h.useState([]),[d,u]=h.useState([]),[p,f]=h.useState(!0),[m,v]=h.useState(new Date),[g,y]=h.useState({clientName:"",clientPhone:"",courtId:"",date:new Date().toISOString().split("T")[0],startTime:"10:00",duration:1.5,paymentMethod:"cash"}),[x,w]=h.useState([]),[C,S]=h.useState([]),[P,k]=h.useState(null),[T,_]=h.useState(!1),[j,E]=h.useState(!1),[A,L]=h.useState(null),[R,M]=h.useState(null),[D,I]=h.useState(null);h.useEffect(()=>{if(t){z();const H=localStorage.getItem("selectedVenueId");H?(s(H),N(H),W(H)):f(!1)}else e!=null&&e.venueId?(O(e.venueId),N(e.venueId),W(e.venueId)):f(!1)},[e,m,t]),h.useEffect(()=>{const H=U(g.duration);w(H),!H.includes(g.startTime)&&H.length>0&&y(F=>({...F,startTime:H[0]}))},[g.duration,g.date,i,r,e==null?void 0:e.venueId]),h.useEffect(()=>{g.courtId&&g.date&&V()},[g.courtId,g.date]);const O=async H=>{try{const F=await dt(_e(se,"venues",H));if(F.exists()){const q={id:F.id,...F.data()};a([q])}}catch(F){console.error("Error fetching venue data:",F)}},z=async()=>{try{const F=(await qe(Ie(se,"venues"))).docs.map(q=>({id:q.id,...q.data()}));a(F)}catch(H){console.error("Error fetching venues:",H)}},$=H=>{s(H),localStorage.setItem("selectedVenueId",H),N(H),W(H)},N=async H=>{if(H)try{const F=Ie(se,"venues",H,"courts"),ne=(await qe(F)).docs.map(pe=>({id:pe.id,...pe.data()}));u(ne)}catch(F){console.error("Error fetching courts:",F)}},W=async H=>{if(H)try{f(!0);const F=new Date(m);F.setDate(m.getDate()-m.getDay()+1),F.setHours(0,0,0,0);const q=new Date(F);q.setDate(F.getDate()+6),q.setHours(23,59,59,999),console.log("Fetching bookings for venue:",H),console.log("Date range:",F,"to",q);const ne=Ge(Ie(se,"bookings"),Pe("venueId","==",H)),pe=await qe(ne);console.log("Found bookings:",pe.size);const Ee=pe.docs.map(xe=>{var De,Me;const ve=xe.data();return console.log("Raw booking data:",ve),{id:xe.id,...ve,date:(De=ve.date)!=null&&De.toDate?ve.date.toDate():new Date(ve.date),createdAt:(Me=ve.createdAt)!=null&&Me.toDate?ve.createdAt.toDate():new Date(ve.createdAt||Date.now())}});console.log("All bookings data:",Ee);const ce=Ee.filter(xe=>{const ve=new Date(xe.date),De=ve>=F&&ve<=q;return console.log("Booking date:",ve,"In range:",De,"Venue match:",xe.venueId===H),De&&xe.venueId===H}).sort((xe,ve)=>new Date(ve.date).getTime()-new Date(xe.date).getTime());console.log("Filtered and sorted bookings:",ce),c(ce)}catch(F){console.error("Error fetching bookings:",F)}finally{f(!1)}},V=async()=>{if(!(!r&&!(e!=null&&e.venueId))&&!(!g.courtId||!g.date))try{const H=Ie(se,"bookings"),F=Ge(H,Pe("venueId","==",r||(e==null?void 0:e.venueId)),Pe("courtId","==",g.courtId),Pe("date","==",$r.fromDate(new Date(g.date)))),ne=(await qe(F)).docs.map(pe=>({id:pe.id,...pe.data()}));S(ne)}catch(H){console.error("Error fetching bookings:",H)}},G=H=>{const F=new Date(m);F.setDate(m.getDate()+H*7),v(F)},Q=()=>{const H=[],F=new Date(m);F.setDate(m.getDate()-m.getDay()+1);for(let q=0;q<7;q++){const ne=new Date(F);ne.setDate(F.getDate()+q),H.push(ne)}return H},oe=(H,F,q)=>l.filter(ne=>{const pe=new Date(ne.date),Ee=ne.startTime||ne.time;return pe.toDateString()===H.toDateString()&&Ee===F&&ne.courtId===q}),U=H=>{var De;const F=i.find(Me=>Me.id===(r||(e==null?void 0:e.venueId))),q=g.date?new Date(g.date).getDay()===0||new Date(g.date).getDay()===6:!1,ne=((De=F==null?void 0:F.workingHours)==null?void 0:De[q?"weekend":"weekday"])||(q?"08:00-22:00":"07:00-23:00"),[pe,Ee]=ne.split("-"),[ie]=pe.split(":").map(Number),[ce]=Ee.split(":").map(Number),xe=[],ve=ce-H;for(let Me=ie;Me<=ve;Me+=.5){const Ne=Math.floor(Me),wt=Me%1*60,At=`${String(Ne).padStart(2,"0")}:${String(wt).padStart(2,"0")}`;Me+H<=ce&&xe.push(At)}return xe},le=()=>{var ie;const H=[],F=i.find(ce=>ce.id===(r||(e==null?void 0:e.venueId))),q=g.date?new Date(g.date).getDay()===0||new Date(g.date).getDay()===6:!1,ne=((ie=F==null?void 0:F.workingHours)==null?void 0:ie[q?"weekend":"weekday"])||(q?"08:00-22:00":"07:00-23:00");let pe=7,Ee=23;if(ne.includes("-")){const[ce,xe]=ne.split("-").map(ve=>ve.trim());ce&&xe&&(pe=parseInt(ce.split(":")[0]),Ee=parseInt(xe.split(":")[0]))}for(let ce=pe;ce<Ee;ce++)H.push(`${ce.toString().padStart(2,"0")}:00`);return H},ee=h.useMemo(()=>le(),[i,r,e==null?void 0:e.venueId,g.date]),Z=Q(),ae=["","","","","","",""],K=["","","","","","","","","","","",""];return p?o.jsx("div",{children:"..."}):n(["manage_bookings","manage_all_bookings","view_bookings"])?t&&!r?o.jsx("div",{children:o.jsxs("div",{className:"section-card",children:[o.jsx("div",{className:"section-header",children:o.jsx("h2",{className:"section-title",children:" "})}),o.jsxs("div",{className:"form-group",style:{maxWidth:"400px"},children:[o.jsx("label",{className:"form-label",children:""}),o.jsxs("select",{className:"form-select",value:r||"",onChange:H=>$(H.target.value),children:[o.jsx("option",{value:"",children:"   "}),i.map(H=>o.jsx("option",{value:H.id,children:H.name},H.id))]}),o.jsx("p",{className:"form-hint",children:"       "})]})]})}):(n(["manage_bookings","manage_all_bookings","create_bookings"]),o.jsx(Do,{permission:["manage_bookings","manage_all_bookings","view_bookings"],children:o.jsxs("div",{children:[t&&o.jsx("div",{className:"section-card",style:{marginBottom:"24px"},children:o.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[o.jsx("label",{className:"form-label",children:" "}),o.jsxs("select",{className:"form-select",value:r||"",onChange:H=>$(H.target.value),style:{maxWidth:"400px"},children:[o.jsx("option",{value:"",children:" "}),i.map(H=>o.jsx("option",{value:H.id,children:H.name},H.id))]})]})}),o.jsxs("div",{className:"section-card",children:[o.jsxs("div",{className:"calendar-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[o.jsx("h2",{className:"section-title",children:" "}),o.jsxs("div",{className:"calendar-nav",style:{display:"flex",alignItems:"center",gap:"16px"},children:[o.jsx("button",{onClick:()=>G(-1),style:{width:"32px",height:"32px",border:"1px solid var(--extra-light-gray)",background:"var(--white)",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx(BR,{})}),o.jsxs("span",{style:{fontWeight:"600",minWidth:"150px",textAlign:"center"},children:[K[m.getMonth()]," ",m.getFullYear()]}),o.jsx("button",{onClick:()=>G(1),style:{width:"32px",height:"32px",border:"1px solid var(--extra-light-gray)",background:"var(--white)",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx(WR,{})}),o.jsx("button",{onClick:()=>v(new Date),style:{padding:"6px 12px",border:"1px solid var(--extra-light-gray)",background:"var(--white)",borderRadius:"6px",cursor:"pointer",fontSize:"14px",marginLeft:"16px"},children:""})]})]}),o.jsxs("div",{className:"calendar-grid",style:{display:"grid",gridTemplateColumns:"60px repeat(7, 1fr)",gap:"1px",background:"var(--extra-light-gray)",border:"1px solid var(--extra-light-gray)",borderRadius:"8px",overflow:"hidden"},children:[o.jsx("div",{style:{background:"var(--white)",padding:"12px"}}),Z.map((H,F)=>o.jsxs("div",{className:"day-header",style:{fontWeight:"600",textAlign:"center",background:"var(--background)",padding:"12px"},children:[ae[F]," ",H.getDate()]},F)),ee.map(H=>o.jsxs(Fe.Fragment,{children:[o.jsx("div",{className:"time-slot",style:{fontSize:"12px",color:"var(--gray)",textAlign:"center",padding:"8px",background:"var(--white)"},children:H}),Z.map((F,q)=>{const ne=d.flatMap(ie=>oe(F,H,ie.id)),pe=A&&R&&F.toDateString()===A.toDateString()&&H===R,Ee=D&&F.toDateString()===D.date.toDateString()&&H===D.time;return o.jsxs("div",{className:"booking-slot",style:{position:"relative",cursor:"pointer",minHeight:"60px",background:ne.length>0?(()=>{const ie=ne[0],ce=d.find(Ne=>Ne.id===ie.courtId),xe=(ce==null?void 0:ce.color)||"#00A86B",ve=parseInt(xe.slice(1,3),16),De=parseInt(xe.slice(3,5),16),Me=parseInt(xe.slice(5,7),16);return`rgba(${ve}, ${De}, ${Me}, 0.15)`})():pe?"rgba(0, 168, 107, 0.2)":Ee?"rgba(0, 168, 107, 0.05)":"var(--white)",padding:"8px",overflow:"hidden",border:pe?"2px solid var(--primary)":"2px solid transparent",transition:"all 0.2s ease"},onMouseEnter:()=>{ne.length===0&&I({date:F,time:H})},onMouseLeave:()=>{I(null)},onClick:()=>{ne.length>0?(k(ne[0]),_(!0)):(L(F),M(H),E(!0))},children:[ne.length===0&&(Ee||pe)&&o.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"12px",color:"var(--primary)",fontWeight:"600",textAlign:"center"},children:H}),ne.map((ie,ce)=>{const xe=ie.paymentStatus||"awaiting_payment",ve={awaiting_payment:"#F59E0B",paid:"#10B981",online_payment:"#3B82F6",cancelled:"#EF4444"},De={awaiting_payment:"",paid:"",online_payment:"",cancelled:""};return o.jsxs("div",{style:{fontSize:"11px",marginBottom:"4px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[o.jsxs("div",{style:{fontWeight:"600",color:"var(--dark)",display:"flex",alignItems:"center",gap:"4px"},children:[(()=>{const Me=d.find(Ne=>Ne.id===ie.courtId);return Me!=null&&Me.color?o.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"2px",backgroundColor:Me.color,flexShrink:0}}):null})(),ie.courtName]}),o.jsxs("div",{className:"booking-slot-details",style:{color:"var(--gray)",fontSize:"10px"},children:[ie.clientName||ie.customerName,(ie.clientPhone||ie.customerPhone)&&o.jsx("span",{style:{fontSize:"9px",marginLeft:"4px"},children:ie.clientPhone||ie.customerPhone})]}),o.jsx("div",{className:"booking-slot-status",style:{fontSize:"9px",marginTop:"2px",color:ve[xe],fontWeight:"500"},children:De[xe]})]},ce)})]},`${H}-${q}`)})]},H))]})]}),o.jsx(PA,{venueId:r||(e==null?void 0:e.venueId)||"",onRefresh:()=>W(r||(e==null?void 0:e.venueId)||"")}),o.jsx(wx,{booking:P,isOpen:T,onClose:()=>{_(!1),k(null)},onUpdate:()=>W(r||(e==null?void 0:e.venueId)||"")}),o.jsx(RA,{isOpen:j,onClose:()=>{E(!1),L(null),M(null)},onSuccess:()=>{W(r||(e==null?void 0:e.venueId)||"")},venueId:r||(e==null?void 0:e.venueId)||"",preSelectedDate:A||void 0,preSelectedTime:R||void 0})]})})):o.jsxs(ct,{severity:"error",children:[o.jsx(_i,{children:" "}),"      ."]})}function $A(){const{admin:e}=Ht(),{isSuperAdmin:t}=an(),[n,r]=h.useState(null),[s,i]=h.useState([]),[a,l]=h.useState(!0),[c,d]=h.useState("");h.useEffect(()=>{if(t){const x=localStorage.getItem("selectedVenueId");x?(r(x),p(x)):l(!1)}else e!=null&&e.venueId&&p(e.venueId)},[e,t]);const u=x=>{r(x),localStorage.setItem("selectedVenueId",x),x&&p(x)},p=async x=>{const w=x||(e==null?void 0:e.venueId);if(w)try{l(!0);const C=Ge(Ie(se,"bookings"),Pe("venueId","==",w),rg("createdAt","desc"),ka(100)),S=await qe(C),P=new Map;S.docs.forEach(k=>{var j,E,A;const T=k.data(),_=T.clientPhone;if(P.has(_)){const L=P.get(_);L.bookingsCount++,L.totalSpent+=T.amount||0,((j=T.date)==null?void 0:j.toDate())>L.lastVisit&&(L.lastVisit=T.date.toDate())}else P.set(_,{id:_,name:T.clientName,phone:T.clientPhone,bookingsCount:1,lastVisit:(E=T.date)==null?void 0:E.toDate(),totalSpent:T.amount||0,hasApp:T.paymentMethod==="app",venueId:e.venueId,createdAt:((A=T.createdAt)==null?void 0:A.toDate())||new Date})}),i(Array.from(P.values()))}catch(C){console.error("Error fetching customers:",C)}finally{l(!1)}},f=s.filter(x=>x.name.toLowerCase().includes(c.toLowerCase())||x.phone.includes(c)),m=x=>x.split(" ").map(w=>w[0]).join("").toUpperCase().slice(0,2),v=x=>{const w=["var(--primary)","var(--padel)","var(--badminton)","var(--tennis)"],C=x.charCodeAt(0)%w.length;return w[C]},g=x=>{if(!x)return" ";const C=Math.abs(new Date().getTime()-x.getTime()),S=Math.ceil(C/(1e3*60*60*24));return S===0?"":S===1?"":S<7?`${S}  `:S<30?`${Math.floor(S/7)}  `:x.toLocaleDateString("ru-RU")},y=()=>{const x=[["",""," ",""," "].join(","),...f.map(S=>{var P;return[S.name,S.phone,S.bookingsCount,S.totalSpent,((P=S.lastVisit)==null?void 0:P.toLocaleDateString("ru-RU"))||""].join(",")})].join(`
`),w=new Blob([x],{type:"text/csv;charset=utf-8;"}),C=document.createElement("a");C.href=URL.createObjectURL(w),C.download=`customers_${new Date().toISOString().split("T")[0]}.csv`,C.click()};return a?o.jsx("div",{children:"..."}):t&&!n?o.jsx(Ao,{title:"    "}):o.jsxs("div",{children:[t&&o.jsx(Ro,{selectedVenueId:n,onVenueChange:u}),o.jsxs("div",{className:"section-card",children:[o.jsxs("div",{className:"section-header",children:[o.jsx("h2",{className:"section-title",children:" "}),o.jsxs("div",{style:{display:"flex",gap:"12px"},children:[o.jsx("input",{type:"search",className:"form-input",placeholder:"    ",style:{width:"300px"},value:c,onChange:x=>d(x.target.value)}),o.jsxs("button",{className:"btn btn-secondary",onClick:y,children:[o.jsx(YR,{fontSize:"small"}),""]})]})]}),o.jsx("div",{className:"table-wrapper",children:o.jsxs("table",{children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:""}),o.jsx("th",{children:""}),o.jsx("th",{children:""}),o.jsx("th",{children:""}),o.jsx("th",{children:" "}),o.jsx("th",{children:"  "}),o.jsx("th",{children:""})]})}),o.jsx("tbody",{children:f.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:7,style:{textAlign:"center",padding:"48px",color:"var(--gray)"},children:"  "})}):f.map(x=>o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("div",{className:"customer-info",style:{display:"flex",alignItems:"center",gap:"12px"},children:[o.jsx("div",{className:"customer-avatar",style:{width:"40px",height:"40px",borderRadius:"50%",background:v(x.name),color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"600",fontSize:"16px"},children:m(x.name)}),o.jsx("div",{children:o.jsx("div",{className:"customer-name",style:{fontWeight:"600",color:"var(--dark)"},children:x.name})})]})}),o.jsx("td",{children:x.phone}),o.jsx("td",{children:x.bookingsCount}),o.jsxs("td",{children:[x.totalSpent.toLocaleString("ru-RU"),""]}),o.jsx("td",{children:g(x.lastVisit)}),o.jsx("td",{children:x.hasApp?o.jsx("span",{style:{color:"var(--success)"},children:" "}):o.jsx("span",{style:{color:"var(--warning)"},children:"  "})}),o.jsx("td",{children:x.hasApp?o.jsx("button",{className:"btn btn-secondary",children:""}):o.jsxs("button",{className:"btn btn-secondary",children:[o.jsx(Yd,{fontSize:"small"})," SMS"]})})]},x.id))})]})})]}),o.jsxs("div",{className:"section-card",children:[o.jsx("h2",{className:"section-title",children:"  "}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"24px"},children:[o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("div",{style:{fontSize:"32px",fontWeight:"700",color:"var(--primary)"},children:s.length}),o.jsx("div",{style:{color:"var(--gray)",fontSize:"14px"},children:" "})]}),o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("div",{style:{fontSize:"32px",fontWeight:"700",color:"var(--primary)"},children:s.filter(x=>x.hasApp).length}),o.jsx("div",{style:{color:"var(--gray)",fontSize:"14px"},children:" "})]}),o.jsxs("div",{style:{textAlign:"center"},children:[o.jsxs("div",{style:{fontSize:"32px",fontWeight:"700",color:"var(--primary)"},children:[Math.round(s.filter(x=>x.hasApp).length/s.length*100),"%"]}),o.jsx("div",{style:{color:"var(--gray)",fontSize:"14px"},children:"  "})]}),o.jsxs("div",{style:{textAlign:"center"},children:[o.jsxs("div",{style:{fontSize:"32px",fontWeight:"700",color:"var(--primary)"},children:[s.reduce((x,w)=>x+w.totalSpent,0).toLocaleString("ru-RU"),""]}),o.jsx("div",{style:{color:"var(--gray)",fontSize:"14px"},children:" "})]})]})]})]})}function OA(){const e=Xt();return o.jsxs(hi,{maxWidth:"lg",sx:{py:8},children:[o.jsxs(te,{textAlign:"center",mb:6,children:[o.jsx(B,{variant:"h2",component:"h1",gutterBottom:!0,children:"Sports Booking"}),o.jsx(B,{variant:"h5",color:"text.secondary",gutterBottom:!0,children:"   "}),o.jsx(B,{variant:"body1",color:"text.secondary",sx:{maxWidth:600,mx:"auto"},children:"     -   "})]}),o.jsxs(Ae,{container:!0,spacing:4,mb:6,children:[o.jsx(Ae,{item:!0,xs:12,md:6,children:o.jsx(it,{children:o.jsxs(at,{sx:{p:4,textAlign:"center"},children:[o.jsx(eA,{sx:{fontSize:60,color:"primary.main",mb:2}}),o.jsx(B,{variant:"h5",gutterBottom:!0,children:" "}),o.jsx(B,{variant:"body1",color:"text.secondary",mb:3,children:"     ,    "}),o.jsxs(te,{display:"flex",gap:2,justifyContent:"center",flexWrap:"wrap",children:[o.jsx(ke,{variant:"outlined",disabled:!0,children:"App Store"}),o.jsx(ke,{variant:"outlined",disabled:!0,children:"Google Play"})]})]})})}),o.jsx(Ae,{item:!0,xs:12,md:6,children:o.jsx(it,{children:o.jsxs(at,{sx:{p:4,textAlign:"center"},children:[o.jsx(dA,{sx:{fontSize:60,color:"primary.main",mb:2}}),o.jsx(B,{variant:"h5",gutterBottom:!0,children:" "}),o.jsx(B,{variant:"body1",color:"text.secondary",mb:3,children:"-     "}),o.jsx(ke,{variant:"contained",size:"large",onClick:()=>e("/admin/login"),children:"  -"})]})})})]}),o.jsxs(on,{sx:{p:4,textAlign:"center"},children:[o.jsx(Sp,{sx:{fontSize:80,color:"primary.main",mb:2}}),o.jsx(B,{variant:"h5",gutterBottom:!0,children:"QR-  "}),o.jsx(B,{variant:"body1",color:"text.secondary",mb:3,children:"  QR-   ,     "}),o.jsx(te,{sx:{maxWidth:200,height:200,mx:"auto",bgcolor:"grey.100",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:2},children:o.jsx(B,{color:"text.secondary",children:"QR- "})})]})]})}function LA({email:e,size:t="small"}){const[n,r]=h.useState(!1),[s,i]=h.useState(null),a=async()=>{r(!0);try{await Ob(Kt,e),i({type:"success",text:`      ${e}`})}catch(l){console.error("Error sending password reset email:",l),i({type:"error",text:"   .  ."})}finally{r(!1)}};return o.jsxs(o.Fragment,{children:[o.jsx(ke,{variant:"outlined",size:t,startIcon:n?o.jsx(hn,{size:16}):o.jsx(XR,{}),onClick:a,disabled:n,children:" "}),o.jsx(nx,{open:!!s,autoHideDuration:6e3,onClose:()=>i(null),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:s&&o.jsx(ct,{onClose:()=>i(null),severity:s.type,sx:{width:"100%"},children:s.text})})]})}const FA=[{value:"manage_bookings",label:" "},{value:"manage_courts",label:" "},{value:"manage_club",label:" "},{value:"manage_admins",label:"  "},{value:"view_reports",label:" "},{value:"view_bookings",label:" "},{value:"create_bookings",label:" "},{value:"manage_finance",label:"  "}],ed={superadmin:["manage_all_venues","manage_all_bookings","manage_all_users","manage_platform_settings","view_all_reports","manage_finance","manage_admins"],admin:["manage_bookings","manage_courts","manage_club","manage_admins","manage_finance","view_reports","create_bookings"],manager:["view_bookings","create_bookings","view_reports"]};function zA(){const{isSuperAdmin:e}=an(),[t,n]=h.useState([]),[r,s]=h.useState([]),[i,a]=h.useState(!0),[l,c]=h.useState(!1),[d,u]=h.useState(null),[p,f]=h.useState({name:"",email:"",password:"",role:"manager",venueId:"",permissions:[]}),[m,v]=h.useState("");h.useEffect(()=>{g()},[]);const g=async()=>{try{const k=await qe(Ie(se,"admins")),T=[];for(const E of k.docs){const A=E.data();let L="";if(A.venueId){const R=await qe(Ge(Ie(se,"venues"),Pe("__name__","==",A.venueId)));R.empty||(L=R.docs[0].data().name)}T.push({id:E.id,name:A.name,email:A.email,password:A.password,role:A.role,venueId:A.venueId,venueName:L,permissions:A.permissions||[]})}n(T);const j=(await qe(Ie(se,"venues"))).docs.map(E=>({id:E.id,name:E.data().name}));s(j),a(!1)}catch(k){console.error("Error loading data:",k),a(!1)}},y=k=>{k?(u(k),f({name:k.name,email:k.email,password:"",role:k.role,venueId:k.venueId||"",permissions:k.permissions})):(u(null),f({name:"",email:"",password:"",role:"admin",venueId:"",permissions:ed.admin})),c(!0),v("")},x=()=>{c(!1),u(null),v("")},w=k=>{f({...p,role:k,permissions:ed[k]})},C=k=>{const T=p.permissions.includes(k)?p.permissions.filter(_=>_!==k):[...p.permissions,k];f({...p,permissions:T})},S=async()=>{try{if(v(""),d){const k={name:p.name,role:p.role,venueId:p.venueId||null,permissions:p.permissions,updatedAt:new Date};await Tt(_e(se,"admins",d.id),k)}else{if(!p.password){v("    ");return}const k=await ng(Kt,p.email,p.password);await mr(Ie(se,"admins"),{uid:k.user.uid,name:p.name,email:p.email,role:p.role,venueId:p.venueId||null,permissions:p.permissions,createdAt:new Date,updatedAt:new Date})}x(),g()}catch(k){console.error("Error saving admin:",k),k.code==="auth/email-already-in-use"?v("   email  "):k.code==="auth/weak-password"?v("    6 "):v("   ")}},P=async k=>{const T=t.find(j=>j.id===k);if(!T)return;const _=` ,     ${T.name} (${T.email})?`;if(confirm(_))try{await Ai(_e(se,"admins",k)),await g(),alert(` ${T.name}  `)}catch(j){console.error("Error deleting admin:",j),alert("   ")}};return i?o.jsx(te,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:o.jsx(hn,{})}):o.jsx(Do,{role:"superadmin",children:o.jsxs(te,{children:[o.jsx(ct,{severity:"info",sx:{mb:3},children:"     "}),o.jsxs(te,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[o.jsx("h2",{children:" "}),o.jsx(ke,{variant:"contained",startIcon:o.jsx(ea,{}),onClick:()=>y(),children:" "})]}),o.jsx(fc,{component:on,children:o.jsxs(uc,{children:[o.jsx(mc,{children:o.jsxs(qr,{children:[o.jsx(Be,{children:""}),o.jsx(Be,{children:"Email"}),o.jsx(Be,{children:""}),o.jsx(Be,{children:""}),o.jsx(Be,{align:"right",children:""})]})}),o.jsx(hc,{children:t.map(k=>o.jsxs(qr,{children:[o.jsx(Be,{children:k.name}),o.jsx(Be,{children:k.email}),o.jsx(Be,{children:o.jsx(_r,{label:k.role,color:k.role==="superadmin"?"error":k.role==="admin"?"primary":"default",size:"small"})}),o.jsx(Be,{children:k.venueName||"-"}),o.jsx(Be,{align:"right",children:k.role!=="superadmin"&&o.jsxs(o.Fragment,{children:[o.jsx(LA,{email:k.email}),o.jsx(dn,{onClick:()=>y(k),children:o.jsx(Ii,{})}),e&&o.jsx(dn,{onClick:()=>P(k.id),color:"error",children:o.jsx(bs,{})})]})})]},k.id))})]})}),o.jsxs(sr,{open:l,onClose:x,maxWidth:"sm",fullWidth:!0,children:[o.jsx(br,{children:d?" ":" "}),o.jsxs(or,{children:[m&&o.jsx(ct,{severity:"error",sx:{mb:2},children:m}),o.jsx(Ye,{fullWidth:!0,label:"",value:p.name,onChange:k=>f({...p,name:k.target.value}),margin:"normal"}),o.jsx(Ye,{fullWidth:!0,label:"Email",type:"email",value:p.email,onChange:k=>f({...p,email:k.target.value}),margin:"normal",disabled:!!d}),!d&&o.jsx(Ye,{fullWidth:!0,label:"",type:"password",value:p.password,onChange:k=>f({...p,password:k.target.value}),margin:"normal",required:!0}),o.jsxs(ir,{fullWidth:!0,margin:"normal",children:[o.jsx(Tr,{children:""}),o.jsxs(cr,{value:p.role,onChange:k=>w(k.target.value),children:[o.jsx(Mt,{value:"admin",children:""}),o.jsx(Mt,{value:"manager",children:""})]})]}),o.jsxs(ir,{fullWidth:!0,margin:"normal",children:[o.jsx(Tr,{children:""}),o.jsxs(cr,{value:p.venueId,onChange:k=>f({...p,venueId:k.target.value}),children:[o.jsx(Mt,{value:"",children:" "}),r.map(k=>o.jsx(Mt,{value:k.id,children:k.name},k.id))]})]}),o.jsxs(ir,{component:"fieldset",margin:"normal",children:[o.jsx(Ky,{component:"legend",children:" "}),o.jsx(IM,{children:FA.map(k=>o.jsx(ol,{control:o.jsx(uP,{checked:p.permissions.includes(k.value),onChange:()=>C(k.value),disabled:ed[p.role].includes(k.value)}),label:k.label},k.value))})]})]}),o.jsxs(xr,{children:[o.jsx(ke,{onClick:x,children:""}),o.jsx(ke,{onClick:S,variant:"contained",children:d?"":""})]})]})]})})}const pr={start:{name:"",price:0,pricePerCourt:0,limits:{maxCourts:2,maxBookingsPerMonth:-1,smsEmailNotifications:0,customDesign:!1,apiAccess:!1,multiVenue:!1,searchPriority:0,abTesting:!1,trainersModule:!1,personalManager:!1},features:[" 2  "," "," ","- ( )","  ( )","Push-  ","   "," ","QR-  "]},standard:{name:"",price:990,pricePerCourt:990,limits:{maxCourts:-1,maxBookingsPerMonth:-1,smsEmailNotifications:500,customDesign:!1,apiAccess:!1,multiVenue:!1,searchPriority:10,abTesting:!1,trainersModule:!1,personalManager:!1},features:["990    "," 3 "," ","SMS/Email  (500 /  )","   ","   ","  ","  ","   Excel","   (+10%)"]},pro:{name:"",price:1990,pricePerCourt:1990,limits:{maxCourts:-1,maxBookingsPerMonth:-1,smsEmailNotifications:-1,customDesign:!0,apiAccess:!0,multiVenue:!0,searchPriority:30,abTesting:!0,trainersModule:!0,personalManager:!0},features:["1,990    "," 1 ","SMS/Email  ","  PRO ( )","API   "," ( )","   (+30% )","A/B  ","   ","   "," "]},premium:{name:"",price:-1,limits:{maxCourts:-1,maxBookingsPerMonth:-1,smsEmailNotifications:-1,customDesign:!0,apiAccess:!0,multiVenue:!0,searchPriority:50,abTesting:!0,trainersModule:!0,personalManager:!0},features:["  ","- "," "," ","SLA ","  ","  24/7"]}};function BA(){const e=Xt(),{isSuperAdmin:t}=an(),{admin:n}=Ht(),[r,s]=h.useState([]),[i,a]=h.useState(!0),[l,c]=h.useState(null),[d,u]=h.useState(!1),[p,f]=h.useState(!1),[m,v]=h.useState("start"),[g,y]=h.useState(""),[x,w]=h.useState(null),[C,S]=h.useState(!1),[P,k]=h.useState(null),[T,_]=h.useState(!1),[j,E]=h.useState({name:"",address:"",city:"",phone:"",email:"",description:"",organizationType:"",inn:"",bankAccount:""});h.useEffect(()=>{A()},[]);const A=async()=>{try{const N=await qe(Ie(se,"venues")),W=await Promise.all(N.docs.map(async V=>{var le,ee,Z,ae,K,H;const G=V.data();G.location&&G.location._lat!==void 0&&(G.location={latitude:G.location._lat,longitude:G.location._long});const Q=Ge(Ie(se,"subscriptions"),Pe("venueId","==",V.id),Pe("status","in",["active","trial"])),oe=await qe(Q);let U=null;if(!oe.empty){const F=oe.docs[0].data();U={id:oe.docs[0].id,...F,startDate:(le=F.startDate)==null?void 0:le.toDate(),endDate:(ee=F.endDate)==null?void 0:ee.toDate(),trialEndDate:(Z=F.trialEndDate)==null?void 0:Z.toDate(),nextBillingDate:(ae=F.nextBillingDate)==null?void 0:ae.toDate(),usage:{...F.usage,lastUpdated:(H=(K=F.usage)==null?void 0:K.lastUpdated)==null?void 0:H.toDate()}}}return{id:V.id,...G,subscription:U}}));s(W),a(!1)}catch(N){console.error("Error loading venues:",N),a(!1)}},L=N=>{localStorage.setItem("selectedVenueId",N.id),e("/admin/club")},R=async N=>{try{const W=N.status==="active"?"inactive":"active";await Tt(_e(se,"venues",N.id),{status:W,updatedAt:new Date}),A()}catch(W){console.error("Error updating venue status:",W)}},M=async N=>{try{const W=Ge(Ie(se,"admins"),Pe("venueId","==",N)),V=await qe(W);if(!V.empty){const oe=V.size,U=V.docs.map(le=>{const ee=le.data();return`- ${ee.name} (${ee.email}) - ${ee.role==="admin"?"":""}`}).join(`
`);alert(`  !

   ${oe} ():
${U}

       "".`);return}const G=r.find(oe=>oe.id===N);if(!G)return;const Q=` ,     "${G.name}"?

    :
-   
-  
-  
-  `;confirm(Q)&&(await Ai(_e(se,"venues",N)),await A(),alert(` "${G.name}"  `))}catch(W){console.error("Error deleting venue:",W),alert("   ")}},D=N=>`https://allcourt.ru/club/${N}`,I=N=>{const W=D(N);navigator.clipboard.writeText(W),w(N),setTimeout(()=>w(null),2e3)},O=N=>{k(N),S(!0)},z=N=>{var W;c(N),v(((W=N.subscription)==null?void 0:W.plan)||"start"),f(!0)},$=async()=>{var N,W;if(l)try{const V={venueId:l.id,plan:m,status:"active",startDate:new Date,endDate:null,updatedAt:new Date,updatedBy:"superadmin",usage:((N=l.subscription)==null?void 0:N.usage)||{courtsCount:0,bookingsThisMonth:0,smsEmailsSent:0,lastUpdated:new Date}};(W=l.subscription)!=null&&W.id?await Tt(_e(se,"subscriptions",l.subscription.id),{plan:m,updatedAt:new Date,updatedBy:"superadmin"}):await mr(Ie(se,"subscriptions"),V),f(!1),A()}catch(V){console.error("Error updating subscription:",V),y("   ")}};return i?o.jsx(te,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:o.jsx(hn,{})}):o.jsxs(Do,{role:"superadmin",children:[o.jsxs(te,{children:[o.jsx(ct,{severity:"info",sx:{mb:3},children:"     "}),o.jsxs(te,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[o.jsx(B,{variant:"h5",component:"h2",children:" "}),o.jsx(ke,{variant:"contained",startIcon:o.jsx(ea,{}),onClick:()=>_(!0),children:" "})]}),r.length===0?o.jsx(ct,{severity:"info",children:"  .      ."}):o.jsx(Ae,{container:!0,spacing:3,children:r.map(N=>{var W,V;return o.jsx(Ae,{item:!0,xs:12,md:6,lg:4,children:o.jsxs(it,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[o.jsxs(at,{sx:{flexGrow:1},children:[o.jsxs(te,{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2,children:[o.jsx(B,{variant:"h6",component:"h3",children:N.name}),o.jsx(_r,{label:N.status==="active"?"":"",color:N.status==="active"?"success":"default",size:"small"})]}),o.jsxs(te,{display:"flex",alignItems:"center",gap:1,mb:1,children:[o.jsx(QR,{fontSize:"small",color:"action"}),o.jsx(B,{variant:"body2",color:"text.secondary",children:N.address})]}),N.city&&o.jsx(te,{display:"flex",alignItems:"center",gap:1,mb:1,children:o.jsx(B,{variant:"body2",color:"text.secondary",sx:{ml:3},children:N.city})}),N.location?o.jsx(te,{display:"flex",alignItems:"center",gap:1,mb:1,children:o.jsxs(B,{variant:"body2",color:"text.secondary",sx:{ml:3,fontSize:"0.75rem"},children:[" ",(W=N.location.latitude)==null?void 0:W.toFixed(6),", ",(V=N.location.longitude)==null?void 0:V.toFixed(6)]})}):o.jsx(te,{display:"flex",alignItems:"center",gap:1,mb:1,children:o.jsx(B,{variant:"body2",color:"warning.main",sx:{ml:3,fontSize:"0.75rem",fontStyle:"italic"},children:"   "})}),o.jsxs(te,{display:"flex",alignItems:"center",gap:1,mb:1,children:[o.jsx(JR,{fontSize:"small",color:"action"}),o.jsx(B,{variant:"body2",color:"text.secondary",children:N.phone})]}),o.jsxs(te,{display:"flex",alignItems:"center",gap:1,children:[o.jsx(Ud,{fontSize:"small",color:"action"}),o.jsx(B,{variant:"body2",color:"text.secondary",children:N.email})]}),N.description&&o.jsx(B,{variant:"body2",color:"text.secondary",mt:2,children:N.description}),N.status==="pending"&&o.jsxs(te,{sx:{mt:2,p:1.5,bgcolor:"warning.light",borderRadius:1},children:[o.jsxs(te,{display:"flex",alignItems:"center",gap:1,mb:1,children:[o.jsx(ll,{fontSize:"small",color:"warning"}),o.jsx(B,{variant:"subtitle2",color:"warning.dark",children:" "})]}),o.jsx(ke,{variant:"contained",size:"small",color:"success",onClick:async()=>{var G;try{await Tt(_e(se,"venues",N.id),{status:"active",moderatedAt:new Date,moderatedBy:((G=Kt.currentUser)==null?void 0:G.uid)||"superadmin"}),A()}catch(Q){console.error("Error activating venue:",Q)}},children:" "})]}),N.status==="active"&&t&&o.jsxs(te,{sx:{mt:2,p:1.5,bgcolor:"success.light",borderRadius:1},children:[o.jsxs(te,{display:"flex",alignItems:"center",gap:1,mb:1,children:[o.jsx(Cp,{fontSize:"small",color:"success"}),o.jsx(B,{variant:"subtitle2",color:"success.dark",children:" "})]}),o.jsx(ke,{variant:"outlined",size:"small",color:"warning",onClick:async()=>{if(window.confirm(" ,      ?    ."))try{await Tt(_e(se,"venues",N.id),{status:"pending",moderatedAt:null,moderatedBy:null}),A()}catch(G){console.error("Error deactivating venue:",G)}},children:"  "})]}),o.jsxs(te,{sx:{mt:2,p:1.5,bgcolor:"background.default",borderRadius:1},children:[o.jsxs(te,{display:"flex",alignItems:"center",gap:1,mb:.5,children:[o.jsx(Wd,{fontSize:"small",color:"primary"}),o.jsxs(B,{variant:"subtitle2",color:"primary",children:[": ",N.subscription?pr[N.subscription.plan].name:" "]})]}),N.subscription&&o.jsx(B,{variant:"caption",color:"text.secondary",children:pr[N.subscription.plan].price===0?"":`${pr[N.subscription.plan].price.toLocaleString("ru-RU")} /`}),!N.subscription&&o.jsxs(B,{variant:"caption",color:"warning.main",children:[o.jsx(ll,{fontSize:"small",sx:{verticalAlign:"middle",mr:.5}}),"  "]})]}),o.jsxs(te,{sx:{mt:2,p:1.5,bgcolor:"background.default",borderRadius:1},children:[o.jsxs(te,{display:"flex",alignItems:"center",gap:1,mb:1,children:[o.jsx(KR,{fontSize:"small",color:"action"}),o.jsx(B,{variant:"caption",color:"text.secondary",children:"  :"})]}),o.jsxs(te,{display:"flex",alignItems:"center",gap:1,children:[o.jsx(B,{variant:"caption",sx:{flex:1,fontFamily:"monospace",wordBreak:"break-all",p:.5,bgcolor:"white",borderRadius:.5},children:D(N.id)}),o.jsx(lm,{title:x===N.id?"!":" ",children:o.jsx(dn,{size:"small",onClick:()=>I(N.id),color:x===N.id?"success":"default",children:x===N.id?o.jsx(is,{fontSize:"small"}):o.jsx(ox,{fontSize:"small"})})}),o.jsx(lm,{title:" QR ",children:o.jsx(dn,{size:"small",onClick:()=>O(N),children:o.jsx(Sp,{fontSize:"small"})})})]})]})]}),o.jsxs(VE,{sx:{flexWrap:"wrap",gap:.5},children:[o.jsx(ke,{size:"small",onClick:()=>L(N),startIcon:o.jsx(Ii,{fontSize:"small"}),children:""}),o.jsx(ke,{size:"small",onClick:()=>z(N),startIcon:o.jsx(Wd,{fontSize:"small"}),color:"secondary",children:""}),o.jsx(ke,{size:"small",onClick:()=>R(N),children:N.status==="active"?"":""}),o.jsx(dn,{size:"small",color:"error",onClick:()=>M(N.id),children:o.jsx(bs,{})})]})]})},N.id)})})]}),o.jsxs(sr,{open:C,onClose:()=>S(!1),maxWidth:"sm",children:[o.jsxs(br,{children:["QR   ",P==null?void 0:P.name]}),o.jsx(or,{children:o.jsxs(te,{sx:{textAlign:"center",p:2},children:[o.jsx(dl,{value:P?D(P.id):"",size:256,level:"H",includeMargin:!0}),o.jsx(B,{variant:"body2",color:"text.secondary",sx:{mt:2},children:"    QR   "}),o.jsx(Lr,{sx:{my:2}}),o.jsx(B,{variant:"caption",sx:{fontFamily:"monospace"},children:P&&D(P.id)})]})}),o.jsxs(xr,{children:[o.jsx(ke,{onClick:()=>S(!1),children:""}),o.jsx(ke,{variant:"contained",onClick:()=>{P&&I(P.id)},children:" "})]})]}),o.jsxs(sr,{open:p,onClose:()=>f(!1),maxWidth:"sm",fullWidth:!0,children:[o.jsxs(br,{children:["   ",l==null?void 0:l.name]}),o.jsxs(or,{children:[g&&o.jsx(ct,{severity:"error",sx:{mb:2},children:g}),o.jsxs(te,{sx:{mt:2},children:[o.jsxs(ir,{fullWidth:!0,children:[o.jsx(Tr,{children:" "}),o.jsx(cr,{value:m,onChange:N=>v(N.target.value),label:" ",children:Object.entries(pr).filter(([N])=>N!=="premium").map(([N,W])=>o.jsx(Mt,{value:N,children:o.jsxs(te,{children:[o.jsx(B,{variant:"body1",children:W.name}),o.jsx(B,{variant:"caption",color:"text.secondary",children:W.price===0?"":`${W.price.toLocaleString("ru-RU")} /`})]})},N))})]}),m&&o.jsxs(te,{sx:{mt:3},children:[o.jsxs(B,{variant:"subtitle2",gutterBottom:!0,children:["  ",pr[m].name,":"]}),o.jsx(go,{dense:!0,children:pr[m].features.slice(0,5).map((N,W)=>o.jsx(er,{disablePadding:!0,children:o.jsx(tr,{primary:N,primaryTypographyProps:{variant:"body2"}})},W))})]}),o.jsx(ct,{severity:"info",sx:{mt:2},children:"     .     ."})]})]}),o.jsxs(xr,{children:[o.jsx(ke,{onClick:()=>f(!1),children:""}),o.jsx(ke,{onClick:$,variant:"contained",children:""})]})]}),o.jsxs(sr,{open:T,onClose:()=>_(!1),maxWidth:"md",fullWidth:!0,children:[o.jsx(br,{children:"  "}),o.jsxs(or,{children:[g&&o.jsx(ct,{severity:"error",sx:{mb:2},children:g}),o.jsxs(te,{sx:{mt:2,display:"flex",flexDirection:"column",gap:2},children:[o.jsx(Ye,{label:" ",value:j.name,onChange:N=>E({...j,name:N.target.value}),fullWidth:!0,required:!0}),o.jsx(Ye,{label:"",value:j.address,onChange:N=>E({...j,address:N.target.value}),fullWidth:!0,required:!0}),o.jsx(Ye,{label:"",value:j.city,onChange:N=>E({...j,city:N.target.value}),fullWidth:!0,required:!0}),o.jsx(Ye,{label:"",value:j.phone,onChange:N=>E({...j,phone:N.target.value}),fullWidth:!0,required:!0,placeholder:"+7 (900) 123-45-67"}),o.jsx(Ye,{label:"Email",value:j.email,onChange:N=>E({...j,email:N.target.value}),fullWidth:!0,required:!0,type:"email"}),o.jsx(Ye,{label:"",value:j.description,onChange:N=>E({...j,description:N.target.value}),fullWidth:!0,multiline:!0,rows:3}),o.jsxs(ir,{fullWidth:!0,children:[o.jsx(Tr,{children:" "}),o.jsxs(cr,{value:j.organizationType,onChange:N=>E({...j,organizationType:N.target.value}),label:" ",children:[o.jsx(Mt,{value:"",children:""}),o.jsx(Mt,{value:"",children:""}),o.jsx(Mt,{value:"",children:""})]})]}),o.jsx(Ye,{label:"",value:j.inn,onChange:N=>E({...j,inn:N.target.value}),fullWidth:!0}),o.jsx(Ye,{label:" ",value:j.bankAccount,onChange:N=>E({...j,bankAccount:N.target.value}),fullWidth:!0})]})]}),o.jsxs(xr,{children:[o.jsx(ke,{onClick:()=>{_(!1),y(""),E({name:"",address:"",city:"",phone:"",email:"",description:"",organizationType:"",inn:"",bankAccount:""})},children:""}),o.jsx(ke,{onClick:async()=>{try{if(!j.name||!j.address||!j.city||!j.phone||!j.email){y("   ");return}const N=Ge(Ie(se,"venues"),Pe("email","==",j.email));if(!(await qe(N)).empty){y("   email  ");return}const V={name:j.name,address:j.address,city:j.city,phone:j.phone,email:j.email,description:j.description||"",organizationType:j.organizationType,inn:j.inn||"",bankAccount:j.bankAccount||"",status:"pending",createdAt:new Date,updatedAt:new Date,logoUrl:"",amenities:[],location:null,moderatedAt:null,moderatedBy:null,courts:[],workingHours:{weekday:{start:"07:00",end:"23:00"},weekend:{start:"08:00",end:"22:00"}}};if(!Kt.currentUser){y(" ");return}if(!t){y("    ");return}console.log("Creating venue with data:",V),console.log("Firebase auth current user:",Kt.currentUser);const G=await mr(Ie(se,"venues"),V);console.log("Venue created with ID:",G.id),await mr(Ie(se,"subscriptions"),{venueId:G.id,plan:"start",status:"active",startDate:new Date,endDate:null,createdAt:new Date,updatedAt:new Date,usage:{courtsCount:0,bookingsThisMonth:0,smsEmailsSent:0,lastUpdated:new Date}}),await mr(Ie(se,"admins"),{name:"",email:j.email,password:"123456",role:"admin",venueId:G.id,permissions:["manage_bookings","manage_courts","manage_clients","manage_settings"],createdAt:new Date,updatedAt:new Date}),_(!1),y(""),E({name:"",address:"",city:"",phone:"",email:"",description:"",organizationType:"",inn:"",bankAccount:""}),A(),alert(` "${j.name}"  ! : ${j.email}, : 123456`)}catch(N){console.error("Error creating venue:",N),console.error("Error details:",{code:N==null?void 0:N.code,message:N==null?void 0:N.message,stack:N==null?void 0:N.stack}),y("   : "+((N==null?void 0:N.message)||" "))}},variant:"contained",children:""})]})]})]})}function va(e){return new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function ya(e){return new Intl.DateTimeFormat("ru-RU",{year:"numeric",month:"long",day:"numeric"}).format(e)}const km={start:"",standard:"",pro:"",premium:""},xa={start:0,standard:990,pro:1990,premium:2990},WA={start:["1 "," ","Email "],standard:[" 3 ","-","SMS-",""],pro:[" 10 ","  Standard"," ","API "],premium:[" ","  Pro"," ",""]};function HA(){var T;const{admin:e}=Ht(),[t,n]=h.useState(!0),[r,s]=h.useState(null),[i,a]=h.useState([]),[l,c]=h.useState(null),[d,u]=h.useState(!1),[p,f]=h.useState(""),[m,v]=h.useState(1),[g,y]=h.useState(!1),[x,w]=h.useState(null);h.useEffect(()=>{if(!(e!=null&&e.venueId))return;const _=vr(Ge(Ie(se,"subscriptions"),Pe("venueId","==",e.venueId),ka(1)),A=>{if(A.empty)s(null);else{const L=A.docs[0];s({id:L.id,...L.data()})}}),j=vr(Ge(Ie(se,"invoices"),Pe("venueId","==",e.venueId),rg("createdAt","desc"),ka(20)),A=>{const L=A.docs.map(R=>({id:R.id,...R.data()}));a(L)}),E=vr(Ge(Ie(se,"payment_methods"),Pe("venueId","==",e.venueId),Pe("isDefault","==",!0),ka(1)),A=>{if(A.empty)c(null);else{const L=A.docs[0];c({id:L.id,...L.data()})}});return n(!1),()=>{_(),j(),E()}},[e]);const C=async()=>{if(!(!p||!m)){y(!0),w(null);try{const E=(await tc(ep,"initSubscriptionPayment")({venueId:e==null?void 0:e.venueId,planKey:p,amount:xa[p]*m,courtsCount:m})).data;if(E.success&&E.paymentUrl)window.open(E.paymentUrl,"_blank"),u(!1);else throw new Error("Failed to initialize payment")}catch(_){console.error("Payment initialization error:",_),w(_.message||"   ")}finally{y(!1)}}},S=_=>{const j={active:{label:"",color:"success",icon:o.jsx(Cp,{})},pending_payment:{label:" ",color:"warning",icon:o.jsx(Gd,{})},payment_failed:{label:" ",color:"error",icon:o.jsx(ll,{})},cancelled:{label:"",color:"default",icon:o.jsx(al,{})}},E=j[_]||j.cancelled;return o.jsx(_r,{label:E.label,color:E.color,size:"small",icon:E.icon})},P=_=>{const j={pending:{label:"",color:"default"},processing:{label:"",color:"info"},paid:{label:"",color:"success"},failed:{label:"",color:"error"},refunded:{label:"",color:"warning"}},E=j[_]||j.pending;return o.jsx(_r,{label:E.label,color:E.color,size:"small"})};if(t)return o.jsx(Kd,{children:o.jsx(te,{sx:{width:"100%"},children:o.jsx(Xy,{})})});const k=r!=null&&r.endDate?Math.floor((r.endDate.toMillis()-Date.now())/(1e3*60*60*24)):0;return o.jsx(Kd,{children:o.jsxs(te,{sx:{p:3},children:[o.jsx(B,{variant:"h5",gutterBottom:!0,children:" "}),x&&o.jsx(ct,{severity:"error",sx:{mb:3},onClose:()=>w(null),children:x}),o.jsx(it,{sx:{mb:3},children:o.jsxs(at,{children:[o.jsx(B,{variant:"h6",gutterBottom:!0,children:" "}),r?o.jsxs(Ae,{container:!0,spacing:3,children:[o.jsx(Ae,{item:!0,xs:12,md:6,children:o.jsxs(Fs,{spacing:2,children:[o.jsxs(te,{children:[o.jsx(B,{variant:"subtitle2",color:"text.secondary",children:""}),o.jsx(B,{variant:"h4",children:km[r.plan]})]}),o.jsxs(te,{children:[o.jsx(B,{variant:"subtitle2",color:"text.secondary",children:""}),S(r.status)]}),o.jsxs(te,{children:[o.jsx(B,{variant:"subtitle2",color:"text.secondary",children:" "}),o.jsx(B,{variant:"body1",children:r.courtsCount})]}),o.jsxs(te,{children:[o.jsx(B,{variant:"subtitle2",color:"text.secondary",children:"  "}),o.jsx(B,{variant:"h5",children:va(xa[r.plan]*r.courtsCount)})]})]})}),o.jsx(Ae,{item:!0,xs:12,md:6,children:o.jsxs(Fs,{spacing:2,children:[o.jsxs(te,{children:[o.jsx(B,{variant:"subtitle2",color:"text.secondary",children:" "}),o.jsx(B,{variant:"body1",children:r.endDate?ya(r.endDate.toDate()):""}),k>0&&k<=7&&o.jsxs(B,{variant:"caption",color:"warning.main",children:[" ",k," "]})]}),o.jsxs(te,{children:[o.jsx(B,{variant:"subtitle2",color:"text.secondary",children:""}),o.jsx(B,{variant:"body1",children:r.autoRenewal?"":""})]}),r.lastPaymentAt&&o.jsxs(te,{children:[o.jsx(B,{variant:"subtitle2",color:"text.secondary",children:" "}),o.jsx(B,{variant:"body1",children:ya(r.lastPaymentAt.toDate())})]}),r.status==="payment_failed"&&r.gracePeriodEnd&&o.jsx(ct,{severity:"error",sx:{mt:2},children:o.jsxs(B,{variant:"body2",children:["   .   "," ",ya(r.gracePeriodEnd.toDate()),",    ."]})})]})})]}):o.jsx(ct,{severity:"info",children:"    "}),o.jsx(Lr,{sx:{my:3}}),o.jsxs(Fs,{direction:"row",spacing:2,children:[o.jsx(ke,{variant:"contained",onClick:()=>{f((r==null?void 0:r.plan)||"standard"),v((r==null?void 0:r.courtsCount)||1),u(!0)},children:" "}),!l&&o.jsx(ke,{variant:"outlined",startIcon:o.jsx(Hd,{}),onClick:()=>{alert("    ")},children:" "})]})]})}),l&&o.jsx(it,{sx:{mb:3},children:o.jsxs(at,{children:[o.jsx(B,{variant:"h6",gutterBottom:!0,children:" "}),o.jsxs(Fs,{direction:"row",spacing:2,alignItems:"center",children:[o.jsx(Hd,{fontSize:"large",color:"action"}),o.jsxs(te,{children:[o.jsxs(B,{variant:"body1",children:[l.brand,"  ",l.last4]}),o.jsxs(B,{variant:"caption",color:"text.secondary",children:["  ",l.expiryMonth,"/",l.expiryYear]})]})]})]})}),o.jsx(it,{children:o.jsxs(at,{children:[o.jsx(B,{variant:"h6",gutterBottom:!0,children:" "}),i.length>0?o.jsx(fc,{component:on,variant:"outlined",children:o.jsxs(uc,{children:[o.jsx(mc,{children:o.jsxs(qr,{children:[o.jsx(Be,{children:""}),o.jsx(Be,{children:""}),o.jsx(Be,{children:""}),o.jsx(Be,{children:""}),o.jsx(Be,{align:"right",children:""})]})}),o.jsx(hc,{children:i.map(_=>o.jsxs(qr,{children:[o.jsx(Be,{children:ya(_.createdAt.toDate())}),o.jsx(Be,{children:_.description}),o.jsx(Be,{children:va(_.amount)}),o.jsx(Be,{children:P(_.status)}),o.jsx(Be,{align:"right",children:o.jsx(ke,{size:"small",startIcon:o.jsx(ax,{}),onClick:()=>{alert("    ")},children:""})})]},_.id))})]})}):o.jsx(B,{color:"text.secondary",children:"  "})]})}),o.jsxs(sr,{open:d,onClose:()=>u(!1),maxWidth:"sm",fullWidth:!0,children:[o.jsx(br,{children:" "}),o.jsx(or,{children:o.jsxs(Fs,{spacing:3,sx:{mt:2},children:[o.jsx(Ye,{select:!0,fullWidth:!0,label:"",value:p,onChange:_=>f(_.target.value),children:Object.entries(km).filter(([_])=>_!=="start").map(([_,j])=>o.jsxs(Mt,{value:_,children:[j," - ",va(xa[_]),"  /"]},_))}),o.jsx(Ye,{type:"number",fullWidth:!0,label:" ",value:m,onChange:_=>v(parseInt(_.target.value)||1),inputProps:{min:1,max:100}}),p&&o.jsxs(o.Fragment,{children:[o.jsxs(te,{sx:{p:2,bgcolor:"grey.100",borderRadius:1},children:[o.jsx(B,{variant:"subtitle2",gutterBottom:!0,children:" :"}),o.jsx("ul",{style:{margin:0,paddingLeft:20},children:(T=WA[p])==null?void 0:T.map((_,j)=>o.jsx("li",{children:o.jsx(B,{variant:"body2",children:_})},j))})]}),o.jsx(Lr,{}),o.jsxs(te,{sx:{textAlign:"center"},children:[o.jsx(B,{variant:"subtitle2",color:"text.secondary",children:"  :"}),o.jsx(B,{variant:"h4",children:va(xa[p]*m)}),o.jsx(B,{variant:"caption",color:"text.secondary",children:" "})]})]})]})}),o.jsxs(xr,{children:[o.jsx(ke,{onClick:()=>u(!1),children:""}),o.jsx(ke,{variant:"contained",onClick:C,disabled:!p||!m||g,startIcon:g?o.jsx(Gd,{}):o.jsx(vo,{}),children:g?"...":"  "})]})]})]})})}const UA="modulepreload",VA=function(e){return"/admin/"+e},_m={},eu=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=VA(c),c in _m)return;_m[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":UA,d||(p.as="script"),p.crossOrigin="",p.href=c,l&&p.setAttribute("nonce",l),document.head.appendChild(p),d)return new Promise((f,m)=>{p.addEventListener("load",f),p.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},Tm=[{id:"tbank",name:"-",commission:2.5,fields:[{name:"shopId",label:"Shop ID",type:"text",required:!0,placeholder:": shop_12345"},{name:"secretKey",label:"Secret Key",type:"password",required:!0},{name:"terminalKey",label:"Terminal Key",type:"text",required:!0}]},{id:"yookassa",name:"Kassa",commission:2.8,fields:[{name:"shopId",label:"Shop ID",type:"text",required:!0},{name:"secretKey",label:"Secret Key",type:"password",required:!0}]}];function YA(){const{admin:e,club:t}=Ht(),{isSuperAdmin:n}=an(),[r,s]=h.useState(null),[i,a]=h.useState(!0),[l,c]=h.useState(!1),[d,u]=h.useState(!0),[p,f]=h.useState(!1),[m,v]=h.useState(""),[g,y]=h.useState({}),[x,w]=h.useState(!1),[C,S]=h.useState(null),[P,k]=h.useState(0);h.useEffect(()=>{if(n){const M=localStorage.getItem("selectedVenueId");M?(s(M),_(M)):a(!1)}else e!=null&&e.venueId&&_(e.venueId)},[e,n]);const T=M=>{s(M),localStorage.setItem("selectedVenueId",M),M&&_(M)},_=async M=>{const D=M||(e==null?void 0:e.venueId);if(D)try{a(!0);const I=await dt(_e(se,"venues",D));if(I.exists()){const O=I.data();f(O.paymentEnabled||!1),u(O.paymentTestMode!==!1),v(O.paymentProvider||""),O.paymentCredentials&&y(O.paymentCredentials),O.paymentProvider&&O.paymentCredentials?k(2):O.paymentProvider&&k(1)}a(!1)}catch(I){console.error("Error loading payment settings:",I),a(!1)}},j=M=>{v(M),y({}),k(1)},E=(M,D)=>{y(I=>({...I,[M]:D}))},A=async()=>{const M=n?r:e==null?void 0:e.venueId;if(!(!M||!m)){c(!0);try{await Tt(_e(se,"venues",M),{paymentEnabled:p,paymentTestMode:d,paymentProvider:m,paymentCredentials:g,paymentUpdatedAt:new Date}),k(2),alert("  ")}catch(D){console.error("Error saving payment settings:",D),alert("   ")}finally{c(!1)}}},L=async()=>{w(!0),S(null);const M=n?r:e==null?void 0:e.venueId;if(!(!M||!m))try{const I=await(await eu(async()=>{const{httpsCallable:O}=await Promise.resolve().then(()=>vk);return{httpsCallable:O}},void 0)).httpsCallable((await eu(async()=>{const{functions:O}=await Promise.resolve().then(()=>xk);return{functions:O}},void 0)).functions,"testPaymentConnection")({venueId:M,provider:m,credentials:g});S(I.data)}catch(D){console.error("Error testing connection:",D),S({success:!1,message:D.message||"   "})}};if(i)return o.jsx(te,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:o.jsx(hn,{})});if(n&&!r)return o.jsx(Ao,{title:"    "});const R=Tm.find(M=>M.id===m);return o.jsxs(te,{children:[n&&o.jsx(Ro,{selectedVenueId:r,onVenueChange:T}),o.jsx(B,{variant:"h5",component:"h2",gutterBottom:!0,children:" "}),o.jsx(ct,{severity:"info",sx:{mb:3},children:"       .         ."}),o.jsx(it,{sx:{mb:3},children:o.jsxs(at,{children:[o.jsxs(te,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[o.jsxs(te,{children:[o.jsx(B,{variant:"h6",children:" "}),o.jsx(B,{variant:"body2",color:"text.secondary",children:p?"     ":"  "})]}),o.jsxs(te,{display:"flex",alignItems:"center",gap:2,children:[o.jsx(ol,{control:o.jsx(Xs,{checked:d,onChange:M=>u(M.target.checked),disabled:!p}),label:" "}),o.jsx(_r,{icon:p?o.jsx(is,{}):o.jsx(ll,{}),label:p?"":" ",color:p?"success":"default"})]})]}),p&&R&&o.jsxs(te,{mt:2,p:2,bgcolor:"background.default",borderRadius:1,children:[o.jsxs(B,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:[": ",o.jsx("strong",{children:R.name})]}),o.jsxs(B,{variant:"body2",color:"text.secondary",children:[": ",o.jsxs("strong",{children:[R.commission,"%"]})]})]})]})}),o.jsxs(KD,{activeStep:P,orientation:"vertical",children:[o.jsxs(Qc,{children:[o.jsx(Aa,{children:"  "}),o.jsxs(Jc,{children:[o.jsx(B,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"    ,       "}),o.jsx(te,{sx:{mt:2,mb:3},children:Tm.map(M=>o.jsx(on,{sx:{p:2,mb:2,cursor:"pointer",border:m===M.id?2:1,borderColor:m===M.id?"primary.main":"divider","&:hover":{borderColor:"primary.main"}},onClick:()=>j(M.id),children:o.jsxs(te,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[o.jsxs(te,{display:"flex",alignItems:"center",gap:2,children:[o.jsx($R,{color:"action"}),o.jsxs(te,{children:[o.jsx(B,{variant:"subtitle1",children:M.name}),o.jsxs(B,{variant:"body2",color:"text.secondary",children:[": ",M.commission,"%"]})]})]}),m===M.id&&o.jsx(is,{color:"primary"})]})},M.id))}),o.jsx(ke,{variant:"contained",onClick:()=>k(1),disabled:!m,children:""})]})]}),o.jsxs(Qc,{children:[o.jsx(Aa,{children:"   "}),o.jsx(Jc,{children:R&&o.jsxs(o.Fragment,{children:[o.jsxs(B,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["     ",R.name]}),o.jsx(te,{sx:{mt:2},children:R.fields.map(M=>{var D;return o.jsx(te,{sx:{mb:2},children:M.type==="select"?o.jsxs(ir,{fullWidth:!0,children:[o.jsx(Tr,{children:M.label}),o.jsx(cr,{value:g[M.name]||"",onChange:I=>E(M.name,I.target.value),required:M.required,children:(D=M.options)==null?void 0:D.map(I=>o.jsx(Mt,{value:I.value,children:I.label},I.value))})]}):o.jsx(Ye,{fullWidth:!0,label:M.label,type:M.type,value:g[M.name]||"",onChange:I=>E(M.name,I.target.value),required:M.required,placeholder:M.placeholder})},M.name)})}),o.jsx(ct,{severity:"warning",icon:o.jsx(kp,{}),sx:{mt:2,mb:2},children:"           "}),o.jsxs(te,{sx:{mt:2},children:[o.jsx(ke,{variant:"contained",onClick:A,disabled:l||!R.fields.every(M=>!M.required||g[M.name]),startIcon:l?o.jsx(hn,{size:20}):o.jsx(Vd,{}),children:l?"...":"  "}),o.jsx(ke,{sx:{ml:1},onClick:()=>k(0),children:""})]})]})})]}),o.jsxs(Qc,{children:[o.jsx(Aa,{children:" "}),o.jsxs(Jc,{children:[o.jsx(B,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"          "}),o.jsx(te,{sx:{mt:3},children:o.jsx(ke,{variant:"contained",onClick:L,startIcon:o.jsx(sA,{}),children:" "})}),p&&o.jsxs(ct,{severity:"success",sx:{mt:3},children:["!      .",d&&"         ."]})]})]})]}),o.jsx(it,{sx:{mt:4},children:o.jsxs(at,{children:[o.jsx(B,{variant:"h6",gutterBottom:!0,children:"  "}),o.jsxs(go,{children:[o.jsxs(er,{children:[o.jsx(Gc,{children:o.jsx(is,{color:"success"})}),o.jsx(tr,{primary:"    ",secondary:"    "})]}),o.jsxs(er,{children:[o.jsx(Gc,{children:o.jsx(is,{color:"success"})}),o.jsx(tr,{primary:" ",secondary:"     "})]}),o.jsxs(er,{children:[o.jsx(Gc,{children:o.jsx(is,{color:"success"})}),o.jsx(tr,{primary:" ",secondary:"   ,   "})]})]})]})}),o.jsxs(sr,{open:x,onClose:()=>w(!1),children:[o.jsx(br,{children:" "}),o.jsx(or,{children:C?o.jsx(ct,{severity:C.success?"success":"error",sx:{mt:1},children:C.message}):o.jsxs(te,{display:"flex",alignItems:"center",gap:2,py:2,children:[o.jsx(hn,{size:24}),o.jsx(B,{children:" ..."})]})}),o.jsxs(xr,{children:[o.jsx(ke,{onClick:()=>w(!1),children:""}),(C==null?void 0:C.success)&&o.jsx(ke,{variant:"contained",onClick:()=>{f(!0),w(!1),A()},children:" "})]})]})]})}function GA(){const{isSuperAdmin:e}=an(),[t,n]=h.useState(!0),[r,s]=h.useState(!1),[i,a]=h.useState({tbank:{terminalKey:"",password:"",notificationUrl:"https://europe-west1-sports-booking-app-1d7e5.cloudfunctions.net/tbankWebhook",testMode:!0},autoRenewal:!0,gracePeriodDays:3}),[l,c]=h.useState(!1),[d,u]=h.useState(!1),[p,f]=h.useState({totalRevenue:0,activeSubscriptions:0,pendingPayments:0,failedPayments:0}),[m,v]=h.useState(null),[g,y]=h.useState({});h.useEffect(()=>{x(),w(),C()},[]);const x=async()=>{try{const k=_e(se,"settings","billing"),T=await dt(k);if(T.exists()){const _=T.data();a(_)}}catch(k){console.error("Error loading billing config:",k)}finally{n(!1)}},w=async()=>{try{const k=Ge(Ie(se,"subscriptions"),Pe("status","==","active")),T=await qe(k);f({totalRevenue:0,activeSubscriptions:T.size,pendingPayments:0,failedPayments:0})}catch(k){console.error("Error loading billing stats:",k)}},C=()=>{const k={};Object.entries(pr).forEach(([T,_])=>{k[T]=_.price}),y(k)},S=async()=>{try{s(!0);const k=_e(se,"settings","billing");await sg(k,{...i,updatedAt:new Date},{merge:!0}),c(!1),alert("  ")}catch(k){console.error("Error saving billing config:",k),alert("   ")}finally{s(!1)}},P=async k=>{try{alert(`  ${pr[k].name} `),v(null)}catch(T){console.error("Error updating plan price:",T),alert("   ")}};return e?t?o.jsx(te,{sx:{display:"flex",justifyContent:"center",p:3},children:o.jsx(hn,{})}):o.jsx(Do,{requiredPermission:"superadmin",children:o.jsxs(te,{sx:{p:3},children:[o.jsx(ct,{severity:"info",sx:{mb:3},children:"     "}),o.jsx(B,{variant:"h4",gutterBottom:!0,children:" "}),o.jsxs(Ae,{container:!0,spacing:3,sx:{mb:3},children:[o.jsx(Ae,{item:!0,xs:12,sm:6,md:3,children:o.jsx(it,{children:o.jsxs(at,{children:[o.jsxs(te,{display:"flex",alignItems:"center",gap:1,children:[o.jsx(gc,{color:"primary"}),o.jsx(B,{color:"textSecondary",gutterBottom:!0,children:" "})]}),o.jsxs(B,{variant:"h5",children:[p.totalRevenue.toLocaleString("ru-RU")," "]})]})})}),o.jsx(Ae,{item:!0,xs:12,sm:6,md:3,children:o.jsx(it,{children:o.jsxs(at,{children:[o.jsxs(te,{display:"flex",alignItems:"center",gap:1,children:[o.jsx(gi,{color:"success"}),o.jsx(B,{color:"textSecondary",gutterBottom:!0,children:" "})]}),o.jsx(B,{variant:"h5",children:p.activeSubscriptions})]})})}),o.jsx(Ae,{item:!0,xs:12,sm:6,md:3,children:o.jsx(it,{children:o.jsxs(at,{children:[o.jsxs(te,{display:"flex",alignItems:"center",gap:1,children:[o.jsx(gi,{color:"warning"}),o.jsx(B,{color:"textSecondary",gutterBottom:!0,children:" "})]}),o.jsx(B,{variant:"h5",children:p.pendingPayments})]})})}),o.jsx(Ae,{item:!0,xs:12,sm:6,md:3,children:o.jsx(it,{children:o.jsxs(at,{children:[o.jsxs(te,{display:"flex",alignItems:"center",gap:1,children:[o.jsx(gi,{color:"error"}),o.jsx(B,{color:"textSecondary",gutterBottom:!0,children:" "})]}),o.jsx(B,{variant:"h5",children:p.failedPayments})]})})})]}),o.jsx(it,{sx:{mb:3},children:o.jsxs(at,{children:[o.jsxs(te,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[o.jsx(B,{variant:"h6",children:" -"}),l?o.jsxs(te,{children:[o.jsx(ke,{startIcon:o.jsx(al,{}),onClick:()=>{c(!1),x()},sx:{mr:1},children:""}),o.jsx(ke,{startIcon:o.jsx(Vd,{}),onClick:S,variant:"contained",disabled:r,children:""})]}):o.jsx(ke,{startIcon:o.jsx(Ii,{}),onClick:()=>c(!0),variant:"outlined",children:""})]}),o.jsxs(Ae,{container:!0,spacing:2,children:[o.jsx(Ae,{item:!0,xs:12,md:6,children:o.jsx(Ye,{label:"Terminal Key",value:i.tbank.terminalKey,onChange:k=>a({...i,tbank:{...i.tbank,terminalKey:k.target.value}}),fullWidth:!0,disabled:!l,helperText:"    "})}),o.jsx(Ae,{item:!0,xs:12,md:6,children:o.jsx(Ye,{label:"Password",type:d?"text":"password",value:i.tbank.password,onChange:k=>a({...i,tbank:{...i.tbank,password:k.target.value}}),fullWidth:!0,disabled:!l,helperText:"  API -",InputProps:{endAdornment:l&&o.jsx(ke,{size:"small",onClick:()=>u(!d),children:d?"":""})}})}),o.jsx(Ae,{item:!0,xs:12,children:o.jsx(Ye,{label:"Notification URL",value:i.tbank.notificationUrl,onChange:k=>a({...i,tbank:{...i.tbank,notificationUrl:k.target.value}}),fullWidth:!0,disabled:!l,helperText:"URL     -"})}),o.jsxs(Ae,{item:!0,xs:12,children:[o.jsx(ol,{control:o.jsx(Xs,{checked:i.tbank.testMode,onChange:k=>a({...i,tbank:{...i.tbank,testMode:k.target.checked}}),disabled:!l}),label:" "}),i.tbank.testMode&&o.jsx(ct,{severity:"warning",sx:{mt:1},children:"  .     ."})]})]})]})}),o.jsx(it,{sx:{mb:3},children:o.jsxs(at,{children:[o.jsx(B,{variant:"h6",gutterBottom:!0,children:" "}),o.jsxs(Ae,{container:!0,spacing:2,children:[o.jsx(Ae,{item:!0,xs:12,children:o.jsx(ol,{control:o.jsx(Xs,{checked:i.autoRenewal,onChange:k=>a({...i,autoRenewal:k.target.checked}),disabled:!l}),label:"  "})}),o.jsx(Ae,{item:!0,xs:12,md:6,children:o.jsx(Ye,{label:"  ()",type:"number",value:i.gracePeriodDays,onChange:k=>a({...i,gracePeriodDays:parseInt(k.target.value)||0}),fullWidth:!0,disabled:!l,helperText:"      "})})]})]})}),o.jsx(it,{children:o.jsxs(at,{children:[o.jsx(B,{variant:"h6",gutterBottom:!0,children:" "}),o.jsx(fc,{component:on,variant:"outlined",children:o.jsxs(uc,{children:[o.jsx(mc,{children:o.jsxs(qr,{children:[o.jsx(Be,{children:""}),o.jsx(Be,{children:""}),o.jsx(Be,{align:"right",children:"  /"}),o.jsx(Be,{align:"center",children:""}),o.jsx(Be,{align:"center",children:""})]})}),o.jsx(hc,{children:Object.entries(pr).map(([k,T])=>o.jsxs(qr,{children:[o.jsx(Be,{children:o.jsx(B,{variant:"subtitle2",children:T.name})}),o.jsx(Be,{children:o.jsx(B,{variant:"body2",color:"textSecondary",children:T.features[0]})}),o.jsx(Be,{align:"right",children:m===k?o.jsx(Ye,{type:"number",value:g[k],onChange:_=>y({...g,[k]:parseInt(_.target.value)||0}),size:"small",sx:{width:120}}):o.jsx(B,{children:T.price===0?"":`${T.price.toLocaleString("ru-RU")} `})}),o.jsx(Be,{align:"center",children:o.jsx(_r,{label:"",color:"success",size:"small"})}),o.jsx(Be,{align:"center",children:m===k?o.jsxs(o.Fragment,{children:[o.jsx(dn,{size:"small",onClick:()=>P(k),color:"primary",children:o.jsx(Vd,{})}),o.jsx(dn,{size:"small",onClick:()=>{v(null),C()},children:o.jsx(al,{})})]}):o.jsx(dn,{size:"small",onClick:()=>v(k),disabled:k==="start",children:o.jsx(Ii,{})})})]},k))})]})})]})})]})}):o.jsx(te,{sx:{p:3},children:o.jsx(ct,{severity:"error",children:"      "})})}function qA(){const{admin:e}=Ht(),{isSuperAdmin:t}=an(),[n,r]=h.useState(null),[s,i]=h.useState(!0),[a,l]=h.useState("month"),[c,d]=h.useState("all"),[u,p]=h.useState({totalRevenue:0,bookingsCount:0,averageCheck:0,revenueChange:0}),[f,m]=h.useState([]);h.useEffect(()=>{if(t){const y=localStorage.getItem("selectedVenueId");y?(r(y),g(y)):i(!1)}else e!=null&&e.venueId&&g(e.venueId)},[e,t,a,c]);const v=y=>{r(y),localStorage.setItem("selectedVenueId",y),y&&g(y)},g=async y=>{const x=y||(e==null?void 0:e.venueId);if(x)try{i(!0);const w=new Date;let C=new Date;switch(a){case"week":C.setDate(w.getDate()-7);break;case"month":C.setMonth(w.getMonth()-1);break;case"year":C.setFullYear(w.getFullYear()-1);break}console.log("Loading finance data for venue:",x),console.log("Period:",a,"Start date:",C);const S=Ge(Ie(se,"bookings"),Pe("venueId","==",x)),P=await qe(S);console.log("Total bookings found:",P.size);let k=P.docs.map(A=>{var L;return{id:A.id,...A.data(),date:(L=A.data().date)==null?void 0:L.toDate(),paymentStatus:A.data().paymentStatus||"awaiting_payment",paymentMethod:A.data().paymentMethod||"cash"}});k=k.filter(A=>A.date?A.date>=C&&A.status==="confirmed":!1),console.log("Bookings after date filter:",k.length),k=k.filter(A=>A.paymentStatus==="paid"||A.paymentStatus==="online_payment"),console.log("Paid bookings:",k.length),c!=="all"&&(k=k.filter(A=>A.paymentMethod===c));const T=k.reduce((A,L)=>A+(L.amount||0),0),_=k.length,j=_>0?T/_:0;p({totalRevenue:T,bookingsCount:_,averageCheck:j,revenueChange:15.5});const E=k.reduce((A,L)=>{var M;const R=(M=L.date)==null?void 0:M.toLocaleDateString("ru-RU");return A[R]||(A[R]={date:L.date,bookings:0,revenue:0}),A[R].bookings++,A[R].revenue+=L.amount||0,A},{});m(Object.values(E).slice(0,10))}catch(w){console.error("Error loading finance data:",w)}finally{i(!1)}};return s?o.jsx(te,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:o.jsx(hn,{})}):t&&!n?o.jsx(Ao,{title:"    "}):o.jsxs(te,{children:[t&&o.jsx(Ro,{selectedVenueId:n,onVenueChange:v}),o.jsxs(te,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[o.jsx(B,{variant:"h5",component:"h2",children:" "}),o.jsxs(te,{display:"flex",gap:2,children:[o.jsxs(ir,{size:"small",sx:{minWidth:150},children:[o.jsx(Tr,{children:" "}),o.jsxs(cr,{value:c,label:" ",onChange:y=>d(y.target.value),children:[o.jsx(Mt,{value:"all",children:""}),o.jsx(Mt,{value:"cash",children:""}),o.jsx(Mt,{value:"card_on_site",children:"  "}),o.jsx(Mt,{value:"transfer",children:""}),o.jsx(Mt,{value:"online",children:" "})]})]}),o.jsxs(ir,{size:"small",sx:{minWidth:120},children:[o.jsx(Tr,{children:""}),o.jsxs(cr,{value:a,label:"",onChange:y=>l(y.target.value),children:[o.jsx(Mt,{value:"week",children:""}),o.jsx(Mt,{value:"month",children:""}),o.jsx(Mt,{value:"year",children:""})]})]})]})]}),o.jsxs(Ae,{container:!0,spacing:3,mb:4,children:[o.jsx(Ae,{item:!0,xs:12,sm:6,md:3,children:o.jsx(it,{children:o.jsxs(at,{children:[o.jsxs(te,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[o.jsx(vo,{color:"primary"}),o.jsx(_r,{size:"small",label:`+${u.revenueChange}%`,color:"success",icon:o.jsx(gc,{})})]}),o.jsx(B,{color:"text.secondary",variant:"body2",children:" "}),o.jsxs(B,{variant:"h5",component:"div",children:[u.totalRevenue.toLocaleString("ru-RU")," "]})]})})}),o.jsx(Ae,{item:!0,xs:12,sm:6,md:3,children:o.jsx(it,{children:o.jsxs(at,{children:[o.jsx(te,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:o.jsx(ax,{color:"primary"})}),o.jsx(B,{color:"text.secondary",variant:"body2",children:" "}),o.jsx(B,{variant:"h5",component:"div",children:u.bookingsCount})]})})}),o.jsx(Ae,{item:!0,xs:12,sm:6,md:3,children:o.jsx(it,{children:o.jsxs(at,{children:[o.jsx(te,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:o.jsx(vo,{color:"primary"})}),o.jsx(B,{color:"text.secondary",variant:"body2",children:" "}),o.jsxs(B,{variant:"h5",component:"div",children:[Math.round(u.averageCheck).toLocaleString("ru-RU")," "]})]})})})]}),o.jsx(it,{children:o.jsxs(at,{children:[o.jsx(B,{variant:"h6",component:"h3",gutterBottom:!0,children:" "}),o.jsx(fc,{component:on,variant:"outlined",children:o.jsxs(uc,{children:[o.jsx(mc,{children:o.jsxs(qr,{children:[o.jsx(Be,{children:""}),o.jsx(Be,{align:"center",children:""}),o.jsx(Be,{align:"right",children:""})]})}),o.jsx(hc,{children:f.map((y,x)=>{var w;return o.jsxs(qr,{children:[o.jsx(Be,{children:(w=y.date)==null?void 0:w.toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"})}),o.jsx(Be,{align:"center",children:y.bookings}),o.jsxs(Be,{align:"right",children:[y.revenue.toLocaleString("ru-RU")," "]})]},x)})})]})})]})})]})}function KA(){const{admin:e}=Ht(),{isSuperAdmin:t}=an(),[n,r]=h.useState(null),[s,i]=h.useState(!0),[a,l]=h.useState({smsEnabled:!1,emailEnabled:!1,pushEnabled:!1,promotions:[]}),[c,d]=h.useState(!1),[u,p]=h.useState({name:"",description:"",discount:10,validUntil:"",active:!0});h.useEffect(()=>{if(t){const x=localStorage.getItem("selectedVenueId");x?(r(x),m(x)):i(!1)}else e!=null&&e.venueId&&m(e.venueId)},[e,t]);const f=x=>{r(x),localStorage.setItem("selectedVenueId",x),x&&m(x)},m=async x=>{const w=x||(e==null?void 0:e.venueId);if(w)try{i(!0);const C=await dt(_e(se,"venues",w));if(C.exists()){const S=C.data();l({smsEnabled:S.marketingSms||!1,emailEnabled:S.marketingEmail||!1,pushEnabled:S.marketingPush||!1,promotions:S.promotions||[]})}}catch(C){console.error("Error loading marketing data:",C)}finally{i(!1)}},v=async x=>{const w=t?n:e==null?void 0:e.venueId;if(!w)return;const C=!a[x];try{await Tt(_e(se,"venues",w),{[`marketing${x.charAt(0).toUpperCase()+x.slice(1).replace("Enabled","")}`]:C}),l(S=>({...S,[x]:C}))}catch(S){console.error("Error updating notification settings:",S)}},g=async()=>{const x=t?n:e==null?void 0:e.venueId;if(!x)return;const w={...u,id:Date.now().toString(),createdAt:new Date};try{const C=[...a.promotions,w];await Tt(_e(se,"venues",x),{promotions:C}),l(S=>({...S,promotions:C})),d(!1),p({name:"",description:"",discount:10,validUntil:"",active:!0})}catch(C){console.error("Error creating promotion:",C)}},y=async x=>{const w=t?n:e==null?void 0:e.venueId;if(w)try{const C=a.promotions.filter(S=>S.id!==x);await Tt(_e(se,"venues",w),{promotions:C}),l(S=>({...S,promotions:C}))}catch(C){console.error("Error deleting promotion:",C)}};return s?o.jsx(te,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:o.jsx(hn,{})}):t&&!n?o.jsx(Ao,{title:"    "}):o.jsxs(te,{children:[t&&o.jsx(Ro,{selectedVenueId:n,onVenueChange:f}),o.jsx(B,{variant:"h5",component:"h2",gutterBottom:!0,children:"  "}),o.jsxs(Ae,{container:!0,spacing:3,children:[o.jsx(Ae,{item:!0,xs:12,md:6,children:o.jsx(it,{children:o.jsxs(at,{children:[o.jsx(B,{variant:"h6",component:"h3",gutterBottom:!0,children:" "}),o.jsxs(go,{children:[o.jsxs(er,{children:[o.jsx(tr,{primary:"SMS-",secondary:"      "}),o.jsx(cs,{children:o.jsx(Xs,{checked:a.smsEnabled,onChange:()=>v("smsEnabled")})})]}),o.jsxs(er,{children:[o.jsx(tr,{primary:"Email-",secondary:"     "}),o.jsx(cs,{children:o.jsx(Xs,{checked:a.emailEnabled,onChange:()=>v("emailEnabled")})})]}),o.jsxs(er,{children:[o.jsx(tr,{primary:"Push-",secondary:"    "}),o.jsx(cs,{children:o.jsx(Xs,{checked:a.pushEnabled,onChange:()=>v("pushEnabled")})})]})]})]})})}),o.jsx(Ae,{item:!0,xs:12,md:6,children:o.jsx(it,{children:o.jsxs(at,{children:[o.jsx(B,{variant:"h6",component:"h3",gutterBottom:!0,children:" "}),o.jsxs(Ae,{container:!0,spacing:2,children:[o.jsx(Ae,{item:!0,xs:12,children:o.jsx(ke,{variant:"outlined",fullWidth:!0,startIcon:o.jsx(nA,{}),sx:{justifyContent:"flex-start",textAlign:"left"},children:" QR- "})}),o.jsx(Ae,{item:!0,xs:12,children:o.jsx(ke,{variant:"outlined",fullWidth:!0,startIcon:o.jsx(lx,{}),sx:{justifyContent:"flex-start",textAlign:"left"},children:"   "})}),o.jsx(Ae,{item:!0,xs:12,children:o.jsx(ke,{variant:"outlined",fullWidth:!0,startIcon:o.jsx(zR,{}),sx:{justifyContent:"flex-start",textAlign:"left"},children:" "})})]})]})})}),o.jsx(Ae,{item:!0,xs:12,children:o.jsx(it,{children:o.jsxs(at,{children:[o.jsxs(te,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[o.jsx(B,{variant:"h6",component:"h3",children:" "}),o.jsx(ke,{variant:"contained",startIcon:o.jsx(ea,{}),onClick:()=>d(!0),children:" "})]}),a.promotions.length===0?o.jsx(ct,{severity:"info",children:"     .      ."}):o.jsx(go,{children:a.promotions.map(x=>o.jsxs(er,{children:[o.jsx(tr,{primary:x.name,secondary:o.jsxs(te,{children:[o.jsx(B,{variant:"body2",children:x.description}),o.jsxs(te,{mt:1,children:[o.jsx(_r,{size:"small",label:`-${x.discount}%`,color:"primary",sx:{mr:1}}),x.validUntil&&o.jsx(_r,{size:"small",label:` ${new Date(x.validUntil).toLocaleDateString("ru-RU")}`,variant:"outlined"})]})]})}),o.jsx(cs,{children:o.jsx(dn,{onClick:()=>y(x.id),children:o.jsx(bs,{})})})]},x.id))})]})})})]}),o.jsxs(sr,{open:c,onClose:()=>d(!1),maxWidth:"sm",fullWidth:!0,children:[o.jsx(br,{children:" "}),o.jsxs(or,{children:[o.jsx(Ye,{autoFocus:!0,margin:"dense",label:" ",fullWidth:!0,variant:"outlined",value:u.name,onChange:x=>p(w=>({...w,name:x.target.value})),sx:{mb:2}}),o.jsx(Ye,{margin:"dense",label:"",fullWidth:!0,multiline:!0,rows:3,variant:"outlined",value:u.description,onChange:x=>p(w=>({...w,description:x.target.value})),sx:{mb:2}}),o.jsx(Ye,{margin:"dense",label:"  (%)",type:"number",fullWidth:!0,variant:"outlined",value:u.discount,onChange:x=>p(w=>({...w,discount:parseInt(x.target.value)||0})),sx:{mb:2}}),o.jsx(Ye,{margin:"dense",label:" ",type:"date",fullWidth:!0,variant:"outlined",InputLabelProps:{shrink:!0},value:u.validUntil,onChange:x=>p(w=>({...w,validUntil:x.target.value}))})]}),o.jsxs(xr,{children:[o.jsx(ke,{onClick:()=>d(!1),children:""}),o.jsx(ke,{onClick:g,variant:"contained",children:""})]})]})]})}async function jx(e){try{console.log("  Cloud Function...");const t=Ju(void 0,"europe-west1"),r=await tc(t,"testEmailSending")({testEmail:e});return console.log("    :",r.data),r.data}catch(t){console.error("     :",t),console.log("     mail...");try{const n=await mr(Ie(se,"mail"),{to:e,message:{subject:" Email Extension -  ",text:"    ,  Firebase Extension  !",html:`
            <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
              <h2 style="color: #00A86B;">  Email Extension</h2>
              <p>    ,  Firebase Extension   email  !</p>
              <hr style="border: 1px solid #eee; margin: 20px 0;">
              <p style="color: #666; font-size: 14px;">
                  Firebase Extension (firestore-send-email)<br>
                : ${new Date().toLocaleString("ru-RU")}
              </p>
            </div>
          `}});return console.log(" Email    :",n.id),{success:!0,message:"Email   ",mailId:n.id}}catch(n){throw console.error("      mail:",n),n}}}typeof window<"u"&&(window.testEmailExtension=jx);const QA=({defaultEmail:e=""})=>{const[t,n]=h.useState(!1),[r,s]=h.useState(e),[i,a]=h.useState(!1),[l,c]=h.useState(null),d=async()=>{if(!r||!r.includes("@")){c({success:!1,message:"  email"});return}a(!0),c(null);try{const u=await jx(r);c({success:!0,message:`    ${r}`})}catch(u){c({success:!1,message:u.message||"  "})}finally{a(!1)}};return o.jsxs(o.Fragment,{children:[o.jsx(ke,{variant:"contained",startIcon:o.jsx(Yd,{}),onClick:()=>n(!0),color:"primary",children:"  "}),o.jsxs(sr,{open:t,onClose:()=>n(!1),maxWidth:"sm",fullWidth:!0,children:[o.jsx(br,{children:"  Email"}),o.jsx(or,{children:o.jsxs(te,{sx:{mt:2},children:[o.jsx(Ye,{fullWidth:!0,label:"Email  ",type:"email",value:r,onChange:u=>s(u.target.value),disabled:i,helperText:" email,      "}),l&&o.jsx(ct,{severity:l.success?"success":"error",sx:{mt:2},children:l.message})]})}),o.jsxs(xr,{children:[o.jsx(ke,{onClick:()=>n(!1),disabled:i,children:""}),o.jsx(ke,{onClick:d,variant:"contained",disabled:i||!r,startIcon:i?o.jsx(hn,{size:20}):o.jsx(Yd,{}),children:i?"...":""})]})]})]})};function XA(){const{admin:e}=Ht(),{isSuperAdmin:t}=an(),n=Xt(),[r,s]=h.useState({superAdminEmails:[]}),[i,a]=h.useState(""),[l,c]=h.useState(!0),[d,u]=h.useState(!1),[p,f]=h.useState(!1),[m,v]=h.useState("");Fe.useEffect(()=>{t?g():n("/admin/dashboard")},[t,n]);const g=async()=>{try{const C=_e(se,"settings","notifications"),S=await dt(C);if(S.exists()){const P=S.data();s(P)}}catch(C){console.error("Error loading notification settings:",C),v("  ")}finally{c(!1)}},y=C=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(C),x=async()=>{if(!i){v(" email");return}if(!y(i)){v("  email");return}if(r.superAdminEmails.includes(i)){v(" email  ");return}u(!0),v("");try{const C=[...r.superAdminEmails,i],S=_e(se,"settings","notifications");await sg(S,{superAdminEmails:C,updatedAt:new Date},{merge:!0}),s({...r,superAdminEmails:C}),a(""),f(!0)}catch(C){console.error("Error adding email:",C),v("   email")}finally{u(!1)}},w=async C=>{u(!0),v("");try{const S=r.superAdminEmails.filter(k=>k!==C),P=_e(se,"settings","notifications");await Tt(P,{superAdminEmails:S,updatedAt:new Date}),s({...r,superAdminEmails:S}),f(!0)}catch(S){console.error("Error removing email:",S),v("   email")}finally{u(!1)}};return t?o.jsxs(te,{sx:{p:3},children:[o.jsxs(te,{sx:{mb:4,display:"flex",alignItems:"center",gap:2},children:[o.jsx(_p,{sx:{fontSize:32,color:"primary.main"}}),o.jsx(B,{variant:"h4",fontWeight:"bold",children:" "})]}),o.jsx(ct,{severity:"info",sx:{mb:3},children:"     "}),o.jsxs(Ae,{container:!0,spacing:3,children:[o.jsx(Ae,{item:!0,xs:12,children:o.jsx(it,{children:o.jsxs(at,{children:[o.jsxs(te,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[o.jsx(Ud,{color:"primary"}),o.jsx(B,{variant:"h6",children:"Email   "})]}),o.jsx(B,{variant:"body2",color:"text.secondary",paragraph:!0,children:" email            "}),o.jsx(Lr,{sx:{my:2}}),l?o.jsx(te,{sx:{display:"flex",justifyContent:"center",py:3},children:o.jsx(hn,{})}):o.jsxs(o.Fragment,{children:[o.jsx(te,{sx:{mb:3},children:o.jsxs(te,{sx:{display:"flex",gap:2,mb:2},children:[o.jsx(Ye,{fullWidth:!0,size:"small",label:"Email  ",value:i,onChange:C=>a(C.target.value),onKeyPress:C=>{C.key==="Enter"&&x()},error:!!m,helperText:m,disabled:d}),o.jsx(ke,{variant:"contained",onClick:x,disabled:d||!i,startIcon:o.jsx(ea,{}),children:""})]})}),o.jsx(go,{sx:{maxHeight:300,overflow:"auto"},children:r.superAdminEmails.length===0?o.jsx(er,{children:o.jsx(tr,{primary:"  email ",primaryTypographyProps:{color:"text.secondary",align:"center"}})}):r.superAdminEmails.map(C=>o.jsxs(er,{children:[o.jsx(tr,{primary:C,primaryTypographyProps:{fontWeight:500}}),o.jsx(cs,{children:o.jsx(dn,{edge:"end","aria-label":"delete",onClick:()=>w(C),disabled:d,children:o.jsx(bs,{})})})]},C))})]})]})})}),o.jsx(Ae,{item:!0,xs:12,md:6,children:o.jsx(it,{children:o.jsxs(at,{children:[o.jsxs(te,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[o.jsx(Ud,{color:"primary"}),o.jsx(B,{variant:"h6",children:"Email "})]}),o.jsx(B,{variant:"body2",color:"text.secondary",paragraph:!0,children:"  email  "}),o.jsx(Lr,{sx:{my:2}}),o.jsxs(te,{sx:{mb:2},children:[o.jsx(B,{variant:"subtitle2",gutterBottom:!0,children:" :"}),o.jsx(B,{variant:"body2",color:"text.secondary",children:"SMTP : smtp.timeweb.ru:465"}),o.jsx(B,{variant:"body2",color:"text.secondary",children:" : noreply@allcourt.ru"}),o.jsx(B,{variant:"body2",color:"text.secondary",children:"Reply-to: support@allcourt.ru"})]}),o.jsxs(te,{sx:{mt:3},children:[o.jsx(B,{variant:"subtitle2",gutterBottom:!0,children:":"}),o.jsx(QA,{defaultEmail:(e==null?void 0:e.email)||""}),o.jsx(B,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:1},children:"     "})]})]})})}),o.jsx(Ae,{item:!0,xs:12,md:6,children:o.jsx(it,{children:o.jsxs(at,{children:[o.jsxs(te,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[o.jsx(kp,{color:"primary"}),o.jsx(B,{variant:"h6",children:""})]}),o.jsx(B,{variant:"body2",color:"text.secondary",paragraph:!0,children:"   "}),o.jsx(Lr,{sx:{my:2}}),o.jsx(B,{variant:"body2",color:"text.secondary",children:"  "})]})})}),o.jsx(Ae,{item:!0,xs:12,md:6,children:o.jsx(it,{children:o.jsxs(at,{children:[o.jsxs(te,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[o.jsx(oA,{color:"primary"}),o.jsx(B,{variant:"h6",children:" "})]}),o.jsx(B,{variant:"body2",color:"text.secondary",paragraph:!0,children:"   "}),o.jsx(Lr,{sx:{my:2}}),o.jsxs(te,{children:[o.jsx(B,{variant:"subtitle2",gutterBottom:!0,children:"Firestore:"}),o.jsx(B,{variant:"body2",color:"text.secondary",children:": sports-booking-app-1d7e5"}),o.jsx(B,{variant:"body2",color:"text.secondary",children:": europe-west1"})]})]})})})]}),o.jsx(nx,{open:p,autoHideDuration:3e3,onClose:()=>f(!1),message:" "})]}):null}function ZA(){const{user:e}=Ht(),[t,n]=h.useState(null),[r,s]=h.useState("");return h.useEffect(()=>{(async()=>{if(!(e!=null&&e.email)){s("No user logged in");return}try{const a=Ge(Ie(se,"admins"),Pe("email","==",e.email)),l=await qe(a);if(l.empty)n({exists:!1,searchedEmail:e.email});else{const c=l.docs[0];n({id:c.id,data:c.data(),exists:!0})}}catch(a){s(a.message)}})()},[e]),o.jsxs(te,{sx:{p:3},children:[o.jsx(B,{variant:"h4",gutterBottom:!0,children:"Debug Information"}),o.jsx(it,{sx:{mb:2},children:o.jsxs(at,{children:[o.jsx(B,{variant:"h6",children:"Current User"}),o.jsx("pre",{children:JSON.stringify(e,null,2)})]})}),o.jsx(it,{sx:{mb:2},children:o.jsxs(at,{children:[o.jsx(B,{variant:"h6",children:"Admin Search Result"}),o.jsx("pre",{children:JSON.stringify(t,null,2)})]})}),r&&o.jsx(it,{children:o.jsxs(at,{children:[o.jsx(B,{variant:"h6",color:"error",children:"Error"}),o.jsx(B,{children:r})]})})]})}class JA extends h.Component{constructor(n){super(n);Fp(this,"handleReset",()=>{this.setState({hasError:!1,error:void 0})});this.state={hasError:!1}}static getDerivedStateFromError(n){return{hasError:!0,error:Qd(n)}}componentDidCatch(n,r){const s=Qd(n);dx(s,{componentStack:r.componentStack,errorBoundary:!0})}render(){return this.state.hasError&&this.state.error?this.props.fallback?this.props.fallback(this.state.error,this.handleReset):o.jsx(te,{sx:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"400px",p:3},children:o.jsxs(on,{elevation:3,sx:{p:4,maxWidth:500,textAlign:"center"},children:[o.jsx(UR,{sx:{fontSize:64,color:"error.main",mb:2}}),o.jsx(B,{variant:"h5",gutterBottom:!0,children:"-   "}),o.jsx(B,{variant:"body1",color:"text.secondary",paragraph:!0,children:this.state.error.message}),!1,o.jsx(ke,{variant:"contained",startIcon:o.jsx(rA,{}),onClick:this.handleReset,sx:{mt:3},children:" "})]})}):this.props.children}}const je={loadingContainer:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},loadingContent:{textAlign:"center"},spinner:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"},errorContainer:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},errorCard:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},errorIcon:{fontSize:"48px",marginBottom:"var(--spacing-md)"},errorTitle:{marginBottom:"var(--spacing-sm)"},errorText:{color:"var(--text-secondary)"},pageContainer:{minHeight:"100vh",backgroundColor:"var(--background)"},heroImage:{width:"100%",height:"100%",objectFit:"cover",cursor:"pointer"},heroPlaceholder:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"8px",backgroundColor:"var(--extra-light-gray)"},heroPlaceholderIcon:{fontSize:"48px",color:"var(--light-gray)"},heroPlaceholderText:{color:"var(--gray)"},desktopGallery:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"var(--spacing-md)",marginBottom:"var(--spacing-xl)"},galleryImage:{width:"100%",height:"150px",objectFit:"cover",borderRadius:"var(--radius-md)",cursor:"pointer",transition:"transform 0.2s"},mobileGallery:{display:"flex",gap:"var(--spacing-sm)",overflowX:"auto",marginBottom:"var(--spacing-lg)",paddingBottom:"var(--spacing-sm)",WebkitOverflowScrolling:"touch"},mobileGalleryImage:{minWidth:"120px",width:"120px",height:"80px",objectFit:"cover",borderRadius:"var(--radius-sm)",cursor:"pointer"},clubInfoWrapper:{marginBottom:"var(--spacing-xl)"},clubTitle:{marginBottom:"var(--spacing-sm)"},clubInfoItems:{display:"flex",flexWrap:"wrap",gap:"var(--spacing-lg)",marginBottom:"var(--spacing-lg)"},infoItem:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},infoIcon:{color:"var(--gray)",fontSize:"var(--icon-size-md)"},descriptionSection:{marginBottom:"var(--spacing-lg)"},descriptionText:{color:"var(--text-secondary)",lineHeight:1.6},courtsWrapper:{marginBottom:"var(--spacing-lg)"},courtsWrapperDesktop:{marginBottom:"0"},courtsTitle:{marginBottom:"var(--spacing-lg)"},noCourtsCard:{textAlign:"center",padding:"var(--spacing-3xl)"},noCourtsIcon:{fontSize:"48px",color:"var(--light-gray)"},noCourtsText:{color:"var(--gray)",marginTop:"var(--spacing-md)"},courtCardContent:{display:"flex",justifyContent:"space-between",alignItems:"center"},courtInfo:{flex:1},courtName:{marginBottom:"var(--spacing-xs)"},courtDetails:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)",flexWrap:"wrap"},courtPricing:{textAlign:"right",minWidth:"120px"},courtPrice:{color:"var(--primary)"},courtPriceUnit:{color:"var(--gray)"},courtIndoor:{color:"var(--gray)"},courtSurface:{color:"var(--gray)"},sidebarBookingCard:{marginBottom:"var(--spacing-lg)"},selectedCourtSection:{marginBottom:"var(--spacing-xs)"},selectedCourtDetails:{display:"flex",justifyContent:"space-between",alignItems:"center"},selectedCourtType:{color:"var(--gray)"},selectedCourtPrice:{color:"var(--primary)"}},e$={contentPadding:{padding:"var(--spacing-xl)"}},td={container:{maxWidth:"1200px",margin:"0 auto",display:"grid",gridTemplateColumns:"1fr 400px",gap:"var(--spacing-2xl)",padding:"var(--spacing-2xl)",minHeight:"calc(100vh - 350px)"},mainContent:{flex:1},sidebar:{position:"sticky",top:"var(--spacing-2xl)",height:"fit-content",display:"flex",flexDirection:"column",gap:"var(--spacing-lg)"}};function nd({src:e,alt:t,className:n,style:r,onClick:s,loading:i="lazy",onMouseOver:a,onMouseOut:l}){const[c,d]=h.useState(i==="eager"),[u,p]=h.useState(!1),f=h.useRef(null);return h.useEffect(()=>{if(i==="eager"||!f.current)return;const m=new IntersectionObserver(v=>{v.forEach(g=>{g.isIntersecting&&(d(!0),m.unobserve(g.target))})},{rootMargin:"50px"});return m.observe(f.current),()=>{f.current&&m.unobserve(f.current)}},[i]),u?o.jsx("div",{style:{...r,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"var(--extra-light-gray)",color:"var(--gray)"},className:n,children:o.jsx("span",{children:""})}):o.jsx("img",{ref:f,src:c?e:void 0,alt:t,className:n,style:r,onClick:s,onMouseOver:a,onMouseOut:l,onError:()=>p(!0),loading:i})}const t$=Fe.lazy(()=>eu(()=>import("./BookingModal-Df10epf5.js"),__vite__mapDeps([0,1,2]))),Em={padel:"#3B82F6",tennis:"#00D632",badminton:"#F59E0B"},rd={padel:"",tennis:"",badminton:""},Pm={parking:"",showers:"",cafe:"",lockers:"",shop:"",wifi:"Wi-Fi",changing_rooms:"",equipment_rental:" "};function n$(){const{clubId:e}=Pr();Xt();const[t,n]=h.useState(null),[r,s]=h.useState([]),[i,a]=h.useState(!0),[l,c]=h.useState(""),[d,u]=h.useState(null),[p,f]=h.useState(!1),[m,v]=h.useState(!1),[g,y]=h.useState(0);h.useEffect(()=>{var j;if((j=t==null?void 0:t.photos)!=null&&j[0]){const E=document.createElement("link");return E.rel="preload",E.as="image",E.href=t.photos[0],document.head.appendChild(E),()=>{document.head.removeChild(E)}}},[t==null?void 0:t.photos]),h.useEffect(()=>{const j=performance.now();if(x().then(()=>{const E=performance.now()-j;console.log(`ClubPage loaded in ${E.toFixed(0)}ms`)}),e){const E=vr(Ge(Ie(se,"venues",e,"courts"),Pe("status","==","active")),A=>{const L=A.docs.map(R=>({id:R.id,...R.data()}));s(L)},A=>{console.error("Error listening to courts updates:",A)});return()=>E()}},[e]),h.useEffect(()=>{if(m){const j=E=>{E.key==="Escape"?P():E.key==="ArrowLeft"?k("prev"):E.key==="ArrowRight"&&k("next")};return document.addEventListener("keydown",j),()=>{document.removeEventListener("keydown",j)}}},[m]);const x=async()=>{if(!e){c("ID   "),a(!1);return}try{const[j,E]=await Promise.all([dt(_e(se,"venues",e)),qe(Ge(Ie(se,"venues",e,"courts"),Pe("status","==","active")))]);if(!j.exists()){c("  "),a(!1);return}const A={id:j.id,...j.data()};if(j.data().status!=="active"){c("  "),a(!1);return}console.log("Loaded venue data:",A);const L=E.docs.map(R=>({id:R.id,...R.data()}));n(A),s(L),a(!1)}catch(j){console.error("Error loading venue:",j),c("    "),a(!1)}},w=j=>{u(j)},C=()=>{if(d){if(!_){alert("         .");return}console.log("Opening booking modal, venue:",t,"court:",d),f(!0)}},S=j=>{y(j),v(!0)},P=()=>{v(!1)},k=j=>{t!=null&&t.photos&&y(j==="prev"?E=>E===0?t.photos.length-1:E-1:E=>E===t.photos.length-1?0:E+1)};if(i)return o.jsxs("div",{style:je.loadingContainer,children:[o.jsxs("div",{style:je.loadingContent,children:[o.jsx("div",{className:"spinner",style:je.spinner}),o.jsx("p",{className:"body-small",children:"..."})]}),o.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]});if(l)return o.jsx("div",{style:je.errorContainer,children:o.jsxs("div",{className:"flutter-card",style:je.errorCard,children:[o.jsx("div",{style:je.errorIcon,children:""}),o.jsx("h2",{className:"h2",style:je.errorTitle,children:""}),o.jsx("p",{className:"body",style:je.errorText,children:l})]})});if(!t)return null;const T=window.innerWidth>768,_=t.status==="active";return o.jsxs("div",{style:je.pageContainer,children:[!_&&o.jsx("div",{style:{backgroundColor:"#fff3cd",borderBottom:"1px solid #ffeaa7",padding:"var(--spacing-lg)",textAlign:"center"},children:o.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto"},children:[o.jsx("h3",{className:"h3",style:{color:"#856404",marginBottom:"var(--spacing-sm)"},children:"   "}),o.jsx("p",{className:"body",style:{color:"#856404"},children:"          .      ."})]})}),T&&o.jsx("div",{className:"hero-image",children:t.photos&&t.photos.length>0?o.jsx(nd,{loading:"eager",src:t.photos[0],alt:t.name,style:je.heroImage,onClick:()=>S(0)}):o.jsxs("div",{style:je.heroPlaceholder,children:[o.jsx("span",{style:je.heroPlaceholderIcon,children:""}),o.jsx("span",{className:"body-small",style:je.heroPlaceholderText,children:" "})]})}),o.jsxs("div",{style:T?td.container:e$.contentPadding,children:[o.jsxs("div",{style:T?td.mainContent:{},children:[T&&t.photos&&t.photos.length>0&&o.jsx("div",{style:je.desktopGallery,children:t.photos.map((j,E)=>o.jsx(nd,{loading:"lazy",src:j,alt:`${t.name} -  ${E+1}`,className:"gallery-image",style:je.galleryImage,onMouseOver:A=>A.currentTarget.style.transform="scale(1.05)",onMouseOut:A=>A.currentTarget.style.transform="scale(1)",onClick:()=>S(E)},E))}),!T&&t.photos&&t.photos.length>0&&o.jsx("div",{style:je.mobileGallery,children:t.photos.map((j,E)=>o.jsx(nd,{loading:"lazy",src:j,alt:`${t.name} -  ${E+1}`,style:je.mobileGalleryImage,onClick:()=>S(E)},E))}),o.jsxs("div",{style:je.clubInfoWrapper,children:[o.jsx("h1",{className:"h1",style:je.clubTitle,children:t.name}),o.jsxs("div",{style:je.clubInfoItems,children:[o.jsxs("div",{style:je.infoItem,children:[o.jsx("span",{style:je.infoIcon,children:""}),o.jsx("span",{className:"body",children:t.address})]}),t.phone&&o.jsxs("div",{style:je.infoItem,children:[o.jsx("span",{style:je.infoIcon,children:""}),o.jsx("span",{className:"body",children:t.phone})]})]})]}),!T&&o.jsxs("div",{style:je.courtsWrapper,children:[o.jsx("h3",{className:"h2",style:je.courtsTitle,children:" "}),r.length===0?o.jsxs("div",{className:"flutter-card",style:je.noCourtsCard,children:[o.jsx("span",{style:je.noCourtsIcon,children:""}),o.jsx("p",{className:"body",style:je.noCourtsText,children:"  "})]}):o.jsx("div",{children:r.map(j=>{const E=(d==null?void 0:d.id)===j.id;return o.jsx("div",{className:`court-card ${E?"selected":""}`,onClick:()=>w(j),children:o.jsxs("div",{style:je.courtCardContent,children:[o.jsxs("div",{style:je.courtInfo,children:[o.jsx("h4",{className:"body-bold",style:je.courtName,children:j.name}),o.jsxs("div",{style:je.courtDetails,children:[o.jsx("span",{className:`sport-chip ${j.type}`,style:{backgroundColor:Em[j.type]},children:rd[j.type]}),j.indoor&&o.jsx("span",{className:"caption",style:je.courtIndoor,children:""}),j.surface&&o.jsxs("span",{className:"caption",style:je.courtSurface,children:[" ",j.surface]})]})]}),o.jsxs("div",{style:je.courtPricing,children:[o.jsxs("div",{className:"h3",style:je.courtPrice,children:[j.pricePerHour||j.priceWeekday||0,""]}),o.jsx("div",{className:"caption",style:je.courtPriceUnit,children:" "})]})]})},j.id)})})]}),!T&&t.description&&o.jsxs("div",{className:"info-section",style:je.descriptionSection,children:[o.jsx("h3",{className:"info-section-title",children:" "}),o.jsx("p",{className:"body",style:je.descriptionText,children:t.description})]}),!T&&o.jsxs(o.Fragment,{children:[t.workingHours&&o.jsxs("div",{className:"info-section",style:{marginBottom:"var(--spacing-lg)"},children:[o.jsx("h3",{className:"info-section-title",children:" "}),o.jsxs("div",{style:{display:"grid",gap:"var(--spacing-xs)"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("span",{className:"body",children:"  (-)"}),o.jsx("span",{className:"body",style:{color:"var(--gray)"},children:t.workingHours.weekday||"07:00-23:00"})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("span",{className:"body",children:" (-)"}),o.jsx("span",{className:"body",style:{color:"var(--gray)"},children:t.workingHours.weekend||"08:00-22:00"})]})]})]}),t.amenities&&t.amenities.length>0&&o.jsxs("div",{className:"info-section",style:{marginBottom:"var(--spacing-lg)"},children:[o.jsx("h3",{className:"info-section-title",children:""}),o.jsx("div",{style:{display:"flex",flexWrap:"wrap"},children:t.amenities.map(j=>o.jsxs("div",{className:"amenity-item",children:[o.jsx("span",{className:"check-icon",children:""}),o.jsx("span",{className:"body",children:Pm[j]||j})]},j))})]})]}),T&&o.jsxs("div",{style:je.courtsWrapperDesktop,children:[o.jsx("h3",{className:"h2",style:je.courtsTitle,children:" "}),r.length===0?o.jsxs("div",{className:"flutter-card",style:je.noCourtsCard,children:[o.jsx("span",{style:je.noCourtsIcon,children:""}),o.jsx("p",{className:"body",style:je.noCourtsText,children:"  "})]}):o.jsx("div",{className:"courts-grid",children:r.map(j=>{const E=(d==null?void 0:d.id)===j.id;return o.jsx("div",{className:`court-card ${E?"selected":""}`,onClick:()=>w(j),children:o.jsxs("div",{style:je.courtCardContent,children:[o.jsxs("div",{style:je.courtInfo,children:[o.jsx("h4",{className:"body-bold",style:je.courtName,children:j.name}),o.jsxs("div",{style:je.courtDetails,children:[o.jsx("span",{className:`sport-chip ${j.type}`,style:{backgroundColor:Em[j.type]},children:rd[j.type]}),j.indoor&&o.jsx("span",{className:"caption",style:je.courtIndoor,children:""}),j.surface&&o.jsxs("span",{className:"caption",style:je.courtSurface,children:[" ",j.surface]})]})]}),o.jsxs("div",{style:je.courtPricing,children:[o.jsxs("div",{className:"h3",style:je.courtPrice,children:[j.pricePerHour||j.priceWeekday||0,""]}),o.jsx("div",{className:"caption",style:je.courtPriceUnit,children:" "})]})]})},j.id)})})]}),T&&t.description&&o.jsxs("div",{className:"info-section",style:je.descriptionSection,children:[o.jsx("h3",{className:"info-section-title",children:" "}),o.jsx("p",{className:"body",style:je.descriptionText,children:t.description})]})]}),T&&o.jsxs("div",{style:td.sidebar,children:[o.jsxs("div",{className:"sticky-bottom-bar",style:je.sidebarBookingCard,children:[d&&o.jsxs("div",{className:"selected-court-summary",children:[o.jsx("h4",{className:"body-bold",style:je.selectedCourtSection,children:d.name}),o.jsxs("div",{style:je.selectedCourtDetails,children:[o.jsx("span",{className:"body-small",style:je.selectedCourtType,children:rd[d.type]}),o.jsxs("span",{className:"body-bold",style:je.selectedCourtPrice,children:[d.pricePerHour||d.priceWeekday||0,"/"]})]})]}),o.jsx("button",{className:"flutter-button",style:{width:"100%",marginBottom:"var(--spacing-md)"},onClick:C,disabled:!d,children:d?" ":" "})]}),t.workingHours&&o.jsxs("div",{className:"info-section",style:{marginBottom:"var(--spacing-lg)"},children:[o.jsx("h3",{className:"info-section-title",children:" "}),o.jsxs("div",{style:{display:"grid",gap:"var(--spacing-xs)"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("span",{className:"caption",children:"  (-)"}),o.jsx("span",{className:"caption",style:{color:"var(--gray)"},children:t.workingHours.weekday||"07:00-23:00"})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("span",{className:"caption",children:" (-)"}),o.jsx("span",{className:"caption",style:{color:"var(--gray)"},children:t.workingHours.weekend||"08:00-22:00"})]})]})]}),t.amenities&&t.amenities.length>0&&o.jsxs("div",{className:"info-section",children:[o.jsx("h3",{className:"info-section-title",children:""}),o.jsx("div",{style:{display:"grid",gap:"var(--spacing-xs)"},children:t.amenities.map(j=>o.jsxs("div",{className:"amenity-item",style:{background:"transparent",padding:"var(--spacing-xs) 0",margin:0},children:[o.jsx("span",{className:"check-icon",children:""}),o.jsx("span",{className:"caption",children:Pm[j]||j})]},j))})]})]})]}),!T&&o.jsx("div",{className:"sticky-bottom-bar",children:o.jsx("button",{className:"flutter-button",style:{width:"100%"},onClick:C,disabled:!d,children:d?`   ${d.name}`:" "})}),d&&t&&o.jsx(Fe.Suspense,{fallback:o.jsx("div",{}),children:o.jsx(t$,{isOpen:p,onClose:()=>f(!1),court:d,venue:t})}),m&&(t==null?void 0:t.photos)&&o.jsx("div",{className:"modal-backdrop",onClick:P,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.95)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center",padding:"var(--spacing-xl)"},children:o.jsxs("div",{onClick:j=>j.stopPropagation(),style:{position:"relative",maxWidth:"90vw",maxHeight:"90vh",display:"flex",alignItems:"center",justifyContent:"center"},children:[o.jsx("button",{onClick:P,style:{position:"absolute",top:"-40px",right:"0",background:"none",border:"none",color:"white",fontSize:"28px",cursor:"pointer",padding:"8px",zIndex:10,lineHeight:1},"aria-label":"",children:""}),t.photos.length>1&&o.jsx("button",{onClick:()=>k("prev"),style:{position:"absolute",left:window.innerWidth>768?"-50px":"10px",top:"50%",transform:"translateY(-50%)",background:"rgba(255, 255, 255, 0.1)",border:"none",color:"white",fontSize:"24px",cursor:"pointer",width:"40px",height:"40px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",transition:"background 0.2s",zIndex:5},onMouseEnter:j=>j.currentTarget.style.background="rgba(255, 255, 255, 0.2)",onMouseLeave:j=>j.currentTarget.style.background="rgba(255, 255, 255, 0.1)","aria-label":" ",children:""}),o.jsx("img",{src:t.photos[g],alt:`${t.name} -  ${g+1}`,style:{maxWidth:"100%",maxHeight:"90vh",objectFit:"contain",borderRadius:"var(--radius-md)"}}),t.photos.length>1&&o.jsx("button",{onClick:()=>k("next"),style:{position:"absolute",right:window.innerWidth>768?"-50px":"10px",top:"50%",transform:"translateY(-50%)",background:"rgba(255, 255, 255, 0.1)",border:"none",color:"white",fontSize:"24px",cursor:"pointer",width:"40px",height:"40px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",transition:"background 0.2s",zIndex:5},onMouseEnter:j=>j.currentTarget.style.background="rgba(255, 255, 255, 0.2)",onMouseLeave:j=>j.currentTarget.style.background="rgba(255, 255, 255, 0.1)","aria-label":" ",children:""}),t.photos.length>1&&o.jsxs("div",{style:{position:"absolute",bottom:"-30px",left:"50%",transform:"translateX(-50%)",color:"white",fontSize:"14px",fontWeight:"500"},children:[g+1," / ",t.photos.length]})]})}),o.jsxs("div",{style:{borderTop:"1px solid var(--divider)",padding:"24px",marginTop:"40px",paddingBottom:T?"24px":"calc(140px + 24px)",textAlign:"center",backgroundColor:"var(--background)"},children:[o.jsx(ld,{to:`/club/${e}/user-agreement`,style:{color:"var(--text-secondary)",fontSize:"14px",textDecoration:"none",borderBottom:"1px dashed var(--text-secondary)",transition:"color 0.2s"},onMouseEnter:j=>{j.currentTarget.style.color="var(--primary)",j.currentTarget.style.borderBottomColor="var(--primary)"},onMouseLeave:j=>{j.currentTarget.style.color="var(--text-secondary)",j.currentTarget.style.borderBottomColor="var(--text-secondary)"},children:" "}),(t==null?void 0:t.legalName)&&o.jsxs("div",{style:{marginTop:"12px",fontSize:"12px",color:"var(--text-disabled)"},children:[" ",new Date().getFullYear()," ",t.legalName]})]})]})}function Xe(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function de(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function me(e){de(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||jr(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Ur(e,t){de(2,arguments);var n=me(e),r=Xe(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function vc(e,t){de(2,arguments);var n=me(e).getTime(),r=Xe(t);return new Date(n+r)}function r$(e,t){de(2,arguments);var n=Xe(t);return vc(e,n*1e3)}var s$=6e4;function Br(e,t){de(2,arguments);var n=Xe(t);return vc(e,n*s$)}var o$=36e5;function i$(e,t){de(2,arguments);var n=Xe(t);return vc(e,n*o$)}function a$(e,t){de(2,arguments);var n=Xe(t),r=n*7;return Ur(e,r)}function $a(e,t){de(2,arguments);var n=me(e),r=Xe(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var s=n.getDate(),i=new Date(n.getTime());i.setMonth(n.getMonth()+r+1,0);var a=i.getDate();return s>=a?i:(n.setFullYear(i.getFullYear(),i.getMonth(),s),n)}function Mm(e,t){de(2,arguments);var n=Xe(t);return $a(e,n*12)}function l$(e,t){de(2,arguments);var n=me(e),r=me(t);return n.getFullYear()-r.getFullYear()}function vi(e,t){de(2,arguments);var n=me(e),r=me(t),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function c$(e,t){de(2,arguments);var n=me(e),r=me(t),s=vi(n,r),i=Math.abs(l$(n,r));n.setFullYear(1584),r.setFullYear(1584);var a=vi(n,r)===-s,l=s*(i-Number(a));return l===0?0:l}function d$(e,t){de(2,arguments);var n=me(e),r=me(t),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function tu(e){de(1,arguments);var t=me(e);return t.setHours(23,59,59,999),t}function nu(e){de(1,arguments);var t=me(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function u$(e){de(1,arguments);var t=me(e);return tu(t).getTime()===nu(t).getTime()}function Sx(e,t){de(2,arguments);var n=me(e),r=me(t),s=vi(n,r),i=Math.abs(d$(n,r)),a;if(i<1)a=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);var l=vi(n,r)===-s;u$(me(e))&&i===1&&vi(e,r)===1&&(l=!1),a=s*(i-Number(l))}return a===0?0:a}var Im={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},p$="trunc";function ta(e){return e?Im[e]:Im[p$]}function h$(e,t,n){de(2,arguments);var r=Sx(e,t)/3;return ta(void 0)(r)}function ul(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function ws(e){de(1,arguments);var t=me(e);return t.setHours(0,0,0,0),t}var f$=864e5;function m$(e,t){de(2,arguments);var n=ws(e),r=ws(t),s=n.getTime()-ul(n),i=r.getTime()-ul(r);return Math.round((s-i)/f$)}function Nm(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function kx(e,t){de(2,arguments);var n=me(e),r=me(t),s=Nm(n,r),i=Math.abs(m$(n,r));n.setDate(n.getDate()-s*i);var a=+(Nm(n,r)===-s),l=s*(i-a);return l===0?0:l}function g$(e,t,n){de(2,arguments);var r=kx(e,t)/7;return ta(void 0)(r)}var yc=6e4,xc=36e5,v$=1e3;function bc(e,t){return de(2,arguments),me(e).getTime()-me(t).getTime()}function y$(e,t,n){de(2,arguments);var r=bc(e,t)/xc;return ta(void 0)(r)}function x$(e,t,n){de(2,arguments);var r=bc(e,t)/yc;return ta(void 0)(r)}function b$(e,t,n){de(2,arguments);var r=bc(e,t)/1e3;return ta(void 0)(r)}function C$(e,t){var n;de(1,arguments);var r=e||{},s=me(r.start),i=me(r.end),a=i.getTime();if(!(s.getTime()<=a))throw new RangeError("Invalid interval");var l=[],c=s;c.setHours(0,0,0,0);var d=Number((n=void 0)!==null&&n!==void 0?n:1);if(d<1||isNaN(d))throw new RangeError("`options.step` must be a number greater than 1");for(;c.getTime()<=a;)l.push(me(c)),c.setDate(c.getDate()+d),c.setHours(0,0,0,0);return l}var w$={};function ur(){return w$}function sd(e,t){var n,r,s,i,a,l,c,d;de(1,arguments);var u=ur(),p=Xe((n=(r=(s=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:u.weekStartsOn)!==null&&r!==void 0?r:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=me(e),m=f.getDay(),v=(m<p?-7:0)+6-(m-p);return f.setDate(f.getDate()+v),f.setHours(23,59,59,999),f}function od(e){de(1,arguments);var t=me(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function j$(e){return de(1,arguments),e instanceof Date||jr(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function _x(e){if(de(1,arguments),!j$(e)&&typeof e!="number")return!1;var t=me(e);return!isNaN(Number(t))}function Tx(e,t){de(2,arguments);var n=Xe(t);return vc(e,-n)}var S$=864e5;function k$(e){de(1,arguments);var t=me(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),s=n-r;return Math.floor(s/S$)+1}function yo(e){de(1,arguments);var t=1,n=me(e),r=n.getUTCDay(),s=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function Ex(e){de(1,arguments);var t=me(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=yo(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var a=yo(i);return t.getTime()>=s.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function _$(e){de(1,arguments);var t=Ex(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=yo(n);return r}var T$=6048e5;function Px(e){de(1,arguments);var t=me(e),n=yo(t).getTime()-_$(t).getTime();return Math.round(n/T$)+1}function Er(e,t){var n,r,s,i,a,l,c,d;de(1,arguments);var u=ur(),p=Xe((n=(r=(s=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:u.weekStartsOn)!==null&&r!==void 0?r:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=me(e),m=f.getUTCDay(),v=(m<p?7:0)+m-p;return f.setUTCDate(f.getUTCDate()-v),f.setUTCHours(0,0,0,0),f}function Tp(e,t){var n,r,s,i,a,l,c,d;de(1,arguments);var u=me(e),p=u.getUTCFullYear(),f=ur(),m=Xe((n=(r=(s=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:f.firstWeekContainsDate)!==null&&r!==void 0?r:(c=f.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setUTCFullYear(p+1,0,m),v.setUTCHours(0,0,0,0);var g=Er(v,t),y=new Date(0);y.setUTCFullYear(p,0,m),y.setUTCHours(0,0,0,0);var x=Er(y,t);return u.getTime()>=g.getTime()?p+1:u.getTime()>=x.getTime()?p:p-1}function E$(e,t){var n,r,s,i,a,l,c,d;de(1,arguments);var u=ur(),p=Xe((n=(r=(s=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:u.firstWeekContainsDate)!==null&&r!==void 0?r:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=Tp(e,t),m=new Date(0);m.setUTCFullYear(f,0,p),m.setUTCHours(0,0,0,0);var v=Er(m,t);return v}var P$=6048e5;function Mx(e,t){de(1,arguments);var n=me(e),r=Er(n,t).getTime()-E$(n,t).getTime();return Math.round(r/P$)+1}function Oe(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var Ar={y:function(t,n){var r=t.getUTCFullYear(),s=r>0?r:1-r;return Oe(n==="yy"?s%100:s,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):Oe(r+1,2)},d:function(t,n){return Oe(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return Oe(t.getUTCHours()%12||12,n.length)},H:function(t,n){return Oe(t.getUTCHours(),n.length)},m:function(t,n){return Oe(t.getUTCMinutes(),n.length)},s:function(t,n){return Oe(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,s=t.getUTCMilliseconds(),i=Math.floor(s*Math.pow(10,r-3));return Oe(i,n.length)}},Os={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},M$={G:function(t,n,r){var s=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var s=t.getUTCFullYear(),i=s>0?s:1-s;return r.ordinalNumber(i,{unit:"year"})}return Ar.y(t,n)},Y:function(t,n,r,s){var i=Tp(t,s),a=i>0?i:1-i;if(n==="YY"){var l=a%100;return Oe(l,2)}return n==="Yo"?r.ordinalNumber(a,{unit:"year"}):Oe(a,n.length)},R:function(t,n){var r=Ex(t);return Oe(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return Oe(r,n.length)},Q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return Oe(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return Oe(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,n,r){var s=t.getUTCMonth();switch(n){case"M":case"MM":return Ar.M(t,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(t,n,r){var s=t.getUTCMonth();switch(n){case"L":return String(s+1);case"LL":return Oe(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(t,n,r,s){var i=Mx(t,s);return n==="wo"?r.ordinalNumber(i,{unit:"week"}):Oe(i,n.length)},I:function(t,n,r){var s=Px(t);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):Oe(s,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):Ar.d(t,n)},D:function(t,n,r){var s=k$(t);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):Oe(s,n.length)},E:function(t,n,r){var s=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(t,n,r,s){var i=t.getUTCDay(),a=(i-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(a);case"ee":return Oe(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,n,r,s){var i=t.getUTCDay(),a=(i-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(a);case"cc":return Oe(a,n.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,n,r){var s=t.getUTCDay(),i=s===0?7:s;switch(n){case"i":return String(i);case"ii":return Oe(i,n.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(t,n,r){var s=t.getUTCHours(),i=s/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,n,r){var s=t.getUTCHours(),i;switch(s===12?i=Os.noon:s===0?i=Os.midnight:i=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,n,r){var s=t.getUTCHours(),i;switch(s>=17?i=Os.evening:s>=12?i=Os.afternoon:s>=4?i=Os.morning:i=Os.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var s=t.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Ar.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Ar.H(t,n)},K:function(t,n,r){var s=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):Oe(s,n.length)},k:function(t,n,r){var s=t.getUTCHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):Oe(s,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Ar.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Ar.s(t,n)},S:function(t,n){return Ar.S(t,n)},X:function(t,n,r,s){var i=s._originalDate||t,a=i.getTimezoneOffset();if(a===0)return"Z";switch(n){case"X":return Rm(a);case"XXXX":case"XX":return os(a);case"XXXXX":case"XXX":default:return os(a,":")}},x:function(t,n,r,s){var i=s._originalDate||t,a=i.getTimezoneOffset();switch(n){case"x":return Rm(a);case"xxxx":case"xx":return os(a);case"xxxxx":case"xxx":default:return os(a,":")}},O:function(t,n,r,s){var i=s._originalDate||t,a=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+Dm(a,":");case"OOOO":default:return"GMT"+os(a,":")}},z:function(t,n,r,s){var i=s._originalDate||t,a=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+Dm(a,":");case"zzzz":default:return"GMT"+os(a,":")}},t:function(t,n,r,s){var i=s._originalDate||t,a=Math.floor(i.getTime()/1e3);return Oe(a,n.length)},T:function(t,n,r,s){var i=s._originalDate||t,a=i.getTime();return Oe(a,n.length)}};function Dm(e,t){var n=e>0?"-":"+",r=Math.abs(e),s=Math.floor(r/60),i=r%60;if(i===0)return n+String(s);var a=t;return n+String(s)+a+Oe(i,2)}function Rm(e,t){if(e%60===0){var n=e>0?"-":"+";return n+Oe(Math.abs(e)/60,2)}return os(e,t)}function os(e,t){var n=t||"",r=e>0?"-":"+",s=Math.abs(e),i=Oe(Math.floor(s/60),2),a=Oe(s%60,2);return r+i+n+a}var Am=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},Ix=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},I$=function(t,n){var r=t.match(/(P+)(p+)?/)||[],s=r[1],i=r[2];if(!i)return Am(t,n);var a;switch(s){case"P":a=n.dateTime({width:"short"});break;case"PP":a=n.dateTime({width:"medium"});break;case"PPP":a=n.dateTime({width:"long"});break;case"PPPP":default:a=n.dateTime({width:"full"});break}return a.replace("{{date}}",Am(s,n)).replace("{{time}}",Ix(i,n))},ru={p:Ix,P:I$},N$=["D","DD"],D$=["YY","YYYY"];function Nx(e){return N$.indexOf(e)!==-1}function Dx(e){return D$.indexOf(e)!==-1}function pl(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var R$={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},A$=function(t,n,r){var s,i=R$[t];return typeof i=="string"?s=i:n===1?s=i.one:s=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function Zs(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var $$={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},O$={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},L$={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},F$={date:Zs({formats:$$,defaultWidth:"full"}),time:Zs({formats:O$,defaultWidth:"full"}),dateTime:Zs({formats:L$,defaultWidth:"full"})},z$={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},B$=function(t,n,r,s){return z$[t]};function Kn(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,a=n!=null&&n.width?String(n.width):i;s=e.formattingValues[a]||e.formattingValues[i]}else{var l=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[c]||e.values[l]}var d=e.argumentCallback?e.argumentCallback(t):t;return s[d]}}var W$={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},H$={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},U$={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},V$={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Y$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},G$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},q$=function(t,n){var r=Number(t),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},K$={ordinalNumber:q$,era:Kn({values:W$,defaultWidth:"wide"}),quarter:Kn({values:H$,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Kn({values:U$,defaultWidth:"wide"}),day:Kn({values:V$,defaultWidth:"wide"}),dayPeriod:Kn({values:Y$,defaultWidth:"wide",formattingValues:G$,defaultFormattingWidth:"wide"})};function Qn(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;var a=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?X$(l,function(p){return p.test(a)}):Q$(l,function(p){return p.test(a)}),d;d=e.valueCallback?e.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;var u=t.slice(a.length);return{value:d,rest:u}}}function Q$(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function X$(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function Rx(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var s=r[0],i=t.match(e.parsePattern);if(!i)return null;var a=e.valueCallback?e.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;var l=t.slice(s.length);return{value:a,rest:l}}}var Z$=/^(\d+)(th|st|nd|rd)?/i,J$=/\d+/i,eO={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},tO={any:[/^b/i,/^(a|c)/i]},nO={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},rO={any:[/1/i,/2/i,/3/i,/4/i]},sO={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},oO={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},iO={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},aO={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},lO={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},cO={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},dO={ordinalNumber:Rx({matchPattern:Z$,parsePattern:J$,valueCallback:function(t){return parseInt(t,10)}}),era:Qn({matchPatterns:eO,defaultMatchWidth:"wide",parsePatterns:tO,defaultParseWidth:"any"}),quarter:Qn({matchPatterns:nO,defaultMatchWidth:"wide",parsePatterns:rO,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Qn({matchPatterns:sO,defaultMatchWidth:"wide",parsePatterns:oO,defaultParseWidth:"any"}),day:Qn({matchPatterns:iO,defaultMatchWidth:"wide",parsePatterns:aO,defaultParseWidth:"any"}),dayPeriod:Qn({matchPatterns:lO,defaultMatchWidth:"any",parsePatterns:cO,defaultParseWidth:"any"})},Ep={code:"en-US",formatDistance:A$,formatLong:F$,formatRelative:B$,localize:K$,match:dO,options:{weekStartsOn:0,firstWeekContainsDate:1}},uO=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,pO=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,hO=/^'([^]*?)'?$/,fO=/''/g,mO=/[a-zA-Z]/;function Ct(e,t,n){var r,s,i,a,l,c,d,u,p,f,m,v,g,y,x,w,C,S;de(2,arguments);var P=String(t),k=ur(),T=(r=(s=n==null?void 0:n.locale)!==null&&s!==void 0?s:k.locale)!==null&&r!==void 0?r:Ep,_=Xe((i=(a=(l=(c=n==null?void 0:n.firstWeekContainsDate)!==null&&c!==void 0?c:n==null||(d=n.locale)===null||d===void 0||(u=d.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&l!==void 0?l:k.firstWeekContainsDate)!==null&&a!==void 0?a:(p=k.locale)===null||p===void 0||(f=p.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(_>=1&&_<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var j=Xe((m=(v=(g=(y=n==null?void 0:n.weekStartsOn)!==null&&y!==void 0?y:n==null||(x=n.locale)===null||x===void 0||(w=x.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&g!==void 0?g:k.weekStartsOn)!==null&&v!==void 0?v:(C=k.locale)===null||C===void 0||(S=C.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&m!==void 0?m:0);if(!(j>=0&&j<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!T.localize)throw new RangeError("locale must contain localize property");if(!T.formatLong)throw new RangeError("locale must contain formatLong property");var E=me(e);if(!_x(E))throw new RangeError("Invalid time value");var A=ul(E),L=Tx(E,A),R={firstWeekContainsDate:_,weekStartsOn:j,locale:T,_originalDate:E},M=P.match(pO).map(function(D){var I=D[0];if(I==="p"||I==="P"){var O=ru[I];return O(D,T.formatLong)}return D}).join("").match(uO).map(function(D){if(D==="''")return"'";var I=D[0];if(I==="'")return gO(D);var O=M$[I];if(O)return!(n!=null&&n.useAdditionalWeekYearTokens)&&Dx(D)&&pl(D,t,String(e)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&Nx(D)&&pl(D,t,String(e)),O(L,D,T.localize,R);if(I.match(mO))throw new RangeError("Format string contains an unescaped latin alphabet character `"+I+"`");return D}).join("");return M}function gO(e){var t=e.match(hO);return t?t[1].replace(fO,"'"):e}function vO(e){de(1,arguments);var t=me(e),n=t.getDate();return n}function Ax(e){de(1,arguments);var t=me(e),n=t.getFullYear(),r=t.getMonth(),s=new Date(0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function yO(e){de(1,arguments);var t=me(e),n=t.getHours();return n}function xO(e){de(1,arguments);var t=me(e),n=t.getMinutes();return n}function bO(e){de(1,arguments);var t=me(e),n=t.getMonth();return n}function CO(e){de(1,arguments);var t=me(e),n=t.getSeconds();return n}function wO(e){de(1,arguments);var t=me(e),n=t.getMilliseconds();return n}function ps(e,t){var n,r,s,i,a,l,c,d;de(1,arguments);var u=ur(),p=Xe((n=(r=(s=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:u.weekStartsOn)!==null&&r!==void 0?r:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=me(e),m=f.getDay(),v=(m<p?7:0)+m-p;return f.setDate(f.getDate()-v),f.setHours(0,0,0,0),f}function jO(e,t){var n,r,s,i,a,l,c,d;de(1,arguments);var u=me(e),p=u.getFullYear(),f=ur(),m=Xe((n=(r=(s=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:f.firstWeekContainsDate)!==null&&r!==void 0?r:(c=f.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setFullYear(p+1,0,m),v.setHours(0,0,0,0);var g=ps(v,t),y=new Date(0);y.setFullYear(p,0,m),y.setHours(0,0,0,0);var x=ps(y,t);return u.getTime()>=g.getTime()?p+1:u.getTime()>=x.getTime()?p:p-1}function SO(e,t){var n,r,s,i,a,l,c,d;de(1,arguments);var u=ur(),p=Xe((n=(r=(s=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:u.firstWeekContainsDate)!==null&&r!==void 0?r:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=jO(e,t),m=new Date(0);m.setFullYear(f,0,p),m.setHours(0,0,0,0);var v=ps(m,t);return v}var kO=6048e5;function _O(e,t){de(1,arguments);var n=me(e),r=ps(n,t).getTime()-SO(n,t).getTime();return Math.round(r/kO)+1}function TO(e){return de(1,arguments),me(e).getFullYear()}function Hn(e,t){de(2,arguments);var n=me(e),r=me(t);return n.getTime()>r.getTime()}function nn(e,t){de(2,arguments);var n=me(e),r=me(t);return n.getTime()<r.getTime()}function EO(e,t){de(2,arguments);var n=me(e),r=me(t);return n.getTime()===r.getTime()}function $x(e,t){de(2,arguments);var n=ws(e),r=ws(t);return n.getTime()===r.getTime()}function PO(e,t){de(2,arguments);var n=me(e),r=me(t);return n.getFullYear()===r.getFullYear()}function MO(e,t){de(2,arguments);var n=me(e),r=me(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function $m(e){de(1,arguments);var t=me(e);return t.setMinutes(0,0,0),t}function IO(e,t){de(2,arguments);var n=$m(e),r=$m(t);return n.getTime()===r.getTime()}function Om(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function NO(e,t){if(e){if(typeof e=="string")return Om(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Om(e,t):void 0}}function Lm(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=NO(e))||t){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(d){throw d},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var d=n.next();return a=d.done,d},e:function(d){l=!0,i=d},f:function(){try{a||n.return==null||n.return()}finally{if(l)throw i}}}}function DO(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function Ze(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tl(e,t)}function hl(e){return hl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},hl(e)}function Ox(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ox=function(){return!!e})()}function RO(e,t){if(t&&(jr(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ce(e)}function Je(e){var t=Ox();return function(){var n,r=hl(e);if(t){var s=hl(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return RO(this,n)}}function He(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ev(r.key),r)}}function Ue(e,t,n){return t&&AO(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function be(e,t,n){return(t=ev(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $O=10,Lx=function(){function e(){He(this,e),be(this,"priority",void 0),be(this,"subPriority",0)}return Ue(e,[{key:"validate",value:function(n,r){return!0}}]),e}(),OO=function(e){Ze(n,e);var t=Je(n);function n(r,s,i,a,l){var c;return He(this,n),c=t.call(this),c.value=r,c.validateValue=s,c.setValue=i,c.priority=a,l&&(c.subPriority=l),c}return Ue(n,[{key:"validate",value:function(s,i){return this.validateValue(s,this.value,i)}},{key:"set",value:function(s,i,a){return this.setValue(s,i,this.value,a)}}]),n}(Lx),LO=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",$O),be(Ce(r),"subPriority",-1),r}return Ue(n,[{key:"set",value:function(s,i){if(i.timestampIsSet)return s;var a=new Date(0);return a.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),a.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),a}}]),n}(Lx),st=function(){function e(){He(this,e),be(this,"incompatibleTokens",void 0),be(this,"priority",void 0),be(this,"subPriority",void 0)}return Ue(e,[{key:"run",value:function(n,r,s,i){var a=this.parse(n,r,s,i);return a?{setter:new OO(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}},{key:"validate",value:function(n,r,s){return!0}}]),e}(),FO=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",140),be(Ce(r),"incompatibleTokens",["R","u","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){switch(i){case"G":case"GG":case"GGG":return a.era(s,{width:"abbreviated"})||a.era(s,{width:"narrow"});case"GGGGG":return a.era(s,{width:"narrow"});case"GGGG":default:return a.era(s,{width:"wide"})||a.era(s,{width:"abbreviated"})||a.era(s,{width:"narrow"})}}},{key:"set",value:function(s,i,a){return i.era=a,s.setUTCFullYear(a,0,1),s.setUTCHours(0,0,0,0),s}}]),n}(st),It={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Xn={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Nt(e,t){return e&&{value:t(e.value),rest:e.rest}}function jt(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function Zn(e,t){var n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};var r=n[1]==="+"?1:-1,s=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,a=n[5]?parseInt(n[5],10):0;return{value:r*(s*xc+i*yc+a*v$),rest:t.slice(n[0].length)}}function Fx(e){return jt(It.anyDigitsSigned,e)}function Et(e,t){switch(e){case 1:return jt(It.singleDigit,t);case 2:return jt(It.twoDigits,t);case 3:return jt(It.threeDigits,t);case 4:return jt(It.fourDigits,t);default:return jt(new RegExp("^\\d{1,"+e+"}"),t)}}function fl(e,t){switch(e){case 1:return jt(It.singleDigitSigned,t);case 2:return jt(It.twoDigitsSigned,t);case 3:return jt(It.threeDigitsSigned,t);case 4:return jt(It.fourDigitsSigned,t);default:return jt(new RegExp("^-?\\d{1,"+e+"}"),t)}}function Pp(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function zx(e,t){var n=t>0,r=n?t:1-t,s;if(r<=50)s=e||100;else{var i=r+50,a=Math.floor(i/100)*100,l=e>=i%100;s=e+a-(l?100:0)}return n?s:1-s}function Bx(e){return e%400===0||e%4===0&&e%100!==0}var zO=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",130),be(Ce(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){var l=function(d){return{year:d,isTwoDigitYear:i==="yy"}};switch(i){case"y":return Nt(Et(4,s),l);case"yo":return Nt(a.ordinalNumber(s,{unit:"year"}),l);default:return Nt(Et(i.length,s),l)}}},{key:"validate",value:function(s,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(s,i,a){var l=s.getUTCFullYear();if(a.isTwoDigitYear){var c=zx(a.year,l);return s.setUTCFullYear(c,0,1),s.setUTCHours(0,0,0,0),s}var d=!("era"in i)||i.era===1?a.year:1-a.year;return s.setUTCFullYear(d,0,1),s.setUTCHours(0,0,0,0),s}}]),n}(st),BO=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",130),be(Ce(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){var l=function(d){return{year:d,isTwoDigitYear:i==="YY"}};switch(i){case"Y":return Nt(Et(4,s),l);case"Yo":return Nt(a.ordinalNumber(s,{unit:"year"}),l);default:return Nt(Et(i.length,s),l)}}},{key:"validate",value:function(s,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(s,i,a,l){var c=Tp(s,l);if(a.isTwoDigitYear){var d=zx(a.year,c);return s.setUTCFullYear(d,0,l.firstWeekContainsDate),s.setUTCHours(0,0,0,0),Er(s,l)}var u=!("era"in i)||i.era===1?a.year:1-a.year;return s.setUTCFullYear(u,0,l.firstWeekContainsDate),s.setUTCHours(0,0,0,0),Er(s,l)}}]),n}(st),WO=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",130),be(Ce(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i){return fl(i==="R"?4:i.length,s)}},{key:"set",value:function(s,i,a){var l=new Date(0);return l.setUTCFullYear(a,0,4),l.setUTCHours(0,0,0,0),yo(l)}}]),n}(st),HO=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",130),be(Ce(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i){return fl(i==="u"?4:i.length,s)}},{key:"set",value:function(s,i,a){return s.setUTCFullYear(a,0,1),s.setUTCHours(0,0,0,0),s}}]),n}(st),UO=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",120),be(Ce(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){switch(i){case"Q":case"QQ":return Et(i.length,s);case"Qo":return a.ordinalNumber(s,{unit:"quarter"});case"QQQ":return a.quarter(s,{width:"abbreviated",context:"formatting"})||a.quarter(s,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(s,{width:"wide",context:"formatting"})||a.quarter(s,{width:"abbreviated",context:"formatting"})||a.quarter(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,i){return i>=1&&i<=4}},{key:"set",value:function(s,i,a){return s.setUTCMonth((a-1)*3,1),s.setUTCHours(0,0,0,0),s}}]),n}(st),VO=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",120),be(Ce(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){switch(i){case"q":case"qq":return Et(i.length,s);case"qo":return a.ordinalNumber(s,{unit:"quarter"});case"qqq":return a.quarter(s,{width:"abbreviated",context:"standalone"})||a.quarter(s,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(s,{width:"wide",context:"standalone"})||a.quarter(s,{width:"abbreviated",context:"standalone"})||a.quarter(s,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(s,i){return i>=1&&i<=4}},{key:"set",value:function(s,i,a){return s.setUTCMonth((a-1)*3,1),s.setUTCHours(0,0,0,0),s}}]),n}(st),YO=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),be(Ce(r),"priority",110),r}return Ue(n,[{key:"parse",value:function(s,i,a){var l=function(d){return d-1};switch(i){case"M":return Nt(jt(It.month,s),l);case"MM":return Nt(Et(2,s),l);case"Mo":return Nt(a.ordinalNumber(s,{unit:"month"}),l);case"MMM":return a.month(s,{width:"abbreviated",context:"formatting"})||a.month(s,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(s,{width:"wide",context:"formatting"})||a.month(s,{width:"abbreviated",context:"formatting"})||a.month(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=11}},{key:"set",value:function(s,i,a){return s.setUTCMonth(a,1),s.setUTCHours(0,0,0,0),s}}]),n}(st),GO=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",110),be(Ce(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){var l=function(d){return d-1};switch(i){case"L":return Nt(jt(It.month,s),l);case"LL":return Nt(Et(2,s),l);case"Lo":return Nt(a.ordinalNumber(s,{unit:"month"}),l);case"LLL":return a.month(s,{width:"abbreviated",context:"standalone"})||a.month(s,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(s,{width:"wide",context:"standalone"})||a.month(s,{width:"abbreviated",context:"standalone"})||a.month(s,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=11}},{key:"set",value:function(s,i,a){return s.setUTCMonth(a,1),s.setUTCHours(0,0,0,0),s}}]),n}(st);function qO(e,t,n){de(2,arguments);var r=me(e),s=Xe(t),i=Mx(r,n)-s;return r.setUTCDate(r.getUTCDate()-i*7),r}var KO=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",100),be(Ce(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){switch(i){case"w":return jt(It.week,s);case"wo":return a.ordinalNumber(s,{unit:"week"});default:return Et(i.length,s)}}},{key:"validate",value:function(s,i){return i>=1&&i<=53}},{key:"set",value:function(s,i,a,l){return Er(qO(s,a,l),l)}}]),n}(st);function QO(e,t){de(2,arguments);var n=me(e),r=Xe(t),s=Px(n)-r;return n.setUTCDate(n.getUTCDate()-s*7),n}var XO=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",100),be(Ce(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){switch(i){case"I":return jt(It.week,s);case"Io":return a.ordinalNumber(s,{unit:"week"});default:return Et(i.length,s)}}},{key:"validate",value:function(s,i){return i>=1&&i<=53}},{key:"set",value:function(s,i,a){return yo(QO(s,a))}}]),n}(st),ZO=[31,28,31,30,31,30,31,31,30,31,30,31],JO=[31,29,31,30,31,30,31,31,30,31,30,31],e4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",90),be(Ce(r),"subPriority",1),be(Ce(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){switch(i){case"d":return jt(It.date,s);case"do":return a.ordinalNumber(s,{unit:"date"});default:return Et(i.length,s)}}},{key:"validate",value:function(s,i){var a=s.getUTCFullYear(),l=Bx(a),c=s.getUTCMonth();return l?i>=1&&i<=JO[c]:i>=1&&i<=ZO[c]}},{key:"set",value:function(s,i,a){return s.setUTCDate(a),s.setUTCHours(0,0,0,0),s}}]),n}(st),t4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",90),be(Ce(r),"subpriority",1),be(Ce(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){switch(i){case"D":case"DD":return jt(It.dayOfYear,s);case"Do":return a.ordinalNumber(s,{unit:"date"});default:return Et(i.length,s)}}},{key:"validate",value:function(s,i){var a=s.getUTCFullYear(),l=Bx(a);return l?i>=1&&i<=366:i>=1&&i<=365}},{key:"set",value:function(s,i,a){return s.setUTCMonth(0,a),s.setUTCHours(0,0,0,0),s}}]),n}(st);function Mp(e,t,n){var r,s,i,a,l,c,d,u;de(2,arguments);var p=ur(),f=Xe((r=(s=(i=(a=n==null?void 0:n.weekStartsOn)!==null&&a!==void 0?a:n==null||(l=n.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&i!==void 0?i:p.weekStartsOn)!==null&&s!==void 0?s:(d=p.locale)===null||d===void 0||(u=d.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=me(e),v=Xe(t),g=m.getUTCDay(),y=v%7,x=(y+7)%7,w=(x<f?7:0)+v-g;return m.setUTCDate(m.getUTCDate()+w),m}var n4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",90),be(Ce(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){switch(i){case"E":case"EE":case"EEE":return a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(s,{width:"wide",context:"formatting"})||a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=6}},{key:"set",value:function(s,i,a,l){return s=Mp(s,a,l),s.setUTCHours(0,0,0,0),s}}]),n}(st),r4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",90),be(Ce(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a,l){var c=function(u){var p=Math.floor((u-1)/7)*7;return(u+l.weekStartsOn+6)%7+p};switch(i){case"e":case"ee":return Nt(Et(i.length,s),c);case"eo":return Nt(a.ordinalNumber(s,{unit:"day"}),c);case"eee":return a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"});case"eeeee":return a.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(s,{width:"wide",context:"formatting"})||a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=6}},{key:"set",value:function(s,i,a,l){return s=Mp(s,a,l),s.setUTCHours(0,0,0,0),s}}]),n}(st),s4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",90),be(Ce(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a,l){var c=function(u){var p=Math.floor((u-1)/7)*7;return(u+l.weekStartsOn+6)%7+p};switch(i){case"c":case"cc":return Nt(Et(i.length,s),c);case"co":return Nt(a.ordinalNumber(s,{unit:"day"}),c);case"ccc":return a.day(s,{width:"abbreviated",context:"standalone"})||a.day(s,{width:"short",context:"standalone"})||a.day(s,{width:"narrow",context:"standalone"});case"ccccc":return a.day(s,{width:"narrow",context:"standalone"});case"cccccc":return a.day(s,{width:"short",context:"standalone"})||a.day(s,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(s,{width:"wide",context:"standalone"})||a.day(s,{width:"abbreviated",context:"standalone"})||a.day(s,{width:"short",context:"standalone"})||a.day(s,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(s,i){return i>=0&&i<=6}},{key:"set",value:function(s,i,a,l){return s=Mp(s,a,l),s.setUTCHours(0,0,0,0),s}}]),n}(st);function o4(e,t){de(2,arguments);var n=Xe(t);n%7===0&&(n=n-7);var r=1,s=me(e),i=s.getUTCDay(),a=n%7,l=(a+7)%7,c=(l<r?7:0)+n-i;return s.setUTCDate(s.getUTCDate()+c),s}var i4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",90),be(Ce(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){var l=function(d){return d===0?7:d};switch(i){case"i":case"ii":return Et(i.length,s);case"io":return a.ordinalNumber(s,{unit:"day"});case"iii":return Nt(a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"}),l);case"iiiii":return Nt(a.day(s,{width:"narrow",context:"formatting"}),l);case"iiiiii":return Nt(a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"}),l);case"iiii":default:return Nt(a.day(s,{width:"wide",context:"formatting"})||a.day(s,{width:"abbreviated",context:"formatting"})||a.day(s,{width:"short",context:"formatting"})||a.day(s,{width:"narrow",context:"formatting"}),l)}}},{key:"validate",value:function(s,i){return i>=1&&i<=7}},{key:"set",value:function(s,i,a){return s=o4(s,a),s.setUTCHours(0,0,0,0),s}}]),n}(st),a4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",80),be(Ce(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){switch(i){case"a":case"aa":case"aaa":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(s,{width:"wide",context:"formatting"})||a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(s,i,a){return s.setUTCHours(Pp(a),0,0,0),s}}]),n}(st),l4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",80),be(Ce(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){switch(i){case"b":case"bb":case"bbb":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(s,{width:"wide",context:"formatting"})||a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(s,i,a){return s.setUTCHours(Pp(a),0,0,0),s}}]),n}(st),c4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",80),be(Ce(r),"incompatibleTokens",["a","b","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){switch(i){case"B":case"BB":case"BBB":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(s,{width:"wide",context:"formatting"})||a.dayPeriod(s,{width:"abbreviated",context:"formatting"})||a.dayPeriod(s,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(s,i,a){return s.setUTCHours(Pp(a),0,0,0),s}}]),n}(st),d4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",70),be(Ce(r),"incompatibleTokens",["H","K","k","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){switch(i){case"h":return jt(It.hour12h,s);case"ho":return a.ordinalNumber(s,{unit:"hour"});default:return Et(i.length,s)}}},{key:"validate",value:function(s,i){return i>=1&&i<=12}},{key:"set",value:function(s,i,a){var l=s.getUTCHours()>=12;return l&&a<12?s.setUTCHours(a+12,0,0,0):!l&&a===12?s.setUTCHours(0,0,0,0):s.setUTCHours(a,0,0,0),s}}]),n}(st),u4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",70),be(Ce(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){switch(i){case"H":return jt(It.hour23h,s);case"Ho":return a.ordinalNumber(s,{unit:"hour"});default:return Et(i.length,s)}}},{key:"validate",value:function(s,i){return i>=0&&i<=23}},{key:"set",value:function(s,i,a){return s.setUTCHours(a,0,0,0),s}}]),n}(st),p4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",70),be(Ce(r),"incompatibleTokens",["h","H","k","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){switch(i){case"K":return jt(It.hour11h,s);case"Ko":return a.ordinalNumber(s,{unit:"hour"});default:return Et(i.length,s)}}},{key:"validate",value:function(s,i){return i>=0&&i<=11}},{key:"set",value:function(s,i,a){var l=s.getUTCHours()>=12;return l&&a<12?s.setUTCHours(a+12,0,0,0):s.setUTCHours(a,0,0,0),s}}]),n}(st),h4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",70),be(Ce(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){switch(i){case"k":return jt(It.hour24h,s);case"ko":return a.ordinalNumber(s,{unit:"hour"});default:return Et(i.length,s)}}},{key:"validate",value:function(s,i){return i>=1&&i<=24}},{key:"set",value:function(s,i,a){var l=a<=24?a%24:a;return s.setUTCHours(l,0,0,0),s}}]),n}(st),f4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",60),be(Ce(r),"incompatibleTokens",["t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){switch(i){case"m":return jt(It.minute,s);case"mo":return a.ordinalNumber(s,{unit:"minute"});default:return Et(i.length,s)}}},{key:"validate",value:function(s,i){return i>=0&&i<=59}},{key:"set",value:function(s,i,a){return s.setUTCMinutes(a,0,0),s}}]),n}(st),m4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",50),be(Ce(r),"incompatibleTokens",["t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i,a){switch(i){case"s":return jt(It.second,s);case"so":return a.ordinalNumber(s,{unit:"second"});default:return Et(i.length,s)}}},{key:"validate",value:function(s,i){return i>=0&&i<=59}},{key:"set",value:function(s,i,a){return s.setUTCSeconds(a,0),s}}]),n}(st),g4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",30),be(Ce(r),"incompatibleTokens",["t","T"]),r}return Ue(n,[{key:"parse",value:function(s,i){var a=function(c){return Math.floor(c*Math.pow(10,-i.length+3))};return Nt(Et(i.length,s),a)}},{key:"set",value:function(s,i,a){return s.setUTCMilliseconds(a),s}}]),n}(st),v4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",10),be(Ce(r),"incompatibleTokens",["t","T","x"]),r}return Ue(n,[{key:"parse",value:function(s,i){switch(i){case"X":return Zn(Xn.basicOptionalMinutes,s);case"XX":return Zn(Xn.basic,s);case"XXXX":return Zn(Xn.basicOptionalSeconds,s);case"XXXXX":return Zn(Xn.extendedOptionalSeconds,s);case"XXX":default:return Zn(Xn.extended,s)}}},{key:"set",value:function(s,i,a){return i.timestampIsSet?s:new Date(s.getTime()-a)}}]),n}(st),y4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",10),be(Ce(r),"incompatibleTokens",["t","T","X"]),r}return Ue(n,[{key:"parse",value:function(s,i){switch(i){case"x":return Zn(Xn.basicOptionalMinutes,s);case"xx":return Zn(Xn.basic,s);case"xxxx":return Zn(Xn.basicOptionalSeconds,s);case"xxxxx":return Zn(Xn.extendedOptionalSeconds,s);case"xxx":default:return Zn(Xn.extended,s)}}},{key:"set",value:function(s,i,a){return i.timestampIsSet?s:new Date(s.getTime()-a)}}]),n}(st),x4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",40),be(Ce(r),"incompatibleTokens","*"),r}return Ue(n,[{key:"parse",value:function(s){return Fx(s)}},{key:"set",value:function(s,i,a){return[new Date(a*1e3),{timestampIsSet:!0}]}}]),n}(st),b4=function(e){Ze(n,e);var t=Je(n);function n(){var r;He(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),be(Ce(r),"priority",20),be(Ce(r),"incompatibleTokens","*"),r}return Ue(n,[{key:"parse",value:function(s){return Fx(s)}},{key:"set",value:function(s,i,a){return[new Date(a),{timestampIsSet:!0}]}}]),n}(st),C4={G:new FO,y:new zO,Y:new BO,R:new WO,u:new HO,Q:new UO,q:new VO,M:new YO,L:new GO,w:new KO,I:new XO,d:new e4,D:new t4,E:new n4,e:new r4,c:new s4,i:new i4,a:new a4,b:new l4,B:new c4,h:new d4,H:new u4,K:new p4,k:new h4,m:new f4,s:new m4,S:new g4,X:new v4,x:new y4,t:new x4,T:new b4},w4=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,j4=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,S4=/^'([^]*?)'?$/,k4=/''/g,_4=/\S/,T4=/[a-zA-Z]/;function tn(e,t,n,r){var s,i,a,l,c,d,u,p,f,m,v,g,y,x,w,C,S,P;de(3,arguments);var k=String(e),T=String(t),_=ur(),j=(s=(i=r==null?void 0:r.locale)!==null&&i!==void 0?i:_.locale)!==null&&s!==void 0?s:Ep;if(!j.match)throw new RangeError("locale must contain match property");var E=Xe((a=(l=(c=(d=r==null?void 0:r.firstWeekContainsDate)!==null&&d!==void 0?d:r==null||(u=r.locale)===null||u===void 0||(p=u.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&c!==void 0?c:_.firstWeekContainsDate)!==null&&l!==void 0?l:(f=_.locale)===null||f===void 0||(m=f.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(E>=1&&E<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var A=Xe((v=(g=(y=(x=r==null?void 0:r.weekStartsOn)!==null&&x!==void 0?x:r==null||(w=r.locale)===null||w===void 0||(C=w.options)===null||C===void 0?void 0:C.weekStartsOn)!==null&&y!==void 0?y:_.weekStartsOn)!==null&&g!==void 0?g:(S=_.locale)===null||S===void 0||(P=S.options)===null||P===void 0?void 0:P.weekStartsOn)!==null&&v!==void 0?v:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(T==="")return k===""?me(n):new Date(NaN);var L={firstWeekContainsDate:E,weekStartsOn:A,locale:j},R=[new LO],M=T.match(j4).map(function(ee){var Z=ee[0];if(Z in ru){var ae=ru[Z];return ae(ee,j.formatLong)}return ee}).join("").match(w4),D=[],I=Lm(M),O;try{var z=function(){var Z=O.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&Dx(Z)&&pl(Z,T,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&Nx(Z)&&pl(Z,T,e);var ae=Z[0],K=C4[ae];if(K){var H=K.incompatibleTokens;if(Array.isArray(H)){var F=D.find(function(ne){return H.includes(ne.token)||ne.token===ae});if(F)throw new RangeError("The format string mustn't contain `".concat(F.fullToken,"` and `").concat(Z,"` at the same time"))}else if(K.incompatibleTokens==="*"&&D.length>0)throw new RangeError("The format string mustn't contain `".concat(Z,"` and any other token at the same time"));D.push({token:ae,fullToken:Z});var q=K.run(k,Z,j.match,L);if(!q)return{v:new Date(NaN)};R.push(q.setter),k=q.rest}else{if(ae.match(T4))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ae+"`");if(Z==="''"?Z="'":ae==="'"&&(Z=E4(Z)),k.indexOf(Z)===0)k=k.slice(Z.length);else return{v:new Date(NaN)}}};for(I.s();!(O=I.n()).done;){var $=z();if(jr($)==="object")return $.v}}catch(ee){I.e(ee)}finally{I.f()}if(k.length>0&&_4.test(k))return new Date(NaN);var N=R.map(function(ee){return ee.priority}).sort(function(ee,Z){return Z-ee}).filter(function(ee,Z,ae){return ae.indexOf(ee)===Z}).map(function(ee){return R.filter(function(Z){return Z.priority===ee}).sort(function(Z,ae){return ae.subPriority-Z.subPriority})}).map(function(ee){return ee[0]}),W=me(n);if(isNaN(W.getTime()))return new Date(NaN);var V=Tx(W,ul(W)),G={},Q=Lm(N),oe;try{for(Q.s();!(oe=Q.n()).done;){var U=oe.value;if(!U.validate(V,L))return new Date(NaN);var le=U.set(V,G,L);Array.isArray(le)?(V=le[0],DO(G,le[1])):V=le}}catch(ee){Q.e(ee)}finally{Q.f()}return V}function E4(e){return e.match(S4)[1].replace(k4,"'")}function P4(e,t){de(2,arguments);var n=me(e),r=Xe(t);return n.setDate(r),n}function M4(e,t){de(2,arguments);var n=me(e),r=Xe(t);return n.setHours(r),n}function I4(e,t){de(2,arguments);var n=me(e),r=Xe(t);return n.setMinutes(r),n}function N4(e,t){de(2,arguments);var n=me(e),r=Xe(t),s=n.getFullYear(),i=n.getDate(),a=new Date(0);a.setFullYear(s,r,15),a.setHours(0,0,0,0);var l=Ax(a);return n.setMonth(r,Math.min(i,l)),n}function D4(e,t){de(2,arguments);var n=me(e),r=Xe(t);return n.setSeconds(r),n}function R4(e,t){de(2,arguments);var n=me(e),r=Xe(t);return n.setMilliseconds(r),n}function A4(e,t){de(2,arguments);var n=me(e),r=Xe(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function Fm(e){de(1,arguments);var t=me(e);return t.setDate(1),t.setHours(0,0,0,0),t}function ba(e){de(1,arguments);var t=me(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function $4(e,t){var n;de(1,arguments);var r=Xe((n=void 0)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var s=z4(e),i;if(s.date){var a=B4(s.date,r);i=W4(a.restDateString,a.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var l=i.getTime(),c=0,d;if(s.time&&(c=H4(s.time),isNaN(c)))return new Date(NaN);if(s.timezone){if(d=U4(s.timezone),isNaN(d))return new Date(NaN)}else{var u=new Date(l+c),p=new Date(0);return p.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),p.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),p}return new Date(l+c+d)}var Ca={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},O4=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,L4=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,F4=/^([+-])(\d{2})(?::?(\d{2}))?$/;function z4(e){var t={},n=e.split(Ca.dateTimeDelimiter),r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],Ca.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Ca.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){var s=Ca.timezone.exec(r);s?(t.time=r.replace(s[1],""),t.timezone=s[1]):t.time=r}return t}function B4(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:e.slice((r[1]||r[2]).length)}}function W4(e,t){if(t===null)return new Date(NaN);var n=e.match(O4);if(!n)return new Date(NaN);var r=!!n[4],s=ei(n[1]),i=ei(n[2])-1,a=ei(n[3]),l=ei(n[4]),c=ei(n[5])-1;if(r)return K4(t,l,c)?V4(t,l,c):new Date(NaN);var d=new Date(0);return!G4(t,i,a)||!q4(t,s)?new Date(NaN):(d.setUTCFullYear(t,i,Math.max(s,a)),d)}function ei(e){return e?parseInt(e):1}function H4(e){var t=e.match(L4);if(!t)return NaN;var n=id(t[1]),r=id(t[2]),s=id(t[3]);return Q4(n,r,s)?n*xc+r*yc+s*1e3:NaN}function id(e){return e&&parseFloat(e.replace(",","."))||0}function U4(e){if(e==="Z")return 0;var t=e.match(F4);if(!t)return 0;var n=t[1]==="+"?-1:1,r=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return X4(r,s)?n*(r*xc+s*yc):NaN}function V4(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var s=r.getUTCDay()||7,i=(t-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}var Y4=[31,null,31,30,31,30,31,31,30,31,30,31];function Wx(e){return e%400===0||e%4===0&&e%100!==0}function G4(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(Y4[t]||(Wx(e)?29:28))}function q4(e,t){return t>=1&&t<=(Wx(e)?366:365)}function K4(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function Q4(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function X4(e,t){return t>=0&&t<=59}function Z4(e,t){var n,r;de(1,arguments);var s=me(e);if(isNaN(s.getTime()))throw new RangeError("Invalid time value");var i=String((n=t==null?void 0:t.format)!==null&&n!==void 0?n:"extended"),a=String((r=t==null?void 0:t.representation)!==null&&r!==void 0?r:"complete");if(i!=="extended"&&i!=="basic")throw new RangeError("format must be 'extended' or 'basic'");if(a!=="date"&&a!=="time"&&a!=="complete")throw new RangeError("representation must be 'date', 'time', or 'complete'");var l="",c="",d=i==="extended"?"-":"",u=i==="extended"?":":"";if(a!=="time"){var p=Oe(s.getDate(),2),f=Oe(s.getMonth()+1,2),m=Oe(s.getFullYear(),4);l="".concat(m).concat(d).concat(f).concat(d).concat(p)}if(a!=="date"){var v=s.getTimezoneOffset();if(v!==0){var g=Math.abs(v),y=Oe(Math.floor(g/60),2),x=Oe(g%60,2),w=v<0?"+":"-";c="".concat(w).concat(y,":").concat(x)}else c="Z";var C=Oe(s.getHours(),2),S=Oe(s.getMinutes(),2),P=Oe(s.getSeconds(),2),k=l===""?"":"T",T=[C,S,P].join(u);l="".concat(l).concat(k).concat(T).concat(c)}return l}function J4(e,t){de(2,arguments);var n=me(e).getTime(),r=me(t.start).getTime(),s=me(t.end).getTime();if(!(r<=s))throw new RangeError("Invalid interval");return n>=r&&n<=s}var su={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(c,d){switch(c){case"P":return d.date({width:"short"});case"PP":return d.date({width:"medium"});case"PPP":return d.date({width:"long"});case"PPPP":default:return d.date({width:"full"})}},r=function(c,d){switch(c){case"p":return d.time({width:"short"});case"pp":return d.time({width:"medium"});case"ppp":return d.time({width:"long"});case"pppp":default:return d.time({width:"full"})}},s=function(c,d){var u=c.match(/(P+)(p+)?/)||[],p=u[1],f=u[2];if(!f)return n(c,d);var m;switch(p){case"P":m=d.dateTime({width:"short"});break;case"PP":m=d.dateTime({width:"medium"});break;case"PPP":m=d.dateTime({width:"long"});break;case"PPPP":default:m=d.dateTime({width:"full"});break}return m.replace("{{date}}",n(p,d)).replace("{{time}}",r(f,d))},i={p:r,P:s},a=i;t.default=a,e.exports=t.default})(su,su.exports);var e3=su.exports;const t3=db(e3),n3={y:{sectionType:"year",contentType:"digit",maxLength:4},yy:"year",yyy:{sectionType:"year",contentType:"digit",maxLength:4},yyyy:"year",M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMMM:{sectionType:"month",contentType:"letter"},MMM:{sectionType:"month",contentType:"letter"},L:{sectionType:"month",contentType:"digit",maxLength:2},LL:"month",LLL:{sectionType:"month",contentType:"letter"},LLLL:{sectionType:"month",contentType:"letter"},d:{sectionType:"day",contentType:"digit",maxLength:2},dd:"day",do:{sectionType:"day",contentType:"digit-with-letter"},E:{sectionType:"weekDay",contentType:"letter"},EE:{sectionType:"weekDay",contentType:"letter"},EEE:{sectionType:"weekDay",contentType:"letter"},EEEE:{sectionType:"weekDay",contentType:"letter"},EEEEE:{sectionType:"weekDay",contentType:"letter"},i:{sectionType:"weekDay",contentType:"digit",maxLength:1},ii:"weekDay",iii:{sectionType:"weekDay",contentType:"letter"},iiii:{sectionType:"weekDay",contentType:"letter"},e:{sectionType:"weekDay",contentType:"digit",maxLength:1},ee:"weekDay",eee:{sectionType:"weekDay",contentType:"letter"},eeee:{sectionType:"weekDay",contentType:"letter"},eeeee:{sectionType:"weekDay",contentType:"letter"},eeeeee:{sectionType:"weekDay",contentType:"letter"},c:{sectionType:"weekDay",contentType:"digit",maxLength:1},cc:"weekDay",ccc:{sectionType:"weekDay",contentType:"letter"},cccc:{sectionType:"weekDay",contentType:"letter"},ccccc:{sectionType:"weekDay",contentType:"letter"},cccccc:{sectionType:"weekDay",contentType:"letter"},a:"meridiem",aa:"meridiem",aaa:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},r3={year:"yyyy",month:"LLLL",monthShort:"MMM",dayOfMonth:"d",weekday:"EEEE",weekdayShort:"EEEEEE",hours24h:"HH",hours12h:"hh",meridiem:"aa",minutes:"mm",seconds:"ss",fullDate:"PP",fullDateWithWeekday:"PPPP",keyboardDate:"P",shortDate:"MMM d",normalDate:"d MMMM",normalDateWithWeekday:"EEE, MMM d",monthAndYear:"LLLL yyyy",monthAndDate:"MMMM d",fullTime:"p",fullTime12h:"hh:mm aa",fullTime24h:"HH:mm",fullDateTime:"PP p",fullDateTime12h:"PP hh:mm aa",fullDateTime24h:"PP HH:mm",keyboardDateTime:"P p",keyboardDateTime12h:"P hh:mm aa",keyboardDateTime24h:"P HH:mm"};class s3{constructor(t){this.isMUIAdapter=!0,this.isTimezoneCompatible=!1,this.lib="date-fns",this.locale=void 0,this.formats=void 0,this.formatTokenMap=n3,this.escapedCharacters={start:"'",end:"'"},this.longFormatters=void 0,this.date=i=>typeof i>"u"?new Date:i===null?null:new Date(i),this.dateWithTimezone=i=>this.date(i),this.getTimezone=()=>"default",this.setTimezone=i=>i,this.toJsDate=i=>i,this.getCurrentLocaleCode=()=>{var i;return((i=this.locale)==null?void 0:i.code)||"en-US"},this.is12HourCycleInCurrentLocale=()=>this.locale?/a/.test(this.locale.formatLong.time({width:"short"})):!0,this.expandFormat=i=>{const a=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;return i.match(a).map(l=>{const c=l[0];if(c==="p"||c==="P"){const d=this.longFormatters[c];return d(l,this.locale.formatLong)}return l}).join("")},this.getFormatHelperText=i=>this.expandFormat(i).replace(/(aaa|aa|a)/g,"(a|p)m").toLocaleLowerCase(),this.isNull=i=>i===null,this.formatNumber=i=>i,this.getMeridiemText=i=>i==="am"?"AM":"PM";const{locale:n,formats:r,longFormatters:s}=t;this.locale=n,this.formats=b({},r3,r),this.longFormatters=s}}class o3 extends s3{constructor({locale:t,formats:n}={}){if(typeof Ur!="function")throw new Error(["MUI: The `date-fns` package v3.x is not compatible with this adapter.","Please, install v2.x of the package or use the `AdapterDateFnsV3` instead."].join(`
`));super({locale:t??Ep,formats:n,longFormatters:t3}),this.parseISO=r=>$4(r),this.toISO=r=>Z4(r,{format:"extended"}),this.parse=(r,s)=>r===""?null:tn(r,s,new Date,{locale:this.locale}),this.isValid=r=>_x(this.date(r)),this.format=(r,s)=>this.formatByString(r,this.formats[s]),this.formatByString=(r,s)=>Ct(r,s,{locale:this.locale}),this.getDiff=(r,s,i)=>{switch(i){case"years":return c$(r,this.date(s));case"quarters":return h$(r,this.date(s));case"months":return Sx(r,this.date(s));case"weeks":return g$(r,this.date(s));case"days":return kx(r,this.date(s));case"hours":return y$(r,this.date(s));case"minutes":return x$(r,this.date(s));case"seconds":return b$(r,this.date(s));default:return bc(r,this.date(s))}},this.isEqual=(r,s)=>r===null&&s===null?!0:EO(r,s),this.isSameYear=(r,s)=>PO(r,s),this.isSameMonth=(r,s)=>MO(r,s),this.isSameDay=(r,s)=>$x(r,s),this.isSameHour=(r,s)=>IO(r,s),this.isAfter=(r,s)=>Hn(r,s),this.isAfterYear=(r,s)=>Hn(r,od(s)),this.isAfterDay=(r,s)=>Hn(r,tu(s)),this.isBefore=(r,s)=>nn(r,s),this.isBeforeYear=(r,s)=>nn(r,ba(s)),this.isBeforeDay=(r,s)=>nn(r,ws(s)),this.isWithinRange=(r,[s,i])=>J4(r,{start:s,end:i}),this.startOfYear=r=>ba(r),this.startOfMonth=r=>Fm(r),this.startOfWeek=r=>ps(r,{locale:this.locale}),this.startOfDay=r=>ws(r),this.endOfYear=r=>od(r),this.endOfMonth=r=>nu(r),this.endOfWeek=r=>sd(r,{locale:this.locale}),this.endOfDay=r=>tu(r),this.addYears=(r,s)=>Mm(r,s),this.addMonths=(r,s)=>$a(r,s),this.addWeeks=(r,s)=>a$(r,s),this.addDays=(r,s)=>Ur(r,s),this.addHours=(r,s)=>i$(r,s),this.addMinutes=(r,s)=>Br(r,s),this.addSeconds=(r,s)=>r$(r,s),this.getYear=r=>TO(r),this.getMonth=r=>bO(r),this.getDate=r=>vO(r),this.getHours=r=>yO(r),this.getMinutes=r=>xO(r),this.getSeconds=r=>CO(r),this.getMilliseconds=r=>wO(r),this.setYear=(r,s)=>A4(r,s),this.setMonth=(r,s)=>N4(r,s),this.setDate=(r,s)=>P4(r,s),this.setHours=(r,s)=>M4(r,s),this.setMinutes=(r,s)=>I4(r,s),this.setSeconds=(r,s)=>D4(r,s),this.setMilliseconds=(r,s)=>R4(r,s),this.getDaysInMonth=r=>Ax(r),this.getNextMonth=r=>$a(r,1),this.getPreviousMonth=r=>$a(r,-1),this.getMonthArray=r=>{const i=[ba(r)];for(;i.length<12;){const a=i[i.length-1];i.push(this.getNextMonth(a))}return i},this.mergeDateAndTime=(r,s)=>this.setSeconds(this.setMinutes(this.setHours(r,this.getHours(s)),this.getMinutes(s)),this.getSeconds(s)),this.getWeekdays=()=>{const r=new Date;return C$({start:ps(r,{locale:this.locale}),end:sd(r,{locale:this.locale})}).map(s=>this.formatByString(s,"EEEEEE"))},this.getWeekArray=r=>{const s=ps(Fm(r),{locale:this.locale}),i=sd(nu(r),{locale:this.locale});let a=0,l=s;const c=[];for(;nn(l,i);){const d=Math.floor(a/7);c[d]=c[d]||[],c[d].push(l),l=Ur(l,1),a+=1}return c},this.getWeekNumber=r=>_O(r,{locale:this.locale}),this.getYearRange=(r,s)=>{const i=ba(r),a=od(s),l=[];let c=i;for(;nn(c,a);)l.push(c),c=Mm(c,1);return l}}}const i3=["localeText"],ou=h.createContext(null),a3=function(t){var n;const{localeText:r}=t,s=J(t,i3),{utils:i,localeText:a}=(n=h.useContext(ou))!=null?n:{utils:void 0,localeText:void 0},l=Ln({props:s,name:"MuiLocalizationProvider"}),{children:c,dateAdapter:d,dateFormats:u,dateLibInstance:p,adapterLocale:f,localeText:m}=l,v=h.useMemo(()=>b({},m,a,r),[m,a,r]),g=h.useMemo(()=>{if(!d)return i||null;const w=new d({locale:f,formats:u,instance:p});if(!w.isMUIAdapter)throw new Error(["MUI: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join(`
`));return w},[d,f,u,p,i]),y=h.useMemo(()=>g?{minDate:g.date("1900-01-01T00:00:00.000"),maxDate:g.date("2099-12-31T00:00:00.000")}:null,[g]),x=h.useMemo(()=>({utils:g,defaultDates:y,localeText:v}),[y,g,v]);return o.jsx(ou.Provider,{value:x,children:c})};function l3(e){return typeof e=="string"}function c3(e,t,n){return e===void 0||l3(e)?t:{...t,ownerState:{...t.ownerState,...n}}}function d3(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function u3(e,t,n){return typeof e=="function"?e(t,n):e}function p3(...e){const t=h.useRef(void 0),n=h.useCallback(r=>{const s=e.map(i=>{if(i==null)return null;if(typeof i=="function"){const a=i,l=a(r);return typeof l=="function"?l:()=>{a(null)}}return i.current=r,()=>{i.current=null}});return()=>{s.forEach(i=>i==null?void 0:i())}},e);return h.useMemo(()=>e.every(r=>r==null)?null:r=>{t.current&&(t.current(),t.current=void 0),r!=null&&(t.current=n(r))},e)}function zm(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function h3(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:s,className:i}=e;if(!t){const m=re(n==null?void 0:n.className,i,s==null?void 0:s.className,r==null?void 0:r.className),v={...n==null?void 0:n.style,...s==null?void 0:s.style,...r==null?void 0:r.style},g={...n,...s,...r};return m.length>0&&(g.className=m),Object.keys(v).length>0&&(g.style=v),{props:g,internalRef:void 0}}const a=d3({...s,...r}),l=zm(r),c=zm(s),d=t(a),u=re(d==null?void 0:d.className,n==null?void 0:n.className,i,s==null?void 0:s.className,r==null?void 0:r.className),p={...d==null?void 0:d.style,...n==null?void 0:n.style,...s==null?void 0:s.style,...r==null?void 0:r.style},f={...d,...n,...c,...l};return u.length>0&&(f.className=u),Object.keys(p).length>0&&(f.style=p),{props:f,internalRef:d.ref}}function Wr(e){var p;const{elementType:t,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:s=!1,...i}=e,a=s?{}:u3(n,r),{props:l,internalRef:c}=h3({...i,externalSlotProps:a}),d=p3(c,a==null?void 0:a.ref,(p=e.additionalProps)==null?void 0:p.ref);return c3(t,{...l,ref:d},r)}const ml=(e,t,n)=>{let r=t;return r=e.setHours(r,e.getHours(n)),r=e.setMinutes(r,e.getMinutes(n)),r=e.setSeconds(r,e.getSeconds(n)),r},yi=({date:e,disableFuture:t,disablePast:n,maxDate:r,minDate:s,isDateDisabled:i,utils:a,timezone:l})=>{const c=ml(a,a.dateWithTimezone(void 0,l),e);n&&a.isBefore(s,c)&&(s=c),t&&a.isAfter(r,c)&&(r=c);let d=e,u=e;for(a.isBefore(e,s)&&(d=s,u=null),a.isAfter(e,r)&&(u&&(u=r),d=null);d||u;){if(d&&a.isAfter(d,r)&&(d=null),u&&a.isBefore(u,s)&&(u=null),d){if(!i(d))return d;d=a.addDays(d,1)}if(u){if(!i(u))return u;u=a.addDays(u,-1)}}return null},f3=(e,t)=>t==null||!e.isValid(t)?null:t,Kr=(e,t,n)=>t==null||!e.isValid(t)?n:t,m3=(e,t,n)=>!e.isValid(t)&&t!=null&&!e.isValid(n)&&n!=null?!0:e.isEqual(t,n),g3=(e,t)=>{const r=[e.startOfYear(t)];for(;r.length<12;){const s=r[r.length-1];r.push(e.addMonths(s,1))}return r},Hx=(e,t,n)=>n==="date"?e.startOfDay(e.dateWithTimezone(void 0,t)):e.dateWithTimezone(void 0,t),v3=(e,t)=>{const n=e.startOfWeek(t);return[0,1,2,3,4,5,6].map(r=>e.addDays(n,r))},y3=({props:e,value:t,adapter:n})=>{if(t===null)return null;const{shouldDisableDate:r,shouldDisableMonth:s,shouldDisableYear:i,disablePast:a,disableFuture:l,timezone:c}=e,d=n.utils.dateWithTimezone(void 0,c),u=Kr(n.utils,e.minDate,n.defaultDates.minDate),p=Kr(n.utils,e.maxDate,n.defaultDates.maxDate);switch(!0){case!n.utils.isValid(t):return"invalidDate";case!!(r&&r(t)):return"shouldDisableDate";case!!(s&&s(t)):return"shouldDisableMonth";case!!(i&&i(t)):return"shouldDisableYear";case!!(l&&n.utils.isAfterDay(t,d)):return"disableFuture";case!!(a&&n.utils.isBeforeDay(t,d)):return"disablePast";case!!(u&&n.utils.isBeforeDay(t,u)):return"minDate";case!!(p&&n.utils.isAfterDay(t,p)):return"maxDate";default:return null}},x3=e=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:b({},e)}}}}),Ux={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"open previous view",openNextView:"open next view",calendarViewSwitchingButtonAriaLabel:e=>e==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",clockLabelText:(e,t,n)=>`Select ${e}. ${t===null?"No time selected":`Selected time is ${n.format(t,"fullTime")}`}`,hoursClockNumberText:e=>`${e} hours`,minutesClockNumberText:e=>`${e} minutes`,secondsClockNumberText:e=>`${e} seconds`,selectViewText:e=>`Select ${e}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:e=>`Week ${e}`,calendarWeekNumberText:e=>`${e}`,openDatePickerDialogue:(e,t)=>e!==null&&t.isValid(e)?`Choose date, selected date is ${t.format(e,"fullDate")}`:"Choose date",openTimePickerDialogue:(e,t)=>e!==null&&t.isValid(e)?`Choose time, selected time is ${t.format(e,"fullTime")}`:"Choose time",fieldClearLabel:"Clear value",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:e=>"Y".repeat(e.digitAmount),fieldMonthPlaceholder:e=>e.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:e=>e.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa"},b3=Ux;x3(Ux);const Cc=()=>{const e=h.useContext(ou);if(e===null)throw new Error(["MUI: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(e.utils===null)throw new Error(["MUI: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const t=h.useMemo(()=>b({},b3,e.localeText),[e.localeText]);return h.useMemo(()=>b({},e,{localeText:t}),[e,t])},ln=()=>Cc().utils,Ip=()=>Cc().defaultDates,Vx=()=>Cc().localeText,wc=e=>{const t=ln(),n=h.useRef();return n.current===void 0&&(n.current=t.dateWithTimezone(void 0,e)),n.current},Yx=({shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:n,minDate:r,maxDate:s,disableFuture:i,disablePast:a,timezone:l})=>{const c=Cc();return h.useCallback(d=>y3({adapter:c,value:d,props:{shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:n,minDate:r,maxDate:s,disableFuture:i,disablePast:a,timezone:l}})!==null,[c,e,t,n,r,s,i,a,l])},Bm=(e,t)=>t.getHours(e)*3600+t.getMinutes(e)*60+t.getSeconds(e),C3=(e,t)=>(n,r)=>e?t.isAfter(n,r):Bm(n,t)>Bm(r,t),hr={year:1,month:2,day:3,minutes:5,seconds:6,milliseconds:7},ti=(e,t,n)=>{if(t===hr.year)return e.startOfYear(n);if(t===hr.month)return e.startOfMonth(n);if(t===hr.day)return e.startOfDay(n);let r=n;return t<hr.minutes&&(r=e.setMinutes(r,0)),t<hr.seconds&&(r=e.setSeconds(r,0)),t<hr.milliseconds&&(r=e.setMilliseconds(r,0)),r},w3=({props:e,utils:t,granularity:n,timezone:r,getTodayDate:s})=>{var i;let a=s?s():ti(t,n,Hx(t,r));e.minDate!=null&&t.isAfterDay(e.minDate,a)&&(a=ti(t,n,e.minDate)),e.maxDate!=null&&t.isBeforeDay(e.maxDate,a)&&(a=ti(t,n,e.maxDate));const l=C3((i=e.disableIgnoringDatePartForTimeValidation)!=null?i:!1,t);return e.minTime!=null&&l(e.minTime,a)&&(a=ti(t,n,e.disableIgnoringDatePartForTimeValidation?e.minTime:ml(t,a,e.minTime))),e.maxTime!=null&&l(a,e.maxTime)&&(a=ti(t,n,e.disableIgnoringDatePartForTimeValidation?e.maxTime:ml(t,a,e.maxTime))),a},j3=["value","referenceDate"],xo={emptyValue:null,getTodayValue:Hx,getInitialReferenceValue:e=>{let{value:t,referenceDate:n}=e,r=J(e,j3);return t!=null&&r.utils.isValid(t)?t:n??w3(r)},cleanValue:f3,areValuesEqual:m3,isSameError:(e,t)=>e===t,hasError:e=>e!=null,defaultErrorState:null,getTimezone:(e,t)=>t==null||!e.isValid(t)?null:e.getTimezone(t),setTimezone:(e,t,n)=>n==null?null:e.setTimezone(n,t)},S3=(e,t,n)=>(r,s)=>{switch(s.type){case"changeMonth":return b({},r,{slideDirection:s.direction,currentMonth:s.newMonth,isMonthSwitchingAnimating:!e});case"finishMonthSwitchingAnimation":return b({},r,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(r.focusedDay!=null&&s.focusedDay!=null&&n.isSameDay(s.focusedDay,r.focusedDay))return r;const i=s.focusedDay!=null&&!t&&!n.isSameMonth(r.currentMonth,s.focusedDay);return b({},r,{focusedDay:s.focusedDay,isMonthSwitchingAnimating:i&&!e&&!s.withoutMonthSwitchingAnimation,currentMonth:i?n.startOfMonth(s.focusedDay):r.currentMonth,slideDirection:s.focusedDay!=null&&n.isAfterDay(s.focusedDay,r.currentMonth)?"left":"right"})}default:throw new Error("missing support")}},k3=e=>{const{value:t,referenceDate:n,defaultCalendarMonth:r,disableFuture:s,disablePast:i,disableSwitchToMonthOnDayFocus:a=!1,maxDate:l,minDate:c,onMonthChange:d,reduceAnimations:u,shouldDisableDate:p,timezone:f}=e,m=ln(),v=h.useRef(S3(!!u,a,m)).current,g=h.useMemo(()=>{let T=null;return n?T=n:r&&(T=m.startOfMonth(r)),xo.getInitialReferenceValue({value:t,utils:m,timezone:f,props:e,referenceDate:T,granularity:hr.day})},[]),[y,x]=h.useReducer(v,{isMonthSwitchingAnimating:!1,focusedDay:g,currentMonth:m.startOfMonth(g),slideDirection:"left"}),w=h.useCallback(T=>{x(b({type:"changeMonth"},T)),d&&d(T.newMonth)},[d]),C=h.useCallback(T=>{const _=T;m.isSameMonth(_,y.currentMonth)||w({newMonth:m.startOfMonth(_),direction:m.isAfterDay(_,y.currentMonth)?"left":"right"})},[y.currentMonth,w,m]),S=Yx({shouldDisableDate:p,minDate:c,maxDate:l,disableFuture:s,disablePast:i,timezone:f}),P=h.useCallback(()=>{x({type:"finishMonthSwitchingAnimation"})},[]),k=Re((T,_)=>{S(T)||x({type:"changeFocusedDay",focusedDay:T,withoutMonthSwitchingAnimation:_})});return{referenceDate:g,calendarState:y,changeMonth:C,changeFocusedDay:k,isDateDisabled:S,onMonthSwitchingAnimationEnd:P,handleChangeMonth:w}},_3=e=>he("MuiPickersFadeTransitionGroup",e);fe("MuiPickersFadeTransitionGroup",["root"]);const T3=e=>{const{classes:t}=e;return ge({root:["root"]},_3,t)},E3=Y(Ki,{name:"MuiPickersFadeTransitionGroup",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"block",position:"relative"});function Gx(e){const t=Ln({props:e,name:"MuiPickersFadeTransitionGroup"}),{children:n,className:r,reduceAnimations:s,transKey:i}=t,a=T3(t),l=Vn();return s?n:o.jsx(E3,{className:re(a.root,r),children:o.jsx(Zi,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:l.transitions.duration.enteringScreen,enter:l.transitions.duration.enteringScreen,exit:0},children:n},i)})}const Ni=36,jc=2,Np=320,P3=280,qx=334;function M3(e){return he("MuiPickersDay",e)}const ts=fe("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),I3=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today","isFirstVisibleCell","isLastVisibleCell"],N3=e=>{const{selected:t,disableMargin:n,disableHighlightToday:r,today:s,disabled:i,outsideCurrentMonth:a,showDaysOutsideCurrentMonth:l,classes:c}=e,d=a&&!l;return ge({root:["root",t&&!d&&"selected",i&&"disabled",!n&&"dayWithMargin",!r&&s&&"today",a&&l&&"dayOutsideMonth",d&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},M3,c)},Kx=({theme:e,ownerState:t})=>b({},e.typography.caption,{width:Ni,height:Ni,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:e.transitions.create("background-color",{duration:e.transitions.duration.short}),color:(e.vars||e).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ro(e.palette.primary.main,e.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:ro(e.palette.primary.main,e.palette.action.focusOpacity),[`&.${ts.selected}`]:{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${ts.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,fontWeight:e.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${ts.disabled}:not(.${ts.selected})`]:{color:(e.vars||e).palette.text.disabled},[`&.${ts.disabled}&.${ts.selected}`]:{opacity:.6}},!t.disableMargin&&{margin:`0 ${jc}px`},t.outsideCurrentMonth&&t.showDaysOutsideCurrentMonth&&{color:(e.vars||e).palette.text.secondary},!t.disableHighlightToday&&t.today&&{[`&:not(.${ts.selected})`]:{border:`1px solid ${(e.vars||e).palette.text.secondary}`}}),Qx=(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableMargin&&t.dayWithMargin,!n.disableHighlightToday&&n.today&&t.today,!n.outsideCurrentMonth&&n.showDaysOutsideCurrentMonth&&t.dayOutsideMonth,n.outsideCurrentMonth&&!n.showDaysOutsideCurrentMonth&&t.hiddenDaySpacingFiller]},D3=Y(Gr,{name:"MuiPickersDay",slot:"Root",overridesResolver:Qx})(Kx),R3=Y("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:Qx})(({theme:e,ownerState:t})=>b({},Kx({theme:e,ownerState:t}),{opacity:0,pointerEvents:"none"})),ni=()=>{},A3=h.forwardRef(function(t,n){const r=Ln({props:t,name:"MuiPickersDay"}),{autoFocus:s=!1,className:i,day:a,disabled:l=!1,disableHighlightToday:c=!1,disableMargin:d=!1,isAnimating:u,onClick:p,onDaySelect:f,onFocus:m=ni,onBlur:v=ni,onKeyDown:g=ni,onMouseDown:y=ni,onMouseEnter:x=ni,outsideCurrentMonth:w,selected:C=!1,showDaysOutsideCurrentMonth:S=!1,children:P,today:k=!1}=r,T=J(r,I3),_=b({},r,{autoFocus:s,disabled:l,disableHighlightToday:c,disableMargin:d,selected:C,showDaysOutsideCurrentMonth:S,today:k}),j=N3(_),E=ln(),A=h.useRef(null),L=vt(A,n);sn(()=>{s&&!l&&!u&&!w&&A.current.focus()},[s,l,u,w]);const R=D=>{y(D),w&&D.preventDefault()},M=D=>{l||f(a),w&&D.currentTarget.focus(),p&&p(D)};return w&&!S?o.jsx(R3,{className:re(j.root,j.hiddenDaySpacingFiller,i),ownerState:_,role:T.role}):o.jsx(D3,b({className:re(j.root,i),ref:L,centerRipple:!0,disabled:l,tabIndex:C?0:-1,onKeyDown:D=>g(D,a),onFocus:D=>m(D,a),onBlur:D=>v(D,a),onMouseEnter:D=>x(D,a),onClick:M,onMouseDown:R},T,{ownerState:_,children:P||E.format(a,"dayOfMonth")}))}),$3=h.memo(A3),O3=e=>he("MuiPickersSlideTransition",e),_n=fe("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),L3=["children","className","reduceAnimations","slideDirection","transKey","classes"],F3=e=>{const{classes:t,slideDirection:n}=e,r={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${n}`],exitActive:[`slideExitActiveLeft-${n}`]};return ge(r,O3,t)},z3=Y(Ki,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`.${_n["slideEnter-left"]}`]:t["slideEnter-left"]},{[`.${_n["slideEnter-right"]}`]:t["slideEnter-right"]},{[`.${_n.slideEnterActive}`]:t.slideEnterActive},{[`.${_n.slideExit}`]:t.slideExit},{[`.${_n["slideExitActiveLeft-left"]}`]:t["slideExitActiveLeft-left"]},{[`.${_n["slideExitActiveLeft-right"]}`]:t["slideExitActiveLeft-right"]}]})(({theme:e})=>{const t=e.transitions.create("transform",{duration:e.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${_n["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${_n["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${_n.slideEnterActive}`]:{transform:"translate(0%)",transition:t},[`& .${_n.slideExit}`]:{transform:"translate(0%)"},[`& .${_n["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:t,zIndex:0},[`& .${_n["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:t,zIndex:0}}});function B3(e){const t=Ln({props:e,name:"MuiPickersSlideTransition"}),{children:n,className:r,reduceAnimations:s,transKey:i}=t,a=J(t,L3),l=F3(t),c=Vn();if(s)return o.jsx("div",{className:re(l.root,r),children:n});const d={exit:l.exit,enterActive:l.enterActive,enter:l.enter,exitActive:l.exitActive};return o.jsx(z3,{className:re(l.root,r),childFactory:u=>h.cloneElement(u,{classNames:d}),role:"presentation",children:o.jsx(np,b({mountOnEnter:!0,unmountOnExit:!0,timeout:c.transitions.duration.complex,classNames:d},a,{children:n}),i)})}const W3=e=>he("MuiDayCalendar",e);fe("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const H3=["parentProps","day","focusableDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],U3=["ownerState"],V3=e=>{const{classes:t}=e;return ge({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},W3,t)},Xx=(Ni+jc*2)*6,Y3=Y("div",{name:"MuiDayCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({}),G3=Y("div",{name:"MuiDayCalendar",slot:"Header",overridesResolver:(e,t)=>t.header})({display:"flex",justifyContent:"center",alignItems:"center"}),q3=Y(B,{name:"MuiDayCalendar",slot:"WeekDayLabel",overridesResolver:(e,t)=>t.weekDayLabel})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.secondary})),K3=Y(B,{name:"MuiDayCalendar",slot:"WeekNumberLabel",overridesResolver:(e,t)=>t.weekNumberLabel})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:e.palette.text.disabled})),Q3=Y(B,{name:"MuiDayCalendar",slot:"WeekNumber",overridesResolver:(e,t)=>t.weekNumber})(({theme:e})=>b({},e.typography.caption,{width:Ni,height:Ni,padding:0,margin:`0 ${jc}px`,color:e.palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),X3=Y("div",{name:"MuiDayCalendar",slot:"LoadingContainer",overridesResolver:(e,t)=>t.loadingContainer})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:Xx}),Z3=Y(B3,{name:"MuiDayCalendar",slot:"SlideTransition",overridesResolver:(e,t)=>t.slideTransition})({minHeight:Xx}),J3=Y("div",{name:"MuiDayCalendar",slot:"MonthContainer",overridesResolver:(e,t)=>t.monthContainer})({overflow:"hidden"}),e5=Y("div",{name:"MuiDayCalendar",slot:"WeekContainer",overridesResolver:(e,t)=>t.weekContainer})({margin:`${jc}px 0`,display:"flex",justifyContent:"center"});function t5(e){var t,n,r;let{parentProps:s,day:i,focusableDay:a,selectedDays:l,isDateDisabled:c,currentMonthNumber:d,isViewFocused:u}=e,p=J(e,H3);const{disabled:f,disableHighlightToday:m,isMonthSwitchingAnimating:v,showDaysOutsideCurrentMonth:g,components:y,componentsProps:x,slots:w,slotProps:C,timezone:S}=s,P=ln(),k=wc(S),T=a!==null&&P.isSameDay(i,a),_=l.some(O=>P.isSameDay(O,i)),j=P.isSameDay(i,k),E=(t=(n=w==null?void 0:w.day)!=null?n:y==null?void 0:y.Day)!=null?t:$3,A=Wr({elementType:E,externalSlotProps:(r=C==null?void 0:C.day)!=null?r:x==null?void 0:x.day,additionalProps:b({disableHighlightToday:m,showDaysOutsideCurrentMonth:g,role:"gridcell",isAnimating:v,"data-timestamp":P.toJsDate(i).valueOf()},p),ownerState:b({},s,{day:i,selected:_})}),L=J(A,U3),R=h.useMemo(()=>f||c(i),[f,c,i]),M=h.useMemo(()=>P.getMonth(i)!==d,[P,i,d]),D=h.useMemo(()=>{const O=P.startOfMonth(P.setMonth(i,d));return g?P.isSameDay(i,P.startOfWeek(O)):P.isSameDay(i,O)},[d,i,g,P]),I=h.useMemo(()=>{const O=P.endOfMonth(P.setMonth(i,d));return g?P.isSameDay(i,P.endOfWeek(O)):P.isSameDay(i,O)},[d,i,g,P]);return o.jsx(E,b({},L,{day:i,disabled:R,autoFocus:u&&T,today:j,outsideCurrentMonth:M,isFirstVisibleCell:D,isLastVisibleCell:I,selected:_,tabIndex:T?0:-1,"aria-selected":_,"aria-current":j?"date":void 0}))}function n5(e){const t=Ln({props:e,name:"MuiDayCalendar"}),{onFocusedDayChange:n,className:r,currentMonth:s,selectedDays:i,focusedDay:a,loading:l,onSelectedDaysChange:c,onMonthSwitchingAnimationEnd:d,readOnly:u,reduceAnimations:p,renderLoading:f=()=>o.jsx("span",{children:"..."}),slideDirection:m,TransitionProps:v,disablePast:g,disableFuture:y,minDate:x,maxDate:w,shouldDisableDate:C,shouldDisableMonth:S,shouldDisableYear:P,dayOfWeekFormatter:k,hasFocus:T,onFocusedViewChange:_,gridLabelId:j,displayWeekNumber:E,fixedWeekNumber:A,autoFocus:L,timezone:R}=t,M=wc(R),D=ln(),I=V3(t),z=Vn().direction==="rtl",$=k||((ie,ce)=>D.format(ce,"weekdayShort").charAt(0).toUpperCase()),N=Yx({shouldDisableDate:C,shouldDisableMonth:S,shouldDisableYear:P,minDate:x,maxDate:w,disablePast:g,disableFuture:y,timezone:R}),W=Vx(),[V,G]=ar({name:"DayCalendar",state:"hasFocus",controlled:T,default:L??!1}),[Q,oe]=h.useState(()=>a||M),U=Re(ie=>{u||c(ie)}),le=ie=>{N(ie)||(n(ie),oe(ie),_==null||_(!0),G(!0))},ee=Re((ie,ce)=>{switch(ie.key){case"ArrowUp":le(D.addDays(ce,-7)),ie.preventDefault();break;case"ArrowDown":le(D.addDays(ce,7)),ie.preventDefault();break;case"ArrowLeft":{const xe=D.addDays(ce,z?1:-1),ve=D.addMonths(ce,z?1:-1),De=yi({utils:D,date:xe,minDate:z?xe:D.startOfMonth(ve),maxDate:z?D.endOfMonth(ve):xe,isDateDisabled:N,timezone:R});le(De||xe),ie.preventDefault();break}case"ArrowRight":{const xe=D.addDays(ce,z?-1:1),ve=D.addMonths(ce,z?-1:1),De=yi({utils:D,date:xe,minDate:z?D.startOfMonth(ve):xe,maxDate:z?xe:D.endOfMonth(ve),isDateDisabled:N,timezone:R});le(De||xe),ie.preventDefault();break}case"Home":le(D.startOfWeek(ce)),ie.preventDefault();break;case"End":le(D.endOfWeek(ce)),ie.preventDefault();break;case"PageUp":le(D.addMonths(ce,1)),ie.preventDefault();break;case"PageDown":le(D.addMonths(ce,-1)),ie.preventDefault();break}}),Z=Re((ie,ce)=>le(ce)),ae=Re((ie,ce)=>{V&&D.isSameDay(Q,ce)&&(_==null||_(!1))}),K=D.getMonth(s),H=h.useMemo(()=>i.filter(ie=>!!ie).map(ie=>D.startOfDay(ie)),[D,i]),F=K,q=h.useMemo(()=>h.createRef(),[F]),ne=D.startOfWeek(M),pe=h.useMemo(()=>{const ie=D.startOfMonth(s),ce=D.endOfMonth(s);return N(Q)||D.isAfterDay(Q,ce)||D.isBeforeDay(Q,ie)?yi({utils:D,date:Q,minDate:ie,maxDate:ce,disablePast:g,disableFuture:y,isDateDisabled:N,timezone:R}):Q},[s,y,g,Q,N,D,R]),Ee=h.useMemo(()=>{const ie=D.setTimezone(s,R),ce=D.getWeekArray(ie);let xe=D.addMonths(ie,1);for(;A&&ce.length<A;){const ve=D.getWeekArray(xe),De=D.isSameDay(ce[ce.length-1][0],ve[0][0]);ve.slice(De?1:0).forEach(Me=>{ce.length<A&&ce.push(Me)}),xe=D.addMonths(xe,1)}return ce},[s,A,D,R]);return o.jsxs(Y3,{role:"grid","aria-labelledby":j,className:I.root,children:[o.jsxs(G3,{role:"row",className:I.header,children:[E&&o.jsx(K3,{variant:"caption",role:"columnheader","aria-label":W.calendarWeekNumberHeaderLabel,className:I.weekNumberLabel,children:W.calendarWeekNumberHeaderText}),v3(D,M).map((ie,ce)=>{var xe;const ve=D.format(ie,"weekdayShort");return o.jsx(q3,{variant:"caption",role:"columnheader","aria-label":D.format(D.addDays(ne,ce),"weekday"),className:I.weekDayLabel,children:(xe=$==null?void 0:$(ve,ie))!=null?xe:ve},ve+ce.toString())})]}),l?o.jsx(X3,{className:I.loadingContainer,children:f()}):o.jsx(Z3,b({transKey:F,onExited:d,reduceAnimations:p,slideDirection:m,className:re(r,I.slideTransition)},v,{nodeRef:q,children:o.jsx(J3,{ref:q,role:"rowgroup",className:I.monthContainer,children:Ee.map((ie,ce)=>o.jsxs(e5,{role:"row",className:I.weekContainer,"aria-rowindex":ce+1,children:[E&&o.jsx(Q3,{className:I.weekNumber,role:"rowheader","aria-label":W.calendarWeekNumberAriaLabelText(D.getWeekNumber(ie[0])),children:W.calendarWeekNumberText(D.getWeekNumber(ie[0]))}),ie.map((xe,ve)=>o.jsx(t5,{parentProps:t,day:xe,selectedDays:H,focusableDay:pe,onKeyDown:ee,onFocus:Z,onBlur:ae,onDaySelect:U,isDateDisabled:N,currentMonthNumber:K,isViewFocused:V,"aria-colindex":ve+1},xe.toString()))]},`week-${ie[0]}`))})}))]})}function r5(e){return he("MuiPickersMonth",e)}const wa=fe("MuiPickersMonth",["root","monthButton","disabled","selected"]),s5=["autoFocus","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","aria-label","monthsPerRow"],o5=e=>{const{disabled:t,selected:n,classes:r}=e;return ge({root:["root"],monthButton:["monthButton",t&&"disabled",n&&"selected"]},r5,r)},i5=Y("div",{name:"MuiPickersMonth",slot:"Root",overridesResolver:(e,t)=>[t.root]})(({ownerState:e})=>({flexBasis:e.monthsPerRow===3?"33.3%":"25%",display:"flex",alignItems:"center",justifyContent:"center"})),a5=Y("button",{name:"MuiPickersMonth",slot:"MonthButton",overridesResolver:(e,t)=>[t.monthButton,{[`&.${wa.disabled}`]:t.disabled},{[`&.${wa.selected}`]:t.selected}]})(({theme:e})=>b({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:ro(e.palette.action.active,e.palette.action.hoverOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:ro(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${wa.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${wa.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),l5=h.memo(function(t){const n=Ln({props:t,name:"MuiPickersMonth"}),{autoFocus:r,children:s,disabled:i,selected:a,value:l,tabIndex:c,onClick:d,onKeyDown:u,onFocus:p,onBlur:f,"aria-current":m,"aria-label":v}=n,g=J(n,s5),y=h.useRef(null),x=o5(n);return sn(()=>{if(r){var w;(w=y.current)==null||w.focus()}},[r]),o.jsx(i5,b({className:x.root,ownerState:n},g,{children:o.jsx(a5,{ref:y,disabled:i,type:"button",role:"radio",tabIndex:i?-1:c,"aria-current":m,"aria-checked":a,"aria-label":v,onClick:w=>d(w,l),onKeyDown:w=>u(w,l),onFocus:w=>p(w,l),onBlur:w=>f(w,l),className:x.monthButton,ownerState:n,children:s})}))});function c5(e){return he("MuiMonthCalendar",e)}fe("MuiMonthCalendar",["root"]);const d5=({timezone:e,value:t,defaultValue:n,onChange:r,valueManager:s})=>{var i,a;const l=ln(),c=h.useRef(n),d=(i=t??c.current)!=null?i:s.emptyValue,u=h.useMemo(()=>s.getTimezone(l,d),[l,s,d]),p=Re(g=>u==null?g:s.setTimezone(l,u,g)),f=(a=e??u)!=null?a:"default",m=h.useMemo(()=>s.setTimezone(l,f,d),[s,l,f,d]),v=Re((g,...y)=>{const x=p(g);r==null||r(x,...y)});return{value:m,handleValueChange:v,timezone:f}},Dp=({name:e,timezone:t,value:n,defaultValue:r,onChange:s,valueManager:i})=>{const[a,l]=ar({name:e,state:"value",controlled:n,default:r??i.emptyValue}),c=Re((d,...u)=>{l(d),s==null||s(d,...u)});return d5({timezone:t,value:a,defaultValue:void 0,onChange:c,valueManager:i})},u5=["className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","autoFocus","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId"],p5=e=>{const{classes:t}=e;return ge({root:["root"]},c5,t)};function h5(e,t){const n=ln(),r=Ip(),s=Ln({props:e,name:t});return b({disableFuture:!1,disablePast:!1},s,{minDate:Kr(n,s.minDate,r.minDate),maxDate:Kr(n,s.maxDate,r.maxDate)})}const f5=Y("div",{name:"MuiMonthCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexWrap:"wrap",alignContent:"stretch",padding:"0 4px",width:Np,boxSizing:"border-box"}),m5=h.forwardRef(function(t,n){const r=h5(t,"MuiMonthCalendar"),{className:s,value:i,defaultValue:a,referenceDate:l,disabled:c,disableFuture:d,disablePast:u,maxDate:p,minDate:f,onChange:m,shouldDisableMonth:v,readOnly:g,disableHighlightToday:y,autoFocus:x=!1,onMonthFocus:w,hasFocus:C,onFocusedViewChange:S,monthsPerRow:P=3,timezone:k,gridLabelId:T}=r,_=J(r,u5),{value:j,handleValueChange:E,timezone:A}=Dp({name:"MonthCalendar",timezone:k,value:i,defaultValue:a,onChange:m,valueManager:xo}),L=wc(A),R=ko(),M=ln(),D=h.useMemo(()=>xo.getInitialReferenceValue({value:j,utils:M,props:r,timezone:A,referenceDate:l,granularity:hr.month}),[]),I=r,O=p5(I),z=h.useMemo(()=>M.getMonth(L),[M,L]),$=h.useMemo(()=>j!=null?M.getMonth(j):y?null:M.getMonth(D),[j,M,y,D]),[N,W]=h.useState(()=>$||z),[V,G]=ar({name:"MonthCalendar",state:"hasFocus",controlled:C,default:x??!1}),Q=Re(K=>{G(K),S&&S(K)}),oe=h.useCallback(K=>{const H=M.startOfMonth(u&&M.isAfter(L,f)?L:f),F=M.startOfMonth(d&&M.isBefore(L,p)?L:p),q=M.startOfMonth(K);return M.isBefore(q,H)||M.isAfter(q,F)?!0:v?v(q):!1},[d,u,p,f,L,v,M]),U=Re((K,H)=>{if(g)return;const F=M.setMonth(j??D,H);E(F)}),le=Re(K=>{oe(M.setMonth(j??D,K))||(W(K),Q(!0),w&&w(K))});h.useEffect(()=>{W(K=>$!==null&&K!==$?$:K)},[$]);const ee=Re((K,H)=>{switch(K.key){case"ArrowUp":le((12+H-3)%12),K.preventDefault();break;case"ArrowDown":le((12+H+3)%12),K.preventDefault();break;case"ArrowLeft":le((12+H+(R.direction==="ltr"?-1:1))%12),K.preventDefault();break;case"ArrowRight":le((12+H+(R.direction==="ltr"?1:-1))%12),K.preventDefault();break}}),Z=Re((K,H)=>{le(H)}),ae=Re((K,H)=>{N===H&&Q(!1)});return o.jsx(f5,b({ref:n,className:re(O.root,s),ownerState:I,role:"radiogroup","aria-labelledby":T},_,{children:g3(M,j??D).map(K=>{const H=M.getMonth(K),F=M.format(K,"monthShort"),q=M.format(K,"month"),ne=H===$,pe=c||oe(K);return o.jsx(l5,{selected:ne,value:H,onClick:U,onKeyDown:ee,autoFocus:V&&H===N,disabled:pe,tabIndex:H===N?0:-1,onFocus:Z,onBlur:ae,"aria-current":z===H?"date":void 0,"aria-label":q,monthsPerRow:P,children:F},F)})}))});function g5(e){return he("MuiPickersYear",e)}const ja=fe("MuiPickersYear",["root","yearButton","selected","disabled"]),v5=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","yearsPerRow"],y5=e=>{const{disabled:t,selected:n,classes:r}=e;return ge({root:["root"],yearButton:["yearButton",t&&"disabled",n&&"selected"]},g5,r)},x5=Y("div",{name:"MuiPickersYear",slot:"Root",overridesResolver:(e,t)=>[t.root]})(({ownerState:e})=>({flexBasis:e.yearsPerRow===3?"33.3%":"25%",display:"flex",alignItems:"center",justifyContent:"center"})),b5=Y("button",{name:"MuiPickersYear",slot:"YearButton",overridesResolver:(e,t)=>[t.yearButton,{[`&.${ja.disabled}`]:t.disabled},{[`&.${ja.selected}`]:t.selected}]})(({theme:e})=>b({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{margin:"6px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.focusOpacity})`:ro(e.palette.action.active,e.palette.action.focusOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:ro(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${ja.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${ja.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),C5=h.memo(function(t){const n=Ln({props:t,name:"MuiPickersYear"}),{autoFocus:r,className:s,children:i,disabled:a,selected:l,value:c,tabIndex:d,onClick:u,onKeyDown:p,onFocus:f,onBlur:m,"aria-current":v}=n,g=J(n,v5),y=h.useRef(null),x=y5(n);return h.useEffect(()=>{r&&y.current.focus()},[r]),o.jsx(x5,b({className:re(x.root,s),ownerState:n},g,{children:o.jsx(b5,{ref:y,disabled:a,type:"button",role:"radio",tabIndex:a?-1:d,"aria-current":v,"aria-checked":l,onClick:w=>u(w,c),onKeyDown:w=>p(w,c),onFocus:w=>f(w,c),onBlur:w=>m(w,c),className:x.yearButton,ownerState:n,children:i})}))});function w5(e){return he("MuiYearCalendar",e)}fe("MuiYearCalendar",["root"]);const j5=["autoFocus","className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsPerRow","timezone","gridLabelId"],S5=e=>{const{classes:t}=e;return ge({root:["root"]},w5,t)};function k5(e,t){var n;const r=ln(),s=Ip(),i=Ln({props:e,name:t});return b({disablePast:!1,disableFuture:!1},i,{yearsPerRow:(n=i.yearsPerRow)!=null?n:3,minDate:Kr(r,i.minDate,s.minDate),maxDate:Kr(r,i.maxDate,s.maxDate)})}const _5=Y("div",{name:"MuiYearCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",padding:"0 4px",width:Np,maxHeight:P3,boxSizing:"border-box",position:"relative"}),T5=h.forwardRef(function(t,n){const r=k5(t,"MuiYearCalendar"),{autoFocus:s,className:i,value:a,defaultValue:l,referenceDate:c,disabled:d,disableFuture:u,disablePast:p,maxDate:f,minDate:m,onChange:v,readOnly:g,shouldDisableYear:y,disableHighlightToday:x,onYearFocus:w,hasFocus:C,onFocusedViewChange:S,yearsPerRow:P,timezone:k,gridLabelId:T}=r,_=J(r,j5),{value:j,handleValueChange:E,timezone:A}=Dp({name:"YearCalendar",timezone:k,value:a,defaultValue:l,onChange:v,valueManager:xo}),L=wc(A),R=ko(),M=ln(),D=h.useMemo(()=>xo.getInitialReferenceValue({value:j,utils:M,props:r,timezone:A,referenceDate:c,granularity:hr.year}),[]),I=r,O=S5(I),z=h.useMemo(()=>M.getYear(L),[M,L]),$=h.useMemo(()=>j!=null?M.getYear(j):x?null:M.getYear(D),[j,M,x,D]),[N,W]=h.useState(()=>$||z),[V,G]=ar({name:"YearCalendar",state:"hasFocus",controlled:C,default:s??!1}),Q=Re(F=>{G(F),S&&S(F)}),oe=h.useCallback(F=>{if(p&&M.isBeforeYear(F,L)||u&&M.isAfterYear(F,L)||m&&M.isBeforeYear(F,m)||f&&M.isAfterYear(F,f))return!0;if(!y)return!1;const q=M.startOfYear(F);return y(q)},[u,p,f,m,L,y,M]),U=Re((F,q)=>{if(g)return;const ne=M.setYear(j??D,q);E(ne)}),le=Re(F=>{oe(M.setYear(j??D,F))||(W(F),Q(!0),w==null||w(F))});h.useEffect(()=>{W(F=>$!==null&&F!==$?$:F)},[$]);const ee=Re((F,q)=>{switch(F.key){case"ArrowUp":le(q-P),F.preventDefault();break;case"ArrowDown":le(q+P),F.preventDefault();break;case"ArrowLeft":le(q+(R.direction==="ltr"?-1:1)),F.preventDefault();break;case"ArrowRight":le(q+(R.direction==="ltr"?1:-1)),F.preventDefault();break}}),Z=Re((F,q)=>{le(q)}),ae=Re((F,q)=>{N===q&&Q(!1)}),K=h.useRef(null),H=vt(n,K);return h.useEffect(()=>{if(s||K.current===null)return;const F=K.current.querySelector('[tabindex="0"]');if(!F)return;const q=F.offsetHeight,ne=F.offsetTop,pe=K.current.clientHeight,Ee=K.current.scrollTop,ie=ne+q;q>pe||ne<Ee||(K.current.scrollTop=ie-pe/2-q/2)},[s]),o.jsx(_5,b({ref:H,className:re(O.root,i),ownerState:I,role:"radiogroup","aria-labelledby":T},_,{children:M.getYearRange(m,f).map(F=>{const q=M.getYear(F),ne=q===$,pe=d||oe(F);return o.jsx(C5,{selected:ne,value:q,onClick:U,onKeyDown:ee,autoFocus:V&&q===N,disabled:pe,tabIndex:q===N?0:-1,onFocus:Z,onBlur:ae,"aria-current":z===q?"date":void 0,yearsPerRow:P,children:M.format(F,"year")},M.format(F,"year"))})}))});function E5({onChange:e,onViewChange:t,openTo:n,view:r,views:s,autoFocus:i,focusedView:a,onFocusedViewChange:l}){var c,d;const u=h.useRef(n),p=h.useRef(s),f=h.useRef(s.includes(n)?n:s[0]),[m,v]=ar({name:"useViews",state:"view",controlled:r,default:f.current}),g=h.useRef(i?m:null),[y,x]=ar({name:"useViews",state:"focusedView",controlled:a,default:g.current});h.useEffect(()=>{(u.current&&u.current!==n||p.current&&p.current.some(j=>!s.includes(j)))&&(v(s.includes(n)?n:s[0]),p.current=s,u.current=n)},[n,v,m,s]);const w=s.indexOf(m),C=(c=s[w-1])!=null?c:null,S=(d=s[w+1])!=null?d:null,P=Re((j,E)=>{x(E?j:A=>j===A?null:A),l==null||l(j,E)}),k=Re(j=>{P(j,!0),j!==m&&(v(j),t&&t(j))}),T=Re(()=>{S&&k(S)}),_=Re((j,E,A)=>{const L=E==="finish",R=A?s.indexOf(A)<s.length-1:!!S;if(e(j,L&&R?"partial":E,A),A&&A!==m){const D=s[s.indexOf(A)+1];D&&k(D)}else L&&T()});return{view:m,setView:k,focusedView:y,setFocusedView:P,nextView:S,previousView:C,defaultView:s.includes(n)?n:s[0],goToNextView:T,setValueAndGoToNextView:_}}const P5=e=>he("MuiPickersCalendarHeader",e),M5=fe("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),I5=ue(o.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),N5=ue(o.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),D5=ue(o.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight");ue(o.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar");ue(o.jsxs(h.Fragment,{children:[o.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),o.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock");ue(o.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange");ue(o.jsxs(h.Fragment,{children:[o.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),o.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time");ue(o.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");function R5(e){return he("MuiPickersArrowSwitcher",e)}fe("MuiPickersArrowSwitcher",["root","spacer","button"]);const A5=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel"],$5=["ownerState"],O5=["ownerState"],L5=Y("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex"}),F5=Y("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(e,t)=>t.spacer})(({theme:e})=>({width:e.spacing(3)})),Wm=Y(dn,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(e,t)=>t.button})(({ownerState:e})=>b({},e.hidden&&{visibility:"hidden"})),z5=e=>{const{classes:t}=e;return ge({root:["root"],spacer:["spacer"],button:["button"]},R5,t)},B5=h.forwardRef(function(t,n){var r,s,i,a;const c=Vn().direction==="rtl",d=Ln({props:t,name:"MuiPickersArrowSwitcher"}),{children:u,className:p,slots:f,slotProps:m,isNextDisabled:v,isNextHidden:g,onGoToNext:y,nextLabel:x,isPreviousDisabled:w,isPreviousHidden:C,onGoToPrevious:S,previousLabel:P}=d,k=J(d,A5),T=d,_=z5(T),j={isDisabled:v,isHidden:g,goTo:y,label:x},E={isDisabled:w,isHidden:C,goTo:S,label:P},A=(r=f==null?void 0:f.previousIconButton)!=null?r:Wm,L=Wr({elementType:A,externalSlotProps:m==null?void 0:m.previousIconButton,additionalProps:{size:"medium",title:E.label,"aria-label":E.label,disabled:E.isDisabled,edge:"end",onClick:E.goTo},ownerState:b({},T,{hidden:E.isHidden}),className:_.button}),R=(s=f==null?void 0:f.nextIconButton)!=null?s:Wm,M=Wr({elementType:R,externalSlotProps:m==null?void 0:m.nextIconButton,additionalProps:{size:"medium",title:j.label,"aria-label":j.label,disabled:j.isDisabled,edge:"start",onClick:j.goTo},ownerState:b({},T,{hidden:j.isHidden}),className:_.button}),D=(i=f==null?void 0:f.leftArrowIcon)!=null?i:N5,I=Wr({elementType:D,externalSlotProps:m==null?void 0:m.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),O=J(I,$5),z=(a=f==null?void 0:f.rightArrowIcon)!=null?a:D5,$=Wr({elementType:z,externalSlotProps:m==null?void 0:m.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),N=J($,O5);return o.jsxs(L5,b({ref:n,className:re(_.root,p),ownerState:T},k,{children:[o.jsx(A,b({},L,{children:c?o.jsx(z,b({},N)):o.jsx(D,b({},O))})),u?o.jsx(B,{variant:"subtitle1",component:"span",children:u}):o.jsx(F5,{className:_.spacer,ownerState:T}),o.jsx(R,b({},M,{children:c?o.jsx(D,b({},O)):o.jsx(z,b({},N))}))]}))});function W5(e,{disableFuture:t,maxDate:n,timezone:r}){const s=ln();return h.useMemo(()=>{const i=s.dateWithTimezone(void 0,r),a=s.startOfMonth(t&&s.isBefore(i,n)?i:n);return!s.isAfter(a,e)},[t,n,e,s,r])}function H5(e,{disablePast:t,minDate:n,timezone:r}){const s=ln();return h.useMemo(()=>{const i=s.dateWithTimezone(void 0,r),a=s.startOfMonth(t&&s.isAfter(i,n)?i:n);return!s.isBefore(a,e)},[t,n,e,s,r])}const U5=["slots","slotProps","components","componentsProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","timezone"],V5=["ownerState"],Y5=e=>{const{classes:t}=e;return ge({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},P5,t)},G5=Y("div",{name:"MuiPickersCalendarHeader",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",alignItems:"center",marginTop:16,marginBottom:8,paddingLeft:24,paddingRight:12,maxHeight:30,minHeight:30}),q5=Y("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer",overridesResolver:(e,t)=>t.labelContainer})(({theme:e})=>b({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},e.typography.body1,{fontWeight:e.typography.fontWeightMedium})),K5=Y("div",{name:"MuiPickersCalendarHeader",slot:"Label",overridesResolver:(e,t)=>t.label})({marginRight:6}),Q5=Y(dn,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton",overridesResolver:(e,t)=>t.switchViewButton})(({ownerState:e})=>b({marginRight:"auto"},e.view==="year"&&{[`.${M5.switchViewIcon}`]:{transform:"rotate(180deg)"}})),X5=Y(I5,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon",overridesResolver:(e,t)=>t.switchViewIcon})(({theme:e})=>({willChange:"transform",transition:e.transitions.create("transform"),transform:"rotate(0deg)"})),Z5=h.forwardRef(function(t,n){var r,s,i,a;const l=Vx(),c=ln(),d=Ln({props:t,name:"MuiPickersCalendarHeader"}),{slots:u,slotProps:p,components:f,currentMonth:m,disabled:v,disableFuture:g,disablePast:y,maxDate:x,minDate:w,onMonthChange:C,onViewChange:S,view:P,reduceAnimations:k,views:T,labelId:_,className:j,timezone:E}=d,A=J(d,U5),L=d,R=Y5(d),M=(r=(s=u==null?void 0:u.switchViewButton)!=null?s:f==null?void 0:f.SwitchViewButton)!=null?r:Q5,D=Wr({elementType:M,externalSlotProps:p==null?void 0:p.switchViewButton,additionalProps:{size:"small","aria-label":l.calendarViewSwitchingButtonAriaLabel(P)},ownerState:L,className:R.switchViewButton}),I=(i=(a=u==null?void 0:u.switchViewIcon)!=null?a:f==null?void 0:f.SwitchViewIcon)!=null?i:X5,O=Wr({elementType:I,externalSlotProps:p==null?void 0:p.switchViewIcon,ownerState:void 0,className:R.switchViewIcon}),z=J(O,V5),$=()=>C(c.addMonths(m,1),"left"),N=()=>C(c.addMonths(m,-1),"right"),W=W5(m,{disableFuture:g,maxDate:x,timezone:E}),V=H5(m,{disablePast:y,minDate:w,timezone:E}),G=()=>{if(!(T.length===1||!S||v))if(T.length===2)S(T.find(Q=>Q!==P)||T[0]);else{const Q=T.indexOf(P)!==0?0:1;S(T[Q])}};return T.length===1&&T[0]==="year"?null:o.jsxs(G5,b({},A,{ownerState:L,className:re(j,R.root),ref:n,children:[o.jsxs(q5,{role:"presentation",onClick:G,ownerState:L,"aria-live":"polite",className:R.labelContainer,children:[o.jsx(Gx,{reduceAnimations:k,transKey:c.format(m,"monthAndYear"),children:o.jsx(K5,{id:_,ownerState:L,className:R.label,children:c.format(m,"monthAndYear")})}),T.length>1&&!v&&o.jsx(M,b({},D,{children:o.jsx(I,b({},z))}))]}),o.jsx(Zi,{in:P==="day",children:o.jsx(B5,{slots:u,slotProps:p,onGoToPrevious:N,isPreviousDisabled:V,previousLabel:l.previousMonth,onGoToNext:$,isNextDisabled:W,nextLabel:l.nextMonth})})]}))}),J5=Y("div")({overflow:"hidden",width:Np,maxHeight:qx,display:"flex",flexDirection:"column",margin:"0 auto"}),eL="@media (prefers-reduced-motion: reduce)",Js=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),Hm=Js&&Js[1]?parseInt(Js[1],10):null,Um=Js&&Js[2]?parseInt(Js[2],10):null,tL=Hm&&Hm<10||Um&&Um<13||!1,nL=()=>gC(eL,{defaultMatches:!1})||tL,rL=e=>he("MuiDateCalendar",e);fe("MuiDateCalendar",["root","viewTransitionContainer"]);const sL=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","defaultCalendarMonth","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","components","componentsProps","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsPerRow","monthsPerRow","timezone"],oL=e=>{const{classes:t}=e;return ge({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},rL,t)};function iL(e,t){var n,r,s,i,a,l,c;const d=ln(),u=Ip(),p=nL(),f=Ln({props:e,name:t});return b({},f,{loading:(n=f.loading)!=null?n:!1,disablePast:(r=f.disablePast)!=null?r:!1,disableFuture:(s=f.disableFuture)!=null?s:!1,openTo:(i=f.openTo)!=null?i:"day",views:(a=f.views)!=null?a:["year","day"],reduceAnimations:(l=f.reduceAnimations)!=null?l:p,renderLoading:(c=f.renderLoading)!=null?c:()=>o.jsx("span",{children:"..."}),minDate:Kr(d,f.minDate,u.minDate),maxDate:Kr(d,f.maxDate,u.maxDate)})}const aL=Y(J5,{name:"MuiDateCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"column",height:qx}),lL=Y(Gx,{name:"MuiDateCalendar",slot:"ViewTransitionContainer",overridesResolver:(e,t)=>t.viewTransitionContainer})({}),cL=h.forwardRef(function(t,n){var r,s,i;const a=ln(),l=_o(),c=iL(t,"MuiDateCalendar"),{autoFocus:d,onViewChange:u,value:p,defaultValue:f,referenceDate:m,disableFuture:v,disablePast:g,defaultCalendarMonth:y,onChange:x,onYearChange:w,onMonthChange:C,reduceAnimations:S,shouldDisableDate:P,shouldDisableMonth:k,shouldDisableYear:T,view:_,views:j,openTo:E,className:A,disabled:L,readOnly:R,minDate:M,maxDate:D,disableHighlightToday:I,focusedView:O,onFocusedViewChange:z,showDaysOutsideCurrentMonth:$,fixedWeekNumber:N,dayOfWeekFormatter:W,components:V,componentsProps:G,slots:Q,slotProps:oe,loading:U,renderLoading:le,displayWeekNumber:ee,yearsPerRow:Z,monthsPerRow:ae,timezone:K}=c,H=J(c,sL),{value:F,handleValueChange:q,timezone:ne}=Dp({name:"DateCalendar",timezone:K,value:p,defaultValue:f,onChange:x,valueManager:xo}),{view:pe,setView:Ee,focusedView:ie,setFocusedView:ce,goToNextView:xe,setValueAndGoToNextView:ve}=E5({view:_,views:j,openTo:E,onChange:q,onViewChange:u,autoFocus:d,focusedView:O,onFocusedViewChange:z}),{referenceDate:De,calendarState:Me,changeFocusedDay:Ne,changeMonth:wt,handleChangeMonth:At,isDateDisabled:$t,onMonthSwitchingAnimationEnd:Qe}=k3({value:F,defaultCalendarMonth:y,referenceDate:m,reduceAnimations:S,onMonthChange:C,minDate:M,maxDate:D,shouldDisableDate:P,disablePast:g,disableFuture:v,timezone:ne}),Te=L&&F||M,Pt=L&&F||D,kn=`${l}-grid-label`,Zt=ie!==null,Se=(r=(s=Q==null?void 0:Q.calendarHeader)!=null?s:V==null?void 0:V.CalendarHeader)!=null?r:Z5,ot=Wr({elementType:Se,externalSlotProps:(i=oe==null?void 0:oe.calendarHeader)!=null?i:G==null?void 0:G.calendarHeader,additionalProps:{views:j,view:pe,currentMonth:Me.currentMonth,onViewChange:Ee,onMonthChange:(ft,yn)=>At({newMonth:ft,direction:yn}),minDate:Te,maxDate:Pt,disabled:L,disablePast:g,disableFuture:v,reduceAnimations:S,timezone:ne,labelId:kn,slots:Q,slotProps:oe},ownerState:c}),xt=Re(ft=>{const yn=a.startOfMonth(ft),Jr=a.endOfMonth(ft),Yn=$t(ft)?yi({utils:a,date:ft,minDate:a.isBefore(M,yn)?yn:M,maxDate:a.isAfter(D,Jr)?Jr:D,disablePast:g,disableFuture:v,isDateDisabled:$t,timezone:ne}):ft;Yn?(ve(Yn,"finish"),C==null||C(yn)):(xe(),wt(yn)),Ne(Yn,!0)}),vn=Re(ft=>{const yn=a.startOfYear(ft),Jr=a.endOfYear(ft),Yn=$t(ft)?yi({utils:a,date:ft,minDate:a.isBefore(M,yn)?yn:M,maxDate:a.isAfter(D,Jr)?Jr:D,disablePast:g,disableFuture:v,isDateDisabled:$t,timezone:ne}):ft;Yn?(ve(Yn,"finish"),w==null||w(Yn)):(xe(),wt(yn)),Ne(Yn,!0)}),Nr=Re(ft=>q(ft&&ml(a,ft,F??De),"finish",pe));h.useEffect(()=>{F!=null&&a.isValid(F)&&wt(F)},[F]);const Es=c,na=oL(Es),$o={disablePast:g,disableFuture:v,maxDate:D,minDate:M},Oo={disableHighlightToday:I,readOnly:R,disabled:L,timezone:ne,gridLabelId:kn},Ps=h.useRef(pe);h.useEffect(()=>{Ps.current!==pe&&(ie===Ps.current&&ce(pe,!0),Ps.current=pe)},[ie,ce,pe]);const ra=h.useMemo(()=>[F],[F]);return o.jsxs(aL,b({ref:n,className:re(na.root,A),ownerState:Es},H,{children:[o.jsx(Se,b({},ot)),o.jsx(lL,{reduceAnimations:S,className:na.viewTransitionContainer,transKey:pe,ownerState:Es,children:o.jsxs("div",{children:[pe==="year"&&o.jsx(T5,b({},$o,Oo,{value:F,onChange:vn,shouldDisableYear:T,hasFocus:Zt,onFocusedViewChange:ft=>ce("year",ft),yearsPerRow:Z,referenceDate:De})),pe==="month"&&o.jsx(m5,b({},$o,Oo,{hasFocus:Zt,className:A,value:F,onChange:xt,shouldDisableMonth:k,onFocusedViewChange:ft=>ce("month",ft),monthsPerRow:ae,referenceDate:De})),pe==="day"&&o.jsx(n5,b({},Me,$o,Oo,{onMonthSwitchingAnimationEnd:Qe,onFocusedDayChange:Ne,reduceAnimations:S,selectedDays:ra,onSelectedDaysChange:Nr,shouldDisableDate:P,shouldDisableMonth:k,shouldDisableYear:T,hasFocus:Zt,onFocusedViewChange:ft=>ce("day",ft),showDaysOutsideCurrentMonth:$,fixedWeekNumber:N,dayOfWeekFormatter:W,displayWeekNumber:ee,components:V,componentsProps:G,slots:Q,slotProps:oe,loading:U,renderLoading:le}))]})})]}))});function Zx(e){return de(1,arguments),$x(e,Date.now())}function eo(){return ws(Date.now())}function Vm(e,t,n){de(2,arguments);var r=Er(e,n),s=Er(t,n);return r.getTime()===s.getTime()}function ri(e,t){if(e.one!==void 0&&t===1)return e.one;var n=t%10,r=t%100;return n===1&&r!==11?e.singularNominative.replace("{{count}}",String(t)):n>=2&&n<=4&&(r<10||r>20)?e.singularGenitive.replace("{{count}}",String(t)):e.pluralGenitive.replace("{{count}}",String(t))}function Jt(e){return function(t,n){return n!=null&&n.addSuffix?n.comparison&&n.comparison>0?e.future?ri(e.future,t):" "+ri(e.regular,t):e.past?ri(e.past,t):ri(e.regular,t)+" ":ri(e.regular,t)}}var dL={lessThanXSeconds:Jt({regular:{one:" ",singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{one:",   ",singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),xSeconds:Jt({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "},past:{singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "},future:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "}}),halfAMinute:function(t,n){return n!=null&&n.addSuffix?n.comparison&&n.comparison>0?" ":" ":""},lessThanXMinutes:Jt({regular:{one:" ",singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{one:",   ",singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),xMinutes:Jt({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "},past:{singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "},future:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "}}),aboutXHours:Jt({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xHours:Jt({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),xDays:Jt({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXWeeks:Jt({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xWeeks:Jt({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXMonths:Jt({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xMonths:Jt({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXYears:Jt({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xYears:Jt({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),overXYears:Jt({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),almostXYears:Jt({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}})},uL=function(t,n,r){return dL[t](n,r)},pL={full:"EEEE, d MMMM y '.'",long:"d MMMM y '.'",medium:"d MMM y '.'",short:"dd.MM.y"},hL={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},fL={any:"{{date}}, {{time}}"},mL={date:Zs({formats:pL,defaultWidth:"full"}),time:Zs({formats:hL,defaultWidth:"full"}),dateTime:Zs({formats:fL,defaultWidth:"any"})},Rp=["","","","","","",""];function gL(e){var t=Rp[e];switch(e){case 0:return"'  "+t+" ' p";case 1:case 2:case 4:return"'  "+t+" ' p";case 3:case 5:case 6:return"'  "+t+" ' p"}}function Ym(e){var t=Rp[e];return e===2?"' "+t+" ' p":"' "+t+" ' p"}function vL(e){var t=Rp[e];switch(e){case 0:return"'  "+t+" ' p";case 1:case 2:case 4:return"'  "+t+" ' p";case 3:case 5:case 6:return"'  "+t+" ' p"}}var yL={lastWeek:function(t,n,r){var s=t.getUTCDay();return Vm(t,n,r)?Ym(s):gL(s)},yesterday:"' ' p",today:"' ' p",tomorrow:"' ' p",nextWeek:function(t,n,r){var s=t.getUTCDay();return Vm(t,n,r)?Ym(s):vL(s)},other:"P"},xL=function(t,n,r,s){var i=yL[t];return typeof i=="function"?i(n,r,s):i},bL={narrow:[" ..",".."],abbreviated:[" . .",". ."],wide:["  "," "]},CL={narrow:["1","2","3","4"],abbreviated:["1- .","2- .","3- .","4- ."],wide:["1- ","2- ","3- ","4- "]},wL={narrow:["","","","","","","","","","","",""],abbreviated:[".",".","",".","","","",".",".",".",".","."],wide:["","","","","","","","","","","",""]},jL={narrow:["","","","","","","","","","","",""],abbreviated:[".",".",".",".","",".",".",".",".",".",".","."],wide:["","","","","","","","","","","",""]},SL={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},kL={narrow:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},abbreviated:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},_L={narrow:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},abbreviated:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},TL=function(t,n){var r=Number(t),s=n==null?void 0:n.unit,i;return s==="date"?i="-":s==="week"||s==="minute"||s==="second"?i="-":i="-",r+i},EL={ordinalNumber:TL,era:Kn({values:bL,defaultWidth:"wide"}),quarter:Kn({values:CL,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Kn({values:wL,defaultWidth:"wide",formattingValues:jL,defaultFormattingWidth:"wide"}),day:Kn({values:SL,defaultWidth:"wide"}),dayPeriod:Kn({values:kL,defaultWidth:"any",formattingValues:_L,defaultFormattingWidth:"wide"})},PL=/^(\d+)(-?(||||||||||))?/i,ML=/\d+/i,IL={narrow:/^(( )?\.?\s?\.?)/i,abbreviated:/^(( )?\.?\s?\.?)/i,wide:/^(  | | )/i},NL={any:[/^/i,/^/i]},DL={narrow:/^[1234]/i,abbreviated:/^[1234](-?[]??)? .?/i,wide:/^[1234](-?[]??)? /i},RL={any:[/1/i,/2/i,/3/i,/4/i]},AL={narrow:/^[]/i,abbreviated:/^(||?||[]|[]?|[]?||?||?|)\.?/i,wide:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[]|[])/i},$L={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},OL={narrow:/^[]/i,short:/^(|||||||||||)\.?/i,abbreviated:/^(||||||||||||).?/i,wide:/^([]|?|?|[]|?|[]|[])/i},LL={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^[]/i,/^[]/i,/^/i,/^/i,/^/i,/^[]/i,/^[]/i]},FL={narrow:/^([]|\.?|\.?|[]|||\.?|[])/i,abbreviated:/^([]|\.?|\.?|[]|||\.?|[])/i,wide:/^([]|||[]|||?|[])/i},zL={any:{am:/^/i,pm:/^/i,midnight:/^/i,noon:/^/i,morning:/^/i,afternoon:/^[]/i,evening:/^/i,night:/^/i}},BL={ordinalNumber:Rx({matchPattern:PL,parsePattern:ML,valueCallback:function(t){return parseInt(t,10)}}),era:Qn({matchPatterns:IL,defaultMatchWidth:"wide",parsePatterns:NL,defaultParseWidth:"any"}),quarter:Qn({matchPatterns:DL,defaultMatchWidth:"wide",parsePatterns:RL,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Qn({matchPatterns:AL,defaultMatchWidth:"wide",parsePatterns:$L,defaultParseWidth:"any"}),day:Qn({matchPatterns:OL,defaultMatchWidth:"wide",parsePatterns:LL,defaultParseWidth:"any"}),dayPeriod:Qn({matchPatterns:FL,defaultMatchWidth:"wide",parsePatterns:zL,defaultParseWidth:"any"})},js={code:"ru",formatDistance:uL,formatLong:mL,formatRelative:xL,localize:EL,match:BL,options:{weekStartsOn:1,firstWeekContainsDate:1}};function WL(){const{clubId:e,courtId:t}=Pr(),n=Xt(),[r,s]=h.useState(eo()),[i,a]=h.useState(null),[l,c]=h.useState(null),[d,u]=h.useState(!0),[p,f]=h.useState("");h.useEffect(()=>{m()},[e,t]);const m=async()=>{if(!e||!t){f(" "),u(!1);return}try{const y=await dt(_e(se,"courts",t));if(!y.exists()){f("  "),u(!1);return}const x={id:y.id,...y.data()};if(x.venueId!==e){f("    "),u(!1);return}a(x);const w=await dt(_e(se,"venues",e));w.exists()&&c({id:w.id,...w.data()}),u(!1)}catch(y){console.error("Error loading data:",y),f("   "),u(!1)}},v=()=>{r&&n(`/club/${e}/court/${t}/time?date=${Ct(r,"yyyy-MM-dd")}`)},g=y=>{const x=eo();if(y<x)return!0;const w=Ur(x,30);if(y>w)return!0;if(l!=null&&l.workingHours){const S=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][y.getDay()],P=l.workingHours[S];if(!P||!P.open&&!P.close)return!0}return!1};return d?o.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),o.jsx("p",{className:"body-small",children:"..."})]}),o.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]}):p?o.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:o.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[o.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:""}),o.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:""}),o.jsx("p",{className:"body",style:{color:"var(--text-secondary)"},children:p})]})}):o.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[o.jsx("div",{style:{backgroundColor:"var(--white)",padding:"var(--spacing-md) var(--spacing-xl)",boxShadow:"var(--shadow-sm)",position:"sticky",top:0,zIndex:10},children:o.jsx("button",{onClick:()=>n(-1),style:{background:"none",border:"none",fontSize:"20px",cursor:"pointer",padding:"8px",marginLeft:"-8px",borderRadius:"50%",display:"inline-flex",alignItems:"center",justifyContent:"center",transition:"background 0.2s"},onMouseEnter:y=>y.currentTarget.style.background="var(--extra-light-gray)",onMouseLeave:y=>y.currentTarget.style.background="none",children:""})}),o.jsxs("div",{style:{padding:"var(--spacing-xl)"},children:[o.jsx("h1",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:" "}),i&&l&&o.jsxs("p",{className:"body-small",style:{marginBottom:"var(--spacing-xl)"},children:[l.name,"  ",i.name]}),o.jsx("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)"},children:o.jsx(a3,{dateAdapter:o3,adapterLocale:js,children:o.jsx(cL,{value:r,onChange:y=>s(y),shouldDisableDate:g,disablePast:!0,sx:{width:"100%",".MuiDayCalendar-weekContainer":{justifyContent:"space-around"},".MuiPickersDay-root":{fontSize:"var(--text-body)","&:hover":{backgroundColor:"var(--primary-light)"},"&.Mui-selected":{backgroundColor:"var(--primary)","&:hover":{backgroundColor:"var(--primary-dark)"}}},".MuiPickersCalendarHeader-label":{fontSize:"var(--text-body)",fontWeight:600},".MuiPickersArrowSwitcher-button":{color:"var(--primary)"}}})})}),r&&o.jsxs("div",{className:"info-section",style:{marginBottom:"var(--spacing-xl)"},children:[o.jsx("p",{className:"body-small",style:{marginBottom:"var(--spacing-xs)"},children:" :"}),o.jsx("h3",{className:"h3",children:Ct(r,"d MMMM yyyy",{locale:js})})]}),o.jsx("div",{style:{backgroundColor:"var(--info)",color:"white",padding:"var(--spacing-md)",borderRadius:"var(--radius-md)",marginBottom:"calc(80px + var(--spacing-xl))"},children:o.jsx("p",{className:"caption",style:{color:"white"},children:"    30  .    ,    ."})})]}),o.jsx("div",{className:"sticky-bottom-bar",children:o.jsx("button",{className:"flutter-button",style:{width:"100%"},onClick:v,disabled:!r,children:"  "})})]})}function HL(){var O,z;const{clubId:e,courtId:t}=Pr(),n=Xt(),[r]=bo(),s=r.get("date"),i=s?tn(s,"yyyy-MM-dd",new Date):new Date,[a,l]=h.useState(null),[c,d]=h.useState(null),[u,p]=h.useState([]),[f,m]=h.useState(null),[v,g]=h.useState(60),[y,x]=h.useState([60,90,120]),[w,C]=h.useState(!0),[S,P]=h.useState(""),[k,T]=h.useState([]),[_,j]=h.useState([]),[E,A]=h.useState(0);h.useEffect(()=>{L()},[]),h.useEffect(()=>{R()},[e,t,E]),h.useEffect(()=>{c&&a&&M()},[c,a,u,v,E]);const L=()=>{const $=[],N=["","","","","","",""];let W=-1;for(let V=0;V<7;V++){const G=Ur(eo(),V);$.push({date:G,day:N[G.getDay()],dayNumber:Ct(G,"d")}),Ct(G,"yyyy-MM-dd")===s&&(W=V)}j($),A(W>=0?W:0)},R=async()=>{var $;if(!e||!t){P(" "),C(!1);return}try{const N=await dt(_e(se,"courts",t));if(!N.exists()){P("  "),C(!1);return}const W={id:N.id,...N.data()};l(W);const V=await dt(_e(se,"venues",e));if(V.exists()){const ee={id:V.id,...V.data()};if(d(ee),ee.bookingDurations){const Z=[60,90,120].filter(ae=>ee.bookingDurations[ae]!==!1);x(Z),Z.includes(v)||g(Z[0]||60)}}const G=(($=_[E])==null?void 0:$.date)||i,Q=Ct(G,"yyyy-MM-dd"),oe=Ge(Ie(se,"bookings"),Pe("courtId","==",t),Pe("date","==",Q),Pe("status","in",["confirmed","pending"])),le=(await qe(oe)).docs.map(ee=>({id:ee.id,...ee.data()}));p(le),C(!1)}catch(N){console.error("Error loading data:",N),P("   "),C(!1)}},M=()=>{var ee;if(!(c!=null&&c.workingHours)||!a)return;const $=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],N=((ee=_[E])==null?void 0:ee.date)||i,W=$[N.getDay()],V=c.workingHours[W];if(!V)return;const G=[],Q=tn(V.open,"HH:mm",N),oe=tn(V.close,"HH:mm",N);let U=Q;const le=new Date;for(;nn(U,oe);){const Z=Ct(U,"HH:mm"),ae=Br(U,v);let K=!0;if(Zx(N)&&nn(U,le)&&(K=!1),Hn(ae,oe)&&(K=!1),K)for(const q of u){const ne=tn(q.startTime,"HH:mm",N),pe=tn(q.endTime,"HH:mm",N);if(Hn(U,ne)&&nn(U,pe)||Hn(ae,ne)&&nn(ae,pe)||nn(U,ne)&&Hn(ae,pe)||Ct(U,"HH:mm")===q.startTime){K=!1;break}}let H=a.pricePerHour;const F=U.getHours();F>=18&&F<21?H=Math.round(H*1.2):(F>=21||F<7)&&(H=Math.round(H*.8)),G.push({time:Z,available:K,price:Math.round(H*v/60)}),U=Br(U,30)}T(G)},D=()=>{var W;if(!f)return;const $=((W=_[E])==null?void 0:W.date)||i,N=Ct($,"yyyy-MM-dd");n(`/club/${e}/court/${t}/game-type?date=${N}&time=${f}&duration=${v}`)},I=$=>{A($),m(null)};return w?o.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),o.jsx("p",{className:"body-small",children:"..."})]}),o.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]}):S?o.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:o.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[o.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:""}),o.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:""}),o.jsx("p",{className:"body",style:{color:"var(--text-secondary)"},children:S})]})}):o.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[o.jsx("div",{style:{backgroundColor:"var(--white)",padding:"var(--spacing-md) var(--spacing-xl)",boxShadow:"var(--shadow-sm)"},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-md)"},children:[o.jsx("button",{onClick:()=>n(-1),style:{width:"40px",height:"40px",background:"var(--divider)",border:"none",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"},children:""}),o.jsxs("div",{children:[o.jsx("h1",{className:"h3",style:{marginBottom:"4px"},children:" "}),a&&c&&o.jsxs("p",{className:"caption",children:[c.name,"  ",a.name]})]})]})}),o.jsx("div",{style:{height:"90px",padding:"var(--spacing-md) 0",backgroundColor:"var(--white)",borderBottom:"1px solid var(--divider)"},children:o.jsx("div",{style:{display:"flex",gap:"var(--spacing-sm)",padding:"0 var(--spacing-xl)",overflowX:"auto",WebkitOverflowScrolling:"touch"},children:_.map(($,N)=>{const W=E===N;return o.jsxs("button",{onClick:()=>I(N),style:{minWidth:"60px",height:"60px",backgroundColor:W?"var(--primary)":"var(--white)",color:W?"white":"var(--dark)",border:`2px solid ${W?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},children:[o.jsx("span",{className:"caption-bold",children:$.day}),o.jsx("span",{className:"body-bold",children:$.dayNumber})]},N)})})}),o.jsxs("div",{style:{padding:"var(--spacing-xl) var(--spacing-xl) 0"},children:[o.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:" "}),o.jsx("div",{style:{display:"flex",gap:"var(--spacing-sm)"},children:[60,90,120].map($=>{const N=y.includes($);return o.jsx("button",{onClick:()=>{N&&(g($),m(null))},disabled:!N,style:{flex:1,padding:"var(--spacing-sm)",backgroundColor:v===$?"var(--primary)":N?"var(--white)":"var(--extra-light-gray)",color:v===$?"white":N?"var(--dark)":"var(--gray)",border:`2px solid ${v===$?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",cursor:N?"pointer":"not-allowed",fontWeight:600,fontSize:"var(--text-body)",transition:"all 0.2s",opacity:N?1:.5},children:$===60?"1 ":$===90?"1.5 ":"2 "},$)})})]}),o.jsxs("div",{style:{padding:"var(--spacing-xl)"},children:[o.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:" "}),k.length===0?o.jsx("div",{className:"flutter-card",style:{textAlign:"center",padding:"var(--spacing-2xl)"},children:o.jsx("p",{className:"body",style:{color:"var(--gray)"},children:"     "})}):o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"10px",marginBottom:"calc(120px + var(--spacing-xl))"},children:k.map($=>{const N=f===$.time;return o.jsxs("button",{onClick:()=>$.available&&m($.time),disabled:!$.available,style:{padding:"var(--spacing-sm) var(--spacing-xs)",backgroundColor:$.available?N?"var(--primary)":"var(--primary-light)":"var(--busy)",color:$.available?N?"white":"var(--dark)":"var(--busy-text)",border:`2px solid ${$.available?N?"var(--primary)":"var(--available)":"var(--busy)"}`,borderRadius:"var(--radius-sm)",cursor:$.available?"pointer":"not-allowed",opacity:1,transition:"all 0.2s",display:"flex",flexDirection:"column",alignItems:"center",gap:"2px",height:"60px",justifyContent:"center"},children:[o.jsx("span",{className:"body-bold",children:$.time}),$.available?o.jsx("span",{className:"caption",style:{color:N?"white":"var(--primary-dark)",fontSize:"var(--text-caption)"},children:N?"":`${$.price}`}):o.jsx("span",{className:"caption",style:{color:"var(--busy-text)"},children:""})]},$.time)})})]}),o.jsxs("div",{style:{padding:"0 var(--spacing-xl) var(--spacing-xl)",display:"flex",gap:"var(--spacing-lg)",flexWrap:"wrap"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[o.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--white)",border:"2px solid var(--extra-light-gray)",borderRadius:"4px"}}),o.jsx("span",{className:"caption",children:""})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[o.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--busy)",borderRadius:"4px"}}),o.jsx("span",{className:"caption",children:""})]})]}),o.jsxs("div",{className:"sticky-bottom-bar",style:{padding:"var(--spacing-xl)",borderRadius:"var(--radius-lg) var(--radius-lg) 0 0"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--spacing-sm)"},children:[o.jsx("span",{className:"body-small",style:{color:"var(--gray)"},children:f&&_[E]&&`${Ct(_[E].date,"d MMMM",{locale:js})}, ${f}-${Ct(Br(tn(f,"HH:mm",new Date),v),"HH:mm")}`}),f&&((O=k.find($=>$.time===f))==null?void 0:O.available)&&o.jsxs("span",{className:"h2",children:[(z=k.find($=>$.time===f))==null?void 0:z.price," "]})]}),o.jsx("button",{className:"flutter-button",style:{width:"100%"},onClick:D,disabled:!f,children:""})]})]})}function UL(){const{clubId:e,courtId:t}=Pr(),n=Xt(),[r]=bo(),s=r.get("date"),i=r.get("time"),a=r.get("duration"),[l,c]=h.useState("open"),[d,u]=h.useState(!1),[p,f]=h.useState(null),[m,v]=h.useState(!0);h.useEffect(()=>{g()},[t]);const g=async()=>{if(t)try{const _=await dt(_e(se,"venues",e,"courts",t));_.exists()&&f({id:_.id,..._.data()})}catch(_){console.error("Error loading court:",_)}finally{v(!1)}},[y,x]=h.useState({name:"",phone:"",email:"",comment:""}),[w,C]=h.useState({}),[S,P]=h.useState(!1),k=[{id:"private",title:" ",subtitle:"     ",icon:"",iconColor:"var(--primary)",tags:["  "," "],available:!0},{id:"open",title:" ",subtitle:"   ",icon:"",iconColor:"var(--success)",tags:[" "," "],available:!1},{id:"find",title:" ",subtitle:"   ",icon:"",iconColor:"var(--gray)",tags:["12  "],available:!1}],T=_=>{if(_.available){const j=(p==null?void 0:p.pricePerHour)||0,E=Math.round(j/60*parseInt(a||"60")),A=new URLSearchParams({date:s||"",time:i||"",duration:a||"60",gameType:_.id,playersCount:(_.playersCount||1).toString(),price:E.toString(),pricePerPlayer:(_.pricePerPlayer||E).toString()});n(`/club/${e}/court/${t}/payment?${A.toString()}`)}else window.confirm(` "${_.title}"      " ".

  ?`)&&(window.location.href=`allcourts://club/${e}/court/${t}?date=${s}&time=${i}&duration=${a}`)};return o.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[o.jsx("div",{style:{backgroundColor:"var(--white)",padding:"var(--spacing-md) var(--spacing-xl)",boxShadow:"var(--shadow-sm)"},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-md)"},children:[o.jsx("button",{onClick:()=>n(-1),style:{width:"40px",height:"40px",background:"var(--divider)",border:"none",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"},children:""}),o.jsx("div",{children:o.jsx("h1",{className:"h3",children:"  "})})]})}),o.jsxs("div",{style:{padding:"var(--spacing-xl)"},children:[k.map(_=>o.jsxs("div",{onClick:()=>T(_),style:{backgroundColor:"var(--white)",borderRadius:"var(--radius-md)",padding:"var(--spacing-lg)",marginBottom:"var(--spacing-md)",cursor:"pointer",transition:"all 0.2s",border:`2px solid ${l===_.id&&_.available?"var(--primary)":"transparent"}`,boxShadow:l===_.id&&_.available?"0 2px 10px rgba(0, 211, 50, 0.1)":"none",opacity:_.available?1:.7,position:"relative"},onMouseEnter:j=>{_.available&&(j.currentTarget.style.transform="translateY(-2px)",j.currentTarget.style.boxShadow="var(--shadow-md)")},onMouseLeave:j=>{j.currentTarget.style.transform="none",j.currentTarget.style.boxShadow="none"},children:[!_.available&&o.jsx("div",{style:{position:"absolute",top:"var(--spacing-sm)",right:"var(--spacing-sm)",backgroundColor:"var(--secondary)",color:"white",padding:"4px 8px",borderRadius:"var(--radius-sm)",fontSize:"var(--text-tiny)",fontWeight:600},children:" "}),o.jsxs("div",{style:{display:"flex",gap:"var(--spacing-md)"},children:[o.jsx("div",{style:{width:"40px",height:"40px",backgroundColor:l===_.id&&_.available?"var(--primary)":"var(--divider)",borderRadius:"var(--radius-sm)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",flexShrink:0},children:o.jsx("span",{style:{filter:l===_.id&&_.available?"brightness(0) invert(1)":"none"},children:_.icon})}),o.jsxs("div",{style:{flex:1},children:[o.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-xxs)"},children:_.title}),o.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-sm)"},children:_.subtitle}),o.jsx("div",{style:{display:"flex",gap:"var(--spacing-xs)",flexWrap:"wrap"},children:_.tags.map((j,E)=>o.jsx("span",{style:{padding:"4px 16px",backgroundColor:l===_.id&&_.available?"var(--primary-light)":"var(--divider)",color:l===_.id&&_.available?"var(--primary-dark)":"var(--gray)",borderRadius:"var(--radius-xl)",fontSize:"var(--text-caption)",fontWeight:600},children:j},E))})]})]})]},_.id)),o.jsx("div",{style:{backgroundColor:"var(--warning)",color:"white",padding:"var(--spacing-md)",borderRadius:"var(--radius-md)",marginTop:"var(--spacing-xl)"},children:o.jsx("p",{className:"caption",style:{color:"white"},children:'  -   " ".          " ".'})})]})]})}function VL(){const{clubId:e,courtId:t}=Pr(),n=Xt(),[r]=bo(),s=r.get("date")||"",i=r.get("time")||"",a=parseInt(r.get("duration")||"60"),l=r.get("gameType")||"simple",c=parseInt(r.get("playersCount")||"1"),d=parseInt(r.get("price")||"0"),u=parseInt(r.get("pricePerPlayer")||"0"),[p,f]=h.useState(null),[m,v]=h.useState(null),[g,y]=h.useState(!0),[x,w]=h.useState(!1),[C,S]=h.useState(""),[P,k]=h.useState(""),[T,_]=h.useState(""),[j,E]=h.useState(""),[A,L]=h.useState(window.innerWidth<=768);h.useEffect(()=>{const N=()=>L(window.innerWidth<=768);return window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)},[]),h.useEffect(()=>{R()},[e,t]);const R=async()=>{if(!e||!t){S(" "),y(!1);return}try{const N=await dt(_e(se,"courts",t));if(!N.exists()){S("  "),y(!1);return}const W={id:N.id,...N.data()};f(W);const V=await dt(_e(se,"venues",e));if(V.exists()){const G={id:V.id,...V.data()};v(G)}y(!1)}catch(N){console.error("Error loading data:",N),S("   "),y(!1)}},M=N=>{const W=tn(N,"yyyy-MM-dd",new Date);return Ct(W,"d MMMM",{locale:js})},D=(N,W)=>{const[V,G]=N.split(":").map(Number),Q=V*60+G+W,oe=Math.floor(Q/60),U=Q%60;return`${oe.toString().padStart(2,"0")}:${U.toString().padStart(2,"0")}`},I=N=>{const W=N.replace(/\D/g,"");return W.length<=1?W:W.length<=4?`+7 (${W.slice(1)})`:W.length<=7?`+7 (${W.slice(1,4)}) ${W.slice(4)}`:W.length<=9?`+7 (${W.slice(1,4)}) ${W.slice(4,7)}-${W.slice(7)}`:`+7 (${W.slice(1,4)}) ${W.slice(4,7)}-${W.slice(7,9)}-${W.slice(9,11)}`},O=N=>{const W=I(N.target.value);_(W)},z=()=>P.trim()?!T||T.replace(/\D/g,"").length<11?(alert(",    "),!1):j&&!j.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)?(alert(",   email"),!1):!0:(alert(",   "),!1),$=async()=>{if(!(!z()||!p||!m)){w(!0);try{const N={courtId:t,courtName:p.name,venueId:e,venueName:m.name,date:s,startTime:i,endTime:D(i,a),duration:a,gameType:l,playersCount:l==="open"||l==="open_join"?c:1,totalPrice:d,pricePerPlayer:l==="open"||l==="open_join"?u:d,customerName:P,customerPhone:T,customerEmail:j||null,status:"pending",paymentStatus:"pending",createdAt:new Date,updatedAt:new Date},W=await mr(Ie(se,"bookings"),N);if(m.paymentEnabled&&m.paymentProvider)try{const Q=(await tc(ep,"initBookingPayment")({bookingId:W.id,amount:d,description:` ${p.name}  ${M(s)} ${i}`,returnUrl:`${window.location.origin}/payment-result`})).data;if(Q.success&&Q.paymentUrl)await Tt(W,{paymentId:Q.paymentId,paymentUrl:Q.paymentUrl,paymentProvider:m.paymentProvider}),window.location.href=Q.paymentUrl;else throw new Error(Q.error||"  ")}catch(V){console.error("Payment initialization error:",V),await Tt(W,{paymentStatus:"error",paymentError:V.message}),alert("   . ,    ."),n(`/club/${e}/booking-confirmation/${W.id}?paymentError=true`)}else await Tt(W,{status:"confirmed",paymentStatus:"not_required"}),n(`/club/${e}/booking-confirmation/${W.id}`)}catch(N){console.error("Error creating booking:",N),alert("   .   .")}finally{w(!1)}}};return g?o.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),o.jsx("p",{className:"body-small",children:"..."})]}),o.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]}):C?o.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:o.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[o.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:""}),o.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:""}),o.jsx("p",{className:"body",style:{color:"var(--text-secondary)"},children:C})]})}):o.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[o.jsx("div",{style:{backgroundColor:"var(--white)",padding:"var(--spacing-md) var(--spacing-xl)",boxShadow:"var(--shadow-sm)",position:"sticky",top:0,zIndex:10},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-md)"},children:[o.jsx("button",{onClick:()=>n(-1),style:{width:"40px",height:"40px",background:"var(--divider)",border:"none",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"},children:""}),o.jsx("div",{children:o.jsx("h1",{className:"h3",children:" "})})]})}),o.jsxs("div",{style:{padding:A?"var(--spacing-md)":"var(--spacing-xl)",paddingBottom:"calc(100px + var(--spacing-xl))",maxWidth:"800px",margin:"0 auto"},children:[o.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-md)"},children:[o.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:" "}),o.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"var(--spacing-sm)"},children:o.jsxs("div",{children:[o.jsx("p",{className:"body",children:m==null?void 0:m.name}),o.jsx("p",{className:"body-small",style:{color:"var(--gray)"},children:p==null?void 0:p.name})]})}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"var(--spacing-sm)"},children:[o.jsxs("div",{children:[o.jsx("p",{className:"body",children:M(s)}),o.jsxs("p",{className:"body-small",style:{color:"var(--gray)"},children:[i,"-",D(i,a)]})]}),o.jsxs("div",{style:{textAlign:"right"},children:[o.jsx("p",{className:"h3",style:{color:"var(--primary)"},children:(l==="open"||l==="open_join")&&c>1?`${u} /`:`${d} `}),(l==="open"||l==="open_join")&&c>1&&o.jsxs("p",{className:"caption",style:{color:"var(--gray)"},children:[": ",d," "]})]})]}),(l==="open"||l==="open_join")&&o.jsxs("div",{style:{marginTop:"var(--spacing-sm)",padding:"var(--spacing-sm)",backgroundColor:"var(--chip-background)",borderRadius:"var(--radius-sm)",display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[o.jsx("span",{style:{fontSize:"16px"},children:""}),o.jsx("span",{className:"caption",style:{color:"var(--primary-dark)"},children:l==="open_join"?"   ":`   ${c} `})]})]}),o.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-md)"},children:[o.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:" "}),o.jsx("div",{style:{marginBottom:"var(--spacing-md)"},children:o.jsx("input",{type:"text",value:P,onChange:N=>k(N.target.value),placeholder:" ",style:{width:"100%",padding:"var(--spacing-md)",backgroundColor:"var(--background)",border:"none",borderRadius:"var(--radius-md)",fontSize:"var(--text-body)",outline:"none"}})}),o.jsx("div",{style:{marginBottom:"var(--spacing-md)"},children:o.jsx("input",{type:"tel",value:T,onChange:O,placeholder:" ",style:{width:"100%",padding:"var(--spacing-md)",backgroundColor:"var(--background)",border:"none",borderRadius:"var(--radius-md)",fontSize:"var(--text-body)",outline:"none"}})}),o.jsx("div",{children:o.jsx("input",{type:"email",value:j,onChange:N=>E(N.target.value),placeholder:"Email ()",style:{width:"100%",padding:"var(--spacing-md)",backgroundColor:"var(--background)",border:"none",borderRadius:"var(--radius-md)",fontSize:"var(--text-body)",outline:"none"}})})]}),o.jsxs("div",{style:{padding:"var(--spacing-md)",backgroundColor:"var(--chip-background)",borderRadius:"var(--radius-md)",border:"1px solid var(--primary-light)",display:"flex",gap:"var(--spacing-sm)",alignItems:"flex-start"},children:[o.jsx("span",{style:{fontSize:"20px",color:"var(--primary)"},children:""}),o.jsx("p",{className:"caption",style:{color:"var(--primary-dark)"},children:m!=null&&m.paymentEnabled?"      ":"      "})]})]}),o.jsx("div",{className:"sticky-bottom-bar",style:{padding:"var(--spacing-xl)",borderRadius:"var(--radius-lg) var(--radius-lg) 0 0"},children:o.jsx("button",{className:"flutter-button",style:{width:"100%"},onClick:$,disabled:x,children:x?" ...":m!=null&&m.paymentEnabled?"  ":""})})]})}function YL(){const{clubId:e,bookingId:t}=Pr(),n=Xt(),[r]=bo(),[s,i]=h.useState(null),[a,l]=h.useState(null),[c,d]=h.useState(null),[u,p]=h.useState(!0),[f,m]=h.useState(""),v=r.get("paymentError")==="true";h.useEffect(()=>{g()},[t]);const g=async()=>{if(!t){m("ID   "),p(!1);return}try{const x=await dt(_e(se,"bookings",t));if(!x.exists()){m("  "),p(!1);return}const w={id:x.id,...x.data()};i(w);const C=await dt(_e(se,"venues",w.venueId));C.exists()&&l(C.data());const S=await dt(_e(se,"courts",w.courtId));S.exists()&&d(S.data()),p(!1)}catch(x){console.error("Error loading booking:",x),m("    "),p(!1)}};if(u)return o.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),o.jsx("p",{className:"body-small",children:"..."})]}),o.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]});if(f)return o.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:o.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[o.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:""}),o.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:""}),o.jsx("p",{className:"body",style:{color:"var(--text-secondary)"},children:f})]})});if(!s||!a||!c)return null;const y=tn(s.date,"yyyy-MM-dd",new Date);return o.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[o.jsxs("div",{style:{backgroundColor:v?"var(--error)":"var(--success)",padding:"var(--spacing-3xl) var(--spacing-xl)",textAlign:"center",color:"white"},children:[o.jsx("div",{style:{width:"80px",height:"80px",backgroundColor:"white",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto var(--spacing-lg)",fontSize:"40px"},children:v?"":""}),o.jsx("h1",{className:"h2",style:{color:"white",marginBottom:"var(--spacing-sm)"},children:s.status==="confirmed"?" !":v?" ":" !"}),o.jsx("p",{className:"body",style:{color:"white",opacity:.9},children:s.status==="confirmed"?"   ":v?"   . ,   ":"     "})]}),o.jsxs("div",{style:{padding:"var(--spacing-xl)"},children:[o.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)"},children:[o.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:" ?"}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-md)"},children:[o.jsxs("div",{style:{display:"flex",gap:"var(--spacing-md)"},children:[o.jsx("div",{style:{width:"32px",height:"32px",backgroundColor:"var(--primary-light)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,color:"var(--primary)"},children:"1"}),o.jsxs("div",{children:[o.jsx("p",{className:"body-bold",style:{marginBottom:"var(--spacing-xxs)"},children:" "}),o.jsx("p",{className:"caption",children:"       30 "})]})]}),o.jsxs("div",{style:{display:"flex",gap:"var(--spacing-md)"},children:[o.jsx("div",{style:{width:"32px",height:"32px",backgroundColor:"var(--primary-light)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,color:"var(--primary)"},children:"2"}),o.jsxs("div",{children:[o.jsx("p",{className:"body-bold",style:{marginBottom:"var(--spacing-xxs)"},children:" "}),o.jsx("p",{className:"caption",children:"  SMS  "})]})]}),o.jsxs("div",{style:{display:"flex",gap:"var(--spacing-md)"},children:[o.jsx("div",{style:{width:"32px",height:"32px",backgroundColor:"var(--primary-light)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,color:"var(--primary)"},children:"3"}),o.jsxs("div",{children:[o.jsx("p",{className:"body-bold",style:{marginBottom:"var(--spacing-xxs)"},children:"  "}),o.jsx("p",{className:"caption",children:"    "})]})]})]})]}),o.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)"},children:[o.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:" "}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-md)"},children:[o.jsxs("div",{children:[o.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-xxs)"},children:""}),o.jsx("p",{className:"body-bold",children:a.name}),o.jsx("p",{className:"caption",children:a.address})]}),o.jsx("div",{style:{height:"1px",backgroundColor:"var(--divider)",margin:"var(--spacing-xs) 0"}}),o.jsxs("div",{children:[o.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-xxs)"},children:""}),o.jsx("p",{className:"body-bold",children:c.name})]}),o.jsx("div",{style:{height:"1px",backgroundColor:"var(--divider)",margin:"var(--spacing-xs) 0"}}),o.jsxs("div",{style:{display:"flex",gap:"var(--spacing-xl)"},children:[o.jsxs("div",{style:{flex:1},children:[o.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-xxs)"},children:""}),o.jsx("p",{className:"body-bold",children:Ct(y,"d MMMM",{locale:js})})]}),o.jsxs("div",{style:{flex:1},children:[o.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-xxs)"},children:""}),o.jsxs("p",{className:"body-bold",children:[s.startTime," - ",s.endTime]})]})]})]})]}),o.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)"},children:[o.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:" "}),o.jsx("p",{className:"body",style:{marginBottom:"var(--spacing-xs)"},children:s.customerName}),o.jsx("p",{className:"caption",children:s.customerPhone}),s.customerEmail&&o.jsx("p",{className:"caption",children:s.customerEmail})]}),o.jsx("button",{className:"flutter-button",style:{width:"100%",marginBottom:"var(--spacing-md)"},onClick:()=>n(`/club/${e}`),children:"  "}),o.jsx("button",{className:"flutter-button-outlined",style:{width:"100%",backgroundColor:"transparent",color:"var(--primary)",border:"2px solid var(--primary)"},onClick:()=>{window.location.href=`allcourts://booking/${t}`},children:"   "}),o.jsxs("div",{style:{textAlign:"center",marginTop:"var(--spacing-3xl)",padding:"var(--spacing-xl)",backgroundColor:"var(--white)",borderRadius:"var(--radius-md)"},children:[o.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-sm)"},children:" ?   "}),o.jsxs("a",{href:`tel:${a.phone}`,style:{display:"inline-flex",alignItems:"center",gap:"var(--spacing-xs)",color:"var(--primary)",textDecoration:"none",fontSize:"var(--text-body-large)",fontWeight:600},children:[" ",a.phone]})]})]})]})}function GL(){const[e]=bo(),t=Xt(),[n,r]=h.useState(!0),[s,i]=h.useState("");h.useEffect(()=>{a()},[e]);const a=async()=>{const l=e.get("paymentId"),c=e.get("orderId")||e.get("OrderId"),d=e.get("status")||e.get("Status");if(!c){i("  "),r(!1);return}try{const u=await dt(_e(se,"bookings",c));if(!u.exists()){i("  "),r(!1);return}const f=u.data().venueId;d==="success"||d==="CONFIRMED"||d==="succeeded"?(await Tt(_e(se,"bookings",c),{status:"confirmed",paymentStatus:"paid",paymentId:l,paidAt:new Date,updatedAt:new Date}),t(`/club/${f}/booking-confirmation/${c}`,{replace:!0})):(await Ai(_e(se,"bookings",c)),t(`/club/${f}/payment-error?paymentError=true`,{replace:!0}))}catch(u){console.error("Error processing payment result:",u),i("    "),r(!1)}};return n?o.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),o.jsx("p",{className:"body-small",children:" ..."})]}),o.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]}):s?o.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:o.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[o.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:""}),o.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:""}),o.jsx("p",{className:"body",style:{color:"var(--text-secondary)"},children:s}),o.jsx("button",{className:"flutter-button",style:{marginTop:"var(--spacing-lg)"},onClick:()=>t("/"),children:" "})]})}):null}function qL(){const{clubId:e}=Pr(),t=Xt(),[n]=bo(),[r,s]=h.useState(null),[i,a]=h.useState(!0);n.get("paymentError"),h.useEffect(()=>{l()},[e]);const l=async()=>{if(!e){a(!1);return}try{const d=await dt(_e(se,"venues",e));d.exists()&&s(d.data()),a(!1)}catch(d){console.error("Error loading venue:",d),a(!1)}},c=d=>{if(d.startsWith("+7")){const u=d.replace(/\D/g,"");if(u.length===11)return`+7 (${u.slice(1,4)}) ${u.slice(4,7)}-${u.slice(7,9)}-${u.slice(9,11)}`}return d};return i?o.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),o.jsx("p",{className:"body-small",children:"..."})]}),o.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]}):o.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[o.jsxs("div",{style:{backgroundColor:"var(--error)",padding:"var(--spacing-3xl) var(--spacing-xl)",textAlign:"center",color:"white"},children:[o.jsx("div",{style:{width:"80px",height:"80px",backgroundColor:"white",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto var(--spacing-lg)",fontSize:"40px"},children:""}),o.jsx("h1",{className:"h2",style:{color:"white",marginBottom:"var(--spacing-sm)"},children:" "}),o.jsx("p",{className:"body",style:{color:"white",opacity:.9},children:"    "})]}),o.jsxs("div",{style:{padding:"var(--spacing-xl)",maxWidth:"600px",margin:"0 auto"},children:[o.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)"},children:[o.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:" ?"}),o.jsx("p",{className:"body",style:{marginBottom:"var(--spacing-md)",color:"var(--text-secondary)"},children:"       .      :"}),o.jsxs("ul",{style:{marginLeft:"var(--spacing-lg)",color:"var(--text-secondary)",marginBottom:"var(--spacing-md)"},children:[o.jsx("li",{children:"   "}),o.jsx("li",{children:"   "}),o.jsx("li",{children:"  "}),o.jsx("li",{children:"    "})]})]}),o.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)"},children:[o.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"  ?"}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-md)"},children:[o.jsxs("div",{style:{display:"flex",gap:"var(--spacing-md)",alignItems:"flex-start"},children:[o.jsx("div",{style:{width:"32px",height:"32px",backgroundColor:"var(--primary-light)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,color:"var(--primary)"},children:"1"}),o.jsxs("div",{children:[o.jsx("p",{className:"body-bold",style:{marginBottom:"var(--spacing-xxs)"},children:"  "}),o.jsx("p",{className:"body-small",style:{color:"var(--text-secondary)"},children:"      "})]})]}),o.jsxs("div",{style:{display:"flex",gap:"var(--spacing-md)",alignItems:"flex-start"},children:[o.jsx("div",{style:{width:"32px",height:"32px",backgroundColor:"var(--primary-light)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,color:"var(--primary)"},children:"2"}),o.jsxs("div",{children:[o.jsx("p",{className:"body-bold",style:{marginBottom:"var(--spacing-xxs)"},children:"  "}),o.jsx("p",{className:"body-small",style:{color:"var(--text-secondary)",marginBottom:"var(--spacing-sm)"},children:"      "}),(r==null?void 0:r.phone)&&o.jsxs("a",{href:`tel:${r.phone}`,style:{display:"inline-flex",alignItems:"center",gap:"var(--spacing-xs)",padding:"var(--spacing-sm) var(--spacing-md)",backgroundColor:"var(--primary-light)",borderRadius:"var(--radius-sm)",textDecoration:"none",color:"var(--primary)",fontWeight:600,fontSize:"var(--text-body)"},children:[" ",c(r.phone)]})]})]})]})]}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-md)"},children:[o.jsx("button",{className:"flutter-button",onClick:()=>t(`/club/${e}`),style:{width:"100%"},children:" "}),(r==null?void 0:r.phone)&&o.jsxs("a",{href:`tel:${r.phone}`,className:"flutter-button-secondary",style:{width:"100%",textDecoration:"none",display:"flex",alignItems:"center",justifyContent:"center",gap:"var(--spacing-xs)"},children:[o.jsx("span",{children:""}),"  "]})]})]})]})}function KL(){var O,z;const{clubId:e,courtId:t}=Pr(),n=Xt(),[r,s]=h.useState(null),[i,a]=h.useState(null),[l,c]=h.useState([]),[d,u]=h.useState(eo()),[p,f]=h.useState(null),[m,v]=h.useState(60),[g,y]=h.useState([60,90,120]),[x,w]=h.useState(!0),[C,S]=h.useState(""),[P,k]=h.useState([]),[T,_]=h.useState([]),[j,E]=h.useState(window.innerWidth<=768);h.useEffect(()=>{const $=()=>E(window.innerWidth<=768);return window.addEventListener("resize",$),()=>window.removeEventListener("resize",$)},[]),h.useEffect(()=>{A()},[]),h.useEffect(()=>{L()},[e,t]),h.useEffect(()=>{i&&r&&R()},[i,r,d,m]);const A=()=>{const $=[],N=["","","","","","",""],W=["","","","","","","","","","","",""];for(let V=0;V<14;V++){const G=Ur(eo(),V);$.push({date:G,day:N[G.getDay()],dayNumber:Ct(G,"d"),month:V===0||G.getDate()===1?W[G.getMonth()]:void 0})}_($)},L=async()=>{if(!e||!t){S(" "),w(!1);return}try{const $=await dt(_e(se,"courts",t));if(!$.exists()){S("  "),w(!1);return}const N={id:$.id,...$.data()};s(N);const W=await dt(_e(se,"venues",e));if(W.exists()){const V={id:W.id,...W.data()};if(a(V),V.bookingDurations){const G=[60,90,120].filter(Q=>V.bookingDurations[Q]!==!1);y(G),G.includes(m)||v(G[0]||60)}}w(!1)}catch($){console.error("Error loading data:",$),S("   "),w(!1)}},R=async()=>{if(!(!(i!=null&&i.workingHours)||!r))try{const $=Ct(d,"yyyy-MM-dd"),N=Ge(Ie(se,"bookings"),Pe("courtId","==",t),Pe("date","==",$),Pe("status","in",["confirmed","pending"])),V=(await qe(N)).docs.map(G=>({id:G.id,...G.data()}));c(V),M(V)}catch($){console.error("Error loading bookings:",$)}},M=$=>{if(!(i!=null&&i.workingHours)||!r)return;const W=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][d.getDay()],V=i.workingHours[W];if(!V)return;const G=[],Q=tn(V.open,"HH:mm",d),oe=tn(V.close,"HH:mm",d);let U=Q;const le=new Date;for(;nn(U,oe);){const ee=Ct(U,"HH:mm"),Z=Br(U,m);let ae=!0;if(Zx(d)&&nn(U,le)&&(ae=!1),Hn(Z,oe)&&(ae=!1),ae)for(const F of $){const q=tn(F.startTime,"HH:mm",d),ne=tn(F.endTime,"HH:mm",d);if(Hn(U,q)&&nn(U,ne)||Hn(Z,q)&&nn(Z,ne)||nn(U,q)&&Hn(Z,ne)||Ct(U,"HH:mm")===F.startTime){ae=!1;break}}let K=r.pricePerHour;const H=U.getHours();H>=18&&H<21?K=Math.round(K*1.2):(H>=21||H<7)&&(K=Math.round(K*.8)),G.push({time:ee,available:ae,price:Math.round(K*m/60)}),U=Br(U,30)}k(G)},D=()=>{if(!p)return;const $=Ct(d,"yyyy-MM-dd");n(`/club/${e}/court/${t}/game-type?date=${$}&time=${p}&duration=${m}`)},I=$=>{const N=eo();if($<N)return!0;const W=Ur(N,30);if($>W)return!0;if(i!=null&&i.workingHours){const G=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][$.getDay()],Q=i.workingHours[G];if(!Q||!Q.open&&!Q.close)return!0}return!1};return x?o.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),o.jsx("p",{className:"body-small",children:"..."})]}),o.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]}):C?o.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:o.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[o.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:""}),o.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:""}),o.jsx("p",{className:"body",style:{color:"var(--text-secondary)"},children:C})]})}):o.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[o.jsx("div",{style:{backgroundColor:"var(--white)",padding:"var(--spacing-md) var(--spacing-xl)",boxShadow:"var(--shadow-sm)",position:"sticky",top:0,zIndex:10},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-md)"},children:[o.jsx("button",{onClick:()=>n(-1),style:{width:"40px",height:"40px",background:"var(--divider)",border:"none",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"},children:""}),o.jsxs("div",{children:[o.jsx("h1",{className:"h3",style:{marginBottom:"4px"},children:" "}),r&&i&&o.jsxs("p",{className:"caption",children:[i.name,"  ",r.name]})]})]})}),o.jsx("div",{style:{padding:j?"var(--spacing-md)":"var(--spacing-xl)",paddingBottom:j?"calc(140px + var(--spacing-xl))":"var(--spacing-xl)",maxWidth:"1200px",margin:"0 auto"},children:o.jsxs("div",{style:{display:j?"block":"grid",gridTemplateColumns:j?"1fr":"1fr 2fr",gap:"var(--spacing-xl)"},children:[o.jsxs("div",{children:[o.jsxs("div",{style:{marginBottom:"var(--spacing-xl)"},children:[o.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:" "}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"var(--spacing-sm)"},children:T.map(($,N)=>{const W=Ct(d,"yyyy-MM-dd")===Ct($.date,"yyyy-MM-dd"),V=I($.date),G=N===0;return o.jsxs("div",{style:{textAlign:"center"},children:[$.month&&o.jsx("div",{className:"caption",style:{marginBottom:"var(--spacing-xs)",color:"var(--gray)",height:"16px"},children:$.month}),!$.month&&o.jsx("div",{style:{height:"16px",marginBottom:"var(--spacing-xs)"}}),o.jsxs("button",{onClick:()=>!V&&u($.date),disabled:V,style:{width:"100%",aspectRatio:"1",backgroundColor:W?"var(--primary)":V?"var(--extra-light-gray)":"var(--white)",color:W?"white":V?"var(--gray)":"var(--dark)",border:`2px solid ${W||G&&!V?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",cursor:V?"not-allowed":"pointer",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",transition:"all 0.2s",opacity:V?.5:1,fontSize:"var(--text-caption)"},children:[o.jsx("span",{className:"caption-bold",children:$.day}),o.jsx("span",{className:"body-bold",children:$.dayNumber})]})]},N)})})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:" "}),o.jsx("div",{style:{display:"flex",gap:"var(--spacing-sm)"},children:[60,90,120].map($=>{const N=g.includes($);return o.jsx("button",{onClick:()=>{N&&(v($),f(null))},disabled:!N,style:{flex:1,padding:"var(--spacing-md)",backgroundColor:m===$?"var(--primary)":N?"var(--white)":"var(--extra-light-gray)",color:m===$?"white":N?"var(--dark)":"var(--gray)",border:`2px solid ${m===$?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",cursor:N?"pointer":"not-allowed",fontWeight:600,fontSize:"var(--text-body)",transition:"all 0.2s",opacity:N?1:.5},children:$===60?"1 ":$===90?"1.5 ":"2 "},$)})})]})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:["   ",Ct(d,"d MMMM",{locale:js})]}),P.length===0?o.jsx("div",{className:"flutter-card",style:{textAlign:"center",padding:"var(--spacing-2xl)"},children:o.jsx("p",{className:"body",style:{color:"var(--gray)"},children:"     "})}):o.jsx("div",{style:{display:"grid",gridTemplateColumns:j?"repeat(3, 1fr)":"repeat(4, 1fr)",gap:"var(--spacing-sm)"},children:P.map($=>{const N=p===$.time;return o.jsxs("button",{onClick:()=>$.available&&f($.time),disabled:!$.available,style:{padding:"var(--spacing-md) var(--spacing-xs)",backgroundColor:$.available?N?"var(--primary)":"var(--primary-light)":"var(--busy)",color:$.available?N?"white":"var(--dark)":"var(--busy-text)",border:`2px solid ${$.available?N?"var(--primary)":"var(--available)":"var(--busy)"}`,borderRadius:"var(--radius-sm)",cursor:$.available?"pointer":"not-allowed",opacity:1,transition:"all 0.2s",display:"flex",flexDirection:"column",alignItems:"center",gap:"4px",minHeight:j?"60px":"70px",justifyContent:"center"},children:[o.jsxs("span",{className:"body-bold",style:{fontSize:"14px"},children:[$.time,"-",(()=>{const[W,V]=$.time.split(":").map(Number),G=Br(tn($.time,"HH:mm",new Date),m);return Ct(G,"HH:mm")})()]}),$.available?N&&o.jsx("span",{className:"caption",style:{color:"white",fontSize:"var(--text-caption)"},children:""}):o.jsx("span",{className:"caption",style:{color:"var(--busy-text)"},children:""})]},$.time)})}),o.jsxs("div",{style:{marginTop:"var(--spacing-lg)",display:"flex",gap:"var(--spacing-lg)",flexWrap:"wrap"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[o.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--primary-light)",border:"2px solid var(--available)",borderRadius:"4px"}}),o.jsx("span",{className:"caption",children:""})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[o.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--busy)",borderRadius:"4px"}}),o.jsx("span",{className:"caption",children:""})]})]})]})]})}),o.jsxs("div",{className:"sticky-bottom-bar",style:{padding:"var(--spacing-xl)",borderRadius:"var(--radius-lg) var(--radius-lg) 0 0"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--spacing-sm)"},children:[o.jsx("span",{className:"body-small",style:{color:"var(--gray)"},children:p&&`${Ct(d,"d MMMM",{locale:js})}, ${p}-${Ct(Br(tn(p,"HH:mm",new Date),m),"HH:mm")}`}),p&&((O=P.find($=>$.time===p))==null?void 0:O.available)&&o.jsxs("span",{className:"h2",children:[(z=P.find($=>$.time===p))==null?void 0:z.price," "]})]}),o.jsx("button",{className:"flutter-button",style:{width:"100%"},onClick:D,disabled:!p,children:""})]})]})}function QL(){const{clubId:e}=Pr(),[t,n]=h.useState(null),[r,s]=h.useState(!0),[i,a]=h.useState("");h.useEffect(()=>{e&&l()},[e]);const l=async()=>{try{const u=_e(se,"venues",e),p=await dt(u);p.exists()?n(p.data()):a("  ")}catch(u){console.error("Error loading club data:",u),a("  ")}finally{s(!1)}},c=()=>{window.print()},d=()=>new Date().toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric"});return r?o.jsx(hi,{maxWidth:"md",sx:{py:4,display:"flex",justifyContent:"center"},children:o.jsx(hn,{})}):i||!t?o.jsxs(hi,{maxWidth:"md",sx:{py:4},children:[o.jsx(B,{color:"error",children:i||"  "}),o.jsx(ke,{component:ld,to:"/",startIcon:o.jsx(mm,{}),sx:{mt:2},children:"  "})]}):o.jsxs(hi,{maxWidth:"md",sx:{py:4},children:[o.jsxs(te,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center","@media print":{display:"none"}},children:[o.jsx(ke,{component:ld,to:`/club/${e}`,startIcon:o.jsx(mm,{}),children:"  "}),o.jsx(ke,{variant:"outlined",startIcon:o.jsx(tA,{}),onClick:c,children:""})]}),o.jsxs(on,{sx:{p:4,"@media print":{boxShadow:"none",p:2}},children:[o.jsx(B,{variant:"h4",component:"h1",align:"center",gutterBottom:!0,children:" "}),o.jsx(B,{variant:"subtitle1",align:"center",gutterBottom:!0,color:"text.secondary",children:"      "}),o.jsxs(B,{variant:"body2",align:"center",sx:{mt:3,mb:4},children:[" : ",d()]}),o.jsxs(te,{sx:{mt:4},children:[o.jsxs(B,{paragraph:!0,children:["   (  )    ",t.legalName||t.name,t.organizationType&&` (${t.organizationType})`,",    ,   ,   ,    ,   ,   ,           ."]}),o.jsx(B,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"1.   "}),o.jsxs(B,{paragraph:!0,children:["1.1. ",o.jsx("strong",{children:""}),"   ,   : ",t.address,",  ."]}),o.jsxs(B,{paragraph:!0,children:["1.2. ",o.jsx("strong",{children:"/"}),"        , ,     ."]}),o.jsxs(B,{paragraph:!0,children:["1.3. ",o.jsx("strong",{children:""}),"                ,  ."]}),o.jsxs(B,{paragraph:!0,children:["1.4. ",o.jsx("strong",{children:""}),"          ."]}),o.jsx(B,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"2.  "}),o.jsx(B,{paragraph:!0,children:"2.1.           ,           ."}),o.jsx(B,{paragraph:!0,children:"2.2.     (, , , )   ."}),o.jsx(B,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"3.    "}),o.jsxs(B,{paragraph:!0,children:["3.1.       ,   ",t.phone,"   ."]}),o.jsx(B,{paragraph:!0,children:"3.2.             :"}),o.jsxs(B,{component:"div",paragraph:!0,sx:{pl:2},children:[" -    ",o.jsx("br",{}),"     ",o.jsx("br",{}),"     ",o.jsx("br",{}),"     "]}),o.jsx(B,{paragraph:!0,children:"3.3.           ."}),o.jsx(B,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"4.    "}),o.jsx(B,{paragraph:!0,children:o.jsx("strong",{children:"4.1.  :"})}),o.jsxs(B,{component:"div",paragraph:!0,sx:{pl:2},children:["      ",o.jsx("br",{}),"      ",o.jsx("br",{}),"     ( )",o.jsx("br",{}),"     "]}),o.jsx(B,{paragraph:!0,children:o.jsx("strong",{children:"4.2.  :"})}),o.jsxs(B,{component:"div",paragraph:!0,sx:{pl:2},children:["   ",o.jsx("br",{}),"     ",o.jsx("br",{}),"     ",o.jsx("br",{}),"     ",o.jsx("br",{}),"      "]}),o.jsx(B,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"5.    "}),o.jsx(B,{paragraph:!0,children:"5.1.           24     ."}),o.jsx(B,{paragraph:!0,children:"5.2.       24 ,    ."}),o.jsx(B,{paragraph:!0,children:"5.3.           ."}),o.jsx(B,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"6.  "}),o.jsx(B,{paragraph:!0,children:"6.1.      ,                 ."}),o.jsx(B,{paragraph:!0,children:"6.2.      ,   ."}),o.jsx(B,{paragraph:!0,children:"6.3.         ."}),o.jsx(B,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"7.  "}),o.jsx(B,{paragraph:!0,children:"7.1.                 152-."}),o.jsx(B,{paragraph:!0,children:"7.2.                   ."}),o.jsx(B,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"8.  "}),o.jsx(B,{paragraph:!0,children:"8.1.                      ."}),o.jsx(B,{paragraph:!0,children:"8.2.       ,         ."}),o.jsx(B,{paragraph:!0,children:"8.3.         ,       ."}),o.jsx(B,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"9.  "}),o.jsx(te,{sx:{backgroundColor:"grey.50",p:3,borderRadius:1,mt:2},children:o.jsxs(B,{variant:"body2",component:"div",children:[o.jsx("strong",{children:t.legalName||t.name}),o.jsx("br",{}),t.legalAddress&&o.jsxs(o.Fragment,{children:[" : ",t.legalAddress,o.jsx("br",{})]}),t.inn&&o.jsxs(o.Fragment,{children:[": ",t.inn,o.jsx("br",{})]}),t.kpp&&o.jsxs(o.Fragment,{children:[": ",t.kpp,o.jsx("br",{})]}),t.ogrn&&o.jsxs(o.Fragment,{children:[": ",t.ogrn,o.jsx("br",{})]}),t.bankAccount&&o.jsxs(o.Fragment,{children:[o.jsx("br",{}),o.jsx("strong",{children:" :"}),o.jsx("br",{})," : ",t.bankAccount,o.jsx("br",{}),t.bankName&&o.jsxs(o.Fragment,{children:[": ",t.bankName,o.jsx("br",{})]}),t.bankBik&&o.jsxs(o.Fragment,{children:[": ",t.bankBik,o.jsx("br",{})]}),t.bankCorrespondentAccount&&o.jsxs(o.Fragment,{children:[". : ",t.bankCorrespondentAccount,o.jsx("br",{})]})]}),(t.directorName||t.directorPosition)&&o.jsxs(o.Fragment,{children:[o.jsx("br",{}),o.jsx("strong",{children:":"}),o.jsx("br",{}),t.directorPosition&&o.jsxs(o.Fragment,{children:[t.directorPosition," "]}),t.directorName]}),(t.phone||t.email)&&o.jsxs(o.Fragment,{children:[o.jsx("br",{}),o.jsx("strong",{children:":"}),o.jsx("br",{}),t.phone&&o.jsxs(o.Fragment,{children:[": ",t.phone,o.jsx("br",{})]}),t.email&&o.jsxs(o.Fragment,{children:["Email: ",t.email]})]})]})})]})]})]})}const XL=Mu({palette:{primary:{main:"#00A86B"},secondary:{main:"#1A1F36"},success:{main:"#10B981"},warning:{main:"#F59E0B"},error:{main:"#EF4444"},background:{default:"#F8F9FA"}},typography:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, sans-serif'}});function ZL(){return o.jsxs(c2,{theme:XL,children:[o.jsx(h2,{}),o.jsx(JA,{children:o.jsx(bk,{children:o.jsx(ub,{children:o.jsxs(pb,{children:[o.jsx(tt,{path:"/",element:o.jsx(Sa,{to:"/admin/dashboard",replace:!0})}),o.jsx(tt,{path:"/info",element:o.jsx(OA,{})}),o.jsx(tt,{path:"/club/:clubId",element:o.jsx(n$,{})}),o.jsx(tt,{path:"/club/:clubId/court/:courtId/booking",element:o.jsx(KL,{})}),o.jsx(tt,{path:"/club/:clubId/court/:courtId/date",element:o.jsx(WL,{})}),o.jsx(tt,{path:"/club/:clubId/court/:courtId/time",element:o.jsx(HL,{})}),o.jsx(tt,{path:"/club/:clubId/court/:courtId/game-type",element:o.jsx(UL,{})}),o.jsx(tt,{path:"/club/:clubId/court/:courtId/payment",element:o.jsx(VL,{})}),o.jsx(tt,{path:"/club/:clubId/booking-confirmation/:bookingId",element:o.jsx(YL,{})}),o.jsx(tt,{path:"/payment-result",element:o.jsx(GL,{})}),o.jsx(tt,{path:"/club/:clubId/payment-error",element:o.jsx(qL,{})}),o.jsx(tt,{path:"/club/:clubId/user-agreement",element:o.jsx(QL,{})}),o.jsx(tt,{path:"/login",element:o.jsx(pA,{})}),o.jsx(tt,{path:"/register",element:o.jsx(hA,{})}),o.jsx(tt,{path:"/admin/login",element:o.jsx(Sa,{to:"/login",replace:!0})}),o.jsx(tt,{path:"/admin/register",element:o.jsx(Sa,{to:"/register",replace:!0})}),o.jsxs(tt,{path:"/admin",element:o.jsx(AR,{children:o.jsx(Kd,{})}),children:[o.jsx(tt,{path:"dashboard",element:o.jsx(jA,{})}),o.jsx(tt,{path:"venues",element:o.jsx(BA,{})}),o.jsx(tt,{path:"billing-settings",element:o.jsx(GA,{})}),o.jsx(tt,{path:"admins",element:o.jsx(zA,{})}),o.jsx(tt,{path:"club",element:o.jsx(SA,{})}),o.jsx(tt,{path:"subscription",element:o.jsx(HA,{})}),o.jsx(tt,{path:"payment-settings",element:o.jsx(YA,{})}),o.jsx(tt,{path:"courts",element:o.jsx(kA,{})}),o.jsx(tt,{path:"bookings",element:o.jsx(AA,{})}),o.jsx(tt,{path:"finance",element:o.jsx(qA,{})}),o.jsx(tt,{path:"customers",element:o.jsx($A,{})}),o.jsx(tt,{path:"marketing",element:o.jsx(KA,{})}),o.jsx(tt,{path:"settings",element:o.jsx(XA,{})}),o.jsx(tt,{path:"debug",element:o.jsx(ZA,{})})]})]})})})})]})}dd.createRoot(document.getElementById("root")).render(o.jsx(Fe.StrictMode,{children:o.jsx(ZL,{})}));export{I4 as a,M4 as b,Ur as c,se as d,IA as e,Ct as f,MA as g,s6 as h,nn as i,o as j,NA as k,js as l,Sm as m,jm as n,eo as s};
