var pb=Object.defineProperty;var hb=(e,t,n)=>t in e?pb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Lp=(e,t,n)=>hb(e,typeof t!="symbol"?t+"":t,n);import{r as h,a as Vm,R as dd,g as ns,b as Qe,c as ia,N as _a,u as nn,d as fb,O as mb,e as $r,L as ud,f as gb,h as jo,B as vb,i as yb,j as ot}from"./vendor-C_tjuDKg.js";import{L as xb,a as Ce,_ as Ym,C as Gm,r as Ba,s as qt,j as au,c as Or,b as ro,m as Fa,d as bb,S as wb,e as Cb,f as $i,g as jb,h as kb,D as qm,q as Sb,i as _b,k as Tb,l as Bp,n as Km,o as Eb,p as Oi,t as Mb,u as xl,v as Pb,w as Nb,x as Qm,y as Xm,z as Zm,A as Ib,B as Db,F as Jm,E as Rb,G as Ab,H as $b,I as Ob,J as Lb,K as Bb,M as Fb,N as $e,O as Ne,P as Te,Q as Fe,R as ut,T as Pe,U as pd,V as zb,W as eg,X as Fp,Y as zp,Z as Wp,$ as Ct,a0 as Wb,a1 as or,a2 as Li,a3 as Rn,a4 as Yt,a5 as Hb,a6 as tg,a7 as Ta,a8 as Ub,a9 as ng}from"./firebase-BM3H0jh2.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var rg={exports:{}},bl={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vb=h,Yb=Symbol.for("react.element"),Gb=Symbol.for("react.fragment"),qb=Object.prototype.hasOwnProperty,Kb=Vb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Qb={key:!0,ref:!0,__self:!0,__source:!0};function sg(e,t,n){var r,o={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)qb.call(t,r)&&!Qb.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:Yb,type:e,key:i,ref:a,props:o,_owner:Kb.current}}bl.Fragment=Gb;bl.jsx=sg;bl.jsxs=sg;rg.exports=bl;var s=rg.exports,hd={},Hp=Vm;hd.createRoot=Hp.createRoot,hd.hydrateRoot=Hp.hydrateRoot;function Pr(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}const Xb=Object.freeze(Object.defineProperty({__proto__:null,default:Pr},Symbol.toStringTag,{value:"Module"})),xs="$$material";function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C.apply(null,arguments)}function ne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Zb(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function Jb(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var e0=function(){function e(n){var r=this;this._insertTag=function(o){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(o,i),r.tags.push(o)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Jb(this));var o=this.tags[this.tags.length-1];if(this.isSpeedy){var i=Zb(o);try{i.insertRule(r,i.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var o;return(o=r.parentNode)==null?void 0:o.removeChild(r)}),this.tags=[],this.ctr=0},e}(),Kt="-ms-",za="-moz-",at="-webkit-",og="comm",lu="rule",cu="decl",t0="@import",ig="@keyframes",n0="@layer",r0=Math.abs,wl=String.fromCharCode,s0=Object.assign;function o0(e,t){return Gt(e,0)^45?(((t<<2^Gt(e,0))<<2^Gt(e,1))<<2^Gt(e,2))<<2^Gt(e,3):0}function ag(e){return e.trim()}function i0(e,t){return(e=t.exec(e))?e[0]:e}function lt(e,t,n){return e.replace(t,n)}function fd(e,t){return e.indexOf(t)}function Gt(e,t){return e.charCodeAt(t)|0}function Ci(e,t,n){return e.slice(t,n)}function Jn(e){return e.length}function du(e){return e.length}function aa(e,t){return t.push(e),e}function a0(e,t){return e.map(t).join("")}var Cl=1,so=1,lg=0,vn=0,Ot=0,ko="";function jl(e,t,n,r,o,i,a){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:Cl,column:so,length:a,return:""}}function Uo(e,t){return s0(jl("",null,null,"",null,null,0),e,{length:-e.length},t)}function l0(){return Ot}function c0(){return Ot=vn>0?Gt(ko,--vn):0,so--,Ot===10&&(so=1,Cl--),Ot}function kn(){return Ot=vn<lg?Gt(ko,vn++):0,so++,Ot===10&&(so=1,Cl++),Ot}function cr(){return Gt(ko,vn)}function Ea(){return vn}function Bi(e,t){return Ci(ko,e,t)}function ji(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function cg(e){return Cl=so=1,lg=Jn(ko=e),vn=0,[]}function dg(e){return ko="",e}function Ma(e){return ag(Bi(vn-1,md(e===91?e+2:e===40?e+1:e)))}function d0(e){for(;(Ot=cr())&&Ot<33;)kn();return ji(e)>2||ji(Ot)>3?"":" "}function u0(e,t){for(;--t&&kn()&&!(Ot<48||Ot>102||Ot>57&&Ot<65||Ot>70&&Ot<97););return Bi(e,Ea()+(t<6&&cr()==32&&kn()==32))}function md(e){for(;kn();)switch(Ot){case e:return vn;case 34:case 39:e!==34&&e!==39&&md(Ot);break;case 40:e===41&&md(e);break;case 92:kn();break}return vn}function p0(e,t){for(;kn()&&e+Ot!==57;)if(e+Ot===84&&cr()===47)break;return"/*"+Bi(t,vn-1)+"*"+wl(e===47?e:kn())}function h0(e){for(;!ji(cr());)kn();return Bi(e,vn)}function f0(e){return dg(Pa("",null,null,null,[""],e=cg(e),0,[0],e))}function Pa(e,t,n,r,o,i,a,l,c){for(var d=0,u=0,p=a,f=0,g=0,v=0,y=1,m=1,x=1,j=0,b="",w=o,N=i,k=r,E=b;m;)switch(v=j,j=kn()){case 40:if(v!=108&&Gt(E,p-1)==58){fd(E+=lt(Ma(j),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:E+=Ma(j);break;case 9:case 10:case 13:case 32:E+=d0(v);break;case 92:E+=u0(Ea()-1,7);continue;case 47:switch(cr()){case 42:case 47:aa(m0(p0(kn(),Ea()),t,n),c);break;default:E+="/"}break;case 123*y:l[d++]=Jn(E)*x;case 125*y:case 59:case 0:switch(j){case 0:case 125:m=0;case 59+u:x==-1&&(E=lt(E,/\f/g,"")),g>0&&Jn(E)-p&&aa(g>32?Vp(E+";",r,n,p-1):Vp(lt(E," ","")+";",r,n,p-2),c);break;case 59:E+=";";default:if(aa(k=Up(E,t,n,d,u,o,l,b,w=[],N=[],p),i),j===123)if(u===0)Pa(E,t,k,k,w,i,p,l,N);else switch(f===99&&Gt(E,3)===110?100:f){case 100:case 108:case 109:case 115:Pa(e,k,k,r&&aa(Up(e,k,k,0,0,o,l,b,o,w=[],p),N),o,N,p,l,r?w:N);break;default:Pa(E,k,k,k,[""],N,0,l,N)}}d=u=g=0,y=x=1,b=E="",p=a;break;case 58:p=1+Jn(E),g=v;default:if(y<1){if(j==123)--y;else if(j==125&&y++==0&&c0()==125)continue}switch(E+=wl(j),j*y){case 38:x=u>0?1:(E+="\f",-1);break;case 44:l[d++]=(Jn(E)-1)*x,x=1;break;case 64:cr()===45&&(E+=Ma(kn())),f=cr(),u=p=Jn(b=E+=h0(Ea())),j++;break;case 45:v===45&&Jn(E)==2&&(y=0)}}return i}function Up(e,t,n,r,o,i,a,l,c,d,u){for(var p=o-1,f=o===0?i:[""],g=du(f),v=0,y=0,m=0;v<r;++v)for(var x=0,j=Ci(e,p+1,p=r0(y=a[v])),b=e;x<g;++x)(b=ag(y>0?f[x]+" "+j:lt(j,/&\f/g,f[x])))&&(c[m++]=b);return jl(e,t,n,o===0?lu:l,c,d,u)}function m0(e,t,n){return jl(e,t,n,og,wl(l0()),Ci(e,2,-2),0)}function Vp(e,t,n,r){return jl(e,t,n,cu,Ci(e,0,r),Ci(e,r+1,-1),r)}function qs(e,t){for(var n="",r=du(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function g0(e,t,n,r){switch(e.type){case n0:if(e.children.length)break;case t0:case cu:return e.return=e.return||e.value;case og:return"";case ig:return e.return=e.value+"{"+qs(e.children,r)+"}";case lu:e.value=e.props.join(",")}return Jn(n=qs(e.children,r))?e.return=e.value+"{"+n+"}":""}function v0(e){var t=du(e);return function(n,r,o,i){for(var a="",l=0;l<t;l++)a+=e[l](n,r,o,i)||"";return a}}function y0(e){return function(t){t.root||(t=t.return)&&e(t)}}function ug(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var x0=function(t,n,r){for(var o=0,i=0;o=i,i=cr(),o===38&&i===12&&(n[r]=1),!ji(i);)kn();return Bi(t,vn)},b0=function(t,n){var r=-1,o=44;do switch(ji(o)){case 0:o===38&&cr()===12&&(n[r]=1),t[r]+=x0(vn-1,n,r);break;case 2:t[r]+=Ma(o);break;case 4:if(o===44){t[++r]=cr()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=wl(o)}while(o=kn());return t},w0=function(t,n){return dg(b0(cg(t),n))},Yp=new WeakMap,C0=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,o=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!Yp.get(r))&&!o){Yp.set(t,!0);for(var i=[],a=w0(n,i),l=r.props,c=0,d=0;c<a.length;c++)for(var u=0;u<l.length;u++,d++)t.props[d]=i[c]?a[c].replace(/&\f/g,l[u]):l[u]+" "+a[c]}}},j0=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function pg(e,t){switch(o0(e,t)){case 5103:return at+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return at+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return at+e+za+e+Kt+e+e;case 6828:case 4268:return at+e+Kt+e+e;case 6165:return at+e+Kt+"flex-"+e+e;case 5187:return at+e+lt(e,/(\w+).+(:[^]+)/,at+"box-$1$2"+Kt+"flex-$1$2")+e;case 5443:return at+e+Kt+"flex-item-"+lt(e,/flex-|-self/,"")+e;case 4675:return at+e+Kt+"flex-line-pack"+lt(e,/align-content|flex-|-self/,"")+e;case 5548:return at+e+Kt+lt(e,"shrink","negative")+e;case 5292:return at+e+Kt+lt(e,"basis","preferred-size")+e;case 6060:return at+"box-"+lt(e,"-grow","")+at+e+Kt+lt(e,"grow","positive")+e;case 4554:return at+lt(e,/([^-])(transform)/g,"$1"+at+"$2")+e;case 6187:return lt(lt(lt(e,/(zoom-|grab)/,at+"$1"),/(image-set)/,at+"$1"),e,"")+e;case 5495:case 3959:return lt(e,/(image-set\([^]*)/,at+"$1$`$1");case 4968:return lt(lt(e,/(.+:)(flex-)?(.*)/,at+"box-pack:$3"+Kt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+at+e+e;case 4095:case 3583:case 4068:case 2532:return lt(e,/(.+)-inline(.+)/,at+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Jn(e)-1-t>6)switch(Gt(e,t+1)){case 109:if(Gt(e,t+4)!==45)break;case 102:return lt(e,/(.+:)(.+)-([^]+)/,"$1"+at+"$2-$3$1"+za+(Gt(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~fd(e,"stretch")?pg(lt(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Gt(e,t+1)!==115)break;case 6444:switch(Gt(e,Jn(e)-3-(~fd(e,"!important")&&10))){case 107:return lt(e,":",":"+at)+e;case 101:return lt(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+at+(Gt(e,14)===45?"inline-":"")+"box$3$1"+at+"$2$3$1"+Kt+"$2box$3")+e}break;case 5936:switch(Gt(e,t+11)){case 114:return at+e+Kt+lt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return at+e+Kt+lt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return at+e+Kt+lt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return at+e+Kt+e+e}return e}var k0=function(t,n,r,o){if(t.length>-1&&!t.return)switch(t.type){case cu:t.return=pg(t.value,t.length);break;case ig:return qs([Uo(t,{value:lt(t.value,"@","@"+at)})],o);case lu:if(t.length)return a0(t.props,function(i){switch(i0(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return qs([Uo(t,{props:[lt(i,/:(read-\w+)/,":"+za+"$1")]})],o);case"::placeholder":return qs([Uo(t,{props:[lt(i,/:(plac\w+)/,":"+at+"input-$1")]}),Uo(t,{props:[lt(i,/:(plac\w+)/,":"+za+"$1")]}),Uo(t,{props:[lt(i,/:(plac\w+)/,Kt+"input-$1")]})],o)}return""})}},S0=[k0],hg=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var m=y.getAttribute("data-emotion");m.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var o=t.stylisPlugins||S0,i={},a,l=[];a=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var m=y.getAttribute("data-emotion").split(" "),x=1;x<m.length;x++)i[m[x]]=!0;l.push(y)});var c,d=[C0,j0];{var u,p=[g0,y0(function(y){u.insert(y)})],f=v0(d.concat(o,p)),g=function(m){return qs(f0(m),f)};c=function(m,x,j,b){u=j,g(m?m+"{"+x.styles+"}":x.styles),b&&(v.inserted[x.name]=!0)}}var v={key:n,sheet:new e0({key:n,container:a,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:i,registered:{},insert:c};return v.sheet.hydrate(l),v},fg={exports:{}},gt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vt=typeof Symbol=="function"&&Symbol.for,uu=Vt?Symbol.for("react.element"):60103,pu=Vt?Symbol.for("react.portal"):60106,kl=Vt?Symbol.for("react.fragment"):60107,Sl=Vt?Symbol.for("react.strict_mode"):60108,_l=Vt?Symbol.for("react.profiler"):60114,Tl=Vt?Symbol.for("react.provider"):60109,El=Vt?Symbol.for("react.context"):60110,hu=Vt?Symbol.for("react.async_mode"):60111,Ml=Vt?Symbol.for("react.concurrent_mode"):60111,Pl=Vt?Symbol.for("react.forward_ref"):60112,Nl=Vt?Symbol.for("react.suspense"):60113,_0=Vt?Symbol.for("react.suspense_list"):60120,Il=Vt?Symbol.for("react.memo"):60115,Dl=Vt?Symbol.for("react.lazy"):60116,T0=Vt?Symbol.for("react.block"):60121,E0=Vt?Symbol.for("react.fundamental"):60117,M0=Vt?Symbol.for("react.responder"):60118,P0=Vt?Symbol.for("react.scope"):60119;function Tn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case uu:switch(e=e.type,e){case hu:case Ml:case kl:case _l:case Sl:case Nl:return e;default:switch(e=e&&e.$$typeof,e){case El:case Pl:case Dl:case Il:case Tl:return e;default:return t}}case pu:return t}}}function mg(e){return Tn(e)===Ml}gt.AsyncMode=hu;gt.ConcurrentMode=Ml;gt.ContextConsumer=El;gt.ContextProvider=Tl;gt.Element=uu;gt.ForwardRef=Pl;gt.Fragment=kl;gt.Lazy=Dl;gt.Memo=Il;gt.Portal=pu;gt.Profiler=_l;gt.StrictMode=Sl;gt.Suspense=Nl;gt.isAsyncMode=function(e){return mg(e)||Tn(e)===hu};gt.isConcurrentMode=mg;gt.isContextConsumer=function(e){return Tn(e)===El};gt.isContextProvider=function(e){return Tn(e)===Tl};gt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===uu};gt.isForwardRef=function(e){return Tn(e)===Pl};gt.isFragment=function(e){return Tn(e)===kl};gt.isLazy=function(e){return Tn(e)===Dl};gt.isMemo=function(e){return Tn(e)===Il};gt.isPortal=function(e){return Tn(e)===pu};gt.isProfiler=function(e){return Tn(e)===_l};gt.isStrictMode=function(e){return Tn(e)===Sl};gt.isSuspense=function(e){return Tn(e)===Nl};gt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===kl||e===Ml||e===_l||e===Sl||e===Nl||e===_0||typeof e=="object"&&e!==null&&(e.$$typeof===Dl||e.$$typeof===Il||e.$$typeof===Tl||e.$$typeof===El||e.$$typeof===Pl||e.$$typeof===E0||e.$$typeof===M0||e.$$typeof===P0||e.$$typeof===T0)};gt.typeOf=Tn;fg.exports=gt;var N0=fg.exports,gg=N0,I0={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},D0={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},vg={};vg[gg.ForwardRef]=I0;vg[gg.Memo]=D0;var R0=!0;function yg(e,t,n){var r="";return n.split(" ").forEach(function(o){e[o]!==void 0?t.push(e[o]+";"):o&&(r+=o+" ")}),r}var fu=function(t,n,r){var o=t.key+"-"+n.name;(r===!1||R0===!1)&&t.registered[o]===void 0&&(t.registered[o]=n.styles)},mu=function(t,n,r){fu(t,n,r);var o=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var i=n;do t.insert(n===i?"."+o:"",i,t.sheet,!0),i=i.next;while(i!==void 0)}};function A0(e){for(var t=0,n,r=0,o=e.length;o>=4;++r,o-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(o){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var $0={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},O0=/[A-Z]|^ms/g,L0=/_EMO_([^_]+?)_([^]*?)_EMO_/g,xg=function(t){return t.charCodeAt(1)===45},Gp=function(t){return t!=null&&typeof t!="boolean"},Pc=ug(function(e){return xg(e)?e:e.replace(O0,"-$&").toLowerCase()}),qp=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(L0,function(r,o,i){return er={name:o,styles:i,next:er},o})}return $0[t]!==1&&!xg(t)&&typeof n=="number"&&n!==0?n+"px":n};function ki(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var o=n;if(o.anim===1)return er={name:o.name,styles:o.styles,next:er},o.name;var i=n;if(i.styles!==void 0){var a=i.next;if(a!==void 0)for(;a!==void 0;)er={name:a.name,styles:a.styles,next:er},a=a.next;var l=i.styles+";";return l}return B0(e,t,n)}case"function":{if(e!==void 0){var c=er,d=n(e);return er=c,ki(e,t,d)}break}}var u=n;if(t==null)return u;var p=t[u];return p!==void 0?p:u}function B0(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=ki(e,t,n[o])+";";else for(var i in n){var a=n[i];if(typeof a!="object"){var l=a;t!=null&&t[l]!==void 0?r+=i+"{"+t[l]+"}":Gp(l)&&(r+=Pc(i)+":"+qp(i,l)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&(t==null||t[a[0]]===void 0))for(var c=0;c<a.length;c++)Gp(a[c])&&(r+=Pc(i)+":"+qp(i,a[c])+";");else{var d=ki(e,t,a);switch(i){case"animation":case"animationName":{r+=Pc(i)+":"+d+";";break}default:r+=i+"{"+d+"}"}}}return r}var Kp=/label:\s*([^\s;{]+)\s*(;|$)/g,er;function Fi(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,o="";er=void 0;var i=e[0];if(i==null||i.raw===void 0)r=!1,o+=ki(n,t,i);else{var a=i;o+=a[0]}for(var l=1;l<e.length;l++)if(o+=ki(n,t,e[l]),r){var c=i;o+=c[l]}Kp.lastIndex=0;for(var d="",u;(u=Kp.exec(o))!==null;)d+="-"+u[1];var p=A0(o)+d;return{name:p,styles:o,next:er}}var F0=function(t){return t()},bg=dd.useInsertionEffect?dd.useInsertionEffect:!1,wg=bg||F0,Qp=bg||h.useLayoutEffect,Cg=h.createContext(typeof HTMLElement<"u"?hg({key:"css"}):null),z0=Cg.Provider,gu=function(t){return h.forwardRef(function(n,r){var o=h.useContext(Cg);return t(n,o,r)})},So=h.createContext({}),vu={}.hasOwnProperty,gd="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",W0=function(t,n){var r={};for(var o in n)vu.call(n,o)&&(r[o]=n[o]);return r[gd]=t,r},H0=function(t){var n=t.cache,r=t.serialized,o=t.isStringTag;return fu(n,r,o),wg(function(){return mu(n,r,o)}),null},U0=gu(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var o=e[gd],i=[r],a="";typeof e.className=="string"?a=yg(t.registered,i,e.className):e.className!=null&&(a=e.className+" ");var l=Fi(i,void 0,h.useContext(So));a+=t.key+"-"+l.name;var c={};for(var d in e)vu.call(e,d)&&d!=="css"&&d!==gd&&(c[d]=e[d]);return c.className=a,n&&(c.ref=n),h.createElement(h.Fragment,null,h.createElement(H0,{cache:t,serialized:l,isStringTag:typeof o=="string"}),h.createElement(o,c))}),V0=U0,Nc={exports:{}},Xp;function jg(){return Xp||(Xp=1,function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var i in o)({}).hasOwnProperty.call(o,i)&&(n[i]=o[i])}return n},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(Nc)),Nc.exports}jg();var Zp=function(t,n){var r=arguments;if(n==null||!vu.call(n,"css"))return h.createElement.apply(void 0,r);var o=r.length,i=new Array(o);i[0]=V0,i[1]=W0(t,n);for(var a=2;a<o;a++)i[a]=r[a];return h.createElement.apply(null,i)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(Zp||(Zp={}));var Y0=gu(function(e,t){var n=e.styles,r=Fi([n],void 0,h.useContext(So)),o=h.useRef();return Qp(function(){var i=t.key+"-global",a=new t.sheet.constructor({key:i,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),l=!1,c=document.querySelector('style[data-emotion="'+i+" "+r.name+'"]');return t.sheet.tags.length&&(a.before=t.sheet.tags[0]),c!==null&&(l=!0,c.setAttribute("data-emotion",i),a.hydrate([c])),o.current=[a,l],function(){a.flush()}},[t]),Qp(function(){var i=o.current,a=i[0],l=i[1];if(l){i[1]=!1;return}if(r.next!==void 0&&mu(t,r.next,!0),a.tags.length){var c=a.tags[a.tags.length-1].nextElementSibling;a.before=c,a.flush()}t.insert("",r,a,!1)},[t,r.name]),null});function Es(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Fi(t)}function Lr(){var e=Es.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var G0=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,q0=ug(function(e){return G0.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),K0=q0,Q0=function(t){return t!=="theme"},Jp=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?K0:Q0},eh=function(t,n,r){var o;if(n){var i=n.shouldForwardProp;o=t.__emotion_forwardProp&&i?function(a){return t.__emotion_forwardProp(a)&&i(a)}:i}return typeof o!="function"&&r&&(o=t.__emotion_forwardProp),o},X0=function(t){var n=t.cache,r=t.serialized,o=t.isStringTag;return fu(n,r,o),wg(function(){return mu(n,r,o)}),null},Z0=function e(t,n){var r=t.__emotion_real===t,o=r&&t.__emotion_base||t,i,a;n!==void 0&&(i=n.label,a=n.target);var l=eh(t,n,r),c=l||Jp(o),d=!c("as");return function(){var u=arguments,p=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(i!==void 0&&p.push("label:"+i+";"),u[0]==null||u[0].raw===void 0)p.push.apply(p,u);else{var f=u[0];p.push(f[0]);for(var g=u.length,v=1;v<g;v++)p.push(u[v],f[v])}var y=gu(function(m,x,j){var b=d&&m.as||o,w="",N=[],k=m;if(m.theme==null){k={};for(var E in m)k[E]=m[E];k.theme=h.useContext(So)}typeof m.className=="string"?w=yg(x.registered,N,m.className):m.className!=null&&(w=m.className+" ");var _=Fi(p.concat(N),x.registered,k);w+=x.key+"-"+_.name,a!==void 0&&(w+=" "+a);var D=d&&l===void 0?Jp(b):c,S={};for(var T in m)d&&T==="as"||D(T)&&(S[T]=m[T]);return S.className=w,j&&(S.ref=j),h.createElement(h.Fragment,null,h.createElement(X0,{cache:x,serialized:_,isStringTag:typeof b=="string"}),h.createElement(b,S))});return y.displayName=i!==void 0?i:"Styled("+(typeof o=="string"?o:o.displayName||o.name||"Component")+")",y.defaultProps=t.defaultProps,y.__emotion_real=y,y.__emotion_base=o,y.__emotion_styles=p,y.__emotion_forwardProp=l,Object.defineProperty(y,"toString",{value:function(){return"."+a}}),y.withComponent=function(m,x){var j=e(m,C({},n,x,{shouldForwardProp:eh(y,x,!0)}));return j.apply(void 0,p)},y}},J0=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],vd=Z0.bind(null);J0.forEach(function(e){vd[e]=vd(e)});function e1(e,t){const n=hg({key:"css",prepend:e});if(t){const r=n.insert;n.insert=(...o)=>(o[1].styles.match(/^@layer\s+[^{]*$/)||(o[1].styles=`@layer mui {${o[1].styles}}`),r(...o))}return n}const Ic=new Map;function t1(e){const{injectFirst:t,enableCssLayer:n,children:r}=e,o=h.useMemo(()=>{const i=`${t}-${n}`;if(typeof document=="object"&&Ic.has(i))return Ic.get(i);const a=e1(t,n);return Ic.set(i,a),a},[t,n]);return t||n?s.jsx(z0,{value:o,children:r}):r}function n1(e){return e==null||Object.keys(e).length===0}function kg(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?o=>t(n1(o)?n:o):t;return s.jsx(Y0,{styles:r})}function yu(e,t){return vd(e,t)}const Sg=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},th=[];function Wa(e){return th[0]=e,Fi(th)}const r1=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:kg,StyledEngineProvider:t1,ThemeContext:So,css:Es,default:yu,internal_processStyles:Sg,internal_serializeStyles:Wa,keyframes:Lr},Symbol.toStringTag,{value:"Module"}));function jr(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function _g(e){if(h.isValidElement(e)||!jr(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=_g(e[n])}),t}function cn(e,t,n={clone:!0}){const r=n.clone?C({},e):e;return jr(e)&&jr(t)&&Object.keys(t).forEach(o=>{h.isValidElement(t[o])?r[o]=t[o]:jr(t[o])&&Object.prototype.hasOwnProperty.call(e,o)&&jr(e[o])?r[o]=cn(e[o],t[o],n):n.clone?r[o]=jr(t[o])?_g(t[o]):t[o]:r[o]=t[o]}),r}const s1=Object.freeze(Object.defineProperty({__proto__:null,default:cn,isPlainObject:jr},Symbol.toStringTag,{value:"Module"})),o1=["values","unit","step"],i1=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>C({},n,{[r.key]:r.val}),{})};function Tg(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,o=ne(e,o1),i=i1(t),a=Object.keys(i);function l(f){return`@media (min-width:${typeof t[f]=="number"?t[f]:f}${n})`}function c(f){return`@media (max-width:${(typeof t[f]=="number"?t[f]:f)-r/100}${n})`}function d(f,g){const v=a.indexOf(g);return`@media (min-width:${typeof t[f]=="number"?t[f]:f}${n}) and (max-width:${(v!==-1&&typeof t[a[v]]=="number"?t[a[v]]:g)-r/100}${n})`}function u(f){return a.indexOf(f)+1<a.length?d(f,a[a.indexOf(f)+1]):l(f)}function p(f){const g=a.indexOf(f);return g===0?l(a[1]):g===a.length-1?c(a[g]):d(f,a[a.indexOf(f)+1]).replace("@media","@media not all and")}return C({keys:a,values:i,up:l,down:c,between:d,only:u,not:p,unit:n},o)}const a1={borderRadius:4};function ci(e,t){return t?cn(e,t,{clone:!1}):e}const xu={xs:0,sm:600,md:900,lg:1200,xl:1536},nh={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${xu[e]}px)`};function yn(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const i=r.breakpoints||nh;return t.reduce((a,l,c)=>(a[i.up(i.keys[c])]=n(t[c]),a),{})}if(typeof t=="object"){const i=r.breakpoints||nh;return Object.keys(t).reduce((a,l)=>{if(Object.keys(i.values||xu).indexOf(l)!==-1){const c=i.up(l);a[c]=n(t[l],l)}else{const c=l;a[c]=t[c]}return a},{})}return n(t)}function Eg(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((r,o)=>{const i=e.up(o);return r[i]={},r},{}))||{}}function yd(e,t){return e.reduce((n,r)=>{const o=n[r];return(!o||Object.keys(o).length===0)&&delete n[r],n},t)}function l1(e,...t){const n=Eg(e),r=[n,...t].reduce((o,i)=>cn(o,i),{});return yd(Object.keys(n),r)}function c1(e,t){if(typeof e!="object")return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((o,i)=>{i<e.length&&(n[o]=!0)}):r.forEach(o=>{e[o]!=null&&(n[o]=!0)}),n}function gs({values:e,breakpoints:t,base:n}){const r=n||c1(e,t),o=Object.keys(r);if(o.length===0)return e;let i;return o.reduce((a,l,c)=>(Array.isArray(e)?(a[l]=e[c]!=null?e[c]:e[i],i=c):typeof e=="object"?(a[l]=e[l]!=null?e[l]:e[i],i=l):a[l]=e,a),{})}function ee(e){if(typeof e!="string")throw new Error(Pr(7));return e.charAt(0).toUpperCase()+e.slice(1)}const d1=Object.freeze(Object.defineProperty({__proto__:null,default:ee},Symbol.toStringTag,{value:"Module"}));function Rl(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((o,i)=>o&&o[i]?o[i]:null,e);if(r!=null)return r}return t.split(".").reduce((r,o)=>r&&r[o]!=null?r[o]:null,e)}function Ha(e,t,n,r=n){let o;return typeof e=="function"?o=e(n):Array.isArray(e)?o=e[n]||r:o=Rl(e,n)||r,t&&(o=t(o,r,e)),o}function At(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:o}=e,i=a=>{if(a[t]==null)return null;const l=a[t],c=a.theme,d=Rl(c,r)||{};return yn(a,l,p=>{let f=Ha(d,o,p);return p===f&&typeof p=="string"&&(f=Ha(d,o,`${t}${p==="default"?"":ee(p)}`,p)),n===!1?f:{[n]:f}})};return i.propTypes={},i.filterProps=[t],i}function u1(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const p1={m:"margin",p:"padding"},h1={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},rh={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},f1=u1(e=>{if(e.length>2)if(rh[e])e=rh[e];else return[e];const[t,n]=e.split(""),r=p1[t],o=h1[n]||"";return Array.isArray(o)?o.map(i=>r+i):[r+o]}),bu=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],wu=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...bu,...wu];function zi(e,t,n,r){var o;const i=(o=Rl(e,t,!1))!=null?o:n;return typeof i=="number"?a=>typeof a=="string"?a:i*a:Array.isArray(i)?a=>typeof a=="string"?a:i[a]:typeof i=="function"?i:()=>{}}function Cu(e){return zi(e,"spacing",8)}function bs(e,t){if(typeof t=="string"||t==null)return t;const n=Math.abs(t),r=e(n);return t>=0?r:typeof r=="number"?-r:`-${r}`}function m1(e,t){return n=>e.reduce((r,o)=>(r[o]=bs(t,n),r),{})}function g1(e,t,n,r){if(t.indexOf(n)===-1)return null;const o=f1(n),i=m1(o,r),a=e[n];return yn(e,a,i)}function Mg(e,t){const n=Cu(e.theme);return Object.keys(e).map(r=>g1(e,t,r,n)).reduce(ci,{})}function Mt(e){return Mg(e,bu)}Mt.propTypes={};Mt.filterProps=bu;function Pt(e){return Mg(e,wu)}Pt.propTypes={};Pt.filterProps=wu;function v1(e=8){if(e.mui)return e;const t=Cu({spacing:e}),n=(...r)=>(r.length===0?[1]:r).map(i=>{const a=t(i);return typeof a=="number"?`${a}px`:a}).join(" ");return n.mui=!0,n}function Al(...e){const t=e.reduce((r,o)=>(o.filterProps.forEach(i=>{r[i]=o}),r),{}),n=r=>Object.keys(r).reduce((o,i)=>t[i]?ci(o,t[i](r)):o,{});return n.propTypes={},n.filterProps=e.reduce((r,o)=>r.concat(o.filterProps),[]),n}function Nn(e){return typeof e!="number"?e:`${e}px solid`}function Fn(e,t){return At({prop:e,themeKey:"borders",transform:t})}const y1=Fn("border",Nn),x1=Fn("borderTop",Nn),b1=Fn("borderRight",Nn),w1=Fn("borderBottom",Nn),C1=Fn("borderLeft",Nn),j1=Fn("borderColor"),k1=Fn("borderTopColor"),S1=Fn("borderRightColor"),_1=Fn("borderBottomColor"),T1=Fn("borderLeftColor"),E1=Fn("outline",Nn),M1=Fn("outlineColor"),$l=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=zi(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:bs(t,r)});return yn(e,e.borderRadius,n)}return null};$l.propTypes={};$l.filterProps=["borderRadius"];Al(y1,x1,b1,w1,C1,j1,k1,S1,_1,T1,$l,E1,M1);const Ol=e=>{if(e.gap!==void 0&&e.gap!==null){const t=zi(e.theme,"spacing",8),n=r=>({gap:bs(t,r)});return yn(e,e.gap,n)}return null};Ol.propTypes={};Ol.filterProps=["gap"];const Ll=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=zi(e.theme,"spacing",8),n=r=>({columnGap:bs(t,r)});return yn(e,e.columnGap,n)}return null};Ll.propTypes={};Ll.filterProps=["columnGap"];const Bl=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=zi(e.theme,"spacing",8),n=r=>({rowGap:bs(t,r)});return yn(e,e.rowGap,n)}return null};Bl.propTypes={};Bl.filterProps=["rowGap"];const P1=At({prop:"gridColumn"}),N1=At({prop:"gridRow"}),I1=At({prop:"gridAutoFlow"}),D1=At({prop:"gridAutoColumns"}),R1=At({prop:"gridAutoRows"}),A1=At({prop:"gridTemplateColumns"}),$1=At({prop:"gridTemplateRows"}),O1=At({prop:"gridTemplateAreas"}),L1=At({prop:"gridArea"});Al(Ol,Ll,Bl,P1,N1,I1,D1,R1,A1,$1,O1,L1);function Ks(e,t){return t==="grey"?t:e}const B1=At({prop:"color",themeKey:"palette",transform:Ks}),F1=At({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Ks}),z1=At({prop:"backgroundColor",themeKey:"palette",transform:Ks});Al(B1,F1,z1);function jn(e){return e<=1&&e!==0?`${e*100}%`:e}const W1=At({prop:"width",transform:jn}),ju=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var r,o;const i=((r=e.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||xu[n];return i?((o=e.theme)==null||(o=o.breakpoints)==null?void 0:o.unit)!=="px"?{maxWidth:`${i}${e.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:jn(n)}};return yn(e,e.maxWidth,t)}return null};ju.filterProps=["maxWidth"];const H1=At({prop:"minWidth",transform:jn}),U1=At({prop:"height",transform:jn}),V1=At({prop:"maxHeight",transform:jn}),Y1=At({prop:"minHeight",transform:jn});At({prop:"size",cssProperty:"width",transform:jn});At({prop:"size",cssProperty:"height",transform:jn});const G1=At({prop:"boxSizing"});Al(W1,ju,H1,U1,V1,Y1,G1);const Wi={border:{themeKey:"borders",transform:Nn},borderTop:{themeKey:"borders",transform:Nn},borderRight:{themeKey:"borders",transform:Nn},borderBottom:{themeKey:"borders",transform:Nn},borderLeft:{themeKey:"borders",transform:Nn},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Nn},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:$l},color:{themeKey:"palette",transform:Ks},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Ks},backgroundColor:{themeKey:"palette",transform:Ks},p:{style:Pt},pt:{style:Pt},pr:{style:Pt},pb:{style:Pt},pl:{style:Pt},px:{style:Pt},py:{style:Pt},padding:{style:Pt},paddingTop:{style:Pt},paddingRight:{style:Pt},paddingBottom:{style:Pt},paddingLeft:{style:Pt},paddingX:{style:Pt},paddingY:{style:Pt},paddingInline:{style:Pt},paddingInlineStart:{style:Pt},paddingInlineEnd:{style:Pt},paddingBlock:{style:Pt},paddingBlockStart:{style:Pt},paddingBlockEnd:{style:Pt},m:{style:Mt},mt:{style:Mt},mr:{style:Mt},mb:{style:Mt},ml:{style:Mt},mx:{style:Mt},my:{style:Mt},margin:{style:Mt},marginTop:{style:Mt},marginRight:{style:Mt},marginBottom:{style:Mt},marginLeft:{style:Mt},marginX:{style:Mt},marginY:{style:Mt},marginInline:{style:Mt},marginInlineStart:{style:Mt},marginInlineEnd:{style:Mt},marginBlock:{style:Mt},marginBlockStart:{style:Mt},marginBlockEnd:{style:Mt},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Ol},rowGap:{style:Bl},columnGap:{style:Ll},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:jn},maxWidth:{style:ju},minWidth:{transform:jn},height:{transform:jn},maxHeight:{transform:jn},minHeight:{transform:jn},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function q1(...e){const t=e.reduce((r,o)=>r.concat(Object.keys(o)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function K1(e,t){return typeof e=="function"?e(t):e}function Pg(){function e(n,r,o,i){const a={[n]:r,theme:o},l=i[n];if(!l)return{[n]:r};const{cssProperty:c=n,themeKey:d,transform:u,style:p}=l;if(r==null)return null;if(d==="typography"&&r==="inherit")return{[n]:r};const f=Rl(o,d)||{};return p?p(a):yn(a,r,v=>{let y=Ha(f,u,v);return v===y&&typeof v=="string"&&(y=Ha(f,u,`${n}${v==="default"?"":ee(v)}`,v)),c===!1?y:{[c]:y}})}function t(n){var r;const{sx:o,theme:i={},nested:a}=n||{};if(!o)return null;const l=(r=i.unstable_sxConfig)!=null?r:Wi;function c(d){let u=d;if(typeof d=="function")u=d(i);else if(typeof d!="object")return d;if(!u)return null;const p=Eg(i.breakpoints),f=Object.keys(p);let g=p;return Object.keys(u).forEach(v=>{const y=K1(u[v],i);if(y!=null)if(typeof y=="object")if(l[v])g=ci(g,e(v,y,i,l));else{const m=yn({theme:i},y,x=>({[v]:x}));q1(m,y)?g[v]=t({sx:y,theme:i,nested:!0}):g=ci(g,m)}else g=ci(g,e(v,y,i,l))}),!a&&i.modularCssLayers?{"@layer sx":yd(f,g)}:yd(f,g)}return Array.isArray(o)?o.map(c):c(o)}return t}const _o=Pg();_o.filterProps=["sx"];function Ng(e,t){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}:n.palette.mode===e?t:{}}const Q1=["breakpoints","palette","spacing","shape"];function To(e={},...t){const{breakpoints:n={},palette:r={},spacing:o,shape:i={}}=e,a=ne(e,Q1),l=Tg(n),c=v1(o);let d=cn({breakpoints:l,direction:"ltr",components:{},palette:C({mode:"light"},r),spacing:c,shape:C({},a1,i)},a);return d.applyStyles=Ng,d=t.reduce((u,p)=>cn(u,p),d),d.unstable_sxConfig=C({},Wi,a==null?void 0:a.unstable_sxConfig),d.unstable_sx=function(p){return _o({sx:p,theme:this})},d}const X1=Object.freeze(Object.defineProperty({__proto__:null,default:To,private_createBreakpoints:Tg,unstable_applyStyles:Ng},Symbol.toStringTag,{value:"Module"}));function Z1(e){return Object.keys(e).length===0}function Fl(e=null){const t=h.useContext(So);return!t||Z1(t)?e:t}const J1=To();function Eo(e=J1){return Fl(e)}function Dc(e){const t=Wa(e);return e!==t&&t.styles?(t.styles.match(/^@layer\s+[^{]*$/)||(t.styles=`@layer global{${t.styles}}`),t):e}function Ig({styles:e,themeId:t,defaultTheme:n={}}){const r=Eo(n),o=t&&r[t]||r;let i=typeof e=="function"?e(o):e;return o.modularCssLayers&&(Array.isArray(i)?i=i.map(a=>Dc(typeof a=="function"?a(o):a)):i=Dc(i)),s.jsx(kg,{styles:i})}const ew=["sx"],tw=e=>{var t,n;const r={systemProps:{},otherProps:{}},o=(t=e==null||(n=e.theme)==null?void 0:n.unstable_sxConfig)!=null?t:Wi;return Object.keys(e).forEach(i=>{o[i]?r.systemProps[i]=e[i]:r.otherProps[i]=e[i]}),r};function Hi(e){const{sx:t}=e,n=ne(e,ew),{systemProps:r,otherProps:o}=tw(n);let i;return Array.isArray(t)?i=[r,...t]:typeof t=="function"?i=(...a)=>{const l=t(...a);return jr(l)?C({},r,l):r}:i=C({},r,t),C({},o,{sx:i})}const nw=Object.freeze(Object.defineProperty({__proto__:null,default:_o,extendSxProp:Hi,unstable_createStyleFunctionSx:Pg,unstable_defaultSxConfig:Wi},Symbol.toStringTag,{value:"Module"})),sh=e=>e,rw=()=>{let e=sh;return{configure(t){e=t},generate(t){return e(t)},reset(){e=sh}}},Dg=rw();function Rg(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Rg(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ae(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Rg(e))&&(r&&(r+=" "),r+=t);return r}const sw=["className","component"];function ow(e={}){const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:o}=e,i=yu("div",{shouldForwardProp:l=>l!=="theme"&&l!=="sx"&&l!=="as"})(_o);return h.forwardRef(function(c,d){const u=Eo(n),p=Hi(c),{className:f,component:g="div"}=p,v=ne(p,sw);return s.jsx(i,C({as:g,ref:d,className:ae(f,o?o(r):r),theme:t&&u[t]||u},v))})}const iw={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function ye(e,t,n="Mui"){const r=iw[t];return r?`${n}-${r}`:`${Dg.generate(e)}-${t}`}function xe(e,t,n="Mui"){const r={};return t.forEach(o=>{r[o]=ye(e,o,n)}),r}var Ag={exports:{}},yt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ku=Symbol.for("react.transitional.element"),Su=Symbol.for("react.portal"),zl=Symbol.for("react.fragment"),Wl=Symbol.for("react.strict_mode"),Hl=Symbol.for("react.profiler"),Ul=Symbol.for("react.consumer"),Vl=Symbol.for("react.context"),Yl=Symbol.for("react.forward_ref"),Gl=Symbol.for("react.suspense"),ql=Symbol.for("react.suspense_list"),Kl=Symbol.for("react.memo"),Ql=Symbol.for("react.lazy"),aw=Symbol.for("react.view_transition"),lw=Symbol.for("react.client.reference");function zn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case ku:switch(e=e.type,e){case zl:case Hl:case Wl:case Gl:case ql:case aw:return e;default:switch(e=e&&e.$$typeof,e){case Vl:case Yl:case Ql:case Kl:return e;case Ul:return e;default:return t}}case Su:return t}}}yt.ContextConsumer=Ul;yt.ContextProvider=Vl;yt.Element=ku;yt.ForwardRef=Yl;yt.Fragment=zl;yt.Lazy=Ql;yt.Memo=Kl;yt.Portal=Su;yt.Profiler=Hl;yt.StrictMode=Wl;yt.Suspense=Gl;yt.SuspenseList=ql;yt.isContextConsumer=function(e){return zn(e)===Ul};yt.isContextProvider=function(e){return zn(e)===Vl};yt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ku};yt.isForwardRef=function(e){return zn(e)===Yl};yt.isFragment=function(e){return zn(e)===zl};yt.isLazy=function(e){return zn(e)===Ql};yt.isMemo=function(e){return zn(e)===Kl};yt.isPortal=function(e){return zn(e)===Su};yt.isProfiler=function(e){return zn(e)===Hl};yt.isStrictMode=function(e){return zn(e)===Wl};yt.isSuspense=function(e){return zn(e)===Gl};yt.isSuspenseList=function(e){return zn(e)===ql};yt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===zl||e===Hl||e===Wl||e===Gl||e===ql||typeof e=="object"&&e!==null&&(e.$$typeof===Ql||e.$$typeof===Kl||e.$$typeof===Vl||e.$$typeof===Ul||e.$$typeof===Yl||e.$$typeof===lw||e.getModuleId!==void 0)};yt.typeOf=zn;Ag.exports=yt;var oh=Ag.exports;const cw=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function $g(e){const t=`${e}`.match(cw);return t&&t[1]||""}function Og(e,t=""){return e.displayName||e.name||$g(e)||t}function ih(e,t,n){const r=Og(t);return e.displayName||(r!==""?`${n}(${r})`:n)}function dw(e){if(e!=null){if(typeof e=="string")return e;if(typeof e=="function")return Og(e,"Component");if(typeof e=="object")switch(e.$$typeof){case oh.ForwardRef:return ih(e,e.render,"ForwardRef");case oh.Memo:return ih(e,e.type,"memo");default:return}}}const uw=Object.freeze(Object.defineProperty({__proto__:null,default:dw,getFunctionName:$g},Symbol.toStringTag,{value:"Module"})),pw=["ownerState"],hw=["variants"],fw=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function mw(e){return Object.keys(e).length===0}function gw(e){return typeof e=="string"&&e.charCodeAt(0)>96}function Rc(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function ah(e,t){return t&&e&&typeof e=="object"&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}const vw=To(),yw=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function la({defaultTheme:e,theme:t,themeId:n}){return mw(t)?e:t[n]||t}function xw(e){return e?(t,n)=>n[e]:null}function Na(e,t,n){let{ownerState:r}=t,o=ne(t,pw);const i=typeof e=="function"?e(C({ownerState:r},o)):e;if(Array.isArray(i))return i.flatMap(a=>Na(a,C({ownerState:r},o),n));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:a=[]}=i;let c=ne(i,hw);return a.forEach(d=>{let u=!0;if(typeof d.props=="function"?u=d.props(C({ownerState:r},o,r)):Object.keys(d.props).forEach(p=>{(r==null?void 0:r[p])!==d.props[p]&&o[p]!==d.props[p]&&(u=!1)}),u){Array.isArray(c)||(c=[c]);const p=typeof d.style=="function"?d.style(C({ownerState:r},o,r)):d.style;c.push(n?ah(Wa(p),n):p)}}),c}return n?ah(Wa(i),n):i}function bw(e={}){const{themeId:t,defaultTheme:n=vw,rootShouldForwardProp:r=Rc,slotShouldForwardProp:o=Rc}=e,i=a=>_o(C({},a,{theme:la(C({},a,{defaultTheme:n,themeId:t}))}));return i.__mui_systemSx=!0,(a,l={})=>{Sg(a,k=>k.filter(E=>!(E!=null&&E.__mui_systemSx)));const{name:c,slot:d,skipVariantsResolver:u,skipSx:p,overridesResolver:f=xw(yw(d))}=l,g=ne(l,fw),v=c&&c.startsWith("Mui")||d?"components":"custom",y=u!==void 0?u:d&&d!=="Root"&&d!=="root"||!1,m=p||!1;let x,j=Rc;d==="Root"||d==="root"?j=r:d?j=o:gw(a)&&(j=void 0);const b=yu(a,C({shouldForwardProp:j,label:x},g)),w=k=>typeof k=="function"&&k.__emotion_real!==k||jr(k)?E=>{const _=la({theme:E.theme,defaultTheme:n,themeId:t});return Na(k,C({},E,{theme:_}),_.modularCssLayers?v:void 0)}:k,N=(k,...E)=>{let _=w(k);const D=E?E.map(w):[];c&&f&&D.push($=>{const O=la(C({},$,{defaultTheme:n,themeId:t}));if(!O.components||!O.components[c]||!O.components[c].styleOverrides)return null;const M=O.components[c].styleOverrides,P={};return Object.entries(M).forEach(([L,R])=>{P[L]=Na(R,C({},$,{theme:O}),O.modularCssLayers?"theme":void 0)}),f($,P)}),c&&!y&&D.push($=>{var O;const M=la(C({},$,{defaultTheme:n,themeId:t})),P=M==null||(O=M.components)==null||(O=O[c])==null?void 0:O.variants;return Na({variants:P},C({},$,{theme:M}),M.modularCssLayers?"theme":void 0)}),m||D.push(i);const S=D.length-E.length;if(Array.isArray(k)&&S>0){const $=new Array(S).fill("");_=[...k,...$],_.raw=[...k.raw,...$]}const T=b(_,...D);return a.muiName&&(T.muiName=a.muiName),T};return b.withConfig&&(N.withConfig=b.withConfig),N}}const Lg=bw();function Si(e,t){const n=C({},t);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=C({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const o=e[r]||{},i=t[r];n[r]={},!i||!Object.keys(i)?n[r]=o:!o||!Object.keys(o)?n[r]=i:(n[r]=C({},i),Object.keys(o).forEach(a=>{n[r][a]=Si(o[a],i[a])}))}else n[r]===void 0&&(n[r]=e[r])}),n}function Bg(e){const{theme:t,name:n,props:r}=e;return!t||!t.components||!t.components[n]||!t.components[n].defaultProps?r:Si(t.components[n].defaultProps,r)}function _u({props:e,name:t,defaultTheme:n,themeId:r}){let o=Eo(n);return r&&(o=o[r]||o),Bg({theme:o,name:t,props:e})}const dn=typeof window<"u"?h.useLayoutEffect:h.useEffect;function ww(e,t,n,r,o){const[i,a]=h.useState(()=>o&&n?n(e).matches:r?r(e).matches:t);return dn(()=>{let l=!0;if(!n)return;const c=n(e),d=()=>{l&&a(c.matches)};return d(),c.addListener(d),()=>{l=!1,c.removeListener(d)}},[e,n]),i}const Fg=h.useSyncExternalStore;function Cw(e,t,n,r,o){const i=h.useCallback(()=>t,[t]),a=h.useMemo(()=>{if(o&&n)return()=>n(e).matches;if(r!==null){const{matches:u}=r(e);return()=>u}return i},[i,e,r,o,n]),[l,c]=h.useMemo(()=>{if(n===null)return[i,()=>()=>{}];const u=n(e);return[()=>u.matches,p=>(u.addListener(p),()=>{u.removeListener(p)})]},[i,n,e]);return Fg(c,l,a)}function jw(e,t={}){const n=Fl(),r=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:o=!1,matchMedia:i=r?window.matchMedia:null,ssrMatchMedia:a=null,noSsr:l=!1}=Bg({name:"MuiUseMediaQuery",props:t,theme:n});let c=e;return c=c.replace(/^@media( ?)/m,""),(Fg!==void 0?Cw:ww)(c,o,i,a,l)}function zg(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}const kw=Object.freeze(Object.defineProperty({__proto__:null,default:zg},Symbol.toStringTag,{value:"Module"}));function Sw(e,t=0,n=1){return zg(e,t,n)}function _w(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,o)=>o<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Wg(e){if(e.type)return e;if(e.charAt(0)==="#")return Wg(_w(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(Pr(9,e));let r=e.substring(t+1,e.length-1),o;if(n==="color"){if(r=r.split(" "),o=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(o)===-1)throw new Error(Pr(10,o))}else r=r.split(",");return r=r.map(i=>parseFloat(i)),{type:n,values:r,colorSpace:o}}function Tw(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((o,i)=>i<3?parseInt(o,10):o):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function oo(e,t){return e=Wg(e),t=Sw(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,Tw(e)}function lh(...e){return e.reduce((t,n)=>n==null?t:function(...o){t.apply(this,o),n.apply(this,o)},()=>{})}function Hg(e,t=166){let n;function r(...o){const i=()=>{e.apply(this,o)};clearTimeout(n),n=setTimeout(i,t)}return r.clear=()=>{clearTimeout(n)},r}function Ia(e,t){var n,r;return h.isValidElement(e)&&t.indexOf((n=e.type.muiName)!=null?n:(r=e.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function Ut(e){return e&&e.ownerDocument||document}function ws(e){return Ut(e).defaultView||window}function xd(e,t){typeof e=="function"?e(t):e&&(e.current=t)}let ch=0;function Ew(e){const[t,n]=h.useState(e),r=e||t;return h.useEffect(()=>{t==null&&(ch+=1,n(`mui-${ch}`))},[t]),r}const dh=dd.useId;function Mo(e){if(dh!==void 0){const t=dh();return e??t}return Ew(e)}function fr({controlled:e,default:t,name:n,state:r="value"}){const{current:o}=h.useRef(e!==void 0),[i,a]=h.useState(t),l=o?e:i,c=h.useCallback(d=>{o||a(d)},[]);return[l,c]}function Oe(e){const t=h.useRef(e);return dn(()=>{t.current=e}),h.useRef((...n)=>(0,t.current)(...n)).current}function jt(...e){return h.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{xd(n,t)})},e)}const uh={};function Mw(e,t){const n=h.useRef(uh);return n.current===uh&&(n.current=e(t)),n}const Pw=[];function Nw(e){h.useEffect(e,Pw)}class Ui{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new Ui}start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}}function Hr(){const e=Mw(Ui.create).current;return Nw(e.disposeEffect),e}let Xl=!0,bd=!1;const Iw=new Ui,Dw={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Rw(e){const{type:t,tagName:n}=e;return!!(n==="INPUT"&&Dw[t]&&!e.readOnly||n==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function Aw(e){e.metaKey||e.altKey||e.ctrlKey||(Xl=!0)}function Ac(){Xl=!1}function $w(){this.visibilityState==="hidden"&&bd&&(Xl=!0)}function Ow(e){e.addEventListener("keydown",Aw,!0),e.addEventListener("mousedown",Ac,!0),e.addEventListener("pointerdown",Ac,!0),e.addEventListener("touchstart",Ac,!0),e.addEventListener("visibilitychange",$w,!0)}function Lw(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return Xl||Rw(t)}function Ug(){const e=h.useCallback(o=>{o!=null&&Ow(o.ownerDocument)},[]),t=h.useRef(!1);function n(){return t.current?(bd=!0,Iw.start(100,()=>{bd=!1}),t.current=!1,!0):!1}function r(o){return Lw(o)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:r,onBlur:n,ref:e}}function Vg(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}function we(e,t,n=void 0){const r={};return Object.keys(e).forEach(o=>{r[o]=e[o].reduce((i,a)=>{if(a){const l=t(a);l!==""&&i.push(l),n&&n[a]&&i.push(n[a])}return i},[]).join(" ")}),r}function io(e){return typeof e=="string"}function Us(e,t,n){return e===void 0||io(e)?t:C({},t,{ownerState:C({},t.ownerState,n)})}function Ua(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function ph(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function Yg(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:o,className:i}=e;if(!t){const g=ae(n==null?void 0:n.className,i,o==null?void 0:o.className,r==null?void 0:r.className),v=C({},n==null?void 0:n.style,o==null?void 0:o.style,r==null?void 0:r.style),y=C({},n,o,r);return g.length>0&&(y.className=g),Object.keys(v).length>0&&(y.style=v),{props:y,internalRef:void 0}}const a=Ua(C({},o,r)),l=ph(r),c=ph(o),d=t(a),u=ae(d==null?void 0:d.className,n==null?void 0:n.className,i,o==null?void 0:o.className,r==null?void 0:r.className),p=C({},d==null?void 0:d.style,n==null?void 0:n.style,o==null?void 0:o.style,r==null?void 0:r.style),f=C({},d,n,c,l);return u.length>0&&(f.className=u),Object.keys(p).length>0&&(f.style=p),{props:f,internalRef:d.ref}}function Gg(e,t,n){return typeof e=="function"?e(t,n):e}const Bw=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Xr(e){var t;const{elementType:n,externalSlotProps:r,ownerState:o,skipResolvingSlotProps:i=!1}=e,a=ne(e,Bw),l=i?{}:Gg(r,o),{props:c,internalRef:d}=Yg(C({},a,{externalSlotProps:l})),u=jt(d,l==null?void 0:l.ref,(t=e.additionalProps)==null?void 0:t.ref);return Us(n,C({},c,{ref:u}),o)}function Ms(e){if(parseInt(h.version,10)>=19){var t;return(e==null||(t=e.props)==null?void 0:t.ref)||null}return(e==null?void 0:e.ref)||null}const qg=h.createContext(null);function Kg(){return h.useContext(qg)}const Fw=typeof Symbol=="function"&&Symbol.for,zw=Fw?Symbol.for("mui.nested"):"__THEME_NESTED__";function Ww(e,t){return typeof t=="function"?t(e):C({},e,t)}function Hw(e){const{children:t,theme:n}=e,r=Kg(),o=h.useMemo(()=>{const i=r===null?n:Ww(r,n);return i!=null&&(i[zw]=r!==null),i},[n,r]);return s.jsx(qg.Provider,{value:o,children:t})}const Uw=["value"],Qg=h.createContext();function Vw(e){let{value:t}=e,n=ne(e,Uw);return s.jsx(Qg.Provider,C({value:t??!0},n))}const Tu=()=>{const e=h.useContext(Qg);return e??!1},Xg=h.createContext(void 0);function Yw({value:e,children:t}){return s.jsx(Xg.Provider,{value:e,children:t})}function Gw(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const o=t.components[n];return o.defaultProps?Si(o.defaultProps,r):!o.styleOverrides&&!o.variants?Si(o,r):r}function qw({props:e,name:t}){const n=h.useContext(Xg);return Gw({props:e,name:t,theme:{components:n}})}function Kw(e){const t=Fl(),n=Mo()||"",{modularCssLayers:r}=e;let o="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!r||t!==null?o="":typeof r=="string"?o=r.replace(/mui(?!\.)/g,o):o=`@layer ${o};`,dn(()=>{const i=document.querySelector("head");if(!i)return;const a=i.firstChild;if(o){var l;if(a&&(l=a.hasAttribute)!=null&&l.call(a,"data-mui-layer-order")&&a.getAttribute("data-mui-layer-order")===n)return;const d=document.createElement("style");d.setAttribute("data-mui-layer-order",n),d.textContent=o,i.prepend(d)}else{var c;(c=i.querySelector(`style[data-mui-layer-order="${n}"]`))==null||c.remove()}},[o,n]),o?s.jsx(Ig,{styles:o}):null}const hh={};function fh(e,t,n,r=!1){return h.useMemo(()=>{const o=e&&t[e]||t;if(typeof n=="function"){const i=n(o),a=e?C({},t,{[e]:i}):i;return r?()=>a:a}return e?C({},t,{[e]:n}):C({},t,n)},[e,t,n,r])}function Qw(e){const{children:t,theme:n,themeId:r}=e,o=Fl(hh),i=Kg()||hh,a=fh(r,o,n),l=fh(r,i,n,!0),c=a.direction==="rtl",d=Kw(a);return s.jsx(Hw,{theme:l,children:s.jsx(So.Provider,{value:a,children:s.jsx(Vw,{value:c,children:s.jsxs(Yw,{value:a==null?void 0:a.components,children:[d,t]})})})})}function Nr(e){"@babel/helpers - typeof";return Nr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nr(e)}function Xw(e,t){if(Nr(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Nr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zg(e){var t=Xw(e,"string");return Nr(t)=="symbol"?t:t+""}const Zw=["className","component","disableGutters","fixed","maxWidth","classes"],Jw=To(),eC=Lg("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${ee(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),tC=e=>_u({props:e,name:"MuiContainer",defaultTheme:Jw}),nC=(e,t)=>{const n=c=>ye(t,c),{classes:r,fixed:o,disableGutters:i,maxWidth:a}=e,l={root:["root",a&&`maxWidth${ee(String(a))}`,o&&"fixed",i&&"disableGutters"]};return we(l,n,r)};function rC(e={}){const{createStyledComponent:t=eC,useThemeProps:n=tC,componentName:r="MuiContainer"}=e,o=t(({theme:a,ownerState:l})=>C({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!l.disableGutters&&{paddingLeft:a.spacing(2),paddingRight:a.spacing(2),[a.breakpoints.up("sm")]:{paddingLeft:a.spacing(3),paddingRight:a.spacing(3)}}),({theme:a,ownerState:l})=>l.fixed&&Object.keys(a.breakpoints.values).reduce((c,d)=>{const u=d,p=a.breakpoints.values[u];return p!==0&&(c[a.breakpoints.up(u)]={maxWidth:`${p}${a.breakpoints.unit}`}),c},{}),({theme:a,ownerState:l})=>C({},l.maxWidth==="xs"&&{[a.breakpoints.up("xs")]:{maxWidth:Math.max(a.breakpoints.values.xs,444)}},l.maxWidth&&l.maxWidth!=="xs"&&{[a.breakpoints.up(l.maxWidth)]:{maxWidth:`${a.breakpoints.values[l.maxWidth]}${a.breakpoints.unit}`}}));return h.forwardRef(function(l,c){const d=n(l),{className:u,component:p="div",disableGutters:f=!1,fixed:g=!1,maxWidth:v="lg"}=d,y=ne(d,Zw),m=C({},d,{component:p,disableGutters:f,fixed:g,maxWidth:v}),x=nC(m,r);return s.jsx(o,C({as:p,ownerState:m,className:ae(x.root,u),ref:c},y))})}const sC=["component","direction","spacing","divider","children","className","useFlexGap"],oC=To(),iC=Lg("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function aC(e){return _u({props:e,name:"MuiStack",defaultTheme:oC})}function lC(e,t){const n=h.Children.toArray(e).filter(Boolean);return n.reduce((r,o,i)=>(r.push(o),i<n.length-1&&r.push(h.cloneElement(t,{key:`separator-${i}`})),r),[])}const cC=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],dC=({ownerState:e,theme:t})=>{let n=C({display:"flex",flexDirection:"column"},yn({theme:t},gs({values:e.direction,breakpoints:t.breakpoints.values}),r=>({flexDirection:r})));if(e.spacing){const r=Cu(t),o=Object.keys(t.breakpoints.values).reduce((c,d)=>((typeof e.spacing=="object"&&e.spacing[d]!=null||typeof e.direction=="object"&&e.direction[d]!=null)&&(c[d]=!0),c),{}),i=gs({values:e.direction,base:o}),a=gs({values:e.spacing,base:o});typeof i=="object"&&Object.keys(i).forEach((c,d,u)=>{if(!i[c]){const f=d>0?i[u[d-1]]:"column";i[c]=f}}),n=cn(n,yn({theme:t},a,(c,d)=>e.useFlexGap?{gap:bs(r,c)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${cC(d?i[d]:e.direction)}`]:bs(r,c)}}))}return n=l1(t.breakpoints,n),n};function uC(e={}){const{createStyledComponent:t=iC,useThemeProps:n=aC,componentName:r="MuiStack"}=e,o=()=>we({root:["root"]},c=>ye(r,c),{}),i=t(dC);return h.forwardRef(function(c,d){const u=n(c),p=Hi(u),{component:f="div",direction:g="column",spacing:v=0,divider:y,children:m,className:x,useFlexGap:j=!1}=p,b=ne(p,sC),w={direction:g,spacing:v,useFlexGap:j},N=o();return s.jsx(i,C({as:f,ownerState:w,ref:d,className:ae(N.root,x)},b,{children:y?lC(m,y):m}))})}function pC(e,t){return C({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}var $t={},Jg={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(Jg);var ev=Jg.exports;const hC=ns(Xb),fC=ns(kw);var tv=ev;Object.defineProperty($t,"__esModule",{value:!0});var Ue=$t.alpha=ov;$t.blend=_C;$t.colorChannel=void 0;var ao=$t.darken=Mu;$t.decomposeColor=$n;var mC=$t.emphasize=iv,gC=$t.getContrastRatio=wC;$t.getLuminance=Va;$t.hexToRgb=nv;$t.hslToRgb=sv;var lo=$t.lighten=Pu;$t.private_safeAlpha=CC;$t.private_safeColorChannel=void 0;$t.private_safeDarken=jC;$t.private_safeEmphasize=SC;$t.private_safeLighten=kC;$t.recomposeColor=Po;$t.rgbToHex=bC;var mh=tv(hC),vC=tv(fC);function Eu(e,t=0,n=1){return(0,vC.default)(e,t,n)}function nv(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,o)=>o<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function yC(e){const t=e.toString(16);return t.length===1?`0${t}`:t}function $n(e){if(e.type)return e;if(e.charAt(0)==="#")return $n(nv(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,mh.default)(9,e));let r=e.substring(t+1,e.length-1),o;if(n==="color"){if(r=r.split(" "),o=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(o)===-1)throw new Error((0,mh.default)(10,o))}else r=r.split(",");return r=r.map(i=>parseFloat(i)),{type:n,values:r,colorSpace:o}}const rv=e=>{const t=$n(e);return t.values.slice(0,3).map((n,r)=>t.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};$t.colorChannel=rv;const xC=(e,t)=>{try{return rv(e)}catch{return e}};$t.private_safeColorChannel=xC;function Po(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((o,i)=>i<3?parseInt(o,10):o):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function bC(e){if(e.indexOf("#")===0)return e;const{values:t}=$n(e);return`#${t.map((n,r)=>yC(r===3?Math.round(255*n):n)).join("")}`}function sv(e){e=$n(e);const{values:t}=e,n=t[0],r=t[1]/100,o=t[2]/100,i=r*Math.min(o,1-o),a=(d,u=(d+n/30)%12)=>o-i*Math.max(Math.min(u-3,9-u,1),-1);let l="rgb";const c=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return e.type==="hsla"&&(l+="a",c.push(t[3])),Po({type:l,values:c})}function Va(e){e=$n(e);let t=e.type==="hsl"||e.type==="hsla"?$n(sv(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function wC(e,t){const n=Va(e),r=Va(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function ov(e,t){return e=$n(e),t=Eu(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,Po(e)}function CC(e,t,n){try{return ov(e,t)}catch{return e}}function Mu(e,t){if(e=$n(e),t=Eu(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]*=1-t;return Po(e)}function jC(e,t,n){try{return Mu(e,t)}catch{return e}}function Pu(e,t){if(e=$n(e),t=Eu(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return Po(e)}function kC(e,t,n){try{return Pu(e,t)}catch{return e}}function iv(e,t=.15){return Va(e)>.5?Mu(e,t):Pu(e,t)}function SC(e,t,n){try{return iv(e,t)}catch{return e}}function _C(e,t,n,r=1){const o=(c,d)=>Math.round((c**(1/r)*(1-n)+d**(1/r)*n)**r),i=$n(e),a=$n(t),l=[o(i.values[0],a.values[0]),o(i.values[1],a.values[1]),o(i.values[2],a.values[2])];return Po({type:"rgb",values:l})}const _i={black:"#000",white:"#fff"},TC={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Ds={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Rs={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Vo={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},As={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},$s={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Os={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},EC=["mode","contrastThreshold","tonalOffset"],gh={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:_i.white,default:_i.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},$c={text:{primary:_i.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:_i.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function vh(e,t,n,r){const o=r.light||r,i=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=lo(e.main,o):t==="dark"&&(e.dark=ao(e.main,i)))}function MC(e="light"){return e==="dark"?{main:As[200],light:As[50],dark:As[400]}:{main:As[700],light:As[400],dark:As[800]}}function PC(e="light"){return e==="dark"?{main:Ds[200],light:Ds[50],dark:Ds[400]}:{main:Ds[500],light:Ds[300],dark:Ds[700]}}function NC(e="light"){return e==="dark"?{main:Rs[500],light:Rs[300],dark:Rs[700]}:{main:Rs[700],light:Rs[400],dark:Rs[800]}}function IC(e="light"){return e==="dark"?{main:$s[400],light:$s[300],dark:$s[700]}:{main:$s[700],light:$s[500],dark:$s[900]}}function DC(e="light"){return e==="dark"?{main:Os[400],light:Os[300],dark:Os[700]}:{main:Os[800],light:Os[500],dark:Os[900]}}function RC(e="light"){return e==="dark"?{main:Vo[400],light:Vo[300],dark:Vo[700]}:{main:"#ed6c02",light:Vo[500],dark:Vo[900]}}function AC(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,o=ne(e,EC),i=e.primary||MC(t),a=e.secondary||PC(t),l=e.error||NC(t),c=e.info||IC(t),d=e.success||DC(t),u=e.warning||RC(t);function p(y){return gC(y,$c.text.primary)>=n?$c.text.primary:gh.text.primary}const f=({color:y,name:m,mainShade:x=500,lightShade:j=300,darkShade:b=700})=>{if(y=C({},y),!y.main&&y[x]&&(y.main=y[x]),!y.hasOwnProperty("main"))throw new Error(Pr(11,m?` (${m})`:"",x));if(typeof y.main!="string")throw new Error(Pr(12,m?` (${m})`:"",JSON.stringify(y.main)));return vh(y,"light",j,r),vh(y,"dark",b,r),y.contrastText||(y.contrastText=p(y.main)),y},g={dark:$c,light:gh};return cn(C({common:C({},_i),mode:t,primary:f({color:i,name:"primary"}),secondary:f({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:l,name:"error"}),warning:f({color:u,name:"warning"}),info:f({color:c,name:"info"}),success:f({color:d,name:"success"}),grey:TC,contrastThreshold:n,getContrastText:p,augmentColor:f,tonalOffset:r},g[t]),o)}const $C=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function OC(e){return Math.round(e*1e5)/1e5}const yh={textTransform:"uppercase"},xh='"Roboto", "Helvetica", "Arial", sans-serif';function LC(e,t){const n=typeof t=="function"?t(e):t,{fontFamily:r=xh,fontSize:o=14,fontWeightLight:i=300,fontWeightRegular:a=400,fontWeightMedium:l=500,fontWeightBold:c=700,htmlFontSize:d=16,allVariants:u,pxToRem:p}=n,f=ne(n,$C),g=o/14,v=p||(x=>`${x/d*g}rem`),y=(x,j,b,w,N)=>C({fontFamily:r,fontWeight:x,fontSize:v(j),lineHeight:b},r===xh?{letterSpacing:`${OC(w/j)}em`}:{},N,u),m={h1:y(i,96,1.167,-1.5),h2:y(i,60,1.2,-.5),h3:y(a,48,1.167,0),h4:y(a,34,1.235,.25),h5:y(a,24,1.334,0),h6:y(l,20,1.6,.15),subtitle1:y(a,16,1.75,.15),subtitle2:y(l,14,1.57,.1),body1:y(a,16,1.5,.15),body2:y(a,14,1.43,.15),button:y(l,14,1.75,.4,yh),caption:y(a,12,1.66,.4),overline:y(a,12,2.66,1,yh),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return cn(C({htmlFontSize:d,pxToRem:v,fontFamily:r,fontSize:o,fontWeightLight:i,fontWeightRegular:a,fontWeightMedium:l,fontWeightBold:c},m),f,{clone:!1})}const BC=.2,FC=.14,zC=.12;function St(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${BC})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${FC})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${zC})`].join(",")}const WC=["none",St(0,2,1,-1,0,1,1,0,0,1,3,0),St(0,3,1,-2,0,2,2,0,0,1,5,0),St(0,3,3,-2,0,3,4,0,0,1,8,0),St(0,2,4,-1,0,4,5,0,0,1,10,0),St(0,3,5,-1,0,5,8,0,0,1,14,0),St(0,3,5,-1,0,6,10,0,0,1,18,0),St(0,4,5,-2,0,7,10,1,0,2,16,1),St(0,5,5,-3,0,8,10,1,0,3,14,2),St(0,5,6,-3,0,9,12,1,0,3,16,2),St(0,6,6,-3,0,10,14,1,0,4,18,3),St(0,6,7,-4,0,11,15,1,0,4,20,3),St(0,7,8,-4,0,12,17,2,0,5,22,4),St(0,7,8,-4,0,13,19,2,0,5,24,4),St(0,7,9,-4,0,14,21,2,0,5,26,4),St(0,8,9,-5,0,15,22,2,0,6,28,5),St(0,8,10,-5,0,16,24,2,0,6,30,5),St(0,8,11,-5,0,17,26,2,0,6,32,5),St(0,9,11,-5,0,18,28,2,0,7,34,6),St(0,9,12,-6,0,19,29,2,0,7,36,6),St(0,10,13,-6,0,20,31,3,0,8,38,7),St(0,10,13,-6,0,21,33,3,0,8,40,7),St(0,10,14,-6,0,22,35,3,0,8,42,7),St(0,11,14,-7,0,23,36,3,0,9,44,8),St(0,11,15,-7,0,24,38,3,0,9,46,8)],HC=["duration","easing","delay"],UC={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},av={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function bh(e){return`${Math.round(e)}ms`}function VC(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function YC(e){const t=C({},UC,e.easing),n=C({},av,e.duration);return C({getAutoHeightDuration:VC,create:(o=["all"],i={})=>{const{duration:a=n.standard,easing:l=t.easeInOut,delay:c=0}=i;return ne(i,HC),(Array.isArray(o)?o:[o]).map(d=>`${d} ${typeof a=="string"?a:bh(a)} ${l} ${typeof c=="string"?c:bh(c)}`).join(",")}},e,{easing:t,duration:n})}const GC={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},qC=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Nu(e={},...t){const{mixins:n={},palette:r={},transitions:o={},typography:i={}}=e,a=ne(e,qC);if(e.vars&&e.generateCssVars===void 0)throw new Error(Pr(18));const l=AC(r),c=To(e);let d=cn(c,{mixins:pC(c.breakpoints,n),palette:l,shadows:WC.slice(),typography:LC(l,i),transitions:YC(o),zIndex:C({},GC)});return d=cn(d,a),d=t.reduce((u,p)=>cn(u,p),d),d.unstable_sxConfig=C({},Wi,a==null?void 0:a.unstable_sxConfig),d.unstable_sx=function(p){return _o({sx:p,theme:this})},d}const Zl=Nu();function Kn(){const e=Eo(Zl);return e[xs]||e}function Wn({props:e,name:t}){return _u({props:e,name:t,defaultTheme:Zl,themeId:xs})}var Vi={},Oc={exports:{}},wh;function KC(){return wh||(wh=1,function(e){function t(n,r){if(n==null)return{};var o={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(r.indexOf(i)!==-1)continue;o[i]=n[i]}return o}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(Oc)),Oc.exports}const lv=ns(r1),QC=ns(s1),XC=ns(d1),ZC=ns(uw),JC=ns(X1),ej=ns(nw);var No=ev;Object.defineProperty(Vi,"__esModule",{value:!0});var tj=Vi.default=fj;Vi.shouldForwardProp=Da;Vi.systemDefaultTheme=void 0;var Mn=No(jg()),wd=No(KC()),Ya=lj(lv),nj=QC;No(XC);No(ZC);var rj=No(JC),sj=No(ej);const oj=["ownerState"],ij=["variants"],aj=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function cv(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(cv=function(r){return r?n:t})(e)}function lj(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=cv(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}function cj(e){return Object.keys(e).length===0}function dj(e){return typeof e=="string"&&e.charCodeAt(0)>96}function Da(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function Ch(e,t){return t&&e&&typeof e=="object"&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}const uj=Vi.systemDefaultTheme=(0,rj.default)(),pj=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function ca({defaultTheme:e,theme:t,themeId:n}){return cj(t)?e:t[n]||t}function hj(e){return e?(t,n)=>n[e]:null}function Ra(e,t,n){let{ownerState:r}=t,o=(0,wd.default)(t,oj);const i=typeof e=="function"?e((0,Mn.default)({ownerState:r},o)):e;if(Array.isArray(i))return i.flatMap(a=>Ra(a,(0,Mn.default)({ownerState:r},o),n));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:a=[]}=i;let c=(0,wd.default)(i,ij);return a.forEach(d=>{let u=!0;if(typeof d.props=="function"?u=d.props((0,Mn.default)({ownerState:r},o,r)):Object.keys(d.props).forEach(p=>{(r==null?void 0:r[p])!==d.props[p]&&o[p]!==d.props[p]&&(u=!1)}),u){Array.isArray(c)||(c=[c]);const p=typeof d.style=="function"?d.style((0,Mn.default)({ownerState:r},o,r)):d.style;c.push(n?Ch((0,Ya.internal_serializeStyles)(p),n):p)}}),c}return n?Ch((0,Ya.internal_serializeStyles)(i),n):i}function fj(e={}){const{themeId:t,defaultTheme:n=uj,rootShouldForwardProp:r=Da,slotShouldForwardProp:o=Da}=e,i=a=>(0,sj.default)((0,Mn.default)({},a,{theme:ca((0,Mn.default)({},a,{defaultTheme:n,themeId:t}))}));return i.__mui_systemSx=!0,(a,l={})=>{(0,Ya.internal_processStyles)(a,k=>k.filter(E=>!(E!=null&&E.__mui_systemSx)));const{name:c,slot:d,skipVariantsResolver:u,skipSx:p,overridesResolver:f=hj(pj(d))}=l,g=(0,wd.default)(l,aj),v=c&&c.startsWith("Mui")||d?"components":"custom",y=u!==void 0?u:d&&d!=="Root"&&d!=="root"||!1,m=p||!1;let x,j=Da;d==="Root"||d==="root"?j=r:d?j=o:dj(a)&&(j=void 0);const b=(0,Ya.default)(a,(0,Mn.default)({shouldForwardProp:j,label:x},g)),w=k=>typeof k=="function"&&k.__emotion_real!==k||(0,nj.isPlainObject)(k)?E=>{const _=ca({theme:E.theme,defaultTheme:n,themeId:t});return Ra(k,(0,Mn.default)({},E,{theme:_}),_.modularCssLayers?v:void 0)}:k,N=(k,...E)=>{let _=w(k);const D=E?E.map(w):[];c&&f&&D.push($=>{const O=ca((0,Mn.default)({},$,{defaultTheme:n,themeId:t}));if(!O.components||!O.components[c]||!O.components[c].styleOverrides)return null;const M=O.components[c].styleOverrides,P={};return Object.entries(M).forEach(([L,R])=>{P[L]=Ra(R,(0,Mn.default)({},$,{theme:O}),O.modularCssLayers?"theme":void 0)}),f($,P)}),c&&!y&&D.push($=>{var O;const M=ca((0,Mn.default)({},$,{defaultTheme:n,themeId:t})),P=M==null||(O=M.components)==null||(O=O[c])==null?void 0:O.variants;return Ra({variants:P},(0,Mn.default)({},$,{theme:M}),M.modularCssLayers?"theme":void 0)}),m||D.push(i);const S=D.length-E.length;if(Array.isArray(k)&&S>0){const $=new Array(S).fill("");_=[...k,...$],_.raw=[...k.raw,...$]}const T=b(_,...D);return a.muiName&&(T.muiName=a.muiName),T};return b.withConfig&&(N.withConfig=b.withConfig),N}}function dv(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const xn=e=>dv(e)&&e!=="classes",Q=tj({themeId:xs,defaultTheme:Zl,rootShouldForwardProp:xn}),mj=["theme"];function gj(e){let{theme:t}=e,n=ne(e,mj);const r=t[xs];let o=r||t;return typeof t!="function"&&(r&&!r.vars?o=C({},r,{vars:null}):t&&!t.vars&&(o=C({},t,{vars:null}))),s.jsx(Qw,C({},n,{themeId:r?xs:void 0,theme:o}))}const jh=e=>{let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,(t/100).toFixed(2)};function _e(e){return qw(e)}function uv(e){return s.jsx(Ig,C({},e,{defaultTheme:Zl,themeId:xs}))}const vj=(e,t)=>C({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),yj=e=>C({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),xj=(e,t=!1)=>{var n;const r={};t&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach(([a,l])=>{var c;r[e.getColorSchemeSelector(a).replace(/\s*&/,"")]={colorScheme:(c=l.palette)==null?void 0:c.mode}});let o=C({html:vj(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:C({margin:0},yj(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},r);const i=(n=e.components)==null||(n=n.MuiCssBaseline)==null?void 0:n.styleOverrides;return i&&(o=[o,i]),o};function bj(e){const t=_e({props:e,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=t;return s.jsxs(h.Fragment,{children:[s.jsx(uv,{styles:o=>xj(o,r)}),n]})}var kh={};const Sh="@firebase/database",_h="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pv="";function wj(e){pv=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),qt(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:au(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return Or(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Cj(t)}}catch{}return new jj},hs=hv("localStorage"),kj=hv("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs=new xb("@firebase/database"),Sj=function(){let e=1;return function(){return e++}}(),fv=function(e){const t=bb(e),n=new wb;n.update(t);const r=n.digest();return Cb.encodeByteArray(r)},Yi=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=Yi.apply(null,r):typeof r=="object"?t+=qt(r):t+=r,t+=" "}return t};let di=null,Th=!0;const _j=function(e,t){Ce(!0,"Can't turn on custom loggers persistently."),Qs.logLevel=kb.VERBOSE,di=Qs.log.bind(Qs)},Qt=function(...e){if(Th===!0&&(Th=!1,di===null&&kj.get("logging_enabled")===!0&&_j()),di){const t=Yi.apply(null,e);di(t)}},Gi=function(e){return function(...t){Qt(e,...t)}},Cd=function(...e){const t="FIREBASE INTERNAL ERROR: "+Yi(...e);Qs.error(t)},Ir=function(...e){const t=`FIREBASE FATAL ERROR: ${Yi(...e)}`;throw Qs.error(t),new Error(t)},Sn=function(...e){const t="FIREBASE WARNING: "+Yi(...e);Qs.warn(t)},Tj=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Sn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},mv=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Ej=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},co="[MIN_NAME]",Cs="[MAX_NAME]",Io=function(e,t){if(e===t)return 0;if(e===co||t===Cs)return-1;if(t===co||e===Cs)return 1;{const n=Eh(e),r=Eh(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},Mj=function(e,t){return e===t?0:e<t?-1:1},Yo=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+qt(t))},Iu=function(e){if(typeof e!="object"||e===null)return qt(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=qt(t[r]),n+=":",n+=Iu(e[t[r]]);return n+="}",n},gv=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let o=0;o<n;o+=t)o+t>n?r.push(e.substring(o,n)):r.push(e.substring(o,o+t));return r};function On(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const vv=function(e){Ce(!mv(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let o,i,a,l,c;e===0?(i=0,a=0,o=1/e===-1/0?1:0):(o=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(e)/Math.LN2),r),i=l+r,a=Math.round(e*Math.pow(2,n-l)-Math.pow(2,n))):(i=0,a=Math.round(e/Math.pow(2,1-r-n))));const d=[];for(c=n;c;c-=1)d.push(a%2?1:0),a=Math.floor(a/2);for(c=t;c;c-=1)d.push(i%2?1:0),i=Math.floor(i/2);d.push(o?1:0),d.reverse();const u=d.join("");let p="";for(c=0;c<64;c+=8){let f=parseInt(u.substr(c,8),2).toString(16);f.length===1&&(f="0"+f),p=p+f}return p.toLowerCase()},Pj=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Nj=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},Ij=new RegExp("^-?(0*)\\d{1,10}$"),Dj=-2147483648,Rj=2147483647,Eh=function(e){if(Ij.test(e)){const t=Number(e);if(t>=Dj&&t<=Rj)return t}return null},qi=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw Sn("Exception was thrown by user callback.",n),t},Math.floor(0))}},Aj=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ui=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){Sn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Qt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Sn(t)}}class Aa{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Aa.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du="5",yv="v",xv="s",bv="r",wv="f",Cv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,jv="ls",kv="p",jd="ac",Sv="websocket",_v="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(t,n,r,o,i=!1,a="",l=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=i,this.persistenceKey=a,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=c,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=hs.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&hs.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function Lj(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function Ev(e,t,n){Ce(typeof t=="string","typeof type must == string"),Ce(typeof n=="object","typeof params must == object");let r;if(t===Sv)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===_v)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);Lj(e)&&(n.ns=e.namespace);const o=[];return On(n,(i,a)=>{o.push(i+"="+a)}),r+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(){this.counters_={}}incrementCounter(t,n=1){Or(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return Mb(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc={},Bc={};function Ru(e){const t=e.toString();return Lc[t]||(Lc[t]=new Bj),Lc[t]}function Fj(e,t){const n=e.toString();return Bc[n]||(Bc[n]=t()),Bc[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&qi(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh="start",Wj="close",Hj="pLPCommand",Uj="pRTLPCB",Mv="id",Pv="pw",Nv="ser",Vj="cb",Yj="seg",Gj="ts",qj="d",Kj="dframe",Iv=1870,Dv=30,Qj=Iv-Dv,Xj=25e3,Zj=3e4;class Vs{constructor(t,n,r,o,i,a,l){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=o,this.authToken=i,this.transportSessionId=a,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Gi(t),this.stats_=Ru(n),this.urlFn=c=>(this.appCheckToken&&(c[jd]=this.appCheckToken),Ev(n,_v,c))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new zj(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Zj)),Ej(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Au((...i)=>{const[a,l,c,d,u]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===Mh)this.id=l,this.password=c;else if(a===Wj)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...i)=>{const[a,l]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(a,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[Mh]="t",r[Nv]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Vj]=this.scriptTagHolder.uniqueCallbackIdentifier),r[yv]=Du,this.transportSessionId&&(r[xv]=this.transportSessionId),this.lastSessionId&&(r[jv]=this.lastSessionId),this.applicationId&&(r[kv]=this.applicationId),this.appCheckToken&&(r[jd]=this.appCheckToken),typeof location<"u"&&location.hostname&&Cv.test(location.hostname)&&(r[bv]=wv);const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Vs.forceAllow_=!0}static forceDisallow(){Vs.forceDisallow_=!0}static isAvailable(){return Vs.forceAllow_?!0:!Vs.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Pj()&&!Nj()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=qt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Pb(n),o=gv(r,Qj);for(let i=0;i<o.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[i]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Kj]="t",r[Mv]=t,r[Pv]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=qt(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Au{constructor(t,n,r,o){this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Sj(),window[Hj+this.uniqueCallbackIdentifier]=t,window[Uj+this.uniqueCallbackIdentifier]=n,this.myIFrame=Au.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(l){Qt("frame writing exception"),l.stack&&Qt(l.stack),Qt(l)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Qt("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[Mv]=this.myID,t[Pv]=this.myPW,t[Nv]=this.currentSerial;let n=this.urlFn(t),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Dv+r.length<=Iv;){const a=this.pendingSegs.shift();r=r+"&"+Yj+o+"="+a.seg+"&"+Gj+o+"="+a.ts+"&"+qj+o+"="+a.d,o++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},o=setTimeout(r,Math.floor(Xj)),i=()=>{clearTimeout(o),r()};this.addTag(t,i)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||o==="loaded"||o==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Qt("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jj=16384,e2=45e3;let Ga=null;typeof MozWebSocket<"u"?Ga=MozWebSocket:typeof WebSocket<"u"&&(Ga=WebSocket);class Vn{constructor(t,n,r,o,i,a,l){this.connId=t,this.applicationId=r,this.appCheckToken=o,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Gi(this.connId),this.stats_=Ru(n),this.connURL=Vn.connectionURL_(n,a,l,o,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,o,i){const a={};return a[yv]=Du,typeof location<"u"&&location.hostname&&Cv.test(location.hostname)&&(a[bv]=wv),n&&(a[xv]=n),r&&(a[jv]=r),o&&(a[jd]=o),i&&(a[kv]=i),Ev(t,Sv,a)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,hs.set("previous_websocket_failure",!0);try{let r;Nb(),this.mySock=new Ga(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){Vn.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&Ga!==null&&!Vn.forceDisallow_}static previouslyFailed(){return hs.isInMemoryStorage||hs.get("previous_websocket_failure")===!0}markConnectionHealthy(){hs.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=au(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(Ce(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=qt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=gv(n,Jj);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(e2))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Vn.responsesRequiredToBeHealthy=2;Vn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Vs,Vn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=Vn&&Vn.isAvailable();let r=n&&!Vn.previouslyFailed();if(t.webSocketOnly&&(n||Sn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Vn];else{const o=this.transports_=[];for(const i of Ti.ALL_TRANSPORTS)i&&i.isAvailable()&&o.push(i);Ti.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ti.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2=6e4,n2=5e3,r2=10*1024,s2=100*1024,Fc="t",Ph="d",o2="s",Nh="r",i2="e",Ih="o",Dh="a",Rh="n",Ah="p",a2="h";class l2{constructor(t,n,r,o,i,a,l,c,d,u){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=i,this.onMessage_=a,this.onReady_=l,this.onDisconnect_=c,this.onKill_=d,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Gi("c:"+this.id+":"),this.transportManager_=new Ti(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=ui(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>s2?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>r2?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Fc in t){const n=t[Fc];n===Dh?this.upgradeIfSecondaryHealthy_():n===Nh?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Ih&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=Yo("t",t),r=Yo("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Ah,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Dh,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Rh,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=Yo("t",t),r=Yo("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=Yo(Fc,t);if(Ph in t){const r=t[Ph];if(n===a2){const o=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(n===Rh){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===o2?this.onConnectionShutdown_(r):n===Nh?this.onReset_(r):n===i2?Cd("Server Error: "+r):n===Ih?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Cd("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,o=t.h;this.sessionId=t.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Du!==r&&Sn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ui(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(t2))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ui(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(n2))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Ah,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(hs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{put(t,n,r,o){}merge(t,n,r,o){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(t){this.allowedEvents_=t,this.listeners_={},Ce(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const o=this.getInitialEvent(t);o&&n.apply(r,o)}off(t,n,r){this.validateEventType_(t);const o=this.listeners_[t]||[];for(let i=0;i<o.length;i++)if(o[i].callback===n&&(!r||r===o[i].context)){o.splice(i,1);return}}validateEventType_(t){Ce(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa extends Av{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Km()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new qa}getInitialEvent(t){return Ce(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h=32,Oh=768;class kt{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function vt(){return new kt("")}function Xe(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Zr(e){return e.pieces_.length-e.pieceNum_}function wt(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new kt(e.pieces_,t)}function $v(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function c2(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function Ov(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function Lv(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new kt(t,0)}function Ht(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof kt)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&n.push(r[o])}return new kt(n,0)}function Ge(e){return e.pieceNum_>=e.pieces_.length}function Dn(e,t){const n=Xe(e),r=Xe(t);if(n===null)return t;if(n===r)return Dn(wt(e),wt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Bv(e,t){if(Zr(e)!==Zr(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Yn(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Zr(e)>Zr(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class d2{constructor(t,n){this.errorPrefix_=n,this.parts_=Ov(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=xl(this.parts_[r]);Fv(this)}}function u2(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=xl(t),Fv(e)}function p2(e){const t=e.parts_.pop();e.byteLength_-=xl(t),e.parts_.length>0&&(e.byteLength_-=1)}function Fv(e){if(e.byteLength_>Oh)throw new Error(e.errorPrefix_+"has a key path longer than "+Oh+" bytes ("+e.byteLength_+").");if(e.parts_.length>$h)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+$h+") or object contains a cycle "+ls(e))}function ls(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u extends Av{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new $u}getInitialEvent(t){return Ce(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go=1e3,h2=60*5*1e3,Lh=30*1e3,f2=1.3,m2=3e4,g2="server_kill",Bh=3;class Sr extends Rv{constructor(t,n,r,o,i,a,l,c){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=i,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=Sr.nextPersistentConnectionId_++,this.log_=Gi("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Go,this.maxReconnectDelay_=h2,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");$u.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&qa.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const o=++this.requestNumber_,i={r:o,a:t,b:n};this.log_(qt(i)),Ce(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[o]=r)}get(t){this.initConnection_();const n=new qm,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{const l=a.d;a.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(t,n,r,o){this.initConnection_();const i=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),Ce(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ce(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");const l={onComplete:o,hashFn:n,query:t,tag:r};this.listens.get(a).set(i,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),o=n._queryIdentifier;this.log_("Listen on "+r+" for "+o);const i={p:r},a="q";t.tag&&(i.q=n._queryObject,i.t=t.tag),i.h=t.hashFn(),this.sendRequest(a,i,l=>{const c=l.d,d=l.s;Sr.warnOnListenWarnings_(c,n),(this.listens.get(r)&&this.listens.get(r).get(o))===t&&(this.log_("listen response",l),d!=="ok"&&this.removeListen_(r,o),t.onComplete&&t.onComplete(d,c))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&Or(t,"w")){const r=ro(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();Sn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||_b(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Lh)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=Tb(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,o=>{const i=o.s,a=o.d||"error";this.authToken_===t&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),Ce(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,t._queryObject,n)}sendUnlisten_(t,n,r,o){this.log_("Unlisten on "+t+" for "+n);const i={p:t},a="n";o&&(i.q=r,i.t=o),this.sendRequest(a,i)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,o){const i={p:n,d:r};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(t,n,r,o){this.putInternal("p",t,n,r,o)}merge(t,n,r,o){this.putInternal("m",t,n,r,o)}putInternal(t,n,r,o,i){this.initConnection_();const a={p:n,d:r};i!==void 0&&(a.h=i),this.outstandingPuts_.push({action:t,request:a,onComplete:o}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(i.s,i.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+qt(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):Cd("Unrecognized action received from server: "+qt(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){Ce(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Go,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Go,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>m2&&(this.reconnectDelay_=Go),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*f2)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Sr.nextConnectionId_++,i=this.lastSessionId;let a=!1,l=null;const c=function(){l?l.close():(a=!0,r())},d=function(p){Ce(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(p)};this.realtime_={close:c,sendRequest:d};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[p,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);a?Qt("getToken() completed but was canceled"):(Qt("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=f&&f.token,l=new l2(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,g=>{Sn(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(g2)},i))}catch(p){this.log_("Failed to get token: "+p),a||(this.repoInfo_.nodeAdmin&&Sn(p),c())}}}interrupt(t){Qt("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Qt("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Bp(this.interruptReasons_)&&(this.reconnectDelay_=Go,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(i=>Iu(i)).join("$"):r="default";const o=this.removeListen_(t,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,n){const r=new kt(t).toString();let o;if(this.listens.has(r)){const i=this.listens.get(r);o=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(t,n){Qt("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Bh&&(this.reconnectDelay_=Lh,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){Qt("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Bh&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+pv.replace(/\./g,"-")]=1,Km()?t["framework.cordova"]=1:Eb()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=qa.getInstance().currentlyOnline();return Bp(this.interruptReasons_)&&t}}Sr.nextPersistentConnectionId_=0;Sr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new Je(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new Je(co,t),o=new Je(co,n);return this.compare(r,o)!==0}minPost(){return Je.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let da;class zv extends Jl{static get __EMPTY_NODE(){return da}static set __EMPTY_NODE(t){da=t}compare(t,n){return Io(t.name,n.name)}isDefinedOn(t){throw $i("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return Je.MIN}maxPost(){return new Je(Cs,da)}makePost(t,n){return Ce(typeof t=="string","KeyIndex indexValue must always be a string."),new Je(t,da)}toString(){return".key"}}const Xs=new zv;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(t,n,r,o,i=null){this.isReverse_=o,this.resultGenerator_=i,this.nodeStack_=[];let a=1;for(;!t.isEmpty();)if(t=t,a=n?r(t.key,n):1,o&&(a*=-1),a<0)this.isReverse_?t=t.left:t=t.right;else if(a===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Wt{constructor(t,n,r,o,i){this.key=t,this.value=n,this.color=r??Wt.RED,this.left=o??hn.EMPTY_NODE,this.right=i??hn.EMPTY_NODE}copy(t,n,r,o,i){return new Wt(t??this.key,n??this.value,r??this.color,o??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let o=this;const i=r(t,o.key);return i<0?o=o.copy(null,null,null,o.left.insert(t,n,r),null):i===0?o=o.copy(null,n,null,null,null):o=o.copy(null,null,null,null,o.right.insert(t,n,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return hn.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,o;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return hn.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Wt.RED=!0;Wt.BLACK=!1;class v2{copy(t,n,r,o,i){return this}insert(t,n,r){return new Wt(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class hn{constructor(t,n=hn.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new hn(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Wt.BLACK,null,null))}remove(t){return new hn(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Wt.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,o=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(o=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new ua(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new ua(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new ua(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new ua(this.root_,null,this.comparator_,!0,t)}}hn.EMPTY_NODE=new v2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(e,t){return Io(e.name,t.name)}function Ou(e,t){return Io(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kd;function x2(e){kd=e}const Wv=function(e){return typeof e=="number"?"number:"+vv(e):"string:"+e},Hv=function(e){if(e.isLeafNode()){const t=e.val();Ce(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Or(t,".sv"),"Priority must be a string or number.")}else Ce(e===kd||e.isEmpty(),"priority of unexpected type.");Ce(e===kd||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fh;class zt{constructor(t,n=zt.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Ce(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Hv(this.priorityNode_)}static set __childrenNodeConstructor(t){Fh=t}static get __childrenNodeConstructor(){return Fh}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new zt(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:zt.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Ge(t)?this:Xe(t)===".priority"?this.priorityNode_:zt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:zt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=Xe(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(Ce(r!==".priority"||Zr(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,zt.__childrenNodeConstructor.EMPTY_NODE.updateChild(wt(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Wv(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=vv(this.value_):t+=this.value_,this.lazyHash_=fv(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===zt.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof zt.__childrenNodeConstructor?-1:(Ce(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,o=zt.VALUE_TYPE_ORDER.indexOf(n),i=zt.VALUE_TYPE_ORDER.indexOf(r);return Ce(o>=0,"Unknown leaf type: "+n),Ce(i>=0,"Unknown leaf type: "+r),o===i?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:i-o}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}zt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uv,Vv;function b2(e){Uv=e}function w2(e){Vv=e}class C2 extends Jl{compare(t,n){const r=t.node.getPriority(),o=n.node.getPriority(),i=r.compareTo(o);return i===0?Io(t.name,n.name):i}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return Je.MIN}maxPost(){return new Je(Cs,new zt("[PRIORITY-POST]",Vv))}makePost(t,n){const r=Uv(t);return new Je(n,new zt("[PRIORITY-POST]",r))}toString(){return".priority"}}const en=new C2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=Math.log(2);class k2{constructor(t){const n=i=>parseInt(Math.log(i)/j2,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const o=r(this.count);this.bits_=t+1&o}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Ka=function(e,t,n,r){e.sort(t);const o=function(c,d){const u=d-c;let p,f;if(u===0)return null;if(u===1)return p=e[c],f=n?n(p):p,new Wt(f,p.node,Wt.BLACK,null,null);{const g=parseInt(u/2,10)+c,v=o(c,g),y=o(g+1,d);return p=e[g],f=n?n(p):p,new Wt(f,p.node,Wt.BLACK,v,y)}},i=function(c){let d=null,u=null,p=e.length;const f=function(v,y){const m=p-v,x=p;p-=v;const j=o(m+1,x),b=e[m],w=n?n(b):b;g(new Wt(w,b.node,y,null,j))},g=function(v){d?(d.left=v,d=v):(u=v,d=v)};for(let v=0;v<c.count;++v){const y=c.nextBitIsOne(),m=Math.pow(2,c.count-(v+1));y?f(m,Wt.BLACK):(f(m,Wt.BLACK),f(m,Wt.RED))}return u},a=new k2(e.length),l=i(a);return new hn(r||t,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zc;const Ls={};class kr{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return Ce(Ls&&en,"ChildrenNode.ts has not been loaded"),zc=zc||new kr({".priority":Ls},{".priority":en}),zc}get(t){const n=ro(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof hn?n:null}hasIndex(t){return Or(this.indexSet_,t.toString())}addIndex(t,n){Ce(t!==Xs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const i=n.getIterator(Je.Wrap);let a=i.getNext();for(;a;)o=o||t.isDefinedOn(a.node),r.push(a),a=i.getNext();let l;o?l=Ka(r,t.getCompare()):l=Ls;const c=t.toString(),d=Object.assign({},this.indexSet_);d[c]=t;const u=Object.assign({},this.indexes_);return u[c]=l,new kr(u,d)}addToIndexes(t,n){const r=Fa(this.indexes_,(o,i)=>{const a=ro(this.indexSet_,i);if(Ce(a,"Missing index implementation for "+i),o===Ls)if(a.isDefinedOn(t.node)){const l=[],c=n.getIterator(Je.Wrap);let d=c.getNext();for(;d;)d.name!==t.name&&l.push(d),d=c.getNext();return l.push(t),Ka(l,a.getCompare())}else return Ls;else{const l=n.get(t.name);let c=o;return l&&(c=c.remove(new Je(t.name,l))),c.insert(t,t.node)}});return new kr(r,this.indexSet_)}removeFromIndexes(t,n){const r=Fa(this.indexes_,o=>{if(o===Ls)return o;{const i=n.get(t.name);return i?o.remove(new Je(t.name,i)):o}});return new kr(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qo;class ft{constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Hv(this.priorityNode_),this.children_.isEmpty()&&Ce(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return qo||(qo=new ft(new hn(Ou),null,kr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||qo}updatePriority(t){return this.children_.isEmpty()?this:new ft(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?qo:n}}getChild(t){const n=Xe(t);return n===null?this:this.getImmediateChild(n).getChild(wt(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(Ce(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new Je(t,n);let o,i;n.isEmpty()?(o=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(r,this.children_));const a=o.isEmpty()?qo:this.priorityNode_;return new ft(o,a,i)}}updateChild(t,n){const r=Xe(t);if(r===null)return n;{Ce(Xe(t)!==".priority"||Zr(t)===1,".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(wt(t),n);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,o=0,i=!0;if(this.forEachChild(en,(a,l)=>{n[a]=l.val(t),r++,i&&ft.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):i=!1}),!t&&i&&o<2*r){const a=[];for(const l in n)a[l]=n[l];return a}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+Wv(this.getPriority().val())+":"),this.forEachChild(en,(n,r)=>{const o=r.hash();o!==""&&(t+=":"+n+":"+o)}),this.lazyHash_=t===""?"":fv(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const o=this.resolveIndex_(r);if(o){const i=o.getPredecessorKey(new Je(t,n));return i?i.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new Je(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new Je(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(o=>n(o.name,o.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,Je.Wrap);let i=o.peek();for(;i!=null&&n.compare(i,t)<0;)o.getNext(),i=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,Je.Wrap);let i=o.peek();for(;i!=null&&n.compare(i,t)>0;)o.getNext(),i=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Ki?-1:0}withIndex(t){if(t===Xs||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new ft(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===Xs||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(en),o=n.getIterator(en);let i=r.getNext(),a=o.getNext();for(;i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=r.getNext(),a=o.getNext()}return i===null&&a===null}else return!1;else return!1}}resolveIndex_(t){return t===Xs?null:this.indexMap_.get(t.toString())}}ft.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class S2 extends ft{constructor(){super(new hn(Ou),ft.EMPTY_NODE,kr.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return ft.EMPTY_NODE}isEmpty(){return!1}}const Ki=new S2;Object.defineProperties(Je,{MIN:{value:new Je(co,ft.EMPTY_NODE)},MAX:{value:new Je(Cs,Ki)}});zv.__EMPTY_NODE=ft.EMPTY_NODE;zt.__childrenNodeConstructor=ft;x2(Ki);w2(Ki);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=!0;function Xt(e,t=null){if(e===null)return ft.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),Ce(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new zt(n,Xt(t))}if(!(e instanceof Array)&&_2){const n=[];let r=!1;if(On(e,(a,l)=>{if(a.substring(0,1)!=="."){const c=Xt(l);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new Je(a,c)))}}),n.length===0)return ft.EMPTY_NODE;const i=Ka(n,y2,a=>a.name,Ou);if(r){const a=Ka(n,en.getCompare());return new ft(i,Xt(t),new kr({".priority":a},{".priority":en}))}else return new ft(i,Xt(t),kr.Default)}else{let n=ft.EMPTY_NODE;return On(e,(r,o)=>{if(Or(e,r)&&r.substring(0,1)!=="."){const i=Xt(o);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(Xt(t))}}b2(Xt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2 extends Jl{constructor(t){super(),this.indexPath_=t,Ce(!Ge(t)&&Xe(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),o=this.extractChild(n.node),i=r.compareTo(o);return i===0?Io(t.name,n.name):i}makePost(t,n){const r=Xt(t),o=ft.EMPTY_NODE.updateChild(this.indexPath_,r);return new Je(n,o)}maxPost(){const t=ft.EMPTY_NODE.updateChild(this.indexPath_,Ki);return new Je(Cs,t)}toString(){return Ov(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2 extends Jl{compare(t,n){const r=t.node.compareTo(n.node);return r===0?Io(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return Je.MIN}maxPost(){return Je.MAX}makePost(t,n){const r=Xt(t);return new Je(n,r)}toString(){return".value"}}const M2=new E2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(e){return{type:"value",snapshotNode:e}}function N2(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function I2(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function zh(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function D2(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=en}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Ce(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Ce(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:co}hasEnd(){return this.endSet_}getIndexEndValue(){return Ce(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Ce(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Cs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Ce(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===en}copy(){const t=new Lu;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Wh(e){const t={};if(e.isDefault())return t;let n;if(e.index_===en?n="$priority":e.index_===M2?n="$value":e.index_===Xs?n="$key":(Ce(e.index_ instanceof T2,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=qt(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=qt(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+qt(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=qt(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+qt(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Hh(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==en&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa extends Rv{constructor(t,n,r,o){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=Gi("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(Ce(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,o){const i=t._path.toString();this.log_("Listen called for "+i+" "+t._queryIdentifier);const a=Qa.getListenId_(t,r),l={};this.listens_[a]=l;const c=Wh(t._queryParams);this.restRequest_(i+".json",c,(d,u)=>{let p=u;if(d===404&&(p=null,d=null),d===null&&this.onDataUpdate_(i,p,!1,r),ro(this.listens_,a)===l){let f;d?d===401?f="permission_denied":f="rest_error:"+d:f="ok",o(f,null)}})}unlisten(t,n){const r=Qa.getListenId_(t,n);delete this.listens_[r]}get(t){const n=Wh(t._queryParams),r=t._path.toString(),o=new qm;return this.restRequest_(r+".json",n,(i,a)=>{let l=a;i===404&&(l=null,i=null),i===null?(this.onDataUpdate_(r,l,!1,null),o.resolve(l)):o.reject(new Error(l))}),o.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,i])=>{o&&o.accessToken&&(n.auth=o.accessToken),i&&i.token&&(n.ac=i.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Sb(n);this.log_("Sending REST request for "+a);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+a+" received. status:",l.status,"response:",l.responseText);let c=null;if(l.status>=200&&l.status<300){try{c=au(l.responseText)}catch{Sn("Failed to parse JSON response for "+a+": "+l.responseText)}r(null,c)}else l.status!==401&&l.status!==404&&Sn("Got unsuccessful REST response for "+a+" Status: "+l.status),r(l.status);r=null}},l.open("GET",a,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(){this.rootNode_=ft.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(){return{value:null,children:new Map}}function Yv(e,t,n){if(Ge(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const r=Xe(t);e.children.has(r)||e.children.set(r,Xa());const o=e.children.get(r);t=wt(t),Yv(o,t,n)}}function Sd(e,t,n){e.value!==null?n(t,e.value):A2(e,(r,o)=>{const i=new kt(t.toString()+"/"+r);Sd(o,i,n)})}function A2(e,t){e.children.forEach((n,r)=>{t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&On(this.last_,(r,o)=>{n[r]=n[r]-o}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=10*1e3,O2=30*1e3,L2=5*60*1e3;class B2{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new $2(t);const r=Uh+(O2-Uh)*Math.random();ui(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;On(t,(o,i)=>{i>0&&Or(this.statsToReport_,o)&&(n[o]=i,r=!0)}),r&&this.server_.reportStats(n),ui(this.reportStats_.bind(this),Math.floor(Math.random()*2*L2))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ir;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ir||(ir={}));function Gv(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function qv(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Kv(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=ir.ACK_USER_WRITE,this.source=Gv()}operationForChild(t){if(Ge(this.path)){if(this.affectedTree.value!=null)return Ce(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new kt(t));return new Za(vt(),n,this.revert)}}else return Ce(Xe(this.path)===t,"operationForChild called for unrelated child."),new Za(wt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=ir.OVERWRITE}operationForChild(t){return Ge(this.path)?new js(this.source,vt(),this.snap.getImmediateChild(t)):new js(this.source,wt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=ir.MERGE}operationForChild(t){if(Ge(this.path)){const n=this.children.subtree(new kt(t));return n.isEmpty()?null:n.value?new js(this.source,vt(),n.value):new Ei(this.source,vt(),n)}else return Ce(Xe(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Ei(this.source,wt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Ge(t))return this.isFullyInitialized()&&!this.filtered_;const n=Xe(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}function F2(e,t,n,r){const o=[],i=[];return t.forEach(a=>{a.type==="child_changed"&&e.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&i.push(D2(a.childName,a.snapshotNode))}),Ko(e,o,"child_removed",t,r,n),Ko(e,o,"child_added",t,r,n),Ko(e,o,"child_moved",i,r,n),Ko(e,o,"child_changed",t,r,n),Ko(e,o,"value",t,r,n),o}function Ko(e,t,n,r,o,i){const a=r.filter(l=>l.type===n);a.sort((l,c)=>W2(e,l,c)),a.forEach(l=>{const c=z2(e,l,i);o.forEach(d=>{d.respondsTo(l.type)&&t.push(d.createEvent(c,e.query_))})})}function z2(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function W2(e,t,n){if(t.childName==null||n.childName==null)throw $i("Should only compare child_ events.");const r=new Je(t.childName,t.snapshotNode),o=new Je(n.childName,n.snapshotNode);return e.index_.compare(r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(e,t){return{eventCache:e,serverCache:t}}function pi(e,t,n,r){return Qv(new Bu(t,n,r),e.serverCache)}function Xv(e,t,n,r){return Qv(e.eventCache,new Bu(t,n,r))}function _d(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function ks(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wc;const H2=()=>(Wc||(Wc=new hn(Mj)),Wc);class bt{constructor(t,n=H2()){this.value=t,this.children=n}static fromObject(t){let n=new bt(null);return On(t,(r,o)=>{n=n.set(new kt(r),o)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:vt(),value:this.value};if(Ge(t))return null;{const r=Xe(t),o=this.children.get(r);if(o!==null){const i=o.findRootMostMatchingPathAndValue(wt(t),n);return i!=null?{path:Ht(new kt(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Ge(t))return this;{const n=Xe(t),r=this.children.get(n);return r!==null?r.subtree(wt(t)):new bt(null)}}set(t,n){if(Ge(t))return new bt(n,this.children);{const r=Xe(t),i=(this.children.get(r)||new bt(null)).set(wt(t),n),a=this.children.insert(r,i);return new bt(this.value,a)}}remove(t){if(Ge(t))return this.children.isEmpty()?new bt(null):new bt(null,this.children);{const n=Xe(t),r=this.children.get(n);if(r){const o=r.remove(wt(t));let i;return o.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,o),this.value===null&&i.isEmpty()?new bt(null):new bt(this.value,i)}else return this}}get(t){if(Ge(t))return this.value;{const n=Xe(t),r=this.children.get(n);return r?r.get(wt(t)):null}}setTree(t,n){if(Ge(t))return n;{const r=Xe(t),i=(this.children.get(r)||new bt(null)).setTree(wt(t),n);let a;return i.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,i),new bt(this.value,a)}}fold(t){return this.fold_(vt(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((o,i)=>{r[o]=i.fold_(Ht(t,o),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,vt(),n)}findOnPath_(t,n,r){const o=this.value?r(n,this.value):!1;if(o)return o;if(Ge(t))return null;{const i=Xe(t),a=this.children.get(i);return a?a.findOnPath_(wt(t),Ht(n,i),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,vt(),n)}foreachOnPath_(t,n,r){if(Ge(t))return this;{this.value&&r(n,this.value);const o=Xe(t),i=this.children.get(o);return i?i.foreachOnPath_(wt(t),Ht(n,o),r):new bt(null)}}foreach(t){this.foreach_(vt(),t)}foreach_(t,n){this.children.inorderTraversal((r,o)=>{o.foreach_(Ht(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(t){this.writeTree_=t}static empty(){return new qn(new bt(null))}}function hi(e,t,n){if(Ge(t))return new qn(new bt(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const o=r.path;let i=r.value;const a=Dn(o,t);return i=i.updateChild(a,n),new qn(e.writeTree_.set(o,i))}else{const o=new bt(n),i=e.writeTree_.setTree(t,o);return new qn(i)}}}function Vh(e,t,n){let r=e;return On(n,(o,i)=>{r=hi(r,Ht(t,o),i)}),r}function Yh(e,t){if(Ge(t))return qn.empty();{const n=e.writeTree_.setTree(t,new bt(null));return new qn(n)}}function Td(e,t){return Ps(e,t)!=null}function Ps(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Dn(n.path,t)):null}function Gh(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(en,(r,o)=>{t.push(new Je(r,o))}):e.writeTree_.children.inorderTraversal((r,o)=>{o.value!=null&&t.push(new Je(r,o.value))}),t}function Kr(e,t){if(Ge(t))return e;{const n=Ps(e,t);return n!=null?new qn(new bt(n)):new qn(e.writeTree_.subtree(t))}}function Ed(e){return e.writeTree_.isEmpty()}function uo(e,t){return Zv(vt(),e.writeTree_,t)}function Zv(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((o,i)=>{o===".priority"?(Ce(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=Zv(Ht(e,o),i,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(Ht(e,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(e,t){return sy(t,e)}function U2(e,t,n,r,o){Ce(r>e.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:o}),o&&(e.visibleWrites=hi(e.visibleWrites,t,n)),e.lastWriteId=r}function V2(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function Y2(e,t){const n=e.allWrites.findIndex(l=>l.writeId===t);Ce(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let o=r.visible,i=!1,a=e.allWrites.length-1;for(;o&&a>=0;){const l=e.allWrites[a];l.visible&&(a>=n&&G2(l,r.path)?o=!1:Yn(r.path,l.path)&&(i=!0)),a--}if(o){if(i)return q2(e),!0;if(r.snap)e.visibleWrites=Yh(e.visibleWrites,r.path);else{const l=r.children;On(l,c=>{e.visibleWrites=Yh(e.visibleWrites,Ht(r.path,c))})}return!0}else return!1}function G2(e,t){if(e.snap)return Yn(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Yn(Ht(e.path,n),t))return!0;return!1}function q2(e){e.visibleWrites=ey(e.allWrites,K2,vt()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function K2(e){return e.visible}function ey(e,t,n){let r=qn.empty();for(let o=0;o<e.length;++o){const i=e[o];if(t(i)){const a=i.path;let l;if(i.snap)Yn(n,a)?(l=Dn(n,a),r=hi(r,l,i.snap)):Yn(a,n)&&(l=Dn(a,n),r=hi(r,vt(),i.snap.getChild(l)));else if(i.children){if(Yn(n,a))l=Dn(n,a),r=Vh(r,l,i.children);else if(Yn(a,n))if(l=Dn(a,n),Ge(l))r=Vh(r,vt(),i.children);else{const c=ro(i.children,Xe(l));if(c){const d=c.getChild(wt(l));r=hi(r,vt(),d)}}}else throw $i("WriteRecord should have .snap or .children")}}return r}function ty(e,t,n,r,o){if(!r&&!o){const i=Ps(e.visibleWrites,t);if(i!=null)return i;{const a=Kr(e.visibleWrites,t);if(Ed(a))return n;if(n==null&&!Td(a,vt()))return null;{const l=n||ft.EMPTY_NODE;return uo(a,l)}}}else{const i=Kr(e.visibleWrites,t);if(!o&&Ed(i))return n;if(!o&&n==null&&!Td(i,vt()))return null;{const a=function(d){return(d.visible||o)&&(!r||!~r.indexOf(d.writeId))&&(Yn(d.path,t)||Yn(t,d.path))},l=ey(e.allWrites,a,t),c=n||ft.EMPTY_NODE;return uo(l,c)}}}function Q2(e,t,n){let r=ft.EMPTY_NODE;const o=Ps(e.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(en,(i,a)=>{r=r.updateImmediateChild(i,a)}),r;if(n){const i=Kr(e.visibleWrites,t);return n.forEachChild(en,(a,l)=>{const c=uo(Kr(i,new kt(a)),l);r=r.updateImmediateChild(a,c)}),Gh(i).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}else{const i=Kr(e.visibleWrites,t);return Gh(i).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}}function X2(e,t,n,r,o){Ce(r||o,"Either existingEventSnap or existingServerSnap must exist");const i=Ht(t,n);if(Td(e.visibleWrites,i))return null;{const a=Kr(e.visibleWrites,i);return Ed(a)?o.getChild(n):uo(a,o.getChild(n))}}function Z2(e,t,n,r){const o=Ht(t,n),i=Ps(e.visibleWrites,o);if(i!=null)return i;if(r.isCompleteForChild(n)){const a=Kr(e.visibleWrites,o);return uo(a,r.getNode().getImmediateChild(n))}else return null}function J2(e,t){return Ps(e.visibleWrites,t)}function ek(e,t,n,r,o,i,a){let l;const c=Kr(e.visibleWrites,t),d=Ps(c,vt());if(d!=null)l=d;else if(n!=null)l=uo(c,n);else return[];if(l=l.withIndex(a),!l.isEmpty()&&!l.isLeafNode()){const u=[],p=a.getCompare(),f=i?l.getReverseIteratorFrom(r,a):l.getIteratorFrom(r,a);let g=f.getNext();for(;g&&u.length<o;)p(g,r)!==0&&u.push(g),g=f.getNext();return u}else return[]}function tk(){return{visibleWrites:qn.empty(),allWrites:[],lastWriteId:-1}}function Md(e,t,n,r){return ty(e.writeTree,e.treePath,t,n,r)}function ny(e,t){return Q2(e.writeTree,e.treePath,t)}function qh(e,t,n,r){return X2(e.writeTree,e.treePath,t,n,r)}function Ja(e,t){return J2(e.writeTree,Ht(e.treePath,t))}function nk(e,t,n,r,o,i){return ek(e.writeTree,e.treePath,t,n,r,o,i)}function Fu(e,t,n){return Z2(e.writeTree,e.treePath,t,n)}function ry(e,t){return sy(Ht(e.treePath,t),e.writeTree)}function sy(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;Ce(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Ce(r!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const i=o.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,zh(r,t.snapshotNode,o.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,I2(r,o.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,N2(r,t.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,zh(r,t.snapshotNode,o.oldSnap));else throw $i("Illegal combination of changes: "+t+" occurred after "+o)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const oy=new sk;class zu{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new Bu(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Fu(this.writes_,t,r)}}getChildAfterChild(t,n,r){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ks(this.viewCache_),i=nk(this.writes_,o,n,1,r,t);return i.length===0?null:i[0]}}function ok(e,t){Ce(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),Ce(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function ik(e,t,n,r,o){const i=new rk;let a,l;if(n.type===ir.OVERWRITE){const d=n;d.source.fromUser?a=Pd(e,t,d.path,d.snap,r,o,i):(Ce(d.source.fromServer,"Unknown source."),l=d.source.tagged||t.serverCache.isFiltered()&&!Ge(d.path),a=el(e,t,d.path,d.snap,r,o,l,i))}else if(n.type===ir.MERGE){const d=n;d.source.fromUser?a=lk(e,t,d.path,d.children,r,o,i):(Ce(d.source.fromServer,"Unknown source."),l=d.source.tagged||t.serverCache.isFiltered(),a=Nd(e,t,d.path,d.children,r,o,l,i))}else if(n.type===ir.ACK_USER_WRITE){const d=n;d.revert?a=uk(e,t,d.path,r,o,i):a=ck(e,t,d.path,d.affectedTree,r,o,i)}else if(n.type===ir.LISTEN_COMPLETE)a=dk(e,t,n.path,r,i);else throw $i("Unknown operation type: "+n.type);const c=i.getChanges();return ak(t,a,c),{viewCache:a,changes:c}}function ak(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=_d(e);(n.length>0||!e.eventCache.isFullyInitialized()||o&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(P2(_d(t)))}}function iy(e,t,n,r,o,i){const a=t.eventCache;if(Ja(r,n)!=null)return t;{let l,c;if(Ge(n))if(Ce(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const d=ks(t),u=d instanceof ft?d:ft.EMPTY_NODE,p=ny(r,u);l=e.filter.updateFullNode(t.eventCache.getNode(),p,i)}else{const d=Md(r,ks(t));l=e.filter.updateFullNode(t.eventCache.getNode(),d,i)}else{const d=Xe(n);if(d===".priority"){Ce(Zr(n)===1,"Can't have a priority with additional path components");const u=a.getNode();c=t.serverCache.getNode();const p=qh(r,n,u,c);p!=null?l=e.filter.updatePriority(u,p):l=a.getNode()}else{const u=wt(n);let p;if(a.isCompleteForChild(d)){c=t.serverCache.getNode();const f=qh(r,n,a.getNode(),c);f!=null?p=a.getNode().getImmediateChild(d).updateChild(u,f):p=a.getNode().getImmediateChild(d)}else p=Fu(r,d,t.serverCache);p!=null?l=e.filter.updateChild(a.getNode(),d,p,u,o,i):l=a.getNode()}}return pi(t,l,a.isFullyInitialized()||Ge(n),e.filter.filtersNodes())}}function el(e,t,n,r,o,i,a,l){const c=t.serverCache;let d;const u=a?e.filter:e.filter.getIndexedFilter();if(Ge(n))d=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){const g=c.getNode().updateChild(n,r);d=u.updateFullNode(c.getNode(),g,null)}else{const g=Xe(n);if(!c.isCompleteForPath(n)&&Zr(n)>1)return t;const v=wt(n),m=c.getNode().getImmediateChild(g).updateChild(v,r);g===".priority"?d=u.updatePriority(c.getNode(),m):d=u.updateChild(c.getNode(),g,m,v,oy,null)}const p=Xv(t,d,c.isFullyInitialized()||Ge(n),u.filtersNodes()),f=new zu(o,p,i);return iy(e,p,n,o,f,l)}function Pd(e,t,n,r,o,i,a){const l=t.eventCache;let c,d;const u=new zu(o,t,i);if(Ge(n))d=e.filter.updateFullNode(t.eventCache.getNode(),r,a),c=pi(t,d,!0,e.filter.filtersNodes());else{const p=Xe(n);if(p===".priority")d=e.filter.updatePriority(t.eventCache.getNode(),r),c=pi(t,d,l.isFullyInitialized(),l.isFiltered());else{const f=wt(n),g=l.getNode().getImmediateChild(p);let v;if(Ge(f))v=r;else{const y=u.getCompleteChild(p);y!=null?$v(f)===".priority"&&y.getChild(Lv(f)).isEmpty()?v=y:v=y.updateChild(f,r):v=ft.EMPTY_NODE}if(g.equals(v))c=t;else{const y=e.filter.updateChild(l.getNode(),p,v,f,u,a);c=pi(t,y,l.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function Kh(e,t){return e.eventCache.isCompleteForChild(t)}function lk(e,t,n,r,o,i,a){let l=t;return r.foreach((c,d)=>{const u=Ht(n,c);Kh(t,Xe(u))&&(l=Pd(e,l,u,d,o,i,a))}),r.foreach((c,d)=>{const u=Ht(n,c);Kh(t,Xe(u))||(l=Pd(e,l,u,d,o,i,a))}),l}function Qh(e,t,n){return n.foreach((r,o)=>{t=t.updateChild(r,o)}),t}function Nd(e,t,n,r,o,i,a,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c=t,d;Ge(n)?d=r:d=new bt(null).setTree(n,r);const u=t.serverCache.getNode();return d.children.inorderTraversal((p,f)=>{if(u.hasChild(p)){const g=t.serverCache.getNode().getImmediateChild(p),v=Qh(e,g,f);c=el(e,c,new kt(p),v,o,i,a,l)}}),d.children.inorderTraversal((p,f)=>{const g=!t.serverCache.isCompleteForChild(p)&&f.value===null;if(!u.hasChild(p)&&!g){const v=t.serverCache.getNode().getImmediateChild(p),y=Qh(e,v,f);c=el(e,c,new kt(p),y,o,i,a,l)}}),c}function ck(e,t,n,r,o,i,a){if(Ja(o,n)!=null)return t;const l=t.serverCache.isFiltered(),c=t.serverCache;if(r.value!=null){if(Ge(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return el(e,t,n,c.getNode().getChild(n),o,i,l,a);if(Ge(n)){let d=new bt(null);return c.getNode().forEachChild(Xs,(u,p)=>{d=d.set(new kt(u),p)}),Nd(e,t,n,d,o,i,l,a)}else return t}else{let d=new bt(null);return r.foreach((u,p)=>{const f=Ht(n,u);c.isCompleteForPath(f)&&(d=d.set(u,c.getNode().getChild(f)))}),Nd(e,t,n,d,o,i,l,a)}}function dk(e,t,n,r,o){const i=t.serverCache,a=Xv(t,i.getNode(),i.isFullyInitialized()||Ge(n),i.isFiltered());return iy(e,a,n,r,oy,o)}function uk(e,t,n,r,o,i){let a;if(Ja(r,n)!=null)return t;{const l=new zu(r,t,o),c=t.eventCache.getNode();let d;if(Ge(n)||Xe(n)===".priority"){let u;if(t.serverCache.isFullyInitialized())u=Md(r,ks(t));else{const p=t.serverCache.getNode();Ce(p instanceof ft,"serverChildren would be complete if leaf node"),u=ny(r,p)}u=u,d=e.filter.updateFullNode(c,u,i)}else{const u=Xe(n);let p=Fu(r,u,t.serverCache);p==null&&t.serverCache.isCompleteForChild(u)&&(p=c.getImmediateChild(u)),p!=null?d=e.filter.updateChild(c,u,p,wt(n),l,i):t.eventCache.getNode().hasChild(u)?d=e.filter.updateChild(c,u,ft.EMPTY_NODE,wt(n),l,i):d=c,d.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=Md(r,ks(t)),a.isLeafNode()&&(d=e.filter.updateFullNode(d,a,i)))}return a=t.serverCache.isFullyInitialized()||Ja(r,vt())!=null,pi(t,d,a,e.filter.filtersNodes())}}function pk(e,t){const n=ks(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Ge(t)&&!n.getImmediateChild(Xe(t)).isEmpty())?n.getChild(t):null}function Xh(e,t,n,r){t.type===ir.MERGE&&t.source.queryId!==null&&(Ce(ks(e.viewCache_),"We should always have a full cache before handling merges"),Ce(_d(e.viewCache_),"Missing event cache, even though we have a server cache"));const o=e.viewCache_,i=ik(e.processor_,o,t,n,r);return ok(e.processor_,i.viewCache),Ce(i.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=i.viewCache,hk(e,i.changes,i.viewCache.eventCache.getNode())}function hk(e,t,n,r){const o=e.eventRegistrations_;return F2(e.eventGenerator_,t,n,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zh;function fk(e){Ce(!Zh,"__referenceConstructor has already been defined"),Zh=e}function Wu(e,t,n,r){const o=t.source.queryId;if(o!==null){const i=e.views.get(o);return Ce(i!=null,"SyncTree gave us an op for an invalid query."),Xh(i,t,n,r)}else{let i=[];for(const a of e.views.values())i=i.concat(Xh(a,t,n,r));return i}}function Hu(e,t){let n=null;for(const r of e.views.values())n=n||pk(r,t);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jh;function mk(e){Ce(!Jh,"__referenceConstructor has already been defined"),Jh=e}class ef{constructor(t){this.listenProvider_=t,this.syncPointTree_=new bt(null),this.pendingWriteTree_=tk(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function gk(e,t,n,r,o){return U2(e.pendingWriteTree_,t,n,r,o),o?tc(e,new js(Gv(),t,n)):[]}function Ys(e,t,n=!1){const r=V2(e.pendingWriteTree_,t);if(Y2(e.pendingWriteTree_,t)){let i=new bt(null);return r.snap!=null?i=i.set(vt(),!0):On(r.children,a=>{i=i.set(new kt(a),!0)}),tc(e,new Za(r.path,i,n))}else return[]}function ec(e,t,n){return tc(e,new js(qv(),t,n))}function vk(e,t,n){const r=bt.fromObject(n);return tc(e,new Ei(qv(),t,r))}function yk(e,t,n,r){const o=dy(e,r);if(o!=null){const i=uy(o),a=i.path,l=i.queryId,c=Dn(a,t),d=new js(Kv(l),c,n);return py(e,a,d)}else return[]}function xk(e,t,n,r){const o=dy(e,r);if(o){const i=uy(o),a=i.path,l=i.queryId,c=Dn(a,t),d=bt.fromObject(n),u=new Ei(Kv(l),c,d);return py(e,a,u)}else return[]}function ay(e,t,n){const o=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(a,l)=>{const c=Dn(a,t),d=Hu(l,c);if(d)return d});return ty(o,t,i,n,!0)}function tc(e,t){return ly(t,e.syncPointTree_,null,Jv(e.pendingWriteTree_,vt()))}function ly(e,t,n,r){if(Ge(e.path))return cy(e,t,n,r);{const o=t.get(vt());n==null&&o!=null&&(n=Hu(o,vt()));let i=[];const a=Xe(e.path),l=e.operationForChild(a),c=t.children.get(a);if(c&&l){const d=n?n.getImmediateChild(a):null,u=ry(r,a);i=i.concat(ly(l,c,d,u))}return o&&(i=i.concat(Wu(o,e,r,n))),i}}function cy(e,t,n,r){const o=t.get(vt());n==null&&o!=null&&(n=Hu(o,vt()));let i=[];return t.children.inorderTraversal((a,l)=>{const c=n?n.getImmediateChild(a):null,d=ry(r,a),u=e.operationForChild(a);u&&(i=i.concat(cy(u,l,c,d)))}),o&&(i=i.concat(Wu(o,e,r,n))),i}function dy(e,t){return e.tagToQueryMap.get(t)}function uy(e){const t=e.indexOf("$");return Ce(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new kt(e.substr(0,t))}}function py(e,t,n){const r=e.syncPointTree_.get(t);Ce(r,"Missing sync point for query tag that we're tracking");const o=Jv(e.pendingWriteTree_,t);return Wu(r,n,o,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new Uu(n)}node(){return this.node_}}class Vu{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=Ht(this.path_,t);return new Vu(this.syncTree_,n)}node(){return ay(this.syncTree_,this.path_)}}const bk=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},tf=function(e,t,n){if(!e||typeof e!="object")return e;if(Ce(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return wk(e[".sv"],t,n);if(typeof e[".sv"]=="object")return Ck(e[".sv"],t);Ce(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},wk=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:Ce(!1,"Unexpected server value: "+e)}},Ck=function(e,t,n){e.hasOwnProperty("increment")||Ce(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&Ce(!1,"Unexpected increment value: "+r);const o=t.node();if(Ce(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const a=o.getValue();return typeof a!="number"?r:a+r},jk=function(e,t,n,r){return Yu(t,new Vu(n,e),r)},kk=function(e,t,n){return Yu(e,new Uu(t),n)};function Yu(e,t,n){const r=e.getPriority().val(),o=tf(r,t.getImmediateChild(".priority"),n);let i;if(e.isLeafNode()){const a=e,l=tf(a.getValue(),t,n);return l!==a.getValue()||o!==a.getPriority().val()?new zt(l,Xt(o)):e}else{const a=e;return i=a,o!==a.getPriority().val()&&(i=i.updatePriority(new zt(o))),a.forEachChild(en,(l,c)=>{const d=Yu(c,t.getImmediateChild(l),n);d!==c&&(i=i.updateImmediateChild(l,d))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function qu(e,t){let n=t instanceof kt?t:new kt(t),r=e,o=Xe(n);for(;o!==null;){const i=ro(r.node.children,o)||{children:{},childCount:0};r=new Gu(o,r,i),n=wt(n),o=Xe(n)}return r}function Do(e){return e.node.value}function hy(e,t){e.node.value=t,Id(e)}function fy(e){return e.node.childCount>0}function Sk(e){return Do(e)===void 0&&!fy(e)}function nc(e,t){On(e.node.children,(n,r)=>{t(new Gu(n,e,r))})}function my(e,t,n,r){n&&t(e),nc(e,o=>{my(o,t,!0)})}function _k(e,t,n){let r=e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function Qi(e){return new kt(e.parent===null?e.name:Qi(e.parent)+"/"+e.name)}function Id(e){e.parent!==null&&Tk(e.parent,e.name,e)}function Tk(e,t,n){const r=Sk(n),o=Or(e.node.children,t);r&&o?(delete e.node.children[t],e.node.childCount--,Id(e)):!r&&!o&&(e.node.children[t]=n.node,e.node.childCount++,Id(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek=/[\[\].#$\/\u0000-\u001F\u007F]/,Mk=/[\[\].#$\u0000-\u001F\u007F]/,Hc=10*1024*1024,gy=function(e){return typeof e=="string"&&e.length!==0&&!Ek.test(e)},Pk=function(e){return typeof e=="string"&&e.length!==0&&!Mk.test(e)},Nk=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Pk(e)},vy=function(e,t,n){const r=n instanceof kt?new d2(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+ls(r));if(typeof t=="function")throw new Error(e+"contains a function "+ls(r)+" with contents = "+t.toString());if(mv(t))throw new Error(e+"contains "+t.toString()+" "+ls(r));if(typeof t=="string"&&t.length>Hc/3&&xl(t)>Hc)throw new Error(e+"contains a string greater than "+Hc+" utf8 bytes "+ls(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let o=!1,i=!1;if(On(t,(a,l)=>{if(a===".value")o=!0;else if(a!==".priority"&&a!==".sv"&&(i=!0,!gy(a)))throw new Error(e+" contains an invalid key ("+a+") "+ls(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);u2(r,a),vy(e,l,r),p2(r)}),o&&i)throw new Error(e+' contains ".value" child '+ls(r)+" in addition to actual children.")}},Ik=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!gy(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Nk(n))throw new Error(jb(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Rk(e,t){let n=null;for(let r=0;r<t.length;r++){const o=t[r],i=o.getPath();n!==null&&!Bv(i,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(o)}n&&e.eventLists_.push(n)}function Ns(e,t,n){Rk(e,n),Ak(e,r=>Yn(r,t)||Yn(t,r))}function Ak(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const o=e.eventLists_[r];if(o){const i=o.path;t(i)?($k(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function $k(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const r=n.getEventRunner();di&&Qt("event: "+n.toString()),qi(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok="repo_interrupt",Lk=25;class Bk{constructor(t,n,r,o){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Dk,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Xa(),this.transactionQueueTree_=new Gu,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Fk(e,t,n){if(e.stats_=Ru(e.repoInfo_),e.forceRestClient_||Aj())e.server_=new Qa(e.repoInfo_,(r,o,i,a)=>{nf(e,r,o,i,a)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>rf(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{qt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Sr(e.repoInfo_,t,(r,o,i,a)=>{nf(e,r,o,i,a)},r=>{rf(e,r)},r=>{Wk(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=Fj(e.repoInfo_,()=>new B2(e.stats_,e.server_)),e.infoData_=new R2,e.infoSyncTree_=new ef({startListening:(r,o,i,a)=>{let l=[];const c=e.infoData_.getNode(r._path);return c.isEmpty()||(l=ec(e.infoSyncTree_,r._path,c),setTimeout(()=>{a("ok")},0)),l},stopListening:()=>{}}),Ku(e,"connected",!1),e.serverSyncTree_=new ef({startListening:(r,o,i,a)=>(e.server_.listen(r,i,o,(l,c)=>{const d=a(l,c);Ns(e.eventQueue_,r._path,d)}),[]),stopListening:(r,o)=>{e.server_.unlisten(r,o)}})}function zk(e){const n=e.infoData_.getNode(new kt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function yy(e){return bk({timestamp:zk(e)})}function nf(e,t,n,r,o){e.dataUpdateCount++;const i=new kt(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let a=[];if(o)if(r){const c=Fa(n,d=>Xt(d));a=xk(e.serverSyncTree_,i,c,o)}else{const c=Xt(n);a=yk(e.serverSyncTree_,i,c,o)}else if(r){const c=Fa(n,d=>Xt(d));a=vk(e.serverSyncTree_,i,c)}else{const c=Xt(n);a=ec(e.serverSyncTree_,i,c)}let l=i;a.length>0&&(l=Xu(e,i)),Ns(e.eventQueue_,l,a)}function rf(e,t){Ku(e,"connected",t),t===!1&&Uk(e)}function Wk(e,t){On(t,(n,r)=>{Ku(e,n,r)})}function Ku(e,t,n){const r=new kt("/.info/"+t),o=Xt(n);e.infoData_.updateSnapshot(r,o);const i=ec(e.infoSyncTree_,r,o);Ns(e.eventQueue_,r,i)}function Hk(e){return e.nextWriteId_++}function Uk(e){xy(e,"onDisconnectEvents");const t=yy(e),n=Xa();Sd(e.onDisconnect_,vt(),(o,i)=>{const a=jk(o,i,e.serverSyncTree_,t);Yv(n,o,a)});let r=[];Sd(n,vt(),(o,i)=>{r=r.concat(ec(e.serverSyncTree_,o,i));const a=qk(e,o);Xu(e,a)}),e.onDisconnect_=Xa(),Ns(e.eventQueue_,vt(),r)}function Vk(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Ok)}function xy(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Qt(n,...t)}function by(e,t,n){return ay(e.serverSyncTree_,t,n)||ft.EMPTY_NODE}function Qu(e,t=e.transactionQueueTree_){if(t||rc(e,t),Do(t)){const n=Cy(e,t);Ce(n.length>0,"Sending zero length transaction queue"),n.every(o=>o.status===0)&&Yk(e,Qi(t),n)}else fy(t)&&nc(t,n=>{Qu(e,n)})}function Yk(e,t,n){const r=n.map(d=>d.currentWriteId),o=by(e,t,r);let i=o;const a=o.hash();for(let d=0;d<n.length;d++){const u=n[d];Ce(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const p=Dn(t,u.path);i=i.updateChild(p,u.currentOutputSnapshotRaw)}const l=i.val(!0),c=t;e.server_.put(c.toString(),l,d=>{xy(e,"transaction put response",{path:c.toString(),status:d});let u=[];if(d==="ok"){const p=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(Ys(e.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&p.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();rc(e,qu(e.transactionQueueTree_,t)),Qu(e,e.transactionQueueTree_),Ns(e.eventQueue_,t,u);for(let f=0;f<p.length;f++)qi(p[f])}else{if(d==="datastale")for(let p=0;p<n.length;p++)n[p].status===3?n[p].status=4:n[p].status=0;else{Sn("transaction at "+c.toString()+" failed: "+d);for(let p=0;p<n.length;p++)n[p].status=4,n[p].abortReason=d}Xu(e,t)}},a)}function Xu(e,t){const n=wy(e,t),r=Qi(n),o=Cy(e,n);return Gk(e,o,r),r}function Gk(e,t,n){if(t.length===0)return;const r=[];let o=[];const a=t.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<t.length;l++){const c=t[l],d=Dn(n,c.path);let u=!1,p;if(Ce(d!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,p=c.abortReason,o=o.concat(Ys(e.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=Lk)u=!0,p="maxretry",o=o.concat(Ys(e.serverSyncTree_,c.currentWriteId,!0));else{const f=by(e,c.path,a);c.currentInputSnapshot=f;const g=t[l].update(f.val());if(g!==void 0){vy("transaction failed: Data returned ",g,c.path);let v=Xt(g);typeof g=="object"&&g!=null&&Or(g,".priority")||(v=v.updatePriority(f.getPriority()));const m=c.currentWriteId,x=yy(e),j=kk(v,f,x);c.currentOutputSnapshotRaw=v,c.currentOutputSnapshotResolved=j,c.currentWriteId=Hk(e),a.splice(a.indexOf(m),1),o=o.concat(gk(e.serverSyncTree_,c.path,j,c.currentWriteId,c.applyLocally)),o=o.concat(Ys(e.serverSyncTree_,m,!0))}else u=!0,p="nodata",o=o.concat(Ys(e.serverSyncTree_,c.currentWriteId,!0))}Ns(e.eventQueue_,n,o),o=[],u&&(t[l].status=2,function(f){setTimeout(f,Math.floor(0))}(t[l].unwatcher),t[l].onComplete&&(p==="nodata"?r.push(()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot)):r.push(()=>t[l].onComplete(new Error(p),!1,null))))}rc(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)qi(r[l]);Qu(e,e.transactionQueueTree_)}function wy(e,t){let n,r=e.transactionQueueTree_;for(n=Xe(t);n!==null&&Do(r)===void 0;)r=qu(r,n),t=wt(t),n=Xe(t);return r}function Cy(e,t){const n=[];return jy(e,t,n),n.sort((r,o)=>r.order-o.order),n}function jy(e,t,n){const r=Do(t);if(r)for(let o=0;o<r.length;o++)n.push(r[o]);nc(t,o=>{jy(e,o,n)})}function rc(e,t){const n=Do(t);if(n){let r=0;for(let o=0;o<n.length;o++)n[o].status!==2&&(n[r]=n[o],r++);n.length=r,hy(t,n.length>0?n:void 0)}nc(t,r=>{rc(e,r)})}function qk(e,t){const n=Qi(wy(e,t)),r=qu(e.transactionQueueTree_,t);return _k(r,o=>{Uc(e,o)}),Uc(e,r),my(r,o=>{Uc(e,o)}),n}function Uc(e,t){const n=Do(t);if(n){const r=[];let o=[],i=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(Ce(i===a-1,"All SENT items should be at beginning of queue."),i=a,n[a].status=3,n[a].abortReason="set"):(Ce(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),o=o.concat(Ys(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));i===-1?hy(t,void 0):n.length=i+1,Ns(e.eventQueue_,Qi(t),o);for(let a=0;a<r.length;a++)qi(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let o=n[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}t+="/"+o}return t}function Qk(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Sn(`Invalid query segment '${n}' in query '${e}'`)}return t}const sf=function(e,t){const n=Xk(e),r=n.namespace;n.domain==="firebase.com"&&Ir(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Ir("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Tj();const o=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Tv(n.host,n.secure,r,o,t,"",r!==n.subdomain),path:new kt(n.pathString)}},Xk=function(e){let t="",n="",r="",o="",i="",a=!0,l="https",c=443;if(typeof e=="string"){let d=e.indexOf("//");d>=0&&(l=e.substring(0,d-1),e=e.substring(d+2));let u=e.indexOf("/");u===-1&&(u=e.length);let p=e.indexOf("?");p===-1&&(p=e.length),t=e.substring(0,Math.min(u,p)),u<p&&(o=Kk(e.substring(u,p)));const f=Qk(e.substring(Math.min(e.length,p)));d=t.indexOf(":"),d>=0?(a=l==="https"||l==="wss",c=parseInt(t.substring(d+1),10)):d=t.length;const g=t.slice(0,d);if(g.toLowerCase()==="localhost")n="localhost";else if(g.split(".").length<=2)n=g;else{const v=t.indexOf(".");r=t.substring(0,v).toLowerCase(),n=t.substring(v+1),i=r}"ns"in f&&(i=f.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:a,scheme:l,pathString:o,namespace:i}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(t,n,r,o){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=o}get key(){return Ge(this._path)?null:$v(this._path)}get ref(){return new Ro(this._repo,this._path)}get _queryIdentifier(){const t=Hh(this._queryParams),n=Iu(t);return n==="{}"?"default":n}get _queryObject(){return Hh(this._queryParams)}isEqual(t){if(t=Oi(t),!(t instanceof Zu))return!1;const n=this._repo===t._repo,r=Bv(this._path,t._path),o=this._queryIdentifier===t._queryIdentifier;return n&&r&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+c2(this._path)}}class Ro extends Zu{constructor(t,n){super(t,n,new Lu,!1)}get parent(){const t=Lv(this._path);return t===null?null:new Ro(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}fk(Ro);mk(Ro);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk="FIREBASE_DATABASE_EMULATOR_HOST",Dd={};let Jk=!1;function eS(e,t,n,r){e.repoInfo_=new Tv(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}function tS(e,t,n,r,o){let i=r||e.options.databaseURL;i===void 0&&(e.options.projectId||Ir("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Qt("Using default host for project ",e.options.projectId),i=`${e.options.projectId}-default-rtdb.firebaseio.com`);let a=sf(i,o),l=a.repoInfo,c;typeof process<"u"&&kh&&(c=kh[Zk]),c?(i=`http://${c}?ns=${l.namespace}`,a=sf(i,o),l=a.repoInfo):a.repoInfo.secure;const d=new Oj(e.name,e.options,t);Ik("Invalid Firebase Database URL",a),Ge(a.path)||Ir("Database URL must point to the root of a Firebase Database (not including a child path).");const u=rS(l,e,d,new $j(e.name,n));return new sS(u,e)}function nS(e,t){const n=Dd[t];(!n||n[e.key]!==e)&&Ir(`Database ${t}(${e.repoInfo_}) has already been deleted.`),Vk(e),delete n[e.key]}function rS(e,t,n,r){let o=Dd[t.name];o||(o={},Dd[t.name]=o);let i=o[e.toURLString()];return i&&Ir("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new Bk(e,Jk,n,r),o[e.toURLString()]=i,i}class sS{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Fk(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ro(this._repo,vt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(nS(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Ir("Cannot call "+t+" on a deleted database.")}}function oS(e=Qm(),t){const n=Xm(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=Zm("database");r&&iS(n,...r)}return n}function iS(e,t,n,r={}){e=Oi(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&Ir("Cannot call useEmulator() after instance has already been initialized.");const o=e._repoInternal;let i;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&Ir('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new Aa(Aa.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:Ib(r.mockUserToken,e.app.options.projectId);i=new Aa(a)}eS(o,t,n,i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(e){wj(Db),Ym(new Gm("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return tS(r,o,i,n)},"PUBLIC").setMultipleInstances(!0)),Ba(Sh,_h,e),Ba(Sh,_h,"esm2017")}Sr.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Sr.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};aS();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="type.googleapis.com/google.protobuf.Int64Value",cS="type.googleapis.com/google.protobuf.UInt64Value";function ky(e,t){const n={};for(const r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}function Rd(e){if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(t=>Rd(t));if(typeof e=="function"||typeof e=="object")return ky(e,t=>Rd(t));throw new Error("Data cannot be encoded in JSON: "+e)}function tl(e){if(e==null)return e;if(e["@type"])switch(e["@type"]){case lS:case cS:{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(t=>tl(t)):typeof e=="function"||typeof e=="object"?ky(e,t=>tl(t)):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Zs extends Jm{constructor(t,n,r){super(`${Ju}/${t}`,n||""),this.details=r}}function dS(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function uS(e,t){let n=dS(e),r=n,o;try{const i=t&&t.error;if(i){const a=i.status;if(typeof a=="string"){if(!of[a])return new Zs("internal","internal");n=of[a],r=a}const l=i.message;typeof l=="string"&&(r=l),o=i.details,o!==void 0&&(o=tl(o))}}catch{}return n==="ok"?null:new Zs(n,r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(t,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(o=>this.auth=o,()=>{}),this.messaging||n.get().then(o=>this.messaging=o,()=>{}),this.appCheck||r.get().then(o=>this.appCheck=o,()=>{})}async getAuthToken(){if(this.auth)try{const t=await this.auth.getToken();return t==null?void 0:t.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.appCheck){const n=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(t){const n=await this.getAuthToken(),r=await this.getMessagingToken(),o=await this.getAppCheckToken(t);return{authToken:n,messagingToken:r,appCheckToken:o}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad="us-central1";function hS(e){let t=null;return{promise:new Promise((n,r)=>{t=setTimeout(()=>{r(new Zs("deadline-exceeded","deadline-exceeded"))},e)}),cancel:()=>{t&&clearTimeout(t)}}}class fS{constructor(t,n,r,o,i=Ad,a){this.app=t,this.fetchImpl=a,this.emulatorOrigin=null,this.contextProvider=new pS(n,r,o),this.cancelAllRequests=new Promise(l=>{this.deleteService=()=>Promise.resolve(l())});try{const l=new URL(i);this.customDomain=l.origin+(l.pathname==="/"?"":l.pathname),this.region=Ad}catch{this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(t){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${n}.cloudfunctions.net/${t}`}}function mS(e,t,n){e.emulatorOrigin=`http://${t}:${n}`}function gS(e,t,n){return r=>yS(e,t,r,n||{})}async function vS(e,t,n,r){n["Content-Type"]="application/json";let o;try{o=await r(e,{method:"POST",body:JSON.stringify(t),headers:n})}catch{return{status:0,json:null}}let i=null;try{i=await o.json()}catch{}return{status:o.status,json:i}}function yS(e,t,n,r){const o=e._url(t);return xS(e,o,n,r)}async function xS(e,t,n,r){n=Rd(n);const o={data:n},i={},a=await e.contextProvider.getContext(r.limitedUseAppCheckTokens);a.authToken&&(i.Authorization="Bearer "+a.authToken),a.messagingToken&&(i["Firebase-Instance-ID-Token"]=a.messagingToken),a.appCheckToken!==null&&(i["X-Firebase-AppCheck"]=a.appCheckToken);const l=r.timeout||7e4,c=hS(l),d=await Promise.race([vS(t,o,i,e.fetchImpl),c.promise,e.cancelAllRequests]);if(c.cancel(),!d)throw new Zs("cancelled","Firebase Functions instance was deleted.");const u=uS(d.status,d.json);if(u)throw u;if(!d.json)throw new Zs("internal","Response is not valid JSON object.");let p=d.json.data;if(typeof p>"u"&&(p=d.json.result),typeof p>"u")throw new Zs("internal","Response is missing data field.");return{data:tl(p)}}const af="@firebase/functions",lf="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS="auth-internal",wS="app-check-internal",CS="messaging-internal";function jS(e,t){const n=(r,{instanceIdentifier:o})=>{const i=r.getProvider("app").getImmediate(),a=r.getProvider(bS),l=r.getProvider(CS),c=r.getProvider(wS);return new fS(i,a,l,c,o,e)};Ym(new Gm(Ju,n,"PUBLIC").setMultipleInstances(!0)),Ba(af,lf,t),Ba(af,lf,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(e=Qm(),t=Ad){const r=Xm(Oi(e),Ju).getImmediate({identifier:t}),o=Zm("functions");return o&&Sy(r,...o),r}function Sy(e,t,n){mS(Oi(e),t,n)}function Ao(e,t,n){return gS(Oi(e),t,n)}jS(fetch.bind(self));const kS=Object.freeze(Object.defineProperty({__proto__:null,connectFunctionsEmulator:Sy,getFunctions:ep,httpsCallable:Ao},Symbol.toStringTag,{value:"Module"})),SS={apiKey:"AIzaSyAnp3SY9XEyF-le5q_Tcv-7Le2qqvtz0ZM",authDomain:"sports-booking-app-1d7e5.firebaseapp.com",databaseURL:"https://sports-booking-app-1d7e5-default-rtdb.europe-west1.firebasedatabase.app",projectId:"sports-booking-app-1d7e5",storageBucket:"sports-booking-app-1d7e5.firebasestorage.app",messagingSenderId:"648540980109",appId:"1:648540980109:web:97fbe182c59bb2641ab3c4",measurementId:"G-VL4MCP1PZP"},Xi=Rb(SS),re=Ab(Xi,{experimentalForceLongPolling:!1,cacheSizeBytes:50*1024*1024}),Zt=$b(Xi);Ob(Zt,Bb).catch(e=>{console.error("Error setting persistence:",e)});const $d=Lb(Xi);oS(Xi);const Zi=ep(Xi,"europe-west1"),_S=Object.freeze(Object.defineProperty({__proto__:null,auth:Zt,db:re,functions:Zi,storage:$d},Symbol.toStringTag,{value:"Module"})),_y=h.createContext(void 0),Lt=()=>{const e=h.useContext(_y);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},TS=({children:e})=>{const[t,n]=h.useState(null),[r,o]=h.useState(null),[i,a]=h.useState(null),[l,c]=h.useState(!0);h.useEffect(()=>Fb(Zt,async g=>{if(console.log("🔄 Auth state changed:",(g==null?void 0:g.email)||"no user","at",new Date().toLocaleTimeString()),g)console.log("🔐 User authenticated:",{uid:g.uid,email:g.email,emailVerified:g.emailVerified,providerId:g.providerId,metadata:g.metadata});else{console.log("🚪 User signed out or session expired");const v=localStorage.getItem("authToken");console.log("📦 Local storage auth token:",v?"exists":"not found")}if(g)try{console.log("🔍 Searching for admin with email:",g.email);const v=$e(Ne(re,"admins"),Te("email","==",g.email)),y=await Fe(v);if(console.log("📊 Admin search result:",y.empty?"not found":"found"),y.empty)console.warn("Admin not found for user:",g.email),n(g),o(null),a(null);else{const m=y.docs[0],x={id:m.id,...m.data()};if(console.log("✅ Admin data loaded:",x),n(g),o(x),x.venueId){const j=await ut(Pe(re,"venues",x.venueId));j.exists()&&a({id:j.id,...j.data()})}else x.role==="superadmin"&&a(null)}}catch(v){console.error("Error fetching admin data:",v),n(null),o(null),a(null)}else n(null),o(null),a(null);c(!1)}),[]);const p={user:t,admin:r,club:i,loading:l,logout:async()=>{try{await pd(Zt),n(null),o(null),a(null)}catch(f){console.error("Logout error:",f)}},refreshClubData:async()=>{if(r!=null&&r.venueId)try{console.log("Refreshing club data for venue:",r.venueId);const f=await ut(Pe(re,"venues",r.venueId));if(f.exists()){const g=f.data();console.log("Loaded venue data:",g),a({id:f.id,name:g.name||"",address:g.address||"",phone:g.phone||"",email:g.email||"",city:g.city||"",location:g.location,description:g.description,logoUrl:g.logoUrl,photos:g.photos||[],amenities:g.amenities,organizationType:g.organizationType,inn:g.inn,bankAccount:g.bankAccount,legalName:g.legalName,ogrn:g.ogrn,kpp:g.kpp,legalAddress:g.legalAddress,bankName:g.bankName,bankBik:g.bankBik,bankCorrespondentAccount:g.bankCorrespondentAccount,directorName:g.directorName,directorPosition:g.directorPosition,workingHours:g.workingHours,bookingDurations:g.bookingDurations,bookingSlotInterval:g.bookingSlotInterval})}}catch(f){console.error("Error refreshing club data:",f)}}};return s.jsx(_y.Provider,{value:p,children:e})};function ES(e){return ye("MuiSvgIcon",e)}xe("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const MS=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],PS=e=>{const{color:t,fontSize:n,classes:r}=e,o={root:["root",t!=="inherit"&&`color${ee(t)}`,`fontSize${ee(n)}`]};return we(o,ES,r)},NS=Q("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${ee(n.color)}`],t[`fontSize${ee(n.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var n,r,o,i,a,l,c,d,u,p,f,g,v;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=e.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(o=e.transitions)==null||(o=o.duration)==null?void 0:o.shorter}),fontSize:{inherit:"inherit",small:((i=e.typography)==null||(a=i.pxToRem)==null?void 0:a.call(i,20))||"1.25rem",medium:((l=e.typography)==null||(c=l.pxToRem)==null?void 0:c.call(l,24))||"1.5rem",large:((d=e.typography)==null||(u=d.pxToRem)==null?void 0:u.call(d,35))||"2.1875rem"}[t.fontSize],color:(p=(f=(e.vars||e).palette)==null||(f=f[t.color])==null?void 0:f.main)!=null?p:{action:(g=(e.vars||e).palette)==null||(g=g.action)==null?void 0:g.active,disabled:(v=(e.vars||e).palette)==null||(v=v.action)==null?void 0:v.disabled,inherit:void 0}[t.color]}}),nl=h.forwardRef(function(t,n){const r=_e({props:t,name:"MuiSvgIcon"}),{children:o,className:i,color:a="inherit",component:l="svg",fontSize:c="medium",htmlColor:d,inheritViewBox:u=!1,titleAccess:p,viewBox:f="0 0 24 24"}=r,g=ne(r,MS),v=h.isValidElement(o)&&o.type==="svg",y=C({},r,{color:a,component:l,fontSize:c,instanceFontSize:t.fontSize,inheritViewBox:u,viewBox:f,hasSvgAsChild:v}),m={};u||(m.viewBox=f);const x=PS(y);return s.jsxs(NS,C({as:l,className:ae(x.root,i),focusable:"false",color:d,"aria-hidden":p?void 0:!0,role:p?"img":void 0,ref:n},m,g,v&&o.props,{ownerState:y,children:[v?o.props.children:o,p?s.jsx("title",{children:p}):null]}))});nl.muiName="SvgIcon";function ge(e,t){function n(r,o){return s.jsx(nl,C({"data-testid":`${t}Icon`,ref:o},r,{children:e}))}return n.muiName=nl.muiName,h.memo(h.forwardRef(n))}function rl(e,t){return rl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},rl(e,t)}function tp(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,rl(e,t)}function IS(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function DS(e,t){e.classList?e.classList.add(t):IS(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function cf(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function RS(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=cf(e.className,t):e.setAttribute("class",cf(e.className&&e.className.baseVal||"",t))}const df={disabled:!1},sl=Qe.createContext(null);var Ty=function(t){return t.scrollTop},ai="unmounted",cs="exited",ds="entering",zs="entered",Od="exiting",Hn=function(e){tp(t,e);function t(r,o){var i;i=e.call(this,r,o)||this;var a=o,l=a&&!a.isMounting?r.enter:r.appear,c;return i.appearStatus=null,r.in?l?(c=cs,i.appearStatus=ds):c=zs:r.unmountOnExit||r.mountOnEnter?c=ai:c=cs,i.state={status:c},i.nextCallback=null,i}t.getDerivedStateFromProps=function(o,i){var a=o.in;return a&&i.status===ai?{status:cs}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(o){var i=null;if(o!==this.props){var a=this.state.status;this.props.in?a!==ds&&a!==zs&&(i=ds):(a===ds||a===zs)&&(i=Od)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var o=this.props.timeout,i,a,l;return i=a=l=o,o!=null&&typeof o!="number"&&(i=o.exit,a=o.enter,l=o.appear!==void 0?o.appear:a),{exit:i,enter:a,appear:l}},n.updateStatus=function(o,i){if(o===void 0&&(o=!1),i!==null)if(this.cancelNextCallback(),i===ds){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:ia.findDOMNode(this);a&&Ty(a)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===cs&&this.setState({status:ai})},n.performEnter=function(o){var i=this,a=this.props.enter,l=this.context?this.context.isMounting:o,c=this.props.nodeRef?[l]:[ia.findDOMNode(this),l],d=c[0],u=c[1],p=this.getTimeouts(),f=l?p.appear:p.enter;if(!o&&!a||df.disabled){this.safeSetState({status:zs},function(){i.props.onEntered(d)});return}this.props.onEnter(d,u),this.safeSetState({status:ds},function(){i.props.onEntering(d,u),i.onTransitionEnd(f,function(){i.safeSetState({status:zs},function(){i.props.onEntered(d,u)})})})},n.performExit=function(){var o=this,i=this.props.exit,a=this.getTimeouts(),l=this.props.nodeRef?void 0:ia.findDOMNode(this);if(!i||df.disabled){this.safeSetState({status:cs},function(){o.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:Od},function(){o.props.onExiting(l),o.onTransitionEnd(a.exit,function(){o.safeSetState({status:cs},function(){o.props.onExited(l)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(o,i){i=this.setNextCallback(i),this.setState(o,i)},n.setNextCallback=function(o){var i=this,a=!0;return this.nextCallback=function(l){a&&(a=!1,i.nextCallback=null,o(l))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},n.onTransitionEnd=function(o,i){this.setNextCallback(i);var a=this.props.nodeRef?this.props.nodeRef.current:ia.findDOMNode(this),l=o==null&&!this.props.addEndListener;if(!a||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],d=c[0],u=c[1];this.props.addEndListener(d,u)}o!=null&&setTimeout(this.nextCallback,o)},n.render=function(){var o=this.state.status;if(o===ai)return null;var i=this.props,a=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var l=ne(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Qe.createElement(sl.Provider,{value:null},typeof a=="function"?a(o,l):Qe.cloneElement(Qe.Children.only(a),l))},t}(Qe.Component);Hn.contextType=sl;Hn.propTypes={};function Bs(){}Hn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Bs,onEntering:Bs,onEntered:Bs,onExit:Bs,onExiting:Bs,onExited:Bs};Hn.UNMOUNTED=ai;Hn.EXITED=cs;Hn.ENTERING=ds;Hn.ENTERED=zs;Hn.EXITING=Od;var AS=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return DS(t,r)})},Vc=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return RS(t,r)})},np=function(e){tp(t,e);function t(){for(var r,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(l,c){var d=r.resolveArguments(l,c),u=d[0],p=d[1];r.removeClasses(u,"exit"),r.addClass(u,p?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(l,c)},r.onEntering=function(l,c){var d=r.resolveArguments(l,c),u=d[0],p=d[1],f=p?"appear":"enter";r.addClass(u,f,"active"),r.props.onEntering&&r.props.onEntering(l,c)},r.onEntered=function(l,c){var d=r.resolveArguments(l,c),u=d[0],p=d[1],f=p?"appear":"enter";r.removeClasses(u,f),r.addClass(u,f,"done"),r.props.onEntered&&r.props.onEntered(l,c)},r.onExit=function(l){var c=r.resolveArguments(l),d=c[0];r.removeClasses(d,"appear"),r.removeClasses(d,"enter"),r.addClass(d,"exit","base"),r.props.onExit&&r.props.onExit(l)},r.onExiting=function(l){var c=r.resolveArguments(l),d=c[0];r.addClass(d,"exit","active"),r.props.onExiting&&r.props.onExiting(l)},r.onExited=function(l){var c=r.resolveArguments(l),d=c[0];r.removeClasses(d,"exit"),r.addClass(d,"exit","done"),r.props.onExited&&r.props.onExited(l)},r.resolveArguments=function(l,c){return r.props.nodeRef?[r.props.nodeRef.current,l]:[l,c]},r.getClassNames=function(l){var c=r.props.classNames,d=typeof c=="string",u=d&&c?c+"-":"",p=d?""+u+l:c[l],f=d?p+"-active":c[l+"Active"],g=d?p+"-done":c[l+"Done"];return{baseClassName:p,activeClassName:f,doneClassName:g}},r}var n=t.prototype;return n.addClass=function(o,i,a){var l=this.getClassNames(i)[a+"ClassName"],c=this.getClassNames("enter"),d=c.doneClassName;i==="appear"&&a==="done"&&d&&(l+=" "+d),a==="active"&&o&&Ty(o),l&&(this.appliedClasses[i][a]=l,AS(o,l))},n.removeClasses=function(o,i){var a=this.appliedClasses[i],l=a.base,c=a.active,d=a.done;this.appliedClasses[i]={},l&&Vc(o,l),c&&Vc(o,c),d&&Vc(o,d)},n.render=function(){var o=this.props;o.classNames;var i=ne(o,["classNames"]);return Qe.createElement(Hn,C({},i,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(Qe.Component);np.defaultProps={classNames:""};np.propTypes={};function Se(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rp(e,t){var n=function(i){return t&&h.isValidElement(i)?t(i):i},r=Object.create(null);return e&&h.Children.map(e,function(o){return o}).forEach(function(o){r[o.key]=n(o)}),r}function $S(e,t){e=e||{},t=t||{};function n(u){return u in t?t[u]:e[u]}var r=Object.create(null),o=[];for(var i in e)i in t?o.length&&(r[i]=o,o=[]):o.push(i);var a,l={};for(var c in t){if(r[c])for(a=0;a<r[c].length;a++){var d=r[c][a];l[r[c][a]]=n(d)}l[c]=n(c)}for(a=0;a<o.length;a++)l[o[a]]=n(o[a]);return l}function fs(e,t,n){return n[t]!=null?n[t]:e.props[t]}function OS(e,t){return rp(e.children,function(n){return h.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:fs(n,"appear",e),enter:fs(n,"enter",e),exit:fs(n,"exit",e)})})}function LS(e,t,n){var r=rp(e.children),o=$S(t,r);return Object.keys(o).forEach(function(i){var a=o[i];if(h.isValidElement(a)){var l=i in t,c=i in r,d=t[i],u=h.isValidElement(d)&&!d.props.in;c&&(!l||u)?o[i]=h.cloneElement(a,{onExited:n.bind(null,a),in:!0,exit:fs(a,"exit",e),enter:fs(a,"enter",e)}):!c&&l&&!u?o[i]=h.cloneElement(a,{in:!1}):c&&l&&h.isValidElement(d)&&(o[i]=h.cloneElement(a,{onExited:n.bind(null,a),in:d.props.in,exit:fs(a,"exit",e),enter:fs(a,"enter",e)}))}}),o}var BS=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},FS={component:"div",childFactory:function(t){return t}},Ji=function(e){tp(t,e);function t(r,o){var i;i=e.call(this,r,o)||this;var a=i.handleExited.bind(Se(i));return i.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},i}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(o,i){var a=i.children,l=i.handleExited,c=i.firstRender;return{children:c?OS(o,l):LS(o,a,l),firstRender:!1}},n.handleExited=function(o,i){var a=rp(this.props.children);o.key in a||(o.props.onExited&&o.props.onExited(i),this.mounted&&this.setState(function(l){var c=C({},l.children);return delete c[o.key],{children:c}}))},n.render=function(){var o=this.props,i=o.component,a=o.childFactory,l=ne(o,["component","childFactory"]),c=this.state.contextValue,d=BS(this.state.children).map(a);return delete l.appear,delete l.enter,delete l.exit,i===null?Qe.createElement(sl.Provider,{value:c},d):Qe.createElement(sl.Provider,{value:c},Qe.createElement(i,l,d))},t}(Qe.Component);Ji.propTypes={};Ji.defaultProps=FS;const Ey=e=>e.scrollTop;function po(e,t){var n,r;const{timeout:o,easing:i,style:a={}}=e;return{duration:(n=a.transitionDuration)!=null?n:typeof o=="number"?o:o[t.mode]||0,easing:(r=a.transitionTimingFunction)!=null?r:typeof i=="object"?i[t.mode]:i,delay:a.transitionDelay}}function zS(e){return ye("MuiCollapse",e)}xe("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const WS=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],HS=e=>{const{orientation:t,classes:n}=e,r={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return we(r,zS,n)},US=Q("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.state==="entered"&&t.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&t.hidden]}})(({theme:e,ownerState:t})=>C({height:0,overflow:"hidden",transition:e.transitions.create("height")},t.orientation==="horizontal"&&{height:"auto",width:0,transition:e.transitions.create("width")},t.state==="entered"&&C({height:"auto",overflow:"visible"},t.orientation==="horizontal"&&{width:"auto"}),t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&{visibility:"hidden"})),VS=Q("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})(({ownerState:e})=>C({display:"flex",width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),YS=Q("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})(({ownerState:e})=>C({width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),sp=h.forwardRef(function(t,n){const r=_e({props:t,name:"MuiCollapse"}),{addEndListener:o,children:i,className:a,collapsedSize:l="0px",component:c,easing:d,in:u,onEnter:p,onEntered:f,onEntering:g,onExit:v,onExited:y,onExiting:m,orientation:x="vertical",style:j,timeout:b=av.standard,TransitionComponent:w=Hn}=r,N=ne(r,WS),k=C({},r,{orientation:x,collapsedSize:l}),E=HS(k),_=Kn(),D=Hr(),S=h.useRef(null),T=h.useRef(),$=typeof l=="number"?`${l}px`:l,O=x==="horizontal",M=O?"width":"height",P=h.useRef(null),L=jt(n,P),R=H=>K=>{if(H){const X=P.current;K===void 0?H(X):H(X,K)}},B=()=>S.current?S.current[O?"clientWidth":"clientHeight"]:0,A=R((H,K)=>{S.current&&O&&(S.current.style.position="absolute"),H.style[M]=$,p&&p(H,K)}),I=R((H,K)=>{const X=B();S.current&&O&&(S.current.style.position="");const{duration:q,easing:ie}=po({style:j,timeout:b,easing:d},{mode:"enter"});if(b==="auto"){const J=_.transitions.getAutoHeightDuration(X);H.style.transitionDuration=`${J}ms`,T.current=J}else H.style.transitionDuration=typeof q=="string"?q:`${q}ms`;H.style[M]=`${X}px`,H.style.transitionTimingFunction=ie,g&&g(H,K)}),F=R((H,K)=>{H.style[M]="auto",f&&f(H,K)}),V=R(H=>{H.style[M]=`${B()}px`,v&&v(H)}),Y=R(y),W=R(H=>{const K=B(),{duration:X,easing:q}=po({style:j,timeout:b,easing:d},{mode:"exit"});if(b==="auto"){const ie=_.transitions.getAutoHeightDuration(K);H.style.transitionDuration=`${ie}ms`,T.current=ie}else H.style.transitionDuration=typeof X=="string"?X:`${X}ms`;H.style[M]=$,H.style.transitionTimingFunction=q,m&&m(H)}),G=H=>{b==="auto"&&D.start(T.current||0,H),o&&o(P.current,H)};return s.jsx(w,C({in:u,onEnter:A,onEntered:F,onEntering:I,onExit:V,onExited:Y,onExiting:W,addEndListener:G,nodeRef:P,timeout:b==="auto"?null:b},N,{children:(H,K)=>s.jsx(US,C({as:c,className:ae(E.root,a,{entered:E.entered,exited:!u&&$==="0px"&&E.hidden}[H]),style:C({[O?"minWidth":"minHeight"]:$},j),ref:L},K,{ownerState:C({},k,{state:H}),children:s.jsx(VS,{ownerState:C({},k,{state:H}),className:E.wrapper,ref:S,children:s.jsx(YS,{ownerState:C({},k,{state:H}),className:E.wrapperInner,children:i})})}))}))});sp.muiSupportAuto=!0;function GS(e){return ye("MuiPaper",e)}xe("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const qS=["className","component","elevation","square","variant"],KS=e=>{const{square:t,elevation:n,variant:r,classes:o}=e,i={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${n}`]};return we(i,GS,o)},QS=Q("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(({theme:e,ownerState:t})=>{var n;return C({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.divider}`},t.variant==="elevation"&&C({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Ue("#fff",jh(t.elevation))}, ${Ue("#fff",jh(t.elevation))})`},e.vars&&{backgroundImage:(n=e.vars.overlays)==null?void 0:n[t.elevation]}))}),un=h.forwardRef(function(t,n){const r=_e({props:t,name:"MuiPaper"}),{className:o,component:i="div",elevation:a=1,square:l=!1,variant:c="elevation"}=r,d=ne(r,qS),u=C({},r,{component:i,elevation:a,square:l,variant:c}),p=KS(u);return s.jsx(QS,C({as:i,ownerState:u,className:ae(p.root,o),ref:n},d))}),XS=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],ZS=["component","slots","slotProps"],JS=["component"];function uf(e,t){const{className:n,elementType:r,ownerState:o,externalForwardedProps:i,getSlotOwnerState:a,internalForwardedProps:l}=t,c=ne(t,XS),{component:d,slots:u={[e]:void 0},slotProps:p={[e]:void 0}}=i,f=ne(i,ZS),g=u[e]||r,v=Gg(p[e],o),y=Yg(C({className:n},c,{externalForwardedProps:e==="root"?f:void 0,externalSlotProps:v})),{props:{component:m},internalRef:x}=y,j=ne(y.props,JS),b=jt(x,v==null?void 0:v.ref,t.ref),w=a?a(j):{},N=C({},o,w),k=e==="root"?m||d:m,E=Us(g,C({},e==="root"&&!d&&!u[e]&&l,e!=="root"&&!u[e]&&l,j,k&&{as:k},{ref:b}),N);return Object.keys(w).forEach(_=>{delete E[_]}),[g,E]}function e_(e){const{className:t,classes:n,pulsate:r=!1,rippleX:o,rippleY:i,rippleSize:a,in:l,onExited:c,timeout:d}=e,[u,p]=h.useState(!1),f=ae(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),g={width:a,height:a,top:-(a/2)+i,left:-(a/2)+o},v=ae(n.child,u&&n.childLeaving,r&&n.childPulsate);return!l&&!u&&p(!0),h.useEffect(()=>{if(!l&&c!=null){const y=setTimeout(c,d);return()=>{clearTimeout(y)}}},[c,l,d]),s.jsx("span",{className:f,style:g,children:s.jsx("span",{className:v})})}const Pn=xe("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),t_=["center","classes","className"];let sc=e=>e,pf,hf,ff,mf;const Ld=550,n_=80,r_=Lr(pf||(pf=sc`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),s_=Lr(hf||(hf=sc`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),o_=Lr(ff||(ff=sc`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),i_=Q("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),a_=Q(e_,{name:"MuiTouchRipple",slot:"Ripple"})(mf||(mf=sc`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Pn.rippleVisible,r_,Ld,({theme:e})=>e.transitions.easing.easeInOut,Pn.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,Pn.child,Pn.childLeaving,s_,Ld,({theme:e})=>e.transitions.easing.easeInOut,Pn.childPulsate,o_,({theme:e})=>e.transitions.easing.easeInOut),l_=h.forwardRef(function(t,n){const r=_e({props:t,name:"MuiTouchRipple"}),{center:o=!1,classes:i={},className:a}=r,l=ne(r,t_),[c,d]=h.useState([]),u=h.useRef(0),p=h.useRef(null);h.useEffect(()=>{p.current&&(p.current(),p.current=null)},[c]);const f=h.useRef(!1),g=Hr(),v=h.useRef(null),y=h.useRef(null),m=h.useCallback(w=>{const{pulsate:N,rippleX:k,rippleY:E,rippleSize:_,cb:D}=w;d(S=>[...S,s.jsx(a_,{classes:{ripple:ae(i.ripple,Pn.ripple),rippleVisible:ae(i.rippleVisible,Pn.rippleVisible),ripplePulsate:ae(i.ripplePulsate,Pn.ripplePulsate),child:ae(i.child,Pn.child),childLeaving:ae(i.childLeaving,Pn.childLeaving),childPulsate:ae(i.childPulsate,Pn.childPulsate)},timeout:Ld,pulsate:N,rippleX:k,rippleY:E,rippleSize:_},u.current)]),u.current+=1,p.current=D},[i]),x=h.useCallback((w={},N={},k=()=>{})=>{const{pulsate:E=!1,center:_=o||N.pulsate,fakeElement:D=!1}=N;if((w==null?void 0:w.type)==="mousedown"&&f.current){f.current=!1;return}(w==null?void 0:w.type)==="touchstart"&&(f.current=!0);const S=D?null:y.current,T=S?S.getBoundingClientRect():{width:0,height:0,left:0,top:0};let $,O,M;if(_||w===void 0||w.clientX===0&&w.clientY===0||!w.clientX&&!w.touches)$=Math.round(T.width/2),O=Math.round(T.height/2);else{const{clientX:P,clientY:L}=w.touches&&w.touches.length>0?w.touches[0]:w;$=Math.round(P-T.left),O=Math.round(L-T.top)}if(_)M=Math.sqrt((2*T.width**2+T.height**2)/3),M%2===0&&(M+=1);else{const P=Math.max(Math.abs((S?S.clientWidth:0)-$),$)*2+2,L=Math.max(Math.abs((S?S.clientHeight:0)-O),O)*2+2;M=Math.sqrt(P**2+L**2)}w!=null&&w.touches?v.current===null&&(v.current=()=>{m({pulsate:E,rippleX:$,rippleY:O,rippleSize:M,cb:k})},g.start(n_,()=>{v.current&&(v.current(),v.current=null)})):m({pulsate:E,rippleX:$,rippleY:O,rippleSize:M,cb:k})},[o,m,g]),j=h.useCallback(()=>{x({},{pulsate:!0})},[x]),b=h.useCallback((w,N)=>{if(g.clear(),(w==null?void 0:w.type)==="touchend"&&v.current){v.current(),v.current=null,g.start(0,()=>{b(w,N)});return}v.current=null,d(k=>k.length>0?k.slice(1):k),p.current=N},[g]);return h.useImperativeHandle(n,()=>({pulsate:j,start:x,stop:b}),[j,x,b]),s.jsx(i_,C({className:ae(Pn.root,i.root,a),ref:y},l,{children:s.jsx(Ji,{component:null,exit:!0,children:c})}))});function c_(e){return ye("MuiButtonBase",e)}const d_=xe("MuiButtonBase",["root","disabled","focusVisible"]),u_=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],p_=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:o}=e,a=we({root:["root",t&&"disabled",n&&"focusVisible"]},c_,o);return n&&r&&(a.root+=` ${r}`),a},h_=Q("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${d_.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Jr=h.forwardRef(function(t,n){const r=_e({props:t,name:"MuiButtonBase"}),{action:o,centerRipple:i=!1,children:a,className:l,component:c="button",disabled:d=!1,disableRipple:u=!1,disableTouchRipple:p=!1,focusRipple:f=!1,LinkComponent:g="a",onBlur:v,onClick:y,onContextMenu:m,onDragLeave:x,onFocus:j,onFocusVisible:b,onKeyDown:w,onKeyUp:N,onMouseDown:k,onMouseLeave:E,onMouseUp:_,onTouchEnd:D,onTouchMove:S,onTouchStart:T,tabIndex:$=0,TouchRippleProps:O,touchRippleRef:M,type:P}=r,L=ne(r,u_),R=h.useRef(null),B=h.useRef(null),A=jt(B,M),{isFocusVisibleRef:I,onFocus:F,onBlur:V,ref:Y}=Ug(),[W,G]=h.useState(!1);d&&W&&G(!1),h.useImperativeHandle(o,()=>({focusVisible:()=>{G(!0),R.current.focus()}}),[]);const[H,K]=h.useState(!1);h.useEffect(()=>{K(!0)},[]);const X=H&&!u&&!d;h.useEffect(()=>{W&&f&&!u&&H&&B.current.pulsate()},[u,f,W,H]);function q(me,Ae,Bt=p){return Oe(Tt=>(Ae&&Ae(Tt),!Bt&&B.current&&B.current[me](Tt),!0))}const ie=q("start",k),J=q("stop",m),de=q("stop",x),U=q("stop",_),oe=q("stop",me=>{W&&me.preventDefault(),E&&E(me)}),he=q("start",T),Z=q("stop",D),le=q("stop",S),ce=q("stop",me=>{V(me),I.current===!1&&G(!1),v&&v(me)},!1),te=Oe(me=>{R.current||(R.current=me.currentTarget),F(me),I.current===!0&&(G(!0),b&&b(me)),j&&j(me)}),ke=()=>{const me=R.current;return c&&c!=="button"&&!(me.tagName==="A"&&me.href)},pe=h.useRef(!1),De=Oe(me=>{f&&!pe.current&&W&&B.current&&me.key===" "&&(pe.current=!0,B.current.stop(me,()=>{B.current.start(me)})),me.target===me.currentTarget&&ke()&&me.key===" "&&me.preventDefault(),w&&w(me),me.target===me.currentTarget&&ke()&&me.key==="Enter"&&!d&&(me.preventDefault(),y&&y(me))}),Re=Oe(me=>{f&&me.key===" "&&B.current&&W&&!me.defaultPrevented&&(pe.current=!1,B.current.stop(me,()=>{B.current.pulsate(me)})),N&&N(me),y&&me.target===me.currentTarget&&ke()&&me.key===" "&&!me.defaultPrevented&&y(me)});let Ee=c;Ee==="button"&&(L.href||L.to)&&(Ee=g);const et={};Ee==="button"?(et.type=P===void 0?"button":P,et.disabled=d):(!L.href&&!L.to&&(et.role="button"),d&&(et["aria-disabled"]=d));const ht=jt(n,Y,R),fe=C({},r,{centerRipple:i,component:c,disabled:d,disableRipple:u,disableTouchRipple:p,focusRipple:f,tabIndex:$,focusVisible:W}),ue=p_(fe);return s.jsxs(h_,C({as:Ee,className:ae(ue.root,l),ownerState:fe,onBlur:ce,onClick:y,onContextMenu:J,onFocus:te,onKeyDown:De,onKeyUp:Re,onMouseDown:ie,onMouseLeave:oe,onMouseUp:U,onDragLeave:de,onTouchEnd:Z,onTouchMove:le,onTouchStart:he,ref:ht,tabIndex:d?-1:$,type:P},et,L,{children:[a,X?s.jsx(l_,C({ref:A,center:i},O)):null]}))});function f_(e){return ye("MuiAlert",e)}const gf=xe("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function m_(e){return ye("MuiIconButton",e)}const g_=xe("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),v_=["edge","children","className","color","disabled","disableFocusRipple","size"],y_=e=>{const{classes:t,disabled:n,color:r,edge:o,size:i}=e,a={root:["root",n&&"disabled",r!=="default"&&`color${ee(r)}`,o&&`edge${ee(o)}`,`size${ee(i)}`]};return we(a,m_,t)},x_=Q(Jr,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${ee(n.color)}`],n.edge&&t[`edge${ee(n.edge)}`],t[`size${ee(n.size)}`]]}})(({theme:e,ownerState:t})=>C({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Ue(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12}),({theme:e,ownerState:t})=>{var n;const r=(n=(e.vars||e).palette)==null?void 0:n[t.color];return C({},t.color==="inherit"&&{color:"inherit"},t.color!=="inherit"&&t.color!=="default"&&C({color:r==null?void 0:r.main},!t.disableRipple&&{"&:hover":C({},r&&{backgroundColor:e.vars?`rgba(${r.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ue(r.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),t.size==="small"&&{padding:5,fontSize:e.typography.pxToRem(18)},t.size==="large"&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${g_.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),fn=h.forwardRef(function(t,n){const r=_e({props:t,name:"MuiIconButton"}),{edge:o=!1,children:i,className:a,color:l="default",disabled:c=!1,disableFocusRipple:d=!1,size:u="medium"}=r,p=ne(r,v_),f=C({},r,{edge:o,color:l,disabled:c,disableFocusRipple:d,size:u}),g=y_(f);return s.jsx(x_,C({className:ae(g.root,a),centerRipple:!0,focusRipple:!d,disabled:c,ref:n},p,{ownerState:f,children:i}))}),b_=ge(s.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),w_=ge(s.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),C_=ge(s.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),j_=ge(s.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),k_=ge(s.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),S_=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],__=e=>{const{variant:t,color:n,severity:r,classes:o}=e,i={root:["root",`color${ee(n||r)}`,`${t}${ee(n||r)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return we(i,f_,o)},T_=Q(un,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${ee(n.color||n.severity)}`]]}})(({theme:e})=>{const t=e.palette.mode==="light"?ao:lo,n=e.palette.mode==="light"?lo:ao;return C({},e.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(e.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:e.vars?e.vars.palette.Alert[`${r}Color`]:t(e.palette[r].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${r}StandardBg`]:n(e.palette[r].light,.9),[`& .${gf.icon}`]:e.vars?{color:e.vars.palette.Alert[`${r}IconColor`]}:{color:e.palette[r].main}}})),...Object.entries(e.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:e.vars?e.vars.palette.Alert[`${r}Color`]:t(e.palette[r].light,.6),border:`1px solid ${(e.vars||e).palette[r].light}`,[`& .${gf.icon}`]:e.vars?{color:e.vars.palette.Alert[`${r}IconColor`]}:{color:e.palette[r].main}}})),...Object.entries(e.palette).filter(([,r])=>r.main&&r.dark).map(([r])=>({props:{colorSeverity:r,variant:"filled"},style:C({fontWeight:e.typography.fontWeightMedium},e.vars?{color:e.vars.palette.Alert[`${r}FilledColor`],backgroundColor:e.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:e.palette.mode==="dark"?e.palette[r].dark:e.palette[r].main,color:e.palette.getContrastText(e.palette[r].main)})}))]})}),E_=Q("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),M_=Q("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),vf=Q("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),yf={success:s.jsx(b_,{fontSize:"inherit"}),warning:s.jsx(w_,{fontSize:"inherit"}),error:s.jsx(C_,{fontSize:"inherit"}),info:s.jsx(j_,{fontSize:"inherit"})},Ye=h.forwardRef(function(t,n){const r=_e({props:t,name:"MuiAlert"}),{action:o,children:i,className:a,closeText:l="Close",color:c,components:d={},componentsProps:u={},icon:p,iconMapping:f=yf,onClose:g,role:v="alert",severity:y="success",slotProps:m={},slots:x={},variant:j="standard"}=r,b=ne(r,S_),w=C({},r,{color:c,severity:y,variant:j,colorSeverity:c||y}),N=__(w),k={slots:C({closeButton:d.CloseButton,closeIcon:d.CloseIcon},x),slotProps:C({},u,m)},[E,_]=uf("closeButton",{elementType:fn,externalForwardedProps:k,ownerState:w}),[D,S]=uf("closeIcon",{elementType:k_,externalForwardedProps:k,ownerState:w});return s.jsxs(T_,C({role:v,elevation:0,ownerState:w,className:ae(N.root,a),ref:n},b,{children:[p!==!1?s.jsx(E_,{ownerState:w,className:N.icon,children:p||f[y]||yf[y]}):null,s.jsx(M_,{ownerState:w,className:N.message,children:i}),o!=null?s.jsx(vf,{ownerState:w,className:N.action,children:o}):null,o==null&&g?s.jsx(vf,{ownerState:w,className:N.action,children:s.jsx(E,C({size:"small","aria-label":l,title:l,color:"inherit",onClick:g},_,{children:s.jsx(D,C({fontSize:"small"},S))}))}):null]}))});function P_(e){return ye("MuiTypography",e)}xe("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const N_=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],I_=e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:o,variant:i,classes:a}=e,l={root:["root",i,e.align!=="inherit"&&`align${ee(t)}`,n&&"gutterBottom",r&&"noWrap",o&&"paragraph"]};return we(l,P_,a)},D_=Q("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],n.align!=="inherit"&&t[`align${ee(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>C({margin:0},t.variant==="inherit"&&{font:"inherit"},t.variant!=="inherit"&&e.typography[t.variant],t.align!=="inherit"&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),xf={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},R_={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},A_=e=>R_[e]||e,z=h.forwardRef(function(t,n){const r=_e({props:t,name:"MuiTypography"}),o=A_(r.color),i=Hi(C({},r,{color:o})),{align:a="inherit",className:l,component:c,gutterBottom:d=!1,noWrap:u=!1,paragraph:p=!1,variant:f="body1",variantMapping:g=xf}=i,v=ne(i,N_),y=C({},i,{align:a,color:o,className:l,component:c,gutterBottom:d,noWrap:u,paragraph:p,variant:f,variantMapping:g}),m=c||(p?"p":g[f]||xf[f])||"span",x=I_(y);return s.jsx(D_,C({as:m,ref:n,ownerState:y,className:ae(x.root,l)},v))});function $_(e){return ye("MuiAlertTitle",e)}xe("MuiAlertTitle",["root"]);const O_=["className"],L_=e=>{const{classes:t}=e;return we({root:["root"]},$_,t)},B_=Q(z,{name:"MuiAlertTitle",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({fontWeight:e.typography.fontWeightMedium,marginTop:-2})),ol=h.forwardRef(function(t,n){const r=_e({props:t,name:"MuiAlertTitle"}),{className:o}=r,i=ne(r,O_),a=r,l=L_(a);return s.jsx(B_,C({gutterBottom:!0,component:"div",ownerState:a,ref:n,className:ae(l.root,o)},i))});var op={};Object.defineProperty(op,"__esModule",{value:!0});var My=op.default=void 0,F_=W_(h),z_=lv;function Py(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(Py=function(r){return r?n:t})(e)}function W_(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=Py(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}function H_(e){return Object.keys(e).length===0}function U_(e=null){const t=F_.useContext(z_.ThemeContext);return!t||H_(t)?e:t}My=op.default=U_;var mn="top",Ln="bottom",Bn="right",gn="left",ip="auto",ea=[mn,Ln,Bn,gn],ho="start",Mi="end",V_="clippingParents",Ny="viewport",Qo="popper",Y_="reference",bf=ea.reduce(function(e,t){return e.concat([t+"-"+ho,t+"-"+Mi])},[]),Iy=[].concat(ea,[ip]).reduce(function(e,t){return e.concat([t,t+"-"+ho,t+"-"+Mi])},[]),G_="beforeRead",q_="read",K_="afterRead",Q_="beforeMain",X_="main",Z_="afterMain",J_="beforeWrite",eT="write",tT="afterWrite",nT=[G_,q_,K_,Q_,X_,Z_,J_,eT,tT];function mr(e){return e?(e.nodeName||"").toLowerCase():null}function _n(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Ss(e){var t=_n(e).Element;return e instanceof t||e instanceof Element}function An(e){var t=_n(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function ap(e){if(typeof ShadowRoot>"u")return!1;var t=_n(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function rT(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},o=t.attributes[n]||{},i=t.elements[n];!An(i)||!mr(i)||(Object.assign(i.style,r),Object.keys(o).forEach(function(a){var l=o[a];l===!1?i.removeAttribute(a):i.setAttribute(a,l===!0?"":l)}))})}function sT(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var o=t.elements[r],i=t.attributes[r]||{},a=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),l=a.reduce(function(c,d){return c[d]="",c},{});!An(o)||!mr(o)||(Object.assign(o.style,l),Object.keys(i).forEach(function(c){o.removeAttribute(c)}))})}}const oT={name:"applyStyles",enabled:!0,phase:"write",fn:rT,effect:sT,requires:["computeStyles"]};function dr(e){return e.split("-")[0]}var vs=Math.max,il=Math.min,fo=Math.round;function Bd(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Dy(){return!/^((?!chrome|android).)*safari/i.test(Bd())}function mo(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),o=1,i=1;t&&An(e)&&(o=e.offsetWidth>0&&fo(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&fo(r.height)/e.offsetHeight||1);var a=Ss(e)?_n(e):window,l=a.visualViewport,c=!Dy()&&n,d=(r.left+(c&&l?l.offsetLeft:0))/o,u=(r.top+(c&&l?l.offsetTop:0))/i,p=r.width/o,f=r.height/i;return{width:p,height:f,top:u,right:d+p,bottom:u+f,left:d,x:d,y:u}}function lp(e){var t=mo(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Ry(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&ap(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Dr(e){return _n(e).getComputedStyle(e)}function iT(e){return["table","td","th"].indexOf(mr(e))>=0}function rs(e){return((Ss(e)?e.ownerDocument:e.document)||window.document).documentElement}function oc(e){return mr(e)==="html"?e:e.assignedSlot||e.parentNode||(ap(e)?e.host:null)||rs(e)}function wf(e){return!An(e)||Dr(e).position==="fixed"?null:e.offsetParent}function aT(e){var t=/firefox/i.test(Bd()),n=/Trident/i.test(Bd());if(n&&An(e)){var r=Dr(e);if(r.position==="fixed")return null}var o=oc(e);for(ap(o)&&(o=o.host);An(o)&&["html","body"].indexOf(mr(o))<0;){var i=Dr(o);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return o;o=o.parentNode}return null}function ta(e){for(var t=_n(e),n=wf(e);n&&iT(n)&&Dr(n).position==="static";)n=wf(n);return n&&(mr(n)==="html"||mr(n)==="body"&&Dr(n).position==="static")?t:n||aT(e)||t}function cp(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function fi(e,t,n){return vs(e,il(t,n))}function lT(e,t,n){var r=fi(e,t,n);return r>n?n:r}function Ay(){return{top:0,right:0,bottom:0,left:0}}function $y(e){return Object.assign({},Ay(),e)}function Oy(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var cT=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,$y(typeof t!="number"?t:Oy(t,ea))};function dT(e){var t,n=e.state,r=e.name,o=e.options,i=n.elements.arrow,a=n.modifiersData.popperOffsets,l=dr(n.placement),c=cp(l),d=[gn,Bn].indexOf(l)>=0,u=d?"height":"width";if(!(!i||!a)){var p=cT(o.padding,n),f=lp(i),g=c==="y"?mn:gn,v=c==="y"?Ln:Bn,y=n.rects.reference[u]+n.rects.reference[c]-a[c]-n.rects.popper[u],m=a[c]-n.rects.reference[c],x=ta(i),j=x?c==="y"?x.clientHeight||0:x.clientWidth||0:0,b=y/2-m/2,w=p[g],N=j-f[u]-p[v],k=j/2-f[u]/2+b,E=fi(w,k,N),_=c;n.modifiersData[r]=(t={},t[_]=E,t.centerOffset=E-k,t)}}function uT(e){var t=e.state,n=e.options,r=n.element,o=r===void 0?"[data-popper-arrow]":r;o!=null&&(typeof o=="string"&&(o=t.elements.popper.querySelector(o),!o)||Ry(t.elements.popper,o)&&(t.elements.arrow=o))}const pT={name:"arrow",enabled:!0,phase:"main",fn:dT,effect:uT,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function go(e){return e.split("-")[1]}var hT={top:"auto",right:"auto",bottom:"auto",left:"auto"};function fT(e,t){var n=e.x,r=e.y,o=t.devicePixelRatio||1;return{x:fo(n*o)/o||0,y:fo(r*o)/o||0}}function Cf(e){var t,n=e.popper,r=e.popperRect,o=e.placement,i=e.variation,a=e.offsets,l=e.position,c=e.gpuAcceleration,d=e.adaptive,u=e.roundOffsets,p=e.isFixed,f=a.x,g=f===void 0?0:f,v=a.y,y=v===void 0?0:v,m=typeof u=="function"?u({x:g,y}):{x:g,y};g=m.x,y=m.y;var x=a.hasOwnProperty("x"),j=a.hasOwnProperty("y"),b=gn,w=mn,N=window;if(d){var k=ta(n),E="clientHeight",_="clientWidth";if(k===_n(n)&&(k=rs(n),Dr(k).position!=="static"&&l==="absolute"&&(E="scrollHeight",_="scrollWidth")),k=k,o===mn||(o===gn||o===Bn)&&i===Mi){w=Ln;var D=p&&k===N&&N.visualViewport?N.visualViewport.height:k[E];y-=D-r.height,y*=c?1:-1}if(o===gn||(o===mn||o===Ln)&&i===Mi){b=Bn;var S=p&&k===N&&N.visualViewport?N.visualViewport.width:k[_];g-=S-r.width,g*=c?1:-1}}var T=Object.assign({position:l},d&&hT),$=u===!0?fT({x:g,y},_n(n)):{x:g,y};if(g=$.x,y=$.y,c){var O;return Object.assign({},T,(O={},O[w]=j?"0":"",O[b]=x?"0":"",O.transform=(N.devicePixelRatio||1)<=1?"translate("+g+"px, "+y+"px)":"translate3d("+g+"px, "+y+"px, 0)",O))}return Object.assign({},T,(t={},t[w]=j?y+"px":"",t[b]=x?g+"px":"",t.transform="",t))}function mT(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=r===void 0?!0:r,i=n.adaptive,a=i===void 0?!0:i,l=n.roundOffsets,c=l===void 0?!0:l,d={placement:dr(t.placement),variation:go(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Cf(Object.assign({},d,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Cf(Object.assign({},d,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const gT={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:mT,data:{}};var pa={passive:!0};function vT(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,i=o===void 0?!0:o,a=r.resize,l=a===void 0?!0:a,c=_n(t.elements.popper),d=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&d.forEach(function(u){u.addEventListener("scroll",n.update,pa)}),l&&c.addEventListener("resize",n.update,pa),function(){i&&d.forEach(function(u){u.removeEventListener("scroll",n.update,pa)}),l&&c.removeEventListener("resize",n.update,pa)}}const yT={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:vT,data:{}};var xT={left:"right",right:"left",bottom:"top",top:"bottom"};function $a(e){return e.replace(/left|right|bottom|top/g,function(t){return xT[t]})}var bT={start:"end",end:"start"};function jf(e){return e.replace(/start|end/g,function(t){return bT[t]})}function dp(e){var t=_n(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function up(e){return mo(rs(e)).left+dp(e).scrollLeft}function wT(e,t){var n=_n(e),r=rs(e),o=n.visualViewport,i=r.clientWidth,a=r.clientHeight,l=0,c=0;if(o){i=o.width,a=o.height;var d=Dy();(d||!d&&t==="fixed")&&(l=o.offsetLeft,c=o.offsetTop)}return{width:i,height:a,x:l+up(e),y:c}}function CT(e){var t,n=rs(e),r=dp(e),o=(t=e.ownerDocument)==null?void 0:t.body,i=vs(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=vs(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),l=-r.scrollLeft+up(e),c=-r.scrollTop;return Dr(o||n).direction==="rtl"&&(l+=vs(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:a,x:l,y:c}}function pp(e){var t=Dr(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function Ly(e){return["html","body","#document"].indexOf(mr(e))>=0?e.ownerDocument.body:An(e)&&pp(e)?e:Ly(oc(e))}function mi(e,t){var n;t===void 0&&(t=[]);var r=Ly(e),o=r===((n=e.ownerDocument)==null?void 0:n.body),i=_n(r),a=o?[i].concat(i.visualViewport||[],pp(r)?r:[]):r,l=t.concat(a);return o?l:l.concat(mi(oc(a)))}function Fd(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function jT(e,t){var n=mo(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function kf(e,t,n){return t===Ny?Fd(wT(e,n)):Ss(t)?jT(t,n):Fd(CT(rs(e)))}function kT(e){var t=mi(oc(e)),n=["absolute","fixed"].indexOf(Dr(e).position)>=0,r=n&&An(e)?ta(e):e;return Ss(r)?t.filter(function(o){return Ss(o)&&Ry(o,r)&&mr(o)!=="body"}):[]}function ST(e,t,n,r){var o=t==="clippingParents"?kT(e):[].concat(t),i=[].concat(o,[n]),a=i[0],l=i.reduce(function(c,d){var u=kf(e,d,r);return c.top=vs(u.top,c.top),c.right=il(u.right,c.right),c.bottom=il(u.bottom,c.bottom),c.left=vs(u.left,c.left),c},kf(e,a,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function By(e){var t=e.reference,n=e.element,r=e.placement,o=r?dr(r):null,i=r?go(r):null,a=t.x+t.width/2-n.width/2,l=t.y+t.height/2-n.height/2,c;switch(o){case mn:c={x:a,y:t.y-n.height};break;case Ln:c={x:a,y:t.y+t.height};break;case Bn:c={x:t.x+t.width,y:l};break;case gn:c={x:t.x-n.width,y:l};break;default:c={x:t.x,y:t.y}}var d=o?cp(o):null;if(d!=null){var u=d==="y"?"height":"width";switch(i){case ho:c[d]=c[d]-(t[u]/2-n[u]/2);break;case Mi:c[d]=c[d]+(t[u]/2-n[u]/2);break}}return c}function Pi(e,t){t===void 0&&(t={});var n=t,r=n.placement,o=r===void 0?e.placement:r,i=n.strategy,a=i===void 0?e.strategy:i,l=n.boundary,c=l===void 0?V_:l,d=n.rootBoundary,u=d===void 0?Ny:d,p=n.elementContext,f=p===void 0?Qo:p,g=n.altBoundary,v=g===void 0?!1:g,y=n.padding,m=y===void 0?0:y,x=$y(typeof m!="number"?m:Oy(m,ea)),j=f===Qo?Y_:Qo,b=e.rects.popper,w=e.elements[v?j:f],N=ST(Ss(w)?w:w.contextElement||rs(e.elements.popper),c,u,a),k=mo(e.elements.reference),E=By({reference:k,element:b,placement:o}),_=Fd(Object.assign({},b,E)),D=f===Qo?_:k,S={top:N.top-D.top+x.top,bottom:D.bottom-N.bottom+x.bottom,left:N.left-D.left+x.left,right:D.right-N.right+x.right},T=e.modifiersData.offset;if(f===Qo&&T){var $=T[o];Object.keys(S).forEach(function(O){var M=[Bn,Ln].indexOf(O)>=0?1:-1,P=[mn,Ln].indexOf(O)>=0?"y":"x";S[O]+=$[P]*M})}return S}function _T(e,t){t===void 0&&(t={});var n=t,r=n.placement,o=n.boundary,i=n.rootBoundary,a=n.padding,l=n.flipVariations,c=n.allowedAutoPlacements,d=c===void 0?Iy:c,u=go(r),p=u?l?bf:bf.filter(function(v){return go(v)===u}):ea,f=p.filter(function(v){return d.indexOf(v)>=0});f.length===0&&(f=p);var g=f.reduce(function(v,y){return v[y]=Pi(e,{placement:y,boundary:o,rootBoundary:i,padding:a})[dr(y)],v},{});return Object.keys(g).sort(function(v,y){return g[v]-g[y]})}function TT(e){if(dr(e)===ip)return[];var t=$a(e);return[jf(e),t,jf(t)]}function ET(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,i=o===void 0?!0:o,a=n.altAxis,l=a===void 0?!0:a,c=n.fallbackPlacements,d=n.padding,u=n.boundary,p=n.rootBoundary,f=n.altBoundary,g=n.flipVariations,v=g===void 0?!0:g,y=n.allowedAutoPlacements,m=t.options.placement,x=dr(m),j=x===m,b=c||(j||!v?[$a(m)]:TT(m)),w=[m].concat(b).reduce(function(W,G){return W.concat(dr(G)===ip?_T(t,{placement:G,boundary:u,rootBoundary:p,padding:d,flipVariations:v,allowedAutoPlacements:y}):G)},[]),N=t.rects.reference,k=t.rects.popper,E=new Map,_=!0,D=w[0],S=0;S<w.length;S++){var T=w[S],$=dr(T),O=go(T)===ho,M=[mn,Ln].indexOf($)>=0,P=M?"width":"height",L=Pi(t,{placement:T,boundary:u,rootBoundary:p,altBoundary:f,padding:d}),R=M?O?Bn:gn:O?Ln:mn;N[P]>k[P]&&(R=$a(R));var B=$a(R),A=[];if(i&&A.push(L[$]<=0),l&&A.push(L[R]<=0,L[B]<=0),A.every(function(W){return W})){D=T,_=!1;break}E.set(T,A)}if(_)for(var I=v?3:1,F=function(G){var H=w.find(function(K){var X=E.get(K);if(X)return X.slice(0,G).every(function(q){return q})});if(H)return D=H,"break"},V=I;V>0;V--){var Y=F(V);if(Y==="break")break}t.placement!==D&&(t.modifiersData[r]._skip=!0,t.placement=D,t.reset=!0)}}const MT={name:"flip",enabled:!0,phase:"main",fn:ET,requiresIfExists:["offset"],data:{_skip:!1}};function Sf(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function _f(e){return[mn,Bn,Ln,gn].some(function(t){return e[t]>=0})}function PT(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,a=Pi(t,{elementContext:"reference"}),l=Pi(t,{altBoundary:!0}),c=Sf(a,r),d=Sf(l,o,i),u=_f(c),p=_f(d);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:d,isReferenceHidden:u,hasPopperEscaped:p},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":p})}const NT={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:PT};function IT(e,t,n){var r=dr(e),o=[gn,mn].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,a=i[0],l=i[1];return a=a||0,l=(l||0)*o,[gn,Bn].indexOf(r)>=0?{x:l,y:a}:{x:a,y:l}}function DT(e){var t=e.state,n=e.options,r=e.name,o=n.offset,i=o===void 0?[0,0]:o,a=Iy.reduce(function(u,p){return u[p]=IT(p,t.rects,i),u},{}),l=a[t.placement],c=l.x,d=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=d),t.modifiersData[r]=a}const RT={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:DT};function AT(e){var t=e.state,n=e.name;t.modifiersData[n]=By({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const $T={name:"popperOffsets",enabled:!0,phase:"read",fn:AT,data:{}};function OT(e){return e==="x"?"y":"x"}function LT(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,i=o===void 0?!0:o,a=n.altAxis,l=a===void 0?!1:a,c=n.boundary,d=n.rootBoundary,u=n.altBoundary,p=n.padding,f=n.tether,g=f===void 0?!0:f,v=n.tetherOffset,y=v===void 0?0:v,m=Pi(t,{boundary:c,rootBoundary:d,padding:p,altBoundary:u}),x=dr(t.placement),j=go(t.placement),b=!j,w=cp(x),N=OT(w),k=t.modifiersData.popperOffsets,E=t.rects.reference,_=t.rects.popper,D=typeof y=="function"?y(Object.assign({},t.rects,{placement:t.placement})):y,S=typeof D=="number"?{mainAxis:D,altAxis:D}:Object.assign({mainAxis:0,altAxis:0},D),T=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,$={x:0,y:0};if(k){if(i){var O,M=w==="y"?mn:gn,P=w==="y"?Ln:Bn,L=w==="y"?"height":"width",R=k[w],B=R+m[M],A=R-m[P],I=g?-_[L]/2:0,F=j===ho?E[L]:_[L],V=j===ho?-_[L]:-E[L],Y=t.elements.arrow,W=g&&Y?lp(Y):{width:0,height:0},G=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Ay(),H=G[M],K=G[P],X=fi(0,E[L],W[L]),q=b?E[L]/2-I-X-H-S.mainAxis:F-X-H-S.mainAxis,ie=b?-E[L]/2+I+X+K+S.mainAxis:V+X+K+S.mainAxis,J=t.elements.arrow&&ta(t.elements.arrow),de=J?w==="y"?J.clientTop||0:J.clientLeft||0:0,U=(O=T==null?void 0:T[w])!=null?O:0,oe=R+q-U-de,he=R+ie-U,Z=fi(g?il(B,oe):B,R,g?vs(A,he):A);k[w]=Z,$[w]=Z-R}if(l){var le,ce=w==="x"?mn:gn,te=w==="x"?Ln:Bn,ke=k[N],pe=N==="y"?"height":"width",De=ke+m[ce],Re=ke-m[te],Ee=[mn,gn].indexOf(x)!==-1,et=(le=T==null?void 0:T[N])!=null?le:0,ht=Ee?De:ke-E[pe]-_[pe]-et+S.altAxis,fe=Ee?ke+E[pe]+_[pe]-et-S.altAxis:Re,ue=g&&Ee?lT(ht,ke,fe):fi(g?ht:De,ke,g?fe:Re);k[N]=ue,$[N]=ue-ke}t.modifiersData[r]=$}}const BT={name:"preventOverflow",enabled:!0,phase:"main",fn:LT,requiresIfExists:["offset"]};function FT(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function zT(e){return e===_n(e)||!An(e)?dp(e):FT(e)}function WT(e){var t=e.getBoundingClientRect(),n=fo(t.width)/e.offsetWidth||1,r=fo(t.height)/e.offsetHeight||1;return n!==1||r!==1}function HT(e,t,n){n===void 0&&(n=!1);var r=An(t),o=An(t)&&WT(t),i=rs(t),a=mo(e,o,n),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((mr(t)!=="body"||pp(i))&&(l=zT(t)),An(t)?(c=mo(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):i&&(c.x=up(i))),{x:a.left+l.scrollLeft-c.x,y:a.top+l.scrollTop-c.y,width:a.width,height:a.height}}function UT(e){var t=new Map,n=new Set,r=[];e.forEach(function(i){t.set(i.name,i)});function o(i){n.add(i.name);var a=[].concat(i.requires||[],i.requiresIfExists||[]);a.forEach(function(l){if(!n.has(l)){var c=t.get(l);c&&o(c)}}),r.push(i)}return e.forEach(function(i){n.has(i.name)||o(i)}),r}function VT(e){var t=UT(e);return nT.reduce(function(n,r){return n.concat(t.filter(function(o){return o.phase===r}))},[])}function YT(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function GT(e){var t=e.reduce(function(n,r){var o=n[r.name];return n[r.name]=o?Object.assign({},o,r,{options:Object.assign({},o.options,r.options),data:Object.assign({},o.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var Tf={placement:"bottom",modifiers:[],strategy:"absolute"};function Ef(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function qT(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,o=t.defaultOptions,i=o===void 0?Tf:o;return function(l,c,d){d===void 0&&(d=i);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Tf,i),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},p=[],f=!1,g={state:u,setOptions:function(x){var j=typeof x=="function"?x(u.options):x;y(),u.options=Object.assign({},i,u.options,j),u.scrollParents={reference:Ss(l)?mi(l):l.contextElement?mi(l.contextElement):[],popper:mi(c)};var b=VT(GT([].concat(r,u.options.modifiers)));return u.orderedModifiers=b.filter(function(w){return w.enabled}),v(),g.update()},forceUpdate:function(){if(!f){var x=u.elements,j=x.reference,b=x.popper;if(Ef(j,b)){u.rects={reference:HT(j,ta(b),u.options.strategy==="fixed"),popper:lp(b)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(S){return u.modifiersData[S.name]=Object.assign({},S.data)});for(var w=0;w<u.orderedModifiers.length;w++){if(u.reset===!0){u.reset=!1,w=-1;continue}var N=u.orderedModifiers[w],k=N.fn,E=N.options,_=E===void 0?{}:E,D=N.name;typeof k=="function"&&(u=k({state:u,options:_,name:D,instance:g})||u)}}}},update:YT(function(){return new Promise(function(m){g.forceUpdate(),m(u)})}),destroy:function(){y(),f=!0}};if(!Ef(l,c))return g;g.setOptions(d).then(function(m){!f&&d.onFirstUpdate&&d.onFirstUpdate(m)});function v(){u.orderedModifiers.forEach(function(m){var x=m.name,j=m.options,b=j===void 0?{}:j,w=m.effect;if(typeof w=="function"){var N=w({state:u,name:x,instance:g,options:b}),k=function(){};p.push(N||k)}})}function y(){p.forEach(function(m){return m()}),p=[]}return g}}var KT=[yT,$T,gT,oT,RT,MT,BT,pT,NT],QT=qT({defaultModifiers:KT});function XT(e){return typeof e=="function"?e():e}const Fy=h.forwardRef(function(t,n){const{children:r,container:o,disablePortal:i=!1}=t,[a,l]=h.useState(null),c=jt(h.isValidElement(r)?Ms(r):null,n);if(dn(()=>{i||l(XT(o)||document.body)},[o,i]),dn(()=>{if(a&&!i)return xd(n,a),()=>{xd(n,null)}},[n,a,i]),i){if(h.isValidElement(r)){const d={ref:c};return h.cloneElement(r,d)}return s.jsx(h.Fragment,{children:r})}return s.jsx(h.Fragment,{children:a&&Vm.createPortal(r,a)})});function ZT(e){return ye("MuiPopper",e)}xe("MuiPopper",["root"]);const JT=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],eE=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function tE(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function zd(e){return typeof e=="function"?e():e}function nE(e){return e.nodeType!==void 0}const rE=e=>{const{classes:t}=e;return we({root:["root"]},ZT,t)},sE={},oE=h.forwardRef(function(t,n){var r;const{anchorEl:o,children:i,direction:a,disablePortal:l,modifiers:c,open:d,placement:u,popperOptions:p,popperRef:f,slotProps:g={},slots:v={},TransitionProps:y}=t,m=ne(t,JT),x=h.useRef(null),j=jt(x,n),b=h.useRef(null),w=jt(b,f),N=h.useRef(w);dn(()=>{N.current=w},[w]),h.useImperativeHandle(f,()=>b.current,[]);const k=tE(u,a),[E,_]=h.useState(k),[D,S]=h.useState(zd(o));h.useEffect(()=>{b.current&&b.current.forceUpdate()}),h.useEffect(()=>{o&&S(zd(o))},[o]),dn(()=>{if(!D||!d)return;const P=B=>{_(B.placement)};let L=[{name:"preventOverflow",options:{altBoundary:l}},{name:"flip",options:{altBoundary:l}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:B})=>{P(B)}}];c!=null&&(L=L.concat(c)),p&&p.modifiers!=null&&(L=L.concat(p.modifiers));const R=QT(D,x.current,C({placement:k},p,{modifiers:L}));return N.current(R),()=>{R.destroy(),N.current(null)}},[D,l,c,d,p,k]);const T={placement:E};y!==null&&(T.TransitionProps=y);const $=rE(t),O=(r=v.root)!=null?r:"div",M=Xr({elementType:O,externalSlotProps:g.root,externalForwardedProps:m,additionalProps:{role:"tooltip",ref:j},ownerState:t,className:$.root});return s.jsx(O,C({},M,{children:typeof i=="function"?i(T):i}))}),iE=h.forwardRef(function(t,n){const{anchorEl:r,children:o,container:i,direction:a="ltr",disablePortal:l=!1,keepMounted:c=!1,modifiers:d,open:u,placement:p="bottom",popperOptions:f=sE,popperRef:g,style:v,transition:y=!1,slotProps:m={},slots:x={}}=t,j=ne(t,eE),[b,w]=h.useState(!0),N=()=>{w(!1)},k=()=>{w(!0)};if(!c&&!u&&(!y||b))return null;let E;if(i)E=i;else if(r){const S=zd(r);E=S&&nE(S)?Ut(S).body:Ut(null).body}const _=!u&&c&&(!y||b)?"none":void 0,D=y?{in:u,onEnter:N,onExited:k}:void 0;return s.jsx(Fy,{disablePortal:l,container:E,children:s.jsx(oE,C({anchorEl:r,direction:a,disablePortal:l,modifiers:d,ref:n,open:y?!b:u,placement:p,popperOptions:f,popperRef:g,slotProps:m,slots:x},j,{style:C({position:"fixed",top:0,left:0,display:_},v),TransitionProps:D,children:o}))})}),aE=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],lE=Q(iE,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),zy=h.forwardRef(function(t,n){var r;const o=My(),i=_e({props:t,name:"MuiPopper"}),{anchorEl:a,component:l,components:c,componentsProps:d,container:u,disablePortal:p,keepMounted:f,modifiers:g,open:v,placement:y,popperOptions:m,popperRef:x,transition:j,slots:b,slotProps:w}=i,N=ne(i,aE),k=(r=b==null?void 0:b.root)!=null?r:c==null?void 0:c.Root,E=C({anchorEl:a,container:u,disablePortal:p,keepMounted:f,modifiers:g,open:v,placement:y,popperOptions:m,popperRef:x,transition:j},N);return s.jsx(lE,C({as:l,direction:o==null?void 0:o.direction,slots:{root:k},slotProps:w??d},E,{ref:n}))}),cE=ge(s.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function dE(e){return ye("MuiChip",e)}const it=xe("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),uE=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],pE=e=>{const{classes:t,disabled:n,size:r,color:o,iconColor:i,onDelete:a,clickable:l,variant:c}=e,d={root:["root",c,n&&"disabled",`size${ee(r)}`,`color${ee(o)}`,l&&"clickable",l&&`clickableColor${ee(o)}`,a&&"deletable",a&&`deletableColor${ee(o)}`,`${c}${ee(o)}`],label:["label",`label${ee(r)}`],avatar:["avatar",`avatar${ee(r)}`,`avatarColor${ee(o)}`],icon:["icon",`icon${ee(r)}`,`iconColor${ee(i)}`],deleteIcon:["deleteIcon",`deleteIcon${ee(r)}`,`deleteIconColor${ee(o)}`,`deleteIcon${ee(c)}Color${ee(o)}`]};return we(d,dE,t)},hE=Q("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:r,iconColor:o,clickable:i,onDelete:a,size:l,variant:c}=n;return[{[`& .${it.avatar}`]:t.avatar},{[`& .${it.avatar}`]:t[`avatar${ee(l)}`]},{[`& .${it.avatar}`]:t[`avatarColor${ee(r)}`]},{[`& .${it.icon}`]:t.icon},{[`& .${it.icon}`]:t[`icon${ee(l)}`]},{[`& .${it.icon}`]:t[`iconColor${ee(o)}`]},{[`& .${it.deleteIcon}`]:t.deleteIcon},{[`& .${it.deleteIcon}`]:t[`deleteIcon${ee(l)}`]},{[`& .${it.deleteIcon}`]:t[`deleteIconColor${ee(r)}`]},{[`& .${it.deleteIcon}`]:t[`deleteIcon${ee(c)}Color${ee(r)}`]},t.root,t[`size${ee(l)}`],t[`color${ee(r)}`],i&&t.clickable,i&&r!=="default"&&t[`clickableColor${ee(r)})`],a&&t.deletable,a&&r!=="default"&&t[`deletableColor${ee(r)}`],t[c],t[`${c}${ee(r)}`]]}})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return C({maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${it.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${it.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:n,fontSize:e.typography.pxToRem(12)},[`& .${it.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${it.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${it.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${it.icon}`]:C({marginLeft:5,marginRight:-6},t.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},t.iconColor===t.color&&C({color:e.vars?e.vars.palette.Chip.defaultIconColor:n},t.color!=="default"&&{color:"inherit"})),[`& .${it.deleteIcon}`]:C({WebkitTapHighlightColor:"transparent",color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.26)`:Ue(e.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:Ue(e.palette.text.primary,.4)}},t.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},t.color!=="default"&&{color:e.vars?`rgba(${e.vars.palette[t.color].contrastTextChannel} / 0.7)`:Ue(e.palette[t.color].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].contrastText}})},t.size==="small"&&{height:24},t.color!=="default"&&{backgroundColor:(e.vars||e).palette[t.color].main,color:(e.vars||e).palette[t.color].contrastText},t.onDelete&&{[`&.${it.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Ue(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},t.onDelete&&t.color!=="default"&&{[`&.${it.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}})},({theme:e,ownerState:t})=>C({},t.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Ue(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)},[`&.${it.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Ue(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},"&:active":{boxShadow:(e.vars||e).shadows[1]}},t.clickable&&t.color!=="default"&&{[`&:hover, &.${it.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}}),({theme:e,ownerState:t})=>C({},t.variant==="outlined"&&{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${it.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${it.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${it.avatar}`]:{marginLeft:4},[`& .${it.avatarSmall}`]:{marginLeft:2},[`& .${it.icon}`]:{marginLeft:4},[`& .${it.iconSmall}`]:{marginLeft:2},[`& .${it.deleteIcon}`]:{marginRight:5},[`& .${it.deleteIconSmall}`]:{marginRight:3}},t.variant==="outlined"&&t.color!=="default"&&{color:(e.vars||e).palette[t.color].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:Ue(e.palette[t.color].main,.7)}`,[`&.${it.clickable}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ue(e.palette[t.color].main,e.palette.action.hoverOpacity)},[`&.${it.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.focusOpacity})`:Ue(e.palette[t.color].main,e.palette.action.focusOpacity)},[`& .${it.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:Ue(e.palette[t.color].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].main}}})),fE=Q("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:r}=n;return[t.label,t[`label${ee(r)}`]]}})(({ownerState:e})=>C({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},e.variant==="outlined"&&{paddingLeft:11,paddingRight:11},e.size==="small"&&{paddingLeft:8,paddingRight:8},e.size==="small"&&e.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function Mf(e){return e.key==="Backspace"||e.key==="Delete"}const gr=h.forwardRef(function(t,n){const r=_e({props:t,name:"MuiChip"}),{avatar:o,className:i,clickable:a,color:l="default",component:c,deleteIcon:d,disabled:u=!1,icon:p,label:f,onClick:g,onDelete:v,onKeyDown:y,onKeyUp:m,size:x="medium",variant:j="filled",tabIndex:b,skipFocusWhenDisabled:w=!1}=r,N=ne(r,uE),k=h.useRef(null),E=jt(k,n),_=A=>{A.stopPropagation(),v&&v(A)},D=A=>{A.currentTarget===A.target&&Mf(A)&&A.preventDefault(),y&&y(A)},S=A=>{A.currentTarget===A.target&&(v&&Mf(A)?v(A):A.key==="Escape"&&k.current&&k.current.blur()),m&&m(A)},T=a!==!1&&g?!0:a,$=T||v?Jr:c||"div",O=C({},r,{component:$,disabled:u,size:x,color:l,iconColor:h.isValidElement(p)&&p.props.color||l,onDelete:!!v,clickable:T,variant:j}),M=pE(O),P=$===Jr?C({component:c||"div",focusVisibleClassName:M.focusVisible},v&&{disableRipple:!0}):{};let L=null;v&&(L=d&&h.isValidElement(d)?h.cloneElement(d,{className:ae(d.props.className,M.deleteIcon),onClick:_}):s.jsx(cE,{className:ae(M.deleteIcon),onClick:_}));let R=null;o&&h.isValidElement(o)&&(R=h.cloneElement(o,{className:ae(M.avatar,o.props.className)}));let B=null;return p&&h.isValidElement(p)&&(B=h.cloneElement(p,{className:ae(M.icon,p.props.className)})),s.jsxs(hE,C({as:$,className:ae(M.root,i),disabled:T&&u?!0:void 0,onClick:g,onKeyDown:D,onKeyUp:S,ref:E,tabIndex:w&&u?-1:b,ownerState:O},P,N,{children:[R||B,s.jsx(fE,{className:ae(M.label),ownerState:O,children:f}),L]}))}),mE=["onChange","maxRows","minRows","style","value"];function ha(e){return parseInt(e,10)||0}const gE={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function vE(e){for(const t in e)return!1;return!0}function Pf(e){return vE(e)||e.outerHeightStyle===0&&!e.overflowing}const yE=h.forwardRef(function(t,n){const{onChange:r,maxRows:o,minRows:i=1,style:a,value:l}=t,c=ne(t,mE),{current:d}=h.useRef(l!=null),u=h.useRef(null),p=jt(n,u),f=h.useRef(null),g=h.useRef(null),v=h.useCallback(()=>{const b=u.current,w=g.current;if(!b||!w)return;const k=ws(b).getComputedStyle(b);if(k.width==="0px")return{outerHeightStyle:0,overflowing:!1};w.style.width=k.width,w.value=b.value||t.placeholder||"x",w.value.slice(-1)===`
`&&(w.value+=" ");const E=k.boxSizing,_=ha(k.paddingBottom)+ha(k.paddingTop),D=ha(k.borderBottomWidth)+ha(k.borderTopWidth),S=w.scrollHeight;w.value="x";const T=w.scrollHeight;let $=S;i&&($=Math.max(Number(i)*T,$)),o&&($=Math.min(Number(o)*T,$)),$=Math.max($,T);const O=$+(E==="border-box"?_+D:0),M=Math.abs($-S)<=1;return{outerHeightStyle:O,overflowing:M}},[o,i,t.placeholder]),y=Oe(()=>{const b=u.current,w=v();if(!b||!w||Pf(w))return!1;const N=w.outerHeightStyle;return f.current!=null&&f.current!==N}),m=h.useCallback(()=>{const b=u.current,w=v();if(!b||!w||Pf(w))return;const N=w.outerHeightStyle;f.current!==N&&(f.current=N,b.style.height=`${N}px`),b.style.overflow=w.overflowing?"hidden":""},[v]),x=h.useRef(-1);dn(()=>{const b=Hg(m),w=u==null?void 0:u.current;if(!w)return;const N=ws(w);N.addEventListener("resize",b);let k;return typeof ResizeObserver<"u"&&(k=new ResizeObserver(()=>{y()&&(k.unobserve(w),cancelAnimationFrame(x.current),m(),x.current=requestAnimationFrame(()=>{k.observe(w)}))}),k.observe(w)),()=>{b.clear(),cancelAnimationFrame(x.current),N.removeEventListener("resize",b),k&&k.disconnect()}},[v,m,y]),dn(()=>{m()});const j=b=>{d||m(),r&&r(b)};return s.jsxs(h.Fragment,{children:[s.jsx("textarea",C({value:l,onChange:j,ref:p,rows:i,style:a},c)),s.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:g,tabIndex:-1,style:C({},gE.shadow,a,{paddingTop:0,paddingBottom:0})})]})});function ss({props:e,states:t,muiFormControl:n}){return t.reduce((r,o)=>(r[o]=e[o],n&&typeof e[o]>"u"&&(r[o]=n[o]),r),{})}const ic=h.createContext(void 0);function yr(){return h.useContext(ic)}function Nf(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function al(e,t=!1){return e&&(Nf(e.value)&&e.value!==""||t&&Nf(e.defaultValue)&&e.defaultValue!=="")}function xE(e){return e.startAdornment}function bE(e){return ye("MuiInputBase",e)}const vo=xe("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),wE=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],ac=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,n.size==="small"&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${ee(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},lc=(e,t)=>{const{ownerState:n}=e;return[t.input,n.size==="small"&&t.inputSizeSmall,n.multiline&&t.inputMultiline,n.type==="search"&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},CE=e=>{const{classes:t,color:n,disabled:r,error:o,endAdornment:i,focused:a,formControl:l,fullWidth:c,hiddenLabel:d,multiline:u,readOnly:p,size:f,startAdornment:g,type:v}=e,y={root:["root",`color${ee(n)}`,r&&"disabled",o&&"error",c&&"fullWidth",a&&"focused",l&&"formControl",f&&f!=="medium"&&`size${ee(f)}`,u&&"multiline",g&&"adornedStart",i&&"adornedEnd",d&&"hiddenLabel",p&&"readOnly"],input:["input",r&&"disabled",v==="search"&&"inputTypeSearch",u&&"inputMultiline",f==="small"&&"inputSizeSmall",d&&"inputHiddenLabel",g&&"inputAdornedStart",i&&"inputAdornedEnd",p&&"readOnly"]};return we(y,bE,t)},cc=Q("div",{name:"MuiInputBase",slot:"Root",overridesResolver:ac})(({theme:e,ownerState:t})=>C({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${vo.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&C({padding:"4px 0 5px"},t.size==="small"&&{paddingTop:1}),t.fullWidth&&{width:"100%"})),dc=Q("input",{name:"MuiInputBase",slot:"Input",overridesResolver:lc})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light",r=C({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),o={opacity:"0 !important"},i=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return C({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${vo.formControl} &`]:{"&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus:-ms-input-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${vo.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},t.size==="small"&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},t.type==="search"&&{MozAppearance:"textfield"})}),jE=s.jsx(uv,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),hp=h.forwardRef(function(t,n){var r;const o=_e({props:t,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:a,autoFocus:l,className:c,components:d={},componentsProps:u={},defaultValue:p,disabled:f,disableInjectingGlobalStyles:g,endAdornment:v,fullWidth:y=!1,id:m,inputComponent:x="input",inputProps:j={},inputRef:b,maxRows:w,minRows:N,multiline:k=!1,name:E,onBlur:_,onChange:D,onClick:S,onFocus:T,onKeyDown:$,onKeyUp:O,placeholder:M,readOnly:P,renderSuffix:L,rows:R,slotProps:B={},slots:A={},startAdornment:I,type:F="text",value:V}=o,Y=ne(o,wE),W=j.value!=null?j.value:V,{current:G}=h.useRef(W!=null),H=h.useRef(),K=h.useCallback(ue=>{},[]),X=jt(H,b,j.ref,K),[q,ie]=h.useState(!1),J=yr(),de=ss({props:o,muiFormControl:J,states:["color","disabled","error","hiddenLabel","size","required","filled"]});de.focused=J?J.focused:q,h.useEffect(()=>{!J&&f&&q&&(ie(!1),_&&_())},[J,f,q,_]);const U=J&&J.onFilled,oe=J&&J.onEmpty,he=h.useCallback(ue=>{al(ue)?U&&U():oe&&oe()},[U,oe]);dn(()=>{G&&he({value:W})},[W,he,G]);const Z=ue=>{if(de.disabled){ue.stopPropagation();return}T&&T(ue),j.onFocus&&j.onFocus(ue),J&&J.onFocus?J.onFocus(ue):ie(!0)},le=ue=>{_&&_(ue),j.onBlur&&j.onBlur(ue),J&&J.onBlur?J.onBlur(ue):ie(!1)},ce=(ue,...me)=>{if(!G){const Ae=ue.target||H.current;if(Ae==null)throw new Error(Pr(1));he({value:Ae.value})}j.onChange&&j.onChange(ue,...me),D&&D(ue,...me)};h.useEffect(()=>{he(H.current)},[]);const te=ue=>{H.current&&ue.currentTarget===ue.target&&H.current.focus(),S&&S(ue)};let ke=x,pe=j;k&&ke==="input"&&(R?pe=C({type:void 0,minRows:R,maxRows:R},pe):pe=C({type:void 0,maxRows:w,minRows:N},pe),ke=yE);const De=ue=>{he(ue.animationName==="mui-auto-fill-cancel"?H.current:{value:"x"})};h.useEffect(()=>{J&&J.setAdornedStart(!!I)},[J,I]);const Re=C({},o,{color:de.color||"primary",disabled:de.disabled,endAdornment:v,error:de.error,focused:de.focused,formControl:J,fullWidth:y,hiddenLabel:de.hiddenLabel,multiline:k,size:de.size,startAdornment:I,type:F}),Ee=CE(Re),et=A.root||d.Root||cc,ht=B.root||u.root||{},fe=A.input||d.Input||dc;return pe=C({},pe,(r=B.input)!=null?r:u.input),s.jsxs(h.Fragment,{children:[!g&&jE,s.jsxs(et,C({},ht,!io(et)&&{ownerState:C({},Re,ht.ownerState)},{ref:n,onClick:te},Y,{className:ae(Ee.root,ht.className,c,P&&"MuiInputBase-readOnly"),children:[I,s.jsx(ic.Provider,{value:null,children:s.jsx(fe,C({ownerState:Re,"aria-invalid":de.error,"aria-describedby":i,autoComplete:a,autoFocus:l,defaultValue:p,disabled:de.disabled,id:m,onAnimationStart:De,name:E,placeholder:M,readOnly:P,required:de.required,rows:R,value:W,onKeyDown:$,onKeyUp:O,type:F},pe,!io(fe)&&{as:ke,ownerState:C({},Re,pe.ownerState)},{ref:X,className:ae(Ee.input,pe.className,P&&"MuiInputBase-readOnly"),onBlur:le,onChange:ce,onFocus:Z}))}),v,L?L(C({},de,{startAdornment:I})):null]}))]})});function kE(e){return ye("MuiInput",e)}const Xo=C({},vo,xe("MuiInput",["root","underline","input"]));function SE(e){return ye("MuiOutlinedInput",e)}const Fr=C({},vo,xe("MuiOutlinedInput",["root","notchedOutline","input"]));function _E(e){return ye("MuiFilledInput",e)}const is=C({},vo,xe("MuiFilledInput",["root","underline","input"])),TE=ge(s.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),EE=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],ME={entering:{opacity:1},entered:{opacity:1}},na=h.forwardRef(function(t,n){const r=Kn(),o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:i,appear:a=!0,children:l,easing:c,in:d,onEnter:u,onEntered:p,onEntering:f,onExit:g,onExited:v,onExiting:y,style:m,timeout:x=o,TransitionComponent:j=Hn}=t,b=ne(t,EE),w=h.useRef(null),N=jt(w,Ms(l),n),k=M=>P=>{if(M){const L=w.current;P===void 0?M(L):M(L,P)}},E=k(f),_=k((M,P)=>{Ey(M);const L=po({style:m,timeout:x,easing:c},{mode:"enter"});M.style.webkitTransition=r.transitions.create("opacity",L),M.style.transition=r.transitions.create("opacity",L),u&&u(M,P)}),D=k(p),S=k(y),T=k(M=>{const P=po({style:m,timeout:x,easing:c},{mode:"exit"});M.style.webkitTransition=r.transitions.create("opacity",P),M.style.transition=r.transitions.create("opacity",P),g&&g(M)}),$=k(v),O=M=>{i&&i(w.current,M)};return s.jsx(j,C({appear:a,in:d,nodeRef:w,onEnter:_,onEntered:D,onEntering:E,onExit:T,onExited:$,onExiting:S,addEndListener:O,timeout:x},b,{children:(M,P)=>h.cloneElement(l,C({style:C({opacity:0,visibility:M==="exited"&&!d?"hidden":void 0},ME[M],m,l.props.style),ref:N},P))}))});function PE(e){return ye("MuiBackdrop",e)}xe("MuiBackdrop",["root","invisible"]);const NE=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],IE=e=>{const{classes:t,invisible:n}=e;return we({root:["root",n&&"invisible"]},PE,t)},DE=Q("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})(({ownerState:e})=>C({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"})),Wy=h.forwardRef(function(t,n){var r,o,i;const a=_e({props:t,name:"MuiBackdrop"}),{children:l,className:c,component:d="div",components:u={},componentsProps:p={},invisible:f=!1,open:g,slotProps:v={},slots:y={},TransitionComponent:m=na,transitionDuration:x}=a,j=ne(a,NE),b=C({},a,{component:d,invisible:f}),w=IE(b),N=(r=v.root)!=null?r:p.root;return s.jsx(m,C({in:g,timeout:x},j,{children:s.jsx(DE,C({"aria-hidden":!0},N,{as:(o=(i=y.root)!=null?i:u.Root)!=null?o:d,className:ae(w.root,c,N==null?void 0:N.className),ownerState:C({},b,N==null?void 0:N.ownerState),classes:w,ref:n,children:l}))}))}),RE=xe("MuiBox",["root"]),AE=Nu(),se=ow({themeId:xs,defaultTheme:AE,defaultClassName:RE.root,generateClassName:Dg.generate});function $E(e){return ye("MuiButton",e)}const fa=xe("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),OE=h.createContext({}),LE=h.createContext(void 0),BE=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],FE=e=>{const{color:t,disableElevation:n,fullWidth:r,size:o,variant:i,classes:a}=e,l={root:["root",i,`${i}${ee(t)}`,`size${ee(o)}`,`${i}Size${ee(o)}`,`color${ee(t)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${ee(o)}`],endIcon:["icon","endIcon",`iconSize${ee(o)}`]},c=we(l,$E,a);return C({},a,c)},Hy=e=>C({},e.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},e.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},e.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),zE=Q(Jr,{shouldForwardProp:e=>xn(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${ee(n.color)}`],t[`size${ee(n.size)}`],t[`${n.variant}Size${ee(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(({theme:e,ownerState:t})=>{var n,r;const o=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],i=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return C({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":C({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:Ue(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="text"&&t.color!=="inherit"&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ue(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="outlined"&&t.color!=="inherit"&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ue(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="contained"&&{backgroundColor:e.vars?e.vars.palette.Button.inheritContainedHoverBg:i,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},t.variant==="contained"&&t.color!=="inherit"&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":C({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${fa.focusVisible}`]:C({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${fa.disabled}`]:C({color:(e.vars||e).palette.action.disabled},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},t.variant==="contained"&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},t.variant==="text"&&{padding:"6px 8px"},t.variant==="text"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main},t.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},t.variant==="outlined"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${Ue(e.palette[t.color].main,.5)}`},t.variant==="contained"&&{color:e.vars?e.vars.palette.text.primary:(n=(r=e.palette).getContrastText)==null?void 0:n.call(r,e.palette.grey[300]),backgroundColor:e.vars?e.vars.palette.Button.inheritContainedBg:o,boxShadow:(e.vars||e).shadows[2]},t.variant==="contained"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},t.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},t.size==="small"&&t.variant==="text"&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="text"&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="outlined"&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="outlined"&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="contained"&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="contained"&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${fa.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${fa.disabled}`]:{boxShadow:"none"}}),WE=Q("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${ee(n.size)}`]]}})(({ownerState:e})=>C({display:"inherit",marginRight:8,marginLeft:-4},e.size==="small"&&{marginLeft:-2},Hy(e))),HE=Q("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${ee(n.size)}`]]}})(({ownerState:e})=>C({display:"inherit",marginRight:-4,marginLeft:8},e.size==="small"&&{marginRight:-2},Hy(e))),Ie=h.forwardRef(function(t,n){const r=h.useContext(OE),o=h.useContext(LE),i=Si(r,t),a=_e({props:i,name:"MuiButton"}),{children:l,color:c="primary",component:d="button",className:u,disabled:p=!1,disableElevation:f=!1,disableFocusRipple:g=!1,endIcon:v,focusVisibleClassName:y,fullWidth:m=!1,size:x="medium",startIcon:j,type:b,variant:w="text"}=a,N=ne(a,BE),k=C({},a,{color:c,component:d,disabled:p,disableElevation:f,disableFocusRipple:g,fullWidth:m,size:x,type:b,variant:w}),E=FE(k),_=j&&s.jsx(WE,{className:E.startIcon,ownerState:k,children:j}),D=v&&s.jsx(HE,{className:E.endIcon,ownerState:k,children:v}),S=o||"";return s.jsxs(zE,C({ownerState:k,className:ae(r.className,E.root,u,S),component:d,disabled:p,focusRipple:!g,focusVisibleClassName:ae(E.focusVisible,y),ref:n,type:b},N,{classes:E,children:[_,l,D]}))});function UE(e){return ye("MuiCard",e)}xe("MuiCard",["root"]);const VE=["className","raised"],YE=e=>{const{classes:t}=e;return we({root:["root"]},UE,t)},GE=Q(un,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),ct=h.forwardRef(function(t,n){const r=_e({props:t,name:"MuiCard"}),{className:o,raised:i=!1}=r,a=ne(r,VE),l=C({},r,{raised:i}),c=YE(l);return s.jsx(GE,C({className:ae(c.root,o),elevation:i?8:void 0,ref:n,ownerState:l},a))});function qE(e){return ye("MuiCardActions",e)}xe("MuiCardActions",["root","spacing"]);const KE=["disableSpacing","className"],QE=e=>{const{classes:t,disableSpacing:n}=e;return we({root:["root",!n&&"spacing"]},qE,t)},XE=Q("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})(({ownerState:e})=>C({display:"flex",alignItems:"center",padding:8},!e.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),ZE=h.forwardRef(function(t,n){const r=_e({props:t,name:"MuiCardActions"}),{disableSpacing:o=!1,className:i}=r,a=ne(r,KE),l=C({},r,{disableSpacing:o}),c=QE(l);return s.jsx(XE,C({className:ae(c.root,i),ownerState:l,ref:n},a))});function JE(e){return ye("MuiCardContent",e)}xe("MuiCardContent",["root"]);const eM=["className","component"],tM=e=>{const{classes:t}=e;return we({root:["root"]},JE,t)},nM=Q("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),dt=h.forwardRef(function(t,n){const r=_e({props:t,name:"MuiCardContent"}),{className:o,component:i="div"}=r,a=ne(r,eM),l=C({},r,{component:i}),c=tM(l);return s.jsx(nM,C({as:i,className:ae(c.root,o),ownerState:l,ref:n},a))});function rM(e){return ye("PrivateSwitchBase",e)}xe("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const sM=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],oM=e=>{const{classes:t,checked:n,disabled:r,edge:o}=e,i={root:["root",n&&"checked",r&&"disabled",o&&`edge${ee(o)}`],input:["input"]};return we(i,rM,t)},iM=Q(Jr,{name:"MuiSwitchBase"})(({ownerState:e})=>C({padding:9,borderRadius:"50%"},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12})),aM=Q("input",{name:"MuiSwitchBase",shouldForwardProp:xn})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Uy=h.forwardRef(function(t,n){const{autoFocus:r,checked:o,checkedIcon:i,className:a,defaultChecked:l,disabled:c,disableFocusRipple:d=!1,edge:u=!1,icon:p,id:f,inputProps:g,inputRef:v,name:y,onBlur:m,onChange:x,onFocus:j,readOnly:b,required:w=!1,tabIndex:N,type:k,value:E}=t,_=ne(t,sM),[D,S]=fr({controlled:o,default:!!l,name:"SwitchBase",state:"checked"}),T=yr(),$=A=>{j&&j(A),T&&T.onFocus&&T.onFocus(A)},O=A=>{m&&m(A),T&&T.onBlur&&T.onBlur(A)},M=A=>{if(A.nativeEvent.defaultPrevented)return;const I=A.target.checked;S(I),x&&x(A,I)};let P=c;T&&typeof P>"u"&&(P=T.disabled);const L=k==="checkbox"||k==="radio",R=C({},t,{checked:D,disabled:P,disableFocusRipple:d,edge:u}),B=oM(R);return s.jsxs(iM,C({component:"span",className:ae(B.root,a),centerRipple:!0,focusRipple:!d,disabled:P,tabIndex:null,role:void 0,onFocus:$,onBlur:O,ownerState:R,ref:n},_,{children:[s.jsx(aM,C({autoFocus:r,checked:o,defaultChecked:l,className:B.input,disabled:P,id:L?f:void 0,name:y,onChange:M,readOnly:b,ref:v,required:w,ownerState:R,tabIndex:N,type:k},k==="checkbox"&&E===void 0?{}:{value:E},g)),D?i:p]}))}),lM=ge(s.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),cM=ge(s.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),dM=ge(s.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function uM(e){return ye("MuiCheckbox",e)}const Yc=xe("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),pM=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],hM=e=>{const{classes:t,indeterminate:n,color:r,size:o}=e,i={root:["root",n&&"indeterminate",`color${ee(r)}`,`size${ee(o)}`]},a=we(i,uM,t);return C({},t,a)},fM=Q(Uy,{shouldForwardProp:e=>xn(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,t[`size${ee(n.size)}`],n.color!=="default"&&t[`color${ee(n.color)}`]]}})(({theme:e,ownerState:t})=>C({color:(e.vars||e).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${t.color==="default"?e.vars.palette.action.activeChannel:e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ue(t.color==="default"?e.palette.action.active:e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${Yc.checked}, &.${Yc.indeterminate}`]:{color:(e.vars||e).palette[t.color].main},[`&.${Yc.disabled}`]:{color:(e.vars||e).palette.action.disabled}})),mM=s.jsx(cM,{}),gM=s.jsx(lM,{}),vM=s.jsx(dM,{}),yM=h.forwardRef(function(t,n){var r,o;const i=_e({props:t,name:"MuiCheckbox"}),{checkedIcon:a=mM,color:l="primary",icon:c=gM,indeterminate:d=!1,indeterminateIcon:u=vM,inputProps:p,size:f="medium",className:g}=i,v=ne(i,pM),y=d?u:c,m=d?u:a,x=C({},i,{color:l,indeterminate:d,size:f}),j=hM(x);return s.jsx(fM,C({type:"checkbox",inputProps:C({"data-indeterminate":d},p),icon:h.cloneElement(y,{fontSize:(r=y.props.fontSize)!=null?r:f}),checkedIcon:h.cloneElement(m,{fontSize:(o=m.props.fontSize)!=null?o:f}),ownerState:x,ref:n,className:ae(j.root,g)},v,{classes:j}))});function xM(e){return ye("MuiCircularProgress",e)}xe("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const bM=["className","color","disableShrink","size","style","thickness","value","variant"];let uc=e=>e,If,Df,Rf,Af;const zr=44,wM=Lr(If||(If=uc`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),CM=Lr(Df||(Df=uc`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),jM=e=>{const{classes:t,variant:n,color:r,disableShrink:o}=e,i={root:["root",n,`color${ee(r)}`],svg:["svg"],circle:["circle",`circle${ee(n)}`,o&&"circleDisableShrink"]};return we(i,xM,t)},kM=Q("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${ee(n.color)}`]]}})(({ownerState:e,theme:t})=>C({display:"inline-block"},e.variant==="determinate"&&{transition:t.transitions.create("transform")},e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main}),({ownerState:e})=>e.variant==="indeterminate"&&Es(Rf||(Rf=uc`
      animation: ${0} 1.4s linear infinite;
    `),wM)),SM=Q("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),_M=Q("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${ee(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(({ownerState:e,theme:t})=>C({stroke:"currentColor"},e.variant==="determinate"&&{transition:t.transitions.create("stroke-dashoffset")},e.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink&&Es(Af||(Af=uc`
      animation: ${0} 1.4s ease-in-out infinite;
    `),CM)),tn=h.forwardRef(function(t,n){const r=_e({props:t,name:"MuiCircularProgress"}),{className:o,color:i="primary",disableShrink:a=!1,size:l=40,style:c,thickness:d=3.6,value:u=0,variant:p="indeterminate"}=r,f=ne(r,bM),g=C({},r,{color:i,disableShrink:a,size:l,thickness:d,value:u,variant:p}),v=jM(g),y={},m={},x={};if(p==="determinate"){const j=2*Math.PI*((zr-d)/2);y.strokeDasharray=j.toFixed(3),x["aria-valuenow"]=Math.round(u),y.strokeDashoffset=`${((100-u)/100*j).toFixed(3)}px`,m.transform="rotate(-90deg)"}return s.jsx(kM,C({className:ae(v.root,o),style:C({width:l,height:l},m,c),ownerState:g,ref:n,role:"progressbar"},x,f,{children:s.jsx(SM,{className:v.svg,ownerState:g,viewBox:`${zr/2} ${zr/2} ${zr} ${zr}`,children:s.jsx(_M,{className:v.circle,style:y,ownerState:g,cx:zr,cy:zr,r:(zr-d)/2,fill:"none",strokeWidth:d})})}))});function $f(e){return e.substring(2).toLowerCase()}function TM(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function EM(e){const{children:t,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:o,touchEvent:i="onTouchEnd"}=e,a=h.useRef(!1),l=h.useRef(null),c=h.useRef(!1),d=h.useRef(!1);h.useEffect(()=>(setTimeout(()=>{c.current=!0},0),()=>{c.current=!1}),[]);const u=jt(Ms(t),l),p=Oe(v=>{const y=d.current;d.current=!1;const m=Ut(l.current);if(!c.current||!l.current||"clientX"in v&&TM(v,m))return;if(a.current){a.current=!1;return}let x;v.composedPath?x=v.composedPath().indexOf(l.current)>-1:x=!m.documentElement.contains(v.target)||l.current.contains(v.target),!x&&(n||!y)&&o(v)}),f=v=>y=>{d.current=!0;const m=t.props[v];m&&m(y)},g={ref:u};return i!==!1&&(g[i]=f(i)),h.useEffect(()=>{if(i!==!1){const v=$f(i),y=Ut(l.current),m=()=>{a.current=!0};return y.addEventListener(v,p),y.addEventListener("touchmove",m),()=>{y.removeEventListener(v,p),y.removeEventListener("touchmove",m)}}},[p,i]),r!==!1&&(g[r]=f(r)),h.useEffect(()=>{if(r!==!1){const v=$f(r),y=Ut(l.current);return y.addEventListener(v,p),()=>{y.removeEventListener(v,p)}}},[p,r]),s.jsx(h.Fragment,{children:h.cloneElement(t,g)})}const gi=rC({createStyledComponent:Q("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${ee(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>_e({props:e,name:"MuiContainer"})});function MM(e){const t=Ut(e);return t.body===e?ws(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function vi(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Of(e){return parseInt(ws(e).getComputedStyle(e).paddingRight,10)||0}function PM(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName)!==-1,r=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||r}function Lf(e,t,n,r,o){const i=[t,n,...r];[].forEach.call(e.children,a=>{const l=i.indexOf(a)===-1,c=!PM(a);l&&c&&vi(a,o)})}function Gc(e,t){let n=-1;return e.some((r,o)=>t(r)?(n=o,!0):!1),n}function NM(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(MM(r)){const a=Vg(Ut(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${Of(r)+a}px`;const l=Ut(r).querySelectorAll(".mui-fixed");[].forEach.call(l,c=>{n.push({value:c.style.paddingRight,property:"padding-right",el:c}),c.style.paddingRight=`${Of(c)+a}px`})}let i;if(r.parentNode instanceof DocumentFragment)i=Ut(r).body;else{const a=r.parentElement,l=ws(r);i=(a==null?void 0:a.nodeName)==="HTML"&&l.getComputedStyle(a).overflowY==="scroll"?a:r}n.push({value:i.style.overflow,property:"overflow",el:i},{value:i.style.overflowX,property:"overflow-x",el:i},{value:i.style.overflowY,property:"overflow-y",el:i}),i.style.overflow="hidden"}return()=>{n.forEach(({value:i,el:a,property:l})=>{i?a.style.setProperty(l,i):a.style.removeProperty(l)})}}function IM(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class DM{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(t,n){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&vi(t.modalRef,!1);const o=IM(n);Lf(n,t.mount,t.modalRef,o,!0);const i=Gc(this.containers,a=>a.container===n);return i!==-1?(this.containers[i].modals.push(t),r):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:o}),r)}mount(t,n){const r=Gc(this.containers,i=>i.modals.indexOf(t)!==-1),o=this.containers[r];o.restore||(o.restore=NM(o,n))}remove(t,n=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const o=Gc(this.containers,a=>a.modals.indexOf(t)!==-1),i=this.containers[o];if(i.modals.splice(i.modals.indexOf(t),1),this.modals.splice(r,1),i.modals.length===0)i.restore&&i.restore(),t.modalRef&&vi(t.modalRef,n),Lf(i.container,t.mount,t.modalRef,i.hiddenSiblings,!1),this.containers.splice(o,1);else{const a=i.modals[i.modals.length-1];a.modalRef&&vi(a.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const RM=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function AM(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function $M(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=r=>e.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function OM(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||$M(e))}function LM(e){const t=[],n=[];return Array.from(e.querySelectorAll(RM)).forEach((r,o)=>{const i=AM(r);i===-1||!OM(r)||(i===0?t.push(r):n.push({documentOrder:o,tabIndex:i,node:r}))}),n.sort((r,o)=>r.tabIndex===o.tabIndex?r.documentOrder-o.documentOrder:r.tabIndex-o.tabIndex).map(r=>r.node).concat(t)}function BM(){return!0}function FM(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:o=!1,getTabbable:i=LM,isEnabled:a=BM,open:l}=e,c=h.useRef(!1),d=h.useRef(null),u=h.useRef(null),p=h.useRef(null),f=h.useRef(null),g=h.useRef(!1),v=h.useRef(null),y=jt(Ms(t),v),m=h.useRef(null);h.useEffect(()=>{!l||!v.current||(g.current=!n)},[n,l]),h.useEffect(()=>{if(!l||!v.current)return;const b=Ut(v.current);return v.current.contains(b.activeElement)||(v.current.hasAttribute("tabIndex")||v.current.setAttribute("tabIndex","-1"),g.current&&v.current.focus()),()=>{o||(p.current&&p.current.focus&&(c.current=!0,p.current.focus()),p.current=null)}},[l]),h.useEffect(()=>{if(!l||!v.current)return;const b=Ut(v.current),w=E=>{m.current=E,!(r||!a()||E.key!=="Tab")&&b.activeElement===v.current&&E.shiftKey&&(c.current=!0,u.current&&u.current.focus())},N=()=>{const E=v.current;if(E===null)return;if(!b.hasFocus()||!a()||c.current){c.current=!1;return}if(E.contains(b.activeElement)||r&&b.activeElement!==d.current&&b.activeElement!==u.current)return;if(b.activeElement!==f.current)f.current=null;else if(f.current!==null)return;if(!g.current)return;let _=[];if((b.activeElement===d.current||b.activeElement===u.current)&&(_=i(v.current)),_.length>0){var D,S;const T=!!((D=m.current)!=null&&D.shiftKey&&((S=m.current)==null?void 0:S.key)==="Tab"),$=_[0],O=_[_.length-1];typeof $!="string"&&typeof O!="string"&&(T?O.focus():$.focus())}else E.focus()};b.addEventListener("focusin",N),b.addEventListener("keydown",w,!0);const k=setInterval(()=>{b.activeElement&&b.activeElement.tagName==="BODY"&&N()},50);return()=>{clearInterval(k),b.removeEventListener("focusin",N),b.removeEventListener("keydown",w,!0)}},[n,r,o,a,l,i]);const x=b=>{p.current===null&&(p.current=b.relatedTarget),g.current=!0,f.current=b.target;const w=t.props.onFocus;w&&w(b)},j=b=>{p.current===null&&(p.current=b.relatedTarget),g.current=!0};return s.jsxs(h.Fragment,{children:[s.jsx("div",{tabIndex:l?0:-1,onFocus:j,ref:d,"data-testid":"sentinelStart"}),h.cloneElement(t,{ref:y,onFocus:x}),s.jsx("div",{tabIndex:l?0:-1,onFocus:j,ref:u,"data-testid":"sentinelEnd"})]})}function zM(e){return typeof e=="function"?e():e}function WM(e){return e?e.props.hasOwnProperty("in"):!1}const HM=new DM;function UM(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:o=HM,closeAfterTransition:i=!1,onTransitionEnter:a,onTransitionExited:l,children:c,onClose:d,open:u,rootRef:p}=e,f=h.useRef({}),g=h.useRef(null),v=h.useRef(null),y=jt(v,p),[m,x]=h.useState(!u),j=WM(c);let b=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(b=!1);const w=()=>Ut(g.current),N=()=>(f.current.modalRef=v.current,f.current.mount=g.current,f.current),k=()=>{o.mount(N(),{disableScrollLock:r}),v.current&&(v.current.scrollTop=0)},E=Oe(()=>{const L=zM(t)||w().body;o.add(N(),L),v.current&&k()}),_=h.useCallback(()=>o.isTopModal(N()),[o]),D=Oe(L=>{g.current=L,L&&(u&&_()?k():v.current&&vi(v.current,b))}),S=h.useCallback(()=>{o.remove(N(),b)},[b,o]);h.useEffect(()=>()=>{S()},[S]),h.useEffect(()=>{u?E():(!j||!i)&&S()},[u,S,j,i,E]);const T=L=>R=>{var B;(B=L.onKeyDown)==null||B.call(L,R),!(R.key!=="Escape"||R.which===229||!_())&&(n||(R.stopPropagation(),d&&d(R,"escapeKeyDown")))},$=L=>R=>{var B;(B=L.onClick)==null||B.call(L,R),R.target===R.currentTarget&&d&&d(R,"backdropClick")};return{getRootProps:(L={})=>{const R=Ua(e);delete R.onTransitionEnter,delete R.onTransitionExited;const B=C({},R,L);return C({role:"presentation"},B,{onKeyDown:T(B),ref:y})},getBackdropProps:(L={})=>{const R=L;return C({"aria-hidden":!0},R,{onClick:$(R),open:u})},getTransitionProps:()=>{const L=()=>{x(!1),a&&a()},R=()=>{x(!0),l&&l(),i&&S()};return{onEnter:lh(L,c==null?void 0:c.props.onEnter),onExited:lh(R,c==null?void 0:c.props.onExited)}},rootRef:y,portalRef:D,isTopModal:_,exited:m,hasTransition:j}}function VM(e){return ye("MuiModal",e)}xe("MuiModal",["root","hidden","backdrop"]);const YM=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],GM=e=>{const{open:t,exited:n,classes:r}=e;return we({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},VM,r)},qM=Q("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(({theme:e,ownerState:t})=>C({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"})),KM=Q(Wy,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),Vy=h.forwardRef(function(t,n){var r,o,i,a,l,c;const d=_e({name:"MuiModal",props:t}),{BackdropComponent:u=KM,BackdropProps:p,className:f,closeAfterTransition:g=!1,children:v,container:y,component:m,components:x={},componentsProps:j={},disableAutoFocus:b=!1,disableEnforceFocus:w=!1,disableEscapeKeyDown:N=!1,disablePortal:k=!1,disableRestoreFocus:E=!1,disableScrollLock:_=!1,hideBackdrop:D=!1,keepMounted:S=!1,onBackdropClick:T,open:$,slotProps:O,slots:M}=d,P=ne(d,YM),L=C({},d,{closeAfterTransition:g,disableAutoFocus:b,disableEnforceFocus:w,disableEscapeKeyDown:N,disablePortal:k,disableRestoreFocus:E,disableScrollLock:_,hideBackdrop:D,keepMounted:S}),{getRootProps:R,getBackdropProps:B,getTransitionProps:A,portalRef:I,isTopModal:F,exited:V,hasTransition:Y}=UM(C({},L,{rootRef:n})),W=C({},L,{exited:V}),G=GM(W),H={};if(v.props.tabIndex===void 0&&(H.tabIndex="-1"),Y){const{onEnter:U,onExited:oe}=A();H.onEnter=U,H.onExited=oe}const K=(r=(o=M==null?void 0:M.root)!=null?o:x.Root)!=null?r:qM,X=(i=(a=M==null?void 0:M.backdrop)!=null?a:x.Backdrop)!=null?i:u,q=(l=O==null?void 0:O.root)!=null?l:j.root,ie=(c=O==null?void 0:O.backdrop)!=null?c:j.backdrop,J=Xr({elementType:K,externalSlotProps:q,externalForwardedProps:P,getSlotProps:R,additionalProps:{ref:n,as:m},ownerState:W,className:ae(f,q==null?void 0:q.className,G==null?void 0:G.root,!W.open&&W.exited&&(G==null?void 0:G.hidden))}),de=Xr({elementType:X,externalSlotProps:ie,additionalProps:p,getSlotProps:U=>B(C({},U,{onClick:oe=>{T&&T(oe),U!=null&&U.onClick&&U.onClick(oe)}})),className:ae(ie==null?void 0:ie.className,p==null?void 0:p.className,G==null?void 0:G.backdrop),ownerState:W});return!S&&!$&&(!Y||V)?null:s.jsx(Fy,{ref:I,container:y,disablePortal:k,children:s.jsxs(K,C({},J,{children:[!D&&u?s.jsx(X,C({},de)):null,s.jsx(FM,{disableEnforceFocus:w,disableAutoFocus:b,disableRestoreFocus:E,isEnabled:F,open:$,children:h.cloneElement(v,H)})]}))})});function QM(e){return ye("MuiDialog",e)}const qc=xe("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Yy=h.createContext({}),XM=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],ZM=Q(Wy,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),JM=e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:o,fullScreen:i}=e,a={root:["root"],container:["container",`scroll${ee(n)}`],paper:["paper",`paperScroll${ee(n)}`,`paperWidth${ee(String(r))}`,o&&"paperFullWidth",i&&"paperFullScreen"]};return we(a,QM,t)},eP=Q(Vy,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),tP=Q("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${ee(n.scroll)}`]]}})(({ownerState:e})=>C({height:"100%","@media print":{height:"auto"},outline:0},e.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},e.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),nP=Q(un,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${ee(n.scroll)}`],t[`paperWidth${ee(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})(({theme:e,ownerState:t})=>C({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},t.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},t.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!t.maxWidth&&{maxWidth:"calc(100% - 64px)"},t.maxWidth==="xs"&&{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${qc.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.maxWidth&&t.maxWidth!=="xs"&&{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`,[`&.${qc.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.fullWidth&&{width:"calc(100% - 64px)"},t.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${qc.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),ur=h.forwardRef(function(t,n){const r=_e({props:t,name:"MuiDialog"}),o=Kn(),i={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{"aria-describedby":a,"aria-labelledby":l,BackdropComponent:c,BackdropProps:d,children:u,className:p,disableEscapeKeyDown:f=!1,fullScreen:g=!1,fullWidth:v=!1,maxWidth:y="sm",onBackdropClick:m,onClick:x,onClose:j,open:b,PaperComponent:w=un,PaperProps:N={},scroll:k="paper",TransitionComponent:E=na,transitionDuration:_=i,TransitionProps:D}=r,S=ne(r,XM),T=C({},r,{disableEscapeKeyDown:f,fullScreen:g,fullWidth:v,maxWidth:y,scroll:k}),$=JM(T),O=h.useRef(),M=B=>{O.current=B.target===B.currentTarget},P=B=>{x&&x(B),O.current&&(O.current=null,m&&m(B),j&&j(B,"backdropClick"))},L=Mo(l),R=h.useMemo(()=>({titleId:L}),[L]);return s.jsx(eP,C({className:ae($.root,p),closeAfterTransition:!0,components:{Backdrop:ZM},componentsProps:{backdrop:C({transitionDuration:_,as:c},d)},disableEscapeKeyDown:f,onClose:j,open:b,ref:n,onClick:P,ownerState:T},S,{children:s.jsx(E,C({appear:!0,in:b,timeout:_,role:"presentation"},D,{children:s.jsx(tP,{className:ae($.container),onMouseDown:M,ownerState:T,children:s.jsx(nP,C({as:w,elevation:24,role:"dialog","aria-describedby":a,"aria-labelledby":L},N,{className:ae($.paper,N.className),ownerState:T,children:s.jsx(Yy.Provider,{value:R,children:u})}))})}))}))});function rP(e){return ye("MuiDialogActions",e)}xe("MuiDialogActions",["root","spacing"]);const sP=["className","disableSpacing"],oP=e=>{const{classes:t,disableSpacing:n}=e;return we({root:["root",!n&&"spacing"]},rP,t)},iP=Q("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})(({ownerState:e})=>C({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),_r=h.forwardRef(function(t,n){const r=_e({props:t,name:"MuiDialogActions"}),{className:o,disableSpacing:i=!1}=r,a=ne(r,sP),l=C({},r,{disableSpacing:i}),c=oP(l);return s.jsx(iP,C({className:ae(c.root,o),ownerState:l,ref:n},a))});function aP(e){return ye("MuiDialogContent",e)}xe("MuiDialogContent",["root","dividers"]);function lP(e){return ye("MuiDialogTitle",e)}const cP=xe("MuiDialogTitle",["root"]),dP=["className","dividers"],uP=e=>{const{classes:t,dividers:n}=e;return we({root:["root",n&&"dividers"]},aP,t)},pP=Q("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(({theme:e,ownerState:t})=>C({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${cP.root} + &`]:{paddingTop:0}})),pr=h.forwardRef(function(t,n){const r=_e({props:t,name:"MuiDialogContent"}),{className:o,dividers:i=!1}=r,a=ne(r,dP),l=C({},r,{dividers:i}),c=uP(l);return s.jsx(pP,C({className:ae(c.root,o),ownerState:l,ref:n},a))}),hP=["className","id"],fP=e=>{const{classes:t}=e;return we({root:["root"]},lP,t)},mP=Q(z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),Tr=h.forwardRef(function(t,n){const r=_e({props:t,name:"MuiDialogTitle"}),{className:o,id:i}=r,a=ne(r,hP),l=r,c=fP(l),{titleId:d=i}=h.useContext(Yy);return s.jsx(mP,C({component:"h2",className:ae(c.root,o),ownerState:l,ref:n,variant:"h6",id:i??d},a))});function gP(e){return ye("MuiDivider",e)}const Bf=xe("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),vP=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],yP=e=>{const{absolute:t,children:n,classes:r,flexItem:o,light:i,orientation:a,textAlign:l,variant:c}=e;return we({root:["root",t&&"absolute",c,i&&"light",a==="vertical"&&"vertical",o&&"flexItem",n&&"withChildren",n&&a==="vertical"&&"withChildrenVertical",l==="right"&&a!=="vertical"&&"textAlignRight",l==="left"&&a!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",a==="vertical"&&"wrapperVertical"]},gP,r)},xP=Q("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,n.orientation==="vertical"&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&n.orientation==="vertical"&&t.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&t.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&t.textAlignLeft]}})(({theme:e,ownerState:t})=>C({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:Ue(e.palette.divider,.08)},t.variant==="inset"&&{marginLeft:72},t.variant==="middle"&&t.orientation==="horizontal"&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},t.variant==="middle"&&t.orientation==="vertical"&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},t.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:e})=>C({},e.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:e,ownerState:t})=>C({},t.children&&t.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,borderTopStyle:"inherit"}}),({theme:e,ownerState:t})=>C({},t.children&&t.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`,borderLeftStyle:"inherit"}}),({ownerState:e})=>C({},e.textAlign==="right"&&e.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},e.textAlign==="left"&&e.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),bP=Q("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,n.orientation==="vertical"&&t.wrapperVertical]}})(({theme:e,ownerState:t})=>C({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`},t.orientation==="vertical"&&{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`})),Ur=h.forwardRef(function(t,n){const r=_e({props:t,name:"MuiDivider"}),{absolute:o=!1,children:i,className:a,component:l=i?"div":"hr",flexItem:c=!1,light:d=!1,orientation:u="horizontal",role:p=l!=="hr"?"separator":void 0,textAlign:f="center",variant:g="fullWidth"}=r,v=ne(r,vP),y=C({},r,{absolute:o,component:l,flexItem:c,light:d,orientation:u,role:p,textAlign:f,variant:g}),m=yP(y);return s.jsx(xP,C({as:l,className:ae(m.root,a),role:p,ref:n,ownerState:y},v,{children:i?s.jsx(bP,{className:m.wrapper,ownerState:y,children:i}):null}))});Ur.muiSkipListHighlight=!0;const wP=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],CP=e=>{const{classes:t,disableUnderline:n}=e,o=we({root:["root",!n&&"underline"],input:["input"]},_E,t);return C({},t,o)},jP=Q(cc,{shouldForwardProp:e=>xn(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...ac(e,t),!n.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{var n;const r=e.palette.mode==="light",o=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",a=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",l=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return C({position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:i,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:a,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:i}},[`&.${is.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:i},[`&.${is.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:l}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(e.vars||e).palette[t.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${is.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${is.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:o}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${is.disabled}, .${is.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${is.disabled}:before`]:{borderBottomStyle:"dotted"}},t.startAdornment&&{paddingLeft:12},t.endAdornment&&{paddingRight:12},t.multiline&&C({padding:"25px 12px 8px"},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9}))}),kP=Q(dc,{name:"MuiFilledInput",slot:"Input",overridesResolver:lc})(({theme:e,ownerState:t})=>C({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9},t.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),fp=h.forwardRef(function(t,n){var r,o,i,a;const l=_e({props:t,name:"MuiFilledInput"}),{components:c={},componentsProps:d,fullWidth:u=!1,inputComponent:p="input",multiline:f=!1,slotProps:g,slots:v={},type:y="text"}=l,m=ne(l,wP),x=C({},l,{fullWidth:u,inputComponent:p,multiline:f,type:y}),j=CP(l),b={root:{ownerState:x},input:{ownerState:x}},w=g??d?cn(b,g??d):b,N=(r=(o=v.root)!=null?o:c.Root)!=null?r:jP,k=(i=(a=v.input)!=null?a:c.Input)!=null?i:kP;return s.jsx(hp,C({slots:{root:N,input:k},componentsProps:w,fullWidth:u,inputComponent:p,multiline:f,ref:n,type:y},m,{classes:j}))});fp.muiName="Input";function SP(e){return ye("MuiFormControl",e)}xe("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const _P=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],TP=e=>{const{classes:t,margin:n,fullWidth:r}=e,o={root:["root",n!=="none"&&`margin${ee(n)}`,r&&"fullWidth"]};return we(o,SP,t)},EP=Q("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:e},t)=>C({},t.root,t[`margin${ee(e.margin)}`],e.fullWidth&&t.fullWidth)})(({ownerState:e})=>C({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},e.margin==="normal"&&{marginTop:16,marginBottom:8},e.margin==="dense"&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"})),hr=h.forwardRef(function(t,n){const r=_e({props:t,name:"MuiFormControl"}),{children:o,className:i,color:a="primary",component:l="div",disabled:c=!1,error:d=!1,focused:u,fullWidth:p=!1,hiddenLabel:f=!1,margin:g="none",required:v=!1,size:y="medium",variant:m="outlined"}=r,x=ne(r,_P),j=C({},r,{color:a,component:l,disabled:c,error:d,fullWidth:p,hiddenLabel:f,margin:g,required:v,size:y,variant:m}),b=TP(j),[w,N]=h.useState(()=>{let O=!1;return o&&h.Children.forEach(o,M=>{if(!Ia(M,["Input","Select"]))return;const P=Ia(M,["Select"])?M.props.input:M;P&&xE(P.props)&&(O=!0)}),O}),[k,E]=h.useState(()=>{let O=!1;return o&&h.Children.forEach(o,M=>{Ia(M,["Input","Select"])&&(al(M.props,!0)||al(M.props.inputProps,!0))&&(O=!0)}),O}),[_,D]=h.useState(!1);c&&_&&D(!1);const S=u!==void 0&&!c?u:_;let T;const $=h.useMemo(()=>({adornedStart:w,setAdornedStart:N,color:a,disabled:c,error:d,filled:k,focused:S,fullWidth:p,hiddenLabel:f,size:y,onBlur:()=>{D(!1)},onEmpty:()=>{E(!1)},onFilled:()=>{E(!0)},onFocus:()=>{D(!0)},registerEffect:T,required:v,variant:m}),[w,a,c,d,k,S,p,f,T,v,y,m]);return s.jsx(ic.Provider,{value:$,children:s.jsx(EP,C({as:l,ownerState:j,className:ae(b.root,i),ref:n},x,{children:o}))})}),Ws=uC({createStyledComponent:Q("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>_e({props:e,name:"MuiStack"})});function MP(e){return ye("MuiFormControlLabel",e)}const li=xe("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),PP=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],NP=e=>{const{classes:t,disabled:n,labelPlacement:r,error:o,required:i}=e,a={root:["root",n&&"disabled",`labelPlacement${ee(r)}`,o&&"error",i&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",o&&"error"]};return we(a,MP,t)},IP=Q("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${li.label}`]:t.label},t.root,t[`labelPlacement${ee(n.labelPlacement)}`]]}})(({theme:e,ownerState:t})=>C({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${li.disabled}`]:{cursor:"default"}},t.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},t.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},t.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${li.label}`]:{[`&.${li.disabled}`]:{color:(e.vars||e).palette.text.disabled}}})),DP=Q("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${li.error}`]:{color:(e.vars||e).palette.error.main}})),ll=h.forwardRef(function(t,n){var r,o;const i=_e({props:t,name:"MuiFormControlLabel"}),{className:a,componentsProps:l={},control:c,disabled:d,disableTypography:u,label:p,labelPlacement:f="end",required:g,slotProps:v={}}=i,y=ne(i,PP),m=yr(),x=(r=d??c.props.disabled)!=null?r:m==null?void 0:m.disabled,j=g??c.props.required,b={disabled:x,required:j};["checked","name","onChange","value","inputRef"].forEach(D=>{typeof c.props[D]>"u"&&typeof i[D]<"u"&&(b[D]=i[D])});const w=ss({props:i,muiFormControl:m,states:["error"]}),N=C({},i,{disabled:x,labelPlacement:f,required:j,error:w.error}),k=NP(N),E=(o=v.typography)!=null?o:l.typography;let _=p;return _!=null&&_.type!==z&&!u&&(_=s.jsx(z,C({component:"span"},E,{className:ae(k.label,E==null?void 0:E.className),children:_}))),s.jsxs(IP,C({className:ae(k.root,a),ownerState:N,ref:n},y,{children:[h.cloneElement(c,b),j?s.jsxs(Ws,{display:"block",children:[_,s.jsxs(DP,{ownerState:N,"aria-hidden":!0,className:k.asterisk,children:[" ","*"]})]}):_]}))});function RP(e){return ye("MuiFormGroup",e)}xe("MuiFormGroup",["root","row","error"]);const AP=["className","row"],$P=e=>{const{classes:t,row:n,error:r}=e;return we({root:["root",n&&"row",r&&"error"]},RP,t)},OP=Q("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.row&&t.row]}})(({ownerState:e})=>C({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"})),LP=h.forwardRef(function(t,n){const r=_e({props:t,name:"MuiFormGroup"}),{className:o,row:i=!1}=r,a=ne(r,AP),l=yr(),c=ss({props:r,muiFormControl:l,states:["error"]}),d=C({},r,{row:i,error:c.error}),u=$P(d);return s.jsx(OP,C({className:ae(u.root,o),ownerState:d,ref:n},a))});function BP(e){return ye("MuiFormHelperText",e)}const Ff=xe("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var zf;const FP=["children","className","component","disabled","error","filled","focused","margin","required","variant"],zP=e=>{const{classes:t,contained:n,size:r,disabled:o,error:i,filled:a,focused:l,required:c}=e,d={root:["root",o&&"disabled",i&&"error",r&&`size${ee(r)}`,n&&"contained",l&&"focused",a&&"filled",c&&"required"]};return we(d,BP,t)},WP=Q("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${ee(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})(({theme:e,ownerState:t})=>C({color:(e.vars||e).palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${Ff.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${Ff.error}`]:{color:(e.vars||e).palette.error.main}},t.size==="small"&&{marginTop:4},t.contained&&{marginLeft:14,marginRight:14})),HP=h.forwardRef(function(t,n){const r=_e({props:t,name:"MuiFormHelperText"}),{children:o,className:i,component:a="p"}=r,l=ne(r,FP),c=yr(),d=ss({props:r,muiFormControl:c,states:["variant","size","disabled","error","filled","focused","required"]}),u=C({},r,{component:a,contained:d.variant==="filled"||d.variant==="outlined",variant:d.variant,size:d.size,disabled:d.disabled,error:d.error,filled:d.filled,focused:d.focused,required:d.required}),p=zP(u);return s.jsx(WP,C({as:a,ownerState:u,className:ae(p.root,i),ref:n},l,{children:o===" "?zf||(zf=s.jsx("span",{className:"notranslate",children:"​"})):o}))});function UP(e){return ye("MuiFormLabel",e)}const yi=xe("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),VP=["children","className","color","component","disabled","error","filled","focused","required"],YP=e=>{const{classes:t,color:n,focused:r,disabled:o,error:i,filled:a,required:l}=e,c={root:["root",`color${ee(n)}`,o&&"disabled",i&&"error",a&&"filled",r&&"focused",l&&"required"],asterisk:["asterisk",i&&"error"]};return we(c,UP,t)},GP=Q("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:e},t)=>C({},t.root,e.color==="secondary"&&t.colorSecondary,e.filled&&t.filled)})(({theme:e,ownerState:t})=>C({color:(e.vars||e).palette.text.secondary},e.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${yi.focused}`]:{color:(e.vars||e).palette[t.color].main},[`&.${yi.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${yi.error}`]:{color:(e.vars||e).palette.error.main}})),qP=Q("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${yi.error}`]:{color:(e.vars||e).palette.error.main}})),Gy=h.forwardRef(function(t,n){const r=_e({props:t,name:"MuiFormLabel"}),{children:o,className:i,component:a="label"}=r,l=ne(r,VP),c=yr(),d=ss({props:r,muiFormControl:c,states:["color","required","focused","disabled","error","filled"]}),u=C({},r,{color:d.color||"primary",component:a,disabled:d.disabled,error:d.error,filled:d.filled,focused:d.focused,required:d.required}),p=YP(u);return s.jsxs(GP,C({as:a,ownerState:u,className:ae(p.root,i),ref:n},l,{children:[o,d.required&&s.jsxs(qP,{ownerState:u,"aria-hidden":!0,className:p.asterisk,children:[" ","*"]})]}))}),Wf=h.createContext();function KP(e){return ye("MuiGrid",e)}const QP=[0,1,2,3,4,5,6,7,8,9,10],XP=["column-reverse","column","row-reverse","row"],ZP=["nowrap","wrap-reverse","wrap"],Zo=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Ni=xe("MuiGrid",["root","container","item","zeroMinWidth",...QP.map(e=>`spacing-xs-${e}`),...XP.map(e=>`direction-xs-${e}`),...ZP.map(e=>`wrap-xs-${e}`),...Zo.map(e=>`grid-xs-${e}`),...Zo.map(e=>`grid-sm-${e}`),...Zo.map(e=>`grid-md-${e}`),...Zo.map(e=>`grid-lg-${e}`),...Zo.map(e=>`grid-xl-${e}`)]),JP=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Js(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function eN({theme:e,ownerState:t}){let n;return e.breakpoints.keys.reduce((r,o)=>{let i={};if(t[o]&&(n=t[o]),!n)return r;if(n===!0)i={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")i={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const a=gs({values:t.columns,breakpoints:e.breakpoints.values}),l=typeof a=="object"?a[o]:a;if(l==null)return r;const c=`${Math.round(n/l*1e8)/1e6}%`;let d={};if(t.container&&t.item&&t.columnSpacing!==0){const u=e.spacing(t.columnSpacing);if(u!=="0px"){const p=`calc(${c} + ${Js(u)})`;d={flexBasis:p,maxWidth:p}}}i=C({flexBasis:c,flexGrow:0,maxWidth:c},d)}return e.breakpoints.values[o]===0?Object.assign(r,i):r[e.breakpoints.up(o)]=i,r},{})}function tN({theme:e,ownerState:t}){const n=gs({values:t.direction,breakpoints:e.breakpoints.values});return yn({theme:e},n,r=>{const o={flexDirection:r};return r.indexOf("column")===0&&(o[`& > .${Ni.item}`]={maxWidth:"none"}),o})}function qy({breakpoints:e,values:t}){let n="";Object.keys(t).forEach(o=>{n===""&&t[o]!==0&&(n=o)});const r=Object.keys(e).sort((o,i)=>e[o]-e[i]);return r.slice(0,r.indexOf(n))}function nN({theme:e,ownerState:t}){const{container:n,rowSpacing:r}=t;let o={};if(n&&r!==0){const i=gs({values:r,breakpoints:e.breakpoints.values});let a;typeof i=="object"&&(a=qy({breakpoints:e.breakpoints.values,values:i})),o=yn({theme:e},i,(l,c)=>{var d;const u=e.spacing(l);return u!=="0px"?{marginTop:`-${Js(u)}`,[`& > .${Ni.item}`]:{paddingTop:Js(u)}}:(d=a)!=null&&d.includes(c)?{}:{marginTop:0,[`& > .${Ni.item}`]:{paddingTop:0}}})}return o}function rN({theme:e,ownerState:t}){const{container:n,columnSpacing:r}=t;let o={};if(n&&r!==0){const i=gs({values:r,breakpoints:e.breakpoints.values});let a;typeof i=="object"&&(a=qy({breakpoints:e.breakpoints.values,values:i})),o=yn({theme:e},i,(l,c)=>{var d;const u=e.spacing(l);return u!=="0px"?{width:`calc(100% + ${Js(u)})`,marginLeft:`-${Js(u)}`,[`& > .${Ni.item}`]:{paddingLeft:Js(u)}}:(d=a)!=null&&d.includes(c)?{}:{width:"100%",marginLeft:0,[`& > .${Ni.item}`]:{paddingLeft:0}}})}return o}function sN(e,t,n={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[n[`spacing-xs-${String(e)}`]];const r=[];return t.forEach(o=>{const i=e[o];Number(i)>0&&r.push(n[`spacing-${o}-${String(i)}`])}),r}const oN=Q("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:o,item:i,spacing:a,wrap:l,zeroMinWidth:c,breakpoints:d}=n;let u=[];r&&(u=sN(a,d,t));const p=[];return d.forEach(f=>{const g=n[f];g&&p.push(t[`grid-${f}-${String(g)}`])}),[t.root,r&&t.container,i&&t.item,c&&t.zeroMinWidth,...u,o!=="row"&&t[`direction-xs-${String(o)}`],l!=="wrap"&&t[`wrap-xs-${String(l)}`],...p]}})(({ownerState:e})=>C({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},e.wrap!=="wrap"&&{flexWrap:e.wrap}),tN,nN,rN,eN);function iN(e,t){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const n=[];return t.forEach(r=>{const o=e[r];if(Number(o)>0){const i=`spacing-${r}-${String(o)}`;n.push(i)}}),n}const aN=e=>{const{classes:t,container:n,direction:r,item:o,spacing:i,wrap:a,zeroMinWidth:l,breakpoints:c}=e;let d=[];n&&(d=iN(i,c));const u=[];c.forEach(f=>{const g=e[f];g&&u.push(`grid-${f}-${String(g)}`)});const p={root:["root",n&&"container",o&&"item",l&&"zeroMinWidth",...d,r!=="row"&&`direction-xs-${String(r)}`,a!=="wrap"&&`wrap-xs-${String(a)}`,...u]};return we(p,KP,t)},Be=h.forwardRef(function(t,n){const r=_e({props:t,name:"MuiGrid"}),{breakpoints:o}=Kn(),i=Hi(r),{className:a,columns:l,columnSpacing:c,component:d="div",container:u=!1,direction:p="row",item:f=!1,rowSpacing:g,spacing:v=0,wrap:y="wrap",zeroMinWidth:m=!1}=i,x=ne(i,JP),j=g||v,b=c||v,w=h.useContext(Wf),N=u?l||12:w,k={},E=C({},x);o.keys.forEach(S=>{x[S]!=null&&(k[S]=x[S],delete E[S])});const _=C({},i,{columns:N,container:u,direction:p,item:f,rowSpacing:j,columnSpacing:b,wrap:y,zeroMinWidth:m,spacing:v},k,{breakpoints:o.keys}),D=aN(_);return s.jsx(Wf.Provider,{value:N,children:s.jsx(oN,C({ownerState:_,className:ae(D.root,a),as:d,ref:n},E))})}),lN=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Wd(e){return`scale(${e}, ${e**2})`}const cN={entering:{opacity:1,transform:Wd(1)},entered:{opacity:1,transform:"none"}},Kc=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Ii=h.forwardRef(function(t,n){const{addEndListener:r,appear:o=!0,children:i,easing:a,in:l,onEnter:c,onEntered:d,onEntering:u,onExit:p,onExited:f,onExiting:g,style:v,timeout:y="auto",TransitionComponent:m=Hn}=t,x=ne(t,lN),j=Hr(),b=h.useRef(),w=Kn(),N=h.useRef(null),k=jt(N,Ms(i),n),E=P=>L=>{if(P){const R=N.current;L===void 0?P(R):P(R,L)}},_=E(u),D=E((P,L)=>{Ey(P);const{duration:R,delay:B,easing:A}=po({style:v,timeout:y,easing:a},{mode:"enter"});let I;y==="auto"?(I=w.transitions.getAutoHeightDuration(P.clientHeight),b.current=I):I=R,P.style.transition=[w.transitions.create("opacity",{duration:I,delay:B}),w.transitions.create("transform",{duration:Kc?I:I*.666,delay:B,easing:A})].join(","),c&&c(P,L)}),S=E(d),T=E(g),$=E(P=>{const{duration:L,delay:R,easing:B}=po({style:v,timeout:y,easing:a},{mode:"exit"});let A;y==="auto"?(A=w.transitions.getAutoHeightDuration(P.clientHeight),b.current=A):A=L,P.style.transition=[w.transitions.create("opacity",{duration:A,delay:R}),w.transitions.create("transform",{duration:Kc?A:A*.666,delay:Kc?R:R||A*.333,easing:B})].join(","),P.style.opacity=0,P.style.transform=Wd(.75),p&&p(P)}),O=E(f),M=P=>{y==="auto"&&j.start(b.current||0,P),r&&r(N.current,P)};return s.jsx(m,C({appear:o,in:l,nodeRef:N,onEnter:D,onEntered:S,onEntering:_,onExit:$,onExited:O,onExiting:T,addEndListener:M,timeout:y==="auto"?null:y},x,{children:(P,L)=>h.cloneElement(i,C({style:C({opacity:0,transform:Wd(.75),visibility:P==="exited"&&!l?"hidden":void 0},cN[P],v,i.props.style),ref:k},L))}))});Ii.muiSupportAuto=!0;const dN=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],uN=e=>{const{classes:t,disableUnderline:n}=e,o=we({root:["root",!n&&"underline"],input:["input"]},kE,t);return C({},t,o)},pN=Q(cc,{shouldForwardProp:e=>xn(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...ac(e,t),!n.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{let r=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(r=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),C({position:"relative"},t.formControl&&{"label + &":{marginTop:16}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Xo.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Xo.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Xo.disabled}, .${Xo.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Xo.disabled}:before`]:{borderBottomStyle:"dotted"}})}),hN=Q(dc,{name:"MuiInput",slot:"Input",overridesResolver:lc})({}),mp=h.forwardRef(function(t,n){var r,o,i,a;const l=_e({props:t,name:"MuiInput"}),{disableUnderline:c,components:d={},componentsProps:u,fullWidth:p=!1,inputComponent:f="input",multiline:g=!1,slotProps:v,slots:y={},type:m="text"}=l,x=ne(l,dN),j=uN(l),w={root:{ownerState:{disableUnderline:c}}},N=v??u?cn(v??u,w):w,k=(r=(o=y.root)!=null?o:d.Root)!=null?r:pN,E=(i=(a=y.input)!=null?a:d.Input)!=null?i:hN;return s.jsx(hp,C({slots:{root:k,input:E},slotProps:N,fullWidth:p,inputComponent:f,multiline:g,ref:n,type:m},x,{classes:j}))});mp.muiName="Input";function fN(e){return ye("MuiInputAdornment",e)}const Hf=xe("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var Uf;const mN=["children","className","component","disablePointerEvents","disableTypography","position","variant"],gN=(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${ee(n.position)}`],n.disablePointerEvents===!0&&t.disablePointerEvents,t[n.variant]]},vN=e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:r,position:o,size:i,variant:a}=e,l={root:["root",n&&"disablePointerEvents",o&&`position${ee(o)}`,a,r&&"hiddenLabel",i&&`size${ee(i)}`]};return we(l,fN,t)},yN=Q("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:gN})(({theme:e,ownerState:t})=>C({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active},t.variant==="filled"&&{[`&.${Hf.positionStart}&:not(.${Hf.hiddenLabel})`]:{marginTop:16}},t.position==="start"&&{marginRight:8},t.position==="end"&&{marginLeft:8},t.disablePointerEvents===!0&&{pointerEvents:"none"})),xN=h.forwardRef(function(t,n){const r=_e({props:t,name:"MuiInputAdornment"}),{children:o,className:i,component:a="div",disablePointerEvents:l=!1,disableTypography:c=!1,position:d,variant:u}=r,p=ne(r,mN),f=yr()||{};let g=u;u&&f.variant,f&&!g&&(g=f.variant);const v=C({},r,{hiddenLabel:f.hiddenLabel,size:f.size,disablePointerEvents:l,position:d,variant:g}),y=vN(v);return s.jsx(ic.Provider,{value:null,children:s.jsx(yN,C({as:a,ownerState:v,className:ae(y.root,i),ref:n},p,{children:typeof o=="string"&&!c?s.jsx(z,{color:"text.secondary",children:o}):s.jsxs(h.Fragment,{children:[d==="start"?Uf||(Uf=s.jsx("span",{className:"notranslate",children:"​"})):null,o]})}))})});function bN(e){return ye("MuiInputLabel",e)}xe("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const wN=["disableAnimation","margin","shrink","variant","className"],CN=e=>{const{classes:t,formControl:n,size:r,shrink:o,disableAnimation:i,variant:a,required:l}=e,c={root:["root",n&&"formControl",!i&&"animated",o&&"shrink",r&&r!=="normal"&&`size${ee(r)}`,a],asterisk:[l&&"asterisk"]},d=we(c,bN,t);return C({},t,d)},jN=Q(Gy,{shouldForwardProp:e=>xn(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${yi.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,n.size==="small"&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})(({theme:e,ownerState:t})=>C({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},t.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},t.size==="small"&&{transform:"translate(0, 17px) scale(1)"},t.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!t.disableAnimation&&{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},t.variant==="filled"&&C({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},t.shrink&&C({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},t.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),t.variant==="outlined"&&C({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},t.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),Rr=h.forwardRef(function(t,n){const r=_e({name:"MuiInputLabel",props:t}),{disableAnimation:o=!1,shrink:i,className:a}=r,l=ne(r,wN),c=yr();let d=i;typeof d>"u"&&c&&(d=c.filled||c.focused||c.adornedStart);const u=ss({props:r,muiFormControl:c,states:["size","variant","required","focused"]}),p=C({},r,{disableAnimation:o,formControl:c,shrink:d,size:u.size,variant:u.variant,required:u.required,focused:u.focused}),f=CN(p);return s.jsx(jN,C({"data-shrink":d,ownerState:p,ref:n,className:ae(f.root,a)},l,{classes:f}))});function kN(e){return ye("MuiLinearProgress",e)}xe("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const SN=["className","color","value","valueBuffer","variant"];let $o=e=>e,Vf,Yf,Gf,qf,Kf,Qf;const Hd=4,_N=Lr(Vf||(Vf=$o`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),TN=Lr(Yf||(Yf=$o`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),EN=Lr(Gf||(Gf=$o`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),MN=e=>{const{classes:t,variant:n,color:r}=e,o={root:["root",`color${ee(r)}`,n],dashed:["dashed",`dashedColor${ee(r)}`],bar1:["bar",`barColor${ee(r)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar",n!=="buffer"&&`barColor${ee(r)}`,n==="buffer"&&`color${ee(r)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return we(o,kN,t)},gp=(e,t)=>t==="inherit"?"currentColor":e.vars?e.vars.palette.LinearProgress[`${t}Bg`]:e.palette.mode==="light"?lo(e.palette[t].main,.62):ao(e.palette[t].main,.5),PN=Q("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`color${ee(n.color)}`],t[n.variant]]}})(({ownerState:e,theme:t})=>C({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:gp(t,e.color)},e.color==="inherit"&&e.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},e.variant==="buffer"&&{backgroundColor:"transparent"},e.variant==="query"&&{transform:"rotate(180deg)"})),NN=Q("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.dashed,t[`dashedColor${ee(n.color)}`]]}})(({ownerState:e,theme:t})=>{const n=gp(t,e.color);return C({position:"absolute",marginTop:0,height:"100%",width:"100%"},e.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},Es(qf||(qf=$o`
    animation: ${0} 3s infinite linear;
  `),EN)),IN=Q("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t[`barColor${ee(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&t.bar1Indeterminate,n.variant==="determinate"&&t.bar1Determinate,n.variant==="buffer"&&t.bar1Buffer]}})(({ownerState:e,theme:t})=>C({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:e.color==="inherit"?"currentColor":(t.vars||t).palette[e.color].main},e.variant==="determinate"&&{transition:`transform .${Hd}s linear`},e.variant==="buffer"&&{zIndex:1,transition:`transform .${Hd}s linear`}),({ownerState:e})=>(e.variant==="indeterminate"||e.variant==="query")&&Es(Kf||(Kf=$o`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),_N)),DN=Q("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t[`barColor${ee(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&t.bar2Indeterminate,n.variant==="buffer"&&t.bar2Buffer]}})(({ownerState:e,theme:t})=>C({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},e.variant!=="buffer"&&{backgroundColor:e.color==="inherit"?"currentColor":(t.vars||t).palette[e.color].main},e.color==="inherit"&&{opacity:.3},e.variant==="buffer"&&{backgroundColor:gp(t,e.color),transition:`transform .${Hd}s linear`}),({ownerState:e})=>(e.variant==="indeterminate"||e.variant==="query")&&Es(Qf||(Qf=$o`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),TN)),Ky=h.forwardRef(function(t,n){const r=_e({props:t,name:"MuiLinearProgress"}),{className:o,color:i="primary",value:a,valueBuffer:l,variant:c="indeterminate"}=r,d=ne(r,SN),u=C({},r,{color:i,variant:c}),p=MN(u),f=Tu(),g={},v={bar1:{},bar2:{}};if((c==="determinate"||c==="buffer")&&a!==void 0){g["aria-valuenow"]=Math.round(a),g["aria-valuemin"]=0,g["aria-valuemax"]=100;let y=a-100;f&&(y=-y),v.bar1.transform=`translateX(${y}%)`}if(c==="buffer"&&l!==void 0){let y=(l||0)-100;f&&(y=-y),v.bar2.transform=`translateX(${y}%)`}return s.jsxs(PN,C({className:ae(p.root,o),ownerState:u,role:"progressbar"},g,{ref:n},d,{children:[c==="buffer"?s.jsx(NN,{className:p.dashed,ownerState:u}):null,s.jsx(IN,{className:p.bar1,ownerState:u,style:v.bar1}),c==="determinate"?null:s.jsx(DN,{className:p.bar2,ownerState:u,style:v.bar2})]}))}),Er=h.createContext({});function RN(e){return ye("MuiList",e)}xe("MuiList",["root","padding","dense","subheader"]);const AN=["children","className","component","dense","disablePadding","subheader"],$N=e=>{const{classes:t,disablePadding:n,dense:r,subheader:o}=e;return we({root:["root",!n&&"padding",r&&"dense",o&&"subheader"]},RN,t)},ON=Q("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})(({ownerState:e})=>C({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0})),yo=h.forwardRef(function(t,n){const r=_e({props:t,name:"MuiList"}),{children:o,className:i,component:a="ul",dense:l=!1,disablePadding:c=!1,subheader:d}=r,u=ne(r,AN),p=h.useMemo(()=>({dense:l}),[l]),f=C({},r,{component:a,dense:l,disablePadding:c}),g=$N(f);return s.jsx(Er.Provider,{value:p,children:s.jsxs(ON,C({as:a,className:ae(g.root,i),ref:n,ownerState:f},u,{children:[d,o]}))})});function LN(e){return ye("MuiListItem",e)}const Hs=xe("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),BN=xe("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function FN(e){return ye("MuiListItemSecondaryAction",e)}xe("MuiListItemSecondaryAction",["root","disableGutters"]);const zN=["className"],WN=e=>{const{disableGutters:t,classes:n}=e;return we({root:["root",t&&"disableGutters"]},FN,n)},HN=Q("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})(({ownerState:e})=>C({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},e.disableGutters&&{right:0})),ms=h.forwardRef(function(t,n){const r=_e({props:t,name:"MuiListItemSecondaryAction"}),{className:o}=r,i=ne(r,zN),a=h.useContext(Er),l=C({},r,{disableGutters:a.disableGutters}),c=WN(l);return s.jsx(HN,C({className:ae(c.root,o),ownerState:l,ref:n},i))});ms.muiName="ListItemSecondaryAction";const UN=["className"],VN=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],YN=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.alignItems==="flex-start"&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.button&&t.button,n.hasSecondaryAction&&t.secondaryAction]},GN=e=>{const{alignItems:t,button:n,classes:r,dense:o,disabled:i,disableGutters:a,disablePadding:l,divider:c,hasSecondaryAction:d,selected:u}=e;return we({root:["root",o&&"dense",!a&&"gutters",!l&&"padding",c&&"divider",i&&"disabled",n&&"button",t==="flex-start"&&"alignItemsFlexStart",d&&"secondaryAction",u&&"selected"],container:["container"]},LN,r)},qN=Q("div",{name:"MuiListItem",slot:"Root",overridesResolver:YN})(({theme:e,ownerState:t})=>C({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!t.disablePadding&&C({paddingTop:8,paddingBottom:8},t.dense&&{paddingTop:4,paddingBottom:4},!t.disableGutters&&{paddingLeft:16,paddingRight:16},!!t.secondaryAction&&{paddingRight:48}),!!t.secondaryAction&&{[`& > .${BN.root}`]:{paddingRight:48}},{[`&.${Hs.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Hs.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Ue(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${Hs.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Ue(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${Hs.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.alignItems==="flex-start"&&{alignItems:"flex-start"},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},t.button&&{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Hs.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Ue(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Ue(e.palette.primary.main,e.palette.action.selectedOpacity)}}},t.hasSecondaryAction&&{paddingRight:48})),KN=Q("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),ar=h.forwardRef(function(t,n){const r=_e({props:t,name:"MuiListItem"}),{alignItems:o="center",autoFocus:i=!1,button:a=!1,children:l,className:c,component:d,components:u={},componentsProps:p={},ContainerComponent:f="li",ContainerProps:{className:g}={},dense:v=!1,disabled:y=!1,disableGutters:m=!1,disablePadding:x=!1,divider:j=!1,focusVisibleClassName:b,secondaryAction:w,selected:N=!1,slotProps:k={},slots:E={}}=r,_=ne(r.ContainerProps,UN),D=ne(r,VN),S=h.useContext(Er),T=h.useMemo(()=>({dense:v||S.dense||!1,alignItems:o,disableGutters:m}),[o,S.dense,v,m]),$=h.useRef(null);dn(()=>{i&&$.current&&$.current.focus()},[i]);const O=h.Children.toArray(l),M=O.length&&Ia(O[O.length-1],["ListItemSecondaryAction"]),P=C({},r,{alignItems:o,autoFocus:i,button:a,dense:T.dense,disabled:y,disableGutters:m,disablePadding:x,divider:j,hasSecondaryAction:M,selected:N}),L=GN(P),R=jt($,n),B=E.root||u.Root||qN,A=k.root||p.root||{},I=C({className:ae(L.root,A.className,c),disabled:y},D);let F=d||"li";return a&&(I.component=d||"div",I.focusVisibleClassName=ae(Hs.focusVisible,b),F=Jr),M?(F=!I.component&&!d?"div":F,f==="li"&&(F==="li"?F="div":I.component==="li"&&(I.component="div")),s.jsx(Er.Provider,{value:T,children:s.jsxs(KN,C({as:f,className:ae(L.container,g),ref:R,ownerState:P},_,{children:[s.jsx(B,C({},A,!io(B)&&{as:F,ownerState:C({},P,A.ownerState)},I,{children:O})),O.pop()]}))})):s.jsx(Er.Provider,{value:T,children:s.jsxs(B,C({},A,{as:F,ref:R},!io(B)&&{ownerState:C({},P,A.ownerState)},I,{children:[O,w&&s.jsx(ms,{children:w})]}))})});function QN(e){return ye("MuiListItemIcon",e)}const Xf=xe("MuiListItemIcon",["root","alignItemsFlexStart"]),XN=["className"],ZN=e=>{const{alignItems:t,classes:n}=e;return we({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},QN,n)},JN=Q("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.alignItems==="flex-start"&&t.alignItemsFlexStart]}})(({theme:e,ownerState:t})=>C({minWidth:56,color:(e.vars||e).palette.action.active,flexShrink:0,display:"inline-flex"},t.alignItems==="flex-start"&&{marginTop:8})),Qc=h.forwardRef(function(t,n){const r=_e({props:t,name:"MuiListItemIcon"}),{className:o}=r,i=ne(r,XN),a=h.useContext(Er),l=C({},r,{alignItems:a.alignItems}),c=ZN(l);return s.jsx(JN,C({className:ae(c.root,o),ownerState:l,ref:n},i))});function eI(e){return ye("MuiListItemText",e)}const cl=xe("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),tI=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],nI=e=>{const{classes:t,inset:n,primary:r,secondary:o,dense:i}=e;return we({root:["root",n&&"inset",i&&"dense",r&&o&&"multiline"],primary:["primary"],secondary:["secondary"]},eI,t)},rI=Q("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${cl.primary}`]:t.primary},{[`& .${cl.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})(({ownerState:e})=>C({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56})),lr=h.forwardRef(function(t,n){const r=_e({props:t,name:"MuiListItemText"}),{children:o,className:i,disableTypography:a=!1,inset:l=!1,primary:c,primaryTypographyProps:d,secondary:u,secondaryTypographyProps:p}=r,f=ne(r,tI),{dense:g}=h.useContext(Er);let v=c??o,y=u;const m=C({},r,{disableTypography:a,inset:l,primary:!!v,secondary:!!y,dense:g}),x=nI(m);return v!=null&&v.type!==z&&!a&&(v=s.jsx(z,C({variant:g?"body2":"body1",className:x.primary,component:d!=null&&d.variant?void 0:"span",display:"block"},d,{children:v}))),y!=null&&y.type!==z&&!a&&(y=s.jsx(z,C({variant:"body2",className:x.secondary,color:"text.secondary",display:"block"},p,{children:y}))),s.jsxs(rI,C({className:ae(x.root,i),ownerState:m,ref:n},f,{children:[v,y]}))}),sI=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Xc(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function Zf(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function Qy(e,t){if(t===void 0)return!0;let n=e.innerText;return n===void 0&&(n=e.textContent),n=n.trim().toLowerCase(),n.length===0?!1:t.repeating?n[0]===t.keys[0]:n.indexOf(t.keys.join(""))===0}function Jo(e,t,n,r,o,i){let a=!1,l=o(e,t,t?n:!1);for(;l;){if(l===e.firstChild){if(a)return!1;a=!0}const c=r?!1:l.disabled||l.getAttribute("aria-disabled")==="true";if(!l.hasAttribute("tabindex")||!Qy(l,i)||c)l=o(e,l,n);else return l.focus(),!0}return!1}const oI=h.forwardRef(function(t,n){const{actions:r,autoFocus:o=!1,autoFocusItem:i=!1,children:a,className:l,disabledItemsFocusable:c=!1,disableListWrap:d=!1,onKeyDown:u,variant:p="selectedMenu"}=t,f=ne(t,sI),g=h.useRef(null),v=h.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});dn(()=>{o&&g.current.focus()},[o]),h.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(b,{direction:w})=>{const N=!g.current.style.width;if(b.clientHeight<g.current.clientHeight&&N){const k=`${Vg(Ut(b))}px`;g.current.style[w==="rtl"?"paddingLeft":"paddingRight"]=k,g.current.style.width=`calc(100% + ${k})`}return g.current}}),[]);const y=b=>{const w=g.current,N=b.key,k=Ut(w).activeElement;if(N==="ArrowDown")b.preventDefault(),Jo(w,k,d,c,Xc);else if(N==="ArrowUp")b.preventDefault(),Jo(w,k,d,c,Zf);else if(N==="Home")b.preventDefault(),Jo(w,null,d,c,Xc);else if(N==="End")b.preventDefault(),Jo(w,null,d,c,Zf);else if(N.length===1){const E=v.current,_=N.toLowerCase(),D=performance.now();E.keys.length>0&&(D-E.lastTime>500?(E.keys=[],E.repeating=!0,E.previousKeyMatched=!0):E.repeating&&_!==E.keys[0]&&(E.repeating=!1)),E.lastTime=D,E.keys.push(_);const S=k&&!E.repeating&&Qy(k,E);E.previousKeyMatched&&(S||Jo(w,k,!1,c,Xc,E))?b.preventDefault():E.previousKeyMatched=!1}u&&u(b)},m=jt(g,n);let x=-1;h.Children.forEach(a,(b,w)=>{if(!h.isValidElement(b)){x===w&&(x+=1,x>=a.length&&(x=-1));return}b.props.disabled||(p==="selectedMenu"&&b.props.selected||x===-1)&&(x=w),x===w&&(b.props.disabled||b.props.muiSkipListHighlight||b.type.muiSkipListHighlight)&&(x+=1,x>=a.length&&(x=-1))});const j=h.Children.map(a,(b,w)=>{if(w===x){const N={};return i&&(N.autoFocus=!0),b.props.tabIndex===void 0&&p==="selectedMenu"&&(N.tabIndex=0),h.cloneElement(b,N)}return b});return s.jsx(yo,C({role:"menu",ref:m,className:l,onKeyDown:y,tabIndex:o?0:-1},f,{children:j}))});function iI(e){return ye("MuiPopover",e)}xe("MuiPopover",["root","paper"]);const aI=["onEntering"],lI=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],cI=["slotProps"];function Jf(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.height/2:t==="bottom"&&(n=e.height),n}function em(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.width/2:t==="right"&&(n=e.width),n}function tm(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function Zc(e){return typeof e=="function"?e():e}const dI=e=>{const{classes:t}=e;return we({root:["root"],paper:["paper"]},iI,t)},uI=Q(Vy,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Xy=Q(un,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),pI=h.forwardRef(function(t,n){var r,o,i;const a=_e({props:t,name:"MuiPopover"}),{action:l,anchorEl:c,anchorOrigin:d={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:p="anchorEl",children:f,className:g,container:v,elevation:y=8,marginThreshold:m=16,open:x,PaperProps:j={},slots:b,slotProps:w,transformOrigin:N={vertical:"top",horizontal:"left"},TransitionComponent:k=Ii,transitionDuration:E="auto",TransitionProps:{onEntering:_}={},disableScrollLock:D=!1}=a,S=ne(a.TransitionProps,aI),T=ne(a,lI),$=(r=w==null?void 0:w.paper)!=null?r:j,O=h.useRef(),M=jt(O,$.ref),P=C({},a,{anchorOrigin:d,anchorReference:p,elevation:y,marginThreshold:m,externalPaperSlotProps:$,transformOrigin:N,TransitionComponent:k,transitionDuration:E,TransitionProps:S}),L=dI(P),R=h.useCallback(()=>{if(p==="anchorPosition")return u;const U=Zc(c),he=(U&&U.nodeType===1?U:Ut(O.current).body).getBoundingClientRect();return{top:he.top+Jf(he,d.vertical),left:he.left+em(he,d.horizontal)}},[c,d.horizontal,d.vertical,u,p]),B=h.useCallback(U=>({vertical:Jf(U,N.vertical),horizontal:em(U,N.horizontal)}),[N.horizontal,N.vertical]),A=h.useCallback(U=>{const oe={width:U.offsetWidth,height:U.offsetHeight},he=B(oe);if(p==="none")return{top:null,left:null,transformOrigin:tm(he)};const Z=R();let le=Z.top-he.vertical,ce=Z.left-he.horizontal;const te=le+oe.height,ke=ce+oe.width,pe=ws(Zc(c)),De=pe.innerHeight-m,Re=pe.innerWidth-m;if(m!==null&&le<m){const Ee=le-m;le-=Ee,he.vertical+=Ee}else if(m!==null&&te>De){const Ee=te-De;le-=Ee,he.vertical+=Ee}if(m!==null&&ce<m){const Ee=ce-m;ce-=Ee,he.horizontal+=Ee}else if(ke>Re){const Ee=ke-Re;ce-=Ee,he.horizontal+=Ee}return{top:`${Math.round(le)}px`,left:`${Math.round(ce)}px`,transformOrigin:tm(he)}},[c,p,R,B,m]),[I,F]=h.useState(x),V=h.useCallback(()=>{const U=O.current;if(!U)return;const oe=A(U);oe.top!==null&&(U.style.top=oe.top),oe.left!==null&&(U.style.left=oe.left),U.style.transformOrigin=oe.transformOrigin,F(!0)},[A]);h.useEffect(()=>(D&&window.addEventListener("scroll",V),()=>window.removeEventListener("scroll",V)),[c,D,V]);const Y=(U,oe)=>{_&&_(U,oe),V()},W=()=>{F(!1)};h.useEffect(()=>{x&&V()}),h.useImperativeHandle(l,()=>x?{updatePosition:()=>{V()}}:null,[x,V]),h.useEffect(()=>{if(!x)return;const U=Hg(()=>{V()}),oe=ws(c);return oe.addEventListener("resize",U),()=>{U.clear(),oe.removeEventListener("resize",U)}},[c,x,V]);let G=E;E==="auto"&&!k.muiSupportAuto&&(G=void 0);const H=v||(c?Ut(Zc(c)).body:void 0),K=(o=b==null?void 0:b.root)!=null?o:uI,X=(i=b==null?void 0:b.paper)!=null?i:Xy,q=Xr({elementType:X,externalSlotProps:C({},$,{style:I?$.style:C({},$.style,{opacity:0})}),additionalProps:{elevation:y,ref:M},ownerState:P,className:ae(L.paper,$==null?void 0:$.className)}),ie=Xr({elementType:K,externalSlotProps:(w==null?void 0:w.root)||{},externalForwardedProps:T,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:H,open:x},ownerState:P,className:ae(L.root,g)}),{slotProps:J}=ie,de=ne(ie,cI);return s.jsx(K,C({},de,!io(K)&&{slotProps:J,disableScrollLock:D},{children:s.jsx(k,C({appear:!0,in:x,onEntering:Y,onExited:W,timeout:G},S,{children:s.jsx(X,C({},q,{children:f}))}))}))});function hI(e){return ye("MuiMenu",e)}xe("MuiMenu",["root","paper","list"]);const fI=["onEntering"],mI=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],gI={vertical:"top",horizontal:"right"},vI={vertical:"top",horizontal:"left"},yI=e=>{const{classes:t}=e;return we({root:["root"],paper:["paper"],list:["list"]},hI,t)},xI=Q(pI,{shouldForwardProp:e=>xn(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),bI=Q(Xy,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),wI=Q(oI,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),CI=h.forwardRef(function(t,n){var r,o;const i=_e({props:t,name:"MuiMenu"}),{autoFocus:a=!0,children:l,className:c,disableAutoFocusItem:d=!1,MenuListProps:u={},onClose:p,open:f,PaperProps:g={},PopoverClasses:v,transitionDuration:y="auto",TransitionProps:{onEntering:m}={},variant:x="selectedMenu",slots:j={},slotProps:b={}}=i,w=ne(i.TransitionProps,fI),N=ne(i,mI),k=Tu(),E=C({},i,{autoFocus:a,disableAutoFocusItem:d,MenuListProps:u,onEntering:m,PaperProps:g,transitionDuration:y,TransitionProps:w,variant:x}),_=yI(E),D=a&&!d&&f,S=h.useRef(null),T=(B,A)=>{S.current&&S.current.adjustStyleForScrollbar(B,{direction:k?"rtl":"ltr"}),m&&m(B,A)},$=B=>{B.key==="Tab"&&(B.preventDefault(),p&&p(B,"tabKeyDown"))};let O=-1;h.Children.map(l,(B,A)=>{h.isValidElement(B)&&(B.props.disabled||(x==="selectedMenu"&&B.props.selected||O===-1)&&(O=A))});const M=(r=j.paper)!=null?r:bI,P=(o=b.paper)!=null?o:g,L=Xr({elementType:j.root,externalSlotProps:b.root,ownerState:E,className:[_.root,c]}),R=Xr({elementType:M,externalSlotProps:P,ownerState:E,className:_.paper});return s.jsx(xI,C({onClose:p,anchorOrigin:{vertical:"bottom",horizontal:k?"right":"left"},transformOrigin:k?gI:vI,slots:{paper:M,root:j.root},slotProps:{root:L,paper:R},open:f,ref:n,transitionDuration:y,TransitionProps:C({onEntering:T},w),ownerState:E},N,{classes:v,children:s.jsx(wI,C({onKeyDown:$,actions:S,autoFocus:a&&(O===-1||d),autoFocusItem:D,variant:x},u,{className:ae(_.list,u.className),children:l}))}))});function jI(e){return ye("MuiMenuItem",e)}const ei=xe("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),kI=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],SI=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]},_I=e=>{const{disabled:t,dense:n,divider:r,disableGutters:o,selected:i,classes:a}=e,c=we({root:["root",n&&"dense",t&&"disabled",!o&&"gutters",r&&"divider",i&&"selected"]},jI,a);return C({},a,c)},TI=Q(Jr,{shouldForwardProp:e=>xn(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:SI})(({theme:e,ownerState:t})=>C({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${ei.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Ue(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${ei.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Ue(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${ei.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Ue(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Ue(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${ei.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${ei.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${Bf.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${Bf.inset}`]:{marginLeft:52},[`& .${cl.root}`]:{marginTop:0,marginBottom:0},[`& .${cl.inset}`]:{paddingLeft:36},[`& .${Xf.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&C({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${Xf.root} svg`]:{fontSize:"1.25rem"}}))),It=h.forwardRef(function(t,n){const r=_e({props:t,name:"MuiMenuItem"}),{autoFocus:o=!1,component:i="li",dense:a=!1,divider:l=!1,disableGutters:c=!1,focusVisibleClassName:d,role:u="menuitem",tabIndex:p,className:f}=r,g=ne(r,kI),v=h.useContext(Er),y=h.useMemo(()=>({dense:a||v.dense||!1,disableGutters:c}),[v.dense,a,c]),m=h.useRef(null);dn(()=>{o&&m.current&&m.current.focus()},[o]);const x=C({},r,{dense:y.dense,divider:l,disableGutters:c}),j=_I(r),b=jt(m,n);let w;return r.disabled||(w=p!==void 0?p:-1),s.jsx(Er.Provider,{value:y,children:s.jsx(TI,C({ref:b,role:u,tabIndex:w,component:i,focusVisibleClassName:ae(j.focusVisible,d),className:ae(j.root,f)},g,{ownerState:x,classes:j}))})});function EI(e){return ye("MuiNativeSelect",e)}const vp=xe("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),MI=["className","disabled","error","IconComponent","inputRef","variant"],PI=e=>{const{classes:t,variant:n,disabled:r,multiple:o,open:i,error:a}=e,l={select:["select",n,r&&"disabled",o&&"multiple",a&&"error"],icon:["icon",`icon${ee(n)}`,i&&"iconOpen",r&&"disabled"]};return we(l,EI,t)},Zy=({ownerState:e,theme:t})=>C({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":C({},t.vars?{backgroundColor:`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:t.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${vp.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},e.variant==="filled"&&{"&&&":{paddingRight:32}},e.variant==="outlined"&&{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}),NI=Q("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:xn,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${vp.multiple}`]:t.multiple}]}})(Zy),Jy=({ownerState:e,theme:t})=>C({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${vp.disabled}`]:{color:(t.vars||t).palette.action.disabled}},e.open&&{transform:"rotate(180deg)"},e.variant==="filled"&&{right:7},e.variant==="outlined"&&{right:7}),II=Q("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${ee(n.variant)}`],n.open&&t.iconOpen]}})(Jy),DI=h.forwardRef(function(t,n){const{className:r,disabled:o,error:i,IconComponent:a,inputRef:l,variant:c="standard"}=t,d=ne(t,MI),u=C({},t,{disabled:o,variant:c,error:i}),p=PI(u);return s.jsxs(h.Fragment,{children:[s.jsx(NI,C({ownerState:u,className:ae(p.select,r),disabled:o,ref:l||n},d)),t.multiple?null:s.jsx(II,{as:a,ownerState:u,className:p.icon})]})});var nm;const RI=["children","classes","className","label","notched"],AI=Q("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:xn})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),$I=Q("legend",{name:"MuiNotchedOutlined",shouldForwardProp:xn})(({ownerState:e,theme:t})=>C({float:"unset",width:"auto",overflow:"hidden"},!e.withLabel&&{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},e.withLabel&&C({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},e.notched&&{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})})));function OI(e){const{className:t,label:n,notched:r}=e,o=ne(e,RI),i=n!=null&&n!=="",a=C({},e,{notched:r,withLabel:i});return s.jsx(AI,C({"aria-hidden":!0,className:t,ownerState:a},o,{children:s.jsx($I,{ownerState:a,children:i?s.jsx("span",{children:n}):nm||(nm=s.jsx("span",{className:"notranslate",children:"​"}))})}))}const LI=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],BI=e=>{const{classes:t}=e,r=we({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},SE,t);return C({},t,r)},FI=Q(cc,{shouldForwardProp:e=>xn(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:ac})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return C({position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${Fr.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${Fr.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${Fr.focused} .${Fr.notchedOutline}`]:{borderColor:(e.vars||e).palette[t.color].main,borderWidth:2},[`&.${Fr.error} .${Fr.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${Fr.disabled} .${Fr.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}},t.startAdornment&&{paddingLeft:14},t.endAdornment&&{paddingRight:14},t.multiline&&C({padding:"16.5px 14px"},t.size==="small"&&{padding:"8.5px 14px"}))}),zI=Q(OI,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),WI=Q(dc,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:lc})(({theme:e,ownerState:t})=>C({padding:"16.5px 14px"},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{padding:"8.5px 14px"},t.multiline&&{padding:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0})),yp=h.forwardRef(function(t,n){var r,o,i,a,l;const c=_e({props:t,name:"MuiOutlinedInput"}),{components:d={},fullWidth:u=!1,inputComponent:p="input",label:f,multiline:g=!1,notched:v,slots:y={},type:m="text"}=c,x=ne(c,LI),j=BI(c),b=yr(),w=ss({props:c,muiFormControl:b,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),N=C({},c,{color:w.color||"primary",disabled:w.disabled,error:w.error,focused:w.focused,formControl:b,fullWidth:u,hiddenLabel:w.hiddenLabel,multiline:g,size:w.size,type:m}),k=(r=(o=y.root)!=null?o:d.Root)!=null?r:FI,E=(i=(a=y.input)!=null?a:d.Input)!=null?i:WI;return s.jsx(hp,C({slots:{root:k,input:E},renderSuffix:_=>s.jsx(zI,{ownerState:N,className:j.notchedOutline,label:f!=null&&f!==""&&w.required?l||(l=s.jsxs(h.Fragment,{children:[f," ","*"]})):f,notched:typeof v<"u"?v:!!(_.startAdornment||_.filled||_.focused)}),fullWidth:u,inputComponent:p,multiline:g,ref:n,type:m},x,{classes:C({},j,{notchedOutline:null})}))});yp.muiName="Input";function HI(e){return ye("MuiSelect",e)}const ti=xe("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var rm;const UI=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],VI=Q("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${ti.select}`]:t.select},{[`&.${ti.select}`]:t[n.variant]},{[`&.${ti.error}`]:t.error},{[`&.${ti.multiple}`]:t.multiple}]}})(Zy,{[`&.${ti.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),YI=Q("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${ee(n.variant)}`],n.open&&t.iconOpen]}})(Jy),GI=Q("input",{shouldForwardProp:e=>dv(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function sm(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function qI(e){return e==null||typeof e=="string"&&!e.trim()}const KI=e=>{const{classes:t,variant:n,disabled:r,multiple:o,open:i,error:a}=e,l={select:["select",n,r&&"disabled",o&&"multiple",a&&"error"],icon:["icon",`icon${ee(n)}`,i&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return we(l,HI,t)},QI=h.forwardRef(function(t,n){var r;const{"aria-describedby":o,"aria-label":i,autoFocus:a,autoWidth:l,children:c,className:d,defaultOpen:u,defaultValue:p,disabled:f,displayEmpty:g,error:v=!1,IconComponent:y,inputRef:m,labelId:x,MenuProps:j={},multiple:b,name:w,onBlur:N,onChange:k,onClose:E,onFocus:_,onOpen:D,open:S,readOnly:T,renderValue:$,SelectDisplayProps:O={},tabIndex:M,value:P,variant:L="standard"}=t,R=ne(t,UI),[B,A]=fr({controlled:P,default:p,name:"Select"}),[I,F]=fr({controlled:S,default:u,name:"Select"}),V=h.useRef(null),Y=h.useRef(null),[W,G]=h.useState(null),{current:H}=h.useRef(S!=null),[K,X]=h.useState(),q=jt(n,m),ie=h.useCallback(Me=>{Y.current=Me,Me&&G(Me)},[]),J=W==null?void 0:W.parentNode;h.useImperativeHandle(q,()=>({focus:()=>{Y.current.focus()},node:V.current,value:B}),[B]),h.useEffect(()=>{u&&I&&W&&!H&&(X(l?null:J.clientWidth),Y.current.focus())},[W,l]),h.useEffect(()=>{a&&Y.current.focus()},[a]),h.useEffect(()=>{if(!x)return;const Me=Ut(Y.current).getElementById(x);if(Me){const tt=()=>{getSelection().isCollapsed&&Y.current.focus()};return Me.addEventListener("click",tt),()=>{Me.removeEventListener("click",tt)}}},[x]);const de=(Me,tt)=>{Me?D&&D(tt):E&&E(tt),H||(X(l?null:J.clientWidth),F(Me))},U=Me=>{Me.button===0&&(Me.preventDefault(),Y.current.focus(),de(!0,Me))},oe=Me=>{de(!1,Me)},he=h.Children.toArray(c),Z=Me=>{const tt=he.find(mt=>mt.props.value===Me.target.value);tt!==void 0&&(A(tt.props.value),k&&k(Me,tt))},le=Me=>tt=>{let mt;if(tt.currentTarget.hasAttribute("tabindex")){if(b){mt=Array.isArray(B)?B.slice():[];const sn=B.indexOf(Me.props.value);sn===-1?mt.push(Me.props.value):mt.splice(sn,1)}else mt=Me.props.value;if(Me.props.onClick&&Me.props.onClick(tt),B!==mt&&(A(mt),k)){const sn=tt.nativeEvent||tt,Ft=new sn.constructor(sn.type,sn);Object.defineProperty(Ft,"target",{writable:!0,value:{value:mt,name:w}}),k(Ft,Me)}b||de(!1,tt)}},ce=Me=>{T||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Me.key)!==-1&&(Me.preventDefault(),de(!0,Me))},te=W!==null&&I,ke=Me=>{!te&&N&&(Object.defineProperty(Me,"target",{writable:!0,value:{value:B,name:w}}),N(Me))};delete R["aria-invalid"];let pe,De;const Re=[];let Ee=!1;(al({value:B})||g)&&($?pe=$(B):Ee=!0);const et=he.map(Me=>{if(!h.isValidElement(Me))return null;let tt;if(b){if(!Array.isArray(B))throw new Error(Pr(2));tt=B.some(mt=>sm(mt,Me.props.value)),tt&&Ee&&Re.push(Me.props.children)}else tt=sm(B,Me.props.value),tt&&Ee&&(De=Me.props.children);return h.cloneElement(Me,{"aria-selected":tt?"true":"false",onClick:le(Me),onKeyUp:mt=>{mt.key===" "&&mt.preventDefault(),Me.props.onKeyUp&&Me.props.onKeyUp(mt)},role:"option",selected:tt,value:void 0,"data-value":Me.props.value})});Ee&&(b?Re.length===0?pe=null:pe=Re.reduce((Me,tt,mt)=>(Me.push(tt),mt<Re.length-1&&Me.push(", "),Me),[]):pe=De);let ht=K;!l&&H&&W&&(ht=J.clientWidth);let fe;typeof M<"u"?fe=M:fe=f?null:0;const ue=O.id||(w?`mui-component-select-${w}`:void 0),me=C({},t,{variant:L,value:B,open:te,error:v}),Ae=KI(me),Bt=C({},j.PaperProps,(r=j.slotProps)==null?void 0:r.paper),Tt=Mo();return s.jsxs(h.Fragment,{children:[s.jsx(VI,C({ref:ie,tabIndex:fe,role:"combobox","aria-controls":Tt,"aria-disabled":f?"true":void 0,"aria-expanded":te?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[x,ue].filter(Boolean).join(" ")||void 0,"aria-describedby":o,onKeyDown:ce,onMouseDown:f||T?null:U,onBlur:ke,onFocus:_},O,{ownerState:me,className:ae(O.className,Ae.select,d),id:ue,children:qI(pe)?rm||(rm=s.jsx("span",{className:"notranslate",children:"​"})):pe})),s.jsx(GI,C({"aria-invalid":v,value:Array.isArray(B)?B.join(","):B,name:w,ref:V,"aria-hidden":!0,onChange:Z,tabIndex:-1,disabled:f,className:Ae.nativeInput,autoFocus:a,ownerState:me},R)),s.jsx(YI,{as:y,className:Ae.icon,ownerState:me}),s.jsx(CI,C({id:`menu-${w||""}`,anchorEl:J,open:te,onClose:oe,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},j,{MenuListProps:C({"aria-labelledby":x,role:"listbox","aria-multiselectable":b?"true":void 0,disableListWrap:!0,id:Tt},j.MenuListProps),slotProps:C({},j.slotProps,{paper:C({},Bt,{style:C({minWidth:ht},Bt!=null?Bt.style:null)})}),children:et}))]})}),XI=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],ZI=["root"],JI=e=>{const{classes:t}=e;return t},xp={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>xn(e)&&e!=="variant",slot:"Root"},eD=Q(mp,xp)(""),tD=Q(yp,xp)(""),nD=Q(fp,xp)(""),vr=h.forwardRef(function(t,n){const r=_e({name:"MuiSelect",props:t}),{autoWidth:o=!1,children:i,classes:a={},className:l,defaultOpen:c=!1,displayEmpty:d=!1,IconComponent:u=TE,id:p,input:f,inputProps:g,label:v,labelId:y,MenuProps:m,multiple:x=!1,native:j=!1,onClose:b,onOpen:w,open:N,renderValue:k,SelectDisplayProps:E,variant:_="outlined"}=r,D=ne(r,XI),S=j?DI:QI,T=yr(),$=ss({props:r,muiFormControl:T,states:["variant","error"]}),O=$.variant||_,M=C({},r,{variant:O,classes:a}),P=JI(M),L=ne(P,ZI),R=f||{standard:s.jsx(eD,{ownerState:M}),outlined:s.jsx(tD,{label:v,ownerState:M}),filled:s.jsx(nD,{ownerState:M})}[O],B=jt(n,Ms(R));return s.jsx(h.Fragment,{children:h.cloneElement(R,C({inputComponent:S,inputProps:C({children:i,error:$.error,IconComponent:u,variant:O,type:void 0,multiple:x},j?{id:p}:{autoWidth:o,defaultOpen:c,displayEmpty:d,labelId:y,MenuProps:m,onClose:b,onOpen:w,open:N,renderValue:k,SelectDisplayProps:C({id:p},E)},g,{classes:g?cn(L,g.classes):L},f?f.props.inputProps:{})},(x&&j||d)&&O==="outlined"?{notched:!0}:{},{ref:B,className:ae(R.props.className,l,P.root)},!f&&{variant:O},D))})});vr.muiName="Select";function rD(e={}){const{autoHideDuration:t=null,disableWindowBlurListener:n=!1,onClose:r,open:o,resumeHideDuration:i}=e,a=Hr();h.useEffect(()=>{if(!o)return;function x(j){j.defaultPrevented||(j.key==="Escape"||j.key==="Esc")&&(r==null||r(j,"escapeKeyDown"))}return document.addEventListener("keydown",x),()=>{document.removeEventListener("keydown",x)}},[o,r]);const l=Oe((x,j)=>{r==null||r(x,j)}),c=Oe(x=>{!r||x==null||a.start(x,()=>{l(null,"timeout")})});h.useEffect(()=>(o&&c(t),a.clear),[o,t,c,a]);const d=x=>{r==null||r(x,"clickaway")},u=a.clear,p=h.useCallback(()=>{t!=null&&c(i??t*.5)},[t,i,c]),f=x=>j=>{const b=x.onBlur;b==null||b(j),p()},g=x=>j=>{const b=x.onFocus;b==null||b(j),u()},v=x=>j=>{const b=x.onMouseEnter;b==null||b(j),u()},y=x=>j=>{const b=x.onMouseLeave;b==null||b(j),p()};return h.useEffect(()=>{if(!n&&o)return window.addEventListener("focus",p),window.addEventListener("blur",u),()=>{window.removeEventListener("focus",p),window.removeEventListener("blur",u)}},[n,o,p,u]),{getRootProps:(x={})=>{const j=C({},Ua(e),Ua(x));return C({role:"presentation"},x,j,{onBlur:f(j),onFocus:g(j),onMouseEnter:v(j),onMouseLeave:y(j)})},onClickAway:d}}function sD(e){return ye("MuiSnackbarContent",e)}xe("MuiSnackbarContent",["root","message","action"]);const oD=["action","className","message","role"],iD=e=>{const{classes:t}=e;return we({root:["root"],action:["action"],message:["message"]},sD,t)},aD=Q(un,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>{const t=e.palette.mode==="light"?.8:.98,n=mC(e.palette.background.default,t);return C({},e.typography.body2,{color:e.vars?e.vars.palette.SnackbarContent.color:e.palette.getContrastText(n),backgroundColor:e.vars?e.vars.palette.SnackbarContent.bg:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,flexGrow:1,[e.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),lD=Q("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0"}),cD=Q("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),dD=h.forwardRef(function(t,n){const r=_e({props:t,name:"MuiSnackbarContent"}),{action:o,className:i,message:a,role:l="alert"}=r,c=ne(r,oD),d=r,u=iD(d);return s.jsxs(aD,C({role:l,square:!0,elevation:6,className:ae(u.root,i),ownerState:d,ref:n},c,{children:[s.jsx(lD,{className:u.message,ownerState:d,children:a}),o?s.jsx(cD,{className:u.action,ownerState:d,children:o}):null]}))});function uD(e){return ye("MuiSnackbar",e)}xe("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const pD=["onEnter","onExited"],hD=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],fD=e=>{const{classes:t,anchorOrigin:n}=e,r={root:["root",`anchorOrigin${ee(n.vertical)}${ee(n.horizontal)}`]};return we(r,uD,t)},om=Q("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`anchorOrigin${ee(n.anchorOrigin.vertical)}${ee(n.anchorOrigin.horizontal)}`]]}})(({theme:e,ownerState:t})=>{const n={left:"50%",right:"auto",transform:"translateX(-50%)"};return C({zIndex:(e.vars||e).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},t.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},t.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},t.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[e.breakpoints.up("sm")]:C({},t.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},t.anchorOrigin.horizontal==="center"&&n,t.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},t.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),ex=h.forwardRef(function(t,n){const r=_e({props:t,name:"MuiSnackbar"}),o=Kn(),i={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{action:a,anchorOrigin:{vertical:l,horizontal:c}={vertical:"bottom",horizontal:"left"},autoHideDuration:d=null,children:u,className:p,ClickAwayListenerProps:f,ContentProps:g,disableWindowBlurListener:v=!1,message:y,open:m,TransitionComponent:x=Ii,transitionDuration:j=i,TransitionProps:{onEnter:b,onExited:w}={}}=r,N=ne(r.TransitionProps,pD),k=ne(r,hD),E=C({},r,{anchorOrigin:{vertical:l,horizontal:c},autoHideDuration:d,disableWindowBlurListener:v,TransitionComponent:x,transitionDuration:j}),_=fD(E),{getRootProps:D,onClickAway:S}=rD(C({},E)),[T,$]=h.useState(!0),O=Xr({elementType:om,getSlotProps:D,externalForwardedProps:k,ownerState:E,additionalProps:{ref:n},className:[_.root,p]}),M=L=>{$(!0),w&&w(L)},P=(L,R)=>{$(!1),b&&b(L,R)};return!m&&T?null:s.jsx(EM,C({onClickAway:S},f,{children:s.jsx(om,C({},O,{children:s.jsx(x,C({appear:!0,in:m,timeout:j,direction:l==="top"?"down":"up",onEnter:P,onExited:M},N,{children:u||s.jsx(dD,C({message:y,action:a},g))}))}))}))});function mD(e){return ye("MuiTooltip",e)}const Vr=xe("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),gD=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function vD(e){return Math.round(e*1e5)/1e5}const yD=e=>{const{classes:t,disableInteractive:n,arrow:r,touch:o,placement:i}=e,a={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",o&&"touch",`tooltipPlacement${ee(i.split("-")[0])}`],arrow:["arrow"]};return we(a,mD,t)},xD=Q(zy,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})(({theme:e,ownerState:t,open:n})=>C({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none"},!t.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},t.arrow&&{[`&[data-popper-placement*="bottom"] .${Vr.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Vr.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Vr.arrow}`]:C({},t.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${Vr.arrow}`]:C({},t.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),bD=Q("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t[`tooltipPlacement${ee(n.placement.split("-")[0])}`]]}})(({theme:e,ownerState:t})=>C({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:Ue(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},t.arrow&&{position:"relative",margin:0},t.touch&&{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${vD(16/14)}em`,fontWeight:e.typography.fontWeightRegular},{[`.${Vr.popper}[data-popper-placement*="left"] &`]:C({transformOrigin:"right center"},t.isRtl?C({marginLeft:"14px"},t.touch&&{marginLeft:"24px"}):C({marginRight:"14px"},t.touch&&{marginRight:"24px"})),[`.${Vr.popper}[data-popper-placement*="right"] &`]:C({transformOrigin:"left center"},t.isRtl?C({marginRight:"14px"},t.touch&&{marginRight:"24px"}):C({marginLeft:"14px"},t.touch&&{marginLeft:"24px"})),[`.${Vr.popper}[data-popper-placement*="top"] &`]:C({transformOrigin:"center bottom",marginBottom:"14px"},t.touch&&{marginBottom:"24px"}),[`.${Vr.popper}[data-popper-placement*="bottom"] &`]:C({transformOrigin:"center top",marginTop:"14px"},t.touch&&{marginTop:"24px"})})),wD=Q("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:Ue(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let ma=!1;const im=new Ui;let ni={x:0,y:0};function ga(e,t){return(n,...r)=>{t&&t(n,...r),e(n,...r)}}const am=h.forwardRef(function(t,n){var r,o,i,a,l,c,d,u,p,f,g,v,y,m,x,j,b,w,N;const k=_e({props:t,name:"MuiTooltip"}),{arrow:E=!1,children:_,components:D={},componentsProps:S={},describeChild:T=!1,disableFocusListener:$=!1,disableHoverListener:O=!1,disableInteractive:M=!1,disableTouchListener:P=!1,enterDelay:L=100,enterNextDelay:R=0,enterTouchDelay:B=700,followCursor:A=!1,id:I,leaveDelay:F=0,leaveTouchDelay:V=1500,onClose:Y,onOpen:W,open:G,placement:H="bottom",PopperComponent:K,PopperProps:X={},slotProps:q={},slots:ie={},title:J,TransitionComponent:de=Ii,TransitionProps:U}=k,oe=ne(k,gD),he=h.isValidElement(_)?_:s.jsx("span",{children:_}),Z=Kn(),le=Tu(),[ce,te]=h.useState(),[ke,pe]=h.useState(null),De=h.useRef(!1),Re=M||A,Ee=Hr(),et=Hr(),ht=Hr(),fe=Hr(),[ue,me]=fr({controlled:G,default:!1,name:"Tooltip",state:"open"});let Ae=ue;const Bt=Mo(I),Tt=h.useRef(),Me=Oe(()=>{Tt.current!==void 0&&(document.body.style.WebkitUserSelect=Tt.current,Tt.current=void 0),fe.clear()});h.useEffect(()=>Me,[Me]);const tt=He=>{im.clear(),ma=!0,me(!0),W&&!Ae&&W(He)},mt=Oe(He=>{im.start(800+F,()=>{ma=!1}),me(!1),Y&&Ae&&Y(He),Ee.start(Z.transitions.duration.shortest,()=>{De.current=!1})}),sn=He=>{De.current&&He.type!=="touchstart"||(ce&&ce.removeAttribute("title"),et.clear(),ht.clear(),L||ma&&R?et.start(ma?R:L,()=>{tt(He)}):tt(He))},Ft=He=>{et.clear(),ht.start(F,()=>{mt(He)})},{isFocusVisibleRef:bn,onBlur:Qn,onFocus:br,ref:Xn}=Ug(),[,Br]=h.useState(!1),Is=He=>{Qn(He),bn.current===!1&&(Br(!1),Ft(He))},xt=He=>{ce||te(He.currentTarget),br(He),bn.current===!0&&(Br(!0),sn(He))},wn=He=>{De.current=!0;const Cn=he.props;Cn.onTouchStart&&Cn.onTouchStart(He)},os=He=>{wn(He),ht.clear(),Ee.clear(),Me(),Tt.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",fe.start(B,()=>{document.body.style.WebkitUserSelect=Tt.current,sn(He)})},Zn=He=>{he.props.onTouchEnd&&he.props.onTouchEnd(He),Me(),ht.start(V,()=>{mt(He)})};h.useEffect(()=>{if(!Ae)return;function He(Cn){(Cn.key==="Escape"||Cn.key==="Esc")&&mt(Cn)}return document.addEventListener("keydown",He),()=>{document.removeEventListener("keydown",He)}},[mt,Ae]);const ob=jt(Ms(he),Xn,te,n);!J&&J!==0&&(Ae=!1);const Tc=h.useRef(),ib=He=>{const Cn=he.props;Cn.onMouseMove&&Cn.onMouseMove(He),ni={x:He.clientX,y:He.clientY},Tc.current&&Tc.current.update()},zo={},Ec=typeof J=="string";T?(zo.title=!Ae&&Ec&&!O?J:null,zo["aria-describedby"]=Ae?Bt:null):(zo["aria-label"]=Ec?J:null,zo["aria-labelledby"]=Ae&&!Ec?Bt:null);const Un=C({},zo,oe,he.props,{className:ae(oe.className,he.props.className),onTouchStart:wn,ref:ob},A?{onMouseMove:ib}:{}),Wo={};P||(Un.onTouchStart=os,Un.onTouchEnd=Zn),O||(Un.onMouseOver=ga(sn,Un.onMouseOver),Un.onMouseLeave=ga(Ft,Un.onMouseLeave),Re||(Wo.onMouseOver=sn,Wo.onMouseLeave=Ft)),$||(Un.onFocus=ga(xt,Un.onFocus),Un.onBlur=ga(Is,Un.onBlur),Re||(Wo.onFocus=xt,Wo.onBlur=Is));const ab=h.useMemo(()=>{var He;let Cn=[{name:"arrow",enabled:!!ke,options:{element:ke,padding:4}}];return(He=X.popperOptions)!=null&&He.modifiers&&(Cn=Cn.concat(X.popperOptions.modifiers)),C({},X.popperOptions,{modifiers:Cn})},[ke,X]),Ho=C({},k,{isRtl:le,arrow:E,disableInteractive:Re,placement:H,PopperComponentProp:K,touch:De.current}),Mc=yD(Ho),Rp=(r=(o=ie.popper)!=null?o:D.Popper)!=null?r:xD,Ap=(i=(a=(l=ie.transition)!=null?l:D.Transition)!=null?a:de)!=null?i:Ii,$p=(c=(d=ie.tooltip)!=null?d:D.Tooltip)!=null?c:bD,Op=(u=(p=ie.arrow)!=null?p:D.Arrow)!=null?u:wD,lb=Us(Rp,C({},X,(f=q.popper)!=null?f:S.popper,{className:ae(Mc.popper,X==null?void 0:X.className,(g=(v=q.popper)!=null?v:S.popper)==null?void 0:g.className)}),Ho),cb=Us(Ap,C({},U,(y=q.transition)!=null?y:S.transition),Ho),db=Us($p,C({},(m=q.tooltip)!=null?m:S.tooltip,{className:ae(Mc.tooltip,(x=(j=q.tooltip)!=null?j:S.tooltip)==null?void 0:x.className)}),Ho),ub=Us(Op,C({},(b=q.arrow)!=null?b:S.arrow,{className:ae(Mc.arrow,(w=(N=q.arrow)!=null?N:S.arrow)==null?void 0:w.className)}),Ho);return s.jsxs(h.Fragment,{children:[h.cloneElement(he,Un),s.jsx(Rp,C({as:K??zy,placement:H,anchorEl:A?{getBoundingClientRect:()=>({top:ni.y,left:ni.x,right:ni.x,bottom:ni.y,width:0,height:0})}:ce,popperRef:Tc,open:ce?Ae:!1,id:Bt,transition:!0},Wo,lb,{popperOptions:ab,children:({TransitionProps:He})=>s.jsx(Ap,C({timeout:Z.transitions.duration.shorter},He,cb,{children:s.jsxs($p,C({},db,{children:[J,E?s.jsx(Op,C({},ub,{ref:pe})):null]}))}))}))]})}),ra=h.createContext({}),pc=h.createContext({});function CD(e){return ye("MuiStep",e)}xe("MuiStep",["root","horizontal","vertical","alternativeLabel","completed"]);const jD=["active","children","className","component","completed","disabled","expanded","index","last"],kD=e=>{const{classes:t,orientation:n,alternativeLabel:r,completed:o}=e;return we({root:["root",n,r&&"alternativeLabel",o&&"completed"]},CD,t)},SD=Q("div",{name:"MuiStep",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.alternativeLabel&&t.alternativeLabel,n.completed&&t.completed]}})(({ownerState:e})=>C({},e.orientation==="horizontal"&&{paddingLeft:8,paddingRight:8},e.alternativeLabel&&{flex:1,position:"relative"})),Jc=h.forwardRef(function(t,n){const r=_e({props:t,name:"MuiStep"}),{active:o,children:i,className:a,component:l="div",completed:c,disabled:d,expanded:u=!1,index:p,last:f}=r,g=ne(r,jD),{activeStep:v,connector:y,alternativeLabel:m,orientation:x,nonLinear:j}=h.useContext(ra);let[b=!1,w=!1,N=!1]=[o,c,d];v===p?b=o!==void 0?o:!0:!j&&v>p?w=c!==void 0?c:!0:!j&&v<p&&(N=d!==void 0?d:!0);const k=h.useMemo(()=>({index:p,last:f,expanded:u,icon:p+1,active:b,completed:w,disabled:N}),[p,f,u,b,w,N]),E=C({},r,{active:b,orientation:x,alternativeLabel:m,completed:w,disabled:N,expanded:u,component:l}),_=kD(E),D=s.jsxs(SD,C({as:l,className:ae(_.root,a),ref:n,ownerState:E},g,{children:[y&&m&&p!==0?y:null,i]}));return s.jsx(pc.Provider,{value:k,children:y&&!m&&p!==0?s.jsxs(h.Fragment,{children:[y,D]}):D})}),_D=ge(s.jsx("path",{d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"}),"CheckCircle"),TD=ge(s.jsx("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning");function ED(e){return ye("MuiStepIcon",e)}const ed=xe("MuiStepIcon",["root","active","completed","error","text"]);var lm;const MD=["active","className","completed","error","icon"],PD=e=>{const{classes:t,active:n,completed:r,error:o}=e;return we({root:["root",n&&"active",r&&"completed",o&&"error"],text:["text"]},ED,t)},td=Q(nl,{name:"MuiStepIcon",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({display:"block",transition:e.transitions.create("color",{duration:e.transitions.duration.shortest}),color:(e.vars||e).palette.text.disabled,[`&.${ed.completed}`]:{color:(e.vars||e).palette.primary.main},[`&.${ed.active}`]:{color:(e.vars||e).palette.primary.main},[`&.${ed.error}`]:{color:(e.vars||e).palette.error.main}})),ND=Q("text",{name:"MuiStepIcon",slot:"Text",overridesResolver:(e,t)=>t.text})(({theme:e})=>({fill:(e.vars||e).palette.primary.contrastText,fontSize:e.typography.caption.fontSize,fontFamily:e.typography.fontFamily})),ID=h.forwardRef(function(t,n){const r=_e({props:t,name:"MuiStepIcon"}),{active:o=!1,className:i,completed:a=!1,error:l=!1,icon:c}=r,d=ne(r,MD),u=C({},r,{active:o,completed:a,error:l}),p=PD(u);if(typeof c=="number"||typeof c=="string"){const f=ae(i,p.root);return l?s.jsx(td,C({as:TD,className:f,ref:n,ownerState:u},d)):a?s.jsx(td,C({as:_D,className:f,ref:n,ownerState:u},d)):s.jsxs(td,C({className:f,ref:n,ownerState:u},d,{children:[lm||(lm=s.jsx("circle",{cx:"12",cy:"12",r:"12"})),s.jsx(ND,{className:p.text,x:"12",y:"12",textAnchor:"middle",dominantBaseline:"central",ownerState:u,children:c})]}))}return c});function DD(e){return ye("MuiStepLabel",e)}const Yr=xe("MuiStepLabel",["root","horizontal","vertical","label","active","completed","error","disabled","iconContainer","alternativeLabel","labelContainer"]),RD=["children","className","componentsProps","error","icon","optional","slotProps","StepIconComponent","StepIconProps"],AD=e=>{const{classes:t,orientation:n,active:r,completed:o,error:i,disabled:a,alternativeLabel:l}=e;return we({root:["root",n,i&&"error",a&&"disabled",l&&"alternativeLabel"],label:["label",r&&"active",o&&"completed",i&&"error",a&&"disabled",l&&"alternativeLabel"],iconContainer:["iconContainer",r&&"active",o&&"completed",i&&"error",a&&"disabled",l&&"alternativeLabel"],labelContainer:["labelContainer",l&&"alternativeLabel"]},DD,t)},$D=Q("span",{name:"MuiStepLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation]]}})(({ownerState:e})=>C({display:"flex",alignItems:"center",[`&.${Yr.alternativeLabel}`]:{flexDirection:"column"},[`&.${Yr.disabled}`]:{cursor:"default"}},e.orientation==="vertical"&&{textAlign:"left",padding:"8px 0"})),OD=Q("span",{name:"MuiStepLabel",slot:"Label",overridesResolver:(e,t)=>t.label})(({theme:e})=>C({},e.typography.body2,{display:"block",transition:e.transitions.create("color",{duration:e.transitions.duration.shortest}),[`&.${Yr.active}`]:{color:(e.vars||e).palette.text.primary,fontWeight:500},[`&.${Yr.completed}`]:{color:(e.vars||e).palette.text.primary,fontWeight:500},[`&.${Yr.alternativeLabel}`]:{marginTop:16},[`&.${Yr.error}`]:{color:(e.vars||e).palette.error.main}})),LD=Q("span",{name:"MuiStepLabel",slot:"IconContainer",overridesResolver:(e,t)=>t.iconContainer})(()=>({flexShrink:0,display:"flex",paddingRight:8,[`&.${Yr.alternativeLabel}`]:{paddingRight:0}})),BD=Q("span",{name:"MuiStepLabel",slot:"LabelContainer",overridesResolver:(e,t)=>t.labelContainer})(({theme:e})=>({width:"100%",color:(e.vars||e).palette.text.secondary,[`&.${Yr.alternativeLabel}`]:{textAlign:"center"}})),Oa=h.forwardRef(function(t,n){var r;const o=_e({props:t,name:"MuiStepLabel"}),{children:i,className:a,componentsProps:l={},error:c=!1,icon:d,optional:u,slotProps:p={},StepIconComponent:f,StepIconProps:g}=o,v=ne(o,RD),{alternativeLabel:y,orientation:m}=h.useContext(ra),{active:x,disabled:j,completed:b,icon:w}=h.useContext(pc),N=d||w;let k=f;N&&!k&&(k=ID);const E=C({},o,{active:x,alternativeLabel:y,completed:b,disabled:j,error:c,orientation:m}),_=AD(E),D=(r=p.label)!=null?r:l.label;return s.jsxs($D,C({className:ae(_.root,a),ref:n,ownerState:E},v,{children:[N||k?s.jsx(LD,{className:_.iconContainer,ownerState:E,children:s.jsx(k,C({completed:b,active:x,error:c,icon:N},g))}):null,s.jsxs(BD,{className:_.labelContainer,ownerState:E,children:[i?s.jsx(OD,C({ownerState:E},D,{className:ae(_.label,D==null?void 0:D.className),children:i})):null,u]})]}))});Oa.muiName="StepLabel";function FD(e){return ye("MuiStepConnector",e)}xe("MuiStepConnector",["root","horizontal","vertical","alternativeLabel","active","completed","disabled","line","lineHorizontal","lineVertical"]);const zD=["className"],WD=e=>{const{classes:t,orientation:n,alternativeLabel:r,active:o,completed:i,disabled:a}=e,l={root:["root",n,r&&"alternativeLabel",o&&"active",i&&"completed",a&&"disabled"],line:["line",`line${ee(n)}`]};return we(l,FD,t)},HD=Q("div",{name:"MuiStepConnector",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.alternativeLabel&&t.alternativeLabel,n.completed&&t.completed]}})(({ownerState:e})=>C({flex:"1 1 auto"},e.orientation==="vertical"&&{marginLeft:12},e.alternativeLabel&&{position:"absolute",top:12,left:"calc(-50% + 20px)",right:"calc(50% + 20px)"})),UD=Q("span",{name:"MuiStepConnector",slot:"Line",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.line,t[`line${ee(n.orientation)}`]]}})(({ownerState:e,theme:t})=>{const n=t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[600];return C({display:"block",borderColor:t.vars?t.vars.palette.StepConnector.border:n},e.orientation==="horizontal"&&{borderTopStyle:"solid",borderTopWidth:1},e.orientation==="vertical"&&{borderLeftStyle:"solid",borderLeftWidth:1,minHeight:24})}),VD=h.forwardRef(function(t,n){const r=_e({props:t,name:"MuiStepConnector"}),{className:o}=r,i=ne(r,zD),{alternativeLabel:a,orientation:l="horizontal"}=h.useContext(ra),{active:c,disabled:d,completed:u}=h.useContext(pc),p=C({},r,{alternativeLabel:a,orientation:l,active:c,completed:u,disabled:d}),f=WD(p);return s.jsx(HD,C({className:ae(f.root,o),ref:n,ownerState:p},i,{children:s.jsx(UD,{className:f.line,ownerState:p})}))});function YD(e){return ye("MuiStepContent",e)}xe("MuiStepContent",["root","last","transition"]);const GD=["children","className","TransitionComponent","transitionDuration","TransitionProps"],qD=e=>{const{classes:t,last:n}=e;return we({root:["root",n&&"last"],transition:["transition"]},YD,t)},KD=Q("div",{name:"MuiStepContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.last&&t.last]}})(({ownerState:e,theme:t})=>C({marginLeft:12,paddingLeft:20,paddingRight:8,borderLeft:t.vars?`1px solid ${t.vars.palette.StepContent.border}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[600]}`},e.last&&{borderLeft:"none"})),QD=Q(sp,{name:"MuiStepContent",slot:"Transition",overridesResolver:(e,t)=>t.transition})({}),nd=h.forwardRef(function(t,n){const r=_e({props:t,name:"MuiStepContent"}),{children:o,className:i,TransitionComponent:a=sp,transitionDuration:l="auto",TransitionProps:c}=r,d=ne(r,GD),{orientation:u}=h.useContext(ra),{active:p,last:f,expanded:g}=h.useContext(pc),v=C({},r,{last:f}),y=qD(v);let m=l;return l==="auto"&&!a.muiSupportAuto&&(m=void 0),s.jsx(KD,C({className:ae(y.root,i),ref:n,ownerState:v},d,{children:s.jsx(QD,C({as:a,in:p||g,className:y.transition,ownerState:v,timeout:m,unmountOnExit:!0},c,{children:o}))}))});function XD(e){return ye("MuiStepper",e)}xe("MuiStepper",["root","horizontal","vertical","nonLinear","alternativeLabel"]);const ZD=["activeStep","alternativeLabel","children","className","component","connector","nonLinear","orientation"],JD=e=>{const{orientation:t,nonLinear:n,alternativeLabel:r,classes:o}=e;return we({root:["root",t,n&&"nonLinear",r&&"alternativeLabel"]},XD,o)},eR=Q("div",{name:"MuiStepper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.alternativeLabel&&t.alternativeLabel,n.nonLinear&&t.nonLinear]}})(({ownerState:e})=>C({display:"flex"},e.orientation==="horizontal"&&{flexDirection:"row",alignItems:"center"},e.orientation==="vertical"&&{flexDirection:"column"},e.alternativeLabel&&{alignItems:"flex-start"})),tR=s.jsx(VD,{}),nR=h.forwardRef(function(t,n){const r=_e({props:t,name:"MuiStepper"}),{activeStep:o=0,alternativeLabel:i=!1,children:a,className:l,component:c="div",connector:d=tR,nonLinear:u=!1,orientation:p="horizontal"}=r,f=ne(r,ZD),g=C({},r,{nonLinear:u,alternativeLabel:i,orientation:p,component:c}),v=JD(g),y=h.Children.toArray(a).filter(Boolean),m=y.map((j,b)=>h.cloneElement(j,C({index:b,last:b+1===y.length},j.props))),x=h.useMemo(()=>({activeStep:o,alternativeLabel:i,connector:d,nonLinear:u,orientation:p}),[o,i,d,u,p]);return s.jsx(ra.Provider,{value:x,children:s.jsx(eR,C({as:c,ownerState:g,className:ae(v.root,l),ref:n},f,{children:m}))})});function rR(e){return ye("MuiSwitch",e)}const an=xe("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),sR=["className","color","edge","size","sx"],oR=e=>{const{classes:t,edge:n,size:r,color:o,checked:i,disabled:a}=e,l={root:["root",n&&`edge${ee(n)}`,`size${ee(r)}`],switchBase:["switchBase",`color${ee(o)}`,i&&"checked",a&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},c=we(l,rR,t);return C({},t,c)},iR=Q("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.edge&&t[`edge${ee(n.edge)}`],t[`size${ee(n.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${an.thumb}`]:{width:16,height:16},[`& .${an.switchBase}`]:{padding:4,[`&.${an.checked}`]:{transform:"translateX(16px)"}}}}]}),aR=Q(Uy,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.switchBase,{[`& .${an.input}`]:t.input},n.color!=="default"&&t[`color${ee(n.color)}`]]}})(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${an.checked}`]:{transform:"translateX(20px)"},[`&.${an.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${an.checked} + .${an.track}`]:{opacity:.5},[`&.${an.disabled} + .${an.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${an.input}`]:{left:"-100%",width:"300%"}}),({theme:e})=>({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Ue(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(e.palette).filter(([,t])=>t.main&&t.light).map(([t])=>({props:{color:t},style:{[`&.${an.checked}`]:{color:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ue(e.palette[t].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${an.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t}DisabledColor`]:`${e.palette.mode==="light"?lo(e.palette[t].main,.62):ao(e.palette[t].main,.55)}`}},[`&.${an.checked} + .${an.track}`]:{backgroundColor:(e.vars||e).palette[t].main}}}))]})),lR=Q("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`})),cR=Q("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),eo=h.forwardRef(function(t,n){const r=_e({props:t,name:"MuiSwitch"}),{className:o,color:i="primary",edge:a=!1,size:l="medium",sx:c}=r,d=ne(r,sR),u=C({},r,{color:i,edge:a,size:l}),p=oR(u),f=s.jsx(cR,{className:p.thumb,ownerState:u});return s.jsxs(iR,{className:ae(p.root,o),sx:c,ownerState:u,children:[s.jsx(aR,C({type:"checkbox",icon:f,checkedIcon:f,ref:n,ownerState:u},d,{classes:C({},p,{root:p.switchBase})})),s.jsx(lR,{className:p.track,ownerState:u})]})}),tx=h.createContext();function dR(e){return ye("MuiTable",e)}xe("MuiTable",["root","stickyHeader"]);const uR=["className","component","padding","size","stickyHeader"],pR=e=>{const{classes:t,stickyHeader:n}=e;return we({root:["root",n&&"stickyHeader"]},dR,t)},hR=Q("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>C({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":C({},e.typography.body2,{padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},t.stickyHeader&&{borderCollapse:"separate"})),cm="table",hc=h.forwardRef(function(t,n){const r=_e({props:t,name:"MuiTable"}),{className:o,component:i=cm,padding:a="normal",size:l="medium",stickyHeader:c=!1}=r,d=ne(r,uR),u=C({},r,{component:i,padding:a,size:l,stickyHeader:c}),p=pR(u),f=h.useMemo(()=>({padding:a,size:l,stickyHeader:c}),[a,l,c]);return s.jsx(tx.Provider,{value:f,children:s.jsx(hR,C({as:i,role:i===cm?null:"table",ref:n,className:ae(p.root,o),ownerState:u},d))})}),fc=h.createContext();function fR(e){return ye("MuiTableBody",e)}xe("MuiTableBody",["root"]);const mR=["className","component"],gR=e=>{const{classes:t}=e;return we({root:["root"]},fR,t)},vR=Q("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),yR={variant:"body"},dm="tbody",mc=h.forwardRef(function(t,n){const r=_e({props:t,name:"MuiTableBody"}),{className:o,component:i=dm}=r,a=ne(r,mR),l=C({},r,{component:i}),c=gR(l);return s.jsx(fc.Provider,{value:yR,children:s.jsx(vR,C({className:ae(c.root,o),as:i,ref:n,role:i===dm?null:"rowgroup",ownerState:l},a))})});function xR(e){return ye("MuiTableCell",e)}const bR=xe("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),wR=["align","className","component","padding","scope","size","sortDirection","variant"],CR=e=>{const{classes:t,variant:n,align:r,padding:o,size:i,stickyHeader:a}=e,l={root:["root",n,a&&"stickyHeader",r!=="inherit"&&`align${ee(r)}`,o!=="normal"&&`padding${ee(o)}`,`size${ee(i)}`]};return we(l,xR,t)},jR=Q("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${ee(n.size)}`],n.padding!=="normal"&&t[`padding${ee(n.padding)}`],n.align!=="inherit"&&t[`align${ee(n.align)}`],n.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>C({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?lo(Ue(e.palette.divider,1),.88):ao(Ue(e.palette.divider,1),.68)}`,textAlign:"left",padding:16},t.variant==="head"&&{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},t.variant==="body"&&{color:(e.vars||e).palette.text.primary},t.variant==="footer"&&{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},t.size==="small"&&{padding:"6px 16px",[`&.${bR.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},t.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},t.padding==="none"&&{padding:0},t.align==="left"&&{textAlign:"left"},t.align==="center"&&{textAlign:"center"},t.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},t.align==="justify"&&{textAlign:"justify"},t.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default})),Ve=h.forwardRef(function(t,n){const r=_e({props:t,name:"MuiTableCell"}),{align:o="inherit",className:i,component:a,padding:l,scope:c,size:d,sortDirection:u,variant:p}=r,f=ne(r,wR),g=h.useContext(tx),v=h.useContext(fc),y=v&&v.variant==="head";let m;a?m=a:m=y?"th":"td";let x=c;m==="td"?x=void 0:!x&&y&&(x="col");const j=p||v&&v.variant,b=C({},r,{align:o,component:m,padding:l||(g&&g.padding?g.padding:"normal"),size:d||(g&&g.size?g.size:"medium"),sortDirection:u,stickyHeader:j==="head"&&g&&g.stickyHeader,variant:j}),w=CR(b);let N=null;return u&&(N=u==="asc"?"ascending":"descending"),s.jsx(jR,C({as:m,ref:n,className:ae(w.root,i),"aria-sort":N,scope:x,ownerState:b},f))});function kR(e){return ye("MuiTableContainer",e)}xe("MuiTableContainer",["root"]);const SR=["className","component"],_R=e=>{const{classes:t}=e;return we({root:["root"]},kR,t)},TR=Q("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),gc=h.forwardRef(function(t,n){const r=_e({props:t,name:"MuiTableContainer"}),{className:o,component:i="div"}=r,a=ne(r,SR),l=C({},r,{component:i}),c=_R(l);return s.jsx(TR,C({ref:n,as:i,className:ae(c.root,o),ownerState:l},a))});function ER(e){return ye("MuiTableHead",e)}xe("MuiTableHead",["root"]);const MR=["className","component"],PR=e=>{const{classes:t}=e;return we({root:["root"]},ER,t)},NR=Q("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),IR={variant:"head"},um="thead",vc=h.forwardRef(function(t,n){const r=_e({props:t,name:"MuiTableHead"}),{className:o,component:i=um}=r,a=ne(r,MR),l=C({},r,{component:i}),c=PR(l);return s.jsx(fc.Provider,{value:IR,children:s.jsx(NR,C({as:i,className:ae(c.root,o),ref:n,role:i===um?null:"rowgroup",ownerState:l},a))})});function DR(e){return ye("MuiTableRow",e)}const pm=xe("MuiTableRow",["root","selected","hover","head","footer"]),RR=["className","component","hover","selected"],AR=e=>{const{classes:t,selected:n,hover:r,head:o,footer:i}=e;return we({root:["root",n&&"selected",r&&"hover",o&&"head",i&&"footer"]},DR,t)},$R=Q("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.head&&t.head,n.footer&&t.footer]}})(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${pm.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${pm.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Ue(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Ue(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}})),hm="tr",es=h.forwardRef(function(t,n){const r=_e({props:t,name:"MuiTableRow"}),{className:o,component:i=hm,hover:a=!1,selected:l=!1}=r,c=ne(r,RR),d=h.useContext(fc),u=C({},r,{component:i,hover:a,selected:l,head:d&&d.variant==="head",footer:d&&d.variant==="footer"}),p=AR(u);return s.jsx($R,C({as:i,ref:n,className:ae(p.root,o),role:i===hm?null:"row",ownerState:u},c))});function OR(e){return ye("MuiTextField",e)}xe("MuiTextField",["root"]);const LR=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],BR={standard:mp,filled:fp,outlined:yp},FR=e=>{const{classes:t}=e;return we({root:["root"]},OR,t)},zR=Q(hr,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Ze=h.forwardRef(function(t,n){const r=_e({props:t,name:"MuiTextField"}),{autoComplete:o,autoFocus:i=!1,children:a,className:l,color:c="primary",defaultValue:d,disabled:u=!1,error:p=!1,FormHelperTextProps:f,fullWidth:g=!1,helperText:v,id:y,InputLabelProps:m,inputProps:x,InputProps:j,inputRef:b,label:w,maxRows:N,minRows:k,multiline:E=!1,name:_,onBlur:D,onChange:S,onFocus:T,placeholder:$,required:O=!1,rows:M,select:P=!1,SelectProps:L,type:R,value:B,variant:A="outlined"}=r,I=ne(r,LR),F=C({},r,{autoFocus:i,color:c,disabled:u,error:p,fullWidth:g,multiline:E,required:O,select:P,variant:A}),V=FR(F),Y={};A==="outlined"&&(m&&typeof m.shrink<"u"&&(Y.notched=m.shrink),Y.label=w),P&&((!L||!L.native)&&(Y.id=void 0),Y["aria-describedby"]=void 0);const W=Mo(y),G=v&&W?`${W}-helper-text`:void 0,H=w&&W?`${W}-label`:void 0,K=BR[A],X=s.jsx(K,C({"aria-describedby":G,autoComplete:o,autoFocus:i,defaultValue:d,fullWidth:g,multiline:E,name:_,rows:M,maxRows:N,minRows:k,type:R,value:B,id:W,inputRef:b,onBlur:D,onChange:S,onFocus:T,placeholder:$,inputProps:x},Y,j));return s.jsxs(zR,C({className:ae(V.root,l),disabled:u,error:p,fullWidth:g,ref:n,required:O,color:c,variant:A,ownerState:F},I,{children:[w!=null&&w!==""&&s.jsx(Rr,C({htmlFor:W,id:H},m,{children:w})),P?s.jsx(vr,C({"aria-describedby":G,id:W,labelId:H,value:B,input:X},L,{children:a})):X,v&&s.jsx(HP,C({id:G},f,{children:v}))]}))});function WR({children:e}){const{user:t,admin:n,loading:r}=Lt();return console.log("🛡️ ProtectedRoute check:",{user:(t==null?void 0:t.email)||"no user",admin:(n==null?void 0:n.email)||"no admin",loading:r}),r?s.jsx(se,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",children:s.jsx(tn,{})}):!t||!n?(console.log("🚫 Access denied, redirecting to login"),s.jsx(_a,{to:"/login",replace:!0})):s.jsx(s.Fragment,{children:e})}const HR=ge([s.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),s.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"AccessTime"),UR=ge(s.jsx("path",{d:"M4 10h3v7H4zm6.5 0h3v7h-3zM2 19h20v3H2zm15-9h3v7h-3zm-5-9L2 6v2h20V6z"}),"AccountBalance"),nx=ge(s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle"),sa=ge(s.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),VR=ge(s.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-5h2zm4 0h-2v-3h2zm0-5h-2v-2h2zm4 5h-2V7h2z"}),"Analytics"),fm=ge(s.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),YR=ge(s.jsx("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8z"}),"ArrowDownward"),GR=ge(s.jsx("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8z"}),"ArrowUpward"),xo=ge(s.jsx("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4"}),"AttachMoney"),Ud=ge(s.jsx("path",{d:"M12 7V3H2v18h20V7zM6 19H4v-2h2zm0-4H4v-2h2zm0-4H4V9h2zm0-4H4V5h2zm4 12H8v-2h2zm0-4H8v-2h2zm0-4H8V9h2zm0-4H8V5h2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8zm-2-8h-2v2h2zm0 4h-2v2h2z"}),"Business"),bp=ge(s.jsx("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 16H5V10h14zM9 14H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2zm-8 4H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2z"}),"CalendarMonth"),qR=ge(s.jsx("path",{d:"M18 11v2h4v-2zm-2 6.61c.96.71 2.21 1.65 3.2 2.39.4-.53.8-1.07 1.2-1.6-.99-.74-2.24-1.68-3.2-2.4-.4.54-.8 1.08-1.2 1.61M20.4 5.6c-.4-.53-.8-1.07-1.2-1.6-.99.74-2.24 1.68-3.2 2.4.4.53.8 1.07 1.2 1.6.96-.72 2.21-1.65 3.2-2.4M4 9c-1.1 0-2 .9-2 2v2c0 1.1.9 2 2 2h1v4h2v-4h1l5 3V6L8 9zm11.5 3c0-1.33-.58-2.53-1.5-3.35v6.69c.92-.81 1.5-2.01 1.5-3.34"}),"Campaign"),Di=ge(s.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel"),Vd=ge(s.jsx("path",{d:"M20 2H4c-1.11 0-2 .89-2 2v11c0 1.11.89 2 2 2h4v5l4-2 4 2v-5h4c1.11 0 2-.89 2-2V4c0-1.11-.89-2-2-2m0 13H4v-2h16zm0-5H4V4h16z"}),"CardMembership"),ps=ge(s.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),wp=ge(s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),KR=ge(s.jsx("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft"),QR=ge(s.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight"),yc=ge(s.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),rx=ge(s.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy"),Yd=ge(s.jsx("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4v-6h16zm0-10H4V6h16z"}),"CreditCard"),XR=ge(s.jsx("path",{d:"M3 13h8V3H3zm0 8h8v-6H3zm10 0h8V11h-8zm0-18v6h8V3z"}),"Dashboard"),Oo=ge(s.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),Ri=ge(s.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),Gd=ge(s.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email"),ZR=ge(s.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"ErrorOutline"),JR=ge(s.jsx("path",{d:"M10.09 15.59 11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"ExitToApp"),eA=ge(s.jsx("path",{d:"M19 9h-4V3H9v6H5l7 7zM5 18v2h14v-2z"}),"FileDownload"),tA=ge(s.jsx("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"}),"FilterList"),nA=ge(s.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"}),"History"),sx=ge(s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info"),rA=ge(s.jsx("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),"Link"),sA=ge(s.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"}),"LocationOn"),oA=ge(s.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l4 4 4-4H6c0-3.86 3.14-7 7-7s7 3.14 7 7-3.14 7-7 7c-1.9 0-3.62-.76-4.88-1.99L6.7 18.42C8.32 20.01 10.55 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m2 8v-1c0-1.1-.9-2-2-2s-2 .9-2 2v1c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-3c0-.55-.45-1-1-1m-1 0h-2v-1c0-.55.45-1 1-1s1 .45 1 1z"}),"LockReset"),iA=ge(s.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),ox=ge(s.jsx("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1z"}),"Notifications"),xi=ge(s.jsx("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4v-6h16zm0-10H4V6h16z"}),"Payment"),Cp=ge(s.jsx("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"People"),aA=ge(s.jsx("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02z"}),"Phone"),lA=ge(s.jsx("path",{d:"M16 1H8C6.34 1 5 2.34 5 4v16c0 1.66 1.34 3 3 3h8c1.66 0 3-1.34 3-3V4c0-1.66-1.34-3-3-3m-2 20h-4v-1h4zm3.25-3H6.75V4h10.5z"}),"PhoneAndroid"),cA=ge(s.jsx("path",{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3m-3 11H8v-5h8zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m-1-9H6v4h12z"}),"Print"),dA=ge(s.jsx("path",{d:"M3 11h8V3H3zm2-6h4v4H5zM3 21h8v-8H3zm2-6h4v4H5zm8-12v8h8V3zm6 6h-4V5h4zm0 10h2v2h-2zm-6-6h2v2h-2zm2 2h2v2h-2zm-2 2h2v2h-2zm2 2h2v2h-2zm2-2h2v2h-2zm0-4h2v2h-2zm2 2h2v2h-2z"}),"QrCode"),jp=ge(s.jsx("path",{d:"M15 21h-2v-2h2zm-2-7h-2v5h2zm8-2h-2v4h2zm-2-2h-2v2h2zM7 12H5v2h2zm-2-2H3v2h2zm7-5h2V3h-2zm-7.5-.5v3h3v-3zM9 9H3V3h6zm-4.5 7.5v3h3v-3zM9 21H3v-6h6zm7.5-16.5v3h3v-3zM21 9h-6V3h6zm-2 10v-3h-4v2h2v3h4v-2zm-2-7h-4v2h4zm-4-2H7v2h2v2h2v-2h2zm1-1V7h-2V5h-2v4zM6.75 5.25h-1.5v1.5h1.5zm0 12h-1.5v1.5h1.5zm12-12h-1.5v1.5h1.5z"}),"QrCode2"),ix=ge(s.jsx("path",{d:"M18 17H6v-2h12zm0-4H6v-2h12zm0-4H6V7h12zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2z"}),"Receipt"),uA=ge(s.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh"),qd=ge(s.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save"),pA=ge(s.jsx("path",{d:"M19.8 18.4 14 10.67V6.5l1.35-1.69c.26-.33.03-.81-.39-.81H9.04c-.42 0-.65.48-.39.81L10 6.5v4.17L4.2 18.4c-.49.66-.02 1.6.8 1.6h14c.82 0 1.29-.94.8-1.6"}),"Science"),kp=ge(s.jsx("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11z"}),"Security"),Kd=ge(s.jsx("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send"),Sp=ge(s.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),ax=ge(s.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92"}),"Share"),lx=ge(s.jsx("path",{d:"M19.52 2.49C17.18.15 12.9.62 9.97 3.55c-1.6 1.6-2.52 3.87-2.54 5.46-.02 1.58.26 3.89-1.35 5.5l-4.24 4.24 1.42 1.42 4.24-4.24c1.61-1.61 3.92-1.33 5.5-1.35s3.86-.94 5.46-2.54c2.92-2.93 3.4-7.21 1.06-9.55m-9.2 9.19c-1.53-1.53-1.05-4.61 1.06-6.72s5.18-2.59 6.72-1.06c1.53 1.53 1.05 4.61-1.06 6.72s-5.18 2.59-6.72 1.06M18 17c.53 0 1.04.21 1.41.59.78.78.78 2.05 0 2.83-.37.37-.88.58-1.41.58s-1.04-.21-1.41-.59c-.78-.78-.78-2.05 0-2.83.37-.37.88-.58 1.41-.58m0-2c-1.02 0-2.05.39-2.83 1.17-1.56 1.56-1.56 4.09 0 5.66.78.78 1.81 1.17 2.83 1.17s2.05-.39 2.83-1.17c1.56-1.56 1.56-4.09 0-5.66C20.05 15.39 19.02 15 18 15"}),"SportsTennis"),hA=ge(s.jsx("path",{d:"M2 20h20v-4H2zm2-3h2v2H4zM2 4v4h20V4zm4 3H4V5h2zm-4 7h20v-4H2zm2-3h2v2H4z"}),"Storage"),fA=ge(s.jsx("path",{d:"M20 4H4v2h16zm1 10v-2l-1-5H4l-1 5v2h1v6h10v-6h4v6h2v-6zm-9 4H6v-4h6z"}),"Store"),mA=ge(s.jsx("path",{d:"M16.5 12c1.38 0 2.49-1.12 2.49-2.5S17.88 7 16.5 7C15.12 7 14 8.12 14 9.5s1.12 2.5 2.5 2.5M9 11c1.66 0 2.99-1.34 2.99-3S10.66 5 9 5C7.34 5 6 6.34 6 8s1.34 3 3 3m7.5 3c-1.83 0-5.5.92-5.5 2.75V19h11v-2.25c0-1.83-3.67-2.75-5.5-2.75M9 13c-2.33 0-7 1.17-7 3.5V19h7v-2.25c0-.85.33-2.34 2.37-3.47C10.5 13.1 9.66 13 9 13"}),"SupervisorAccount"),Qd=ge(s.jsx("path",{d:"M9 1h6v2H9zm10.03 6.39 1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42C16.07 4.74 14.12 4 12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9 9-4.03 9-9c0-2.12-.74-4.07-1.97-5.61M13 14h-2V8h2z"}),"Timer"),xc=ge(s.jsx("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp"),gA=ge(s.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),vA=ge(s.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff"),bo=ge(s.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning"),yA=ge(s.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m-5 14H4v-4h11zm0-5H4V9h11zm5 5h-4V9h4z"}),"Web"),rn=()=>{const{admin:e}=Lt(),t=f=>e?e.role==="superadmin"?!0:Array.isArray(f)?f.some(g=>e.permissions.includes(g)):e.permissions.includes(f):!1;return{hasPermission:t,hasAllPermissions:f=>e?e.role==="superadmin"?!0:f.every(g=>e.permissions.includes(g)):!1,hasRole:f=>e?Array.isArray(f)?f.includes(e.role):e.role===f:!1,canAccessVenue:f=>e?e.role==="superadmin"?!0:e.venueId===f:!1,canManageAdmins:()=>t("manage_admins"),canManageAllVenues:()=>t("manage_all_venues"),canViewFinance:()=>t(["manage_finance","view_reports"]),canManageBookings:()=>t(["manage_bookings","manage_all_bookings"]),canManageCourts:()=>t(["manage_courts","manage_all_venues"]),canManageClub:()=>(e==null?void 0:e.role)==="superadmin"||(e==null?void 0:e.role)==="admin"&&(e!=null&&e.venueId)?!0:t(["manage_club","manage_all_venues"]),canViewReports:()=>t(["view_reports","view_all_reports"]),permissions:(e==null?void 0:e.permissions)||[],role:(e==null?void 0:e.role)||null,isSuperAdmin:(e==null?void 0:e.role)==="superadmin",isAdmin:(e==null?void 0:e.role)==="admin",isManager:(e==null?void 0:e.role)==="manager"}};function Xd({size:e=60,backgroundColor:t="#00A86B",courtColor:n="white",className:r}){return s.jsxs("svg",{viewBox:"0 0 120 120",xmlns:"http://www.w3.org/2000/svg",width:e,height:e,className:r,children:[s.jsx("rect",{x:"0",y:"0",width:"120",height:"120",rx:"24",fill:t}),s.jsx("rect",{x:"20",y:"20",width:"80",height:"80",rx:"8",fill:"none",stroke:n,strokeWidth:"3"}),s.jsx("line",{x1:"20",y1:"60",x2:"100",y2:"60",stroke:n,strokeWidth:"3"}),s.jsx("line",{x1:"60",y1:"20",x2:"60",y2:"100",stroke:n,strokeWidth:"3"})]})}function Zd(){var x;const e=nn(),t=fb(),{club:n,logout:r,admin:o}=Lt(),{hasPermission:i,hasRole:a,isSuperAdmin:l,canViewFinance:c,canManageClub:d}=rn(),[u,p]=h.useState(!1),f=[{path:"/admin/dashboard",label:"Главная",icon:s.jsx(XR,{})},{path:"/admin/bookings",label:"Календарь",icon:s.jsx(bp,{}),permission:["manage_bookings","manage_all_bookings","view_bookings"]},...l?[{path:"/admin/venues",label:"Все клубы",icon:s.jsx(fA,{})},{path:"/admin/billing-settings",label:"Настройки биллинга",icon:s.jsx(xi,{})},{path:"/admin/admins",label:"Администраторы",icon:s.jsx(mA,{})}]:[],...d()?[{path:"/admin/club",label:"Управление клубом",icon:s.jsx(Ud,{})}]:[],{path:"/admin/subscription",label:"Подписка",icon:s.jsx(Vd,{}),permission:["manage_club","manage_all_venues"]},{path:"/admin/payment-settings",label:"Настройки оплаты",icon:s.jsx(Yd,{}),permission:["manage_club","manage_all_venues"]},{path:"/admin/courts",label:"Корты",icon:s.jsx(lx,{}),permission:["manage_courts","manage_all_venues"]},{path:"/admin/customers",label:"Клиенты",icon:s.jsx(Cp,{}),permission:["manage_all_users","manage_club"]},...c()?[{path:"/admin/finance",label:"Финансы",icon:s.jsx(xo,{})}]:[],{path:"/admin/marketing",label:"Маркетинг",icon:s.jsx(xc,{}),roles:["superadmin","admin"]},...l?[{path:"/admin/settings",label:"Системные настройки",icon:s.jsx(Sp,{})}]:[]].filter(j=>!(j.permission&&!i(j.permission)||j.roles&&!a(j.roles))),g=j=>t.pathname===j,v=j=>{e(j),window.innerWidth<=768&&p(!1)},y=()=>{p(!u)},m=()=>{const j=f.find(b=>g(b.path));return(j==null?void 0:j.label)||"Главная"};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`sidebar-overlay ${u?"active":""}`,onClick:y}),s.jsxs("aside",{className:`sidebar ${u?"active":""}`,children:[s.jsx("button",{className:"sidebar-close",onClick:y,children:s.jsx(yc,{})}),s.jsxs("div",{className:"logo-section",children:[s.jsxs("div",{className:"platform-logo",children:[s.jsx(Xd,{size:40}),s.jsx("div",{className:"logo-text",children:"Все Корты"})]}),!l&&s.jsxs("div",{className:"club-info",children:[s.jsx("div",{className:"club-logo",children:n!=null&&n.logoUrl?s.jsx("img",{src:n.logoUrl,alt:n.name}):((x=n==null?void 0:n.name)==null?void 0:x.substring(0,2).toUpperCase())||"CL"}),s.jsx("div",{className:"club-name",children:(n==null?void 0:n.name)||"Загрузка..."})]}),l&&s.jsxs("div",{className:"club-info",children:[s.jsx("div",{className:"club-logo",style:{background:"#ef4444"},children:"SA"}),s.jsx("div",{className:"club-name",children:"Суперадминистратор"})]})]}),s.jsx("nav",{className:"nav-menu",children:f.map(j=>s.jsxs("a",{className:`nav-item ${g(j.path)?"active":""}`,onClick:()=>v(j.path),children:[s.jsx("span",{className:"nav-icon",children:j.icon}),s.jsx("span",{children:j.label})]},j.path))})]}),s.jsxs("div",{className:"main-container",children:[s.jsxs("header",{className:"header",children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[s.jsx("button",{className:"menu-toggle",onClick:y,children:s.jsx(iA,{})}),s.jsx("h1",{className:"page-title",children:m()})]}),s.jsxs("div",{className:"header-actions",children:[s.jsx("button",{className:"notification-btn",children:s.jsx(ox,{fontSize:"small"})}),s.jsxs("div",{className:"user-menu",children:[s.jsxs("div",{className:"user-info",children:[s.jsx("span",{className:"user-name",children:o==null?void 0:o.name}),s.jsx("span",{className:"user-role",children:o==null?void 0:o.role})]}),s.jsx("button",{className:"user-btn",children:s.jsx(nx,{fontSize:"small"})}),s.jsx("button",{className:"logout-btn",onClick:r,title:"Выйти",children:s.jsx(JR,{fontSize:"small"})})]})]})]}),s.jsx("div",{className:"content",children:s.jsx(mb,{})})]})]})}const mm={"auth/email-already-in-use":"Этот email уже используется","auth/invalid-email":"Некорректный email адрес","auth/weak-password":"Пароль слишком слабый. Минимум 6 символов","auth/user-not-found":"Пользователь не найден","auth/wrong-password":"Неверный пароль","auth/too-many-requests":"Слишком много попыток. Попробуйте позже","auth/user-disabled":"Аккаунт заблокирован","auth/expired-action-code":"Ссылка устарела","auth/invalid-action-code":"Недействительная ссылка","auth/network-request-failed":"Ошибка сети. Проверьте интернет-соединение","permission-denied":"У вас нет прав для выполнения этого действия","not-found":"Запрашиваемые данные не найдены","already-exists":"Такая запись уже существует","resource-exhausted":"Превышен лимит запросов","failed-precondition":"Операция не может быть выполнена в текущем состоянии",aborted:"Операция была прервана","out-of-range":"Значение вне допустимого диапазона",unimplemented:"Функция не реализована",internal:"Внутренняя ошибка сервера",unavailable:"Сервис временно недоступен","data-loss":"Данные повреждены или утеряны",unauthenticated:"Требуется авторизация","booking/slot-occupied":"Это время уже занято","booking/invalid-date":"Некорректная дата бронирования","booking/past-date":"Нельзя забронировать на прошедшую дату","payment/card-declined":"Карта отклонена банком","payment/insufficient-funds":"Недостаточно средств на карте","payment/processing-error":"Ошибка обработки платежа"};function Jd(e){var t,n,r;if(console.error("Error caught:",e),e.code&&e.code.startsWith("auth/"))return{type:"AUTH",code:e.code,message:mm[e.code]||e.message||"Ошибка авторизации",originalError:e};if(e instanceof Jm||e.code){const o=mm[e.code]||e.message||"Ошибка базы данных";let i="SERVER";return e.code==="permission-denied"||e.code==="unauthenticated"?i="PERMISSION":e.code==="not-found"?i="NOT_FOUND":(e.code==="unavailable"||(t=e.code)!=null&&t.includes("network"))&&(i="NETWORK"),{type:i,code:e.code,message:o,originalError:e}}return(n=e.message)!=null&&n.toLowerCase().includes("network")||(r=e.message)!=null&&r.toLowerCase().includes("fetch")?{type:"NETWORK",message:"Ошибка сети. Проверьте интернет-соединение",originalError:e}:e.type==="validation"||e.validationErrors?{type:"VALIDATION",message:e.message||"Ошибка валидации данных",details:e.validationErrors,originalError:e}:{type:"UNKNOWN",message:e.message||"Произошла неизвестная ошибка",originalError:e}}function xA(e){return typeof e=="string"?e:e.message?e.message:"Произошла ошибка. Попробуйте еще раз"}function cx(e,t){const n=new Date().toISOString();console.group(`🚨 Error at ${n}`),e.type&&console.error("Type:",e.type),e.code&&console.error("Code:",e.code),console.error("Message:",e.message||"Unknown error"),t&&console.error("Context:",t),e.originalError&&console.error("Original error:",e.originalError),e.details&&console.error("Details:",e.details),console.trace("Stack trace"),console.groupEnd()}function bA(){const e=nn(),[t,n]=h.useState(""),[r,o]=h.useState(""),[i,a]=h.useState(!1),[l,c]=h.useState(null),[d,u]=h.useState(!1),p=async f=>{f.preventDefault(),c(null),u(!0);try{if(!t.trim())throw new Error("Email обязателен");if(!r)throw new Error("Пароль обязателен");const g=await zb(Zt,t,r),v=$e(Ne(re,"admins"),Te("email","==",g.user.email));if((await Fe(v)).empty)throw new Error("У вас нет прав доступа к админ-панели");setTimeout(()=>{e("/admin/dashboard")},100)}catch(g){const v=Jd(g);cx(v,{component:"Login",email:t}),c(xA(v))}finally{u(!1)}};return s.jsx(se,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"#f5f5f5"},children:s.jsx(ct,{sx:{maxWidth:400,width:"100%",mx:2},children:s.jsxs(dt,{sx:{p:4},children:[s.jsx(z,{variant:"h4",component:"h1",gutterBottom:!0,align:"center",children:"Админ-панель"}),s.jsx(z,{variant:"body2",color:"text.secondary",align:"center",sx:{mb:3},children:"Вход для сотрудников клубов"}),l&&s.jsx(Ye,{severity:"error",sx:{mb:2},children:l}),s.jsxs("form",{onSubmit:p,children:[s.jsx(Ze,{fullWidth:!0,label:"Email",type:"email",value:t,onChange:f=>n(f.target.value),margin:"normal",required:!0,autoComplete:"email",autoFocus:!0}),s.jsx(Ze,{fullWidth:!0,label:"Пароль",type:i?"text":"password",value:r,onChange:f=>o(f.target.value),margin:"normal",required:!0,autoComplete:"current-password",InputProps:{endAdornment:s.jsx(xN,{position:"end",children:s.jsx(fn,{onClick:()=>a(!i),edge:"end",children:i?s.jsx(vA,{}):s.jsx(gA,{})})})}}),s.jsx(Ie,{type:"submit",fullWidth:!0,variant:"contained",size:"large",sx:{mt:3,mb:2},disabled:d||!t||!r,startIcon:d&&s.jsx(tn,{size:20,color:"inherit"}),children:d?"Вход...":"Войти"})]}),s.jsx(z,{variant:"body2",color:"text.secondary",align:"center",sx:{mt:2},children:"Забыли пароль? Обратитесь к администратору системы"}),s.jsx(se,{sx:{mt:3,pt:3,borderTop:1,borderColor:"divider"},children:s.jsxs(z,{variant:"body2",color:"text.secondary",align:"center",children:["Хотите зарегистрировать свой клуб?"," ",s.jsx(Ie,{variant:"text",onClick:()=>e("/register"),sx:{textTransform:"none"},children:"Создать аккаунт"})]})})]})})})}const gm=[{icon:s.jsx(lx,{}),title:"Управление кортами",description:"Настройка расписания и цен"},{icon:s.jsx(bp,{}),title:"Онлайн-бронирование",description:"Прием заявок 24/7"},{icon:s.jsx(Cp,{}),title:"База клиентов",description:"CRM система для клуба"},{icon:s.jsx(VR,{}),title:"Аналитика и отчеты",description:"Статистика доходов и загрузки"},{icon:s.jsx(ox,{}),title:"Уведомления",description:"SMS и email рассылки"},{icon:s.jsx(xi,{}),title:"Онлайн-оплата",description:"Прием платежей картами"},{icon:s.jsx(Sp,{}),title:"Гибкие настройки",description:"Адаптация под ваш клуб"},{icon:s.jsx(kp,{}),title:"Безопасность",description:"Защита данных клиентов"}];function wA(){const e=nn(),[t,n]=h.useState(!1),[r,o]=h.useState(""),[i,a]=h.useState(!1),[l,c]=h.useState(!1),[d,u]=h.useState(0),[p,f]=h.useState(0),[g,v]=h.useState(!1),[y,m]=h.useState({name:"",address:"",city:"",phone:"",email:"",description:"",organizationType:"ИП",inn:"",bankAccount:"",adminPassword:""});h.useEffect(()=>{if(t){v(!0),f(0),u(0);const b=setInterval(()=>{u(N=>N>=95?(clearInterval(b),95):N+Math.random()*10)},500),w=setInterval(()=>{f(N=>N>=gm.length-1?(clearInterval(w),N):N+1)},2e3);return()=>{clearInterval(b),clearInterval(w)}}else v(!1),u(0),f(0)},[t]);const x=()=>{const b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let w="";for(let N=0;N<10;N++)w+=b.charAt(Math.floor(Math.random()*b.length));return w},j=async b=>{b.preventDefault(),console.log("Form submitted with data:",y),o(""),n(!0);try{if(!y.name||!y.address||!y.city||!y.phone||!y.email){o("Заполните все обязательные поля"),n(!1);return}const w=y.adminPassword||x();console.log("Generated/provided password:",w),Zt.currentUser&&(console.log("Signing out current user:",Zt.currentUser.email),await pd(Zt)),console.log("Creating user with email:",y.email);const k=(await eg(Zt,y.email,w)).user.uid;console.log("User created successfully with ID:",k);const E={name:y.name,address:y.address,city:y.city,phone:y.phone,email:y.email,description:y.description||"",organizationType:y.organizationType,inn:y.inn,bankAccount:y.bankAccount||"",status:"pending",createdAt:new Date,updatedAt:new Date,logoUrl:"",amenities:[],location:null};console.log("Creating venue with data:",E);let _=!1,D="";try{console.log("Creating club via Cloud Function..."),console.log("Sending data:",{venueData:E,password:w,userId:k});const T=await(await fetch("https://europe-west1-sports-booking-app-1d7e5.cloudfunctions.net/createClubHttp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({venueData:E,password:w,userId:k})})).json();if(T.success)console.log("Club created via Cloud Function!"),_=!0,D=T.venueId;else throw new Error(T.error||"Unknown error")}catch(S){throw console.error("Cloud Function failed:",S),S}if(_)c(!1);else{console.log("Saving registration for manual processing...");const S={id:k,userId:k,venueData:E,password:w,timestamp:new Date().toISOString(),status:"pending_manual_creation"};localStorage.setItem("pendingClubRegistration_"+k,JSON.stringify(S)),c(!0)}m({...y,adminPassword:w}),(_||!l)&&u(100),Zt.currentUser&&(await pd(Zt),console.log("Signed out after club creation")),a(!0),console.log("Registration completed successfully!")}catch(w){console.error("Error creating club:",w),console.error("Error details:",{code:w==null?void 0:w.code,message:w==null?void 0:w.message,stack:w==null?void 0:w.stack}),w.code==="auth/email-already-in-use"?o("Этот email уже используется. Пожалуйста, войдите в систему."):w.code==="auth/weak-password"?o("Пароль слишком слабый. Минимум 6 символов."):w.code==="auth/invalid-email"?o("Неверный формат email адреса."):o("Ошибка при создании клуба: "+(w.message||"Неизвестная ошибка"))}finally{n(!1)}};return s.jsxs(gi,{component:"main",maxWidth:"md",children:[s.jsxs(se,{sx:{marginTop:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[s.jsx(Xd,{size:60,className:"mb-4"}),s.jsx(z,{component:"h1",variant:"h4",gutterBottom:!0,children:"Регистрация клуба"}),s.jsx(z,{variant:"body2",color:"textSecondary",align:"center",sx:{mb:3},children:"Создайте аккаунт для управления вашим спортивным клубом"}),s.jsxs(un,{sx:{width:"100%",p:4},children:[r&&s.jsx(Ye,{severity:"error",sx:{mb:3},children:r}),s.jsxs("form",{onSubmit:j,children:[s.jsxs(se,{sx:{display:"grid",gap:2,gridTemplateColumns:{md:"1fr 1fr"}},children:[s.jsx(z,{variant:"h6",sx:{gridColumn:"1 / -1",mb:1},children:"Информация о клубе"}),s.jsx(Ze,{label:"Название клуба",value:y.name,onChange:b=>m({...y,name:b.target.value}),fullWidth:!0,required:!0}),s.jsx(Ze,{label:"Адрес",value:y.address,onChange:b=>m({...y,address:b.target.value}),fullWidth:!0,required:!0}),s.jsx(Ze,{label:"Город",value:y.city,onChange:b=>m({...y,city:b.target.value}),fullWidth:!0,required:!0}),s.jsx(Ze,{label:"Телефон",value:y.phone,onChange:b=>m({...y,phone:b.target.value}),fullWidth:!0,required:!0,placeholder:"+7 (900) 123-45-67"}),s.jsx(Ze,{label:"Email",value:y.email,onChange:b=>m({...y,email:b.target.value}),fullWidth:!0,required:!0,type:"email",sx:{gridColumn:"1 / -1"}}),s.jsx(z,{variant:"h6",sx:{gridColumn:"1 / -1",mt:2,mb:1},children:"Юридическая информация"}),s.jsxs(hr,{fullWidth:!0,children:[s.jsx(Rr,{children:"Форма организации"}),s.jsxs(vr,{value:y.organizationType,onChange:b=>m({...y,organizationType:b.target.value}),label:"Форма организации",children:[s.jsx(It,{value:"ИП",children:"ИП"}),s.jsx(It,{value:"ООО",children:"ООО"}),s.jsx(It,{value:"Самозанятый",children:"Самозанятый"})]})]}),s.jsx(Ze,{label:"ИНН",value:y.inn,onChange:b=>m({...y,inn:b.target.value}),fullWidth:!0}),s.jsx(Ze,{label:"Пароль администратора (необязательно)",value:y.adminPassword,onChange:b=>m({...y,adminPassword:b.target.value}),fullWidth:!0,type:"password",helperText:"Если не указан, будет сгенерирован автоматически"})]}),s.jsxs(se,{sx:{mt:3,display:"flex",gap:2,justifyContent:"flex-end"},children:[s.jsx(Ie,{type:"button",onClick:()=>e("/admin/login"),disabled:t,children:"Уже есть аккаунт?"}),s.jsx(Ie,{type:"submit",variant:"contained",disabled:t,children:t?"Создание...":"Создать клуб"})]})]})]})]}),s.jsxs(ur,{open:i,onClose:()=>{},maxWidth:"sm",fullWidth:!0,children:[s.jsx(Tr,{children:s.jsxs(se,{display:"flex",alignItems:"center",gap:2,children:[s.jsx(Ud,{color:l?"warning":"success"}),l?"Регистрация отправлена!":"Клуб успешно создан!"]})}),s.jsxs(pr,{children:[s.jsx(Ye,{severity:l?"warning":"success",sx:{mb:2},children:l?"Ваша заявка принята! Мы свяжемся с вами в течение 24 часов для завершения регистрации.":"Сохраните эти данные для входа в систему"}),s.jsxs(se,{sx:{display:"flex",flexDirection:"column",gap:2},children:[s.jsxs(se,{children:[s.jsx(z,{variant:"body2",color:"textSecondary",children:"Название клуба"}),s.jsx(z,{variant:"body1",fontWeight:"bold",children:y.name})]}),s.jsxs(se,{children:[s.jsx(z,{variant:"body2",color:"textSecondary",children:"Email администратора"}),s.jsx(z,{variant:"body1",fontWeight:"bold",children:y.email})]}),s.jsxs(se,{children:[s.jsx(z,{variant:"body2",color:"textSecondary",children:"Пароль администратора"}),s.jsx(z,{variant:"body1",fontWeight:"bold",children:y.adminPassword})]})]})]}),s.jsxs(_r,{sx:{justifyContent:"space-between",px:3,pb:3},children:[s.jsx(Ie,{onClick:()=>e("/"),variant:"outlined",children:"На главную"}),!l&&s.jsx(Ie,{onClick:()=>window.open("/admin/login","_blank"),variant:"contained",startIcon:s.jsx(Ud,{}),children:"Вход для админов"})]})]}),s.jsx(ur,{open:t,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{background:"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)",borderRadius:3}},children:s.jsx(pr,{sx:{py:4},children:s.jsxs(se,{textAlign:"center",children:[s.jsx(Xd,{size:80,className:"mb-4"}),s.jsx(z,{variant:"h5",gutterBottom:!0,sx:{mb:4,fontWeight:600},children:"Создаем ваш клуб..."}),s.jsxs(se,{sx:{mb:4},children:[s.jsx(Ky,{variant:"determinate",value:d,sx:{height:8,borderRadius:4,backgroundColor:"rgba(0, 168, 107, 0.1)","& .MuiLinearProgress-bar":{borderRadius:4,backgroundColor:"#00A86B"}}}),s.jsxs(z,{variant:"caption",sx:{mt:1,display:"block"},children:[Math.round(d),"%"]})]}),g&&s.jsx(se,{sx:{minHeight:120},children:gm.map((b,w)=>s.jsx(na,{in:p>=w,timeout:1e3,style:{display:p===w?"block":"none"},children:s.jsxs(se,{children:[s.jsx(se,{sx:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:60,height:60,borderRadius:"50%",backgroundColor:"rgba(0, 168, 107, 0.1)",mb:2},children:Qe.cloneElement(b.icon,{sx:{fontSize:30,color:"#00A86B"}})}),s.jsx(z,{variant:"h6",gutterBottom:!0,children:b.title}),s.jsx(z,{variant:"body2",color:"textSecondary",children:b.description})]})},w))}),s.jsx(z,{variant:"body2",color:"textSecondary",sx:{mt:3},children:"Настраиваем систему управления для вашего клуба..."})]})})})]})}var CA=Object.defineProperty,dl=Object.getOwnPropertySymbols,dx=Object.prototype.hasOwnProperty,ux=Object.prototype.propertyIsEnumerable,vm=(e,t,n)=>t in e?CA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,eu=(e,t)=>{for(var n in t||(t={}))dx.call(t,n)&&vm(e,n,t[n]);if(dl)for(var n of dl(t))ux.call(t,n)&&vm(e,n,t[n]);return e},tu=(e,t)=>{var n={};for(var r in e)dx.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&dl)for(var r of dl(e))t.indexOf(r)<0&&ux.call(e,r)&&(n[r]=e[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var _s;(e=>{const t=class ze{constructor(c,d,u,p){if(this.version=c,this.errorCorrectionLevel=d,this.modules=[],this.isFunction=[],c<ze.MIN_VERSION||c>ze.MAX_VERSION)throw new RangeError("Version value out of range");if(p<-1||p>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let f=[];for(let v=0;v<this.size;v++)f.push(!1);for(let v=0;v<this.size;v++)this.modules.push(f.slice()),this.isFunction.push(f.slice());this.drawFunctionPatterns();const g=this.addEccAndInterleave(u);if(this.drawCodewords(g),p==-1){let v=1e9;for(let y=0;y<8;y++){this.applyMask(y),this.drawFormatBits(y);const m=this.getPenaltyScore();m<v&&(p=y,v=m),this.applyMask(y)}}o(0<=p&&p<=7),this.mask=p,this.applyMask(p),this.drawFormatBits(p),this.isFunction=[]}static encodeText(c,d){const u=e.QrSegment.makeSegments(c);return ze.encodeSegments(u,d)}static encodeBinary(c,d){const u=e.QrSegment.makeBytes(c);return ze.encodeSegments([u],d)}static encodeSegments(c,d,u=1,p=40,f=-1,g=!0){if(!(ze.MIN_VERSION<=u&&u<=p&&p<=ze.MAX_VERSION)||f<-1||f>7)throw new RangeError("Invalid value");let v,y;for(v=u;;v++){const b=ze.getNumDataCodewords(v,d)*8,w=a.getTotalBits(c,v);if(w<=b){y=w;break}if(v>=p)throw new RangeError("Data too long")}for(const b of[ze.Ecc.MEDIUM,ze.Ecc.QUARTILE,ze.Ecc.HIGH])g&&y<=ze.getNumDataCodewords(v,b)*8&&(d=b);let m=[];for(const b of c){n(b.mode.modeBits,4,m),n(b.numChars,b.mode.numCharCountBits(v),m);for(const w of b.getData())m.push(w)}o(m.length==y);const x=ze.getNumDataCodewords(v,d)*8;o(m.length<=x),n(0,Math.min(4,x-m.length),m),n(0,(8-m.length%8)%8,m),o(m.length%8==0);for(let b=236;m.length<x;b^=253)n(b,8,m);let j=[];for(;j.length*8<m.length;)j.push(0);return m.forEach((b,w)=>j[w>>>3]|=b<<7-(w&7)),new ze(v,d,j,f)}getModule(c,d){return 0<=c&&c<this.size&&0<=d&&d<this.size&&this.modules[d][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let u=0;u<this.size;u++)this.setFunctionModule(6,u,u%2==0),this.setFunctionModule(u,6,u%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),d=c.length;for(let u=0;u<d;u++)for(let p=0;p<d;p++)u==0&&p==0||u==0&&p==d-1||u==d-1&&p==0||this.drawAlignmentPattern(c[u],c[p]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const d=this.errorCorrectionLevel.formatBits<<3|c;let u=d;for(let f=0;f<10;f++)u=u<<1^(u>>>9)*1335;const p=(d<<10|u)^21522;o(p>>>15==0);for(let f=0;f<=5;f++)this.setFunctionModule(8,f,r(p,f));this.setFunctionModule(8,7,r(p,6)),this.setFunctionModule(8,8,r(p,7)),this.setFunctionModule(7,8,r(p,8));for(let f=9;f<15;f++)this.setFunctionModule(14-f,8,r(p,f));for(let f=0;f<8;f++)this.setFunctionModule(this.size-1-f,8,r(p,f));for(let f=8;f<15;f++)this.setFunctionModule(8,this.size-15+f,r(p,f));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let u=0;u<12;u++)c=c<<1^(c>>>11)*7973;const d=this.version<<12|c;o(d>>>18==0);for(let u=0;u<18;u++){const p=r(d,u),f=this.size-11+u%3,g=Math.floor(u/3);this.setFunctionModule(f,g,p),this.setFunctionModule(g,f,p)}}drawFinderPattern(c,d){for(let u=-4;u<=4;u++)for(let p=-4;p<=4;p++){const f=Math.max(Math.abs(p),Math.abs(u)),g=c+p,v=d+u;0<=g&&g<this.size&&0<=v&&v<this.size&&this.setFunctionModule(g,v,f!=2&&f!=4)}}drawAlignmentPattern(c,d){for(let u=-2;u<=2;u++)for(let p=-2;p<=2;p++)this.setFunctionModule(c+p,d+u,Math.max(Math.abs(p),Math.abs(u))!=1)}setFunctionModule(c,d,u){this.modules[d][c]=u,this.isFunction[d][c]=!0}addEccAndInterleave(c){const d=this.version,u=this.errorCorrectionLevel;if(c.length!=ze.getNumDataCodewords(d,u))throw new RangeError("Invalid argument");const p=ze.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][d],f=ze.ECC_CODEWORDS_PER_BLOCK[u.ordinal][d],g=Math.floor(ze.getNumRawDataModules(d)/8),v=p-g%p,y=Math.floor(g/p);let m=[];const x=ze.reedSolomonComputeDivisor(f);for(let b=0,w=0;b<p;b++){let N=c.slice(w,w+y-f+(b<v?0:1));w+=N.length;const k=ze.reedSolomonComputeRemainder(N,x);b<v&&N.push(0),m.push(N.concat(k))}let j=[];for(let b=0;b<m[0].length;b++)m.forEach((w,N)=>{(b!=y-f||N>=v)&&j.push(w[b])});return o(j.length==g),j}drawCodewords(c){if(c.length!=Math.floor(ze.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let d=0;for(let u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(let p=0;p<this.size;p++)for(let f=0;f<2;f++){const g=u-f,y=(u+1&2)==0?this.size-1-p:p;!this.isFunction[y][g]&&d<c.length*8&&(this.modules[y][g]=r(c[d>>>3],7-(d&7)),d++)}}o(d==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let d=0;d<this.size;d++)for(let u=0;u<this.size;u++){let p;switch(c){case 0:p=(u+d)%2==0;break;case 1:p=d%2==0;break;case 2:p=u%3==0;break;case 3:p=(u+d)%3==0;break;case 4:p=(Math.floor(u/3)+Math.floor(d/2))%2==0;break;case 5:p=u*d%2+u*d%3==0;break;case 6:p=(u*d%2+u*d%3)%2==0;break;case 7:p=((u+d)%2+u*d%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[d][u]&&p&&(this.modules[d][u]=!this.modules[d][u])}}getPenaltyScore(){let c=0;for(let f=0;f<this.size;f++){let g=!1,v=0,y=[0,0,0,0,0,0,0];for(let m=0;m<this.size;m++)this.modules[f][m]==g?(v++,v==5?c+=ze.PENALTY_N1:v>5&&c++):(this.finderPenaltyAddHistory(v,y),g||(c+=this.finderPenaltyCountPatterns(y)*ze.PENALTY_N3),g=this.modules[f][m],v=1);c+=this.finderPenaltyTerminateAndCount(g,v,y)*ze.PENALTY_N3}for(let f=0;f<this.size;f++){let g=!1,v=0,y=[0,0,0,0,0,0,0];for(let m=0;m<this.size;m++)this.modules[m][f]==g?(v++,v==5?c+=ze.PENALTY_N1:v>5&&c++):(this.finderPenaltyAddHistory(v,y),g||(c+=this.finderPenaltyCountPatterns(y)*ze.PENALTY_N3),g=this.modules[m][f],v=1);c+=this.finderPenaltyTerminateAndCount(g,v,y)*ze.PENALTY_N3}for(let f=0;f<this.size-1;f++)for(let g=0;g<this.size-1;g++){const v=this.modules[f][g];v==this.modules[f][g+1]&&v==this.modules[f+1][g]&&v==this.modules[f+1][g+1]&&(c+=ze.PENALTY_N2)}let d=0;for(const f of this.modules)d=f.reduce((g,v)=>g+(v?1:0),d);const u=this.size*this.size,p=Math.ceil(Math.abs(d*20-u*10)/u)-1;return o(0<=p&&p<=9),c+=p*ze.PENALTY_N4,o(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,d=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let u=[6];for(let p=this.size-7;u.length<c;p-=d)u.splice(1,0,p);return u}}static getNumRawDataModules(c){if(c<ze.MIN_VERSION||c>ze.MAX_VERSION)throw new RangeError("Version number out of range");let d=(16*c+128)*c+64;if(c>=2){const u=Math.floor(c/7)+2;d-=(25*u-10)*u-55,c>=7&&(d-=36)}return o(208<=d&&d<=29648),d}static getNumDataCodewords(c,d){return Math.floor(ze.getNumRawDataModules(c)/8)-ze.ECC_CODEWORDS_PER_BLOCK[d.ordinal][c]*ze.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let d=[];for(let p=0;p<c-1;p++)d.push(0);d.push(1);let u=1;for(let p=0;p<c;p++){for(let f=0;f<d.length;f++)d[f]=ze.reedSolomonMultiply(d[f],u),f+1<d.length&&(d[f]^=d[f+1]);u=ze.reedSolomonMultiply(u,2)}return d}static reedSolomonComputeRemainder(c,d){let u=d.map(p=>0);for(const p of c){const f=p^u.shift();u.push(0),d.forEach((g,v)=>u[v]^=ze.reedSolomonMultiply(g,f))}return u}static reedSolomonMultiply(c,d){if(c>>>8||d>>>8)throw new RangeError("Byte out of range");let u=0;for(let p=7;p>=0;p--)u=u<<1^(u>>>7)*285,u^=(d>>>p&1)*c;return o(u>>>8==0),u}finderPenaltyCountPatterns(c){const d=c[1];o(d<=this.size*3);const u=d>0&&c[2]==d&&c[3]==d*3&&c[4]==d&&c[5]==d;return(u&&c[0]>=d*4&&c[6]>=d?1:0)+(u&&c[6]>=d*4&&c[0]>=d?1:0)}finderPenaltyTerminateAndCount(c,d,u){return c&&(this.finderPenaltyAddHistory(d,u),d=0),d+=this.size,this.finderPenaltyAddHistory(d,u),this.finderPenaltyCountPatterns(u)}finderPenaltyAddHistory(c,d){d[0]==0&&(c+=this.size),d.pop(),d.unshift(c)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(l,c,d){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let u=c-1;u>=0;u--)d.push(l>>>u&1)}function r(l,c){return(l>>>c&1)!=0}function o(l){if(!l)throw new Error("Assertion error")}const i=class Et{constructor(c,d,u){if(this.mode=c,this.numChars=d,this.bitData=u,d<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}static makeBytes(c){let d=[];for(const u of c)n(u,8,d);return new Et(Et.Mode.BYTE,c.length,d)}static makeNumeric(c){if(!Et.isNumeric(c))throw new RangeError("String contains non-numeric characters");let d=[];for(let u=0;u<c.length;){const p=Math.min(c.length-u,3);n(parseInt(c.substring(u,u+p),10),p*3+1,d),u+=p}return new Et(Et.Mode.NUMERIC,c.length,d)}static makeAlphanumeric(c){if(!Et.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let d=[],u;for(u=0;u+2<=c.length;u+=2){let p=Et.ALPHANUMERIC_CHARSET.indexOf(c.charAt(u))*45;p+=Et.ALPHANUMERIC_CHARSET.indexOf(c.charAt(u+1)),n(p,11,d)}return u<c.length&&n(Et.ALPHANUMERIC_CHARSET.indexOf(c.charAt(u)),6,d),new Et(Et.Mode.ALPHANUMERIC,c.length,d)}static makeSegments(c){return c==""?[]:Et.isNumeric(c)?[Et.makeNumeric(c)]:Et.isAlphanumeric(c)?[Et.makeAlphanumeric(c)]:[Et.makeBytes(Et.toUtf8ByteArray(c))]}static makeEci(c){let d=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)n(c,8,d);else if(c<16384)n(2,2,d),n(c,14,d);else if(c<1e6)n(6,3,d),n(c,21,d);else throw new RangeError("ECI assignment value out of range");return new Et(Et.Mode.ECI,0,d)}static isNumeric(c){return Et.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return Et.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,d){let u=0;for(const p of c){const f=p.mode.numCharCountBits(d);if(p.numChars>=1<<f)return 1/0;u+=4+f+p.bitData.length}return u}static toUtf8ByteArray(c){c=encodeURI(c);let d=[];for(let u=0;u<c.length;u++)c.charAt(u)!="%"?d.push(c.charCodeAt(u)):(d.push(parseInt(c.substring(u+1,u+3),16)),u+=2);return d}};i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let a=i;e.QrSegment=i})(_s||(_s={}));(e=>{(t=>{const n=class{constructor(o,i){this.ordinal=o,this.formatBits=i}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(_s||(_s={}));(e=>{(t=>{const n=class{constructor(o,i){this.modeBits=o,this.numBitsCharCount=i}numCharCountBits(o){return this.numBitsCharCount[Math.floor((o+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(_s||(_s={}));var Gs=_s;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var jA={L:Gs.QrCode.Ecc.LOW,M:Gs.QrCode.Ecc.MEDIUM,Q:Gs.QrCode.Ecc.QUARTILE,H:Gs.QrCode.Ecc.HIGH},px=128,hx="L",fx="#FFFFFF",mx="#000000",gx=!1,vx=1,kA=4,SA=0,_A=.1;function yx(e,t=0){const n=[];return e.forEach(function(r,o){let i=null;r.forEach(function(a,l){if(!a&&i!==null){n.push(`M${i+t} ${o+t}h${l-i}v1H${i+t}z`),i=null;return}if(l===r.length-1){if(!a)return;i===null?n.push(`M${l+t},${o+t} h1v1H${l+t}z`):n.push(`M${i+t},${o+t} h${l+1-i}v1H${i+t}z`);return}a&&i===null&&(i=l)})}),n.join("")}function xx(e,t){return e.slice().map((n,r)=>r<t.y||r>=t.y+t.h?n:n.map((o,i)=>i<t.x||i>=t.x+t.w?o:!1))}function TA(e,t,n,r){if(r==null)return null;const o=e.length+n*2,i=Math.floor(t*_A),a=o/t,l=(r.width||i)*a,c=(r.height||i)*a,d=r.x==null?e.length/2-l/2:r.x*a,u=r.y==null?e.length/2-c/2:r.y*a,p=r.opacity==null?1:r.opacity;let f=null;if(r.excavate){let v=Math.floor(d),y=Math.floor(u),m=Math.ceil(l+d-v),x=Math.ceil(c+u-y);f={x:v,y,w:m,h:x}}const g=r.crossOrigin;return{x:d,y:u,h:c,w:l,excavation:f,opacity:p,crossOrigin:g}}function EA(e,t){return t!=null?Math.max(Math.floor(t),0):e?kA:SA}function bx({value:e,level:t,minVersion:n,includeMargin:r,marginSize:o,imageSettings:i,size:a,boostLevel:l}){let c=Qe.useMemo(()=>{const v=(Array.isArray(e)?e:[e]).reduce((y,m)=>(y.push(...Gs.QrSegment.makeSegments(m)),y),[]);return Gs.QrCode.encodeSegments(v,jA[t],n,void 0,void 0,l)},[e,t,n,l]);const{cells:d,margin:u,numCells:p,calculatedImageSettings:f}=Qe.useMemo(()=>{let g=c.getModules();const v=EA(r,o),y=g.length+v*2,m=TA(g,a,v,i);return{cells:g,margin:v,numCells:y,calculatedImageSettings:m}},[c,a,i,r,o]);return{qrcode:c,margin:u,cells:d,numCells:p,calculatedImageSettings:f}}var MA=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),PA=Qe.forwardRef(function(t,n){const r=t,{value:o,size:i=px,level:a=hx,bgColor:l=fx,fgColor:c=mx,includeMargin:d=gx,minVersion:u=vx,boostLevel:p,marginSize:f,imageSettings:g}=r,y=tu(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:m}=y,x=tu(y,["style"]),j=g==null?void 0:g.src,b=Qe.useRef(null),w=Qe.useRef(null),N=Qe.useCallback(M=>{b.current=M,typeof n=="function"?n(M):n&&(n.current=M)},[n]),[k,E]=Qe.useState(!1),{margin:_,cells:D,numCells:S,calculatedImageSettings:T}=bx({value:o,level:a,minVersion:u,boostLevel:p,includeMargin:d,marginSize:f,imageSettings:g,size:i});Qe.useEffect(()=>{if(b.current!=null){const M=b.current,P=M.getContext("2d");if(!P)return;let L=D;const R=w.current,B=T!=null&&R!==null&&R.complete&&R.naturalHeight!==0&&R.naturalWidth!==0;B&&T.excavation!=null&&(L=xx(D,T.excavation));const A=window.devicePixelRatio||1;M.height=M.width=i*A;const I=i/S*A;P.scale(I,I),P.fillStyle=l,P.fillRect(0,0,S,S),P.fillStyle=c,MA?P.fill(new Path2D(yx(L,_))):D.forEach(function(F,V){F.forEach(function(Y,W){Y&&P.fillRect(W+_,V+_,1,1)})}),T&&(P.globalAlpha=T.opacity),B&&P.drawImage(R,T.x+_,T.y+_,T.w,T.h)}}),Qe.useEffect(()=>{E(!1)},[j]);const $=eu({height:i,width:i},m);let O=null;return j!=null&&(O=Qe.createElement("img",{src:j,key:j,style:{display:"none"},onLoad:()=>{E(!0)},ref:w,crossOrigin:T==null?void 0:T.crossOrigin})),Qe.createElement(Qe.Fragment,null,Qe.createElement("canvas",eu({style:$,height:i,width:i,ref:N,role:"img"},x)),O)});PA.displayName="QRCodeCanvas";var ul=Qe.forwardRef(function(t,n){const r=t,{value:o,size:i=px,level:a=hx,bgColor:l=fx,fgColor:c=mx,includeMargin:d=gx,minVersion:u=vx,boostLevel:p,title:f,marginSize:g,imageSettings:v}=r,y=tu(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:m,cells:x,numCells:j,calculatedImageSettings:b}=bx({value:o,level:a,minVersion:u,boostLevel:p,includeMargin:d,marginSize:g,imageSettings:v,size:i});let w=x,N=null;v!=null&&b!=null&&(b.excavation!=null&&(w=xx(x,b.excavation)),N=Qe.createElement("image",{href:v.src,height:b.h,width:b.w,x:b.x+m,y:b.y+m,preserveAspectRatio:"none",opacity:b.opacity,crossOrigin:b.crossOrigin}));const k=yx(w,m);return Qe.createElement("svg",eu({height:i,width:i,viewBox:`0 0 ${j} ${j}`,ref:n,role:"img"},y),!!f&&Qe.createElement("title",null,f),Qe.createElement("path",{fill:l,d:`M0,0 h${j}v${j}H0z`,shapeRendering:"crispEdges"}),Qe.createElement("path",{fill:c,d:k,shapeRendering:"crispEdges"}),N)});ul.displayName="QRCodeSVG";const va=({title:e,value:t,icon:n,change:r,isPositive:o})=>s.jsxs("div",{className:"stat-card",children:[s.jsxs("div",{className:"stat-header",children:[s.jsx("span",{className:"stat-label",children:e}),s.jsx("div",{className:"stat-icon",children:n})]}),s.jsx("div",{className:"stat-value",children:t}),s.jsxs("div",{className:`stat-change ${o?"":"negative"}`,children:[o?s.jsx(GR,{fontSize:"small"}):s.jsx(YR,{fontSize:"small"}),r]})]});function NA(){var D;const{currentUser:e,admin:t}=Lt(),{isSuperAdmin:n}=rn(),[r,o]=h.useState(null),[i,a]=h.useState(!1),[l,c]=h.useState(!1),[d,u]=h.useState([]),[p,f]=h.useState({todayBookings:0,todayRevenue:0,utilization:0,activeCustomers:0,bookingsChange:0,revenueChange:0,utilizationChange:0}),[g,v]=h.useState(!0),[y,m]=h.useState([]),[x,j]=h.useState("all");h.useEffect(()=>{(async()=>{n?(await b(),x==="all"?await w():await N(x)):t!=null&&t.venueId&&(o(t.venueId),await N(t.venueId)),v(!1)})()},[e,t,n,x]);const b=async()=>{try{const S=$e(Ne(re,"venues"),Te("status","==","active")),$=(await Fe(S)).docs.map(O=>({id:O.id,name:O.data().name}));m($)}catch(S){console.error("Error loading venues:",S)}},w=async()=>{var S;try{const T=new Date,$=new Date(T.getFullYear(),T.getMonth(),T.getDate()),O=new Date(T.getFullYear(),T.getMonth(),T.getDate(),23,59,59);let M=y;if(M.length===0){const X=$e(Ne(re,"venues"),Te("status","==","active"));M=(await Fe(X)).docs.map(ie=>({id:ie.id,name:ie.data().name}))}const P=$e(Ne(re,"bookings")),L=await Fe(P),R=L.docs.filter(X=>{var J,de;const q=X.data(),ie=(de=(J=q.date)==null?void 0:J.toDate)==null?void 0:de.call(J);return ie?ie>=$&&ie<=O&&q.status==="confirmed":!1}),B=R.length,A=R.reduce((X,q)=>X+(q.data().amount||0),0),I=L.docs.sort((X,q)=>{var de,U,oe,he,Z,le,ce,te;const ie=((U=(de=X.data().createdAt)==null?void 0:de.toDate)==null?void 0:U.call(de))||((he=(oe=X.data().date)==null?void 0:oe.toDate)==null?void 0:he.call(oe))||new Date(0);return(((le=(Z=q.data().createdAt)==null?void 0:Z.toDate)==null?void 0:le.call(Z))||((te=(ce=q.data().date)==null?void 0:ce.toDate)==null?void 0:te.call(ce))||new Date(0)).getTime()-ie.getTime()}).slice(0,10),F=[];for(const X of I){const q=X.data();let ie="",J="Корт";if(q.venueId){const de=M.find(U=>U.id===q.venueId);if(ie=(de==null?void 0:de.name)||"",q.courtId)try{const U=await ut(X(re,"venues",q.venueId,"courts",q.courtId));U.exists()&&(J=U.data().name)}catch(U){console.error("Error fetching court:",U)}}F.push({id:X.id,clientName:q.clientName||q.customerName||"Неизвестный клиент",courtName:ie?`${ie} - ${J}`:J,date:((S=q.date)==null?void 0:S.toDate())||new Date,startTime:q.startTime||q.time||"",endTime:q.endTime||"",status:q.status||"pending",amount:q.amount||0})}u(F);let V=0;for(const X of M){const q=$e(Ne(re,"venues",X.id,"courts"),Te("status","==","active")),ie=await Fe(q);V+=ie.size}const Y=V*16,W=Y>0?Math.round(B/Y*100):0,G=new Date;G.setDate(G.getDate()-30);const H=L.docs.filter(X=>{var J,de;const ie=(de=(J=X.data().date)==null?void 0:J.toDate)==null?void 0:de.call(J);return ie&&ie>=G}),K=new Set(H.map(X=>X.data().clientPhone||X.data().customerPhone));f({todayBookings:B,todayRevenue:A,utilization:W,activeCustomers:K.size,bookingsChange:15,revenueChange:10,utilizationChange:-3})}catch(T){console.error("Error loading all venues data:",T)}},N=async S=>{var T,$;try{const O=new Date,M=new Date(O.getFullYear(),O.getMonth(),O.getDate()),P=new Date(O.getFullYear(),O.getMonth(),O.getDate(),23,59,59),L=$e(Ne(re,"bookings"),Te("venueId","==",S)),B=(await Fe(L)).docs.map(U=>({id:U.id,...U.data()})).sort((U,oe)=>{var le,ce,te,ke,pe,De,Re,Ee;const he=((ce=(le=U.createdAt)==null?void 0:le.toDate)==null?void 0:ce.call(le))||((ke=(te=U.date)==null?void 0:te.toDate)==null?void 0:ke.call(te))||new Date(0);return(((De=(pe=oe.createdAt)==null?void 0:pe.toDate)==null?void 0:De.call(pe))||((Ee=(Re=oe.date)==null?void 0:Re.toDate)==null?void 0:Ee.call(Re))||new Date(0)).getTime()-he.getTime()}).slice(0,5),A=[];for(const U of B){let oe=U.courtName||"Корт";if(U.courtId&&!U.courtName)try{const he=await ut(Pe(re,"venues",S,"courts",U.courtId));he.exists()&&(oe=he.data().name)}catch(he){console.error("Error fetching court:",he)}A.push({id:U.id,clientName:U.clientName||U.customerName||"Неизвестный клиент",courtName:oe,date:(($=(T=U.date)==null?void 0:T.toDate)==null?void 0:$.call(T))||new Date,startTime:U.startTime||U.time||"",endTime:U.endTime||"",status:U.status||"pending",amount:U.amount||0})}u(A);const I=$e(Ne(re,"bookings"),Te("venueId","==",S)),F=await Fe(I),V=F.docs.filter(U=>{var Z,le;const oe=U.data(),he=(le=(Z=oe.date)==null?void 0:Z.toDate)==null?void 0:le.call(Z);return he?he>=M&&he<=P&&oe.status==="confirmed":!1}),Y=V.length,W=V.reduce((U,oe)=>U+(oe.data().amount||0),0),G=$e(Ne(re,"venues",S,"courts"),Te("status","==","active")),X=(await Fe(G)).size*16,q=X>0?Math.round(Y/X*100):0,ie=new Date;ie.setDate(ie.getDate()-30);const J=F.docs.filter(U=>{var Z,le;const he=(le=(Z=U.data().date)==null?void 0:Z.toDate)==null?void 0:le.call(Z);return he&&he>=ie}),de=new Set(J.map(U=>U.data().clientPhone||U.data().customerPhone));f({todayBookings:Y,todayRevenue:W,utilization:q,activeCustomers:de.size,bookingsChange:12,revenueChange:8,utilizationChange:-5})}catch(O){console.error("Error loading dashboard data:",O)}},k=()=>r?`https://allcourt.ru/club/${r}`:"",E=()=>{const S=k();S&&(navigator.clipboard.writeText(S),c(!0),setTimeout(()=>c(!1),2e3))},_=async()=>{const S=k();if(S)if(navigator.share)try{await navigator.share({title:"Забронировать корт",text:"Забронируйте корт в нашем клубе",url:S})}catch(T){console.log("Share failed:",T)}else E()};return g?s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},children:s.jsx("div",{children:"Загрузка..."})}):s.jsxs("div",{children:[n&&s.jsx("div",{className:"section-card",style:{marginBottom:"24px"},children:s.jsx("div",{style:{display:"flex",alignItems:"center",gap:"16px",justifyContent:"space-between",flexWrap:"wrap"},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[s.jsx("label",{style:{fontWeight:"600"},children:"Фильтр по клубу:"}),s.jsxs("select",{className:"form-select",style:{maxWidth:"300px"},value:x,onChange:S=>j(S.target.value),children:[s.jsx("option",{value:"all",children:"Все клубы"}),y.map(S=>s.jsx("option",{value:S.id,children:S.name},S.id))]})]})})}),!n&&r&&s.jsxs("div",{className:"section-card",style:{marginBottom:"24px"},children:[s.jsx("div",{className:"section-header",children:s.jsx("h2",{className:"section-title",children:"Ссылка для бронирования"})}),s.jsxs("div",{style:{display:"flex",gap:"24px",alignItems:"center",flexWrap:"wrap"},children:[s.jsxs("div",{onClick:()=>a(!0),style:{cursor:"pointer",padding:"8px",border:"1px solid var(--extra-light-gray)",borderRadius:"8px",transition:"all 0.3s ease"},onMouseEnter:S=>S.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)",onMouseLeave:S=>S.currentTarget.style.boxShadow="none",children:[s.jsx(ul,{value:k(),size:120,level:"M",includeMargin:!0}),s.jsx("div",{style:{textAlign:"center",marginTop:"8px"},children:s.jsxs("button",{className:"btn btn-secondary btn-icon",children:[s.jsx(jp,{fontSize:"small"}),s.jsx("span",{children:"Увеличить"})]})})]}),s.jsxs("div",{style:{flex:1,minWidth:"250px"},children:[s.jsxs("div",{style:{marginBottom:"12px"},children:[s.jsx("label",{style:{fontSize:"14px",color:"var(--gray)",display:"block",marginBottom:"4px"},children:"Отправьте эту ссылку клиентам:"}),s.jsxs("div",{style:{display:"flex",gap:"8px",padding:"12px",background:"var(--background)",borderRadius:"8px",alignItems:"center"},children:[s.jsx("input",{type:"text",value:k(),readOnly:!0,style:{flex:1,border:"none",background:"transparent",fontSize:"14px",outline:"none"}}),s.jsxs("button",{className:"btn btn-primary btn-icon",onClick:E,children:[l?s.jsx(ps,{fontSize:"small"}):s.jsx(rx,{fontSize:"small"}),s.jsx("span",{children:l?"Скопировано":"Копировать"})]})]})]}),s.jsx("div",{style:{display:"flex",gap:"8px"},children:s.jsxs("button",{className:"btn btn-secondary",onClick:_,children:[s.jsx(ax,{fontSize:"small"}),s.jsx("span",{children:"Поделиться"})]})})]})]})]}),n&&s.jsx("h2",{style:{marginBottom:"24px",fontSize:"24px",fontWeight:"700"},children:x==="all"?"Общая статистика по всем клубам":`Статистика клуба "${(D=y.find(S=>S.id===x))==null?void 0:D.name}"`}),s.jsxs("div",{className:"stats-grid",children:[s.jsx(va,{title:"Бронирований сегодня",value:p.todayBookings,icon:s.jsx(bp,{}),change:`${p.bookingsChange>0?"+":""}${p.bookingsChange}% от вчера`,isPositive:p.bookingsChange>0}),s.jsx(va,{title:"Доход за сегодня",value:`${p.todayRevenue.toLocaleString("ru-RU")}₽`,icon:s.jsx(xo,{}),change:`${p.revenueChange>0?"+":""}${p.revenueChange}% от вчера`,isPositive:p.revenueChange>0}),s.jsx(va,{title:"Загрузка кортов",value:`${p.utilization}%`,icon:s.jsx(xc,{}),change:`${p.utilizationChange>0?"+":""}${p.utilizationChange}% от вчера`,isPositive:p.utilizationChange>0}),s.jsx(va,{title:"Активных клиентов",value:p.activeCustomers,icon:s.jsx(Cp,{}),change:"за последние 30 дней",isPositive:!0})]}),s.jsxs("div",{className:"section-card",children:[s.jsxs("div",{className:"section-header",children:[s.jsx("h2",{className:"section-title",children:"Последние бронирования"}),s.jsx("button",{className:"btn btn-secondary",onClick:()=>window.location.href="/admin/bookings",children:"Все бронирования"})]}),s.jsx("div",{className:"table-wrapper",children:g?s.jsx("div",{style:{textAlign:"center",padding:"40px"},children:"Загрузка..."}):d.length===0?s.jsx("div",{style:{textAlign:"center",padding:"40px",color:"var(--gray)"},children:"Пока нет бронирований"}):s.jsxs("table",{children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Клиент"}),s.jsx("th",{children:n&&x==="all"?"Клуб / Корт":"Корт"}),s.jsx("th",{children:"Дата и время"}),s.jsx("th",{children:"Статус"}),s.jsx("th",{children:"Сумма"})]})}),s.jsx("tbody",{children:d.map(S=>s.jsxs("tr",{children:[s.jsx("td",{children:S.clientName}),s.jsx("td",{children:S.courtName}),s.jsxs("td",{children:[S.date.toLocaleDateString("ru-RU"),", ",S.startTime,S.endTime&&`-${S.endTime}`]}),s.jsxs("td",{children:[S.status==="confirmed"&&s.jsx("span",{style:{color:"var(--success)"},children:"✅ Подтверждено"}),S.status==="pending"&&s.jsx("span",{style:{color:"var(--warning)"},children:"⏳ Ожидает оплаты"}),S.status==="cancelled"&&s.jsx("span",{style:{color:"var(--danger)"},children:"❌ Отменено"})]}),s.jsxs("td",{children:[S.amount.toLocaleString("ru-RU"),"₽"]})]},S.id))})]})})]}),i&&s.jsx("div",{className:"modal active",onClick:()=>a(!1),style:{display:"flex",position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:1e3,alignItems:"center",justifyContent:"center"},children:s.jsxs("div",{className:"modal-content",onClick:S=>S.stopPropagation(),style:{background:"white",borderRadius:"12px",padding:"24px",maxWidth:"400px",width:"90%",textAlign:"center"},children:[s.jsxs("div",{className:"modal-header",style:{marginBottom:"24px"},children:[s.jsx("h2",{className:"modal-title",children:"QR код для бронирования"}),s.jsx("button",{className:"modal-close",onClick:()=>a(!1),style:{position:"absolute",right:"24px",top:"24px",background:"none",border:"none",fontSize:"24px",cursor:"pointer"},children:"×"})]}),s.jsxs("div",{className:"modal-body",children:[s.jsx(ul,{value:k(),size:256,level:"H",includeMargin:!0}),s.jsxs("p",{style:{marginTop:"16px",color:"var(--gray)",fontSize:"14px"},children:["Клиенты могут отсканировать этот QR код,",s.jsx("br",{}),"чтобы забронировать корт"]}),s.jsx("div",{style:{marginTop:"24px"},children:s.jsx("button",{className:"btn btn-primary",onClick:()=>{const S=document.querySelector("svg");if(S){const T=new XMLSerializer().serializeToString(S),$=new Blob([T],{type:"image/svg+xml;charset=utf-8"}),O=URL.createObjectURL($),M=document.createElement("a");M.href=O,M.download=`qr-code-booking-${r}.svg`,document.body.appendChild(M),M.click(),document.body.removeChild(M)}},children:"Скачать QR код"})})]})]})})]})}const Lo=({children:e,permission:t,role:n,requireAll:r=!1,fallback:o})=>{const{hasPermission:i,hasAllPermissions:a,hasRole:l}=rn();return n&&!l(n)?o?s.jsx(s.Fragment,{children:o}):s.jsxs(Ye,{severity:"error",sx:{mt:2},children:[s.jsx(ol,{children:"Доступ запрещен"}),"У вас недостаточно прав для просмотра этой страницы."]}):t&&!(r&&Array.isArray(t)?a(t):i(t))?o?s.jsx(s.Fragment,{children:o}):s.jsxs(Ye,{severity:"error",sx:{mt:2},children:[s.jsx(ol,{children:"Доступ запрещен"}),"У вас недостаточно прав для просмотра этой страницы."]}):s.jsx(s.Fragment,{children:e})},Bo=({selectedVenueId:e,onVenueChange:t,label:n="Управление клубом",showHint:r=!1})=>{const[o,i]=h.useState([]),[a,l]=h.useState(!0);h.useEffect(()=>{c()},[]);const c=async()=>{try{const d=$e(Ne(re,"venues"),Te("status","==","active")),p=(await Fe(d)).docs.map(f=>({id:f.id,...f.data()}));i(p)}catch(d){console.error("Error fetching venues:",d)}finally{l(!1)}};return a?s.jsx("div",{children:"Загрузка клубов..."}):s.jsx("div",{className:"section-card",style:{marginBottom:"24px"},children:s.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[s.jsx("label",{className:"form-label",children:n}),s.jsxs("select",{className:"form-select",value:e||"",onChange:d=>t(d.target.value),style:{maxWidth:"400px"},children:[s.jsx("option",{value:"",children:"Выберите клуб"}),o.map(d=>s.jsx("option",{value:d.id,children:d.name},d.id))]}),r&&s.jsx("p",{className:"form-hint",children:"Выберите клуб для управления"})]})})},Fo=({title:e})=>{const[t,n]=h.useState([]),[r,o]=h.useState(!0);h.useEffect(()=>{i()},[]);const i=async()=>{try{const l=$e(Ne(re,"venues"),Te("status","==","active")),d=(await Fe(l)).docs.map(u=>({id:u.id,...u.data()}));n(d)}catch(l){console.error("Error fetching venues:",l)}finally{o(!1)}},a=l=>{l&&(localStorage.setItem("selectedVenueId",l),window.location.reload())};return r?s.jsx("div",{children:"Загрузка..."}):s.jsx("div",{children:s.jsxs("div",{className:"section-card",children:[s.jsx("div",{className:"section-header",children:s.jsx("h2",{className:"section-title",children:e})}),s.jsxs("div",{className:"form-group",style:{maxWidth:"400px"},children:[s.jsx("label",{className:"form-label",children:"Клуб"}),s.jsxs("select",{className:"form-select",value:"",onChange:l=>a(l.target.value),children:[s.jsx("option",{value:"",children:"Выберите клуб для управления"}),t.map(l=>s.jsx("option",{value:l.id,children:l.name},l.id))]}),s.jsx("p",{className:"form-hint",children:"Выберите клуб для просмотра и управления"})]})]})})};function IA(){const e=nn(),{club:t,admin:n,refreshClubData:r}=Lt(),{isSuperAdmin:o,canManageClub:i}=rn(),[a,l]=h.useState(null),[c,d]=h.useState(null),[u,p]=h.useState(!1),[f,g]=h.useState(!1),[v,y]=h.useState(null),[m,x]=h.useState({name:"",phone:"",address:"",city:"",latitude:"",longitude:"",description:"",amenities:{showers:!1,parking:!1,cafe:!1,proshop:!1,lockers:!1},organizationType:"",inn:"",bankAccount:"",legalName:"",ogrn:"",kpp:"",legalAddress:"",bankName:"",bankBik:"",bankCorrespondentAccount:"",directorName:"",directorPosition:"",workingHours:{monday:"07:00-23:00",tuesday:"07:00-23:00",wednesday:"07:00-23:00",thursday:"07:00-23:00",friday:"07:00-23:00",saturday:"08:00-22:00",sunday:"08:00-22:00"},bookingDurations:{60:!0,90:!0,120:!0},bookingSlotInterval:30}),[j,b]=h.useState([]),[w,N]=h.useState(!1);h.useEffect(()=>{var R,B,A,I,F,V,Y,W;if(o){const G=localStorage.getItem("selectedVenueId");G&&(l(G),E(G))}else t&&(console.log("Updating form data from club:",t),x({name:t.name||"",phone:t.phone||"",address:t.address||"",city:t.city||"",latitude:((B=(R=t.location)==null?void 0:R._lat)==null?void 0:B.toString())||((I=(A=t.location)==null?void 0:A.latitude)==null?void 0:I.toString())||"",longitude:((V=(F=t.location)==null?void 0:F._long)==null?void 0:V.toString())||((W=(Y=t.location)==null?void 0:Y.longitude)==null?void 0:W.toString())||"",description:t.description||"",amenities:{showers:Array.isArray(t.amenities)&&t.amenities.includes("showers")||!1,parking:Array.isArray(t.amenities)&&t.amenities.includes("parking")||!1,cafe:Array.isArray(t.amenities)&&t.amenities.includes("cafe")||!1,proshop:Array.isArray(t.amenities)&&t.amenities.includes("proshop")||!1,lockers:Array.isArray(t.amenities)&&t.amenities.includes("lockers")||!1},organizationType:t.organizationType||"",inn:t.inn||"",bankAccount:t.bankAccount||"",legalName:t.legalName||"",ogrn:t.ogrn||"",kpp:t.kpp||"",legalAddress:t.legalAddress||"",bankName:t.bankName||"",bankBik:t.bankBik||"",bankCorrespondentAccount:t.bankCorrespondentAccount||"",directorName:t.directorName||"",directorPosition:t.directorPosition||"",workingHours:t.workingHours||{monday:"07:00-23:00",tuesday:"07:00-23:00",wednesday:"07:00-23:00",thursday:"07:00-23:00",friday:"07:00-23:00",saturday:"08:00-22:00",sunday:"08:00-22:00"},bookingDurations:t.bookingDurations||{60:!0,90:!0,120:!0},bookingSlotInterval:t.bookingSlotInterval||30}),b(t.photos||[]))},[t,o]);const k=R=>{l(R),localStorage.setItem("selectedVenueId",R),R&&E(R)},E=async R=>{var B,A,I,F,V,Y,W,G;try{console.log("Loading venue data for:",R);const H=await ut(Pe(re,"venues",R));if(H.exists()){const K=H.data();console.log("Venue data loaded:",K),d({id:H.id,...K}),x({name:K.name||"",phone:K.phone||"",address:K.address||"",city:K.city||"",latitude:((A=(B=K.location)==null?void 0:B._lat)==null?void 0:A.toString())||((F=(I=K.location)==null?void 0:I.latitude)==null?void 0:F.toString())||"",longitude:((Y=(V=K.location)==null?void 0:V._long)==null?void 0:Y.toString())||((G=(W=K.location)==null?void 0:W.longitude)==null?void 0:G.toString())||"",description:K.description||"",amenities:{showers:Array.isArray(K.amenities)&&K.amenities.includes("showers")||!1,parking:Array.isArray(K.amenities)&&K.amenities.includes("parking")||!1,cafe:Array.isArray(K.amenities)&&K.amenities.includes("cafe")||!1,proshop:Array.isArray(K.amenities)&&K.amenities.includes("proshop")||!1,lockers:Array.isArray(K.amenities)&&K.amenities.includes("lockers")||!1},organizationType:K.organizationType||"",inn:K.inn||"",bankAccount:K.bankAccount||"",legalName:K.legalName||"",ogrn:K.ogrn||"",kpp:K.kpp||"",legalAddress:K.legalAddress||"",bankName:K.bankName||"",bankBik:K.bankBik||"",bankCorrespondentAccount:K.bankCorrespondentAccount||"",directorName:K.directorName||"",directorPosition:K.directorPosition||"",workingHours:K.workingHours||{monday:"07:00-23:00",tuesday:"07:00-23:00",wednesday:"07:00-23:00",thursday:"07:00-23:00",friday:"07:00-23:00",saturday:"08:00-22:00",sunday:"08:00-22:00"},bookingDurations:K.bookingDurations||{60:!0,90:!0,120:!0},bookingSlotInterval:K.bookingSlotInterval||30}),b(K.photos||[])}}catch(H){console.error("Error loading venue:",H)}},_=R=>{const{name:B,value:A}=R.target;x(I=>({...I,[B]:A}))},D=R=>{x(B=>({...B,amenities:{...B.amenities,[R]:!B.amenities[R]}}))},S=async R=>{var I;const B=(I=R.target.files)==null?void 0:I[0];if(!B)return;const A=o?a:n==null?void 0:n.venueId;if(!A){y("Не выбран клуб");return}try{p(!0);const F=Fp($d,`clubs/${A}/logo.${B.name.split(".").pop()}`),V=await zp(F,B),Y=await Wp(V.ref);await Ct(Pe(re,"venues",A),{logoUrl:Y}),o&&c?d({...c,logoUrl:Y}):await r(),g(!0),setTimeout(()=>g(!1),3e3)}catch(F){console.error("Error uploading logo:",F),y("Ошибка при загрузке логотипа")}finally{p(!1)}},T=async R=>{const B=R.target.files;if(!B||B.length===0)return;const A=o?a:n==null?void 0:n.venueId;if(!A){y("Не выбран клуб");return}if(j.length+B.length>5){y("Максимальное количество фотографий - 5");return}try{N(!0);const I=[];for(let Y=0;Y<B.length;Y++){const W=B[Y];if(W.size>5*1024*1024){y(`Файл ${W.name} превышает максимальный размер 5 МБ`);continue}if(!W.type.startsWith("image/")){y(`Файл ${W.name} не является изображением`);continue}const H=`photo_${Date.now()}_${Y}.${W.name.split(".").pop()}`,K=Fp($d,`clubs/${A}/photos/${H}`);I.push(zp(K,W).then(async X=>await Wp(X.ref)))}const F=await Promise.all(I),V=[...j,...F];b(V),await Ct(Pe(re,"venues",A),{photos:V}),o&&c?d({...c,photos:V}):await r(),g(!0),setTimeout(()=>g(!1),3e3)}catch(I){console.error("Error uploading photos:",I),y("Ошибка при загрузке фотографий")}finally{N(!1)}},$=async()=>{const R=o?a:n==null?void 0:n.venueId;if(!R){y("Не выбран клуб");return}try{p(!0),await Ct(Pe(re,"venues",R),{logoUrl:null}),o&&c?d({...c,logoUrl:null}):await r(),g(!0),setTimeout(()=>g(!1),3e3)}catch(B){console.error("Error deleting logo:",B),y("Ошибка при удалении логотипа")}finally{p(!1)}},O=async(R,B)=>{const A=o?a:n==null?void 0:n.venueId;if(!A){y("Не выбран клуб");return}try{p(!0);const I=j.filter((F,V)=>V!==B);b(I),await Ct(Pe(re,"venues",A),{photos:I}),o&&c?d({...c,photos:I}):await r(),g(!0),setTimeout(()=>g(!1),3e3)}catch(I){console.error("Error deleting photo:",I),y("Ошибка при удалении фотографии")}finally{p(!1)}},M=async R=>{R.preventDefault();const B=o?a:n==null?void 0:n.venueId;if(B)try{p(!0);const A=Object.entries(m.amenities).filter(([F,V])=>V).map(([F])=>F),I={name:m.name,phone:m.phone,address:m.address,city:m.city,description:m.description,amenities:A,workingHours:m.workingHours,bookingDurations:m.bookingDurations,bookingSlotInterval:m.bookingSlotInterval,updatedAt:new Date};m.latitude&&m.longitude&&(I.location=new Wb(parseFloat(m.latitude),parseFloat(m.longitude))),await Ct(Pe(re,"venues",B),I),o&&c?await E(B):(await r(),console.log("Club data refreshed successfully")),g(!0),setTimeout(()=>g(!1),3e3)}catch(A){console.error("Error updating club:",A),y("Ошибка при сохранении данных")}finally{p(!1)}},P=async R=>{R.preventDefault();const B=o?a:n==null?void 0:n.venueId;if(B)try{p(!0);const A={organizationType:m.organizationType,inn:m.inn,bankAccount:m.bankAccount,legalName:m.legalName,ogrn:m.ogrn,kpp:m.kpp,legalAddress:m.legalAddress,bankName:m.bankName,bankBik:m.bankBik,bankCorrespondentAccount:m.bankCorrespondentAccount,directorName:m.directorName,directorPosition:m.directorPosition,updatedAt:new Date};await Ct(Pe(re,"venues",B),A),o&&c?await E(B):(await r(),console.log("Club data refreshed successfully")),g(!0),setTimeout(()=>g(!1),3e3)}catch(A){console.error("Error updating requisites:",A),y("Ошибка при сохранении реквизитов")}finally{p(!1)}};if(!i())return s.jsxs(Ye,{severity:"error",children:[s.jsx(ol,{children:"Доступ запрещен"}),"У вас недостаточно прав для управления клубом."]});if(o&&!a)return s.jsx(Fo,{title:"Выберите клуб для управления"});const L=o?c:t;return s.jsx(Lo,{permission:["manage_club","manage_all_venues"],children:s.jsxs("div",{children:[o&&s.jsx(Bo,{selectedVenueId:a,onVenueChange:k}),s.jsxs("div",{className:"section-card",children:[s.jsxs("h2",{className:"section-title",children:["Информация о клубе",o&&c&&s.jsx("span",{style:{fontSize:"16px",color:"var(--gray)",marginLeft:"16px"},children:c.name})]}),s.jsxs("div",{style:{backgroundColor:"#e3f2fd",padding:"12px 16px",borderRadius:"8px",marginBottom:"20px",fontSize:"14px",color:"#1976d2"},children:[s.jsx("strong",{children:"💡 Как получить координаты:"}),s.jsx("br",{}),"1. Откройте ",s.jsx("a",{href:"https://maps.google.com",target:"_blank",rel:"noopener noreferrer",style:{color:"#1976d2"},children:"Google Maps"}),s.jsx("br",{}),"2. Найдите ваш клуб на карте",s.jsx("br",{}),"3. Кликните правой кнопкой мыши на нужное место",s.jsx("br",{}),"4. Скопируйте координаты (первое число - широта, второе - долгота)"]}),s.jsxs("form",{onSubmit:M,children:[v&&s.jsx(Ye,{severity:"error",sx:{mb:3},onClose:()=>y(null),children:v}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Логотип клуба"}),s.jsxs("div",{className:"logo-uploader",style:{display:"flex",alignItems:"center",gap:"24px"},children:[s.jsx("div",{className:"logo-preview",style:{width:"120px",height:"120px",border:"2px dashed var(--extra-light-gray)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",background:"var(--background)",position:"relative"},onMouseEnter:R=>{const B=R.currentTarget.querySelector("button");B&&(B.style.opacity="1")},onMouseLeave:R=>{const B=R.currentTarget.querySelector("button");B&&(B.style.opacity="0")},children:L!=null&&L.logoUrl?s.jsxs(s.Fragment,{children:[s.jsx("img",{src:L.logoUrl,alt:L.name,style:{width:"100%",height:"100%",objectFit:"cover"}}),s.jsx("button",{type:"button",onClick:$,style:{position:"absolute",top:"4px",right:"4px",width:"28px",height:"28px",borderRadius:"50%",background:"rgba(255, 255, 255, 0.9)",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",opacity:0,transition:"opacity 0.2s"},disabled:u,children:s.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"#dc2626",children:s.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}):s.jsxs("div",{style:{textAlign:"center",color:"var(--gray)"},children:[s.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"var(--light-gray)",children:s.jsx("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"})}),s.jsx("p",{style:{fontSize:"12px",marginTop:"8px"},children:"Нажмите для загрузки"})]})}),s.jsxs("div",{children:[s.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>{var R;return(R=document.getElementById("logoInput"))==null?void 0:R.click()},disabled:u,children:"Загрузить логотип"}),s.jsx("input",{type:"file",id:"logoInput",accept:"image/*",style:{display:"none"},onChange:S}),s.jsxs("p",{className:"form-hint",children:["Рекомендуемый размер: 500x500px",s.jsx("br",{}),"Максимум 2MB. PNG, JPG или SVG"]})]})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Фотографии клуба"}),s.jsx("div",{style:{marginBottom:"16px"},children:s.jsx("p",{className:"form-hint",children:"Максимум 5 фотографий, до 5 МБ каждая. Рекомендуемый размер: 1920x1080px"})}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"16px",marginBottom:"16px"},children:[j.map((R,B)=>s.jsxs("div",{style:{position:"relative",paddingBottom:"56.25%",overflow:"hidden",borderRadius:"12px",background:"var(--extra-light-gray)"},children:[s.jsx("img",{src:R,alt:`Фото ${B+1}`,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}}),s.jsx("button",{type:"button",onClick:()=>O(R,B),style:{position:"absolute",top:"8px",right:"8px",width:"32px",height:"32px",borderRadius:"50%",background:"rgba(255, 255, 255, 0.9)",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},disabled:u,children:s.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"#dc2626",children:s.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]},B)),j.length<5&&s.jsx("div",{onClick:()=>{var R;return(R=document.getElementById("photosInput"))==null?void 0:R.click()},style:{position:"relative",paddingBottom:"56.25%",overflow:"hidden",borderRadius:"12px",border:"2px dashed var(--extra-light-gray)",background:"var(--background)",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:R=>{R.currentTarget.style.borderColor="var(--primary)",R.currentTarget.style.background="rgba(0, 214, 50, 0.05)"},onMouseLeave:R=>{R.currentTarget.style.borderColor="var(--extra-light-gray)",R.currentTarget.style.background="var(--background)"},children:s.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",color:"var(--gray)"},children:[s.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"var(--light-gray)",children:s.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})}),s.jsx("p",{style:{fontSize:"14px",marginTop:"8px"},children:w?"Загрузка...":"Добавить фото"})]})})]}),s.jsx("input",{type:"file",id:"photosInput",accept:"image/*",multiple:!0,style:{display:"none"},onChange:T,disabled:w||j.length>=5})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Название клуба"}),s.jsx("input",{type:"text",className:"form-input",name:"name",value:m.name,onChange:_,required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Телефон"}),s.jsx("input",{type:"tel",className:"form-input",name:"phone",value:m.phone,onChange:_,required:!0})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Адрес"}),s.jsx("input",{type:"text",className:"form-input",name:"address",value:m.address,onChange:_,required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Город"}),s.jsx("input",{type:"text",className:"form-input",name:"city",value:m.city,onChange:_,placeholder:"Например: Москва"})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Широта (Latitude)"}),s.jsx("input",{type:"number",step:"0.000001",className:"form-input",name:"latitude",value:m.latitude,onChange:_,placeholder:"55.755831"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Долгота (Longitude)"}),s.jsx("input",{type:"number",step:"0.000001",className:"form-input",name:"longitude",value:m.longitude,onChange:_,placeholder:"37.617673"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Описание"}),s.jsx("textarea",{className:"form-textarea",name:"description",value:m.description,onChange:_,rows:4})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Удобства"}),s.jsxs("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap",marginTop:"12px"},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:m.amenities.showers,onChange:()=>D("showers")}),"Душевые"]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:m.amenities.parking,onChange:()=>D("parking")}),"Парковка"]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:m.amenities.cafe,onChange:()=>D("cafe")}),"Кафе"]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:m.amenities.proshop,onChange:()=>D("proshop")}),"Pro Shop"]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:m.amenities.lockers,onChange:()=>D("lockers")}),"Раздевалки"]})]})]}),s.jsxs("div",{style:{marginTop:"32px"},children:[s.jsx("h3",{className:"section-subtitle",children:"Режим работы"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px",marginTop:"16px"},children:[{key:"monday",label:"Понедельник"},{key:"tuesday",label:"Вторник"},{key:"wednesday",label:"Среда"},{key:"thursday",label:"Четверг"},{key:"friday",label:"Пятница"},{key:"saturday",label:"Суббота"},{key:"sunday",label:"Воскресенье"}].map(R=>s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:R.label}),s.jsx("input",{type:"text",className:"form-input",value:m.workingHours[R.key],onChange:B=>x(A=>({...A,workingHours:{...A.workingHours,[R.key]:B.target.value}})),placeholder:"07:00-23:00"}),s.jsx("span",{className:"form-hint",children:"ЧЧ:ММ-ЧЧ:ММ"})]},R.key))})]}),s.jsxs("div",{style:{marginTop:"32px"},children:[s.jsx("h3",{className:"section-subtitle",children:"Доступные длительности бронирования"}),s.jsxs("div",{style:{display:"flex",gap:"24px",flexWrap:"wrap",marginTop:"16px"},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:m.bookingDurations[60],onChange:()=>x(R=>({...R,bookingDurations:{...R.bookingDurations,60:!R.bookingDurations[60]}}))}),"1 час"]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:m.bookingDurations[90],onChange:()=>x(R=>({...R,bookingDurations:{...R.bookingDurations,90:!R.bookingDurations[90]}}))}),"1.5 часа"]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:m.bookingDurations[120],onChange:()=>x(R=>({...R,bookingDurations:{...R.bookingDurations,120:!R.bookingDurations[120]}}))}),"2 часа"]})]}),s.jsx("p",{className:"form-hint",style:{marginTop:"8px"},children:"Выберите, какие длительности бронирования будут доступны клиентам"})]}),s.jsxs("div",{style:{marginTop:"32px"},children:[s.jsx("h3",{className:"section-subtitle",children:"Интервал временных слотов"}),s.jsxs("div",{style:{display:"flex",gap:"16px",marginTop:"16px"},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[s.jsx("input",{type:"radio",name:"bookingSlotInterval",value:"30",checked:m.bookingSlotInterval===30,onChange:()=>x(R=>({...R,bookingSlotInterval:30}))}),"Каждые 30 минут (стандарт)"]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[s.jsx("input",{type:"radio",name:"bookingSlotInterval",value:"60",checked:m.bookingSlotInterval===60,onChange:()=>x(R=>({...R,bookingSlotInterval:60}))}),"Только с 00 минут (каждый час)"]})]}),s.jsx("p",{className:"form-hint",style:{marginTop:"8px"},children:'Выберите интервал доступных слотов для бронирования. При выборе "Только с 00 минут" клиенты смогут бронировать только с начала часа (например, 10:00, 11:00, 12:00)'})]}),s.jsxs("div",{style:{display:"flex",gap:"12px"},children:[s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"Сохранение...":"Сохранить изменения"}),s.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{var B,A,I,F,V,Y,W,G;const R=o?c:t;R&&x({name:R.name||"",phone:R.phone||"",address:R.address||"",city:R.city||"",latitude:((A=(B=R.location)==null?void 0:B._lat)==null?void 0:A.toString())||((F=(I=R.location)==null?void 0:I.latitude)==null?void 0:F.toString())||"",longitude:((Y=(V=R.location)==null?void 0:V._long)==null?void 0:Y.toString())||((G=(W=R.location)==null?void 0:W.longitude)==null?void 0:G.toString())||"",description:R.description||"",amenities:{showers:Array.isArray(R.amenities)&&R.amenities.includes("showers")||!1,parking:Array.isArray(R.amenities)&&R.amenities.includes("parking")||!1,cafe:Array.isArray(R.amenities)&&R.amenities.includes("cafe")||!1,proshop:Array.isArray(R.amenities)&&R.amenities.includes("proshop")||!1,lockers:Array.isArray(R.amenities)&&R.amenities.includes("lockers")||!1},organizationType:R.organizationType||"",inn:R.inn||"",bankAccount:R.bankAccount||"",legalName:R.legalName||"",ogrn:R.ogrn||"",kpp:R.kpp||"",legalAddress:R.legalAddress||"",bankName:R.bankName||"",bankBik:R.bankBik||"",bankCorrespondentAccount:R.bankCorrespondentAccount||"",directorName:R.directorName||"",directorPosition:R.directorPosition||"",workingHours:R.workingHours||{monday:"07:00-23:00",tuesday:"07:00-23:00",wednesday:"07:00-23:00",thursday:"07:00-23:00",friday:"07:00-23:00",saturday:"08:00-22:00",sunday:"08:00-22:00"},bookingDurations:R.bookingDurations||{60:!0,90:!0,120:!0},bookingSlotInterval:R.bookingSlotInterval||30})},children:"Отмена"})]}),f&&s.jsx("div",{style:{marginTop:"16px",padding:"12px",background:"rgba(16, 185, 129, 0.1)",color:"var(--success)",borderRadius:"8px",fontSize:"14px"},children:"✅ Изменения успешно сохранены"})]})]}),s.jsxs("div",{className:"section-card",children:[s.jsx("h2",{className:"section-title",children:"Реквизиты организации"}),s.jsxs("form",{onSubmit:P,children:[s.jsxs("div",{className:"form-group",style:{marginTop:"24px"},children:[s.jsx("label",{className:"form-label",children:"Тип организации"}),s.jsxs("select",{className:"form-select",name:"organizationType",value:m.organizationType,onChange:_,children:[s.jsx("option",{value:"",children:"Выберите тип"}),s.jsx("option",{value:"ИП",children:"ИП"}),s.jsx("option",{value:"ООО",children:"ООО"}),s.jsx("option",{value:"АО",children:"АО"}),s.jsx("option",{value:"НКО",children:"НКО"}),s.jsx("option",{value:"Самозанятый",children:"Самозанятый"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Юридическое наименование"}),s.jsx("input",{type:"text",className:"form-input",name:"legalName",value:m.legalName,onChange:_,placeholder:"ООО «Название организации»"})]}),s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"ИНН"}),s.jsx("input",{type:"text",className:"form-input",name:"inn",value:m.inn,onChange:_,placeholder:"1234567890"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"КПП"}),s.jsx("input",{type:"text",className:"form-input",name:"kpp",value:m.kpp,onChange:_,placeholder:"123456789"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"ОГРН / ОГРНИП"}),s.jsx("input",{type:"text",className:"form-input",name:"ogrn",value:m.ogrn,onChange:_,placeholder:"1234567890123"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Юридический адрес"}),s.jsx("input",{type:"text",className:"form-input",name:"legalAddress",value:m.legalAddress,onChange:_,placeholder:"123456, г. Москва, ул. Примерная, д. 1, офис 1"})]}),s.jsx("h3",{style:{marginTop:"32px",marginBottom:"16px",fontSize:"18px"},children:"Банковские реквизиты"}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Наименование банка"}),s.jsx("input",{type:"text",className:"form-input",name:"bankName",value:m.bankName,onChange:_,placeholder:"ПАО Сбербанк"})]}),s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"БИК банка"}),s.jsx("input",{type:"text",className:"form-input",name:"bankBik",value:m.bankBik,onChange:_,placeholder:"044525225"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Корр. счет"}),s.jsx("input",{type:"text",className:"form-input",name:"bankCorrespondentAccount",value:m.bankCorrespondentAccount,onChange:_,placeholder:"30101810400000000225"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Расчетный счет"}),s.jsx("input",{type:"text",className:"form-input",name:"bankAccount",value:m.bankAccount,onChange:_,placeholder:"40702810900000123456"})]}),s.jsx("h3",{style:{marginTop:"32px",marginBottom:"16px",fontSize:"18px"},children:"Руководитель"}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"ФИО руководителя"}),s.jsx("input",{type:"text",className:"form-input",name:"directorName",value:m.directorName,onChange:_,placeholder:"Иванов Иван Иванович"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Должность"}),s.jsx("input",{type:"text",className:"form-input",name:"directorPosition",value:m.directorPosition,onChange:_,placeholder:"Генеральный директор"})]}),s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"Сохранение...":"Сохранить реквизиты"}),f&&s.jsx("div",{style:{marginTop:"16px",padding:"12px",background:"rgba(16, 185, 129, 0.1)",color:"var(--success)",borderRadius:"8px",fontSize:"14px"},children:"✅ Реквизиты успешно сохранены"})]}),s.jsxs("div",{style:{marginTop:"24px",padding:"16px",background:"var(--background)",borderRadius:"8px",textAlign:"center"},children:[s.jsx("p",{style:{fontSize:"14px",color:"var(--gray)",marginBottom:"12px"},children:"Для настройки приема платежей от клиентов"}),s.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>e("/admin/payment-settings"),style:{width:"auto"},children:"Перейти к настройкам эквайринга"})]})]})]})})}const ya=["#00A86B","#2E86AB","#FF6B6B","#F39C12","#8E44AD","#E91E63","#00BCD4","#795548","#607D8B","#FF5722","#009688","#3F51B5","#FFEB3B","#4CAF50","#FF9800"];function DA(){const{admin:e}=Lt(),{isSuperAdmin:t,canManageCourts:n}=rn(),[r,o]=h.useState(null),[i,a]=h.useState([]),[l,c]=h.useState(!0),[d,u]=h.useState(!1),[p,f]=h.useState(!1),[g,v]=h.useState(null),[y,m]=h.useState({name:"",type:"padel",courtType:"indoor",pricing:{monday:{basePrice:1900,intervals:[]},tuesday:{basePrice:1900,intervals:[]},wednesday:{basePrice:1900,intervals:[]},thursday:{basePrice:1900,intervals:[]},friday:{basePrice:1900,intervals:[]},saturday:{basePrice:2400,intervals:[]},sunday:{basePrice:2400,intervals:[]}},status:"active",color:"#00A86B"});h.useEffect(()=>{if(t){const S=localStorage.getItem("selectedVenueId");S&&(o(S),j(S))}else e!=null&&e.venueId&&j(e.venueId)},[e,t]);const x=S=>{o(S),localStorage.setItem("selectedVenueId",S),S&&j(S)},j=async S=>{if(S)try{c(!0);const T=$e(Ne(re,"venues",S,"courts")),O=(await Fe(T)).docs.map((M,P)=>{const L=M.data();if(!L.color){const R=P%ya.length;L.color=ya[R],Ct(M.ref,{color:L.color})}return{id:M.id,...L}});a(O)}catch(T){console.error("Error fetching courts:",T)}finally{c(!1)}},b=()=>{const S=i.map($=>$.color).filter(Boolean);for(const $ of ya)if(!S.includes($))return $;const T=ya.reduce(($,O)=>($[O]=S.filter(M=>M===O).length,$),{});return Object.entries(T).sort(($,O)=>$[1]-O[1])[0][0]},w=S=>{const{name:T,value:$}=S.target;m(O=>({...O,[T]:T.includes("price")?Number($):$}))},N=async S=>{S.preventDefault();const T=t?r:e==null?void 0:e.venueId;if(T)try{g?await Ct(Pe(re,"venues",T,"courts",g.id),{...y,updatedAt:new Date}):await or(Ne(re,"venues",T,"courts"),{...y,createdAt:new Date}),u(!1),v(null);const $=b();m({name:"",type:"padel",courtType:"indoor",pricing:{monday:{basePrice:1900,intervals:[]},tuesday:{basePrice:1900,intervals:[]},wednesday:{basePrice:1900,intervals:[]},thursday:{basePrice:1900,intervals:[]},friday:{basePrice:1900,intervals:[]},saturday:{basePrice:2400,intervals:[]},sunday:{basePrice:2400,intervals:[]}},status:"active",color:$}),j(T),f(!0),setTimeout(()=>f(!1),3e3)}catch($){console.error("Error saving court:",$)}},k=S=>{v(S),m({name:S.name,type:S.type,courtType:S.courtType,pricing:S.pricing||{monday:{basePrice:1900,intervals:[]},tuesday:{basePrice:1900,intervals:[]},wednesday:{basePrice:1900,intervals:[]},thursday:{basePrice:1900,intervals:[]},friday:{basePrice:1900,intervals:[]},saturday:{basePrice:2400,intervals:[]},sunday:{basePrice:2400,intervals:[]}},status:S.status,color:S.color||"#00A86B"}),u(!0)},E=async S=>{if(window.confirm("Вы уверены, что хотите удалить этот корт?"))try{const T=t?r:e==null?void 0:e.venueId;if(!T)return;await Li(Pe(re,"venues",T,"courts",S)),j(T),f(!0),setTimeout(()=>f(!1),3e3)}catch(T){console.error("Error deleting court:",T)}},_=S=>{switch(S){case"tennis":return"tennis";case"padel":return"padel";case"badminton":return"badminton";default:return"padel"}},D=S=>{switch(S){case"tennis":return"Теннис";case"padel":return"Падел";case"badminton":return"Бадминтон";default:return S}};return l?s.jsx("div",{children:"Загрузка..."}):n()?t&&!r?s.jsx(Fo,{title:"Выберите клуб для управления кортами"}):s.jsxs(Lo,{permission:["manage_courts","manage_all_venues"],children:[s.jsxs("div",{children:[t&&s.jsx(Bo,{selectedVenueId:r,onVenueChange:x}),s.jsxs("div",{className:"section-card",children:[s.jsxs("div",{className:"section-header",children:[s.jsx("h2",{className:"section-title",children:"Управление кортами"}),s.jsxs("button",{className:"btn btn-primary",onClick:()=>{const S=b();m(T=>({...T,color:S})),u(!0)},children:[s.jsx(sa,{fontSize:"small"}),"Добавить корт"]})]}),p&&s.jsx("div",{style:{marginTop:"16px",marginBottom:"16px",padding:"12px",background:"rgba(16, 185, 129, 0.1)",color:"var(--success)",borderRadius:"8px",fontSize:"14px"},children:"✅ Корт успешно сохранен"}),s.jsx("div",{className:"courts-grid",children:i.map(S=>s.jsxs("div",{className:"court-card",children:[s.jsx("div",{className:"court-header",children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[S.color&&s.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"4px",backgroundColor:S.color,border:"1px solid #e5e7eb"}}),s.jsxs("div",{children:[s.jsx("div",{className:"court-name",children:S.name}),s.jsx("span",{className:`court-type ${_(S.type)}`,children:D(S.type)})]})]})}),s.jsxs("div",{className:"court-details",children:[s.jsxs("div",{children:["Тип: ",S.courtType==="indoor"?"Крытый":"Открытый"]}),s.jsx("div",{children:S.pricing?s.jsxs(s.Fragment,{children:["Цены: от ",Math.min(...Object.values(S.pricing).filter(T=>T).map(T=>T.basePrice)),"₽ до ",Math.max(...Object.values(S.pricing).filter(T=>T).map(T=>T.basePrice)),"₽"]}):s.jsxs(s.Fragment,{children:["Будни: ",S.priceWeekday||1900,"₽ | Вых: ",S.priceWeekend||2400,"₽"]})}),s.jsxs("div",{children:["Статус: ",S.status==="active"?"Активен":S.status==="maintenance"?"Обслуживание":"Неактивен"]})]}),s.jsxs("div",{className:"court-actions",children:[s.jsxs("button",{className:"btn btn-secondary",onClick:()=>k(S),children:[s.jsx(Ri,{fontSize:"small"}),"Редактировать"]}),s.jsx("button",{className:"btn btn-danger",onClick:()=>E(S.id),style:{marginLeft:"auto"},children:s.jsx(Oo,{fontSize:"small"})})]})]},S.id))}),i.length===0&&s.jsxs("div",{style:{textAlign:"center",padding:"48px",color:"var(--gray)"},children:[s.jsx("p",{children:"У вас пока нет кортов"}),s.jsx("p",{children:'Нажмите "Добавить корт", чтобы создать первый'})]})]})]}),s.jsx("div",{className:`modal ${d?"active":""}`,children:s.jsxs("div",{className:"modal-content",children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h3",{className:"modal-title",children:g?"Редактировать корт":"Добавить корт"}),s.jsx("button",{className:"modal-close",onClick:()=>{u(!1),v(null);const S=b();m({name:"",type:"padel",courtType:"indoor",pricing:{monday:{basePrice:1900,intervals:[]},tuesday:{basePrice:1900,intervals:[]},wednesday:{basePrice:1900,intervals:[]},thursday:{basePrice:1900,intervals:[]},friday:{basePrice:1900,intervals:[]},saturday:{basePrice:2400,intervals:[]},sunday:{basePrice:2400,intervals:[]}},status:"active",color:S})},children:s.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),s.jsxs("form",{onSubmit:N,children:[s.jsxs("div",{className:"modal-body",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Название корта"}),s.jsx("input",{type:"text",className:"form-input",name:"name",value:y.name,onChange:w,placeholder:"Например: Падел корт 1",required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Вид спорта"}),s.jsxs("select",{className:"form-select",name:"type",value:y.type,onChange:w,children:[s.jsx("option",{value:"padel",children:"Падел"}),s.jsx("option",{value:"tennis",children:"Теннис"}),s.jsx("option",{value:"badminton",children:"Бадминтон"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Тип корта"}),s.jsxs("select",{className:"form-select",name:"courtType",value:y.courtType,onChange:w,children:[s.jsx("option",{value:"indoor",children:"Крытый"}),s.jsx("option",{value:"outdoor",children:"Открытый"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Ценовая политика"}),s.jsx("div",{style:{marginTop:"16px"},children:[{key:"monday",label:"Понедельник"},{key:"tuesday",label:"Вторник"},{key:"wednesday",label:"Среда"},{key:"thursday",label:"Четверг"},{key:"friday",label:"Пятница"},{key:"saturday",label:"Суббота"},{key:"sunday",label:"Воскресенье"}].map(S=>{var T;return s.jsxs("div",{style:{marginBottom:"24px",padding:"16px",background:"#f8f9fa",borderRadius:"8px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"12px"},children:[s.jsx("h4",{style:{margin:0},children:S.label}),s.jsx("input",{type:"number",className:"form-input",style:{width:"120px"},value:y.pricing[S.key].basePrice,onChange:$=>{const O=Number($.target.value);m(M=>({...M,pricing:{...M.pricing,[S.key]:{...M.pricing[S.key],basePrice:O}}}))},min:"0",placeholder:"Базовая цена"}),s.jsx("span",{style:{marginLeft:"8px"},children:"₽/час"})]}),s.jsxs("div",{style:{marginTop:"12px"},children:[s.jsx("div",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"8px"},children:"Интервалы с особыми ценами:"}),(T=y.pricing[S.key].intervals)==null?void 0:T.map(($,O)=>s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[s.jsx("input",{type:"time",className:"form-input",style:{width:"140px"},value:$.from,onChange:M=>{const P=[...y.pricing[S.key].intervals];P[O].from=M.target.value,m(L=>({...L,pricing:{...L.pricing,[S.key]:{...L.pricing[S.key],intervals:P}}}))},step:"3600"}),s.jsx("span",{children:"-"}),s.jsx("input",{type:"time",className:"form-input",style:{width:"140px"},value:$.to,onChange:M=>{const P=[...y.pricing[S.key].intervals];P[O].to=M.target.value,m(L=>({...L,pricing:{...L.pricing,[S.key]:{...L.pricing[S.key],intervals:P}}}))},step:"3600"}),s.jsx("input",{type:"number",className:"form-input",style:{width:"120px"},value:$.price,onChange:M=>{const P=[...y.pricing[S.key].intervals];P[O].price=Number(M.target.value),m(L=>({...L,pricing:{...L.pricing,[S.key]:{...L.pricing[S.key],intervals:P}}}))},min:"0",placeholder:"Цена"}),s.jsx("span",{children:"₽"}),s.jsx("button",{type:"button",className:"btn btn-secondary",style:{padding:"4px 8px"},onClick:()=>{const M=y.pricing[S.key].intervals.filter((P,L)=>L!==O);m(P=>({...P,pricing:{...P.pricing,[S.key]:{...P.pricing[S.key],intervals:M}}}))},children:"Удалить"})]},O)),s.jsx("button",{type:"button",className:"btn btn-link",style:{padding:"4px 8px",fontSize:"14px"},onClick:()=>{const $=[...y.pricing[S.key].intervals||[],{from:"09:00",to:"11:00",price:y.pricing[S.key].basePrice*1.5}];m(O=>({...O,pricing:{...O.pricing,[S.key]:{...O.pricing[S.key],intervals:$}}}))},children:"+ Добавить интервал"})]})]},S.key)})})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Статус"}),s.jsxs("select",{className:"form-select",name:"status",value:y.status,onChange:w,children:[s.jsx("option",{value:"active",children:"Активен"}),s.jsx("option",{value:"maintenance",children:"На обслуживании"}),s.jsx("option",{value:"inactive",children:"Неактивен"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Цвет корта"}),s.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[s.jsx("input",{type:"color",className:"form-input",name:"color",value:y.color,onChange:w,style:{width:"80px",height:"48px",padding:"4px",cursor:"pointer"}}),s.jsx("input",{type:"text",className:"form-input",value:y.color,onChange:S=>m(T=>({...T,color:S.target.value})),placeholder:"#00A86B",style:{flex:1}})]}),s.jsx("div",{className:"form-hint",children:"Этот цвет будет использоваться для визуального отображения корта в календаре"})]})]}),s.jsxs("div",{className:"modal-footer",children:[s.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{u(!1),v(null)},children:"Отмена"}),s.jsx("button",{type:"submit",className:"btn btn-primary",children:g?"Сохранить изменения":"Добавить корт"})]})]})]})})]}):s.jsxs(Ye,{severity:"error",children:[s.jsx(ol,{children:"Доступ запрещен"}),"У вас недостаточно прав для управления кортами."]})}const ym={awaiting_payment:"Ожидает оплаты",paid:"Оплачено",online_payment:"Онлайн оплата",cancelled:"Отменено",refunded:"Возврат"},xm={awaiting_payment:"#F59E0B",paid:"#10B981",online_payment:"#3B82F6",cancelled:"#EF4444",refunded:"#8B5CF6"},bm={awaiting_payment:Qd,paid:wp,online_payment:xo,cancelled:Di,refunded:Di};function wx({bookingId:e,currentStatus:t,paymentMethod:n,onStatusUpdate:r,onRefund:o}){const{admin:i}=Lt(),[a,l]=h.useState(!1),[c,d]=h.useState(!1),[u,p]=h.useState(null),[f,g]=h.useState(t);h.useEffect(()=>{console.log("PaymentStatusManager: currentStatus changed to",t),g(t)},[t]),h.useEffect(()=>{if(!e)return;console.log("PaymentStatusManager: subscribing to booking changes");const j=Rn(Pe(re,"bookings",e),b=>{if(b.exists()){const N=b.data().paymentStatus||"awaiting_payment";console.log("PaymentStatusManager: realtime update, status:",N),g(N)}});return()=>j()},[e]);const v=f==="awaiting_payment"&&n!=="online",y=async j=>{if(!i){alert("Ошибка: пользователь не авторизован");return}l(!0);try{const b=Pe(re,"bookings",e),w=await ut(b);if(!w.exists())throw new Error("Бронирование не найдено");const k=w.data().paymentHistory||[],E={timestamp:Yt.now(),action:j,userId:i.uid||"unknown",userName:i.displayName||i.email||"Администратор"},_={paymentStatus:j};Array.isArray(k)?_.paymentHistory=[...k,E]:_.paymentHistory=[E],j==="cancelled"&&(_.status="cancelled"),Object.keys(_).forEach(D=>{_[D]===void 0&&delete _[D]}),await Ct(b,_),d(!1),p(null),await new Promise(D=>setTimeout(D,500)),g(j),r&&await r()}catch(b){console.error("Error updating payment status:",b);let w="Ошибка при обновлении статуса оплаты";b.code==="permission-denied"?w="У вас нет прав для изменения статуса оплаты":b.code==="not-found"?w="Бронирование не найдено":b.message&&(w=`Ошибка: ${b.message}`),alert(w)}finally{l(!1)}},m=f||"awaiting_payment",x=bm[m]||bm.awaiting_payment;return console.log("PaymentStatusManager render:",{bookingId:e,currentStatus:t,localStatus:f,safeStatus:m,canChangeStatus:v}),s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"6px 12px",background:`${xm[m]}1A`,color:xm[m],borderRadius:"20px",fontSize:"14px",fontWeight:"600"},children:[s.jsx(x,{style:{fontSize:"18px"}}),s.jsx("span",{children:ym[m]}),v&&s.jsxs("div",{style:{marginLeft:"8px",display:"flex",gap:"4px"},children:[s.jsx("button",{onClick:()=>{p("paid"),d(!0)},disabled:a,style:{padding:"4px 8px",fontSize:"12px",background:"#10B981",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",opacity:a?.6:1},children:"Оплачено"}),s.jsx("button",{onClick:()=>{p("cancelled"),d(!0)},disabled:a,style:{padding:"4px 8px",fontSize:"12px",background:"#EF4444",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",opacity:a?.6:1},children:"Отменить"})]}),f==="paid"&&o&&s.jsx("button",{onClick:o,disabled:a,style:{marginLeft:"8px",padding:"4px 8px",fontSize:"12px",background:"#8B5CF6",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",opacity:a?.5:1},title:"Оформить возврат",children:"Возврат"})]}),c&&u&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:s.jsxs("div",{style:{background:"white",padding:"24px",borderRadius:"12px",maxWidth:"400px",width:"90%"},children:[s.jsx("h3",{style:{marginBottom:"16px"},children:"Подтверждение"}),s.jsxs("p",{style:{marginBottom:"24px"},children:['Вы уверены, что хотите изменить статус оплаты на "',ym[u],'"?']}),s.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[s.jsx("button",{onClick:()=>{d(!1),p(null)},style:{padding:"8px 16px",background:"#E5E7EB",border:"none",borderRadius:"8px",cursor:"pointer"},children:"Отмена"}),s.jsx("button",{onClick:()=>y(u),disabled:a,style:{padding:"8px 16px",background:u==="paid"?"#10B981":"#EF4444",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",opacity:a?.6:1},children:a?"Обновление...":"Подтвердить"})]})]})})]})}function RA({createdAt:e,paymentMethod:t,paymentStatus:n}){const[r,o]=h.useState(0),[i,a]=h.useState(!1);if(h.useEffect(()=>{if(n==="paid"||n==="cancelled"||t==="transfer")return;const d=()=>{const p=new Date,f=new Date(e),g=Math.floor((p.getTime()-f.getTime())/(1e3*60));let v=30;t==="online"&&(v=15);const y=v-g;y<=0?(a(!0),o(0)):(a(!1),o(y))};d();const u=setInterval(d,3e4);return()=>clearInterval(u)},[e,t,n]),n==="paid"||n==="cancelled"||t==="transfer"||r===0&&!i)return null;const l=()=>i?"Время истекло":r<=5?`${r} мин`:`${r} мин`,c=()=>i?{color:"var(--danger)",fontWeight:"600"}:r<=5?{color:"var(--warning)",fontWeight:"600"}:{color:"var(--gray)"};return s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",fontSize:"12px",...c()},children:[i?s.jsx(bo,{style:{fontSize:"16px"}}):s.jsx(HR,{style:{fontSize:"16px"}}),s.jsx("span",{children:l()})]})}const AA={created:"Создано бронирование",paid:"Оплачено",cancelled:"Отменено"},wm={created:"#6B7280",paid:"#10B981",cancelled:"#EF4444"};function $A({history:e}){if(!e||e.length===0)return null;const t=n=>{const r=n.toDate?n.toDate():new Date(n);return new Intl.DateTimeFormat("ru-RU",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(r)};return s.jsxs("div",{style:{marginTop:"16px",padding:"16px",background:"var(--background)",borderRadius:"8px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px",color:"var(--gray)",fontSize:"14px",fontWeight:"600"},children:[s.jsx(nA,{style:{fontSize:"18px"}}),"История платежей"]}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:e.map((n,r)=>s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"8px",background:"var(--white)",borderRadius:"6px",fontSize:"14px"},children:[s.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:wm[n.action],flexShrink:0}}),s.jsxs("div",{style:{flex:1},children:[s.jsx("div",{style:{color:wm[n.action],fontWeight:"500"},children:AA[n.action]}),s.jsx("div",{style:{color:"var(--gray)",fontSize:"12px",marginTop:"2px"},children:t(n.timestamp)})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",color:"var(--gray)",fontSize:"12px"},children:[s.jsx(nx,{style:{fontSize:"16px"}}),n.userName||"Администратор"]}),n.note&&s.jsx("div",{style:{fontSize:"12px",color:"var(--gray)",fontStyle:"italic"},children:n.note})]},r))})]})}const OA={cash:"Наличные",card_on_site:"Карта на месте",transfer:"Перевод на р.счет клуба (юр.лицо)",online:"Онлайн оплата",sberbank_card:"На карту Сбербанка",tbank_card:"На карту Т-Банка"};function Cx({isOpen:e,onClose:t,booking:n,onSuccess:r}){const{admin:o}=Lt(),[i,a]=h.useState(!1),[l,c]=h.useState("");if(!e||!n)return null;const d=async()=>{if(!(!o||!n)){if(!l.trim()){alert("Пожалуйста, укажите причину возврата");return}a(!0);try{if(n.paymentMethod==="online"){const v=(await Ao(Zi,"processBookingRefund")({bookingId:n.id,reason:l})).data;if(v.success)alert("Запрос на возврат отправлен в платежную систему. Статус бронирования будет обновлен автоматически после подтверждения возврата.");else throw new Error(v.error||"Ошибка при создании возврата")}else{const f=Pe(re,"bookings",n.id);await Ct(f,{status:"cancelled",paymentStatus:"refunded",refundedAt:Yt.now(),refundReason:l,refundedBy:{userId:o.uid||"",userName:o.displayName||o.email||"Администратор"},paymentHistory:Hb({timestamp:Yt.now(),action:"refunded",userId:o.uid||"",userName:o.displayName||o.email||"Администратор",note:`Возврат: ${l}`})}),alert("Возврат успешно оформлен. Бронирование отменено.")}r(),t(),c("")}catch(f){console.error("Error processing refund:",f),f.code==="functions/already-exists"?alert(f.message||"Возврат по этому бронированию уже выполнен или обрабатывается"):alert("Ошибка при оформлении возврата: "+(f.message||"Неизвестная ошибка"))}finally{a(!1)}}},u=f=>new Intl.DateTimeFormat("ru-RU",{day:"numeric",month:"long",year:"numeric"}).format(f),p=f=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0}).format(f);return s.jsx("div",{className:"modal active",onClick:f=>{f.target===f.currentTarget&&t()},children:s.jsxs("div",{className:"modal-content",style:{maxWidth:"500px"},children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h2",{className:"modal-title",children:"Оформление возврата"}),s.jsx("button",{className:"modal-close",onClick:t,children:s.jsx(yc,{})})]}),s.jsxs("div",{className:"modal-body",children:[s.jsxs("div",{style:{background:"rgba(245, 158, 11, 0.1)",border:"1px solid var(--warning)",borderRadius:"8px",padding:"16px",marginBottom:"24px",display:"flex",gap:"12px"},children:[s.jsx(bo,{style:{color:"var(--warning)",flexShrink:0}}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:"600",marginBottom:"8px"},children:"Важно! Способ возврата"}),s.jsxs("div",{style:{fontSize:"14px",color:"var(--gray)"},children:["Возврат должен быть осуществлен тем же способом, что и оплата.",n.paymentMethod==="online"?s.jsx("div",{style:{marginTop:"8px",color:"var(--danger)"},children:"Для онлайн оплаты возврат будет произведен автоматически через платежную систему. Бронирование будет отменено только после подтверждения возврата от платежной системы."}):s.jsxs("div",{style:{marginTop:"8px"},children:["Способ оплаты: ",s.jsx("strong",{children:OA[n.paymentMethod]}),s.jsx("br",{}),"После подтверждения возврата бронирование будет отменено немедленно."]})]})]})]}),s.jsxs("div",{style:{background:"var(--background)",borderRadius:"8px",padding:"16px",marginBottom:"24px"},children:[s.jsx("h3",{style:{fontSize:"16px",marginBottom:"12px"},children:"Детали бронирования"}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Клиент:"}),s.jsx("span",{children:n.clientName||n.customerName})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Корт:"}),s.jsx("span",{children:n.courtName})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Дата:"}),s.jsx("span",{children:u(n.date)})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Время:"}),s.jsxs("span",{children:[n.startTime," - ",n.endTime]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingTop:"8px",borderTop:"1px solid var(--extra-light-gray)",fontWeight:"600",fontSize:"18px"},children:[s.jsx("span",{children:"Сумма к возврату:"}),s.jsx("span",{style:{color:"var(--danger)"},children:p(n.amount)})]})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Причина возврата *"}),s.jsx("textarea",{className:"form-textarea",placeholder:"Укажите причину возврата...",value:l,onChange:f=>c(f.target.value),rows:3,required:!0})]})]}),s.jsxs("div",{className:"modal-footer",style:{paddingTop:"24px",borderTop:"1px solid var(--extra-light-gray)",display:"flex",gap:"12px",justifyContent:"flex-end"},children:[s.jsx("button",{type:"button",className:"btn btn-secondary",onClick:t,disabled:i,children:"Отмена"}),s.jsx("button",{type:"button",className:"btn btn-danger",onClick:d,disabled:i||!l.trim(),children:i?"Оформление...":"Оформить возврат"})]})]})})}function jx({booking:e,isOpen:t,onClose:n,onUpdate:r}){var v,y;const[o,i]=h.useState(e),[a,l]=h.useState(!1);h.useEffect(()=>{if(e&&t){c(e.id);const m=Rn(Pe(re,"bookings",e.id),x=>{var j,b;if(x.exists()){const w=x.data(),N={id:x.id,...w,date:(j=w.date)!=null&&j.toDate?w.date.toDate():new Date(w.date),createdAt:(b=w.createdAt)!=null&&b.toDate?w.createdAt.toDate():new Date(w.createdAt||Date.now()),paymentStatus:w.paymentStatus||"awaiting_payment",paymentHistory:w.paymentHistory||[]};i(N)}});return()=>m()}},[e==null?void 0:e.id,t]);const c=async m=>{var x,j;console.log("Loading fresh booking data:",m);try{const b=await ut(Pe(re,"bookings",m));if(b.exists()){const w=b.data(),N={id:b.id,...w,date:(x=w.date)!=null&&x.toDate?w.date.toDate():new Date(w.date),createdAt:(j=w.createdAt)!=null&&j.toDate?w.createdAt.toDate():new Date(w.createdAt||Date.now()),paymentStatus:w.paymentStatus||"awaiting_payment",paymentHistory:w.paymentHistory||[]};console.log("Fresh booking loaded with payment status:",N.paymentStatus),i(N)}}catch(b){console.error("Error loading fresh booking:",b)}};if(!t||!o)return null;const d=m=>new Intl.DateTimeFormat("ru-RU",{weekday:"long",day:"numeric",month:"long",year:"numeric"}).format(m),u=m=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0}).format(m),p={cash:"Наличные",card_on_site:"Карта на месте",transfer:"Перевод на р.счет клуба (юр.лицо)",online:"Онлайн",sberbank_card:"На карту Сбербанка",tbank_card:"На карту Т-Банка"},f={confirmed:"Подтверждено",pending:"Ожидает",cancelled:"Отменено"},g={confirmed:"#10B981",pending:"#F59E0B",cancelled:"#EF4444"};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"modal active",onClick:m=>{m.target===m.currentTarget&&n()},children:s.jsxs("div",{className:"modal-content",style:{maxWidth:"700px"},children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h2",{className:"modal-title",children:"Детали бронирования"}),s.jsx("button",{className:"modal-close",onClick:n,children:s.jsx(yc,{})})]}),s.jsx("div",{className:"modal-body",children:s.jsxs("div",{style:{display:"grid",gap:"24px"},children:[s.jsxs("div",{children:[s.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Информация о бронировании"}),s.jsxs("div",{style:{display:"grid",gap:"12px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Корт:"}),s.jsx("span",{style:{fontWeight:"600"},children:o.courtName})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Дата:"}),s.jsx("span",{style:{fontWeight:"600"},children:d(o.date)})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Время:"}),s.jsxs("span",{style:{fontWeight:"600"},children:[o.startTime," - ",o.endTime]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Статус:"}),s.jsx("span",{style:{fontWeight:"600",color:g[o.status]},children:f[o.status]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Информация о клиенте"}),s.jsxs("div",{style:{display:"grid",gap:"12px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Имя:"}),s.jsx("span",{style:{fontWeight:"600"},children:o.clientName||o.customerName})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Телефон:"}),s.jsx("span",{style:{fontWeight:"600"},children:o.clientPhone||o.customerPhone})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Информация о создании"}),s.jsxs("div",{style:{display:"grid",gap:"12px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Создано:"}),s.jsx("span",{style:{fontWeight:"600"},children:((v=o.createdBy)==null?void 0:v.userName)||"Система"})]}),((y=o.createdBy)==null?void 0:y.userRole)&&s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Роль:"}),s.jsx("span",{style:{fontWeight:"600"},children:o.createdBy.userRole==="superadmin"?"Суперадминистратор":"Администратор"})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Дата создания:"}),s.jsx("span",{style:{fontWeight:"600"},children:new Intl.DateTimeFormat("ru-RU",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(o.createdAt)})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Информация об оплате"}),s.jsxs("div",{style:{display:"grid",gap:"12px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Сумма:"}),s.jsx("span",{style:{fontWeight:"600",fontSize:"18px"},children:u(o.amount)})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Способ оплаты:"}),s.jsx("span",{style:{fontWeight:"600"},children:p[o.paymentMethod]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Статус оплаты:"}),s.jsx(wx,{bookingId:o.id,currentStatus:o.paymentStatus||"awaiting_payment",paymentMethod:o.paymentMethod,onStatusUpdate:async()=>{r&&await r()},onRefund:()=>{l(!0)}},`${o.id}-${o.paymentStatus}`)]})]})]}),o.paymentHistory&&o.paymentHistory.length>0&&s.jsx($A,{history:o.paymentHistory})]})}),s.jsx("div",{className:"modal-footer",children:s.jsx("button",{className:"btn btn-secondary",onClick:n,children:"Закрыть"})})]})}),s.jsx(Cx,{isOpen:a,onClose:()=>{l(!1)},booking:o,onSuccess:()=>{l(!1),r&&r()}})]})}function LA({venueId:e,bookings:t,onRefresh:n}){const{admin:r}=Lt(),{hasPermission:o}=rn(),[i,a]=h.useState([]),[l,c]=h.useState(!0),[d,u]=h.useState("all"),[p,f]=h.useState("all"),[g,v]=h.useState(!1),[y,m]=h.useState(null),[x,j]=h.useState(!1),[b,w]=h.useState(!1),[N,k]=h.useState(null);h.useEffect(()=>{t?(a(t),c(!1)):E()},[e,t]);const E=async()=>{if(!t){if(!e){console.log("No venueId provided to BookingsList");return}console.log("BookingsList: Fetching bookings for venue:",e);try{c(!0);const M=$e(Ne(re,"bookings"),Te("venueId","==",e)),P=await Fe(M);console.log("BookingsList: Found bookings:",P.size);const R=P.docs.map(B=>{var I,F;const A=B.data();return console.log("BookingsList: Raw booking:",A),{id:B.id,...A,date:(I=A.date)!=null&&I.toDate?A.date.toDate():new Date(A.date),createdAt:(F=A.createdAt)!=null&&F.toDate?A.createdAt.toDate():new Date}}).sort((B,A)=>new Date(A.date).getTime()-new Date(B.date).getTime());console.log("BookingsList: Processed and sorted bookings:",R),a(R)}catch(M){console.error("Error fetching bookings:",M)}finally{c(!1)}}},_=async M=>{if(confirm("Вы уверены, что хотите удалить это бронирование?"))try{await Li(Pe(re,"bookings",M)),n?n():E()}catch(P){console.error("Error deleting booking:",P),alert("Ошибка при удалении бронирования")}},D=i.filter(M=>!(d!=="all"&&M.status!==d||p!=="all"&&(M.paymentStatus||"awaiting_payment")!==p)),S=M=>new Intl.DateTimeFormat("ru-RU",{day:"numeric",month:"long",year:"numeric"}).format(M),T=M=>M||"—",$=M=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0}).format(M),O={cash:"Наличные",card_on_site:"Карта на месте",transfer:"Перевод на р.счет клуба (юр.лицо)",online:"Онлайн",sberbank_card:"На карту Сбербанка",tbank_card:"На карту Т-Банка"};return l?s.jsx("div",{children:"Загрузка..."}):s.jsxs("div",{className:"section-card",children:[s.jsxs("div",{className:"section-header",children:[s.jsx("h2",{className:"section-title",children:"Список бронирований"}),s.jsxs("button",{className:"btn btn-secondary btn-icon",onClick:()=>v(!g),children:[s.jsx(tA,{}),"Фильтры"]})]}),g&&s.jsxs("div",{className:"booking-filters-mobile",style:{marginBottom:"24px",padding:"16px",background:"var(--background)",borderRadius:"8px",display:"flex",gap:"16px",flexWrap:"wrap"},children:[s.jsxs("div",{children:[s.jsx("label",{className:"form-label",style:{fontSize:"12px",marginBottom:"4px"},children:"Статус бронирования"}),s.jsxs("select",{className:"form-select",value:d,onChange:M=>u(M.target.value),style:{minWidth:"150px"},children:[s.jsx("option",{value:"all",children:"Все"}),s.jsx("option",{value:"confirmed",children:"Подтверждено"}),s.jsx("option",{value:"pending",children:"Ожидает"}),s.jsx("option",{value:"cancelled",children:"Отменено"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",style:{fontSize:"12px",marginBottom:"4px"},children:"Статус оплаты"}),s.jsxs("select",{className:"form-select",value:p,onChange:M=>f(M.target.value),style:{minWidth:"150px"},children:[s.jsx("option",{value:"all",children:"Все"}),s.jsx("option",{value:"awaiting_payment",children:"Ожидает оплаты"}),s.jsx("option",{value:"paid",children:"Оплачено"}),s.jsx("option",{value:"online_payment",children:"Онлайн оплата"}),s.jsx("option",{value:"cancelled",children:"Отменено"})]})]})]}),s.jsx("div",{className:"table-wrapper",style:{overflowX:"auto",WebkitOverflowScrolling:"touch"},children:s.jsxs("table",{children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Дата и время"}),s.jsx("th",{children:"Корт"}),s.jsx("th",{children:"Клиент"}),s.jsx("th",{children:"Сумма"}),s.jsx("th",{children:"Способ оплаты"}),s.jsx("th",{children:"Статус оплаты"}),s.jsx("th",{children:"Действия"})]})}),s.jsx("tbody",{children:D.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:7,style:{textAlign:"center",padding:"48px"},children:"Нет бронирований"})}):D.map(M=>s.jsxs("tr",{children:[s.jsxs("td",{children:[s.jsx("div",{children:S(M.date)}),s.jsxs("div",{style:{fontSize:"14px",color:"var(--gray)"},children:[T(M.startTime)," - ",T(M.endTime)]})]}),s.jsx("td",{children:M.courtName}),s.jsxs("td",{children:[s.jsx("div",{children:M.clientName||M.customerName}),s.jsx("div",{style:{fontSize:"14px",color:"var(--gray)"},children:M.clientPhone||M.customerPhone})]}),s.jsx("td",{style:{fontWeight:"600"},children:$(M.amount)}),s.jsx("td",{children:O[M.paymentMethod]||M.paymentMethod}),s.jsx("td",{children:s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[s.jsx(wx,{bookingId:M.id,currentStatus:M.paymentStatus||"awaiting_payment",paymentMethod:M.paymentMethod,onStatusUpdate:E,onRefund:()=>{k(M),w(!0)}}),M.createdAt&&s.jsx(RA,{createdAt:M.createdAt,paymentMethod:M.paymentMethod,paymentStatus:M.paymentStatus})]})}),s.jsx("td",{children:s.jsxs("div",{style:{display:"flex",gap:"8px"},children:[s.jsx("button",{className:"btn btn-secondary btn-icon",onClick:()=>{m(M),j(!0)},title:"Подробности",children:s.jsx(sx,{})}),o(["manage_bookings","manage_all_bookings"])&&s.jsx("button",{className:"btn btn-danger btn-icon",onClick:()=>_(M.id),title:"Удалить бронирование",children:s.jsx(Oo,{})})]})})]},M.id))})]})}),s.jsx(jx,{booking:y,isOpen:x,onClose:()=>{j(!1),m(null)},onUpdate:E}),s.jsx(Cx,{isOpen:b,onClose:()=>{w(!1),k(null)},booking:N,onSuccess:()=>{E(),w(!1),k(null)}})]})}function BA(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function kx(e){const t=e.replace(/\D/g,"");return t.length===11&&(t.startsWith("7")||t.startsWith("8"))}function pl(e){const t=e.replace(/\D/g,"");if(t.length===11){if(t.startsWith("8"))return"+7"+t.substring(1);if(t.startsWith("7"))return"+"+t}return t.length===10?"+7"+t:e}function Sx(e){return e.trim().length>=2&&e.trim().length<=100}function _x(e){const t=new Date;t.setHours(0,0,0,0);const n=new Date(e);return n.setHours(0,0,0,0),n>=t}function FA(e,t,n=60){const r=/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/;if(!r.test(e)||!r.test(t))return!1;const[o,i]=e.split(":").map(Number),[a,l]=t.split(":").map(Number),c=o*60+i,d=a*60+l;return d<=c?!1:d-c>=n}function hl(e){return e.replace(/[<>]/g,"").replace(/javascript:/gi,"").trim()}function zA({isOpen:e,onClose:t,onSuccess:n,venueId:r,preSelectedDate:o,preSelectedTime:i,preSelectedCourtId:a}){const{admin:l}=Lt(),[c,d]=h.useState([]),[u,p]=h.useState(!1),[f,g]=h.useState(""),[v,y]=h.useState(30),[m,x]=h.useState({clientName:"",clientPhone:"",courtId:a||"",date:o?o.toISOString().split("T")[0]:new Date().toISOString().split("T")[0],startTime:i||"10:00",duration:1,paymentMethod:"cash"}),[j,b]=h.useState([]),[w,N]=h.useState([]),[k,E]=h.useState(null),_=(P,L)=>{const R=c.find(Y=>Y.id===m.courtId);if(!R)return 0;const B=new Date(m.date),[A]=P.split(":").map(Number),I=B.getDay()===0||B.getDay()===6;let F=0;const V=I?R.weekendPricing:R.weekdayPricing;if(V!=null&&V.intervals&&V.intervals.length>0){const Y=V.intervals.find(W=>{const G=parseInt(W.startTime.split(":")[0]),H=parseInt(W.endTime.split(":")[0]);return A>=G&&A<H});Y?F=Y.price:F=V.basePrice||R.pricePerHour||(I?R.priceWeekend:R.priceWeekday)||0}else F=R.pricePerHour||(I?R.priceWeekend:R.priceWeekday)||0;return F*L},D=(P,L)=>{const[R,B]=P.split(":").map(Number),A=R+B/60,I=A+L;return w.some(F=>{const[V,Y]=F.startTime.split(":").map(Number),[W,G]=F.endTime.split(":").map(Number),H=V+Y/60,K=W+G/60;return A<K&&I>H})},S=P=>{const L=[],A=23-P,I=v===60?1:.5;for(let F=7;F<=A;F+=I){const V=Math.floor(F),Y=F%1*60,W=`${String(V).padStart(2,"0")}:${String(Y).padStart(2,"0")}`;F+P<=23&&L.push(W)}return L};h.useEffect(()=>{if(e&&r){T();const P=Ne(re,"venues",r,"courts"),L=Rn(P,B=>{const A=B.docs.map(I=>({id:I.id,...I.data()}));d(A),m.courtId&&!A.find(I=>I.id===m.courtId)&&x(I=>({...I,courtId:""}))},B=>{console.error("Error listening to courts:",B)});o&&x(B=>({...B,date:o.toISOString().split("T")[0]})),i&&x(B=>({...B,startTime:i})),a&&x(B=>({...B,courtId:a}));const R=S(m.duration);return b(R),()=>{L()}}},[e,r,o,i,v]),h.useEffect(()=>{const P=S(m.duration);b(P),!P.includes(m.startTime)&&P.length>0&&x(L=>({...L,startTime:P[0]}))},[m.duration,v]),h.useEffect(()=>{if(m.courtId&&m.date&&e){k&&(k(),E(null)),$();const P=Ne(re,"bookings"),L=$e(P,Te("courtId","==",m.courtId),Te("date","==",m.date),Te("status","in",["confirmed","pending"])),R=new Date(m.date);R.setHours(0,0,0,0);const B=new Date(m.date);B.setHours(23,59,59,999);const A=$e(P,Te("courtId","==",m.courtId),Te("date",">=",Yt.fromDate(R)),Te("date","<=",Yt.fromDate(B)),Te("status","in",["confirmed","pending"])),I=new Map,F=Rn(L,W=>{W.docs.forEach(G=>{I.set(G.id,{id:G.id,...G.data()})}),N(Array.from(I.values()))}),V=Rn(A,W=>{W.docs.forEach(G=>{I.set(G.id,{id:G.id,...G.data()})}),N(Array.from(I.values()))}),Y=()=>{F(),V()};E(()=>Y)}return()=>{k&&(k(),E(null))}},[m.courtId,m.date,e]);const T=async()=>{if(r)try{const P=await ut(Pe(re,"venues",r));if(P.exists()){const A=P.data();g(A.name||""),y(A.bookingSlotInterval||30)}const L=Ne(re,"venues",r,"courts"),B=(await Fe(L)).docs.map(A=>({id:A.id,...A.data()}));d(B),B.length>0&&!m.courtId&&x(A=>({...A,courtId:B[0].id}))}catch(P){console.error("Error fetching courts:",P)}},$=async()=>{if(!(!r||!m.courtId||!m.date))try{const P=Ne(re,"bookings");let L=$e(P,Te("courtId","==",m.courtId),Te("date","==",m.date),Te("status","in",["confirmed","pending"])),R=await Fe(L);if(R.empty){const A=new Date(m.date);A.setHours(0,0,0,0);const I=new Date(m.date);I.setHours(23,59,59,999),L=$e(P,Te("courtId","==",m.courtId),Te("date",">=",Yt.fromDate(A)),Te("date","<=",Yt.fromDate(I)),Te("status","in",["confirmed","pending"])),R=await Fe(L)}const B=R.docs.map(A=>({id:A.id,...A.data()}));N(B)}catch(P){console.error("Error fetching bookings:",P)}},O=P=>{const{name:L,value:R}=P.target;x(B=>({...B,[L]:L==="duration"?parseFloat(R):R}))},M=async P=>{if(P.preventDefault(),!r||!l)return;if(!Sx(m.clientName)){alert("Имя должно быть от 2 до 100 символов");return}if(!kx(m.clientPhone)){alert("Некорректный номер телефона");return}const L=new Date;if(L.setFullYear(parseInt(m.date.split("-")[0]),parseInt(m.date.split("-")[1])-1,parseInt(m.date.split("-")[2])),!_x(L)){alert("Нельзя забронировать на прошедшую дату");return}const[R,B]=m.startTime.split(":").map(Number),A=R*60+B+m.duration,I=`${Math.floor(A/60).toString().padStart(2,"0")}:${(A%60).toString().padStart(2,"0")}`;if(!FA(m.startTime,I,m.duration)){alert("Некорректное время бронирования");return}p(!0);try{const F=c.find(J=>J.id===m.courtId);if(!F)return;const[V,Y]=m.startTime.split(":").map(Number),W=V+Math.floor(m.duration),G=Y+m.duration%1*60,H=`${String(W+Math.floor(G/60)).padStart(2,"0")}:${String(G%60).padStart(2,"0")}`,K="awaiting_payment",X=_(m.startTime,m.duration),q=m.duration>0?X/m.duration:0,ie={venueId:r,courtId:m.courtId,courtName:F.name,venueName:f,clientName:hl(m.clientName),clientPhone:pl(m.clientPhone),customerName:hl(m.clientName),customerPhone:pl(m.clientPhone),date:m.date,time:m.startTime,startTime:m.startTime,endTime:H,duration:m.duration*60,gameType:"single",status:"confirmed",amount:X,price:q,paymentMethod:m.paymentMethod,paymentStatus:K,source:"admin",paymentHistory:[{timestamp:Yt.now(),action:"created",userId:l.uid||"",userName:l.displayName||l.email||"Администратор"}],createdBy:{userId:l.uid||"",userName:l.displayName||l.email||"Администратор",userRole:l.role||"admin"},createdAt:Yt.now()};await or(Ne(re,"bookings"),ie),x({clientName:"",clientPhone:"",courtId:c.length>0?c[0].id:"",date:new Date().toISOString().split("T")[0],startTime:"10:00",duration:1,paymentMethod:"cash"}),n(),t()}catch(F){console.error("Error creating booking:",F),alert("Ошибка при создании бронирования: "+F.message)}finally{p(!1)}};return e?s.jsx("div",{className:"modal active",onClick:P=>{P.target===P.currentTarget&&t()},children:s.jsxs("div",{className:"modal-content",style:{maxWidth:"600px"},children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h2",{className:"modal-title",children:"Создать бронирование"}),s.jsx("button",{className:"modal-close",onClick:t,children:s.jsx(yc,{})})]}),s.jsx("div",{className:"modal-body",children:s.jsxs("form",{onSubmit:M,children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Имя клиента"}),s.jsx("input",{type:"text",className:"form-input",name:"clientName",value:m.clientName,onChange:O,placeholder:"Введите имя",required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Телефон"}),s.jsx("input",{type:"tel",className:"form-input",name:"clientPhone",value:m.clientPhone,onChange:O,placeholder:"+7 (___) ___-__-__",required:!0})]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginTop:"20px"},children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Корт"}),s.jsxs("select",{className:"form-select",name:"courtId",value:m.courtId,onChange:O,required:!0,children:[s.jsx("option",{value:"",children:"Выберите корт"}),c.map(P=>s.jsx("option",{value:P.id,children:P.name},P.id))]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Дата"}),s.jsx("input",{type:"date",className:"form-input",name:"date",value:m.date,onChange:O,required:!0})]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginTop:"20px"},children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Длительность"}),s.jsxs("select",{className:"form-select",name:"duration",value:m.duration,onChange:O,children:[s.jsx("option",{value:"0.5",children:"30 минут"}),s.jsx("option",{value:"1",children:"1 час"}),s.jsx("option",{value:"1.5",children:"1.5 часа"}),s.jsx("option",{value:"2",children:"2 часа"}),s.jsx("option",{value:"2.5",children:"2.5 часа"}),s.jsx("option",{value:"3",children:"3 часа"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Доступные интервалы"}),s.jsxs("select",{className:"form-select",name:"startTime",value:m.startTime,onChange:O,required:!0,children:[s.jsx("option",{value:"",children:"Выберите время"}),j.map(P=>{const L=D(P,m.duration),[R,B]=P.split(":").map(Number),A=R+Math.floor(m.duration),I=B+m.duration%1*60,F=A+Math.floor(I/60),V=I%60,Y=`${String(F).padStart(2,"0")}:${String(V).padStart(2,"0")}`,W=_(P,m.duration);return s.jsxs("option",{value:P,disabled:L,children:[P," - ",Y," ",L?"(Занято)":` - ${W.toLocaleString("ru-RU")}₽`]},P)})]})]})]}),s.jsxs("div",{className:"form-group",style:{marginTop:"20px"},children:[s.jsx("label",{className:"form-label",children:"Способ оплаты"}),s.jsxs("select",{className:"form-select",name:"paymentMethod",value:m.paymentMethod,onChange:O,children:[s.jsx("option",{value:"cash",children:"Оплата в клубе наличными"}),s.jsx("option",{value:"card_on_site",children:"Оплата в клубе картой"}),s.jsx("option",{value:"transfer",children:"Перевод на р.счет клуба (юр.лицо)"}),s.jsx("option",{value:"sberbank_card",children:"На карту Сбербанка"}),s.jsx("option",{value:"tbank_card",children:"На карту Т-Банка"}),s.jsx("option",{value:"online",children:"Онлайн оплата (Автоматическое подтверждение оплаты, ссылка на оплату в смс и в МП)"})]}),m.paymentMethod&&s.jsx("div",{style:{marginTop:"8px",padding:"8px 12px",backgroundColor:m.paymentMethod==="online"?"rgba(239, 68, 68, 0.1)":m.paymentMethod==="transfer"?"rgba(16, 185, 129, 0.1)":"rgba(245, 158, 11, 0.1)",borderRadius:"6px",fontSize:"13px",color:m.paymentMethod==="online"?"var(--danger)":m.paymentMethod==="transfer"?"var(--success)":"var(--warning)"},children:m.paymentMethod==="online"?"⏱️ На оплату дается 15 минут. Статус меняется автоматически после оплаты.":m.paymentMethod==="transfer"?"✓ Без ограничения по времени. Бронирование может ожидать оплату любое время.":m.paymentMethod==="cash"||m.paymentMethod==="card_on_site"||m.paymentMethod==="sberbank_card"||m.paymentMethod==="tbank_card"?"⏱️ На оплату дается 30 минут. Администратор должен подтвердить оплату.":""})]}),m.courtId&&m.duration&&m.startTime&&s.jsx("div",{style:{background:"var(--background)",padding:"20px",borderRadius:"8px",marginTop:"24px"},children:(()=>{const P=c.find(Y=>Y.id===m.courtId);if(!P)return null;const L=_(m.startTime,m.duration),R=parseInt(m.startTime.split(":")[0]),B=new Date(m.date),A=B.getDay()===0||B.getDay()===6,I=A?P.weekendPricing:P.weekdayPricing;let F=null;I!=null&&I.intervals&&(F=I.intervals.find(Y=>{const W=parseInt(Y.startTime.split(":")[0]),G=parseInt(Y.endTime.split(":")[0]);return R>=W&&R<G}));const V=F?F.price:P.pricePerHour||(A?P.priceWeekend:P.priceWeekday)||0;return s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:F?s.jsxs(s.Fragment,{children:["Особый тариф (",F.startTime," - ",F.endTime,"):"]}):s.jsx(s.Fragment,{children:"Стоимость за час:"})}),s.jsxs("span",{style:{fontWeight:"500"},children:[V.toLocaleString("ru-RU")," ₽"]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingTop:"12px",borderTop:"1px solid var(--extra-light-gray)",marginTop:"4px"},children:[s.jsx("span",{style:{fontWeight:"600",fontSize:"18px"},children:"Итого:"}),s.jsxs("span",{style:{fontWeight:"700",fontSize:"20px",color:"var(--primary)"},children:[L.toLocaleString("ru-RU")," ₽"]})]}),s.jsxs("div",{style:{fontSize:"14px",color:"var(--gray)",marginTop:"8px"},children:["Способ оплаты: ",m.paymentMethod==="cash"?"Оплата в клубе наличными":m.paymentMethod==="card_on_site"?"Оплата в клубе картой":m.paymentMethod==="transfer"?"Перевод на р.счет клуба (юр.лицо)":m.paymentMethod==="sberbank_card"?"На карту Сбербанка":m.paymentMethod==="tbank_card"?"На карту Т-Банка":"Онлайн оплата"]})]})})()}),s.jsxs("div",{className:"modal-footer",style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid var(--extra-light-gray)"},children:[s.jsx("button",{type:"button",className:"btn btn-secondary",onClick:t,children:"Отмена"}),s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"Создание...":"Создать бронирование"})]})]})})]})}):null}function WA(){const{admin:e}=Lt(),{isSuperAdmin:t,hasPermission:n}=rn(),[r,o]=h.useState(null),[i,a]=h.useState([]),[l,c]=h.useState([]),[d,u]=h.useState([]),[p,f]=h.useState([]),[g,v]=h.useState(!0),[y,m]=h.useState(new Date),[x,j]=h.useState({clientName:"",clientPhone:"",courtId:"",date:new Date().toISOString().split("T")[0],startTime:"10:00",duration:1.5,paymentMethod:"cash"}),[b,w]=h.useState([]),[N,k]=h.useState([]),[E,_]=h.useState(null),[D,S]=h.useState(!1),[T,$]=h.useState(!1),[O,M]=h.useState(null),[P,L]=h.useState(null),[R,B]=h.useState(null),[A,I]=h.useState(null);h.useEffect(()=>{if(t){V();const Z=localStorage.getItem("selectedVenueId");Z?(o(Z),W(Z),G(Z)):v(!1)}else e!=null&&e.venueId?(F(e.venueId),W(e.venueId),G(e.venueId)):v(!1);return()=>{A&&A()}},[e,y,t]),h.useEffect(()=>{const Z=ie(x.duration);w(Z),!Z.includes(x.startTime)&&Z.length>0&&j(le=>({...le,startTime:Z[0]}))},[x.duration,x.date,i,r,e==null?void 0:e.venueId]),h.useEffect(()=>{x.courtId&&x.date&&H()},[x.courtId,x.date]);const F=async Z=>{try{const le=await ut(Pe(re,"venues",Z));if(le.exists()){const ce={id:le.id,...le.data()};a([ce])}}catch(le){console.error("Error fetching venue data:",le)}},V=async()=>{try{const le=(await Fe(Ne(re,"venues"))).docs.map(ce=>({id:ce.id,...ce.data()}));a(le)}catch(Z){console.error("Error fetching venues:",Z)}},Y=Z=>{o(Z),localStorage.setItem("selectedVenueId",Z),W(Z),G(Z)},W=async Z=>{if(Z)try{const le=Ne(re,"venues",Z,"courts"),te=(await Fe(le)).docs.map(ke=>({id:ke.id,...ke.data()}));f(te)}catch(le){console.error("Error fetching courts:",le)}},G=async Z=>{if(Z){A&&A();try{v(!0);const le=new Date(y);le.setDate(y.getDate()-y.getDay()+1),le.setHours(0,0,0,0);const ce=new Date(le);ce.setDate(le.getDate()+6),ce.setHours(23,59,59,999),console.log("Setting up real-time listener for venue:",Z),console.log("Date range:",le,"to",ce);const te=$e(Ne(re,"bookings"),Te("venueId","==",Z)),ke=Rn(te,pe=>{try{console.log("Real-time update: Found bookings:",pe.size);const De=pe.docs.map(fe=>{var Bt,Tt;const ue=fe.data();let me;try{(Bt=ue.date)!=null&&Bt.toDate?me=ue.date.toDate():ue.date?me=new Date(ue.date):(console.warn(`Booking ${fe.id} has invalid date:`,ue.date),me=new Date)}catch(Me){console.error(`Error processing date for booking ${fe.id}:`,Me),me=new Date}let Ae;try{(Tt=ue.createdAt)!=null&&Tt.toDate?Ae=ue.createdAt.toDate():ue.createdAt?Ae=new Date(ue.createdAt):Ae=new Date}catch(Me){console.error(`Error processing createdAt for booking ${fe.id}:`,Me),Ae=new Date}return{id:fe.id,...ue,status:ue.status||"pending",paymentStatus:ue.paymentStatus||"awaiting_payment",venueId:ue.venueId||"",courtId:ue.courtId||"",startTime:ue.startTime||"",endTime:ue.endTime||"",customerName:ue.customerName||"",customerPhone:ue.customerPhone||"",amount:ue.amount||ue.totalPrice||0,date:me,createdAt:Ae}});console.log("All bookings data:",De);const et=De.filter(fe=>{if(!fe||!fe.date||!fe.venueId)return console.warn("Invalid booking data:",fe),!1;try{const ue=new Date(fe.date);return isNaN(ue.getTime())?(console.warn("Invalid booking date:",fe.date),!1):ue>=le&&ue<=ce&&fe.venueId===Z}catch(ue){return console.error("Error filtering booking:",fe.id,ue),!1}}).filter(fe=>{if(!fe||!fe.id)return console.warn("Invalid booking for calendar:",fe),!1;try{const ue=fe.status||"pending",me=fe.paymentStatus||"awaiting_payment",Ae=(ue==="confirmed"||me==="paid"||me==="awaiting_payment")&&ue!=="cancelled"&&me!=="cancelled"&&me!=="refunded";return console.log("Booking:",fe.id,"Status:",ue,"PaymentStatus:",me,"Occupies court:",Ae),Ae}catch(ue){return console.error("Error processing booking for calendar:",fe.id,ue),!1}}).sort((fe,ue)=>{try{const me=new Date(fe.date||new Date);return new Date(ue.date||new Date).getTime()-me.getTime()}catch(me){return console.error("Error sorting calendar bookings:",me),0}}),ht=De.sort((fe,ue)=>{try{const me=new Date(fe.date||new Date);return new Date(ue.date||new Date).getTime()-me.getTime()}catch(me){return console.error("Error sorting all bookings:",me),0}});console.log("Calendar bookings (occupying courts):",et),console.log("All bookings:",ht),c(et),u(ht),v(!1)}catch(De){console.error("Error processing bookings snapshot:",De),v(!1),c([]),u([])}},pe=>{console.error("Error in bookings listener:",pe),v(!1)});I(()=>ke)}catch(le){console.error("Error setting up bookings listener:",le),v(!1)}}},H=async()=>{if(!(!r&&!(e!=null&&e.venueId))&&!(!x.courtId||!x.date))try{const Z=Ne(re,"bookings"),le=$e(Z,Te("venueId","==",r||(e==null?void 0:e.venueId)),Te("courtId","==",x.courtId),Te("date","==",Yt.fromDate(new Date(x.date)))),te=(await Fe(le)).docs.map(ke=>({id:ke.id,...ke.data()}));k(te)}catch(Z){console.error("Error fetching bookings:",Z)}},K=Z=>{const le=new Date(y);le.setDate(y.getDate()+Z*7),m(le)},X=()=>{if(!y)return[];const Z=[],le=new Date(y);le.setDate(y.getDate()-y.getDay()+1);for(let ce=0;ce<7;ce++){const te=new Date(le);te.setDate(le.getDate()+ce),Z.push(te)}return Z},q=(Z,le,ce)=>{if(!Z||!le||!ce)return[];try{return l.filter(te=>{var De;if(!te||!te.date)return!1;const ke=te.date instanceof Date?te.date:(De=te.date)!=null&&De.toDate?te.date.toDate():new Date(te.date),pe=te.startTime||te.time;return ke&&Z&&ke.toDateString()===Z.toDateString()&&pe===le&&te.courtId===ce})}catch(te){return console.error("Error in getBookingsForSlot:",te,{date:Z,time:le,courtId:ce}),[]}},ie=Z=>{var ht;const le=i.find(fe=>fe.id===(r||(e==null?void 0:e.venueId))),ce=x.date?new Date(x.date).getDay()===0||new Date(x.date).getDay()===6:!1,te=((ht=le==null?void 0:le.workingHours)==null?void 0:ht[ce?"weekend":"weekday"])||(ce?"08:00-22:00":"07:00-23:00"),[ke,pe]=te.split("-"),[De]=ke.split(":").map(Number),[Re]=pe.split(":").map(Number),Ee=[],et=Re-Z;for(let fe=De;fe<=et;fe+=.5){const ue=Math.floor(fe),me=fe%1*60,Ae=`${String(ue).padStart(2,"0")}:${String(me).padStart(2,"0")}`;fe+Z<=Re&&Ee.push(Ae)}return Ee},J=()=>{var De;const Z=[],le=i.find(Re=>Re.id===(r||(e==null?void 0:e.venueId))),ce=x.date?new Date(x.date).getDay()===0||new Date(x.date).getDay()===6:!1,te=((De=le==null?void 0:le.workingHours)==null?void 0:De[ce?"weekend":"weekday"])||(ce?"08:00-22:00":"07:00-23:00");let ke=7,pe=23;if(te.includes("-")){const[Re,Ee]=te.split("-").map(et=>et.trim());Re&&Ee&&(ke=parseInt(Re.split(":")[0]),pe=parseInt(Ee.split(":")[0]))}for(let Re=ke;Re<pe;Re++)Z.push(`${Re.toString().padStart(2,"0")}:00`);return Z},de=h.useMemo(()=>J(),[i,r,e==null?void 0:e.venueId,x.date]),U=X(),oe=["Пн","Вт","Ср","Чт","Пт","Сб","Вс"],he=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"];return g?s.jsx("div",{children:"Загрузка..."}):n(["manage_bookings","manage_all_bookings","view_bookings"])?t&&!r?s.jsx("div",{children:s.jsxs("div",{className:"section-card",children:[s.jsx("div",{className:"section-header",children:s.jsx("h2",{className:"section-title",children:"Выберите клуб"})}),s.jsxs("div",{className:"form-group",style:{maxWidth:"400px"},children:[s.jsx("label",{className:"form-label",children:"Клуб"}),s.jsxs("select",{className:"form-select",value:r||"",onChange:Z=>Y(Z.target.value),children:[s.jsx("option",{value:"",children:"Выберите клуб для управления"}),i.map(Z=>s.jsx("option",{value:Z.id,children:Z.name},Z.id))]}),s.jsx("p",{className:"form-hint",children:"Выберите клуб для просмотра календаря и создания бронирований"})]})]})}):(n(["manage_bookings","manage_all_bookings","create_bookings"]),s.jsx(Lo,{permission:["manage_bookings","manage_all_bookings","view_bookings"],children:s.jsxs("div",{children:[t&&s.jsx("div",{className:"section-card",style:{marginBottom:"24px"},children:s.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[s.jsx("label",{className:"form-label",children:"Управление клубом"}),s.jsxs("select",{className:"form-select",value:r||"",onChange:Z=>Y(Z.target.value),style:{maxWidth:"400px"},children:[s.jsx("option",{value:"",children:"Выберите клуб"}),i.map(Z=>s.jsx("option",{value:Z.id,children:Z.name},Z.id))]})]})}),s.jsxs("div",{className:"section-card",children:[s.jsxs("div",{className:"calendar-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[s.jsx("h2",{className:"section-title",children:"Календарь бронирований"}),s.jsxs("div",{className:"calendar-nav",style:{display:"flex",alignItems:"center",gap:"16px"},children:[s.jsx("button",{onClick:()=>K(-1),style:{width:"32px",height:"32px",border:"1px solid var(--extra-light-gray)",background:"var(--white)",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx(KR,{})}),s.jsxs("span",{style:{fontWeight:"600",minWidth:"150px",textAlign:"center"},children:[he[y.getMonth()]," ",y.getFullYear()]}),s.jsx("button",{onClick:()=>K(1),style:{width:"32px",height:"32px",border:"1px solid var(--extra-light-gray)",background:"var(--white)",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx(QR,{})}),s.jsx("button",{onClick:()=>m(new Date),style:{padding:"6px 12px",border:"1px solid var(--extra-light-gray)",background:"var(--white)",borderRadius:"6px",cursor:"pointer",fontSize:"14px",marginLeft:"16px"},children:"Сегодня"})]})]}),p.length>0&&s.jsxs("div",{style:{display:"flex",gap:"16px",marginTop:"16px",marginBottom:"8px",flexWrap:"wrap"},children:[s.jsx("div",{style:{fontSize:"12px",color:"var(--gray)",fontWeight:"600"},children:"Корты:"}),p.map((Z,le)=>s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"12px"},children:[s.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"3px",backgroundColor:Z.color||"#00A86B",border:"1px solid rgba(0, 0, 0, 0.1)"}}),s.jsx("span",{children:Z.name}),le<p.length-1&&s.jsx("span",{style:{color:"var(--extra-light-gray)",marginLeft:"4px"},children:"|"})]},Z.id))]}),s.jsxs("div",{className:"calendar-grid",style:{display:"grid",gridTemplateColumns:"60px repeat(7, 1fr)",gap:"1px",background:"var(--extra-light-gray)",border:"1px solid var(--extra-light-gray)",borderRadius:"8px",overflow:"hidden"},children:[s.jsx("div",{style:{background:"var(--white)",padding:"12px"}}),(U||[]).map((Z,le)=>s.jsxs("div",{className:"day-header",style:{fontWeight:"600",textAlign:"center",background:"var(--background)",padding:"12px"},children:[oe[le]," ",Z?Z.getDate():""]},le)),(de||[]).map(Z=>s.jsxs(Qe.Fragment,{children:[s.jsx("div",{className:"time-slot",style:{fontSize:"12px",color:"var(--gray)",textAlign:"center",padding:"8px",background:"var(--white)"},children:Z||""}),(U||[]).map((le,ce)=>s.jsx("div",{className:"booking-slot-container",style:{display:"flex",flexDirection:"column",minHeight:`${Math.max(60,p.length*40)}px`,background:"var(--white)",border:"1px solid var(--extra-light-gray)",borderRadius:"4px",overflow:"hidden"},children:(p||[]).map((te,ke)=>{const pe=le&&Z&&(te!=null&&te.id)?q(le,Z,te.id)[0]:null;(pe==null?void 0:pe.paymentStatus)==="awaiting_payment"&&console.log("Rendering awaiting_payment booking:",{id:pe.id,courtId:te==null?void 0:te.id,courtName:te==null?void 0:te.name,paymentStatus:pe.paymentStatus,clientName:pe.clientName,hasAllRequiredFields:!!(pe&&te&&le&&Z)});const De=O&&P&&le&&le.toDateString()===O.toDateString()&&Z===P&&x.courtId===te.id,Re=R&&le&&le.toDateString()===R.date.toDateString()&&Z===R.time&&R.courtId===te.id;return s.jsxs("div",{className:"court-slot",style:{flex:1,position:"relative",cursor:"pointer",minHeight:"40px",background:pe?(()=>{const Ee=te.color||"#00A86B",et=parseInt(Ee.slice(1,3),16),ht=parseInt(Ee.slice(3,5),16),fe=parseInt(Ee.slice(5,7),16);return`rgba(${et}, ${ht}, ${fe}, 0.15)`})():De?"rgba(0, 168, 107, 0.2)":Re?"rgba(0, 168, 107, 0.05)":"transparent",padding:"4px 8px",borderTop:ke>0?"1px solid var(--extra-light-gray)":"none",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:()=>{pe||B({date:le,time:Z,courtId:te.id})},onMouseLeave:()=>{B(null)},onClick:()=>{pe?(_(pe),S(!0)):(M(le),L(Z),j(Ee=>({...Ee,courtId:te.id})),$(!0))},children:[!pe&&(Re||De)&&s.jsxs("div",{style:{fontSize:"11px",color:te.color||"var(--primary)",fontWeight:"600",textAlign:"center",display:"flex",alignItems:"center",gap:"4px",justifyContent:"center"},children:[te.color&&s.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"2px",backgroundColor:te.color,flexShrink:0}}),te.name]}),pe&&s.jsxs("div",{style:{fontSize:"10px",width:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[s.jsxs("div",{style:{fontWeight:"600",color:"var(--dark)",display:"flex",alignItems:"center",gap:"4px"},children:[(te==null?void 0:te.color)&&s.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"2px",backgroundColor:te.color,flexShrink:0}}),(pe==null?void 0:pe.clientName)||(pe==null?void 0:pe.customerName)||"Клиент"]}),((pe==null?void 0:pe.clientPhone)||(pe==null?void 0:pe.customerPhone))&&s.jsx("div",{style:{color:"var(--gray)",fontSize:"9px",marginTop:"1px"},children:pe.clientPhone||pe.customerPhone})]})]},te.id)})},`${Z||"unknown"}-${ce}`))]},Z))]})]}),s.jsx(LA,{venueId:r||(e==null?void 0:e.venueId)||"",bookings:d,onRefresh:()=>G(r||(e==null?void 0:e.venueId)||"")}),s.jsx(jx,{booking:E,isOpen:D,onClose:()=>{S(!1),_(null)},onUpdate:()=>G(r||(e==null?void 0:e.venueId)||"")}),s.jsx(zA,{isOpen:T,onClose:()=>{$(!1),M(null),L(null),j(Z=>({...Z,courtId:""}))},onSuccess:()=>{G(r||(e==null?void 0:e.venueId)||"")},venueId:r||(e==null?void 0:e.venueId)||"",preSelectedDate:O||void 0,preSelectedTime:P||void 0,preSelectedCourtId:x.courtId||void 0})]})})):s.jsxs(Ye,{severity:"error",children:[s.jsx("strong",{children:"Доступ запрещен"}),s.jsx("br",{}),"У вас недостаточно прав для просмотра бронирований."]})}function HA(){const{admin:e}=Lt(),{isSuperAdmin:t}=rn(),[n,r]=h.useState(null),[o,i]=h.useState([]),[a,l]=h.useState(!0),[c,d]=h.useState("");h.useEffect(()=>{if(t){const x=localStorage.getItem("selectedVenueId");x?(r(x),p(x)):l(!1)}else e!=null&&e.venueId&&p(e.venueId)},[e,t]);const u=x=>{r(x),localStorage.setItem("selectedVenueId",x),x&&p(x)},p=async x=>{const j=x||(e==null?void 0:e.venueId);if(j)try{l(!0);const b=$e(Ne(re,"bookings"),Te("venueId","==",j),tg("createdAt","desc"),Ta(100)),w=await Fe(b),N=new Map;w.docs.forEach(k=>{var D,S,T;const E=k.data(),_=E.clientPhone;if(N.has(_)){const $=N.get(_);$.bookingsCount++,$.totalSpent+=E.amount||0,((D=E.date)==null?void 0:D.toDate())>$.lastVisit&&($.lastVisit=E.date.toDate())}else N.set(_,{id:_,name:E.clientName,phone:E.clientPhone,bookingsCount:1,lastVisit:(S=E.date)==null?void 0:S.toDate(),totalSpent:E.amount||0,hasApp:E.paymentMethod==="app",venueId:e.venueId,createdAt:((T=E.createdAt)==null?void 0:T.toDate())||new Date})}),i(Array.from(N.values()))}catch(b){console.error("Error fetching customers:",b)}finally{l(!1)}},f=o.filter(x=>x.name.toLowerCase().includes(c.toLowerCase())||x.phone.includes(c)),g=x=>x.split(" ").map(j=>j[0]).join("").toUpperCase().slice(0,2),v=x=>{const j=["var(--primary)","var(--padel)","var(--badminton)","var(--tennis)"],b=x.charCodeAt(0)%j.length;return j[b]},y=x=>{if(!x)return"Нет данных";const b=Math.abs(new Date().getTime()-x.getTime()),w=Math.ceil(b/(1e3*60*60*24));return w===0?"Сегодня":w===1?"Вчера":w<7?`${w} дней назад`:w<30?`${Math.floor(w/7)} недель назад`:x.toLocaleDateString("ru-RU")},m=()=>{const x=[["Имя","Телефон","Количество бронирований","Потрачено","Последний визит"].join(","),...f.map(w=>{var N;return[w.name,w.phone,w.bookingsCount,w.totalSpent,((N=w.lastVisit)==null?void 0:N.toLocaleDateString("ru-RU"))||""].join(",")})].join(`
`),j=new Blob([x],{type:"text/csv;charset=utf-8;"}),b=document.createElement("a");b.href=URL.createObjectURL(j),b.download=`customers_${new Date().toISOString().split("T")[0]}.csv`,b.click()};return a?s.jsx("div",{children:"Загрузка..."}):t&&!n?s.jsx(Fo,{title:"Выберите клуб для просмотра клиентов"}):s.jsxs("div",{children:[t&&s.jsx(Bo,{selectedVenueId:n,onVenueChange:u}),s.jsxs("div",{className:"section-card",children:[s.jsxs("div",{className:"section-header",children:[s.jsx("h2",{className:"section-title",children:"База клиентов"}),s.jsxs("div",{style:{display:"flex",gap:"12px"},children:[s.jsx("input",{type:"search",className:"form-input",placeholder:"Поиск по имени или телефону",style:{width:"300px"},value:c,onChange:x=>d(x.target.value)}),s.jsxs("button",{className:"btn btn-secondary",onClick:m,children:[s.jsx(eA,{fontSize:"small"}),"Экспорт"]})]})]}),s.jsx("div",{className:"table-wrapper",children:s.jsxs("table",{children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Клиент"}),s.jsx("th",{children:"Телефон"}),s.jsx("th",{children:"Бронирований"}),s.jsx("th",{children:"Потрачено"}),s.jsx("th",{children:"Последний визит"}),s.jsx("th",{children:"Статус в приложении"}),s.jsx("th",{children:"Действия"})]})}),s.jsx("tbody",{children:f.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:7,style:{textAlign:"center",padding:"48px",color:"var(--gray)"},children:"Клиенты не найдены"})}):f.map(x=>s.jsxs("tr",{children:[s.jsx("td",{children:s.jsxs("div",{className:"customer-info",style:{display:"flex",alignItems:"center",gap:"12px"},children:[s.jsx("div",{className:"customer-avatar",style:{width:"40px",height:"40px",borderRadius:"50%",background:v(x.name),color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"600",fontSize:"16px"},children:g(x.name)}),s.jsx("div",{children:s.jsx("div",{className:"customer-name",style:{fontWeight:"600",color:"var(--dark)"},children:x.name})})]})}),s.jsx("td",{children:x.phone}),s.jsx("td",{children:x.bookingsCount}),s.jsxs("td",{children:[x.totalSpent.toLocaleString("ru-RU"),"₽"]}),s.jsx("td",{children:y(x.lastVisit)}),s.jsx("td",{children:x.hasApp?s.jsx("span",{style:{color:"var(--success)"},children:"✅ Установлено"}):s.jsx("span",{style:{color:"var(--warning)"},children:"📱 Не установлено"})}),s.jsx("td",{children:x.hasApp?s.jsx("button",{className:"btn btn-secondary",children:"Детали"}):s.jsxs("button",{className:"btn btn-secondary",children:[s.jsx(Kd,{fontSize:"small"}),"Отправить SMS"]})})]},x.id))})]})})]}),s.jsxs("div",{className:"section-card",children:[s.jsx("h2",{className:"section-title",children:"Статистика по клиентам"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"24px"},children:[s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{style:{fontSize:"32px",fontWeight:"700",color:"var(--primary)"},children:o.length}),s.jsx("div",{style:{color:"var(--gray)",fontSize:"14px"},children:"Всего клиентов"})]}),s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{style:{fontSize:"32px",fontWeight:"700",color:"var(--primary)"},children:o.filter(x=>x.hasApp).length}),s.jsx("div",{style:{color:"var(--gray)",fontSize:"14px"},children:"С приложением"})]}),s.jsxs("div",{style:{textAlign:"center"},children:[s.jsxs("div",{style:{fontSize:"32px",fontWeight:"700",color:"var(--primary)"},children:[Math.round(o.filter(x=>x.hasApp).length/o.length*100),"%"]}),s.jsx("div",{style:{color:"var(--gray)",fontSize:"14px"},children:"Конверсия в приложение"})]}),s.jsxs("div",{style:{textAlign:"center"},children:[s.jsxs("div",{style:{fontSize:"32px",fontWeight:"700",color:"var(--primary)"},children:[o.reduce((x,j)=>x+j.totalSpent,0).toLocaleString("ru-RU"),"₽"]}),s.jsx("div",{style:{color:"var(--gray)",fontSize:"14px"},children:"Общий доход"})]})]})]})]})}function UA(){const e=nn();return s.jsxs(gi,{maxWidth:"lg",sx:{py:8},children:[s.jsxs(se,{textAlign:"center",mb:6,children:[s.jsx(z,{variant:"h2",component:"h1",gutterBottom:!0,children:"Sports Booking"}),s.jsx(z,{variant:"h5",color:"text.secondary",gutterBottom:!0,children:"Система бронирования спортивных кортов"}),s.jsx(z,{variant:"body1",color:"text.secondary",sx:{maxWidth:600,mx:"auto"},children:"Мобильное приложение для клиентов и веб-панель управления для клубов"})]}),s.jsxs(Be,{container:!0,spacing:4,mb:6,children:[s.jsx(Be,{item:!0,xs:12,md:6,children:s.jsx(ct,{children:s.jsxs(dt,{sx:{p:4,textAlign:"center"},children:[s.jsx(lA,{sx:{fontSize:60,color:"primary.main",mb:2}}),s.jsx(z,{variant:"h5",gutterBottom:!0,children:"Для клиентов"}),s.jsx(z,{variant:"body1",color:"text.secondary",mb:3,children:"Скачайте мобильное приложение для бронирования кортов, поиска партнеров и оплаты"}),s.jsxs(se,{display:"flex",gap:2,justifyContent:"center",flexWrap:"wrap",children:[s.jsx(Ie,{variant:"outlined",disabled:!0,children:"App Store"}),s.jsx(Ie,{variant:"outlined",disabled:!0,children:"Google Play"})]})]})})}),s.jsx(Be,{item:!0,xs:12,md:6,children:s.jsx(ct,{children:s.jsxs(dt,{sx:{p:4,textAlign:"center"},children:[s.jsx(yA,{sx:{fontSize:60,color:"primary.main",mb:2}}),s.jsx(z,{variant:"h5",gutterBottom:!0,children:"Для клубов"}),s.jsx(z,{variant:"body1",color:"text.secondary",mb:3,children:"Веб-панель управления для администраторов спортивных клубов"}),s.jsx(Ie,{variant:"contained",size:"large",onClick:()=>e("/admin/login"),children:"Войти в админ-панель"})]})})})]}),s.jsxs(un,{sx:{p:4,textAlign:"center"},children:[s.jsx(jp,{sx:{fontSize:80,color:"primary.main",mb:2}}),s.jsx(z,{variant:"h5",gutterBottom:!0,children:"QR-код для клиентов"}),s.jsx(z,{variant:"body1",color:"text.secondary",mb:3,children:"Разместите этот QR-код в вашем клубе, чтобы клиенты могли скачать приложение"}),s.jsx(se,{sx:{maxWidth:200,height:200,mx:"auto",bgcolor:"grey.100",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:2},children:s.jsx(z,{color:"text.secondary",children:"QR-код приложения"})})]})]})}function VA({email:e,size:t="small"}){const[n,r]=h.useState(!1),[o,i]=h.useState(null),a=async()=>{r(!0);try{await Ub(Zt,e),i({type:"success",text:`Ссылка для сброса пароля отправлена на ${e}`})}catch(l){console.error("Error sending password reset email:",l),i({type:"error",text:"Ошибка при отправке письма. Попробуйте позже."})}finally{r(!1)}};return s.jsxs(s.Fragment,{children:[s.jsx(Ie,{variant:"outlined",size:t,startIcon:n?s.jsx(tn,{size:16}):s.jsx(oA,{}),onClick:a,disabled:n,children:"Сбросить пароль"}),s.jsx(ex,{open:!!o,autoHideDuration:6e3,onClose:()=>i(null),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:o&&s.jsx(Ye,{onClose:()=>i(null),severity:o.type,sx:{width:"100%"},children:o.text})})]})}const YA=[{value:"manage_bookings",label:"Управление бронированиями"},{value:"manage_courts",label:"Управление кортами"},{value:"manage_club",label:"Управление клубом"},{value:"manage_admins",label:"Управление администраторами клуба"},{value:"view_reports",label:"Просмотр отчетов"},{value:"view_bookings",label:"Просмотр бронирований"},{value:"create_bookings",label:"Создание бронирований"},{value:"manage_finance",label:"Управление финансами клуба"}],rd={superadmin:["manage_all_venues","manage_all_bookings","manage_all_users","manage_platform_settings","view_all_reports","manage_finance","manage_admins"],admin:["manage_bookings","manage_courts","manage_club","manage_admins","manage_finance","view_reports","create_bookings"],manager:["view_bookings","create_bookings","view_reports"]};function GA(){const{isSuperAdmin:e}=rn(),[t,n]=h.useState([]),[r,o]=h.useState([]),[i,a]=h.useState(!0),[l,c]=h.useState(!1),[d,u]=h.useState(null),[p,f]=h.useState({name:"",email:"",password:"",role:"manager",venueId:"",permissions:[]}),[g,v]=h.useState("");h.useEffect(()=>{y()},[]);const y=async()=>{try{const k=await Fe(Ne(re,"admins")),E=[];for(const S of k.docs){const T=S.data();let $="";if(T.venueId){const O=await Fe($e(Ne(re,"venues"),Te("__name__","==",T.venueId)));O.empty||($=O.docs[0].data().name)}E.push({id:S.id,name:T.name,email:T.email,password:T.password,role:T.role,venueId:T.venueId,venueName:$,permissions:T.permissions||[]})}n(E);const D=(await Fe(Ne(re,"venues"))).docs.map(S=>({id:S.id,name:S.data().name}));o(D),a(!1)}catch(k){console.error("Error loading data:",k),a(!1)}},m=k=>{k?(u(k),f({name:k.name,email:k.email,password:"",role:k.role,venueId:k.venueId||"",permissions:k.permissions})):(u(null),f({name:"",email:"",password:"",role:"admin",venueId:"",permissions:rd.admin})),c(!0),v("")},x=()=>{c(!1),u(null),v("")},j=k=>{f({...p,role:k,permissions:rd[k]})},b=k=>{const E=p.permissions.includes(k)?p.permissions.filter(_=>_!==k):[...p.permissions,k];f({...p,permissions:E})},w=async()=>{try{if(v(""),d){const k={name:p.name,role:p.role,venueId:p.venueId||null,permissions:p.permissions,updatedAt:new Date};await Ct(Pe(re,"admins",d.id),k)}else{if(!p.password){v("Пароль обязателен для нового администратора");return}const k=await eg(Zt,p.email,p.password);await or(Ne(re,"admins"),{uid:k.user.uid,name:p.name,email:p.email,role:p.role,venueId:p.venueId||null,permissions:p.permissions,createdAt:new Date,updatedAt:new Date})}x(),y()}catch(k){console.error("Error saving admin:",k),k.code==="auth/email-already-in-use"?v("Пользователь с таким email уже существует"):k.code==="auth/weak-password"?v("Пароль должен содержать минимум 6 символов"):v("Ошибка при сохранении администратора")}},N=async k=>{const E=t.find(D=>D.id===k);if(!E)return;const _=`Вы уверены, что хотите удалить администратора ${E.name} (${E.email})?`;if(confirm(_))try{await Li(Pe(re,"admins",k)),await y(),alert(`Администратор ${E.name} успешно удален`)}catch(D){console.error("Error deleting admin:",D),alert("Ошибка при удалении администратора")}};return i?s.jsx(se,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:s.jsx(tn,{})}):s.jsx(Lo,{role:"superadmin",children:s.jsxs(se,{children:[s.jsx(Ye,{severity:"info",sx:{mb:3},children:"Данный раздел доступен только суперадминистраторам системы"}),s.jsxs(se,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[s.jsx("h2",{children:"Управление администраторами"}),s.jsx(Ie,{variant:"contained",startIcon:s.jsx(sa,{}),onClick:()=>m(),children:"Добавить администратора"})]}),s.jsx(gc,{component:un,children:s.jsxs(hc,{children:[s.jsx(vc,{children:s.jsxs(es,{children:[s.jsx(Ve,{children:"Имя"}),s.jsx(Ve,{children:"Email"}),s.jsx(Ve,{children:"Роль"}),s.jsx(Ve,{children:"Клуб"}),s.jsx(Ve,{align:"right",children:"Действия"})]})}),s.jsx(mc,{children:t.map(k=>s.jsxs(es,{children:[s.jsx(Ve,{children:k.name}),s.jsx(Ve,{children:k.email}),s.jsx(Ve,{children:s.jsx(gr,{label:k.role,color:k.role==="superadmin"?"error":k.role==="admin"?"primary":"default",size:"small"})}),s.jsx(Ve,{children:k.venueName||"-"}),s.jsx(Ve,{align:"right",children:k.role!=="superadmin"&&s.jsxs(s.Fragment,{children:[s.jsx(VA,{email:k.email}),s.jsx(fn,{onClick:()=>m(k),children:s.jsx(Ri,{})}),e&&s.jsx(fn,{onClick:()=>N(k.id),color:"error",children:s.jsx(Oo,{})})]})})]},k.id))})]})}),s.jsxs(ur,{open:l,onClose:x,maxWidth:"sm",fullWidth:!0,children:[s.jsx(Tr,{children:d?"Редактировать администратора":"Добавить администратора"}),s.jsxs(pr,{children:[g&&s.jsx(Ye,{severity:"error",sx:{mb:2},children:g}),s.jsx(Ze,{fullWidth:!0,label:"Имя",value:p.name,onChange:k=>f({...p,name:k.target.value}),margin:"normal"}),s.jsx(Ze,{fullWidth:!0,label:"Email",type:"email",value:p.email,onChange:k=>f({...p,email:k.target.value}),margin:"normal",disabled:!!d}),!d&&s.jsx(Ze,{fullWidth:!0,label:"Пароль",type:"password",value:p.password,onChange:k=>f({...p,password:k.target.value}),margin:"normal",required:!0}),s.jsxs(hr,{fullWidth:!0,margin:"normal",children:[s.jsx(Rr,{children:"Роль"}),s.jsxs(vr,{value:p.role,onChange:k=>j(k.target.value),children:[s.jsx(It,{value:"admin",children:"Администратор"}),s.jsx(It,{value:"manager",children:"Менеджер"})]})]}),s.jsxs(hr,{fullWidth:!0,margin:"normal",children:[s.jsx(Rr,{children:"Клуб"}),s.jsxs(vr,{value:p.venueId,onChange:k=>f({...p,venueId:k.target.value}),children:[s.jsx(It,{value:"",children:"Не выбран"}),r.map(k=>s.jsx(It,{value:k.id,children:k.name},k.id))]})]}),s.jsxs(hr,{component:"fieldset",margin:"normal",children:[s.jsx(Gy,{component:"legend",children:"Права доступа"}),s.jsx(LP,{children:YA.map(k=>s.jsx(ll,{control:s.jsx(yM,{checked:p.permissions.includes(k.value),onChange:()=>b(k.value),disabled:rd[p.role].includes(k.value)}),label:k.label},k.value))})]})]}),s.jsxs(_r,{children:[s.jsx(Ie,{onClick:x,children:"Отмена"}),s.jsx(Ie,{onClick:w,variant:"contained",children:d?"Сохранить":"Создать"})]})]})]})})}const wr={start:{name:"СТАРТ",price:0,pricePerCourt:0,limits:{maxCourts:2,maxBookingsPerMonth:-1,smsEmailNotifications:0,customDesign:!1,apiAccess:!1,multiVenue:!1,searchPriority:0,abTesting:!1,trainersModule:!1,personalManager:!1},features:["До 2 кортов бесплатно","Неограниченные бронирования","Управление расписанием","Онлайн-оплата (свой эквайринг)","Белый лейбл (логотип клуба)","Push-уведомления в приложении","Мобильное приложение для клиентов","Базовая отчетность","QR-коды для бронирований"]},standard:{name:"СТАНДАРТ",price:990,pricePerCourt:990,limits:{maxCourts:-1,maxBookingsPerMonth:-1,smsEmailNotifications:500,customDesign:!1,apiAccess:!1,multiVenue:!1,searchPriority:10,abTesting:!1,trainersModule:!1,personalManager:!1},features:["990₽ за корт в месяц","От 3 кортов","Неограниченные бронирования","SMS/Email уведомления (500 шт/месяц на корт)","Расширенная аналитика и отчеты","Управление ценами и скидками","Промокоды и акции","Интеграция с календарями","Экспорт данных в Excel","Приоритет в поиске (+10%)"]},pro:{name:"ПРОФИ",price:1990,pricePerCourt:1990,limits:{maxCourts:-1,maxBookingsPerMonth:-1,smsEmailNotifications:-1,customDesign:!0,apiAccess:!0,multiVenue:!0,searchPriority:30,abTesting:!0,trainersModule:!0,personalManager:!0},features:["1,990₽ за корт в месяц","От 1 корта","SMS/Email без ограничений","Белый лейбл PRO (кастомизация дизайна)","API доступ для интеграций","Мультиплощадки (управление сетью)","Топ в поиске (+30% видимости)","A/B тестирование цен","Модуль абонементов и пакетов","Модуль тренеров и расписания","Персональный менеджер"]},premium:{name:"ПРЕМИУМ",price:-1,limits:{maxCourts:-1,maxBookingsPerMonth:-1,smsEmailNotifications:-1,customDesign:!0,apiAccess:!0,multiVenue:!0,searchPriority:50,abTesting:!0,trainersModule:!0,personalManager:!0},features:["Все функции ПРОФИ","Т-Банк Мультирасчеты","Кастомные интеграции","Выделенный сервер","SLA гарантии","Приоритетная разработка функций","Выделенный менеджер 24/7"]}};function qA(){const e=nn(),{isSuperAdmin:t}=rn(),{admin:n}=Lt(),[r,o]=h.useState([]),[i,a]=h.useState(!0),[l,c]=h.useState(null),[d,u]=h.useState(!1),[p,f]=h.useState(!1),[g,v]=h.useState("start"),[y,m]=h.useState(""),[x,j]=h.useState(null),[b,w]=h.useState(!1),[N,k]=h.useState(null),[E,_]=h.useState(!1),[D,S]=h.useState({name:"",address:"",city:"",phone:"",email:"",description:"",organizationType:"ИП",inn:"",bankAccount:""});h.useEffect(()=>{T()},[]);const T=async()=>{try{const I=await Fe(Ne(re,"venues")),F=await Promise.all(I.docs.map(async V=>{var K,X,q,ie,J,de;const Y=V.data();Y.location&&Y.location._lat!==void 0&&(Y.location={latitude:Y.location._lat,longitude:Y.location._long});const W=$e(Ne(re,"subscriptions"),Te("venueId","==",V.id),Te("status","in",["active","trial"])),G=await Fe(W);let H=null;if(!G.empty){const U=G.docs[0].data();H={id:G.docs[0].id,...U,startDate:(K=U.startDate)==null?void 0:K.toDate(),endDate:(X=U.endDate)==null?void 0:X.toDate(),trialEndDate:(q=U.trialEndDate)==null?void 0:q.toDate(),nextBillingDate:(ie=U.nextBillingDate)==null?void 0:ie.toDate(),usage:{...U.usage,lastUpdated:(de=(J=U.usage)==null?void 0:J.lastUpdated)==null?void 0:de.toDate()}}}return{id:V.id,...Y,subscription:H}}));o(F),a(!1)}catch(I){console.error("Error loading venues:",I),a(!1)}},$=I=>{localStorage.setItem("selectedVenueId",I.id),e("/admin/club")},O=async I=>{try{const F=I.status==="active"?"inactive":"active";await Ct(Pe(re,"venues",I.id),{status:F,updatedAt:new Date}),T()}catch(F){console.error("Error updating venue status:",F)}},M=async I=>{try{const F=$e(Ne(re,"admins"),Te("venueId","==",I)),V=await Fe(F);if(!V.empty){const G=V.size,H=V.docs.map(K=>{const X=K.data();return`- ${X.name} (${X.email}) - ${X.role==="admin"?"Администратор":"Менеджер"}`}).join(`
`);alert(`Невозможно удалить клуб!

В клубе есть ${G} сотрудник(ов):
${H}

Сначала удалите всех сотрудников клуба в разделе "Администраторы".`);return}const Y=r.find(G=>G.id===I);if(!Y)return;const W=`Вы уверены, что хотите удалить клуб "${Y.name}"?

Это действие необратимо и удалит:
- Все данные клуба
- Все корты
- Все бронирования
- Всю историю`;confirm(W)&&(await Li(Pe(re,"venues",I)),await T(),alert(`Клуб "${Y.name}" успешно удален`))}catch(F){console.error("Error deleting venue:",F),alert("Ошибка при удалении клуба")}},P=I=>`https://allcourt.ru/club/${I}`,L=I=>{const F=P(I);navigator.clipboard.writeText(F),j(I),setTimeout(()=>j(null),2e3)},R=I=>{k(I),w(!0)},B=I=>{var F;c(I),v(((F=I.subscription)==null?void 0:F.plan)||"start"),f(!0)},A=async()=>{var I,F;if(l)try{const V={venueId:l.id,plan:g,status:"active",startDate:new Date,endDate:null,updatedAt:new Date,updatedBy:"superadmin",usage:((I=l.subscription)==null?void 0:I.usage)||{courtsCount:0,bookingsThisMonth:0,smsEmailsSent:0,lastUpdated:new Date}};(F=l.subscription)!=null&&F.id?await Ct(Pe(re,"subscriptions",l.subscription.id),{plan:g,updatedAt:new Date,updatedBy:"superadmin"}):await or(Ne(re,"subscriptions"),V),f(!1),T()}catch(V){console.error("Error updating subscription:",V),m("Ошибка при обновлении подписки")}};return i?s.jsx(se,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:s.jsx(tn,{})}):s.jsxs(Lo,{role:"superadmin",children:[s.jsxs(se,{children:[s.jsx(Ye,{severity:"info",sx:{mb:3},children:"Данный раздел доступен только суперадминистраторам системы"}),s.jsxs(se,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[s.jsx(z,{variant:"h5",component:"h2",children:"Управление клубами"}),s.jsx(Ie,{variant:"contained",startIcon:s.jsx(sa,{}),onClick:()=>_(!0),children:"Добавить клуб"})]}),r.length===0?s.jsx(Ye,{severity:"info",children:"Клубы не найдены. Создайте первый клуб для начала работы."}):s.jsx(Be,{container:!0,spacing:3,children:r.map(I=>{var F,V;return s.jsx(Be,{item:!0,xs:12,md:6,lg:4,children:s.jsxs(ct,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[s.jsxs(dt,{sx:{flexGrow:1},children:[s.jsxs(se,{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2,children:[s.jsx(z,{variant:"h6",component:"h3",children:I.name}),s.jsx(gr,{label:I.status==="active"?"Активен":"Неактивен",color:I.status==="active"?"success":"default",size:"small"})]}),s.jsxs(se,{display:"flex",alignItems:"center",gap:1,mb:1,children:[s.jsx(sA,{fontSize:"small",color:"action"}),s.jsx(z,{variant:"body2",color:"text.secondary",children:I.address})]}),I.city&&s.jsx(se,{display:"flex",alignItems:"center",gap:1,mb:1,children:s.jsx(z,{variant:"body2",color:"text.secondary",sx:{ml:3},children:I.city})}),I.location?s.jsx(se,{display:"flex",alignItems:"center",gap:1,mb:1,children:s.jsxs(z,{variant:"body2",color:"text.secondary",sx:{ml:3,fontSize:"0.75rem"},children:["📍 ",(F=I.location.latitude)==null?void 0:F.toFixed(6),", ",(V=I.location.longitude)==null?void 0:V.toFixed(6)]})}):s.jsx(se,{display:"flex",alignItems:"center",gap:1,mb:1,children:s.jsx(z,{variant:"body2",color:"warning.main",sx:{ml:3,fontSize:"0.75rem",fontStyle:"italic"},children:"⚠️ Координаты не указаны"})}),s.jsxs(se,{display:"flex",alignItems:"center",gap:1,mb:1,children:[s.jsx(aA,{fontSize:"small",color:"action"}),s.jsx(z,{variant:"body2",color:"text.secondary",children:I.phone})]}),s.jsxs(se,{display:"flex",alignItems:"center",gap:1,children:[s.jsx(Gd,{fontSize:"small",color:"action"}),s.jsx(z,{variant:"body2",color:"text.secondary",children:I.email})]}),I.description&&s.jsx(z,{variant:"body2",color:"text.secondary",mt:2,children:I.description}),I.status==="pending"&&s.jsxs(se,{sx:{mt:2,p:1.5,bgcolor:"warning.light",borderRadius:1},children:[s.jsxs(se,{display:"flex",alignItems:"center",gap:1,mb:1,children:[s.jsx(bo,{fontSize:"small",color:"warning"}),s.jsx(z,{variant:"subtitle2",color:"warning.dark",children:"Ожидает модерации"})]}),s.jsx(Ie,{variant:"contained",size:"small",color:"success",onClick:async()=>{var Y;try{await Ct(Pe(re,"venues",I.id),{status:"active",moderatedAt:new Date,moderatedBy:((Y=Zt.currentUser)==null?void 0:Y.uid)||"superadmin"}),T()}catch(W){console.error("Error activating venue:",W)}},children:"Активировать клуб"})]}),I.status==="active"&&t&&s.jsxs(se,{sx:{mt:2,p:1.5,bgcolor:"success.light",borderRadius:1},children:[s.jsxs(se,{display:"flex",alignItems:"center",gap:1,mb:1,children:[s.jsx(wp,{fontSize:"small",color:"success"}),s.jsx(z,{variant:"subtitle2",color:"success.dark",children:"Активный клуб"})]}),s.jsx(Ie,{variant:"outlined",size:"small",color:"warning",onClick:async()=>{if(window.confirm("Вы уверены, что хотите отправить клуб на модерацию? Это заблокирует возможность бронирования."))try{await Ct(Pe(re,"venues",I.id),{status:"pending",moderatedAt:null,moderatedBy:null}),T()}catch(Y){console.error("Error deactivating venue:",Y)}},children:"Отправить на модерацию"})]}),s.jsxs(se,{sx:{mt:2,p:1.5,bgcolor:"background.default",borderRadius:1},children:[s.jsxs(se,{display:"flex",alignItems:"center",gap:1,mb:.5,children:[s.jsx(Vd,{fontSize:"small",color:"primary"}),s.jsxs(z,{variant:"subtitle2",color:"primary",children:["Тариф: ",I.subscription?wr[I.subscription.plan].name:"Не определен"]})]}),I.subscription&&s.jsx(z,{variant:"caption",color:"text.secondary",children:wr[I.subscription.plan].price===0?"Бесплатный":`${wr[I.subscription.plan].price.toLocaleString("ru-RU")} ₽/мес`}),!I.subscription&&s.jsxs(z,{variant:"caption",color:"warning.main",children:[s.jsx(bo,{fontSize:"small",sx:{verticalAlign:"middle",mr:.5}}),"Требуется настройка подписки"]})]}),s.jsxs(se,{sx:{mt:2,p:1.5,bgcolor:"background.default",borderRadius:1},children:[s.jsxs(se,{display:"flex",alignItems:"center",gap:1,mb:1,children:[s.jsx(rA,{fontSize:"small",color:"action"}),s.jsx(z,{variant:"caption",color:"text.secondary",children:"Ссылка для клиентов:"})]}),s.jsxs(se,{display:"flex",alignItems:"center",gap:1,children:[s.jsx(z,{variant:"caption",sx:{flex:1,fontFamily:"monospace",wordBreak:"break-all",p:.5,bgcolor:"white",borderRadius:.5},children:P(I.id)}),s.jsx(am,{title:x===I.id?"Скопировано!":"Копировать ссылку",children:s.jsx(fn,{size:"small",onClick:()=>L(I.id),color:x===I.id?"success":"default",children:x===I.id?s.jsx(ps,{fontSize:"small"}):s.jsx(rx,{fontSize:"small"})})}),s.jsx(am,{title:"Показать QR код",children:s.jsx(fn,{size:"small",onClick:()=>R(I),children:s.jsx(jp,{fontSize:"small"})})})]})]})]}),s.jsxs(ZE,{sx:{flexWrap:"wrap",gap:.5},children:[s.jsx(Ie,{size:"small",onClick:()=>$(I),startIcon:s.jsx(Ri,{fontSize:"small"}),children:"Редактировать"}),s.jsx(Ie,{size:"small",onClick:()=>B(I),startIcon:s.jsx(Vd,{fontSize:"small"}),color:"secondary",children:"Тариф"}),s.jsx(Ie,{size:"small",onClick:()=>O(I),children:I.status==="active"?"Деактивировать":"Активировать"}),s.jsx(fn,{size:"small",color:"error",onClick:()=>M(I.id),children:s.jsx(Oo,{})})]})]})},I.id)})})]}),s.jsxs(ur,{open:b,onClose:()=>w(!1),maxWidth:"sm",children:[s.jsxs(Tr,{children:["QR код для ",N==null?void 0:N.name]}),s.jsx(pr,{children:s.jsxs(se,{sx:{textAlign:"center",p:2},children:[s.jsx(ul,{value:N?P(N.id):"",size:256,level:"H",includeMargin:!0}),s.jsx(z,{variant:"body2",color:"text.secondary",sx:{mt:2},children:"Клиенты могут отсканировать этот QR код для бронирования"}),s.jsx(Ur,{sx:{my:2}}),s.jsx(z,{variant:"caption",sx:{fontFamily:"monospace"},children:N&&P(N.id)})]})}),s.jsxs(_r,{children:[s.jsx(Ie,{onClick:()=>w(!1),children:"Закрыть"}),s.jsx(Ie,{variant:"contained",onClick:()=>{N&&L(N.id)},children:"Копировать ссылку"})]})]}),s.jsxs(ur,{open:p,onClose:()=>f(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsxs(Tr,{children:["Изменение тарифа для ",l==null?void 0:l.name]}),s.jsxs(pr,{children:[y&&s.jsx(Ye,{severity:"error",sx:{mb:2},children:y}),s.jsxs(se,{sx:{mt:2},children:[s.jsxs(hr,{fullWidth:!0,children:[s.jsx(Rr,{children:"Тарифный план"}),s.jsx(vr,{value:g,onChange:I=>v(I.target.value),label:"Тарифный план",children:Object.entries(wr).filter(([I])=>I!=="premium").map(([I,F])=>s.jsx(It,{value:I,children:s.jsxs(se,{children:[s.jsx(z,{variant:"body1",children:F.name}),s.jsx(z,{variant:"caption",color:"text.secondary",children:F.price===0?"Бесплатно":`${F.price.toLocaleString("ru-RU")} ₽/месяц`})]})},I))})]}),g&&s.jsxs(se,{sx:{mt:3},children:[s.jsxs(z,{variant:"subtitle2",gutterBottom:!0,children:["Возможности тарифа ",wr[g].name,":"]}),s.jsx(yo,{dense:!0,children:wr[g].features.slice(0,5).map((I,F)=>s.jsx(ar,{disablePadding:!0,children:s.jsx(lr,{primary:I,primaryTypographyProps:{variant:"body2"}})},F))})]}),s.jsx(Ye,{severity:"info",sx:{mt:2},children:"Изменение тарифа вступит в силу немедленно. Клуб будет уведомлен об изменении."})]})]}),s.jsxs(_r,{children:[s.jsx(Ie,{onClick:()=>f(!1),children:"Отмена"}),s.jsx(Ie,{onClick:A,variant:"contained",children:"Применить"})]})]}),s.jsxs(ur,{open:E,onClose:()=>_(!1),maxWidth:"md",fullWidth:!0,children:[s.jsx(Tr,{children:"Добавить новый клуб"}),s.jsxs(pr,{children:[y&&s.jsx(Ye,{severity:"error",sx:{mb:2},children:y}),s.jsxs(se,{sx:{mt:2,display:"flex",flexDirection:"column",gap:2},children:[s.jsx(Ze,{label:"Название клуба",value:D.name,onChange:I=>S({...D,name:I.target.value}),fullWidth:!0,required:!0}),s.jsx(Ze,{label:"Адрес",value:D.address,onChange:I=>S({...D,address:I.target.value}),fullWidth:!0,required:!0}),s.jsx(Ze,{label:"Город",value:D.city,onChange:I=>S({...D,city:I.target.value}),fullWidth:!0,required:!0}),s.jsx(Ze,{label:"Телефон",value:D.phone,onChange:I=>S({...D,phone:I.target.value}),fullWidth:!0,required:!0,placeholder:"+7 (900) 123-45-67"}),s.jsx(Ze,{label:"Email",value:D.email,onChange:I=>S({...D,email:I.target.value}),fullWidth:!0,required:!0,type:"email"}),s.jsx(Ze,{label:"Описание",value:D.description,onChange:I=>S({...D,description:I.target.value}),fullWidth:!0,multiline:!0,rows:3}),s.jsxs(hr,{fullWidth:!0,children:[s.jsx(Rr,{children:"Форма организации"}),s.jsxs(vr,{value:D.organizationType,onChange:I=>S({...D,organizationType:I.target.value}),label:"Форма организации",children:[s.jsx(It,{value:"ИП",children:"ИП"}),s.jsx(It,{value:"ООО",children:"ООО"}),s.jsx(It,{value:"Самозанятый",children:"Самозанятый"})]})]}),s.jsx(Ze,{label:"ИНН",value:D.inn,onChange:I=>S({...D,inn:I.target.value}),fullWidth:!0}),s.jsx(Ze,{label:"Расчетный счет",value:D.bankAccount,onChange:I=>S({...D,bankAccount:I.target.value}),fullWidth:!0})]})]}),s.jsxs(_r,{children:[s.jsx(Ie,{onClick:()=>{_(!1),m(""),S({name:"",address:"",city:"",phone:"",email:"",description:"",organizationType:"ИП",inn:"",bankAccount:""})},children:"Отмена"}),s.jsx(Ie,{onClick:async()=>{try{if(!D.name||!D.address||!D.city||!D.phone||!D.email){m("Заполните все обязательные поля");return}const I=$e(Ne(re,"venues"),Te("email","==",D.email));if(!(await Fe(I)).empty){m("Клуб с таким email уже существует");return}const V={name:D.name,address:D.address,city:D.city,phone:D.phone,email:D.email,description:D.description||"",organizationType:D.organizationType,inn:D.inn||"",bankAccount:D.bankAccount||"",status:"pending",createdAt:new Date,updatedAt:new Date,logoUrl:"",amenities:[],location:null,moderatedAt:null,moderatedBy:null,courts:[],workingHours:{weekday:{start:"07:00",end:"23:00"},weekend:{start:"08:00",end:"22:00"}}};if(!Zt.currentUser){m("Необходимо авторизоваться");return}if(!t){m("Только суперадминистратор может создавать клубы");return}console.log("Creating venue with data:",V),console.log("Firebase auth current user:",Zt.currentUser);const Y=await or(Ne(re,"venues"),V);console.log("Venue created with ID:",Y.id),await or(Ne(re,"subscriptions"),{venueId:Y.id,plan:"start",status:"active",startDate:new Date,endDate:null,createdAt:new Date,updatedAt:new Date,usage:{courtsCount:0,bookingsThisMonth:0,smsEmailsSent:0,lastUpdated:new Date}}),await or(Ne(re,"admins"),{name:"Администратор",email:D.email,password:"123456",role:"admin",venueId:Y.id,permissions:["manage_bookings","manage_courts","manage_clients","manage_settings"],createdAt:new Date,updatedAt:new Date}),_(!1),m(""),S({name:"",address:"",city:"",phone:"",email:"",description:"",organizationType:"ИП",inn:"",bankAccount:""}),T(),alert(`Клуб "${D.name}" успешно создан! Администратор: ${D.email}, пароль: 123456`)}catch(I){console.error("Error creating venue:",I),console.error("Error details:",{code:I==null?void 0:I.code,message:I==null?void 0:I.message,stack:I==null?void 0:I.stack}),m("Ошибка при создании клуба: "+((I==null?void 0:I.message)||"Неизвестная ошибка"))}},variant:"contained",children:"Создать"})]})]})]})}function xa(e){return new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function ba(e){return new Intl.DateTimeFormat("ru-RU",{year:"numeric",month:"long",day:"numeric"}).format(e)}const Cm={start:"Старт",standard:"Стандарт",pro:"Профи",premium:"Премиум"},wa={start:0,standard:990,pro:1990,premium:2990},KA={start:["1 корт","Базовые функции","Email поддержка"],standard:["До 3 кортов","Онлайн-оплата","SMS-уведомления","Статистика"],pro:["До 10 кортов","Все функции Standard","Приоритетная поддержка","API доступ"],premium:["Неограниченно кортов","Все функции Pro","Персональный менеджер","Кастомизация"]};function QA(){var E;const{admin:e}=Lt(),[t,n]=h.useState(!0),[r,o]=h.useState(null),[i,a]=h.useState([]),[l,c]=h.useState(null),[d,u]=h.useState(!1),[p,f]=h.useState(""),[g,v]=h.useState(1),[y,m]=h.useState(!1),[x,j]=h.useState(null);h.useEffect(()=>{if(!(e!=null&&e.venueId))return;const _=Rn($e(Ne(re,"subscriptions"),Te("venueId","==",e.venueId),Ta(1)),T=>{if(T.empty)o(null);else{const $=T.docs[0];o({id:$.id,...$.data()})}}),D=Rn($e(Ne(re,"invoices"),Te("venueId","==",e.venueId),tg("createdAt","desc"),Ta(20)),T=>{const $=T.docs.map(O=>({id:O.id,...O.data()}));a($)}),S=Rn($e(Ne(re,"payment_methods"),Te("venueId","==",e.venueId),Te("isDefault","==",!0),Ta(1)),T=>{if(T.empty)c(null);else{const $=T.docs[0];c({id:$.id,...$.data()})}});return n(!1),()=>{_(),D(),S()}},[e]);const b=async()=>{if(!(!p||!g)){m(!0),j(null);try{const S=(await Ao(Zi,"initSubscriptionPayment")({venueId:e==null?void 0:e.venueId,planKey:p,amount:wa[p]*g,courtsCount:g})).data;if(S.success&&S.paymentUrl)window.open(S.paymentUrl,"_blank"),u(!1);else throw new Error("Failed to initialize payment")}catch(_){console.error("Payment initialization error:",_),j(_.message||"Ошибка при инициализации платежа")}finally{m(!1)}}},w=_=>{const D={active:{label:"Активна",color:"success",icon:s.jsx(wp,{})},pending_payment:{label:"Ожидает оплаты",color:"warning",icon:s.jsx(Qd,{})},payment_failed:{label:"Ошибка оплаты",color:"error",icon:s.jsx(bo,{})},cancelled:{label:"Отменена",color:"default",icon:s.jsx(Di,{})}},S=D[_]||D.cancelled;return s.jsx(gr,{label:S.label,color:S.color,size:"small",icon:S.icon})},N=_=>{const D={pending:{label:"Ожидает",color:"default"},processing:{label:"Обработка",color:"info"},paid:{label:"Оплачен",color:"success"},failed:{label:"Ошибка",color:"error"},refunded:{label:"Возврат",color:"warning"}},S=D[_]||D.pending;return s.jsx(gr,{label:S.label,color:S.color,size:"small"})};if(t)return s.jsx(Zd,{children:s.jsx(se,{sx:{width:"100%"},children:s.jsx(Ky,{})})});const k=r!=null&&r.endDate?Math.floor((r.endDate.toMillis()-Date.now())/(1e3*60*60*24)):0;return s.jsx(Zd,{children:s.jsxs(se,{sx:{p:3},children:[s.jsx(z,{variant:"h5",gutterBottom:!0,children:"Управление подпиской"}),x&&s.jsx(Ye,{severity:"error",sx:{mb:3},onClose:()=>j(null),children:x}),s.jsx(ct,{sx:{mb:3},children:s.jsxs(dt,{children:[s.jsx(z,{variant:"h6",gutterBottom:!0,children:"Текущий тариф"}),r?s.jsxs(Be,{container:!0,spacing:3,children:[s.jsx(Be,{item:!0,xs:12,md:6,children:s.jsxs(Ws,{spacing:2,children:[s.jsxs(se,{children:[s.jsx(z,{variant:"subtitle2",color:"text.secondary",children:"Тариф"}),s.jsx(z,{variant:"h4",children:Cm[r.plan]})]}),s.jsxs(se,{children:[s.jsx(z,{variant:"subtitle2",color:"text.secondary",children:"Статус"}),w(r.status)]}),s.jsxs(se,{children:[s.jsx(z,{variant:"subtitle2",color:"text.secondary",children:"Количество кортов"}),s.jsx(z,{variant:"body1",children:r.courtsCount})]}),s.jsxs(se,{children:[s.jsx(z,{variant:"subtitle2",color:"text.secondary",children:"Стоимость в месяц"}),s.jsx(z,{variant:"h5",children:xa(wa[r.plan]*r.courtsCount)})]})]})}),s.jsx(Be,{item:!0,xs:12,md:6,children:s.jsxs(Ws,{spacing:2,children:[s.jsxs(se,{children:[s.jsx(z,{variant:"subtitle2",color:"text.secondary",children:"Активна до"}),s.jsx(z,{variant:"body1",children:r.endDate?ba(r.endDate.toDate()):"Бессрочно"}),k>0&&k<=7&&s.jsxs(z,{variant:"caption",color:"warning.main",children:["Осталось ",k," дней"]})]}),s.jsxs(se,{children:[s.jsx(z,{variant:"subtitle2",color:"text.secondary",children:"Автопродление"}),s.jsx(z,{variant:"body1",children:r.autoRenewal?"Включено":"Отключено"})]}),r.lastPaymentAt&&s.jsxs(se,{children:[s.jsx(z,{variant:"subtitle2",color:"text.secondary",children:"Последний платеж"}),s.jsx(z,{variant:"body1",children:ba(r.lastPaymentAt.toDate())})]}),r.status==="payment_failed"&&r.gracePeriodEnd&&s.jsx(Ye,{severity:"error",sx:{mt:2},children:s.jsxs(z,{variant:"body2",children:["Последний платеж не прошел. Подписка будет приостановлена"," ",ba(r.gracePeriodEnd.toDate()),", если оплата не поступит."]})})]})})]}):s.jsx(Ye,{severity:"info",children:"У вас нет активной подписки"}),s.jsx(Ur,{sx:{my:3}}),s.jsxs(Ws,{direction:"row",spacing:2,children:[s.jsx(Ie,{variant:"contained",onClick:()=>{f((r==null?void 0:r.plan)||"standard"),v((r==null?void 0:r.courtsCount)||1),u(!0)},children:"Изменить тариф"}),!l&&s.jsx(Ie,{variant:"outlined",startIcon:s.jsx(Yd,{}),onClick:()=>{alert("Функция привязки карты будет добавлена")},children:"Привязать карту"})]})]})}),l&&s.jsx(ct,{sx:{mb:3},children:s.jsxs(dt,{children:[s.jsx(z,{variant:"h6",gutterBottom:!0,children:"Способ оплаты"}),s.jsxs(Ws,{direction:"row",spacing:2,alignItems:"center",children:[s.jsx(Yd,{fontSize:"large",color:"action"}),s.jsxs(se,{children:[s.jsxs(z,{variant:"body1",children:[l.brand," •••• ",l.last4]}),s.jsxs(z,{variant:"caption",color:"text.secondary",children:["Действует до ",l.expiryMonth,"/",l.expiryYear]})]})]})]})}),s.jsx(ct,{children:s.jsxs(dt,{children:[s.jsx(z,{variant:"h6",gutterBottom:!0,children:"История платежей"}),i.length>0?s.jsx(gc,{component:un,variant:"outlined",children:s.jsxs(hc,{children:[s.jsx(vc,{children:s.jsxs(es,{children:[s.jsx(Ve,{children:"Дата"}),s.jsx(Ve,{children:"Описание"}),s.jsx(Ve,{children:"Сумма"}),s.jsx(Ve,{children:"Статус"}),s.jsx(Ve,{align:"right",children:"Действия"})]})}),s.jsx(mc,{children:i.map(_=>s.jsxs(es,{children:[s.jsx(Ve,{children:ba(_.createdAt.toDate())}),s.jsx(Ve,{children:_.description}),s.jsx(Ve,{children:xa(_.amount)}),s.jsx(Ve,{children:N(_.status)}),s.jsx(Ve,{align:"right",children:s.jsx(Ie,{size:"small",startIcon:s.jsx(ix,{}),onClick:()=>{alert("Функция скачивания чека будет добавлена")},children:"Чек"})})]},_.id))})]})}):s.jsx(z,{color:"text.secondary",children:"История платежей пуста"})]})}),s.jsxs(ur,{open:d,onClose:()=>u(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(Tr,{children:"Изменить тариф"}),s.jsx(pr,{children:s.jsxs(Ws,{spacing:3,sx:{mt:2},children:[s.jsx(Ze,{select:!0,fullWidth:!0,label:"Тариф",value:p,onChange:_=>f(_.target.value),children:Object.entries(Cm).filter(([_])=>_!=="start").map(([_,D])=>s.jsxs(It,{value:_,children:[D," - ",xa(wa[_])," за корт/месяц"]},_))}),s.jsx(Ze,{type:"number",fullWidth:!0,label:"Количество кортов",value:g,onChange:_=>v(parseInt(_.target.value)||1),inputProps:{min:1,max:100}}),p&&s.jsxs(s.Fragment,{children:[s.jsxs(se,{sx:{p:2,bgcolor:"grey.100",borderRadius:1},children:[s.jsx(z,{variant:"subtitle2",gutterBottom:!0,children:"Возможности тарифа:"}),s.jsx("ul",{style:{margin:0,paddingLeft:20},children:(E=KA[p])==null?void 0:E.map((_,D)=>s.jsx("li",{children:s.jsx(z,{variant:"body2",children:_})},D))})]}),s.jsx(Ur,{}),s.jsxs(se,{sx:{textAlign:"center"},children:[s.jsx(z,{variant:"subtitle2",color:"text.secondary",children:"Итого к оплате:"}),s.jsx(z,{variant:"h4",children:xa(wa[p]*g)}),s.jsx(z,{variant:"caption",color:"text.secondary",children:"в месяц"})]})]})]})}),s.jsxs(_r,{children:[s.jsx(Ie,{onClick:()=>u(!1),children:"Отмена"}),s.jsx(Ie,{variant:"contained",onClick:b,disabled:!p||!g||y,startIcon:y?s.jsx(Qd,{}):s.jsx(xo,{}),children:y?"Обработка...":"Перейти к оплате"})]})]})]})})}const XA="modulepreload",ZA=function(e){return"/admin/"+e},jm={},km=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));o=Promise.allSettled(n.map(c=>{if(c=ZA(c),c in jm)return;jm[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":XA,d||(p.as="script"),p.crossOrigin="",p.href=c,l&&p.setAttribute("nonce",l),document.head.appendChild(p),d)return new Promise((f,g)=>{p.addEventListener("load",f),p.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return o.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},Sm=[{id:"tbank",name:"Т-Банк",commission:2.5,fields:[{name:"shopId",label:"Shop ID",type:"text",required:!0,placeholder:"Например: shop_12345"},{name:"secretKey",label:"Secret Key",type:"password",required:!0},{name:"terminalKey",label:"Terminal Key",type:"text",required:!0}]},{id:"yookassa",name:"ЮKassa",commission:2.8,fields:[{name:"shopId",label:"Shop ID",type:"text",required:!0},{name:"secretKey",label:"Secret Key",type:"password",required:!0}]}];function JA(){const{admin:e,club:t}=Lt(),{isSuperAdmin:n}=rn(),[r,o]=h.useState(null),[i,a]=h.useState(!0),[l,c]=h.useState(!1),[d,u]=h.useState(!0),[p,f]=h.useState(!1),[g,v]=h.useState(""),[y,m]=h.useState({}),[x,j]=h.useState(!1),[b,w]=h.useState(null),[N,k]=h.useState(0);h.useEffect(()=>{if(n){const M=localStorage.getItem("selectedVenueId");M?(o(M),_(M)):a(!1)}else e!=null&&e.venueId&&_(e.venueId)},[e,n]);const E=M=>{o(M),localStorage.setItem("selectedVenueId",M),M&&_(M)},_=async M=>{const P=M||(e==null?void 0:e.venueId);if(P)try{a(!0);const L=await ut(Pe(re,"venues",P));if(L.exists()){const R=L.data();f(R.paymentEnabled||!1),u(R.paymentTestMode!==!1),v(R.paymentProvider||""),R.paymentCredentials&&m(R.paymentCredentials),R.paymentProvider&&R.paymentCredentials?k(2):R.paymentProvider&&k(1)}a(!1)}catch(L){console.error("Error loading payment settings:",L),a(!1)}},D=M=>{v(M),m({}),k(1)},S=(M,P)=>{m(L=>({...L,[M]:P}))},T=async()=>{const M=n?r:e==null?void 0:e.venueId;if(!(!M||!g)){c(!0);try{const L={paymentEnabled:p,paymentTestMode:g==="yookassa"?!1:d,paymentProvider:g,paymentCredentials:y,paymentUpdatedAt:new Date};console.log("Saving payment settings:",{venueId:M,...L}),await Ct(Pe(re,"venues",M),L),k(2),alert("Настройки успешно сохранены")}catch(P){console.error("Error saving payment settings:",P),alert("Ошибка при сохранении настроек")}finally{c(!1)}}},$=async()=>{j(!0),w(null);const M=n?r:e==null?void 0:e.venueId;if(!(!M||!g))try{const L=await(await km(async()=>{const{httpsCallable:R}=await Promise.resolve().then(()=>kS);return{httpsCallable:R}},void 0)).httpsCallable((await km(async()=>{const{functions:R}=await Promise.resolve().then(()=>_S);return{functions:R}},void 0)).functions,"testPaymentConnection")({venueId:M,provider:g,credentials:y});w(L.data)}catch(P){console.error("Error testing connection:",P),w({success:!1,message:P.message||"Ошибка при проверке подключения"})}};if(i)return s.jsx(se,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:s.jsx(tn,{})});if(n&&!r)return s.jsx(Fo,{title:"Выберите клуб для настройки оплаты"});const O=Sm.find(M=>M.id===g);return s.jsxs(se,{children:[n&&s.jsx(Bo,{selectedVenueId:r,onVenueChange:E}),s.jsx(z,{variant:"h5",component:"h2",gutterBottom:!0,children:"Настройки эквайринга"}),s.jsx(Ye,{severity:"info",sx:{mb:3},children:"Подключите свой эквайринг для приема платежей от клиентов. Все платежи будут поступать напрямую на ваш расчетный счет."}),s.jsx(ct,{sx:{mb:3},children:s.jsxs(dt,{children:[s.jsxs(se,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[s.jsxs(se,{children:[s.jsx(z,{variant:"h6",children:"Статус платежей"}),s.jsx(z,{variant:"body2",color:"text.secondary",children:p?"Платежи активны и готовы к приему":"Платежи не настроены"})]}),s.jsxs(se,{display:"flex",alignItems:"center",gap:2,children:[g!=="yookassa"&&s.jsx(ll,{control:s.jsx(eo,{checked:d,onChange:M=>u(M.target.checked),disabled:!p}),label:"Тестовый режим"}),s.jsx(gr,{icon:p?s.jsx(ps,{}):s.jsx(bo,{}),label:p?"Подключено":"Не подключено",color:p?"success":"default"})]})]}),p&&O&&s.jsxs(se,{mt:2,p:2,bgcolor:"background.default",borderRadius:1,children:[s.jsxs(z,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Провайдер: ",s.jsx("strong",{children:O.name})]}),s.jsxs(z,{variant:"body2",color:"text.secondary",children:["Комиссия: ",s.jsxs("strong",{children:[O.commission,"%"]})]})]})]})}),s.jsxs(nR,{activeStep:N,orientation:"vertical",children:[s.jsxs(Jc,{children:[s.jsx(Oa,{children:"Выберите платежного провайдера"}),s.jsxs(nd,{children:[s.jsx(z,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Выберите банк или платежную систему, с которой у вас заключен договор эквайринга"}),s.jsx(se,{sx:{mt:2,mb:3},children:Sm.map(M=>s.jsx(un,{sx:{p:2,mb:2,cursor:"pointer",border:g===M.id?2:1,borderColor:g===M.id?"primary.main":"divider","&:hover":{borderColor:"primary.main"}},onClick:()=>D(M.id),children:s.jsxs(se,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[s.jsxs(se,{display:"flex",alignItems:"center",gap:2,children:[s.jsx(UR,{color:"action"}),s.jsxs(se,{children:[s.jsx(z,{variant:"subtitle1",children:M.name}),s.jsxs(z,{variant:"body2",color:"text.secondary",children:["Комиссия: ",M.commission,"%"]})]})]}),g===M.id&&s.jsx(ps,{color:"primary"})]})},M.id))}),s.jsx(Ie,{variant:"contained",onClick:()=>k(1),disabled:!g,children:"Продолжить"})]})]}),s.jsxs(Jc,{children:[s.jsx(Oa,{children:"Введите данные для подключения"}),s.jsx(nd,{children:O&&s.jsxs(s.Fragment,{children:[s.jsxs(z,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Введите данные из личного кабинета ",O.name]}),g==="yookassa"&&s.jsx(Ye,{severity:"info",sx:{mt:2,mb:2},children:"YooKassa не поддерживает тестовый режим через API. Используйте реальные ключи и проводите тестовые платежи на небольшие суммы с последующим возвратом."}),s.jsx(se,{sx:{mt:2},children:O.fields.map(M=>{var P;return s.jsx(se,{sx:{mb:2},children:M.type==="select"?s.jsxs(hr,{fullWidth:!0,children:[s.jsx(Rr,{children:M.label}),s.jsx(vr,{value:y[M.name]||"",onChange:L=>S(M.name,L.target.value),required:M.required,children:(P=M.options)==null?void 0:P.map(L=>s.jsx(It,{value:L.value,children:L.label},L.value))})]}):s.jsx(Ze,{fullWidth:!0,label:M.label,type:M.type,value:y[M.name]||"",onChange:L=>S(M.name,L.target.value),required:M.required,placeholder:M.placeholder})},M.name)})}),s.jsx(Ye,{severity:"warning",icon:s.jsx(kp,{}),sx:{mt:2,mb:2},children:"Все данные хранятся в зашифрованном виде и используются только для проведения платежей"}),s.jsxs(se,{sx:{mt:2},children:[s.jsx(Ie,{variant:"contained",onClick:T,disabled:l||!O.fields.every(M=>!M.required||y[M.name]),startIcon:l?s.jsx(tn,{size:20}):s.jsx(qd,{}),children:l?"Сохранение...":"Сохранить и продолжить"}),s.jsx(Ie,{sx:{ml:1},onClick:()=>k(0),children:"Назад"})]})]})})]}),s.jsxs(Jc,{children:[s.jsx(Oa,{children:"Проверка подключения"}),s.jsxs(nd,{children:[s.jsx(z,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Проверьте работу платежей в тестовом режиме перед началом приема реальных платежей"}),s.jsx(se,{sx:{mt:3},children:s.jsx(Ie,{variant:"contained",onClick:$,startIcon:s.jsx(pA,{}),children:"Проверить подключение"})}),p&&s.jsxs(s.Fragment,{children:[s.jsxs(Ye,{severity:"success",sx:{mt:3},children:["Поздравляем! Платежи настроены и готовы к работе.",g==="yookassa"?" YooKassa работает только с реальными платежами.":d&&" Не забудьте отключить тестовый режим для приема реальных платежей."]}),g==="yookassa"&&s.jsxs(Ye,{severity:"warning",icon:s.jsx(sx,{}),sx:{mt:2},children:[s.jsx(z,{variant:"subtitle2",gutterBottom:!0,children:"Важно! Для завершения настройки YooKassa:"}),s.jsxs(se,{component:"ol",sx:{pl:2,mb:0},children:[s.jsx("li",{children:"Войдите в личный кабинет YooKassa"}),s.jsx("li",{children:'Перейдите в раздел "Настройки" → "Уведомления" → "HTTP-уведомления"'}),s.jsxs("li",{children:["Укажите URL для уведомлений: ",s.jsx("strong",{children:"https://allcourt.ru/api/webhooks/yookassa"})]}),s.jsx("li",{children:'Выберите события: "Успешная оплата", "Отмена платежа", "Возврат платежа"'}),s.jsx("li",{children:"Сохраните настройки"})]}),s.jsxs(z,{variant:"body2",sx:{mt:1},children:[s.jsx("strong",{children:"Важно!"})," Без настройки webhook в личном кабинете YooKassa статусы платежей не будут обновляться автоматически."]})]})]})]})]})]}),s.jsx(ct,{sx:{mt:4},children:s.jsxs(dt,{children:[s.jsx(z,{variant:"h6",gutterBottom:!0,children:"Преимущества собственного эквайринга"}),s.jsxs(yo,{children:[s.jsxs(ar,{children:[s.jsx(Qc,{children:s.jsx(ps,{color:"success"})}),s.jsx(lr,{primary:"Прямые платежи на ваш счет",secondary:"Деньги поступают напрямую без посредников"})]}),s.jsxs(ar,{children:[s.jsx(Qc,{children:s.jsx(ps,{color:"success"})}),s.jsx(lr,{primary:"Полный контроль",secondary:"Вы сами управляете возвратами и платежами"})]}),s.jsxs(ar,{children:[s.jsx(Qc,{children:s.jsx(ps,{color:"success"})}),s.jsx(lr,{primary:"Низкие комиссии",secondary:"Только комиссия вашего банка, без дополнительных сборов"})]})]})]})}),s.jsxs(ur,{open:x,onClose:()=>j(!1),children:[s.jsx(Tr,{children:"Проверка подключения"}),s.jsx(pr,{children:b?s.jsx(Ye,{severity:b.success?"success":"error",sx:{mt:1},children:b.message}):s.jsxs(se,{display:"flex",alignItems:"center",gap:2,py:2,children:[s.jsx(tn,{size:24}),s.jsx(z,{children:"Проверяем подключение..."})]})}),s.jsxs(_r,{children:[s.jsx(Ie,{onClick:()=>j(!1),children:"Закрыть"}),(b==null?void 0:b.success)&&s.jsx(Ie,{variant:"contained",onClick:async()=>{f(!0),j(!1);const M=n?r:e==null?void 0:e.venueId;if(!(!M||!g)){c(!0);try{const L={paymentEnabled:!0,paymentTestMode:g==="yookassa"?!1:d,paymentProvider:g,paymentCredentials:y,paymentUpdatedAt:new Date};console.log("Activating payments:",{venueId:M,...L}),await Ct(Pe(re,"venues",M),L),k(2),alert("Платежи успешно активированы!")}catch(P){console.error("Error activating payments:",P),alert("Ошибка при активации платежей")}finally{c(!1)}}},children:"Активировать платежи"})]})]})]})}function e$(){const{isSuperAdmin:e}=rn(),[t,n]=h.useState(!0),[r,o]=h.useState(!1),[i,a]=h.useState({tbank:{terminalKey:"",password:"",notificationUrl:"https://europe-west1-sports-booking-app-1d7e5.cloudfunctions.net/tbankWebhook",testMode:!0},autoRenewal:!0,gracePeriodDays:3}),[l,c]=h.useState(!1),[d,u]=h.useState(!1),[p,f]=h.useState({totalRevenue:0,activeSubscriptions:0,pendingPayments:0,failedPayments:0}),[g,v]=h.useState(null),[y,m]=h.useState({});h.useEffect(()=>{x(),j(),b()},[]);const x=async()=>{try{const k=Pe(re,"settings","billing"),E=await ut(k);if(E.exists()){const _=E.data();a(_)}}catch(k){console.error("Error loading billing config:",k)}finally{n(!1)}},j=async()=>{try{const k=$e(Ne(re,"subscriptions"),Te("status","==","active")),E=await Fe(k);f({totalRevenue:0,activeSubscriptions:E.size,pendingPayments:0,failedPayments:0})}catch(k){console.error("Error loading billing stats:",k)}},b=()=>{const k={};Object.entries(wr).forEach(([E,_])=>{k[E]=_.price}),m(k)},w=async()=>{try{o(!0);const k=Pe(re,"settings","billing");await ng(k,{...i,updatedAt:new Date},{merge:!0}),c(!1),alert("Настройки биллинга сохранены")}catch(k){console.error("Error saving billing config:",k),alert("Ошибка при сохранении настроек")}finally{o(!1)}},N=async k=>{try{alert(`Цена тарифа ${wr[k].name} обновлена`),v(null)}catch(E){console.error("Error updating plan price:",E),alert("Ошибка при обновлении цены")}};return e?t?s.jsx(se,{sx:{display:"flex",justifyContent:"center",p:3},children:s.jsx(tn,{})}):s.jsx(Lo,{requiredPermission:"superadmin",children:s.jsxs(se,{sx:{p:3},children:[s.jsx(Ye,{severity:"info",sx:{mb:3},children:"Данный раздел доступен только суперадминистраторам системы"}),s.jsx(z,{variant:"h4",gutterBottom:!0,children:"Настройки биллинга"}),s.jsxs(Be,{container:!0,spacing:3,sx:{mb:3},children:[s.jsx(Be,{item:!0,xs:12,sm:6,md:3,children:s.jsx(ct,{children:s.jsxs(dt,{children:[s.jsxs(se,{display:"flex",alignItems:"center",gap:1,children:[s.jsx(xc,{color:"primary"}),s.jsx(z,{color:"textSecondary",gutterBottom:!0,children:"Общий доход"})]}),s.jsxs(z,{variant:"h5",children:[p.totalRevenue.toLocaleString("ru-RU")," ₽"]})]})})}),s.jsx(Be,{item:!0,xs:12,sm:6,md:3,children:s.jsx(ct,{children:s.jsxs(dt,{children:[s.jsxs(se,{display:"flex",alignItems:"center",gap:1,children:[s.jsx(xi,{color:"success"}),s.jsx(z,{color:"textSecondary",gutterBottom:!0,children:"Активные подписки"})]}),s.jsx(z,{variant:"h5",children:p.activeSubscriptions})]})})}),s.jsx(Be,{item:!0,xs:12,sm:6,md:3,children:s.jsx(ct,{children:s.jsxs(dt,{children:[s.jsxs(se,{display:"flex",alignItems:"center",gap:1,children:[s.jsx(xi,{color:"warning"}),s.jsx(z,{color:"textSecondary",gutterBottom:!0,children:"Ожидают оплаты"})]}),s.jsx(z,{variant:"h5",children:p.pendingPayments})]})})}),s.jsx(Be,{item:!0,xs:12,sm:6,md:3,children:s.jsx(ct,{children:s.jsxs(dt,{children:[s.jsxs(se,{display:"flex",alignItems:"center",gap:1,children:[s.jsx(xi,{color:"error"}),s.jsx(z,{color:"textSecondary",gutterBottom:!0,children:"Неудачные платежи"})]}),s.jsx(z,{variant:"h5",children:p.failedPayments})]})})})]}),s.jsx(ct,{sx:{mb:3},children:s.jsxs(dt,{children:[s.jsxs(se,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[s.jsx(z,{variant:"h6",children:"Настройки Т-Банк"}),l?s.jsxs(se,{children:[s.jsx(Ie,{startIcon:s.jsx(Di,{}),onClick:()=>{c(!1),x()},sx:{mr:1},children:"Отмена"}),s.jsx(Ie,{startIcon:s.jsx(qd,{}),onClick:w,variant:"contained",disabled:r,children:"Сохранить"})]}):s.jsx(Ie,{startIcon:s.jsx(Ri,{}),onClick:()=>c(!0),variant:"outlined",children:"Редактировать"})]}),s.jsxs(Be,{container:!0,spacing:2,children:[s.jsx(Be,{item:!0,xs:12,md:6,children:s.jsx(Ze,{label:"Terminal Key",value:i.tbank.terminalKey,onChange:k=>a({...i,tbank:{...i.tbank,terminalKey:k.target.value}}),fullWidth:!0,disabled:!l,helperText:"Ключ терминала для рекуррентных платежей"})}),s.jsx(Be,{item:!0,xs:12,md:6,children:s.jsx(Ze,{label:"Password",type:d?"text":"password",value:i.tbank.password,onChange:k=>a({...i,tbank:{...i.tbank,password:k.target.value}}),fullWidth:!0,disabled:!l,helperText:"Пароль для API Т-Банк",InputProps:{endAdornment:l&&s.jsx(Ie,{size:"small",onClick:()=>u(!d),children:d?"Скрыть":"Показать"})}})}),s.jsx(Be,{item:!0,xs:12,children:s.jsx(Ze,{label:"Notification URL",value:i.tbank.notificationUrl,onChange:k=>a({...i,tbank:{...i.tbank,notificationUrl:k.target.value}}),fullWidth:!0,disabled:!l,helperText:"URL для получения уведомлений от Т-Банк"})}),s.jsxs(Be,{item:!0,xs:12,children:[s.jsx(ll,{control:s.jsx(eo,{checked:i.tbank.testMode,onChange:k=>a({...i,tbank:{...i.tbank,testMode:k.target.checked}}),disabled:!l}),label:"Тестовый режим"}),i.tbank.testMode&&s.jsx(Ye,{severity:"warning",sx:{mt:1},children:"Включен тестовый режим. Реальные платежи не будут проводиться."})]})]})]})}),s.jsx(ct,{sx:{mb:3},children:s.jsxs(dt,{children:[s.jsx(z,{variant:"h6",gutterBottom:!0,children:"Общие настройки"}),s.jsxs(Be,{container:!0,spacing:2,children:[s.jsx(Be,{item:!0,xs:12,children:s.jsx(ll,{control:s.jsx(eo,{checked:i.autoRenewal,onChange:k=>a({...i,autoRenewal:k.target.checked}),disabled:!l}),label:"Автоматическое продление подписок"})}),s.jsx(Be,{item:!0,xs:12,md:6,children:s.jsx(Ze,{label:"Льготный период (дней)",type:"number",value:i.gracePeriodDays,onChange:k=>a({...i,gracePeriodDays:parseInt(k.target.value)||0}),fullWidth:!0,disabled:!l,helperText:"Количество дней после неудачного платежа до блокировки"})})]})]})}),s.jsx(ct,{children:s.jsxs(dt,{children:[s.jsx(z,{variant:"h6",gutterBottom:!0,children:"Тарифные планы"}),s.jsx(gc,{component:un,variant:"outlined",children:s.jsxs(hc,{children:[s.jsx(vc,{children:s.jsxs(es,{children:[s.jsx(Ve,{children:"Тариф"}),s.jsx(Ve,{children:"Описание"}),s.jsx(Ve,{align:"right",children:"Цена за корт/мес"}),s.jsx(Ve,{align:"center",children:"Статус"}),s.jsx(Ve,{align:"center",children:"Действия"})]})}),s.jsx(mc,{children:Object.entries(wr).map(([k,E])=>s.jsxs(es,{children:[s.jsx(Ve,{children:s.jsx(z,{variant:"subtitle2",children:E.name})}),s.jsx(Ve,{children:s.jsx(z,{variant:"body2",color:"textSecondary",children:E.features[0]})}),s.jsx(Ve,{align:"right",children:g===k?s.jsx(Ze,{type:"number",value:y[k],onChange:_=>m({...y,[k]:parseInt(_.target.value)||0}),size:"small",sx:{width:120}}):s.jsx(z,{children:E.price===0?"Бесплатно":`${E.price.toLocaleString("ru-RU")} ₽`})}),s.jsx(Ve,{align:"center",children:s.jsx(gr,{label:"Активен",color:"success",size:"small"})}),s.jsx(Ve,{align:"center",children:g===k?s.jsxs(s.Fragment,{children:[s.jsx(fn,{size:"small",onClick:()=>N(k),color:"primary",children:s.jsx(qd,{})}),s.jsx(fn,{size:"small",onClick:()=>{v(null),b()},children:s.jsx(Di,{})})]}):s.jsx(fn,{size:"small",onClick:()=>v(k),disabled:k==="start",children:s.jsx(Ri,{})})})]},k))})]})})]})})]})}):s.jsx(se,{sx:{p:3},children:s.jsx(Ye,{severity:"error",children:"У вас нет доступа к настройкам биллинга"})})}function t$(){const{admin:e}=Lt(),{isSuperAdmin:t}=rn(),[n,r]=h.useState(null),[o,i]=h.useState(!0),[a,l]=h.useState("month"),[c,d]=h.useState("all"),[u,p]=h.useState({totalRevenue:0,bookingsCount:0,averageCheck:0,revenueChange:0}),[f,g]=h.useState([]);h.useEffect(()=>{if(t){const m=localStorage.getItem("selectedVenueId");m?(r(m),y(m)):i(!1)}else e!=null&&e.venueId&&y(e.venueId)},[e,t,a,c]);const v=m=>{r(m),localStorage.setItem("selectedVenueId",m),m&&y(m)},y=async m=>{const x=m||(e==null?void 0:e.venueId);if(x)try{i(!0);const j=new Date;let b=new Date;switch(a){case"week":b.setDate(j.getDate()-7);break;case"month":b.setMonth(j.getMonth()-1);break;case"year":b.setFullYear(j.getFullYear()-1);break}console.log("Loading finance data for venue:",x),console.log("Period:",a,"Start date:",b);const w=$e(Ne(re,"bookings"),Te("venueId","==",x)),N=await Fe(w);console.log("Total bookings found:",N.size);let k=N.docs.map(T=>{var $;return{id:T.id,...T.data(),date:($=T.data().date)==null?void 0:$.toDate(),paymentStatus:T.data().paymentStatus||"awaiting_payment",paymentMethod:T.data().paymentMethod||"cash"}});k=k.filter(T=>T.date?T.date>=b&&T.status==="confirmed":!1),console.log("Bookings after date filter:",k.length),k=k.filter(T=>T.paymentStatus==="paid"||T.paymentStatus==="online_payment"),console.log("Paid bookings:",k.length),c!=="all"&&(k=k.filter(T=>T.paymentMethod===c));const E=k.reduce((T,$)=>T+($.amount||0),0),_=k.length,D=_>0?E/_:0;p({totalRevenue:E,bookingsCount:_,averageCheck:D,revenueChange:15.5});const S=k.reduce((T,$)=>{var M;const O=(M=$.date)==null?void 0:M.toLocaleDateString("ru-RU");return T[O]||(T[O]={date:$.date,bookings:0,revenue:0}),T[O].bookings++,T[O].revenue+=$.amount||0,T},{});g(Object.values(S).slice(0,10))}catch(j){console.error("Error loading finance data:",j)}finally{i(!1)}};return o?s.jsx(se,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:s.jsx(tn,{})}):t&&!n?s.jsx(Fo,{title:"Выберите клуб для просмотра финансов"}):s.jsxs(se,{children:[t&&s.jsx(Bo,{selectedVenueId:n,onVenueChange:v}),s.jsxs(se,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[s.jsx(z,{variant:"h5",component:"h2",children:"Финансовая аналитика"}),s.jsxs(se,{display:"flex",gap:2,children:[s.jsxs(hr,{size:"small",sx:{minWidth:150},children:[s.jsx(Rr,{children:"Способ оплаты"}),s.jsxs(vr,{value:c,label:"Способ оплаты",onChange:m=>d(m.target.value),children:[s.jsx(It,{value:"all",children:"Все"}),s.jsx(It,{value:"cash",children:"Наличные"}),s.jsx(It,{value:"card_on_site",children:"Карта на месте"}),s.jsx(It,{value:"transfer",children:"Перевод"}),s.jsx(It,{value:"online",children:"Онлайн оплата"})]})]}),s.jsxs(hr,{size:"small",sx:{minWidth:120},children:[s.jsx(Rr,{children:"Период"}),s.jsxs(vr,{value:a,label:"Период",onChange:m=>l(m.target.value),children:[s.jsx(It,{value:"week",children:"Неделя"}),s.jsx(It,{value:"month",children:"Месяц"}),s.jsx(It,{value:"year",children:"Год"})]})]})]})]}),s.jsxs(Be,{container:!0,spacing:3,mb:4,children:[s.jsx(Be,{item:!0,xs:12,sm:6,md:3,children:s.jsx(ct,{children:s.jsxs(dt,{children:[s.jsxs(se,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[s.jsx(xo,{color:"primary"}),s.jsx(gr,{size:"small",label:`+${u.revenueChange}%`,color:"success",icon:s.jsx(xc,{})})]}),s.jsx(z,{color:"text.secondary",variant:"body2",children:"Общий доход"}),s.jsxs(z,{variant:"h5",component:"div",children:[u.totalRevenue.toLocaleString("ru-RU")," ₽"]})]})})}),s.jsx(Be,{item:!0,xs:12,sm:6,md:3,children:s.jsx(ct,{children:s.jsxs(dt,{children:[s.jsx(se,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:s.jsx(ix,{color:"primary"})}),s.jsx(z,{color:"text.secondary",variant:"body2",children:"Количество бронирований"}),s.jsx(z,{variant:"h5",component:"div",children:u.bookingsCount})]})})}),s.jsx(Be,{item:!0,xs:12,sm:6,md:3,children:s.jsx(ct,{children:s.jsxs(dt,{children:[s.jsx(se,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:s.jsx(xo,{color:"primary"})}),s.jsx(z,{color:"text.secondary",variant:"body2",children:"Средний чек"}),s.jsxs(z,{variant:"h5",component:"div",children:[Math.round(u.averageCheck).toLocaleString("ru-RU")," ₽"]})]})})})]}),s.jsx(ct,{children:s.jsxs(dt,{children:[s.jsx(z,{variant:"h6",component:"h3",gutterBottom:!0,children:"Последние транзакции"}),s.jsx(gc,{component:un,variant:"outlined",children:s.jsxs(hc,{children:[s.jsx(vc,{children:s.jsxs(es,{children:[s.jsx(Ve,{children:"Дата"}),s.jsx(Ve,{align:"center",children:"Бронирований"}),s.jsx(Ve,{align:"right",children:"Сумма"})]})}),s.jsx(mc,{children:f.map((m,x)=>{var j;return s.jsxs(es,{children:[s.jsx(Ve,{children:(j=m.date)==null?void 0:j.toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"})}),s.jsx(Ve,{align:"center",children:m.bookings}),s.jsxs(Ve,{align:"right",children:[m.revenue.toLocaleString("ru-RU")," ₽"]})]},x)})})]})})]})})]})}function n$(){const{admin:e}=Lt(),{isSuperAdmin:t}=rn(),[n,r]=h.useState(null),[o,i]=h.useState(!0),[a,l]=h.useState({smsEnabled:!1,emailEnabled:!1,pushEnabled:!1,promotions:[]}),[c,d]=h.useState(!1),[u,p]=h.useState({name:"",description:"",discount:10,validUntil:"",active:!0});h.useEffect(()=>{if(t){const x=localStorage.getItem("selectedVenueId");x?(r(x),g(x)):i(!1)}else e!=null&&e.venueId&&g(e.venueId)},[e,t]);const f=x=>{r(x),localStorage.setItem("selectedVenueId",x),x&&g(x)},g=async x=>{const j=x||(e==null?void 0:e.venueId);if(j)try{i(!0);const b=await ut(Pe(re,"venues",j));if(b.exists()){const w=b.data();l({smsEnabled:w.marketingSms||!1,emailEnabled:w.marketingEmail||!1,pushEnabled:w.marketingPush||!1,promotions:w.promotions||[]})}}catch(b){console.error("Error loading marketing data:",b)}finally{i(!1)}},v=async x=>{const j=t?n:e==null?void 0:e.venueId;if(!j)return;const b=!a[x];try{await Ct(Pe(re,"venues",j),{[`marketing${x.charAt(0).toUpperCase()+x.slice(1).replace("Enabled","")}`]:b}),l(w=>({...w,[x]:b}))}catch(w){console.error("Error updating notification settings:",w)}},y=async()=>{const x=t?n:e==null?void 0:e.venueId;if(!x)return;const j={...u,id:Date.now().toString(),createdAt:new Date};try{const b=[...a.promotions,j];await Ct(Pe(re,"venues",x),{promotions:b}),l(w=>({...w,promotions:b})),d(!1),p({name:"",description:"",discount:10,validUntil:"",active:!0})}catch(b){console.error("Error creating promotion:",b)}},m=async x=>{const j=t?n:e==null?void 0:e.venueId;if(j)try{const b=a.promotions.filter(w=>w.id!==x);await Ct(Pe(re,"venues",j),{promotions:b}),l(w=>({...w,promotions:b}))}catch(b){console.error("Error deleting promotion:",b)}};return o?s.jsx(se,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:s.jsx(tn,{})}):t&&!n?s.jsx(Fo,{title:"Выберите клуб для управления маркетингом"}):s.jsxs(se,{children:[t&&s.jsx(Bo,{selectedVenueId:n,onVenueChange:f}),s.jsx(z,{variant:"h5",component:"h2",gutterBottom:!0,children:"Маркетинг и продвижение"}),s.jsxs(Be,{container:!0,spacing:3,children:[s.jsx(Be,{item:!0,xs:12,md:6,children:s.jsx(ct,{children:s.jsxs(dt,{children:[s.jsx(z,{variant:"h6",component:"h3",gutterBottom:!0,children:"Каналы коммуникации"}),s.jsxs(yo,{children:[s.jsxs(ar,{children:[s.jsx(lr,{primary:"SMS-рассылки",secondary:"Отправка СМС клиентам о акциях и напоминаниях"}),s.jsx(ms,{children:s.jsx(eo,{checked:a.smsEnabled,onChange:()=>v("smsEnabled")})})]}),s.jsxs(ar,{children:[s.jsx(lr,{primary:"Email-рассылки",secondary:"Отправка писем с новостями и предложениями"}),s.jsx(ms,{children:s.jsx(eo,{checked:a.emailEnabled,onChange:()=>v("emailEnabled")})})]}),s.jsxs(ar,{children:[s.jsx(lr,{primary:"Push-уведомления",secondary:"Мгновенные уведомления в мобильном приложении"}),s.jsx(ms,{children:s.jsx(eo,{checked:a.pushEnabled,onChange:()=>v("pushEnabled")})})]})]})]})})}),s.jsx(Be,{item:!0,xs:12,md:6,children:s.jsx(ct,{children:s.jsxs(dt,{children:[s.jsx(z,{variant:"h6",component:"h3",gutterBottom:!0,children:"Быстрые действия"}),s.jsxs(Be,{container:!0,spacing:2,children:[s.jsx(Be,{item:!0,xs:12,children:s.jsx(Ie,{variant:"outlined",fullWidth:!0,startIcon:s.jsx(dA,{}),sx:{justifyContent:"flex-start",textAlign:"left"},children:"Генерировать QR-код клуба"})}),s.jsx(Be,{item:!0,xs:12,children:s.jsx(Ie,{variant:"outlined",fullWidth:!0,startIcon:s.jsx(ax,{}),sx:{justifyContent:"flex-start",textAlign:"left"},children:"Поделиться ссылкой на клуб"})}),s.jsx(Be,{item:!0,xs:12,children:s.jsx(Ie,{variant:"outlined",fullWidth:!0,startIcon:s.jsx(qR,{}),sx:{justifyContent:"flex-start",textAlign:"left"},children:"Создать рассылку"})})]})]})})}),s.jsx(Be,{item:!0,xs:12,children:s.jsx(ct,{children:s.jsxs(dt,{children:[s.jsxs(se,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[s.jsx(z,{variant:"h6",component:"h3",children:"Активные акции"}),s.jsx(Ie,{variant:"contained",startIcon:s.jsx(sa,{}),onClick:()=>d(!0),children:"Создать акцию"})]}),a.promotions.length===0?s.jsx(Ye,{severity:"info",children:"У вас пока нет активных акций. Создайте первую акцию для привлечения клиентов."}):s.jsx(yo,{children:a.promotions.map(x=>s.jsxs(ar,{children:[s.jsx(lr,{primary:x.name,secondary:s.jsxs(se,{children:[s.jsx(z,{variant:"body2",children:x.description}),s.jsxs(se,{mt:1,children:[s.jsx(gr,{size:"small",label:`-${x.discount}%`,color:"primary",sx:{mr:1}}),x.validUntil&&s.jsx(gr,{size:"small",label:`До ${new Date(x.validUntil).toLocaleDateString("ru-RU")}`,variant:"outlined"})]})]})}),s.jsx(ms,{children:s.jsx(fn,{onClick:()=>m(x.id),children:s.jsx(Oo,{})})})]},x.id))})]})})})]}),s.jsxs(ur,{open:c,onClose:()=>d(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(Tr,{children:"Создать акцию"}),s.jsxs(pr,{children:[s.jsx(Ze,{autoFocus:!0,margin:"dense",label:"Название акции",fullWidth:!0,variant:"outlined",value:u.name,onChange:x=>p(j=>({...j,name:x.target.value})),sx:{mb:2}}),s.jsx(Ze,{margin:"dense",label:"Описание",fullWidth:!0,multiline:!0,rows:3,variant:"outlined",value:u.description,onChange:x=>p(j=>({...j,description:x.target.value})),sx:{mb:2}}),s.jsx(Ze,{margin:"dense",label:"Размер скидки (%)",type:"number",fullWidth:!0,variant:"outlined",value:u.discount,onChange:x=>p(j=>({...j,discount:parseInt(x.target.value)||0})),sx:{mb:2}}),s.jsx(Ze,{margin:"dense",label:"Действует до",type:"date",fullWidth:!0,variant:"outlined",InputLabelProps:{shrink:!0},value:u.validUntil,onChange:x=>p(j=>({...j,validUntil:x.target.value}))})]}),s.jsxs(_r,{children:[s.jsx(Ie,{onClick:()=>d(!1),children:"Отмена"}),s.jsx(Ie,{onClick:y,variant:"contained",children:"Создать"})]})]})]})}async function Tx(e){try{console.log("Тестирование через Cloud Function...");const t=ep(void 0,"europe-west1"),r=await Ao(t,"testEmailSending")({testEmail:e});return console.log("✅ Результат отправки через функцию:",r.data),r.data}catch(t){console.error("❌ Ошибка при отправке через функцию:",t),console.log("Попытка отправки напрямую в коллекцию mail...");try{const n=await or(Ne(re,"mail"),{to:e,message:{subject:"Тест Email Extension - Все Корты",text:"Если вы видите это письмо, значит Firebase Extension работает корректно!",html:`
            <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
              <h2 style="color: #00A86B;">✅ Тест Email Extension</h2>
              <p>Если вы видите это письмо, значит Firebase Extension для отправки email работает корректно!</p>
              <hr style="border: 1px solid #eee; margin: 20px 0;">
              <p style="color: #666; font-size: 14px;">
                Отправлено через Firebase Extension (firestore-send-email)<br>
                Время: ${new Date().toLocaleString("ru-RU")}
              </p>
            </div>
          `}});return console.log("✅ Email добавлен в очередь отправки:",n.id),{success:!0,message:"Email добавлен в очередь",mailId:n.id}}catch(n){throw console.error("❌ Ошибка при добавлении в коллекцию mail:",n),n}}}typeof window<"u"&&(window.testEmailExtension=Tx);const r$=({defaultEmail:e=""})=>{const[t,n]=h.useState(!1),[r,o]=h.useState(e),[i,a]=h.useState(!1),[l,c]=h.useState(null),d=async()=>{if(!r||!r.includes("@")){c({success:!1,message:"Введите корректный email"});return}a(!0),c(null);try{const u=await Tx(r);c({success:!0,message:`Тестовое письмо отправлено на ${r}`})}catch(u){c({success:!1,message:u.message||"Ошибка при отправке"})}finally{a(!1)}};return s.jsxs(s.Fragment,{children:[s.jsx(Ie,{variant:"contained",startIcon:s.jsx(Kd,{}),onClick:()=>n(!0),color:"primary",children:"Отправить тестовое письмо"}),s.jsxs(ur,{open:t,onClose:()=>n(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(Tr,{children:"Тестирование отправки Email"}),s.jsx(pr,{children:s.jsxs(se,{sx:{mt:2},children:[s.jsx(Ze,{fullWidth:!0,label:"Email для теста",type:"email",value:r,onChange:u=>o(u.target.value),disabled:i,helperText:"Введите email, на который будет отправлено тестовое письмо"}),l&&s.jsx(Ye,{severity:l.success?"success":"error",sx:{mt:2},children:l.message})]})}),s.jsxs(_r,{children:[s.jsx(Ie,{onClick:()=>n(!1),disabled:i,children:"Отмена"}),s.jsx(Ie,{onClick:d,variant:"contained",disabled:i||!r,startIcon:i?s.jsx(tn,{size:20}):s.jsx(Kd,{}),children:i?"Отправка...":"Отправить"})]})]})]})};function s$(){const{admin:e}=Lt(),{isSuperAdmin:t}=rn(),n=nn(),[r,o]=h.useState({superAdminEmails:[]}),[i,a]=h.useState(""),[l,c]=h.useState(!0),[d,u]=h.useState(!1),[p,f]=h.useState(!1),[g,v]=h.useState("");Qe.useEffect(()=>{t?y():n("/admin/dashboard")},[t,n]);const y=async()=>{try{const b=Pe(re,"settings","notifications"),w=await ut(b);if(w.exists()){const N=w.data();o(N)}}catch(b){console.error("Error loading notification settings:",b),v("Ошибка загрузки настроек")}finally{c(!1)}},m=b=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(b),x=async()=>{if(!i){v("Введите email");return}if(!m(i)){v("Неверный формат email");return}if(r.superAdminEmails.includes(i)){v("Этот email уже добавлен");return}u(!0),v("");try{const b=[...r.superAdminEmails,i],w=Pe(re,"settings","notifications");await ng(w,{superAdminEmails:b,updatedAt:new Date},{merge:!0}),o({...r,superAdminEmails:b}),a(""),f(!0)}catch(b){console.error("Error adding email:",b),v("Ошибка при добавлении email")}finally{u(!1)}},j=async b=>{u(!0),v("");try{const w=r.superAdminEmails.filter(k=>k!==b),N=Pe(re,"settings","notifications");await Ct(N,{superAdminEmails:w,updatedAt:new Date}),o({...r,superAdminEmails:w}),f(!0)}catch(w){console.error("Error removing email:",w),v("Ошибка при удалении email")}finally{u(!1)}};return t?s.jsxs(se,{sx:{p:3},children:[s.jsxs(se,{sx:{mb:4,display:"flex",alignItems:"center",gap:2},children:[s.jsx(Sp,{sx:{fontSize:32,color:"primary.main"}}),s.jsx(z,{variant:"h4",fontWeight:"bold",children:"Системные настройки"})]}),s.jsx(Ye,{severity:"info",sx:{mb:3},children:"Данный раздел доступен только суперадминистраторам системы"}),s.jsxs(Be,{container:!0,spacing:3,children:[s.jsx(Be,{item:!0,xs:12,children:s.jsx(ct,{children:s.jsxs(dt,{children:[s.jsxs(se,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[s.jsx(Gd,{color:"primary"}),s.jsx(z,{variant:"h6",children:"Email уведомления для суперадминистраторов"})]}),s.jsx(z,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Эти email адреса будут получать уведомления о новых регистрациях клубов и других важных событиях"}),s.jsx(Ur,{sx:{my:2}}),l?s.jsx(se,{sx:{display:"flex",justifyContent:"center",py:3},children:s.jsx(tn,{})}):s.jsxs(s.Fragment,{children:[s.jsx(se,{sx:{mb:3},children:s.jsxs(se,{sx:{display:"flex",gap:2,mb:2},children:[s.jsx(Ze,{fullWidth:!0,size:"small",label:"Email для уведомлений",value:i,onChange:b=>a(b.target.value),onKeyPress:b=>{b.key==="Enter"&&x()},error:!!g,helperText:g,disabled:d}),s.jsx(Ie,{variant:"contained",onClick:x,disabled:d||!i,startIcon:s.jsx(sa,{}),children:"Добавить"})]})}),s.jsx(yo,{sx:{maxHeight:300,overflow:"auto"},children:r.superAdminEmails.length===0?s.jsx(ar,{children:s.jsx(lr,{primary:"Нет добавленных email адресов",primaryTypographyProps:{color:"text.secondary",align:"center"}})}):r.superAdminEmails.map(b=>s.jsxs(ar,{children:[s.jsx(lr,{primary:b,primaryTypographyProps:{fontWeight:500}}),s.jsx(ms,{children:s.jsx(fn,{edge:"end","aria-label":"delete",onClick:()=>j(b),disabled:d,children:s.jsx(Oo,{})})})]},b))})]})]})})}),s.jsx(Be,{item:!0,xs:12,md:6,children:s.jsx(ct,{children:s.jsxs(dt,{children:[s.jsxs(se,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[s.jsx(Gd,{color:"primary"}),s.jsx(z,{variant:"h6",children:"Email уведомления"})]}),s.jsx(z,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Тестирование работы email уведомлений системы"}),s.jsx(Ur,{sx:{my:2}}),s.jsxs(se,{sx:{mb:2},children:[s.jsx(z,{variant:"subtitle2",gutterBottom:!0,children:"Текущие настройки:"}),s.jsx(z,{variant:"body2",color:"text.secondary",children:"SMTP сервер: smtp.timeweb.ru:465"}),s.jsx(z,{variant:"body2",color:"text.secondary",children:"От кого: noreply@allcourt.ru"}),s.jsx(z,{variant:"body2",color:"text.secondary",children:"Reply-to: support@allcourt.ru"})]}),s.jsxs(se,{sx:{mt:3},children:[s.jsx(z,{variant:"subtitle2",gutterBottom:!0,children:"Действия:"}),s.jsx(r$,{defaultEmail:(e==null?void 0:e.email)||""}),s.jsx(z,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:1},children:"Нажмите кнопку для отправки тестового письма"})]})]})})}),s.jsx(Be,{item:!0,xs:12,md:6,children:s.jsx(ct,{children:s.jsxs(dt,{children:[s.jsxs(se,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[s.jsx(kp,{color:"primary"}),s.jsx(z,{variant:"h6",children:"Безопасность"})]}),s.jsx(z,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Настройки безопасности и доступа"}),s.jsx(Ur,{sx:{my:2}}),s.jsx(z,{variant:"body2",color:"text.secondary",children:"Раздел в разработке"})]})})}),s.jsx(Be,{item:!0,xs:12,md:6,children:s.jsx(ct,{children:s.jsxs(dt,{children:[s.jsxs(se,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[s.jsx(hA,{color:"primary"}),s.jsx(z,{variant:"h6",children:"База данных"})]}),s.jsx(z,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Информация о базе данных"}),s.jsx(Ur,{sx:{my:2}}),s.jsxs(se,{children:[s.jsx(z,{variant:"subtitle2",gutterBottom:!0,children:"Firestore:"}),s.jsx(z,{variant:"body2",color:"text.secondary",children:"Проект: sports-booking-app-1d7e5"}),s.jsx(z,{variant:"body2",color:"text.secondary",children:"Регион: europe-west1"})]})]})})})]}),s.jsx(ex,{open:p,autoHideDuration:3e3,onClose:()=>f(!1),message:"Настройки сохранены"})]}):null}function o$(){const{user:e}=Lt(),[t,n]=h.useState(null),[r,o]=h.useState("");return h.useEffect(()=>{(async()=>{if(!(e!=null&&e.email)){o("No user logged in");return}try{const a=$e(Ne(re,"admins"),Te("email","==",e.email)),l=await Fe(a);if(l.empty)n({exists:!1,searchedEmail:e.email});else{const c=l.docs[0];n({id:c.id,data:c.data(),exists:!0})}}catch(a){o(a.message)}})()},[e]),s.jsxs(se,{sx:{p:3},children:[s.jsx(z,{variant:"h4",gutterBottom:!0,children:"Debug Information"}),s.jsx(ct,{sx:{mb:2},children:s.jsxs(dt,{children:[s.jsx(z,{variant:"h6",children:"Current User"}),s.jsx("pre",{children:JSON.stringify(e,null,2)})]})}),s.jsx(ct,{sx:{mb:2},children:s.jsxs(dt,{children:[s.jsx(z,{variant:"h6",children:"Admin Search Result"}),s.jsx("pre",{children:JSON.stringify(t,null,2)})]})}),r&&s.jsx(ct,{children:s.jsxs(dt,{children:[s.jsx(z,{variant:"h6",color:"error",children:"Error"}),s.jsx(z,{children:r})]})})]})}const i$={admin:["manage_bookings","manage_courts","manage_club","manage_admins","manage_finance","view_reports","create_bookings"],manager:["view_bookings","create_bookings","view_reports"]};function a$(){const{isSuperAdmin:e}=rn(),[t,n]=h.useState(!1),[r,o]=h.useState([]),[i,a]=h.useState(null),[l,c]=h.useState(0);h.useEffect(()=>{d()},[]);const d=async()=>{try{n(!0);const f=(await Fe(Ne(re,"admins"))).docs.map(g=>({id:g.id,...g.data()}));o(f)}catch(p){console.error("Error loading admins:",p),a({type:"error",text:"Ошибка при загрузке администраторов"})}finally{n(!1)}},u=async()=>{try{n(!0),a(null);let p=0;for(const f of r)if(f.role==="admin"||f.role==="manager"){const g=i$[f.role],v=f.permissions||[],y=g.filter(m=>!v.includes(m));if(y.length>0){const m=[...new Set([...v,...g])];await Ct(Pe(re,"admins",f.id),{permissions:m,updatedAt:new Date}),p++,console.log(`Updated ${f.name} (${f.email}): added ${y.join(", ")}`)}}c(p),p>0?a({type:"success",text:`Успешно обновлено ${p} администратор(ов). Обновите страницу и попробуйте войти снова.`}):a({type:"info",text:"Все администраторы уже имеют необходимые права."}),await d()}catch(p){console.error("Error fixing permissions:",p),a({type:"error",text:"Ошибка при обновлении прав доступа"})}finally{n(!1)}};return e?s.jsxs(se,{p:3,children:[s.jsx(z,{variant:"h4",gutterBottom:!0,children:"Исправление прав доступа администраторов"}),s.jsx(Ye,{severity:"info",sx:{mb:3},children:"Эта страница позволяет исправить права доступа для существующих администраторов клубов. Нажмите кнопку ниже, чтобы автоматически добавить недостающие права."}),i&&s.jsx(Ye,{severity:i.type,sx:{mb:3},children:i.text}),s.jsx(Ie,{variant:"contained",color:"primary",onClick:u,disabled:t,sx:{mb:3},children:t?s.jsx(tn,{size:24}):"Исправить права доступа"}),s.jsx(z,{variant:"h6",gutterBottom:!0,children:"Текущие администраторы:"}),t&&!r.length?s.jsx(tn,{}):s.jsx(se,{display:"flex",flexDirection:"column",gap:2,children:r.map(p=>{var f,g;return s.jsx(ct,{children:s.jsxs(dt,{children:[s.jsxs(z,{variant:"h6",children:[p.name," (",p.email,")"]}),s.jsxs(z,{color:"textSecondary",gutterBottom:!0,children:["Роль: ",s.jsx(gr,{label:p.role,size:"small",color:p.role==="admin"?"primary":"default"})]}),s.jsxs(z,{variant:"body2",children:["Текущие права: ",((f=p.permissions)==null?void 0:f.join(", "))||"Нет прав"]}),p.role==="admin"&&!((g=p.permissions)!=null&&g.includes("manage_club"))&&s.jsx(Ye,{severity:"warning",sx:{mt:1},children:'У этого администратора отсутствует право "manage_club" для управления клубом!'})]})},p.id)})})]}):s.jsx(Ye,{severity:"error",children:"Доступ запрещен. Эта страница доступна только суперадминистраторам."})}class l$ extends h.Component{constructor(n){super(n);Lp(this,"handleReset",()=>{this.setState({hasError:!1,error:void 0})});this.state={hasError:!1}}static getDerivedStateFromError(n){return{hasError:!0,error:Jd(n)}}componentDidCatch(n,r){const o=Jd(n);cx(o,{componentStack:r.componentStack,errorBoundary:!0})}render(){return this.state.hasError&&this.state.error?this.props.fallback?this.props.fallback(this.state.error,this.handleReset):s.jsx(se,{sx:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"400px",p:3},children:s.jsxs(un,{elevation:3,sx:{p:4,maxWidth:500,textAlign:"center"},children:[s.jsx(ZR,{sx:{fontSize:64,color:"error.main",mb:2}}),s.jsx(z,{variant:"h5",gutterBottom:!0,children:"Что-то пошло не так"}),s.jsx(z,{variant:"body1",color:"text.secondary",paragraph:!0,children:this.state.error.message}),!1,s.jsx(Ie,{variant:"contained",startIcon:s.jsx(uA,{}),onClick:this.handleReset,sx:{mt:3},children:"Попробовать снова"})]})}):this.props.children}}const c$={contentPadding:{padding:"var(--spacing-xl)"}},sd={container:{maxWidth:"1200px",margin:"0 auto",display:"grid",gridTemplateColumns:"1fr 400px",gap:"var(--spacing-2xl)",padding:"var(--spacing-2xl)",minHeight:"calc(100vh - 350px)"},mainContent:{flex:1},sidebar:{position:"sticky",top:"var(--spacing-2xl)",height:"fit-content",display:"flex",flexDirection:"column",gap:"var(--spacing-lg)"}};function od({src:e,alt:t,className:n,style:r,onClick:o,loading:i="lazy",onMouseOver:a,onMouseOut:l}){const[c,d]=h.useState(i==="eager"),[u,p]=h.useState(!1),f=h.useRef(null);return h.useEffect(()=>{if(i==="eager"||!f.current)return;const g=new IntersectionObserver(v=>{v.forEach(y=>{y.isIntersecting&&(d(!0),g.unobserve(y.target))})},{rootMargin:"50px"});return g.observe(f.current),()=>{f.current&&g.unobserve(f.current)}},[i]),u?s.jsx("div",{style:{...r,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"var(--extra-light-gray)",color:"var(--gray)"},className:n,children:s.jsx("span",{children:"📷"})}):s.jsx("img",{ref:f,src:c?e:void 0,alt:t,className:n,style:r,onClick:o,onMouseOver:a,onMouseOut:l,onError:()=>p(!0),loading:i})}function nt(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function ve(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function be(e){ve(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Nr(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Mr(e,t){ve(2,arguments);var n=be(e),r=nt(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function La(e,t){ve(2,arguments);var n=be(e),r=nt(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var o=n.getDate(),i=new Date(n.getTime());i.setMonth(n.getMonth()+r+1,0);var a=i.getDate();return o>=a?i:(n.setFullYear(i.getFullYear(),i.getMonth(),o),n)}function bc(e,t){ve(2,arguments);var n=be(e).getTime(),r=nt(t);return new Date(n+r)}var d$=36e5;function u$(e,t){ve(2,arguments);var n=nt(t);return bc(e,n*d$)}var p$={};function xr(){return p$}function ys(e,t){var n,r,o,i,a,l,c,d;ve(1,arguments);var u=xr(),p=nt((n=(r=(o=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&o!==void 0?o:u.weekStartsOn)!==null&&r!==void 0?r:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=be(e),g=f.getDay(),v=(g<p?7:0)+g-p;return f.setDate(f.getDate()-v),f.setHours(0,0,0,0),f}function fl(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Ts(e){ve(1,arguments);var t=be(e);return t.setHours(0,0,0,0),t}var h$=864e5;function f$(e,t){ve(2,arguments);var n=Ts(e),r=Ts(t),o=n.getTime()-fl(n),i=r.getTime()-fl(r);return Math.round((o-i)/h$)}var m$=6e4;function Gr(e,t){ve(2,arguments);var n=nt(t);return bc(e,n*m$)}function g$(e,t){ve(2,arguments);var n=nt(t);return bc(e,n*1e3)}function v$(e,t){ve(2,arguments);var n=nt(t),r=n*7;return Mr(e,r)}function _m(e,t){ve(2,arguments);var n=nt(t);return La(e,n*12)}function bi(e,t){ve(2,arguments);var n=be(e),r=be(t),o=n.getTime()-r.getTime();return o<0?-1:o>0?1:o}var wc=6e4,Cc=36e5,y$=1e3;function Ex(e,t){ve(2,arguments);var n=Ts(e),r=Ts(t);return n.getTime()===r.getTime()}function x$(e){return ve(1,arguments),e instanceof Date||Nr(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Mx(e){if(ve(1,arguments),!x$(e)&&typeof e!="number")return!1;var t=be(e);return!isNaN(Number(t))}function b$(e,t){ve(2,arguments);var n=be(e),r=be(t),o=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return o*12+i}function w$(e,t){ve(2,arguments);var n=be(e),r=be(t);return n.getFullYear()-r.getFullYear()}function Tm(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function Px(e,t){ve(2,arguments);var n=be(e),r=be(t),o=Tm(n,r),i=Math.abs(f$(n,r));n.setDate(n.getDate()-o*i);var a=+(Tm(n,r)===-o),l=o*(i-a);return l===0?0:l}function jc(e,t){return ve(2,arguments),be(e).getTime()-be(t).getTime()}var Em={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},C$="trunc";function oa(e){return e?Em[e]:Em[C$]}function j$(e,t,n){ve(2,arguments);var r=jc(e,t)/Cc;return oa(void 0)(r)}function k$(e,t,n){ve(2,arguments);var r=jc(e,t)/wc;return oa(void 0)(r)}function nu(e){ve(1,arguments);var t=be(e);return t.setHours(23,59,59,999),t}function ru(e){ve(1,arguments);var t=be(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function S$(e){ve(1,arguments);var t=be(e);return nu(t).getTime()===ru(t).getTime()}function Nx(e,t){ve(2,arguments);var n=be(e),r=be(t),o=bi(n,r),i=Math.abs(b$(n,r)),a;if(i<1)a=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-o*i);var l=bi(n,r)===-o;S$(be(e))&&i===1&&bi(e,r)===1&&(l=!1),a=o*(i-Number(l))}return a===0?0:a}function _$(e,t,n){ve(2,arguments);var r=Nx(e,t)/3;return oa(void 0)(r)}function T$(e,t,n){ve(2,arguments);var r=jc(e,t)/1e3;return oa(void 0)(r)}function E$(e,t,n){ve(2,arguments);var r=Px(e,t)/7;return oa(void 0)(r)}function M$(e,t){ve(2,arguments);var n=be(e),r=be(t),o=bi(n,r),i=Math.abs(w$(n,r));n.setFullYear(1584),r.setFullYear(1584);var a=bi(n,r)===-o,l=o*(i-Number(a));return l===0?0:l}function P$(e,t){var n;ve(1,arguments);var r=e||{},o=be(r.start),i=be(r.end),a=i.getTime();if(!(o.getTime()<=a))throw new RangeError("Invalid interval");var l=[],c=o;c.setHours(0,0,0,0);var d=Number((n=void 0)!==null&&n!==void 0?n:1);if(d<1||isNaN(d))throw new RangeError("`options.step` must be a number greater than 1");for(;c.getTime()<=a;)l.push(be(c)),c.setDate(c.getDate()+d),c.setHours(0,0,0,0);return l}function Mm(e){ve(1,arguments);var t=be(e);return t.setDate(1),t.setHours(0,0,0,0),t}function id(e){ve(1,arguments);var t=be(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function Ca(e){ve(1,arguments);var t=be(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function ad(e,t){var n,r,o,i,a,l,c,d;ve(1,arguments);var u=xr(),p=nt((n=(r=(o=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&o!==void 0?o:u.weekStartsOn)!==null&&r!==void 0?r:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=be(e),g=f.getDay(),v=(g<p?-7:0)+6-(g-p);return f.setDate(f.getDate()+v),f.setHours(23,59,59,999),f}function Ix(e,t){ve(2,arguments);var n=nt(t);return bc(e,-n)}var N$=864e5;function I$(e){ve(1,arguments);var t=be(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),o=n-r;return Math.floor(o/N$)+1}function wo(e){ve(1,arguments);var t=1,n=be(e),r=n.getUTCDay(),o=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-o),n.setUTCHours(0,0,0,0),n}function Dx(e){ve(1,arguments);var t=be(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var o=wo(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var a=wo(i);return t.getTime()>=o.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function D$(e){ve(1,arguments);var t=Dx(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=wo(n);return r}var R$=6048e5;function Rx(e){ve(1,arguments);var t=be(e),n=wo(t).getTime()-D$(t).getTime();return Math.round(n/R$)+1}function Ar(e,t){var n,r,o,i,a,l,c,d;ve(1,arguments);var u=xr(),p=nt((n=(r=(o=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&o!==void 0?o:u.weekStartsOn)!==null&&r!==void 0?r:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=be(e),g=f.getUTCDay(),v=(g<p?7:0)+g-p;return f.setUTCDate(f.getUTCDate()-v),f.setUTCHours(0,0,0,0),f}function _p(e,t){var n,r,o,i,a,l,c,d;ve(1,arguments);var u=be(e),p=u.getUTCFullYear(),f=xr(),g=nt((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&o!==void 0?o:f.firstWeekContainsDate)!==null&&r!==void 0?r:(c=f.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setUTCFullYear(p+1,0,g),v.setUTCHours(0,0,0,0);var y=Ar(v,t),m=new Date(0);m.setUTCFullYear(p,0,g),m.setUTCHours(0,0,0,0);var x=Ar(m,t);return u.getTime()>=y.getTime()?p+1:u.getTime()>=x.getTime()?p:p-1}function A$(e,t){var n,r,o,i,a,l,c,d;ve(1,arguments);var u=xr(),p=nt((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&o!==void 0?o:u.firstWeekContainsDate)!==null&&r!==void 0?r:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=_p(e,t),g=new Date(0);g.setUTCFullYear(f,0,p),g.setUTCHours(0,0,0,0);var v=Ar(g,t);return v}var $$=6048e5;function Ax(e,t){ve(1,arguments);var n=be(e),r=Ar(n,t).getTime()-A$(n,t).getTime();return Math.round(r/$$)+1}function We(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var Wr={y:function(t,n){var r=t.getUTCFullYear(),o=r>0?r:1-r;return We(n==="yy"?o%100:o,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):We(r+1,2)},d:function(t,n){return We(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return We(t.getUTCHours()%12||12,n.length)},H:function(t,n){return We(t.getUTCHours(),n.length)},m:function(t,n){return We(t.getUTCMinutes(),n.length)},s:function(t,n){return We(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,o=t.getUTCMilliseconds(),i=Math.floor(o*Math.pow(10,r-3));return We(i,n.length)}},Fs={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},O$={G:function(t,n,r){var o=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(o,{width:"abbreviated"});case"GGGGG":return r.era(o,{width:"narrow"});case"GGGG":default:return r.era(o,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var o=t.getUTCFullYear(),i=o>0?o:1-o;return r.ordinalNumber(i,{unit:"year"})}return Wr.y(t,n)},Y:function(t,n,r,o){var i=_p(t,o),a=i>0?i:1-i;if(n==="YY"){var l=a%100;return We(l,2)}return n==="Yo"?r.ordinalNumber(a,{unit:"year"}):We(a,n.length)},R:function(t,n){var r=Dx(t);return We(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return We(r,n.length)},Q:function(t,n,r){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(o);case"QQ":return We(o,2);case"Qo":return r.ordinalNumber(o,{unit:"quarter"});case"QQQ":return r.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(o,{width:"wide",context:"formatting"})}},q:function(t,n,r){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(o);case"qq":return We(o,2);case"qo":return r.ordinalNumber(o,{unit:"quarter"});case"qqq":return r.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(o,{width:"wide",context:"standalone"})}},M:function(t,n,r){var o=t.getUTCMonth();switch(n){case"M":case"MM":return Wr.M(t,n);case"Mo":return r.ordinalNumber(o+1,{unit:"month"});case"MMM":return r.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(o,{width:"wide",context:"formatting"})}},L:function(t,n,r){var o=t.getUTCMonth();switch(n){case"L":return String(o+1);case"LL":return We(o+1,2);case"Lo":return r.ordinalNumber(o+1,{unit:"month"});case"LLL":return r.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(o,{width:"wide",context:"standalone"})}},w:function(t,n,r,o){var i=Ax(t,o);return n==="wo"?r.ordinalNumber(i,{unit:"week"}):We(i,n.length)},I:function(t,n,r){var o=Rx(t);return n==="Io"?r.ordinalNumber(o,{unit:"week"}):We(o,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):Wr.d(t,n)},D:function(t,n,r){var o=I$(t);return n==="Do"?r.ordinalNumber(o,{unit:"dayOfYear"}):We(o,n.length)},E:function(t,n,r){var o=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(o,{width:"short",context:"formatting"});case"EEEE":default:return r.day(o,{width:"wide",context:"formatting"})}},e:function(t,n,r,o){var i=t.getUTCDay(),a=(i-o.weekStartsOn+8)%7||7;switch(n){case"e":return String(a);case"ee":return We(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,n,r,o){var i=t.getUTCDay(),a=(i-o.weekStartsOn+8)%7||7;switch(n){case"c":return String(a);case"cc":return We(a,n.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,n,r){var o=t.getUTCDay(),i=o===0?7:o;switch(n){case"i":return String(i);case"ii":return We(i,n.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(o,{width:"short",context:"formatting"});case"iiii":default:return r.day(o,{width:"wide",context:"formatting"})}},a:function(t,n,r){var o=t.getUTCHours(),i=o/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,n,r){var o=t.getUTCHours(),i;switch(o===12?i=Fs.noon:o===0?i=Fs.midnight:i=o/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,n,r){var o=t.getUTCHours(),i;switch(o>=17?i=Fs.evening:o>=12?i=Fs.afternoon:o>=4?i=Fs.morning:i=Fs.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var o=t.getUTCHours()%12;return o===0&&(o=12),r.ordinalNumber(o,{unit:"hour"})}return Wr.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Wr.H(t,n)},K:function(t,n,r){var o=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(o,{unit:"hour"}):We(o,n.length)},k:function(t,n,r){var o=t.getUTCHours();return o===0&&(o=24),n==="ko"?r.ordinalNumber(o,{unit:"hour"}):We(o,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Wr.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Wr.s(t,n)},S:function(t,n){return Wr.S(t,n)},X:function(t,n,r,o){var i=o._originalDate||t,a=i.getTimezoneOffset();if(a===0)return"Z";switch(n){case"X":return Nm(a);case"XXXX":case"XX":return us(a);case"XXXXX":case"XXX":default:return us(a,":")}},x:function(t,n,r,o){var i=o._originalDate||t,a=i.getTimezoneOffset();switch(n){case"x":return Nm(a);case"xxxx":case"xx":return us(a);case"xxxxx":case"xxx":default:return us(a,":")}},O:function(t,n,r,o){var i=o._originalDate||t,a=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+Pm(a,":");case"OOOO":default:return"GMT"+us(a,":")}},z:function(t,n,r,o){var i=o._originalDate||t,a=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+Pm(a,":");case"zzzz":default:return"GMT"+us(a,":")}},t:function(t,n,r,o){var i=o._originalDate||t,a=Math.floor(i.getTime()/1e3);return We(a,n.length)},T:function(t,n,r,o){var i=o._originalDate||t,a=i.getTime();return We(a,n.length)}};function Pm(e,t){var n=e>0?"-":"+",r=Math.abs(e),o=Math.floor(r/60),i=r%60;if(i===0)return n+String(o);var a=t;return n+String(o)+a+We(i,2)}function Nm(e,t){if(e%60===0){var n=e>0?"-":"+";return n+We(Math.abs(e)/60,2)}return us(e,t)}function us(e,t){var n=t||"",r=e>0?"-":"+",o=Math.abs(e),i=We(Math.floor(o/60),2),a=We(o%60,2);return r+i+n+a}var Im=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},$x=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},L$=function(t,n){var r=t.match(/(P+)(p+)?/)||[],o=r[1],i=r[2];if(!i)return Im(t,n);var a;switch(o){case"P":a=n.dateTime({width:"short"});break;case"PP":a=n.dateTime({width:"medium"});break;case"PPP":a=n.dateTime({width:"long"});break;case"PPPP":default:a=n.dateTime({width:"full"});break}return a.replace("{{date}}",Im(o,n)).replace("{{time}}",$x(i,n))},su={p:$x,P:L$},B$=["D","DD"],F$=["YY","YYYY"];function Ox(e){return B$.indexOf(e)!==-1}function Lx(e){return F$.indexOf(e)!==-1}function ml(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var z$={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},W$=function(t,n,r){var o,i=z$[t];return typeof i=="string"?o=i:n===1?o=i.one:o=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+o:o+" ago":o};function to(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var H$={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},U$={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},V$={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Y$={date:to({formats:H$,defaultWidth:"full"}),time:to({formats:U$,defaultWidth:"full"}),dateTime:to({formats:V$,defaultWidth:"full"})},G$={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},q$=function(t,n,r,o){return G$[t]};function tr(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",o;if(r==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,a=n!=null&&n.width?String(n.width):i;o=e.formattingValues[a]||e.formattingValues[i]}else{var l=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;o=e.values[c]||e.values[l]}var d=e.argumentCallback?e.argumentCallback(t):t;return o[d]}}var K$={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Q$={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},X$={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Z$={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},J$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},e4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},t4=function(t,n){var r=Number(t),o=r%100;if(o>20||o<10)switch(o%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},n4={ordinalNumber:t4,era:tr({values:K$,defaultWidth:"wide"}),quarter:tr({values:Q$,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:tr({values:X$,defaultWidth:"wide"}),day:tr({values:Z$,defaultWidth:"wide"}),dayPeriod:tr({values:J$,defaultWidth:"wide",formattingValues:e4,defaultFormattingWidth:"wide"})};function nr(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(o);if(!i)return null;var a=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?s4(l,function(p){return p.test(a)}):r4(l,function(p){return p.test(a)}),d;d=e.valueCallback?e.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;var u=t.slice(a.length);return{value:d,rest:u}}}function r4(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function s4(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function Bx(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var o=r[0],i=t.match(e.parsePattern);if(!i)return null;var a=e.valueCallback?e.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;var l=t.slice(o.length);return{value:a,rest:l}}}var o4=/^(\d+)(th|st|nd|rd)?/i,i4=/\d+/i,a4={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},l4={any:[/^b/i,/^(a|c)/i]},c4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},d4={any:[/1/i,/2/i,/3/i,/4/i]},u4={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},p4={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},h4={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},f4={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},m4={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},g4={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},v4={ordinalNumber:Bx({matchPattern:o4,parsePattern:i4,valueCallback:function(t){return parseInt(t,10)}}),era:nr({matchPatterns:a4,defaultMatchWidth:"wide",parsePatterns:l4,defaultParseWidth:"any"}),quarter:nr({matchPatterns:c4,defaultMatchWidth:"wide",parsePatterns:d4,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:nr({matchPatterns:u4,defaultMatchWidth:"wide",parsePatterns:p4,defaultParseWidth:"any"}),day:nr({matchPatterns:h4,defaultMatchWidth:"wide",parsePatterns:f4,defaultParseWidth:"any"}),dayPeriod:nr({matchPatterns:m4,defaultMatchWidth:"any",parsePatterns:g4,defaultParseWidth:"any"})},Tp={code:"en-US",formatDistance:W$,formatLong:Y$,formatRelative:q$,localize:n4,match:v4,options:{weekStartsOn:0,firstWeekContainsDate:1}},y4=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,x4=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,b4=/^'([^]*?)'?$/,w4=/''/g,C4=/[a-zA-Z]/;function Le(e,t,n){var r,o,i,a,l,c,d,u,p,f,g,v,y,m,x,j,b,w;ve(2,arguments);var N=String(t),k=xr(),E=(r=(o=n==null?void 0:n.locale)!==null&&o!==void 0?o:k.locale)!==null&&r!==void 0?r:Tp,_=nt((i=(a=(l=(c=n==null?void 0:n.firstWeekContainsDate)!==null&&c!==void 0?c:n==null||(d=n.locale)===null||d===void 0||(u=d.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&l!==void 0?l:k.firstWeekContainsDate)!==null&&a!==void 0?a:(p=k.locale)===null||p===void 0||(f=p.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(_>=1&&_<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var D=nt((g=(v=(y=(m=n==null?void 0:n.weekStartsOn)!==null&&m!==void 0?m:n==null||(x=n.locale)===null||x===void 0||(j=x.options)===null||j===void 0?void 0:j.weekStartsOn)!==null&&y!==void 0?y:k.weekStartsOn)!==null&&v!==void 0?v:(b=k.locale)===null||b===void 0||(w=b.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&g!==void 0?g:0);if(!(D>=0&&D<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!E.localize)throw new RangeError("locale must contain localize property");if(!E.formatLong)throw new RangeError("locale must contain formatLong property");var S=be(e);if(!Mx(S))throw new RangeError("Invalid time value");var T=fl(S),$=Ix(S,T),O={firstWeekContainsDate:_,weekStartsOn:D,locale:E,_originalDate:S},M=N.match(x4).map(function(P){var L=P[0];if(L==="p"||L==="P"){var R=su[L];return R(P,E.formatLong)}return P}).join("").match(y4).map(function(P){if(P==="''")return"'";var L=P[0];if(L==="'")return j4(P);var R=O$[L];if(R)return!(n!=null&&n.useAdditionalWeekYearTokens)&&Lx(P)&&ml(P,t,String(e)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&Ox(P)&&ml(P,t,String(e)),R($,P,E.localize,O);if(L.match(C4))throw new RangeError("Format string contains an unescaped latin alphabet character `"+L+"`");return P}).join("");return M}function j4(e){var t=e.match(b4);return t?t[1].replace(w4,"'"):e}function k4(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function S4(e,t){var n,r;ve(1,arguments);var o=be(e);if(isNaN(o.getTime()))throw new RangeError("Invalid time value");var i=String((n=t==null?void 0:t.format)!==null&&n!==void 0?n:"extended"),a=String((r=t==null?void 0:t.representation)!==null&&r!==void 0?r:"complete");if(i!=="extended"&&i!=="basic")throw new RangeError("format must be 'extended' or 'basic'");if(a!=="date"&&a!=="time"&&a!=="complete")throw new RangeError("representation must be 'date', 'time', or 'complete'");var l="",c="",d=i==="extended"?"-":"",u=i==="extended"?":":"";if(a!=="time"){var p=We(o.getDate(),2),f=We(o.getMonth()+1,2),g=We(o.getFullYear(),4);l="".concat(g).concat(d).concat(f).concat(d).concat(p)}if(a!=="date"){var v=o.getTimezoneOffset();if(v!==0){var y=Math.abs(v),m=We(Math.floor(y/60),2),x=We(y%60,2),j=v<0?"+":"-";c="".concat(j).concat(m,":").concat(x)}else c="Z";var b=We(o.getHours(),2),w=We(o.getMinutes(),2),N=We(o.getSeconds(),2),k=l===""?"":"T",E=[b,w,N].join(u);l="".concat(l).concat(k).concat(E).concat(c)}return l}function _4(e){ve(1,arguments);var t=be(e),n=t.getDate();return n}function Fx(e){ve(1,arguments);var t=be(e),n=t.getFullYear(),r=t.getMonth(),o=new Date(0);return o.setFullYear(n,r+1,0),o.setHours(0,0,0,0),o.getDate()}function T4(e){ve(1,arguments);var t=be(e),n=t.getHours();return n}function E4(e){ve(1,arguments);var t=be(e),n=t.getMilliseconds();return n}function M4(e){ve(1,arguments);var t=be(e),n=t.getMinutes();return n}function P4(e){ve(1,arguments);var t=be(e),n=t.getMonth();return n}function N4(e){ve(1,arguments);var t=be(e),n=t.getSeconds();return n}function I4(e,t){var n,r,o,i,a,l,c,d;ve(1,arguments);var u=be(e),p=u.getFullYear(),f=xr(),g=nt((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&o!==void 0?o:f.firstWeekContainsDate)!==null&&r!==void 0?r:(c=f.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setFullYear(p+1,0,g),v.setHours(0,0,0,0);var y=ys(v,t),m=new Date(0);m.setFullYear(p,0,g),m.setHours(0,0,0,0);var x=ys(m,t);return u.getTime()>=y.getTime()?p+1:u.getTime()>=x.getTime()?p:p-1}function D4(e,t){var n,r,o,i,a,l,c,d;ve(1,arguments);var u=xr(),p=nt((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&o!==void 0?o:u.firstWeekContainsDate)!==null&&r!==void 0?r:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=I4(e,t),g=new Date(0);g.setFullYear(f,0,p),g.setHours(0,0,0,0);var v=ys(g,t);return v}var R4=6048e5;function A4(e,t){ve(1,arguments);var n=be(e),r=ys(n,t).getTime()-D4(n,t).getTime();return Math.round(r/R4)+1}function $4(e){return ve(1,arguments),be(e).getFullYear()}function Gn(e,t){ve(2,arguments);var n=be(e),r=be(t);return n.getTime()>r.getTime()}function Jt(e,t){ve(2,arguments);var n=be(e),r=be(t);return n.getTime()<r.getTime()}function O4(e,t){ve(2,arguments);var n=be(e),r=be(t);return n.getTime()===r.getTime()}function Dm(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function L4(e,t){if(e){if(typeof e=="string")return Dm(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dm(e,t):void 0}}function Rm(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=L4(e))||t){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(d){throw d},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var d=n.next();return a=d.done,d},e:function(d){l=!0,i=d},f:function(){try{a||n.return==null||n.return()}finally{if(l)throw i}}}}function rt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rl(e,t)}function gl(e){return gl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gl(e)}function zx(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zx=function(){return!!e})()}function B4(e,t){if(t&&(Nr(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Se(e)}function st(e){var t=zx();return function(){var n,r=gl(e);if(t){var o=gl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return B4(this,n)}}function qe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Zg(r.key),r)}}function Ke(e,t,n){return t&&F4(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function je(e,t,n){return(t=Zg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z4=10,Wx=function(){function e(){qe(this,e),je(this,"priority",void 0),je(this,"subPriority",0)}return Ke(e,[{key:"validate",value:function(n,r){return!0}}]),e}(),W4=function(e){rt(n,e);var t=st(n);function n(r,o,i,a,l){var c;return qe(this,n),c=t.call(this),c.value=r,c.validateValue=o,c.setValue=i,c.priority=a,l&&(c.subPriority=l),c}return Ke(n,[{key:"validate",value:function(o,i){return this.validateValue(o,this.value,i)}},{key:"set",value:function(o,i,a){return this.setValue(o,i,this.value,a)}}]),n}(Wx),H4=function(e){rt(n,e);var t=st(n);function n(){var r;qe(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),je(Se(r),"priority",z4),je(Se(r),"subPriority",-1),r}return Ke(n,[{key:"set",value:function(o,i){if(i.timestampIsSet)return o;var a=new Date(0);return a.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),a.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),a}}]),n}(Wx),pt=function(){function e(){qe(this,e),je(this,"incompatibleTokens",void 0),je(this,"priority",void 0),je(this,"subPriority",void 0)}return Ke(e,[{key:"run",value:function(n,r,o,i){var a=this.parse(n,r,o,i);return a?{setter:new W4(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}},{key:"validate",value:function(n,r,o){return!0}}]),e}(),U4=function(e){rt(n,e);var t=st(n);function n(){var r;qe(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),je(Se(r),"priority",140),je(Se(r),"incompatibleTokens",["R","u","t","T"]),r}return Ke(n,[{key:"parse",value:function(o,i,a){switch(i){case"G":case"GG":case"GGG":return a.era(o,{width:"abbreviated"})||a.era(o,{width:"narrow"});case"GGGGG":return a.era(o,{width:"narrow"});case"GGGG":default:return a.era(o,{width:"wide"})||a.era(o,{width:"abbreviated"})||a.era(o,{width:"narrow"})}}},{key:"set",value:function(o,i,a){return i.era=a,o.setUTCFullYear(a,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(pt),Dt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},rr={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Rt(e,t){return e&&{value:t(e.value),rest:e.rest}}function _t(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function sr(e,t){var n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};var r=n[1]==="+"?1:-1,o=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,a=n[5]?parseInt(n[5],10):0;return{value:r*(o*Cc+i*wc+a*y$),rest:t.slice(n[0].length)}}function Hx(e){return _t(Dt.anyDigitsSigned,e)}function Nt(e,t){switch(e){case 1:return _t(Dt.singleDigit,t);case 2:return _t(Dt.twoDigits,t);case 3:return _t(Dt.threeDigits,t);case 4:return _t(Dt.fourDigits,t);default:return _t(new RegExp("^\\d{1,"+e+"}"),t)}}function vl(e,t){switch(e){case 1:return _t(Dt.singleDigitSigned,t);case 2:return _t(Dt.twoDigitsSigned,t);case 3:return _t(Dt.threeDigitsSigned,t);case 4:return _t(Dt.fourDigitsSigned,t);default:return _t(new RegExp("^-?\\d{1,"+e+"}"),t)}}function Ep(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Ux(e,t){var n=t>0,r=n?t:1-t,o;if(r<=50)o=e||100;else{var i=r+50,a=Math.floor(i/100)*100,l=e>=i%100;o=e+a-(l?100:0)}return n?o:1-o}function Vx(e){return e%400===0||e%4===0&&e%100!==0}var V4=function(e){rt(n,e);var t=st(n);function n(){var r;qe(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),je(Se(r),"priority",130),je(Se(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return Ke(n,[{key:"parse",value:function(o,i,a){var l=function(d){return{year:d,isTwoDigitYear:i==="yy"}};switch(i){case"y":return Rt(Nt(4,o),l);case"yo":return Rt(a.ordinalNumber(o,{unit:"year"}),l);default:return Rt(Nt(i.length,o),l)}}},{key:"validate",value:function(o,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(o,i,a){var l=o.getUTCFullYear();if(a.isTwoDigitYear){var c=Ux(a.year,l);return o.setUTCFullYear(c,0,1),o.setUTCHours(0,0,0,0),o}var d=!("era"in i)||i.era===1?a.year:1-a.year;return o.setUTCFullYear(d,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(pt),Y4=function(e){rt(n,e);var t=st(n);function n(){var r;qe(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),je(Se(r),"priority",130),je(Se(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return Ke(n,[{key:"parse",value:function(o,i,a){var l=function(d){return{year:d,isTwoDigitYear:i==="YY"}};switch(i){case"Y":return Rt(Nt(4,o),l);case"Yo":return Rt(a.ordinalNumber(o,{unit:"year"}),l);default:return Rt(Nt(i.length,o),l)}}},{key:"validate",value:function(o,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(o,i,a,l){var c=_p(o,l);if(a.isTwoDigitYear){var d=Ux(a.year,c);return o.setUTCFullYear(d,0,l.firstWeekContainsDate),o.setUTCHours(0,0,0,0),Ar(o,l)}var u=!("era"in i)||i.era===1?a.year:1-a.year;return o.setUTCFullYear(u,0,l.firstWeekContainsDate),o.setUTCHours(0,0,0,0),Ar(o,l)}}]),n}(pt),G4=function(e){rt(n,e);var t=st(n);function n(){var r;qe(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),je(Se(r),"priority",130),je(Se(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return Ke(n,[{key:"parse",value:function(o,i){return vl(i==="R"?4:i.length,o)}},{key:"set",value:function(o,i,a){var l=new Date(0);return l.setUTCFullYear(a,0,4),l.setUTCHours(0,0,0,0),wo(l)}}]),n}(pt),q4=function(e){rt(n,e);var t=st(n);function n(){var r;qe(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),je(Se(r),"priority",130),je(Se(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return Ke(n,[{key:"parse",value:function(o,i){return vl(i==="u"?4:i.length,o)}},{key:"set",value:function(o,i,a){return o.setUTCFullYear(a,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(pt),K4=function(e){rt(n,e);var t=st(n);function n(){var r;qe(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),je(Se(r),"priority",120),je(Se(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Ke(n,[{key:"parse",value:function(o,i,a){switch(i){case"Q":case"QQ":return Nt(i.length,o);case"Qo":return a.ordinalNumber(o,{unit:"quarter"});case"QQQ":return a.quarter(o,{width:"abbreviated",context:"formatting"})||a.quarter(o,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(o,{width:"wide",context:"formatting"})||a.quarter(o,{width:"abbreviated",context:"formatting"})||a.quarter(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=1&&i<=4}},{key:"set",value:function(o,i,a){return o.setUTCMonth((a-1)*3,1),o.setUTCHours(0,0,0,0),o}}]),n}(pt),Q4=function(e){rt(n,e);var t=st(n);function n(){var r;qe(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),je(Se(r),"priority",120),je(Se(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Ke(n,[{key:"parse",value:function(o,i,a){switch(i){case"q":case"qq":return Nt(i.length,o);case"qo":return a.ordinalNumber(o,{unit:"quarter"});case"qqq":return a.quarter(o,{width:"abbreviated",context:"standalone"})||a.quarter(o,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(o,{width:"wide",context:"standalone"})||a.quarter(o,{width:"abbreviated",context:"standalone"})||a.quarter(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,i){return i>=1&&i<=4}},{key:"set",value:function(o,i,a){return o.setUTCMonth((a-1)*3,1),o.setUTCHours(0,0,0,0),o}}]),n}(pt),X4=function(e){rt(n,e);var t=st(n);function n(){var r;qe(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),je(Se(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),je(Se(r),"priority",110),r}return Ke(n,[{key:"parse",value:function(o,i,a){var l=function(d){return d-1};switch(i){case"M":return Rt(_t(Dt.month,o),l);case"MM":return Rt(Nt(2,o),l);case"Mo":return Rt(a.ordinalNumber(o,{unit:"month"}),l);case"MMM":return a.month(o,{width:"abbreviated",context:"formatting"})||a.month(o,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(o,{width:"wide",context:"formatting"})||a.month(o,{width:"abbreviated",context:"formatting"})||a.month(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=11}},{key:"set",value:function(o,i,a){return o.setUTCMonth(a,1),o.setUTCHours(0,0,0,0),o}}]),n}(pt),Z4=function(e){rt(n,e);var t=st(n);function n(){var r;qe(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),je(Se(r),"priority",110),je(Se(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return Ke(n,[{key:"parse",value:function(o,i,a){var l=function(d){return d-1};switch(i){case"L":return Rt(_t(Dt.month,o),l);case"LL":return Rt(Nt(2,o),l);case"Lo":return Rt(a.ordinalNumber(o,{unit:"month"}),l);case"LLL":return a.month(o,{width:"abbreviated",context:"standalone"})||a.month(o,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(o,{width:"wide",context:"standalone"})||a.month(o,{width:"abbreviated",context:"standalone"})||a.month(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=11}},{key:"set",value:function(o,i,a){return o.setUTCMonth(a,1),o.setUTCHours(0,0,0,0),o}}]),n}(pt);function J4(e,t,n){ve(2,arguments);var r=be(e),o=nt(t),i=Ax(r,n)-o;return r.setUTCDate(r.getUTCDate()-i*7),r}var eO=function(e){rt(n,e);var t=st(n);function n(){var r;qe(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),je(Se(r),"priority",100),je(Se(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return Ke(n,[{key:"parse",value:function(o,i,a){switch(i){case"w":return _t(Dt.week,o);case"wo":return a.ordinalNumber(o,{unit:"week"});default:return Nt(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=53}},{key:"set",value:function(o,i,a,l){return Ar(J4(o,a,l),l)}}]),n}(pt);function tO(e,t){ve(2,arguments);var n=be(e),r=nt(t),o=Rx(n)-r;return n.setUTCDate(n.getUTCDate()-o*7),n}var nO=function(e){rt(n,e);var t=st(n);function n(){var r;qe(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),je(Se(r),"priority",100),je(Se(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return Ke(n,[{key:"parse",value:function(o,i,a){switch(i){case"I":return _t(Dt.week,o);case"Io":return a.ordinalNumber(o,{unit:"week"});default:return Nt(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=53}},{key:"set",value:function(o,i,a){return wo(tO(o,a))}}]),n}(pt),rO=[31,28,31,30,31,30,31,31,30,31,30,31],sO=[31,29,31,30,31,30,31,31,30,31,30,31],oO=function(e){rt(n,e);var t=st(n);function n(){var r;qe(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),je(Se(r),"priority",90),je(Se(r),"subPriority",1),je(Se(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return Ke(n,[{key:"parse",value:function(o,i,a){switch(i){case"d":return _t(Dt.date,o);case"do":return a.ordinalNumber(o,{unit:"date"});default:return Nt(i.length,o)}}},{key:"validate",value:function(o,i){var a=o.getUTCFullYear(),l=Vx(a),c=o.getUTCMonth();return l?i>=1&&i<=sO[c]:i>=1&&i<=rO[c]}},{key:"set",value:function(o,i,a){return o.setUTCDate(a),o.setUTCHours(0,0,0,0),o}}]),n}(pt),iO=function(e){rt(n,e);var t=st(n);function n(){var r;qe(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),je(Se(r),"priority",90),je(Se(r),"subpriority",1),je(Se(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return Ke(n,[{key:"parse",value:function(o,i,a){switch(i){case"D":case"DD":return _t(Dt.dayOfYear,o);case"Do":return a.ordinalNumber(o,{unit:"date"});default:return Nt(i.length,o)}}},{key:"validate",value:function(o,i){var a=o.getUTCFullYear(),l=Vx(a);return l?i>=1&&i<=366:i>=1&&i<=365}},{key:"set",value:function(o,i,a){return o.setUTCMonth(0,a),o.setUTCHours(0,0,0,0),o}}]),n}(pt);function Mp(e,t,n){var r,o,i,a,l,c,d,u;ve(2,arguments);var p=xr(),f=nt((r=(o=(i=(a=n==null?void 0:n.weekStartsOn)!==null&&a!==void 0?a:n==null||(l=n.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&i!==void 0?i:p.weekStartsOn)!==null&&o!==void 0?o:(d=p.locale)===null||d===void 0||(u=d.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=be(e),v=nt(t),y=g.getUTCDay(),m=v%7,x=(m+7)%7,j=(x<f?7:0)+v-y;return g.setUTCDate(g.getUTCDate()+j),g}var aO=function(e){rt(n,e);var t=st(n);function n(){var r;qe(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),je(Se(r),"priority",90),je(Se(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return Ke(n,[{key:"parse",value:function(o,i,a){switch(i){case"E":case"EE":case"EEE":return a.day(o,{width:"abbreviated",context:"formatting"})||a.day(o,{width:"short",context:"formatting"})||a.day(o,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(o,{width:"short",context:"formatting"})||a.day(o,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(o,{width:"wide",context:"formatting"})||a.day(o,{width:"abbreviated",context:"formatting"})||a.day(o,{width:"short",context:"formatting"})||a.day(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=6}},{key:"set",value:function(o,i,a,l){return o=Mp(o,a,l),o.setUTCHours(0,0,0,0),o}}]),n}(pt),lO=function(e){rt(n,e);var t=st(n);function n(){var r;qe(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),je(Se(r),"priority",90),je(Se(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return Ke(n,[{key:"parse",value:function(o,i,a,l){var c=function(u){var p=Math.floor((u-1)/7)*7;return(u+l.weekStartsOn+6)%7+p};switch(i){case"e":case"ee":return Rt(Nt(i.length,o),c);case"eo":return Rt(a.ordinalNumber(o,{unit:"day"}),c);case"eee":return a.day(o,{width:"abbreviated",context:"formatting"})||a.day(o,{width:"short",context:"formatting"})||a.day(o,{width:"narrow",context:"formatting"});case"eeeee":return a.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(o,{width:"short",context:"formatting"})||a.day(o,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(o,{width:"wide",context:"formatting"})||a.day(o,{width:"abbreviated",context:"formatting"})||a.day(o,{width:"short",context:"formatting"})||a.day(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=6}},{key:"set",value:function(o,i,a,l){return o=Mp(o,a,l),o.setUTCHours(0,0,0,0),o}}]),n}(pt),cO=function(e){rt(n,e);var t=st(n);function n(){var r;qe(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),je(Se(r),"priority",90),je(Se(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return Ke(n,[{key:"parse",value:function(o,i,a,l){var c=function(u){var p=Math.floor((u-1)/7)*7;return(u+l.weekStartsOn+6)%7+p};switch(i){case"c":case"cc":return Rt(Nt(i.length,o),c);case"co":return Rt(a.ordinalNumber(o,{unit:"day"}),c);case"ccc":return a.day(o,{width:"abbreviated",context:"standalone"})||a.day(o,{width:"short",context:"standalone"})||a.day(o,{width:"narrow",context:"standalone"});case"ccccc":return a.day(o,{width:"narrow",context:"standalone"});case"cccccc":return a.day(o,{width:"short",context:"standalone"})||a.day(o,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(o,{width:"wide",context:"standalone"})||a.day(o,{width:"abbreviated",context:"standalone"})||a.day(o,{width:"short",context:"standalone"})||a.day(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=6}},{key:"set",value:function(o,i,a,l){return o=Mp(o,a,l),o.setUTCHours(0,0,0,0),o}}]),n}(pt);function dO(e,t){ve(2,arguments);var n=nt(t);n%7===0&&(n=n-7);var r=1,o=be(e),i=o.getUTCDay(),a=n%7,l=(a+7)%7,c=(l<r?7:0)+n-i;return o.setUTCDate(o.getUTCDate()+c),o}var uO=function(e){rt(n,e);var t=st(n);function n(){var r;qe(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),je(Se(r),"priority",90),je(Se(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return Ke(n,[{key:"parse",value:function(o,i,a){var l=function(d){return d===0?7:d};switch(i){case"i":case"ii":return Nt(i.length,o);case"io":return a.ordinalNumber(o,{unit:"day"});case"iii":return Rt(a.day(o,{width:"abbreviated",context:"formatting"})||a.day(o,{width:"short",context:"formatting"})||a.day(o,{width:"narrow",context:"formatting"}),l);case"iiiii":return Rt(a.day(o,{width:"narrow",context:"formatting"}),l);case"iiiiii":return Rt(a.day(o,{width:"short",context:"formatting"})||a.day(o,{width:"narrow",context:"formatting"}),l);case"iiii":default:return Rt(a.day(o,{width:"wide",context:"formatting"})||a.day(o,{width:"abbreviated",context:"formatting"})||a.day(o,{width:"short",context:"formatting"})||a.day(o,{width:"narrow",context:"formatting"}),l)}}},{key:"validate",value:function(o,i){return i>=1&&i<=7}},{key:"set",value:function(o,i,a){return o=dO(o,a),o.setUTCHours(0,0,0,0),o}}]),n}(pt),pO=function(e){rt(n,e);var t=st(n);function n(){var r;qe(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),je(Se(r),"priority",80),je(Se(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return Ke(n,[{key:"parse",value:function(o,i,a){switch(i){case"a":case"aa":case"aaa":return a.dayPeriod(o,{width:"abbreviated",context:"formatting"})||a.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(o,{width:"wide",context:"formatting"})||a.dayPeriod(o,{width:"abbreviated",context:"formatting"})||a.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,i,a){return o.setUTCHours(Ep(a),0,0,0),o}}]),n}(pt),hO=function(e){rt(n,e);var t=st(n);function n(){var r;qe(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),je(Se(r),"priority",80),je(Se(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return Ke(n,[{key:"parse",value:function(o,i,a){switch(i){case"b":case"bb":case"bbb":return a.dayPeriod(o,{width:"abbreviated",context:"formatting"})||a.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(o,{width:"wide",context:"formatting"})||a.dayPeriod(o,{width:"abbreviated",context:"formatting"})||a.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,i,a){return o.setUTCHours(Ep(a),0,0,0),o}}]),n}(pt),fO=function(e){rt(n,e);var t=st(n);function n(){var r;qe(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),je(Se(r),"priority",80),je(Se(r),"incompatibleTokens",["a","b","t","T"]),r}return Ke(n,[{key:"parse",value:function(o,i,a){switch(i){case"B":case"BB":case"BBB":return a.dayPeriod(o,{width:"abbreviated",context:"formatting"})||a.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(o,{width:"wide",context:"formatting"})||a.dayPeriod(o,{width:"abbreviated",context:"formatting"})||a.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,i,a){return o.setUTCHours(Ep(a),0,0,0),o}}]),n}(pt),mO=function(e){rt(n,e);var t=st(n);function n(){var r;qe(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),je(Se(r),"priority",70),je(Se(r),"incompatibleTokens",["H","K","k","t","T"]),r}return Ke(n,[{key:"parse",value:function(o,i,a){switch(i){case"h":return _t(Dt.hour12h,o);case"ho":return a.ordinalNumber(o,{unit:"hour"});default:return Nt(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=12}},{key:"set",value:function(o,i,a){var l=o.getUTCHours()>=12;return l&&a<12?o.setUTCHours(a+12,0,0,0):!l&&a===12?o.setUTCHours(0,0,0,0):o.setUTCHours(a,0,0,0),o}}]),n}(pt),gO=function(e){rt(n,e);var t=st(n);function n(){var r;qe(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),je(Se(r),"priority",70),je(Se(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return Ke(n,[{key:"parse",value:function(o,i,a){switch(i){case"H":return _t(Dt.hour23h,o);case"Ho":return a.ordinalNumber(o,{unit:"hour"});default:return Nt(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=23}},{key:"set",value:function(o,i,a){return o.setUTCHours(a,0,0,0),o}}]),n}(pt),vO=function(e){rt(n,e);var t=st(n);function n(){var r;qe(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),je(Se(r),"priority",70),je(Se(r),"incompatibleTokens",["h","H","k","t","T"]),r}return Ke(n,[{key:"parse",value:function(o,i,a){switch(i){case"K":return _t(Dt.hour11h,o);case"Ko":return a.ordinalNumber(o,{unit:"hour"});default:return Nt(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=11}},{key:"set",value:function(o,i,a){var l=o.getUTCHours()>=12;return l&&a<12?o.setUTCHours(a+12,0,0,0):o.setUTCHours(a,0,0,0),o}}]),n}(pt),yO=function(e){rt(n,e);var t=st(n);function n(){var r;qe(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),je(Se(r),"priority",70),je(Se(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return Ke(n,[{key:"parse",value:function(o,i,a){switch(i){case"k":return _t(Dt.hour24h,o);case"ko":return a.ordinalNumber(o,{unit:"hour"});default:return Nt(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=24}},{key:"set",value:function(o,i,a){var l=a<=24?a%24:a;return o.setUTCHours(l,0,0,0),o}}]),n}(pt),xO=function(e){rt(n,e);var t=st(n);function n(){var r;qe(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),je(Se(r),"priority",60),je(Se(r),"incompatibleTokens",["t","T"]),r}return Ke(n,[{key:"parse",value:function(o,i,a){switch(i){case"m":return _t(Dt.minute,o);case"mo":return a.ordinalNumber(o,{unit:"minute"});default:return Nt(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=59}},{key:"set",value:function(o,i,a){return o.setUTCMinutes(a,0,0),o}}]),n}(pt),bO=function(e){rt(n,e);var t=st(n);function n(){var r;qe(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),je(Se(r),"priority",50),je(Se(r),"incompatibleTokens",["t","T"]),r}return Ke(n,[{key:"parse",value:function(o,i,a){switch(i){case"s":return _t(Dt.second,o);case"so":return a.ordinalNumber(o,{unit:"second"});default:return Nt(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=59}},{key:"set",value:function(o,i,a){return o.setUTCSeconds(a,0),o}}]),n}(pt),wO=function(e){rt(n,e);var t=st(n);function n(){var r;qe(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),je(Se(r),"priority",30),je(Se(r),"incompatibleTokens",["t","T"]),r}return Ke(n,[{key:"parse",value:function(o,i){var a=function(c){return Math.floor(c*Math.pow(10,-i.length+3))};return Rt(Nt(i.length,o),a)}},{key:"set",value:function(o,i,a){return o.setUTCMilliseconds(a),o}}]),n}(pt),CO=function(e){rt(n,e);var t=st(n);function n(){var r;qe(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),je(Se(r),"priority",10),je(Se(r),"incompatibleTokens",["t","T","x"]),r}return Ke(n,[{key:"parse",value:function(o,i){switch(i){case"X":return sr(rr.basicOptionalMinutes,o);case"XX":return sr(rr.basic,o);case"XXXX":return sr(rr.basicOptionalSeconds,o);case"XXXXX":return sr(rr.extendedOptionalSeconds,o);case"XXX":default:return sr(rr.extended,o)}}},{key:"set",value:function(o,i,a){return i.timestampIsSet?o:new Date(o.getTime()-a)}}]),n}(pt),jO=function(e){rt(n,e);var t=st(n);function n(){var r;qe(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),je(Se(r),"priority",10),je(Se(r),"incompatibleTokens",["t","T","X"]),r}return Ke(n,[{key:"parse",value:function(o,i){switch(i){case"x":return sr(rr.basicOptionalMinutes,o);case"xx":return sr(rr.basic,o);case"xxxx":return sr(rr.basicOptionalSeconds,o);case"xxxxx":return sr(rr.extendedOptionalSeconds,o);case"xxx":default:return sr(rr.extended,o)}}},{key:"set",value:function(o,i,a){return i.timestampIsSet?o:new Date(o.getTime()-a)}}]),n}(pt),kO=function(e){rt(n,e);var t=st(n);function n(){var r;qe(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),je(Se(r),"priority",40),je(Se(r),"incompatibleTokens","*"),r}return Ke(n,[{key:"parse",value:function(o){return Hx(o)}},{key:"set",value:function(o,i,a){return[new Date(a*1e3),{timestampIsSet:!0}]}}]),n}(pt),SO=function(e){rt(n,e);var t=st(n);function n(){var r;qe(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=t.call.apply(t,[this].concat(i)),je(Se(r),"priority",20),je(Se(r),"incompatibleTokens","*"),r}return Ke(n,[{key:"parse",value:function(o){return Hx(o)}},{key:"set",value:function(o,i,a){return[new Date(a),{timestampIsSet:!0}]}}]),n}(pt),_O={G:new U4,y:new V4,Y:new Y4,R:new G4,u:new q4,Q:new K4,q:new Q4,M:new X4,L:new Z4,w:new eO,I:new nO,d:new oO,D:new iO,E:new aO,e:new lO,c:new cO,i:new uO,a:new pO,b:new hO,B:new fO,h:new mO,H:new gO,K:new vO,k:new yO,m:new xO,s:new bO,S:new wO,X:new CO,x:new jO,t:new kO,T:new SO},TO=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,EO=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,MO=/^'([^]*?)'?$/,PO=/''/g,NO=/\S/,IO=/[a-zA-Z]/;function ln(e,t,n,r){var o,i,a,l,c,d,u,p,f,g,v,y,m,x,j,b,w,N;ve(3,arguments);var k=String(e),E=String(t),_=xr(),D=(o=(i=r==null?void 0:r.locale)!==null&&i!==void 0?i:_.locale)!==null&&o!==void 0?o:Tp;if(!D.match)throw new RangeError("locale must contain match property");var S=nt((a=(l=(c=(d=r==null?void 0:r.firstWeekContainsDate)!==null&&d!==void 0?d:r==null||(u=r.locale)===null||u===void 0||(p=u.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&c!==void 0?c:_.firstWeekContainsDate)!==null&&l!==void 0?l:(f=_.locale)===null||f===void 0||(g=f.options)===null||g===void 0?void 0:g.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(S>=1&&S<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var T=nt((v=(y=(m=(x=r==null?void 0:r.weekStartsOn)!==null&&x!==void 0?x:r==null||(j=r.locale)===null||j===void 0||(b=j.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&m!==void 0?m:_.weekStartsOn)!==null&&y!==void 0?y:(w=_.locale)===null||w===void 0||(N=w.options)===null||N===void 0?void 0:N.weekStartsOn)!==null&&v!==void 0?v:0);if(!(T>=0&&T<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(E==="")return k===""?be(n):new Date(NaN);var $={firstWeekContainsDate:S,weekStartsOn:T,locale:D},O=[new H4],M=E.match(EO).map(function(X){var q=X[0];if(q in su){var ie=su[q];return ie(X,D.formatLong)}return X}).join("").match(TO),P=[],L=Rm(M),R;try{var B=function(){var q=R.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&Lx(q)&&ml(q,E,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&Ox(q)&&ml(q,E,e);var ie=q[0],J=_O[ie];if(J){var de=J.incompatibleTokens;if(Array.isArray(de)){var U=P.find(function(he){return de.includes(he.token)||he.token===ie});if(U)throw new RangeError("The format string mustn't contain `".concat(U.fullToken,"` and `").concat(q,"` at the same time"))}else if(J.incompatibleTokens==="*"&&P.length>0)throw new RangeError("The format string mustn't contain `".concat(q,"` and any other token at the same time"));P.push({token:ie,fullToken:q});var oe=J.run(k,q,D.match,$);if(!oe)return{v:new Date(NaN)};O.push(oe.setter),k=oe.rest}else{if(ie.match(IO))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ie+"`");if(q==="''"?q="'":ie==="'"&&(q=DO(q)),k.indexOf(q)===0)k=k.slice(q.length);else return{v:new Date(NaN)}}};for(L.s();!(R=L.n()).done;){var A=B();if(Nr(A)==="object")return A.v}}catch(X){L.e(X)}finally{L.f()}if(k.length>0&&NO.test(k))return new Date(NaN);var I=O.map(function(X){return X.priority}).sort(function(X,q){return q-X}).filter(function(X,q,ie){return ie.indexOf(X)===q}).map(function(X){return O.filter(function(q){return q.priority===X}).sort(function(q,ie){return ie.subPriority-q.subPriority})}).map(function(X){return X[0]}),F=be(n);if(isNaN(F.getTime()))return new Date(NaN);var V=Ix(F,fl(F)),Y={},W=Rm(I),G;try{for(W.s();!(G=W.n()).done;){var H=G.value;if(!H.validate(V,$))return new Date(NaN);var K=H.set(V,Y,$);Array.isArray(K)?(V=K[0],k4(Y,K[1])):V=K}}catch(X){W.e(X)}finally{W.f()}return V}function DO(e){return e.match(MO)[1].replace(PO,"'")}function Am(e){ve(1,arguments);var t=be(e);return t.setMinutes(0,0,0),t}function RO(e,t){ve(2,arguments);var n=Am(e),r=Am(t);return n.getTime()===r.getTime()}function AO(e,t){ve(2,arguments);var n=be(e),r=be(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function $O(e,t){ve(2,arguments);var n=be(e),r=be(t);return n.getFullYear()===r.getFullYear()}function Yx(e){return ve(1,arguments),Ex(e,Date.now())}function OO(e,t){ve(2,arguments);var n=be(e).getTime(),r=be(t.start).getTime(),o=be(t.end).getTime();if(!(r<=o))throw new RangeError("Invalid interval");return n>=r&&n<=o}function LO(e,t){var n;ve(1,arguments);var r=nt((n=void 0)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var o=WO(e),i;if(o.date){var a=HO(o.date,r);i=UO(a.restDateString,a.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var l=i.getTime(),c=0,d;if(o.time&&(c=VO(o.time),isNaN(c)))return new Date(NaN);if(o.timezone){if(d=YO(o.timezone),isNaN(d))return new Date(NaN)}else{var u=new Date(l+c),p=new Date(0);return p.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),p.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),p}return new Date(l+c+d)}var ja={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},BO=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,FO=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,zO=/^([+-])(\d{2})(?::?(\d{2}))?$/;function WO(e){var t={},n=e.split(ja.dateTimeDelimiter),r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],ja.timeZoneDelimiter.test(t.date)&&(t.date=e.split(ja.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){var o=ja.timezone.exec(r);o?(t.time=r.replace(o[1],""),t.timezone=o[1]):t.time=r}return t}function HO(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var o=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?o:i*100,restDateString:e.slice((r[1]||r[2]).length)}}function UO(e,t){if(t===null)return new Date(NaN);var n=e.match(BO);if(!n)return new Date(NaN);var r=!!n[4],o=ri(n[1]),i=ri(n[2])-1,a=ri(n[3]),l=ri(n[4]),c=ri(n[5])-1;if(r)return XO(t,l,c)?GO(t,l,c):new Date(NaN);var d=new Date(0);return!KO(t,i,a)||!QO(t,o)?new Date(NaN):(d.setUTCFullYear(t,i,Math.max(o,a)),d)}function ri(e){return e?parseInt(e):1}function VO(e){var t=e.match(FO);if(!t)return NaN;var n=ld(t[1]),r=ld(t[2]),o=ld(t[3]);return ZO(n,r,o)?n*Cc+r*wc+o*1e3:NaN}function ld(e){return e&&parseFloat(e.replace(",","."))||0}function YO(e){if(e==="Z")return 0;var t=e.match(zO);if(!t)return 0;var n=t[1]==="+"?-1:1,r=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;return JO(r,o)?n*(r*Cc+o*wc):NaN}function GO(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var o=r.getUTCDay()||7,i=(t-1)*7+n+1-o;return r.setUTCDate(r.getUTCDate()+i),r}var qO=[31,null,31,30,31,30,31,31,30,31,30,31];function Gx(e){return e%400===0||e%4===0&&e%100!==0}function KO(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(qO[t]||(Gx(e)?29:28))}function QO(e,t){return t>=1&&t<=(Gx(e)?366:365)}function XO(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function ZO(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function JO(e,t){return t>=0&&t<=59}function e3(e,t){ve(2,arguments);var n=be(e),r=nt(t),o=n.getFullYear(),i=n.getDate(),a=new Date(0);a.setFullYear(o,r,15),a.setHours(0,0,0,0);var l=Fx(a);return n.setMonth(r,Math.min(i,l)),n}function t3(e,t){ve(2,arguments);var n=be(e),r=nt(t);return n.setDate(r),n}function qx(e,t){ve(2,arguments);var n=be(e),r=nt(t);return n.setHours(r),n}function n3(e,t){ve(2,arguments);var n=be(e),r=nt(t);return n.setMilliseconds(r),n}function Kx(e,t){ve(2,arguments);var n=be(e),r=nt(t);return n.setMinutes(r),n}function r3(e,t){ve(2,arguments);var n=be(e),r=nt(t);return n.setSeconds(r),n}function s3(e,t){ve(2,arguments);var n=be(e),r=nt(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function Qr(){return Ts(Date.now())}function $m(e,t,n){ve(2,arguments);var r=Ar(e,n),o=Ar(t,n);return r.getTime()===o.getTime()}function si(e,t){if(e.one!==void 0&&t===1)return e.one;var n=t%10,r=t%100;return n===1&&r!==11?e.singularNominative.replace("{{count}}",String(t)):n>=2&&n<=4&&(r<10||r>20)?e.singularGenitive.replace("{{count}}",String(t)):e.pluralGenitive.replace("{{count}}",String(t))}function on(e){return function(t,n){return n!=null&&n.addSuffix?n.comparison&&n.comparison>0?e.future?si(e.future,t):"через "+si(e.regular,t):e.past?si(e.past,t):si(e.regular,t)+" назад":si(e.regular,t)}}var o3={lessThanXSeconds:on({regular:{one:"меньше секунды",singularNominative:"меньше {{count}} секунды",singularGenitive:"меньше {{count}} секунд",pluralGenitive:"меньше {{count}} секунд"},future:{one:"меньше, чем через секунду",singularNominative:"меньше, чем через {{count}} секунду",singularGenitive:"меньше, чем через {{count}} секунды",pluralGenitive:"меньше, чем через {{count}} секунд"}}),xSeconds:on({regular:{singularNominative:"{{count}} секунда",singularGenitive:"{{count}} секунды",pluralGenitive:"{{count}} секунд"},past:{singularNominative:"{{count}} секунду назад",singularGenitive:"{{count}} секунды назад",pluralGenitive:"{{count}} секунд назад"},future:{singularNominative:"через {{count}} секунду",singularGenitive:"через {{count}} секунды",pluralGenitive:"через {{count}} секунд"}}),halfAMinute:function(t,n){return n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"через полминуты":"полминуты назад":"полминуты"},lessThanXMinutes:on({regular:{one:"меньше минуты",singularNominative:"меньше {{count}} минуты",singularGenitive:"меньше {{count}} минут",pluralGenitive:"меньше {{count}} минут"},future:{one:"меньше, чем через минуту",singularNominative:"меньше, чем через {{count}} минуту",singularGenitive:"меньше, чем через {{count}} минуты",pluralGenitive:"меньше, чем через {{count}} минут"}}),xMinutes:on({regular:{singularNominative:"{{count}} минута",singularGenitive:"{{count}} минуты",pluralGenitive:"{{count}} минут"},past:{singularNominative:"{{count}} минуту назад",singularGenitive:"{{count}} минуты назад",pluralGenitive:"{{count}} минут назад"},future:{singularNominative:"через {{count}} минуту",singularGenitive:"через {{count}} минуты",pluralGenitive:"через {{count}} минут"}}),aboutXHours:on({regular:{singularNominative:"около {{count}} часа",singularGenitive:"около {{count}} часов",pluralGenitive:"около {{count}} часов"},future:{singularNominative:"приблизительно через {{count}} час",singularGenitive:"приблизительно через {{count}} часа",pluralGenitive:"приблизительно через {{count}} часов"}}),xHours:on({regular:{singularNominative:"{{count}} час",singularGenitive:"{{count}} часа",pluralGenitive:"{{count}} часов"}}),xDays:on({regular:{singularNominative:"{{count}} день",singularGenitive:"{{count}} дня",pluralGenitive:"{{count}} дней"}}),aboutXWeeks:on({regular:{singularNominative:"около {{count}} недели",singularGenitive:"около {{count}} недель",pluralGenitive:"около {{count}} недель"},future:{singularNominative:"приблизительно через {{count}} неделю",singularGenitive:"приблизительно через {{count}} недели",pluralGenitive:"приблизительно через {{count}} недель"}}),xWeeks:on({regular:{singularNominative:"{{count}} неделя",singularGenitive:"{{count}} недели",pluralGenitive:"{{count}} недель"}}),aboutXMonths:on({regular:{singularNominative:"около {{count}} месяца",singularGenitive:"около {{count}} месяцев",pluralGenitive:"около {{count}} месяцев"},future:{singularNominative:"приблизительно через {{count}} месяц",singularGenitive:"приблизительно через {{count}} месяца",pluralGenitive:"приблизительно через {{count}} месяцев"}}),xMonths:on({regular:{singularNominative:"{{count}} месяц",singularGenitive:"{{count}} месяца",pluralGenitive:"{{count}} месяцев"}}),aboutXYears:on({regular:{singularNominative:"около {{count}} года",singularGenitive:"около {{count}} лет",pluralGenitive:"около {{count}} лет"},future:{singularNominative:"приблизительно через {{count}} год",singularGenitive:"приблизительно через {{count}} года",pluralGenitive:"приблизительно через {{count}} лет"}}),xYears:on({regular:{singularNominative:"{{count}} год",singularGenitive:"{{count}} года",pluralGenitive:"{{count}} лет"}}),overXYears:on({regular:{singularNominative:"больше {{count}} года",singularGenitive:"больше {{count}} лет",pluralGenitive:"больше {{count}} лет"},future:{singularNominative:"больше, чем через {{count}} год",singularGenitive:"больше, чем через {{count}} года",pluralGenitive:"больше, чем через {{count}} лет"}}),almostXYears:on({regular:{singularNominative:"почти {{count}} год",singularGenitive:"почти {{count}} года",pluralGenitive:"почти {{count}} лет"},future:{singularNominative:"почти через {{count}} год",singularGenitive:"почти через {{count}} года",pluralGenitive:"почти через {{count}} лет"}})},i3=function(t,n,r){return o3[t](n,r)},a3={full:"EEEE, d MMMM y 'г.'",long:"d MMMM y 'г.'",medium:"d MMM y 'г.'",short:"dd.MM.y"},l3={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},c3={any:"{{date}}, {{time}}"},d3={date:to({formats:a3,defaultWidth:"full"}),time:to({formats:l3,defaultWidth:"full"}),dateTime:to({formats:c3,defaultWidth:"any"})},Pp=["воскресенье","понедельник","вторник","среду","четверг","пятницу","субботу"];function u3(e){var t=Pp[e];switch(e){case 0:return"'в прошлое "+t+" в' p";case 1:case 2:case 4:return"'в прошлый "+t+" в' p";case 3:case 5:case 6:return"'в прошлую "+t+" в' p"}}function Om(e){var t=Pp[e];return e===2?"'во "+t+" в' p":"'в "+t+" в' p"}function p3(e){var t=Pp[e];switch(e){case 0:return"'в следующее "+t+" в' p";case 1:case 2:case 4:return"'в следующий "+t+" в' p";case 3:case 5:case 6:return"'в следующую "+t+" в' p"}}var h3={lastWeek:function(t,n,r){var o=t.getUTCDay();return $m(t,n,r)?Om(o):u3(o)},yesterday:"'вчера в' p",today:"'сегодня в' p",tomorrow:"'завтра в' p",nextWeek:function(t,n,r){var o=t.getUTCDay();return $m(t,n,r)?Om(o):p3(o)},other:"P"},f3=function(t,n,r,o){var i=h3[t];return typeof i=="function"?i(n,r,o):i},m3={narrow:["до н.э.","н.э."],abbreviated:["до н. э.","н. э."],wide:["до нашей эры","нашей эры"]},g3={narrow:["1","2","3","4"],abbreviated:["1-й кв.","2-й кв.","3-й кв.","4-й кв."],wide:["1-й квартал","2-й квартал","3-й квартал","4-й квартал"]},v3={narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","март","апр.","май","июнь","июль","авг.","сент.","окт.","нояб.","дек."],wide:["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"]},y3={narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","мар.","апр.","мая","июн.","июл.","авг.","сент.","окт.","нояб.","дек."],wide:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"]},x3={narrow:["В","П","В","С","Ч","П","С"],short:["вс","пн","вт","ср","чт","пт","сб"],abbreviated:["вск","пнд","втр","срд","чтв","птн","суб"],wide:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"]},b3={narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утро",afternoon:"день",evening:"вечер",night:"ночь"}},w3={narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утра",afternoon:"дня",evening:"вечера",night:"ночи"}},C3=function(t,n){var r=Number(t),o=n==null?void 0:n.unit,i;return o==="date"?i="-е":o==="week"||o==="minute"||o==="second"?i="-я":i="-й",r+i},j3={ordinalNumber:C3,era:tr({values:m3,defaultWidth:"wide"}),quarter:tr({values:g3,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:tr({values:v3,defaultWidth:"wide",formattingValues:y3,defaultFormattingWidth:"wide"}),day:tr({values:x3,defaultWidth:"wide"}),dayPeriod:tr({values:b3,defaultWidth:"any",formattingValues:w3,defaultFormattingWidth:"wide"})},k3=/^(\d+)(-?(е|я|й|ое|ье|ая|ья|ый|ой|ий|ый))?/i,S3=/\d+/i,_3={narrow:/^((до )?н\.?\s?э\.?)/i,abbreviated:/^((до )?н\.?\s?э\.?)/i,wide:/^(до нашей эры|нашей эры|наша эра)/i},T3={any:[/^д/i,/^н/i]},E3={narrow:/^[1234]/i,abbreviated:/^[1234](-?[ыои]?й?)? кв.?/i,wide:/^[1234](-?[ыои]?й?)? квартал/i},M3={any:[/1/i,/2/i,/3/i,/4/i]},P3={narrow:/^[яфмаисонд]/i,abbreviated:/^(янв|фев|март?|апр|ма[йя]|июн[ья]?|июл[ья]?|авг|сент?|окт|нояб?|дек)\.?/i,wide:/^(январ[ья]|феврал[ья]|марта?|апрел[ья]|ма[йя]|июн[ья]|июл[ья]|августа?|сентябр[ья]|октябр[ья]|октябр[ья]|ноябр[ья]|декабр[ья])/i},N3={narrow:[/^я/i,/^ф/i,/^м/i,/^а/i,/^м/i,/^и/i,/^и/i,/^а/i,/^с/i,/^о/i,/^н/i,/^я/i],any:[/^я/i,/^ф/i,/^мар/i,/^ап/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^ав/i,/^с/i,/^о/i,/^н/i,/^д/i]},I3={narrow:/^[впсч]/i,short:/^(вс|во|пн|по|вт|ср|чт|че|пт|пя|сб|су)\.?/i,abbreviated:/^(вск|вос|пнд|пон|втр|вто|срд|сре|чтв|чет|птн|пят|суб).?/i,wide:/^(воскресень[ея]|понедельника?|вторника?|сред[аы]|четверга?|пятниц[аы]|суббот[аы])/i},D3={narrow:[/^в/i,/^п/i,/^в/i,/^с/i,/^ч/i,/^п/i,/^с/i],any:[/^в[ос]/i,/^п[он]/i,/^в/i,/^ср/i,/^ч/i,/^п[ят]/i,/^с[уб]/i]},R3={narrow:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,abbreviated:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,wide:/^([дп]п|полночь|полдень|утр[оа]|день|дня|вечера?|ноч[ьи])/i},A3={any:{am:/^дп/i,pm:/^пп/i,midnight:/^полн/i,noon:/^полд/i,morning:/^у/i,afternoon:/^д[ен]/i,evening:/^в/i,night:/^н/i}},$3={ordinalNumber:Bx({matchPattern:k3,parsePattern:S3,valueCallback:function(t){return parseInt(t,10)}}),era:nr({matchPatterns:_3,defaultMatchWidth:"wide",parsePatterns:T3,defaultParseWidth:"any"}),quarter:nr({matchPatterns:E3,defaultMatchWidth:"wide",parsePatterns:M3,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:nr({matchPatterns:P3,defaultMatchWidth:"wide",parsePatterns:N3,defaultParseWidth:"any"}),day:nr({matchPatterns:I3,defaultMatchWidth:"wide",parsePatterns:D3,defaultParseWidth:"any"}),dayPeriod:nr({matchPatterns:R3,defaultMatchWidth:"wide",parsePatterns:A3,defaultParseWidth:"any"})},In={code:"ru",formatDistance:i3,formatLong:d3,formatRelative:f3,localize:j3,match:$3,options:{weekStartsOn:1,firstWeekContainsDate:1}};function O3({isOpen:e,onClose:t,court:n,venue:r}){const[o,i]=h.useState("datetime"),[a,l]=h.useState(Qr()),[c,d]=h.useState(""),[u,p]=h.useState(60),[f,g]=h.useState("private"),[v,y]=h.useState([]),[m,x]=h.useState(!1),[j,b]=h.useState(""),[w,N]=h.useState(""),[k,E]=h.useState(""),[_,D]=h.useState(null),[S,T]=h.useState(window.innerWidth<=768);h.useEffect(()=>{const I=()=>{T(window.innerWidth<=768)};return window.addEventListener("resize",I),()=>window.removeEventListener("resize",I)},[]),h.useEffect(()=>{if(e){console.log("Modal opened, venue:",r,"bookingDurations:",r.bookingDurations);const I=r.bookingDurations||{60:!0,90:!0,120:!0},F=[60,90,120].filter(V=>I[V]!==!1);console.log("Available durations:",F),F.length>0&&!F.includes(u)&&p(F[0]),i("datetime"),d(""),y([]),n&&r&&$()}else _&&(_(),D(null))},[e]),h.useEffect(()=>{if(o==="datetime"&&a&&n&&r){$();const I=new Date(a);I.setHours(0,0,0,0);const F=new Date(a);F.setHours(23,59,59,999);const V=Le(a,"yyyy-MM-dd"),Y=$e(Ne(re,"bookings"),Te("courtId","==",n.id),Te("date","==",V)),W=$e(Ne(re,"bookings"),Te("courtId","==",n.id),Te("date",">=",Yt.fromDate(I)),Te("date","<=",Yt.fromDate(F))),G=Rn(Y,X=>{console.log("Real-time update: bookings changed (string date)",X.docs.length,"bookings"),X.docs.forEach(q=>{console.log("Booking:",q.id,q.data())}),$()}),H=Rn(W,X=>{console.log("Real-time update: bookings changed (timestamp date)",X.docs.length,"bookings"),X.docs.forEach(q=>{console.log("Booking:",q.id,q.data())}),$()}),K=()=>{G(),H()};D(()=>K)}return()=>{_&&(_(),D(null))}},[o,a,u,n.id,r.id]);const $=async(I,F)=>{var W;const V=I||u,Y=F||a;console.log("Loading time slots for:",{date:Y,courtId:n.id,courtName:n.name,venue:r.name,duration:V,workingHours:r.workingHours}),x(!0);try{const G=new Date(Y);G.setHours(0,0,0,0);const H=new Date(Y);H.setHours(23,59,59,999);const K=Le(Y,"yyyy-MM-dd");let X=$e(Ne(re,"bookings"),Te("courtId","==",n.id),Te("date","==",K)),q=await Fe(X);q.empty&&(X=$e(Ne(re,"bookings"),Te("courtId","==",n.id),Te("date",">=",Yt.fromDate(G)),Te("date","<=",Yt.fromDate(H))),q=await Fe(X));const ie=q.docs.filter(fe=>{const ue=fe.data();return ue.status==="confirmed"||ue.paymentStatus==="paid"||ue.paymentStatus==="awaiting_payment"}).map(fe=>{const ue=fe.data();let me=ue.duration||60;return console.log("Processing booking:",fe.id,{duration:ue.duration,amount:ue.amount,price:ue.price,startTime:ue.startTime,endTime:ue.endTime}),{time:ue.time||ue.startTime,startTime:ue.startTime||ue.time,endTime:ue.endTime,duration:me}});console.log("Found bookings:",ie.length,ie);const J=Y.getDay(),de=J===0||J===6,oe=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][J];console.log("Day of week:",J,"Day name:",oe,"Is weekend:",de,"Working hours:",r.workingHours);const he=[];let Z="07:00",le="23:00";if((W=r.workingHours)!=null&&W[oe]){const fe=r.workingHours[oe];if(console.log("Found day-specific hours:",oe,fe),typeof fe=="object"&&fe.open&&fe.close)Z=fe.open,le=fe.close;else if(typeof fe=="string"&&fe.includes("-")){const[ue,me]=fe.split("-").map(Ae=>Ae.trim());ue&&me&&(Z=ue,le=me)}}else if(r.workingHours){const fe=r.workingHours[de?"weekend":"weekday"];if(console.log("Using weekday/weekend format:",de?"weekend":"weekday",fe),typeof fe=="string"&&fe.includes("-")){const[ue,me]=fe.split("-").map(Ae=>Ae.trim());ue&&me&&(Z=ue,le=me)}else typeof fe=="object"&&fe.open&&fe.close&&(Z=fe.open,le=fe.close)}else console.log("No working hours found, using defaults");console.log("Working hours parsed:",{openTime:Z,closeTime:le});const[ce,te]=Z.split(":").map(Number),[ke,pe]=le.split(":").map(Number),De=new Date,Re=Le(Y,"yyyy-MM-dd")===Le(De,"yyyy-MM-dd");let Ee=ce*60+te;const et=ke*60+pe,ht=r.bookingSlotInterval||30;for(ht===60&&Ee%60!==0&&(Ee=Math.ceil(Ee/60)*60);Ee<et;){const fe=Math.floor(Ee/60),ue=Ee%60,me=`${fe.toString().padStart(2,"0")}:${ue.toString().padStart(2,"0")}`,Ae=Kx(qx(new Date(Y),fe),ue);if(Re&&Jt(Ae,De)){Ee+=ht;continue}if(Ee+V>et)break;let Bt=!0;for(const Ft of ie){const bn=Ft.startTime.split(":");if(bn.length!==2)continue;const Qn=parseInt(bn[0]),br=parseInt(bn[1]),Xn=Qn*60+br,Br=Xn+Ft.duration,Is=Ee+V;if(Ee<Br&&Is>Xn){Bt=!1;break}}const Tt=Y.getDay(),tt=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][Tt];let mt=0;if(n.pricing&&n.pricing[tt]){const Ft=n.pricing[tt];if(mt=Ft.basePrice,Ft.intervals&&Ft.intervals.length>0){const bn=fe;for(const Qn of Ft.intervals){const[br]=Qn.from.split(":").map(Number),[Xn]=Qn.to.split(":").map(Number);if(bn>=br&&bn<Xn){mt=Qn.price;break}}}}else{const Ft=Tt===0||Tt===6;mt=n.pricePerHour||(Ft?n.priceWeekend:n.priceWeekday)||0}const sn=Math.round(mt*V/60);he.push({time:me,available:Bt,price:sn}),Ee+=ht}y(he),console.log("Loaded time slots:",he.length,he)}catch(G){console.error("Error loading time slots:",G),y([])}finally{x(!1)}},O=I=>{l(I),d(""),$(u,I)},M=async I=>{x(!0);try{const F=new Date(a);F.setHours(0,0,0,0);const V=new Date(a);V.setHours(23,59,59,999);const Y=Le(a,"yyyy-MM-dd");let W=$e(Ne(re,"bookings"),Te("courtId","==",n.id),Te("date","==",Y)),G=await Fe(W);G.empty&&(W=$e(Ne(re,"bookings"),Te("courtId","==",n.id),Te("date",">=",Yt.fromDate(F)),Te("date","<=",Yt.fromDate(V))),G=await Fe(W));const H=G.docs.filter(de=>{const U=de.data();return U.status==="confirmed"||U.paymentStatus==="paid"||U.paymentStatus==="awaiting_payment"}).map(de=>{const U=de.data();let oe=U.duration||60;return console.log("Processing booking:",de.id,{duration:U.duration,amount:U.amount,price:U.price,startTime:U.startTime,endTime:U.endTime}),{time:U.time||U.startTime,startTime:U.startTime||U.time,endTime:U.endTime,duration:oe}}),[K,X]=I.split(":").map(Number),q=K*60+X,ie=q+u;let J=!0;for(const de of H){const U=de.startTime.split(":");if(U.length!==2)continue;const oe=parseInt(U[0]),he=parseInt(U[1]),Z=oe*60+he,le=Z+de.duration;if(q<le&&ie>Z){J=!1;break}}if(!J){alert("К сожалению, это время было только что забронировано. Пожалуйста, выберите другое время."),await $();return}d(I),i("gameType")}catch(F){console.error("Error checking availability:",F),alert("Ошибка проверки доступности. Попробуйте еще раз.")}finally{x(!1)}},P=I=>{g(I)},L=async()=>{if(!j||!w){alert("Пожалуйста, заполните обязательные поля");return}if(!Sx(j)){alert("Имя должно быть от 2 до 100 символов");return}if(!kx(w)){alert("Некорректный номер телефона");return}if(k&&!BA(k)){alert("Некорректный email");return}if(!_x(a)){alert("Нельзя забронировать на прошедшую дату");return}x(!0);try{const[I,F]=c.split(":").map(Number),V=new Date(a);V.setHours(I,F,0,0);const Y=new Date(V.getTime()+u*60*1e3),W=v.find(ie=>ie.time===c),G={courtId:n.id,courtName:n.name,venueId:r.id,venueName:r.name,date:Le(a,"yyyy-MM-dd"),time:c,startTime:c,endTime:`${Y.getHours().toString().padStart(2,"0")}:${Y.getMinutes().toString().padStart(2,"0")}`,duration:u,gameType:f,customerName:hl(j),customerPhone:pl(w),customerEmail:k?k.toLowerCase().trim():"",clientName:hl(j),clientPhone:pl(w),price:W?W.price:0,amount:W?W.price:0,status:"pending",paymentStatus:"awaiting_payment",paymentMethod:"online",paymentHistory:[{timestamp:Yt.now(),action:"created",userId:"web-client",userName:j}],createdBy:{userId:"web-client",userName:j,userRole:"client"},createdAt:new Date,source:"web"};if(console.log("Venue payment settings from props:",{paymentEnabled:r.paymentEnabled,paymentProvider:r.paymentProvider,paymentTestMode:r.paymentTestMode,phone:r.phone}),!r.paymentEnabled){const ie=r.phone||"не указан";alert(`К сожалению, клуб "${r.name}" пока не подключил онлайн оплату.

Пожалуйста, позвоните по телефону клуба для бронирования:
${ie}`),x(!1);return}console.log("Creating booking with data:",G);const H=await or(Ne(re,"bookings"),G);console.log("Booking created with ID:",H.id);const K=Ao(Zi,"initBookingPayment");console.log("Calling initBookingPayment with params:",{bookingId:H.id,amount:G.price,description:`Бронирование ${n.name} на ${Le(a,"d MMMM",{locale:In})} ${c}`,returnUrl:`${window.location.origin}/club/${r.id}/booking-confirmation/${H.id}`,userId:"",customerEmail:k,customerPhone:w});const X=await K({bookingId:H.id,amount:G.price,description:`Бронирование ${n.name} на ${Le(a,"d MMMM",{locale:In})} ${c}`,returnUrl:`${window.location.origin}/club/${r.id}/booking-confirmation/${H.id}`,userId:"",customerEmail:k,customerPhone:w});console.log("Payment result:",X);const q=X.data;if(q.success&&q.paymentUrl)window.location.href=q.paymentUrl;else{try{await Li(H),console.log("Booking deleted due to payment initialization failure")}catch(ie){console.error("Failed to delete booking after payment failure:",ie)}throw new Error(q.error||"Ошибка инициализации платежа")}}catch(I){console.error("Error creating booking:",I),console.error("Error details:",{message:I.message,code:I.code,details:I.details,stack:I.stack});let F="Ошибка при создании бронирования";I.code==="functions/not-found"?F="Функция оплаты не найдена. Проверьте настройки.":I.code==="functions/failed-precondition"?F="Платежи не настроены для этого клуба":I.message&&(F=`Ошибка: ${I.message}`),alert(F)}finally{x(!1)}};if(!e)return null;const R=()=>{var Y;const I=[],F=["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек"],V=["Вс","Пн","Вт","Ср","Чт","Пт","Сб"];for(let W=0;W<14;W++)I.push(Mr(Qr(),W));return s.jsxs(s.Fragment,{children:[s.jsx("h3",{className:"h3",style:{marginBottom:"var(--spacing-lg)"},children:"Выберите дату и время"}),s.jsxs("div",{style:{display:S?"block":"grid",gridTemplateColumns:S?"1fr":"300px 1fr",gap:"var(--spacing-xl)"},children:[s.jsxs("div",{children:[s.jsxs("div",{style:{marginBottom:"var(--spacing-xl)"},children:[s.jsx("h4",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Дата бронирования"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"var(--spacing-xs)"},children:I.map((W,G)=>{const H=Le(W,"yyyy-MM-dd")===Le(a,"yyyy-MM-dd"),K=G===0,X=V[W.getDay()],q=G===0||W.getDate()===1,ie=Le(W,"yyyy-MM-dd");return s.jsxs("div",{style:{textAlign:"center"},children:[q&&s.jsx("div",{className:"caption",style:{marginBottom:"var(--spacing-xs)",color:"var(--gray)",height:"16px",fontSize:"11px"},children:F[W.getMonth()]}),!q&&s.jsx("div",{style:{height:"16px",marginBottom:"var(--spacing-xs)"}}),s.jsxs("button",{onClick:()=>O(W),style:{width:"100%",aspectRatio:"1",padding:"4px",border:`2px solid ${H||K?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-sm)",background:H?"var(--primary)":"var(--white)",color:H?"white":"var(--dark)",cursor:"pointer",transition:"all 0.2s",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:"12px"},children:[s.jsx("div",{className:"caption",style:{fontWeight:600,color:H?"white":"var(--gray)"},children:X}),s.jsx("div",{className:"body-bold",style:{fontSize:"16px",color:H?"white":"var(--dark)"},children:W.getDate()})]})]},ie)})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Длительность игры"}),s.jsx("div",{style:{display:"flex",gap:"var(--spacing-sm)"},children:[60,90,120].map(W=>{if(!((r.bookingDurations||{60:!0,90:!0,120:!0})[W]!==!1))return null;const K=a.getDay(),q=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][K];if(n.pricing&&n.pricing[q])n.pricing[q].basePrice;else{const ie=K===0||K===6;n.pricePerHour||(ie?n.priceWeekend:n.priceWeekday)}return s.jsx("button",{onClick:()=>{W!==u&&(p(W),d(""),$(W))},style:{flex:1,padding:S?"var(--spacing-sm) var(--spacing-xs)":"var(--spacing-md)",border:`2px solid ${u===W?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",background:u===W?"var(--primary)":"var(--white)",color:u===W?"white":"var(--dark)",cursor:"pointer",transition:"all 0.2s",display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},children:s.jsx("span",{className:"body-bold",style:{fontSize:S?"14px":"16px"},children:W===60?"1 час":W===90?"1.5 часа":"2 часа"})},`duration-${W}`)})})]})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:["Свободное время на ",Le(a,"d MMMM",{locale:In})]}),m?s.jsx("div",{style:{textAlign:"center",padding:"var(--spacing-3xl)"},children:s.jsx("div",{className:"spinner"})}):v.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{display:"grid",gridTemplateColumns:S?"repeat(3, 1fr)":"repeat(4, 1fr)",gap:"var(--spacing-sm)",maxHeight:S?"400px":"500px",overflowY:"auto",paddingRight:"var(--spacing-sm)",marginBottom:"var(--spacing-md)"},children:v.map(W=>{const G=c===W.time;return s.jsxs("button",{onClick:()=>W.available&&d(W.time),disabled:!W.available,style:{padding:"var(--spacing-md) var(--spacing-xs)",border:`2px solid ${W.available?G?"var(--primary)":"var(--light-gray)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-sm)",background:W.available?G?"var(--primary)":"var(--white)":"var(--extra-light-gray)",color:W.available?G?"white":"var(--dark)":"var(--gray)",cursor:W.available?"pointer":"not-allowed",transition:"all 0.2s",opacity:W.available?1:.5,display:"flex",flexDirection:"column",alignItems:"center",gap:"4px",minHeight:"65px",justifyContent:"center"},children:[s.jsxs("span",{className:"body-bold",style:{fontSize:"14px"},children:[W.time,"-",(()=>{const[H,K]=W.time.split(":").map(Number),X=new Date;return X.setHours(H,K,0,0),X.setTime(X.getTime()+u*60*1e3),`${X.getHours().toString().padStart(2,"0")}:${X.getMinutes().toString().padStart(2,"0")}`})()]}),W.available?G?s.jsx("span",{className:"caption",style:{color:"white",fontWeight:600},children:"Выбрано"}):s.jsxs("span",{className:"caption",style:{color:"var(--primary)",fontWeight:600},children:[W.price,"₽"]}):s.jsx("span",{className:"caption",children:"Занято"})]},`slot-${W.time}`)})}),s.jsxs("div",{style:{display:"flex",gap:"var(--spacing-lg)",flexWrap:"wrap",marginTop:"var(--spacing-md)"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[s.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--white)",border:"2px solid var(--light-gray)",borderRadius:"4px"}}),s.jsx("span",{className:"caption",children:"Свободно"})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[s.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--extra-light-gray)",borderRadius:"4px"}}),s.jsx("span",{className:"caption",children:"Занято"})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[s.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--primary)",borderRadius:"4px"}}),s.jsx("span",{className:"caption",children:"Выбрано"})]})]})]}):s.jsx("div",{style:{textAlign:"center",padding:"var(--spacing-xl)",color:"var(--gray)"},children:s.jsx("p",{className:"body",children:"Нет доступных слотов на выбранную дату"})})]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",position:S?"fixed":"static",bottom:S?"0":"auto",left:S?"0":"auto",right:S?"0":"auto",padding:S?"var(--spacing-lg)":"0",marginTop:S?"var(--spacing-xl)":"var(--spacing-lg)",background:S?"var(--white)":"transparent",borderTop:S?"1px solid var(--extra-light-gray)":"none",zIndex:10},children:[s.jsx("div",{style:{flex:1},children:c&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"caption",style:{color:"var(--gray)",marginBottom:"4px"},children:[Le(a,"d MMMM",{locale:In}),", ",c,"-",(()=>{const[W,G]=c.split(":").map(Number),H=new Date;return H.setHours(W,G,0,0),H.setTime(H.getTime()+u*60*1e3),`${H.getHours().toString().padStart(2,"0")}:${H.getMinutes().toString().padStart(2,"0")}`})()]}),s.jsxs("div",{className:"h3",style:{color:"var(--primary)"},children:[((Y=v.find(W=>W.time===c))==null?void 0:Y.price)||0," ₽"]})]})}),s.jsx("button",{className:"flutter-button",onClick:()=>M(c),disabled:!a||!c,style:{width:S?"50%":"auto",minWidth:"200px"},children:"Продолжить"})]})]})},B=()=>s.jsxs(s.Fragment,{children:[s.jsx("h3",{className:"h3",style:{marginBottom:"var(--spacing-lg)"},children:"Выберите тип игры"}),s.jsxs("div",{style:{display:"grid",gap:"var(--spacing-md)"},children:[s.jsxs("button",{onClick:()=>P("private"),style:{padding:"var(--spacing-lg)",border:`2px solid ${f==="private"?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",background:f==="private"?"var(--primary-light)":"var(--white)",cursor:"pointer",transition:"all 0.2s",textAlign:"left"},children:[s.jsx("div",{className:"body-bold",children:"Приватная игра"}),s.jsx("div",{className:"caption",style:{color:"var(--gray)"},children:"Для вас и ваших друзей"})]}),s.jsxs("button",{style:{padding:"var(--spacing-lg)",border:"2px solid var(--extra-light-gray)",borderRadius:"var(--radius-md)",background:"var(--extra-light-gray)",cursor:"not-allowed",transition:"all 0.2s",textAlign:"left",opacity:.6},disabled:!0,children:[s.jsx("div",{className:"body-bold",style:{color:"var(--gray)"},children:"Открытая игра"}),s.jsx("div",{className:"caption",style:{color:"var(--gray)"},children:"Присоединиться к игре (доступно в приложении)"})]})]}),s.jsxs("div",{style:{marginTop:"var(--spacing-xl)",display:"flex",justifyContent:"space-between",gap:"var(--spacing-md)",position:S?"fixed":"static",bottom:S?"0":"auto",left:S?"0":"auto",right:S?"0":"auto",padding:S?"var(--spacing-lg)":"0",background:S?"var(--white)":"transparent",borderTop:S?"1px solid var(--extra-light-gray)":"none",zIndex:10},children:[s.jsx("button",{className:"flutter-button-outlined",onClick:()=>i("datetime"),style:{flex:1,background:"var(--white)",color:"var(--primary)",border:"2px solid var(--primary)"},children:"Назад"}),s.jsx("button",{className:"flutter-button",onClick:()=>i("payment"),style:{flex:1},children:"Далее"})]})]}),A=()=>{const I=(()=>{const F=v.find(V=>V.time===c);return(F==null?void 0:F.price)||0})();return s.jsxs(s.Fragment,{children:[s.jsx("h3",{className:"h3",style:{marginBottom:"var(--spacing-lg)"},children:"Оплата бронирования"}),s.jsx("div",{className:"info-section",style:{marginBottom:"var(--spacing-lg)"},children:s.jsxs("div",{style:{display:"grid",gap:"var(--spacing-sm)"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{className:"body",children:"Корт:"}),s.jsx("span",{className:"body-bold",children:n.name})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{className:"body",children:"Дата:"}),s.jsx("span",{className:"body-bold",children:Le(a,"d MMMM yyyy",{locale:In})})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{className:"body",children:"Время:"}),s.jsxs("span",{className:"body-bold",children:[c," - ",(()=>{const[F,V]=c.split(":").map(Number),Y=new Date;return Y.setHours(F,V,0,0),Y.setTime(Y.getTime()+u*60*1e3),`${Y.getHours().toString().padStart(2,"0")}:${Y.getMinutes().toString().padStart(2,"0")}`})()]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{className:"body",children:"Тип игры:"}),s.jsx("span",{className:"body-bold",children:"Приватная"})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingTop:"var(--spacing-sm)",borderTop:"1px solid var(--extra-light-gray)"},children:[s.jsx("span",{className:"body-bold",children:"Итого:"}),s.jsxs("span",{className:"h3",style:{color:"var(--primary)"},children:[I,"₽"]})]})]})}),s.jsxs("div",{style:{marginBottom:"var(--spacing-lg)"},children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Имя"}),s.jsx("input",{type:"text",className:"form-input",value:j,onChange:F=>b(F.target.value),placeholder:"Иван Иванов",required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Телефон"}),s.jsx("input",{type:"tel",className:"form-input",value:w,onChange:F=>N(F.target.value),placeholder:"+7 (900) 123-45-67",required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Email (необязательно)"}),s.jsx("input",{type:"email",className:"form-input",value:k,onChange:F=>E(F.target.value),placeholder:"email@example.com"}),s.jsx("div",{className:"caption",style:{marginTop:"8px",color:"var(--gray)"},children:k?"Чек будет отправлен на указанный email":"Если не указать email, чек можно будет получить только в клубе"})]}),s.jsxs("div",{style:{marginTop:"var(--spacing-md)",padding:"var(--spacing-md)",backgroundColor:"var(--chip-background)",borderRadius:"var(--radius-md)",border:"1px solid var(--primary-light)",display:"flex",gap:"var(--spacing-sm)",alignItems:"flex-start"},children:[s.jsx("span",{style:{fontSize:"20px",color:"var(--primary)"},children:"ℹ️"}),s.jsx("p",{className:"caption",style:{color:"var(--primary-dark)"},children:"Бронирование будет подтверждено только после успешной оплаты"})]})]}),s.jsxs("div",{style:{marginTop:"var(--spacing-xl)",display:"flex",justifyContent:"space-between",gap:"var(--spacing-md)",position:S?"fixed":"static",bottom:S?"0":"auto",left:S?"0":"auto",right:S?"0":"auto",padding:S?"var(--spacing-lg)":"0",background:S?"var(--white)":"transparent",borderTop:S?"1px solid var(--extra-light-gray)":"none",zIndex:10},children:[s.jsx("button",{className:"flutter-button-outlined",onClick:()=>i("gameType"),style:{flex:1,background:"var(--white)",color:"var(--primary)",border:"2px solid var(--primary)"},children:"Назад"}),s.jsx("button",{className:"flutter-button",onClick:L,disabled:m||!j||!w,style:{flex:1},children:m?s.jsx("div",{className:"spinner"}):"Перейти к оплате"})]})]})};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"modal-backdrop",onClick:t,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",zIndex:1e3,display:e?"block":"none",animation:"fadeIn 0.2s ease"}}),s.jsxs("div",{className:"modal-content",style:{position:"fixed",top:S?"0":"50%",left:S?"0":"50%",transform:S?"none":"translate(-50%, -50%)",background:"var(--white)",borderRadius:S?"0":"var(--radius-xl)",padding:S?"var(--spacing-lg)":"var(--spacing-2xl)",maxWidth:S?"100%":"1000px",width:S?"100%":"90%",height:S?"100vh":"auto",maxHeight:S?"100vh":"85vh",overflowY:"auto",zIndex:1001,display:e?"block":"none",boxShadow:S?"none":"var(--shadow-xl)",animation:S?"slideUp 0.3s ease":"slideIn 0.3s ease"},children:[s.jsx("button",{onClick:t,style:{position:"absolute",top:"var(--spacing-md)",right:"var(--spacing-md)",background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"var(--gray)"},children:"×"}),o==="datetime"&&R(),o==="gameType"&&B(),o==="payment"&&A()]}),s.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        
        @keyframes slideIn {
          from { 
            opacity: 0;
            transform: translate(-50%, -45%);
          }
          to { 
            opacity: 1;
            transform: translate(-50%, -50%);
          }
        }
        
        @keyframes slideUp {
          from { 
            opacity: 0;
            transform: translateY(100%);
          }
          to { 
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        .spinner {
          width: 40px;
          height: 40px;
          border: 3px solid var(--extra-light-gray);
          border-top-color: var(--primary);
          border-radius: 50%;
          animation: spin 1s linear infinite;
          margin: 0 auto;
        }
        
        @keyframes spin {
          to { transform: rotate(360deg); }
        }
        
        @media (max-width: 768px) {
          .modal-content {
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
            transform: none !important;
            width: 100% !important;
            height: 100vh !important;
            max-width: 100% !important;
            max-height: 100vh !important;
            border-radius: 0 !important;
            padding: var(--spacing-lg) !important;
          }
        }
      `})]})}const Lm={padel:"#3B82F6",tennis:"#00D632",badminton:"#F59E0B"},cd={padel:"Падел",tennis:"Теннис",badminton:"Бадминтон"},Bm={parking:"Парковка",showers:"Душевые",cafe:"Кафе",lockers:"Шкафчики",shop:"Магазин",wifi:"Wi-Fi",changing_rooms:"Раздевалки",equipment_rental:"Прокат снаряжения"};function L3(){const{clubId:e}=$r();nn();const[t,n]=h.useState(null),[r,o]=h.useState([]),[i,a]=h.useState(!0),[l,c]=h.useState(""),[d,u]=h.useState(null),[p,f]=h.useState(!1),[g,v]=h.useState(!1),[y,m]=h.useState(0);h.useEffect(()=>{var T;if((T=t==null?void 0:t.photos)!=null&&T[0]){const $=document.createElement("link");return $.rel="preload",$.as="image",$.href=t.photos[0],document.head.appendChild($),()=>{document.head.removeChild($)}}},[t==null?void 0:t.photos]),h.useEffect(()=>{const T=performance.now();if(x().then(()=>{const $=performance.now()-T;console.log(`ClubPage loaded in ${$.toFixed(0)}ms`)}),e){const $=Rn($e(Ne(re,"venues",e,"courts"),Te("status","==","active")),O=>{const M=O.docs.map(P=>({id:P.id,...P.data()}));o(M)},O=>{console.error("Error listening to courts updates:",O)});return()=>$()}},[e]),h.useEffect(()=>{if(g){const T=$=>{$.key==="Escape"?k():$.key==="ArrowLeft"?E("prev"):$.key==="ArrowRight"&&E("next")};return document.addEventListener("keydown",T),()=>{document.removeEventListener("keydown",T)}}},[g]);const x=async()=>{if(!e){c("ID клуба не указан"),a(!1);return}try{const[T,$]=await Promise.all([ut(Pe(re,"venues",e)),Fe($e(Ne(re,"venues",e,"courts"),Te("status","==","active")))]);if(!T.exists()){c("Клуб не найден"),a(!1);return}const O={id:T.id,...T.data()};if(T.data().status!=="active"){c("Клуб временно недоступен"),a(!1);return}console.log("Loaded venue data:",O),console.log("Payment settings:",{paymentEnabled:O.paymentEnabled,paymentProvider:O.paymentProvider,paymentTestMode:O.paymentTestMode});const M=$.docs.map(P=>({id:P.id,...P.data()}));n(O),o(M),a(!1)}catch(T){console.error("Error loading venue:",T),c("Ошибка при загрузке данных клуба"),a(!1)}},j=T=>{u(T)},b=T=>{if(T.pricing){const O=[];if(Object.values(T.pricing).forEach(M=>{M&&M.basePrice&&(O.push(M.basePrice),M.intervals&&Array.isArray(M.intervals)&&M.intervals.forEach(P=>{P.price&&O.push(P.price)}))}),O.length>0){const M=Math.min(...O),P=Math.max(...O);return M===P?{min:M,max:P,display:`${M}₽`}:{min:M,max:P,display:`от ${M}₽`}}}const $=T.pricePerHour||T.priceWeekday||0;return{min:$,max:$,display:`${$}₽`}},w=()=>{if(d){if(!S){alert("Этот клуб находится на модерации и временно недоступен для бронирования.");return}console.log("Opening booking modal, venue:",t,"court:",d),f(!0)}},N=T=>{m(T),v(!0)},k=()=>{v(!1)},E=T=>{t!=null&&t.photos&&m(T==="prev"?$=>$===0?t.photos.length-1:$-1:$=>$===t.photos.length-1?0:$+1)},_={loadingContainer:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},loadingContent:{textAlign:"center"},spinner:{marginBottom:"16px"},errorContainer:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",padding:"20px"},errorCard:{maxWidth:"400px",textAlign:"center",padding:"40px"},errorIcon:{fontSize:"48px",marginBottom:"16px"},errorTitle:{marginBottom:"12px"},errorText:{color:"var(--gray)"},pageContainer:{minHeight:"100vh",background:"var(--background)"},heroImage:{width:"100%",height:"300px",objectFit:"cover",cursor:"pointer"},heroPlaceholder:{width:"100%",height:"300px",background:"var(--extra-light-gray)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},heroPlaceholderIcon:{fontSize:"48px",marginBottom:"8px"},heroPlaceholderText:{color:"var(--gray)"},desktopGallery:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"16px",marginTop:"16px"},galleryImage:{width:"100%",height:"150px",objectFit:"cover",borderRadius:"8px",cursor:"pointer",transition:"transform 0.2s"},mobileGallery:{display:"flex",gap:"8px",overflowX:"auto",marginTop:"16px",paddingBottom:"8px"},mobileGalleryImage:{width:"120px",height:"90px",objectFit:"cover",borderRadius:"8px",flexShrink:0,cursor:"pointer"},clubInfoWrapper:{padding:"20px"},clubTitle:{marginBottom:"16px"},clubInfoItems:{display:"flex",flexDirection:"column",gap:"12px"},infoItem:{display:"flex",alignItems:"center",gap:"8px"},infoIcon:{fontSize:"18px"},courtsWrapper:{padding:"20px"},courtsWrapperDesktop:{marginTop:"32px"},courtsTitle:{marginBottom:"16px"},noCourtsCard:{padding:"40px",textAlign:"center"},noCourtsIcon:{fontSize:"48px",marginBottom:"8px",display:"block"},noCourtsText:{color:"var(--gray)"},courtCardContent:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},courtInfo:{flex:1},courtName:{marginBottom:"8px"},courtDetails:{display:"flex",alignItems:"center",gap:"8px"},courtIndoor:{color:"var(--gray)"},courtSurface:{color:"var(--gray)"},courtPricing:{textAlign:"right"},courtPrice:{color:"var(--primary)",marginBottom:"4px"},courtPriceUnit:{color:"var(--gray)"},sidebarBookingCard:{position:"sticky",top:"20px"},selectedCourtSection:{marginBottom:"8px"},selectedCourtDetails:{display:"flex",justifyContent:"space-between",alignItems:"center"},selectedCourtType:{color:"var(--gray)"},selectedCourtPrice:{color:"var(--primary)"}};if(i)return s.jsxs("div",{style:_.loadingContainer,children:[s.jsxs("div",{style:_.loadingContent,children:[s.jsx("div",{className:"spinner",style:_.spinner}),s.jsx("p",{className:"body-small",children:"Загрузка..."})]}),s.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]});if(l)return s.jsx("div",{style:_.errorContainer,children:s.jsxs("div",{className:"flutter-card",style:_.errorCard,children:[s.jsx("div",{style:_.errorIcon,children:"❌"}),s.jsx("h2",{className:"h2",style:_.errorTitle,children:"Ошибка"}),s.jsx("p",{className:"body",style:_.errorText,children:l})]})});if(!t)return null;const D=window.innerWidth>768,S=t.status==="active";return s.jsxs("div",{style:_.pageContainer,children:[!S&&s.jsx("div",{style:{backgroundColor:"#fff3cd",borderBottom:"1px solid #ffeaa7",padding:"var(--spacing-lg)",textAlign:"center"},children:s.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto"},children:[s.jsx("h3",{className:"h3",style:{color:"#856404",marginBottom:"var(--spacing-sm)"},children:"Клуб находится на модерации"}),s.jsx("p",{className:"body",style:{color:"#856404"},children:"Данный клуб еще не прошел проверку и временно недоступен для бронирования. Страница будет активирована после проверки администратором."})]})}),D&&s.jsx("div",{className:"hero-image",children:t.photos&&t.photos.length>0?s.jsx(od,{loading:"eager",src:t.photos[0],alt:t.name,style:_.heroImage,onClick:()=>N(0)}):s.jsxs("div",{style:_.heroPlaceholder,children:[s.jsx("span",{style:_.heroPlaceholderIcon,children:"🏸"}),s.jsx("span",{className:"body-small",style:_.heroPlaceholderText,children:"Фото клуба"})]})}),s.jsxs("div",{style:D?sd.container:c$.contentPadding,children:[s.jsxs("div",{style:D?sd.mainContent:{},children:[D&&t.photos&&t.photos.length>0&&s.jsx("div",{style:_.desktopGallery,children:t.photos.map((T,$)=>s.jsx(od,{loading:"lazy",src:T,alt:`${t.name} - фото ${$+1}`,className:"gallery-image",style:_.galleryImage,onMouseOver:O=>O.currentTarget.style.transform="scale(1.05)",onMouseOut:O=>O.currentTarget.style.transform="scale(1)",onClick:()=>N($)},$))}),!D&&t.photos&&t.photos.length>0&&s.jsx("div",{style:_.mobileGallery,children:t.photos.map((T,$)=>s.jsx(od,{loading:"lazy",src:T,alt:`${t.name} - фото ${$+1}`,style:_.mobileGalleryImage,onClick:()=>N($)},$))}),s.jsxs("div",{style:_.clubInfoWrapper,children:[s.jsx("h1",{className:"h1",style:_.clubTitle,children:t.name}),s.jsxs("div",{style:_.clubInfoItems,children:[s.jsxs("div",{style:_.infoItem,children:[s.jsx("span",{style:_.infoIcon,children:"📍"}),s.jsx("span",{className:"body",children:t.address})]}),t.phone&&s.jsxs("div",{style:_.infoItem,children:[s.jsx("span",{style:_.infoIcon,children:"📞"}),s.jsx("span",{className:"body",children:t.phone})]})]})]}),!D&&s.jsxs("div",{style:_.courtsWrapper,children:[s.jsx("h3",{className:"h2",style:_.courtsTitle,children:"Доступные корты"}),r.length===0?s.jsxs("div",{className:"flutter-card",style:_.noCourtsCard,children:[s.jsx("span",{style:_.noCourtsIcon,children:"🎾"}),s.jsx("p",{className:"body",style:_.noCourtsText,children:"Нет доступных кортов"})]}):s.jsx("div",{children:r.map(T=>{const $=(d==null?void 0:d.id)===T.id;return s.jsx("div",{className:`court-card ${$?"selected":""}`,onClick:()=>j(T),children:s.jsxs("div",{style:_.courtCardContent,children:[s.jsxs("div",{style:_.courtInfo,children:[s.jsx("h4",{className:"body-bold",style:_.courtName,children:T.name}),s.jsxs("div",{style:_.courtDetails,children:[s.jsx("span",{className:`sport-chip ${T.type}`,style:{backgroundColor:Lm[T.type]},children:cd[T.type]}),T.indoor&&s.jsx("span",{className:"caption",style:_.courtIndoor,children:"Крытый"}),T.surface&&s.jsxs("span",{className:"caption",style:_.courtSurface,children:["• ",T.surface]})]})]}),s.jsxs("div",{style:_.courtPricing,children:[s.jsx("div",{className:"h3",style:_.courtPrice,children:b(T).display}),s.jsx("div",{className:"caption",style:_.courtPriceUnit,children:"за час"})]})]})},T.id)})})]}),!D&&t.description&&s.jsxs("div",{className:"info-section",children:[s.jsx("h3",{className:"info-section-title",children:"О клубе"}),s.jsx("p",{className:"body",style:{color:"var(--gray)",lineHeight:1.6},children:t.description})]}),!D&&s.jsxs(s.Fragment,{children:[t.workingHours&&s.jsxs("div",{className:"info-section",style:{marginBottom:"var(--spacing-lg)"},children:[s.jsx("h3",{className:"info-section-title",children:"Часы работы"}),s.jsxs("div",{style:{display:"grid",gap:"var(--spacing-xs)"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{className:"body",children:"Будние дни (пн-пт)"}),s.jsx("span",{className:"body",style:{color:"var(--gray)"},children:t.workingHours.weekday||"07:00-23:00"})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{className:"body",children:"Выходные (сб-вс)"}),s.jsx("span",{className:"body",style:{color:"var(--gray)"},children:t.workingHours.weekend||"08:00-22:00"})]})]})]}),t.amenities&&t.amenities.length>0&&s.jsxs("div",{className:"info-section",style:{marginBottom:"var(--spacing-lg)"},children:[s.jsx("h3",{className:"info-section-title",children:"Удобства"}),s.jsx("div",{style:{display:"flex",flexWrap:"wrap"},children:t.amenities.map(T=>s.jsxs("div",{className:"amenity-item",children:[s.jsx("span",{className:"check-icon",children:"✓"}),s.jsx("span",{className:"body",children:Bm[T]||T})]},T))})]})]}),D&&s.jsxs("div",{style:_.courtsWrapperDesktop,children:[s.jsx("h3",{className:"h2",style:_.courtsTitle,children:"Доступные корты"}),r.length===0?s.jsxs("div",{className:"flutter-card",style:_.noCourtsCard,children:[s.jsx("span",{style:_.noCourtsIcon,children:"🎾"}),s.jsx("p",{className:"body",style:_.noCourtsText,children:"Нет доступных кортов"})]}):s.jsx("div",{className:"courts-grid",children:r.map(T=>{const $=(d==null?void 0:d.id)===T.id;return s.jsx("div",{className:`court-card ${$?"selected":""}`,onClick:()=>j(T),children:s.jsxs("div",{style:_.courtCardContent,children:[s.jsxs("div",{style:_.courtInfo,children:[s.jsx("h4",{className:"body-bold",style:_.courtName,children:T.name}),s.jsxs("div",{style:_.courtDetails,children:[s.jsx("span",{className:`sport-chip ${T.type}`,style:{backgroundColor:Lm[T.type]},children:cd[T.type]}),T.indoor&&s.jsx("span",{className:"caption",style:_.courtIndoor,children:"Крытый"}),T.surface&&s.jsxs("span",{className:"caption",style:_.courtSurface,children:["• ",T.surface]})]})]}),s.jsxs("div",{style:_.courtPricing,children:[s.jsx("div",{className:"h3",style:_.courtPrice,children:b(T).display}),s.jsx("div",{className:"caption",style:_.courtPriceUnit,children:"за час"})]})]})},T.id)})})]}),D&&t.description&&s.jsxs("div",{className:"info-section",style:{marginTop:"var(--spacing-2xl)"},children:[s.jsx("h3",{className:"info-section-title",children:"О клубе"}),s.jsx("p",{className:"body",style:{color:"var(--gray)",lineHeight:1.6},children:t.description})]})]}),D&&s.jsxs("div",{style:sd.sidebar,children:[s.jsxs("div",{className:"sticky-bottom-bar",style:_.sidebarBookingCard,children:[d&&s.jsxs("div",{className:"selected-court-summary",children:[s.jsx("h4",{className:"body-bold",style:_.selectedCourtSection,children:d.name}),s.jsxs("div",{style:_.selectedCourtDetails,children:[s.jsx("span",{className:"body-small",style:_.selectedCourtType,children:cd[d.type]}),s.jsxs("span",{className:"body-bold",style:_.selectedCourtPrice,children:[b(d).display,"/час"]})]})]}),s.jsx("button",{className:"flutter-button",style:{width:"100%",marginBottom:"var(--spacing-md)"},onClick:w,disabled:!d,children:d?"Выбрать время":"Выберите корт"})]}),t.workingHours&&s.jsxs("div",{className:"info-section",style:{marginBottom:"var(--spacing-lg)"},children:[s.jsx("h3",{className:"info-section-title",children:"Часы работы"}),s.jsxs("div",{style:{display:"grid",gap:"var(--spacing-xs)"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{className:"caption",children:"Будние дни (пн-пт)"}),s.jsx("span",{className:"caption",style:{color:"var(--gray)"},children:t.workingHours.weekday||"07:00-23:00"})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{className:"caption",children:"Выходные (сб-вс)"}),s.jsx("span",{className:"caption",style:{color:"var(--gray)"},children:t.workingHours.weekend||"08:00-22:00"})]})]})]}),t.amenities&&t.amenities.length>0&&s.jsxs("div",{className:"info-section",children:[s.jsx("h3",{className:"info-section-title",children:"Удобства"}),s.jsx("div",{style:{display:"grid",gap:"var(--spacing-xs)"},children:t.amenities.map(T=>s.jsxs("div",{className:"amenity-item",style:{background:"transparent",padding:"var(--spacing-xs) 0",margin:0},children:[s.jsx("span",{className:"check-icon",children:"✓"}),s.jsx("span",{className:"caption",children:Bm[T]||T})]},T))})]})]})]}),!D&&s.jsx("div",{className:"sticky-bottom-bar",children:s.jsx("button",{className:"flutter-button",style:{width:"100%"},onClick:w,disabled:!d,children:d?`Выбрать время для ${d.name}`:"Выберите корт"})}),d&&t&&s.jsx(O3,{isOpen:p,onClose:()=>f(!1),court:d,venue:t}),g&&(t==null?void 0:t.photos)&&s.jsx("div",{className:"modal-backdrop",onClick:k,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.95)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center",padding:"var(--spacing-xl)"},children:s.jsxs("div",{onClick:T=>T.stopPropagation(),style:{position:"relative",maxWidth:"90vw",maxHeight:"90vh",display:"flex",alignItems:"center",justifyContent:"center"},children:[s.jsx("button",{onClick:k,style:{position:"absolute",top:"-40px",right:"0",background:"none",border:"none",color:"white",fontSize:"28px",cursor:"pointer",padding:"8px",zIndex:10,lineHeight:1},"aria-label":"Закрыть",children:"✕"}),t.photos.length>1&&s.jsx("button",{onClick:()=>E("prev"),style:{position:"absolute",left:window.innerWidth>768?"-50px":"10px",top:"50%",transform:"translateY(-50%)",background:"rgba(255, 255, 255, 0.1)",border:"none",color:"white",fontSize:"24px",cursor:"pointer",width:"40px",height:"40px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",transition:"background 0.2s",zIndex:5},onMouseEnter:T=>T.currentTarget.style.background="rgba(255, 255, 255, 0.2)",onMouseLeave:T=>T.currentTarget.style.background="rgba(255, 255, 255, 0.1)","aria-label":"Предыдущее фото",children:"←"}),s.jsx("img",{src:t.photos[y],alt:`${t.name} - фото ${y+1}`,style:{maxWidth:"100%",maxHeight:"90vh",objectFit:"contain",borderRadius:"var(--radius-md)"}}),t.photos.length>1&&s.jsx("button",{onClick:()=>E("next"),style:{position:"absolute",right:window.innerWidth>768?"-50px":"10px",top:"50%",transform:"translateY(-50%)",background:"rgba(255, 255, 255, 0.1)",border:"none",color:"white",fontSize:"24px",cursor:"pointer",width:"40px",height:"40px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",transition:"background 0.2s",zIndex:5},onMouseEnter:T=>T.currentTarget.style.background="rgba(255, 255, 255, 0.2)",onMouseLeave:T=>T.currentTarget.style.background="rgba(255, 255, 255, 0.1)","aria-label":"Следующее фото",children:"→"}),t.photos.length>1&&s.jsxs("div",{style:{position:"absolute",bottom:"-30px",left:"50%",transform:"translateX(-50%)",color:"white",fontSize:"14px",fontWeight:"500"},children:[y+1," / ",t.photos.length]})]})}),s.jsxs("div",{style:{borderTop:"1px solid var(--divider)",padding:"24px",marginTop:"40px",paddingBottom:D?"24px":"calc(140px + 24px)",textAlign:"center",backgroundColor:"var(--background)"},children:[s.jsx(ud,{to:`/club/${e}/user-agreement`,style:{color:"var(--text-secondary)",fontSize:"14px",textDecoration:"none",borderBottom:"1px dashed var(--text-secondary)",transition:"color 0.2s"},onMouseEnter:T=>{T.currentTarget.style.color="var(--primary)",T.currentTarget.style.borderBottomColor="var(--primary)"},onMouseLeave:T=>{T.currentTarget.style.color="var(--text-secondary)",T.currentTarget.style.borderBottomColor="var(--text-secondary)"},children:"Пользовательское соглашение"}),(t==null?void 0:t.legalName)&&s.jsxs("div",{style:{marginTop:"12px",fontSize:"12px",color:"var(--text-disabled)"},children:["© ",new Date().getFullYear()," ",t.legalName]})]})]})}var ou={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(c,d){switch(c){case"P":return d.date({width:"short"});case"PP":return d.date({width:"medium"});case"PPP":return d.date({width:"long"});case"PPPP":default:return d.date({width:"full"})}},r=function(c,d){switch(c){case"p":return d.time({width:"short"});case"pp":return d.time({width:"medium"});case"ppp":return d.time({width:"long"});case"pppp":default:return d.time({width:"full"})}},o=function(c,d){var u=c.match(/(P+)(p+)?/)||[],p=u[1],f=u[2];if(!f)return n(c,d);var g;switch(p){case"P":g=d.dateTime({width:"short"});break;case"PP":g=d.dateTime({width:"medium"});break;case"PPP":g=d.dateTime({width:"long"});break;case"PPPP":default:g=d.dateTime({width:"full"});break}return g.replace("{{date}}",n(p,d)).replace("{{time}}",r(f,d))},i={p:r,P:o},a=i;t.default=a,e.exports=t.default})(ou,ou.exports);var B3=ou.exports;const F3=gb(B3),z3={y:{sectionType:"year",contentType:"digit",maxLength:4},yy:"year",yyy:{sectionType:"year",contentType:"digit",maxLength:4},yyyy:"year",M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMMM:{sectionType:"month",contentType:"letter"},MMM:{sectionType:"month",contentType:"letter"},L:{sectionType:"month",contentType:"digit",maxLength:2},LL:"month",LLL:{sectionType:"month",contentType:"letter"},LLLL:{sectionType:"month",contentType:"letter"},d:{sectionType:"day",contentType:"digit",maxLength:2},dd:"day",do:{sectionType:"day",contentType:"digit-with-letter"},E:{sectionType:"weekDay",contentType:"letter"},EE:{sectionType:"weekDay",contentType:"letter"},EEE:{sectionType:"weekDay",contentType:"letter"},EEEE:{sectionType:"weekDay",contentType:"letter"},EEEEE:{sectionType:"weekDay",contentType:"letter"},i:{sectionType:"weekDay",contentType:"digit",maxLength:1},ii:"weekDay",iii:{sectionType:"weekDay",contentType:"letter"},iiii:{sectionType:"weekDay",contentType:"letter"},e:{sectionType:"weekDay",contentType:"digit",maxLength:1},ee:"weekDay",eee:{sectionType:"weekDay",contentType:"letter"},eeee:{sectionType:"weekDay",contentType:"letter"},eeeee:{sectionType:"weekDay",contentType:"letter"},eeeeee:{sectionType:"weekDay",contentType:"letter"},c:{sectionType:"weekDay",contentType:"digit",maxLength:1},cc:"weekDay",ccc:{sectionType:"weekDay",contentType:"letter"},cccc:{sectionType:"weekDay",contentType:"letter"},ccccc:{sectionType:"weekDay",contentType:"letter"},cccccc:{sectionType:"weekDay",contentType:"letter"},a:"meridiem",aa:"meridiem",aaa:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},W3={year:"yyyy",month:"LLLL",monthShort:"MMM",dayOfMonth:"d",weekday:"EEEE",weekdayShort:"EEEEEE",hours24h:"HH",hours12h:"hh",meridiem:"aa",minutes:"mm",seconds:"ss",fullDate:"PP",fullDateWithWeekday:"PPPP",keyboardDate:"P",shortDate:"MMM d",normalDate:"d MMMM",normalDateWithWeekday:"EEE, MMM d",monthAndYear:"LLLL yyyy",monthAndDate:"MMMM d",fullTime:"p",fullTime12h:"hh:mm aa",fullTime24h:"HH:mm",fullDateTime:"PP p",fullDateTime12h:"PP hh:mm aa",fullDateTime24h:"PP HH:mm",keyboardDateTime:"P p",keyboardDateTime12h:"P hh:mm aa",keyboardDateTime24h:"P HH:mm"};class H3{constructor(t){this.isMUIAdapter=!0,this.isTimezoneCompatible=!1,this.lib="date-fns",this.locale=void 0,this.formats=void 0,this.formatTokenMap=z3,this.escapedCharacters={start:"'",end:"'"},this.longFormatters=void 0,this.date=i=>typeof i>"u"?new Date:i===null?null:new Date(i),this.dateWithTimezone=i=>this.date(i),this.getTimezone=()=>"default",this.setTimezone=i=>i,this.toJsDate=i=>i,this.getCurrentLocaleCode=()=>{var i;return((i=this.locale)==null?void 0:i.code)||"en-US"},this.is12HourCycleInCurrentLocale=()=>this.locale?/a/.test(this.locale.formatLong.time({width:"short"})):!0,this.expandFormat=i=>{const a=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;return i.match(a).map(l=>{const c=l[0];if(c==="p"||c==="P"){const d=this.longFormatters[c];return d(l,this.locale.formatLong)}return l}).join("")},this.getFormatHelperText=i=>this.expandFormat(i).replace(/(aaa|aa|a)/g,"(a|p)m").toLocaleLowerCase(),this.isNull=i=>i===null,this.formatNumber=i=>i,this.getMeridiemText=i=>i==="am"?"AM":"PM";const{locale:n,formats:r,longFormatters:o}=t;this.locale=n,this.formats=C({},W3,r),this.longFormatters=o}}class U3 extends H3{constructor({locale:t,formats:n}={}){if(typeof Mr!="function")throw new Error(["MUI: The `date-fns` package v3.x is not compatible with this adapter.","Please, install v2.x of the package or use the `AdapterDateFnsV3` instead."].join(`
`));super({locale:t??Tp,formats:n,longFormatters:F3}),this.parseISO=r=>LO(r),this.toISO=r=>S4(r,{format:"extended"}),this.parse=(r,o)=>r===""?null:ln(r,o,new Date,{locale:this.locale}),this.isValid=r=>Mx(this.date(r)),this.format=(r,o)=>this.formatByString(r,this.formats[o]),this.formatByString=(r,o)=>Le(r,o,{locale:this.locale}),this.getDiff=(r,o,i)=>{switch(i){case"years":return M$(r,this.date(o));case"quarters":return _$(r,this.date(o));case"months":return Nx(r,this.date(o));case"weeks":return E$(r,this.date(o));case"days":return Px(r,this.date(o));case"hours":return j$(r,this.date(o));case"minutes":return k$(r,this.date(o));case"seconds":return T$(r,this.date(o));default:return jc(r,this.date(o))}},this.isEqual=(r,o)=>r===null&&o===null?!0:O4(r,o),this.isSameYear=(r,o)=>$O(r,o),this.isSameMonth=(r,o)=>AO(r,o),this.isSameDay=(r,o)=>Ex(r,o),this.isSameHour=(r,o)=>RO(r,o),this.isAfter=(r,o)=>Gn(r,o),this.isAfterYear=(r,o)=>Gn(r,id(o)),this.isAfterDay=(r,o)=>Gn(r,nu(o)),this.isBefore=(r,o)=>Jt(r,o),this.isBeforeYear=(r,o)=>Jt(r,Ca(o)),this.isBeforeDay=(r,o)=>Jt(r,Ts(o)),this.isWithinRange=(r,[o,i])=>OO(r,{start:o,end:i}),this.startOfYear=r=>Ca(r),this.startOfMonth=r=>Mm(r),this.startOfWeek=r=>ys(r,{locale:this.locale}),this.startOfDay=r=>Ts(r),this.endOfYear=r=>id(r),this.endOfMonth=r=>ru(r),this.endOfWeek=r=>ad(r,{locale:this.locale}),this.endOfDay=r=>nu(r),this.addYears=(r,o)=>_m(r,o),this.addMonths=(r,o)=>La(r,o),this.addWeeks=(r,o)=>v$(r,o),this.addDays=(r,o)=>Mr(r,o),this.addHours=(r,o)=>u$(r,o),this.addMinutes=(r,o)=>Gr(r,o),this.addSeconds=(r,o)=>g$(r,o),this.getYear=r=>$4(r),this.getMonth=r=>P4(r),this.getDate=r=>_4(r),this.getHours=r=>T4(r),this.getMinutes=r=>M4(r),this.getSeconds=r=>N4(r),this.getMilliseconds=r=>E4(r),this.setYear=(r,o)=>s3(r,o),this.setMonth=(r,o)=>e3(r,o),this.setDate=(r,o)=>t3(r,o),this.setHours=(r,o)=>qx(r,o),this.setMinutes=(r,o)=>Kx(r,o),this.setSeconds=(r,o)=>r3(r,o),this.setMilliseconds=(r,o)=>n3(r,o),this.getDaysInMonth=r=>Fx(r),this.getNextMonth=r=>La(r,1),this.getPreviousMonth=r=>La(r,-1),this.getMonthArray=r=>{const i=[Ca(r)];for(;i.length<12;){const a=i[i.length-1];i.push(this.getNextMonth(a))}return i},this.mergeDateAndTime=(r,o)=>this.setSeconds(this.setMinutes(this.setHours(r,this.getHours(o)),this.getMinutes(o)),this.getSeconds(o)),this.getWeekdays=()=>{const r=new Date;return P$({start:ys(r,{locale:this.locale}),end:ad(r,{locale:this.locale})}).map(o=>this.formatByString(o,"EEEEEE"))},this.getWeekArray=r=>{const o=ys(Mm(r),{locale:this.locale}),i=ad(ru(r),{locale:this.locale});let a=0,l=o;const c=[];for(;Jt(l,i);){const d=Math.floor(a/7);c[d]=c[d]||[],c[d].push(l),l=Mr(l,1),a+=1}return c},this.getWeekNumber=r=>A4(r,{locale:this.locale}),this.getYearRange=(r,o)=>{const i=Ca(r),a=id(o),l=[];let c=i;for(;Jt(c,a);)l.push(c),c=_m(c,1);return l}}}const V3=["localeText"],iu=h.createContext(null),Y3=function(t){var n;const{localeText:r}=t,o=ne(t,V3),{utils:i,localeText:a}=(n=h.useContext(iu))!=null?n:{utils:void 0,localeText:void 0},l=Wn({props:o,name:"MuiLocalizationProvider"}),{children:c,dateAdapter:d,dateFormats:u,dateLibInstance:p,adapterLocale:f,localeText:g}=l,v=h.useMemo(()=>C({},g,a,r),[g,a,r]),y=h.useMemo(()=>{if(!d)return i||null;const j=new d({locale:f,formats:u,instance:p});if(!j.isMUIAdapter)throw new Error(["MUI: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join(`
`));return j},[d,f,u,p,i]),m=h.useMemo(()=>y?{minDate:y.date("1900-01-01T00:00:00.000"),maxDate:y.date("2099-12-31T00:00:00.000")}:null,[y]),x=h.useMemo(()=>({utils:y,defaultDates:m,localeText:v}),[m,y,v]);return s.jsx(iu.Provider,{value:x,children:c})};function G3(e){return typeof e=="string"}function q3(e,t,n){return e===void 0||G3(e)?t:{...t,ownerState:{...t.ownerState,...n}}}function K3(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function Q3(e,t,n){return typeof e=="function"?e(t,n):e}function X3(...e){const t=h.useRef(void 0),n=h.useCallback(r=>{const o=e.map(i=>{if(i==null)return null;if(typeof i=="function"){const a=i,l=a(r);return typeof l=="function"?l:()=>{a(null)}}return i.current=r,()=>{i.current=null}});return()=>{o.forEach(i=>i==null?void 0:i())}},e);return h.useMemo(()=>e.every(r=>r==null)?null:r=>{t.current&&(t.current(),t.current=void 0),r!=null&&(t.current=n(r))},e)}function Fm(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function Z3(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:o,className:i}=e;if(!t){const g=ae(n==null?void 0:n.className,i,o==null?void 0:o.className,r==null?void 0:r.className),v={...n==null?void 0:n.style,...o==null?void 0:o.style,...r==null?void 0:r.style},y={...n,...o,...r};return g.length>0&&(y.className=g),Object.keys(v).length>0&&(y.style=v),{props:y,internalRef:void 0}}const a=K3({...o,...r}),l=Fm(r),c=Fm(o),d=t(a),u=ae(d==null?void 0:d.className,n==null?void 0:n.className,i,o==null?void 0:o.className,r==null?void 0:r.className),p={...d==null?void 0:d.style,...n==null?void 0:n.style,...o==null?void 0:o.style,...r==null?void 0:r.style},f={...d,...n,...c,...l};return u.length>0&&(f.className=u),Object.keys(p).length>0&&(f.style=p),{props:f,internalRef:d.ref}}function qr(e){var p;const{elementType:t,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:o=!1,...i}=e,a=o?{}:Q3(n,r),{props:l,internalRef:c}=Z3({...i,externalSlotProps:a}),d=X3(c,a==null?void 0:a.ref,(p=e.additionalProps)==null?void 0:p.ref);return q3(t,{...l,ref:d},r)}const yl=(e,t,n)=>{let r=t;return r=e.setHours(r,e.getHours(n)),r=e.setMinutes(r,e.getMinutes(n)),r=e.setSeconds(r,e.getSeconds(n)),r},wi=({date:e,disableFuture:t,disablePast:n,maxDate:r,minDate:o,isDateDisabled:i,utils:a,timezone:l})=>{const c=yl(a,a.dateWithTimezone(void 0,l),e);n&&a.isBefore(o,c)&&(o=c),t&&a.isAfter(r,c)&&(r=c);let d=e,u=e;for(a.isBefore(e,o)&&(d=o,u=null),a.isAfter(e,r)&&(u&&(u=r),d=null);d||u;){if(d&&a.isAfter(d,r)&&(d=null),u&&a.isBefore(u,o)&&(u=null),d){if(!i(d))return d;d=a.addDays(d,1)}if(u){if(!i(u))return u;u=a.addDays(u,-1)}}return null},J3=(e,t)=>t==null||!e.isValid(t)?null:t,ts=(e,t,n)=>t==null||!e.isValid(t)?n:t,e5=(e,t,n)=>!e.isValid(t)&&t!=null&&!e.isValid(n)&&n!=null?!0:e.isEqual(t,n),t5=(e,t)=>{const r=[e.startOfYear(t)];for(;r.length<12;){const o=r[r.length-1];r.push(e.addMonths(o,1))}return r},Qx=(e,t,n)=>n==="date"?e.startOfDay(e.dateWithTimezone(void 0,t)):e.dateWithTimezone(void 0,t),n5=(e,t)=>{const n=e.startOfWeek(t);return[0,1,2,3,4,5,6].map(r=>e.addDays(n,r))},r5=({props:e,value:t,adapter:n})=>{if(t===null)return null;const{shouldDisableDate:r,shouldDisableMonth:o,shouldDisableYear:i,disablePast:a,disableFuture:l,timezone:c}=e,d=n.utils.dateWithTimezone(void 0,c),u=ts(n.utils,e.minDate,n.defaultDates.minDate),p=ts(n.utils,e.maxDate,n.defaultDates.maxDate);switch(!0){case!n.utils.isValid(t):return"invalidDate";case!!(r&&r(t)):return"shouldDisableDate";case!!(o&&o(t)):return"shouldDisableMonth";case!!(i&&i(t)):return"shouldDisableYear";case!!(l&&n.utils.isAfterDay(t,d)):return"disableFuture";case!!(a&&n.utils.isBeforeDay(t,d)):return"disablePast";case!!(u&&n.utils.isBeforeDay(t,u)):return"minDate";case!!(p&&n.utils.isAfterDay(t,p)):return"maxDate";default:return null}},s5=e=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:C({},e)}}}}),Xx={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"open previous view",openNextView:"open next view",calendarViewSwitchingButtonAriaLabel:e=>e==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",clockLabelText:(e,t,n)=>`Select ${e}. ${t===null?"No time selected":`Selected time is ${n.format(t,"fullTime")}`}`,hoursClockNumberText:e=>`${e} hours`,minutesClockNumberText:e=>`${e} minutes`,secondsClockNumberText:e=>`${e} seconds`,selectViewText:e=>`Select ${e}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:e=>`Week ${e}`,calendarWeekNumberText:e=>`${e}`,openDatePickerDialogue:(e,t)=>e!==null&&t.isValid(e)?`Choose date, selected date is ${t.format(e,"fullDate")}`:"Choose date",openTimePickerDialogue:(e,t)=>e!==null&&t.isValid(e)?`Choose time, selected time is ${t.format(e,"fullTime")}`:"Choose time",fieldClearLabel:"Clear value",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:e=>"Y".repeat(e.digitAmount),fieldMonthPlaceholder:e=>e.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:e=>e.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa"},o5=Xx;s5(Xx);const kc=()=>{const e=h.useContext(iu);if(e===null)throw new Error(["MUI: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(e.utils===null)throw new Error(["MUI: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const t=h.useMemo(()=>C({},o5,e.localeText),[e.localeText]);return h.useMemo(()=>C({},e,{localeText:t}),[e,t])},pn=()=>kc().utils,Np=()=>kc().defaultDates,Zx=()=>kc().localeText,Sc=e=>{const t=pn(),n=h.useRef();return n.current===void 0&&(n.current=t.dateWithTimezone(void 0,e)),n.current},Jx=({shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:n,minDate:r,maxDate:o,disableFuture:i,disablePast:a,timezone:l})=>{const c=kc();return h.useCallback(d=>r5({adapter:c,value:d,props:{shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:n,minDate:r,maxDate:o,disableFuture:i,disablePast:a,timezone:l}})!==null,[c,e,t,n,r,o,i,a,l])},zm=(e,t)=>t.getHours(e)*3600+t.getMinutes(e)*60+t.getSeconds(e),i5=(e,t)=>(n,r)=>e?t.isAfter(n,r):zm(n,t)>zm(r,t),Cr={year:1,month:2,day:3,minutes:5,seconds:6,milliseconds:7},oi=(e,t,n)=>{if(t===Cr.year)return e.startOfYear(n);if(t===Cr.month)return e.startOfMonth(n);if(t===Cr.day)return e.startOfDay(n);let r=n;return t<Cr.minutes&&(r=e.setMinutes(r,0)),t<Cr.seconds&&(r=e.setSeconds(r,0)),t<Cr.milliseconds&&(r=e.setMilliseconds(r,0)),r},a5=({props:e,utils:t,granularity:n,timezone:r,getTodayDate:o})=>{var i;let a=o?o():oi(t,n,Qx(t,r));e.minDate!=null&&t.isAfterDay(e.minDate,a)&&(a=oi(t,n,e.minDate)),e.maxDate!=null&&t.isBeforeDay(e.maxDate,a)&&(a=oi(t,n,e.maxDate));const l=i5((i=e.disableIgnoringDatePartForTimeValidation)!=null?i:!1,t);return e.minTime!=null&&l(e.minTime,a)&&(a=oi(t,n,e.disableIgnoringDatePartForTimeValidation?e.minTime:yl(t,a,e.minTime))),e.maxTime!=null&&l(a,e.maxTime)&&(a=oi(t,n,e.disableIgnoringDatePartForTimeValidation?e.maxTime:yl(t,a,e.maxTime))),a},l5=["value","referenceDate"],Co={emptyValue:null,getTodayValue:Qx,getInitialReferenceValue:e=>{let{value:t,referenceDate:n}=e,r=ne(e,l5);return t!=null&&r.utils.isValid(t)?t:n??a5(r)},cleanValue:J3,areValuesEqual:e5,isSameError:(e,t)=>e===t,hasError:e=>e!=null,defaultErrorState:null,getTimezone:(e,t)=>t==null||!e.isValid(t)?null:e.getTimezone(t),setTimezone:(e,t,n)=>n==null?null:e.setTimezone(n,t)},c5=(e,t,n)=>(r,o)=>{switch(o.type){case"changeMonth":return C({},r,{slideDirection:o.direction,currentMonth:o.newMonth,isMonthSwitchingAnimating:!e});case"finishMonthSwitchingAnimation":return C({},r,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(r.focusedDay!=null&&o.focusedDay!=null&&n.isSameDay(o.focusedDay,r.focusedDay))return r;const i=o.focusedDay!=null&&!t&&!n.isSameMonth(r.currentMonth,o.focusedDay);return C({},r,{focusedDay:o.focusedDay,isMonthSwitchingAnimating:i&&!e&&!o.withoutMonthSwitchingAnimation,currentMonth:i?n.startOfMonth(o.focusedDay):r.currentMonth,slideDirection:o.focusedDay!=null&&n.isAfterDay(o.focusedDay,r.currentMonth)?"left":"right"})}default:throw new Error("missing support")}},d5=e=>{const{value:t,referenceDate:n,defaultCalendarMonth:r,disableFuture:o,disablePast:i,disableSwitchToMonthOnDayFocus:a=!1,maxDate:l,minDate:c,onMonthChange:d,reduceAnimations:u,shouldDisableDate:p,timezone:f}=e,g=pn(),v=h.useRef(c5(!!u,a,g)).current,y=h.useMemo(()=>{let E=null;return n?E=n:r&&(E=g.startOfMonth(r)),Co.getInitialReferenceValue({value:t,utils:g,timezone:f,props:e,referenceDate:E,granularity:Cr.day})},[]),[m,x]=h.useReducer(v,{isMonthSwitchingAnimating:!1,focusedDay:y,currentMonth:g.startOfMonth(y),slideDirection:"left"}),j=h.useCallback(E=>{x(C({type:"changeMonth"},E)),d&&d(E.newMonth)},[d]),b=h.useCallback(E=>{const _=E;g.isSameMonth(_,m.currentMonth)||j({newMonth:g.startOfMonth(_),direction:g.isAfterDay(_,m.currentMonth)?"left":"right"})},[m.currentMonth,j,g]),w=Jx({shouldDisableDate:p,minDate:c,maxDate:l,disableFuture:o,disablePast:i,timezone:f}),N=h.useCallback(()=>{x({type:"finishMonthSwitchingAnimation"})},[]),k=Oe((E,_)=>{w(E)||x({type:"changeFocusedDay",focusedDay:E,withoutMonthSwitchingAnimation:_})});return{referenceDate:y,calendarState:m,changeMonth:b,changeFocusedDay:k,isDateDisabled:w,onMonthSwitchingAnimationEnd:N,handleChangeMonth:j}},u5=e=>ye("MuiPickersFadeTransitionGroup",e);xe("MuiPickersFadeTransitionGroup",["root"]);const p5=e=>{const{classes:t}=e;return we({root:["root"]},u5,t)},h5=Q(Ji,{name:"MuiPickersFadeTransitionGroup",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"block",position:"relative"});function eb(e){const t=Wn({props:e,name:"MuiPickersFadeTransitionGroup"}),{children:n,className:r,reduceAnimations:o,transKey:i}=t,a=p5(t),l=Kn();return o?n:s.jsx(h5,{className:ae(a.root,r),children:s.jsx(na,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:l.transitions.duration.enteringScreen,enter:l.transitions.duration.enteringScreen,exit:0},children:n},i)})}const Ai=36,_c=2,Ip=320,f5=280,tb=334;function m5(e){return ye("MuiPickersDay",e)}const as=xe("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),g5=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today","isFirstVisibleCell","isLastVisibleCell"],v5=e=>{const{selected:t,disableMargin:n,disableHighlightToday:r,today:o,disabled:i,outsideCurrentMonth:a,showDaysOutsideCurrentMonth:l,classes:c}=e,d=a&&!l;return we({root:["root",t&&!d&&"selected",i&&"disabled",!n&&"dayWithMargin",!r&&o&&"today",a&&l&&"dayOutsideMonth",d&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},m5,c)},nb=({theme:e,ownerState:t})=>C({},e.typography.caption,{width:Ai,height:Ai,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:e.transitions.create("background-color",{duration:e.transitions.duration.short}),color:(e.vars||e).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:oo(e.palette.primary.main,e.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:oo(e.palette.primary.main,e.palette.action.focusOpacity),[`&.${as.selected}`]:{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${as.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,fontWeight:e.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${as.disabled}:not(.${as.selected})`]:{color:(e.vars||e).palette.text.disabled},[`&.${as.disabled}&.${as.selected}`]:{opacity:.6}},!t.disableMargin&&{margin:`0 ${_c}px`},t.outsideCurrentMonth&&t.showDaysOutsideCurrentMonth&&{color:(e.vars||e).palette.text.secondary},!t.disableHighlightToday&&t.today&&{[`&:not(.${as.selected})`]:{border:`1px solid ${(e.vars||e).palette.text.secondary}`}}),rb=(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableMargin&&t.dayWithMargin,!n.disableHighlightToday&&n.today&&t.today,!n.outsideCurrentMonth&&n.showDaysOutsideCurrentMonth&&t.dayOutsideMonth,n.outsideCurrentMonth&&!n.showDaysOutsideCurrentMonth&&t.hiddenDaySpacingFiller]},y5=Q(Jr,{name:"MuiPickersDay",slot:"Root",overridesResolver:rb})(nb),x5=Q("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:rb})(({theme:e,ownerState:t})=>C({},nb({theme:e,ownerState:t}),{opacity:0,pointerEvents:"none"})),ii=()=>{},b5=h.forwardRef(function(t,n){const r=Wn({props:t,name:"MuiPickersDay"}),{autoFocus:o=!1,className:i,day:a,disabled:l=!1,disableHighlightToday:c=!1,disableMargin:d=!1,isAnimating:u,onClick:p,onDaySelect:f,onFocus:g=ii,onBlur:v=ii,onKeyDown:y=ii,onMouseDown:m=ii,onMouseEnter:x=ii,outsideCurrentMonth:j,selected:b=!1,showDaysOutsideCurrentMonth:w=!1,children:N,today:k=!1}=r,E=ne(r,g5),_=C({},r,{autoFocus:o,disabled:l,disableHighlightToday:c,disableMargin:d,selected:b,showDaysOutsideCurrentMonth:w,today:k}),D=v5(_),S=pn(),T=h.useRef(null),$=jt(T,n);dn(()=>{o&&!l&&!u&&!j&&T.current.focus()},[o,l,u,j]);const O=P=>{m(P),j&&P.preventDefault()},M=P=>{l||f(a),j&&P.currentTarget.focus(),p&&p(P)};return j&&!w?s.jsx(x5,{className:ae(D.root,D.hiddenDaySpacingFiller,i),ownerState:_,role:E.role}):s.jsx(y5,C({className:ae(D.root,i),ref:$,centerRipple:!0,disabled:l,tabIndex:b?0:-1,onKeyDown:P=>y(P,a),onFocus:P=>g(P,a),onBlur:P=>v(P,a),onMouseEnter:P=>x(P,a),onClick:M,onMouseDown:O},E,{ownerState:_,children:N||S.format(a,"dayOfMonth")}))}),w5=h.memo(b5),C5=e=>ye("MuiPickersSlideTransition",e),En=xe("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),j5=["children","className","reduceAnimations","slideDirection","transKey","classes"],k5=e=>{const{classes:t,slideDirection:n}=e,r={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${n}`],exitActive:[`slideExitActiveLeft-${n}`]};return we(r,C5,t)},S5=Q(Ji,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`.${En["slideEnter-left"]}`]:t["slideEnter-left"]},{[`.${En["slideEnter-right"]}`]:t["slideEnter-right"]},{[`.${En.slideEnterActive}`]:t.slideEnterActive},{[`.${En.slideExit}`]:t.slideExit},{[`.${En["slideExitActiveLeft-left"]}`]:t["slideExitActiveLeft-left"]},{[`.${En["slideExitActiveLeft-right"]}`]:t["slideExitActiveLeft-right"]}]})(({theme:e})=>{const t=e.transitions.create("transform",{duration:e.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${En["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${En["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${En.slideEnterActive}`]:{transform:"translate(0%)",transition:t},[`& .${En.slideExit}`]:{transform:"translate(0%)"},[`& .${En["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:t,zIndex:0},[`& .${En["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:t,zIndex:0}}});function _5(e){const t=Wn({props:e,name:"MuiPickersSlideTransition"}),{children:n,className:r,reduceAnimations:o,transKey:i}=t,a=ne(t,j5),l=k5(t),c=Kn();if(o)return s.jsx("div",{className:ae(l.root,r),children:n});const d={exit:l.exit,enterActive:l.enterActive,enter:l.enter,exitActive:l.exitActive};return s.jsx(S5,{className:ae(l.root,r),childFactory:u=>h.cloneElement(u,{classNames:d}),role:"presentation",children:s.jsx(np,C({mountOnEnter:!0,unmountOnExit:!0,timeout:c.transitions.duration.complex,classNames:d},a,{children:n}),i)})}const T5=e=>ye("MuiDayCalendar",e);xe("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const E5=["parentProps","day","focusableDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],M5=["ownerState"],P5=e=>{const{classes:t}=e;return we({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},T5,t)},sb=(Ai+_c*2)*6,N5=Q("div",{name:"MuiDayCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({}),I5=Q("div",{name:"MuiDayCalendar",slot:"Header",overridesResolver:(e,t)=>t.header})({display:"flex",justifyContent:"center",alignItems:"center"}),D5=Q(z,{name:"MuiDayCalendar",slot:"WeekDayLabel",overridesResolver:(e,t)=>t.weekDayLabel})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.secondary})),R5=Q(z,{name:"MuiDayCalendar",slot:"WeekNumberLabel",overridesResolver:(e,t)=>t.weekNumberLabel})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:e.palette.text.disabled})),A5=Q(z,{name:"MuiDayCalendar",slot:"WeekNumber",overridesResolver:(e,t)=>t.weekNumber})(({theme:e})=>C({},e.typography.caption,{width:Ai,height:Ai,padding:0,margin:`0 ${_c}px`,color:e.palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),$5=Q("div",{name:"MuiDayCalendar",slot:"LoadingContainer",overridesResolver:(e,t)=>t.loadingContainer})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:sb}),O5=Q(_5,{name:"MuiDayCalendar",slot:"SlideTransition",overridesResolver:(e,t)=>t.slideTransition})({minHeight:sb}),L5=Q("div",{name:"MuiDayCalendar",slot:"MonthContainer",overridesResolver:(e,t)=>t.monthContainer})({overflow:"hidden"}),B5=Q("div",{name:"MuiDayCalendar",slot:"WeekContainer",overridesResolver:(e,t)=>t.weekContainer})({margin:`${_c}px 0`,display:"flex",justifyContent:"center"});function F5(e){var t,n,r;let{parentProps:o,day:i,focusableDay:a,selectedDays:l,isDateDisabled:c,currentMonthNumber:d,isViewFocused:u}=e,p=ne(e,E5);const{disabled:f,disableHighlightToday:g,isMonthSwitchingAnimating:v,showDaysOutsideCurrentMonth:y,components:m,componentsProps:x,slots:j,slotProps:b,timezone:w}=o,N=pn(),k=Sc(w),E=a!==null&&N.isSameDay(i,a),_=l.some(R=>N.isSameDay(R,i)),D=N.isSameDay(i,k),S=(t=(n=j==null?void 0:j.day)!=null?n:m==null?void 0:m.Day)!=null?t:w5,T=qr({elementType:S,externalSlotProps:(r=b==null?void 0:b.day)!=null?r:x==null?void 0:x.day,additionalProps:C({disableHighlightToday:g,showDaysOutsideCurrentMonth:y,role:"gridcell",isAnimating:v,"data-timestamp":N.toJsDate(i).valueOf()},p),ownerState:C({},o,{day:i,selected:_})}),$=ne(T,M5),O=h.useMemo(()=>f||c(i),[f,c,i]),M=h.useMemo(()=>N.getMonth(i)!==d,[N,i,d]),P=h.useMemo(()=>{const R=N.startOfMonth(N.setMonth(i,d));return y?N.isSameDay(i,N.startOfWeek(R)):N.isSameDay(i,R)},[d,i,y,N]),L=h.useMemo(()=>{const R=N.endOfMonth(N.setMonth(i,d));return y?N.isSameDay(i,N.endOfWeek(R)):N.isSameDay(i,R)},[d,i,y,N]);return s.jsx(S,C({},$,{day:i,disabled:O,autoFocus:u&&E,today:D,outsideCurrentMonth:M,isFirstVisibleCell:P,isLastVisibleCell:L,selected:_,tabIndex:E?0:-1,"aria-selected":_,"aria-current":D?"date":void 0}))}function z5(e){const t=Wn({props:e,name:"MuiDayCalendar"}),{onFocusedDayChange:n,className:r,currentMonth:o,selectedDays:i,focusedDay:a,loading:l,onSelectedDaysChange:c,onMonthSwitchingAnimationEnd:d,readOnly:u,reduceAnimations:p,renderLoading:f=()=>s.jsx("span",{children:"..."}),slideDirection:g,TransitionProps:v,disablePast:y,disableFuture:m,minDate:x,maxDate:j,shouldDisableDate:b,shouldDisableMonth:w,shouldDisableYear:N,dayOfWeekFormatter:k,hasFocus:E,onFocusedViewChange:_,gridLabelId:D,displayWeekNumber:S,fixedWeekNumber:T,autoFocus:$,timezone:O}=t,M=Sc(O),P=pn(),L=P5(t),B=Kn().direction==="rtl",A=k||((ce,te)=>P.format(te,"weekdayShort").charAt(0).toUpperCase()),I=Jx({shouldDisableDate:b,shouldDisableMonth:w,shouldDisableYear:N,minDate:x,maxDate:j,disablePast:y,disableFuture:m,timezone:O}),F=Zx(),[V,Y]=fr({name:"DayCalendar",state:"hasFocus",controlled:E,default:$??!1}),[W,G]=h.useState(()=>a||M),H=Oe(ce=>{u||c(ce)}),K=ce=>{I(ce)||(n(ce),G(ce),_==null||_(!0),Y(!0))},X=Oe((ce,te)=>{switch(ce.key){case"ArrowUp":K(P.addDays(te,-7)),ce.preventDefault();break;case"ArrowDown":K(P.addDays(te,7)),ce.preventDefault();break;case"ArrowLeft":{const ke=P.addDays(te,B?1:-1),pe=P.addMonths(te,B?1:-1),De=wi({utils:P,date:ke,minDate:B?ke:P.startOfMonth(pe),maxDate:B?P.endOfMonth(pe):ke,isDateDisabled:I,timezone:O});K(De||ke),ce.preventDefault();break}case"ArrowRight":{const ke=P.addDays(te,B?-1:1),pe=P.addMonths(te,B?-1:1),De=wi({utils:P,date:ke,minDate:B?P.startOfMonth(pe):ke,maxDate:B?ke:P.endOfMonth(pe),isDateDisabled:I,timezone:O});K(De||ke),ce.preventDefault();break}case"Home":K(P.startOfWeek(te)),ce.preventDefault();break;case"End":K(P.endOfWeek(te)),ce.preventDefault();break;case"PageUp":K(P.addMonths(te,1)),ce.preventDefault();break;case"PageDown":K(P.addMonths(te,-1)),ce.preventDefault();break}}),q=Oe((ce,te)=>K(te)),ie=Oe((ce,te)=>{V&&P.isSameDay(W,te)&&(_==null||_(!1))}),J=P.getMonth(o),de=h.useMemo(()=>i.filter(ce=>!!ce).map(ce=>P.startOfDay(ce)),[P,i]),U=J,oe=h.useMemo(()=>h.createRef(),[U]),he=P.startOfWeek(M),Z=h.useMemo(()=>{const ce=P.startOfMonth(o),te=P.endOfMonth(o);return I(W)||P.isAfterDay(W,te)||P.isBeforeDay(W,ce)?wi({utils:P,date:W,minDate:ce,maxDate:te,disablePast:y,disableFuture:m,isDateDisabled:I,timezone:O}):W},[o,m,y,W,I,P,O]),le=h.useMemo(()=>{const ce=P.setTimezone(o,O),te=P.getWeekArray(ce);let ke=P.addMonths(ce,1);for(;T&&te.length<T;){const pe=P.getWeekArray(ke),De=P.isSameDay(te[te.length-1][0],pe[0][0]);pe.slice(De?1:0).forEach(Re=>{te.length<T&&te.push(Re)}),ke=P.addMonths(ke,1)}return te},[o,T,P,O]);return s.jsxs(N5,{role:"grid","aria-labelledby":D,className:L.root,children:[s.jsxs(I5,{role:"row",className:L.header,children:[S&&s.jsx(R5,{variant:"caption",role:"columnheader","aria-label":F.calendarWeekNumberHeaderLabel,className:L.weekNumberLabel,children:F.calendarWeekNumberHeaderText}),n5(P,M).map((ce,te)=>{var ke;const pe=P.format(ce,"weekdayShort");return s.jsx(D5,{variant:"caption",role:"columnheader","aria-label":P.format(P.addDays(he,te),"weekday"),className:L.weekDayLabel,children:(ke=A==null?void 0:A(pe,ce))!=null?ke:pe},pe+te.toString())})]}),l?s.jsx($5,{className:L.loadingContainer,children:f()}):s.jsx(O5,C({transKey:U,onExited:d,reduceAnimations:p,slideDirection:g,className:ae(r,L.slideTransition)},v,{nodeRef:oe,children:s.jsx(L5,{ref:oe,role:"rowgroup",className:L.monthContainer,children:le.map((ce,te)=>s.jsxs(B5,{role:"row",className:L.weekContainer,"aria-rowindex":te+1,children:[S&&s.jsx(A5,{className:L.weekNumber,role:"rowheader","aria-label":F.calendarWeekNumberAriaLabelText(P.getWeekNumber(ce[0])),children:F.calendarWeekNumberText(P.getWeekNumber(ce[0]))}),ce.map((ke,pe)=>s.jsx(F5,{parentProps:t,day:ke,selectedDays:de,focusableDay:Z,onKeyDown:X,onFocus:q,onBlur:ie,onDaySelect:H,isDateDisabled:I,currentMonthNumber:J,isViewFocused:V,"aria-colindex":pe+1},ke.toString()))]},`week-${ce[0]}`))})}))]})}function W5(e){return ye("MuiPickersMonth",e)}const ka=xe("MuiPickersMonth",["root","monthButton","disabled","selected"]),H5=["autoFocus","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","aria-label","monthsPerRow"],U5=e=>{const{disabled:t,selected:n,classes:r}=e;return we({root:["root"],monthButton:["monthButton",t&&"disabled",n&&"selected"]},W5,r)},V5=Q("div",{name:"MuiPickersMonth",slot:"Root",overridesResolver:(e,t)=>[t.root]})(({ownerState:e})=>({flexBasis:e.monthsPerRow===3?"33.3%":"25%",display:"flex",alignItems:"center",justifyContent:"center"})),Y5=Q("button",{name:"MuiPickersMonth",slot:"MonthButton",overridesResolver:(e,t)=>[t.monthButton,{[`&.${ka.disabled}`]:t.disabled},{[`&.${ka.selected}`]:t.selected}]})(({theme:e})=>C({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:oo(e.palette.action.active,e.palette.action.hoverOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:oo(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${ka.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${ka.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),G5=h.memo(function(t){const n=Wn({props:t,name:"MuiPickersMonth"}),{autoFocus:r,children:o,disabled:i,selected:a,value:l,tabIndex:c,onClick:d,onKeyDown:u,onFocus:p,onBlur:f,"aria-current":g,"aria-label":v}=n,y=ne(n,H5),m=h.useRef(null),x=U5(n);return dn(()=>{if(r){var j;(j=m.current)==null||j.focus()}},[r]),s.jsx(V5,C({className:x.root,ownerState:n},y,{children:s.jsx(Y5,{ref:m,disabled:i,type:"button",role:"radio",tabIndex:i?-1:c,"aria-current":g,"aria-checked":a,"aria-label":v,onClick:j=>d(j,l),onKeyDown:j=>u(j,l),onFocus:j=>p(j,l),onBlur:j=>f(j,l),className:x.monthButton,ownerState:n,children:o})}))});function q5(e){return ye("MuiMonthCalendar",e)}xe("MuiMonthCalendar",["root"]);const K5=({timezone:e,value:t,defaultValue:n,onChange:r,valueManager:o})=>{var i,a;const l=pn(),c=h.useRef(n),d=(i=t??c.current)!=null?i:o.emptyValue,u=h.useMemo(()=>o.getTimezone(l,d),[l,o,d]),p=Oe(y=>u==null?y:o.setTimezone(l,u,y)),f=(a=e??u)!=null?a:"default",g=h.useMemo(()=>o.setTimezone(l,f,d),[o,l,f,d]),v=Oe((y,...m)=>{const x=p(y);r==null||r(x,...m)});return{value:g,handleValueChange:v,timezone:f}},Dp=({name:e,timezone:t,value:n,defaultValue:r,onChange:o,valueManager:i})=>{const[a,l]=fr({name:e,state:"value",controlled:n,default:r??i.emptyValue}),c=Oe((d,...u)=>{l(d),o==null||o(d,...u)});return K5({timezone:t,value:a,defaultValue:void 0,onChange:c,valueManager:i})},Q5=["className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","autoFocus","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId"],X5=e=>{const{classes:t}=e;return we({root:["root"]},q5,t)};function Z5(e,t){const n=pn(),r=Np(),o=Wn({props:e,name:t});return C({disableFuture:!1,disablePast:!1},o,{minDate:ts(n,o.minDate,r.minDate),maxDate:ts(n,o.maxDate,r.maxDate)})}const J5=Q("div",{name:"MuiMonthCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexWrap:"wrap",alignContent:"stretch",padding:"0 4px",width:Ip,boxSizing:"border-box"}),eL=h.forwardRef(function(t,n){const r=Z5(t,"MuiMonthCalendar"),{className:o,value:i,defaultValue:a,referenceDate:l,disabled:c,disableFuture:d,disablePast:u,maxDate:p,minDate:f,onChange:g,shouldDisableMonth:v,readOnly:y,disableHighlightToday:m,autoFocus:x=!1,onMonthFocus:j,hasFocus:b,onFocusedViewChange:w,monthsPerRow:N=3,timezone:k,gridLabelId:E}=r,_=ne(r,Q5),{value:D,handleValueChange:S,timezone:T}=Dp({name:"MonthCalendar",timezone:k,value:i,defaultValue:a,onChange:g,valueManager:Co}),$=Sc(T),O=Eo(),M=pn(),P=h.useMemo(()=>Co.getInitialReferenceValue({value:D,utils:M,props:r,timezone:T,referenceDate:l,granularity:Cr.month}),[]),L=r,R=X5(L),B=h.useMemo(()=>M.getMonth($),[M,$]),A=h.useMemo(()=>D!=null?M.getMonth(D):m?null:M.getMonth(P),[D,M,m,P]),[I,F]=h.useState(()=>A||B),[V,Y]=fr({name:"MonthCalendar",state:"hasFocus",controlled:b,default:x??!1}),W=Oe(J=>{Y(J),w&&w(J)}),G=h.useCallback(J=>{const de=M.startOfMonth(u&&M.isAfter($,f)?$:f),U=M.startOfMonth(d&&M.isBefore($,p)?$:p),oe=M.startOfMonth(J);return M.isBefore(oe,de)||M.isAfter(oe,U)?!0:v?v(oe):!1},[d,u,p,f,$,v,M]),H=Oe((J,de)=>{if(y)return;const U=M.setMonth(D??P,de);S(U)}),K=Oe(J=>{G(M.setMonth(D??P,J))||(F(J),W(!0),j&&j(J))});h.useEffect(()=>{F(J=>A!==null&&J!==A?A:J)},[A]);const X=Oe((J,de)=>{switch(J.key){case"ArrowUp":K((12+de-3)%12),J.preventDefault();break;case"ArrowDown":K((12+de+3)%12),J.preventDefault();break;case"ArrowLeft":K((12+de+(O.direction==="ltr"?-1:1))%12),J.preventDefault();break;case"ArrowRight":K((12+de+(O.direction==="ltr"?1:-1))%12),J.preventDefault();break}}),q=Oe((J,de)=>{K(de)}),ie=Oe((J,de)=>{I===de&&W(!1)});return s.jsx(J5,C({ref:n,className:ae(R.root,o),ownerState:L,role:"radiogroup","aria-labelledby":E},_,{children:t5(M,D??P).map(J=>{const de=M.getMonth(J),U=M.format(J,"monthShort"),oe=M.format(J,"month"),he=de===A,Z=c||G(J);return s.jsx(G5,{selected:he,value:de,onClick:H,onKeyDown:X,autoFocus:V&&de===I,disabled:Z,tabIndex:de===I?0:-1,onFocus:q,onBlur:ie,"aria-current":B===de?"date":void 0,"aria-label":oe,monthsPerRow:N,children:U},U)})}))});function tL(e){return ye("MuiPickersYear",e)}const Sa=xe("MuiPickersYear",["root","yearButton","selected","disabled"]),nL=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","yearsPerRow"],rL=e=>{const{disabled:t,selected:n,classes:r}=e;return we({root:["root"],yearButton:["yearButton",t&&"disabled",n&&"selected"]},tL,r)},sL=Q("div",{name:"MuiPickersYear",slot:"Root",overridesResolver:(e,t)=>[t.root]})(({ownerState:e})=>({flexBasis:e.yearsPerRow===3?"33.3%":"25%",display:"flex",alignItems:"center",justifyContent:"center"})),oL=Q("button",{name:"MuiPickersYear",slot:"YearButton",overridesResolver:(e,t)=>[t.yearButton,{[`&.${Sa.disabled}`]:t.disabled},{[`&.${Sa.selected}`]:t.selected}]})(({theme:e})=>C({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{margin:"6px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.focusOpacity})`:oo(e.palette.action.active,e.palette.action.focusOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:oo(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${Sa.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${Sa.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),iL=h.memo(function(t){const n=Wn({props:t,name:"MuiPickersYear"}),{autoFocus:r,className:o,children:i,disabled:a,selected:l,value:c,tabIndex:d,onClick:u,onKeyDown:p,onFocus:f,onBlur:g,"aria-current":v}=n,y=ne(n,nL),m=h.useRef(null),x=rL(n);return h.useEffect(()=>{r&&m.current.focus()},[r]),s.jsx(sL,C({className:ae(x.root,o),ownerState:n},y,{children:s.jsx(oL,{ref:m,disabled:a,type:"button",role:"radio",tabIndex:a?-1:d,"aria-current":v,"aria-checked":l,onClick:j=>u(j,c),onKeyDown:j=>p(j,c),onFocus:j=>f(j,c),onBlur:j=>g(j,c),className:x.yearButton,ownerState:n,children:i})}))});function aL(e){return ye("MuiYearCalendar",e)}xe("MuiYearCalendar",["root"]);const lL=["autoFocus","className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsPerRow","timezone","gridLabelId"],cL=e=>{const{classes:t}=e;return we({root:["root"]},aL,t)};function dL(e,t){var n;const r=pn(),o=Np(),i=Wn({props:e,name:t});return C({disablePast:!1,disableFuture:!1},i,{yearsPerRow:(n=i.yearsPerRow)!=null?n:3,minDate:ts(r,i.minDate,o.minDate),maxDate:ts(r,i.maxDate,o.maxDate)})}const uL=Q("div",{name:"MuiYearCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",padding:"0 4px",width:Ip,maxHeight:f5,boxSizing:"border-box",position:"relative"}),pL=h.forwardRef(function(t,n){const r=dL(t,"MuiYearCalendar"),{autoFocus:o,className:i,value:a,defaultValue:l,referenceDate:c,disabled:d,disableFuture:u,disablePast:p,maxDate:f,minDate:g,onChange:v,readOnly:y,shouldDisableYear:m,disableHighlightToday:x,onYearFocus:j,hasFocus:b,onFocusedViewChange:w,yearsPerRow:N,timezone:k,gridLabelId:E}=r,_=ne(r,lL),{value:D,handleValueChange:S,timezone:T}=Dp({name:"YearCalendar",timezone:k,value:a,defaultValue:l,onChange:v,valueManager:Co}),$=Sc(T),O=Eo(),M=pn(),P=h.useMemo(()=>Co.getInitialReferenceValue({value:D,utils:M,props:r,timezone:T,referenceDate:c,granularity:Cr.year}),[]),L=r,R=cL(L),B=h.useMemo(()=>M.getYear($),[M,$]),A=h.useMemo(()=>D!=null?M.getYear(D):x?null:M.getYear(P),[D,M,x,P]),[I,F]=h.useState(()=>A||B),[V,Y]=fr({name:"YearCalendar",state:"hasFocus",controlled:b,default:o??!1}),W=Oe(U=>{Y(U),w&&w(U)}),G=h.useCallback(U=>{if(p&&M.isBeforeYear(U,$)||u&&M.isAfterYear(U,$)||g&&M.isBeforeYear(U,g)||f&&M.isAfterYear(U,f))return!0;if(!m)return!1;const oe=M.startOfYear(U);return m(oe)},[u,p,f,g,$,m,M]),H=Oe((U,oe)=>{if(y)return;const he=M.setYear(D??P,oe);S(he)}),K=Oe(U=>{G(M.setYear(D??P,U))||(F(U),W(!0),j==null||j(U))});h.useEffect(()=>{F(U=>A!==null&&U!==A?A:U)},[A]);const X=Oe((U,oe)=>{switch(U.key){case"ArrowUp":K(oe-N),U.preventDefault();break;case"ArrowDown":K(oe+N),U.preventDefault();break;case"ArrowLeft":K(oe+(O.direction==="ltr"?-1:1)),U.preventDefault();break;case"ArrowRight":K(oe+(O.direction==="ltr"?1:-1)),U.preventDefault();break}}),q=Oe((U,oe)=>{K(oe)}),ie=Oe((U,oe)=>{I===oe&&W(!1)}),J=h.useRef(null),de=jt(n,J);return h.useEffect(()=>{if(o||J.current===null)return;const U=J.current.querySelector('[tabindex="0"]');if(!U)return;const oe=U.offsetHeight,he=U.offsetTop,Z=J.current.clientHeight,le=J.current.scrollTop,ce=he+oe;oe>Z||he<le||(J.current.scrollTop=ce-Z/2-oe/2)},[o]),s.jsx(uL,C({ref:de,className:ae(R.root,i),ownerState:L,role:"radiogroup","aria-labelledby":E},_,{children:M.getYearRange(g,f).map(U=>{const oe=M.getYear(U),he=oe===A,Z=d||G(U);return s.jsx(iL,{selected:he,value:oe,onClick:H,onKeyDown:X,autoFocus:V&&oe===I,disabled:Z,tabIndex:oe===I?0:-1,onFocus:q,onBlur:ie,"aria-current":B===oe?"date":void 0,yearsPerRow:N,children:M.format(U,"year")},M.format(U,"year"))})}))});function hL({onChange:e,onViewChange:t,openTo:n,view:r,views:o,autoFocus:i,focusedView:a,onFocusedViewChange:l}){var c,d;const u=h.useRef(n),p=h.useRef(o),f=h.useRef(o.includes(n)?n:o[0]),[g,v]=fr({name:"useViews",state:"view",controlled:r,default:f.current}),y=h.useRef(i?g:null),[m,x]=fr({name:"useViews",state:"focusedView",controlled:a,default:y.current});h.useEffect(()=>{(u.current&&u.current!==n||p.current&&p.current.some(D=>!o.includes(D)))&&(v(o.includes(n)?n:o[0]),p.current=o,u.current=n)},[n,v,g,o]);const j=o.indexOf(g),b=(c=o[j-1])!=null?c:null,w=(d=o[j+1])!=null?d:null,N=Oe((D,S)=>{x(S?D:T=>D===T?null:T),l==null||l(D,S)}),k=Oe(D=>{N(D,!0),D!==g&&(v(D),t&&t(D))}),E=Oe(()=>{w&&k(w)}),_=Oe((D,S,T)=>{const $=S==="finish",O=T?o.indexOf(T)<o.length-1:!!w;if(e(D,$&&O?"partial":S,T),T&&T!==g){const P=o[o.indexOf(T)+1];P&&k(P)}else $&&E()});return{view:g,setView:k,focusedView:m,setFocusedView:N,nextView:w,previousView:b,defaultView:o.includes(n)?n:o[0],goToNextView:E,setValueAndGoToNextView:_}}const fL=e=>ye("MuiPickersCalendarHeader",e),mL=xe("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),gL=ge(s.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),vL=ge(s.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),yL=ge(s.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight");ge(s.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar");ge(s.jsxs(h.Fragment,{children:[s.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),s.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock");ge(s.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange");ge(s.jsxs(h.Fragment,{children:[s.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),s.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time");ge(s.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");function xL(e){return ye("MuiPickersArrowSwitcher",e)}xe("MuiPickersArrowSwitcher",["root","spacer","button"]);const bL=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel"],wL=["ownerState"],CL=["ownerState"],jL=Q("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex"}),kL=Q("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(e,t)=>t.spacer})(({theme:e})=>({width:e.spacing(3)})),Wm=Q(fn,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(e,t)=>t.button})(({ownerState:e})=>C({},e.hidden&&{visibility:"hidden"})),SL=e=>{const{classes:t}=e;return we({root:["root"],spacer:["spacer"],button:["button"]},xL,t)},_L=h.forwardRef(function(t,n){var r,o,i,a;const c=Kn().direction==="rtl",d=Wn({props:t,name:"MuiPickersArrowSwitcher"}),{children:u,className:p,slots:f,slotProps:g,isNextDisabled:v,isNextHidden:y,onGoToNext:m,nextLabel:x,isPreviousDisabled:j,isPreviousHidden:b,onGoToPrevious:w,previousLabel:N}=d,k=ne(d,bL),E=d,_=SL(E),D={isDisabled:v,isHidden:y,goTo:m,label:x},S={isDisabled:j,isHidden:b,goTo:w,label:N},T=(r=f==null?void 0:f.previousIconButton)!=null?r:Wm,$=qr({elementType:T,externalSlotProps:g==null?void 0:g.previousIconButton,additionalProps:{size:"medium",title:S.label,"aria-label":S.label,disabled:S.isDisabled,edge:"end",onClick:S.goTo},ownerState:C({},E,{hidden:S.isHidden}),className:_.button}),O=(o=f==null?void 0:f.nextIconButton)!=null?o:Wm,M=qr({elementType:O,externalSlotProps:g==null?void 0:g.nextIconButton,additionalProps:{size:"medium",title:D.label,"aria-label":D.label,disabled:D.isDisabled,edge:"start",onClick:D.goTo},ownerState:C({},E,{hidden:D.isHidden}),className:_.button}),P=(i=f==null?void 0:f.leftArrowIcon)!=null?i:vL,L=qr({elementType:P,externalSlotProps:g==null?void 0:g.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),R=ne(L,wL),B=(a=f==null?void 0:f.rightArrowIcon)!=null?a:yL,A=qr({elementType:B,externalSlotProps:g==null?void 0:g.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),I=ne(A,CL);return s.jsxs(jL,C({ref:n,className:ae(_.root,p),ownerState:E},k,{children:[s.jsx(T,C({},$,{children:c?s.jsx(B,C({},I)):s.jsx(P,C({},R))})),u?s.jsx(z,{variant:"subtitle1",component:"span",children:u}):s.jsx(kL,{className:_.spacer,ownerState:E}),s.jsx(O,C({},M,{children:c?s.jsx(P,C({},R)):s.jsx(B,C({},I))}))]}))});function TL(e,{disableFuture:t,maxDate:n,timezone:r}){const o=pn();return h.useMemo(()=>{const i=o.dateWithTimezone(void 0,r),a=o.startOfMonth(t&&o.isBefore(i,n)?i:n);return!o.isAfter(a,e)},[t,n,e,o,r])}function EL(e,{disablePast:t,minDate:n,timezone:r}){const o=pn();return h.useMemo(()=>{const i=o.dateWithTimezone(void 0,r),a=o.startOfMonth(t&&o.isAfter(i,n)?i:n);return!o.isBefore(a,e)},[t,n,e,o,r])}const ML=["slots","slotProps","components","componentsProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","timezone"],PL=["ownerState"],NL=e=>{const{classes:t}=e;return we({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},fL,t)},IL=Q("div",{name:"MuiPickersCalendarHeader",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",alignItems:"center",marginTop:16,marginBottom:8,paddingLeft:24,paddingRight:12,maxHeight:30,minHeight:30}),DL=Q("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer",overridesResolver:(e,t)=>t.labelContainer})(({theme:e})=>C({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},e.typography.body1,{fontWeight:e.typography.fontWeightMedium})),RL=Q("div",{name:"MuiPickersCalendarHeader",slot:"Label",overridesResolver:(e,t)=>t.label})({marginRight:6}),AL=Q(fn,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton",overridesResolver:(e,t)=>t.switchViewButton})(({ownerState:e})=>C({marginRight:"auto"},e.view==="year"&&{[`.${mL.switchViewIcon}`]:{transform:"rotate(180deg)"}})),$L=Q(gL,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon",overridesResolver:(e,t)=>t.switchViewIcon})(({theme:e})=>({willChange:"transform",transition:e.transitions.create("transform"),transform:"rotate(0deg)"})),OL=h.forwardRef(function(t,n){var r,o,i,a;const l=Zx(),c=pn(),d=Wn({props:t,name:"MuiPickersCalendarHeader"}),{slots:u,slotProps:p,components:f,currentMonth:g,disabled:v,disableFuture:y,disablePast:m,maxDate:x,minDate:j,onMonthChange:b,onViewChange:w,view:N,reduceAnimations:k,views:E,labelId:_,className:D,timezone:S}=d,T=ne(d,ML),$=d,O=NL(d),M=(r=(o=u==null?void 0:u.switchViewButton)!=null?o:f==null?void 0:f.SwitchViewButton)!=null?r:AL,P=qr({elementType:M,externalSlotProps:p==null?void 0:p.switchViewButton,additionalProps:{size:"small","aria-label":l.calendarViewSwitchingButtonAriaLabel(N)},ownerState:$,className:O.switchViewButton}),L=(i=(a=u==null?void 0:u.switchViewIcon)!=null?a:f==null?void 0:f.SwitchViewIcon)!=null?i:$L,R=qr({elementType:L,externalSlotProps:p==null?void 0:p.switchViewIcon,ownerState:void 0,className:O.switchViewIcon}),B=ne(R,PL),A=()=>b(c.addMonths(g,1),"left"),I=()=>b(c.addMonths(g,-1),"right"),F=TL(g,{disableFuture:y,maxDate:x,timezone:S}),V=EL(g,{disablePast:m,minDate:j,timezone:S}),Y=()=>{if(!(E.length===1||!w||v))if(E.length===2)w(E.find(W=>W!==N)||E[0]);else{const W=E.indexOf(N)!==0?0:1;w(E[W])}};return E.length===1&&E[0]==="year"?null:s.jsxs(IL,C({},T,{ownerState:$,className:ae(D,O.root),ref:n,children:[s.jsxs(DL,{role:"presentation",onClick:Y,ownerState:$,"aria-live":"polite",className:O.labelContainer,children:[s.jsx(eb,{reduceAnimations:k,transKey:c.format(g,"monthAndYear"),children:s.jsx(RL,{id:_,ownerState:$,className:O.label,children:c.format(g,"monthAndYear")})}),E.length>1&&!v&&s.jsx(M,C({},P,{children:s.jsx(L,C({},B))}))]}),s.jsx(na,{in:N==="day",children:s.jsx(_L,{slots:u,slotProps:p,onGoToPrevious:I,isPreviousDisabled:V,previousLabel:l.previousMonth,onGoToNext:A,isNextDisabled:F,nextLabel:l.nextMonth})})]}))}),LL=Q("div")({overflow:"hidden",width:Ip,maxHeight:tb,display:"flex",flexDirection:"column",margin:"0 auto"}),BL="@media (prefers-reduced-motion: reduce)",no=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),Hm=no&&no[1]?parseInt(no[1],10):null,Um=no&&no[2]?parseInt(no[2],10):null,FL=Hm&&Hm<10||Um&&Um<13||!1,zL=()=>jw(BL,{defaultMatches:!1})||FL,WL=e=>ye("MuiDateCalendar",e);xe("MuiDateCalendar",["root","viewTransitionContainer"]);const HL=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","defaultCalendarMonth","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","components","componentsProps","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsPerRow","monthsPerRow","timezone"],UL=e=>{const{classes:t}=e;return we({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},WL,t)};function VL(e,t){var n,r,o,i,a,l,c;const d=pn(),u=Np(),p=zL(),f=Wn({props:e,name:t});return C({},f,{loading:(n=f.loading)!=null?n:!1,disablePast:(r=f.disablePast)!=null?r:!1,disableFuture:(o=f.disableFuture)!=null?o:!1,openTo:(i=f.openTo)!=null?i:"day",views:(a=f.views)!=null?a:["year","day"],reduceAnimations:(l=f.reduceAnimations)!=null?l:p,renderLoading:(c=f.renderLoading)!=null?c:()=>s.jsx("span",{children:"..."}),minDate:ts(d,f.minDate,u.minDate),maxDate:ts(d,f.maxDate,u.maxDate)})}const YL=Q(LL,{name:"MuiDateCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"column",height:tb}),GL=Q(eb,{name:"MuiDateCalendar",slot:"ViewTransitionContainer",overridesResolver:(e,t)=>t.viewTransitionContainer})({}),qL=h.forwardRef(function(t,n){var r,o,i;const a=pn(),l=Mo(),c=VL(t,"MuiDateCalendar"),{autoFocus:d,onViewChange:u,value:p,defaultValue:f,referenceDate:g,disableFuture:v,disablePast:y,defaultCalendarMonth:m,onChange:x,onYearChange:j,onMonthChange:b,reduceAnimations:w,shouldDisableDate:N,shouldDisableMonth:k,shouldDisableYear:E,view:_,views:D,openTo:S,className:T,disabled:$,readOnly:O,minDate:M,maxDate:P,disableHighlightToday:L,focusedView:R,onFocusedViewChange:B,showDaysOutsideCurrentMonth:A,fixedWeekNumber:I,dayOfWeekFormatter:F,components:V,componentsProps:Y,slots:W,slotProps:G,loading:H,renderLoading:K,displayWeekNumber:X,yearsPerRow:q,monthsPerRow:ie,timezone:J}=c,de=ne(c,HL),{value:U,handleValueChange:oe,timezone:he}=Dp({name:"DateCalendar",timezone:J,value:p,defaultValue:f,onChange:x,valueManager:Co}),{view:Z,setView:le,focusedView:ce,setFocusedView:te,goToNextView:ke,setValueAndGoToNextView:pe}=hL({view:_,views:D,openTo:S,onChange:oe,onViewChange:u,autoFocus:d,focusedView:R,onFocusedViewChange:B}),{referenceDate:De,calendarState:Re,changeFocusedDay:Ee,changeMonth:et,handleChangeMonth:ht,isDateDisabled:fe,onMonthSwitchingAnimationEnd:ue}=d5({value:U,defaultCalendarMonth:m,referenceDate:g,reduceAnimations:w,onMonthChange:b,minDate:M,maxDate:P,shouldDisableDate:N,disablePast:y,disableFuture:v,timezone:he}),me=$&&U||M,Ae=$&&U||P,Bt=`${l}-grid-label`,Tt=ce!==null,Me=(r=(o=W==null?void 0:W.calendarHeader)!=null?o:V==null?void 0:V.CalendarHeader)!=null?r:OL,tt=qr({elementType:Me,externalSlotProps:(i=G==null?void 0:G.calendarHeader)!=null?i:Y==null?void 0:Y.calendarHeader,additionalProps:{views:D,view:Z,currentMonth:Re.currentMonth,onViewChange:le,onMonthChange:(xt,wn)=>ht({newMonth:xt,direction:wn}),minDate:me,maxDate:Ae,disabled:$,disablePast:y,disableFuture:v,reduceAnimations:w,timezone:he,labelId:Bt,slots:W,slotProps:G},ownerState:c}),mt=Oe(xt=>{const wn=a.startOfMonth(xt),os=a.endOfMonth(xt),Zn=fe(xt)?wi({utils:a,date:xt,minDate:a.isBefore(M,wn)?wn:M,maxDate:a.isAfter(P,os)?os:P,disablePast:y,disableFuture:v,isDateDisabled:fe,timezone:he}):xt;Zn?(pe(Zn,"finish"),b==null||b(wn)):(ke(),et(wn)),Ee(Zn,!0)}),sn=Oe(xt=>{const wn=a.startOfYear(xt),os=a.endOfYear(xt),Zn=fe(xt)?wi({utils:a,date:xt,minDate:a.isBefore(M,wn)?wn:M,maxDate:a.isAfter(P,os)?os:P,disablePast:y,disableFuture:v,isDateDisabled:fe,timezone:he}):xt;Zn?(pe(Zn,"finish"),j==null||j(Zn)):(ke(),et(wn)),Ee(Zn,!0)}),Ft=Oe(xt=>oe(xt&&yl(a,xt,U??De),"finish",Z));h.useEffect(()=>{U!=null&&a.isValid(U)&&et(U)},[U]);const bn=c,Qn=UL(bn),br={disablePast:y,disableFuture:v,maxDate:P,minDate:M},Xn={disableHighlightToday:L,readOnly:O,disabled:$,timezone:he,gridLabelId:Bt},Br=h.useRef(Z);h.useEffect(()=>{Br.current!==Z&&(ce===Br.current&&te(Z,!0),Br.current=Z)},[ce,te,Z]);const Is=h.useMemo(()=>[U],[U]);return s.jsxs(YL,C({ref:n,className:ae(Qn.root,T),ownerState:bn},de,{children:[s.jsx(Me,C({},tt)),s.jsx(GL,{reduceAnimations:w,className:Qn.viewTransitionContainer,transKey:Z,ownerState:bn,children:s.jsxs("div",{children:[Z==="year"&&s.jsx(pL,C({},br,Xn,{value:U,onChange:sn,shouldDisableYear:E,hasFocus:Tt,onFocusedViewChange:xt=>te("year",xt),yearsPerRow:q,referenceDate:De})),Z==="month"&&s.jsx(eL,C({},br,Xn,{hasFocus:Tt,className:T,value:U,onChange:mt,shouldDisableMonth:k,onFocusedViewChange:xt=>te("month",xt),monthsPerRow:ie,referenceDate:De})),Z==="day"&&s.jsx(z5,C({},Re,br,Xn,{onMonthSwitchingAnimationEnd:ue,onFocusedDayChange:Ee,reduceAnimations:w,selectedDays:Is,onSelectedDaysChange:Ft,shouldDisableDate:N,shouldDisableMonth:k,shouldDisableYear:E,hasFocus:Tt,onFocusedViewChange:xt=>te("day",xt),showDaysOutsideCurrentMonth:A,fixedWeekNumber:I,dayOfWeekFormatter:F,displayWeekNumber:X,components:V,componentsProps:Y,slots:W,slotProps:G,loading:H,renderLoading:K}))]})})]}))});function KL(){const{clubId:e,courtId:t}=$r(),n=nn(),[r,o]=h.useState(Qr()),[i,a]=h.useState(null),[l,c]=h.useState(null),[d,u]=h.useState(!0),[p,f]=h.useState("");h.useEffect(()=>{g()},[e,t]);const g=async()=>{if(!e||!t){f("Некорректные параметры"),u(!1);return}try{const m=await ut(Pe(re,"courts",t));if(!m.exists()){f("Корт не найден"),u(!1);return}const x={id:m.id,...m.data()};if(x.venueId!==e){f("Корт не принадлежит указанному клубу"),u(!1);return}a(x);const j=await ut(Pe(re,"venues",e));j.exists()&&c({id:j.id,...j.data()}),u(!1)}catch(m){console.error("Error loading data:",m),f("Ошибка при загрузке данных"),u(!1)}},v=()=>{r&&n(`/club/${e}/court/${t}/time?date=${Le(r,"yyyy-MM-dd")}`)},y=m=>{const x=Qr();if(m<x)return!0;const j=Mr(x,30);if(m>j)return!0;if(l!=null&&l.workingHours){const w=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][m.getDay()],N=l.workingHours[w];if(!N||!N.open&&!N.close)return!0}return!1};return d?s.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),s.jsx("p",{className:"body-small",children:"Загрузка..."})]}),s.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]}):p?s.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:s.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[s.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"❌"}),s.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Ошибка"}),s.jsx("p",{className:"body",style:{color:"var(--text-secondary)"},children:p})]})}):s.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[s.jsx("div",{style:{backgroundColor:"var(--white)",padding:"var(--spacing-md) var(--spacing-xl)",boxShadow:"var(--shadow-sm)",position:"sticky",top:0,zIndex:10},children:s.jsx("button",{onClick:()=>n(-1),style:{background:"none",border:"none",fontSize:"20px",cursor:"pointer",padding:"8px",marginLeft:"-8px",borderRadius:"50%",display:"inline-flex",alignItems:"center",justifyContent:"center",transition:"background 0.2s"},onMouseEnter:m=>m.currentTarget.style.background="var(--extra-light-gray)",onMouseLeave:m=>m.currentTarget.style.background="none",children:"←"})}),s.jsxs("div",{style:{padding:"var(--spacing-xl)"},children:[s.jsx("h1",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Выберите дату"}),i&&l&&s.jsxs("p",{className:"body-small",style:{marginBottom:"var(--spacing-xl)"},children:[l.name," • ",i.name]}),s.jsx("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)"},children:s.jsx(Y3,{dateAdapter:U3,adapterLocale:In,children:s.jsx(qL,{value:r,onChange:m=>o(m),shouldDisableDate:y,disablePast:!0,sx:{width:"100%",".MuiDayCalendar-weekContainer":{justifyContent:"space-around"},".MuiPickersDay-root":{fontSize:"var(--text-body)","&:hover":{backgroundColor:"var(--primary-light)"},"&.Mui-selected":{backgroundColor:"var(--primary)","&:hover":{backgroundColor:"var(--primary-dark)"}}},".MuiPickersCalendarHeader-label":{fontSize:"var(--text-body)",fontWeight:600},".MuiPickersArrowSwitcher-button":{color:"var(--primary)"}}})})}),r&&s.jsxs("div",{className:"info-section",style:{marginBottom:"var(--spacing-xl)"},children:[s.jsx("p",{className:"body-small",style:{marginBottom:"var(--spacing-xs)"},children:"Выбранная дата:"}),s.jsx("h3",{className:"h3",children:Le(r,"d MMMM yyyy",{locale:In})})]}),s.jsx("div",{style:{backgroundColor:"var(--info)",color:"white",padding:"var(--spacing-md)",borderRadius:"var(--radius-md)",marginBottom:"calc(80px + var(--spacing-xl))"},children:s.jsx("p",{className:"caption",style:{color:"white"},children:"ℹ️ Бронирование доступно на 30 дней вперед. Серым цветом отмечены дни, когда клуб не работает."})})]}),s.jsx("div",{className:"sticky-bottom-bar",children:s.jsx("button",{className:"flutter-button",style:{width:"100%"},onClick:v,disabled:!r,children:"Выбрать время →"})})]})}function QL(){var R,B;const{clubId:e,courtId:t}=$r(),n=nn(),[r]=jo(),o=r.get("date"),i=o?ln(o,"yyyy-MM-dd",new Date):new Date,[a,l]=h.useState(null),[c,d]=h.useState(null),[u,p]=h.useState([]),[f,g]=h.useState(null),[v,y]=h.useState(60),[m,x]=h.useState([60,90,120]),[j,b]=h.useState(!0),[w,N]=h.useState(""),[k,E]=h.useState([]),[_,D]=h.useState([]),[S,T]=h.useState(0);h.useEffect(()=>{$()},[]),h.useEffect(()=>{O()},[e,t,S]),h.useEffect(()=>{c&&a&&M()},[c,a,u,v,S]);const $=()=>{const A=[],I=["Вс","Пн","Вт","Ср","Чт","Пт","Сб"];let F=-1;for(let V=0;V<7;V++){const Y=Mr(Qr(),V);A.push({date:Y,day:I[Y.getDay()],dayNumber:Le(Y,"d")}),Le(Y,"yyyy-MM-dd")===o&&(F=V)}D(A),T(F>=0?F:0)},O=async()=>{var A;if(!e||!t){N("Некорректные параметры"),b(!1);return}try{const I=await ut(Pe(re,"courts",t));if(!I.exists()){N("Корт не найден"),b(!1);return}const F={id:I.id,...I.data()};l(F);const V=await ut(Pe(re,"venues",e));if(V.exists()){const X={id:V.id,...V.data()};if(d(X),X.bookingDurations){const q=[60,90,120].filter(ie=>X.bookingDurations[ie]!==!1);x(q),q.includes(v)||y(q[0]||60)}}const Y=((A=_[S])==null?void 0:A.date)||i,W=Le(Y,"yyyy-MM-dd"),G=$e(Ne(re,"bookings"),Te("courtId","==",t),Te("date","==",W),Te("status","in",["confirmed","pending"])),K=(await Fe(G)).docs.map(X=>({id:X.id,...X.data()}));p(K),b(!1)}catch(I){console.error("Error loading data:",I),N("Ошибка при загрузке данных"),b(!1)}},M=()=>{var X;if(!(c!=null&&c.workingHours)||!a)return;const A=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],I=((X=_[S])==null?void 0:X.date)||i,F=A[I.getDay()],V=c.workingHours[F];if(!V)return;const Y=[],W=ln(V.open,"HH:mm",I),G=ln(V.close,"HH:mm",I);let H=W;const K=new Date;for(;Jt(H,G);){const q=Le(H,"HH:mm"),ie=Gr(H,v);let J=!0;if(Yx(I)&&Jt(H,K)&&(J=!1),Gn(ie,G)&&(J=!1),J)for(const oe of u){const he=ln(oe.startTime,"HH:mm",I),Z=ln(oe.endTime,"HH:mm",I);if(Gn(H,he)&&Jt(H,Z)||Gn(ie,he)&&Jt(ie,Z)||Jt(H,he)&&Gn(ie,Z)||Le(H,"HH:mm")===oe.startTime){J=!1;break}}let de=a.pricePerHour;const U=H.getHours();U>=18&&U<21?de=Math.round(de*1.2):(U>=21||U<7)&&(de=Math.round(de*.8)),Y.push({time:q,available:J,price:Math.round(de*v/60)}),H=Gr(H,30)}E(Y)},P=()=>{var F;if(!f)return;const A=((F=_[S])==null?void 0:F.date)||i,I=Le(A,"yyyy-MM-dd");n(`/club/${e}/court/${t}/game-type?date=${I}&time=${f}&duration=${v}`)},L=A=>{T(A),g(null)};return j?s.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),s.jsx("p",{className:"body-small",children:"Загрузка..."})]}),s.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]}):w?s.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:s.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[s.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"❌"}),s.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Ошибка"}),s.jsx("p",{className:"body",style:{color:"var(--text-secondary)"},children:w})]})}):s.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[s.jsx("div",{style:{backgroundColor:"var(--white)",padding:"var(--spacing-md) var(--spacing-xl)",boxShadow:"var(--shadow-sm)"},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-md)"},children:[s.jsx("button",{onClick:()=>n(-1),style:{width:"40px",height:"40px",background:"var(--divider)",border:"none",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"},children:"←"}),s.jsxs("div",{children:[s.jsx("h1",{className:"h3",style:{marginBottom:"4px"},children:"Выберите время"}),a&&c&&s.jsxs("p",{className:"caption",children:[c.name," • ",a.name]})]})]})}),s.jsx("div",{style:{height:"90px",padding:"var(--spacing-md) 0",backgroundColor:"var(--white)",borderBottom:"1px solid var(--divider)"},children:s.jsx("div",{style:{display:"flex",gap:"var(--spacing-sm)",padding:"0 var(--spacing-xl)",overflowX:"auto",WebkitOverflowScrolling:"touch"},children:_.map((A,I)=>{const F=S===I;return s.jsxs("button",{onClick:()=>L(I),style:{minWidth:"60px",height:"60px",backgroundColor:F?"var(--primary)":"var(--white)",color:F?"white":"var(--dark)",border:`2px solid ${F?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},children:[s.jsx("span",{className:"caption-bold",children:A.day}),s.jsx("span",{className:"body-bold",children:A.dayNumber})]},I)})})}),s.jsxs("div",{style:{padding:"var(--spacing-xl) var(--spacing-xl) 0"},children:[s.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Длительность игры"}),s.jsx("div",{style:{display:"flex",gap:"var(--spacing-sm)"},children:[60,90,120].map(A=>{const I=m.includes(A);return s.jsx("button",{onClick:()=>{I&&(y(A),g(null))},disabled:!I,style:{flex:1,padding:"var(--spacing-sm)",backgroundColor:v===A?"var(--primary)":I?"var(--white)":"var(--extra-light-gray)",color:v===A?"white":I?"var(--dark)":"var(--gray)",border:`2px solid ${v===A?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",cursor:I?"pointer":"not-allowed",fontWeight:600,fontSize:"var(--text-body)",transition:"all 0.2s",opacity:I?1:.5},children:A===60?"1 час":A===90?"1.5 часа":"2 часа"},A)})})]}),s.jsxs("div",{style:{padding:"var(--spacing-xl)"},children:[s.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Свободное время"}),k.length===0?s.jsx("div",{className:"flutter-card",style:{textAlign:"center",padding:"var(--spacing-2xl)"},children:s.jsx("p",{className:"body",style:{color:"var(--gray)"},children:"Нет доступных слотов на выбранную дату"})}):s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"10px",marginBottom:"calc(120px + var(--spacing-xl))"},children:k.map(A=>{const I=f===A.time;return s.jsxs("button",{onClick:()=>A.available&&g(A.time),disabled:!A.available,style:{padding:"var(--spacing-sm) var(--spacing-xs)",backgroundColor:A.available?I?"var(--primary)":"var(--primary-light)":"var(--busy)",color:A.available?I?"white":"var(--dark)":"var(--busy-text)",border:`2px solid ${A.available?I?"var(--primary)":"var(--available)":"var(--busy)"}`,borderRadius:"var(--radius-sm)",cursor:A.available?"pointer":"not-allowed",opacity:1,transition:"all 0.2s",display:"flex",flexDirection:"column",alignItems:"center",gap:"2px",height:"60px",justifyContent:"center"},children:[s.jsx("span",{className:"body-bold",children:A.time}),A.available?s.jsx("span",{className:"caption",style:{color:I?"white":"var(--primary-dark)",fontSize:"var(--text-caption)"},children:I?"Выбрано":`${A.price}₽`}):s.jsx("span",{className:"caption",style:{color:"var(--busy-text)"},children:"Занято"})]},A.time)})})]}),s.jsxs("div",{style:{padding:"0 var(--spacing-xl) var(--spacing-xl)",display:"flex",gap:"var(--spacing-lg)",flexWrap:"wrap"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[s.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--white)",border:"2px solid var(--extra-light-gray)",borderRadius:"4px"}}),s.jsx("span",{className:"caption",children:"Свободно"})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[s.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--busy)",borderRadius:"4px"}}),s.jsx("span",{className:"caption",children:"Занято"})]})]}),s.jsxs("div",{className:"sticky-bottom-bar",style:{padding:"var(--spacing-xl)",borderRadius:"var(--radius-lg) var(--radius-lg) 0 0"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--spacing-sm)"},children:[s.jsx("span",{className:"body-small",style:{color:"var(--gray)"},children:f&&_[S]&&`${Le(_[S].date,"d MMMM",{locale:In})}, ${f}-${Le(Gr(ln(f,"HH:mm",new Date),v),"HH:mm")}`}),f&&((R=k.find(A=>A.time===f))==null?void 0:R.available)&&s.jsxs("span",{className:"h2",children:[(B=k.find(A=>A.time===f))==null?void 0:B.price," ₽"]})]}),s.jsx("button",{className:"flutter-button",style:{width:"100%"},onClick:P,disabled:!f,children:"Далее"})]})]})}function XL(){const{clubId:e,courtId:t}=$r(),n=nn(),[r]=jo(),o=r.get("date"),i=r.get("time"),a=r.get("duration"),[l,c]=h.useState("open"),[d,u]=h.useState(!1),[p,f]=h.useState(null),[g,v]=h.useState(!0);h.useEffect(()=>{y()},[t]);const y=async()=>{if(t)try{const _=await ut(Pe(re,"venues",e,"courts",t));_.exists()&&f({id:_.id,..._.data()})}catch(_){console.error("Error loading court:",_)}finally{v(!1)}},[m,x]=h.useState({name:"",phone:"",email:"",comment:""}),[j,b]=h.useState({}),[w,N]=h.useState(!1),k=[{id:"private",title:"Приватная игра",subtitle:"Только для вас и ваших друзей",icon:"🔒",iconColor:"var(--primary)",tags:["Только для вас","Без посторонних"],available:!0},{id:"open",title:"Открытая игра",subtitle:"Найдите партнёров для игры",icon:"👥",iconColor:"var(--success)",tags:["Найти партнёров","Разделить оплату"],available:!1},{id:"find",title:"Найти игру",subtitle:"Присоединитесь к существующей игре",icon:"🔍",iconColor:"var(--gray)",tags:["12 открытых игр"],available:!1}],E=_=>{if(_.available){const D=(p==null?void 0:p.pricePerHour)||0,S=Math.round(D/60*parseInt(a||"60")),T=new URLSearchParams({date:o||"",time:i||"",duration:a||"60",gameType:_.id,playersCount:(_.playersCount||1).toString(),price:S.toString(),pricePerPlayer:(_.pricePerPlayer||S).toString()});n(`/club/${e}/court/${t}/payment?${T.toString()}`)}else window.confirm(`Функция "${_.title}" доступна только в мобильном приложении "Все корты".

Перейти в приложение?`)&&(window.location.href=`allcourts://club/${e}/court/${t}?date=${o}&time=${i}&duration=${a}`)};return s.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[s.jsx("div",{style:{backgroundColor:"var(--white)",padding:"var(--spacing-md) var(--spacing-xl)",boxShadow:"var(--shadow-sm)"},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-md)"},children:[s.jsx("button",{onClick:()=>n(-1),style:{width:"40px",height:"40px",background:"var(--divider)",border:"none",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"},children:"←"}),s.jsx("div",{children:s.jsx("h1",{className:"h3",children:"Выберите формат игры"})})]})}),s.jsxs("div",{style:{padding:"var(--spacing-xl)"},children:[k.map(_=>s.jsxs("div",{onClick:()=>E(_),style:{backgroundColor:"var(--white)",borderRadius:"var(--radius-md)",padding:"var(--spacing-lg)",marginBottom:"var(--spacing-md)",cursor:"pointer",transition:"all 0.2s",border:`2px solid ${l===_.id&&_.available?"var(--primary)":"transparent"}`,boxShadow:l===_.id&&_.available?"0 2px 10px rgba(0, 211, 50, 0.1)":"none",opacity:_.available?1:.7,position:"relative"},onMouseEnter:D=>{_.available&&(D.currentTarget.style.transform="translateY(-2px)",D.currentTarget.style.boxShadow="var(--shadow-md)")},onMouseLeave:D=>{D.currentTarget.style.transform="none",D.currentTarget.style.boxShadow="none"},children:[!_.available&&s.jsx("div",{style:{position:"absolute",top:"var(--spacing-sm)",right:"var(--spacing-sm)",backgroundColor:"var(--secondary)",color:"white",padding:"4px 8px",borderRadius:"var(--radius-sm)",fontSize:"var(--text-tiny)",fontWeight:600},children:"В приложении"}),s.jsxs("div",{style:{display:"flex",gap:"var(--spacing-md)"},children:[s.jsx("div",{style:{width:"40px",height:"40px",backgroundColor:l===_.id&&_.available?"var(--primary)":"var(--divider)",borderRadius:"var(--radius-sm)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",flexShrink:0},children:s.jsx("span",{style:{filter:l===_.id&&_.available?"brightness(0) invert(1)":"none"},children:_.icon})}),s.jsxs("div",{style:{flex:1},children:[s.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-xxs)"},children:_.title}),s.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-sm)"},children:_.subtitle}),s.jsx("div",{style:{display:"flex",gap:"var(--spacing-xs)",flexWrap:"wrap"},children:_.tags.map((D,S)=>s.jsx("span",{style:{padding:"4px 16px",backgroundColor:l===_.id&&_.available?"var(--primary-light)":"var(--divider)",color:l===_.id&&_.available?"var(--primary-dark)":"var(--gray)",borderRadius:"var(--radius-xl)",fontSize:"var(--text-caption)",fontWeight:600},children:D},S))})]})]})]},_.id)),s.jsx("div",{style:{backgroundColor:"var(--warning)",color:"white",padding:"var(--spacing-md)",borderRadius:"var(--radius-md)",marginTop:"var(--spacing-xl)"},children:s.jsx("p",{className:"caption",style:{color:"white"},children:'⚠️ В веб-версии доступна только "Открытая игра". Для доступа ко всем типам игр скачайте мобильное приложение "Все корты".'})})]})]})}function ZL(){const{clubId:e,courtId:t}=$r(),n=nn(),[r]=jo(),o=r.get("date")||"",i=r.get("time")||"",a=parseInt(r.get("duration")||"60"),l=r.get("gameType")||"simple",c=parseInt(r.get("playersCount")||"1"),d=parseInt(r.get("price")||"0"),u=parseInt(r.get("pricePerPlayer")||"0"),p=r.get("customerName")||"",f=r.get("customerPhone")||"",g=r.get("customerEmail")||"",[v,y]=h.useState(null),[m,x]=h.useState(null),[j,b]=h.useState(!0),[w,N]=h.useState(!1),[k,E]=h.useState(""),[_,D]=h.useState(!1),[S,T]=h.useState(p),[$,O]=h.useState(f),[M,P]=h.useState(g),[L,R]=h.useState(window.innerWidth<=768);h.useEffect(()=>{const G=()=>R(window.innerWidth<=768);return window.addEventListener("resize",G),()=>window.removeEventListener("resize",G)},[]),h.useEffect(()=>{B()},[e,t]),h.useEffect(()=>{!j&&v&&m&&p&&f&&!w&&!_&&(D(!0),setTimeout(()=>{W()},500))},[j,v,m,p,f,w,_]);const B=async()=>{if(!e||!t){E("Некорректные параметры"),b(!1);return}try{const G=await ut(Pe(re,"venues",e,"courts",t));if(!G.exists()){E("Корт не найден"),b(!1);return}const H={id:G.id,...G.data(),venueId:e};y(H);const K=await ut(Pe(re,"venues",e));if(K.exists()){const X={id:K.id,...K.data()};x(X)}b(!1)}catch(G){console.error("Error loading data:",G),E("Ошибка при загрузке данных"),b(!1)}},A=G=>{const H=ln(G,"yyyy-MM-dd",new Date);return Le(H,"d MMMM",{locale:In})},I=(G,H)=>{const[K,X]=G.split(":").map(Number),q=K*60+X+H,ie=Math.floor(q/60),J=q%60;return`${ie.toString().padStart(2,"0")}:${J.toString().padStart(2,"0")}`},F=G=>{const H=G.replace(/\D/g,"");return H.length<=1?H:H.length<=4?`+7 (${H.slice(1)})`:H.length<=7?`+7 (${H.slice(1,4)}) ${H.slice(4)}`:H.length<=9?`+7 (${H.slice(1,4)}) ${H.slice(4,7)}-${H.slice(7)}`:`+7 (${H.slice(1,4)}) ${H.slice(4,7)}-${H.slice(7,9)}-${H.slice(9,11)}`},V=G=>{const H=F(G.target.value);O(H)},Y=()=>S.trim()?!$||$.replace(/\D/g,"").length<11?(alert("Пожалуйста, введите корректный номер телефона"),!1):M&&!M.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)?(alert("Пожалуйста, введите корректный email"),!1):!0:(alert("Пожалуйста, введите ваше имя"),!1),W=async()=>{if(!(!Y()||!v||!m)){N(!0);try{const G={courtId:t,courtName:v.name,venueId:e,venueName:m.name,date:o,startTime:i,endTime:I(i,a),duration:a,gameType:l,playersCount:l==="open"||l==="open_join"?c:1,totalPrice:d,pricePerPlayer:l==="open"||l==="open_join"?u:d,customerName:S,customerPhone:$,customerEmail:M||null,status:"pending",paymentStatus:"awaiting_payment",createdAt:new Date,updatedAt:new Date},H=await or(Ne(re,"bookings"),G);if(m.paymentEnabled&&m.paymentProvider)try{const q=(await Ao(Zi,"initBookingPayment")({bookingId:H.id,amount:d,description:`Бронирование ${v.name} на ${A(o)} ${i}`,returnUrl:`${window.location.origin}/club/${e}/booking-confirmation/${H.id}`,userId:"",customerEmail:M||void 0,customerPhone:$})).data;if(q.success&&q.paymentUrl)await Ct(H,{paymentId:q.paymentId,paymentUrl:q.paymentUrl,paymentProvider:m.paymentProvider}),window.location.href=q.paymentUrl;else throw new Error(q.error||"Ошибка инициализации платежа")}catch(K){console.error("Payment initialization error:",K),await Ct(H,{paymentStatus:"error",paymentError:K.message}),alert("Ошибка при создании платежа. Пожалуйста, свяжитесь с администратором клуба."),n(`/club/${e}/booking-confirmation/${H.id}?paymentError=true`)}else await Ct(H,{status:"confirmed",paymentStatus:"not_required"}),n(`/club/${e}/booking-confirmation/${H.id}`)}catch(G){console.error("Error creating booking:",G),alert("Ошибка при создании бронирования. Попробуйте еще раз.")}finally{N(!1)}}};return j||p&&f&&w?s.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),s.jsx("p",{className:"body-small",children:w?"Создание бронирования...":"Загрузка..."})]}),s.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]}):k?s.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:s.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[s.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"❌"}),s.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Ошибка"}),s.jsx("p",{className:"body",style:{color:"var(--text-secondary)"},children:k})]})}):s.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[s.jsx("div",{style:{backgroundColor:"var(--white)",padding:"var(--spacing-md) var(--spacing-xl)",boxShadow:"var(--shadow-sm)",position:"sticky",top:0,zIndex:10},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-md)"},children:[s.jsx("button",{onClick:()=>n(-1),style:{width:"40px",height:"40px",background:"var(--divider)",border:"none",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"},children:"←"}),s.jsx("div",{children:s.jsx("h1",{className:"h3",children:"Оплата бронирования"})})]})}),s.jsxs("div",{style:{padding:L?"var(--spacing-md)":"var(--spacing-xl)",paddingBottom:"calc(100px + var(--spacing-xl))",maxWidth:"800px",margin:"0 auto"},children:[s.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-md)"},children:[s.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Детали бронирования"}),s.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"var(--spacing-sm)"},children:s.jsxs("div",{children:[s.jsx("p",{className:"body",children:m==null?void 0:m.name}),s.jsx("p",{className:"body-small",style:{color:"var(--gray)"},children:v==null?void 0:v.name})]})}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"var(--spacing-sm)"},children:[s.jsxs("div",{children:[s.jsx("p",{className:"body",children:A(o)}),s.jsxs("p",{className:"body-small",style:{color:"var(--gray)"},children:[i,"-",I(i,a)]})]}),s.jsxs("div",{style:{textAlign:"right"},children:[s.jsx("p",{className:"h3",style:{color:"var(--primary)"},children:(l==="open"||l==="open_join")&&c>1?`${u} ₽/чел`:`${d} ₽`}),(l==="open"||l==="open_join")&&c>1&&s.jsxs("p",{className:"caption",style:{color:"var(--gray)"},children:["Всего: ",d," ₽"]})]})]}),(l==="open"||l==="open_join")&&s.jsxs("div",{style:{marginTop:"var(--spacing-sm)",padding:"var(--spacing-sm)",backgroundColor:"var(--chip-background)",borderRadius:"var(--radius-sm)",display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[s.jsx("span",{style:{fontSize:"16px"},children:"👥"}),s.jsx("span",{className:"caption",style:{color:"var(--primary-dark)"},children:l==="open_join"?"Присоединение к открытой игре":`Открытая игра • ${c} игрока`})]})]}),s.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-md)"},children:[s.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Контактные данные"}),s.jsx("div",{style:{marginBottom:"var(--spacing-md)"},children:s.jsx("input",{type:"text",value:S,onChange:G=>T(G.target.value),placeholder:"Ваше имя",style:{width:"100%",padding:"var(--spacing-md)",backgroundColor:"var(--background)",border:"none",borderRadius:"var(--radius-md)",fontSize:"var(--text-body)",outline:"none"}})}),s.jsx("div",{style:{marginBottom:"var(--spacing-md)"},children:s.jsx("input",{type:"tel",value:$,onChange:V,placeholder:"Номер телефона",style:{width:"100%",padding:"var(--spacing-md)",backgroundColor:"var(--background)",border:"none",borderRadius:"var(--radius-md)",fontSize:"var(--text-body)",outline:"none"}})}),s.jsx("div",{children:s.jsx("input",{type:"email",value:M,onChange:G=>P(G.target.value),placeholder:"Email (необязательно)",style:{width:"100%",padding:"var(--spacing-md)",backgroundColor:"var(--background)",border:"none",borderRadius:"var(--radius-md)",fontSize:"var(--text-body)",outline:"none"}})})]}),s.jsxs("div",{style:{padding:"var(--spacing-md)",backgroundColor:m!=null&&m.paymentEnabled?"rgba(255, 152, 0, 0.08)":"var(--chip-background)",borderRadius:"var(--radius-md)",border:m!=null&&m.paymentEnabled?"1px solid rgba(255, 152, 0, 0.3)":"1px solid var(--primary-light)",display:"flex",gap:"var(--spacing-sm)",alignItems:"flex-start"},children:[s.jsx("span",{style:{fontSize:"20px",color:m!=null&&m.paymentEnabled?"#ff9800":"var(--primary)"},children:m!=null&&m.paymentEnabled?"⏱️":"ℹ️"}),s.jsxs("div",{style:{flex:1},children:[s.jsx("p",{className:"caption",style:{color:m!=null&&m.paymentEnabled?"#e65100":"var(--primary-dark)",fontWeight:m!=null&&m.paymentEnabled?"500":"400",marginBottom:m!=null&&m.paymentEnabled?"8px":"0"},children:m!=null&&m.paymentEnabled?"Бронирование будет подтверждено только после успешной оплаты.":"Оплата производится на месте при посещении клуба"}),(m==null?void 0:m.paymentEnabled)&&s.jsx("p",{className:"caption",style:{color:"#e65100",fontWeight:"600",fontSize:"14px"},children:"⚠️ На оплату дается 10 минут. После этого бронирование будет автоматически отменено."})]})]})]}),s.jsx("div",{className:"sticky-bottom-bar",style:{padding:"var(--spacing-xl)",borderRadius:"var(--radius-lg) var(--radius-lg) 0 0"},children:s.jsx("button",{className:"flutter-button",style:{width:"100%"},onClick:W,disabled:w,children:w?"Создание бронирования...":m!=null&&m.paymentEnabled?"Перейти к оплате":"Забронировать"})})]})}function JL(){const{clubId:e,bookingId:t}=$r(),n=nn(),[r]=jo(),[o,i]=h.useState(null),[a,l]=h.useState(null),[c,d]=h.useState(null),[u,p]=h.useState(!0),[f,g]=h.useState(""),v=r.get("paymentError")==="true",y=r.get("processing")==="true";h.useEffect(()=>{m()},[t]),h.useEffect(()=>{if(y&&o&&o.paymentStatus!=="paid"){const j=setInterval(async()=>{try{const b=await ut(Pe(re,"bookings",t));b.exists()&&b.data().paymentStatus==="paid"&&window.location.reload()}catch(b){console.error("Error checking payment status:",b)}},3e3);return()=>clearInterval(j)}},[y,o,t]);const m=async()=>{var j;if(!t){g("ID бронирования не указан"),p(!1);return}try{const b=await ut(Pe(re,"bookings",t));if(!b.exists()){g("cancelled"),p(!1);return}const w={id:b.id,...b.data()};if(w.paymentStatus!=="paid"){if(w.status==="cancelled"||w.paymentStatus==="cancelled"){g("cancelled"),p(!1);return}}i(w);const N=await ut(Pe(re,"venues",w.venueId));N.exists()&&l(N.data());const k=await ut(Pe(re,"venues",w.venueId,"courts",w.courtId));k.exists()&&d(k.data()),p(!1)}catch(b){console.error("Error loading booking:",b),(b==null?void 0:b.code)==="permission-denied"||(b==null?void 0:b.code)==="not-found"||(j=b==null?void 0:b.message)!=null&&j.includes("Missing or insufficient permissions")?g("loading-error"):g("Ошибка при загрузке данных бронирования"),p(!1)}};if(u)return s.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),s.jsx("p",{className:"body-small",children:"Загрузка..."})]}),s.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]});if(f)return f==="loading-error"?s.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:s.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[s.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"⏳"}),s.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Обработка платежа"}),s.jsx("p",{className:"body",style:{color:"var(--text-secondary)",marginBottom:"var(--spacing-xl)"},children:"Ваш платеж обрабатывается. Пожалуйста, подождите несколько секунд и обновите страницу."}),s.jsx("button",{className:"flutter-button",style:{width:"100%",marginBottom:"var(--spacing-md)"},onClick:()=>window.location.reload(),children:"Обновить страницу"}),s.jsx("button",{className:"flutter-button secondary",style:{width:"100%"},onClick:()=>n("/"),children:"На главную"})]})}):f==="cancelled"?s.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:s.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[s.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"⚠️"}),s.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-md)"},children:"Бронирование не создано"}),s.jsx("p",{className:"body",style:{color:"var(--text-secondary)",marginBottom:"var(--spacing-lg)",lineHeight:"1.6"},children:"Вы отменили процесс оплаты, поэтому бронирование не было создано."}),s.jsx("p",{className:"body",style:{color:"var(--text-secondary)",marginBottom:"var(--spacing-xl)",lineHeight:"1.6"},children:"Если вы хотите забронировать корт, пожалуйста, начните процесс бронирования заново и завершите оплату."}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-md)",marginTop:"var(--spacing-xl)"},children:[s.jsx("button",{className:"flutter-button",style:{width:"100%"},onClick:()=>n(`/club/${e}`),children:"Вернуться к клубу"}),s.jsx("button",{className:"flutter-button-outlined",style:{width:"100%",backgroundColor:"transparent",color:"var(--primary)",border:"2px solid var(--primary)"},onClick:()=>n("/"),children:"На главную"})]}),s.jsxs("div",{style:{marginTop:"var(--spacing-2xl)",padding:"var(--spacing-lg)",backgroundColor:"var(--background)",borderRadius:"var(--radius-md)",textAlign:"center"},children:[s.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-sm)"},children:"Или позвоните в клуб для бронирования по телефону"}),s.jsx("p",{className:"body-bold",style:{color:"var(--primary)"},children:"📞 Контакты клуба доступны на странице клуба"})]})]})}):s.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:s.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[s.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"❌"}),s.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Ошибка"}),s.jsx("p",{className:"body",style:{color:"var(--text-secondary)"},children:f}),s.jsx("button",{className:"flutter-button",style:{width:"100%",marginTop:"var(--spacing-xl)"},onClick:()=>n("/"),children:"На главную"})]})});if(!o||!a||!c)return null;const x=ln(o.date,"yyyy-MM-dd",new Date);return s.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[s.jsxs("div",{style:{backgroundColor:v?"var(--error)":"var(--success)",padding:"var(--spacing-3xl) var(--spacing-xl)",textAlign:"center",color:"white"},children:[s.jsx("div",{style:{width:"80px",height:"80px",backgroundColor:"white",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto var(--spacing-lg)",fontSize:"40px"},children:v?"❌":"✅"}),s.jsx("h1",{className:"h2",style:{color:"white",marginBottom:"var(--spacing-sm)"},children:o.paymentStatus==="paid"||o.status==="confirmed"?"Бронирование подтверждено!":v?"Ошибка оплаты":"Заявка отправлена!"}),s.jsx("p",{className:"body",style:{color:"white",opacity:.9},children:o.paymentStatus==="paid"||o.status==="confirmed"?"Ваше бронирование успешно оплачено и подтверждено":v?"Произошла ошибка при оплате. Пожалуйста, свяжитесь с администратором":"Ваша заявка на бронирование успешно отправлена"})]}),s.jsxs("div",{style:{padding:"var(--spacing-xl)"},children:[s.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)"},children:[s.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Что дальше?"}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-md)"},children:[s.jsxs("div",{style:{display:"flex",gap:"var(--spacing-md)"},children:[s.jsx("div",{style:{width:"32px",height:"32px",backgroundColor:"var(--success)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,color:"white"},children:"✓"}),s.jsxs("div",{children:[s.jsx("p",{className:"body-bold",style:{marginBottom:"var(--spacing-xxs)"},children:"Бронирование подтверждено"}),s.jsx("p",{className:"caption",children:"Оплата прошла успешно, ваш корт забронирован"})]})]}),s.jsxs("div",{style:{display:"flex",gap:"var(--spacing-md)"},children:[s.jsx("div",{style:{width:"32px",height:"32px",backgroundColor:"var(--primary-light)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,color:"var(--primary)"},children:"📱"}),s.jsxs("div",{children:[s.jsx("p",{className:"body-bold",style:{marginBottom:"var(--spacing-xxs)"},children:"SMS-уведомления"}),s.jsx("p",{className:"caption",children:"Получите SMS с подтверждением сейчас и напоминание за 2 часа до игры"})]})]}),s.jsxs("div",{style:{display:"flex",gap:"var(--spacing-md)"},children:[s.jsx("div",{style:{width:"32px",height:"32px",backgroundColor:"var(--primary-light)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,color:"var(--primary)"},children:"⚠️"}),s.jsxs("div",{children:[s.jsx("p",{className:"body-bold",style:{marginBottom:"var(--spacing-xxs)"},children:"Отмена бронирования"}),s.jsx("p",{className:"caption",children:"Отменить можно за 24 часа до игры через мобильное приложение или позвонив администратору в рабочее время"})]})]})]})]}),s.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)"},children:[s.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Детали бронирования"}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-md)"},children:[s.jsxs("div",{children:[s.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-xxs)"},children:"Клуб"}),s.jsx("p",{className:"body-bold",children:a.name}),s.jsx("p",{className:"caption",children:a.address})]}),s.jsx("div",{style:{height:"1px",backgroundColor:"var(--divider)",margin:"var(--spacing-xs) 0"}}),s.jsxs("div",{children:[s.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-xxs)"},children:"Корт"}),s.jsx("p",{className:"body-bold",children:c.name})]}),s.jsx("div",{style:{height:"1px",backgroundColor:"var(--divider)",margin:"var(--spacing-xs) 0"}}),s.jsxs("div",{style:{display:"flex",gap:"var(--spacing-xl)"},children:[s.jsxs("div",{style:{flex:1},children:[s.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-xxs)"},children:"Дата"}),s.jsx("p",{className:"body-bold",children:Le(x,"d MMMM",{locale:In})})]}),s.jsxs("div",{style:{flex:1},children:[s.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-xxs)"},children:"Время"}),s.jsxs("p",{className:"body-bold",children:[o.startTime," - ",o.endTime]})]})]})]})]}),s.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)"},children:[s.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Ваши контакты"}),s.jsx("p",{className:"body",style:{marginBottom:"var(--spacing-xs)"},children:o.customerName}),s.jsx("p",{className:"caption",children:o.customerPhone}),o.customerEmail&&s.jsx("p",{className:"caption",children:o.customerEmail})]}),s.jsx("button",{className:"flutter-button",style:{width:"100%",marginBottom:"var(--spacing-md)"},onClick:()=>n(`/club/${e}`),children:"Вернуться к клубу"}),s.jsx("button",{className:"flutter-button-outlined",style:{width:"100%",backgroundColor:"transparent",color:"var(--primary)",border:"2px solid var(--primary)"},onClick:()=>{window.location.href=`allcourts://booking/${t}`},children:"Открыть в приложении 📱"}),s.jsxs("div",{style:{textAlign:"center",marginTop:"var(--spacing-3xl)",padding:"var(--spacing-xl)",backgroundColor:"var(--white)",borderRadius:"var(--radius-md)"},children:[s.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-sm)"},children:"Есть вопросы? Позвоните в клуб"}),s.jsxs("a",{href:`tel:${a.phone}`,style:{display:"inline-flex",alignItems:"center",gap:"var(--spacing-xs)",color:"var(--primary)",textDecoration:"none",fontSize:"var(--text-body-large)",fontWeight:600},children:["📞 ",a.phone]})]})]})]})}function e6(){const[e]=jo(),t=nn(),[n,r]=h.useState(!0),[o,i]=h.useState("");h.useEffect(()=>{a()},[e]);const a=async()=>{e.get("paymentId");const l=e.get("orderId")||e.get("OrderId"),c=e.get("status")||e.get("Status");if(!l){i("Неверные параметры платежа"),r(!1);return}try{const d=await ut(Pe(re,"bookings",l));if(!d.exists()){i("Бронирование не найдено"),r(!1);return}const p=d.data().venueId;if(c==="success"||c==="CONFIRMED"||c==="succeeded"){const g=d.data();g.paymentStatus==="paid"||g.status==="confirmed"?t(`/club/${p}/booking-confirmation/${l}`,{replace:!0}):setTimeout(async()=>{const v=await ut(Pe(re,"bookings",l));if(v.exists()){const y=v.data();y.paymentStatus==="paid"||y.status==="confirmed"?t(`/club/${p}/booking-confirmation/${l}`,{replace:!0}):t(`/club/${p}/booking-confirmation/${l}?processing=true`,{replace:!0})}},2e3)}else t(`/club/${p}/payment-error?paymentError=true&bookingId=${l}`,{replace:!0})}catch(d){console.error("Error processing payment result:",d),i("Ошибка при обработке результата платежа"),r(!1)}};return n?s.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),s.jsx("p",{className:"body-small",children:"Обработка платежа..."})]}),s.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]}):o?s.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:s.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[s.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"❌"}),s.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Ошибка"}),s.jsx("p",{className:"body",style:{color:"var(--text-secondary)"},children:o}),s.jsx("button",{className:"flutter-button",style:{marginTop:"var(--spacing-lg)"},onClick:()=>t("/"),children:"На главную"})]})}):null}function t6(){const{clubId:e}=$r(),t=nn(),[n]=jo(),[r,o]=h.useState(null),[i,a]=h.useState(!0);n.get("paymentError"),h.useEffect(()=>{l()},[e]);const l=async()=>{if(!e){a(!1);return}try{const d=await ut(Pe(re,"venues",e));d.exists()&&o(d.data()),a(!1)}catch(d){console.error("Error loading venue:",d),a(!1)}},c=d=>{if(d.startsWith("+7")){const u=d.replace(/\D/g,"");if(u.length===11)return`+7 (${u.slice(1,4)}) ${u.slice(4,7)}-${u.slice(7,9)}-${u.slice(9,11)}`}return d};return i?s.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),s.jsx("p",{className:"body-small",children:"Загрузка..."})]}),s.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]}):s.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[s.jsxs("div",{style:{backgroundColor:"var(--error)",padding:"var(--spacing-3xl) var(--spacing-xl)",textAlign:"center",color:"white"},children:[s.jsx("div",{style:{width:"80px",height:"80px",backgroundColor:"white",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto var(--spacing-lg)",fontSize:"40px"},children:"❌"}),s.jsx("h1",{className:"h2",style:{color:"white",marginBottom:"var(--spacing-sm)"},children:"Ошибка оплаты"}),s.jsx("p",{className:"body",style:{color:"white",opacity:.9},children:"Платеж не был завершен успешно"})]}),s.jsxs("div",{style:{padding:"var(--spacing-xl)",maxWidth:"600px",margin:"0 auto"},children:[s.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)"},children:[s.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Что произошло?"}),s.jsx("p",{className:"body",style:{marginBottom:"var(--spacing-md)",color:"var(--text-secondary)"},children:"Без успешной оплаты бронирование не может быть подтверждено. Это может произойти по следующим причинам:"}),s.jsxs("ul",{style:{marginLeft:"var(--spacing-lg)",color:"var(--text-secondary)",marginBottom:"var(--spacing-md)"},children:[s.jsx("li",{children:"Недостаточно средств на карте"}),s.jsx("li",{children:"Превышен лимит по карте"}),s.jsx("li",{children:"Платеж был отменен"}),s.jsx("li",{children:"Технические проблемы с платежной системой"})]})]}),s.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)"},children:[s.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Что делать дальше?"}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-md)"},children:[s.jsxs("div",{style:{display:"flex",gap:"var(--spacing-md)",alignItems:"flex-start"},children:[s.jsx("div",{style:{width:"32px",height:"32px",backgroundColor:"var(--primary-light)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,color:"var(--primary)"},children:"1"}),s.jsxs("div",{children:[s.jsx("p",{className:"body-bold",style:{marginBottom:"var(--spacing-xxs)"},children:"Попробуйте забронировать снова"}),s.jsx("p",{className:"body-small",style:{color:"var(--text-secondary)"},children:"Проверьте баланс карты и повторите попытку бронирования"})]})]}),s.jsxs("div",{style:{display:"flex",gap:"var(--spacing-md)",alignItems:"flex-start"},children:[s.jsx("div",{style:{width:"32px",height:"32px",backgroundColor:"var(--primary-light)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,color:"var(--primary)"},children:"2"}),s.jsxs("div",{children:[s.jsx("p",{className:"body-bold",style:{marginBottom:"var(--spacing-xxs)"},children:"Свяжитесь с администратором"}),s.jsx("p",{className:"body-small",style:{color:"var(--text-secondary)",marginBottom:"var(--spacing-sm)"},children:"Позвоните в клуб для бронирования по телефону"}),(r==null?void 0:r.phone)&&s.jsxs("a",{href:`tel:${r.phone}`,style:{display:"inline-flex",alignItems:"center",gap:"var(--spacing-xs)",padding:"var(--spacing-sm) var(--spacing-md)",backgroundColor:"var(--primary-light)",borderRadius:"var(--radius-sm)",textDecoration:"none",color:"var(--primary)",fontWeight:600,fontSize:"var(--text-body)"},children:["📞 ",c(r.phone)]})]})]})]})]}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-md)"},children:[s.jsx("button",{className:"flutter-button",onClick:()=>t(`/club/${e}`),style:{width:"100%"},children:"Попробовать снова"}),(r==null?void 0:r.phone)&&s.jsxs("a",{href:`tel:${r.phone}`,className:"flutter-button-secondary",style:{width:"100%",textDecoration:"none",display:"flex",alignItems:"center",justifyContent:"center",gap:"var(--spacing-xs)"},children:[s.jsx("span",{children:"📞"}),"Позвонить в клуб"]})]})]})]})}function n6(){var R,B;const{clubId:e,courtId:t}=$r(),n=nn(),[r,o]=h.useState(null),[i,a]=h.useState(null),[l,c]=h.useState([]),[d,u]=h.useState(Qr()),[p,f]=h.useState(null),[g,v]=h.useState(60),[y,m]=h.useState([60,90,120]),[x,j]=h.useState(!0),[b,w]=h.useState(""),[N,k]=h.useState([]),[E,_]=h.useState([]),[D,S]=h.useState(window.innerWidth<=768);h.useEffect(()=>{const A=()=>S(window.innerWidth<=768);return window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)},[]),h.useEffect(()=>{T()},[]),h.useEffect(()=>{$()},[e,t]),h.useEffect(()=>{i&&r&&O()},[i,r,d,g]);const T=()=>{const A=[],I=["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],F=["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек"];for(let V=0;V<14;V++){const Y=Mr(Qr(),V);A.push({date:Y,day:I[Y.getDay()],dayNumber:Le(Y,"d"),month:V===0||Y.getDate()===1?F[Y.getMonth()]:void 0})}_(A)},$=async()=>{if(!e||!t){w("Некорректные параметры"),j(!1);return}try{const A=await ut(Pe(re,"courts",t));if(!A.exists()){w("Корт не найден"),j(!1);return}const I={id:A.id,...A.data()};o(I);const F=await ut(Pe(re,"venues",e));if(F.exists()){const V={id:F.id,...F.data()};if(a(V),V.bookingDurations){const Y=[60,90,120].filter(W=>V.bookingDurations[W]!==!1);m(Y),Y.includes(g)||v(Y[0]||60)}}j(!1)}catch(A){console.error("Error loading data:",A),w("Ошибка при загрузке данных"),j(!1)}},O=async()=>{if(!(!(i!=null&&i.workingHours)||!r))try{const A=Le(d,"yyyy-MM-dd"),I=$e(Ne(re,"bookings"),Te("courtId","==",t),Te("date","==",A),Te("status","in",["confirmed","pending"])),V=(await Fe(I)).docs.map(Y=>({id:Y.id,...Y.data()}));c(V),M(V)}catch(A){console.error("Error loading bookings:",A)}},M=A=>{if(!(i!=null&&i.workingHours)||!r)return;const F=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][d.getDay()],V=i.workingHours[F];if(!V)return;const Y=[],W=ln(V.open,"HH:mm",d),G=ln(V.close,"HH:mm",d);let H=W;const K=new Date;for(;Jt(H,G);){const X=Le(H,"HH:mm"),q=Gr(H,g);let ie=!0;if(Yx(d)&&Jt(H,K)&&(ie=!1),Gn(q,G)&&(ie=!1),ie)for(const U of A){const oe=ln(U.startTime,"HH:mm",d),he=ln(U.endTime,"HH:mm",d);if(Gn(H,oe)&&Jt(H,he)||Gn(q,oe)&&Jt(q,he)||Jt(H,oe)&&Gn(q,he)||Le(H,"HH:mm")===U.startTime){ie=!1;break}}let J=r.pricePerHour;const de=H.getHours();de>=18&&de<21?J=Math.round(J*1.2):(de>=21||de<7)&&(J=Math.round(J*.8)),Y.push({time:X,available:ie,price:Math.round(J*g/60)}),H=Gr(H,30)}k(Y)},P=()=>{if(!p)return;const A=Le(d,"yyyy-MM-dd");n(`/club/${e}/court/${t}/game-type?date=${A}&time=${p}&duration=${g}`)},L=A=>{const I=Qr();if(A<I)return!0;const F=Mr(I,30);if(A>F)return!0;if(i!=null&&i.workingHours){const Y=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][A.getDay()],W=i.workingHours[Y];if(!W||!W.open&&!W.close)return!0}return!1};return x?s.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),s.jsx("p",{className:"body-small",children:"Загрузка..."})]}),s.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]}):b?s.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:s.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[s.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"❌"}),s.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Ошибка"}),s.jsx("p",{className:"body",style:{color:"var(--text-secondary)"},children:b})]})}):s.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[s.jsx("div",{style:{backgroundColor:"var(--white)",padding:"var(--spacing-md) var(--spacing-xl)",boxShadow:"var(--shadow-sm)",position:"sticky",top:0,zIndex:10},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-md)"},children:[s.jsx("button",{onClick:()=>n(-1),style:{width:"40px",height:"40px",background:"var(--divider)",border:"none",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"},children:"←"}),s.jsxs("div",{children:[s.jsx("h1",{className:"h3",style:{marginBottom:"4px"},children:"Выберите время"}),r&&i&&s.jsxs("p",{className:"caption",children:[i.name," • ",r.name]})]})]})}),s.jsx("div",{style:{padding:D?"var(--spacing-md)":"var(--spacing-xl)",paddingBottom:D?"calc(140px + var(--spacing-xl))":"var(--spacing-xl)",maxWidth:"1200px",margin:"0 auto"},children:s.jsxs("div",{style:{display:D?"block":"grid",gridTemplateColumns:D?"1fr":"1fr 2fr",gap:"var(--spacing-xl)"},children:[s.jsxs("div",{children:[s.jsxs("div",{style:{marginBottom:"var(--spacing-xl)"},children:[s.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Выберите дату"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"var(--spacing-sm)"},children:E.map((A,I)=>{const F=Le(d,"yyyy-MM-dd")===Le(A.date,"yyyy-MM-dd"),V=L(A.date),Y=I===0;return s.jsxs("div",{style:{textAlign:"center"},children:[A.month&&s.jsx("div",{className:"caption",style:{marginBottom:"var(--spacing-xs)",color:"var(--gray)",height:"16px"},children:A.month}),!A.month&&s.jsx("div",{style:{height:"16px",marginBottom:"var(--spacing-xs)"}}),s.jsxs("button",{onClick:()=>!V&&u(A.date),disabled:V,style:{width:"100%",aspectRatio:"1",backgroundColor:F?"var(--primary)":V?"var(--extra-light-gray)":"var(--white)",color:F?"white":V?"var(--gray)":"var(--dark)",border:`2px solid ${F||Y&&!V?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",cursor:V?"not-allowed":"pointer",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",transition:"all 0.2s",opacity:V?.5:1,fontSize:"var(--text-caption)"},children:[s.jsx("span",{className:"caption-bold",children:A.day}),s.jsx("span",{className:"body-bold",children:A.dayNumber})]})]},I)})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Длительность игры"}),s.jsx("div",{style:{display:"flex",gap:"var(--spacing-sm)"},children:[60,90,120].map(A=>{const I=y.includes(A);return s.jsx("button",{onClick:()=>{I&&(v(A),f(null))},disabled:!I,style:{flex:1,padding:"var(--spacing-md)",backgroundColor:g===A?"var(--primary)":I?"var(--white)":"var(--extra-light-gray)",color:g===A?"white":I?"var(--dark)":"var(--gray)",border:`2px solid ${g===A?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",cursor:I?"pointer":"not-allowed",fontWeight:600,fontSize:"var(--text-body)",transition:"all 0.2s",opacity:I?1:.5},children:A===60?"1 час":A===90?"1.5 часа":"2 часа"},A)})})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:["Свободное время на ",Le(d,"d MMMM",{locale:In})]}),N.length===0?s.jsx("div",{className:"flutter-card",style:{textAlign:"center",padding:"var(--spacing-2xl)"},children:s.jsx("p",{className:"body",style:{color:"var(--gray)"},children:"Нет доступных слотов на выбранную дату"})}):s.jsx("div",{style:{display:"grid",gridTemplateColumns:D?"repeat(3, 1fr)":"repeat(4, 1fr)",gap:"var(--spacing-sm)"},children:N.map(A=>{const I=p===A.time;return s.jsxs("button",{onClick:()=>A.available&&f(A.time),disabled:!A.available,style:{padding:"var(--spacing-md) var(--spacing-xs)",backgroundColor:A.available?I?"var(--primary)":"var(--primary-light)":"var(--busy)",color:A.available?I?"white":"var(--dark)":"var(--busy-text)",border:`2px solid ${A.available?I?"var(--primary)":"var(--available)":"var(--busy)"}`,borderRadius:"var(--radius-sm)",cursor:A.available?"pointer":"not-allowed",opacity:1,transition:"all 0.2s",display:"flex",flexDirection:"column",alignItems:"center",gap:"4px",minHeight:D?"60px":"70px",justifyContent:"center"},children:[s.jsxs("span",{className:"body-bold",style:{fontSize:"14px"},children:[A.time,"-",(()=>{const[F,V]=A.time.split(":").map(Number),Y=Gr(ln(A.time,"HH:mm",new Date),g);return Le(Y,"HH:mm")})()]}),A.available?I&&s.jsx("span",{className:"caption",style:{color:"white",fontSize:"var(--text-caption)"},children:"Выбрано"}):s.jsx("span",{className:"caption",style:{color:"var(--busy-text)"},children:"Занято"})]},A.time)})}),s.jsxs("div",{style:{marginTop:"var(--spacing-lg)",display:"flex",gap:"var(--spacing-lg)",flexWrap:"wrap"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[s.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--primary-light)",border:"2px solid var(--available)",borderRadius:"4px"}}),s.jsx("span",{className:"caption",children:"Свободно"})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[s.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--busy)",borderRadius:"4px"}}),s.jsx("span",{className:"caption",children:"Занято"})]})]})]})]})}),s.jsxs("div",{className:"sticky-bottom-bar",style:{padding:"var(--spacing-xl)",borderRadius:"var(--radius-lg) var(--radius-lg) 0 0"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--spacing-sm)"},children:[s.jsx("span",{className:"body-small",style:{color:"var(--gray)"},children:p&&`${Le(d,"d MMMM",{locale:In})}, ${p}-${Le(Gr(ln(p,"HH:mm",new Date),g),"HH:mm")}`}),p&&((R=N.find(A=>A.time===p))==null?void 0:R.available)&&s.jsxs("span",{className:"h2",children:[(B=N.find(A=>A.time===p))==null?void 0:B.price," ₽"]})]}),s.jsx("button",{className:"flutter-button",style:{width:"100%"},onClick:P,disabled:!p,children:"Далее"})]})]})}function r6(){const{clubId:e}=$r(),[t,n]=h.useState(null),[r,o]=h.useState(!0),[i,a]=h.useState("");h.useEffect(()=>{e&&l()},[e]);const l=async()=>{try{const u=Pe(re,"venues",e),p=await ut(u);p.exists()?n(p.data()):a("Клуб не найден")}catch(u){console.error("Error loading club data:",u),a("Ошибка загрузки данных")}finally{o(!1)}},c=()=>{window.print()},d=()=>new Date().toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric"});return r?s.jsx(gi,{maxWidth:"md",sx:{py:4,display:"flex",justifyContent:"center"},children:s.jsx(tn,{})}):i||!t?s.jsxs(gi,{maxWidth:"md",sx:{py:4},children:[s.jsx(z,{color:"error",children:i||"Данные не найдены"}),s.jsx(Ie,{component:ud,to:"/",startIcon:s.jsx(fm,{}),sx:{mt:2},children:"Вернуться на главную"})]}):s.jsxs(gi,{maxWidth:"md",sx:{py:4},children:[s.jsxs(se,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center","@media print":{display:"none"}},children:[s.jsx(Ie,{component:ud,to:`/club/${e}`,startIcon:s.jsx(fm,{}),children:"Вернуться к клубу"}),s.jsx(Ie,{variant:"outlined",startIcon:s.jsx(cA,{}),onClick:c,children:"Печать"})]}),s.jsxs(un,{sx:{p:4,"@media print":{boxShadow:"none",p:2}},children:[s.jsx(z,{variant:"h4",component:"h1",align:"center",gutterBottom:!0,children:"ПОЛЬЗОВАТЕЛЬСКОЕ СОГЛАШЕНИЕ"}),s.jsx(z,{variant:"subtitle1",align:"center",gutterBottom:!0,color:"text.secondary",children:"об оказании услуг по предоставлению спортивных площадок"}),s.jsxs(z,{variant:"body2",align:"center",sx:{mt:3,mb:4},children:["Дата публикации: ",d()]}),s.jsxs(se,{sx:{mt:4},children:[s.jsxs(z,{paragraph:!0,children:["Настоящее Пользовательское соглашение (далее – «Соглашение») регулирует отношения между ",t.legalName||t.name,t.organizationType&&` (${t.organizationType})`,", именуемым в дальнейшем «Исполнитель», с одной стороны, и физическим лицом, именуемым в дальнейшем «Заказчик», с другой стороны, совместно именуемые «Стороны», по поводу оказания услуг по предоставлению спортивных площадок для занятий спортом."]}),s.jsx(z,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"1. ТЕРМИНЫ И ОПРЕДЕЛЕНИЯ"}),s.jsxs(z,{paragraph:!0,children:["1.1. ",s.jsx("strong",{children:"Клуб"})," — спортивный комплекс, расположенный по адресу: ",t.address,", управляемый Исполнителем."]}),s.jsxs(z,{paragraph:!0,children:["1.2. ",s.jsx("strong",{children:"Корт/Площадка"})," — специально оборудованная спортивная площадка для занятий теннисом, паделом, бадминтоном или иными видами спорта."]}),s.jsxs(z,{paragraph:!0,children:["1.3. ",s.jsx("strong",{children:"Бронирование"})," — резервирование Корта на определенную дату и время через мобильное приложение «Все Корты» или иным способом, предусмотренным Исполнителем."]}),s.jsxs(z,{paragraph:!0,children:["1.4. ",s.jsx("strong",{children:"Услуги"})," — предоставление Корта во временное пользование Заказчику для занятий спортом."]}),s.jsx(z,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"2. ПРЕДМЕТ СОГЛАШЕНИЯ"}),s.jsx(z,{paragraph:!0,children:"2.1. Исполнитель обязуется предоставить Заказчику во временное пользование Корт для занятий спортом, а Заказчик обязуется оплатить Услуги в соответствии с условиями настоящего Соглашения."}),s.jsx(z,{paragraph:!0,children:"2.2. Конкретные условия предоставления Услуг (дата, время, продолжительность, стоимость) определяются при Бронировании."}),s.jsx(z,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"3. ПОРЯДОК БРОНИРОВАНИЯ И ОПЛАТЫ"}),s.jsxs(z,{paragraph:!0,children:["3.1. Бронирование осуществляется через мобильное приложение «Все Корты», по телефону ",t.phone,"или иным доступным способом."]}),s.jsx(z,{paragraph:!0,children:"3.2. Оплата Услуг производится в соответствии с действующими тарифами Исполнителя одним из следующих способов:"}),s.jsxs(z,{component:"div",paragraph:!0,sx:{pl:2},children:["• Онлайн-оплата банковской картой через приложение",s.jsx("br",{}),"• Оплата наличными в кассе Клуба",s.jsx("br",{}),"• Оплата банковской картой на месте",s.jsx("br",{}),"• Безналичный перевод по реквизитам Исполнителя"]}),s.jsx(z,{paragraph:!0,children:"3.3. Бронирование считается подтвержденным после получения оплаты или подтверждения от администратора Клуба."}),s.jsx(z,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"4. ПРАВА И ОБЯЗАННОСТИ СТОРОН"}),s.jsx(z,{paragraph:!0,children:s.jsx("strong",{children:"4.1. Исполнитель обязуется:"})}),s.jsxs(z,{component:"div",paragraph:!0,sx:{pl:2},children:["• Предоставить Корт в соответствии с Бронированием",s.jsx("br",{}),"• Обеспечить надлежащее состояние Корта и оборудования",s.jsx("br",{}),"• Предоставить раздевалки и душевые (при наличии)",s.jsx("br",{}),"• Обеспечить безопасность на территории Клуба"]}),s.jsx(z,{paragraph:!0,children:s.jsx("strong",{children:"4.2. Заказчик обязуется:"})}),s.jsxs(z,{component:"div",paragraph:!0,sx:{pl:2},children:["• Своевременно оплатить Услуги",s.jsx("br",{}),"• Соблюдать правила поведения в Клубе",s.jsx("br",{}),"• Бережно относиться к имуществу Клуба",s.jsx("br",{}),"• Использовать спортивную обувь и форму",s.jsx("br",{}),"• Освободить Корт по истечении оплаченного времени"]}),s.jsx(z,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"5. ОТМЕНА И ПЕРЕНОС БРОНИРОВАНИЯ"}),s.jsx(z,{paragraph:!0,children:"5.1. Заказчик вправе отменить или перенести Бронирование не позднее чем за 24 часа до начала оказания Услуг."}),s.jsx(z,{paragraph:!0,children:"5.2. При отмене Бронирования менее чем за 24 часа, внесенная предоплата не возвращается."}),s.jsx(z,{paragraph:!0,children:"5.3. Исполнитель вправе отменить Бронирование по техническим причинам с полным возвратом предоплаты."}),s.jsx(z,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"6. ОТВЕТСТВЕННОСТЬ СТОРОН"}),s.jsx(z,{paragraph:!0,children:"6.1. Исполнитель не несет ответственности за вред, причиненный жизни и здоровью Заказчика в результате нарушения им правил техники безопасности и правил поведения в Клубе."}),s.jsx(z,{paragraph:!0,children:"6.2. Заказчик несет материальную ответственность за ущерб, причиненный имуществу Клуба."}),s.jsx(z,{paragraph:!0,children:"6.3. Исполнитель не несет ответственности за сохранность личных вещей Заказчика."}),s.jsx(z,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"7. ПЕРСОНАЛЬНЫЕ ДАННЫЕ"}),s.jsx(z,{paragraph:!0,children:"7.1. Заказчик дает согласие на обработку своих персональных данных в соответствии с Федеральным законом «О персональных данных» №152-ФЗ."}),s.jsx(z,{paragraph:!0,children:"7.2. Исполнитель обязуется использовать персональные данные Заказчика исключительно для оказания Услуг и не передавать их третьим лицам без согласия Заказчика."}),s.jsx(z,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"8. ЗАКЛЮЧИТЕЛЬНЫЕ ПОЛОЖЕНИЯ"}),s.jsx(z,{paragraph:!0,children:"8.1. Настоящее Соглашение вступает в силу с момента акцепта Заказчиком его условий путем оформления Бронирования и действует до полного исполнения Сторонами своих обязательств."}),s.jsx(z,{paragraph:!0,children:"8.2. Все споры и разногласия решаются путем переговоров, а при невозможности достижения соглашения — в судебном порядке."}),s.jsx(z,{paragraph:!0,children:"8.3. Исполнитель вправе в одностороннем порядке изменять условия настоящего Соглашения, публикуя изменения на сайте и в приложении."}),s.jsx(z,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"9. РЕКВИЗИТЫ ИСПОЛНИТЕЛЯ"}),s.jsx(se,{sx:{backgroundColor:"grey.50",p:3,borderRadius:1,mt:2},children:s.jsxs(z,{variant:"body2",component:"div",children:[s.jsx("strong",{children:t.legalName||t.name}),s.jsx("br",{}),t.legalAddress&&s.jsxs(s.Fragment,{children:["Юридический адрес: ",t.legalAddress,s.jsx("br",{})]}),t.inn&&s.jsxs(s.Fragment,{children:["ИНН: ",t.inn,s.jsx("br",{})]}),t.kpp&&s.jsxs(s.Fragment,{children:["КПП: ",t.kpp,s.jsx("br",{})]}),t.ogrn&&s.jsxs(s.Fragment,{children:["ОГРН: ",t.ogrn,s.jsx("br",{})]}),t.bankAccount&&s.jsxs(s.Fragment,{children:[s.jsx("br",{}),s.jsx("strong",{children:"Банковские реквизиты:"}),s.jsx("br",{}),"Расчетный счет: ",t.bankAccount,s.jsx("br",{}),t.bankName&&s.jsxs(s.Fragment,{children:["Банк: ",t.bankName,s.jsx("br",{})]}),t.bankBik&&s.jsxs(s.Fragment,{children:["БИК: ",t.bankBik,s.jsx("br",{})]}),t.bankCorrespondentAccount&&s.jsxs(s.Fragment,{children:["Корр. счет: ",t.bankCorrespondentAccount,s.jsx("br",{})]})]}),(t.directorName||t.directorPosition)&&s.jsxs(s.Fragment,{children:[s.jsx("br",{}),s.jsx("strong",{children:"Руководитель:"}),s.jsx("br",{}),t.directorPosition&&s.jsxs(s.Fragment,{children:[t.directorPosition," "]}),t.directorName]}),(t.phone||t.email)&&s.jsxs(s.Fragment,{children:[s.jsx("br",{}),s.jsx("strong",{children:"Контакты:"}),s.jsx("br",{}),t.phone&&s.jsxs(s.Fragment,{children:["Телефон: ",t.phone,s.jsx("br",{})]}),t.email&&s.jsxs(s.Fragment,{children:["Email: ",t.email]})]})]})})]})]})]})}const s6=Nu({palette:{primary:{main:"#00A86B"},secondary:{main:"#1A1F36"},success:{main:"#10B981"},warning:{main:"#F59E0B"},error:{main:"#EF4444"},background:{default:"#F8F9FA"}},typography:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, sans-serif'}});function o6(){return s.jsxs(gj,{theme:s6,children:[s.jsx(bj,{}),s.jsx(l$,{children:s.jsx(TS,{children:s.jsx(vb,{children:s.jsxs(yb,{children:[s.jsx(ot,{path:"/",element:s.jsx(_a,{to:"/admin/dashboard",replace:!0})}),s.jsx(ot,{path:"/info",element:s.jsx(UA,{})}),s.jsx(ot,{path:"/club/:clubId",element:s.jsx(L3,{})}),s.jsx(ot,{path:"/club/:clubId/court/:courtId/booking",element:s.jsx(n6,{})}),s.jsx(ot,{path:"/club/:clubId/court/:courtId/date",element:s.jsx(KL,{})}),s.jsx(ot,{path:"/club/:clubId/court/:courtId/time",element:s.jsx(QL,{})}),s.jsx(ot,{path:"/club/:clubId/court/:courtId/game-type",element:s.jsx(XL,{})}),s.jsx(ot,{path:"/club/:clubId/court/:courtId/payment",element:s.jsx(ZL,{})}),s.jsx(ot,{path:"/club/:clubId/booking-confirmation/:bookingId",element:s.jsx(JL,{})}),s.jsx(ot,{path:"/payment-result",element:s.jsx(e6,{})}),s.jsx(ot,{path:"/club/:clubId/payment-error",element:s.jsx(t6,{})}),s.jsx(ot,{path:"/club/:clubId/user-agreement",element:s.jsx(r6,{})}),s.jsx(ot,{path:"/login",element:s.jsx(bA,{})}),s.jsx(ot,{path:"/register",element:s.jsx(wA,{})}),s.jsx(ot,{path:"/admin/login",element:s.jsx(_a,{to:"/login",replace:!0})}),s.jsx(ot,{path:"/admin/register",element:s.jsx(_a,{to:"/register",replace:!0})}),s.jsxs(ot,{path:"/admin",element:s.jsx(WR,{children:s.jsx(Zd,{})}),children:[s.jsx(ot,{path:"dashboard",element:s.jsx(NA,{})}),s.jsx(ot,{path:"venues",element:s.jsx(qA,{})}),s.jsx(ot,{path:"billing-settings",element:s.jsx(e$,{})}),s.jsx(ot,{path:"admins",element:s.jsx(GA,{})}),s.jsx(ot,{path:"club",element:s.jsx(IA,{})}),s.jsx(ot,{path:"subscription",element:s.jsx(QA,{})}),s.jsx(ot,{path:"payment-settings",element:s.jsx(JA,{})}),s.jsx(ot,{path:"courts",element:s.jsx(DA,{})}),s.jsx(ot,{path:"bookings",element:s.jsx(WA,{})}),s.jsx(ot,{path:"finance",element:s.jsx(t$,{})}),s.jsx(ot,{path:"customers",element:s.jsx(HA,{})}),s.jsx(ot,{path:"marketing",element:s.jsx(n$,{})}),s.jsx(ot,{path:"settings",element:s.jsx(s$,{})}),s.jsx(ot,{path:"debug",element:s.jsx(o$,{})}),s.jsx(ot,{path:"fix-permissions",element:s.jsx(a$,{})})]})]})})})})]})}hd.createRoot(document.getElementById("root")).render(s.jsx(Qe.StrictMode,{children:s.jsx(o6,{})}));
