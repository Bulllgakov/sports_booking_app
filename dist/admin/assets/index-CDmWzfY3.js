const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-CFUTa8zD.js","assets/vendor-Bj75XVPh.js","assets/firebase-n6uIb8Jv.js"])))=>i.map(i=>d[i]);
var NE=Object.defineProperty;var TE=(e,t,n)=>t in e?NE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var jb=(e,t,n)=>TE(e,typeof t!="symbol"?t+"":t,n);import{r as b,a as n5,R as Vv,b as dl,d as mn,e as Ff,N as pu,u as rs,f as _E,O as kb,h as fo,L as Su,g as DE,i as qc,B as UE,j as LE,k as an}from"./vendor-Bj75XVPh.js";import{L as ME,a as Bt,_ as r5,C as s5,r as $p,s as us,j as vy,c as po,b as Nc,m as zp,d as PE,S as QE,e as RE,f as uh,g as HE,h as OE,D as i5,q as $E,i as zE,k as WE,l as Eb,n as a5,o as KE,p as hh,t as VE,u as Dg,v as GE,w as qE,x as o5,y as l5,z as A5,A as YE,B as XE,F as c5,E as JE,G as ZE,H as eI,I as tI,J as nI,K as rI,M as sI,N as Vt,O as Et,P as pt,Q as $t,R as An,T as bt,U as Gv,V as iI,W as d5,X as Ib,Y as Fb,Z as Nb,$ as yn,a0 as aI,a1 as wa,a2 as Yc,a3 as li,a4 as Qt,a5 as Cp,a6 as gc,a7 as oI,a8 as u5,a9 as yy}from"./firebase-n6uIb8Jv.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var h5={exports:{}},Ug={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lI=b,AI=Symbol.for("react.element"),cI=Symbol.for("react.fragment"),dI=Object.prototype.hasOwnProperty,uI=lI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hI={key:!0,ref:!0,__self:!0,__source:!0};function f5(e,t,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)dI.call(t,r)&&!hI.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:AI,type:e,key:a,ref:o,props:i,_owner:uI.current}}Ug.Fragment=cI;Ug.jsx=f5;Ug.jsxs=f5;h5.exports=Ug;var s=h5.exports,qv={},Tb=n5;qv.createRoot=Tb.createRoot,qv.hydrateRoot=Tb.hydrateRoot;function so(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}const fI=Object.freeze(Object.defineProperty({__proto__:null,default:so},Symbol.toStringTag,{value:"Module"})),Gl="$$material";function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(null,arguments)}function Ye(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function pI(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function gI(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var mI=function(){function e(n){var r=this;this._insertTag=function(i){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,a),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(gI(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var a=pI(i);try{a.insertRule(r,a.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},e}(),xs="-ms-",Wp="-moz-",_n="-webkit-",p5="comm",xy="rule",by="decl",vI="@import",g5="@keyframes",yI="@layer",xI=Math.abs,Lg=String.fromCharCode,bI=Object.assign;function wI(e,t){return cs(e,0)^45?(((t<<2^cs(e,0))<<2^cs(e,1))<<2^cs(e,2))<<2^cs(e,3):0}function m5(e){return e.trim()}function CI(e,t){return(e=t.exec(e))?e[0]:e}function Dn(e,t,n){return e.replace(t,n)}function Yv(e,t){return e.indexOf(t)}function cs(e,t){return e.charCodeAt(t)|0}function Wu(e,t,n){return e.slice(t,n)}function ha(e){return e.length}function wy(e){return e.length}function Nf(e,t){return t.push(e),e}function BI(e,t){return e.map(t).join("")}var Mg=1,Tc=1,v5=0,qs=0,Pr=0,Xc="";function Pg(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:Mg,column:Tc,length:o,return:""}}function $d(e,t){return bI(Pg("",null,null,"",null,null,0),e,{length:-e.length},t)}function SI(){return Pr}function jI(){return Pr=qs>0?cs(Xc,--qs):0,Tc--,Pr===10&&(Tc=1,Mg--),Pr}function ci(){return Pr=qs<v5?cs(Xc,qs++):0,Tc++,Pr===10&&(Tc=1,Mg++),Pr}function Ca(){return cs(Xc,qs)}function Bp(){return qs}function fh(e,t){return Wu(Xc,e,t)}function Ku(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function y5(e){return Mg=Tc=1,v5=ha(Xc=e),qs=0,[]}function x5(e){return Xc="",e}function Sp(e){return m5(fh(qs-1,Xv(e===91?e+2:e===40?e+1:e)))}function kI(e){for(;(Pr=Ca())&&Pr<33;)ci();return Ku(e)>2||Ku(Pr)>3?"":" "}function EI(e,t){for(;--t&&ci()&&!(Pr<48||Pr>102||Pr>57&&Pr<65||Pr>70&&Pr<97););return fh(e,Bp()+(t<6&&Ca()==32&&ci()==32))}function Xv(e){for(;ci();)switch(Pr){case e:return qs;case 34:case 39:e!==34&&e!==39&&Xv(Pr);break;case 40:e===41&&Xv(e);break;case 92:ci();break}return qs}function II(e,t){for(;ci()&&e+Pr!==57;)if(e+Pr===84&&Ca()===47)break;return"/*"+fh(t,qs-1)+"*"+Lg(e===47?e:ci())}function FI(e){for(;!Ku(Ca());)ci();return fh(e,qs)}function NI(e){return x5(jp("",null,null,null,[""],e=y5(e),0,[0],e))}function jp(e,t,n,r,i,a,o,l,A){for(var c=0,d=0,u=o,p=0,h=0,m=0,g=1,y=1,x=1,C=0,S="",w=i,_=a,E=r,T=S;y;)switch(m=C,C=ci()){case 40:if(m!=108&&cs(T,u-1)==58){Yv(T+=Dn(Sp(C),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:T+=Sp(C);break;case 9:case 10:case 13:case 32:T+=kI(m);break;case 92:T+=EI(Bp()-1,7);continue;case 47:switch(Ca()){case 42:case 47:Nf(TI(II(ci(),Bp()),t,n),A);break;default:T+="/"}break;case 123*g:l[c++]=ha(T)*x;case 125*g:case 59:case 0:switch(C){case 0:case 125:y=0;case 59+d:x==-1&&(T=Dn(T,/\f/g,"")),h>0&&ha(T)-u&&Nf(h>32?Db(T+";",r,n,u-1):Db(Dn(T," ","")+";",r,n,u-2),A);break;case 59:T+=";";default:if(Nf(E=_b(T,t,n,c,d,i,l,S,w=[],_=[],u),a),C===123)if(d===0)jp(T,t,E,E,w,a,u,l,_);else switch(p===99&&cs(T,3)===110?100:p){case 100:case 108:case 109:case 115:jp(e,E,E,r&&Nf(_b(e,E,E,0,0,i,l,S,i,w=[],u),_),i,_,u,l,r?w:_);break;default:jp(T,E,E,E,[""],_,0,l,_)}}c=d=h=0,g=x=1,S=T="",u=o;break;case 58:u=1+ha(T),h=m;default:if(g<1){if(C==123)--g;else if(C==125&&g++==0&&jI()==125)continue}switch(T+=Lg(C),C*g){case 38:x=d>0?1:(T+="\f",-1);break;case 44:l[c++]=(ha(T)-1)*x,x=1;break;case 64:Ca()===45&&(T+=Sp(ci())),p=Ca(),d=u=ha(S=T+=FI(Bp())),C++;break;case 45:m===45&&ha(T)==2&&(g=0)}}return a}function _b(e,t,n,r,i,a,o,l,A,c,d){for(var u=i-1,p=i===0?a:[""],h=wy(p),m=0,g=0,y=0;m<r;++m)for(var x=0,C=Wu(e,u+1,u=xI(g=o[m])),S=e;x<h;++x)(S=m5(g>0?p[x]+" "+C:Dn(C,/&\f/g,p[x])))&&(A[y++]=S);return Pg(e,t,n,i===0?xy:l,A,c,d)}function TI(e,t,n){return Pg(e,t,n,p5,Lg(SI()),Wu(e,2,-2),0)}function Db(e,t,n,r){return Pg(e,t,n,by,Wu(e,0,r),Wu(e,r+1,-1),r)}function mc(e,t){for(var n="",r=wy(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function _I(e,t,n,r){switch(e.type){case yI:if(e.children.length)break;case vI:case by:return e.return=e.return||e.value;case p5:return"";case g5:return e.return=e.value+"{"+mc(e.children,r)+"}";case xy:e.value=e.props.join(",")}return ha(n=mc(e.children,r))?e.return=e.value+"{"+n+"}":""}function DI(e){var t=wy(e);return function(n,r,i,a){for(var o="",l=0;l<t;l++)o+=e[l](n,r,i,a)||"";return o}}function UI(e){return function(t){t.root||(t=t.return)&&e(t)}}function b5(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var LI=function(t,n,r){for(var i=0,a=0;i=a,a=Ca(),i===38&&a===12&&(n[r]=1),!Ku(a);)ci();return fh(t,qs)},MI=function(t,n){var r=-1,i=44;do switch(Ku(i)){case 0:i===38&&Ca()===12&&(n[r]=1),t[r]+=LI(qs-1,n,r);break;case 2:t[r]+=Sp(i);break;case 4:if(i===44){t[++r]=Ca()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=Lg(i)}while(i=ci());return t},PI=function(t,n){return x5(MI(y5(t),n))},Ub=new WeakMap,QI=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!Ub.get(r))&&!i){Ub.set(t,!0);for(var a=[],o=PI(n,a),l=r.props,A=0,c=0;A<o.length;A++)for(var d=0;d<l.length;d++,c++)t.props[c]=a[A]?o[A].replace(/&\f/g,l[d]):l[d]+" "+o[A]}}},RI=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function w5(e,t){switch(wI(e,t)){case 5103:return _n+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return _n+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return _n+e+Wp+e+xs+e+e;case 6828:case 4268:return _n+e+xs+e+e;case 6165:return _n+e+xs+"flex-"+e+e;case 5187:return _n+e+Dn(e,/(\w+).+(:[^]+)/,_n+"box-$1$2"+xs+"flex-$1$2")+e;case 5443:return _n+e+xs+"flex-item-"+Dn(e,/flex-|-self/,"")+e;case 4675:return _n+e+xs+"flex-line-pack"+Dn(e,/align-content|flex-|-self/,"")+e;case 5548:return _n+e+xs+Dn(e,"shrink","negative")+e;case 5292:return _n+e+xs+Dn(e,"basis","preferred-size")+e;case 6060:return _n+"box-"+Dn(e,"-grow","")+_n+e+xs+Dn(e,"grow","positive")+e;case 4554:return _n+Dn(e,/([^-])(transform)/g,"$1"+_n+"$2")+e;case 6187:return Dn(Dn(Dn(e,/(zoom-|grab)/,_n+"$1"),/(image-set)/,_n+"$1"),e,"")+e;case 5495:case 3959:return Dn(e,/(image-set\([^]*)/,_n+"$1$`$1");case 4968:return Dn(Dn(e,/(.+:)(flex-)?(.*)/,_n+"box-pack:$3"+xs+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+_n+e+e;case 4095:case 3583:case 4068:case 2532:return Dn(e,/(.+)-inline(.+)/,_n+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ha(e)-1-t>6)switch(cs(e,t+1)){case 109:if(cs(e,t+4)!==45)break;case 102:return Dn(e,/(.+:)(.+)-([^]+)/,"$1"+_n+"$2-$3$1"+Wp+(cs(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Yv(e,"stretch")?w5(Dn(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(cs(e,t+1)!==115)break;case 6444:switch(cs(e,ha(e)-3-(~Yv(e,"!important")&&10))){case 107:return Dn(e,":",":"+_n)+e;case 101:return Dn(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+_n+(cs(e,14)===45?"inline-":"")+"box$3$1"+_n+"$2$3$1"+xs+"$2box$3")+e}break;case 5936:switch(cs(e,t+11)){case 114:return _n+e+xs+Dn(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return _n+e+xs+Dn(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return _n+e+xs+Dn(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return _n+e+xs+e+e}return e}var HI=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case by:t.return=w5(t.value,t.length);break;case g5:return mc([$d(t,{value:Dn(t.value,"@","@"+_n)})],i);case xy:if(t.length)return BI(t.props,function(a){switch(CI(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return mc([$d(t,{props:[Dn(a,/:(read-\w+)/,":"+Wp+"$1")]})],i);case"::placeholder":return mc([$d(t,{props:[Dn(a,/:(plac\w+)/,":"+_n+"input-$1")]}),$d(t,{props:[Dn(a,/:(plac\w+)/,":"+Wp+"$1")]}),$d(t,{props:[Dn(a,/:(plac\w+)/,xs+"input-$1")]})],i)}return""})}},OI=[HI],C5=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var y=g.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var i=t.stylisPlugins||OI,a={},o,l=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(g){for(var y=g.getAttribute("data-emotion").split(" "),x=1;x<y.length;x++)a[y[x]]=!0;l.push(g)});var A,c=[QI,RI];{var d,u=[_I,UI(function(g){d.insert(g)})],p=DI(c.concat(i,u)),h=function(y){return mc(NI(y),p)};A=function(y,x,C,S){d=C,h(y?y+"{"+x.styles+"}":x.styles),S&&(m.inserted[x.name]=!0)}}var m={key:n,sheet:new mI({key:n,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:a,registered:{},insert:A};return m.sheet.hydrate(l),m},B5={exports:{}},Hn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ss=typeof Symbol=="function"&&Symbol.for,Cy=ss?Symbol.for("react.element"):60103,By=ss?Symbol.for("react.portal"):60106,Qg=ss?Symbol.for("react.fragment"):60107,Rg=ss?Symbol.for("react.strict_mode"):60108,Hg=ss?Symbol.for("react.profiler"):60114,Og=ss?Symbol.for("react.provider"):60109,$g=ss?Symbol.for("react.context"):60110,Sy=ss?Symbol.for("react.async_mode"):60111,zg=ss?Symbol.for("react.concurrent_mode"):60111,Wg=ss?Symbol.for("react.forward_ref"):60112,Kg=ss?Symbol.for("react.suspense"):60113,$I=ss?Symbol.for("react.suspense_list"):60120,Vg=ss?Symbol.for("react.memo"):60115,Gg=ss?Symbol.for("react.lazy"):60116,zI=ss?Symbol.for("react.block"):60121,WI=ss?Symbol.for("react.fundamental"):60117,KI=ss?Symbol.for("react.responder"):60118,VI=ss?Symbol.for("react.scope"):60119;function hi(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Cy:switch(e=e.type,e){case Sy:case zg:case Qg:case Hg:case Rg:case Kg:return e;default:switch(e=e&&e.$$typeof,e){case $g:case Wg:case Gg:case Vg:case Og:return e;default:return t}}case By:return t}}}function S5(e){return hi(e)===zg}Hn.AsyncMode=Sy;Hn.ConcurrentMode=zg;Hn.ContextConsumer=$g;Hn.ContextProvider=Og;Hn.Element=Cy;Hn.ForwardRef=Wg;Hn.Fragment=Qg;Hn.Lazy=Gg;Hn.Memo=Vg;Hn.Portal=By;Hn.Profiler=Hg;Hn.StrictMode=Rg;Hn.Suspense=Kg;Hn.isAsyncMode=function(e){return S5(e)||hi(e)===Sy};Hn.isConcurrentMode=S5;Hn.isContextConsumer=function(e){return hi(e)===$g};Hn.isContextProvider=function(e){return hi(e)===Og};Hn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Cy};Hn.isForwardRef=function(e){return hi(e)===Wg};Hn.isFragment=function(e){return hi(e)===Qg};Hn.isLazy=function(e){return hi(e)===Gg};Hn.isMemo=function(e){return hi(e)===Vg};Hn.isPortal=function(e){return hi(e)===By};Hn.isProfiler=function(e){return hi(e)===Hg};Hn.isStrictMode=function(e){return hi(e)===Rg};Hn.isSuspense=function(e){return hi(e)===Kg};Hn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Qg||e===zg||e===Hg||e===Rg||e===Kg||e===$I||typeof e=="object"&&e!==null&&(e.$$typeof===Gg||e.$$typeof===Vg||e.$$typeof===Og||e.$$typeof===$g||e.$$typeof===Wg||e.$$typeof===WI||e.$$typeof===KI||e.$$typeof===VI||e.$$typeof===zI)};Hn.typeOf=hi;B5.exports=Hn;var GI=B5.exports,j5=GI,qI={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},YI={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},k5={};k5[j5.ForwardRef]=qI;k5[j5.Memo]=YI;var XI=!0;function E5(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):i&&(r+=i+" ")}),r}var jy=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||XI===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},ky=function(t,n,r){jy(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var a=n;do t.insert(n===a?"."+i:"",a,t.sheet,!0),a=a.next;while(a!==void 0)}};function JI(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var ZI={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},eF=/[A-Z]|^ms/g,tF=/_EMO_([^_]+?)_([^]*?)_EMO_/g,I5=function(t){return t.charCodeAt(1)===45},Lb=function(t){return t!=null&&typeof t!="boolean"},L0=b5(function(e){return I5(e)?e:e.replace(eF,"-$&").toLowerCase()}),Mb=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(tF,function(r,i,a){return fa={name:i,styles:a,next:fa},i})}return ZI[t]!==1&&!I5(t)&&typeof n=="number"&&n!==0?n+"px":n};function Vu(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return fa={name:i.name,styles:i.styles,next:fa},i.name;var a=n;if(a.styles!==void 0){var o=a.next;if(o!==void 0)for(;o!==void 0;)fa={name:o.name,styles:o.styles,next:fa},o=o.next;var l=a.styles+";";return l}return nF(e,t,n)}case"function":{if(e!==void 0){var A=fa,c=n(e);return fa=A,Vu(e,t,c)}break}}var d=n;if(t==null)return d;var u=t[d];return u!==void 0?u:d}function nF(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Vu(e,t,n[i])+";";else for(var a in n){var o=n[a];if(typeof o!="object"){var l=o;t!=null&&t[l]!==void 0?r+=a+"{"+t[l]+"}":Lb(l)&&(r+=L0(a)+":"+Mb(a,l)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var A=0;A<o.length;A++)Lb(o[A])&&(r+=L0(a)+":"+Mb(a,o[A])+";");else{var c=Vu(e,t,o);switch(a){case"animation":case"animationName":{r+=L0(a)+":"+c+";";break}default:r+=a+"{"+c+"}"}}}return r}var Pb=/label:\s*([^\s;{]+)\s*(;|$)/g,fa;function ph(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,i="";fa=void 0;var a=e[0];if(a==null||a.raw===void 0)r=!1,i+=Vu(n,t,a);else{var o=a;i+=o[0]}for(var l=1;l<e.length;l++)if(i+=Vu(n,t,e[l]),r){var A=a;i+=A[l]}Pb.lastIndex=0;for(var c="",d;(d=Pb.exec(i))!==null;)c+="-"+d[1];var u=JI(i)+c;return{name:u,styles:i,next:fa}}var rF=function(t){return t()},F5=Vv.useInsertionEffect?Vv.useInsertionEffect:!1,N5=F5||rF,Qb=F5||b.useLayoutEffect,T5=b.createContext(typeof HTMLElement<"u"?C5({key:"css"}):null),sF=T5.Provider,Ey=function(t){return b.forwardRef(function(n,r){var i=b.useContext(T5);return t(n,i,r)})},Jc=b.createContext({}),Iy={}.hasOwnProperty,Jv="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",iF=function(t,n){var r={};for(var i in n)Iy.call(n,i)&&(r[i]=n[i]);return r[Jv]=t,r},aF=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return jy(n,r,i),N5(function(){return ky(n,r,i)}),null},oF=Ey(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var i=e[Jv],a=[r],o="";typeof e.className=="string"?o=E5(t.registered,a,e.className):e.className!=null&&(o=e.className+" ");var l=ph(a,void 0,b.useContext(Jc));o+=t.key+"-"+l.name;var A={};for(var c in e)Iy.call(e,c)&&c!=="css"&&c!==Jv&&(A[c]=e[c]);return A.className=o,n&&(A.ref=n),b.createElement(b.Fragment,null,b.createElement(aF,{cache:t,serialized:l,isStringTag:typeof i=="string"}),b.createElement(i,A))}),lF=oF,M0={exports:{}},Rb;function _5(){return Rb||(Rb=1,function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var a in i)({}).hasOwnProperty.call(i,a)&&(n[a]=i[a])}return n},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(M0)),M0.exports}_5();var Hb=function(t,n){var r=arguments;if(n==null||!Iy.call(n,"css"))return b.createElement.apply(void 0,r);var i=r.length,a=new Array(i);a[0]=lF,a[1]=iF(t,n);for(var o=2;o<i;o++)a[o]=r[o];return b.createElement.apply(null,a)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(Hb||(Hb={}));var AF=Ey(function(e,t){var n=e.styles,r=ph([n],void 0,b.useContext(Jc)),i=b.useRef();return Qb(function(){var a=t.key+"-global",o=new t.sheet.constructor({key:a,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),l=!1,A=document.querySelector('style[data-emotion="'+a+" "+r.name+'"]');return t.sheet.tags.length&&(o.before=t.sheet.tags[0]),A!==null&&(l=!0,A.setAttribute("data-emotion",a),o.hydrate([A])),i.current=[o,l],function(){o.flush()}},[t]),Qb(function(){var a=i.current,o=a[0],l=a[1];if(l){a[1]=!1;return}if(r.next!==void 0&&ky(t,r.next,!0),o.tags.length){var A=o.tags[o.tags.length-1].nextElementSibling;o.before=A,o.flush()}t.insert("",r,o,!1)},[t,r.name]),null});function iA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ph(t)}function go(){var e=iA.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var cF=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,dF=b5(function(e){return cF.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),uF=dF,hF=function(t){return t!=="theme"},Ob=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?uF:hF},$b=function(t,n,r){var i;if(n){var a=n.shouldForwardProp;i=t.__emotion_forwardProp&&a?function(o){return t.__emotion_forwardProp(o)&&a(o)}:a}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},fF=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return jy(n,r,i),N5(function(){return ky(n,r,i)}),null},pF=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,a,o;n!==void 0&&(a=n.label,o=n.target);var l=$b(t,n,r),A=l||Ob(i),c=!A("as");return function(){var d=arguments,u=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(a!==void 0&&u.push("label:"+a+";"),d[0]==null||d[0].raw===void 0)u.push.apply(u,d);else{var p=d[0];u.push(p[0]);for(var h=d.length,m=1;m<h;m++)u.push(d[m],p[m])}var g=Ey(function(y,x,C){var S=c&&y.as||i,w="",_=[],E=y;if(y.theme==null){E={};for(var T in y)E[T]=y[T];E.theme=b.useContext(Jc)}typeof y.className=="string"?w=E5(x.registered,_,y.className):y.className!=null&&(w=y.className+" ");var F=ph(u.concat(_),x.registered,E);w+=x.key+"-"+F.name,o!==void 0&&(w+=" "+o);var M=c&&l===void 0?Ob(S):A,P={};for(var I in y)c&&I==="as"||M(I)&&(P[I]=y[I]);return P.className=w,C&&(P.ref=C),b.createElement(b.Fragment,null,b.createElement(fF,{cache:x,serialized:F,isStringTag:typeof S=="string"}),b.createElement(S,P))});return g.displayName=a!==void 0?a:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=i,g.__emotion_styles=u,g.__emotion_forwardProp=l,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(y,x){var C=e(y,W({},n,x,{shouldForwardProp:$b(g,x,!0)}));return C.apply(void 0,u)},g}},gF=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Zv=pF.bind(null);gF.forEach(function(e){Zv[e]=Zv(e)});function mF(e,t){const n=C5({key:"css",prepend:e});if(t){const r=n.insert;n.insert=(...i)=>(i[1].styles.match(/^@layer\s+[^{]*$/)||(i[1].styles=`@layer mui {${i[1].styles}}`),r(...i))}return n}const P0=new Map;function vF(e){const{injectFirst:t,enableCssLayer:n,children:r}=e,i=b.useMemo(()=>{const a=`${t}-${n}`;if(typeof document=="object"&&P0.has(a))return P0.get(a);const o=mF(t,n);return P0.set(a,o),o},[t,n]);return t||n?s.jsx(sF,{value:i,children:r}):r}function yF(e){return e==null||Object.keys(e).length===0}function D5(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?i=>t(yF(i)?n:i):t;return s.jsx(AF,{styles:r})}function Fy(e,t){return Zv(e,t)}const U5=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},zb=[];function Kp(e){return zb[0]=e,ph(zb)}const xF=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:D5,StyledEngineProvider:vF,ThemeContext:Jc,css:iA,default:Fy,internal_processStyles:U5,internal_serializeStyles:Kp,keyframes:go},Symbol.toStringTag,{value:"Module"}));function qa(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function L5(e){if(b.isValidElement(e)||!qa(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=L5(e[n])}),t}function Us(e,t,n={clone:!0}){const r=n.clone?W({},e):e;return qa(e)&&qa(t)&&Object.keys(t).forEach(i=>{b.isValidElement(t[i])?r[i]=t[i]:qa(t[i])&&Object.prototype.hasOwnProperty.call(e,i)&&qa(e[i])?r[i]=Us(e[i],t[i],n):n.clone?r[i]=qa(t[i])?L5(t[i]):t[i]:r[i]=t[i]}),r}const bF=Object.freeze(Object.defineProperty({__proto__:null,default:Us,isPlainObject:qa},Symbol.toStringTag,{value:"Module"})),wF=["values","unit","step"],CF=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>W({},n,{[r.key]:r.val}),{})};function M5(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,i=Ye(e,wF),a=CF(t),o=Object.keys(a);function l(p){return`@media (min-width:${typeof t[p]=="number"?t[p]:p}${n})`}function A(p){return`@media (max-width:${(typeof t[p]=="number"?t[p]:p)-r/100}${n})`}function c(p,h){const m=o.indexOf(h);return`@media (min-width:${typeof t[p]=="number"?t[p]:p}${n}) and (max-width:${(m!==-1&&typeof t[o[m]]=="number"?t[o[m]]:h)-r/100}${n})`}function d(p){return o.indexOf(p)+1<o.length?c(p,o[o.indexOf(p)+1]):l(p)}function u(p){const h=o.indexOf(p);return h===0?l(o[1]):h===o.length-1?A(o[h]):c(p,o[o.indexOf(p)+1]).replace("@media","@media not all and")}return W({keys:o,values:a,up:l,down:A,between:c,only:d,not:u,unit:n},i)}const BF={borderRadius:4};function ju(e,t){return t?Us(e,t,{clone:!1}):e}const Ny={xs:0,sm:600,md:900,lg:1200,xl:1536},Wb={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${Ny[e]}px)`};function Ys(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const a=r.breakpoints||Wb;return t.reduce((o,l,A)=>(o[a.up(a.keys[A])]=n(t[A]),o),{})}if(typeof t=="object"){const a=r.breakpoints||Wb;return Object.keys(t).reduce((o,l)=>{if(Object.keys(a.values||Ny).indexOf(l)!==-1){const A=a.up(l);o[A]=n(t[l],l)}else{const A=l;o[A]=t[A]}return o},{})}return n(t)}function P5(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((r,i)=>{const a=e.up(i);return r[a]={},r},{}))||{}}function e1(e,t){return e.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},t)}function SF(e,...t){const n=P5(e),r=[n,...t].reduce((i,a)=>Us(i,a),{});return e1(Object.keys(n),r)}function jF(e,t){if(typeof e!="object")return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((i,a)=>{a<e.length&&(n[i]=!0)}):r.forEach(i=>{e[i]!=null&&(n[i]=!0)}),n}function Rl({values:e,breakpoints:t,base:n}){const r=n||jF(e,t),i=Object.keys(r);if(i.length===0)return e;let a;return i.reduce((o,l,A)=>(Array.isArray(e)?(o[l]=e[A]!=null?e[A]:e[a],a=A):typeof e=="object"?(o[l]=e[l]!=null?e[l]:e[a],a=l):o[l]=e,o),{})}function Ge(e){if(typeof e!="string")throw new Error(so(7));return e.charAt(0).toUpperCase()+e.slice(1)}const kF=Object.freeze(Object.defineProperty({__proto__:null,default:Ge},Symbol.toStringTag,{value:"Module"}));function qg(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((i,a)=>i&&i[a]?i[a]:null,e);if(r!=null)return r}return t.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function Vp(e,t,n,r=n){let i;return typeof e=="function"?i=e(n):Array.isArray(e)?i=e[n]||r:i=qg(e,n)||r,t&&(i=t(i,r,e)),i}function _r(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,a=o=>{if(o[t]==null)return null;const l=o[t],A=o.theme,c=qg(A,r)||{};return Ys(o,l,u=>{let p=Vp(c,i,u);return u===p&&typeof u=="string"&&(p=Vp(c,i,`${t}${u==="default"?"":Ge(u)}`,u)),n===!1?p:{[n]:p}})};return a.propTypes={},a.filterProps=[t],a}function EF(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const IF={m:"margin",p:"padding"},FF={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Kb={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},NF=EF(e=>{if(e.length>2)if(Kb[e])e=Kb[e];else return[e];const[t,n]=e.split(""),r=IF[t],i=FF[n]||"";return Array.isArray(i)?i.map(a=>r+a):[r+i]}),Ty=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],_y=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Ty,..._y];function gh(e,t,n,r){var i;const a=(i=qg(e,t,!1))!=null?i:n;return typeof a=="number"?o=>typeof o=="string"?o:a*o:Array.isArray(a)?o=>typeof o=="string"?o:a[o]:typeof a=="function"?a:()=>{}}function Dy(e){return gh(e,"spacing",8)}function ql(e,t){if(typeof t=="string"||t==null)return t;const n=Math.abs(t),r=e(n);return t>=0?r:typeof r=="number"?-r:`-${r}`}function TF(e,t){return n=>e.reduce((r,i)=>(r[i]=ql(t,n),r),{})}function _F(e,t,n,r){if(t.indexOf(n)===-1)return null;const i=NF(n),a=TF(i,r),o=e[n];return Ys(e,o,a)}function Q5(e,t){const n=Dy(e.theme);return Object.keys(e).map(r=>_F(e,t,r,n)).reduce(ju,{})}function vr(e){return Q5(e,Ty)}vr.propTypes={};vr.filterProps=Ty;function yr(e){return Q5(e,_y)}yr.propTypes={};yr.filterProps=_y;function DF(e=8){if(e.mui)return e;const t=Dy({spacing:e}),n=(...r)=>(r.length===0?[1]:r).map(a=>{const o=t(a);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function Yg(...e){const t=e.reduce((r,i)=>(i.filterProps.forEach(a=>{r[a]=i}),r),{}),n=r=>Object.keys(r).reduce((i,a)=>t[a]?ju(i,t[a](r)):i,{});return n.propTypes={},n.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),n}function ki(e){return typeof e!="number"?e:`${e}px solid`}function Qi(e,t){return _r({prop:e,themeKey:"borders",transform:t})}const UF=Qi("border",ki),LF=Qi("borderTop",ki),MF=Qi("borderRight",ki),PF=Qi("borderBottom",ki),QF=Qi("borderLeft",ki),RF=Qi("borderColor"),HF=Qi("borderTopColor"),OF=Qi("borderRightColor"),$F=Qi("borderBottomColor"),zF=Qi("borderLeftColor"),WF=Qi("outline",ki),KF=Qi("outlineColor"),Xg=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=gh(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:ql(t,r)});return Ys(e,e.borderRadius,n)}return null};Xg.propTypes={};Xg.filterProps=["borderRadius"];Yg(UF,LF,MF,PF,QF,RF,HF,OF,$F,zF,Xg,WF,KF);const Jg=e=>{if(e.gap!==void 0&&e.gap!==null){const t=gh(e.theme,"spacing",8),n=r=>({gap:ql(t,r)});return Ys(e,e.gap,n)}return null};Jg.propTypes={};Jg.filterProps=["gap"];const Zg=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=gh(e.theme,"spacing",8),n=r=>({columnGap:ql(t,r)});return Ys(e,e.columnGap,n)}return null};Zg.propTypes={};Zg.filterProps=["columnGap"];const em=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=gh(e.theme,"spacing",8),n=r=>({rowGap:ql(t,r)});return Ys(e,e.rowGap,n)}return null};em.propTypes={};em.filterProps=["rowGap"];const VF=_r({prop:"gridColumn"}),GF=_r({prop:"gridRow"}),qF=_r({prop:"gridAutoFlow"}),YF=_r({prop:"gridAutoColumns"}),XF=_r({prop:"gridAutoRows"}),JF=_r({prop:"gridTemplateColumns"}),ZF=_r({prop:"gridTemplateRows"}),eN=_r({prop:"gridTemplateAreas"}),tN=_r({prop:"gridArea"});Yg(Jg,Zg,em,VF,GF,qF,YF,XF,JF,ZF,eN,tN);function vc(e,t){return t==="grey"?t:e}const nN=_r({prop:"color",themeKey:"palette",transform:vc}),rN=_r({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:vc}),sN=_r({prop:"backgroundColor",themeKey:"palette",transform:vc});Yg(nN,rN,sN);function ii(e){return e<=1&&e!==0?`${e*100}%`:e}const iN=_r({prop:"width",transform:ii}),Uy=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var r,i;const a=((r=e.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||Ny[n];return a?((i=e.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${a}${e.theme.breakpoints.unit}`}:{maxWidth:a}:{maxWidth:ii(n)}};return Ys(e,e.maxWidth,t)}return null};Uy.filterProps=["maxWidth"];const aN=_r({prop:"minWidth",transform:ii}),oN=_r({prop:"height",transform:ii}),lN=_r({prop:"maxHeight",transform:ii}),AN=_r({prop:"minHeight",transform:ii});_r({prop:"size",cssProperty:"width",transform:ii});_r({prop:"size",cssProperty:"height",transform:ii});const cN=_r({prop:"boxSizing"});Yg(iN,Uy,aN,oN,lN,AN,cN);const mh={border:{themeKey:"borders",transform:ki},borderTop:{themeKey:"borders",transform:ki},borderRight:{themeKey:"borders",transform:ki},borderBottom:{themeKey:"borders",transform:ki},borderLeft:{themeKey:"borders",transform:ki},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ki},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Xg},color:{themeKey:"palette",transform:vc},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:vc},backgroundColor:{themeKey:"palette",transform:vc},p:{style:yr},pt:{style:yr},pr:{style:yr},pb:{style:yr},pl:{style:yr},px:{style:yr},py:{style:yr},padding:{style:yr},paddingTop:{style:yr},paddingRight:{style:yr},paddingBottom:{style:yr},paddingLeft:{style:yr},paddingX:{style:yr},paddingY:{style:yr},paddingInline:{style:yr},paddingInlineStart:{style:yr},paddingInlineEnd:{style:yr},paddingBlock:{style:yr},paddingBlockStart:{style:yr},paddingBlockEnd:{style:yr},m:{style:vr},mt:{style:vr},mr:{style:vr},mb:{style:vr},ml:{style:vr},mx:{style:vr},my:{style:vr},margin:{style:vr},marginTop:{style:vr},marginRight:{style:vr},marginBottom:{style:vr},marginLeft:{style:vr},marginX:{style:vr},marginY:{style:vr},marginInline:{style:vr},marginInlineStart:{style:vr},marginInlineEnd:{style:vr},marginBlock:{style:vr},marginBlockStart:{style:vr},marginBlockEnd:{style:vr},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Jg},rowGap:{style:em},columnGap:{style:Zg},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:ii},maxWidth:{style:Uy},minWidth:{transform:ii},height:{transform:ii},maxHeight:{transform:ii},minHeight:{transform:ii},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function dN(...e){const t=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function uN(e,t){return typeof e=="function"?e(t):e}function R5(){function e(n,r,i,a){const o={[n]:r,theme:i},l=a[n];if(!l)return{[n]:r};const{cssProperty:A=n,themeKey:c,transform:d,style:u}=l;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const p=qg(i,c)||{};return u?u(o):Ys(o,r,m=>{let g=Vp(p,d,m);return m===g&&typeof m=="string"&&(g=Vp(p,d,`${n}${m==="default"?"":Ge(m)}`,m)),A===!1?g:{[A]:g}})}function t(n){var r;const{sx:i,theme:a={},nested:o}=n||{};if(!i)return null;const l=(r=a.unstable_sxConfig)!=null?r:mh;function A(c){let d=c;if(typeof c=="function")d=c(a);else if(typeof c!="object")return c;if(!d)return null;const u=P5(a.breakpoints),p=Object.keys(u);let h=u;return Object.keys(d).forEach(m=>{const g=uN(d[m],a);if(g!=null)if(typeof g=="object")if(l[m])h=ju(h,e(m,g,a,l));else{const y=Ys({theme:a},g,x=>({[m]:x}));dN(y,g)?h[m]=t({sx:g,theme:a,nested:!0}):h=ju(h,y)}else h=ju(h,e(m,g,a,l))}),!o&&a.modularCssLayers?{"@layer sx":e1(p,h)}:e1(p,h)}return Array.isArray(i)?i.map(A):A(i)}return t}const Zc=R5();Zc.filterProps=["sx"];function H5(e,t){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}:n.palette.mode===e?t:{}}const hN=["breakpoints","palette","spacing","shape"];function ed(e={},...t){const{breakpoints:n={},palette:r={},spacing:i,shape:a={}}=e,o=Ye(e,hN),l=M5(n),A=DF(i);let c=Us({breakpoints:l,direction:"ltr",components:{},palette:W({mode:"light"},r),spacing:A,shape:W({},BF,a)},o);return c.applyStyles=H5,c=t.reduce((d,u)=>Us(d,u),c),c.unstable_sxConfig=W({},mh,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(u){return Zc({sx:u,theme:this})},c}const fN=Object.freeze(Object.defineProperty({__proto__:null,default:ed,private_createBreakpoints:M5,unstable_applyStyles:H5},Symbol.toStringTag,{value:"Module"}));function pN(e){return Object.keys(e).length===0}function tm(e=null){const t=b.useContext(Jc);return!t||pN(t)?e:t}const gN=ed();function td(e=gN){return tm(e)}function Q0(e){const t=Kp(e);return e!==t&&t.styles?(t.styles.match(/^@layer\s+[^{]*$/)||(t.styles=`@layer global{${t.styles}}`),t):e}function O5({styles:e,themeId:t,defaultTheme:n={}}){const r=td(n),i=t&&r[t]||r;let a=typeof e=="function"?e(i):e;return i.modularCssLayers&&(Array.isArray(a)?a=a.map(o=>Q0(typeof o=="function"?o(i):o)):a=Q0(a)),s.jsx(D5,{styles:a})}const mN=["sx"],vN=e=>{var t,n;const r={systemProps:{},otherProps:{}},i=(t=e==null||(n=e.theme)==null?void 0:n.unstable_sxConfig)!=null?t:mh;return Object.keys(e).forEach(a=>{i[a]?r.systemProps[a]=e[a]:r.otherProps[a]=e[a]}),r};function vh(e){const{sx:t}=e,n=Ye(e,mN),{systemProps:r,otherProps:i}=vN(n);let a;return Array.isArray(t)?a=[r,...t]:typeof t=="function"?a=(...o)=>{const l=t(...o);return qa(l)?W({},r,l):r}:a=W({},r,t),W({},i,{sx:a})}const yN=Object.freeze(Object.defineProperty({__proto__:null,default:Zc,extendSxProp:vh,unstable_createStyleFunctionSx:R5,unstable_defaultSxConfig:mh},Symbol.toStringTag,{value:"Module"})),Vb=e=>e,xN=()=>{let e=Vb;return{configure(t){e=t},generate(t){return e(t)},reset(){e=Vb}}},$5=xN();function z5(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=z5(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Je(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=z5(e))&&(r&&(r+=" "),r+=t);return r}const bN=["className","component"];function wN(e={}){const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=e,a=Fy("div",{shouldForwardProp:l=>l!=="theme"&&l!=="sx"&&l!=="as"})(Zc);return b.forwardRef(function(A,c){const d=td(n),u=vh(A),{className:p,component:h="div"}=u,m=Ye(u,bN);return s.jsx(a,W({as:h,ref:c,className:Je(p,i?i(r):r),theme:t&&d[t]||d},m))})}const CN={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function gt(e,t,n="Mui"){const r=CN[t];return r?`${n}-${r}`:`${$5.generate(e)}-${t}`}function mt(e,t,n="Mui"){const r={};return t.forEach(i=>{r[i]=gt(e,i,n)}),r}var W5={exports:{}},qn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ly=Symbol.for("react.transitional.element"),My=Symbol.for("react.portal"),nm=Symbol.for("react.fragment"),rm=Symbol.for("react.strict_mode"),sm=Symbol.for("react.profiler"),im=Symbol.for("react.consumer"),am=Symbol.for("react.context"),om=Symbol.for("react.forward_ref"),lm=Symbol.for("react.suspense"),Am=Symbol.for("react.suspense_list"),cm=Symbol.for("react.memo"),dm=Symbol.for("react.lazy"),BN=Symbol.for("react.view_transition"),SN=Symbol.for("react.client.reference");function Ri(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Ly:switch(e=e.type,e){case nm:case sm:case rm:case lm:case Am:case BN:return e;default:switch(e=e&&e.$$typeof,e){case am:case om:case dm:case cm:return e;case im:return e;default:return t}}case My:return t}}}qn.ContextConsumer=im;qn.ContextProvider=am;qn.Element=Ly;qn.ForwardRef=om;qn.Fragment=nm;qn.Lazy=dm;qn.Memo=cm;qn.Portal=My;qn.Profiler=sm;qn.StrictMode=rm;qn.Suspense=lm;qn.SuspenseList=Am;qn.isContextConsumer=function(e){return Ri(e)===im};qn.isContextProvider=function(e){return Ri(e)===am};qn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ly};qn.isForwardRef=function(e){return Ri(e)===om};qn.isFragment=function(e){return Ri(e)===nm};qn.isLazy=function(e){return Ri(e)===dm};qn.isMemo=function(e){return Ri(e)===cm};qn.isPortal=function(e){return Ri(e)===My};qn.isProfiler=function(e){return Ri(e)===sm};qn.isStrictMode=function(e){return Ri(e)===rm};qn.isSuspense=function(e){return Ri(e)===lm};qn.isSuspenseList=function(e){return Ri(e)===Am};qn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===nm||e===sm||e===rm||e===lm||e===Am||typeof e=="object"&&e!==null&&(e.$$typeof===dm||e.$$typeof===cm||e.$$typeof===am||e.$$typeof===im||e.$$typeof===om||e.$$typeof===SN||e.getModuleId!==void 0)};qn.typeOf=Ri;W5.exports=qn;var Gb=W5.exports;const jN=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function K5(e){const t=`${e}`.match(jN);return t&&t[1]||""}function V5(e,t=""){return e.displayName||e.name||K5(e)||t}function qb(e,t,n){const r=V5(t);return e.displayName||(r!==""?`${n}(${r})`:n)}function kN(e){if(e!=null){if(typeof e=="string")return e;if(typeof e=="function")return V5(e,"Component");if(typeof e=="object")switch(e.$$typeof){case Gb.ForwardRef:return qb(e,e.render,"ForwardRef");case Gb.Memo:return qb(e,e.type,"memo");default:return}}}const EN=Object.freeze(Object.defineProperty({__proto__:null,default:kN,getFunctionName:K5},Symbol.toStringTag,{value:"Module"})),IN=["ownerState"],FN=["variants"],NN=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function TN(e){return Object.keys(e).length===0}function _N(e){return typeof e=="string"&&e.charCodeAt(0)>96}function R0(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function Yb(e,t){return t&&e&&typeof e=="object"&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}const DN=ed(),UN=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function Tf({defaultTheme:e,theme:t,themeId:n}){return TN(t)?e:t[n]||t}function LN(e){return e?(t,n)=>n[e]:null}function kp(e,t,n){let{ownerState:r}=t,i=Ye(t,IN);const a=typeof e=="function"?e(W({ownerState:r},i)):e;if(Array.isArray(a))return a.flatMap(o=>kp(o,W({ownerState:r},i),n));if(a&&typeof a=="object"&&Array.isArray(a.variants)){const{variants:o=[]}=a;let A=Ye(a,FN);return o.forEach(c=>{let d=!0;if(typeof c.props=="function"?d=c.props(W({ownerState:r},i,r)):Object.keys(c.props).forEach(u=>{(r==null?void 0:r[u])!==c.props[u]&&i[u]!==c.props[u]&&(d=!1)}),d){Array.isArray(A)||(A=[A]);const u=typeof c.style=="function"?c.style(W({ownerState:r},i,r)):c.style;A.push(n?Yb(Kp(u),n):u)}}),A}return n?Yb(Kp(a),n):a}function MN(e={}){const{themeId:t,defaultTheme:n=DN,rootShouldForwardProp:r=R0,slotShouldForwardProp:i=R0}=e,a=o=>Zc(W({},o,{theme:Tf(W({},o,{defaultTheme:n,themeId:t}))}));return a.__mui_systemSx=!0,(o,l={})=>{U5(o,E=>E.filter(T=>!(T!=null&&T.__mui_systemSx)));const{name:A,slot:c,skipVariantsResolver:d,skipSx:u,overridesResolver:p=LN(UN(c))}=l,h=Ye(l,NN),m=A&&A.startsWith("Mui")||c?"components":"custom",g=d!==void 0?d:c&&c!=="Root"&&c!=="root"||!1,y=u||!1;let x,C=R0;c==="Root"||c==="root"?C=r:c?C=i:_N(o)&&(C=void 0);const S=Fy(o,W({shouldForwardProp:C,label:x},h)),w=E=>typeof E=="function"&&E.__emotion_real!==E||qa(E)?T=>{const F=Tf({theme:T.theme,defaultTheme:n,themeId:t});return kp(E,W({},T,{theme:F}),F.modularCssLayers?m:void 0)}:E,_=(E,...T)=>{let F=w(E);const M=T?T.map(w):[];A&&p&&M.push(j=>{const U=Tf(W({},j,{defaultTheme:n,themeId:t}));if(!U.components||!U.components[A]||!U.components[A].styleOverrides)return null;const N=U.components[A].styleOverrides,z={};return Object.entries(N).forEach(([L,D])=>{z[L]=kp(D,W({},j,{theme:U}),U.modularCssLayers?"theme":void 0)}),p(j,z)}),A&&!g&&M.push(j=>{var U;const N=Tf(W({},j,{defaultTheme:n,themeId:t})),z=N==null||(U=N.components)==null||(U=U[A])==null?void 0:U.variants;return kp({variants:z},W({},j,{theme:N}),N.modularCssLayers?"theme":void 0)}),y||M.push(a);const P=M.length-T.length;if(Array.isArray(E)&&P>0){const j=new Array(P).fill("");F=[...E,...j],F.raw=[...E.raw,...j]}const I=S(F,...M);return o.muiName&&(I.muiName=o.muiName),I};return S.withConfig&&(_.withConfig=S.withConfig),_}}const G5=MN();function Gu(e,t){const n=W({},t);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=W({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},a=t[r];n[r]={},!a||!Object.keys(a)?n[r]=i:!i||!Object.keys(i)?n[r]=a:(n[r]=W({},a),Object.keys(i).forEach(o=>{n[r][o]=Gu(i[o],a[o])}))}else n[r]===void 0&&(n[r]=e[r])}),n}function q5(e){const{theme:t,name:n,props:r}=e;return!t||!t.components||!t.components[n]||!t.components[n].defaultProps?r:Gu(t.components[n].defaultProps,r)}function Py({props:e,name:t,defaultTheme:n,themeId:r}){let i=td(n);return r&&(i=i[r]||i),q5({theme:i,name:t,props:e})}const Es=typeof window<"u"?b.useLayoutEffect:b.useEffect;function PN(e,t,n,r,i){const[a,o]=b.useState(()=>i&&n?n(e).matches:r?r(e).matches:t);return Es(()=>{let l=!0;if(!n)return;const A=n(e),c=()=>{l&&o(A.matches)};return c(),A.addListener(c),()=>{l=!1,A.removeListener(c)}},[e,n]),a}const Y5=b.useSyncExternalStore;function QN(e,t,n,r,i){const a=b.useCallback(()=>t,[t]),o=b.useMemo(()=>{if(i&&n)return()=>n(e).matches;if(r!==null){const{matches:d}=r(e);return()=>d}return a},[a,e,r,i,n]),[l,A]=b.useMemo(()=>{if(n===null)return[a,()=>()=>{}];const d=n(e);return[()=>d.matches,u=>(d.addListener(u),()=>{d.removeListener(u)})]},[a,n,e]);return Y5(A,l,o)}function RN(e,t={}){const n=tm(),r=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:i=!1,matchMedia:a=r?window.matchMedia:null,ssrMatchMedia:o=null,noSsr:l=!1}=q5({name:"MuiUseMediaQuery",props:t,theme:n});let A=e;return A=A.replace(/^@media( ?)/m,""),(Y5!==void 0?QN:PN)(A,i,a,o,l)}function X5(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}const HN=Object.freeze(Object.defineProperty({__proto__:null,default:X5},Symbol.toStringTag,{value:"Module"}));function ON(e,t=0,n=1){return X5(e,t,n)}function $N(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function J5(e){if(e.type)return e;if(e.charAt(0)==="#")return J5($N(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(so(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(so(10,i))}else r=r.split(",");return r=r.map(a=>parseFloat(a)),{type:n,values:r,colorSpace:i}}function zN(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((i,a)=>a<3?parseInt(i,10):i):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function _c(e,t){return e=J5(e),t=ON(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,zN(e)}function Xb(...e){return e.reduce((t,n)=>n==null?t:function(...i){t.apply(this,i),n.apply(this,i)},()=>{})}function um(e,t=166){let n;function r(...i){const a=()=>{e.apply(this,i)};clearTimeout(n),n=setTimeout(a,t)}return r.clear=()=>{clearTimeout(n)},r}function Ep(e,t){var n,r;return b.isValidElement(e)&&t.indexOf((n=e.type.muiName)!=null?n:(r=e.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function zr(e){return e&&e.ownerDocument||document}function io(e){return zr(e).defaultView||window}function t1(e,t){typeof e=="function"?e(t):e&&(e.current=t)}let Jb=0;function WN(e){const[t,n]=b.useState(e),r=e||t;return b.useEffect(()=>{t==null&&(Jb+=1,n(`mui-${Jb}`))},[t]),r}const Zb=Vv.useId;function nd(e){if(Zb!==void 0){const t=Zb();return e??t}return WN(e)}function ja({controlled:e,default:t,name:n,state:r="value"}){const{current:i}=b.useRef(e!==void 0),[a,o]=b.useState(t),l=i?e:a,A=b.useCallback(c=>{i||o(c)},[]);return[l,A]}function sn(e){const t=b.useRef(e);return Es(()=>{t.current=e}),b.useRef((...n)=>(0,t.current)(...n)).current}function ar(...e){return b.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{t1(n,t)})},e)}const e2={};function KN(e,t){const n=b.useRef(e2);return n.current===e2&&(n.current=e(t)),n}const VN=[];function GN(e){b.useEffect(e,VN)}class yh{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new yh}start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}}function Oo(){const e=KN(yh.create).current;return GN(e.disposeEffect),e}let hm=!0,n1=!1;const qN=new yh,YN={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function XN(e){const{type:t,tagName:n}=e;return!!(n==="INPUT"&&YN[t]&&!e.readOnly||n==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function JN(e){e.metaKey||e.altKey||e.ctrlKey||(hm=!0)}function H0(){hm=!1}function ZN(){this.visibilityState==="hidden"&&n1&&(hm=!0)}function eT(e){e.addEventListener("keydown",JN,!0),e.addEventListener("mousedown",H0,!0),e.addEventListener("pointerdown",H0,!0),e.addEventListener("touchstart",H0,!0),e.addEventListener("visibilitychange",ZN,!0)}function tT(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return hm||XN(t)}function Z5(){const e=b.useCallback(i=>{i!=null&&eT(i.ownerDocument)},[]),t=b.useRef(!1);function n(){return t.current?(n1=!0,qN.start(100,()=>{n1=!1}),t.current=!1,!0):!1}function r(i){return tT(i)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:r,onBlur:n,ref:e}}function e4(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}let PA;function t4(){if(PA)return PA;const e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),PA="reverse",e.scrollLeft>0?PA="default":(e.scrollLeft=1,e.scrollLeft===0&&(PA="negative")),document.body.removeChild(e),PA}function nT(e,t){const n=e.scrollLeft;if(t!=="rtl")return n;switch(t4()){case"negative":return e.scrollWidth-e.clientWidth+n;case"reverse":return e.scrollWidth-e.clientWidth-n;default:return n}}function yt(e,t,n=void 0){const r={};return Object.keys(e).forEach(i=>{r[i]=e[i].reduce((a,o)=>{if(o){const l=t(o);l!==""&&a.push(l),n&&n[o]&&a.push(n[o])}return a},[]).join(" ")}),r}function Dc(e){return typeof e=="string"}function Ac(e,t,n){return e===void 0||Dc(e)?t:W({},t,{ownerState:W({},t.ownerState,n)})}function Gp(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function t2(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function n4(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:a}=e;if(!t){const h=Je(n==null?void 0:n.className,a,i==null?void 0:i.className,r==null?void 0:r.className),m=W({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),g=W({},n,i,r);return h.length>0&&(g.className=h),Object.keys(m).length>0&&(g.style=m),{props:g,internalRef:void 0}}const o=Gp(W({},i,r)),l=t2(r),A=t2(i),c=t(o),d=Je(c==null?void 0:c.className,n==null?void 0:n.className,a,i==null?void 0:i.className,r==null?void 0:r.className),u=W({},c==null?void 0:c.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),p=W({},c,n,A,l);return d.length>0&&(p.className=d),Object.keys(u).length>0&&(p.style=u),{props:p,internalRef:c.ref}}function r4(e,t,n){return typeof e=="function"?e(t,n):e}const rT=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function _i(e){var t;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:a=!1}=e,o=Ye(e,rT),l=a?{}:r4(r,i),{props:A,internalRef:c}=n4(W({},o,{externalSlotProps:l})),d=ar(c,l==null?void 0:l.ref,(t=e.additionalProps)==null?void 0:t.ref);return Ac(n,W({},A,{ref:d}),i)}function aA(e){if(parseInt(b.version,10)>=19){var t;return(e==null||(t=e.props)==null?void 0:t.ref)||null}return(e==null?void 0:e.ref)||null}const s4=b.createContext(null);function i4(){return b.useContext(s4)}const sT=typeof Symbol=="function"&&Symbol.for,iT=sT?Symbol.for("mui.nested"):"__THEME_NESTED__";function aT(e,t){return typeof t=="function"?t(e):W({},e,t)}function oT(e){const{children:t,theme:n}=e,r=i4(),i=b.useMemo(()=>{const a=r===null?n:aT(r,n);return a!=null&&(a[iT]=r!==null),a},[n,r]);return s.jsx(s4.Provider,{value:i,children:t})}const lT=["value"],a4=b.createContext();function AT(e){let{value:t}=e,n=Ye(e,lT);return s.jsx(a4.Provider,W({value:t??!0},n))}const xh=()=>{const e=b.useContext(a4);return e??!1},o4=b.createContext(void 0);function cT({value:e,children:t}){return s.jsx(o4.Provider,{value:e,children:t})}function dT(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const i=t.components[n];return i.defaultProps?Gu(i.defaultProps,r):!i.styleOverrides&&!i.variants?Gu(i,r):r}function uT({props:e,name:t}){const n=b.useContext(o4);return dT({props:e,name:t,theme:{components:n}})}function hT(e){const t=tm(),n=nd()||"",{modularCssLayers:r}=e;let i="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!r||t!==null?i="":typeof r=="string"?i=r.replace(/mui(?!\.)/g,i):i=`@layer ${i};`,Es(()=>{const a=document.querySelector("head");if(!a)return;const o=a.firstChild;if(i){var l;if(o&&(l=o.hasAttribute)!=null&&l.call(o,"data-mui-layer-order")&&o.getAttribute("data-mui-layer-order")===n)return;const c=document.createElement("style");c.setAttribute("data-mui-layer-order",n),c.textContent=i,a.prepend(c)}else{var A;(A=a.querySelector(`style[data-mui-layer-order="${n}"]`))==null||A.remove()}},[i,n]),i?s.jsx(O5,{styles:i}):null}const n2={};function r2(e,t,n,r=!1){return b.useMemo(()=>{const i=e&&t[e]||t;if(typeof n=="function"){const a=n(i),o=e?W({},t,{[e]:a}):a;return r?()=>o:o}return e?W({},t,{[e]:n}):W({},t,n)},[e,t,n,r])}function fT(e){const{children:t,theme:n,themeId:r}=e,i=tm(n2),a=i4()||n2,o=r2(r,i,n),l=r2(r,a,n,!0),A=o.direction==="rtl",c=hT(o);return s.jsx(oT,{theme:l,children:s.jsx(Jc.Provider,{value:o,children:s.jsx(AT,{value:A,children:s.jsxs(cT,{value:o==null?void 0:o.components,children:[c,t]})})})})}function pn(e){"@babel/helpers - typeof";return pn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pn(e)}function pT(e,t){if(pn(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(pn(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function l4(e){var t=pT(e,"string");return pn(t)=="symbol"?t:t+""}const gT=["className","component","disableGutters","fixed","maxWidth","classes"],mT=ed(),vT=G5("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${Ge(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),yT=e=>Py({props:e,name:"MuiContainer",defaultTheme:mT}),xT=(e,t)=>{const n=A=>gt(t,A),{classes:r,fixed:i,disableGutters:a,maxWidth:o}=e,l={root:["root",o&&`maxWidth${Ge(String(o))}`,i&&"fixed",a&&"disableGutters"]};return yt(l,n,r)};function bT(e={}){const{createStyledComponent:t=vT,useThemeProps:n=yT,componentName:r="MuiContainer"}=e,i=t(({theme:o,ownerState:l})=>W({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!l.disableGutters&&{paddingLeft:o.spacing(2),paddingRight:o.spacing(2),[o.breakpoints.up("sm")]:{paddingLeft:o.spacing(3),paddingRight:o.spacing(3)}}),({theme:o,ownerState:l})=>l.fixed&&Object.keys(o.breakpoints.values).reduce((A,c)=>{const d=c,u=o.breakpoints.values[d];return u!==0&&(A[o.breakpoints.up(d)]={maxWidth:`${u}${o.breakpoints.unit}`}),A},{}),({theme:o,ownerState:l})=>W({},l.maxWidth==="xs"&&{[o.breakpoints.up("xs")]:{maxWidth:Math.max(o.breakpoints.values.xs,444)}},l.maxWidth&&l.maxWidth!=="xs"&&{[o.breakpoints.up(l.maxWidth)]:{maxWidth:`${o.breakpoints.values[l.maxWidth]}${o.breakpoints.unit}`}}));return b.forwardRef(function(l,A){const c=n(l),{className:d,component:u="div",disableGutters:p=!1,fixed:h=!1,maxWidth:m="lg"}=c,g=Ye(c,gT),y=W({},c,{component:u,disableGutters:p,fixed:h,maxWidth:m}),x=xT(y,r);return s.jsx(i,W({as:u,ownerState:y,className:Je(x.root,d),ref:A},g))})}const wT=["component","direction","spacing","divider","children","className","useFlexGap"],CT=ed(),BT=G5("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function ST(e){return Py({props:e,name:"MuiStack",defaultTheme:CT})}function jT(e,t){const n=b.Children.toArray(e).filter(Boolean);return n.reduce((r,i,a)=>(r.push(i),a<n.length-1&&r.push(b.cloneElement(t,{key:`separator-${a}`})),r),[])}const kT=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],ET=({ownerState:e,theme:t})=>{let n=W({display:"flex",flexDirection:"column"},Ys({theme:t},Rl({values:e.direction,breakpoints:t.breakpoints.values}),r=>({flexDirection:r})));if(e.spacing){const r=Dy(t),i=Object.keys(t.breakpoints.values).reduce((A,c)=>((typeof e.spacing=="object"&&e.spacing[c]!=null||typeof e.direction=="object"&&e.direction[c]!=null)&&(A[c]=!0),A),{}),a=Rl({values:e.direction,base:i}),o=Rl({values:e.spacing,base:i});typeof a=="object"&&Object.keys(a).forEach((A,c,d)=>{if(!a[A]){const p=c>0?a[d[c-1]]:"column";a[A]=p}}),n=Us(n,Ys({theme:t},o,(A,c)=>e.useFlexGap?{gap:ql(r,A)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${kT(c?a[c]:e.direction)}`]:ql(r,A)}}))}return n=SF(t.breakpoints,n),n};function IT(e={}){const{createStyledComponent:t=BT,useThemeProps:n=ST,componentName:r="MuiStack"}=e,i=()=>yt({root:["root"]},A=>gt(r,A),{}),a=t(ET);return b.forwardRef(function(A,c){const d=n(A),u=vh(d),{component:p="div",direction:h="column",spacing:m=0,divider:g,children:y,className:x,useFlexGap:C=!1}=u,S=Ye(u,wT),w={direction:h,spacing:m,useFlexGap:C},_=i();return s.jsx(a,W({as:p,ownerState:w,ref:c,className:Je(_.root,x)},S,{children:g?jT(y,g):y}))})}function FT(e,t){return W({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}var Dr={},A4={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(A4);var c4=A4.exports;const NT=dl(fI),TT=dl(HN);var d4=c4;Object.defineProperty(Dr,"__esModule",{value:!0});var fn=Dr.alpha=p4;Dr.blend=zT;Dr.colorChannel=void 0;var Uc=Dr.darken=Ry;Dr.decomposeColor=Di;var _T=Dr.emphasize=g4,DT=Dr.getContrastRatio=QT;Dr.getLuminance=qp;Dr.hexToRgb=u4;Dr.hslToRgb=f4;var Lc=Dr.lighten=Hy;Dr.private_safeAlpha=RT;Dr.private_safeColorChannel=void 0;Dr.private_safeDarken=HT;Dr.private_safeEmphasize=$T;Dr.private_safeLighten=OT;Dr.recomposeColor=rd;Dr.rgbToHex=PT;var s2=d4(NT),UT=d4(TT);function Qy(e,t=0,n=1){return(0,UT.default)(e,t,n)}function u4(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function LT(e){const t=e.toString(16);return t.length===1?`0${t}`:t}function Di(e){if(e.type)return e;if(e.charAt(0)==="#")return Di(u4(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,s2.default)(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,s2.default)(10,i))}else r=r.split(",");return r=r.map(a=>parseFloat(a)),{type:n,values:r,colorSpace:i}}const h4=e=>{const t=Di(e);return t.values.slice(0,3).map((n,r)=>t.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};Dr.colorChannel=h4;const MT=(e,t)=>{try{return h4(e)}catch{return e}};Dr.private_safeColorChannel=MT;function rd(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((i,a)=>a<3?parseInt(i,10):i):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function PT(e){if(e.indexOf("#")===0)return e;const{values:t}=Di(e);return`#${t.map((n,r)=>LT(r===3?Math.round(255*n):n)).join("")}`}function f4(e){e=Di(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=(c,d=(c+n/30)%12)=>i-a*Math.max(Math.min(d-3,9-d,1),-1);let l="rgb";const A=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return e.type==="hsla"&&(l+="a",A.push(t[3])),rd({type:l,values:A})}function qp(e){e=Di(e);let t=e.type==="hsl"||e.type==="hsla"?Di(f4(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function QT(e,t){const n=qp(e),r=qp(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function p4(e,t){return e=Di(e),t=Qy(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,rd(e)}function RT(e,t,n){try{return p4(e,t)}catch{return e}}function Ry(e,t){if(e=Di(e),t=Qy(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]*=1-t;return rd(e)}function HT(e,t,n){try{return Ry(e,t)}catch{return e}}function Hy(e,t){if(e=Di(e),t=Qy(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return rd(e)}function OT(e,t,n){try{return Hy(e,t)}catch{return e}}function g4(e,t=.15){return qp(e)>.5?Ry(e,t):Hy(e,t)}function $T(e,t,n){try{return g4(e,t)}catch{return e}}function zT(e,t,n,r=1){const i=(A,c)=>Math.round((A**(1/r)*(1-n)+c**(1/r)*n)**r),a=Di(e),o=Di(t),l=[i(a.values[0],o.values[0]),i(a.values[1],o.values[1]),i(a.values[2],o.values[2])];return rd({type:"rgb",values:l})}const qu={black:"#000",white:"#fff"},WT={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},QA={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},RA={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},zd={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},HA={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},OA={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},$A={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},KT=["mode","contrastThreshold","tonalOffset"],i2={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:qu.white,default:qu.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},O0={text:{primary:qu.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:qu.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function a2(e,t,n,r){const i=r.light||r,a=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=Lc(e.main,i):t==="dark"&&(e.dark=Uc(e.main,a)))}function VT(e="light"){return e==="dark"?{main:HA[200],light:HA[50],dark:HA[400]}:{main:HA[700],light:HA[400],dark:HA[800]}}function GT(e="light"){return e==="dark"?{main:QA[200],light:QA[50],dark:QA[400]}:{main:QA[500],light:QA[300],dark:QA[700]}}function qT(e="light"){return e==="dark"?{main:RA[500],light:RA[300],dark:RA[700]}:{main:RA[700],light:RA[400],dark:RA[800]}}function YT(e="light"){return e==="dark"?{main:OA[400],light:OA[300],dark:OA[700]}:{main:OA[700],light:OA[500],dark:OA[900]}}function XT(e="light"){return e==="dark"?{main:$A[400],light:$A[300],dark:$A[700]}:{main:$A[800],light:$A[500],dark:$A[900]}}function JT(e="light"){return e==="dark"?{main:zd[400],light:zd[300],dark:zd[700]}:{main:"#ed6c02",light:zd[500],dark:zd[900]}}function ZT(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,i=Ye(e,KT),a=e.primary||VT(t),o=e.secondary||GT(t),l=e.error||qT(t),A=e.info||YT(t),c=e.success||XT(t),d=e.warning||JT(t);function u(g){return DT(g,O0.text.primary)>=n?O0.text.primary:i2.text.primary}const p=({color:g,name:y,mainShade:x=500,lightShade:C=300,darkShade:S=700})=>{if(g=W({},g),!g.main&&g[x]&&(g.main=g[x]),!g.hasOwnProperty("main"))throw new Error(so(11,y?` (${y})`:"",x));if(typeof g.main!="string")throw new Error(so(12,y?` (${y})`:"",JSON.stringify(g.main)));return a2(g,"light",C,r),a2(g,"dark",S,r),g.contrastText||(g.contrastText=u(g.main)),g},h={dark:O0,light:i2};return Us(W({common:W({},qu),mode:t,primary:p({color:a,name:"primary"}),secondary:p({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:l,name:"error"}),warning:p({color:d,name:"warning"}),info:p({color:A,name:"info"}),success:p({color:c,name:"success"}),grey:WT,contrastThreshold:n,getContrastText:u,augmentColor:p,tonalOffset:r},h[t]),i)}const e_=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function t_(e){return Math.round(e*1e5)/1e5}const o2={textTransform:"uppercase"},l2='"Roboto", "Helvetica", "Arial", sans-serif';function n_(e,t){const n=typeof t=="function"?t(e):t,{fontFamily:r=l2,fontSize:i=14,fontWeightLight:a=300,fontWeightRegular:o=400,fontWeightMedium:l=500,fontWeightBold:A=700,htmlFontSize:c=16,allVariants:d,pxToRem:u}=n,p=Ye(n,e_),h=i/14,m=u||(x=>`${x/c*h}rem`),g=(x,C,S,w,_)=>W({fontFamily:r,fontWeight:x,fontSize:m(C),lineHeight:S},r===l2?{letterSpacing:`${t_(w/C)}em`}:{},_,d),y={h1:g(a,96,1.167,-1.5),h2:g(a,60,1.2,-.5),h3:g(o,48,1.167,0),h4:g(o,34,1.235,.25),h5:g(o,24,1.334,0),h6:g(l,20,1.6,.15),subtitle1:g(o,16,1.75,.15),subtitle2:g(l,14,1.57,.1),body1:g(o,16,1.5,.15),body2:g(o,14,1.43,.15),button:g(l,14,1.75,.4,o2),caption:g(o,12,1.66,.4),overline:g(o,12,2.66,1,o2),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Us(W({htmlFontSize:c,pxToRem:m,fontFamily:r,fontSize:i,fontWeightLight:a,fontWeightRegular:o,fontWeightMedium:l,fontWeightBold:A},y),p,{clone:!1})}const r_=.2,s_=.14,i_=.12;function lr(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${r_})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${s_})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${i_})`].join(",")}const a_=["none",lr(0,2,1,-1,0,1,1,0,0,1,3,0),lr(0,3,1,-2,0,2,2,0,0,1,5,0),lr(0,3,3,-2,0,3,4,0,0,1,8,0),lr(0,2,4,-1,0,4,5,0,0,1,10,0),lr(0,3,5,-1,0,5,8,0,0,1,14,0),lr(0,3,5,-1,0,6,10,0,0,1,18,0),lr(0,4,5,-2,0,7,10,1,0,2,16,1),lr(0,5,5,-3,0,8,10,1,0,3,14,2),lr(0,5,6,-3,0,9,12,1,0,3,16,2),lr(0,6,6,-3,0,10,14,1,0,4,18,3),lr(0,6,7,-4,0,11,15,1,0,4,20,3),lr(0,7,8,-4,0,12,17,2,0,5,22,4),lr(0,7,8,-4,0,13,19,2,0,5,24,4),lr(0,7,9,-4,0,14,21,2,0,5,26,4),lr(0,8,9,-5,0,15,22,2,0,6,28,5),lr(0,8,10,-5,0,16,24,2,0,6,30,5),lr(0,8,11,-5,0,17,26,2,0,6,32,5),lr(0,9,11,-5,0,18,28,2,0,7,34,6),lr(0,9,12,-6,0,19,29,2,0,7,36,6),lr(0,10,13,-6,0,20,31,3,0,8,38,7),lr(0,10,13,-6,0,21,33,3,0,8,40,7),lr(0,10,14,-6,0,22,35,3,0,8,42,7),lr(0,11,14,-7,0,23,36,3,0,9,44,8),lr(0,11,15,-7,0,24,38,3,0,9,46,8)],o_=["duration","easing","delay"],l_={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},m4={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function A2(e){return`${Math.round(e)}ms`}function A_(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function c_(e){const t=W({},l_,e.easing),n=W({},m4,e.duration);return W({getAutoHeightDuration:A_,create:(i=["all"],a={})=>{const{duration:o=n.standard,easing:l=t.easeInOut,delay:A=0}=a;return Ye(a,o_),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof o=="string"?o:A2(o)} ${l} ${typeof A=="string"?A:A2(A)}`).join(",")}},e,{easing:t,duration:n})}const d_={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},u_=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Oy(e={},...t){const{mixins:n={},palette:r={},transitions:i={},typography:a={}}=e,o=Ye(e,u_);if(e.vars&&e.generateCssVars===void 0)throw new Error(so(18));const l=ZT(r),A=ed(e);let c=Us(A,{mixins:FT(A.breakpoints,n),palette:l,shadows:a_.slice(),typography:n_(l,a),transitions:c_(i),zIndex:W({},d_)});return c=Us(c,o),c=t.reduce((d,u)=>Us(d,u),c),c.unstable_sxConfig=W({},mh,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(u){return Zc({sx:u,theme:this})},c}const fm=Oy();function Hi(){const e=td(fm);return e[Gl]||e}function Oi({props:e,name:t}){return Py({props:e,name:t,defaultTheme:fm,themeId:Gl})}var bh={},$0={exports:{}},c2;function h_(){return c2||(c2=1,function(e){function t(n,r){if(n==null)return{};var i={};for(var a in n)if({}.hasOwnProperty.call(n,a)){if(r.indexOf(a)!==-1)continue;i[a]=n[a]}return i}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}($0)),$0.exports}const v4=dl(xF),f_=dl(bF),p_=dl(kF),g_=dl(EN),m_=dl(fN),v_=dl(yN);var sd=c4;Object.defineProperty(bh,"__esModule",{value:!0});var y_=bh.default=T_;bh.shouldForwardProp=Ip;bh.systemDefaultTheme=void 0;var Bi=sd(_5()),r1=sd(h_()),Yp=j_(v4),x_=f_;sd(p_);sd(g_);var b_=sd(m_),w_=sd(v_);const C_=["ownerState"],B_=["variants"],S_=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function y4(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(y4=function(r){return r?n:t})(e)}function j_(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=y4(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}function k_(e){return Object.keys(e).length===0}function E_(e){return typeof e=="string"&&e.charCodeAt(0)>96}function Ip(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function d2(e,t){return t&&e&&typeof e=="object"&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}const I_=bh.systemDefaultTheme=(0,b_.default)(),F_=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function _f({defaultTheme:e,theme:t,themeId:n}){return k_(t)?e:t[n]||t}function N_(e){return e?(t,n)=>n[e]:null}function Fp(e,t,n){let{ownerState:r}=t,i=(0,r1.default)(t,C_);const a=typeof e=="function"?e((0,Bi.default)({ownerState:r},i)):e;if(Array.isArray(a))return a.flatMap(o=>Fp(o,(0,Bi.default)({ownerState:r},i),n));if(a&&typeof a=="object"&&Array.isArray(a.variants)){const{variants:o=[]}=a;let A=(0,r1.default)(a,B_);return o.forEach(c=>{let d=!0;if(typeof c.props=="function"?d=c.props((0,Bi.default)({ownerState:r},i,r)):Object.keys(c.props).forEach(u=>{(r==null?void 0:r[u])!==c.props[u]&&i[u]!==c.props[u]&&(d=!1)}),d){Array.isArray(A)||(A=[A]);const u=typeof c.style=="function"?c.style((0,Bi.default)({ownerState:r},i,r)):c.style;A.push(n?d2((0,Yp.internal_serializeStyles)(u),n):u)}}),A}return n?d2((0,Yp.internal_serializeStyles)(a),n):a}function T_(e={}){const{themeId:t,defaultTheme:n=I_,rootShouldForwardProp:r=Ip,slotShouldForwardProp:i=Ip}=e,a=o=>(0,w_.default)((0,Bi.default)({},o,{theme:_f((0,Bi.default)({},o,{defaultTheme:n,themeId:t}))}));return a.__mui_systemSx=!0,(o,l={})=>{(0,Yp.internal_processStyles)(o,E=>E.filter(T=>!(T!=null&&T.__mui_systemSx)));const{name:A,slot:c,skipVariantsResolver:d,skipSx:u,overridesResolver:p=N_(F_(c))}=l,h=(0,r1.default)(l,S_),m=A&&A.startsWith("Mui")||c?"components":"custom",g=d!==void 0?d:c&&c!=="Root"&&c!=="root"||!1,y=u||!1;let x,C=Ip;c==="Root"||c==="root"?C=r:c?C=i:E_(o)&&(C=void 0);const S=(0,Yp.default)(o,(0,Bi.default)({shouldForwardProp:C,label:x},h)),w=E=>typeof E=="function"&&E.__emotion_real!==E||(0,x_.isPlainObject)(E)?T=>{const F=_f({theme:T.theme,defaultTheme:n,themeId:t});return Fp(E,(0,Bi.default)({},T,{theme:F}),F.modularCssLayers?m:void 0)}:E,_=(E,...T)=>{let F=w(E);const M=T?T.map(w):[];A&&p&&M.push(j=>{const U=_f((0,Bi.default)({},j,{defaultTheme:n,themeId:t}));if(!U.components||!U.components[A]||!U.components[A].styleOverrides)return null;const N=U.components[A].styleOverrides,z={};return Object.entries(N).forEach(([L,D])=>{z[L]=Fp(D,(0,Bi.default)({},j,{theme:U}),U.modularCssLayers?"theme":void 0)}),p(j,z)}),A&&!g&&M.push(j=>{var U;const N=_f((0,Bi.default)({},j,{defaultTheme:n,themeId:t})),z=N==null||(U=N.components)==null||(U=U[A])==null?void 0:U.variants;return Fp({variants:z},(0,Bi.default)({},j,{theme:N}),N.modularCssLayers?"theme":void 0)}),y||M.push(a);const P=M.length-T.length;if(Array.isArray(E)&&P>0){const j=new Array(P).fill("");F=[...E,...j],F.raw=[...E.raw,...j]}const I=S(F,...M);return o.muiName&&(I.muiName=o.muiName),I};return S.withConfig&&(_.withConfig=S.withConfig),_}}function x4(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Xs=e=>x4(e)&&e!=="classes",Pe=y_({themeId:Gl,defaultTheme:fm,rootShouldForwardProp:Xs}),__=["theme"];function D_(e){let{theme:t}=e,n=Ye(e,__);const r=t[Gl];let i=r||t;return typeof t!="function"&&(r&&!r.vars?i=W({},r,{vars:null}):t&&!t.vars&&(i=W({},t,{vars:null}))),s.jsx(fT,W({},n,{themeId:r?Gl:void 0,theme:i}))}const u2=e=>{let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,(t/100).toFixed(2)};function _t(e){return uT(e)}function b4(e){return s.jsx(O5,W({},e,{defaultTheme:fm,themeId:Gl}))}const U_=(e,t)=>W({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),L_=e=>W({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),M_=(e,t=!1)=>{var n;const r={};t&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach(([o,l])=>{var A;r[e.getColorSchemeSelector(o).replace(/\s*&/,"")]={colorScheme:(A=l.palette)==null?void 0:A.mode}});let i=W({html:U_(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:W({margin:0},L_(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},r);const a=(n=e.components)==null||(n=n.MuiCssBaseline)==null?void 0:n.styleOverrides;return a&&(i=[i,a]),i};function P_(e){const t=_t({props:e,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=t;return s.jsxs(b.Fragment,{children:[s.jsx(b4,{styles:i=>M_(i,r)}),n]})}var h2={};const f2="@firebase/database",p2="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let w4="";function Q_(e){w4=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),us(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:vy(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return po(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new R_(t)}}catch{}return new H_},Ll=C4("localStorage"),O_=C4("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc=new ME("@firebase/database"),$_=function(){let e=1;return function(){return e++}}(),B4=function(e){const t=PE(e),n=new QE;n.update(t);const r=n.digest();return RE.encodeByteArray(r)},wh=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=wh.apply(null,r):typeof r=="object"?t+=us(r):t+=r,t+=" "}return t};let ku=null,g2=!0;const z_=function(e,t){Bt(!0,"Can't turn on custom loggers persistently."),yc.logLevel=OE.VERBOSE,ku=yc.log.bind(yc)},Cs=function(...e){if(g2===!0&&(g2=!1,ku===null&&O_.get("logging_enabled")===!0&&z_()),ku){const t=wh.apply(null,e);ku(t)}},Ch=function(e){return function(...t){Cs(e,...t)}},s1=function(...e){const t="FIREBASE INTERNAL ERROR: "+wh(...e);yc.error(t)},ao=function(...e){const t=`FIREBASE FATAL ERROR: ${wh(...e)}`;throw yc.error(t),new Error(t)},di=function(...e){const t="FIREBASE WARNING: "+wh(...e);yc.warn(t)},W_=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&di("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},S4=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},K_=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Mc="[MIN_NAME]",Yl="[MAX_NAME]",id=function(e,t){if(e===t)return 0;if(e===Mc||t===Yl)return-1;if(t===Mc||e===Yl)return 1;{const n=m2(e),r=m2(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},V_=function(e,t){return e===t?0:e<t?-1:1},Wd=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+us(t))},$y=function(e){if(typeof e!="object"||e===null)return us(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=us(t[r]),n+=":",n+=$y(e[t[r]]);return n+="}",n},j4=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Ui(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const k4=function(e){Bt(!S4(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let i,a,o,l,A;e===0?(a=0,o=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(e)/Math.LN2),r),a=l+r,o=Math.round(e*Math.pow(2,n-l)-Math.pow(2,n))):(a=0,o=Math.round(e/Math.pow(2,1-r-n))));const c=[];for(A=n;A;A-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(A=t;A;A-=1)c.push(a%2?1:0),a=Math.floor(a/2);c.push(i?1:0),c.reverse();const d=c.join("");let u="";for(A=0;A<64;A+=8){let p=parseInt(d.substr(A,8),2).toString(16);p.length===1&&(p="0"+p),u=u+p}return u.toLowerCase()},G_=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},q_=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},Y_=new RegExp("^-?(0*)\\d{1,10}$"),X_=-2147483648,J_=2147483647,m2=function(e){if(Y_.test(e)){const t=Number(e);if(t>=X_&&t<=J_)return t}return null},Bh=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw di("Exception was thrown by user callback.",n),t},Math.floor(0))}},Z_=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Eu=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){di(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Cs("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',di(t)}}class Np{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Np.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy="5",E4="v",I4="s",F4="r",N4="f",T4=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,_4="ls",D4="p",i1="ac",U4="websocket",L4="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(t,n,r,i,a=!1,o="",l=!1,A=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=A,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ll.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Ll.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function n6(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function P4(e,t,n){Bt(typeof t=="string","typeof type must == string"),Bt(typeof n=="object","typeof params must == object");let r;if(t===U4)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===L4)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);n6(e)&&(n.ns=e.namespace);const i=[];return Ui(n,(a,o)=>{i.push(a+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(){this.counters_={}}incrementCounter(t,n=1){po(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return VE(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0={},W0={};function Wy(e){const t=e.toString();return z0[t]||(z0[t]=new r6),z0[t]}function s6(e,t){const n=e.toString();return W0[n]||(W0[n]=t()),W0[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Bh(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2="start",a6="close",o6="pLPCommand",l6="pRTLPCB",Q4="id",R4="pw",H4="ser",A6="cb",c6="seg",d6="ts",u6="d",h6="dframe",O4=1870,$4=30,f6=O4-$4,p6=25e3,g6=3e4;class cc{constructor(t,n,r,i,a,o,l){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ch(t),this.stats_=Wy(n),this.urlFn=A=>(this.appCheckToken&&(A[i1]=this.appCheckToken),P4(n,L4,A))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new i6(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(g6)),K_(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ky((...a)=>{const[o,l,A,c,d]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===v2)this.id=l,this.password=A;else if(o===a6)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...a)=>{const[o,l]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[v2]="t",r[H4]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[A6]=this.scriptTagHolder.uniqueCallbackIdentifier),r[E4]=zy,this.transportSessionId&&(r[I4]=this.transportSessionId),this.lastSessionId&&(r[_4]=this.lastSessionId),this.applicationId&&(r[D4]=this.applicationId),this.appCheckToken&&(r[i1]=this.appCheckToken),typeof location<"u"&&location.hostname&&T4.test(location.hostname)&&(r[F4]=N4);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){cc.forceAllow_=!0}static forceDisallow(){cc.forceDisallow_=!0}static isAvailable(){return cc.forceAllow_?!0:!cc.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!G_()&&!q_()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=us(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=GE(n),i=j4(r,f6);for(let a=0;a<i.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[a]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[h6]="t",r[Q4]=t,r[R4]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=us(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Ky{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=$_(),window[o6+this.uniqueCallbackIdentifier]=t,window[l6+this.uniqueCallbackIdentifier]=n,this.myIFrame=Ky.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){Cs("frame writing exception"),l.stack&&Cs(l.stack),Cs(l)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Cs("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[Q4]=this.myID,t[R4]=this.myPW,t[H4]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+$4+r.length<=O4;){const o=this.pendingSegs.shift();r=r+"&"+c6+i+"="+o.seg+"&"+d6+i+"="+o.ts+"&"+u6+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(p6)),a=()=>{clearTimeout(i),r()};this.addTag(t,a)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Cs("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6=16384,v6=45e3;let Xp=null;typeof MozWebSocket<"u"?Xp=MozWebSocket:typeof WebSocket<"u"&&(Xp=WebSocket);class ea{constructor(t,n,r,i,a,o,l){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ch(this.connId),this.stats_=Wy(n),this.connURL=ea.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,i,a){const o={};return o[E4]=zy,typeof location<"u"&&location.hostname&&T4.test(location.hostname)&&(o[F4]=N4),n&&(o[I4]=n),r&&(o[_4]=r),i&&(o[i1]=i),a&&(o[D4]=a),P4(t,U4,o)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ll.set("previous_websocket_failure",!0);try{let r;qE(),this.mySock=new Xp(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){ea.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&Xp!==null&&!ea.forceDisallow_}static previouslyFailed(){return Ll.isInMemoryStorage||Ll.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ll.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=vy(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(Bt(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=us(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=j4(n,m6);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(v6))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ea.responsesRequiredToBeHealthy=2;ea.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[cc,ea]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=ea&&ea.isAvailable();let r=n&&!ea.previouslyFailed();if(t.webSocketOnly&&(n||di("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ea];else{const i=this.transports_=[];for(const a of Yu.ALL_TRANSPORTS)a&&a.isAvailable()&&i.push(a);Yu.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Yu.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y6=6e4,x6=5e3,b6=10*1024,w6=100*1024,K0="t",y2="d",C6="s",x2="r",B6="e",b2="o",w2="a",C2="n",B2="p",S6="h";class j6{constructor(t,n,r,i,a,o,l,A,c,d){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=A,this.onKill_=c,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ch("c:"+this.id+":"),this.transportManager_=new Yu(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Eu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>w6?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>b6?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(K0 in t){const n=t[K0];n===w2?this.upgradeIfSecondaryHealthy_():n===x2?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===b2&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=Wd("t",t),r=Wd("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:B2,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:w2,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:C2,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=Wd("t",t),r=Wd("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=Wd(K0,t);if(y2 in t){const r=t[y2];if(n===S6){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===C2){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===C6?this.onConnectionShutdown_(r):n===x2?this.onReset_(r):n===B6?s1("Server Error: "+r):n===b2?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):s1("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),zy!==r&&di("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Eu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(y6))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Eu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(x6))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:B2,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ll.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(t){this.allowedEvents_=t,this.listeners_={},Bt(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let a=0;a<i.length;a++)if(i[a].callback===n&&(!r||r===i[a].context)){i.splice(a,1);return}}validateEventType_(t){Bt(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp extends W4{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!a5()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Jp}getInitialEvent(t){return Bt(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=32,j2=768;class or{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function zn(){return new or("")}function Cn(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function el(e){return e.pieces_.length-e.pieceNum_}function rr(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new or(e.pieces_,t)}function K4(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function k6(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function V4(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function G4(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new or(t,0)}function ns(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof or)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new or(n,0)}function vn(e){return e.pieceNum_>=e.pieces_.length}function Ii(e,t){const n=Cn(e),r=Cn(t);if(n===null)return t;if(n===r)return Ii(rr(e),rr(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function q4(e,t){if(el(e)!==el(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function ta(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(el(e)>el(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class E6{constructor(t,n){this.errorPrefix_=n,this.parts_=V4(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Dg(this.parts_[r]);Y4(this)}}function I6(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Dg(t),Y4(e)}function F6(e){const t=e.parts_.pop();e.byteLength_-=Dg(t),e.parts_.length>0&&(e.byteLength_-=1)}function Y4(e){if(e.byteLength_>j2)throw new Error(e.errorPrefix_+"has a key path longer than "+j2+" bytes ("+e.byteLength_+").");if(e.parts_.length>S2)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+S2+") or object contains a cycle "+El(e))}function El(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy extends W4{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Vy}getInitialEvent(t){return Bt(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd=1e3,N6=60*5*1e3,k2=30*1e3,T6=1.3,_6=3e4,D6="server_kill",E2=3;class Za extends z4{constructor(t,n,r,i,a,o,l,A){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=a,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=A,this.id=Za.nextPersistentConnectionId_++,this.log_=Ch("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Kd,this.maxReconnectDelay_=N6,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,A)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Vy.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Jp.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const i=++this.requestNumber_,a={r:i,a:t,b:n};this.log_(us(a)),Bt(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),r&&(this.requestCBHash_[i]=r)}get(t){this.initConnection_();const n=new i5,i={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),n.promise}listen(t,n,r,i){this.initConnection_();const a=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+a),this.listens.has(o)||this.listens.set(o,new Map),Bt(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Bt(!this.listens.get(o).has(a),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:t,tag:r};this.listens.get(o).set(a,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const a={p:r},o="q";t.tag&&(a.q=n._queryObject,a.t=t.tag),a.h=t.hashFn(),this.sendRequest(o,a,l=>{const A=l.d,c=l.s;Za.warnOnListenWarnings_(A,n),(this.listens.get(r)&&this.listens.get(r).get(i))===t&&(this.log_("listen response",l),c!=="ok"&&this.removeListen_(r,i),t.onComplete&&t.onComplete(c,A))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&po(t,"w")){const r=Nc(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',a=n._path.toString();di(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||zE(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=k2)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=WE(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const a=i.s,o=i.d||"error";this.authToken_===t&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),Bt(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,t._queryObject,n)}sendUnlisten_(t,n,r,i){this.log_("Unlisten on "+t+" for "+n);const a={p:t},o="n";i&&(a.q=r,a.t=i),this.sendRequest(o,a)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,i){const a={p:n,d:r};this.log_("onDisconnect "+t,a),this.sendRequest(t,a,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(t,n,r,i){this.putInternal("p",t,n,r,i)}merge(t,n,r,i){this.putInternal("m",t,n,r,i)}putInternal(t,n,r,i,a){this.initConnection_();const o={p:n,d:r};a!==void 0&&(o.h=a),this.outstandingPuts_.push({action:t,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,a=>{this.log_(n+" response",a),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(a.s,a.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const a=r.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+us(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):s1("Unrecognized action received from server: "+us(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){Bt(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Kd,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Kd,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>_6&&(this.reconnectDelay_=Kd),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*T6)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Za.nextConnectionId_++,a=this.lastSessionId;let o=!1,l=null;const A=function(){l?l.close():(o=!0,r())},c=function(u){Bt(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(u)};this.realtime_={close:A,sendRequest:c};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[u,p]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?Cs("getToken() completed but was canceled"):(Cs("getToken() completed. Creating connection."),this.authToken_=u&&u.accessToken,this.appCheckToken_=p&&p.token,l=new j6(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,h=>{di(h+" ("+this.repoInfo_.toString()+")"),this.interrupt(D6)},a))}catch(u){this.log_("Failed to get token: "+u),o||(this.repoInfo_.nodeAdmin&&di(u),A())}}}interrupt(t){Cs("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Cs("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Eb(this.interruptReasons_)&&(this.reconnectDelay_=Kd,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(a=>$y(a)).join("$"):r="default";const i=this.removeListen_(t,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(t,n){const r=new or(t).toString();let i;if(this.listens.has(r)){const a=this.listens.get(r);i=a.get(n),a.delete(n),a.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(t,n){Cs("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=E2&&(this.reconnectDelay_=k2,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){Cs("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=E2&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+w4.replace(/\./g,"-")]=1,a5()?t["framework.cordova"]=1:KE()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Jp.getInstance().currentlyOnline();return Eb(this.interruptReasons_)&&t}}Za.nextPersistentConnectionId_=0;Za.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new Bn(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new Bn(Mc,t),i=new Bn(Mc,n);return this.compare(r,i)!==0}minPost(){return Bn.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Df;class X4 extends pm{static get __EMPTY_NODE(){return Df}static set __EMPTY_NODE(t){Df=t}compare(t,n){return id(t.name,n.name)}isDefinedOn(t){throw uh("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return Bn.MIN}maxPost(){return new Bn(Yl,Df)}makePost(t,n){return Bt(typeof t=="string","KeyIndex indexValue must always be a string."),new Bn(t,Df)}toString(){return".key"}}const xc=new X4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(t,n,r,i,a=null){this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(t=t,o=n?r(t.key,n):1,i&&(o*=-1),o<0)this.isReverse_?t=t.left:t=t.right;else if(o===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Zr{constructor(t,n,r,i,a){this.key=t,this.value=n,this.color=r??Zr.RED,this.left=i??Ks.EMPTY_NODE,this.right=a??Ks.EMPTY_NODE}copy(t,n,r,i,a){return new Zr(t??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const a=r(t,i.key);return a<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):a===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ks.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return Ks.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Zr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Zr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Zr.RED=!0;Zr.BLACK=!1;class U6{copy(t,n,r,i,a){return this}insert(t,n,r){return new Zr(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ks{constructor(t,n=Ks.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new Ks(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Zr.BLACK,null,null))}remove(t){return new Ks(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Zr.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Uf(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Uf(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Uf(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Uf(this.root_,null,this.comparator_,!0,t)}}Ks.EMPTY_NODE=new U6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L6(e,t){return id(e.name,t.name)}function Gy(e,t){return id(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let a1;function M6(e){a1=e}const J4=function(e){return typeof e=="number"?"number:"+k4(e):"string:"+e},Z4=function(e){if(e.isLeafNode()){const t=e.val();Bt(typeof t=="string"||typeof t=="number"||typeof t=="object"&&po(t,".sv"),"Priority must be a string or number.")}else Bt(e===a1||e.isEmpty(),"priority of unexpected type.");Bt(e===a1||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let I2;class Jr{constructor(t,n=Jr.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Bt(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Z4(this.priorityNode_)}static set __childrenNodeConstructor(t){I2=t}static get __childrenNodeConstructor(){return I2}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Jr(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Jr.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return vn(t)?this:Cn(t)===".priority"?this.priorityNode_:Jr.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:Jr.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=Cn(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(Bt(r!==".priority"||el(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Jr.__childrenNodeConstructor.EMPTY_NODE.updateChild(rr(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+J4(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=k4(this.value_):t+=this.value_,this.lazyHash_=B4(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Jr.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Jr.__childrenNodeConstructor?-1:(Bt(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,i=Jr.VALUE_TYPE_ORDER.indexOf(n),a=Jr.VALUE_TYPE_ORDER.indexOf(r);return Bt(i>=0,"Unknown leaf type: "+n),Bt(a>=0,"Unknown leaf type: "+r),i===a?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Jr.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eS,tS;function P6(e){eS=e}function Q6(e){tS=e}class R6 extends pm{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),a=r.compareTo(i);return a===0?id(t.name,n.name):a}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return Bn.MIN}maxPost(){return new Bn(Yl,new Jr("[PRIORITY-POST]",tS))}makePost(t,n){const r=eS(t);return new Bn(n,new Jr("[PRIORITY-POST]",r))}toString(){return".priority"}}const ks=new R6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6=Math.log(2);class O6{constructor(t){const n=a=>parseInt(Math.log(a)/H6,10),r=a=>parseInt(Array(a+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Zp=function(e,t,n,r){e.sort(t);const i=function(A,c){const d=c-A;let u,p;if(d===0)return null;if(d===1)return u=e[A],p=n?n(u):u,new Zr(p,u.node,Zr.BLACK,null,null);{const h=parseInt(d/2,10)+A,m=i(A,h),g=i(h+1,c);return u=e[h],p=n?n(u):u,new Zr(p,u.node,Zr.BLACK,m,g)}},a=function(A){let c=null,d=null,u=e.length;const p=function(m,g){const y=u-m,x=u;u-=m;const C=i(y+1,x),S=e[y],w=n?n(S):S;h(new Zr(w,S.node,g,null,C))},h=function(m){c?(c.left=m,c=m):(d=m,c=m)};for(let m=0;m<A.count;++m){const g=A.nextBitIsOne(),y=Math.pow(2,A.count-(m+1));g?p(y,Zr.BLACK):(p(y,Zr.BLACK),p(y,Zr.RED))}return d},o=new O6(e.length),l=a(o);return new Ks(r||t,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let V0;const zA={};class Ya{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return Bt(zA&&ks,"ChildrenNode.ts has not been loaded"),V0=V0||new Ya({".priority":zA},{".priority":ks}),V0}get(t){const n=Nc(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Ks?n:null}hasIndex(t){return po(this.indexSet_,t.toString())}addIndex(t,n){Bt(t!==xc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const a=n.getIterator(Bn.Wrap);let o=a.getNext();for(;o;)i=i||t.isDefinedOn(o.node),r.push(o),o=a.getNext();let l;i?l=Zp(r,t.getCompare()):l=zA;const A=t.toString(),c=Object.assign({},this.indexSet_);c[A]=t;const d=Object.assign({},this.indexes_);return d[A]=l,new Ya(d,c)}addToIndexes(t,n){const r=zp(this.indexes_,(i,a)=>{const o=Nc(this.indexSet_,a);if(Bt(o,"Missing index implementation for "+a),i===zA)if(o.isDefinedOn(t.node)){const l=[],A=n.getIterator(Bn.Wrap);let c=A.getNext();for(;c;)c.name!==t.name&&l.push(c),c=A.getNext();return l.push(t),Zp(l,o.getCompare())}else return zA;else{const l=n.get(t.name);let A=i;return l&&(A=A.remove(new Bn(t.name,l))),A.insert(t,t.node)}});return new Ya(r,this.indexSet_)}removeFromIndexes(t,n){const r=zp(this.indexes_,i=>{if(i===zA)return i;{const a=n.get(t.name);return a?i.remove(new Bn(t.name,a)):i}});return new Ya(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vd;class Mn{constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Z4(this.priorityNode_),this.children_.isEmpty()&&Bt(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Vd||(Vd=new Mn(new Ks(Gy),null,Ya.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Vd}updatePriority(t){return this.children_.isEmpty()?this:new Mn(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?Vd:n}}getChild(t){const n=Cn(t);return n===null?this:this.getImmediateChild(n).getChild(rr(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(Bt(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new Bn(t,n);let i,a;n.isEmpty()?(i=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Vd:this.priorityNode_;return new Mn(i,o,a)}}updateChild(t,n){const r=Cn(t);if(r===null)return n;{Bt(Cn(t)!==".priority"||el(t)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(rr(t),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,i=0,a=!0;if(this.forEachChild(ks,(o,l)=>{n[o]=l.val(t),r++,a&&Mn.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1}),!t&&a&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+J4(this.getPriority().val())+":"),this.forEachChild(ks,(n,r)=>{const i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":B4(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const i=this.resolveIndex_(r);if(i){const a=i.getPredecessorKey(new Bn(t,n));return a?a.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new Bn(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new Bn(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,i=>i);{const i=this.children_.getIteratorFrom(t.name,Bn.Wrap);let a=i.peek();for(;a!=null&&n.compare(a,t)<0;)i.getNext(),a=i.peek();return i}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,i=>i);{const i=this.children_.getReverseIteratorFrom(t.name,Bn.Wrap);let a=i.peek();for(;a!=null&&n.compare(a,t)>0;)i.getNext(),a=i.peek();return i}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Sh?-1:0}withIndex(t){if(t===xc||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new Mn(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===xc||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(ks),i=n.getIterator(ks);let a=r.getNext(),o=i.getNext();for(;a&&o;){if(a.name!==o.name||!a.node.equals(o.node))return!1;a=r.getNext(),o=i.getNext()}return a===null&&o===null}else return!1;else return!1}}resolveIndex_(t){return t===xc?null:this.indexMap_.get(t.toString())}}Mn.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class $6 extends Mn{constructor(){super(new Ks(Gy),Mn.EMPTY_NODE,Ya.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Mn.EMPTY_NODE}isEmpty(){return!1}}const Sh=new $6;Object.defineProperties(Bn,{MIN:{value:new Bn(Mc,Mn.EMPTY_NODE)},MAX:{value:new Bn(Yl,Sh)}});X4.__EMPTY_NODE=Mn.EMPTY_NODE;Jr.__childrenNodeConstructor=Mn;M6(Sh);Q6(Sh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z6=!0;function Bs(e,t=null){if(e===null)return Mn.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),Bt(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new Jr(n,Bs(t))}if(!(e instanceof Array)&&z6){const n=[];let r=!1;if(Ui(e,(o,l)=>{if(o.substring(0,1)!=="."){const A=Bs(l);A.isEmpty()||(r=r||!A.getPriority().isEmpty(),n.push(new Bn(o,A)))}}),n.length===0)return Mn.EMPTY_NODE;const a=Zp(n,L6,o=>o.name,Gy);if(r){const o=Zp(n,ks.getCompare());return new Mn(a,Bs(t),new Ya({".priority":o},{".priority":ks}))}else return new Mn(a,Bs(t),Ya.Default)}else{let n=Mn.EMPTY_NODE;return Ui(e,(r,i)=>{if(po(e,r)&&r.substring(0,1)!=="."){const a=Bs(i);(a.isLeafNode()||!a.isEmpty())&&(n=n.updateImmediateChild(r,a))}}),n.updatePriority(Bs(t))}}P6(Bs);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6 extends pm{constructor(t){super(),this.indexPath_=t,Bt(!vn(t)&&Cn(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),a=r.compareTo(i);return a===0?id(t.name,n.name):a}makePost(t,n){const r=Bs(t),i=Mn.EMPTY_NODE.updateChild(this.indexPath_,r);return new Bn(n,i)}maxPost(){const t=Mn.EMPTY_NODE.updateChild(this.indexPath_,Sh);return new Bn(Yl,t)}toString(){return V4(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6 extends pm{compare(t,n){const r=t.node.compareTo(n.node);return r===0?id(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return Bn.MIN}maxPost(){return Bn.MAX}makePost(t,n){const r=Bs(t);return new Bn(n,r)}toString(){return".value"}}const V6=new K6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G6(e){return{type:"value",snapshotNode:e}}function q6(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Y6(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function F2(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function X6(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ks}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Bt(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Bt(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Mc}hasEnd(){return this.endSet_}getIndexEndValue(){return Bt(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Bt(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Yl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Bt(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ks}copy(){const t=new qy;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function N2(e){const t={};if(e.isDefault())return t;let n;if(e.index_===ks?n="$priority":e.index_===V6?n="$value":e.index_===xc?n="$key":(Bt(e.index_ instanceof W6,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=us(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=us(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+us(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=us(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+us(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function T2(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==ks&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg extends z4{constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Ch("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(Bt(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,i){const a=t._path.toString();this.log_("Listen called for "+a+" "+t._queryIdentifier);const o=eg.getListenId_(t,r),l={};this.listens_[o]=l;const A=N2(t._queryParams);this.restRequest_(a+".json",A,(c,d)=>{let u=d;if(c===404&&(u=null,c=null),c===null&&this.onDataUpdate_(a,u,!1,r),Nc(this.listens_,o)===l){let p;c?c===401?p="permission_denied":p="rest_error:"+c:p="ok",i(p,null)}})}unlisten(t,n){const r=eg.getListenId_(t,n);delete this.listens_[r]}get(t){const n=N2(t._queryParams),r=t._path.toString(),i=new i5;return this.restRequest_(r+".json",n,(a,o)=>{let l=o;a===404&&(l=null,a=null),a===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,a])=>{i&&i.accessToken&&(n.auth=i.accessToken),a&&a.token&&(n.ac=a.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+$E(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let A=null;if(l.status>=200&&l.status<300){try{A=vy(l.responseText)}catch{di("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,A)}else l.status!==401&&l.status!==404&&di("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(){this.rootNode_=Mn.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(){return{value:null,children:new Map}}function nS(e,t,n){if(vn(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const r=Cn(t);e.children.has(r)||e.children.set(r,tg());const i=e.children.get(r);t=rr(t),nS(i,t,n)}}function o1(e,t,n){e.value!==null?n(t,e.value):Z6(e,(r,i)=>{const a=new or(t.toString()+"/"+r);o1(i,a,n)})}function Z6(e,t){e.children.forEach((n,r)=>{t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&Ui(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=10*1e3,tD=30*1e3,nD=5*60*1e3;class rD{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new eD(t);const r=_2+(tD-_2)*Math.random();Eu(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;Ui(t,(i,a)=>{a>0&&po(this.statsToReport_,i)&&(n[i]=a,r=!0)}),r&&this.server_.reportStats(n),Eu(this.reportStats_.bind(this),Math.floor(Math.random()*2*nD))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ya;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ya||(ya={}));function rS(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function sS(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function iS(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=ya.ACK_USER_WRITE,this.source=rS()}operationForChild(t){if(vn(this.path)){if(this.affectedTree.value!=null)return Bt(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new or(t));return new ng(zn(),n,this.revert)}}else return Bt(Cn(this.path)===t,"operationForChild called for unrelated child."),new ng(rr(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=ya.OVERWRITE}operationForChild(t){return vn(this.path)?new Xl(this.source,zn(),this.snap.getImmediateChild(t)):new Xl(this.source,rr(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=ya.MERGE}operationForChild(t){if(vn(this.path)){const n=this.children.subtree(new or(t));return n.isEmpty()?null:n.value?new Xl(this.source,zn(),n.value):new Xu(this.source,zn(),n)}else return Bt(Cn(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Xu(this.source,rr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(vn(t))return this.isFullyInitialized()&&!this.filtered_;const n=Cn(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}function sD(e,t,n,r){const i=[],a=[];return t.forEach(o=>{o.type==="child_changed"&&e.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&a.push(X6(o.childName,o.snapshotNode))}),Gd(e,i,"child_removed",t,r,n),Gd(e,i,"child_added",t,r,n),Gd(e,i,"child_moved",a,r,n),Gd(e,i,"child_changed",t,r,n),Gd(e,i,"value",t,r,n),i}function Gd(e,t,n,r,i,a){const o=r.filter(l=>l.type===n);o.sort((l,A)=>aD(e,l,A)),o.forEach(l=>{const A=iD(e,l,a);i.forEach(c=>{c.respondsTo(l.type)&&t.push(c.createEvent(A,e.query_))})})}function iD(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function aD(e,t,n){if(t.childName==null||n.childName==null)throw uh("Should only compare child_ events.");const r=new Bn(t.childName,t.snapshotNode),i=new Bn(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(e,t){return{eventCache:e,serverCache:t}}function Iu(e,t,n,r){return aS(new Yy(t,n,r),e.serverCache)}function oS(e,t,n,r){return aS(e.eventCache,new Yy(t,n,r))}function l1(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Jl(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let G0;const oD=()=>(G0||(G0=new Ks(V_)),G0);class nr{constructor(t,n=oD()){this.value=t,this.children=n}static fromObject(t){let n=new nr(null);return Ui(t,(r,i)=>{n=n.set(new or(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:zn(),value:this.value};if(vn(t))return null;{const r=Cn(t),i=this.children.get(r);if(i!==null){const a=i.findRootMostMatchingPathAndValue(rr(t),n);return a!=null?{path:ns(new or(r),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(vn(t))return this;{const n=Cn(t),r=this.children.get(n);return r!==null?r.subtree(rr(t)):new nr(null)}}set(t,n){if(vn(t))return new nr(n,this.children);{const r=Cn(t),a=(this.children.get(r)||new nr(null)).set(rr(t),n),o=this.children.insert(r,a);return new nr(this.value,o)}}remove(t){if(vn(t))return this.children.isEmpty()?new nr(null):new nr(null,this.children);{const n=Cn(t),r=this.children.get(n);if(r){const i=r.remove(rr(t));let a;return i.isEmpty()?a=this.children.remove(n):a=this.children.insert(n,i),this.value===null&&a.isEmpty()?new nr(null):new nr(this.value,a)}else return this}}get(t){if(vn(t))return this.value;{const n=Cn(t),r=this.children.get(n);return r?r.get(rr(t)):null}}setTree(t,n){if(vn(t))return n;{const r=Cn(t),a=(this.children.get(r)||new nr(null)).setTree(rr(t),n);let o;return a.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,a),new nr(this.value,o)}}fold(t){return this.fold_(zn(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,a)=>{r[i]=a.fold_(ns(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,zn(),n)}findOnPath_(t,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(vn(t))return null;{const a=Cn(t),o=this.children.get(a);return o?o.findOnPath_(rr(t),ns(n,a),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,zn(),n)}foreachOnPath_(t,n,r){if(vn(t))return this;{this.value&&r(n,this.value);const i=Cn(t),a=this.children.get(i);return a?a.foreachOnPath_(rr(t),ns(n,i),r):new nr(null)}}foreach(t){this.foreach_(zn(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(ns(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(t){this.writeTree_=t}static empty(){return new na(new nr(null))}}function Fu(e,t,n){if(vn(t))return new na(new nr(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const i=r.path;let a=r.value;const o=Ii(i,t);return a=a.updateChild(o,n),new na(e.writeTree_.set(i,a))}else{const i=new nr(n),a=e.writeTree_.setTree(t,i);return new na(a)}}}function D2(e,t,n){let r=e;return Ui(n,(i,a)=>{r=Fu(r,ns(t,i),a)}),r}function U2(e,t){if(vn(t))return na.empty();{const n=e.writeTree_.setTree(t,new nr(null));return new na(n)}}function A1(e,t){return oA(e,t)!=null}function oA(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Ii(n.path,t)):null}function L2(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ks,(r,i)=>{t.push(new Bn(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new Bn(r,i.value))}),t}function Yo(e,t){if(vn(t))return e;{const n=oA(e,t);return n!=null?new na(new nr(n)):new na(e.writeTree_.subtree(t))}}function c1(e){return e.writeTree_.isEmpty()}function Pc(e,t){return lS(zn(),e.writeTree_,t)}function lS(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,a)=>{i===".priority"?(Bt(a.value!==null,"Priority writes must always be leaf nodes"),r=a.value):n=lS(ns(e,i),a,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(ns(e,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(e,t){return fS(t,e)}function lD(e,t,n,r,i){Bt(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Fu(e.visibleWrites,t,n)),e.lastWriteId=r}function AD(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function cD(e,t){const n=e.allWrites.findIndex(l=>l.writeId===t);Bt(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,a=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const l=e.allWrites[o];l.visible&&(o>=n&&dD(l,r.path)?i=!1:ta(r.path,l.path)&&(a=!0)),o--}if(i){if(a)return uD(e),!0;if(r.snap)e.visibleWrites=U2(e.visibleWrites,r.path);else{const l=r.children;Ui(l,A=>{e.visibleWrites=U2(e.visibleWrites,ns(r.path,A))})}return!0}else return!1}function dD(e,t){if(e.snap)return ta(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&ta(ns(e.path,n),t))return!0;return!1}function uD(e){e.visibleWrites=cS(e.allWrites,hD,zn()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function hD(e){return e.visible}function cS(e,t,n){let r=na.empty();for(let i=0;i<e.length;++i){const a=e[i];if(t(a)){const o=a.path;let l;if(a.snap)ta(n,o)?(l=Ii(n,o),r=Fu(r,l,a.snap)):ta(o,n)&&(l=Ii(o,n),r=Fu(r,zn(),a.snap.getChild(l)));else if(a.children){if(ta(n,o))l=Ii(n,o),r=D2(r,l,a.children);else if(ta(o,n))if(l=Ii(o,n),vn(l))r=D2(r,zn(),a.children);else{const A=Nc(a.children,Cn(l));if(A){const c=A.getChild(rr(l));r=Fu(r,zn(),c)}}}else throw uh("WriteRecord should have .snap or .children")}}return r}function dS(e,t,n,r,i){if(!r&&!i){const a=oA(e.visibleWrites,t);if(a!=null)return a;{const o=Yo(e.visibleWrites,t);if(c1(o))return n;if(n==null&&!A1(o,zn()))return null;{const l=n||Mn.EMPTY_NODE;return Pc(o,l)}}}else{const a=Yo(e.visibleWrites,t);if(!i&&c1(a))return n;if(!i&&n==null&&!A1(a,zn()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(ta(c.path,t)||ta(t,c.path))},l=cS(e.allWrites,o,t),A=n||Mn.EMPTY_NODE;return Pc(l,A)}}}function fD(e,t,n){let r=Mn.EMPTY_NODE;const i=oA(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(ks,(a,o)=>{r=r.updateImmediateChild(a,o)}),r;if(n){const a=Yo(e.visibleWrites,t);return n.forEachChild(ks,(o,l)=>{const A=Pc(Yo(a,new or(o)),l);r=r.updateImmediateChild(o,A)}),L2(a).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const a=Yo(e.visibleWrites,t);return L2(a).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function pD(e,t,n,r,i){Bt(r||i,"Either existingEventSnap or existingServerSnap must exist");const a=ns(t,n);if(A1(e.visibleWrites,a))return null;{const o=Yo(e.visibleWrites,a);return c1(o)?i.getChild(n):Pc(o,i.getChild(n))}}function gD(e,t,n,r){const i=ns(t,n),a=oA(e.visibleWrites,i);if(a!=null)return a;if(r.isCompleteForChild(n)){const o=Yo(e.visibleWrites,i);return Pc(o,r.getNode().getImmediateChild(n))}else return null}function mD(e,t){return oA(e.visibleWrites,t)}function vD(e,t,n,r,i,a,o){let l;const A=Yo(e.visibleWrites,t),c=oA(A,zn());if(c!=null)l=c;else if(n!=null)l=Pc(A,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const d=[],u=o.getCompare(),p=a?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let h=p.getNext();for(;h&&d.length<i;)u(h,r)!==0&&d.push(h),h=p.getNext();return d}else return[]}function yD(){return{visibleWrites:na.empty(),allWrites:[],lastWriteId:-1}}function d1(e,t,n,r){return dS(e.writeTree,e.treePath,t,n,r)}function uS(e,t){return fD(e.writeTree,e.treePath,t)}function M2(e,t,n,r){return pD(e.writeTree,e.treePath,t,n,r)}function rg(e,t){return mD(e.writeTree,ns(e.treePath,t))}function xD(e,t,n,r,i,a){return vD(e.writeTree,e.treePath,t,n,r,i,a)}function Xy(e,t,n){return gD(e.writeTree,e.treePath,t,n)}function hS(e,t){return fS(ns(e.treePath,t),e.writeTree)}function fS(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;Bt(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Bt(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const a=i.type;if(n==="child_added"&&a==="child_removed")this.changeMap.set(r,F2(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&a==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&a==="child_changed")this.changeMap.set(r,Y6(r,i.oldSnap));else if(n==="child_changed"&&a==="child_added")this.changeMap.set(r,q6(r,t.snapshotNode));else if(n==="child_changed"&&a==="child_changed")this.changeMap.set(r,F2(r,t.snapshotNode,i.oldSnap));else throw uh("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const pS=new wD;class Jy{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new Yy(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Xy(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Jl(this.viewCache_),a=xD(this.writes_,i,n,1,r,t);return a.length===0?null:a[0]}}function CD(e,t){Bt(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),Bt(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function BD(e,t,n,r,i){const a=new bD;let o,l;if(n.type===ya.OVERWRITE){const c=n;c.source.fromUser?o=u1(e,t,c.path,c.snap,r,i,a):(Bt(c.source.fromServer,"Unknown source."),l=c.source.tagged||t.serverCache.isFiltered()&&!vn(c.path),o=sg(e,t,c.path,c.snap,r,i,l,a))}else if(n.type===ya.MERGE){const c=n;c.source.fromUser?o=jD(e,t,c.path,c.children,r,i,a):(Bt(c.source.fromServer,"Unknown source."),l=c.source.tagged||t.serverCache.isFiltered(),o=h1(e,t,c.path,c.children,r,i,l,a))}else if(n.type===ya.ACK_USER_WRITE){const c=n;c.revert?o=ID(e,t,c.path,r,i,a):o=kD(e,t,c.path,c.affectedTree,r,i,a)}else if(n.type===ya.LISTEN_COMPLETE)o=ED(e,t,n.path,r,a);else throw uh("Unknown operation type: "+n.type);const A=a.getChanges();return SD(t,o,A),{viewCache:o,changes:A}}function SD(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=l1(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(G6(l1(t)))}}function gS(e,t,n,r,i,a){const o=t.eventCache;if(rg(r,n)!=null)return t;{let l,A;if(vn(n))if(Bt(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const c=Jl(t),d=c instanceof Mn?c:Mn.EMPTY_NODE,u=uS(r,d);l=e.filter.updateFullNode(t.eventCache.getNode(),u,a)}else{const c=d1(r,Jl(t));l=e.filter.updateFullNode(t.eventCache.getNode(),c,a)}else{const c=Cn(n);if(c===".priority"){Bt(el(n)===1,"Can't have a priority with additional path components");const d=o.getNode();A=t.serverCache.getNode();const u=M2(r,n,d,A);u!=null?l=e.filter.updatePriority(d,u):l=o.getNode()}else{const d=rr(n);let u;if(o.isCompleteForChild(c)){A=t.serverCache.getNode();const p=M2(r,n,o.getNode(),A);p!=null?u=o.getNode().getImmediateChild(c).updateChild(d,p):u=o.getNode().getImmediateChild(c)}else u=Xy(r,c,t.serverCache);u!=null?l=e.filter.updateChild(o.getNode(),c,u,d,i,a):l=o.getNode()}}return Iu(t,l,o.isFullyInitialized()||vn(n),e.filter.filtersNodes())}}function sg(e,t,n,r,i,a,o,l){const A=t.serverCache;let c;const d=o?e.filter:e.filter.getIndexedFilter();if(vn(n))c=d.updateFullNode(A.getNode(),r,null);else if(d.filtersNodes()&&!A.isFiltered()){const h=A.getNode().updateChild(n,r);c=d.updateFullNode(A.getNode(),h,null)}else{const h=Cn(n);if(!A.isCompleteForPath(n)&&el(n)>1)return t;const m=rr(n),y=A.getNode().getImmediateChild(h).updateChild(m,r);h===".priority"?c=d.updatePriority(A.getNode(),y):c=d.updateChild(A.getNode(),h,y,m,pS,null)}const u=oS(t,c,A.isFullyInitialized()||vn(n),d.filtersNodes()),p=new Jy(i,u,a);return gS(e,u,n,i,p,l)}function u1(e,t,n,r,i,a,o){const l=t.eventCache;let A,c;const d=new Jy(i,t,a);if(vn(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,o),A=Iu(t,c,!0,e.filter.filtersNodes());else{const u=Cn(n);if(u===".priority")c=e.filter.updatePriority(t.eventCache.getNode(),r),A=Iu(t,c,l.isFullyInitialized(),l.isFiltered());else{const p=rr(n),h=l.getNode().getImmediateChild(u);let m;if(vn(p))m=r;else{const g=d.getCompleteChild(u);g!=null?K4(p)===".priority"&&g.getChild(G4(p)).isEmpty()?m=g:m=g.updateChild(p,r):m=Mn.EMPTY_NODE}if(h.equals(m))A=t;else{const g=e.filter.updateChild(l.getNode(),u,m,p,d,o);A=Iu(t,g,l.isFullyInitialized(),e.filter.filtersNodes())}}}return A}function P2(e,t){return e.eventCache.isCompleteForChild(t)}function jD(e,t,n,r,i,a,o){let l=t;return r.foreach((A,c)=>{const d=ns(n,A);P2(t,Cn(d))&&(l=u1(e,l,d,c,i,a,o))}),r.foreach((A,c)=>{const d=ns(n,A);P2(t,Cn(d))||(l=u1(e,l,d,c,i,a,o))}),l}function Q2(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function h1(e,t,n,r,i,a,o,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let A=t,c;vn(n)?c=r:c=new nr(null).setTree(n,r);const d=t.serverCache.getNode();return c.children.inorderTraversal((u,p)=>{if(d.hasChild(u)){const h=t.serverCache.getNode().getImmediateChild(u),m=Q2(e,h,p);A=sg(e,A,new or(u),m,i,a,o,l)}}),c.children.inorderTraversal((u,p)=>{const h=!t.serverCache.isCompleteForChild(u)&&p.value===null;if(!d.hasChild(u)&&!h){const m=t.serverCache.getNode().getImmediateChild(u),g=Q2(e,m,p);A=sg(e,A,new or(u),g,i,a,o,l)}}),A}function kD(e,t,n,r,i,a,o){if(rg(i,n)!=null)return t;const l=t.serverCache.isFiltered(),A=t.serverCache;if(r.value!=null){if(vn(n)&&A.isFullyInitialized()||A.isCompleteForPath(n))return sg(e,t,n,A.getNode().getChild(n),i,a,l,o);if(vn(n)){let c=new nr(null);return A.getNode().forEachChild(xc,(d,u)=>{c=c.set(new or(d),u)}),h1(e,t,n,c,i,a,l,o)}else return t}else{let c=new nr(null);return r.foreach((d,u)=>{const p=ns(n,d);A.isCompleteForPath(p)&&(c=c.set(d,A.getNode().getChild(p)))}),h1(e,t,n,c,i,a,l,o)}}function ED(e,t,n,r,i){const a=t.serverCache,o=oS(t,a.getNode(),a.isFullyInitialized()||vn(n),a.isFiltered());return gS(e,o,n,r,pS,i)}function ID(e,t,n,r,i,a){let o;if(rg(r,n)!=null)return t;{const l=new Jy(r,t,i),A=t.eventCache.getNode();let c;if(vn(n)||Cn(n)===".priority"){let d;if(t.serverCache.isFullyInitialized())d=d1(r,Jl(t));else{const u=t.serverCache.getNode();Bt(u instanceof Mn,"serverChildren would be complete if leaf node"),d=uS(r,u)}d=d,c=e.filter.updateFullNode(A,d,a)}else{const d=Cn(n);let u=Xy(r,d,t.serverCache);u==null&&t.serverCache.isCompleteForChild(d)&&(u=A.getImmediateChild(d)),u!=null?c=e.filter.updateChild(A,d,u,rr(n),l,a):t.eventCache.getNode().hasChild(d)?c=e.filter.updateChild(A,d,Mn.EMPTY_NODE,rr(n),l,a):c=A,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=d1(r,Jl(t)),o.isLeafNode()&&(c=e.filter.updateFullNode(c,o,a)))}return o=t.serverCache.isFullyInitialized()||rg(r,zn())!=null,Iu(t,c,o,e.filter.filtersNodes())}}function FD(e,t){const n=Jl(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!vn(t)&&!n.getImmediateChild(Cn(t)).isEmpty())?n.getChild(t):null}function R2(e,t,n,r){t.type===ya.MERGE&&t.source.queryId!==null&&(Bt(Jl(e.viewCache_),"We should always have a full cache before handling merges"),Bt(l1(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,a=BD(e.processor_,i,t,n,r);return CD(e.processor_,a.viewCache),Bt(a.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=a.viewCache,ND(e,a.changes,a.viewCache.eventCache.getNode())}function ND(e,t,n,r){const i=e.eventRegistrations_;return sD(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let H2;function TD(e){Bt(!H2,"__referenceConstructor has already been defined"),H2=e}function Zy(e,t,n,r){const i=t.source.queryId;if(i!==null){const a=e.views.get(i);return Bt(a!=null,"SyncTree gave us an op for an invalid query."),R2(a,t,n,r)}else{let a=[];for(const o of e.views.values())a=a.concat(R2(o,t,n,r));return a}}function ex(e,t){let n=null;for(const r of e.views.values())n=n||FD(r,t);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let O2;function _D(e){Bt(!O2,"__referenceConstructor has already been defined"),O2=e}class $2{constructor(t){this.listenProvider_=t,this.syncPointTree_=new nr(null),this.pendingWriteTree_=yD(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function DD(e,t,n,r,i){return lD(e.pendingWriteTree_,t,n,r,i),i?mm(e,new Xl(rS(),t,n)):[]}function dc(e,t,n=!1){const r=AD(e.pendingWriteTree_,t);if(cD(e.pendingWriteTree_,t)){let a=new nr(null);return r.snap!=null?a=a.set(zn(),!0):Ui(r.children,o=>{a=a.set(new or(o),!0)}),mm(e,new ng(r.path,a,n))}else return[]}function gm(e,t,n){return mm(e,new Xl(sS(),t,n))}function UD(e,t,n){const r=nr.fromObject(n);return mm(e,new Xu(sS(),t,r))}function LD(e,t,n,r){const i=xS(e,r);if(i!=null){const a=bS(i),o=a.path,l=a.queryId,A=Ii(o,t),c=new Xl(iS(l),A,n);return wS(e,o,c)}else return[]}function MD(e,t,n,r){const i=xS(e,r);if(i){const a=bS(i),o=a.path,l=a.queryId,A=Ii(o,t),c=nr.fromObject(n),d=new Xu(iS(l),A,c);return wS(e,o,d)}else return[]}function mS(e,t,n){const i=e.pendingWriteTree_,a=e.syncPointTree_.findOnPath(t,(o,l)=>{const A=Ii(o,t),c=ex(l,A);if(c)return c});return dS(i,t,a,n,!0)}function mm(e,t){return vS(t,e.syncPointTree_,null,AS(e.pendingWriteTree_,zn()))}function vS(e,t,n,r){if(vn(e.path))return yS(e,t,n,r);{const i=t.get(zn());n==null&&i!=null&&(n=ex(i,zn()));let a=[];const o=Cn(e.path),l=e.operationForChild(o),A=t.children.get(o);if(A&&l){const c=n?n.getImmediateChild(o):null,d=hS(r,o);a=a.concat(vS(l,A,c,d))}return i&&(a=a.concat(Zy(i,e,r,n))),a}}function yS(e,t,n,r){const i=t.get(zn());n==null&&i!=null&&(n=ex(i,zn()));let a=[];return t.children.inorderTraversal((o,l)=>{const A=n?n.getImmediateChild(o):null,c=hS(r,o),d=e.operationForChild(o);d&&(a=a.concat(yS(d,l,A,c)))}),i&&(a=a.concat(Zy(i,e,r,n))),a}function xS(e,t){return e.tagToQueryMap.get(t)}function bS(e){const t=e.indexOf("$");return Bt(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new or(e.substr(0,t))}}function wS(e,t,n){const r=e.syncPointTree_.get(t);Bt(r,"Missing sync point for query tag that we're tracking");const i=AS(e.pendingWriteTree_,t);return Zy(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new tx(n)}node(){return this.node_}}class nx{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=ns(this.path_,t);return new nx(this.syncTree_,n)}node(){return mS(this.syncTree_,this.path_)}}const PD=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},z2=function(e,t,n){if(!e||typeof e!="object")return e;if(Bt(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return QD(e[".sv"],t,n);if(typeof e[".sv"]=="object")return RD(e[".sv"],t);Bt(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},QD=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:Bt(!1,"Unexpected server value: "+e)}},RD=function(e,t,n){e.hasOwnProperty("increment")||Bt(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&Bt(!1,"Unexpected increment value: "+r);const i=t.node();if(Bt(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},HD=function(e,t,n,r){return rx(t,new nx(n,e),r)},OD=function(e,t,n){return rx(e,new tx(t),n)};function rx(e,t,n){const r=e.getPriority().val(),i=z2(r,t.getImmediateChild(".priority"),n);let a;if(e.isLeafNode()){const o=e,l=z2(o.getValue(),t,n);return l!==o.getValue()||i!==o.getPriority().val()?new Jr(l,Bs(i)):e}else{const o=e;return a=o,i!==o.getPriority().val()&&(a=a.updatePriority(new Jr(i))),o.forEachChild(ks,(l,A)=>{const c=rx(A,t.getImmediateChild(l),n);c!==A&&(a=a.updateImmediateChild(l,c))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function ix(e,t){let n=t instanceof or?t:new or(t),r=e,i=Cn(n);for(;i!==null;){const a=Nc(r.node.children,i)||{children:{},childCount:0};r=new sx(i,r,a),n=rr(n),i=Cn(n)}return r}function ad(e){return e.node.value}function CS(e,t){e.node.value=t,f1(e)}function BS(e){return e.node.childCount>0}function $D(e){return ad(e)===void 0&&!BS(e)}function vm(e,t){Ui(e.node.children,(n,r)=>{t(new sx(n,e,r))})}function SS(e,t,n,r){n&&t(e),vm(e,i=>{SS(i,t,!0)})}function zD(e,t,n){let r=e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function jh(e){return new or(e.parent===null?e.name:jh(e.parent)+"/"+e.name)}function f1(e){e.parent!==null&&WD(e.parent,e.name,e)}function WD(e,t,n){const r=$D(n),i=po(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,f1(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,f1(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=/[\[\].#$\/\u0000-\u001F\u007F]/,VD=/[\[\].#$\u0000-\u001F\u007F]/,q0=10*1024*1024,jS=function(e){return typeof e=="string"&&e.length!==0&&!KD.test(e)},GD=function(e){return typeof e=="string"&&e.length!==0&&!VD.test(e)},qD=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),GD(e)},kS=function(e,t,n){const r=n instanceof or?new E6(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+El(r));if(typeof t=="function")throw new Error(e+"contains a function "+El(r)+" with contents = "+t.toString());if(S4(t))throw new Error(e+"contains "+t.toString()+" "+El(r));if(typeof t=="string"&&t.length>q0/3&&Dg(t)>q0)throw new Error(e+"contains a string greater than "+q0+" utf8 bytes "+El(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,a=!1;if(Ui(t,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(a=!0,!jS(o)))throw new Error(e+" contains an invalid key ("+o+") "+El(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);I6(r,o),kS(e,l,r),F6(r)}),i&&a)throw new Error(e+' contains ".value" child '+El(r)+" in addition to actual children.")}},YD=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!jS(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!qD(n))throw new Error(HE(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function JD(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],a=i.getPath();n!==null&&!q4(a,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function lA(e,t,n){JD(e,n),ZD(e,r=>ta(r,t)||ta(t,r))}function ZD(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){const a=i.path;t(a)?(eU(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function eU(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const r=n.getEventRunner();ku&&Cs("event: "+n.toString()),Bh(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tU="repo_interrupt",nU=25;class rU{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new XD,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=tg(),this.transactionQueueTree_=new sx,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function sU(e,t,n){if(e.stats_=Wy(e.repoInfo_),e.forceRestClient_||Z_())e.server_=new eg(e.repoInfo_,(r,i,a,o)=>{W2(e,r,i,a,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>K2(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{us(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Za(e.repoInfo_,t,(r,i,a,o)=>{W2(e,r,i,a,o)},r=>{K2(e,r)},r=>{aU(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=s6(e.repoInfo_,()=>new rD(e.stats_,e.server_)),e.infoData_=new J6,e.infoSyncTree_=new $2({startListening:(r,i,a,o)=>{let l=[];const A=e.infoData_.getNode(r._path);return A.isEmpty()||(l=gm(e.infoSyncTree_,r._path,A),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),ax(e,"connected",!1),e.serverSyncTree_=new $2({startListening:(r,i,a,o)=>(e.server_.listen(r,a,i,(l,A)=>{const c=o(l,A);lA(e.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function iU(e){const n=e.infoData_.getNode(new or(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function ES(e){return PD({timestamp:iU(e)})}function W2(e,t,n,r,i){e.dataUpdateCount++;const a=new or(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const A=zp(n,c=>Bs(c));o=MD(e.serverSyncTree_,a,A,i)}else{const A=Bs(n);o=LD(e.serverSyncTree_,a,A,i)}else if(r){const A=zp(n,c=>Bs(c));o=UD(e.serverSyncTree_,a,A)}else{const A=Bs(n);o=gm(e.serverSyncTree_,a,A)}let l=a;o.length>0&&(l=lx(e,a)),lA(e.eventQueue_,l,o)}function K2(e,t){ax(e,"connected",t),t===!1&&lU(e)}function aU(e,t){Ui(t,(n,r)=>{ax(e,n,r)})}function ax(e,t,n){const r=new or("/.info/"+t),i=Bs(n);e.infoData_.updateSnapshot(r,i);const a=gm(e.infoSyncTree_,r,i);lA(e.eventQueue_,r,a)}function oU(e){return e.nextWriteId_++}function lU(e){IS(e,"onDisconnectEvents");const t=ES(e),n=tg();o1(e.onDisconnect_,zn(),(i,a)=>{const o=HD(i,a,e.serverSyncTree_,t);nS(n,i,o)});let r=[];o1(n,zn(),(i,a)=>{r=r.concat(gm(e.serverSyncTree_,i,a));const o=uU(e,i);lx(e,o)}),e.onDisconnect_=tg(),lA(e.eventQueue_,zn(),r)}function AU(e){e.persistentConnection_&&e.persistentConnection_.interrupt(tU)}function IS(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Cs(n,...t)}function FS(e,t,n){return mS(e.serverSyncTree_,t,n)||Mn.EMPTY_NODE}function ox(e,t=e.transactionQueueTree_){if(t||ym(e,t),ad(t)){const n=TS(e,t);Bt(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&cU(e,jh(t),n)}else BS(t)&&vm(t,n=>{ox(e,n)})}function cU(e,t,n){const r=n.map(c=>c.currentWriteId),i=FS(e,t,r);let a=i;const o=i.hash();for(let c=0;c<n.length;c++){const d=n[c];Bt(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const u=Ii(t,d.path);a=a.updateChild(u,d.currentOutputSnapshotRaw)}const l=a.val(!0),A=t;e.server_.put(A.toString(),l,c=>{IS(e,"transaction put response",{path:A.toString(),status:c});let d=[];if(c==="ok"){const u=[];for(let p=0;p<n.length;p++)n[p].status=2,d=d.concat(dc(e.serverSyncTree_,n[p].currentWriteId)),n[p].onComplete&&u.push(()=>n[p].onComplete(null,!0,n[p].currentOutputSnapshotResolved)),n[p].unwatcher();ym(e,ix(e.transactionQueueTree_,t)),ox(e,e.transactionQueueTree_),lA(e.eventQueue_,t,d);for(let p=0;p<u.length;p++)Bh(u[p])}else{if(c==="datastale")for(let u=0;u<n.length;u++)n[u].status===3?n[u].status=4:n[u].status=0;else{di("transaction at "+A.toString()+" failed: "+c);for(let u=0;u<n.length;u++)n[u].status=4,n[u].abortReason=c}lx(e,t)}},o)}function lx(e,t){const n=NS(e,t),r=jh(n),i=TS(e,n);return dU(e,i,r),r}function dU(e,t,n){if(t.length===0)return;const r=[];let i=[];const o=t.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<t.length;l++){const A=t[l],c=Ii(n,A.path);let d=!1,u;if(Bt(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),A.status===4)d=!0,u=A.abortReason,i=i.concat(dc(e.serverSyncTree_,A.currentWriteId,!0));else if(A.status===0)if(A.retryCount>=nU)d=!0,u="maxretry",i=i.concat(dc(e.serverSyncTree_,A.currentWriteId,!0));else{const p=FS(e,A.path,o);A.currentInputSnapshot=p;const h=t[l].update(p.val());if(h!==void 0){kS("transaction failed: Data returned ",h,A.path);let m=Bs(h);typeof h=="object"&&h!=null&&po(h,".priority")||(m=m.updatePriority(p.getPriority()));const y=A.currentWriteId,x=ES(e),C=OD(m,p,x);A.currentOutputSnapshotRaw=m,A.currentOutputSnapshotResolved=C,A.currentWriteId=oU(e),o.splice(o.indexOf(y),1),i=i.concat(DD(e.serverSyncTree_,A.path,C,A.currentWriteId,A.applyLocally)),i=i.concat(dc(e.serverSyncTree_,y,!0))}else d=!0,u="nodata",i=i.concat(dc(e.serverSyncTree_,A.currentWriteId,!0))}lA(e.eventQueue_,n,i),i=[],d&&(t[l].status=2,function(p){setTimeout(p,Math.floor(0))}(t[l].unwatcher),t[l].onComplete&&(u==="nodata"?r.push(()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot)):r.push(()=>t[l].onComplete(new Error(u),!1,null))))}ym(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)Bh(r[l]);ox(e,e.transactionQueueTree_)}function NS(e,t){let n,r=e.transactionQueueTree_;for(n=Cn(t);n!==null&&ad(r)===void 0;)r=ix(r,n),t=rr(t),n=Cn(t);return r}function TS(e,t){const n=[];return _S(e,t,n),n.sort((r,i)=>r.order-i.order),n}function _S(e,t,n){const r=ad(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);vm(t,i=>{_S(e,i,n)})}function ym(e,t){const n=ad(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,CS(t,n.length>0?n:void 0)}vm(t,r=>{ym(e,r)})}function uU(e,t){const n=jh(NS(e,t)),r=ix(e.transactionQueueTree_,t);return zD(r,i=>{Y0(e,i)}),Y0(e,r),SS(r,i=>{Y0(e,i)}),n}function Y0(e,t){const n=ad(t);if(n){const r=[];let i=[],a=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(Bt(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(Bt(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(dc(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));a===-1?CS(t,void 0):n.length=a+1,lA(e.eventQueue_,jh(t),i);for(let o=0;o<r.length;o++)Bh(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hU(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function fU(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):di(`Invalid query segment '${n}' in query '${e}'`)}return t}const V2=function(e,t){const n=pU(e),r=n.namespace;n.domain==="firebase.com"&&ao(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&ao("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||W_();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new M4(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new or(n.pathString)}},pU=function(e){let t="",n="",r="",i="",a="",o=!0,l="https",A=443;if(typeof e=="string"){let c=e.indexOf("//");c>=0&&(l=e.substring(0,c-1),e=e.substring(c+2));let d=e.indexOf("/");d===-1&&(d=e.length);let u=e.indexOf("?");u===-1&&(u=e.length),t=e.substring(0,Math.min(d,u)),d<u&&(i=hU(e.substring(d,u)));const p=fU(e.substring(Math.min(e.length,u)));c=t.indexOf(":"),c>=0?(o=l==="https"||l==="wss",A=parseInt(t.substring(c+1),10)):c=t.length;const h=t.slice(0,c);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{const m=t.indexOf(".");r=t.substring(0,m).toLowerCase(),n=t.substring(m+1),a=r}"ns"in p&&(a=p.ns)}return{host:t,port:A,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:a}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return vn(this._path)?null:K4(this._path)}get ref(){return new od(this._repo,this._path)}get _queryIdentifier(){const t=T2(this._queryParams),n=$y(t);return n==="{}"?"default":n}get _queryObject(){return T2(this._queryParams)}isEqual(t){if(t=hh(t),!(t instanceof Ax))return!1;const n=this._repo===t._repo,r=q4(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+k6(this._path)}}class od extends Ax{constructor(t,n){super(t,n,new qy,!1)}get parent(){const t=G4(this._path);return t===null?null:new od(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}TD(od);_D(od);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU="FIREBASE_DATABASE_EMULATOR_HOST",p1={};let mU=!1;function vU(e,t,n,r){e.repoInfo_=new M4(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}function yU(e,t,n,r,i){let a=r||e.options.databaseURL;a===void 0&&(e.options.projectId||ao("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Cs("Using default host for project ",e.options.projectId),a=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o=V2(a,i),l=o.repoInfo,A;typeof process<"u"&&h2&&(A=h2[gU]),A?(a=`http://${A}?ns=${l.namespace}`,o=V2(a,i),l=o.repoInfo):o.repoInfo.secure;const c=new t6(e.name,e.options,t);YD("Invalid Firebase Database URL",o),vn(o.path)||ao("Database URL must point to the root of a Firebase Database (not including a child path).");const d=bU(l,e,c,new e6(e.name,n));return new wU(d,e)}function xU(e,t){const n=p1[t];(!n||n[e.key]!==e)&&ao(`Database ${t}(${e.repoInfo_}) has already been deleted.`),AU(e),delete n[e.key]}function bU(e,t,n,r){let i=p1[t.name];i||(i={},p1[t.name]=i);let a=i[e.toURLString()];return a&&ao("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new rU(e,mU,n,r),i[e.toURLString()]=a,a}class wU{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(sU(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new od(this._repo,zn())),this._rootInternal}_delete(){return this._rootInternal!==null&&(xU(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&ao("Cannot call "+t+" on a deleted database.")}}function CU(e=o5(),t){const n=l5(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=A5("database");r&&BU(n,...r)}return n}function BU(e,t,n,r={}){e=hh(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&ao("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let a;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&ao('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new Np(Np.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:YE(r.mockUserToken,e.app.options.projectId);a=new Np(o)}vU(i,t,n,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SU(e){Q_(XE),r5(new s5("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return yU(r,i,a,n)},"PUBLIC").setMultipleInstances(!0)),$p(f2,p2,e),$p(f2,p2,"esm2017")}Za.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Za.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};SU();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU="type.googleapis.com/google.protobuf.Int64Value",kU="type.googleapis.com/google.protobuf.UInt64Value";function DS(e,t){const n={};for(const r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}function g1(e){if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(t=>g1(t));if(typeof e=="function"||typeof e=="object")return DS(e,t=>g1(t));throw new Error("Data cannot be encoded in JSON: "+e)}function ig(e){if(e==null)return e;if(e["@type"])switch(e["@type"]){case jU:case kU:{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(t=>ig(t)):typeof e=="function"||typeof e=="object"?DS(e,t=>ig(t)):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class bc extends c5{constructor(t,n,r){super(`${cx}/${t}`,n||""),this.details=r}}function EU(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function IU(e,t){let n=EU(e),r=n,i;try{const a=t&&t.error;if(a){const o=a.status;if(typeof o=="string"){if(!G2[o])return new bc("internal","internal");n=G2[o],r=o}const l=a.message;typeof l=="string"&&(r=l),i=a.details,i!==void 0&&(i=ig(i))}}catch{}return n==="ok"?null:new bc(n,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(t,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const t=await this.auth.getToken();return t==null?void 0:t.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.appCheck){const n=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(t){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(t);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="us-central1";function NU(e){let t=null;return{promise:new Promise((n,r)=>{t=setTimeout(()=>{r(new bc("deadline-exceeded","deadline-exceeded"))},e)}),cancel:()=>{t&&clearTimeout(t)}}}class TU{constructor(t,n,r,i,a=m1,o){this.app=t,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new FU(n,r,i),this.cancelAllRequests=new Promise(l=>{this.deleteService=()=>Promise.resolve(l())});try{const l=new URL(a);this.customDomain=l.origin+(l.pathname==="/"?"":l.pathname),this.region=m1}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(t){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${n}.cloudfunctions.net/${t}`}}function _U(e,t,n){e.emulatorOrigin=`http://${t}:${n}`}function DU(e,t,n){return r=>LU(e,t,r,n||{})}async function UU(e,t,n,r){n["Content-Type"]="application/json";let i;try{i=await r(e,{method:"POST",body:JSON.stringify(t),headers:n})}catch{return{status:0,json:null}}let a=null;try{a=await i.json()}catch{}return{status:i.status,json:a}}function LU(e,t,n,r){const i=e._url(t);return MU(e,i,n,r)}async function MU(e,t,n,r){n=g1(n);const i={data:n},a={},o=await e.contextProvider.getContext(r.limitedUseAppCheckTokens);o.authToken&&(a.Authorization="Bearer "+o.authToken),o.messagingToken&&(a["Firebase-Instance-ID-Token"]=o.messagingToken),o.appCheckToken!==null&&(a["X-Firebase-AppCheck"]=o.appCheckToken);const l=r.timeout||7e4,A=NU(l),c=await Promise.race([UU(t,i,a,e.fetchImpl),A.promise,e.cancelAllRequests]);if(A.cancel(),!c)throw new bc("cancelled","Firebase Functions instance was deleted.");const d=IU(c.status,c.json);if(d)throw d;if(!c.json)throw new bc("internal","Response is not valid JSON object.");let u=c.json.data;if(typeof u>"u"&&(u=c.json.result),typeof u>"u")throw new bc("internal","Response is missing data field.");return{data:ig(u)}}const q2="@firebase/functions",Y2="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PU="auth-internal",QU="app-check-internal",RU="messaging-internal";function HU(e,t){const n=(r,{instanceIdentifier:i})=>{const a=r.getProvider("app").getImmediate(),o=r.getProvider(PU),l=r.getProvider(RU),A=r.getProvider(QU);return new TU(a,o,l,A,i,e)};r5(new s5(cx,n,"PUBLIC").setMultipleInstances(!0)),$p(q2,Y2,t),$p(q2,Y2,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(e=o5(),t=m1){const r=l5(hh(e),cx).getImmediate({identifier:t}),i=A5("functions");return i&&US(r,...i),r}function US(e,t,n){_U(hh(e),t,n)}function ts(e,t,n){return DU(hh(e),t,n)}HU(fetch.bind(self));const OU=Object.freeze(Object.defineProperty({__proto__:null,connectFunctionsEmulator:US,getFunctions:Hl,httpsCallable:ts},Symbol.toStringTag,{value:"Module"})),$U={apiKey:"AIzaSyAnp3SY9XEyF-le5q_Tcv-7Le2qqvtz0ZM",authDomain:"sports-booking-app-1d7e5.firebaseapp.com",databaseURL:"https://sports-booking-app-1d7e5-default-rtdb.europe-west1.firebasedatabase.app",projectId:"sports-booking-app-1d7e5",storageBucket:"sports-booking-app-1d7e5.firebasestorage.app",messagingSenderId:"648540980109",appId:"1:648540980109:web:97fbe182c59bb2641ab3c4",measurementId:"G-VL4MCP1PZP"},kh=JE($U),Re=ZE(kh,{experimentalForceLongPolling:!1,cacheSizeBytes:50*1024*1024}),Ss=eI(kh);tI(Ss,rI).catch(e=>{console.error("Error setting persistence:",e)});const v1=nI(kh);CU(kh);const tl=Hl(kh,"europe-west1"),zU=Object.freeze(Object.defineProperty({__proto__:null,auth:Ss,db:Re,functions:tl,storage:v1},Symbol.toStringTag,{value:"Module"})),LS=b.createContext(void 0),er=()=>{const e=b.useContext(LS);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},WU=({children:e})=>{const[t,n]=b.useState(null),[r,i]=b.useState(null),[a,o]=b.useState(null),[l,A]=b.useState(!0);b.useEffect(()=>sI(Ss,async h=>{if(console.log("🔄 Auth state changed:",(h==null?void 0:h.email)||"no user","at",new Date().toLocaleTimeString()),h)console.log("🔐 User authenticated:",{uid:h.uid,email:h.email,emailVerified:h.emailVerified,providerId:h.providerId,metadata:h.metadata});else{console.log("🚪 User signed out or session expired");const m=localStorage.getItem("authToken");console.log("📦 Local storage auth token:",m?"exists":"not found")}if(h)try{console.log("🔍 Searching for admin with email:",h.email);const m=Vt(Et(Re,"admins"),pt("email","==",h.email)),g=await $t(m);if(console.log("📊 Admin search result:",g.empty?"not found":"found"),g.empty)console.warn("Admin not found for user:",h.email),n(h),i(null),o(null);else{const y=g.docs[0],x={id:y.id,...y.data()};if(console.log("✅ Admin data loaded:",x),n(h),i(x),x.venueId){const C=await An(bt(Re,"venues",x.venueId));if(C.exists()){const S=C.data();o({id:C.id,...S,timezone:S.timezone||"Europe/Moscow"})}}else x.role==="superadmin"&&o(null)}}catch(m){console.error("Error fetching admin data:",m),n(null),i(null),o(null)}else n(null),i(null),o(null);A(!1)}),[]);const u={user:t,admin:r,club:a,loading:l,logout:async()=>{try{await Gv(Ss),n(null),i(null),o(null)}catch(p){console.error("Logout error:",p)}},refreshClubData:async()=>{if(r!=null&&r.venueId)try{console.log("Refreshing club data for venue:",r.venueId);const p=await An(bt(Re,"venues",r.venueId));if(p.exists()){const h=p.data();console.log("Loaded venue data:",h),o({id:p.id,name:h.name||"",address:h.address||"",phone:h.phone||"",email:h.email||"",city:h.city||"",location:h.location,description:h.description,logoUrl:h.logoUrl,photos:h.photos||[],amenities:h.amenities,organizationType:h.organizationType,inn:h.inn,bankAccount:h.bankAccount,legalName:h.legalName,ogrn:h.ogrn,kpp:h.kpp,legalAddress:h.legalAddress,bankName:h.bankName,bankBik:h.bankBik,bankCorrespondentAccount:h.bankCorrespondentAccount,directorName:h.directorName,directorPosition:h.directorPosition,workingHours:h.workingHours,bookingDurations:h.bookingDurations,bookingSlotInterval:h.bookingSlotInterval,timezone:h.timezone||"Europe/Moscow"})}}catch(p){console.error("Error refreshing club data:",p)}}};return s.jsx(LS.Provider,{value:u,children:e})};function KU(e){return gt("MuiSvgIcon",e)}mt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const VU=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],GU=e=>{const{color:t,fontSize:n,classes:r}=e,i={root:["root",t!=="inherit"&&`color${Ge(t)}`,`fontSize${Ge(n)}`]};return yt(i,KU,r)},qU=Pe("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${Ge(n.color)}`],t[`fontSize${Ge(n.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var n,r,i,a,o,l,A,c,d,u,p,h,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=e.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=e.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((a=e.typography)==null||(o=a.pxToRem)==null?void 0:o.call(a,20))||"1.25rem",medium:((l=e.typography)==null||(A=l.pxToRem)==null?void 0:A.call(l,24))||"1.5rem",large:((c=e.typography)==null||(d=c.pxToRem)==null?void 0:d.call(c,35))||"2.1875rem"}[t.fontSize],color:(u=(p=(e.vars||e).palette)==null||(p=p[t.color])==null?void 0:p.main)!=null?u:{action:(h=(e.vars||e).palette)==null||(h=h.action)==null?void 0:h.active,disabled:(m=(e.vars||e).palette)==null||(m=m.action)==null?void 0:m.disabled,inherit:void 0}[t.color]}}),ag=b.forwardRef(function(t,n){const r=_t({props:t,name:"MuiSvgIcon"}),{children:i,className:a,color:o="inherit",component:l="svg",fontSize:A="medium",htmlColor:c,inheritViewBox:d=!1,titleAccess:u,viewBox:p="0 0 24 24"}=r,h=Ye(r,VU),m=b.isValidElement(i)&&i.type==="svg",g=W({},r,{color:o,component:l,fontSize:A,instanceFontSize:t.fontSize,inheritViewBox:d,viewBox:p,hasSvgAsChild:m}),y={};d||(y.viewBox=p);const x=GU(g);return s.jsxs(qU,W({as:l,className:Je(x.root,a),focusable:"false",color:c,"aria-hidden":u?void 0:!0,role:u?"img":void 0,ref:n},y,h,m&&i.props,{ownerState:g,children:[m?i.props.children:i,u?s.jsx("title",{children:u}):null]}))});ag.muiName="SvgIcon";function ut(e,t){function n(r,i){return s.jsx(ag,W({"data-testid":`${t}Icon`,ref:i},r,{children:e}))}return n.muiName=ag.muiName,b.memo(b.forwardRef(n))}function og(e,t){return og=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},og(e,t)}function dx(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,og(e,t)}function YU(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function XU(e,t){e.classList?e.classList.add(t):YU(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function X2(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function JU(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=X2(e.className,t):e.setAttribute("class",X2(e.className&&e.className.baseVal||"",t))}const J2={disabled:!1},lg=mn.createContext(null);var MS=function(t){return t.scrollTop},gu="unmounted",Il="exited",Fl="entering",nc="entered",y1="exiting",$i=function(e){dx(t,e);function t(r,i){var a;a=e.call(this,r,i)||this;var o=i,l=o&&!o.isMounting?r.enter:r.appear,A;return a.appearStatus=null,r.in?l?(A=Il,a.appearStatus=Fl):A=nc:r.unmountOnExit||r.mountOnEnter?A=gu:A=Il,a.state={status:A},a.nextCallback=null,a}t.getDerivedStateFromProps=function(i,a){var o=i.in;return o&&a.status===gu?{status:Il}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var a=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Fl&&o!==nc&&(a=Fl):(o===Fl||o===nc)&&(a=y1)}this.updateStatus(!1,a)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,a,o,l;return a=o=l=i,i!=null&&typeof i!="number"&&(a=i.exit,o=i.enter,l=i.appear!==void 0?i.appear:o),{exit:a,enter:o,appear:l}},n.updateStatus=function(i,a){if(i===void 0&&(i=!1),a!==null)if(this.cancelNextCallback(),a===Fl){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Ff.findDOMNode(this);o&&MS(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Il&&this.setState({status:gu})},n.performEnter=function(i){var a=this,o=this.props.enter,l=this.context?this.context.isMounting:i,A=this.props.nodeRef?[l]:[Ff.findDOMNode(this),l],c=A[0],d=A[1],u=this.getTimeouts(),p=l?u.appear:u.enter;if(!i&&!o||J2.disabled){this.safeSetState({status:nc},function(){a.props.onEntered(c)});return}this.props.onEnter(c,d),this.safeSetState({status:Fl},function(){a.props.onEntering(c,d),a.onTransitionEnd(p,function(){a.safeSetState({status:nc},function(){a.props.onEntered(c,d)})})})},n.performExit=function(){var i=this,a=this.props.exit,o=this.getTimeouts(),l=this.props.nodeRef?void 0:Ff.findDOMNode(this);if(!a||J2.disabled){this.safeSetState({status:Il},function(){i.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:y1},function(){i.props.onExiting(l),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Il},function(){i.props.onExited(l)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,a){a=this.setNextCallback(a),this.setState(i,a)},n.setNextCallback=function(i){var a=this,o=!0;return this.nextCallback=function(l){o&&(o=!1,a.nextCallback=null,i(l))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,a){this.setNextCallback(a);var o=this.props.nodeRef?this.props.nodeRef.current:Ff.findDOMNode(this),l=i==null&&!this.props.addEndListener;if(!o||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var A=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=A[0],d=A[1];this.props.addEndListener(c,d)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===gu)return null;var a=this.props,o=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var l=Ye(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return mn.createElement(lg.Provider,{value:null},typeof o=="function"?o(i,l):mn.cloneElement(mn.Children.only(o),l))},t}(mn.Component);$i.contextType=lg;$i.propTypes={};function WA(){}$i.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:WA,onEntering:WA,onEntered:WA,onExit:WA,onExiting:WA,onExited:WA};$i.UNMOUNTED=gu;$i.EXITED=Il;$i.ENTERING=Fl;$i.ENTERED=nc;$i.EXITING=y1;var ZU=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return XU(t,r)})},X0=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return JU(t,r)})},ux=function(e){dx(t,e);function t(){for(var r,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=e.call.apply(e,[this].concat(a))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(l,A){var c=r.resolveArguments(l,A),d=c[0],u=c[1];r.removeClasses(d,"exit"),r.addClass(d,u?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(l,A)},r.onEntering=function(l,A){var c=r.resolveArguments(l,A),d=c[0],u=c[1],p=u?"appear":"enter";r.addClass(d,p,"active"),r.props.onEntering&&r.props.onEntering(l,A)},r.onEntered=function(l,A){var c=r.resolveArguments(l,A),d=c[0],u=c[1],p=u?"appear":"enter";r.removeClasses(d,p),r.addClass(d,p,"done"),r.props.onEntered&&r.props.onEntered(l,A)},r.onExit=function(l){var A=r.resolveArguments(l),c=A[0];r.removeClasses(c,"appear"),r.removeClasses(c,"enter"),r.addClass(c,"exit","base"),r.props.onExit&&r.props.onExit(l)},r.onExiting=function(l){var A=r.resolveArguments(l),c=A[0];r.addClass(c,"exit","active"),r.props.onExiting&&r.props.onExiting(l)},r.onExited=function(l){var A=r.resolveArguments(l),c=A[0];r.removeClasses(c,"exit"),r.addClass(c,"exit","done"),r.props.onExited&&r.props.onExited(l)},r.resolveArguments=function(l,A){return r.props.nodeRef?[r.props.nodeRef.current,l]:[l,A]},r.getClassNames=function(l){var A=r.props.classNames,c=typeof A=="string",d=c&&A?A+"-":"",u=c?""+d+l:A[l],p=c?u+"-active":A[l+"Active"],h=c?u+"-done":A[l+"Done"];return{baseClassName:u,activeClassName:p,doneClassName:h}},r}var n=t.prototype;return n.addClass=function(i,a,o){var l=this.getClassNames(a)[o+"ClassName"],A=this.getClassNames("enter"),c=A.doneClassName;a==="appear"&&o==="done"&&c&&(l+=" "+c),o==="active"&&i&&MS(i),l&&(this.appliedClasses[a][o]=l,ZU(i,l))},n.removeClasses=function(i,a){var o=this.appliedClasses[a],l=o.base,A=o.active,c=o.done;this.appliedClasses[a]={},l&&X0(i,l),A&&X0(i,A),c&&X0(i,c)},n.render=function(){var i=this.props;i.classNames;var a=Ye(i,["classNames"]);return mn.createElement($i,W({},a,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(mn.Component);ux.defaultProps={classNames:""};ux.propTypes={};function Ut(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hx(e,t){var n=function(a){return t&&b.isValidElement(a)?t(a):a},r=Object.create(null);return e&&b.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function eL(e,t){e=e||{},t=t||{};function n(d){return d in t?t[d]:e[d]}var r=Object.create(null),i=[];for(var a in e)a in t?i.length&&(r[a]=i,i=[]):i.push(a);var o,l={};for(var A in t){if(r[A])for(o=0;o<r[A].length;o++){var c=r[A][o];l[r[A][o]]=n(c)}l[A]=n(A)}for(o=0;o<i.length;o++)l[i[o]]=n(i[o]);return l}function Ml(e,t,n){return n[t]!=null?n[t]:e.props[t]}function tL(e,t){return hx(e.children,function(n){return b.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:Ml(n,"appear",e),enter:Ml(n,"enter",e),exit:Ml(n,"exit",e)})})}function nL(e,t,n){var r=hx(e.children),i=eL(t,r);return Object.keys(i).forEach(function(a){var o=i[a];if(b.isValidElement(o)){var l=a in t,A=a in r,c=t[a],d=b.isValidElement(c)&&!c.props.in;A&&(!l||d)?i[a]=b.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:Ml(o,"exit",e),enter:Ml(o,"enter",e)}):!A&&l&&!d?i[a]=b.cloneElement(o,{in:!1}):A&&l&&b.isValidElement(c)&&(i[a]=b.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:Ml(o,"exit",e),enter:Ml(o,"enter",e)}))}}),i}var rL=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},sL={component:"div",childFactory:function(t){return t}},Eh=function(e){dx(t,e);function t(r,i){var a;a=e.call(this,r,i)||this;var o=a.handleExited.bind(Ut(a));return a.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},a}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,a){var o=a.children,l=a.handleExited,A=a.firstRender;return{children:A?tL(i,l):nL(i,o,l),firstRender:!1}},n.handleExited=function(i,a){var o=hx(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(a),this.mounted&&this.setState(function(l){var A=W({},l.children);return delete A[i.key],{children:A}}))},n.render=function(){var i=this.props,a=i.component,o=i.childFactory,l=Ye(i,["component","childFactory"]),A=this.state.contextValue,c=rL(this.state.children).map(o);return delete l.appear,delete l.enter,delete l.exit,a===null?mn.createElement(lg.Provider,{value:A},c):mn.createElement(lg.Provider,{value:A},mn.createElement(a,l,c))},t}(mn.Component);Eh.propTypes={};Eh.defaultProps=sL;const PS=e=>e.scrollTop;function Qc(e,t){var n,r;const{timeout:i,easing:a,style:o={}}=e;return{duration:(n=o.transitionDuration)!=null?n:typeof i=="number"?i:i[t.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof a=="object"?a[t.mode]:a,delay:o.transitionDelay}}function iL(e){return gt("MuiCollapse",e)}mt("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const aL=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],oL=e=>{const{orientation:t,classes:n}=e,r={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return yt(r,iL,n)},lL=Pe("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.state==="entered"&&t.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&t.hidden]}})(({theme:e,ownerState:t})=>W({height:0,overflow:"hidden",transition:e.transitions.create("height")},t.orientation==="horizontal"&&{height:"auto",width:0,transition:e.transitions.create("width")},t.state==="entered"&&W({height:"auto",overflow:"visible"},t.orientation==="horizontal"&&{width:"auto"}),t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&{visibility:"hidden"})),AL=Pe("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})(({ownerState:e})=>W({display:"flex",width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),cL=Pe("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})(({ownerState:e})=>W({width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),fx=b.forwardRef(function(t,n){const r=_t({props:t,name:"MuiCollapse"}),{addEndListener:i,children:a,className:o,collapsedSize:l="0px",component:A,easing:c,in:d,onEnter:u,onEntered:p,onEntering:h,onExit:m,onExited:g,onExiting:y,orientation:x="vertical",style:C,timeout:S=m4.standard,TransitionComponent:w=$i}=r,_=Ye(r,aL),E=W({},r,{orientation:x,collapsedSize:l}),T=oL(E),F=Hi(),M=Oo(),P=b.useRef(null),I=b.useRef(),j=typeof l=="number"?`${l}px`:l,U=x==="horizontal",N=U?"width":"height",z=b.useRef(null),L=ar(n,z),D=V=>G=>{if(V){const ie=z.current;G===void 0?V(ie):V(ie,G)}},K=()=>P.current?P.current[U?"clientWidth":"clientHeight"]:0,q=D((V,G)=>{P.current&&U&&(P.current.style.position="absolute"),V.style[N]=j,u&&u(V,G)}),Z=D((V,G)=>{const ie=K();P.current&&U&&(P.current.style.position="");const{duration:ne,easing:xe}=Qc({style:C,timeout:S,easing:c},{mode:"enter"});if(S==="auto"){const re=F.transitions.getAutoHeightDuration(ie);V.style.transitionDuration=`${re}ms`,I.current=re}else V.style.transitionDuration=typeof ne=="string"?ne:`${ne}ms`;V.style[N]=`${ie}px`,V.style.transitionTimingFunction=xe,h&&h(V,G)}),Ae=D((V,G)=>{V.style[N]="auto",p&&p(V,G)}),H=D(V=>{V.style[N]=`${K()}px`,m&&m(V)}),R=D(g),Q=D(V=>{const G=K(),{duration:ie,easing:ne}=Qc({style:C,timeout:S,easing:c},{mode:"exit"});if(S==="auto"){const xe=F.transitions.getAutoHeightDuration(G);V.style.transitionDuration=`${xe}ms`,I.current=xe}else V.style.transitionDuration=typeof ie=="string"?ie:`${ie}ms`;V.style[N]=j,V.style.transitionTimingFunction=ne,y&&y(V)}),$=V=>{S==="auto"&&M.start(I.current||0,V),i&&i(z.current,V)};return s.jsx(w,W({in:d,onEnter:q,onEntered:Ae,onEntering:Z,onExit:H,onExited:R,onExiting:Q,addEndListener:$,nodeRef:z,timeout:S==="auto"?null:S},_,{children:(V,G)=>s.jsx(lL,W({as:A,className:Je(T.root,o,{entered:T.entered,exited:!d&&j==="0px"&&T.hidden}[V]),style:W({[U?"minWidth":"minHeight"]:j},C),ref:L},G,{ownerState:W({},E,{state:V}),children:s.jsx(AL,{ownerState:W({},E,{state:V}),className:T.wrapper,ref:P,children:s.jsx(cL,{ownerState:W({},E,{state:V}),className:T.wrapperInner,children:a})})}))}))});fx.muiSupportAuto=!0;function dL(e){return gt("MuiPaper",e)}mt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const uL=["className","component","elevation","square","variant"],hL=e=>{const{square:t,elevation:n,variant:r,classes:i}=e,a={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${n}`]};return yt(a,dL,i)},fL=Pe("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(({theme:e,ownerState:t})=>{var n;return W({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.divider}`},t.variant==="elevation"&&W({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${fn("#fff",u2(t.elevation))}, ${fn("#fff",u2(t.elevation))})`},e.vars&&{backgroundImage:(n=e.vars.overlays)==null?void 0:n[t.elevation]}))}),$n=b.forwardRef(function(t,n){const r=_t({props:t,name:"MuiPaper"}),{className:i,component:a="div",elevation:o=1,square:l=!1,variant:A="elevation"}=r,c=Ye(r,uL),d=W({},r,{component:a,elevation:o,square:l,variant:A}),u=hL(d);return s.jsx(fL,W({as:a,ownerState:d,className:Je(u.root,i),ref:n},c))}),pL=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],gL=["component","slots","slotProps"],mL=["component"];function Z2(e,t){const{className:n,elementType:r,ownerState:i,externalForwardedProps:a,getSlotOwnerState:o,internalForwardedProps:l}=t,A=Ye(t,pL),{component:c,slots:d={[e]:void 0},slotProps:u={[e]:void 0}}=a,p=Ye(a,gL),h=d[e]||r,m=r4(u[e],i),g=n4(W({className:n},A,{externalForwardedProps:e==="root"?p:void 0,externalSlotProps:m})),{props:{component:y},internalRef:x}=g,C=Ye(g.props,mL),S=ar(x,m==null?void 0:m.ref,t.ref),w=o?o(C):{},_=W({},i,w),E=e==="root"?y||c:y,T=Ac(h,W({},e==="root"&&!c&&!d[e]&&l,e!=="root"&&!d[e]&&l,C,E&&{as:E},{ref:S}),_);return Object.keys(w).forEach(F=>{delete T[F]}),[h,T]}function vL(e){const{className:t,classes:n,pulsate:r=!1,rippleX:i,rippleY:a,rippleSize:o,in:l,onExited:A,timeout:c}=e,[d,u]=b.useState(!1),p=Je(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),h={width:o,height:o,top:-(o/2)+a,left:-(o/2)+i},m=Je(n.child,d&&n.childLeaving,r&&n.childPulsate);return!l&&!d&&u(!0),b.useEffect(()=>{if(!l&&A!=null){const g=setTimeout(A,c);return()=>{clearTimeout(g)}}},[A,l,c]),s.jsx("span",{className:p,style:h,children:s.jsx("span",{className:m})})}const ji=mt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),yL=["center","classes","className"];let xm=e=>e,ew,tw,nw,rw;const x1=550,xL=80,bL=go(ew||(ew=xm`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),wL=go(tw||(tw=xm`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),CL=go(nw||(nw=xm`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),BL=Pe("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),SL=Pe(vL,{name:"MuiTouchRipple",slot:"Ripple"})(rw||(rw=xm`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),ji.rippleVisible,bL,x1,({theme:e})=>e.transitions.easing.easeInOut,ji.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,ji.child,ji.childLeaving,wL,x1,({theme:e})=>e.transitions.easing.easeInOut,ji.childPulsate,CL,({theme:e})=>e.transitions.easing.easeInOut),jL=b.forwardRef(function(t,n){const r=_t({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:a={},className:o}=r,l=Ye(r,yL),[A,c]=b.useState([]),d=b.useRef(0),u=b.useRef(null);b.useEffect(()=>{u.current&&(u.current(),u.current=null)},[A]);const p=b.useRef(!1),h=Oo(),m=b.useRef(null),g=b.useRef(null),y=b.useCallback(w=>{const{pulsate:_,rippleX:E,rippleY:T,rippleSize:F,cb:M}=w;c(P=>[...P,s.jsx(SL,{classes:{ripple:Je(a.ripple,ji.ripple),rippleVisible:Je(a.rippleVisible,ji.rippleVisible),ripplePulsate:Je(a.ripplePulsate,ji.ripplePulsate),child:Je(a.child,ji.child),childLeaving:Je(a.childLeaving,ji.childLeaving),childPulsate:Je(a.childPulsate,ji.childPulsate)},timeout:x1,pulsate:_,rippleX:E,rippleY:T,rippleSize:F},d.current)]),d.current+=1,u.current=M},[a]),x=b.useCallback((w={},_={},E=()=>{})=>{const{pulsate:T=!1,center:F=i||_.pulsate,fakeElement:M=!1}=_;if((w==null?void 0:w.type)==="mousedown"&&p.current){p.current=!1;return}(w==null?void 0:w.type)==="touchstart"&&(p.current=!0);const P=M?null:g.current,I=P?P.getBoundingClientRect():{width:0,height:0,left:0,top:0};let j,U,N;if(F||w===void 0||w.clientX===0&&w.clientY===0||!w.clientX&&!w.touches)j=Math.round(I.width/2),U=Math.round(I.height/2);else{const{clientX:z,clientY:L}=w.touches&&w.touches.length>0?w.touches[0]:w;j=Math.round(z-I.left),U=Math.round(L-I.top)}if(F)N=Math.sqrt((2*I.width**2+I.height**2)/3),N%2===0&&(N+=1);else{const z=Math.max(Math.abs((P?P.clientWidth:0)-j),j)*2+2,L=Math.max(Math.abs((P?P.clientHeight:0)-U),U)*2+2;N=Math.sqrt(z**2+L**2)}w!=null&&w.touches?m.current===null&&(m.current=()=>{y({pulsate:T,rippleX:j,rippleY:U,rippleSize:N,cb:E})},h.start(xL,()=>{m.current&&(m.current(),m.current=null)})):y({pulsate:T,rippleX:j,rippleY:U,rippleSize:N,cb:E})},[i,y,h]),C=b.useCallback(()=>{x({},{pulsate:!0})},[x]),S=b.useCallback((w,_)=>{if(h.clear(),(w==null?void 0:w.type)==="touchend"&&m.current){m.current(),m.current=null,h.start(0,()=>{S(w,_)});return}m.current=null,c(E=>E.length>0?E.slice(1):E),u.current=_},[h]);return b.useImperativeHandle(n,()=>({pulsate:C,start:x,stop:S}),[C,x,S]),s.jsx(BL,W({className:Je(ji.root,a.root,o),ref:g},l,{children:s.jsx(Eh,{component:null,exit:!0,children:A})}))});function kL(e){return gt("MuiButtonBase",e)}const EL=mt("MuiButtonBase",["root","disabled","focusVisible"]),IL=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],FL=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,o=yt({root:["root",t&&"disabled",n&&"focusVisible"]},kL,i);return n&&r&&(o.root+=` ${r}`),o},NL=Pe("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${EL.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),ka=b.forwardRef(function(t,n){const r=_t({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:a=!1,children:o,className:l,component:A="button",disabled:c=!1,disableRipple:d=!1,disableTouchRipple:u=!1,focusRipple:p=!1,LinkComponent:h="a",onBlur:m,onClick:g,onContextMenu:y,onDragLeave:x,onFocus:C,onFocusVisible:S,onKeyDown:w,onKeyUp:_,onMouseDown:E,onMouseLeave:T,onMouseUp:F,onTouchEnd:M,onTouchMove:P,onTouchStart:I,tabIndex:j=0,TouchRippleProps:U,touchRippleRef:N,type:z}=r,L=Ye(r,IL),D=b.useRef(null),K=b.useRef(null),q=ar(K,N),{isFocusVisibleRef:Z,onFocus:Ae,onBlur:H,ref:R}=Z5(),[Q,$]=b.useState(!1);c&&Q&&$(!1),b.useImperativeHandle(i,()=>({focusVisible:()=>{$(!0),D.current.focus()}}),[]);const[V,G]=b.useState(!1);b.useEffect(()=>{G(!0)},[]);const ie=V&&!d&&!c;b.useEffect(()=>{Q&&p&&!d&&V&&K.current.pulsate()},[d,p,Q,V]);function ne(We,jt,ye=u){return sn(fe=>(jt&&jt(fe),!ye&&K.current&&K.current[We](fe),!0))}const xe=ne("start",E),re=ne("stop",y),ge=ne("stop",x),le=ne("stop",F),be=ne("stop",We=>{Q&&We.preventDefault(),T&&T(We)}),ue=ne("start",I),ae=ne("stop",M),He=ne("stop",P),we=ne("stop",We=>{H(We),Z.current===!1&&$(!1),m&&m(We)},!1),me=sn(We=>{D.current||(D.current=We.currentTarget),Ae(We),Z.current===!0&&($(!0),S&&S(We)),C&&C(We)}),Ie=()=>{const We=D.current;return A&&A!=="button"&&!(We.tagName==="A"&&We.href)},Te=b.useRef(!1),Oe=sn(We=>{p&&!Te.current&&Q&&K.current&&We.key===" "&&(Te.current=!0,K.current.stop(We,()=>{K.current.start(We)})),We.target===We.currentTarget&&Ie()&&We.key===" "&&We.preventDefault(),w&&w(We),We.target===We.currentTarget&&Ie()&&We.key==="Enter"&&!c&&(We.preventDefault(),g&&g(We))}),qe=sn(We=>{p&&We.key===" "&&K.current&&Q&&!We.defaultPrevented&&(Te.current=!1,K.current.stop(We,()=>{K.current.pulsate(We)})),_&&_(We),g&&We.target===We.currentTarget&&Ie()&&We.key===" "&&!We.defaultPrevented&&g(We)});let nt=A;nt==="button"&&(L.href||L.to)&&(nt=h);const ht={};nt==="button"?(ht.type=z===void 0?"button":z,ht.disabled=c):(!L.href&&!L.to&&(ht.role="button"),c&&(ht["aria-disabled"]=c));const rt=ar(n,R,D),ot=W({},r,{centerRipple:a,component:A,disabled:c,disableRipple:d,disableTouchRipple:u,focusRipple:p,tabIndex:j,focusVisible:Q}),At=FL(ot);return s.jsxs(NL,W({as:nt,className:Je(At.root,l),ownerState:ot,onBlur:we,onClick:g,onContextMenu:re,onFocus:me,onKeyDown:Oe,onKeyUp:qe,onMouseDown:xe,onMouseLeave:be,onMouseUp:le,onDragLeave:ge,onTouchEnd:ae,onTouchMove:He,onTouchStart:ue,ref:rt,tabIndex:c?-1:j,type:z},ht,L,{children:[o,ie?s.jsx(jL,W({ref:q,center:a},U)):null]}))});function TL(e){return gt("MuiAlert",e)}const sw=mt("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function _L(e){return gt("MuiIconButton",e)}const DL=mt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),UL=["edge","children","className","color","disabled","disableFocusRipple","size"],LL=e=>{const{classes:t,disabled:n,color:r,edge:i,size:a}=e,o={root:["root",n&&"disabled",r!=="default"&&`color${Ge(r)}`,i&&`edge${Ge(i)}`,`size${Ge(a)}`]};return yt(o,_L,t)},ML=Pe(ka,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${Ge(n.color)}`],n.edge&&t[`edge${Ge(n.edge)}`],t[`size${Ge(n.size)}`]]}})(({theme:e,ownerState:t})=>W({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:fn(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12}),({theme:e,ownerState:t})=>{var n;const r=(n=(e.vars||e).palette)==null?void 0:n[t.color];return W({},t.color==="inherit"&&{color:"inherit"},t.color!=="inherit"&&t.color!=="default"&&W({color:r==null?void 0:r.main},!t.disableRipple&&{"&:hover":W({},r&&{backgroundColor:e.vars?`rgba(${r.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:fn(r.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),t.size==="small"&&{padding:5,fontSize:e.typography.pxToRem(18)},t.size==="large"&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${DL.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),Ls=b.forwardRef(function(t,n){const r=_t({props:t,name:"MuiIconButton"}),{edge:i=!1,children:a,className:o,color:l="default",disabled:A=!1,disableFocusRipple:c=!1,size:d="medium"}=r,u=Ye(r,UL),p=W({},r,{edge:i,color:l,disabled:A,disableFocusRipple:c,size:d}),h=LL(p);return s.jsx(ML,W({className:Je(h.root,o),centerRipple:!0,focusRipple:!c,disabled:A,ref:n},u,{ownerState:p,children:a}))}),PL=ut(s.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),QL=ut(s.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),RL=ut(s.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),HL=ut(s.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),OL=ut(s.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),$L=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],zL=e=>{const{variant:t,color:n,severity:r,classes:i}=e,a={root:["root",`color${Ge(n||r)}`,`${t}${Ge(n||r)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return yt(a,TL,i)},WL=Pe($n,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${Ge(n.color||n.severity)}`]]}})(({theme:e})=>{const t=e.palette.mode==="light"?Uc:Lc,n=e.palette.mode==="light"?Lc:Uc;return W({},e.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(e.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:e.vars?e.vars.palette.Alert[`${r}Color`]:t(e.palette[r].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${r}StandardBg`]:n(e.palette[r].light,.9),[`& .${sw.icon}`]:e.vars?{color:e.vars.palette.Alert[`${r}IconColor`]}:{color:e.palette[r].main}}})),...Object.entries(e.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:e.vars?e.vars.palette.Alert[`${r}Color`]:t(e.palette[r].light,.6),border:`1px solid ${(e.vars||e).palette[r].light}`,[`& .${sw.icon}`]:e.vars?{color:e.vars.palette.Alert[`${r}IconColor`]}:{color:e.palette[r].main}}})),...Object.entries(e.palette).filter(([,r])=>r.main&&r.dark).map(([r])=>({props:{colorSeverity:r,variant:"filled"},style:W({fontWeight:e.typography.fontWeightMedium},e.vars?{color:e.vars.palette.Alert[`${r}FilledColor`],backgroundColor:e.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:e.palette.mode==="dark"?e.palette[r].dark:e.palette[r].main,color:e.palette.getContrastText(e.palette[r].main)})}))]})}),KL=Pe("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),VL=Pe("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),iw=Pe("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),aw={success:s.jsx(PL,{fontSize:"inherit"}),warning:s.jsx(QL,{fontSize:"inherit"}),error:s.jsx(RL,{fontSize:"inherit"}),info:s.jsx(HL,{fontSize:"inherit"})},nn=b.forwardRef(function(t,n){const r=_t({props:t,name:"MuiAlert"}),{action:i,children:a,className:o,closeText:l="Close",color:A,components:c={},componentsProps:d={},icon:u,iconMapping:p=aw,onClose:h,role:m="alert",severity:g="success",slotProps:y={},slots:x={},variant:C="standard"}=r,S=Ye(r,$L),w=W({},r,{color:A,severity:g,variant:C,colorSeverity:A||g}),_=zL(w),E={slots:W({closeButton:c.CloseButton,closeIcon:c.CloseIcon},x),slotProps:W({},d,y)},[T,F]=Z2("closeButton",{elementType:Ls,externalForwardedProps:E,ownerState:w}),[M,P]=Z2("closeIcon",{elementType:OL,externalForwardedProps:E,ownerState:w});return s.jsxs(WL,W({role:m,elevation:0,ownerState:w,className:Je(_.root,o),ref:n},S,{children:[u!==!1?s.jsx(KL,{ownerState:w,className:_.icon,children:u||p[g]||aw[g]}):null,s.jsx(VL,{ownerState:w,className:_.message,children:a}),i!=null?s.jsx(iw,{ownerState:w,className:_.action,children:i}):null,i==null&&h?s.jsx(iw,{ownerState:w,className:_.action,children:s.jsx(T,W({size:"small","aria-label":l,title:l,color:"inherit",onClick:h},F,{children:s.jsx(M,W({fontSize:"small"},P))}))}):null]}))});function GL(e){return gt("MuiTypography",e)}mt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const qL=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],YL=e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:a,classes:o}=e,l={root:["root",a,e.align!=="inherit"&&`align${Ge(t)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return yt(l,GL,o)},XL=Pe("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],n.align!=="inherit"&&t[`align${Ge(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>W({margin:0},t.variant==="inherit"&&{font:"inherit"},t.variant!=="inherit"&&e.typography[t.variant],t.align!=="inherit"&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),ow={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},JL={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},ZL=e=>JL[e]||e,J=b.forwardRef(function(t,n){const r=_t({props:t,name:"MuiTypography"}),i=ZL(r.color),a=vh(W({},r,{color:i})),{align:o="inherit",className:l,component:A,gutterBottom:c=!1,noWrap:d=!1,paragraph:u=!1,variant:p="body1",variantMapping:h=ow}=a,m=Ye(a,qL),g=W({},a,{align:o,color:i,className:l,component:A,gutterBottom:c,noWrap:d,paragraph:u,variant:p,variantMapping:h}),y=A||(u?"p":h[p]||ow[p])||"span",x=YL(g);return s.jsx(XL,W({as:y,ref:n,ownerState:g,className:Je(x.root,l)},m))});function eM(e){return gt("MuiAlertTitle",e)}mt("MuiAlertTitle",["root"]);const tM=["className"],nM=e=>{const{classes:t}=e;return yt({root:["root"]},eM,t)},rM=Pe(J,{name:"MuiAlertTitle",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({fontWeight:e.typography.fontWeightMedium,marginTop:-2})),Zl=b.forwardRef(function(t,n){const r=_t({props:t,name:"MuiAlertTitle"}),{className:i}=r,a=Ye(r,tM),o=r,l=nM(o);return s.jsx(rM,W({gutterBottom:!0,component:"div",ownerState:o,ref:n,className:Je(l.root,i)},a))});var px={};Object.defineProperty(px,"__esModule",{value:!0});var QS=px.default=void 0,sM=aM(b),iM=v4;function RS(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(RS=function(r){return r?n:t})(e)}function aM(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=RS(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}function oM(e){return Object.keys(e).length===0}function lM(e=null){const t=sM.useContext(iM.ThemeContext);return!t||oM(t)?e:t}QS=px.default=lM;var Vs="top",Li="bottom",Mi="right",Gs="left",gx="auto",Ih=[Vs,Li,Mi,Gs],Rc="start",Ju="end",AM="clippingParents",HS="viewport",qd="popper",cM="reference",lw=Ih.reduce(function(e,t){return e.concat([t+"-"+Rc,t+"-"+Ju])},[]),OS=[].concat(Ih,[gx]).reduce(function(e,t){return e.concat([t,t+"-"+Rc,t+"-"+Ju])},[]),dM="beforeRead",uM="read",hM="afterRead",fM="beforeMain",pM="main",gM="afterMain",mM="beforeWrite",vM="write",yM="afterWrite",xM=[dM,uM,hM,fM,pM,gM,mM,vM,yM];function Ea(e){return e?(e.nodeName||"").toLowerCase():null}function ui(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function eA(e){var t=ui(e).Element;return e instanceof t||e instanceof Element}function Ti(e){var t=ui(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function mx(e){if(typeof ShadowRoot>"u")return!1;var t=ui(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function bM(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},a=t.elements[n];!Ti(a)||!Ea(a)||(Object.assign(a.style,r),Object.keys(i).forEach(function(o){var l=i[o];l===!1?a.removeAttribute(o):a.setAttribute(o,l===!0?"":l)}))})}function wM(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],a=t.attributes[r]||{},o=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),l=o.reduce(function(A,c){return A[c]="",A},{});!Ti(i)||!Ea(i)||(Object.assign(i.style,l),Object.keys(a).forEach(function(A){i.removeAttribute(A)}))})}}const CM={name:"applyStyles",enabled:!0,phase:"write",fn:bM,effect:wM,requires:["computeStyles"]};function Ba(e){return e.split("-")[0]}var Ol=Math.max,Ag=Math.min,Hc=Math.round;function b1(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function $S(){return!/^((?!chrome|android).)*safari/i.test(b1())}function Oc(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),i=1,a=1;t&&Ti(e)&&(i=e.offsetWidth>0&&Hc(r.width)/e.offsetWidth||1,a=e.offsetHeight>0&&Hc(r.height)/e.offsetHeight||1);var o=eA(e)?ui(e):window,l=o.visualViewport,A=!$S()&&n,c=(r.left+(A&&l?l.offsetLeft:0))/i,d=(r.top+(A&&l?l.offsetTop:0))/a,u=r.width/i,p=r.height/a;return{width:u,height:p,top:d,right:c+u,bottom:d+p,left:c,x:c,y:d}}function vx(e){var t=Oc(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function zS(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&mx(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function oo(e){return ui(e).getComputedStyle(e)}function BM(e){return["table","td","th"].indexOf(Ea(e))>=0}function ul(e){return((eA(e)?e.ownerDocument:e.document)||window.document).documentElement}function bm(e){return Ea(e)==="html"?e:e.assignedSlot||e.parentNode||(mx(e)?e.host:null)||ul(e)}function Aw(e){return!Ti(e)||oo(e).position==="fixed"?null:e.offsetParent}function SM(e){var t=/firefox/i.test(b1()),n=/Trident/i.test(b1());if(n&&Ti(e)){var r=oo(e);if(r.position==="fixed")return null}var i=bm(e);for(mx(i)&&(i=i.host);Ti(i)&&["html","body"].indexOf(Ea(i))<0;){var a=oo(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||t&&a.willChange==="filter"||t&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function Fh(e){for(var t=ui(e),n=Aw(e);n&&BM(n)&&oo(n).position==="static";)n=Aw(n);return n&&(Ea(n)==="html"||Ea(n)==="body"&&oo(n).position==="static")?t:n||SM(e)||t}function yx(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Nu(e,t,n){return Ol(e,Ag(t,n))}function jM(e,t,n){var r=Nu(e,t,n);return r>n?n:r}function WS(){return{top:0,right:0,bottom:0,left:0}}function KS(e){return Object.assign({},WS(),e)}function VS(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var kM=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,KS(typeof t!="number"?t:VS(t,Ih))};function EM(e){var t,n=e.state,r=e.name,i=e.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,l=Ba(n.placement),A=yx(l),c=[Gs,Mi].indexOf(l)>=0,d=c?"height":"width";if(!(!a||!o)){var u=kM(i.padding,n),p=vx(a),h=A==="y"?Vs:Gs,m=A==="y"?Li:Mi,g=n.rects.reference[d]+n.rects.reference[A]-o[A]-n.rects.popper[d],y=o[A]-n.rects.reference[A],x=Fh(a),C=x?A==="y"?x.clientHeight||0:x.clientWidth||0:0,S=g/2-y/2,w=u[h],_=C-p[d]-u[m],E=C/2-p[d]/2+S,T=Nu(w,E,_),F=A;n.modifiersData[r]=(t={},t[F]=T,t.centerOffset=T-E,t)}}function IM(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||zS(t.elements.popper,i)&&(t.elements.arrow=i))}const FM={name:"arrow",enabled:!0,phase:"main",fn:EM,effect:IM,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function $c(e){return e.split("-")[1]}var NM={top:"auto",right:"auto",bottom:"auto",left:"auto"};function TM(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:Hc(n*i)/i||0,y:Hc(r*i)/i||0}}function cw(e){var t,n=e.popper,r=e.popperRect,i=e.placement,a=e.variation,o=e.offsets,l=e.position,A=e.gpuAcceleration,c=e.adaptive,d=e.roundOffsets,u=e.isFixed,p=o.x,h=p===void 0?0:p,m=o.y,g=m===void 0?0:m,y=typeof d=="function"?d({x:h,y:g}):{x:h,y:g};h=y.x,g=y.y;var x=o.hasOwnProperty("x"),C=o.hasOwnProperty("y"),S=Gs,w=Vs,_=window;if(c){var E=Fh(n),T="clientHeight",F="clientWidth";if(E===ui(n)&&(E=ul(n),oo(E).position!=="static"&&l==="absolute"&&(T="scrollHeight",F="scrollWidth")),E=E,i===Vs||(i===Gs||i===Mi)&&a===Ju){w=Li;var M=u&&E===_&&_.visualViewport?_.visualViewport.height:E[T];g-=M-r.height,g*=A?1:-1}if(i===Gs||(i===Vs||i===Li)&&a===Ju){S=Mi;var P=u&&E===_&&_.visualViewport?_.visualViewport.width:E[F];h-=P-r.width,h*=A?1:-1}}var I=Object.assign({position:l},c&&NM),j=d===!0?TM({x:h,y:g},ui(n)):{x:h,y:g};if(h=j.x,g=j.y,A){var U;return Object.assign({},I,(U={},U[w]=C?"0":"",U[S]=x?"0":"",U.transform=(_.devicePixelRatio||1)<=1?"translate("+h+"px, "+g+"px)":"translate3d("+h+"px, "+g+"px, 0)",U))}return Object.assign({},I,(t={},t[w]=C?g+"px":"",t[S]=x?h+"px":"",t.transform="",t))}function _M(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,a=n.adaptive,o=a===void 0?!0:a,l=n.roundOffsets,A=l===void 0?!0:l,c={placement:Ba(t.placement),variation:$c(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,cw(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:A})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,cw(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:A})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const DM={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:_M,data:{}};var Lf={passive:!0};function UM(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,a=i===void 0?!0:i,o=r.resize,l=o===void 0?!0:o,A=ui(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&c.forEach(function(d){d.addEventListener("scroll",n.update,Lf)}),l&&A.addEventListener("resize",n.update,Lf),function(){a&&c.forEach(function(d){d.removeEventListener("scroll",n.update,Lf)}),l&&A.removeEventListener("resize",n.update,Lf)}}const LM={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:UM,data:{}};var MM={left:"right",right:"left",bottom:"top",top:"bottom"};function Tp(e){return e.replace(/left|right|bottom|top/g,function(t){return MM[t]})}var PM={start:"end",end:"start"};function dw(e){return e.replace(/start|end/g,function(t){return PM[t]})}function xx(e){var t=ui(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function bx(e){return Oc(ul(e)).left+xx(e).scrollLeft}function QM(e,t){var n=ui(e),r=ul(e),i=n.visualViewport,a=r.clientWidth,o=r.clientHeight,l=0,A=0;if(i){a=i.width,o=i.height;var c=$S();(c||!c&&t==="fixed")&&(l=i.offsetLeft,A=i.offsetTop)}return{width:a,height:o,x:l+bx(e),y:A}}function RM(e){var t,n=ul(e),r=xx(e),i=(t=e.ownerDocument)==null?void 0:t.body,a=Ol(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Ol(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-r.scrollLeft+bx(e),A=-r.scrollTop;return oo(i||n).direction==="rtl"&&(l+=Ol(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:l,y:A}}function wx(e){var t=oo(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function GS(e){return["html","body","#document"].indexOf(Ea(e))>=0?e.ownerDocument.body:Ti(e)&&wx(e)?e:GS(bm(e))}function Tu(e,t){var n;t===void 0&&(t=[]);var r=GS(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),a=ui(r),o=i?[a].concat(a.visualViewport||[],wx(r)?r:[]):r,l=t.concat(o);return i?l:l.concat(Tu(bm(o)))}function w1(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function HM(e,t){var n=Oc(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function uw(e,t,n){return t===HS?w1(QM(e,n)):eA(t)?HM(t,n):w1(RM(ul(e)))}function OM(e){var t=Tu(bm(e)),n=["absolute","fixed"].indexOf(oo(e).position)>=0,r=n&&Ti(e)?Fh(e):e;return eA(r)?t.filter(function(i){return eA(i)&&zS(i,r)&&Ea(i)!=="body"}):[]}function $M(e,t,n,r){var i=t==="clippingParents"?OM(e):[].concat(t),a=[].concat(i,[n]),o=a[0],l=a.reduce(function(A,c){var d=uw(e,c,r);return A.top=Ol(d.top,A.top),A.right=Ag(d.right,A.right),A.bottom=Ag(d.bottom,A.bottom),A.left=Ol(d.left,A.left),A},uw(e,o,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function qS(e){var t=e.reference,n=e.element,r=e.placement,i=r?Ba(r):null,a=r?$c(r):null,o=t.x+t.width/2-n.width/2,l=t.y+t.height/2-n.height/2,A;switch(i){case Vs:A={x:o,y:t.y-n.height};break;case Li:A={x:o,y:t.y+t.height};break;case Mi:A={x:t.x+t.width,y:l};break;case Gs:A={x:t.x-n.width,y:l};break;default:A={x:t.x,y:t.y}}var c=i?yx(i):null;if(c!=null){var d=c==="y"?"height":"width";switch(a){case Rc:A[c]=A[c]-(t[d]/2-n[d]/2);break;case Ju:A[c]=A[c]+(t[d]/2-n[d]/2);break}}return A}function Zu(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,a=n.strategy,o=a===void 0?e.strategy:a,l=n.boundary,A=l===void 0?AM:l,c=n.rootBoundary,d=c===void 0?HS:c,u=n.elementContext,p=u===void 0?qd:u,h=n.altBoundary,m=h===void 0?!1:h,g=n.padding,y=g===void 0?0:g,x=KS(typeof y!="number"?y:VS(y,Ih)),C=p===qd?cM:qd,S=e.rects.popper,w=e.elements[m?C:p],_=$M(eA(w)?w:w.contextElement||ul(e.elements.popper),A,d,o),E=Oc(e.elements.reference),T=qS({reference:E,element:S,placement:i}),F=w1(Object.assign({},S,T)),M=p===qd?F:E,P={top:_.top-M.top+x.top,bottom:M.bottom-_.bottom+x.bottom,left:_.left-M.left+x.left,right:M.right-_.right+x.right},I=e.modifiersData.offset;if(p===qd&&I){var j=I[i];Object.keys(P).forEach(function(U){var N=[Mi,Li].indexOf(U)>=0?1:-1,z=[Vs,Li].indexOf(U)>=0?"y":"x";P[U]+=j[z]*N})}return P}function zM(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,o=n.padding,l=n.flipVariations,A=n.allowedAutoPlacements,c=A===void 0?OS:A,d=$c(r),u=d?l?lw:lw.filter(function(m){return $c(m)===d}):Ih,p=u.filter(function(m){return c.indexOf(m)>=0});p.length===0&&(p=u);var h=p.reduce(function(m,g){return m[g]=Zu(e,{placement:g,boundary:i,rootBoundary:a,padding:o})[Ba(g)],m},{});return Object.keys(h).sort(function(m,g){return h[m]-h[g]})}function WM(e){if(Ba(e)===gx)return[];var t=Tp(e);return[dw(e),t,dw(t)]}function KM(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=i===void 0?!0:i,o=n.altAxis,l=o===void 0?!0:o,A=n.fallbackPlacements,c=n.padding,d=n.boundary,u=n.rootBoundary,p=n.altBoundary,h=n.flipVariations,m=h===void 0?!0:h,g=n.allowedAutoPlacements,y=t.options.placement,x=Ba(y),C=x===y,S=A||(C||!m?[Tp(y)]:WM(y)),w=[y].concat(S).reduce(function(Q,$){return Q.concat(Ba($)===gx?zM(t,{placement:$,boundary:d,rootBoundary:u,padding:c,flipVariations:m,allowedAutoPlacements:g}):$)},[]),_=t.rects.reference,E=t.rects.popper,T=new Map,F=!0,M=w[0],P=0;P<w.length;P++){var I=w[P],j=Ba(I),U=$c(I)===Rc,N=[Vs,Li].indexOf(j)>=0,z=N?"width":"height",L=Zu(t,{placement:I,boundary:d,rootBoundary:u,altBoundary:p,padding:c}),D=N?U?Mi:Gs:U?Li:Vs;_[z]>E[z]&&(D=Tp(D));var K=Tp(D),q=[];if(a&&q.push(L[j]<=0),l&&q.push(L[D]<=0,L[K]<=0),q.every(function(Q){return Q})){M=I,F=!1;break}T.set(I,q)}if(F)for(var Z=m?3:1,Ae=function($){var V=w.find(function(G){var ie=T.get(G);if(ie)return ie.slice(0,$).every(function(ne){return ne})});if(V)return M=V,"break"},H=Z;H>0;H--){var R=Ae(H);if(R==="break")break}t.placement!==M&&(t.modifiersData[r]._skip=!0,t.placement=M,t.reset=!0)}}const VM={name:"flip",enabled:!0,phase:"main",fn:KM,requiresIfExists:["offset"],data:{_skip:!1}};function hw(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function fw(e){return[Vs,Mi,Li,Gs].some(function(t){return e[t]>=0})}function GM(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=Zu(t,{elementContext:"reference"}),l=Zu(t,{altBoundary:!0}),A=hw(o,r),c=hw(l,i,a),d=fw(A),u=fw(c);t.modifiersData[n]={referenceClippingOffsets:A,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":u})}const qM={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:GM};function YM(e,t,n){var r=Ba(e),i=[Gs,Vs].indexOf(r)>=0?-1:1,a=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,o=a[0],l=a[1];return o=o||0,l=(l||0)*i,[Gs,Mi].indexOf(r)>=0?{x:l,y:o}:{x:o,y:l}}function XM(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=i===void 0?[0,0]:i,o=OS.reduce(function(d,u){return d[u]=YM(u,t.rects,a),d},{}),l=o[t.placement],A=l.x,c=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=A,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}const JM={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:XM};function ZM(e){var t=e.state,n=e.name;t.modifiersData[n]=qS({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const eP={name:"popperOffsets",enabled:!0,phase:"read",fn:ZM,data:{}};function tP(e){return e==="x"?"y":"x"}function nP(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=i===void 0?!0:i,o=n.altAxis,l=o===void 0?!1:o,A=n.boundary,c=n.rootBoundary,d=n.altBoundary,u=n.padding,p=n.tether,h=p===void 0?!0:p,m=n.tetherOffset,g=m===void 0?0:m,y=Zu(t,{boundary:A,rootBoundary:c,padding:u,altBoundary:d}),x=Ba(t.placement),C=$c(t.placement),S=!C,w=yx(x),_=tP(w),E=t.modifiersData.popperOffsets,T=t.rects.reference,F=t.rects.popper,M=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,P=typeof M=="number"?{mainAxis:M,altAxis:M}:Object.assign({mainAxis:0,altAxis:0},M),I=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,j={x:0,y:0};if(E){if(a){var U,N=w==="y"?Vs:Gs,z=w==="y"?Li:Mi,L=w==="y"?"height":"width",D=E[w],K=D+y[N],q=D-y[z],Z=h?-F[L]/2:0,Ae=C===Rc?T[L]:F[L],H=C===Rc?-F[L]:-T[L],R=t.elements.arrow,Q=h&&R?vx(R):{width:0,height:0},$=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:WS(),V=$[N],G=$[z],ie=Nu(0,T[L],Q[L]),ne=S?T[L]/2-Z-ie-V-P.mainAxis:Ae-ie-V-P.mainAxis,xe=S?-T[L]/2+Z+ie+G+P.mainAxis:H+ie+G+P.mainAxis,re=t.elements.arrow&&Fh(t.elements.arrow),ge=re?w==="y"?re.clientTop||0:re.clientLeft||0:0,le=(U=I==null?void 0:I[w])!=null?U:0,be=D+ne-le-ge,ue=D+xe-le,ae=Nu(h?Ag(K,be):K,D,h?Ol(q,ue):q);E[w]=ae,j[w]=ae-D}if(l){var He,we=w==="x"?Vs:Gs,me=w==="x"?Li:Mi,Ie=E[_],Te=_==="y"?"height":"width",Oe=Ie+y[we],qe=Ie-y[me],nt=[Vs,Gs].indexOf(x)!==-1,ht=(He=I==null?void 0:I[_])!=null?He:0,rt=nt?Oe:Ie-T[Te]-F[Te]-ht+P.altAxis,ot=nt?Ie+T[Te]+F[Te]-ht-P.altAxis:qe,At=h&&nt?jM(rt,Ie,ot):Nu(h?rt:Oe,Ie,h?ot:qe);E[_]=At,j[_]=At-Ie}t.modifiersData[r]=j}}const rP={name:"preventOverflow",enabled:!0,phase:"main",fn:nP,requiresIfExists:["offset"]};function sP(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function iP(e){return e===ui(e)||!Ti(e)?xx(e):sP(e)}function aP(e){var t=e.getBoundingClientRect(),n=Hc(t.width)/e.offsetWidth||1,r=Hc(t.height)/e.offsetHeight||1;return n!==1||r!==1}function oP(e,t,n){n===void 0&&(n=!1);var r=Ti(t),i=Ti(t)&&aP(t),a=ul(t),o=Oc(e,i,n),l={scrollLeft:0,scrollTop:0},A={x:0,y:0};return(r||!r&&!n)&&((Ea(t)!=="body"||wx(a))&&(l=iP(t)),Ti(t)?(A=Oc(t,!0),A.x+=t.clientLeft,A.y+=t.clientTop):a&&(A.x=bx(a))),{x:o.left+l.scrollLeft-A.x,y:o.top+l.scrollTop-A.y,width:o.width,height:o.height}}function lP(e){var t=new Map,n=new Set,r=[];e.forEach(function(a){t.set(a.name,a)});function i(a){n.add(a.name);var o=[].concat(a.requires||[],a.requiresIfExists||[]);o.forEach(function(l){if(!n.has(l)){var A=t.get(l);A&&i(A)}}),r.push(a)}return e.forEach(function(a){n.has(a.name)||i(a)}),r}function AP(e){var t=lP(e);return xM.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function cP(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function dP(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var pw={placement:"bottom",modifiers:[],strategy:"absolute"};function gw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function uP(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,a=i===void 0?pw:i;return function(l,A,c){c===void 0&&(c=a);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},pw,a),modifiersData:{},elements:{reference:l,popper:A},attributes:{},styles:{}},u=[],p=!1,h={state:d,setOptions:function(x){var C=typeof x=="function"?x(d.options):x;g(),d.options=Object.assign({},a,d.options,C),d.scrollParents={reference:eA(l)?Tu(l):l.contextElement?Tu(l.contextElement):[],popper:Tu(A)};var S=AP(dP([].concat(r,d.options.modifiers)));return d.orderedModifiers=S.filter(function(w){return w.enabled}),m(),h.update()},forceUpdate:function(){if(!p){var x=d.elements,C=x.reference,S=x.popper;if(gw(C,S)){d.rects={reference:oP(C,Fh(S),d.options.strategy==="fixed"),popper:vx(S)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(P){return d.modifiersData[P.name]=Object.assign({},P.data)});for(var w=0;w<d.orderedModifiers.length;w++){if(d.reset===!0){d.reset=!1,w=-1;continue}var _=d.orderedModifiers[w],E=_.fn,T=_.options,F=T===void 0?{}:T,M=_.name;typeof E=="function"&&(d=E({state:d,options:F,name:M,instance:h})||d)}}}},update:cP(function(){return new Promise(function(y){h.forceUpdate(),y(d)})}),destroy:function(){g(),p=!0}};if(!gw(l,A))return h;h.setOptions(c).then(function(y){!p&&c.onFirstUpdate&&c.onFirstUpdate(y)});function m(){d.orderedModifiers.forEach(function(y){var x=y.name,C=y.options,S=C===void 0?{}:C,w=y.effect;if(typeof w=="function"){var _=w({state:d,name:x,instance:h,options:S}),E=function(){};u.push(_||E)}})}function g(){u.forEach(function(y){return y()}),u=[]}return h}}var hP=[LM,eP,DM,CM,JM,VM,rP,FM,qM],fP=uP({defaultModifiers:hP});function pP(e){return typeof e=="function"?e():e}const YS=b.forwardRef(function(t,n){const{children:r,container:i,disablePortal:a=!1}=t,[o,l]=b.useState(null),A=ar(b.isValidElement(r)?aA(r):null,n);if(Es(()=>{a||l(pP(i)||document.body)},[i,a]),Es(()=>{if(o&&!a)return t1(n,o),()=>{t1(n,null)}},[n,o,a]),a){if(b.isValidElement(r)){const c={ref:A};return b.cloneElement(r,c)}return s.jsx(b.Fragment,{children:r})}return s.jsx(b.Fragment,{children:o&&n5.createPortal(r,o)})});function gP(e){return gt("MuiPopper",e)}mt("MuiPopper",["root"]);const mP=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],vP=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function yP(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function C1(e){return typeof e=="function"?e():e}function xP(e){return e.nodeType!==void 0}const bP=e=>{const{classes:t}=e;return yt({root:["root"]},gP,t)},wP={},CP=b.forwardRef(function(t,n){var r;const{anchorEl:i,children:a,direction:o,disablePortal:l,modifiers:A,open:c,placement:d,popperOptions:u,popperRef:p,slotProps:h={},slots:m={},TransitionProps:g}=t,y=Ye(t,mP),x=b.useRef(null),C=ar(x,n),S=b.useRef(null),w=ar(S,p),_=b.useRef(w);Es(()=>{_.current=w},[w]),b.useImperativeHandle(p,()=>S.current,[]);const E=yP(d,o),[T,F]=b.useState(E),[M,P]=b.useState(C1(i));b.useEffect(()=>{S.current&&S.current.forceUpdate()}),b.useEffect(()=>{i&&P(C1(i))},[i]),Es(()=>{if(!M||!c)return;const z=K=>{F(K.placement)};let L=[{name:"preventOverflow",options:{altBoundary:l}},{name:"flip",options:{altBoundary:l}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:K})=>{z(K)}}];A!=null&&(L=L.concat(A)),u&&u.modifiers!=null&&(L=L.concat(u.modifiers));const D=fP(M,x.current,W({placement:E},u,{modifiers:L}));return _.current(D),()=>{D.destroy(),_.current(null)}},[M,l,A,c,u,E]);const I={placement:T};g!==null&&(I.TransitionProps=g);const j=bP(t),U=(r=m.root)!=null?r:"div",N=_i({elementType:U,externalSlotProps:h.root,externalForwardedProps:y,additionalProps:{role:"tooltip",ref:C},ownerState:t,className:j.root});return s.jsx(U,W({},N,{children:typeof a=="function"?a(I):a}))}),BP=b.forwardRef(function(t,n){const{anchorEl:r,children:i,container:a,direction:o="ltr",disablePortal:l=!1,keepMounted:A=!1,modifiers:c,open:d,placement:u="bottom",popperOptions:p=wP,popperRef:h,style:m,transition:g=!1,slotProps:y={},slots:x={}}=t,C=Ye(t,vP),[S,w]=b.useState(!0),_=()=>{w(!1)},E=()=>{w(!0)};if(!A&&!d&&(!g||S))return null;let T;if(a)T=a;else if(r){const P=C1(r);T=P&&xP(P)?zr(P).body:zr(null).body}const F=!d&&A&&(!g||S)?"none":void 0,M=g?{in:d,onEnter:_,onExited:E}:void 0;return s.jsx(YS,{disablePortal:l,container:T,children:s.jsx(CP,W({anchorEl:r,direction:o,disablePortal:l,modifiers:c,ref:n,open:g?!S:d,placement:u,popperOptions:p,popperRef:h,slotProps:y,slots:x},C,{style:W({position:"fixed",top:0,left:0,display:F},m),TransitionProps:M,children:i}))})}),SP=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],jP=Pe(BP,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),XS=b.forwardRef(function(t,n){var r;const i=QS(),a=_t({props:t,name:"MuiPopper"}),{anchorEl:o,component:l,components:A,componentsProps:c,container:d,disablePortal:u,keepMounted:p,modifiers:h,open:m,placement:g,popperOptions:y,popperRef:x,transition:C,slots:S,slotProps:w}=a,_=Ye(a,SP),E=(r=S==null?void 0:S.root)!=null?r:A==null?void 0:A.Root,T=W({anchorEl:o,container:d,disablePortal:u,keepMounted:p,modifiers:h,open:m,placement:g,popperOptions:y,popperRef:x,transition:C},_);return s.jsx(jP,W({as:l,direction:i==null?void 0:i.direction,slots:{root:E},slotProps:w??c},T,{ref:n}))}),kP=ut(s.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function EP(e){return gt("MuiChip",e)}const Fn=mt("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),IP=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],FP=e=>{const{classes:t,disabled:n,size:r,color:i,iconColor:a,onDelete:o,clickable:l,variant:A}=e,c={root:["root",A,n&&"disabled",`size${Ge(r)}`,`color${Ge(i)}`,l&&"clickable",l&&`clickableColor${Ge(i)}`,o&&"deletable",o&&`deletableColor${Ge(i)}`,`${A}${Ge(i)}`],label:["label",`label${Ge(r)}`],avatar:["avatar",`avatar${Ge(r)}`,`avatarColor${Ge(i)}`],icon:["icon",`icon${Ge(r)}`,`iconColor${Ge(a)}`],deleteIcon:["deleteIcon",`deleteIcon${Ge(r)}`,`deleteIconColor${Ge(i)}`,`deleteIcon${Ge(A)}Color${Ge(i)}`]};return yt(c,EP,t)},NP=Pe("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:r,iconColor:i,clickable:a,onDelete:o,size:l,variant:A}=n;return[{[`& .${Fn.avatar}`]:t.avatar},{[`& .${Fn.avatar}`]:t[`avatar${Ge(l)}`]},{[`& .${Fn.avatar}`]:t[`avatarColor${Ge(r)}`]},{[`& .${Fn.icon}`]:t.icon},{[`& .${Fn.icon}`]:t[`icon${Ge(l)}`]},{[`& .${Fn.icon}`]:t[`iconColor${Ge(i)}`]},{[`& .${Fn.deleteIcon}`]:t.deleteIcon},{[`& .${Fn.deleteIcon}`]:t[`deleteIcon${Ge(l)}`]},{[`& .${Fn.deleteIcon}`]:t[`deleteIconColor${Ge(r)}`]},{[`& .${Fn.deleteIcon}`]:t[`deleteIcon${Ge(A)}Color${Ge(r)}`]},t.root,t[`size${Ge(l)}`],t[`color${Ge(r)}`],a&&t.clickable,a&&r!=="default"&&t[`clickableColor${Ge(r)})`],o&&t.deletable,o&&r!=="default"&&t[`deletableColor${Ge(r)}`],t[A],t[`${A}${Ge(r)}`]]}})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return W({maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Fn.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Fn.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:n,fontSize:e.typography.pxToRem(12)},[`& .${Fn.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${Fn.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${Fn.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${Fn.icon}`]:W({marginLeft:5,marginRight:-6},t.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},t.iconColor===t.color&&W({color:e.vars?e.vars.palette.Chip.defaultIconColor:n},t.color!=="default"&&{color:"inherit"})),[`& .${Fn.deleteIcon}`]:W({WebkitTapHighlightColor:"transparent",color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.26)`:fn(e.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:fn(e.palette.text.primary,.4)}},t.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},t.color!=="default"&&{color:e.vars?`rgba(${e.vars.palette[t.color].contrastTextChannel} / 0.7)`:fn(e.palette[t.color].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].contrastText}})},t.size==="small"&&{height:24},t.color!=="default"&&{backgroundColor:(e.vars||e).palette[t.color].main,color:(e.vars||e).palette[t.color].contrastText},t.onDelete&&{[`&.${Fn.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:fn(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},t.onDelete&&t.color!=="default"&&{[`&.${Fn.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}})},({theme:e,ownerState:t})=>W({},t.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:fn(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)},[`&.${Fn.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:fn(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},"&:active":{boxShadow:(e.vars||e).shadows[1]}},t.clickable&&t.color!=="default"&&{[`&:hover, &.${Fn.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}}),({theme:e,ownerState:t})=>W({},t.variant==="outlined"&&{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${Fn.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${Fn.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${Fn.avatar}`]:{marginLeft:4},[`& .${Fn.avatarSmall}`]:{marginLeft:2},[`& .${Fn.icon}`]:{marginLeft:4},[`& .${Fn.iconSmall}`]:{marginLeft:2},[`& .${Fn.deleteIcon}`]:{marginRight:5},[`& .${Fn.deleteIconSmall}`]:{marginRight:3}},t.variant==="outlined"&&t.color!=="default"&&{color:(e.vars||e).palette[t.color].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:fn(e.palette[t.color].main,.7)}`,[`&.${Fn.clickable}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:fn(e.palette[t.color].main,e.palette.action.hoverOpacity)},[`&.${Fn.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.focusOpacity})`:fn(e.palette[t.color].main,e.palette.action.focusOpacity)},[`& .${Fn.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:fn(e.palette[t.color].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].main}}})),TP=Pe("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:r}=n;return[t.label,t[`label${Ge(r)}`]]}})(({ownerState:e})=>W({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},e.variant==="outlined"&&{paddingLeft:11,paddingRight:11},e.size==="small"&&{paddingLeft:8,paddingRight:8},e.size==="small"&&e.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function mw(e){return e.key==="Backspace"||e.key==="Delete"}const Pi=b.forwardRef(function(t,n){const r=_t({props:t,name:"MuiChip"}),{avatar:i,className:a,clickable:o,color:l="default",component:A,deleteIcon:c,disabled:d=!1,icon:u,label:p,onClick:h,onDelete:m,onKeyDown:g,onKeyUp:y,size:x="medium",variant:C="filled",tabIndex:S,skipFocusWhenDisabled:w=!1}=r,_=Ye(r,IP),E=b.useRef(null),T=ar(E,n),F=q=>{q.stopPropagation(),m&&m(q)},M=q=>{q.currentTarget===q.target&&mw(q)&&q.preventDefault(),g&&g(q)},P=q=>{q.currentTarget===q.target&&(m&&mw(q)?m(q):q.key==="Escape"&&E.current&&E.current.blur()),y&&y(q)},I=o!==!1&&h?!0:o,j=I||m?ka:A||"div",U=W({},r,{component:j,disabled:d,size:x,color:l,iconColor:b.isValidElement(u)&&u.props.color||l,onDelete:!!m,clickable:I,variant:C}),N=FP(U),z=j===ka?W({component:A||"div",focusVisibleClassName:N.focusVisible},m&&{disableRipple:!0}):{};let L=null;m&&(L=c&&b.isValidElement(c)?b.cloneElement(c,{className:Je(c.props.className,N.deleteIcon),onClick:F}):s.jsx(kP,{className:Je(N.deleteIcon),onClick:F}));let D=null;i&&b.isValidElement(i)&&(D=b.cloneElement(i,{className:Je(N.avatar,i.props.className)}));let K=null;return u&&b.isValidElement(u)&&(K=b.cloneElement(u,{className:Je(N.icon,u.props.className)})),s.jsxs(NP,W({as:j,className:Je(N.root,a),disabled:I&&d?!0:void 0,onClick:h,onKeyDown:M,onKeyUp:P,ref:T,tabIndex:w&&d?-1:S,ownerState:U},z,_,{children:[D||K,s.jsx(TP,{className:Je(N.label),ownerState:U,children:p}),L]}))}),_P=["onChange","maxRows","minRows","style","value"];function Mf(e){return parseInt(e,10)||0}const DP={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function UP(e){for(const t in e)return!1;return!0}function vw(e){return UP(e)||e.outerHeightStyle===0&&!e.overflowing}const LP=b.forwardRef(function(t,n){const{onChange:r,maxRows:i,minRows:a=1,style:o,value:l}=t,A=Ye(t,_P),{current:c}=b.useRef(l!=null),d=b.useRef(null),u=ar(n,d),p=b.useRef(null),h=b.useRef(null),m=b.useCallback(()=>{const S=d.current,w=h.current;if(!S||!w)return;const E=io(S).getComputedStyle(S);if(E.width==="0px")return{outerHeightStyle:0,overflowing:!1};w.style.width=E.width,w.value=S.value||t.placeholder||"x",w.value.slice(-1)===`
`&&(w.value+=" ");const T=E.boxSizing,F=Mf(E.paddingBottom)+Mf(E.paddingTop),M=Mf(E.borderBottomWidth)+Mf(E.borderTopWidth),P=w.scrollHeight;w.value="x";const I=w.scrollHeight;let j=P;a&&(j=Math.max(Number(a)*I,j)),i&&(j=Math.min(Number(i)*I,j)),j=Math.max(j,I);const U=j+(T==="border-box"?F+M:0),N=Math.abs(j-P)<=1;return{outerHeightStyle:U,overflowing:N}},[i,a,t.placeholder]),g=sn(()=>{const S=d.current,w=m();if(!S||!w||vw(w))return!1;const _=w.outerHeightStyle;return p.current!=null&&p.current!==_}),y=b.useCallback(()=>{const S=d.current,w=m();if(!S||!w||vw(w))return;const _=w.outerHeightStyle;p.current!==_&&(p.current=_,S.style.height=`${_}px`),S.style.overflow=w.overflowing?"hidden":""},[m]),x=b.useRef(-1);Es(()=>{const S=um(y),w=d==null?void 0:d.current;if(!w)return;const _=io(w);_.addEventListener("resize",S);let E;return typeof ResizeObserver<"u"&&(E=new ResizeObserver(()=>{g()&&(E.unobserve(w),cancelAnimationFrame(x.current),y(),x.current=requestAnimationFrame(()=>{E.observe(w)}))}),E.observe(w)),()=>{S.clear(),cancelAnimationFrame(x.current),_.removeEventListener("resize",S),E&&E.disconnect()}},[m,y,g]),Es(()=>{y()});const C=S=>{c||y(),r&&r(S)};return s.jsxs(b.Fragment,{children:[s.jsx("textarea",W({value:l,onChange:C,ref:u,rows:a,style:o},A)),s.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:h,tabIndex:-1,style:W({},DP.shadow,o,{paddingTop:0,paddingBottom:0})})]})});function hl({props:e,states:t,muiFormControl:n}){return t.reduce((r,i)=>(r[i]=e[i],n&&typeof e[i]>"u"&&(r[i]=n[i]),r),{})}const wm=b.createContext(void 0);function Fa(){return b.useContext(wm)}function yw(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function cg(e,t=!1){return e&&(yw(e.value)&&e.value!==""||t&&yw(e.defaultValue)&&e.defaultValue!=="")}function MP(e){return e.startAdornment}function PP(e){return gt("MuiInputBase",e)}const zc=mt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),QP=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],Cm=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,n.size==="small"&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${Ge(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},Bm=(e,t)=>{const{ownerState:n}=e;return[t.input,n.size==="small"&&t.inputSizeSmall,n.multiline&&t.inputMultiline,n.type==="search"&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},RP=e=>{const{classes:t,color:n,disabled:r,error:i,endAdornment:a,focused:o,formControl:l,fullWidth:A,hiddenLabel:c,multiline:d,readOnly:u,size:p,startAdornment:h,type:m}=e,g={root:["root",`color${Ge(n)}`,r&&"disabled",i&&"error",A&&"fullWidth",o&&"focused",l&&"formControl",p&&p!=="medium"&&`size${Ge(p)}`,d&&"multiline",h&&"adornedStart",a&&"adornedEnd",c&&"hiddenLabel",u&&"readOnly"],input:["input",r&&"disabled",m==="search"&&"inputTypeSearch",d&&"inputMultiline",p==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",h&&"inputAdornedStart",a&&"inputAdornedEnd",u&&"readOnly"]};return yt(g,PP,t)},Sm=Pe("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Cm})(({theme:e,ownerState:t})=>W({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${zc.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&W({padding:"4px 0 5px"},t.size==="small"&&{paddingTop:1}),t.fullWidth&&{width:"100%"})),jm=Pe("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Bm})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light",r=W({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),i={opacity:"0 !important"},a=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return W({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${zc.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus:-ms-input-placeholder":a,"&:focus::-ms-input-placeholder":a},[`&.${zc.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},t.size==="small"&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},t.type==="search"&&{MozAppearance:"textfield"})}),HP=s.jsx(b4,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Cx=b.forwardRef(function(t,n){var r;const i=_t({props:t,name:"MuiInputBase"}),{"aria-describedby":a,autoComplete:o,autoFocus:l,className:A,components:c={},componentsProps:d={},defaultValue:u,disabled:p,disableInjectingGlobalStyles:h,endAdornment:m,fullWidth:g=!1,id:y,inputComponent:x="input",inputProps:C={},inputRef:S,maxRows:w,minRows:_,multiline:E=!1,name:T,onBlur:F,onChange:M,onClick:P,onFocus:I,onKeyDown:j,onKeyUp:U,placeholder:N,readOnly:z,renderSuffix:L,rows:D,slotProps:K={},slots:q={},startAdornment:Z,type:Ae="text",value:H}=i,R=Ye(i,QP),Q=C.value!=null?C.value:H,{current:$}=b.useRef(Q!=null),V=b.useRef(),G=b.useCallback(At=>{},[]),ie=ar(V,S,C.ref,G),[ne,xe]=b.useState(!1),re=Fa(),ge=hl({props:i,muiFormControl:re,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ge.focused=re?re.focused:ne,b.useEffect(()=>{!re&&p&&ne&&(xe(!1),F&&F())},[re,p,ne,F]);const le=re&&re.onFilled,be=re&&re.onEmpty,ue=b.useCallback(At=>{cg(At)?le&&le():be&&be()},[le,be]);Es(()=>{$&&ue({value:Q})},[Q,ue,$]);const ae=At=>{if(ge.disabled){At.stopPropagation();return}I&&I(At),C.onFocus&&C.onFocus(At),re&&re.onFocus?re.onFocus(At):xe(!0)},He=At=>{F&&F(At),C.onBlur&&C.onBlur(At),re&&re.onBlur?re.onBlur(At):xe(!1)},we=(At,...We)=>{if(!$){const jt=At.target||V.current;if(jt==null)throw new Error(so(1));ue({value:jt.value})}C.onChange&&C.onChange(At,...We),M&&M(At,...We)};b.useEffect(()=>{ue(V.current)},[]);const me=At=>{V.current&&At.currentTarget===At.target&&V.current.focus(),P&&P(At)};let Ie=x,Te=C;E&&Ie==="input"&&(D?Te=W({type:void 0,minRows:D,maxRows:D},Te):Te=W({type:void 0,maxRows:w,minRows:_},Te),Ie=LP);const Oe=At=>{ue(At.animationName==="mui-auto-fill-cancel"?V.current:{value:"x"})};b.useEffect(()=>{re&&re.setAdornedStart(!!Z)},[re,Z]);const qe=W({},i,{color:ge.color||"primary",disabled:ge.disabled,endAdornment:m,error:ge.error,focused:ge.focused,formControl:re,fullWidth:g,hiddenLabel:ge.hiddenLabel,multiline:E,size:ge.size,startAdornment:Z,type:Ae}),nt=RP(qe),ht=q.root||c.Root||Sm,rt=K.root||d.root||{},ot=q.input||c.Input||jm;return Te=W({},Te,(r=K.input)!=null?r:d.input),s.jsxs(b.Fragment,{children:[!h&&HP,s.jsxs(ht,W({},rt,!Dc(ht)&&{ownerState:W({},qe,rt.ownerState)},{ref:n,onClick:me},R,{className:Je(nt.root,rt.className,A,z&&"MuiInputBase-readOnly"),children:[Z,s.jsx(wm.Provider,{value:null,children:s.jsx(ot,W({ownerState:qe,"aria-invalid":ge.error,"aria-describedby":a,autoComplete:o,autoFocus:l,defaultValue:u,disabled:ge.disabled,id:y,onAnimationStart:Oe,name:T,placeholder:N,readOnly:z,required:ge.required,rows:D,value:Q,onKeyDown:j,onKeyUp:U,type:Ae},Te,!Dc(ot)&&{as:Ie,ownerState:W({},qe,Te.ownerState)},{ref:ie,className:Je(nt.input,Te.className,z&&"MuiInputBase-readOnly"),onBlur:He,onChange:we,onFocus:ae}))}),m,L?L(W({},ge,{startAdornment:Z})):null]}))]})});function OP(e){return gt("MuiInput",e)}const Yd=W({},zc,mt("MuiInput",["root","underline","input"]));function $P(e){return gt("MuiOutlinedInput",e)}const To=W({},zc,mt("MuiOutlinedInput",["root","notchedOutline","input"]));function zP(e){return gt("MuiFilledInput",e)}const Sl=W({},zc,mt("MuiFilledInput",["root","underline","input"])),WP=ut(s.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),KP=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],VP={entering:{opacity:1},entered:{opacity:1}},Nh=b.forwardRef(function(t,n){const r=Hi(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:a,appear:o=!0,children:l,easing:A,in:c,onEnter:d,onEntered:u,onEntering:p,onExit:h,onExited:m,onExiting:g,style:y,timeout:x=i,TransitionComponent:C=$i}=t,S=Ye(t,KP),w=b.useRef(null),_=ar(w,aA(l),n),E=N=>z=>{if(N){const L=w.current;z===void 0?N(L):N(L,z)}},T=E(p),F=E((N,z)=>{PS(N);const L=Qc({style:y,timeout:x,easing:A},{mode:"enter"});N.style.webkitTransition=r.transitions.create("opacity",L),N.style.transition=r.transitions.create("opacity",L),d&&d(N,z)}),M=E(u),P=E(g),I=E(N=>{const z=Qc({style:y,timeout:x,easing:A},{mode:"exit"});N.style.webkitTransition=r.transitions.create("opacity",z),N.style.transition=r.transitions.create("opacity",z),h&&h(N)}),j=E(m),U=N=>{a&&a(w.current,N)};return s.jsx(C,W({appear:o,in:c,nodeRef:w,onEnter:F,onEntered:M,onEntering:T,onExit:I,onExited:j,onExiting:P,addEndListener:U,timeout:x},S,{children:(N,z)=>b.cloneElement(l,W({style:W({opacity:0,visibility:N==="exited"&&!c?"hidden":void 0},VP[N],y,l.props.style),ref:_},z))}))});function GP(e){return gt("MuiBackdrop",e)}mt("MuiBackdrop",["root","invisible"]);const qP=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],YP=e=>{const{classes:t,invisible:n}=e;return yt({root:["root",n&&"invisible"]},GP,t)},XP=Pe("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})(({ownerState:e})=>W({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"})),JS=b.forwardRef(function(t,n){var r,i,a;const o=_t({props:t,name:"MuiBackdrop"}),{children:l,className:A,component:c="div",components:d={},componentsProps:u={},invisible:p=!1,open:h,slotProps:m={},slots:g={},TransitionComponent:y=Nh,transitionDuration:x}=o,C=Ye(o,qP),S=W({},o,{component:c,invisible:p}),w=YP(S),_=(r=m.root)!=null?r:u.root;return s.jsx(y,W({in:h,timeout:x},C,{children:s.jsx(XP,W({"aria-hidden":!0},_,{as:(i=(a=g.root)!=null?a:d.Root)!=null?i:c,className:Je(w.root,A,_==null?void 0:_.className),ownerState:W({},S,_==null?void 0:_.ownerState),classes:w,ref:n,children:l}))}))}),JP=mt("MuiBox",["root"]),ZP=Oy(),Ne=wN({themeId:Gl,defaultTheme:ZP,defaultClassName:JP.root,generateClassName:$5.generate});function eQ(e){return gt("MuiButton",e)}const Pf=mt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),tQ=b.createContext({}),nQ=b.createContext(void 0),rQ=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],sQ=e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:a,classes:o}=e,l={root:["root",a,`${a}${Ge(t)}`,`size${Ge(i)}`,`${a}Size${Ge(i)}`,`color${Ge(t)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${Ge(i)}`],endIcon:["icon","endIcon",`iconSize${Ge(i)}`]},A=yt(l,eQ,o);return W({},o,A)},ZS=e=>W({},e.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},e.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},e.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),iQ=Pe(ka,{shouldForwardProp:e=>Xs(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${Ge(n.color)}`],t[`size${Ge(n.size)}`],t[`${n.variant}Size${Ge(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(({theme:e,ownerState:t})=>{var n,r;const i=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],a=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return W({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":W({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:fn(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="text"&&t.color!=="inherit"&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:fn(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="outlined"&&t.color!=="inherit"&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:fn(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="contained"&&{backgroundColor:e.vars?e.vars.palette.Button.inheritContainedHoverBg:a,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},t.variant==="contained"&&t.color!=="inherit"&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":W({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${Pf.focusVisible}`]:W({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${Pf.disabled}`]:W({color:(e.vars||e).palette.action.disabled},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},t.variant==="contained"&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},t.variant==="text"&&{padding:"6px 8px"},t.variant==="text"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main},t.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},t.variant==="outlined"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${fn(e.palette[t.color].main,.5)}`},t.variant==="contained"&&{color:e.vars?e.vars.palette.text.primary:(n=(r=e.palette).getContrastText)==null?void 0:n.call(r,e.palette.grey[300]),backgroundColor:e.vars?e.vars.palette.Button.inheritContainedBg:i,boxShadow:(e.vars||e).shadows[2]},t.variant==="contained"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},t.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},t.size==="small"&&t.variant==="text"&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="text"&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="outlined"&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="outlined"&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="contained"&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="contained"&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Pf.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Pf.disabled}`]:{boxShadow:"none"}}),aQ=Pe("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${Ge(n.size)}`]]}})(({ownerState:e})=>W({display:"inherit",marginRight:8,marginLeft:-4},e.size==="small"&&{marginLeft:-2},ZS(e))),oQ=Pe("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${Ge(n.size)}`]]}})(({ownerState:e})=>W({display:"inherit",marginRight:-4,marginLeft:8},e.size==="small"&&{marginRight:-2},ZS(e))),Pt=b.forwardRef(function(t,n){const r=b.useContext(tQ),i=b.useContext(nQ),a=Gu(r,t),o=_t({props:a,name:"MuiButton"}),{children:l,color:A="primary",component:c="button",className:d,disabled:u=!1,disableElevation:p=!1,disableFocusRipple:h=!1,endIcon:m,focusVisibleClassName:g,fullWidth:y=!1,size:x="medium",startIcon:C,type:S,variant:w="text"}=o,_=Ye(o,rQ),E=W({},o,{color:A,component:c,disabled:u,disableElevation:p,disableFocusRipple:h,fullWidth:y,size:x,type:S,variant:w}),T=sQ(E),F=C&&s.jsx(aQ,{className:T.startIcon,ownerState:E,children:C}),M=m&&s.jsx(oQ,{className:T.endIcon,ownerState:E,children:m}),P=i||"";return s.jsxs(iQ,W({ownerState:E,className:Je(r.className,T.root,d,P),component:c,disabled:u,focusRipple:!h,focusVisibleClassName:Je(T.focusVisible,g),ref:n,type:S},_,{classes:T,children:[F,l,M]}))});function lQ(e){return gt("MuiCard",e)}mt("MuiCard",["root"]);const AQ=["className","raised"],cQ=e=>{const{classes:t}=e;return yt({root:["root"]},lQ,t)},dQ=Pe($n,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),on=b.forwardRef(function(t,n){const r=_t({props:t,name:"MuiCard"}),{className:i,raised:a=!1}=r,o=Ye(r,AQ),l=W({},r,{raised:a}),A=cQ(l);return s.jsx(dQ,W({className:Je(A.root,i),elevation:a?8:void 0,ref:n,ownerState:l},o))});function uQ(e){return gt("MuiCardActions",e)}mt("MuiCardActions",["root","spacing"]);const hQ=["disableSpacing","className"],fQ=e=>{const{classes:t,disableSpacing:n}=e;return yt({root:["root",!n&&"spacing"]},uQ,t)},pQ=Pe("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})(({ownerState:e})=>W({display:"flex",alignItems:"center",padding:8},!e.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),gQ=b.forwardRef(function(t,n){const r=_t({props:t,name:"MuiCardActions"}),{disableSpacing:i=!1,className:a}=r,o=Ye(r,hQ),l=W({},r,{disableSpacing:i}),A=fQ(l);return s.jsx(pQ,W({className:Je(A.root,a),ownerState:l,ref:n},o))});function mQ(e){return gt("MuiCardContent",e)}mt("MuiCardContent",["root"]);const vQ=["className","component"],yQ=e=>{const{classes:t}=e;return yt({root:["root"]},mQ,t)},xQ=Pe("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),ln=b.forwardRef(function(t,n){const r=_t({props:t,name:"MuiCardContent"}),{className:i,component:a="div"}=r,o=Ye(r,vQ),l=W({},r,{component:a}),A=yQ(l);return s.jsx(xQ,W({as:a,className:Je(A.root,i),ownerState:l,ref:n},o))});function bQ(e){return gt("PrivateSwitchBase",e)}mt("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const wQ=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],CQ=e=>{const{classes:t,checked:n,disabled:r,edge:i}=e,a={root:["root",n&&"checked",r&&"disabled",i&&`edge${Ge(i)}`],input:["input"]};return yt(a,bQ,t)},BQ=Pe(ka,{name:"MuiSwitchBase"})(({ownerState:e})=>W({padding:9,borderRadius:"50%"},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12})),SQ=Pe("input",{name:"MuiSwitchBase",shouldForwardProp:Xs})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),ej=b.forwardRef(function(t,n){const{autoFocus:r,checked:i,checkedIcon:a,className:o,defaultChecked:l,disabled:A,disableFocusRipple:c=!1,edge:d=!1,icon:u,id:p,inputProps:h,inputRef:m,name:g,onBlur:y,onChange:x,onFocus:C,readOnly:S,required:w=!1,tabIndex:_,type:E,value:T}=t,F=Ye(t,wQ),[M,P]=ja({controlled:i,default:!!l,name:"SwitchBase",state:"checked"}),I=Fa(),j=q=>{C&&C(q),I&&I.onFocus&&I.onFocus(q)},U=q=>{y&&y(q),I&&I.onBlur&&I.onBlur(q)},N=q=>{if(q.nativeEvent.defaultPrevented)return;const Z=q.target.checked;P(Z),x&&x(q,Z)};let z=A;I&&typeof z>"u"&&(z=I.disabled);const L=E==="checkbox"||E==="radio",D=W({},t,{checked:M,disabled:z,disableFocusRipple:c,edge:d}),K=CQ(D);return s.jsxs(BQ,W({component:"span",className:Je(K.root,o),centerRipple:!0,focusRipple:!c,disabled:z,tabIndex:null,role:void 0,onFocus:j,onBlur:U,ownerState:D,ref:n},F,{children:[s.jsx(SQ,W({autoFocus:r,checked:i,defaultChecked:l,className:K.input,disabled:z,id:L?p:void 0,name:g,onChange:N,readOnly:S,ref:m,required:w,ownerState:D,tabIndex:_,type:E},E==="checkbox"&&T===void 0?{}:{value:T},h)),M?a:u]}))}),jQ=ut(s.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),kQ=ut(s.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),EQ=ut(s.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function IQ(e){return gt("MuiCheckbox",e)}const J0=mt("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),FQ=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],NQ=e=>{const{classes:t,indeterminate:n,color:r,size:i}=e,a={root:["root",n&&"indeterminate",`color${Ge(r)}`,`size${Ge(i)}`]},o=yt(a,IQ,t);return W({},t,o)},TQ=Pe(ej,{shouldForwardProp:e=>Xs(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,t[`size${Ge(n.size)}`],n.color!=="default"&&t[`color${Ge(n.color)}`]]}})(({theme:e,ownerState:t})=>W({color:(e.vars||e).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${t.color==="default"?e.vars.palette.action.activeChannel:e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:fn(t.color==="default"?e.palette.action.active:e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${J0.checked}, &.${J0.indeterminate}`]:{color:(e.vars||e).palette[t.color].main},[`&.${J0.disabled}`]:{color:(e.vars||e).palette.action.disabled}})),_Q=s.jsx(kQ,{}),DQ=s.jsx(jQ,{}),UQ=s.jsx(EQ,{}),Nl=b.forwardRef(function(t,n){var r,i;const a=_t({props:t,name:"MuiCheckbox"}),{checkedIcon:o=_Q,color:l="primary",icon:A=DQ,indeterminate:c=!1,indeterminateIcon:d=UQ,inputProps:u,size:p="medium",className:h}=a,m=Ye(a,FQ),g=c?d:A,y=c?d:o,x=W({},a,{color:l,indeterminate:c,size:p}),C=NQ(x);return s.jsx(TQ,W({type:"checkbox",inputProps:W({"data-indeterminate":c},u),icon:b.cloneElement(g,{fontSize:(r=g.props.fontSize)!=null?r:p}),checkedIcon:b.cloneElement(y,{fontSize:(i=y.props.fontSize)!=null?i:p}),ownerState:x,ref:n,className:Je(C.root,h)},m,{classes:C}))});function LQ(e){return gt("MuiCircularProgress",e)}mt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const MQ=["className","color","disableShrink","size","style","thickness","value","variant"];let km=e=>e,xw,bw,ww,Cw;const _o=44,PQ=go(xw||(xw=km`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),QQ=go(bw||(bw=km`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),RQ=e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e,a={root:["root",n,`color${Ge(r)}`],svg:["svg"],circle:["circle",`circle${Ge(n)}`,i&&"circleDisableShrink"]};return yt(a,LQ,t)},HQ=Pe("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${Ge(n.color)}`]]}})(({ownerState:e,theme:t})=>W({display:"inline-block"},e.variant==="determinate"&&{transition:t.transitions.create("transform")},e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main}),({ownerState:e})=>e.variant==="indeterminate"&&iA(ww||(ww=km`
      animation: ${0} 1.4s linear infinite;
    `),PQ)),OQ=Pe("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),$Q=Pe("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${Ge(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(({ownerState:e,theme:t})=>W({stroke:"currentColor"},e.variant==="determinate"&&{transition:t.transitions.create("stroke-dashoffset")},e.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink&&iA(Cw||(Cw=km`
      animation: ${0} 1.4s ease-in-out infinite;
    `),QQ)),Hr=b.forwardRef(function(t,n){const r=_t({props:t,name:"MuiCircularProgress"}),{className:i,color:a="primary",disableShrink:o=!1,size:l=40,style:A,thickness:c=3.6,value:d=0,variant:u="indeterminate"}=r,p=Ye(r,MQ),h=W({},r,{color:a,disableShrink:o,size:l,thickness:c,value:d,variant:u}),m=RQ(h),g={},y={},x={};if(u==="determinate"){const C=2*Math.PI*((_o-c)/2);g.strokeDasharray=C.toFixed(3),x["aria-valuenow"]=Math.round(d),g.strokeDashoffset=`${((100-d)/100*C).toFixed(3)}px`,y.transform="rotate(-90deg)"}return s.jsx(HQ,W({className:Je(m.root,i),style:W({width:l,height:l},y,A),ownerState:h,ref:n,role:"progressbar"},x,p,{children:s.jsx(OQ,{className:m.svg,ownerState:h,viewBox:`${_o/2} ${_o/2} ${_o} ${_o}`,children:s.jsx($Q,{className:m.circle,style:g,ownerState:h,cx:_o,cy:_o,r:(_o-c)/2,fill:"none",strokeWidth:c})})}))});function Bw(e){return e.substring(2).toLowerCase()}function zQ(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function WQ(e){const{children:t,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:i,touchEvent:a="onTouchEnd"}=e,o=b.useRef(!1),l=b.useRef(null),A=b.useRef(!1),c=b.useRef(!1);b.useEffect(()=>(setTimeout(()=>{A.current=!0},0),()=>{A.current=!1}),[]);const d=ar(aA(t),l),u=sn(m=>{const g=c.current;c.current=!1;const y=zr(l.current);if(!A.current||!l.current||"clientX"in m&&zQ(m,y))return;if(o.current){o.current=!1;return}let x;m.composedPath?x=m.composedPath().indexOf(l.current)>-1:x=!y.documentElement.contains(m.target)||l.current.contains(m.target),!x&&(n||!g)&&i(m)}),p=m=>g=>{c.current=!0;const y=t.props[m];y&&y(g)},h={ref:d};return a!==!1&&(h[a]=p(a)),b.useEffect(()=>{if(a!==!1){const m=Bw(a),g=zr(l.current),y=()=>{o.current=!0};return g.addEventListener(m,u),g.addEventListener("touchmove",y),()=>{g.removeEventListener(m,u),g.removeEventListener("touchmove",y)}}},[u,a]),r!==!1&&(h[r]=p(r)),b.useEffect(()=>{if(r!==!1){const m=Bw(r),g=zr(l.current);return g.addEventListener(m,u),()=>{g.removeEventListener(m,u)}}},[u,r]),s.jsx(b.Fragment,{children:b.cloneElement(t,h)})}const $l=bT({createStyledComponent:Pe("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${Ge(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>_t({props:e,name:"MuiContainer"})});function KQ(e){const t=zr(e);return t.body===e?io(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function _u(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Sw(e){return parseInt(io(e).getComputedStyle(e).paddingRight,10)||0}function VQ(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName)!==-1,r=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||r}function jw(e,t,n,r,i){const a=[t,n,...r];[].forEach.call(e.children,o=>{const l=a.indexOf(o)===-1,A=!VQ(o);l&&A&&_u(o,i)})}function Z0(e,t){let n=-1;return e.some((r,i)=>t(r)?(n=i,!0):!1),n}function GQ(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(KQ(r)){const o=e4(zr(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${Sw(r)+o}px`;const l=zr(r).querySelectorAll(".mui-fixed");[].forEach.call(l,A=>{n.push({value:A.style.paddingRight,property:"padding-right",el:A}),A.style.paddingRight=`${Sw(A)+o}px`})}let a;if(r.parentNode instanceof DocumentFragment)a=zr(r).body;else{const o=r.parentElement,l=io(r);a=(o==null?void 0:o.nodeName)==="HTML"&&l.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:a.style.overflow,property:"overflow",el:a},{value:a.style.overflowX,property:"overflow-x",el:a},{value:a.style.overflowY,property:"overflow-y",el:a}),a.style.overflow="hidden"}return()=>{n.forEach(({value:a,el:o,property:l})=>{a?o.style.setProperty(l,a):o.style.removeProperty(l)})}}function qQ(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class YQ{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(t,n){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&_u(t.modalRef,!1);const i=qQ(n);jw(n,t.mount,t.modalRef,i,!0);const a=Z0(this.containers,o=>o.container===n);return a!==-1?(this.containers[a].modals.push(t),r):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:i}),r)}mount(t,n){const r=Z0(this.containers,a=>a.modals.indexOf(t)!==-1),i=this.containers[r];i.restore||(i.restore=GQ(i,n))}remove(t,n=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const i=Z0(this.containers,o=>o.modals.indexOf(t)!==-1),a=this.containers[i];if(a.modals.splice(a.modals.indexOf(t),1),this.modals.splice(r,1),a.modals.length===0)a.restore&&a.restore(),t.modalRef&&_u(t.modalRef,n),jw(a.container,t.mount,t.modalRef,a.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=a.modals[a.modals.length-1];o.modalRef&&_u(o.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const XQ=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function JQ(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function ZQ(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=r=>e.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function eR(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||ZQ(e))}function tR(e){const t=[],n=[];return Array.from(e.querySelectorAll(XQ)).forEach((r,i)=>{const a=JQ(r);a===-1||!eR(r)||(a===0?t.push(r):n.push({documentOrder:i,tabIndex:a,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(t)}function nR(){return!0}function rR(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:a=tR,isEnabled:o=nR,open:l}=e,A=b.useRef(!1),c=b.useRef(null),d=b.useRef(null),u=b.useRef(null),p=b.useRef(null),h=b.useRef(!1),m=b.useRef(null),g=ar(aA(t),m),y=b.useRef(null);b.useEffect(()=>{!l||!m.current||(h.current=!n)},[n,l]),b.useEffect(()=>{if(!l||!m.current)return;const S=zr(m.current);return m.current.contains(S.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),h.current&&m.current.focus()),()=>{i||(u.current&&u.current.focus&&(A.current=!0,u.current.focus()),u.current=null)}},[l]),b.useEffect(()=>{if(!l||!m.current)return;const S=zr(m.current),w=T=>{y.current=T,!(r||!o()||T.key!=="Tab")&&S.activeElement===m.current&&T.shiftKey&&(A.current=!0,d.current&&d.current.focus())},_=()=>{const T=m.current;if(T===null)return;if(!S.hasFocus()||!o()||A.current){A.current=!1;return}if(T.contains(S.activeElement)||r&&S.activeElement!==c.current&&S.activeElement!==d.current)return;if(S.activeElement!==p.current)p.current=null;else if(p.current!==null)return;if(!h.current)return;let F=[];if((S.activeElement===c.current||S.activeElement===d.current)&&(F=a(m.current)),F.length>0){var M,P;const I=!!((M=y.current)!=null&&M.shiftKey&&((P=y.current)==null?void 0:P.key)==="Tab"),j=F[0],U=F[F.length-1];typeof j!="string"&&typeof U!="string"&&(I?U.focus():j.focus())}else T.focus()};S.addEventListener("focusin",_),S.addEventListener("keydown",w,!0);const E=setInterval(()=>{S.activeElement&&S.activeElement.tagName==="BODY"&&_()},50);return()=>{clearInterval(E),S.removeEventListener("focusin",_),S.removeEventListener("keydown",w,!0)}},[n,r,i,o,l,a]);const x=S=>{u.current===null&&(u.current=S.relatedTarget),h.current=!0,p.current=S.target;const w=t.props.onFocus;w&&w(S)},C=S=>{u.current===null&&(u.current=S.relatedTarget),h.current=!0};return s.jsxs(b.Fragment,{children:[s.jsx("div",{tabIndex:l?0:-1,onFocus:C,ref:c,"data-testid":"sentinelStart"}),b.cloneElement(t,{ref:g,onFocus:x}),s.jsx("div",{tabIndex:l?0:-1,onFocus:C,ref:d,"data-testid":"sentinelEnd"})]})}function sR(e){return typeof e=="function"?e():e}function iR(e){return e?e.props.hasOwnProperty("in"):!1}const aR=new YQ;function oR(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=aR,closeAfterTransition:a=!1,onTransitionEnter:o,onTransitionExited:l,children:A,onClose:c,open:d,rootRef:u}=e,p=b.useRef({}),h=b.useRef(null),m=b.useRef(null),g=ar(m,u),[y,x]=b.useState(!d),C=iR(A);let S=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(S=!1);const w=()=>zr(h.current),_=()=>(p.current.modalRef=m.current,p.current.mount=h.current,p.current),E=()=>{i.mount(_(),{disableScrollLock:r}),m.current&&(m.current.scrollTop=0)},T=sn(()=>{const L=sR(t)||w().body;i.add(_(),L),m.current&&E()}),F=b.useCallback(()=>i.isTopModal(_()),[i]),M=sn(L=>{h.current=L,L&&(d&&F()?E():m.current&&_u(m.current,S))}),P=b.useCallback(()=>{i.remove(_(),S)},[S,i]);b.useEffect(()=>()=>{P()},[P]),b.useEffect(()=>{d?T():(!C||!a)&&P()},[d,P,C,a,T]);const I=L=>D=>{var K;(K=L.onKeyDown)==null||K.call(L,D),!(D.key!=="Escape"||D.which===229||!F())&&(n||(D.stopPropagation(),c&&c(D,"escapeKeyDown")))},j=L=>D=>{var K;(K=L.onClick)==null||K.call(L,D),D.target===D.currentTarget&&c&&c(D,"backdropClick")};return{getRootProps:(L={})=>{const D=Gp(e);delete D.onTransitionEnter,delete D.onTransitionExited;const K=W({},D,L);return W({role:"presentation"},K,{onKeyDown:I(K),ref:g})},getBackdropProps:(L={})=>{const D=L;return W({"aria-hidden":!0},D,{onClick:j(D),open:d})},getTransitionProps:()=>{const L=()=>{x(!1),o&&o()},D=()=>{x(!0),l&&l(),a&&P()};return{onEnter:Xb(L,A==null?void 0:A.props.onEnter),onExited:Xb(D,A==null?void 0:A.props.onExited)}},rootRef:g,portalRef:M,isTopModal:F,exited:y,hasTransition:C}}function lR(e){return gt("MuiModal",e)}mt("MuiModal",["root","hidden","backdrop"]);const AR=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],cR=e=>{const{open:t,exited:n,classes:r}=e;return yt({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},lR,r)},dR=Pe("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(({theme:e,ownerState:t})=>W({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"})),uR=Pe(JS,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),tj=b.forwardRef(function(t,n){var r,i,a,o,l,A;const c=_t({name:"MuiModal",props:t}),{BackdropComponent:d=uR,BackdropProps:u,className:p,closeAfterTransition:h=!1,children:m,container:g,component:y,components:x={},componentsProps:C={},disableAutoFocus:S=!1,disableEnforceFocus:w=!1,disableEscapeKeyDown:_=!1,disablePortal:E=!1,disableRestoreFocus:T=!1,disableScrollLock:F=!1,hideBackdrop:M=!1,keepMounted:P=!1,onBackdropClick:I,open:j,slotProps:U,slots:N}=c,z=Ye(c,AR),L=W({},c,{closeAfterTransition:h,disableAutoFocus:S,disableEnforceFocus:w,disableEscapeKeyDown:_,disablePortal:E,disableRestoreFocus:T,disableScrollLock:F,hideBackdrop:M,keepMounted:P}),{getRootProps:D,getBackdropProps:K,getTransitionProps:q,portalRef:Z,isTopModal:Ae,exited:H,hasTransition:R}=oR(W({},L,{rootRef:n})),Q=W({},L,{exited:H}),$=cR(Q),V={};if(m.props.tabIndex===void 0&&(V.tabIndex="-1"),R){const{onEnter:le,onExited:be}=q();V.onEnter=le,V.onExited=be}const G=(r=(i=N==null?void 0:N.root)!=null?i:x.Root)!=null?r:dR,ie=(a=(o=N==null?void 0:N.backdrop)!=null?o:x.Backdrop)!=null?a:d,ne=(l=U==null?void 0:U.root)!=null?l:C.root,xe=(A=U==null?void 0:U.backdrop)!=null?A:C.backdrop,re=_i({elementType:G,externalSlotProps:ne,externalForwardedProps:z,getSlotProps:D,additionalProps:{ref:n,as:y},ownerState:Q,className:Je(p,ne==null?void 0:ne.className,$==null?void 0:$.root,!Q.open&&Q.exited&&($==null?void 0:$.hidden))}),ge=_i({elementType:ie,externalSlotProps:xe,additionalProps:u,getSlotProps:le=>K(W({},le,{onClick:be=>{I&&I(be),le!=null&&le.onClick&&le.onClick(be)}})),className:Je(xe==null?void 0:xe.className,u==null?void 0:u.className,$==null?void 0:$.backdrop),ownerState:Q});return!P&&!j&&(!R||H)?null:s.jsx(YS,{ref:Z,container:g,disablePortal:E,children:s.jsxs(G,W({},re,{children:[!M&&d?s.jsx(ie,W({},ge)):null,s.jsx(rR,{disableEnforceFocus:w,disableAutoFocus:S,disableRestoreFocus:T,isEnabled:Ae,open:j,children:b.cloneElement(m,V)})]}))})});function hR(e){return gt("MuiDialog",e)}const ev=mt("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),nj=b.createContext({}),fR=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],pR=Pe(JS,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),gR=e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:i,fullScreen:a}=e,o={root:["root"],container:["container",`scroll${Ge(n)}`],paper:["paper",`paperScroll${Ge(n)}`,`paperWidth${Ge(String(r))}`,i&&"paperFullWidth",a&&"paperFullScreen"]};return yt(o,hR,t)},mR=Pe(tj,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),vR=Pe("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${Ge(n.scroll)}`]]}})(({ownerState:e})=>W({height:"100%","@media print":{height:"auto"},outline:0},e.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},e.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),yR=Pe($n,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${Ge(n.scroll)}`],t[`paperWidth${Ge(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})(({theme:e,ownerState:t})=>W({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},t.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},t.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!t.maxWidth&&{maxWidth:"calc(100% - 64px)"},t.maxWidth==="xs"&&{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${ev.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.maxWidth&&t.maxWidth!=="xs"&&{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`,[`&.${ev.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.fullWidth&&{width:"calc(100% - 64px)"},t.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${ev.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),lo=b.forwardRef(function(t,n){const r=_t({props:t,name:"MuiDialog"}),i=Hi(),a={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":l,BackdropComponent:A,BackdropProps:c,children:d,className:u,disableEscapeKeyDown:p=!1,fullScreen:h=!1,fullWidth:m=!1,maxWidth:g="sm",onBackdropClick:y,onClick:x,onClose:C,open:S,PaperComponent:w=$n,PaperProps:_={},scroll:E="paper",TransitionComponent:T=Nh,transitionDuration:F=a,TransitionProps:M}=r,P=Ye(r,fR),I=W({},r,{disableEscapeKeyDown:p,fullScreen:h,fullWidth:m,maxWidth:g,scroll:E}),j=gR(I),U=b.useRef(),N=K=>{U.current=K.target===K.currentTarget},z=K=>{x&&x(K),U.current&&(U.current=null,y&&y(K),C&&C(K,"backdropClick"))},L=nd(l),D=b.useMemo(()=>({titleId:L}),[L]);return s.jsx(mR,W({className:Je(j.root,u),closeAfterTransition:!0,components:{Backdrop:pR},componentsProps:{backdrop:W({transitionDuration:F,as:A},c)},disableEscapeKeyDown:p,onClose:C,open:S,ref:n,onClick:z,ownerState:I},P,{children:s.jsx(T,W({appear:!0,in:S,timeout:F,role:"presentation"},M,{children:s.jsx(vR,{className:Je(j.container),onMouseDown:N,ownerState:I,children:s.jsx(yR,W({as:w,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":L},_,{className:Je(j.paper,_.className),ownerState:I,children:s.jsx(nj.Provider,{value:D,children:d})}))})}))}))});function xR(e){return gt("MuiDialogActions",e)}mt("MuiDialogActions",["root","spacing"]);const bR=["className","disableSpacing"],wR=e=>{const{classes:t,disableSpacing:n}=e;return yt({root:["root",!n&&"spacing"]},xR,t)},CR=Pe("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})(({ownerState:e})=>W({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),nl=b.forwardRef(function(t,n){const r=_t({props:t,name:"MuiDialogActions"}),{className:i,disableSpacing:a=!1}=r,o=Ye(r,bR),l=W({},r,{disableSpacing:a}),A=wR(l);return s.jsx(CR,W({className:Je(A.root,i),ownerState:l,ref:n},o))});function BR(e){return gt("MuiDialogContent",e)}mt("MuiDialogContent",["root","dividers"]);function SR(e){return gt("MuiDialogTitle",e)}const jR=mt("MuiDialogTitle",["root"]),kR=["className","dividers"],ER=e=>{const{classes:t,dividers:n}=e;return yt({root:["root",n&&"dividers"]},BR,t)},IR=Pe("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(({theme:e,ownerState:t})=>W({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${jR.root} + &`]:{paddingTop:0}})),Ao=b.forwardRef(function(t,n){const r=_t({props:t,name:"MuiDialogContent"}),{className:i,dividers:a=!1}=r,o=Ye(r,kR),l=W({},r,{dividers:a}),A=ER(l);return s.jsx(IR,W({className:Je(A.root,i),ownerState:l,ref:n},o))}),FR=["className","id"],NR=e=>{const{classes:t}=e;return yt({root:["root"]},SR,t)},TR=Pe(J,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),rl=b.forwardRef(function(t,n){const r=_t({props:t,name:"MuiDialogTitle"}),{className:i,id:a}=r,o=Ye(r,FR),l=r,A=NR(l),{titleId:c=a}=b.useContext(nj);return s.jsx(TR,W({component:"h2",className:Je(A.root,i),ownerState:l,ref:n,variant:"h6",id:a??c},o))});function _R(e){return gt("MuiDivider",e)}const kw=mt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),DR=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],UR=e=>{const{absolute:t,children:n,classes:r,flexItem:i,light:a,orientation:o,textAlign:l,variant:A}=e;return yt({root:["root",t&&"absolute",A,a&&"light",o==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&o==="vertical"&&"withChildrenVertical",l==="right"&&o!=="vertical"&&"textAlignRight",l==="left"&&o!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",o==="vertical"&&"wrapperVertical"]},_R,r)},LR=Pe("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,n.orientation==="vertical"&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&n.orientation==="vertical"&&t.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&t.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&t.textAlignLeft]}})(({theme:e,ownerState:t})=>W({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:fn(e.palette.divider,.08)},t.variant==="inset"&&{marginLeft:72},t.variant==="middle"&&t.orientation==="horizontal"&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},t.variant==="middle"&&t.orientation==="vertical"&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},t.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:e})=>W({},e.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:e,ownerState:t})=>W({},t.children&&t.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,borderTopStyle:"inherit"}}),({theme:e,ownerState:t})=>W({},t.children&&t.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`,borderLeftStyle:"inherit"}}),({ownerState:e})=>W({},e.textAlign==="right"&&e.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},e.textAlign==="left"&&e.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),MR=Pe("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,n.orientation==="vertical"&&t.wrapperVertical]}})(({theme:e,ownerState:t})=>W({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`},t.orientation==="vertical"&&{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`})),Si=b.forwardRef(function(t,n){const r=_t({props:t,name:"MuiDivider"}),{absolute:i=!1,children:a,className:o,component:l=a?"div":"hr",flexItem:A=!1,light:c=!1,orientation:d="horizontal",role:u=l!=="hr"?"separator":void 0,textAlign:p="center",variant:h="fullWidth"}=r,m=Ye(r,DR),g=W({},r,{absolute:i,component:l,flexItem:A,light:c,orientation:d,role:u,textAlign:p,variant:h}),y=UR(g);return s.jsx(LR,W({as:l,className:Je(y.root,o),role:u,ref:n,ownerState:g},m,{children:a?s.jsx(MR,{className:y.wrapper,ownerState:g,children:a}):null}))});Si.muiSkipListHighlight=!0;const PR=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],QR=e=>{const{classes:t,disableUnderline:n}=e,i=yt({root:["root",!n&&"underline"],input:["input"]},zP,t);return W({},t,i)},RR=Pe(Sm,{shouldForwardProp:e=>Xs(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...Cm(e,t),!n.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{var n;const r=e.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",a=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",l=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return W({position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:a,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:a}},[`&.${Sl.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:a},[`&.${Sl.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:l}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(e.vars||e).palette[t.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Sl.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Sl.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Sl.disabled}, .${Sl.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${Sl.disabled}:before`]:{borderBottomStyle:"dotted"}},t.startAdornment&&{paddingLeft:12},t.endAdornment&&{paddingRight:12},t.multiline&&W({padding:"25px 12px 8px"},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9}))}),HR=Pe(jm,{name:"MuiFilledInput",slot:"Input",overridesResolver:Bm})(({theme:e,ownerState:t})=>W({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9},t.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),Bx=b.forwardRef(function(t,n){var r,i,a,o;const l=_t({props:t,name:"MuiFilledInput"}),{components:A={},componentsProps:c,fullWidth:d=!1,inputComponent:u="input",multiline:p=!1,slotProps:h,slots:m={},type:g="text"}=l,y=Ye(l,PR),x=W({},l,{fullWidth:d,inputComponent:u,multiline:p,type:g}),C=QR(l),S={root:{ownerState:x},input:{ownerState:x}},w=h??c?Us(S,h??c):S,_=(r=(i=m.root)!=null?i:A.Root)!=null?r:RR,E=(a=(o=m.input)!=null?o:A.Input)!=null?a:HR;return s.jsx(Cx,W({slots:{root:_,input:E},componentsProps:w,fullWidth:d,inputComponent:u,multiline:p,ref:n,type:g},y,{classes:C}))});Bx.muiName="Input";function OR(e){return gt("MuiFormControl",e)}mt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const $R=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],zR=e=>{const{classes:t,margin:n,fullWidth:r}=e,i={root:["root",n!=="none"&&`margin${Ge(n)}`,r&&"fullWidth"]};return yt(i,OR,t)},WR=Pe("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:e},t)=>W({},t.root,t[`margin${Ge(e.margin)}`],e.fullWidth&&t.fullWidth)})(({ownerState:e})=>W({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},e.margin==="normal"&&{marginTop:16,marginBottom:8},e.margin==="dense"&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"})),eo=b.forwardRef(function(t,n){const r=_t({props:t,name:"MuiFormControl"}),{children:i,className:a,color:o="primary",component:l="div",disabled:A=!1,error:c=!1,focused:d,fullWidth:u=!1,hiddenLabel:p=!1,margin:h="none",required:m=!1,size:g="medium",variant:y="outlined"}=r,x=Ye(r,$R),C=W({},r,{color:o,component:l,disabled:A,error:c,fullWidth:u,hiddenLabel:p,margin:h,required:m,size:g,variant:y}),S=zR(C),[w,_]=b.useState(()=>{let U=!1;return i&&b.Children.forEach(i,N=>{if(!Ep(N,["Input","Select"]))return;const z=Ep(N,["Select"])?N.props.input:N;z&&MP(z.props)&&(U=!0)}),U}),[E,T]=b.useState(()=>{let U=!1;return i&&b.Children.forEach(i,N=>{Ep(N,["Input","Select"])&&(cg(N.props,!0)||cg(N.props.inputProps,!0))&&(U=!0)}),U}),[F,M]=b.useState(!1);A&&F&&M(!1);const P=d!==void 0&&!A?d:F;let I;const j=b.useMemo(()=>({adornedStart:w,setAdornedStart:_,color:o,disabled:A,error:c,filled:E,focused:P,fullWidth:u,hiddenLabel:p,size:g,onBlur:()=>{M(!1)},onEmpty:()=>{T(!1)},onFilled:()=>{T(!0)},onFocus:()=>{M(!0)},registerEffect:I,required:m,variant:y}),[w,o,A,c,E,P,u,p,I,m,g,y]);return s.jsx(wm.Provider,{value:j,children:s.jsx(WR,W({as:l,ownerState:C,className:Je(S.root,a),ref:n},x,{children:i}))})}),rc=IT({createStyledComponent:Pe("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>_t({props:e,name:"MuiStack"})});function KR(e){return gt("MuiFormControlLabel",e)}const mu=mt("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),VR=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],GR=e=>{const{classes:t,disabled:n,labelPlacement:r,error:i,required:a}=e,o={root:["root",n&&"disabled",`labelPlacement${Ge(r)}`,i&&"error",a&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",i&&"error"]};return yt(o,KR,t)},qR=Pe("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${mu.label}`]:t.label},t.root,t[`labelPlacement${Ge(n.labelPlacement)}`]]}})(({theme:e,ownerState:t})=>W({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${mu.disabled}`]:{cursor:"default"}},t.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},t.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},t.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${mu.label}`]:{[`&.${mu.disabled}`]:{color:(e.vars||e).palette.text.disabled}}})),YR=Pe("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${mu.error}`]:{color:(e.vars||e).palette.error.main}})),ds=b.forwardRef(function(t,n){var r,i;const a=_t({props:t,name:"MuiFormControlLabel"}),{className:o,componentsProps:l={},control:A,disabled:c,disableTypography:d,label:u,labelPlacement:p="end",required:h,slotProps:m={}}=a,g=Ye(a,VR),y=Fa(),x=(r=c??A.props.disabled)!=null?r:y==null?void 0:y.disabled,C=h??A.props.required,S={disabled:x,required:C};["checked","name","onChange","value","inputRef"].forEach(M=>{typeof A.props[M]>"u"&&typeof a[M]<"u"&&(S[M]=a[M])});const w=hl({props:a,muiFormControl:y,states:["error"]}),_=W({},a,{disabled:x,labelPlacement:p,required:C,error:w.error}),E=GR(_),T=(i=m.typography)!=null?i:l.typography;let F=u;return F!=null&&F.type!==J&&!d&&(F=s.jsx(J,W({component:"span"},T,{className:Je(E.label,T==null?void 0:T.className),children:F}))),s.jsxs(qR,W({className:Je(E.root,o),ownerState:_,ref:n},g,{children:[b.cloneElement(A,S),C?s.jsxs(rc,{display:"block",children:[F,s.jsxs(YR,{ownerState:_,"aria-hidden":!0,className:E.asterisk,children:[" ","*"]})]}):F]}))});function XR(e){return gt("MuiFormGroup",e)}mt("MuiFormGroup",["root","row","error"]);const JR=["className","row"],ZR=e=>{const{classes:t,row:n,error:r}=e;return yt({root:["root",n&&"row",r&&"error"]},XR,t)},e8=Pe("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.row&&t.row]}})(({ownerState:e})=>W({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"})),rj=b.forwardRef(function(t,n){const r=_t({props:t,name:"MuiFormGroup"}),{className:i,row:a=!1}=r,o=Ye(r,JR),l=Fa(),A=hl({props:r,muiFormControl:l,states:["error"]}),c=W({},r,{row:a,error:A.error}),d=ZR(c);return s.jsx(e8,W({className:Je(d.root,i),ownerState:c,ref:n},o))});function t8(e){return gt("MuiFormHelperText",e)}const Ew=mt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var Iw;const n8=["children","className","component","disabled","error","filled","focused","margin","required","variant"],r8=e=>{const{classes:t,contained:n,size:r,disabled:i,error:a,filled:o,focused:l,required:A}=e,c={root:["root",i&&"disabled",a&&"error",r&&`size${Ge(r)}`,n&&"contained",l&&"focused",o&&"filled",A&&"required"]};return yt(c,t8,t)},s8=Pe("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${Ge(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})(({theme:e,ownerState:t})=>W({color:(e.vars||e).palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${Ew.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${Ew.error}`]:{color:(e.vars||e).palette.error.main}},t.size==="small"&&{marginTop:4},t.contained&&{marginLeft:14,marginRight:14})),i8=b.forwardRef(function(t,n){const r=_t({props:t,name:"MuiFormHelperText"}),{children:i,className:a,component:o="p"}=r,l=Ye(r,n8),A=Fa(),c=hl({props:r,muiFormControl:A,states:["variant","size","disabled","error","filled","focused","required"]}),d=W({},r,{component:o,contained:c.variant==="filled"||c.variant==="outlined",variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),u=r8(d);return s.jsx(s8,W({as:o,ownerState:d,className:Je(u.root,a),ref:n},l,{children:i===" "?Iw||(Iw=s.jsx("span",{className:"notranslate",children:"​"})):i}))});function a8(e){return gt("MuiFormLabel",e)}const Du=mt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),o8=["children","className","color","component","disabled","error","filled","focused","required"],l8=e=>{const{classes:t,color:n,focused:r,disabled:i,error:a,filled:o,required:l}=e,A={root:["root",`color${Ge(n)}`,i&&"disabled",a&&"error",o&&"filled",r&&"focused",l&&"required"],asterisk:["asterisk",a&&"error"]};return yt(A,a8,t)},A8=Pe("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:e},t)=>W({},t.root,e.color==="secondary"&&t.colorSecondary,e.filled&&t.filled)})(({theme:e,ownerState:t})=>W({color:(e.vars||e).palette.text.secondary},e.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Du.focused}`]:{color:(e.vars||e).palette[t.color].main},[`&.${Du.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${Du.error}`]:{color:(e.vars||e).palette.error.main}})),c8=Pe("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${Du.error}`]:{color:(e.vars||e).palette.error.main}})),sj=b.forwardRef(function(t,n){const r=_t({props:t,name:"MuiFormLabel"}),{children:i,className:a,component:o="label"}=r,l=Ye(r,o8),A=Fa(),c=hl({props:r,muiFormControl:A,states:["color","required","focused","disabled","error","filled"]}),d=W({},r,{color:c.color||"primary",component:o,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),u=l8(d);return s.jsxs(A8,W({as:o,ownerState:d,className:Je(u.root,a),ref:n},l,{children:[i,c.required&&s.jsxs(c8,{ownerState:d,"aria-hidden":!0,className:u.asterisk,children:[" ","*"]})]}))}),Fw=b.createContext();function d8(e){return gt("MuiGrid",e)}const u8=[0,1,2,3,4,5,6,7,8,9,10],h8=["column-reverse","column","row-reverse","row"],f8=["nowrap","wrap-reverse","wrap"],Xd=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],eh=mt("MuiGrid",["root","container","item","zeroMinWidth",...u8.map(e=>`spacing-xs-${e}`),...h8.map(e=>`direction-xs-${e}`),...f8.map(e=>`wrap-xs-${e}`),...Xd.map(e=>`grid-xs-${e}`),...Xd.map(e=>`grid-sm-${e}`),...Xd.map(e=>`grid-md-${e}`),...Xd.map(e=>`grid-lg-${e}`),...Xd.map(e=>`grid-xl-${e}`)]),p8=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function wc(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function g8({theme:e,ownerState:t}){let n;return e.breakpoints.keys.reduce((r,i)=>{let a={};if(t[i]&&(n=t[i]),!n)return r;if(n===!0)a={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")a={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const o=Rl({values:t.columns,breakpoints:e.breakpoints.values}),l=typeof o=="object"?o[i]:o;if(l==null)return r;const A=`${Math.round(n/l*1e8)/1e6}%`;let c={};if(t.container&&t.item&&t.columnSpacing!==0){const d=e.spacing(t.columnSpacing);if(d!=="0px"){const u=`calc(${A} + ${wc(d)})`;c={flexBasis:u,maxWidth:u}}}a=W({flexBasis:A,flexGrow:0,maxWidth:A},c)}return e.breakpoints.values[i]===0?Object.assign(r,a):r[e.breakpoints.up(i)]=a,r},{})}function m8({theme:e,ownerState:t}){const n=Rl({values:t.direction,breakpoints:e.breakpoints.values});return Ys({theme:e},n,r=>{const i={flexDirection:r};return r.indexOf("column")===0&&(i[`& > .${eh.item}`]={maxWidth:"none"}),i})}function ij({breakpoints:e,values:t}){let n="";Object.keys(t).forEach(i=>{n===""&&t[i]!==0&&(n=i)});const r=Object.keys(e).sort((i,a)=>e[i]-e[a]);return r.slice(0,r.indexOf(n))}function v8({theme:e,ownerState:t}){const{container:n,rowSpacing:r}=t;let i={};if(n&&r!==0){const a=Rl({values:r,breakpoints:e.breakpoints.values});let o;typeof a=="object"&&(o=ij({breakpoints:e.breakpoints.values,values:a})),i=Ys({theme:e},a,(l,A)=>{var c;const d=e.spacing(l);return d!=="0px"?{marginTop:`-${wc(d)}`,[`& > .${eh.item}`]:{paddingTop:wc(d)}}:(c=o)!=null&&c.includes(A)?{}:{marginTop:0,[`& > .${eh.item}`]:{paddingTop:0}}})}return i}function y8({theme:e,ownerState:t}){const{container:n,columnSpacing:r}=t;let i={};if(n&&r!==0){const a=Rl({values:r,breakpoints:e.breakpoints.values});let o;typeof a=="object"&&(o=ij({breakpoints:e.breakpoints.values,values:a})),i=Ys({theme:e},a,(l,A)=>{var c;const d=e.spacing(l);return d!=="0px"?{width:`calc(100% + ${wc(d)})`,marginLeft:`-${wc(d)}`,[`& > .${eh.item}`]:{paddingLeft:wc(d)}}:(c=o)!=null&&c.includes(A)?{}:{width:"100%",marginLeft:0,[`& > .${eh.item}`]:{paddingLeft:0}}})}return i}function x8(e,t,n={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[n[`spacing-xs-${String(e)}`]];const r=[];return t.forEach(i=>{const a=e[i];Number(a)>0&&r.push(n[`spacing-${i}-${String(a)}`])}),r}const b8=Pe("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:i,item:a,spacing:o,wrap:l,zeroMinWidth:A,breakpoints:c}=n;let d=[];r&&(d=x8(o,c,t));const u=[];return c.forEach(p=>{const h=n[p];h&&u.push(t[`grid-${p}-${String(h)}`])}),[t.root,r&&t.container,a&&t.item,A&&t.zeroMinWidth,...d,i!=="row"&&t[`direction-xs-${String(i)}`],l!=="wrap"&&t[`wrap-xs-${String(l)}`],...u]}})(({ownerState:e})=>W({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},e.wrap!=="wrap"&&{flexWrap:e.wrap}),m8,v8,y8,g8);function w8(e,t){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const n=[];return t.forEach(r=>{const i=e[r];if(Number(i)>0){const a=`spacing-${r}-${String(i)}`;n.push(a)}}),n}const C8=e=>{const{classes:t,container:n,direction:r,item:i,spacing:a,wrap:o,zeroMinWidth:l,breakpoints:A}=e;let c=[];n&&(c=w8(a,A));const d=[];A.forEach(p=>{const h=e[p];h&&d.push(`grid-${p}-${String(h)}`)});const u={root:["root",n&&"container",i&&"item",l&&"zeroMinWidth",...c,r!=="row"&&`direction-xs-${String(r)}`,o!=="wrap"&&`wrap-xs-${String(o)}`,...d]};return yt(u,d8,t)},ft=b.forwardRef(function(t,n){const r=_t({props:t,name:"MuiGrid"}),{breakpoints:i}=Hi(),a=vh(r),{className:o,columns:l,columnSpacing:A,component:c="div",container:d=!1,direction:u="row",item:p=!1,rowSpacing:h,spacing:m=0,wrap:g="wrap",zeroMinWidth:y=!1}=a,x=Ye(a,p8),C=h||m,S=A||m,w=b.useContext(Fw),_=d?l||12:w,E={},T=W({},x);i.keys.forEach(P=>{x[P]!=null&&(E[P]=x[P],delete T[P])});const F=W({},a,{columns:_,container:d,direction:u,item:p,rowSpacing:C,columnSpacing:S,wrap:g,zeroMinWidth:y,spacing:m},E,{breakpoints:i.keys}),M=C8(F);return s.jsx(Fw.Provider,{value:_,children:s.jsx(b8,W({ownerState:F,className:Je(M.root,o),as:c,ref:n},T))})}),B8=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function B1(e){return`scale(${e}, ${e**2})`}const S8={entering:{opacity:1,transform:B1(1)},entered:{opacity:1,transform:"none"}},tv=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),th=b.forwardRef(function(t,n){const{addEndListener:r,appear:i=!0,children:a,easing:o,in:l,onEnter:A,onEntered:c,onEntering:d,onExit:u,onExited:p,onExiting:h,style:m,timeout:g="auto",TransitionComponent:y=$i}=t,x=Ye(t,B8),C=Oo(),S=b.useRef(),w=Hi(),_=b.useRef(null),E=ar(_,aA(a),n),T=z=>L=>{if(z){const D=_.current;L===void 0?z(D):z(D,L)}},F=T(d),M=T((z,L)=>{PS(z);const{duration:D,delay:K,easing:q}=Qc({style:m,timeout:g,easing:o},{mode:"enter"});let Z;g==="auto"?(Z=w.transitions.getAutoHeightDuration(z.clientHeight),S.current=Z):Z=D,z.style.transition=[w.transitions.create("opacity",{duration:Z,delay:K}),w.transitions.create("transform",{duration:tv?Z:Z*.666,delay:K,easing:q})].join(","),A&&A(z,L)}),P=T(c),I=T(h),j=T(z=>{const{duration:L,delay:D,easing:K}=Qc({style:m,timeout:g,easing:o},{mode:"exit"});let q;g==="auto"?(q=w.transitions.getAutoHeightDuration(z.clientHeight),S.current=q):q=L,z.style.transition=[w.transitions.create("opacity",{duration:q,delay:D}),w.transitions.create("transform",{duration:tv?q:q*.666,delay:tv?D:D||q*.333,easing:K})].join(","),z.style.opacity=0,z.style.transform=B1(.75),u&&u(z)}),U=T(p),N=z=>{g==="auto"&&C.start(S.current||0,z),r&&r(_.current,z)};return s.jsx(y,W({appear:i,in:l,nodeRef:_,onEnter:M,onEntered:P,onEntering:F,onExit:j,onExited:U,onExiting:I,addEndListener:N,timeout:g==="auto"?null:g},x,{children:(z,L)=>b.cloneElement(a,W({style:W({opacity:0,transform:B1(.75),visibility:z==="exited"&&!l?"hidden":void 0},S8[z],m,a.props.style),ref:E},L))}))});th.muiSupportAuto=!0;const j8=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],k8=e=>{const{classes:t,disableUnderline:n}=e,i=yt({root:["root",!n&&"underline"],input:["input"]},OP,t);return W({},t,i)},E8=Pe(Sm,{shouldForwardProp:e=>Xs(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...Cm(e,t),!n.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{let r=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(r=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),W({position:"relative"},t.formControl&&{"label + &":{marginTop:16}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Yd.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Yd.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Yd.disabled}, .${Yd.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Yd.disabled}:before`]:{borderBottomStyle:"dotted"}})}),I8=Pe(jm,{name:"MuiInput",slot:"Input",overridesResolver:Bm})({}),Sx=b.forwardRef(function(t,n){var r,i,a,o;const l=_t({props:t,name:"MuiInput"}),{disableUnderline:A,components:c={},componentsProps:d,fullWidth:u=!1,inputComponent:p="input",multiline:h=!1,slotProps:m,slots:g={},type:y="text"}=l,x=Ye(l,j8),C=k8(l),w={root:{ownerState:{disableUnderline:A}}},_=m??d?Us(m??d,w):w,E=(r=(i=g.root)!=null?i:c.Root)!=null?r:E8,T=(a=(o=g.input)!=null?o:c.Input)!=null?a:I8;return s.jsx(Cx,W({slots:{root:E,input:T},slotProps:_,fullWidth:u,inputComponent:p,multiline:h,ref:n,type:y},x,{classes:C}))});Sx.muiName="Input";function F8(e){return gt("MuiInputAdornment",e)}const Nw=mt("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var Tw;const N8=["children","className","component","disablePointerEvents","disableTypography","position","variant"],T8=(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${Ge(n.position)}`],n.disablePointerEvents===!0&&t.disablePointerEvents,t[n.variant]]},_8=e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:r,position:i,size:a,variant:o}=e,l={root:["root",n&&"disablePointerEvents",i&&`position${Ge(i)}`,o,r&&"hiddenLabel",a&&`size${Ge(a)}`]};return yt(l,F8,t)},D8=Pe("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:T8})(({theme:e,ownerState:t})=>W({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active},t.variant==="filled"&&{[`&.${Nw.positionStart}&:not(.${Nw.hiddenLabel})`]:{marginTop:16}},t.position==="start"&&{marginRight:8},t.position==="end"&&{marginLeft:8},t.disablePointerEvents===!0&&{pointerEvents:"none"})),U8=b.forwardRef(function(t,n){const r=_t({props:t,name:"MuiInputAdornment"}),{children:i,className:a,component:o="div",disablePointerEvents:l=!1,disableTypography:A=!1,position:c,variant:d}=r,u=Ye(r,N8),p=Fa()||{};let h=d;d&&p.variant,p&&!h&&(h=p.variant);const m=W({},r,{hiddenLabel:p.hiddenLabel,size:p.size,disablePointerEvents:l,position:c,variant:h}),g=_8(m);return s.jsx(wm.Provider,{value:null,children:s.jsx(D8,W({as:o,ownerState:m,className:Je(g.root,a),ref:n},u,{children:typeof i=="string"&&!A?s.jsx(J,{color:"text.secondary",children:i}):s.jsxs(b.Fragment,{children:[c==="start"?Tw||(Tw=s.jsx("span",{className:"notranslate",children:"​"})):null,i]})}))})});function L8(e){return gt("MuiInputLabel",e)}mt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const M8=["disableAnimation","margin","shrink","variant","className"],P8=e=>{const{classes:t,formControl:n,size:r,shrink:i,disableAnimation:a,variant:o,required:l}=e,A={root:["root",n&&"formControl",!a&&"animated",i&&"shrink",r&&r!=="normal"&&`size${Ge(r)}`,o],asterisk:[l&&"asterisk"]},c=yt(A,L8,t);return W({},t,c)},Q8=Pe(sj,{shouldForwardProp:e=>Xs(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Du.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,n.size==="small"&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})(({theme:e,ownerState:t})=>W({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},t.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},t.size==="small"&&{transform:"translate(0, 17px) scale(1)"},t.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!t.disableAnimation&&{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},t.variant==="filled"&&W({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},t.shrink&&W({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},t.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),t.variant==="outlined"&&W({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},t.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),sl=b.forwardRef(function(t,n){const r=_t({name:"MuiInputLabel",props:t}),{disableAnimation:i=!1,shrink:a,className:o}=r,l=Ye(r,M8),A=Fa();let c=a;typeof c>"u"&&A&&(c=A.filled||A.focused||A.adornedStart);const d=hl({props:r,muiFormControl:A,states:["size","variant","required","focused"]}),u=W({},r,{disableAnimation:i,formControl:A,shrink:c,size:d.size,variant:d.variant,required:d.required,focused:d.focused}),p=P8(u);return s.jsx(Q8,W({"data-shrink":c,ownerState:u,ref:n,className:Je(p.root,o)},l,{classes:p}))});function R8(e){return gt("MuiLinearProgress",e)}mt("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const H8=["className","color","value","valueBuffer","variant"];let ld=e=>e,_w,Dw,Uw,Lw,Mw,Pw;const S1=4,O8=go(_w||(_w=ld`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),$8=go(Dw||(Dw=ld`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),z8=go(Uw||(Uw=ld`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),W8=e=>{const{classes:t,variant:n,color:r}=e,i={root:["root",`color${Ge(r)}`,n],dashed:["dashed",`dashedColor${Ge(r)}`],bar1:["bar",`barColor${Ge(r)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar",n!=="buffer"&&`barColor${Ge(r)}`,n==="buffer"&&`color${Ge(r)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return yt(i,R8,t)},jx=(e,t)=>t==="inherit"?"currentColor":e.vars?e.vars.palette.LinearProgress[`${t}Bg`]:e.palette.mode==="light"?Lc(e.palette[t].main,.62):Uc(e.palette[t].main,.5),K8=Pe("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`color${Ge(n.color)}`],t[n.variant]]}})(({ownerState:e,theme:t})=>W({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:jx(t,e.color)},e.color==="inherit"&&e.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},e.variant==="buffer"&&{backgroundColor:"transparent"},e.variant==="query"&&{transform:"rotate(180deg)"})),V8=Pe("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.dashed,t[`dashedColor${Ge(n.color)}`]]}})(({ownerState:e,theme:t})=>{const n=jx(t,e.color);return W({position:"absolute",marginTop:0,height:"100%",width:"100%"},e.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},iA(Lw||(Lw=ld`
    animation: ${0} 3s infinite linear;
  `),z8)),G8=Pe("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t[`barColor${Ge(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&t.bar1Indeterminate,n.variant==="determinate"&&t.bar1Determinate,n.variant==="buffer"&&t.bar1Buffer]}})(({ownerState:e,theme:t})=>W({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:e.color==="inherit"?"currentColor":(t.vars||t).palette[e.color].main},e.variant==="determinate"&&{transition:`transform .${S1}s linear`},e.variant==="buffer"&&{zIndex:1,transition:`transform .${S1}s linear`}),({ownerState:e})=>(e.variant==="indeterminate"||e.variant==="query")&&iA(Mw||(Mw=ld`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),O8)),q8=Pe("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t[`barColor${Ge(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&t.bar2Indeterminate,n.variant==="buffer"&&t.bar2Buffer]}})(({ownerState:e,theme:t})=>W({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},e.variant!=="buffer"&&{backgroundColor:e.color==="inherit"?"currentColor":(t.vars||t).palette[e.color].main},e.color==="inherit"&&{opacity:.3},e.variant==="buffer"&&{backgroundColor:jx(t,e.color),transition:`transform .${S1}s linear`}),({ownerState:e})=>(e.variant==="indeterminate"||e.variant==="query")&&iA(Pw||(Pw=ld`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),$8)),aj=b.forwardRef(function(t,n){const r=_t({props:t,name:"MuiLinearProgress"}),{className:i,color:a="primary",value:o,valueBuffer:l,variant:A="indeterminate"}=r,c=Ye(r,H8),d=W({},r,{color:a,variant:A}),u=W8(d),p=xh(),h={},m={bar1:{},bar2:{}};if((A==="determinate"||A==="buffer")&&o!==void 0){h["aria-valuenow"]=Math.round(o),h["aria-valuemin"]=0,h["aria-valuemax"]=100;let g=o-100;p&&(g=-g),m.bar1.transform=`translateX(${g}%)`}if(A==="buffer"&&l!==void 0){let g=(l||0)-100;p&&(g=-g),m.bar2.transform=`translateX(${g}%)`}return s.jsxs(K8,W({className:Je(u.root,i),ownerState:d,role:"progressbar"},h,{ref:n},c,{children:[A==="buffer"?s.jsx(V8,{className:u.dashed,ownerState:d}):null,s.jsx(G8,{className:u.bar1,ownerState:d,style:m.bar1}),A==="determinate"?null:s.jsx(q8,{className:u.bar2,ownerState:d,style:m.bar2})]}))}),to=b.createContext({});function Y8(e){return gt("MuiList",e)}mt("MuiList",["root","padding","dense","subheader"]);const X8=["children","className","component","dense","disablePadding","subheader"],J8=e=>{const{classes:t,disablePadding:n,dense:r,subheader:i}=e;return yt({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},Y8,t)},Z8=Pe("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})(({ownerState:e})=>W({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0})),nh=b.forwardRef(function(t,n){const r=_t({props:t,name:"MuiList"}),{children:i,className:a,component:o="ul",dense:l=!1,disablePadding:A=!1,subheader:c}=r,d=Ye(r,X8),u=b.useMemo(()=>({dense:l}),[l]),p=W({},r,{component:o,dense:l,disablePadding:A}),h=J8(p);return s.jsx(to.Provider,{value:u,children:s.jsxs(Z8,W({as:o,className:Je(h.root,a),ref:n,ownerState:p},d,{children:[c,i]}))})});function eH(e){return gt("MuiListItem",e)}const sc=mt("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),tH=mt("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function nH(e){return gt("MuiListItemSecondaryAction",e)}mt("MuiListItemSecondaryAction",["root","disableGutters"]);const rH=["className"],sH=e=>{const{disableGutters:t,classes:n}=e;return yt({root:["root",t&&"disableGutters"]},nH,n)},iH=Pe("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})(({ownerState:e})=>W({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},e.disableGutters&&{right:0})),Pl=b.forwardRef(function(t,n){const r=_t({props:t,name:"MuiListItemSecondaryAction"}),{className:i}=r,a=Ye(r,rH),o=b.useContext(to),l=W({},r,{disableGutters:o.disableGutters}),A=sH(l);return s.jsx(iH,W({className:Je(A.root,i),ownerState:l,ref:n},a))});Pl.muiName="ListItemSecondaryAction";const aH=["className"],oH=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],lH=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.alignItems==="flex-start"&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.button&&t.button,n.hasSecondaryAction&&t.secondaryAction]},AH=e=>{const{alignItems:t,button:n,classes:r,dense:i,disabled:a,disableGutters:o,disablePadding:l,divider:A,hasSecondaryAction:c,selected:d}=e;return yt({root:["root",i&&"dense",!o&&"gutters",!l&&"padding",A&&"divider",a&&"disabled",n&&"button",t==="flex-start"&&"alignItemsFlexStart",c&&"secondaryAction",d&&"selected"],container:["container"]},eH,r)},cH=Pe("div",{name:"MuiListItem",slot:"Root",overridesResolver:lH})(({theme:e,ownerState:t})=>W({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!t.disablePadding&&W({paddingTop:8,paddingBottom:8},t.dense&&{paddingTop:4,paddingBottom:4},!t.disableGutters&&{paddingLeft:16,paddingRight:16},!!t.secondaryAction&&{paddingRight:48}),!!t.secondaryAction&&{[`& > .${tH.root}`]:{paddingRight:48}},{[`&.${sc.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${sc.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:fn(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${sc.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:fn(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${sc.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.alignItems==="flex-start"&&{alignItems:"flex-start"},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},t.button&&{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${sc.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:fn(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:fn(e.palette.primary.main,e.palette.action.selectedOpacity)}}},t.hasSecondaryAction&&{paddingRight:48})),dH=Pe("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),Xa=b.forwardRef(function(t,n){const r=_t({props:t,name:"MuiListItem"}),{alignItems:i="center",autoFocus:a=!1,button:o=!1,children:l,className:A,component:c,components:d={},componentsProps:u={},ContainerComponent:p="li",ContainerProps:{className:h}={},dense:m=!1,disabled:g=!1,disableGutters:y=!1,disablePadding:x=!1,divider:C=!1,focusVisibleClassName:S,secondaryAction:w,selected:_=!1,slotProps:E={},slots:T={}}=r,F=Ye(r.ContainerProps,aH),M=Ye(r,oH),P=b.useContext(to),I=b.useMemo(()=>({dense:m||P.dense||!1,alignItems:i,disableGutters:y}),[i,P.dense,m,y]),j=b.useRef(null);Es(()=>{a&&j.current&&j.current.focus()},[a]);const U=b.Children.toArray(l),N=U.length&&Ep(U[U.length-1],["ListItemSecondaryAction"]),z=W({},r,{alignItems:i,autoFocus:a,button:o,dense:I.dense,disabled:g,disableGutters:y,disablePadding:x,divider:C,hasSecondaryAction:N,selected:_}),L=AH(z),D=ar(j,n),K=T.root||d.Root||cH,q=E.root||u.root||{},Z=W({className:Je(L.root,q.className,A),disabled:g},M);let Ae=c||"li";return o&&(Z.component=c||"div",Z.focusVisibleClassName=Je(sc.focusVisible,S),Ae=ka),N?(Ae=!Z.component&&!c?"div":Ae,p==="li"&&(Ae==="li"?Ae="div":Z.component==="li"&&(Z.component="div")),s.jsx(to.Provider,{value:I,children:s.jsxs(dH,W({as:p,className:Je(L.container,h),ref:D,ownerState:z},F,{children:[s.jsx(K,W({},q,!Dc(K)&&{as:Ae,ownerState:W({},z,q.ownerState)},Z,{children:U})),U.pop()]}))})):s.jsx(to.Provider,{value:I,children:s.jsxs(K,W({},q,{as:Ae,ref:D},!Dc(K)&&{ownerState:W({},z,q.ownerState)},Z,{children:[U,w&&s.jsx(Pl,{children:w})]}))})});function uH(e){return gt("MuiListItemIcon",e)}const Qw=mt("MuiListItemIcon",["root","alignItemsFlexStart"]),hH=["className"],fH=e=>{const{alignItems:t,classes:n}=e;return yt({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},uH,n)},pH=Pe("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.alignItems==="flex-start"&&t.alignItemsFlexStart]}})(({theme:e,ownerState:t})=>W({minWidth:56,color:(e.vars||e).palette.action.active,flexShrink:0,display:"inline-flex"},t.alignItems==="flex-start"&&{marginTop:8})),nv=b.forwardRef(function(t,n){const r=_t({props:t,name:"MuiListItemIcon"}),{className:i}=r,a=Ye(r,hH),o=b.useContext(to),l=W({},r,{alignItems:o.alignItems}),A=fH(l);return s.jsx(pH,W({className:Je(A.root,i),ownerState:l,ref:n},a))});function gH(e){return gt("MuiListItemText",e)}const dg=mt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),mH=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],vH=e=>{const{classes:t,inset:n,primary:r,secondary:i,dense:a}=e;return yt({root:["root",n&&"inset",a&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},gH,t)},yH=Pe("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${dg.primary}`]:t.primary},{[`& .${dg.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})(({ownerState:e})=>W({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56})),Ja=b.forwardRef(function(t,n){const r=_t({props:t,name:"MuiListItemText"}),{children:i,className:a,disableTypography:o=!1,inset:l=!1,primary:A,primaryTypographyProps:c,secondary:d,secondaryTypographyProps:u}=r,p=Ye(r,mH),{dense:h}=b.useContext(to);let m=A??i,g=d;const y=W({},r,{disableTypography:o,inset:l,primary:!!m,secondary:!!g,dense:h}),x=vH(y);return m!=null&&m.type!==J&&!o&&(m=s.jsx(J,W({variant:h?"body2":"body1",className:x.primary,component:c!=null&&c.variant?void 0:"span",display:"block"},c,{children:m}))),g!=null&&g.type!==J&&!o&&(g=s.jsx(J,W({variant:"body2",className:x.secondary,color:"text.secondary",display:"block"},u,{children:g}))),s.jsxs(yH,W({className:Je(x.root,a),ownerState:y,ref:n},p,{children:[m,g]}))}),xH=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function rv(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function Rw(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function oj(e,t){if(t===void 0)return!0;let n=e.innerText;return n===void 0&&(n=e.textContent),n=n.trim().toLowerCase(),n.length===0?!1:t.repeating?n[0]===t.keys[0]:n.indexOf(t.keys.join(""))===0}function Jd(e,t,n,r,i,a){let o=!1,l=i(e,t,t?n:!1);for(;l;){if(l===e.firstChild){if(o)return!1;o=!0}const A=r?!1:l.disabled||l.getAttribute("aria-disabled")==="true";if(!l.hasAttribute("tabindex")||!oj(l,a)||A)l=i(e,l,n);else return l.focus(),!0}return!1}const bH=b.forwardRef(function(t,n){const{actions:r,autoFocus:i=!1,autoFocusItem:a=!1,children:o,className:l,disabledItemsFocusable:A=!1,disableListWrap:c=!1,onKeyDown:d,variant:u="selectedMenu"}=t,p=Ye(t,xH),h=b.useRef(null),m=b.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Es(()=>{i&&h.current.focus()},[i]),b.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(S,{direction:w})=>{const _=!h.current.style.width;if(S.clientHeight<h.current.clientHeight&&_){const E=`${e4(zr(S))}px`;h.current.style[w==="rtl"?"paddingLeft":"paddingRight"]=E,h.current.style.width=`calc(100% + ${E})`}return h.current}}),[]);const g=S=>{const w=h.current,_=S.key,E=zr(w).activeElement;if(_==="ArrowDown")S.preventDefault(),Jd(w,E,c,A,rv);else if(_==="ArrowUp")S.preventDefault(),Jd(w,E,c,A,Rw);else if(_==="Home")S.preventDefault(),Jd(w,null,c,A,rv);else if(_==="End")S.preventDefault(),Jd(w,null,c,A,Rw);else if(_.length===1){const T=m.current,F=_.toLowerCase(),M=performance.now();T.keys.length>0&&(M-T.lastTime>500?(T.keys=[],T.repeating=!0,T.previousKeyMatched=!0):T.repeating&&F!==T.keys[0]&&(T.repeating=!1)),T.lastTime=M,T.keys.push(F);const P=E&&!T.repeating&&oj(E,T);T.previousKeyMatched&&(P||Jd(w,E,!1,A,rv,T))?S.preventDefault():T.previousKeyMatched=!1}d&&d(S)},y=ar(h,n);let x=-1;b.Children.forEach(o,(S,w)=>{if(!b.isValidElement(S)){x===w&&(x+=1,x>=o.length&&(x=-1));return}S.props.disabled||(u==="selectedMenu"&&S.props.selected||x===-1)&&(x=w),x===w&&(S.props.disabled||S.props.muiSkipListHighlight||S.type.muiSkipListHighlight)&&(x+=1,x>=o.length&&(x=-1))});const C=b.Children.map(o,(S,w)=>{if(w===x){const _={};return a&&(_.autoFocus=!0),S.props.tabIndex===void 0&&u==="selectedMenu"&&(_.tabIndex=0),b.cloneElement(S,_)}return S});return s.jsx(nh,W({role:"menu",ref:y,className:l,onKeyDown:g,tabIndex:i?0:-1},p,{children:C}))});function wH(e){return gt("MuiPopover",e)}mt("MuiPopover",["root","paper"]);const CH=["onEntering"],BH=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],SH=["slotProps"];function Hw(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.height/2:t==="bottom"&&(n=e.height),n}function Ow(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.width/2:t==="right"&&(n=e.width),n}function $w(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function sv(e){return typeof e=="function"?e():e}const jH=e=>{const{classes:t}=e;return yt({root:["root"],paper:["paper"]},wH,t)},kH=Pe(tj,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),lj=Pe($n,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),EH=b.forwardRef(function(t,n){var r,i,a;const o=_t({props:t,name:"MuiPopover"}),{action:l,anchorEl:A,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:d,anchorReference:u="anchorEl",children:p,className:h,container:m,elevation:g=8,marginThreshold:y=16,open:x,PaperProps:C={},slots:S,slotProps:w,transformOrigin:_={vertical:"top",horizontal:"left"},TransitionComponent:E=th,transitionDuration:T="auto",TransitionProps:{onEntering:F}={},disableScrollLock:M=!1}=o,P=Ye(o.TransitionProps,CH),I=Ye(o,BH),j=(r=w==null?void 0:w.paper)!=null?r:C,U=b.useRef(),N=ar(U,j.ref),z=W({},o,{anchorOrigin:c,anchorReference:u,elevation:g,marginThreshold:y,externalPaperSlotProps:j,transformOrigin:_,TransitionComponent:E,transitionDuration:T,TransitionProps:P}),L=jH(z),D=b.useCallback(()=>{if(u==="anchorPosition")return d;const le=sv(A),ue=(le&&le.nodeType===1?le:zr(U.current).body).getBoundingClientRect();return{top:ue.top+Hw(ue,c.vertical),left:ue.left+Ow(ue,c.horizontal)}},[A,c.horizontal,c.vertical,d,u]),K=b.useCallback(le=>({vertical:Hw(le,_.vertical),horizontal:Ow(le,_.horizontal)}),[_.horizontal,_.vertical]),q=b.useCallback(le=>{const be={width:le.offsetWidth,height:le.offsetHeight},ue=K(be);if(u==="none")return{top:null,left:null,transformOrigin:$w(ue)};const ae=D();let He=ae.top-ue.vertical,we=ae.left-ue.horizontal;const me=He+be.height,Ie=we+be.width,Te=io(sv(A)),Oe=Te.innerHeight-y,qe=Te.innerWidth-y;if(y!==null&&He<y){const nt=He-y;He-=nt,ue.vertical+=nt}else if(y!==null&&me>Oe){const nt=me-Oe;He-=nt,ue.vertical+=nt}if(y!==null&&we<y){const nt=we-y;we-=nt,ue.horizontal+=nt}else if(Ie>qe){const nt=Ie-qe;we-=nt,ue.horizontal+=nt}return{top:`${Math.round(He)}px`,left:`${Math.round(we)}px`,transformOrigin:$w(ue)}},[A,u,D,K,y]),[Z,Ae]=b.useState(x),H=b.useCallback(()=>{const le=U.current;if(!le)return;const be=q(le);be.top!==null&&(le.style.top=be.top),be.left!==null&&(le.style.left=be.left),le.style.transformOrigin=be.transformOrigin,Ae(!0)},[q]);b.useEffect(()=>(M&&window.addEventListener("scroll",H),()=>window.removeEventListener("scroll",H)),[A,M,H]);const R=(le,be)=>{F&&F(le,be),H()},Q=()=>{Ae(!1)};b.useEffect(()=>{x&&H()}),b.useImperativeHandle(l,()=>x?{updatePosition:()=>{H()}}:null,[x,H]),b.useEffect(()=>{if(!x)return;const le=um(()=>{H()}),be=io(A);return be.addEventListener("resize",le),()=>{le.clear(),be.removeEventListener("resize",le)}},[A,x,H]);let $=T;T==="auto"&&!E.muiSupportAuto&&($=void 0);const V=m||(A?zr(sv(A)).body:void 0),G=(i=S==null?void 0:S.root)!=null?i:kH,ie=(a=S==null?void 0:S.paper)!=null?a:lj,ne=_i({elementType:ie,externalSlotProps:W({},j,{style:Z?j.style:W({},j.style,{opacity:0})}),additionalProps:{elevation:g,ref:N},ownerState:z,className:Je(L.paper,j==null?void 0:j.className)}),xe=_i({elementType:G,externalSlotProps:(w==null?void 0:w.root)||{},externalForwardedProps:I,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:V,open:x},ownerState:z,className:Je(L.root,h)}),{slotProps:re}=xe,ge=Ye(xe,SH);return s.jsx(G,W({},ge,!Dc(G)&&{slotProps:re,disableScrollLock:M},{children:s.jsx(E,W({appear:!0,in:x,onEntering:R,onExited:Q,timeout:$},P,{children:s.jsx(ie,W({},ne,{children:p}))}))}))});function IH(e){return gt("MuiMenu",e)}mt("MuiMenu",["root","paper","list"]);const FH=["onEntering"],NH=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],TH={vertical:"top",horizontal:"right"},_H={vertical:"top",horizontal:"left"},DH=e=>{const{classes:t}=e;return yt({root:["root"],paper:["paper"],list:["list"]},IH,t)},UH=Pe(EH,{shouldForwardProp:e=>Xs(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),LH=Pe(lj,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),MH=Pe(bH,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),PH=b.forwardRef(function(t,n){var r,i;const a=_t({props:t,name:"MuiMenu"}),{autoFocus:o=!0,children:l,className:A,disableAutoFocusItem:c=!1,MenuListProps:d={},onClose:u,open:p,PaperProps:h={},PopoverClasses:m,transitionDuration:g="auto",TransitionProps:{onEntering:y}={},variant:x="selectedMenu",slots:C={},slotProps:S={}}=a,w=Ye(a.TransitionProps,FH),_=Ye(a,NH),E=xh(),T=W({},a,{autoFocus:o,disableAutoFocusItem:c,MenuListProps:d,onEntering:y,PaperProps:h,transitionDuration:g,TransitionProps:w,variant:x}),F=DH(T),M=o&&!c&&p,P=b.useRef(null),I=(K,q)=>{P.current&&P.current.adjustStyleForScrollbar(K,{direction:E?"rtl":"ltr"}),y&&y(K,q)},j=K=>{K.key==="Tab"&&(K.preventDefault(),u&&u(K,"tabKeyDown"))};let U=-1;b.Children.map(l,(K,q)=>{b.isValidElement(K)&&(K.props.disabled||(x==="selectedMenu"&&K.props.selected||U===-1)&&(U=q))});const N=(r=C.paper)!=null?r:LH,z=(i=S.paper)!=null?i:h,L=_i({elementType:C.root,externalSlotProps:S.root,ownerState:T,className:[F.root,A]}),D=_i({elementType:N,externalSlotProps:z,ownerState:T,className:F.paper});return s.jsx(UH,W({onClose:u,anchorOrigin:{vertical:"bottom",horizontal:E?"right":"left"},transformOrigin:E?TH:_H,slots:{paper:N,root:C.root},slotProps:{root:L,paper:D},open:p,ref:n,transitionDuration:g,TransitionProps:W({onEntering:I},w),ownerState:T},_,{classes:m,children:s.jsx(MH,W({onKeyDown:j,actions:P,autoFocus:o&&(U===-1||c),autoFocusItem:M,variant:x},d,{className:Je(F.list,d.className),children:l}))}))});function QH(e){return gt("MuiMenuItem",e)}const Zd=mt("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),RH=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],HH=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]},OH=e=>{const{disabled:t,dense:n,divider:r,disableGutters:i,selected:a,classes:o}=e,A=yt({root:["root",n&&"dense",t&&"disabled",!i&&"gutters",r&&"divider",a&&"selected"]},QH,o);return W({},o,A)},$H=Pe(ka,{shouldForwardProp:e=>Xs(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:HH})(({theme:e,ownerState:t})=>W({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Zd.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:fn(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${Zd.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:fn(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${Zd.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:fn(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:fn(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${Zd.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Zd.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${kw.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${kw.inset}`]:{marginLeft:52},[`& .${dg.root}`]:{marginTop:0,marginBottom:0},[`& .${dg.inset}`]:{paddingLeft:36},[`& .${Qw.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&W({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${Qw.root} svg`]:{fontSize:"1.25rem"}}))),Jn=b.forwardRef(function(t,n){const r=_t({props:t,name:"MuiMenuItem"}),{autoFocus:i=!1,component:a="li",dense:o=!1,divider:l=!1,disableGutters:A=!1,focusVisibleClassName:c,role:d="menuitem",tabIndex:u,className:p}=r,h=Ye(r,RH),m=b.useContext(to),g=b.useMemo(()=>({dense:o||m.dense||!1,disableGutters:A}),[m.dense,o,A]),y=b.useRef(null);Es(()=>{i&&y.current&&y.current.focus()},[i]);const x=W({},r,{dense:g.dense,divider:l,disableGutters:A}),C=OH(r),S=ar(y,n);let w;return r.disabled||(w=u!==void 0?u:-1),s.jsx(to.Provider,{value:g,children:s.jsx($H,W({ref:S,role:d,tabIndex:w,component:a,focusVisibleClassName:Je(C.focusVisible,c),className:Je(C.root,p)},h,{ownerState:x,classes:C}))})});function zH(e){return gt("MuiNativeSelect",e)}const kx=mt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),WH=["className","disabled","error","IconComponent","inputRef","variant"],KH=e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:a,error:o}=e,l={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${Ge(n)}`,a&&"iconOpen",r&&"disabled"]};return yt(l,zH,t)},Aj=({ownerState:e,theme:t})=>W({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":W({},t.vars?{backgroundColor:`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:t.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${kx.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},e.variant==="filled"&&{"&&&":{paddingRight:32}},e.variant==="outlined"&&{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}),VH=Pe("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Xs,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${kx.multiple}`]:t.multiple}]}})(Aj),cj=({ownerState:e,theme:t})=>W({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${kx.disabled}`]:{color:(t.vars||t).palette.action.disabled}},e.open&&{transform:"rotate(180deg)"},e.variant==="filled"&&{right:7},e.variant==="outlined"&&{right:7}),GH=Pe("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${Ge(n.variant)}`],n.open&&t.iconOpen]}})(cj),qH=b.forwardRef(function(t,n){const{className:r,disabled:i,error:a,IconComponent:o,inputRef:l,variant:A="standard"}=t,c=Ye(t,WH),d=W({},t,{disabled:i,variant:A,error:a}),u=KH(d);return s.jsxs(b.Fragment,{children:[s.jsx(VH,W({ownerState:d,className:Je(u.select,r),disabled:i,ref:l||n},c)),t.multiple?null:s.jsx(GH,{as:o,ownerState:d,className:u.icon})]})});var zw;const YH=["children","classes","className","label","notched"],XH=Pe("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:Xs})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),JH=Pe("legend",{name:"MuiNotchedOutlined",shouldForwardProp:Xs})(({ownerState:e,theme:t})=>W({float:"unset",width:"auto",overflow:"hidden"},!e.withLabel&&{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},e.withLabel&&W({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},e.notched&&{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})})));function ZH(e){const{className:t,label:n,notched:r}=e,i=Ye(e,YH),a=n!=null&&n!=="",o=W({},e,{notched:r,withLabel:a});return s.jsx(XH,W({"aria-hidden":!0,className:t,ownerState:o},i,{children:s.jsx(JH,{ownerState:o,children:a?s.jsx("span",{children:n}):zw||(zw=s.jsx("span",{className:"notranslate",children:"​"}))})}))}const eO=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],tO=e=>{const{classes:t}=e,r=yt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},$P,t);return W({},t,r)},nO=Pe(Sm,{shouldForwardProp:e=>Xs(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Cm})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return W({position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${To.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${To.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${To.focused} .${To.notchedOutline}`]:{borderColor:(e.vars||e).palette[t.color].main,borderWidth:2},[`&.${To.error} .${To.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${To.disabled} .${To.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}},t.startAdornment&&{paddingLeft:14},t.endAdornment&&{paddingRight:14},t.multiline&&W({padding:"16.5px 14px"},t.size==="small"&&{padding:"8.5px 14px"}))}),rO=Pe(ZH,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),sO=Pe(jm,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Bm})(({theme:e,ownerState:t})=>W({padding:"16.5px 14px"},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{padding:"8.5px 14px"},t.multiline&&{padding:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0})),Ex=b.forwardRef(function(t,n){var r,i,a,o,l;const A=_t({props:t,name:"MuiOutlinedInput"}),{components:c={},fullWidth:d=!1,inputComponent:u="input",label:p,multiline:h=!1,notched:m,slots:g={},type:y="text"}=A,x=Ye(A,eO),C=tO(A),S=Fa(),w=hl({props:A,muiFormControl:S,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),_=W({},A,{color:w.color||"primary",disabled:w.disabled,error:w.error,focused:w.focused,formControl:S,fullWidth:d,hiddenLabel:w.hiddenLabel,multiline:h,size:w.size,type:y}),E=(r=(i=g.root)!=null?i:c.Root)!=null?r:nO,T=(a=(o=g.input)!=null?o:c.Input)!=null?a:sO;return s.jsx(Cx,W({slots:{root:E,input:T},renderSuffix:F=>s.jsx(rO,{ownerState:_,className:C.notchedOutline,label:p!=null&&p!==""&&w.required?l||(l=s.jsxs(b.Fragment,{children:[p," ","*"]})):p,notched:typeof m<"u"?m:!!(F.startAdornment||F.filled||F.focused)}),fullWidth:d,inputComponent:u,multiline:h,ref:n,type:y},x,{classes:W({},C,{notchedOutline:null})}))});Ex.muiName="Input";function iO(e){return gt("MuiSelect",e)}const eu=mt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var Ww;const aO=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],oO=Pe("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${eu.select}`]:t.select},{[`&.${eu.select}`]:t[n.variant]},{[`&.${eu.error}`]:t.error},{[`&.${eu.multiple}`]:t.multiple}]}})(Aj,{[`&.${eu.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),lO=Pe("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${Ge(n.variant)}`],n.open&&t.iconOpen]}})(cj),AO=Pe("input",{shouldForwardProp:e=>x4(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Kw(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function cO(e){return e==null||typeof e=="string"&&!e.trim()}const dO=e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:a,error:o}=e,l={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${Ge(n)}`,a&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return yt(l,iO,t)},uO=b.forwardRef(function(t,n){var r;const{"aria-describedby":i,"aria-label":a,autoFocus:o,autoWidth:l,children:A,className:c,defaultOpen:d,defaultValue:u,disabled:p,displayEmpty:h,error:m=!1,IconComponent:g,inputRef:y,labelId:x,MenuProps:C={},multiple:S,name:w,onBlur:_,onChange:E,onClose:T,onFocus:F,onOpen:M,open:P,readOnly:I,renderValue:j,SelectDisplayProps:U={},tabIndex:N,value:z,variant:L="standard"}=t,D=Ye(t,aO),[K,q]=ja({controlled:z,default:u,name:"Select"}),[Z,Ae]=ja({controlled:P,default:d,name:"Select"}),H=b.useRef(null),R=b.useRef(null),[Q,$]=b.useState(null),{current:V}=b.useRef(P!=null),[G,ie]=b.useState(),ne=ar(n,y),xe=b.useCallback(de=>{R.current=de,de&&$(de)},[]),re=Q==null?void 0:Q.parentNode;b.useImperativeHandle(ne,()=>({focus:()=>{R.current.focus()},node:H.current,value:K}),[K]),b.useEffect(()=>{d&&Z&&Q&&!V&&(ie(l?null:re.clientWidth),R.current.focus())},[Q,l]),b.useEffect(()=>{o&&R.current.focus()},[o]),b.useEffect(()=>{if(!x)return;const de=zr(R.current).getElementById(x);if(de){const Ue=()=>{getSelection().isCollapsed&&R.current.focus()};return de.addEventListener("click",Ue),()=>{de.removeEventListener("click",Ue)}}},[x]);const ge=(de,Ue)=>{de?M&&M(Ue):T&&T(Ue),V||(ie(l?null:re.clientWidth),Ae(de))},le=de=>{de.button===0&&(de.preventDefault(),R.current.focus(),ge(!0,de))},be=de=>{ge(!1,de)},ue=b.Children.toArray(A),ae=de=>{const Ue=ue.find(ve=>ve.props.value===de.target.value);Ue!==void 0&&(q(Ue.props.value),E&&E(de,Ue))},He=de=>Ue=>{let ve;if(Ue.currentTarget.hasAttribute("tabindex")){if(S){ve=Array.isArray(K)?K.slice():[];const je=K.indexOf(de.props.value);je===-1?ve.push(de.props.value):ve.splice(je,1)}else ve=de.props.value;if(de.props.onClick&&de.props.onClick(Ue),K!==ve&&(q(ve),E)){const je=Ue.nativeEvent||Ue,pe=new je.constructor(je.type,je);Object.defineProperty(pe,"target",{writable:!0,value:{value:ve,name:w}}),E(pe,de)}S||ge(!1,Ue)}},we=de=>{I||[" ","ArrowUp","ArrowDown","Enter"].indexOf(de.key)!==-1&&(de.preventDefault(),ge(!0,de))},me=Q!==null&&Z,Ie=de=>{!me&&_&&(Object.defineProperty(de,"target",{writable:!0,value:{value:K,name:w}}),_(de))};delete D["aria-invalid"];let Te,Oe;const qe=[];let nt=!1;(cg({value:K})||h)&&(j?Te=j(K):nt=!0);const ht=ue.map(de=>{if(!b.isValidElement(de))return null;let Ue;if(S){if(!Array.isArray(K))throw new Error(so(2));Ue=K.some(ve=>Kw(ve,de.props.value)),Ue&&nt&&qe.push(de.props.children)}else Ue=Kw(K,de.props.value),Ue&&nt&&(Oe=de.props.children);return b.cloneElement(de,{"aria-selected":Ue?"true":"false",onClick:He(de),onKeyUp:ve=>{ve.key===" "&&ve.preventDefault(),de.props.onKeyUp&&de.props.onKeyUp(ve)},role:"option",selected:Ue,value:void 0,"data-value":de.props.value})});nt&&(S?qe.length===0?Te=null:Te=qe.reduce((de,Ue,ve)=>(de.push(Ue),ve<qe.length-1&&de.push(", "),de),[]):Te=Oe);let rt=G;!l&&V&&Q&&(rt=re.clientWidth);let ot;typeof N<"u"?ot=N:ot=p?null:0;const At=U.id||(w?`mui-component-select-${w}`:void 0),We=W({},t,{variant:L,value:K,open:me,error:m}),jt=dO(We),ye=W({},C.PaperProps,(r=C.slotProps)==null?void 0:r.paper),fe=nd();return s.jsxs(b.Fragment,{children:[s.jsx(oO,W({ref:xe,tabIndex:ot,role:"combobox","aria-controls":fe,"aria-disabled":p?"true":void 0,"aria-expanded":me?"true":"false","aria-haspopup":"listbox","aria-label":a,"aria-labelledby":[x,At].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:we,onMouseDown:p||I?null:le,onBlur:Ie,onFocus:F},U,{ownerState:We,className:Je(U.className,jt.select,c),id:At,children:cO(Te)?Ww||(Ww=s.jsx("span",{className:"notranslate",children:"​"})):Te})),s.jsx(AO,W({"aria-invalid":m,value:Array.isArray(K)?K.join(","):K,name:w,ref:H,"aria-hidden":!0,onChange:ae,tabIndex:-1,disabled:p,className:jt.nativeInput,autoFocus:o,ownerState:We},D)),s.jsx(lO,{as:g,className:jt.icon,ownerState:We}),s.jsx(PH,W({id:`menu-${w||""}`,anchorEl:re,open:me,onClose:be,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},C,{MenuListProps:W({"aria-labelledby":x,role:"listbox","aria-multiselectable":S?"true":void 0,disableListWrap:!0,id:fe},C.MenuListProps),slotProps:W({},C.slotProps,{paper:W({},ye,{style:W({minWidth:rt},ye!=null?ye.style:null)})}),children:ht}))]})}),hO=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],fO=["root"],pO=e=>{const{classes:t}=e;return t},Ix={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>Xs(e)&&e!=="variant",slot:"Root"},gO=Pe(Sx,Ix)(""),mO=Pe(Ex,Ix)(""),vO=Pe(Bx,Ix)(""),co=b.forwardRef(function(t,n){const r=_t({name:"MuiSelect",props:t}),{autoWidth:i=!1,children:a,classes:o={},className:l,defaultOpen:A=!1,displayEmpty:c=!1,IconComponent:d=WP,id:u,input:p,inputProps:h,label:m,labelId:g,MenuProps:y,multiple:x=!1,native:C=!1,onClose:S,onOpen:w,open:_,renderValue:E,SelectDisplayProps:T,variant:F="outlined"}=r,M=Ye(r,hO),P=C?qH:uO,I=Fa(),j=hl({props:r,muiFormControl:I,states:["variant","error"]}),U=j.variant||F,N=W({},r,{variant:U,classes:o}),z=pO(N),L=Ye(z,fO),D=p||{standard:s.jsx(gO,{ownerState:N}),outlined:s.jsx(mO,{label:m,ownerState:N}),filled:s.jsx(vO,{ownerState:N})}[U],K=ar(n,aA(D));return s.jsx(b.Fragment,{children:b.cloneElement(D,W({inputComponent:P,inputProps:W({children:a,error:j.error,IconComponent:d,variant:U,type:void 0,multiple:x},C?{id:u}:{autoWidth:i,defaultOpen:A,displayEmpty:c,labelId:g,MenuProps:y,onClose:S,onOpen:w,open:_,renderValue:E,SelectDisplayProps:W({id:u},T)},h,{classes:h?Us(L,h.classes):L},p?p.props.inputProps:{})},(x&&C||c)&&U==="outlined"?{notched:!0}:{},{ref:K,className:Je(D.props.className,l,z.root)},!p&&{variant:U},M))})});co.muiName="Select";function yO(e={}){const{autoHideDuration:t=null,disableWindowBlurListener:n=!1,onClose:r,open:i,resumeHideDuration:a}=e,o=Oo();b.useEffect(()=>{if(!i)return;function x(C){C.defaultPrevented||(C.key==="Escape"||C.key==="Esc")&&(r==null||r(C,"escapeKeyDown"))}return document.addEventListener("keydown",x),()=>{document.removeEventListener("keydown",x)}},[i,r]);const l=sn((x,C)=>{r==null||r(x,C)}),A=sn(x=>{!r||x==null||o.start(x,()=>{l(null,"timeout")})});b.useEffect(()=>(i&&A(t),o.clear),[i,t,A,o]);const c=x=>{r==null||r(x,"clickaway")},d=o.clear,u=b.useCallback(()=>{t!=null&&A(a??t*.5)},[t,a,A]),p=x=>C=>{const S=x.onBlur;S==null||S(C),u()},h=x=>C=>{const S=x.onFocus;S==null||S(C),d()},m=x=>C=>{const S=x.onMouseEnter;S==null||S(C),d()},g=x=>C=>{const S=x.onMouseLeave;S==null||S(C),u()};return b.useEffect(()=>{if(!n&&i)return window.addEventListener("focus",u),window.addEventListener("blur",d),()=>{window.removeEventListener("focus",u),window.removeEventListener("blur",d)}},[n,i,u,d]),{getRootProps:(x={})=>{const C=W({},Gp(e),Gp(x));return W({role:"presentation"},x,C,{onBlur:p(C),onFocus:h(C),onMouseEnter:m(C),onMouseLeave:g(C)})},onClickAway:c}}function xO(e){return gt("MuiSnackbarContent",e)}mt("MuiSnackbarContent",["root","message","action"]);const bO=["action","className","message","role"],wO=e=>{const{classes:t}=e;return yt({root:["root"],action:["action"],message:["message"]},xO,t)},CO=Pe($n,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>{const t=e.palette.mode==="light"?.8:.98,n=_T(e.palette.background.default,t);return W({},e.typography.body2,{color:e.vars?e.vars.palette.SnackbarContent.color:e.palette.getContrastText(n),backgroundColor:e.vars?e.vars.palette.SnackbarContent.bg:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,flexGrow:1,[e.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),BO=Pe("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0"}),SO=Pe("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),jO=b.forwardRef(function(t,n){const r=_t({props:t,name:"MuiSnackbarContent"}),{action:i,className:a,message:o,role:l="alert"}=r,A=Ye(r,bO),c=r,d=wO(c);return s.jsxs(CO,W({role:l,square:!0,elevation:6,className:Je(d.root,a),ownerState:c,ref:n},A,{children:[s.jsx(BO,{className:d.message,ownerState:c,children:o}),i?s.jsx(SO,{className:d.action,ownerState:c,children:i}):null]}))});function kO(e){return gt("MuiSnackbar",e)}mt("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const EO=["onEnter","onExited"],IO=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],FO=e=>{const{classes:t,anchorOrigin:n}=e,r={root:["root",`anchorOrigin${Ge(n.vertical)}${Ge(n.horizontal)}`]};return yt(r,kO,t)},Vw=Pe("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`anchorOrigin${Ge(n.anchorOrigin.vertical)}${Ge(n.anchorOrigin.horizontal)}`]]}})(({theme:e,ownerState:t})=>{const n={left:"50%",right:"auto",transform:"translateX(-50%)"};return W({zIndex:(e.vars||e).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},t.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},t.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},t.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[e.breakpoints.up("sm")]:W({},t.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},t.anchorOrigin.horizontal==="center"&&n,t.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},t.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),dj=b.forwardRef(function(t,n){const r=_t({props:t,name:"MuiSnackbar"}),i=Hi(),a={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{action:o,anchorOrigin:{vertical:l,horizontal:A}={vertical:"bottom",horizontal:"left"},autoHideDuration:c=null,children:d,className:u,ClickAwayListenerProps:p,ContentProps:h,disableWindowBlurListener:m=!1,message:g,open:y,TransitionComponent:x=th,transitionDuration:C=a,TransitionProps:{onEnter:S,onExited:w}={}}=r,_=Ye(r.TransitionProps,EO),E=Ye(r,IO),T=W({},r,{anchorOrigin:{vertical:l,horizontal:A},autoHideDuration:c,disableWindowBlurListener:m,TransitionComponent:x,transitionDuration:C}),F=FO(T),{getRootProps:M,onClickAway:P}=yO(W({},T)),[I,j]=b.useState(!0),U=_i({elementType:Vw,getSlotProps:M,externalForwardedProps:E,ownerState:T,additionalProps:{ref:n},className:[F.root,u]}),N=L=>{j(!0),w&&w(L)},z=(L,D)=>{j(!1),S&&S(L,D)};return!y&&I?null:s.jsx(WQ,W({onClickAway:P},p,{children:s.jsx(Vw,W({},U,{children:s.jsx(x,W({appear:!0,in:y,timeout:C,direction:l==="top"?"down":"up",onEnter:z,onExited:N},_,{children:d||s.jsx(jO,W({message:g,action:o},h))}))}))}))});function NO(e){return gt("MuiTooltip",e)}const $o=mt("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),TO=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function _O(e){return Math.round(e*1e5)/1e5}const DO=e=>{const{classes:t,disableInteractive:n,arrow:r,touch:i,placement:a}=e,o={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${Ge(a.split("-")[0])}`],arrow:["arrow"]};return yt(o,NO,t)},UO=Pe(XS,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})(({theme:e,ownerState:t,open:n})=>W({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none"},!t.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},t.arrow&&{[`&[data-popper-placement*="bottom"] .${$o.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${$o.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${$o.arrow}`]:W({},t.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${$o.arrow}`]:W({},t.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),LO=Pe("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t[`tooltipPlacement${Ge(n.placement.split("-")[0])}`]]}})(({theme:e,ownerState:t})=>W({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:fn(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},t.arrow&&{position:"relative",margin:0},t.touch&&{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${_O(16/14)}em`,fontWeight:e.typography.fontWeightRegular},{[`.${$o.popper}[data-popper-placement*="left"] &`]:W({transformOrigin:"right center"},t.isRtl?W({marginLeft:"14px"},t.touch&&{marginLeft:"24px"}):W({marginRight:"14px"},t.touch&&{marginRight:"24px"})),[`.${$o.popper}[data-popper-placement*="right"] &`]:W({transformOrigin:"left center"},t.isRtl?W({marginRight:"14px"},t.touch&&{marginRight:"24px"}):W({marginLeft:"14px"},t.touch&&{marginLeft:"24px"})),[`.${$o.popper}[data-popper-placement*="top"] &`]:W({transformOrigin:"center bottom",marginBottom:"14px"},t.touch&&{marginBottom:"24px"}),[`.${$o.popper}[data-popper-placement*="bottom"] &`]:W({transformOrigin:"center top",marginTop:"14px"},t.touch&&{marginTop:"24px"})})),MO=Pe("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:fn(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let Qf=!1;const Gw=new yh;let tu={x:0,y:0};function Rf(e,t){return(n,...r)=>{t&&t(n,...r),e(n,...r)}}const qw=b.forwardRef(function(t,n){var r,i,a,o,l,A,c,d,u,p,h,m,g,y,x,C,S,w,_;const E=_t({props:t,name:"MuiTooltip"}),{arrow:T=!1,children:F,components:M={},componentsProps:P={},describeChild:I=!1,disableFocusListener:j=!1,disableHoverListener:U=!1,disableInteractive:N=!1,disableTouchListener:z=!1,enterDelay:L=100,enterNextDelay:D=0,enterTouchDelay:K=700,followCursor:q=!1,id:Z,leaveDelay:Ae=0,leaveTouchDelay:H=1500,onClose:R,onOpen:Q,open:$,placement:V="bottom",PopperComponent:G,PopperProps:ie={},slotProps:ne={},slots:xe={},title:re,TransitionComponent:ge=th,TransitionProps:le}=E,be=Ye(E,TO),ue=b.isValidElement(F)?F:s.jsx("span",{children:F}),ae=Hi(),He=xh(),[we,me]=b.useState(),[Ie,Te]=b.useState(null),Oe=b.useRef(!1),qe=N||q,nt=Oo(),ht=Oo(),rt=Oo(),ot=Oo(),[At,We]=ja({controlled:$,default:!1,name:"Tooltip",state:"open"});let jt=At;const ye=nd(Z),fe=b.useRef(),de=sn(()=>{fe.current!==void 0&&(document.body.style.WebkitUserSelect=fe.current,fe.current=void 0),ot.clear()});b.useEffect(()=>de,[de]);const Ue=zt=>{Gw.clear(),Qf=!0,We(!0),Q&&!jt&&Q(zt)},ve=sn(zt=>{Gw.start(800+Ae,()=>{Qf=!1}),We(!1),R&&jt&&R(zt),nt.start(ae.transitions.duration.shortest,()=>{Oe.current=!1})}),je=zt=>{Oe.current&&zt.type!=="touchstart"||(we&&we.removeAttribute("title"),ht.clear(),rt.clear(),L||Qf&&D?ht.start(Qf?D:L,()=>{Ue(zt)}):Ue(zt))},pe=zt=>{ht.clear(),rt.start(Ae,()=>{ve(zt)})},{isFocusVisibleRef:Ee,onBlur:Ze,onFocus:ze,ref:dt}=Z5(),[,lt]=b.useState(!1),Ve=zt=>{Ze(zt),Ee.current===!1&&(lt(!1),pe(zt))},De=zt=>{we||me(zt.currentTarget),ze(zt),Ee.current===!0&&(lt(!0),je(zt))},Qe=zt=>{Oe.current=!0;const dr=ue.props;dr.onTouchStart&&dr.onTouchStart(zt)},it=zt=>{Qe(zt),rt.clear(),nt.clear(),de(),fe.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",ot.start(K,()=>{document.body.style.WebkitUserSelect=fe.current,je(zt)})},ct=zt=>{ue.props.onTouchEnd&&ue.props.onTouchEnd(zt),de(),rt.start(H,()=>{ve(zt)})};b.useEffect(()=>{if(!jt)return;function zt(dr){(dr.key==="Escape"||dr.key==="Esc")&&ve(dr)}return document.addEventListener("keydown",zt),()=>{document.removeEventListener("keydown",zt)}},[ve,jt]);const Gt=ar(aA(ue),dt,me,n);!re&&re!==0&&(jt=!1);const Ht=b.useRef(),St=zt=>{const dr=ue.props;dr.onMouseMove&&dr.onMouseMove(zt),tu={x:zt.clientX,y:zt.clientY},Ht.current&&Ht.current.update()},Pn={},Mt=typeof re=="string";I?(Pn.title=!jt&&Mt&&!U?re:null,Pn["aria-describedby"]=jt?ye:null):(Pn["aria-label"]=Mt?re:null,Pn["aria-labelledby"]=jt&&!Mt?ye:null);const gn=W({},Pn,be,ue.props,{className:Je(be.className,ue.props.className),onTouchStart:Qe,ref:Gt},q?{onMouseMove:St}:{}),Nn={};z||(gn.onTouchStart=it,gn.onTouchEnd=ct),U||(gn.onMouseOver=Rf(je,gn.onMouseOver),gn.onMouseLeave=Rf(pe,gn.onMouseLeave),qe||(Nn.onMouseOver=je,Nn.onMouseLeave=pe)),j||(gn.onFocus=Rf(De,gn.onFocus),gn.onBlur=Rf(Ve,gn.onBlur),qe||(Nn.onFocus=De,Nn.onBlur=Ve));const Kn=b.useMemo(()=>{var zt;let dr=[{name:"arrow",enabled:!!Ie,options:{element:Ie,padding:4}}];return(zt=ie.popperOptions)!=null&&zt.modifiers&&(dr=dr.concat(ie.popperOptions.modifiers)),W({},ie.popperOptions,{modifiers:dr})},[Ie,ie]),wr=W({},E,{isRtl:He,arrow:T,disableInteractive:qe,placement:V,PopperComponentProp:G,touch:Oe.current}),fi=DO(wr),Ps=(r=(i=xe.popper)!=null?i:M.Popper)!=null?r:UO,is=(a=(o=(l=xe.transition)!=null?l:M.Transition)!=null?o:ge)!=null?a:th,as=(A=(c=xe.tooltip)!=null?c:M.Tooltip)!=null?A:LO,tr=(d=(u=xe.arrow)!=null?u:M.Arrow)!=null?d:MO,Qs=Ac(Ps,W({},ie,(p=ne.popper)!=null?p:P.popper,{className:Je(fi.popper,ie==null?void 0:ie.className,(h=(m=ne.popper)!=null?m:P.popper)==null?void 0:h.className)}),wr),Sn=Ac(is,W({},le,(g=ne.transition)!=null?g:P.transition),wr),Yt=Ac(as,W({},(y=ne.tooltip)!=null?y:P.tooltip,{className:Je(fi.tooltip,(x=(C=ne.tooltip)!=null?C:P.tooltip)==null?void 0:x.className)}),wr),Kr=Ac(tr,W({},(S=ne.arrow)!=null?S:P.arrow,{className:Je(fi.arrow,(w=(_=ne.arrow)!=null?_:P.arrow)==null?void 0:w.className)}),wr);return s.jsxs(b.Fragment,{children:[b.cloneElement(ue,gn),s.jsx(Ps,W({as:G??XS,placement:V,anchorEl:q?{getBoundingClientRect:()=>({top:tu.y,left:tu.x,right:tu.x,bottom:tu.y,width:0,height:0})}:we,popperRef:Ht,open:we?jt:!1,id:ye,transition:!0},Nn,Qs,{popperOptions:Kn,children:({TransitionProps:zt})=>s.jsx(is,W({timeout:ae.transitions.duration.shorter},zt,Sn,{children:s.jsxs(as,W({},Yt,{children:[re,T?s.jsx(tr,W({},Kr,{ref:Te})):null]}))}))}))]})}),Th=b.createContext({}),Em=b.createContext({});function PO(e){return gt("MuiStep",e)}mt("MuiStep",["root","horizontal","vertical","alternativeLabel","completed"]);const QO=["active","children","className","component","completed","disabled","expanded","index","last"],RO=e=>{const{classes:t,orientation:n,alternativeLabel:r,completed:i}=e;return yt({root:["root",n,r&&"alternativeLabel",i&&"completed"]},PO,t)},HO=Pe("div",{name:"MuiStep",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.alternativeLabel&&t.alternativeLabel,n.completed&&t.completed]}})(({ownerState:e})=>W({},e.orientation==="horizontal"&&{paddingLeft:8,paddingRight:8},e.alternativeLabel&&{flex:1,position:"relative"})),iv=b.forwardRef(function(t,n){const r=_t({props:t,name:"MuiStep"}),{active:i,children:a,className:o,component:l="div",completed:A,disabled:c,expanded:d=!1,index:u,last:p}=r,h=Ye(r,QO),{activeStep:m,connector:g,alternativeLabel:y,orientation:x,nonLinear:C}=b.useContext(Th);let[S=!1,w=!1,_=!1]=[i,A,c];m===u?S=i!==void 0?i:!0:!C&&m>u?w=A!==void 0?A:!0:!C&&m<u&&(_=c!==void 0?c:!0);const E=b.useMemo(()=>({index:u,last:p,expanded:d,icon:u+1,active:S,completed:w,disabled:_}),[u,p,d,S,w,_]),T=W({},r,{active:S,orientation:x,alternativeLabel:y,completed:w,disabled:_,expanded:d,component:l}),F=RO(T),M=s.jsxs(HO,W({as:l,className:Je(F.root,o),ref:n,ownerState:T},h,{children:[g&&y&&u!==0?g:null,a]}));return s.jsx(Em.Provider,{value:E,children:g&&!y&&u!==0?s.jsxs(b.Fragment,{children:[g,M]}):M})}),OO=ut(s.jsx("path",{d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"}),"CheckCircle"),$O=ut(s.jsx("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning");function zO(e){return gt("MuiStepIcon",e)}const av=mt("MuiStepIcon",["root","active","completed","error","text"]);var Yw;const WO=["active","className","completed","error","icon"],KO=e=>{const{classes:t,active:n,completed:r,error:i}=e;return yt({root:["root",n&&"active",r&&"completed",i&&"error"],text:["text"]},zO,t)},ov=Pe(ag,{name:"MuiStepIcon",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({display:"block",transition:e.transitions.create("color",{duration:e.transitions.duration.shortest}),color:(e.vars||e).palette.text.disabled,[`&.${av.completed}`]:{color:(e.vars||e).palette.primary.main},[`&.${av.active}`]:{color:(e.vars||e).palette.primary.main},[`&.${av.error}`]:{color:(e.vars||e).palette.error.main}})),VO=Pe("text",{name:"MuiStepIcon",slot:"Text",overridesResolver:(e,t)=>t.text})(({theme:e})=>({fill:(e.vars||e).palette.primary.contrastText,fontSize:e.typography.caption.fontSize,fontFamily:e.typography.fontFamily})),GO=b.forwardRef(function(t,n){const r=_t({props:t,name:"MuiStepIcon"}),{active:i=!1,className:a,completed:o=!1,error:l=!1,icon:A}=r,c=Ye(r,WO),d=W({},r,{active:i,completed:o,error:l}),u=KO(d);if(typeof A=="number"||typeof A=="string"){const p=Je(a,u.root);return l?s.jsx(ov,W({as:$O,className:p,ref:n,ownerState:d},c)):o?s.jsx(ov,W({as:OO,className:p,ref:n,ownerState:d},c)):s.jsxs(ov,W({className:p,ref:n,ownerState:d},c,{children:[Yw||(Yw=s.jsx("circle",{cx:"12",cy:"12",r:"12"})),s.jsx(VO,{className:u.text,x:"12",y:"12",textAnchor:"middle",dominantBaseline:"central",ownerState:d,children:A})]}))}return A});function qO(e){return gt("MuiStepLabel",e)}const zo=mt("MuiStepLabel",["root","horizontal","vertical","label","active","completed","error","disabled","iconContainer","alternativeLabel","labelContainer"]),YO=["children","className","componentsProps","error","icon","optional","slotProps","StepIconComponent","StepIconProps"],XO=e=>{const{classes:t,orientation:n,active:r,completed:i,error:a,disabled:o,alternativeLabel:l}=e;return yt({root:["root",n,a&&"error",o&&"disabled",l&&"alternativeLabel"],label:["label",r&&"active",i&&"completed",a&&"error",o&&"disabled",l&&"alternativeLabel"],iconContainer:["iconContainer",r&&"active",i&&"completed",a&&"error",o&&"disabled",l&&"alternativeLabel"],labelContainer:["labelContainer",l&&"alternativeLabel"]},qO,t)},JO=Pe("span",{name:"MuiStepLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation]]}})(({ownerState:e})=>W({display:"flex",alignItems:"center",[`&.${zo.alternativeLabel}`]:{flexDirection:"column"},[`&.${zo.disabled}`]:{cursor:"default"}},e.orientation==="vertical"&&{textAlign:"left",padding:"8px 0"})),ZO=Pe("span",{name:"MuiStepLabel",slot:"Label",overridesResolver:(e,t)=>t.label})(({theme:e})=>W({},e.typography.body2,{display:"block",transition:e.transitions.create("color",{duration:e.transitions.duration.shortest}),[`&.${zo.active}`]:{color:(e.vars||e).palette.text.primary,fontWeight:500},[`&.${zo.completed}`]:{color:(e.vars||e).palette.text.primary,fontWeight:500},[`&.${zo.alternativeLabel}`]:{marginTop:16},[`&.${zo.error}`]:{color:(e.vars||e).palette.error.main}})),e7=Pe("span",{name:"MuiStepLabel",slot:"IconContainer",overridesResolver:(e,t)=>t.iconContainer})(()=>({flexShrink:0,display:"flex",paddingRight:8,[`&.${zo.alternativeLabel}`]:{paddingRight:0}})),t7=Pe("span",{name:"MuiStepLabel",slot:"LabelContainer",overridesResolver:(e,t)=>t.labelContainer})(({theme:e})=>({width:"100%",color:(e.vars||e).palette.text.secondary,[`&.${zo.alternativeLabel}`]:{textAlign:"center"}})),_p=b.forwardRef(function(t,n){var r;const i=_t({props:t,name:"MuiStepLabel"}),{children:a,className:o,componentsProps:l={},error:A=!1,icon:c,optional:d,slotProps:u={},StepIconComponent:p,StepIconProps:h}=i,m=Ye(i,YO),{alternativeLabel:g,orientation:y}=b.useContext(Th),{active:x,disabled:C,completed:S,icon:w}=b.useContext(Em),_=c||w;let E=p;_&&!E&&(E=GO);const T=W({},i,{active:x,alternativeLabel:g,completed:S,disabled:C,error:A,orientation:y}),F=XO(T),M=(r=u.label)!=null?r:l.label;return s.jsxs(JO,W({className:Je(F.root,o),ref:n,ownerState:T},m,{children:[_||E?s.jsx(e7,{className:F.iconContainer,ownerState:T,children:s.jsx(E,W({completed:S,active:x,error:A,icon:_},h))}):null,s.jsxs(t7,{className:F.labelContainer,ownerState:T,children:[a?s.jsx(ZO,W({ownerState:T},M,{className:Je(F.label,M==null?void 0:M.className),children:a})):null,d]})]}))});_p.muiName="StepLabel";function n7(e){return gt("MuiStepConnector",e)}mt("MuiStepConnector",["root","horizontal","vertical","alternativeLabel","active","completed","disabled","line","lineHorizontal","lineVertical"]);const r7=["className"],s7=e=>{const{classes:t,orientation:n,alternativeLabel:r,active:i,completed:a,disabled:o}=e,l={root:["root",n,r&&"alternativeLabel",i&&"active",a&&"completed",o&&"disabled"],line:["line",`line${Ge(n)}`]};return yt(l,n7,t)},i7=Pe("div",{name:"MuiStepConnector",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.alternativeLabel&&t.alternativeLabel,n.completed&&t.completed]}})(({ownerState:e})=>W({flex:"1 1 auto"},e.orientation==="vertical"&&{marginLeft:12},e.alternativeLabel&&{position:"absolute",top:12,left:"calc(-50% + 20px)",right:"calc(50% + 20px)"})),a7=Pe("span",{name:"MuiStepConnector",slot:"Line",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.line,t[`line${Ge(n.orientation)}`]]}})(({ownerState:e,theme:t})=>{const n=t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[600];return W({display:"block",borderColor:t.vars?t.vars.palette.StepConnector.border:n},e.orientation==="horizontal"&&{borderTopStyle:"solid",borderTopWidth:1},e.orientation==="vertical"&&{borderLeftStyle:"solid",borderLeftWidth:1,minHeight:24})}),o7=b.forwardRef(function(t,n){const r=_t({props:t,name:"MuiStepConnector"}),{className:i}=r,a=Ye(r,r7),{alternativeLabel:o,orientation:l="horizontal"}=b.useContext(Th),{active:A,disabled:c,completed:d}=b.useContext(Em),u=W({},r,{alternativeLabel:o,orientation:l,active:A,completed:d,disabled:c}),p=s7(u);return s.jsx(i7,W({className:Je(p.root,i),ref:n,ownerState:u},a,{children:s.jsx(a7,{className:p.line,ownerState:u})}))});function l7(e){return gt("MuiStepContent",e)}mt("MuiStepContent",["root","last","transition"]);const A7=["children","className","TransitionComponent","transitionDuration","TransitionProps"],c7=e=>{const{classes:t,last:n}=e;return yt({root:["root",n&&"last"],transition:["transition"]},l7,t)},d7=Pe("div",{name:"MuiStepContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.last&&t.last]}})(({ownerState:e,theme:t})=>W({marginLeft:12,paddingLeft:20,paddingRight:8,borderLeft:t.vars?`1px solid ${t.vars.palette.StepContent.border}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[600]}`},e.last&&{borderLeft:"none"})),u7=Pe(fx,{name:"MuiStepContent",slot:"Transition",overridesResolver:(e,t)=>t.transition})({}),lv=b.forwardRef(function(t,n){const r=_t({props:t,name:"MuiStepContent"}),{children:i,className:a,TransitionComponent:o=fx,transitionDuration:l="auto",TransitionProps:A}=r,c=Ye(r,A7),{orientation:d}=b.useContext(Th),{active:u,last:p,expanded:h}=b.useContext(Em),m=W({},r,{last:p}),g=c7(m);let y=l;return l==="auto"&&!o.muiSupportAuto&&(y=void 0),s.jsx(d7,W({className:Je(g.root,a),ref:n,ownerState:m},c,{children:s.jsx(u7,W({as:o,in:u||h,className:g.transition,ownerState:m,timeout:y,unmountOnExit:!0},A,{children:i}))}))});function h7(e){return gt("MuiStepper",e)}mt("MuiStepper",["root","horizontal","vertical","nonLinear","alternativeLabel"]);const f7=["activeStep","alternativeLabel","children","className","component","connector","nonLinear","orientation"],p7=e=>{const{orientation:t,nonLinear:n,alternativeLabel:r,classes:i}=e;return yt({root:["root",t,n&&"nonLinear",r&&"alternativeLabel"]},h7,i)},g7=Pe("div",{name:"MuiStepper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.alternativeLabel&&t.alternativeLabel,n.nonLinear&&t.nonLinear]}})(({ownerState:e})=>W({display:"flex"},e.orientation==="horizontal"&&{flexDirection:"row",alignItems:"center"},e.orientation==="vertical"&&{flexDirection:"column"},e.alternativeLabel&&{alignItems:"flex-start"})),m7=s.jsx(o7,{}),v7=b.forwardRef(function(t,n){const r=_t({props:t,name:"MuiStepper"}),{activeStep:i=0,alternativeLabel:a=!1,children:o,className:l,component:A="div",connector:c=m7,nonLinear:d=!1,orientation:u="horizontal"}=r,p=Ye(r,f7),h=W({},r,{nonLinear:d,alternativeLabel:a,orientation:u,component:A}),m=p7(h),g=b.Children.toArray(o).filter(Boolean),y=g.map((C,S)=>b.cloneElement(C,W({index:S,last:S+1===g.length},C.props))),x=b.useMemo(()=>({activeStep:i,alternativeLabel:a,connector:c,nonLinear:d,orientation:u}),[i,a,c,d,u]);return s.jsx(Th.Provider,{value:x,children:s.jsx(g7,W({as:A,ownerState:h,className:Je(m.root,l),ref:n},p,{children:y}))})});function y7(e){return gt("MuiSwitch",e)}const _s=mt("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),x7=["className","color","edge","size","sx"],b7=e=>{const{classes:t,edge:n,size:r,color:i,checked:a,disabled:o}=e,l={root:["root",n&&`edge${Ge(n)}`,`size${Ge(r)}`],switchBase:["switchBase",`color${Ge(i)}`,a&&"checked",o&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},A=yt(l,y7,t);return W({},t,A)},w7=Pe("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.edge&&t[`edge${Ge(n.edge)}`],t[`size${Ge(n.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${_s.thumb}`]:{width:16,height:16},[`& .${_s.switchBase}`]:{padding:4,[`&.${_s.checked}`]:{transform:"translateX(16px)"}}}}]}),C7=Pe(ej,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.switchBase,{[`& .${_s.input}`]:t.input},n.color!=="default"&&t[`color${Ge(n.color)}`]]}})(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${_s.checked}`]:{transform:"translateX(20px)"},[`&.${_s.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${_s.checked} + .${_s.track}`]:{opacity:.5},[`&.${_s.disabled} + .${_s.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${_s.input}`]:{left:"-100%",width:"300%"}}),({theme:e})=>({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:fn(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(e.palette).filter(([,t])=>t.main&&t.light).map(([t])=>({props:{color:t},style:{[`&.${_s.checked}`]:{color:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:fn(e.palette[t].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${_s.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t}DisabledColor`]:`${e.palette.mode==="light"?Lc(e.palette[t].main,.62):Uc(e.palette[t].main,.55)}`}},[`&.${_s.checked} + .${_s.track}`]:{backgroundColor:(e.vars||e).palette[t].main}}}))]})),B7=Pe("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`})),S7=Pe("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),si=b.forwardRef(function(t,n){const r=_t({props:t,name:"MuiSwitch"}),{className:i,color:a="primary",edge:o=!1,size:l="medium",sx:A}=r,c=Ye(r,x7),d=W({},r,{color:a,edge:o,size:l}),u=b7(d),p=s.jsx(S7,{className:u.thumb,ownerState:d});return s.jsxs(w7,{className:Je(u.root,i),sx:A,ownerState:d,children:[s.jsx(C7,W({type:"checkbox",icon:p,checkedIcon:p,ref:n,ownerState:d},c,{classes:W({},u,{root:u.switchBase})})),s.jsx(B7,{className:u.track,ownerState:d})]})});function j7(e){return gt("MuiTab",e)}const Do=mt("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),k7=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],E7=e=>{const{classes:t,textColor:n,fullWidth:r,wrapped:i,icon:a,label:o,selected:l,disabled:A}=e,c={root:["root",a&&o&&"labelIcon",`textColor${Ge(n)}`,r&&"fullWidth",i&&"wrapped",l&&"selected",A&&"disabled"],iconWrapper:["iconWrapper"]};return yt(c,j7,t)},I7=Pe(ka,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.label&&n.icon&&t.labelIcon,t[`textColor${Ge(n.textColor)}`],n.fullWidth&&t.fullWidth,n.wrapped&&t.wrapped,{[`& .${Do.iconWrapper}`]:t.iconWrapper}]}})(({theme:e,ownerState:t})=>W({},e.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},t.label&&{flexDirection:t.iconPosition==="top"||t.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},t.icon&&t.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${Do.iconWrapper}`]:W({},t.iconPosition==="top"&&{marginBottom:6},t.iconPosition==="bottom"&&{marginTop:6},t.iconPosition==="start"&&{marginRight:e.spacing(1)},t.iconPosition==="end"&&{marginLeft:e.spacing(1)})},t.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${Do.selected}`]:{opacity:1},[`&.${Do.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.textColor==="primary"&&{color:(e.vars||e).palette.text.secondary,[`&.${Do.selected}`]:{color:(e.vars||e).palette.primary.main},[`&.${Do.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.textColor==="secondary"&&{color:(e.vars||e).palette.text.secondary,[`&.${Do.selected}`]:{color:(e.vars||e).palette.secondary.main},[`&.${Do.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},t.wrapped&&{fontSize:e.typography.pxToRem(12)})),nu=b.forwardRef(function(t,n){const r=_t({props:t,name:"MuiTab"}),{className:i,disabled:a=!1,disableFocusRipple:o=!1,fullWidth:l,icon:A,iconPosition:c="top",indicator:d,label:u,onChange:p,onClick:h,onFocus:m,selected:g,selectionFollowsFocus:y,textColor:x="inherit",value:C,wrapped:S=!1}=r,w=Ye(r,k7),_=W({},r,{disabled:a,disableFocusRipple:o,selected:g,icon:!!A,iconPosition:c,label:!!u,fullWidth:l,textColor:x,wrapped:S}),E=E7(_),T=A&&u&&b.isValidElement(A)?b.cloneElement(A,{className:Je(E.iconWrapper,A.props.className)}):A,F=P=>{!g&&p&&p(P,C),h&&h(P)},M=P=>{y&&!g&&p&&p(P,C),m&&m(P)};return s.jsxs(I7,W({focusRipple:!o,className:Je(E.root,i),ref:n,role:"tab","aria-selected":g,disabled:a,onClick:F,onFocus:M,ownerState:_,tabIndex:g?0:-1},w,{children:[c==="top"||c==="start"?s.jsxs(b.Fragment,{children:[T,u]}):s.jsxs(b.Fragment,{children:[u,T]}),d]}))}),uj=b.createContext();function F7(e){return gt("MuiTable",e)}mt("MuiTable",["root","stickyHeader"]);const N7=["className","component","padding","size","stickyHeader"],T7=e=>{const{classes:t,stickyHeader:n}=e;return yt({root:["root",n&&"stickyHeader"]},F7,t)},_7=Pe("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>W({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":W({},e.typography.body2,{padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},t.stickyHeader&&{borderCollapse:"separate"})),Xw="table",_h=b.forwardRef(function(t,n){const r=_t({props:t,name:"MuiTable"}),{className:i,component:a=Xw,padding:o="normal",size:l="medium",stickyHeader:A=!1}=r,c=Ye(r,N7),d=W({},r,{component:a,padding:o,size:l,stickyHeader:A}),u=T7(d),p=b.useMemo(()=>({padding:o,size:l,stickyHeader:A}),[o,l,A]);return s.jsx(uj.Provider,{value:p,children:s.jsx(_7,W({as:a,role:a===Xw?null:"table",ref:n,className:Je(u.root,i),ownerState:d},c))})}),Im=b.createContext();function D7(e){return gt("MuiTableBody",e)}mt("MuiTableBody",["root"]);const U7=["className","component"],L7=e=>{const{classes:t}=e;return yt({root:["root"]},D7,t)},M7=Pe("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),P7={variant:"body"},Jw="tbody",Dh=b.forwardRef(function(t,n){const r=_t({props:t,name:"MuiTableBody"}),{className:i,component:a=Jw}=r,o=Ye(r,U7),l=W({},r,{component:a}),A=L7(l);return s.jsx(Im.Provider,{value:P7,children:s.jsx(M7,W({className:Je(A.root,i),as:a,ref:n,role:a===Jw?null:"rowgroup",ownerState:l},o))})});function Q7(e){return gt("MuiTableCell",e)}const R7=mt("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),H7=["align","className","component","padding","scope","size","sortDirection","variant"],O7=e=>{const{classes:t,variant:n,align:r,padding:i,size:a,stickyHeader:o}=e,l={root:["root",n,o&&"stickyHeader",r!=="inherit"&&`align${Ge(r)}`,i!=="normal"&&`padding${Ge(i)}`,`size${Ge(a)}`]};return yt(l,Q7,t)},$7=Pe("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${Ge(n.size)}`],n.padding!=="normal"&&t[`padding${Ge(n.padding)}`],n.align!=="inherit"&&t[`align${Ge(n.align)}`],n.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>W({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?Lc(fn(e.palette.divider,1),.88):Uc(fn(e.palette.divider,1),.68)}`,textAlign:"left",padding:16},t.variant==="head"&&{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},t.variant==="body"&&{color:(e.vars||e).palette.text.primary},t.variant==="footer"&&{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},t.size==="small"&&{padding:"6px 16px",[`&.${R7.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},t.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},t.padding==="none"&&{padding:0},t.align==="left"&&{textAlign:"left"},t.align==="center"&&{textAlign:"center"},t.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},t.align==="justify"&&{textAlign:"justify"},t.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default})),Zt=b.forwardRef(function(t,n){const r=_t({props:t,name:"MuiTableCell"}),{align:i="inherit",className:a,component:o,padding:l,scope:A,size:c,sortDirection:d,variant:u}=r,p=Ye(r,H7),h=b.useContext(uj),m=b.useContext(Im),g=m&&m.variant==="head";let y;o?y=o:y=g?"th":"td";let x=A;y==="td"?x=void 0:!x&&g&&(x="col");const C=u||m&&m.variant,S=W({},r,{align:i,component:y,padding:l||(h&&h.padding?h.padding:"normal"),size:c||(h&&h.size?h.size:"medium"),sortDirection:d,stickyHeader:C==="head"&&h&&h.stickyHeader,variant:C}),w=O7(S);let _=null;return d&&(_=d==="asc"?"ascending":"descending"),s.jsx($7,W({as:y,ref:n,className:Je(w.root,a),"aria-sort":_,scope:x,ownerState:S},p))});function z7(e){return gt("MuiTableContainer",e)}mt("MuiTableContainer",["root"]);const W7=["className","component"],K7=e=>{const{classes:t}=e;return yt({root:["root"]},z7,t)},V7=Pe("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),Uh=b.forwardRef(function(t,n){const r=_t({props:t,name:"MuiTableContainer"}),{className:i,component:a="div"}=r,o=Ye(r,W7),l=W({},r,{component:a}),A=K7(l);return s.jsx(V7,W({ref:n,as:a,className:Je(A.root,i),ownerState:l},o))});function G7(e){return gt("MuiTableHead",e)}mt("MuiTableHead",["root"]);const q7=["className","component"],Y7=e=>{const{classes:t}=e;return yt({root:["root"]},G7,t)},X7=Pe("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),J7={variant:"head"},Zw="thead",Lh=b.forwardRef(function(t,n){const r=_t({props:t,name:"MuiTableHead"}),{className:i,component:a=Zw}=r,o=Ye(r,q7),l=W({},r,{component:a}),A=Y7(l);return s.jsx(Im.Provider,{value:J7,children:s.jsx(X7,W({as:a,className:Je(A.root,i),ref:n,role:a===Zw?null:"rowgroup",ownerState:l},o))})}),Z7=ut(s.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),e9=ut(s.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function t9(e){return gt("MuiTableRow",e)}const eC=mt("MuiTableRow",["root","selected","hover","head","footer"]),n9=["className","component","hover","selected"],r9=e=>{const{classes:t,selected:n,hover:r,head:i,footer:a}=e;return yt({root:["root",n&&"selected",r&&"hover",i&&"head",a&&"footer"]},t9,t)},s9=Pe("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.head&&t.head,n.footer&&t.footer]}})(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${eC.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${eC.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:fn(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:fn(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}})),tC="tr",Ia=b.forwardRef(function(t,n){const r=_t({props:t,name:"MuiTableRow"}),{className:i,component:a=tC,hover:o=!1,selected:l=!1}=r,A=Ye(r,n9),c=b.useContext(Im),d=W({},r,{component:a,hover:o,selected:l,head:c&&c.variant==="head",footer:c&&c.variant==="footer"}),u=r9(d);return s.jsx(s9,W({as:a,ref:n,className:Je(u.root,i),role:a===tC?null:"row",ownerState:d},A))});function i9(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function a9(e,t,n,r={},i=()=>{}){const{ease:a=i9,duration:o=300}=r;let l=null;const A=t[e];let c=!1;const d=()=>{c=!0},u=p=>{if(c){i(new Error("Animation cancelled"));return}l===null&&(l=p);const h=Math.min(1,(p-l)/o);if(t[e]=a(h)*(n-A)+A,h>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(u)};return A===n?(i(new Error("Element already at target position")),d):(requestAnimationFrame(u),d)}const o9=["onChange"],l9={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function A9(e){const{onChange:t}=e,n=Ye(e,o9),r=b.useRef(),i=b.useRef(null),a=()=>{r.current=i.current.offsetHeight-i.current.clientHeight};return Es(()=>{const o=um(()=>{const A=r.current;a(),A!==r.current&&t(r.current)}),l=io(i.current);return l.addEventListener("resize",o),()=>{o.clear(),l.removeEventListener("resize",o)}},[t]),b.useEffect(()=>{a(),t(r.current)},[t]),s.jsx("div",W({style:l9},n,{ref:i}))}function c9(e){return gt("MuiTabScrollButton",e)}const d9=mt("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),u9=["className","slots","slotProps","direction","orientation","disabled"],h9=e=>{const{classes:t,orientation:n,disabled:r}=e;return yt({root:["root",n,r&&"disabled"]},c9,t)},f9=Pe(ka,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.orientation&&t[n.orientation]]}})(({ownerState:e})=>W({width:40,flexShrink:0,opacity:.8,[`&.${d9.disabled}`]:{opacity:0}},e.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${e.isRtl?-90:90}deg)`}})),p9=b.forwardRef(function(t,n){var r,i;const a=_t({props:t,name:"MuiTabScrollButton"}),{className:o,slots:l={},slotProps:A={},direction:c}=a,d=Ye(a,u9),u=xh(),p=W({isRtl:u},a),h=h9(p),m=(r=l.StartScrollButtonIcon)!=null?r:Z7,g=(i=l.EndScrollButtonIcon)!=null?i:e9,y=_i({elementType:m,externalSlotProps:A.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:p}),x=_i({elementType:g,externalSlotProps:A.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:p});return s.jsx(f9,W({component:"div",className:Je(h.root,o),ref:n,role:null,ownerState:p,tabIndex:null},d,{children:c==="left"?s.jsx(m,W({},y)):s.jsx(g,W({},x))}))});function g9(e){return gt("MuiTabs",e)}const Av=mt("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),m9=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],nC=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,rC=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,Hf=(e,t,n)=>{let r=!1,i=n(e,t);for(;i;){if(i===e.firstChild){if(r)return;r=!0}const a=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||a)i=n(e,i);else{i.focus();return}}},v9=e=>{const{vertical:t,fixed:n,hideScrollbar:r,scrollableX:i,scrollableY:a,centered:o,scrollButtonsHideMobile:l,classes:A}=e;return yt({root:["root",t&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",i&&"scrollableX",a&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",o&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",l&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},g9,A)},y9=Pe("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Av.scrollButtons}`]:t.scrollButtons},{[`& .${Av.scrollButtons}`]:n.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,n.vertical&&t.vertical]}})(({ownerState:e,theme:t})=>W({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},e.vertical&&{flexDirection:"column"},e.scrollButtonsHideMobile&&{[`& .${Av.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}})),x9=Pe("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.scroller,n.fixed&&t.fixed,n.hideScrollbar&&t.hideScrollbar,n.scrollableX&&t.scrollableX,n.scrollableY&&t.scrollableY]}})(({ownerState:e})=>W({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},e.fixed&&{overflowX:"hidden",width:"100%"},e.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},e.scrollableX&&{overflowX:"auto",overflowY:"hidden"},e.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),b9=Pe("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.flexContainer,n.vertical&&t.flexContainerVertical,n.centered&&t.centered]}})(({ownerState:e})=>W({display:"flex"},e.vertical&&{flexDirection:"column"},e.centered&&{justifyContent:"center"})),w9=Pe("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})(({ownerState:e,theme:t})=>W({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create()},e.indicatorColor==="primary"&&{backgroundColor:(t.vars||t).palette.primary.main},e.indicatorColor==="secondary"&&{backgroundColor:(t.vars||t).palette.secondary.main},e.vertical&&{height:"100%",width:2,right:0})),C9=Pe(A9)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),sC={},B9=b.forwardRef(function(t,n){const r=_t({props:t,name:"MuiTabs"}),i=Hi(),a=xh(),{"aria-label":o,"aria-labelledby":l,action:A,centered:c=!1,children:d,className:u,component:p="div",allowScrollButtonsMobile:h=!1,indicatorColor:m="primary",onChange:g,orientation:y="horizontal",ScrollButtonComponent:x=p9,scrollButtons:C="auto",selectionFollowsFocus:S,slots:w={},slotProps:_={},TabIndicatorProps:E={},TabScrollButtonProps:T={},textColor:F="primary",value:M,variant:P="standard",visibleScrollbar:I=!1}=r,j=Ye(r,m9),U=P==="scrollable",N=y==="vertical",z=N?"scrollTop":"scrollLeft",L=N?"top":"left",D=N?"bottom":"right",K=N?"clientHeight":"clientWidth",q=N?"height":"width",Z=W({},r,{component:p,allowScrollButtonsMobile:h,indicatorColor:m,orientation:y,vertical:N,scrollButtons:C,textColor:F,variant:P,visibleScrollbar:I,fixed:!U,hideScrollbar:U&&!I,scrollableX:U&&!N,scrollableY:U&&N,centered:c&&!U,scrollButtonsHideMobile:!h}),Ae=v9(Z),H=_i({elementType:w.StartScrollButtonIcon,externalSlotProps:_.startScrollButtonIcon,ownerState:Z}),R=_i({elementType:w.EndScrollButtonIcon,externalSlotProps:_.endScrollButtonIcon,ownerState:Z}),[Q,$]=b.useState(!1),[V,G]=b.useState(sC),[ie,ne]=b.useState(!1),[xe,re]=b.useState(!1),[ge,le]=b.useState(!1),[be,ue]=b.useState({overflow:"hidden",scrollbarWidth:0}),ae=new Map,He=b.useRef(null),we=b.useRef(null),me=()=>{const ve=He.current;let je;if(ve){const Ee=ve.getBoundingClientRect();je={clientWidth:ve.clientWidth,scrollLeft:ve.scrollLeft,scrollTop:ve.scrollTop,scrollLeftNormalized:nT(ve,a?"rtl":"ltr"),scrollWidth:ve.scrollWidth,top:Ee.top,bottom:Ee.bottom,left:Ee.left,right:Ee.right}}let pe;if(ve&&M!==!1){const Ee=we.current.children;if(Ee.length>0){const Ze=Ee[ae.get(M)];pe=Ze?Ze.getBoundingClientRect():null}}return{tabsMeta:je,tabMeta:pe}},Ie=sn(()=>{const{tabsMeta:ve,tabMeta:je}=me();let pe=0,Ee;if(N)Ee="top",je&&ve&&(pe=je.top-ve.top+ve.scrollTop);else if(Ee=a?"right":"left",je&&ve){const ze=a?ve.scrollLeftNormalized+ve.clientWidth-ve.scrollWidth:ve.scrollLeft;pe=(a?-1:1)*(je[Ee]-ve[Ee]+ze)}const Ze={[Ee]:pe,[q]:je?je[q]:0};if(isNaN(V[Ee])||isNaN(V[q]))G(Ze);else{const ze=Math.abs(V[Ee]-Ze[Ee]),dt=Math.abs(V[q]-Ze[q]);(ze>=1||dt>=1)&&G(Ze)}}),Te=(ve,{animation:je=!0}={})=>{je?a9(z,He.current,ve,{duration:i.transitions.duration.standard}):He.current[z]=ve},Oe=ve=>{let je=He.current[z];N?je+=ve:(je+=ve*(a?-1:1),je*=a&&t4()==="reverse"?-1:1),Te(je)},qe=()=>{const ve=He.current[K];let je=0;const pe=Array.from(we.current.children);for(let Ee=0;Ee<pe.length;Ee+=1){const Ze=pe[Ee];if(je+Ze[K]>ve){Ee===0&&(je=ve);break}je+=Ze[K]}return je},nt=()=>{Oe(-1*qe())},ht=()=>{Oe(qe())},rt=b.useCallback(ve=>{ue({overflow:null,scrollbarWidth:ve})},[]),ot=()=>{const ve={};ve.scrollbarSizeListener=U?s.jsx(C9,{onChange:rt,className:Je(Ae.scrollableX,Ae.hideScrollbar)}):null;const pe=U&&(C==="auto"&&(ie||xe)||C===!0);return ve.scrollButtonStart=pe?s.jsx(x,W({slots:{StartScrollButtonIcon:w.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:H},orientation:y,direction:a?"right":"left",onClick:nt,disabled:!ie},T,{className:Je(Ae.scrollButtons,T.className)})):null,ve.scrollButtonEnd=pe?s.jsx(x,W({slots:{EndScrollButtonIcon:w.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:R},orientation:y,direction:a?"left":"right",onClick:ht,disabled:!xe},T,{className:Je(Ae.scrollButtons,T.className)})):null,ve},At=sn(ve=>{const{tabsMeta:je,tabMeta:pe}=me();if(!(!pe||!je)){if(pe[L]<je[L]){const Ee=je[z]+(pe[L]-je[L]);Te(Ee,{animation:ve})}else if(pe[D]>je[D]){const Ee=je[z]+(pe[D]-je[D]);Te(Ee,{animation:ve})}}}),We=sn(()=>{U&&C!==!1&&le(!ge)});b.useEffect(()=>{const ve=um(()=>{He.current&&Ie()});let je;const pe=ze=>{ze.forEach(dt=>{dt.removedNodes.forEach(lt=>{var Ve;(Ve=je)==null||Ve.unobserve(lt)}),dt.addedNodes.forEach(lt=>{var Ve;(Ve=je)==null||Ve.observe(lt)})}),ve(),We()},Ee=io(He.current);Ee.addEventListener("resize",ve);let Ze;return typeof ResizeObserver<"u"&&(je=new ResizeObserver(ve),Array.from(we.current.children).forEach(ze=>{je.observe(ze)})),typeof MutationObserver<"u"&&(Ze=new MutationObserver(pe),Ze.observe(we.current,{childList:!0})),()=>{var ze,dt;ve.clear(),Ee.removeEventListener("resize",ve),(ze=Ze)==null||ze.disconnect(),(dt=je)==null||dt.disconnect()}},[Ie,We]),b.useEffect(()=>{const ve=Array.from(we.current.children),je=ve.length;if(typeof IntersectionObserver<"u"&&je>0&&U&&C!==!1){const pe=ve[0],Ee=ve[je-1],Ze={root:He.current,threshold:.99},ze=De=>{ne(!De[0].isIntersecting)},dt=new IntersectionObserver(ze,Ze);dt.observe(pe);const lt=De=>{re(!De[0].isIntersecting)},Ve=new IntersectionObserver(lt,Ze);return Ve.observe(Ee),()=>{dt.disconnect(),Ve.disconnect()}}},[U,C,ge,d==null?void 0:d.length]),b.useEffect(()=>{$(!0)},[]),b.useEffect(()=>{Ie()}),b.useEffect(()=>{At(sC!==V)},[At,V]),b.useImperativeHandle(A,()=>({updateIndicator:Ie,updateScrollButtons:We}),[Ie,We]);const jt=s.jsx(w9,W({},E,{className:Je(Ae.indicator,E.className),ownerState:Z,style:W({},V,E.style)}));let ye=0;const fe=b.Children.map(d,ve=>{if(!b.isValidElement(ve))return null;const je=ve.props.value===void 0?ye:ve.props.value;ae.set(je,ye);const pe=je===M;return ye+=1,b.cloneElement(ve,W({fullWidth:P==="fullWidth",indicator:pe&&!Q&&jt,selected:pe,selectionFollowsFocus:S,onChange:g,textColor:F,value:je},ye===1&&M===!1&&!ve.props.tabIndex?{tabIndex:0}:{}))}),de=ve=>{const je=we.current,pe=zr(je).activeElement;if(pe.getAttribute("role")!=="tab")return;let Ze=y==="horizontal"?"ArrowLeft":"ArrowUp",ze=y==="horizontal"?"ArrowRight":"ArrowDown";switch(y==="horizontal"&&a&&(Ze="ArrowRight",ze="ArrowLeft"),ve.key){case Ze:ve.preventDefault(),Hf(je,pe,rC);break;case ze:ve.preventDefault(),Hf(je,pe,nC);break;case"Home":ve.preventDefault(),Hf(je,null,nC);break;case"End":ve.preventDefault(),Hf(je,null,rC);break}},Ue=ot();return s.jsxs(y9,W({className:Je(Ae.root,u),ownerState:Z,ref:n,as:p},j,{children:[Ue.scrollButtonStart,Ue.scrollbarSizeListener,s.jsxs(x9,{className:Ae.scroller,ownerState:Z,style:{overflow:be.overflow,[N?`margin${a?"Left":"Right"}`:"marginBottom"]:I?void 0:-be.scrollbarWidth},ref:He,children:[s.jsx(b9,{"aria-label":o,"aria-labelledby":l,"aria-orientation":y==="vertical"?"vertical":null,className:Ae.flexContainer,ownerState:Z,onKeyDown:de,ref:we,role:"tablist",children:fe}),Q&&jt]}),Ue.scrollButtonEnd]}))});function S9(e){return gt("MuiTextField",e)}mt("MuiTextField",["root"]);const j9=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],k9={standard:Sx,filled:Bx,outlined:Ex},E9=e=>{const{classes:t}=e;return yt({root:["root"]},S9,t)},I9=Pe(eo,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Dt=b.forwardRef(function(t,n){const r=_t({props:t,name:"MuiTextField"}),{autoComplete:i,autoFocus:a=!1,children:o,className:l,color:A="primary",defaultValue:c,disabled:d=!1,error:u=!1,FormHelperTextProps:p,fullWidth:h=!1,helperText:m,id:g,InputLabelProps:y,inputProps:x,InputProps:C,inputRef:S,label:w,maxRows:_,minRows:E,multiline:T=!1,name:F,onBlur:M,onChange:P,onFocus:I,placeholder:j,required:U=!1,rows:N,select:z=!1,SelectProps:L,type:D,value:K,variant:q="outlined"}=r,Z=Ye(r,j9),Ae=W({},r,{autoFocus:a,color:A,disabled:d,error:u,fullWidth:h,multiline:T,required:U,select:z,variant:q}),H=E9(Ae),R={};q==="outlined"&&(y&&typeof y.shrink<"u"&&(R.notched=y.shrink),R.label=w),z&&((!L||!L.native)&&(R.id=void 0),R["aria-describedby"]=void 0);const Q=nd(g),$=m&&Q?`${Q}-helper-text`:void 0,V=w&&Q?`${Q}-label`:void 0,G=k9[q],ie=s.jsx(G,W({"aria-describedby":$,autoComplete:i,autoFocus:a,defaultValue:c,fullWidth:h,multiline:T,name:F,rows:N,maxRows:_,minRows:E,type:D,value:K,id:Q,inputRef:S,onBlur:M,onChange:P,onFocus:I,placeholder:j,inputProps:x},R,C));return s.jsxs(I9,W({className:Je(H.root,l),disabled:d,error:u,fullWidth:h,ref:n,required:U,color:A,variant:q,ownerState:Ae},Z,{children:[w!=null&&w!==""&&s.jsx(sl,W({htmlFor:Q,id:V},y,{children:w})),z?s.jsx(co,W({"aria-describedby":$,id:Q,labelId:V,value:K,input:ie},L,{children:o})):ie,m&&s.jsx(i8,W({id:$},p,{children:m}))]}))});function F9({children:e}){const{user:t,admin:n,loading:r}=er();return console.log("🛡️ ProtectedRoute check:",{user:(t==null?void 0:t.email)||"no user",admin:(n==null?void 0:n.email)||"no admin",loading:r}),r?s.jsx(Ne,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",children:s.jsx(Hr,{})}):!t||!n?(console.log("🚫 Access denied, redirecting to login"),s.jsx(pu,{to:"/login",replace:!0})):s.jsx(s.Fragment,{children:e})}const N9=ut([s.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),s.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"AccessTime"),hj=ut(s.jsx("path",{d:"M4 10h3v7H4zm6.5 0h3v7h-3zM2 19h20v3H2zm15-9h3v7h-3zm-5-9L2 6v2h20V6z"}),"AccountBalance"),Uu=ut(s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle"),Ad=ut(s.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),T9=ut(s.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-5h2zm4 0h-2v-3h2zm0-5h-2v-2h2zm4 5h-2V7h2z"}),"Analytics"),iC=ut(s.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),_9=ut(s.jsx("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8z"}),"ArrowDownward"),D9=ut(s.jsx("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8z"}),"ArrowUpward"),tA=ut(s.jsx("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4"}),"AttachMoney"),rh=ut(s.jsx("path",{d:"M12 7V3H2v18h20V7zM6 19H4v-2h2zm0-4H4v-2h2zm0-4H4V9h2zm0-4H4V5h2zm4 12H8v-2h2zm0-4H8v-2h2zm0-4H8V9h2zm0-4H8V5h2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8zm-2-8h-2v2h2zm0 4h-2v2h2z"}),"Business"),sh=ut(s.jsx("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 16H5V10h14zM9 14H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2zm-8 4H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2z"}),"CalendarMonth"),U9=ut(s.jsx("path",{d:"M18 11v2h4v-2zm-2 6.61c.96.71 2.21 1.65 3.2 2.39.4-.53.8-1.07 1.2-1.6-.99-.74-2.24-1.68-3.2-2.4-.4.54-.8 1.08-1.2 1.61M20.4 5.6c-.4-.53-.8-1.07-1.2-1.6-.99.74-2.24 1.68-3.2 2.4.4.53.8 1.07 1.2 1.6.96-.72 2.21-1.65 3.2-2.4M4 9c-1.1 0-2 .9-2 2v2c0 1.1.9 2 2 2h1v4h2v-4h1l5 3V6L8 9zm11.5 3c0-1.33-.58-2.53-1.5-3.35v6.69c.92-.81 1.5-2.01 1.5-3.34"}),"Campaign"),xa=ut(s.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel"),fj=ut(s.jsx("path",{d:"M20 2H4c-1.11 0-2 .89-2 2v11c0 1.11.89 2 2 2h4v5l4-2 4 2v-5h4c1.11 0 2-.89 2-2V4c0-1.11-.89-2-2-2m0 13H4v-2h16zm0-5H4V4h16z"}),"CardMembership"),Ho=ut(s.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),Fm=ut(s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),L9=ut(s.jsx("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft"),M9=ut(s.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight"),ih=ut(s.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),P9=ut(s.jsx("path",{d:"M21 8V7l-3 2-3-2v1l3 2zm1-5H2C.9 3 0 3.9 0 5v14c0 1.1.9 2 2 2h20c1.1 0 1.99-.9 1.99-2L24 5c0-1.1-.9-2-2-2M8 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3m6 12H2v-1c0-2 4-3.1 6-3.1s6 1.1 6 3.1zm8-6h-8V6h8z"}),"ContactMail"),pj=ut(s.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy"),j1=ut(s.jsx("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4v-6h16zm0-10H4V6h16z"}),"CreditCard"),Q9=ut(s.jsx("path",{d:"M3 13h8V3H3zm0 8h8v-6H3zm10 0h8V11h-8zm0-18v6h8V3z"}),"Dashboard"),AA=ut(s.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),il=ut(s.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),k1=ut(s.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email"),R9=ut(s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error"),H9=ut(s.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"ErrorOutline"),aC=ut(s.jsx("path",{d:"M10.09 15.59 11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"ExitToApp"),O9=ut(s.jsx("path",{d:"M19 9h-4V3H9v6H5l7 7zM5 18v2h14v-2z"}),"FileDownload"),$9=ut(s.jsx("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"}),"FilterList"),gj=ut(s.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"}),"History"),z9=ut(s.jsx("path",{d:"m18 22-.01-6L14 12l3.99-4.01L18 2H6v6l4 4-4 3.99V22zM8 7.5V4h8v3.5l-4 4z"}),"HourglassBottom"),W9=ut(s.jsx("path",{d:"M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2zm10 14.5V20H8v-3.5l4-4zm-4-5-4-4V4h8v3.5z"}),"HourglassEmpty"),mj=ut(s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info"),K9=ut(s.jsx("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),"Link"),V9=ut(s.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"}),"LocationOn"),G9=ut(s.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l4 4 4-4H6c0-3.86 3.14-7 7-7s7 3.14 7 7-3.14 7-7 7c-1.9 0-3.62-.76-4.88-1.99L6.7 18.42C8.32 20.01 10.55 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m2 8v-1c0-1.1-.9-2-2-2s-2 .9-2 2v1c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-3c0-.55-.45-1-1-1m-1 0h-2v-1c0-.55.45-1 1-1s1 .45 1 1z"}),"LockReset"),oC=ut(s.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),vj=ut(s.jsx("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1z"}),"Notifications"),Cc=ut(s.jsx("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4v-6h16zm0-10H4V6h16z"}),"Payment"),Fx=ut(s.jsx("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"People"),q9=ut(s.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person"),Y9=ut(s.jsx("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m-9-2V7H4v3H1v2h3v3h2v-3h3v-2zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"PersonAdd"),X9=ut(s.jsx("path",{d:"M8.65 5.82C9.36 4.72 10.6 4 12 4c2.21 0 4 1.79 4 4 0 1.4-.72 2.64-1.82 3.35zM20 17.17c-.02-1.1-.63-2.11-1.61-2.62-.54-.28-1.13-.54-1.77-.76zm1.19 4.02L2.81 2.81 1.39 4.22l8.89 8.89c-1.81.23-3.39.79-4.67 1.45-1 .51-1.61 1.54-1.61 2.66V20h13.17l2.61 2.61z"}),"PersonOff"),E1=ut(s.jsx("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02z"}),"Phone"),J9=ut(s.jsx("path",{d:"M16 1H8C6.34 1 5 2.34 5 4v16c0 1.66 1.34 3 3 3h8c1.66 0 3-1.34 3-3V4c0-1.66-1.34-3-3-3m-2 20h-4v-1h4zm3.25-3H6.75V4h10.5z"}),"PhoneAndroid"),Z9=ut(s.jsx("path",{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3m-3 11H8v-5h8zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m-1-9H6v4h12z"}),"Print"),e$=ut(s.jsx("path",{d:"M3 11h8V3H3zm2-6h4v4H5zM3 21h8v-8H3zm2-6h4v4H5zm8-12v8h8V3zm6 6h-4V5h4zm0 10h2v2h-2zm-6-6h2v2h-2zm2 2h2v2h-2zm-2 2h2v2h-2zm2 2h2v2h-2zm2-2h2v2h-2zm0-4h2v2h-2zm2 2h2v2h-2z"}),"QrCode"),Nx=ut(s.jsx("path",{d:"M15 21h-2v-2h2zm-2-7h-2v5h2zm8-2h-2v4h2zm-2-2h-2v2h2zM7 12H5v2h2zm-2-2H3v2h2zm7-5h2V3h-2zm-7.5-.5v3h3v-3zM9 9H3V3h6zm-4.5 7.5v3h3v-3zM9 21H3v-6h6zm7.5-16.5v3h3v-3zM21 9h-6V3h6zm-2 10v-3h-4v2h2v3h4v-2zm-2-7h-4v2h4zm-4-2H7v2h2v2h2v-2h2zm1-1V7h-2V5h-2v4zM6.75 5.25h-1.5v1.5h1.5zm0 12h-1.5v1.5h1.5zm12-12h-1.5v1.5h1.5z"}),"QrCode2"),yj=ut(s.jsx("path",{d:"M18 17H6v-2h12zm0-4H6v-2h12zm0-4H6V7h12zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2z"}),"Receipt"),xj=ut(s.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh"),nA=ut(s.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save"),t$=ut([s.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),s.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"Schedule"),bj=ut(s.jsx("path",{d:"M5 13.18v4L12 21l7-3.82v-4L12 17zM12 3 1 9l11 6 9-4.91V17h2V9z"}),"School"),n$=ut(s.jsx("path",{d:"M19.8 18.4 14 10.67V6.5l1.35-1.69c.26-.33.03-.81-.39-.81H9.04c-.42 0-.65.48-.39.81L10 6.5v4.17L4.2 18.4c-.49.66-.02 1.6.8 1.6h14c.82 0 1.29-.94.8-1.6"}),"Science"),r$=ut(s.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search"),s$=ut([s.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3 6.08 3 3.28 5.64 3.03 9h2.02C5.3 6.75 7.18 5 9.5 5 11.99 5 14 7.01 14 9.5S11.99 14 9.5 14c-.17 0-.33-.03-.5-.05v2.02c.17.02.33.03.5.03 1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19z"},"0"),s.jsx("path",{d:"M6.47 10.82 4 13.29l-2.47-2.47-.71.71L3.29 14 .82 16.47l.71.71L4 14.71l2.47 2.47.71-.71L4.71 14l2.47-2.47z"},"1")],"SearchOff"),Tx=ut(s.jsx("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11z"}),"Security"),I1=ut(s.jsx("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send"),_x=ut(s.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),wj=ut(s.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92"}),"Share"),i$=ut(s.jsx("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5z"}),"Shield"),Cj=ut(s.jsx("path",{d:"M19.52 2.49C17.18.15 12.9.62 9.97 3.55c-1.6 1.6-2.52 3.87-2.54 5.46-.02 1.58.26 3.89-1.35 5.5l-4.24 4.24 1.42 1.42 4.24-4.24c1.61-1.61 3.92-1.33 5.5-1.35s3.86-.94 5.46-2.54c2.92-2.93 3.4-7.21 1.06-9.55m-9.2 9.19c-1.53-1.53-1.05-4.61 1.06-6.72s5.18-2.59 6.72-1.06c1.53 1.53 1.05 4.61-1.06 6.72s-5.18 2.59-6.72 1.06M18 17c.53 0 1.04.21 1.41.59.78.78.78 2.05 0 2.83-.37.37-.88.58-1.41.58s-1.04-.21-1.41-.59c-.78-.78-.78-2.05 0-2.83.37-.37.88-.58 1.41-.58m0-2c-1.02 0-2.05.39-2.83 1.17-1.56 1.56-1.56 4.09 0 5.66.78.78 1.81 1.17 2.83 1.17s2.05-.39 2.83-1.17c1.56-1.56 1.56-4.09 0-5.66C20.05 15.39 19.02 15 18 15"}),"SportsTennis"),a$=ut(s.jsx("path",{d:"M2 20h20v-4H2zm2-3h2v2H4zM2 4v4h20V4zm4 3H4V5h2zm-4 7h20v-4H2zm2-3h2v2H4z"}),"Storage"),o$=ut(s.jsx("path",{d:"M20 4H4v2h16zm1 10v-2l-1-5H4l-1 5v2h1v6h10v-6h4v6h2v-6zm-9 4H6v-4h6z"}),"Store"),l$=ut(s.jsx("path",{d:"M16.5 12c1.38 0 2.49-1.12 2.49-2.5S17.88 7 16.5 7C15.12 7 14 8.12 14 9.5s1.12 2.5 2.5 2.5M9 11c1.66 0 2.99-1.34 2.99-3S10.66 5 9 5C7.34 5 6 6.34 6 8s1.34 3 3 3m7.5 3c-1.83 0-5.5.92-5.5 2.75V19h11v-2.25c0-1.83-3.67-2.75-5.5-2.75M9 13c-2.33 0-7 1.17-7 3.5V19h7v-2.25c0-.85.33-2.34 2.37-3.47C10.5 13.1 9.66 13 9 13"}),"SupervisorAccount"),ug=ut(s.jsx("path",{d:"M9 1h6v2H9zm10.03 6.39 1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42C16.07 4.74 14.12 4 12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9 9-4.03 9-9c0-2.12-.74-4.07-1.97-5.61M13 14h-2V8h2z"}),"Timer"),Nm=ut(s.jsx("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp"),A$=ut(s.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),c$=ut(s.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff"),rA=ut(s.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning"),d$=ut(s.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m-5 14H4v-4h11zm0-5H4V9h11zm5 5h-4V9h4z"}),"Web"),Wr=()=>{const{admin:e}=er(),t=p=>e?e.role==="superadmin"?!0:Array.isArray(p)?p.some(h=>e.permissions.includes(h)):e.permissions.includes(p):!1;return{hasPermission:t,hasAllPermissions:p=>e?e.role==="superadmin"?!0:p.every(h=>e.permissions.includes(h)):!1,hasRole:p=>e?Array.isArray(p)?p.includes(e.role):e.role===p:!1,canAccessVenue:p=>e?e.role==="superadmin"?!0:e.venueId===p:!1,canManageAdmins:()=>t("manage_admins"),canManageAllVenues:()=>t("manage_all_venues"),canViewFinance:()=>t(["manage_finance","view_reports"]),canManageBookings:()=>t(["manage_bookings","manage_all_bookings"]),canManageCourts:()=>t(["manage_courts","manage_all_venues"]),canManageClub:()=>(e==null?void 0:e.role)==="superadmin"||(e==null?void 0:e.role)==="admin"&&(e!=null&&e.venueId)?!0:t(["manage_club","manage_all_venues"]),canViewReports:()=>t(["view_reports","view_all_reports"]),permissions:(e==null?void 0:e.permissions)||[],role:(e==null?void 0:e.role)||null,isSuperAdmin:(e==null?void 0:e.role)==="superadmin",isAdmin:(e==null?void 0:e.role)==="admin",isManager:(e==null?void 0:e.role)==="manager"}};function hg({size:e=60,backgroundColor:t="#00A86B",courtColor:n="white",className:r}){return s.jsxs("svg",{viewBox:"0 0 120 120",xmlns:"http://www.w3.org/2000/svg",width:e,height:e,className:r,children:[s.jsx("rect",{x:"0",y:"0",width:"120",height:"120",rx:"24",fill:t}),s.jsx("rect",{x:"20",y:"20",width:"80",height:"80",rx:"8",fill:"none",stroke:n,strokeWidth:"3"}),s.jsx("line",{x1:"20",y1:"60",x2:"100",y2:"60",stroke:n,strokeWidth:"3"}),s.jsx("line",{x1:"60",y1:"20",x2:"60",y2:"100",stroke:n,strokeWidth:"3"})]})}function u$(){var x,C;const e=rs(),t=_E(),{club:n,logout:r,admin:i}=er(),{hasPermission:a,hasRole:o,isSuperAdmin:l,canViewFinance:A,canManageClub:c}=Wr(),[d,u]=b.useState(!1);if((i==null?void 0:i.role)==="trainer"){const S=[{path:"/admin/trainer-profile",label:"Мой профиль",icon:s.jsx(Uu,{})},{path:"/admin/bookings",label:"Мой календарь",icon:s.jsx(sh,{})}];return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`sidebar-overlay ${d?"active":""}`,onClick:()=>u(!d)}),s.jsxs("aside",{className:`sidebar ${d?"active":""}`,children:[s.jsx("button",{className:"sidebar-close",onClick:()=>u(!d),children:s.jsx(ih,{})}),s.jsx("div",{className:"logo-section",children:s.jsxs("div",{className:"platform-logo",children:[s.jsx(hg,{size:40}),s.jsx("div",{className:"logo-text",children:"Все Корты"})]})}),s.jsx("nav",{className:"nav-menu",children:S.map(w=>s.jsxs("a",{className:`nav-item ${t.pathname===w.path?"active":""}`,onClick:()=>{e(w.path),window.innerWidth<=768&&u(!1)},children:[s.jsx("span",{className:"nav-icon",children:w.icon}),s.jsx("span",{children:w.label})]},w.path))})]}),s.jsxs("div",{className:"main-container",children:[s.jsxs("header",{className:"header",children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[s.jsx("button",{className:"menu-toggle",onClick:()=>u(!d),children:s.jsx(oC,{})}),s.jsx("h1",{className:"page-title",children:t.pathname==="/admin/bookings"?"Мой календарь":"Мой профиль"})]}),s.jsxs("div",{className:"header-actions",children:[n&&s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginRight:"16px",padding:"8px 16px",background:"var(--background)",borderRadius:"8px",border:"1px solid var(--extra-light-gray)"},children:[s.jsx("div",{style:{width:"32px",height:"32px",background:"var(--primary)",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"12px",fontWeight:"700",overflow:"hidden"},children:n.logoUrl?s.jsx("img",{src:n.logoUrl,alt:n.name,style:{width:"100%",height:"100%",objectFit:"cover"}}):((x=n.name)==null?void 0:x.substring(0,2).toUpperCase())||"CL"}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[s.jsx("span",{style:{fontSize:"14px",fontWeight:"600",color:"var(--dark)",lineHeight:"1.2"},children:n.name}),s.jsx("span",{style:{fontSize:"12px",color:"var(--gray)",lineHeight:"1.2"},children:"Тренер"})]})]}),s.jsxs("div",{className:"user-menu",children:[s.jsxs("div",{className:"user-info",children:[s.jsx("span",{className:"user-name",children:i==null?void 0:i.name}),s.jsx("span",{className:"user-role",children:"Тренер"})]}),s.jsx("button",{className:"user-btn",children:s.jsx(Uu,{fontSize:"small"})}),s.jsx("button",{className:"logout-btn",onClick:r,title:"Выйти",children:s.jsx(aC,{fontSize:"small"})})]})]})]}),s.jsx("div",{className:"content",children:s.jsx(kb,{})})]})]})}const p=[{path:"/admin/dashboard",label:"Главная",icon:s.jsx(Q9,{})},{path:"/admin/bookings",label:"Календарь",icon:s.jsx(sh,{}),permission:["manage_bookings","manage_all_bookings","view_bookings"]},{path:"/admin/trainers",label:"Тренеры",icon:s.jsx(bj,{}),permission:["manage_club","manage_all_venues"]},...l?[{path:"/admin/venues",label:"Все клубы",icon:s.jsx(o$,{})},{path:"/admin/billing-settings",label:"Настройки биллинга",icon:s.jsx(Cc,{})},{path:"/admin/company-settings",label:"Реквизиты компании",icon:s.jsx(rh,{})},{path:"/admin/admins",label:"Администраторы",icon:s.jsx(l$,{})}]:[],...c()?[{path:"/admin/club",label:"Управление клубом",icon:s.jsx(rh,{})}]:[],{path:"/admin/subscription",label:"Подписка",icon:s.jsx(fj,{}),permission:["manage_club","manage_all_venues"]},{path:"/admin/payment-settings",label:"Настройки оплаты",icon:s.jsx(j1,{}),permission:["manage_club","manage_all_venues"]},{path:"/admin/courts",label:"Корты",icon:s.jsx(Cj,{}),permission:["manage_courts","manage_all_venues"]},{path:"/admin/customers",label:"Клиенты",icon:s.jsx(Fx,{}),permission:["manage_all_users","manage_club"]},...A()?[{path:"/admin/finance",label:"Финансы",icon:s.jsx(tA,{})}]:[],{path:"/admin/marketing",label:"Маркетинг",icon:s.jsx(Nm,{}),roles:["superadmin","admin"]},...l?[{path:"/admin/settings",label:"Системные настройки",icon:s.jsx(_x,{})}]:[]].filter(S=>!(S.permission&&!a(S.permission)||S.roles&&!o(S.roles))),h=S=>t.pathname===S,m=S=>{e(S),window.innerWidth<=768&&u(!1)},g=()=>{u(!d)},y=()=>{const S=p.find(w=>h(w.path));return(S==null?void 0:S.label)||"Главная"};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`sidebar-overlay ${d?"active":""}`,onClick:g}),s.jsxs("aside",{className:`sidebar ${d?"active":""}`,children:[s.jsx("button",{className:"sidebar-close",onClick:g,children:s.jsx(ih,{})}),s.jsx("div",{className:"logo-section",children:s.jsxs("div",{className:"platform-logo",children:[s.jsx(hg,{size:40}),s.jsx("div",{className:"logo-text",children:"Все Корты"})]})}),s.jsx("nav",{className:"nav-menu",children:p.map(S=>s.jsxs("a",{className:`nav-item ${h(S.path)?"active":""}`,onClick:()=>m(S.path),children:[s.jsx("span",{className:"nav-icon",children:S.icon}),s.jsx("span",{children:S.label})]},S.path))})]}),s.jsxs("div",{className:"main-container",children:[s.jsxs("header",{className:"header",children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[s.jsx("button",{className:"menu-toggle",onClick:g,children:s.jsx(oC,{})}),s.jsx("h1",{className:"page-title",children:y()})]}),s.jsxs("div",{className:"header-actions",children:[s.jsx("button",{className:"notification-btn",children:s.jsx(vj,{fontSize:"small"})}),!l&&n&&s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginRight:"16px",padding:"8px 16px",background:"var(--background)",borderRadius:"8px",border:"1px solid var(--extra-light-gray)"},children:[s.jsx("div",{style:{width:"32px",height:"32px",background:"var(--primary)",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"12px",fontWeight:"700",overflow:"hidden"},children:n.logoUrl?s.jsx("img",{src:n.logoUrl,alt:n.name,style:{width:"100%",height:"100%",objectFit:"cover"}}):((C=n.name)==null?void 0:C.substring(0,2).toUpperCase())||"CL"}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[s.jsx("span",{style:{fontSize:"14px",fontWeight:"600",color:"var(--dark)",lineHeight:"1.2"},children:n.name}),s.jsx("span",{style:{fontSize:"12px",color:"var(--gray)",lineHeight:"1.2"},children:(i==null?void 0:i.role)==="admin"?"Администратор":"Менеджер"})]})]}),s.jsxs("div",{className:"user-menu",children:[!l&&s.jsxs("div",{className:"user-info",children:[s.jsx("span",{className:"user-name",children:i==null?void 0:i.name}),s.jsx("span",{className:"user-role",children:i==null?void 0:i.role})]}),l&&s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginRight:"8px"},children:[s.jsx("div",{style:{width:"32px",height:"32px",background:"#ef4444",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"12px",fontWeight:"700"},children:"SA"}),s.jsx("span",{style:{fontSize:"14px",fontWeight:"600",color:"var(--dark)"},children:"Суперадминистратор"})]}),!l&&s.jsx("button",{className:"user-btn",children:s.jsx(Uu,{fontSize:"small"})}),s.jsx("button",{className:"logout-btn",onClick:r,title:"Выйти",children:s.jsx(aC,{fontSize:"small"})})]})]})]}),s.jsx("div",{className:"content",children:s.jsx(kb,{})})]})]})}const lC={"auth/email-already-in-use":"Этот email уже используется","auth/invalid-email":"Некорректный email адрес","auth/weak-password":"Пароль слишком слабый. Минимум 6 символов","auth/user-not-found":"Пользователь не найден","auth/wrong-password":"Неверный пароль","auth/too-many-requests":"Слишком много попыток. Попробуйте позже","auth/user-disabled":"Аккаунт заблокирован","auth/expired-action-code":"Ссылка устарела","auth/invalid-action-code":"Недействительная ссылка","auth/network-request-failed":"Ошибка сети. Проверьте интернет-соединение","permission-denied":"У вас нет прав для выполнения этого действия","not-found":"Запрашиваемые данные не найдены","already-exists":"Такая запись уже существует","resource-exhausted":"Превышен лимит запросов","failed-precondition":"Операция не может быть выполнена в текущем состоянии",aborted:"Операция была прервана","out-of-range":"Значение вне допустимого диапазона",unimplemented:"Функция не реализована",internal:"Внутренняя ошибка сервера",unavailable:"Сервис временно недоступен","data-loss":"Данные повреждены или утеряны",unauthenticated:"Требуется авторизация","booking/slot-occupied":"Это время уже занято","booking/invalid-date":"Некорректная дата бронирования","booking/past-date":"Нельзя забронировать на прошедшую дату","payment/card-declined":"Карта отклонена банком","payment/insufficient-funds":"Недостаточно средств на карте","payment/processing-error":"Ошибка обработки платежа"};function F1(e){var t,n,r;if(console.error("Error caught:",e),e.code&&e.code.startsWith("auth/"))return{type:"AUTH",code:e.code,message:lC[e.code]||e.message||"Ошибка авторизации",originalError:e};if(e instanceof c5||e.code){const i=lC[e.code]||e.message||"Ошибка базы данных";let a="SERVER";return e.code==="permission-denied"||e.code==="unauthenticated"?a="PERMISSION":e.code==="not-found"?a="NOT_FOUND":(e.code==="unavailable"||(t=e.code)!=null&&t.includes("network"))&&(a="NETWORK"),{type:a,code:e.code,message:i,originalError:e}}return(n=e.message)!=null&&n.toLowerCase().includes("network")||(r=e.message)!=null&&r.toLowerCase().includes("fetch")?{type:"NETWORK",message:"Ошибка сети. Проверьте интернет-соединение",originalError:e}:e.type==="validation"||e.validationErrors?{type:"VALIDATION",message:e.message||"Ошибка валидации данных",details:e.validationErrors,originalError:e}:{type:"UNKNOWN",message:e.message||"Произошла неизвестная ошибка",originalError:e}}function h$(e){return typeof e=="string"?e:e.message?e.message:"Произошла ошибка. Попробуйте еще раз"}function Bj(e,t){const n=new Date().toISOString();console.group(`🚨 Error at ${n}`),e.type&&console.error("Type:",e.type),e.code&&console.error("Code:",e.code),console.error("Message:",e.message||"Unknown error"),t&&console.error("Context:",t),e.originalError&&console.error("Original error:",e.originalError),e.details&&console.error("Details:",e.details),console.trace("Stack trace"),console.groupEnd()}function f$(){const e=rs(),[t,n]=b.useState(""),[r,i]=b.useState(""),[a,o]=b.useState(!1),[l,A]=b.useState(null),[c,d]=b.useState(!1),u=async p=>{p.preventDefault(),A(null),d(!0);try{if(!t.trim())throw new Error("Email обязателен");if(!r)throw new Error("Пароль обязателен");const h=await iI(Ss,t,r),m=Vt(Et(Re,"admins"),pt("email","==",h.user.email));if((await $t(m)).empty)throw new Error("У вас нет прав доступа к админ-панели");setTimeout(()=>{e("/admin/dashboard")},100)}catch(h){const m=F1(h);Bj(m,{component:"Login",email:t}),A(h$(m))}finally{d(!1)}};return s.jsx(Ne,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"#f5f5f5"},children:s.jsx(on,{sx:{maxWidth:400,width:"100%",mx:2},children:s.jsxs(ln,{sx:{p:4},children:[s.jsx(J,{variant:"h4",component:"h1",gutterBottom:!0,align:"center",children:"Админ-панель"}),s.jsx(J,{variant:"body2",color:"text.secondary",align:"center",sx:{mb:3},children:"Вход для сотрудников клубов"}),l&&s.jsx(nn,{severity:"error",sx:{mb:2},children:l}),s.jsxs("form",{onSubmit:u,children:[s.jsx(Dt,{fullWidth:!0,label:"Email",type:"email",value:t,onChange:p=>n(p.target.value),margin:"normal",required:!0,autoComplete:"email",autoFocus:!0}),s.jsx(Dt,{fullWidth:!0,label:"Пароль",type:a?"text":"password",value:r,onChange:p=>i(p.target.value),margin:"normal",required:!0,autoComplete:"current-password",InputProps:{endAdornment:s.jsx(U8,{position:"end",children:s.jsx(Ls,{onClick:()=>o(!a),edge:"end",children:a?s.jsx(c$,{}):s.jsx(A$,{})})})}}),s.jsx(Pt,{type:"submit",fullWidth:!0,variant:"contained",size:"large",sx:{mt:3,mb:2},disabled:c||!t||!r,startIcon:c&&s.jsx(Hr,{size:20,color:"inherit"}),children:c?"Вход...":"Войти"})]}),s.jsx(J,{variant:"body2",color:"text.secondary",align:"center",sx:{mt:2},children:"Забыли пароль? Обратитесь к администратору системы"}),s.jsx(Ne,{sx:{mt:3,pt:3,borderTop:1,borderColor:"divider"},children:s.jsxs(J,{variant:"body2",color:"text.secondary",align:"center",children:["Хотите зарегистрировать свой клуб?"," ",s.jsx(Pt,{variant:"text",onClick:()=>e("/register"),sx:{textTransform:"none"},children:"Создать аккаунт"})]})})]})})})}const AC=[{icon:s.jsx(Cj,{}),title:"Управление кортами",description:"Настройка расписания и цен"},{icon:s.jsx(sh,{}),title:"Онлайн-бронирование",description:"Прием заявок 24/7"},{icon:s.jsx(Fx,{}),title:"База клиентов",description:"CRM система для клуба"},{icon:s.jsx(T9,{}),title:"Аналитика и отчеты",description:"Статистика доходов и загрузки"},{icon:s.jsx(vj,{}),title:"Уведомления",description:"SMS и email рассылки"},{icon:s.jsx(Cc,{}),title:"Онлайн-оплата",description:"Прием платежей картами"},{icon:s.jsx(_x,{}),title:"Гибкие настройки",description:"Адаптация под ваш клуб"},{icon:s.jsx(Tx,{}),title:"Безопасность",description:"Защита данных клиентов"}];function p$(){const e=rs(),[t,n]=b.useState(!1),[r,i]=b.useState(""),[a,o]=b.useState(!1),[l,A]=b.useState(!1),[c,d]=b.useState(0),[u,p]=b.useState(0),[h,m]=b.useState(!1),[g,y]=b.useState({name:"",address:"",city:"",phone:"",email:"",description:"",organizationType:"ИП",inn:"",bankAccount:"",adminPassword:""});b.useEffect(()=>{if(t){m(!0),p(0),d(0);const S=setInterval(()=>{d(_=>_>=95?(clearInterval(S),95):_+Math.random()*10)},500),w=setInterval(()=>{p(_=>_>=AC.length-1?(clearInterval(w),_):_+1)},2e3);return()=>{clearInterval(S),clearInterval(w)}}else m(!1),d(0),p(0)},[t]);const x=()=>{const S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let w="";for(let _=0;_<10;_++)w+=S.charAt(Math.floor(Math.random()*S.length));return w},C=async S=>{S.preventDefault(),console.log("Form submitted with data:",g),i(""),n(!0);try{if(!g.name||!g.address||!g.city||!g.phone||!g.email){i("Заполните все обязательные поля"),n(!1);return}const w=g.adminPassword||x();console.log("Generated/provided password:",w),Ss.currentUser&&(console.log("Signing out current user:",Ss.currentUser.email),await Gv(Ss)),console.log("Creating user with email:",g.email);const E=(await d5(Ss,g.email,w)).user.uid;console.log("User created successfully with ID:",E);const T={name:g.name,address:g.address,city:g.city,phone:g.phone,email:g.email,description:g.description||"",organizationType:g.organizationType,inn:g.inn,bankAccount:g.bankAccount||"",status:"pending",createdAt:new Date,updatedAt:new Date,logoUrl:"",amenities:[],location:null};console.log("Creating venue with data:",T);let F=!1,M="";try{console.log("Creating club via Cloud Function..."),console.log("Sending data:",{venueData:T,password:w,userId:E});const I=await(await fetch("https://europe-west1-sports-booking-app-1d7e5.cloudfunctions.net/createClubHttp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({venueData:T,password:w,userId:E})})).json();if(I.success)console.log("Club created via Cloud Function!"),F=!0,M=I.venueId;else throw new Error(I.error||"Unknown error")}catch(P){throw console.error("Cloud Function failed:",P),P}if(F)A(!1);else{console.log("Saving registration for manual processing...");const P={id:E,userId:E,venueData:T,password:w,timestamp:new Date().toISOString(),status:"pending_manual_creation"};localStorage.setItem("pendingClubRegistration_"+E,JSON.stringify(P)),A(!0)}y({...g,adminPassword:w}),(F||!l)&&d(100),Ss.currentUser&&(await Gv(Ss),console.log("Signed out after club creation")),o(!0),console.log("Registration completed successfully!")}catch(w){console.error("Error creating club:",w),console.error("Error details:",{code:w==null?void 0:w.code,message:w==null?void 0:w.message,stack:w==null?void 0:w.stack}),w.code==="auth/email-already-in-use"?i("Этот email уже используется. Пожалуйста, войдите в систему."):w.code==="auth/weak-password"?i("Пароль слишком слабый. Минимум 6 символов."):w.code==="auth/invalid-email"?i("Неверный формат email адреса."):i("Ошибка при создании клуба: "+(w.message||"Неизвестная ошибка"))}finally{n(!1)}};return s.jsxs($l,{component:"main",maxWidth:"md",children:[s.jsxs(Ne,{sx:{marginTop:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[s.jsx(hg,{size:60,className:"mb-4"}),s.jsx(J,{component:"h1",variant:"h4",gutterBottom:!0,children:"Регистрация клуба"}),s.jsx(J,{variant:"body2",color:"textSecondary",align:"center",sx:{mb:3},children:"Создайте аккаунт для управления вашим спортивным клубом"}),s.jsxs($n,{sx:{width:"100%",p:4},children:[r&&s.jsx(nn,{severity:"error",sx:{mb:3},children:r}),s.jsxs("form",{onSubmit:C,children:[s.jsxs(Ne,{sx:{display:"grid",gap:2,gridTemplateColumns:{md:"1fr 1fr"}},children:[s.jsx(J,{variant:"h6",sx:{gridColumn:"1 / -1",mb:1},children:"Информация о клубе"}),s.jsx(Dt,{label:"Название клуба",value:g.name,onChange:S=>y({...g,name:S.target.value}),fullWidth:!0,required:!0}),s.jsx(Dt,{label:"Адрес",value:g.address,onChange:S=>y({...g,address:S.target.value}),fullWidth:!0,required:!0}),s.jsx(Dt,{label:"Город",value:g.city,onChange:S=>y({...g,city:S.target.value}),fullWidth:!0,required:!0}),s.jsx(Dt,{label:"Телефон",value:g.phone,onChange:S=>y({...g,phone:S.target.value}),fullWidth:!0,required:!0,placeholder:"+7 (900) 123-45-67"}),s.jsx(Dt,{label:"Email",value:g.email,onChange:S=>y({...g,email:S.target.value}),fullWidth:!0,required:!0,type:"email",sx:{gridColumn:"1 / -1"}}),s.jsx(J,{variant:"h6",sx:{gridColumn:"1 / -1",mt:2,mb:1},children:"Юридическая информация"}),s.jsxs(eo,{fullWidth:!0,children:[s.jsx(sl,{children:"Форма организации"}),s.jsxs(co,{value:g.organizationType,onChange:S=>y({...g,organizationType:S.target.value}),label:"Форма организации",children:[s.jsx(Jn,{value:"ИП",children:"ИП"}),s.jsx(Jn,{value:"ООО",children:"ООО"}),s.jsx(Jn,{value:"Самозанятый",children:"Самозанятый"})]})]}),s.jsx(Dt,{label:"ИНН",value:g.inn,onChange:S=>y({...g,inn:S.target.value}),fullWidth:!0}),s.jsx(Dt,{label:"Пароль администратора (необязательно)",value:g.adminPassword,onChange:S=>y({...g,adminPassword:S.target.value}),fullWidth:!0,type:"password",helperText:"Если не указан, будет сгенерирован автоматически"})]}),s.jsxs(Ne,{sx:{mt:3,display:"flex",gap:2,justifyContent:"flex-end"},children:[s.jsx(Pt,{type:"button",onClick:()=>e("/admin/login"),disabled:t,children:"Уже есть аккаунт?"}),s.jsx(Pt,{type:"submit",variant:"contained",disabled:t,children:t?"Создание...":"Создать клуб"})]})]})]})]}),s.jsxs(lo,{open:a,onClose:()=>{},maxWidth:"sm",fullWidth:!0,children:[s.jsx(rl,{children:s.jsxs(Ne,{display:"flex",alignItems:"center",gap:2,children:[s.jsx(rh,{color:l?"warning":"success"}),l?"Регистрация отправлена!":"Клуб успешно создан!"]})}),s.jsxs(Ao,{children:[s.jsx(nn,{severity:l?"warning":"success",sx:{mb:2},children:l?"Ваша заявка принята! Мы свяжемся с вами в течение 24 часов для завершения регистрации.":"Сохраните эти данные для входа в систему"}),s.jsxs(Ne,{sx:{display:"flex",flexDirection:"column",gap:2},children:[s.jsxs(Ne,{children:[s.jsx(J,{variant:"body2",color:"textSecondary",children:"Название клуба"}),s.jsx(J,{variant:"body1",fontWeight:"bold",children:g.name})]}),s.jsxs(Ne,{children:[s.jsx(J,{variant:"body2",color:"textSecondary",children:"Email администратора"}),s.jsx(J,{variant:"body1",fontWeight:"bold",children:g.email})]}),s.jsxs(Ne,{children:[s.jsx(J,{variant:"body2",color:"textSecondary",children:"Пароль администратора"}),s.jsx(J,{variant:"body1",fontWeight:"bold",children:g.adminPassword})]})]})]}),s.jsxs(nl,{sx:{justifyContent:"space-between",px:3,pb:3},children:[s.jsx(Pt,{onClick:()=>e("/"),variant:"outlined",children:"На главную"}),!l&&s.jsx(Pt,{onClick:()=>window.open("/admin/login","_blank"),variant:"contained",startIcon:s.jsx(rh,{}),children:"Вход для админов"})]})]}),s.jsx(lo,{open:t,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{background:"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)",borderRadius:3}},children:s.jsx(Ao,{sx:{py:4},children:s.jsxs(Ne,{textAlign:"center",children:[s.jsx(hg,{size:80,className:"mb-4"}),s.jsx(J,{variant:"h5",gutterBottom:!0,sx:{mb:4,fontWeight:600},children:"Создаем ваш клуб..."}),s.jsxs(Ne,{sx:{mb:4},children:[s.jsx(aj,{variant:"determinate",value:c,sx:{height:8,borderRadius:4,backgroundColor:"rgba(0, 168, 107, 0.1)","& .MuiLinearProgress-bar":{borderRadius:4,backgroundColor:"#00A86B"}}}),s.jsxs(J,{variant:"caption",sx:{mt:1,display:"block"},children:[Math.round(c),"%"]})]}),h&&s.jsx(Ne,{sx:{minHeight:120},children:AC.map((S,w)=>s.jsx(Nh,{in:u>=w,timeout:1e3,style:{display:u===w?"block":"none"},children:s.jsxs(Ne,{children:[s.jsx(Ne,{sx:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:60,height:60,borderRadius:"50%",backgroundColor:"rgba(0, 168, 107, 0.1)",mb:2},children:mn.cloneElement(S.icon,{sx:{fontSize:30,color:"#00A86B"}})}),s.jsx(J,{variant:"h6",gutterBottom:!0,children:S.title}),s.jsx(J,{variant:"body2",color:"textSecondary",children:S.description})]})},w))}),s.jsx(J,{variant:"body2",color:"textSecondary",sx:{mt:3},children:"Настраиваем систему управления для вашего клуба..."})]})})})]})}var g$=Object.defineProperty,fg=Object.getOwnPropertySymbols,Sj=Object.prototype.hasOwnProperty,jj=Object.prototype.propertyIsEnumerable,cC=(e,t,n)=>t in e?g$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,N1=(e,t)=>{for(var n in t||(t={}))Sj.call(t,n)&&cC(e,n,t[n]);if(fg)for(var n of fg(t))jj.call(t,n)&&cC(e,n,t[n]);return e},T1=(e,t)=>{var n={};for(var r in e)Sj.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&fg)for(var r of fg(e))t.indexOf(r)<0&&jj.call(e,r)&&(n[r]=e[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var sA;(e=>{const t=class cn{constructor(A,c,d,u){if(this.version=A,this.errorCorrectionLevel=c,this.modules=[],this.isFunction=[],A<cn.MIN_VERSION||A>cn.MAX_VERSION)throw new RangeError("Version value out of range");if(u<-1||u>7)throw new RangeError("Mask value out of range");this.size=A*4+17;let p=[];for(let m=0;m<this.size;m++)p.push(!1);for(let m=0;m<this.size;m++)this.modules.push(p.slice()),this.isFunction.push(p.slice());this.drawFunctionPatterns();const h=this.addEccAndInterleave(d);if(this.drawCodewords(h),u==-1){let m=1e9;for(let g=0;g<8;g++){this.applyMask(g),this.drawFormatBits(g);const y=this.getPenaltyScore();y<m&&(u=g,m=y),this.applyMask(g)}}i(0<=u&&u<=7),this.mask=u,this.applyMask(u),this.drawFormatBits(u),this.isFunction=[]}static encodeText(A,c){const d=e.QrSegment.makeSegments(A);return cn.encodeSegments(d,c)}static encodeBinary(A,c){const d=e.QrSegment.makeBytes(A);return cn.encodeSegments([d],c)}static encodeSegments(A,c,d=1,u=40,p=-1,h=!0){if(!(cn.MIN_VERSION<=d&&d<=u&&u<=cn.MAX_VERSION)||p<-1||p>7)throw new RangeError("Invalid value");let m,g;for(m=d;;m++){const S=cn.getNumDataCodewords(m,c)*8,w=o.getTotalBits(A,m);if(w<=S){g=w;break}if(m>=u)throw new RangeError("Data too long")}for(const S of[cn.Ecc.MEDIUM,cn.Ecc.QUARTILE,cn.Ecc.HIGH])h&&g<=cn.getNumDataCodewords(m,S)*8&&(c=S);let y=[];for(const S of A){n(S.mode.modeBits,4,y),n(S.numChars,S.mode.numCharCountBits(m),y);for(const w of S.getData())y.push(w)}i(y.length==g);const x=cn.getNumDataCodewords(m,c)*8;i(y.length<=x),n(0,Math.min(4,x-y.length),y),n(0,(8-y.length%8)%8,y),i(y.length%8==0);for(let S=236;y.length<x;S^=253)n(S,8,y);let C=[];for(;C.length*8<y.length;)C.push(0);return y.forEach((S,w)=>C[w>>>3]|=S<<7-(w&7)),new cn(m,c,C,p)}getModule(A,c){return 0<=A&&A<this.size&&0<=c&&c<this.size&&this.modules[c][A]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const A=this.getAlignmentPatternPositions(),c=A.length;for(let d=0;d<c;d++)for(let u=0;u<c;u++)d==0&&u==0||d==0&&u==c-1||d==c-1&&u==0||this.drawAlignmentPattern(A[d],A[u]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(A){const c=this.errorCorrectionLevel.formatBits<<3|A;let d=c;for(let p=0;p<10;p++)d=d<<1^(d>>>9)*1335;const u=(c<<10|d)^21522;i(u>>>15==0);for(let p=0;p<=5;p++)this.setFunctionModule(8,p,r(u,p));this.setFunctionModule(8,7,r(u,6)),this.setFunctionModule(8,8,r(u,7)),this.setFunctionModule(7,8,r(u,8));for(let p=9;p<15;p++)this.setFunctionModule(14-p,8,r(u,p));for(let p=0;p<8;p++)this.setFunctionModule(this.size-1-p,8,r(u,p));for(let p=8;p<15;p++)this.setFunctionModule(8,this.size-15+p,r(u,p));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let A=this.version;for(let d=0;d<12;d++)A=A<<1^(A>>>11)*7973;const c=this.version<<12|A;i(c>>>18==0);for(let d=0;d<18;d++){const u=r(c,d),p=this.size-11+d%3,h=Math.floor(d/3);this.setFunctionModule(p,h,u),this.setFunctionModule(h,p,u)}}drawFinderPattern(A,c){for(let d=-4;d<=4;d++)for(let u=-4;u<=4;u++){const p=Math.max(Math.abs(u),Math.abs(d)),h=A+u,m=c+d;0<=h&&h<this.size&&0<=m&&m<this.size&&this.setFunctionModule(h,m,p!=2&&p!=4)}}drawAlignmentPattern(A,c){for(let d=-2;d<=2;d++)for(let u=-2;u<=2;u++)this.setFunctionModule(A+u,c+d,Math.max(Math.abs(u),Math.abs(d))!=1)}setFunctionModule(A,c,d){this.modules[c][A]=d,this.isFunction[c][A]=!0}addEccAndInterleave(A){const c=this.version,d=this.errorCorrectionLevel;if(A.length!=cn.getNumDataCodewords(c,d))throw new RangeError("Invalid argument");const u=cn.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][c],p=cn.ECC_CODEWORDS_PER_BLOCK[d.ordinal][c],h=Math.floor(cn.getNumRawDataModules(c)/8),m=u-h%u,g=Math.floor(h/u);let y=[];const x=cn.reedSolomonComputeDivisor(p);for(let S=0,w=0;S<u;S++){let _=A.slice(w,w+g-p+(S<m?0:1));w+=_.length;const E=cn.reedSolomonComputeRemainder(_,x);S<m&&_.push(0),y.push(_.concat(E))}let C=[];for(let S=0;S<y[0].length;S++)y.forEach((w,_)=>{(S!=g-p||_>=m)&&C.push(w[S])});return i(C.length==h),C}drawCodewords(A){if(A.length!=Math.floor(cn.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let c=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let u=0;u<this.size;u++)for(let p=0;p<2;p++){const h=d-p,g=(d+1&2)==0?this.size-1-u:u;!this.isFunction[g][h]&&c<A.length*8&&(this.modules[g][h]=r(A[c>>>3],7-(c&7)),c++)}}i(c==A.length*8)}applyMask(A){if(A<0||A>7)throw new RangeError("Mask value out of range");for(let c=0;c<this.size;c++)for(let d=0;d<this.size;d++){let u;switch(A){case 0:u=(d+c)%2==0;break;case 1:u=c%2==0;break;case 2:u=d%3==0;break;case 3:u=(d+c)%3==0;break;case 4:u=(Math.floor(d/3)+Math.floor(c/2))%2==0;break;case 5:u=d*c%2+d*c%3==0;break;case 6:u=(d*c%2+d*c%3)%2==0;break;case 7:u=((d+c)%2+d*c%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[c][d]&&u&&(this.modules[c][d]=!this.modules[c][d])}}getPenaltyScore(){let A=0;for(let p=0;p<this.size;p++){let h=!1,m=0,g=[0,0,0,0,0,0,0];for(let y=0;y<this.size;y++)this.modules[p][y]==h?(m++,m==5?A+=cn.PENALTY_N1:m>5&&A++):(this.finderPenaltyAddHistory(m,g),h||(A+=this.finderPenaltyCountPatterns(g)*cn.PENALTY_N3),h=this.modules[p][y],m=1);A+=this.finderPenaltyTerminateAndCount(h,m,g)*cn.PENALTY_N3}for(let p=0;p<this.size;p++){let h=!1,m=0,g=[0,0,0,0,0,0,0];for(let y=0;y<this.size;y++)this.modules[y][p]==h?(m++,m==5?A+=cn.PENALTY_N1:m>5&&A++):(this.finderPenaltyAddHistory(m,g),h||(A+=this.finderPenaltyCountPatterns(g)*cn.PENALTY_N3),h=this.modules[y][p],m=1);A+=this.finderPenaltyTerminateAndCount(h,m,g)*cn.PENALTY_N3}for(let p=0;p<this.size-1;p++)for(let h=0;h<this.size-1;h++){const m=this.modules[p][h];m==this.modules[p][h+1]&&m==this.modules[p+1][h]&&m==this.modules[p+1][h+1]&&(A+=cn.PENALTY_N2)}let c=0;for(const p of this.modules)c=p.reduce((h,m)=>h+(m?1:0),c);const d=this.size*this.size,u=Math.ceil(Math.abs(c*20-d*10)/d)-1;return i(0<=u&&u<=9),A+=u*cn.PENALTY_N4,i(0<=A&&A<=2568888),A}getAlignmentPatternPositions(){if(this.version==1)return[];{const A=Math.floor(this.version/7)+2,c=this.version==32?26:Math.ceil((this.version*4+4)/(A*2-2))*2;let d=[6];for(let u=this.size-7;d.length<A;u-=c)d.splice(1,0,u);return d}}static getNumRawDataModules(A){if(A<cn.MIN_VERSION||A>cn.MAX_VERSION)throw new RangeError("Version number out of range");let c=(16*A+128)*A+64;if(A>=2){const d=Math.floor(A/7)+2;c-=(25*d-10)*d-55,A>=7&&(c-=36)}return i(208<=c&&c<=29648),c}static getNumDataCodewords(A,c){return Math.floor(cn.getNumRawDataModules(A)/8)-cn.ECC_CODEWORDS_PER_BLOCK[c.ordinal][A]*cn.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][A]}static reedSolomonComputeDivisor(A){if(A<1||A>255)throw new RangeError("Degree out of range");let c=[];for(let u=0;u<A-1;u++)c.push(0);c.push(1);let d=1;for(let u=0;u<A;u++){for(let p=0;p<c.length;p++)c[p]=cn.reedSolomonMultiply(c[p],d),p+1<c.length&&(c[p]^=c[p+1]);d=cn.reedSolomonMultiply(d,2)}return c}static reedSolomonComputeRemainder(A,c){let d=c.map(u=>0);for(const u of A){const p=u^d.shift();d.push(0),c.forEach((h,m)=>d[m]^=cn.reedSolomonMultiply(h,p))}return d}static reedSolomonMultiply(A,c){if(A>>>8||c>>>8)throw new RangeError("Byte out of range");let d=0;for(let u=7;u>=0;u--)d=d<<1^(d>>>7)*285,d^=(c>>>u&1)*A;return i(d>>>8==0),d}finderPenaltyCountPatterns(A){const c=A[1];i(c<=this.size*3);const d=c>0&&A[2]==c&&A[3]==c*3&&A[4]==c&&A[5]==c;return(d&&A[0]>=c*4&&A[6]>=c?1:0)+(d&&A[6]>=c*4&&A[0]>=c?1:0)}finderPenaltyTerminateAndCount(A,c,d){return A&&(this.finderPenaltyAddHistory(c,d),c=0),c+=this.size,this.finderPenaltyAddHistory(c,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(A,c){c[0]==0&&(A+=this.size),c.pop(),c.unshift(A)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(l,A,c){if(A<0||A>31||l>>>A)throw new RangeError("Value out of range");for(let d=A-1;d>=0;d--)c.push(l>>>d&1)}function r(l,A){return(l>>>A&1)!=0}function i(l){if(!l)throw new Error("Assertion error")}const a=class mr{constructor(A,c,d){if(this.mode=A,this.numChars=c,this.bitData=d,c<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(A){let c=[];for(const d of A)n(d,8,c);return new mr(mr.Mode.BYTE,A.length,c)}static makeNumeric(A){if(!mr.isNumeric(A))throw new RangeError("String contains non-numeric characters");let c=[];for(let d=0;d<A.length;){const u=Math.min(A.length-d,3);n(parseInt(A.substring(d,d+u),10),u*3+1,c),d+=u}return new mr(mr.Mode.NUMERIC,A.length,c)}static makeAlphanumeric(A){if(!mr.isAlphanumeric(A))throw new RangeError("String contains unencodable characters in alphanumeric mode");let c=[],d;for(d=0;d+2<=A.length;d+=2){let u=mr.ALPHANUMERIC_CHARSET.indexOf(A.charAt(d))*45;u+=mr.ALPHANUMERIC_CHARSET.indexOf(A.charAt(d+1)),n(u,11,c)}return d<A.length&&n(mr.ALPHANUMERIC_CHARSET.indexOf(A.charAt(d)),6,c),new mr(mr.Mode.ALPHANUMERIC,A.length,c)}static makeSegments(A){return A==""?[]:mr.isNumeric(A)?[mr.makeNumeric(A)]:mr.isAlphanumeric(A)?[mr.makeAlphanumeric(A)]:[mr.makeBytes(mr.toUtf8ByteArray(A))]}static makeEci(A){let c=[];if(A<0)throw new RangeError("ECI assignment value out of range");if(A<128)n(A,8,c);else if(A<16384)n(2,2,c),n(A,14,c);else if(A<1e6)n(6,3,c),n(A,21,c);else throw new RangeError("ECI assignment value out of range");return new mr(mr.Mode.ECI,0,c)}static isNumeric(A){return mr.NUMERIC_REGEX.test(A)}static isAlphanumeric(A){return mr.ALPHANUMERIC_REGEX.test(A)}getData(){return this.bitData.slice()}static getTotalBits(A,c){let d=0;for(const u of A){const p=u.mode.numCharCountBits(c);if(u.numChars>=1<<p)return 1/0;d+=4+p+u.bitData.length}return d}static toUtf8ByteArray(A){A=encodeURI(A);let c=[];for(let d=0;d<A.length;d++)A.charAt(d)!="%"?c.push(A.charCodeAt(d)):(c.push(parseInt(A.substring(d+1,d+3),16)),d+=2);return c}};a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=a;e.QrSegment=a})(sA||(sA={}));(e=>{(t=>{const n=class{constructor(i,a){this.ordinal=i,this.formatBits=a}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(sA||(sA={}));(e=>{(t=>{const n=class{constructor(i,a){this.modeBits=i,this.numBitsCharCount=a}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(sA||(sA={}));var uc=sA;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var m$={L:uc.QrCode.Ecc.LOW,M:uc.QrCode.Ecc.MEDIUM,Q:uc.QrCode.Ecc.QUARTILE,H:uc.QrCode.Ecc.HIGH},kj=128,Ej="L",Ij="#FFFFFF",Fj="#000000",Nj=!1,Tj=1,v$=4,y$=0,x$=.1;function _j(e,t=0){const n=[];return e.forEach(function(r,i){let a=null;r.forEach(function(o,l){if(!o&&a!==null){n.push(`M${a+t} ${i+t}h${l-a}v1H${a+t}z`),a=null;return}if(l===r.length-1){if(!o)return;a===null?n.push(`M${l+t},${i+t} h1v1H${l+t}z`):n.push(`M${a+t},${i+t} h${l+1-a}v1H${a+t}z`);return}o&&a===null&&(a=l)})}),n.join("")}function Dj(e,t){return e.slice().map((n,r)=>r<t.y||r>=t.y+t.h?n:n.map((i,a)=>a<t.x||a>=t.x+t.w?i:!1))}function b$(e,t,n,r){if(r==null)return null;const i=e.length+n*2,a=Math.floor(t*x$),o=i/t,l=(r.width||a)*o,A=(r.height||a)*o,c=r.x==null?e.length/2-l/2:r.x*o,d=r.y==null?e.length/2-A/2:r.y*o,u=r.opacity==null?1:r.opacity;let p=null;if(r.excavate){let m=Math.floor(c),g=Math.floor(d),y=Math.ceil(l+c-m),x=Math.ceil(A+d-g);p={x:m,y:g,w:y,h:x}}const h=r.crossOrigin;return{x:c,y:d,h:A,w:l,excavation:p,opacity:u,crossOrigin:h}}function w$(e,t){return t!=null?Math.max(Math.floor(t),0):e?v$:y$}function Uj({value:e,level:t,minVersion:n,includeMargin:r,marginSize:i,imageSettings:a,size:o,boostLevel:l}){let A=mn.useMemo(()=>{const m=(Array.isArray(e)?e:[e]).reduce((g,y)=>(g.push(...uc.QrSegment.makeSegments(y)),g),[]);return uc.QrCode.encodeSegments(m,m$[t],n,void 0,void 0,l)},[e,t,n,l]);const{cells:c,margin:d,numCells:u,calculatedImageSettings:p}=mn.useMemo(()=>{let h=A.getModules();const m=w$(r,i),g=h.length+m*2,y=b$(h,o,m,a);return{cells:h,margin:m,numCells:g,calculatedImageSettings:y}},[A,o,a,r,i]);return{qrcode:A,margin:d,cells:c,numCells:u,calculatedImageSettings:p}}var C$=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),B$=mn.forwardRef(function(t,n){const r=t,{value:i,size:a=kj,level:o=Ej,bgColor:l=Ij,fgColor:A=Fj,includeMargin:c=Nj,minVersion:d=Tj,boostLevel:u,marginSize:p,imageSettings:h}=r,g=T1(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:y}=g,x=T1(g,["style"]),C=h==null?void 0:h.src,S=mn.useRef(null),w=mn.useRef(null),_=mn.useCallback(N=>{S.current=N,typeof n=="function"?n(N):n&&(n.current=N)},[n]),[E,T]=mn.useState(!1),{margin:F,cells:M,numCells:P,calculatedImageSettings:I}=Uj({value:i,level:o,minVersion:d,boostLevel:u,includeMargin:c,marginSize:p,imageSettings:h,size:a});mn.useEffect(()=>{if(S.current!=null){const N=S.current,z=N.getContext("2d");if(!z)return;let L=M;const D=w.current,K=I!=null&&D!==null&&D.complete&&D.naturalHeight!==0&&D.naturalWidth!==0;K&&I.excavation!=null&&(L=Dj(M,I.excavation));const q=window.devicePixelRatio||1;N.height=N.width=a*q;const Z=a/P*q;z.scale(Z,Z),z.fillStyle=l,z.fillRect(0,0,P,P),z.fillStyle=A,C$?z.fill(new Path2D(_j(L,F))):M.forEach(function(Ae,H){Ae.forEach(function(R,Q){R&&z.fillRect(Q+F,H+F,1,1)})}),I&&(z.globalAlpha=I.opacity),K&&z.drawImage(D,I.x+F,I.y+F,I.w,I.h)}}),mn.useEffect(()=>{T(!1)},[C]);const j=N1({height:a,width:a},y);let U=null;return C!=null&&(U=mn.createElement("img",{src:C,key:C,style:{display:"none"},onLoad:()=>{T(!0)},ref:w,crossOrigin:I==null?void 0:I.crossOrigin})),mn.createElement(mn.Fragment,null,mn.createElement("canvas",N1({style:j,height:a,width:a,ref:_,role:"img"},x)),U)});B$.displayName="QRCodeCanvas";var pg=mn.forwardRef(function(t,n){const r=t,{value:i,size:a=kj,level:o=Ej,bgColor:l=Ij,fgColor:A=Fj,includeMargin:c=Nj,minVersion:d=Tj,boostLevel:u,title:p,marginSize:h,imageSettings:m}=r,g=T1(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:y,cells:x,numCells:C,calculatedImageSettings:S}=Uj({value:i,level:o,minVersion:d,boostLevel:u,includeMargin:c,marginSize:h,imageSettings:m,size:a});let w=x,_=null;m!=null&&S!=null&&(S.excavation!=null&&(w=Dj(x,S.excavation)),_=mn.createElement("image",{href:m.src,height:S.h,width:S.w,x:S.x+y,y:S.y+y,preserveAspectRatio:"none",opacity:S.opacity,crossOrigin:S.crossOrigin}));const E=_j(w,y);return mn.createElement("svg",N1({height:a,width:a,viewBox:`0 0 ${C} ${C}`,ref:n,role:"img"},g),!!p&&mn.createElement("title",null,p),mn.createElement("path",{fill:l,d:`M0,0 h${C}v${C}H0z`,shapeRendering:"crispEdges"}),mn.createElement("path",{fill:A,d:E,shapeRendering:"crispEdges"}),_)});pg.displayName="QRCodeSVG";const S$="modulepreload",j$=function(e){return"/admin/"+e},dC={},ah=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(A=>{if(A=j$(A),A in dC)return;dC[A]=!0;const c=A.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${A}"]${d}`))return;const u=document.createElement("link");if(u.rel=c?"stylesheet":S$,c||(u.as="script"),u.crossOrigin="",u.href=A,l&&u.setAttribute("nonce",l),document.head.appendChild(u),c)return new Promise((p,h)=>{u.addEventListener("load",p),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${A}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})};var js=Uint8Array,Ai=Uint16Array,Dx=Int32Array,Tm=new js([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),_m=new js([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),_1=new js([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Lj=function(e,t){for(var n=new Ai(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new Dx(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},Mj=Lj(Tm,2),Pj=Mj.b,D1=Mj.r;Pj[28]=258,D1[258]=28;var Qj=Lj(_m,0),k$=Qj.b,uC=Qj.r,U1=new Ai(32768);for(var ir=0;ir<32768;++ir){var Uo=(ir&43690)>>1|(ir&21845)<<1;Uo=(Uo&52428)>>2|(Uo&13107)<<2,Uo=(Uo&61680)>>4|(Uo&3855)<<4,U1[ir]=((Uo&65280)>>8|(Uo&255)<<8)>>1}var Sa=function(e,t,n){for(var r=e.length,i=0,a=new Ai(t);i<r;++i)e[i]&&++a[e[i]-1];var o=new Ai(t);for(i=1;i<t;++i)o[i]=o[i-1]+a[i-1]<<1;var l;if(n){l=new Ai(1<<t);var A=15-t;for(i=0;i<r;++i)if(e[i])for(var c=i<<4|e[i],d=t-e[i],u=o[e[i]-1]++<<d,p=u|(1<<d)-1;u<=p;++u)l[U1[u]>>A]=c}else for(l=new Ai(r),i=0;i<r;++i)e[i]&&(l[i]=U1[o[e[i]-1]++]>>15-e[i]);return l},al=new js(288);for(var ir=0;ir<144;++ir)al[ir]=8;for(var ir=144;ir<256;++ir)al[ir]=9;for(var ir=256;ir<280;++ir)al[ir]=7;for(var ir=280;ir<288;++ir)al[ir]=8;var oh=new js(32);for(var ir=0;ir<32;++ir)oh[ir]=5;var E$=Sa(al,9,0),I$=Sa(al,9,1),F$=Sa(oh,5,0),N$=Sa(oh,5,1),cv=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Yi=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},dv=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},Ux=function(e){return(e+7)/8|0},Rj=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new js(e.subarray(t,n))},T$=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Zi=function(e,t,n){var r=new Error(t||T$[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,Zi),!n)throw r;return r},_$=function(e,t,n,r){var i=e.length,a=0;if(!i||t.f&&!t.l)return n||new js(0);var o=!n,l=o||t.i!=2,A=t.i;o&&(n=new js(i*3));var c=function(re){var ge=n.length;if(re>ge){var le=new js(Math.max(ge*2,re));le.set(n),n=le}},d=t.f||0,u=t.p||0,p=t.b||0,h=t.l,m=t.d,g=t.m,y=t.n,x=i*8;do{if(!h){d=Yi(e,u,1);var C=Yi(e,u+1,3);if(u+=3,C)if(C==1)h=I$,m=N$,g=9,y=5;else if(C==2){var E=Yi(e,u,31)+257,T=Yi(e,u+10,15)+4,F=E+Yi(e,u+5,31)+1;u+=14;for(var M=new js(F),P=new js(19),I=0;I<T;++I)P[_1[I]]=Yi(e,u+I*3,7);u+=T*3;for(var j=cv(P),U=(1<<j)-1,N=Sa(P,j,1),I=0;I<F;){var z=N[Yi(e,u,U)];u+=z&15;var S=z>>4;if(S<16)M[I++]=S;else{var L=0,D=0;for(S==16?(D=3+Yi(e,u,3),u+=2,L=M[I-1]):S==17?(D=3+Yi(e,u,7),u+=3):S==18&&(D=11+Yi(e,u,127),u+=7);D--;)M[I++]=L}}var K=M.subarray(0,E),q=M.subarray(E);g=cv(K),y=cv(q),h=Sa(K,g,1),m=Sa(q,y,1)}else Zi(1);else{var S=Ux(u)+4,w=e[S-4]|e[S-3]<<8,_=S+w;if(_>i){A&&Zi(0);break}l&&c(p+w),n.set(e.subarray(S,_),p),t.b=p+=w,t.p=u=_*8,t.f=d;continue}if(u>x){A&&Zi(0);break}}l&&c(p+131072);for(var Z=(1<<g)-1,Ae=(1<<y)-1,H=u;;H=u){var L=h[dv(e,u)&Z],R=L>>4;if(u+=L&15,u>x){A&&Zi(0);break}if(L||Zi(2),R<256)n[p++]=R;else if(R==256){H=u,h=null;break}else{var Q=R-254;if(R>264){var I=R-257,$=Tm[I];Q=Yi(e,u,(1<<$)-1)+Pj[I],u+=$}var V=m[dv(e,u)&Ae],G=V>>4;V||Zi(3),u+=V&15;var q=k$[G];if(G>3){var $=_m[G];q+=dv(e,u)&(1<<$)-1,u+=$}if(u>x){A&&Zi(0);break}l&&c(p+131072);var ie=p+Q;if(p<q){var ne=a-q,xe=Math.min(q,ie);for(ne+p<0&&Zi(3);p<xe;++p)n[p]=r[ne+p]}for(;p<ie;++p)n[p]=n[p-q]}}t.l=h,t.p=H,t.b=p,t.f=d,h&&(d=1,t.m=g,t.d=m,t.n=y)}while(!d);return p!=n.length&&o?Rj(n,0,p):n.subarray(0,p)},za=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},ru=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},uv=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,a=n.slice();if(!i)return{t:Oj,l:0};if(i==1){var o=new js(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(_,E){return _.f-E.f}),n.push({s:-1,f:25001});var l=n[0],A=n[1],c=0,d=1,u=2;for(n[0]={s:-1,f:l.f+A.f,l,r:A};d!=i-1;)l=n[n[c].f<n[u].f?c++:u++],A=n[c!=d&&n[c].f<n[u].f?c++:u++],n[d++]={s:-1,f:l.f+A.f,l,r:A};for(var p=a[0].s,r=1;r<i;++r)a[r].s>p&&(p=a[r].s);var h=new Ai(p+1),m=L1(n[d-1],h,0);if(m>t){var r=0,g=0,y=m-t,x=1<<y;for(a.sort(function(E,T){return h[T.s]-h[E.s]||E.f-T.f});r<i;++r){var C=a[r].s;if(h[C]>t)g+=x-(1<<m-h[C]),h[C]=t;else break}for(g>>=y;g>0;){var S=a[r].s;h[S]<t?g-=1<<t-h[S]++-1:++r}for(;r>=0&&g;--r){var w=a[r].s;h[w]==t&&(--h[w],++g)}m=t}return{t:new js(h),l:m}},L1=function(e,t,n){return e.s==-1?Math.max(L1(e.l,t,n+1),L1(e.r,t,n+1)):t[e.s]=n},hC=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Ai(++t),r=0,i=e[0],a=1,o=function(A){n[r++]=A},l=1;l<=t;++l)if(e[l]==i&&l!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=e[l]}return{c:n.subarray(0,r),n:t}},su=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},Hj=function(e,t,n){var r=n.length,i=Ux(t+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var a=0;a<r;++a)e[i+a+4]=n[a];return(i+4+r)*8},fC=function(e,t,n,r,i,a,o,l,A,c,d){za(t,d++,n),++i[256];for(var u=uv(i,15),p=u.t,h=u.l,m=uv(a,15),g=m.t,y=m.l,x=hC(p),C=x.c,S=x.n,w=hC(g),_=w.c,E=w.n,T=new Ai(19),F=0;F<C.length;++F)++T[C[F]&31];for(var F=0;F<_.length;++F)++T[_[F]&31];for(var M=uv(T,7),P=M.t,I=M.l,j=19;j>4&&!P[_1[j-1]];--j);var U=c+5<<3,N=su(i,al)+su(a,oh)+o,z=su(i,p)+su(a,g)+o+14+3*j+su(T,P)+2*T[16]+3*T[17]+7*T[18];if(A>=0&&U<=N&&U<=z)return Hj(t,d,e.subarray(A,A+c));var L,D,K,q;if(za(t,d,1+(z<N)),d+=2,z<N){L=Sa(p,h,0),D=p,K=Sa(g,y,0),q=g;var Z=Sa(P,I,0);za(t,d,S-257),za(t,d+5,E-1),za(t,d+10,j-4),d+=14;for(var F=0;F<j;++F)za(t,d+3*F,P[_1[F]]);d+=3*j;for(var Ae=[C,_],H=0;H<2;++H)for(var R=Ae[H],F=0;F<R.length;++F){var Q=R[F]&31;za(t,d,Z[Q]),d+=P[Q],Q>15&&(za(t,d,R[F]>>5&127),d+=R[F]>>12)}}else L=E$,D=al,K=F$,q=oh;for(var F=0;F<l;++F){var $=r[F];if($>255){var Q=$>>18&31;ru(t,d,L[Q+257]),d+=D[Q+257],Q>7&&(za(t,d,$>>23&31),d+=Tm[Q]);var V=$&31;ru(t,d,K[V]),d+=q[V],V>3&&(ru(t,d,$>>5&8191),d+=_m[V])}else ru(t,d,L[$]),d+=D[$]}return ru(t,d,L[256]),d+D[256]},D$=new Dx([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Oj=new js(0),U$=function(e,t,n,r,i,a){var o=a.z||e.length,l=new js(r+o+5*(1+Math.ceil(o/7e3))+i),A=l.subarray(r,l.length-i),c=a.l,d=(a.r||0)&7;if(t){d&&(A[0]=a.r>>3);for(var u=D$[t-1],p=u>>13,h=u&8191,m=(1<<n)-1,g=a.p||new Ai(32768),y=a.h||new Ai(m+1),x=Math.ceil(n/3),C=2*x,S=function(be){return(e[be]^e[be+1]<<x^e[be+2]<<C)&m},w=new Dx(25e3),_=new Ai(288),E=new Ai(32),T=0,F=0,M=a.i||0,P=0,I=a.w||0,j=0;M+2<o;++M){var U=S(M),N=M&32767,z=y[U];if(g[N]=z,y[U]=N,I<=M){var L=o-M;if((T>7e3||P>24576)&&(L>423||!c)){d=fC(e,A,0,w,_,E,F,P,j,M-j,d),P=T=F=0,j=M;for(var D=0;D<286;++D)_[D]=0;for(var D=0;D<30;++D)E[D]=0}var K=2,q=0,Z=h,Ae=N-z&32767;if(L>2&&U==S(M-Ae))for(var H=Math.min(p,L)-1,R=Math.min(32767,M),Q=Math.min(258,L);Ae<=R&&--Z&&N!=z;){if(e[M+K]==e[M+K-Ae]){for(var $=0;$<Q&&e[M+$]==e[M+$-Ae];++$);if($>K){if(K=$,q=Ae,$>H)break;for(var V=Math.min(Ae,$-2),G=0,D=0;D<V;++D){var ie=M-Ae+D&32767,ne=g[ie],xe=ie-ne&32767;xe>G&&(G=xe,z=ie)}}}N=z,z=g[N],Ae+=N-z&32767}if(q){w[P++]=268435456|D1[K]<<18|uC[q];var re=D1[K]&31,ge=uC[q]&31;F+=Tm[re]+_m[ge],++_[257+re],++E[ge],I=M+K,++T}else w[P++]=e[M],++_[e[M]]}}for(M=Math.max(M,I);M<o;++M)w[P++]=e[M],++_[e[M]];d=fC(e,A,c,w,_,E,F,P,j,M-j,d),c||(a.r=d&7|A[d/8|0]<<3,d-=7,a.h=y,a.p=g,a.i=M,a.w=I)}else{for(var M=a.w||0;M<o+c;M+=65535){var le=M+65535;le>=o&&(A[d/8|0]=c,le=o),d=Hj(A,d+1,e.subarray(M,le))}a.i=o}return Rj(l,0,r+Ux(d)+i)},$j=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,a=n.length|0,o=0;o!=a;){for(var l=Math.min(o+2655,a);o<l;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},L$=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),o=new js(a.length+e.length);o.set(a),o.set(e,a.length),e=o,i.w=a.length}return U$(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,i)},zj=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},M$=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=$j();i.p(t.dictionary),zj(e,2,i.d())}},P$=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Zi(6,"invalid zlib data"),(e[1]>>5&1)==1&&Zi(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function M1(e,t){t||(t={});var n=$j();n.p(e);var r=L$(e,t,t.dictionary?6:2,4);return M$(r,t),zj(r,r.length-4,n.d()),r}function Q$(e,t){return _$(e.subarray(P$(e),-4),{i:2},t,t)}var R$=typeof TextDecoder<"u"&&new TextDecoder,H$=0;try{R$.decode(Oj,{stream:!0}),H$=1}catch{}var Kt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function hv(){Kt.console&&typeof Kt.console.log=="function"&&Kt.console.log.apply(Kt.console,arguments)}var Gn={log:hv,warn:function(e){Kt.console&&(typeof Kt.console.warn=="function"?Kt.console.warn.apply(Kt.console,arguments):hv.call(null,arguments))},error:function(e){Kt.console&&(typeof Kt.console.error=="function"?Kt.console.error.apply(Kt.console,arguments):hv(e))}};function fv(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){Tl(r.response,t,n)},r.onerror=function(){Gn.error("could not download file")},r.send()}function pC(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Of(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Lu,P1,Tl=Kt.saveAs||((typeof window>"u"?"undefined":pn(window))!=="object"||window!==Kt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=Kt.URL||Kt.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?pC(i.href)?fv(e,t,n):Of(i,i.target="_blank"):Of(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Of(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(pC(e))fv(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){Of(r)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:pn(a)!=="object"&&(Gn.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return fv(e,t,n);var i=e.type==="application/octet-stream",a=/constructor/i.test(Kt.HTMLElement)||Kt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":pn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},l.readAsDataURL(e)}else{var A=Kt.URL||Kt.webkitURL,c=A.createObjectURL(e);r?r.location=c:location.href=c,r=null,setTimeout(function(){A.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Wj(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,a=n[r].process,o=i.exec(e);o&&(t=a(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),A=this.g.toString(16),c=this.b.toString(16);return l.length==1&&(l="0"+l),A.length==1&&(A="0"+A),c.length==1&&(c="0"+c),"#"+l+A+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function pv(e,t){var n=e[0],r=e[1],i=e[2],a=e[3];n=gs(n,r,i,a,t[0],7,-680876936),a=gs(a,n,r,i,t[1],12,-389564586),i=gs(i,a,n,r,t[2],17,606105819),r=gs(r,i,a,n,t[3],22,-1044525330),n=gs(n,r,i,a,t[4],7,-176418897),a=gs(a,n,r,i,t[5],12,1200080426),i=gs(i,a,n,r,t[6],17,-1473231341),r=gs(r,i,a,n,t[7],22,-45705983),n=gs(n,r,i,a,t[8],7,1770035416),a=gs(a,n,r,i,t[9],12,-1958414417),i=gs(i,a,n,r,t[10],17,-42063),r=gs(r,i,a,n,t[11],22,-1990404162),n=gs(n,r,i,a,t[12],7,1804603682),a=gs(a,n,r,i,t[13],12,-40341101),i=gs(i,a,n,r,t[14],17,-1502002290),n=ms(n,r=gs(r,i,a,n,t[15],22,1236535329),i,a,t[1],5,-165796510),a=ms(a,n,r,i,t[6],9,-1069501632),i=ms(i,a,n,r,t[11],14,643717713),r=ms(r,i,a,n,t[0],20,-373897302),n=ms(n,r,i,a,t[5],5,-701558691),a=ms(a,n,r,i,t[10],9,38016083),i=ms(i,a,n,r,t[15],14,-660478335),r=ms(r,i,a,n,t[4],20,-405537848),n=ms(n,r,i,a,t[9],5,568446438),a=ms(a,n,r,i,t[14],9,-1019803690),i=ms(i,a,n,r,t[3],14,-187363961),r=ms(r,i,a,n,t[8],20,1163531501),n=ms(n,r,i,a,t[13],5,-1444681467),a=ms(a,n,r,i,t[2],9,-51403784),i=ms(i,a,n,r,t[7],14,1735328473),n=vs(n,r=ms(r,i,a,n,t[12],20,-1926607734),i,a,t[5],4,-378558),a=vs(a,n,r,i,t[8],11,-2022574463),i=vs(i,a,n,r,t[11],16,1839030562),r=vs(r,i,a,n,t[14],23,-35309556),n=vs(n,r,i,a,t[1],4,-1530992060),a=vs(a,n,r,i,t[4],11,1272893353),i=vs(i,a,n,r,t[7],16,-155497632),r=vs(r,i,a,n,t[10],23,-1094730640),n=vs(n,r,i,a,t[13],4,681279174),a=vs(a,n,r,i,t[0],11,-358537222),i=vs(i,a,n,r,t[3],16,-722521979),r=vs(r,i,a,n,t[6],23,76029189),n=vs(n,r,i,a,t[9],4,-640364487),a=vs(a,n,r,i,t[12],11,-421815835),i=vs(i,a,n,r,t[15],16,530742520),n=ys(n,r=vs(r,i,a,n,t[2],23,-995338651),i,a,t[0],6,-198630844),a=ys(a,n,r,i,t[7],10,1126891415),i=ys(i,a,n,r,t[14],15,-1416354905),r=ys(r,i,a,n,t[5],21,-57434055),n=ys(n,r,i,a,t[12],6,1700485571),a=ys(a,n,r,i,t[3],10,-1894986606),i=ys(i,a,n,r,t[10],15,-1051523),r=ys(r,i,a,n,t[1],21,-2054922799),n=ys(n,r,i,a,t[8],6,1873313359),a=ys(a,n,r,i,t[15],10,-30611744),i=ys(i,a,n,r,t[6],15,-1560198380),r=ys(r,i,a,n,t[13],21,1309151649),n=ys(n,r,i,a,t[4],6,-145523070),a=ys(a,n,r,i,t[11],10,-1120210379),i=ys(i,a,n,r,t[2],15,718787259),r=ys(r,i,a,n,t[9],21,-343485551),e[0]=Wo(n,e[0]),e[1]=Wo(r,e[1]),e[2]=Wo(i,e[2]),e[3]=Wo(a,e[3])}function Dm(e,t,n,r,i,a){return t=Wo(Wo(t,e),Wo(r,a)),Wo(t<<i|t>>>32-i,n)}function gs(e,t,n,r,i,a,o){return Dm(t&n|~t&r,e,t,i,a,o)}function ms(e,t,n,r,i,a,o){return Dm(t&r|n&~r,e,t,i,a,o)}function vs(e,t,n,r,i,a,o){return Dm(t^n^r,e,t,i,a,o)}function ys(e,t,n,r,i,a,o){return Dm(n^(t|~r),e,t,i,a,o)}function Kj(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)pv(r,O$(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(pv(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,pv(r,i),r}function O$(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}Lu=Kt.atob.bind(Kt),P1=Kt.btoa.bind(Kt);var gC="0123456789abcdef".split("");function $$(e){for(var t="",n=0;n<4;n++)t+=gC[e>>8*n+4&15]+gC[e>>8*n&15];return t}function z$(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Q1(e){return Kj(e).map(z$).join("")}var W$=function(e){for(var t=0;t<e.length;t++)e[t]=$$(e[t]);return e.join("")}(Kj("hello"))!="5d41402abc4b2a76b9719d911017c592";function Wo(e,t){if(W$){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function R1(e,t){var n,r,i,a;if(e!==n){for(var o=(i=e,a=1+(256/e.length>>0),new Array(a+1).join(i)),l=[],A=0;A<256;A++)l[A]=A;var c=0;for(A=0;A<256;A++){var d=l[A];c=(c+d+o.charCodeAt(A))%256,l[A]=l[c],l[c]=d}n=e,r=l}else l=r;var u=t.length,p=0,h=0,m="";for(A=0;A<u;A++)h=(h+(d=l[p=(p+1)%256]))%256,l[p]=l[h],l[h]=d,o=l[(l[p]+l[h])%256],m+=String.fromCharCode(t.charCodeAt(A)^o);return m}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var mC={print:4,modify:8,copy:16,"annot-forms":32};function ic(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(l){if(mC.perm!==void 0)throw new Error("Invalid permission: "+l);i+=mC[l]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var a=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=Q1(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=R1(this.encryptionKey,this.padding)}function ac(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?t+="#"+("0"+i.toString(16)).slice(-2):t+=e[r]}return t}function vC(e){if(pn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var a=Math.random().toString(35);return t[n][a]=[r,!!i],a},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[n]){var o=t[n][a];try{o[0].apply(e,r)}catch(l){Kt.console&&Gn.error("jsPDF PubSub Error",l.message,l)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function gg(e){if(!(this instanceof gg))return new gg(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function Vj(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Dl(e,t,n,r,i){if(!(this instanceof Dl))return new Dl(e,t,n,r,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,Vj.call(this,r,i)}function hc(e,t,n,r,i){if(!(this instanceof hc))return new hc(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,Vj.call(this,r,i)}function Wt(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],o=[],l=1,A=16,c="S",d=null;pn(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,i=e.format||i,a=e.compress||e.compressPdf||a,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(A=e.floatPrecision),c=e.defaultPathOperation||"S"),o=e.filters||(a===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var u=e.putOnlyUsedFonts||!1,p={},h={internal:{},__private__:{}};h.__private__.PubSub=vC;var m="1.3",g=h.__private__.getPdfVersion=function(){return m};h.__private__.setPdfVersion=function(B){m=B};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return y};var x=h.__private__.getPageFormat=function(B){return y[B]};i=i||"a4";var C={COMPAT:"compat",ADVANCED:"advanced"},S=C.COMPAT;function w(){this.saveGraphicsState(),ae(new St(ye,0,0,-ye,0,xo()*ye).toString()+" cm"),this.setFontSize(this.getFontSize()/ye),c="n",S=C.ADVANCED}function _(){this.restoreGraphicsState(),c="S",S=C.COMPAT}var E=h.__private__.combineFontStyleAndFontWeight=function(B,X){if(B=="bold"&&X=="normal"||B=="bold"&&X==400||B=="normal"&&X=="italic"||B=="bold"&&X=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return X&&(B=X==400||X==="normal"?B==="italic"?"italic":"normal":X!=700&&X!=="bold"||B!=="normal"?(X==700?"bold":X)+""+B:"bold"),B};h.advancedAPI=function(B){var X=S===C.COMPAT;return X&&w.call(this),typeof B!="function"||(B(this),X&&_.call(this)),this},h.compatAPI=function(B){var X=S===C.ADVANCED;return X&&_.call(this),typeof B!="function"||(B(this),X&&w.call(this)),this},h.isAdvancedAPI=function(){return S===C.ADVANCED};var T,F=function(B){if(S!==C.ADVANCED)throw new Error(B+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},M=h.roundToPrecision=h.__private__.roundToPrecision=function(B,X){var he=t||X;if(isNaN(B)||isNaN(he))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return B.toFixed(he).replace(/0+$/,"")};T=h.hpf=h.__private__.hpf=typeof A=="number"?function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return M(B,A)}:A==="smart"?function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return M(B,B>-1&&B<1?16:5)}:function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return M(B,16)};var P=h.f2=h.__private__.f2=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.f2");return M(B,2)},I=h.__private__.f3=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.f3");return M(B,3)},j=h.scale=h.__private__.scale=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.scale");return S===C.COMPAT?B*ye:S===C.ADVANCED?B:void 0},U=function(B){return S===C.COMPAT?xo()-B:S===C.ADVANCED?B:void 0},N=function(B){return j(U(B))};h.__private__.setPrecision=h.setPrecision=function(B){typeof parseInt(B,10)=="number"&&(t=parseInt(B,10))};var z,L="00000000000000000000000000000000",D=h.__private__.getFileId=function(){return L},K=h.__private__.setFileId=function(B){return L=B!==void 0&&/^[a-fA-F0-9]{32}$/.test(B)?B.toUpperCase():L.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(fs=new ic(d.userPermissions,d.userPassword,d.ownerPassword,L)),L};h.setFileId=function(B){return K(B),this},h.getFileId=function(){return D()};var q=h.__private__.convertDateToPDFDate=function(B){var X=B.getTimezoneOffset(),he=X<0?"+":"-",Ce=Math.floor(Math.abs(X/60)),_e=Math.abs(X%60),Ke=[he,Q(Ce),"'",Q(_e),"'"].join("");return["D:",B.getFullYear(),Q(B.getMonth()+1),Q(B.getDate()),Q(B.getHours()),Q(B.getMinutes()),Q(B.getSeconds()),Ke].join("")},Z=h.__private__.convertPDFDateToDate=function(B){var X=parseInt(B.substr(2,4),10),he=parseInt(B.substr(6,2),10)-1,Ce=parseInt(B.substr(8,2),10),_e=parseInt(B.substr(10,2),10),Ke=parseInt(B.substr(12,2),10),at=parseInt(B.substr(14,2),10);return new Date(X,he,Ce,_e,Ke,at,0)},Ae=h.__private__.setCreationDate=function(B){var X;if(B===void 0&&(B=new Date),B instanceof Date)X=q(B);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(B))throw new Error("Invalid argument passed to jsPDF.setCreationDate");X=B}return z=X},H=h.__private__.getCreationDate=function(B){var X=z;return B==="jsDate"&&(X=Z(z)),X};h.setCreationDate=function(B){return Ae(B),this},h.getCreationDate=function(B){return H(B)};var R,Q=h.__private__.padd2=function(B){return("0"+parseInt(B)).slice(-2)},$=h.__private__.padd2Hex=function(B){return("00"+(B=B.toString())).substr(B.length)},V=0,G=[],ie=[],ne=0,xe=[],re=[],ge=!1,le=ie,be=function(){V=0,ne=0,ie=[],G=[],xe=[],Ps=Kn(),is=Kn()};h.__private__.setCustomOutputDestination=function(B){ge=!0,le=B};var ue=function(B){ge||(le=B)};h.__private__.resetCustomOutputDestination=function(){ge=!1,le=ie};var ae=h.__private__.out=function(B){return B=B.toString(),ne+=B.length+1,le.push(B),le},He=h.__private__.write=function(B){return ae(arguments.length===1?B.toString():Array.prototype.join.call(arguments," "))},we=h.__private__.getArrayBuffer=function(B){for(var X=B.length,he=new ArrayBuffer(X),Ce=new Uint8Array(he);X--;)Ce[X]=B.charCodeAt(X);return he},me=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return me};var Ie=e.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(B){return Ie=S===C.ADVANCED?B/ye:B,this};var Te,Oe=h.__private__.getFontSize=h.getFontSize=function(){return S===C.COMPAT?Ie:Ie*ye},qe=e.R2L||!1;h.__private__.setR2L=h.setR2L=function(B){return qe=B,this},h.__private__.getR2L=h.getR2L=function(){return qe};var nt,ht=h.__private__.setZoomMode=function(B){var X=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(B))Te=B;else if(isNaN(B)){if(X.indexOf(B)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+B+'" is not recognized.');Te=B}else Te=parseInt(B,10)};h.__private__.getZoomMode=function(){return Te};var rt,ot=h.__private__.setPageMode=function(B){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(B)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+B+'" is not recognized.');nt=B};h.__private__.getPageMode=function(){return nt};var At=h.__private__.setLayoutMode=function(B){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(B)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+B+'" is not recognized.');rt=B};h.__private__.getLayoutMode=function(){return rt},h.__private__.setDisplayMode=h.setDisplayMode=function(B,X,he){return ht(B),At(X),ot(he),this};var We={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(B){if(Object.keys(We).indexOf(B)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return We[B]},h.__private__.getDocumentProperties=function(){return We},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(B){for(var X in We)We.hasOwnProperty(X)&&B[X]&&(We[X]=B[X]);return this},h.__private__.setDocumentProperty=function(B,X){if(Object.keys(We).indexOf(B)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return We[B]=X};var jt,ye,fe,de,Ue,ve={},je={},pe=[],Ee={},Ze={},ze={},dt={},lt=null,Ve=0,De=[],Qe=new vC(h),it=e.hotfixes||[],ct={},Gt={},Ht=[],St=function B(X,he,Ce,_e,Ke,at){if(!(this instanceof B))return new B(X,he,Ce,_e,Ke,at);isNaN(X)&&(X=1),isNaN(he)&&(he=0),isNaN(Ce)&&(Ce=0),isNaN(_e)&&(_e=1),isNaN(Ke)&&(Ke=0),isNaN(at)&&(at=0),this._matrix=[X,he,Ce,_e,Ke,at]};Object.defineProperty(St.prototype,"sx",{get:function(){return this._matrix[0]},set:function(B){this._matrix[0]=B}}),Object.defineProperty(St.prototype,"shy",{get:function(){return this._matrix[1]},set:function(B){this._matrix[1]=B}}),Object.defineProperty(St.prototype,"shx",{get:function(){return this._matrix[2]},set:function(B){this._matrix[2]=B}}),Object.defineProperty(St.prototype,"sy",{get:function(){return this._matrix[3]},set:function(B){this._matrix[3]=B}}),Object.defineProperty(St.prototype,"tx",{get:function(){return this._matrix[4]},set:function(B){this._matrix[4]=B}}),Object.defineProperty(St.prototype,"ty",{get:function(){return this._matrix[5]},set:function(B){this._matrix[5]=B}}),Object.defineProperty(St.prototype,"a",{get:function(){return this._matrix[0]},set:function(B){this._matrix[0]=B}}),Object.defineProperty(St.prototype,"b",{get:function(){return this._matrix[1]},set:function(B){this._matrix[1]=B}}),Object.defineProperty(St.prototype,"c",{get:function(){return this._matrix[2]},set:function(B){this._matrix[2]=B}}),Object.defineProperty(St.prototype,"d",{get:function(){return this._matrix[3]},set:function(B){this._matrix[3]=B}}),Object.defineProperty(St.prototype,"e",{get:function(){return this._matrix[4]},set:function(B){this._matrix[4]=B}}),Object.defineProperty(St.prototype,"f",{get:function(){return this._matrix[5]},set:function(B){this._matrix[5]=B}}),Object.defineProperty(St.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(St.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(St.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(St.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),St.prototype.join=function(B){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(T).join(B)},St.prototype.multiply=function(B){var X=B.sx*this.sx+B.shy*this.shx,he=B.sx*this.shy+B.shy*this.sy,Ce=B.shx*this.sx+B.sy*this.shx,_e=B.shx*this.shy+B.sy*this.sy,Ke=B.tx*this.sx+B.ty*this.shx+this.tx,at=B.tx*this.shy+B.ty*this.sy+this.ty;return new St(X,he,Ce,_e,Ke,at)},St.prototype.decompose=function(){var B=this.sx,X=this.shy,he=this.shx,Ce=this.sy,_e=this.tx,Ke=this.ty,at=Math.sqrt(B*B+X*X),It=(B/=at)*he+(X/=at)*Ce;he-=B*It,Ce-=X*It;var Rt=Math.sqrt(he*he+Ce*Ce);return It/=Rt,B*(Ce/=Rt)<X*(he/=Rt)&&(B=-B,X=-X,It=-It,at=-at),{scale:new St(at,0,0,Rt,0,0),translate:new St(1,0,0,1,_e,Ke),rotate:new St(B,X,-X,B,0,0),skew:new St(1,0,It,1,0,0)}},St.prototype.toString=function(B){return this.join(" ")},St.prototype.inversed=function(){var B=this.sx,X=this.shy,he=this.shx,Ce=this.sy,_e=this.tx,Ke=this.ty,at=1/(B*Ce-X*he),It=Ce*at,Rt=-X*at,tn=-he*at,Xt=B*at;return new St(It,Rt,tn,Xt,-It*_e-tn*Ke,-Rt*_e-Xt*Ke)},St.prototype.applyToPoint=function(B){var X=B.x*this.sx+B.y*this.shx+this.tx,he=B.x*this.shy+B.y*this.sy+this.ty;return new wA(X,he)},St.prototype.applyToRectangle=function(B){var X=this.applyToPoint(B),he=this.applyToPoint(new wA(B.x+B.w,B.y+B.h));return new Cd(X.x,X.y,he.x-X.x,he.y-X.y)},St.prototype.clone=function(){var B=this.sx,X=this.shy,he=this.shx,Ce=this.sy,_e=this.tx,Ke=this.ty;return new St(B,X,he,Ce,_e,Ke)},h.Matrix=St;var Pn=h.matrixMult=function(B,X){return X.multiply(B)},Mt=new St(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Mt;var gn=function(B,X){if(!Ze[B]){var he=(X instanceof Dl?"Sh":"P")+(Object.keys(Ee).length+1).toString(10);X.id=he,Ze[B]=he,Ee[he]=X,Qe.publish("addPattern",X)}};h.ShadingPattern=Dl,h.TilingPattern=hc,h.addShadingPattern=function(B,X){return F("addShadingPattern()"),gn(B,X),this},h.beginTilingPattern=function(B){F("beginTilingPattern()"),rf(B.boundingBox[0],B.boundingBox[1],B.boundingBox[2]-B.boundingBox[0],B.boundingBox[3]-B.boundingBox[1],B.matrix)},h.endTilingPattern=function(B,X){F("endTilingPattern()"),X.stream=re[R].join(`
`),gn(B,X),Qe.publish("endTilingPattern",X),Ht.pop().restore()};var Nn=h.__private__.newObject=function(){var B=Kn();return wr(B,!0),B},Kn=h.__private__.newObjectDeferred=function(){return V++,G[V]=function(){return ne},V},wr=function(B,X){return X=typeof X=="boolean"&&X,G[B]=ne,X&&ae(B+" 0 obj"),B},fi=h.__private__.newAdditionalObject=function(){var B={objId:Kn(),content:""};return xe.push(B),B},Ps=Kn(),is=Kn(),as=h.__private__.decodeColorString=function(B){var X=B.split(" ");if(X.length!==2||X[1]!=="g"&&X[1]!=="G")X.length===5&&(X[4]==="k"||X[4]==="K")&&(X=[(1-X[0])*(1-X[3]),(1-X[1])*(1-X[3]),(1-X[2])*(1-X[3]),"r"]);else{var he=parseFloat(X[0]);X=[he,he,he,"r"]}for(var Ce="#",_e=0;_e<3;_e++)Ce+=("0"+Math.floor(255*parseFloat(X[_e])).toString(16)).slice(-2);return Ce},tr=h.__private__.encodeColorString=function(B){var X;typeof B=="string"&&(B={ch1:B});var he=B.ch1,Ce=B.ch2,_e=B.ch3,Ke=B.ch4,at=B.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof he=="string"&&he.charAt(0)!=="#"){var It=new Wj(he);if(It.ok)he=It.toHex();else if(!/^\d*\.?\d*$/.test(he))throw new Error('Invalid color "'+he+'" passed to jsPDF.encodeColorString.')}if(typeof he=="string"&&/^#[0-9A-Fa-f]{3}$/.test(he)&&(he="#"+he[1]+he[1]+he[2]+he[2]+he[3]+he[3]),typeof he=="string"&&/^#[0-9A-Fa-f]{6}$/.test(he)){var Rt=parseInt(he.substr(1),16);he=Rt>>16&255,Ce=Rt>>8&255,_e=255&Rt}if(Ce===void 0||Ke===void 0&&he===Ce&&Ce===_e)if(typeof he=="string")X=he+" "+at[0];else switch(B.precision){case 2:X=P(he/255)+" "+at[0];break;case 3:default:X=I(he/255)+" "+at[0]}else if(Ke===void 0||pn(Ke)==="object"){if(Ke&&!isNaN(Ke.a)&&Ke.a===0)return X=["1.","1.","1.",at[1]].join(" ");if(typeof he=="string")X=[he,Ce,_e,at[1]].join(" ");else switch(B.precision){case 2:X=[P(he/255),P(Ce/255),P(_e/255),at[1]].join(" ");break;default:case 3:X=[I(he/255),I(Ce/255),I(_e/255),at[1]].join(" ")}}else if(typeof he=="string")X=[he,Ce,_e,Ke,at[2]].join(" ");else switch(B.precision){case 2:X=[P(he),P(Ce),P(_e),P(Ke),at[2]].join(" ");break;case 3:default:X=[I(he),I(Ce),I(_e),I(Ke),at[2]].join(" ")}return X},Qs=h.__private__.getFilters=function(){return o},Sn=h.__private__.putStream=function(B){var X=(B=B||{}).data||"",he=B.filters||Qs(),Ce=B.alreadyAppliedFilters||[],_e=B.addLength1||!1,Ke=X.length,at=B.objectId,It=function(ps){return ps};if(d!==null&&at===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(It=fs.encryptor(at,0));var Rt={};he===!0&&(he=["FlateEncode"]);var tn=B.additionalKeyValues||[],Xt=(Rt=Wt.API.processDataByFilters!==void 0?Wt.API.processDataByFilters(X,he):{data:X,reverseChain:[]}).reverseChain+(Array.isArray(Ce)?Ce.join(" "):Ce.toString());if(Rt.data.length!==0&&(tn.push({key:"Length",value:Rt.data.length}),_e===!0&&tn.push({key:"Length1",value:Ke})),Xt.length!=0)if(Xt.split("/").length-1==1)tn.push({key:"Filter",value:Xt});else{tn.push({key:"Filter",value:"["+Xt+"]"});for(var wn=0;wn<tn.length;wn+=1)if(tn[wn].key==="DecodeParms"){for(var hr=[],pr=0;pr<Rt.reverseChain.split("/").length-1;pr+=1)hr.push("null");hr.push(tn[wn].value),tn[wn].value="["+hr.join(" ")+"]"}}ae("<<");for(var Ur=0;Ur<tn.length;Ur++)ae("/"+tn[Ur].key+" "+tn[Ur].value);ae(">>"),Rt.data.length!==0&&(ae("stream"),ae(It(Rt.data)),ae("endstream"))},Yt=h.__private__.putPage=function(B){var X=B.number,he=B.data,Ce=B.objId,_e=B.contentsObjId;wr(Ce,!0),ae("<</Type /Page"),ae("/Parent "+B.rootDictionaryObjId+" 0 R"),ae("/Resources "+B.resourceDictionaryObjId+" 0 R"),ae("/MediaBox ["+parseFloat(T(B.mediaBox.bottomLeftX))+" "+parseFloat(T(B.mediaBox.bottomLeftY))+" "+T(B.mediaBox.topRightX)+" "+T(B.mediaBox.topRightY)+"]"),B.cropBox!==null&&ae("/CropBox ["+T(B.cropBox.bottomLeftX)+" "+T(B.cropBox.bottomLeftY)+" "+T(B.cropBox.topRightX)+" "+T(B.cropBox.topRightY)+"]"),B.bleedBox!==null&&ae("/BleedBox ["+T(B.bleedBox.bottomLeftX)+" "+T(B.bleedBox.bottomLeftY)+" "+T(B.bleedBox.topRightX)+" "+T(B.bleedBox.topRightY)+"]"),B.trimBox!==null&&ae("/TrimBox ["+T(B.trimBox.bottomLeftX)+" "+T(B.trimBox.bottomLeftY)+" "+T(B.trimBox.topRightX)+" "+T(B.trimBox.topRightY)+"]"),B.artBox!==null&&ae("/ArtBox ["+T(B.artBox.bottomLeftX)+" "+T(B.artBox.bottomLeftY)+" "+T(B.artBox.topRightX)+" "+T(B.artBox.topRightY)+"]"),typeof B.userUnit=="number"&&B.userUnit!==1&&ae("/UserUnit "+B.userUnit),Qe.publish("putPage",{objId:Ce,pageContext:De[X],pageNumber:X,page:he}),ae("/Contents "+_e+" 0 R"),ae(">>"),ae("endobj");var Ke=he.join(`
`);return S===C.ADVANCED&&(Ke+=`
Q`),wr(_e,!0),Sn({data:Ke,filters:Qs(),objectId:_e}),ae("endobj"),Ce},Kr=h.__private__.putPages=function(){var B,X,he=[];for(B=1;B<=Ve;B++)De[B].objId=Kn(),De[B].contentsObjId=Kn();for(B=1;B<=Ve;B++)he.push(Yt({number:B,data:re[B],objId:De[B].objId,contentsObjId:De[B].contentsObjId,mediaBox:De[B].mediaBox,cropBox:De[B].cropBox,bleedBox:De[B].bleedBox,trimBox:De[B].trimBox,artBox:De[B].artBox,userUnit:De[B].userUnit,rootDictionaryObjId:Ps,resourceDictionaryObjId:is}));wr(Ps,!0),ae("<</Type /Pages");var Ce="/Kids [";for(X=0;X<Ve;X++)Ce+=he[X]+" 0 R ";ae(Ce+"]"),ae("/Count "+Ve),ae(">>"),ae("endobj"),Qe.publish("postPutPages")},zt=function(B){Qe.publish("putFont",{font:B,out:ae,newObject:Nn,putStream:Sn}),B.isAlreadyPutted!==!0&&(B.objectNumber=Nn(),ae("<<"),ae("/Type /Font"),ae("/BaseFont /"+ac(B.postScriptName)),ae("/Subtype /Type1"),typeof B.encoding=="string"&&ae("/Encoding /"+B.encoding),ae("/FirstChar 32"),ae("/LastChar 255"),ae(">>"),ae("endobj"))},dr=function(){for(var B in ve)ve.hasOwnProperty(B)&&(u===!1||u===!0&&p.hasOwnProperty(B))&&zt(ve[B])},zi=function(B){B.objectNumber=Nn();var X=[];X.push({key:"Type",value:"/XObject"}),X.push({key:"Subtype",value:"/Form"}),X.push({key:"BBox",value:"["+[T(B.x),T(B.y),T(B.x+B.width),T(B.y+B.height)].join(" ")+"]"}),X.push({key:"Matrix",value:"["+B.matrix.toString()+"]"});var he=B.pages[1].join(`
`);Sn({data:he,additionalKeyValues:X,objectId:B.objectNumber}),ae("endobj")},Vr=function(){for(var B in ct)ct.hasOwnProperty(B)&&zi(ct[B])},ur=function(B,X){var he,Ce=[],_e=1/(X-1);for(he=0;he<1;he+=_e)Ce.push(he);if(Ce.push(1),B[0].offset!=0){var Ke={offset:0,color:B[0].color};B.unshift(Ke)}if(B[B.length-1].offset!=1){var at={offset:1,color:B[B.length-1].color};B.push(at)}for(var It="",Rt=0,tn=0;tn<Ce.length;tn++){for(he=Ce[tn];he>B[Rt+1].offset;)Rt++;var Xt=B[Rt].offset,wn=(he-Xt)/(B[Rt+1].offset-Xt),hr=B[Rt].color,pr=B[Rt+1].color;It+=$(Math.round((1-wn)*hr[0]+wn*pr[0]).toString(16))+$(Math.round((1-wn)*hr[1]+wn*pr[1]).toString(16))+$(Math.round((1-wn)*hr[2]+wn*pr[2]).toString(16))}return It.trim()},hA=function(B,X){X||(X=21);var he=Nn(),Ce=ur(B.colors,X),_e=[];_e.push({key:"FunctionType",value:"0"}),_e.push({key:"Domain",value:"[0.0 1.0]"}),_e.push({key:"Size",value:"["+X+"]"}),_e.push({key:"BitsPerSample",value:"8"}),_e.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),_e.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Sn({data:Ce,additionalKeyValues:_e,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:he}),ae("endobj"),B.objectNumber=Nn(),ae("<< /ShadingType "+B.type),ae("/ColorSpace /DeviceRGB");var Ke="/Coords ["+T(parseFloat(B.coords[0]))+" "+T(parseFloat(B.coords[1]))+" ";B.type===2?Ke+=T(parseFloat(B.coords[2]))+" "+T(parseFloat(B.coords[3])):Ke+=T(parseFloat(B.coords[2]))+" "+T(parseFloat(B.coords[3]))+" "+T(parseFloat(B.coords[4]))+" "+T(parseFloat(B.coords[5])),ae(Ke+="]"),B.matrix&&ae("/Matrix ["+B.matrix.toString()+"]"),ae("/Function "+he+" 0 R"),ae("/Extend [true true]"),ae(">>"),ae("endobj")},ud=function(B,X){var he=Kn(),Ce=Nn();X.push({resourcesOid:he,objectOid:Ce}),B.objectNumber=Ce;var _e=[];_e.push({key:"Type",value:"/Pattern"}),_e.push({key:"PatternType",value:"1"}),_e.push({key:"PaintType",value:"1"}),_e.push({key:"TilingType",value:"1"}),_e.push({key:"BBox",value:"["+B.boundingBox.map(T).join(" ")+"]"}),_e.push({key:"XStep",value:T(B.xStep)}),_e.push({key:"YStep",value:T(B.yStep)}),_e.push({key:"Resources",value:he+" 0 R"}),B.matrix&&_e.push({key:"Matrix",value:"["+B.matrix.toString()+"]"}),Sn({data:B.stream,additionalKeyValues:_e,objectId:B.objectNumber}),ae("endobj")},mo=function(B){var X;for(X in Ee)Ee.hasOwnProperty(X)&&(Ee[X]instanceof Dl?hA(Ee[X]):Ee[X]instanceof hc&&ud(Ee[X],B))},fA=function(B){for(var X in B.objectNumber=Nn(),ae("<<"),B)switch(X){case"opacity":ae("/ca "+P(B[X]));break;case"stroke-opacity":ae("/CA "+P(B[X]))}ae(">>"),ae("endobj")},hd=function(){var B;for(B in ze)ze.hasOwnProperty(B)&&fA(ze[B])},fl=function(){for(var B in ae("/XObject <<"),ct)ct.hasOwnProperty(B)&&ct[B].objectNumber>=0&&ae("/"+B+" "+ct[B].objectNumber+" 0 R");Qe.publish("putXobjectDict"),ae(">>")},Rh=function(){fs.oid=Nn(),ae("<<"),ae("/Filter /Standard"),ae("/V "+fs.v),ae("/R "+fs.r),ae("/U <"+fs.toHexString(fs.U)+">"),ae("/O <"+fs.toHexString(fs.O)+">"),ae("/P "+fs.P),ae(">>"),ae("endobj")},Hh=function(){for(var B in ae("/Font <<"),ve)ve.hasOwnProperty(B)&&(u===!1||u===!0&&p.hasOwnProperty(B))&&ae("/"+B+" "+ve[B].objectNumber+" 0 R");ae(">>")},Jm=function(){if(Object.keys(Ee).length>0){for(var B in ae("/Shading <<"),Ee)Ee.hasOwnProperty(B)&&Ee[B]instanceof Dl&&Ee[B].objectNumber>=0&&ae("/"+B+" "+Ee[B].objectNumber+" 0 R");Qe.publish("putShadingPatternDict"),ae(">>")}},pA=function(B){if(Object.keys(Ee).length>0){for(var X in ae("/Pattern <<"),Ee)Ee.hasOwnProperty(X)&&Ee[X]instanceof h.TilingPattern&&Ee[X].objectNumber>=0&&Ee[X].objectNumber<B&&ae("/"+X+" "+Ee[X].objectNumber+" 0 R");Qe.publish("putTilingPatternDict"),ae(">>")}},Zm=function(){if(Object.keys(ze).length>0){var B;for(B in ae("/ExtGState <<"),ze)ze.hasOwnProperty(B)&&ze[B].objectNumber>=0&&ae("/"+B+" "+ze[B].objectNumber+" 0 R");Qe.publish("putGStateDict"),ae(">>")}},Cr=function(B){wr(B.resourcesOid,!0),ae("<<"),ae("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Hh(),Jm(),pA(B.objectOid),Zm(),fl(),ae(">>"),ae("endobj")},Oh=function(){var B=[];dr(),hd(),Vr(),mo(B),Qe.publish("putResources"),B.forEach(Cr),Cr({resourcesOid:is,objectOid:Number.MAX_SAFE_INTEGER}),Qe.publish("postPutResources")},$h=function(){Qe.publish("putAdditionalObjects");for(var B=0;B<xe.length;B++){var X=xe[B];wr(X.objId,!0),ae(X.content),ae("endobj")}Qe.publish("postPutAdditionalObjects")},zh=function(B){je[B.fontName]=je[B.fontName]||{},je[B.fontName][B.fontStyle]=B.id},fd=function(B,X,he,Ce,_e){var Ke={id:"F"+(Object.keys(ve).length+1).toString(10),postScriptName:B,fontName:X,fontStyle:he,encoding:Ce,isStandardFont:_e||!1,metadata:{}};return Qe.publish("addFont",{font:Ke,instance:this}),ve[Ke.id]=Ke,zh(Ke),Ke.id},e0=function(B){for(var X=0,he=me.length;X<he;X++){var Ce=fd.call(this,B[X][0],B[X][1],B[X][2],me[X][3],!0);u===!1&&(p[Ce]=!0);var _e=B[X][0].split("-");zh({id:Ce,fontName:_e[0],fontStyle:_e[1]||""})}Qe.publish("addFonts",{fonts:ve,dictionary:je})},Wi=function(B){return B.foo=function(){try{return B.apply(this,arguments)}catch(Ce){var X=Ce.stack||"";~X.indexOf(" at ")&&(X=X.split(" at ")[1]);var he="Error in function "+X.split(`
`)[0].split("<")[0]+": "+Ce.message;if(!Kt.console)throw new Error(he);Kt.console.error(he,Ce),Kt.alert&&alert(he)}},B.foo.bar=B,B.foo},gA=function(B,X){var he,Ce,_e,Ke,at,It,Rt,tn,Xt;if(_e=(X=X||{}).sourceEncoding||"Unicode",at=X.outputEncoding,(X.autoencode||at)&&ve[jt].metadata&&ve[jt].metadata[_e]&&ve[jt].metadata[_e].encoding&&(Ke=ve[jt].metadata[_e].encoding,!at&&ve[jt].encoding&&(at=ve[jt].encoding),!at&&Ke.codePages&&(at=Ke.codePages[0]),typeof at=="string"&&(at=Ke[at]),at)){for(Rt=!1,It=[],he=0,Ce=B.length;he<Ce;he++)(tn=at[B.charCodeAt(he)])?It.push(String.fromCharCode(tn)):It.push(B[he]),It[he].charCodeAt(0)>>8&&(Rt=!0);B=It.join("")}for(he=B.length;Rt===void 0&&he!==0;)B.charCodeAt(he-1)>>8&&(Rt=!0),he--;if(!Rt)return B;for(It=X.noBOM?[]:[254,255],he=0,Ce=B.length;he<Ce;he++){if((Xt=(tn=B.charCodeAt(he))>>8)>>8)throw new Error("Character at position "+he+" of string '"+B+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");It.push(Xt),It.push(tn-(Xt<<8))}return String.fromCharCode.apply(void 0,It)},Rs=h.__private__.pdfEscape=h.pdfEscape=function(B,X){return gA(B,X).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},pd=h.__private__.beginPage=function(B){re[++Ve]=[],De[Ve]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(B[0]),topRightY:Number(B[1])}},Kh(Ve),ue(re[R])},Wh=function(B,X){var he,Ce,_e;switch(n=X||n,typeof B=="string"&&(he=x(B.toLowerCase()),Array.isArray(he)&&(Ce=he[0],_e=he[1])),Array.isArray(B)&&(Ce=B[0]*ye,_e=B[1]*ye),isNaN(Ce)&&(Ce=i[0],_e=i[1]),(Ce>14400||_e>14400)&&(Gn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ce=Math.min(14400,Ce),_e=Math.min(14400,_e)),i=[Ce,_e],n.substr(0,1)){case"l":_e>Ce&&(i=[_e,Ce]);break;case"p":Ce>_e&&(i=[_e,Ce])}pd(i),Jh(yd),ae(Ki),bd!==0&&ae(bd+" J"),wd!==0&&ae(wd+" j"),Qe.publish("addPage",{pageNumber:Ve})},t0=function(B){B>0&&B<=Ve&&(re.splice(B,1),De.splice(B,1),Ve--,R>Ve&&(R=Ve),this.setPage(R))},Kh=function(B){B>0&&B<=Ve&&(R=B)},n0=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return re.length-1},Vh=function(B,X,he){var Ce,_e=void 0;return he=he||{},B=B!==void 0?B:ve[jt].fontName,X=X!==void 0?X:ve[jt].fontStyle,Ce=B.toLowerCase(),je[Ce]!==void 0&&je[Ce][X]!==void 0?_e=je[Ce][X]:je[B]!==void 0&&je[B][X]!==void 0?_e=je[B][X]:he.disableWarning===!1&&Gn.warn("Unable to look up font label for font '"+B+"', '"+X+"'. Refer to getFontList() for available fonts."),_e||he.noFallback||(_e=je.times[X])==null&&(_e=je.times.normal),_e},r0=h.__private__.putInfo=function(){var B=Nn(),X=function(Ce){return Ce};for(var he in d!==null&&(X=fs.encryptor(B,0)),ae("<<"),ae("/Producer ("+Rs(X("jsPDF "+Wt.version))+")"),We)We.hasOwnProperty(he)&&We[he]&&ae("/"+he.substr(0,1).toUpperCase()+he.substr(1)+" ("+Rs(X(We[he]))+")");ae("/CreationDate ("+Rs(X(z))+")"),ae(">>"),ae("endobj")},gd=h.__private__.putCatalog=function(B){var X=(B=B||{}).rootDictionaryObjId||Ps;switch(Nn(),ae("<<"),ae("/Type /Catalog"),ae("/Pages "+X+" 0 R"),Te||(Te="fullwidth"),Te){case"fullwidth":ae("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ae("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ae("/OpenAction [3 0 R /Fit]");break;case"original":ae("/OpenAction [3 0 R /XYZ null null 1]");break;default:var he=""+Te;he.substr(he.length-1)==="%"&&(Te=parseInt(Te)/100),typeof Te=="number"&&ae("/OpenAction [3 0 R /XYZ null null "+P(Te)+"]")}switch(rt||(rt="continuous"),rt){case"continuous":ae("/PageLayout /OneColumn");break;case"single":ae("/PageLayout /SinglePage");break;case"two":case"twoleft":ae("/PageLayout /TwoColumnLeft");break;case"tworight":ae("/PageLayout /TwoColumnRight")}nt&&ae("/PageMode /"+nt),Qe.publish("putCatalog"),ae(">>"),ae("endobj")},s0=h.__private__.putTrailer=function(){ae("trailer"),ae("<<"),ae("/Size "+(V+1)),ae("/Root "+V+" 0 R"),ae("/Info "+(V-1)+" 0 R"),d!==null&&ae("/Encrypt "+fs.oid+" 0 R"),ae("/ID [ <"+L+"> <"+L+"> ]"),ae(">>")},i0=h.__private__.putHeader=function(){ae("%PDF-"+m),ae("%ºß¬à")},a0=h.__private__.putXRef=function(){var B="0000000000";ae("xref"),ae("0 "+(V+1)),ae("0000000000 65535 f ");for(var X=1;X<=V;X++)typeof G[X]=="function"?ae((B+G[X]()).slice(-10)+" 00000 n "):G[X]!==void 0?ae((B+G[X]).slice(-10)+" 00000 n "):ae("0000000000 00000 n ")},Ua=h.__private__.buildDocument=function(){be(),ue(ie),Qe.publish("buildDocument"),i0(),Kr(),$h(),Oh(),d!==null&&Rh(),r0(),gd();var B=ne;return a0(),s0(),ae("startxref"),ae(""+B),ae("%%EOF"),ue(re[R]),ie.join(`
`)},mA=h.__private__.getBlob=function(B){return new Blob([we(B)],{type:"application/pdf"})},vA=h.output=h.__private__.output=Wi(function(B,X){switch(typeof(X=X||{})=="string"?X={filename:X}:X.filename=X.filename||"generated.pdf",B){case void 0:return Ua();case"save":h.save(X.filename);break;case"arraybuffer":return we(Ua());case"blob":return mA(Ua());case"bloburi":case"bloburl":if(Kt.URL!==void 0&&typeof Kt.URL.createObjectURL=="function")return Kt.URL&&Kt.URL.createObjectURL(mA(Ua()))||void 0;Gn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var he="",Ce=Ua();try{he=P1(Ce)}catch{he=P1(unescape(encodeURIComponent(Ce)))}return"data:application/pdf;filename="+X.filename+";base64,"+he;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Kt)==="[object Window]"){var _e="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ke=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';X.pdfObjectUrl&&(_e=X.pdfObjectUrl,Ke="");var at='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+_e+'"'+Ke+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(X)+");<\/script></body></html>",It=Kt.open();return It!==null&&It.document.write(at),It}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Kt)==="[object Window]"){var Rt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(X.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+X.filename+'" width="500px" height="400px" /></body></html>',tn=Kt.open();if(tn!==null){tn.document.write(Rt);var Xt=this;tn.document.documentElement.querySelector("#pdfViewer").onload=function(){tn.document.title=X.filename,tn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Xt.output("bloburl"))}}return tn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Kt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var wn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",X)+'"></iframe></body></html>',hr=Kt.open();if(hr!==null&&(hr.document.write(wn),hr.document.title=X.filename),hr||typeof safari>"u")return hr;break;case"datauri":case"dataurl":return Kt.document.location.href=this.output("datauristring",X);default:return null}}),Gh=function(B){return Array.isArray(it)===!0&&it.indexOf(B)>-1};switch(r){case"pt":ye=1;break;case"mm":ye=72/25.4;break;case"cm":ye=72/2.54;break;case"in":ye=72;break;case"px":ye=Gh("px_scaling")==1?.75:96/72;break;case"pc":case"em":ye=12;break;case"ex":ye=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);ye=r}var fs=null;Ae(),K();var o0=function(B){return d!==null?fs.encryptor(B,0):function(X){return X}},qh=h.__private__.getPageInfo=h.getPageInfo=function(B){if(isNaN(B)||B%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:De[B].objId,pageNumber:B,pageContext:De[B]}},qt=h.__private__.getPageInfoByObjId=function(B){if(isNaN(B)||B%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var X in De)if(De[X].objId===B)break;return qh(X)},l0=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:De[R].objId,pageNumber:R,pageContext:De[R]}};h.addPage=function(){return Wh.apply(this,arguments),this},h.setPage=function(){return Kh.apply(this,arguments),ue.call(this,re[R]),this},h.insertPage=function(B){return this.addPage(),this.movePage(R,B),this},h.movePage=function(B,X){var he,Ce;if(B>X){he=re[B],Ce=De[B];for(var _e=B;_e>X;_e--)re[_e]=re[_e-1],De[_e]=De[_e-1];re[X]=he,De[X]=Ce,this.setPage(X)}else if(B<X){he=re[B],Ce=De[B];for(var Ke=B;Ke<X;Ke++)re[Ke]=re[Ke+1],De[Ke]=De[Ke+1];re[X]=he,De[X]=Ce,this.setPage(X)}return this},h.deletePage=function(){return t0.apply(this,arguments),this},h.__private__.text=h.text=function(B,X,he,Ce,_e){var Ke,at,It,Rt,tn,Xt,wn,hr,pr,Ur=(Ce=Ce||{}).scope||this;if(typeof B=="number"&&typeof X=="number"&&(typeof he=="string"||Array.isArray(he))){var ps=he;he=X,X=B,B=ps}if(arguments[3]instanceof St?(F("The transform parameter of text() with a Matrix value"),pr=_e):(It=arguments[4],Rt=arguments[5],pn(wn=arguments[3])==="object"&&wn!==null||(typeof It=="string"&&(Rt=It,It=null),typeof wn=="string"&&(Rt=wn,wn=null),typeof wn=="number"&&(It=wn,wn=null),Ce={flags:wn,angle:It,align:Rt})),isNaN(X)||isNaN(he)||B==null)throw new Error("Invalid arguments passed to jsPDF.text");if(B.length===0)return Ur;var Gr="",Vi=!1,Zs=typeof Ce.lineHeightFactor=="number"?Ce.lineHeightFactor:gl,la=Ur.internal.scaleFactor;function sf(Yn){return Yn=Yn.split("	").join(Array(Ce.TabLen||9).join(" ")),Rs(Yn,wn)}function kd(Yn){for(var Xn,Sr=Yn.concat(),Or=[],Ra=Sr.length;Ra--;)typeof(Xn=Sr.shift())=="string"?Or.push(Xn):Array.isArray(Yn)&&(Xn.length===1||Xn[1]===void 0&&Xn[2]===void 0)?Or.push(Xn[0]):Or.push([Xn[0],Xn[1],Xn[2]]);return Or}function Ed(Yn,Xn){var Sr;if(typeof Yn=="string")Sr=Xn(Yn)[0];else if(Array.isArray(Yn)){for(var Or,Ra,Ld=Yn.concat(),_A=[],cf=Ld.length;cf--;)typeof(Or=Ld.shift())=="string"?_A.push(Xn(Or)[0]):Array.isArray(Or)&&typeof Or[0]=="string"&&(Ra=Xn(Or[0],Or[1],Or[2]),_A.push([Ra[0],Ra[1],Ra[2]]));Sr=_A}return Sr}var BA=!1,Id=!0;if(typeof B=="string")BA=!0;else if(Array.isArray(B)){var Fd=B.concat();at=[];for(var SA,os=Fd.length;os--;)(typeof(SA=Fd.shift())!="string"||Array.isArray(SA)&&typeof SA[0]!="string")&&(Id=!1);BA=Id}if(BA===!1)throw new Error('Type of text must be string or Array. "'+B+'" is not recognized.');typeof B=="string"&&(B=B.match(/[\r?\n]/)?B.split(/\r\n|\r|\n/g):[B]);var jA=Ie/Ur.internal.scaleFactor,kA=jA*(Zs-1);switch(Ce.baseline){case"bottom":he-=kA;break;case"top":he+=jA-kA;break;case"hanging":he+=jA-2*kA;break;case"middle":he+=jA/2-kA}if((Xt=Ce.maxWidth||0)>0&&(typeof B=="string"?B=Ur.splitTextToSize(B,Xt):Object.prototype.toString.call(B)==="[object Array]"&&(B=B.reduce(function(Yn,Xn){return Yn.concat(Ur.splitTextToSize(Xn,Xt))},[]))),Ke={text:B,x:X,y:he,options:Ce,mutex:{pdfEscape:Rs,activeFontKey:jt,fonts:ve,activeFontSize:Ie}},Qe.publish("preProcessText",Ke),B=Ke.text,It=(Ce=Ke.options).angle,!(pr instanceof St)&&It&&typeof It=="number"){It*=Math.PI/180,Ce.rotationDirection===0&&(It=-It),S===C.ADVANCED&&(It=-It);var EA=Math.cos(It),Nd=Math.sin(It);pr=new St(EA,Nd,-Nd,EA,0,0)}else It&&It instanceof St&&(pr=It);S!==C.ADVANCED||pr||(pr=Mt),(tn=Ce.charSpace||bA)!==void 0&&(Gr+=T(j(tn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(hr=Ce.horizontalScale)!==void 0&&(Gr+=T(100*hr)+` Tz
`),Ce.lang;var Hs=-1,v0=Ce.renderingMode!==void 0?Ce.renderingMode:Ce.stroke,Td=Ur.internal.getCurrentPageInfo().pageContext;switch(v0){case 0:case!1:case"fill":Hs=0;break;case 1:case!0:case"stroke":Hs=1;break;case 2:case"fillThenStroke":Hs=2;break;case 3:case"invisible":Hs=3;break;case 4:case"fillAndAddForClipping":Hs=4;break;case 5:case"strokeAndAddPathForClipping":Hs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Hs=6;break;case 7:case"addToPathForClipping":Hs=7}var af=Td.usedRenderingMode!==void 0?Td.usedRenderingMode:-1;Hs!==-1?Gr+=Hs+` Tr
`:af!==-1&&(Gr+=`0 Tr
`),Hs!==-1&&(Td.usedRenderingMode=Hs),Rt=Ce.align||"left";var pi,IA=Ie*Zs,of=Ur.internal.pageSize.getWidth(),lf=ve[jt];tn=Ce.charSpace||bA,Xt=Ce.maxWidth||0,wn=Object.assign({autoencode:!0,noBOM:!0},Ce.flags);var bo=[],yl=function(Yn){return Ur.getStringUnitWidth(Yn,{font:lf,charSpace:tn,fontSize:Ie,doKerning:!1})*Ie/la};if(Object.prototype.toString.call(B)==="[object Array]"){var Os;at=kd(B),Rt!=="left"&&(pi=at.map(yl));var Is,wo=0;if(Rt==="right"){X-=pi[0],B=[],os=at.length;for(var Ma=0;Ma<os;Ma++)Ma===0?(Is=oa(X),Os=La(he)):(Is=j(wo-pi[Ma]),Os=-IA),B.push([at[Ma],Is,Os]),wo=pi[Ma]}else if(Rt==="center"){X-=pi[0]/2,B=[],os=at.length;for(var Pa=0;Pa<os;Pa++)Pa===0?(Is=oa(X),Os=La(he)):(Is=j((wo-pi[Pa])/2),Os=-IA),B.push([at[Pa],Is,Os]),wo=pi[Pa]}else if(Rt==="left"){B=[],os=at.length;for(var FA=0;FA<os;FA++)B.push(at[FA])}else if(Rt==="justify"&&lf.encoding==="Identity-H"){B=[],os=at.length,Xt=Xt!==0?Xt:of;for(var Qa=0,Br=0;Br<os;Br++)if(Os=Br===0?La(he):-IA,Is=Br===0?oa(X):Qa,Br<os-1){var _d=j((Xt-pi[Br])/(at[Br].split(" ").length-1)),Fs=at[Br].split(" ");B.push([Fs[0]+" ",Is,Os]),Qa=0;for(var gi=1;gi<Fs.length;gi++){var NA=(yl(Fs[gi-1]+" "+Fs[gi])-yl(Fs[gi]))*la+_d;gi==Fs.length-1?B.push([Fs[gi],NA,0]):B.push([Fs[gi]+" ",NA,0]),Qa-=NA}}else B.push([at[Br],Is,Os]);B.push(["",Qa,0])}else{if(Rt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(B=[],os=at.length,Xt=Xt!==0?Xt:of,Br=0;Br<os;Br++)Os=Br===0?La(he):-IA,Is=Br===0?oa(X):0,Br<os-1?bo.push(T(j((Xt-pi[Br])/(at[Br].split(" ").length-1)))):bo.push(0),B.push([at[Br],Is,Os])}}var Af=typeof Ce.R2L=="boolean"?Ce.R2L:qe;Af===!0&&(B=Ed(B,function(Yn,Xn,Sr){return[Yn.split("").reverse().join(""),Xn,Sr]})),Ke={text:B,x:X,y:he,options:Ce,mutex:{pdfEscape:Rs,activeFontKey:jt,fonts:ve,activeFontSize:Ie}},Qe.publish("postProcessText",Ke),B=Ke.text,Vi=Ke.mutex.isHex||!1;var Dd=ve[jt].encoding;Dd!=="WinAnsiEncoding"&&Dd!=="StandardEncoding"||(B=Ed(B,function(Yn,Xn,Sr){return[sf(Yn),Xn,Sr]})),at=kd(B),B=[];for(var xl,bl,Co,wl=0,TA=1,Cl=Array.isArray(at[0])?TA:wl,Bo="",Ud=function(Yn,Xn,Sr){var Or="";return Sr instanceof St?(Sr=typeof Ce.angle=="number"?Pn(Sr,new St(1,0,0,1,Yn,Xn)):Pn(new St(1,0,0,1,Yn,Xn),Sr),S===C.ADVANCED&&(Sr=Pn(new St(1,0,0,-1,0,0),Sr)),Or=Sr.join(" ")+` Tm
`):Or=T(Yn)+" "+T(Xn)+` Td
`,Or},mi=0;mi<at.length;mi++){switch(Bo="",Cl){case TA:Co=(Vi?"<":"(")+at[mi][0]+(Vi?">":")"),xl=parseFloat(at[mi][1]),bl=parseFloat(at[mi][2]);break;case wl:Co=(Vi?"<":"(")+at[mi]+(Vi?">":")"),xl=oa(X),bl=La(he)}bo!==void 0&&bo[mi]!==void 0&&(Bo=bo[mi]+` Tw
`),mi===0?B.push(Bo+Ud(xl,bl,pr)+Co):Cl===wl?B.push(Bo+Co):Cl===TA&&B.push(Bo+Ud(xl,bl,pr)+Co)}B=Cl===wl?B.join(` Tj
T* `):B.join(` Tj
`),B+=` Tj
`;var vi=`BT
/`;return vi+=jt+" "+Ie+` Tf
`,vi+=T(Ie*Zs)+` TL
`,vi+=ml+`
`,vi+=Gr,vi+=B,ae(vi+="ET"),p[jt]=!0,Ur};var A0=h.__private__.clip=h.clip=function(B){return ae(B==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return A0("evenodd")},h.__private__.discardPath=h.discardPath=function(){return ae("n"),this};var aa=h.__private__.isValidStyle=function(B){var X=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(B)!==-1&&(X=!0),X};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(B){return aa(B)&&(c=B),this};var Yh=h.__private__.getStyle=h.getStyle=function(B){var X=c;switch(B){case"D":case"S":X="S";break;case"F":X="f";break;case"FD":case"DF":X="B";break;case"f":case"f*":case"B":case"B*":X=B}return X},Xh=h.close=function(){return ae("h"),this};h.stroke=function(){return ae("S"),this},h.fill=function(B){return yA("f",B),this},h.fillEvenOdd=function(B){return yA("f*",B),this},h.fillStroke=function(B){return yA("B",B),this},h.fillStrokeEvenOdd=function(B){return yA("B*",B),this};var yA=function(B,X){pn(X)==="object"?d0(X,B):ae(B)},md=function(B){B===null||S===C.ADVANCED&&B===void 0||(B=Yh(B),ae(B))};function c0(B,X,he,Ce,_e){var Ke=new hc(X||this.boundingBox,he||this.xStep,Ce||this.yStep,this.gState,_e||this.matrix);Ke.stream=this.stream;var at=B+"$$"+this.cloneIndex+++"$$";return gn(at,Ke),Ke}var d0=function(B,X){var he=Ze[B.key],Ce=Ee[he];if(Ce instanceof Dl)ae("q"),ae(u0(X)),Ce.gState&&h.setGState(Ce.gState),ae(B.matrix.toString()+" cm"),ae("/"+he+" sh"),ae("Q");else if(Ce instanceof hc){var _e=new St(1,0,0,-1,0,xo());B.matrix&&(_e=_e.multiply(B.matrix||Mt),he=c0.call(Ce,B.key,B.boundingBox,B.xStep,B.yStep,_e).id),ae("q"),ae("/Pattern cs"),ae("/"+he+" scn"),Ce.gState&&h.setGState(Ce.gState),ae(X),ae("Q")}},u0=function(B){switch(B){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},vd=h.moveTo=function(B,X){return ae(T(j(B))+" "+T(N(X))+" m"),this},pl=h.lineTo=function(B,X){return ae(T(j(B))+" "+T(N(X))+" l"),this},vo=h.curveTo=function(B,X,he,Ce,_e,Ke){return ae([T(j(B)),T(N(X)),T(j(he)),T(N(Ce)),T(j(_e)),T(N(Ke)),"c"].join(" ")),this};h.__private__.line=h.line=function(B,X,he,Ce,_e){if(isNaN(B)||isNaN(X)||isNaN(he)||isNaN(Ce)||!aa(_e))throw new Error("Invalid arguments passed to jsPDF.line");return S===C.COMPAT?this.lines([[he-B,Ce-X]],B,X,[1,1],_e||"S"):this.lines([[he-B,Ce-X]],B,X,[1,1]).stroke()},h.__private__.lines=h.lines=function(B,X,he,Ce,_e,Ke){var at,It,Rt,tn,Xt,wn,hr,pr,Ur,ps,Gr,Vi;if(typeof B=="number"&&(Vi=he,he=X,X=B,B=Vi),Ce=Ce||[1,1],Ke=Ke||!1,isNaN(X)||isNaN(he)||!Array.isArray(B)||!Array.isArray(Ce)||!aa(_e)||typeof Ke!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(vd(X,he),at=Ce[0],It=Ce[1],tn=B.length,ps=X,Gr=he,Rt=0;Rt<tn;Rt++)(Xt=B[Rt]).length===2?(ps=Xt[0]*at+ps,Gr=Xt[1]*It+Gr,pl(ps,Gr)):(wn=Xt[0]*at+ps,hr=Xt[1]*It+Gr,pr=Xt[2]*at+ps,Ur=Xt[3]*It+Gr,ps=Xt[4]*at+ps,Gr=Xt[5]*It+Gr,vo(wn,hr,pr,Ur,ps,Gr));return Ke&&Xh(),md(_e),this},h.path=function(B){for(var X=0;X<B.length;X++){var he=B[X],Ce=he.c;switch(he.op){case"m":vd(Ce[0],Ce[1]);break;case"l":pl(Ce[0],Ce[1]);break;case"c":vo.apply(this,Ce);break;case"h":Xh()}}return this},h.__private__.rect=h.rect=function(B,X,he,Ce,_e){if(isNaN(B)||isNaN(X)||isNaN(he)||isNaN(Ce)||!aa(_e))throw new Error("Invalid arguments passed to jsPDF.rect");return S===C.COMPAT&&(Ce=-Ce),ae([T(j(B)),T(N(X)),T(j(he)),T(j(Ce)),"re"].join(" ")),md(_e),this},h.__private__.triangle=h.triangle=function(B,X,he,Ce,_e,Ke,at){if(isNaN(B)||isNaN(X)||isNaN(he)||isNaN(Ce)||isNaN(_e)||isNaN(Ke)||!aa(at))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[he-B,Ce-X],[_e-he,Ke-Ce],[B-_e,X-Ke]],B,X,[1,1],at,!0),this},h.__private__.roundedRect=h.roundedRect=function(B,X,he,Ce,_e,Ke,at){if(isNaN(B)||isNaN(X)||isNaN(he)||isNaN(Ce)||isNaN(_e)||isNaN(Ke)||!aa(at))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var It=4/3*(Math.SQRT2-1);return _e=Math.min(_e,.5*he),Ke=Math.min(Ke,.5*Ce),this.lines([[he-2*_e,0],[_e*It,0,_e,Ke-Ke*It,_e,Ke],[0,Ce-2*Ke],[0,Ke*It,-_e*It,Ke,-_e,Ke],[2*_e-he,0],[-_e*It,0,-_e,-Ke*It,-_e,-Ke],[0,2*Ke-Ce],[0,-Ke*It,_e*It,-Ke,_e,-Ke]],B+_e,X,[1,1],at,!0),this},h.__private__.ellipse=h.ellipse=function(B,X,he,Ce,_e){if(isNaN(B)||isNaN(X)||isNaN(he)||isNaN(Ce)||!aa(_e))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ke=4/3*(Math.SQRT2-1)*he,at=4/3*(Math.SQRT2-1)*Ce;return vd(B+he,X),vo(B+he,X-at,B+Ke,X-Ce,B,X-Ce),vo(B-Ke,X-Ce,B-he,X-at,B-he,X),vo(B-he,X+at,B-Ke,X+Ce,B,X+Ce),vo(B+Ke,X+Ce,B+he,X+at,B+he,X),md(_e),this},h.__private__.circle=h.circle=function(B,X,he,Ce){if(isNaN(B)||isNaN(X)||isNaN(he)||!aa(Ce))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(B,X,he,he,Ce)},h.setFont=function(B,X,he){return he&&(X=E(X,he)),jt=Vh(B,X,{disableWarning:!1}),this};var h0=h.__private__.getFont=h.getFont=function(){return ve[Vh.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var B,X,he={};for(B in je)if(je.hasOwnProperty(B))for(X in he[B]=[],je[B])je[B].hasOwnProperty(X)&&he[B].push(X);return he},h.addFont=function(B,X,he,Ce,_e){var Ke=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ke.indexOf(arguments[3])!==-1?_e=arguments[3]:arguments[3]&&Ke.indexOf(arguments[3])==-1&&(he=E(he,Ce)),_e=_e||"Identity-H",fd.call(this,B,X,he,_e)};var gl,yd=e.lineWidth||.200025,xA=h.__private__.getLineWidth=h.getLineWidth=function(){return yd},Jh=h.__private__.setLineWidth=h.setLineWidth=function(B){return yd=B,ae(T(j(B))+" w"),this};h.__private__.setLineDash=Wt.API.setLineDash=Wt.API.setLineDashPattern=function(B,X){if(B=B||[],X=X||0,isNaN(X)||!Array.isArray(B))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return B=B.map(function(he){return T(j(he))}).join(" "),X=T(j(X)),ae("["+B+"] "+X+" d"),this};var Zh=h.__private__.getLineHeight=h.getLineHeight=function(){return Ie*gl};h.__private__.getLineHeight=h.getLineHeight=function(){return Ie*gl};var ef=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(B){return typeof(B=B||1.15)=="number"&&(gl=B),this},tf=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return gl};ef(e.lineHeight);var oa=h.__private__.getHorizontalCoordinate=function(B){return j(B)},La=h.__private__.getVerticalCoordinate=function(B){return S===C.ADVANCED?B:De[R].mediaBox.topRightY-De[R].mediaBox.bottomLeftY-j(B)},f0=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(B){return T(oa(B))},yo=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(B){return T(La(B))},Ki=e.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return as(Ki)},h.__private__.setStrokeColor=h.setDrawColor=function(B,X,he,Ce){return Ki=tr({ch1:B,ch2:X,ch3:he,ch4:Ce,pdfColorType:"draw",precision:2}),ae(Ki),this};var xd=e.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return as(xd)},h.__private__.setFillColor=h.setFillColor=function(B,X,he,Ce){return xd=tr({ch1:B,ch2:X,ch3:he,ch4:Ce,pdfColorType:"fill",precision:2}),ae(xd),this};var ml=e.textColor||"0 g",p0=h.__private__.getTextColor=h.getTextColor=function(){return as(ml)};h.__private__.setTextColor=h.setTextColor=function(B,X,he,Ce){return ml=tr({ch1:B,ch2:X,ch3:he,ch4:Ce,pdfColorType:"text",precision:3}),this};var bA=e.charSpace,g0=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(bA||0)};h.__private__.setCharSpace=h.setCharSpace=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return bA=B,this};var bd=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(B){var X=h.CapJoinStyles[B];if(X===void 0)throw new Error("Line cap style of '"+B+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return bd=X,ae(X+" J"),this};var wd=0;h.__private__.setLineJoin=h.setLineJoin=function(B){var X=h.CapJoinStyles[B];if(X===void 0)throw new Error("Line join style of '"+B+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return wd=X,ae(X+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(B){if(B=B||0,isNaN(B))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ae(T(j(B))+" M"),this},h.GState=gg,h.setGState=function(B){(B=typeof B=="string"?ze[dt[B]]:nf(null,B)).equals(lt)||(ae("/"+B.id+" gs"),lt=B)};var nf=function(B,X){if(!B||!dt[B]){var he=!1;for(var Ce in ze)if(ze.hasOwnProperty(Ce)&&ze[Ce].equals(X)){he=!0;break}if(he)X=ze[Ce];else{var _e="GS"+(Object.keys(ze).length+1).toString(10);ze[_e]=X,X.id=_e}return B&&(dt[B]=X.id),Qe.publish("addGState",X),X}};h.addGState=function(B,X){return nf(B,X),this},h.saveGraphicsState=function(){return ae("q"),pe.push({key:jt,size:Ie,color:ml}),this},h.restoreGraphicsState=function(){ae("Q");var B=pe.pop();return jt=B.key,Ie=B.size,ml=B.color,lt=null,this},h.setCurrentTransformationMatrix=function(B){return ae(B.toString()+" cm"),this},h.comment=function(B){return ae("#"+B),this};var wA=function(B,X){var he=B||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return he},set:function(Ke){isNaN(Ke)||(he=parseFloat(Ke))}});var Ce=X||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ce},set:function(Ke){isNaN(Ke)||(Ce=parseFloat(Ke))}});var _e="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return _e},set:function(Ke){_e=Ke.toString()}}),this},Cd=function(B,X,he,Ce){wA.call(this,B,X),this.type="rect";var _e=he||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return _e},set:function(at){isNaN(at)||(_e=parseFloat(at))}});var Ke=Ce||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ke},set:function(at){isNaN(at)||(Ke=parseFloat(at))}}),this},Bd=function(){this.page=Ve,this.currentPage=R,this.pages=re.slice(0),this.pagesContext=De.slice(0),this.x=fe,this.y=de,this.matrix=Ue,this.width=vl(R),this.height=xo(R),this.outputDestination=le,this.id="",this.objectNumber=-1};Bd.prototype.restore=function(){Ve=this.page,R=this.currentPage,De=this.pagesContext,re=this.pages,fe=this.x,de=this.y,Ue=this.matrix,Sd(R,this.width),jd(R,this.height),le=this.outputDestination};var rf=function(B,X,he,Ce,_e){Ht.push(new Bd),Ve=R=0,re=[],fe=B,de=X,Ue=_e,pd([he,Ce])},m0=function(B){if(Gt[B])Ht.pop().restore();else{var X=new Bd,he="Xo"+(Object.keys(ct).length+1).toString(10);X.id=he,Gt[B]=he,ct[he]=X,Qe.publish("addFormObject",X),Ht.pop().restore()}};for(var CA in h.beginFormObject=function(B,X,he,Ce,_e){return rf(B,X,he,Ce,_e),this},h.endFormObject=function(B){return m0(B),this},h.doFormObject=function(B,X){var he=ct[Gt[B]];return ae("q"),ae(X.toString()+" cm"),ae("/"+he.id+" Do"),ae("Q"),this},h.getFormObject=function(B){var X=ct[Gt[B]];return{x:X.x,y:X.y,width:X.width,height:X.height,matrix:X.matrix}},h.save=function(B,X){return B=B||"generated.pdf",(X=X||{}).returnPromise=X.returnPromise||!1,X.returnPromise===!1?(Tl(mA(Ua()),B),typeof Tl.unload=="function"&&Kt.setTimeout&&setTimeout(Tl.unload,911),this):new Promise(function(he,Ce){try{var _e=Tl(mA(Ua()),B);typeof Tl.unload=="function"&&Kt.setTimeout&&setTimeout(Tl.unload,911),he(_e)}catch(Ke){Ce(Ke.message)}})},Wt.API)Wt.API.hasOwnProperty(CA)&&(CA==="events"&&Wt.API.events.length?function(B,X){var he,Ce,_e;for(_e=X.length-1;_e!==-1;_e--)he=X[_e][0],Ce=X[_e][1],B.subscribe.apply(B,[he].concat(typeof Ce=="function"?[Ce]:Ce))}(Qe,Wt.API.events):h[CA]=Wt.API[CA]);var vl=h.getPageWidth=function(B){return(De[B=B||R].mediaBox.topRightX-De[B].mediaBox.bottomLeftX)/ye},Sd=h.setPageWidth=function(B,X){De[B].mediaBox.topRightX=X*ye+De[B].mediaBox.bottomLeftX},xo=h.getPageHeight=function(B){return(De[B=B||R].mediaBox.topRightY-De[B].mediaBox.bottomLeftY)/ye},jd=h.setPageHeight=function(B,X){De[B].mediaBox.topRightY=X*ye+De[B].mediaBox.bottomLeftY};return h.internal={pdfEscape:Rs,getStyle:Yh,getFont:h0,getFontSize:Oe,getCharSpace:g0,getTextColor:p0,getLineHeight:Zh,getLineHeightFactor:tf,getLineWidth:xA,write:He,getHorizontalCoordinate:oa,getVerticalCoordinate:La,getCoordinateString:f0,getVerticalCoordinateString:yo,collections:{},newObject:Nn,newAdditionalObject:fi,newObjectDeferred:Kn,newObjectDeferredBegin:wr,getFilters:Qs,putStream:Sn,events:Qe,scaleFactor:ye,pageSize:{getWidth:function(){return vl(R)},setWidth:function(B){Sd(R,B)},getHeight:function(){return xo(R)},setHeight:function(B){jd(R,B)}},encryptionOptions:d,encryption:fs,getEncryptor:o0,output:vA,getNumberOfPages:n0,pages:re,out:ae,f2:P,f3:I,getPageInfo:qh,getPageInfoByObjId:qt,getCurrentPageInfo:l0,getPDFVersion:g,Point:wA,Rectangle:Cd,Matrix:St,hasHotfix:Gh},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return vl(R)},set:function(B){Sd(R,B)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return xo(R)},set:function(B){jd(R,B)},enumerable:!0,configurable:!0}),e0.call(h,me),jt="F1",Wh(i,n),Qe.publish("initialized"),h}ic.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},ic.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ic.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},ic.prototype.processOwnerPassword=function(e,t){return R1(Q1(t).substr(0,5),e)},ic.prototype.encryptor=function(e,t){var n=Q1(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return R1(n,r)}},gg.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||pn(e)!==pn(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},Wt.API={events:[]},Wt.version="3.0.1";var xr=Wt.API,Lx=1,cA=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},KA=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Jt=function(e){return e.toFixed(2)},Lo=function(e){return e.toFixed(5)};xr.__acroform__={};var Js=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},yC=function(e){return e*Lx},da=function(e){var t=new qj,n=Lt.internal.getHeight(e)||0,r=Lt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Jt(r)),Number(Jt(n))],t},K$=xr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},V$=xr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},G$=xr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Er=xr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return G$(e,t-1)},Ir=xr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return K$(e,t-1)},Fr=xr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return V$(e,t-1)},q$=xr.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],a=e[1],o=e[2],l=e[3],A={};return A.lowerLeft_X=n(i)||0,A.lowerLeft_Y=r(a+l)||0,A.upperRight_X=n(i+o)||0,A.upperRight_Y=r(a)||0,[Number(Jt(A.lowerLeft_X)),Number(Jt(A.lowerLeft_Y)),Number(Jt(A.upperRight_X)),Number(Jt(A.upperRight_Y))]},Y$=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=H1(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+Jt(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=da(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},H1=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(I){return I.split(`
`)}):i.map(function(I){return[I]});var a=n,o=Lt.internal.getHeight(e)||0;o=o<0?-o:o;var l=Lt.internal.getWidth(e)||0;l=l<0?-l:l;var A=function(I,j,U){if(I+1<i.length){var N=j+" "+i[I+1][0];return $f(N,e,U).width<=l-4}return!1};a++;e:for(;a>0;){t="",a--;var c,d,u=$f("3",e,a).height,p=e.multiline?o-a:(o-u)/2,h=p+=2,m=0,g=0,y=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+$f(t,e,a=12).width+", FieldWidth:"+l+`
`;break}for(var x="",C=0,S=0;S<i.length;S++)if(i.hasOwnProperty(S)){var w=!1;if(i[S].length!==1&&y!==i[S].length-1){if((u+2)*(C+2)+2>o)continue e;x+=i[S][y],w=!0,g=S,S--}else{x=(x+=i[S][y]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var _=parseInt(S),E=A(_,x,a),T=S>=i.length-1;if(E&&!T){x+=" ",y=0;continue}if(E||T){if(T)g=_;else if(e.multiline&&(u+2)*(C+2)+2>o)continue e}else{if(!e.multiline||(u+2)*(C+2)+2>o)continue e;g=_}}for(var F="",M=m;M<=g;M++){var P=i[M];if(e.multiline){if(M===g){F+=P[y]+" ",y=(y+1)%P.length;continue}if(M===m){F+=P[P.length-1]+" ";continue}}F+=P[0]+" "}switch(F=F.substr(F.length-1)==" "?F.substr(0,F.length-1):F,d=$f(F,e,a).width,e.textAlign){case"right":c=l-d-2;break;case"center":c=(l-d)/2;break;case"left":default:c=2}t+=Jt(c)+" "+Jt(h)+` Td
`,t+="("+cA(F)+`) Tj
`,t+=-Jt(c)+` 0 Td
`,h=-(a+2),d=0,m=w?g:g+1,C++,x=""}break}return r.text=t,r.fontSize=a,r},$f=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},X$={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},J$=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},Z$=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,i=e[n];t.internal.newObjectDeferredBegin(i.objId,!0),pn(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete e[r]}},ez=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(ra.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(X$)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Lx=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Yj,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&J$(a,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,i){var a=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var l=r[o],A=[],c=l.Rect;if(l.Rect&&(l.Rect=q$(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Lt.createDefaultAppearanceStream(l),pn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(A=l.getKeyValueListForStream()),l.Rect=c,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=Y$(l);A.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var u="";for(var p in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(p)){var h=l.appearanceStreamContent[p];if(u+="/"+p+" ",u+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var o in h)if(h.hasOwnProperty(o)){var m=h[o];typeof m=="function"&&(m=m.call(i,l)),u+="/"+o+" "+m+" ",i.internal.acroformPlugin.xForms.indexOf(m)>=0||i.internal.acroformPlugin.xForms.push(m)}}else typeof(m=h)=="function"&&(m=m.call(i,l)),u+="/"+o+" "+m,i.internal.acroformPlugin.xForms.indexOf(m)>=0||i.internal.acroformPlugin.xForms.push(m);u+=">>"}A.push({key:"AP",value:`<<
`+u+">>"})}i.internal.putStream({additionalKeyValues:A,objectId:l.objId}),i.internal.out("endobj")}a&&Z$(i.internal.acroformPlugin.xForms,i)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},Gj=xr.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(o){return o};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(a!==0&&(i+=" "),pn(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),i+="("+cA(r(e[a].toString()))+")"):i+=e[a].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},gv=function(e,t,n){var r=function(i){return i};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+cA(r(e))+")"},ba=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ba.prototype.toString=function(){return this.objId+" 0 R"},ba.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},ba.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:Gj(i,this.objId,this.scope)}):i instanceof ba?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var qj=function(){ba.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};Js(qj,ba);var Yj=function(){ba.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+cA(n(e))+")"}},set:function(n){e=n}})};Js(Yj,ba);var ra=function e(){ba.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');t=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Er(t,3)},set:function(x){x?this.F=Ir(t,3):this.F=Fr(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');n=x}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(x){r=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(x){r[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(x){r[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(x){r[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(x){r[3]=x}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof mg)return;a="FieldObject"+e.FieldNum++}var x=function(C){return C};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+cA(x(a))+")"},set:function(x){a=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(x){a=x}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var A=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return A},set:function(x){A=x}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/Lx:c},set:function(x){c=x}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(x){d=x}});var u="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!u||this instanceof mg||this instanceof zl))return gv(u,this.objId,this.scope)},set:function(x){x=x.toString(),u=x}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof es?p:gv(p,this.objId,this.scope)},set:function(x){x=x.toString(),p=this instanceof es?x:x.substr(0,1)==="("?KA(x.substr(1,x.length-2)):KA(x)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof es?KA(p.substr(1,p.length-1)):p},set:function(x){x=x.toString(),p=this instanceof es?"/"+x:x}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof es?h:gv(h,this.objId,this.scope)},set:function(x){x=x.toString(),h=this instanceof es?x:x.substr(0,1)==="("?KA(x.substr(1,x.length-2)):KA(x)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof es?KA(h.substr(1,h.length-1)):h},set:function(x){x=x.toString(),h=this instanceof es?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(x){x=!!x,g=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(x){m=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,1)},set:function(x){x?this.Ff=Ir(this.Ff,1):this.Ff=Fr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,2)},set:function(x){x?this.Ff=Ir(this.Ff,2):this.Ff=Fr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,3)},set:function(x){x?this.Ff=Ir(this.Ff,3):this.Ff=Fr(this.Ff,3)}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(y!==null)return y},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');y=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(y){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:y=2;break;case"center":case 1:y=1;break;case"left":case 0:default:y=0}}})};Js(ra,ba);var Bc=function(){ra.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Gj(t,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(a,o,l){l||(l=1);for(var A,c=[];A=o.exec(a);)c.push(A[l]);return c}(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,18)},set:function(n){n?this.Ff=Ir(this.Ff,18):this.Ff=Fr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Ir(this.Ff,19):this.Ff=Fr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,20)},set:function(n){n?(this.Ff=Ir(this.Ff,20),t.sort()):this.Ff=Fr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,22)},set:function(n){n?this.Ff=Ir(this.Ff,22):this.Ff=Fr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,23)},set:function(n){n?this.Ff=Ir(this.Ff,23):this.Ff=Fr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,27)},set:function(n){n?this.Ff=Ir(this.Ff,27):this.Ff=Fr(this.Ff,27)}}),this.hasAppearanceStream=!1};Js(Bc,ra);var Sc=function(){Bc.call(this),this.fontName="helvetica",this.combo=!1};Js(Sc,Bc);var jc=function(){Sc.call(this),this.combo=!0};Js(jc,Sc);var Dp=function(){jc.call(this),this.edit=!0};Js(Dp,jc);var es=function(){ra.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,15)},set:function(n){n?this.Ff=Ir(this.Ff,15):this.Ff=Fr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,16)},set:function(n){n?this.Ff=Ir(this.Ff,16):this.Ff=Fr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,17)},set:function(n){n?this.Ff=Ir(this.Ff,17):this.Ff=Fr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,26)},set:function(n){n?this.Ff=Ir(this.Ff,26):this.Ff=Fr(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+cA(n(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){pn(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};Js(es,ra);var Up=function(){es.call(this),this.pushButton=!0};Js(Up,es);var kc=function(){es.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Js(kc,es);var mg=function(){var e,t;ra.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),r)o.push("/"+a+" ("+cA(i(r[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){pn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Lt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Js(mg,ra),kc.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},kc.prototype.createOption=function(e){var t=new mg;return t.Parent=this,t.optionName=e,this.Kids.push(t),tz.call(this.scope,t),t};var Lp=function(){es.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Lt.CheckBox.createAppearanceStream()};Js(Lp,es);var zl=function(){ra.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,13)},set:function(t){t?this.Ff=Ir(this.Ff,13):this.Ff=Fr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,21)},set:function(t){t?this.Ff=Ir(this.Ff,21):this.Ff=Fr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,23)},set:function(t){t?this.Ff=Ir(this.Ff,23):this.Ff=Fr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,24)},set:function(t){t?this.Ff=Ir(this.Ff,24):this.Ff=Fr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,25)},set:function(t){t?this.Ff=Ir(this.Ff,25):this.Ff=Fr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,26)},set:function(t){t?this.Ff=Ir(this.Ff,26):this.Ff=Fr(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Js(zl,ra);var Mp=function(){zl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Er(this.Ff,14)},set:function(e){e?this.Ff=Ir(this.Ff,14):this.Ff=Fr(this.Ff,14)}}),this.password=!0};Js(Mp,zl);var Lt={CheckBox:{createAppearanceStream:function(){return{N:{On:Lt.CheckBox.YesNormal},D:{On:Lt.CheckBox.YesPushDown,Off:Lt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=da(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=H1(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+Jt(Lt.internal.getWidth(e))+" "+Jt(Lt.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Jt(a.fontSize)+" Tf "+i),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=da(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],a=Lt.internal.getHeight(e),o=Lt.internal.getWidth(e),l=H1(e,e.caption);return i.push("1 g"),i.push("0 0 "+Jt(o)+" "+Jt(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Jt(o-1)+" "+Jt(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Jt(l.fontSize)+" Tf "+r),i.push(l.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=da(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Jt(Lt.internal.getWidth(e))+" "+Jt(Lt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Lt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Lt.RadioButton.Circle.YesNormal,t.D[e]=Lt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=da(e);t.scope=e.scope;var n=[],r=Lt.internal.getWidth(e)<=Lt.internal.getHeight(e)?Lt.internal.getWidth(e)/4:Lt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Lt.internal.Bezier_C,a=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Lo(Lt.internal.getWidth(e)/2)+" "+Lo(Lt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=da(e);t.scope=e.scope;var n=[],r=Lt.internal.getWidth(e)<=Lt.internal.getHeight(e)?Lt.internal.getWidth(e)/4:Lt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Lt.internal.Bezier_C).toFixed(5)),o=Number((r*Lt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Lo(Lt.internal.getWidth(e)/2)+" "+Lo(Lt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Lo(Lt.internal.getWidth(e)/2)+" "+Lo(Lt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=da(e);t.scope=e.scope;var n=[],r=Lt.internal.getWidth(e)<=Lt.internal.getHeight(e)?Lt.internal.getWidth(e)/4:Lt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Lt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Lo(Lt.internal.getWidth(e)/2)+" "+Lo(Lt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Lt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Lt.RadioButton.Cross.YesNormal,t.D[e]=Lt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=da(e);t.scope=e.scope;var n=[],r=Lt.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+Jt(Lt.internal.getWidth(e)-2)+" "+Jt(Lt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Jt(r.x1.x)+" "+Jt(r.x1.y)+" m"),n.push(Jt(r.x2.x)+" "+Jt(r.x2.y)+" l"),n.push(Jt(r.x4.x)+" "+Jt(r.x4.y)+" m"),n.push(Jt(r.x3.x)+" "+Jt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=da(e);t.scope=e.scope;var n=Lt.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+Jt(Lt.internal.getWidth(e))+" "+Jt(Lt.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Jt(Lt.internal.getWidth(e)-2)+" "+Jt(Lt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Jt(n.x1.x)+" "+Jt(n.x1.y)+" m"),r.push(Jt(n.x2.x)+" "+Jt(n.x2.y)+" l"),r.push(Jt(n.x4.x)+" "+Jt(n.x4.y)+" m"),r.push(Jt(n.x3.x)+" "+Jt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=da(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Jt(Lt.internal.getWidth(e))+" "+Jt(Lt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Lt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Lt.internal.getWidth(e),n=Lt.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},Lt.internal.getWidth=function(e){var t=0;return pn(e)==="object"&&(t=yC(e.Rect[2])),t},Lt.internal.getHeight=function(e){var t=0;return pn(e)==="object"&&(t=yC(e.Rect[3])),t};var tz=xr.addField=function(e){if(ez(this,e),!(e instanceof ra))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};xr.AcroFormChoiceField=Bc,xr.AcroFormListBox=Sc,xr.AcroFormComboBox=jc,xr.AcroFormEditBox=Dp,xr.AcroFormButton=es,xr.AcroFormPushButton=Up,xr.AcroFormRadioButton=kc,xr.AcroFormCheckBox=Lp,xr.AcroFormTextField=zl,xr.AcroFormPasswordField=Mp,xr.AcroFormAppearance=Lt,xr.AcroForm={ChoiceField:Bc,ListBox:Sc,ComboBox:jc,EditBox:Dp,Button:es,PushButton:Up,RadioButton:kc,CheckBox:Lp,TextField:zl,PasswordField:Mp,Appearance:Lt},Wt.AcroForm={ChoiceField:Bc,ListBox:Sc,ComboBox:jc,EditBox:Dp,Button:es,PushButton:Up,RadioButton:kc,CheckBox:Lp,TextField:zl,PasswordField:Mp,Appearance:Lt};Wt.AcroForm;function Xj(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(I,j){var U,N,z,L,D,K=t;if((j=j||t)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(E(I))for(D in n)for(z=n[D],U=0;U<z.length;U+=1){for(L=!0,N=0;N<z[U].length;N+=1)if(z[U][N]!==void 0&&z[U][N]!==I[N]){L=!1;break}if(L===!0){K=D;break}}else for(D in n)for(z=n[D],U=0;U<z.length;U+=1){for(L=!0,N=0;N<z[U].length;N+=1)if(z[U][N]!==void 0&&z[U][N]!==I.charCodeAt(N)){L=!1;break}if(L===!0){K=D;break}}return K===t&&j!==t&&(K=j),K},i=function I(j){for(var U=this.internal.write,N=this.internal.putStream,z=(0,this.internal.getFilters)();z.indexOf("FlateEncode")!==-1;)z.splice(z.indexOf("FlateEncode"),1);j.objectId=this.internal.newObject();var L=[];if(L.push({key:"Type",value:"/XObject"}),L.push({key:"Subtype",value:"/Image"}),L.push({key:"Width",value:j.width}),L.push({key:"Height",value:j.height}),j.colorSpace===y.INDEXED?L.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(j.palette.length/3-1)+" "+("sMask"in j&&j.sMask!==void 0?j.objectId+2:j.objectId+1)+" 0 R]"}):(L.push({key:"ColorSpace",value:"/"+j.colorSpace}),j.colorSpace===y.DEVICE_CMYK&&L.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),L.push({key:"BitsPerComponent",value:j.bitsPerComponent}),"decodeParameters"in j&&j.decodeParameters!==void 0&&L.push({key:"DecodeParms",value:"<<"+j.decodeParameters+">>"}),"transparency"in j&&Array.isArray(j.transparency)){for(var D="",K=0,q=j.transparency.length;K<q;K++)D+=j.transparency[K]+" "+j.transparency[K]+" ";L.push({key:"Mask",value:"["+D+"]"})}j.sMask!==void 0&&L.push({key:"SMask",value:j.objectId+1+" 0 R"});var Z=j.filter!==void 0?["/"+j.filter]:void 0;if(N({data:j.data,additionalKeyValues:L,alreadyAppliedFilters:Z,objectId:j.objectId}),U("endobj"),"sMask"in j&&j.sMask!==void 0){var Ae="/Predictor "+j.predictor+" /Colors 1 /BitsPerComponent "+j.bitsPerComponent+" /Columns "+j.width,H={width:j.width,height:j.height,colorSpace:"DeviceGray",bitsPerComponent:j.bitsPerComponent,decodeParameters:Ae,data:j.sMask};"filter"in j&&(H.filter=j.filter),I.call(this,H)}if(j.colorSpace===y.INDEXED){var R=this.internal.newObject();N({data:F(new Uint8Array(j.palette)),objectId:R}),U("endobj")}},a=function(){var I=this.internal.collections.addImage_images;for(var j in I)i.call(this,I[j])},o=function(){var I,j=this.internal.collections.addImage_images,U=this.internal.write;for(var N in j)U("/I"+(I=j[N]).index,I.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},A=function(){var I=this.internal.collections.addImage_images;return l.call(this),I},c=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(I){return typeof e["process"+I.toUpperCase()]=="function"},u=function(I){return pn(I)==="object"&&I.nodeType===1},p=function(I,j){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var U=""+I.getAttribute("src");if(U.indexOf("data:image/")===0)return Lu(unescape(U).split("base64,").pop());var N=e.loadFile(U,!0);if(N!==void 0)return N}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var z;switch(j){case"PNG":z="image/png";break;case"WEBP":z="image/webp";break;case"JPEG":case"JPG":default:z="image/jpeg"}return Lu(I.toDataURL(z,1).split("base64,").pop())}},h=function(I){var j=this.internal.collections.addImage_images;if(j){for(var U in j)if(I===j[U].alias)return j[U]}},m=function(I,j,U){return I||j||(I=-96,j=-96),I<0&&(I=-1*U.width*72/I/this.internal.scaleFactor),j<0&&(j=-1*U.height*72/j/this.internal.scaleFactor),I===0&&(I=j*U.width/U.height),j===0&&(j=I*U.height/U.width),[I,j]},g=function(I,j,U,N,z,L){var D=m.call(this,U,N,z),K=this.internal.getCoordinateString,q=this.internal.getVerticalCoordinateString,Z=A.call(this);if(U=D[0],N=D[1],Z[z.index]=z,L){L*=Math.PI/180;var Ae=Math.cos(L),H=Math.sin(L),R=function($){return $.toFixed(4)},Q=[R(Ae),R(H),R(-1*H),R(Ae),0,0,"cm"]}this.internal.write("q"),L?(this.internal.write([1,"0","0",1,K(I),q(j+N),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([K(U),"0","0",K(N),"0","0","cm"].join(" "))):this.internal.write([K(U),"0","0",K(N),K(I),q(j+N),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+z.index+" Do"),this.internal.write("Q")},y=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},C=e.__addimage__.sHashCode=function(I){var j,U,N=0;if(typeof I=="string")for(U=I.length,j=0;j<U;j++)N=(N<<5)-N+I.charCodeAt(j),N|=0;else if(E(I))for(U=I.byteLength/2,j=0;j<U;j++)N=(N<<5)-N+I[j],N|=0;return N},S=e.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var j=!0;return I.length===0&&(j=!1),I.length%4!=0&&(j=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(j=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(j=!1),j},w=e.__addimage__.extractImageFromDataUrl=function(I){if(I==null||!(I=I.trim()).startsWith("data:"))return null;var j=I.indexOf(",");return j<0?null:I.substring(0,j).trim().endsWith("base64")?I.substring(j+1):null},_=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(I){return _()&&I instanceof ArrayBuffer};var E=e.__addimage__.isArrayBufferView=function(I){return _()&&typeof Uint32Array<"u"&&(I instanceof Int8Array||I instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array)},T=e.__addimage__.binaryStringToUint8Array=function(I){for(var j=I.length,U=new Uint8Array(j),N=0;N<j;N++)U[N]=I.charCodeAt(N);return U},F=e.__addimage__.arrayBufferToBinaryString=function(I){for(var j="",U=E(I)?I:new Uint8Array(I),N=0;N<U.length;N+=8192)j+=String.fromCharCode.apply(null,U.subarray(N,N+8192));return j};e.addImage=function(){var I,j,U,N,z,L,D,K,q;if(typeof arguments[1]=="number"?(j=t,U=arguments[1],N=arguments[2],z=arguments[3],L=arguments[4],D=arguments[5],K=arguments[6],q=arguments[7]):(j=arguments[1],U=arguments[2],N=arguments[3],z=arguments[4],L=arguments[5],D=arguments[6],K=arguments[7],q=arguments[8]),pn(I=arguments[0])==="object"&&!u(I)&&"imageData"in I){var Z=I;I=Z.imageData,j=Z.format||j||t,U=Z.x||U||0,N=Z.y||N||0,z=Z.w||Z.width||z,L=Z.h||Z.height||L,D=Z.alias||D,K=Z.compression||K,q=Z.rotation||Z.angle||q}var Ae=this.internal.getFilters();if(K===void 0&&Ae.indexOf("FlateEncode")!==-1&&(K="SLOW"),isNaN(U)||isNaN(N))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var H=M.call(this,I,j,D,K);return g.call(this,U,N,z,L,H,q),this};var M=function(I,j,U,N){var z,L,D;if(typeof I=="string"&&r(I)===t){I=unescape(I);var K=P(I,!1);(K!==""||(K=e.loadFile(I,!0))!==void 0)&&(I=K)}if(u(I)&&(I=p(I,j)),j=r(I,j),!d(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(((D=U)==null||D.length===0)&&(U=function(q){return typeof q=="string"||E(q)?C(q):E(q.data)?C(q.data):null}(I)),(z=h.call(this,U))||(_()&&(I instanceof Uint8Array||j==="RGBA"||(L=I,I=T(I))),z=this["process"+j.toUpperCase()](I,c.call(this),U,function(q){return q&&typeof q=="string"&&(q=q.toUpperCase()),q in e.image_compression?q:x.NONE}(N),L)),!z)throw new Error("An unknown error occurred whilst processing the image.");return z},P=e.__addimage__.convertBase64ToBinaryString=function(I,j){j=typeof j!="boolean"||j;var U,N="";if(typeof I=="string"){var z;U=(z=w(I))!==null&&z!==void 0?z:I;try{N=Lu(U)}catch(L){if(j)throw S(U)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+L.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return N};e.getImageProperties=function(I){var j,U,N="";if(u(I)&&(I=p(I)),typeof I=="string"&&r(I)===t&&((N=P(I,!1))===""&&(N=e.loadFile(I)||""),I=N),U=r(I),!d(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(!_()||I instanceof Uint8Array||(I=T(I)),!(j=this["process"+U.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return j.fileType=U,j}})(Wt.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};Wt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,i,a,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,A=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,d=!1,u=0;u<c.length&&!d;u++)switch((r=c[u]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var p=0;p<c.length;p++){r=c[p];var h=this.internal.pdfEscape,m=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(g.objId),C=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+l(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y)+"] ")+"/Contents ("+h(x(r.contents))+")",a+=" /Popup "+y.objId+" 0 R",a+=" /P "+A.objId+" 0 R",a+=" /T ("+h(x(C))+") >>",g.content=a;var S=g.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+l(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+l(r.bounds.y)+"] ")+" /Parent "+S,r.open&&(a+=" /Open true"),a+=" >>",y.content=a,this.internal.write(g.objId,"0 R",y.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+l(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y+r.bounds.h)+"] ";var w=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(m(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+w+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var _=this.annotations._nameMap[r.options.name];r.options.pageNumber=_.page,r.options.top=_.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(m(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var E=l(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+E+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,i,a,o){var l=this.internal.getCurrentPageInfo(),A=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:A(n),y:c(r),w:A(n+i),h:c(r+a)},options:o,type:"link"})},e.textWithLink=function(n,r,i,a){var o,l,A=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var d=this.splitTextToSize(n,l).length;o=Math.ceil(c*d)}else l=A,o=c;return this.text(n,r,i,a),i+=.2*c,a.align==="center"&&(r-=A/2),a.align==="right"&&(r-=A),this.link(r,i-c,l,o,a),A},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(Wt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},l=e.__arabicParser__.isArabicEndLetter=function(g){return o(g)&&a(g)&&t[g.charCodeAt(0)].length<=2},A=e.__arabicParser__.isArabicAlfLetter=function(g){return o(g)&&i.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return o(g)&&a(g)&&t[g.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return o(g)&&a(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return o(g)&&a(g)&&t[g.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return o(g)&&a(g)&&t[g.charCodeAt(0)].length==4},u=e.__arabicParser__.resolveLigatures=function(g){var y=0,x=n,C="",S=0;for(y=0;y<g.length;y+=1)x[g.charCodeAt(y)]!==void 0?(S++,typeof(x=x[g.charCodeAt(y)])=="number"&&(C+=String.fromCharCode(x),x=n,S=0),y===g.length-1&&(x=n,C+=g.charAt(y-(S-1)),y-=S-1,S=0)):(x=n,C+=g.charAt(y-S),y-=S,S=0);return C};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&r[g.charCodeAt(0)]!==void 0};var p=e.__arabicParser__.getCorrectForm=function(g,y,x){return o(g)?a(g)===!1?-1:!c(g)||!o(y)&&!o(x)||!o(x)&&l(y)||l(g)&&!o(y)||l(g)&&A(y)||l(g)&&l(y)?0:d(g)&&o(y)&&!l(y)&&o(x)&&c(x)?3:l(g)||!o(x)?1:2:-1},h=function(g){var y=0,x=0,C=0,S="",w="",_="",E=(g=g||"").split("\\s+"),T=[];for(y=0;y<E.length;y+=1){for(T.push(""),x=0;x<E[y].length;x+=1)S=E[y][x],w=E[y][x-1],_=E[y][x+1],o(S)?(C=p(S,w,_),T[y]+=C!==-1?String.fromCharCode(t[S.charCodeAt(0)][C]):S):T[y]+=S;T[y]=u(T[y])}return T.join(" ")},m=e.__arabicParser__.processArabic=e.processArabic=function(){var g,y=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(y)){var C=0;for(x=[],C=0;C<y.length;C+=1)Array.isArray(y[C])?x.push([h(y[C][0]),y[C][1],y[C][2]]):x.push([h(y[C])]);g=x}else g=h(y);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",m])}(Wt.API),Wt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(l){n=l}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Wt.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var A=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return A},set:function(g){A=g}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var u=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var m=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return m},set:function(g){m=g}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(A){return r.call(this),this.internal.__cell__.headerFunction=typeof A=="function"?A:void 0,this},e.getTextDimensions=function(A,c){r.call(this);var d=(c=c||{}).fontSize||this.getFontSize(),u=c.font||this.getFont(),p=c.scaleFactor||this.internal.scaleFactor,h=0,m=0,g=0,y=this;if(!Array.isArray(A)&&typeof A!="string"){if(typeof A!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");A=String(A)}var x=c.maxWidth;x>0?typeof A=="string"?A=this.splitTextToSize(A,x):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(S,w){return S.concat(y.splitTextToSize(w,x))},[])):A=Array.isArray(A)?A:[A];for(var C=0;C<A.length;C++)h<(g=this.getStringUnitWidth(A[C],{font:u})*d)&&(h=g);return h!==0&&(m=A.length),{w:h/=p,h:Math.max((m*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/p,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var A=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(A.left,A.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var A;A=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,u=this.internal.__cell__.margins||t,p=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===A.lineNumber?(A.x=(c.x||0)+(c.width||0),A.y=c.y||0):c.y+c.height+A.height+u.bottom>this.getPageHeight()?(this.cellAddPage(),A.y=u.top,h&&p&&(this.printHeaderRow(A.lineNumber,!0),A.y+=p[0].height)):A.y=c.y+c.height||A.y),A.text[0]!==void 0&&(this.rect(A.x,A.y,A.width,A.height,n===!0?"FD":void 0),A.align==="right"?this.text(A.text,A.x+A.width-d,A.y+d,{align:"right",baseline:"top"}):A.align==="center"?this.text(A.text,A.x+A.width/2,A.y+d,{align:"center",baseline:"top",maxWidth:A.width-d-d}):this.text(A.text,A.x+d,A.y+d,{align:"left",baseline:"top",maxWidth:A.width-d-d})),this.internal.__cell__.lastCell=A,this};e.table=function(A,c,d,u,p){if(r.call(this),!d)throw new Error("No data for PDF table.");var h,m,g,y,x=[],C=[],S=[],w={},_={},E=[],T=[],F=(p=p||{}).autoSize||!1,M=p.printHeaders!==!1,P=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,I=p.margins||Object.assign({width:this.getPageWidth()},t),j=typeof p.padding=="number"?p.padding:3,U=p.headerBackgroundColor||"#c8c8c8",N=p.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=M,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=P,this.internal.__cell__.padding=j,this.internal.__cell__.headerBackgroundColor=U,this.internal.__cell__.headerTextColor=N,this.setFontSize(P),u==null)C=x=Object.keys(d[0]),S=x.map(function(){return"left"});else if(Array.isArray(u)&&pn(u[0])==="object")for(x=u.map(function(Z){return Z.name}),C=u.map(function(Z){return Z.prompt||Z.name||""}),S=u.map(function(Z){return Z.align||"left"}),h=0;h<u.length;h+=1)_[u[h].name]=u[h].width*(19.049976/25.4);else Array.isArray(u)&&typeof u[0]=="string"&&(C=x=u,S=x.map(function(){return"left"}));if(F||Array.isArray(u)&&typeof u[0]=="string")for(h=0;h<x.length;h+=1){for(w[y=x[h]]=d.map(function(Z){return Z[y]}),this.setFont(void 0,"bold"),E.push(this.getTextDimensions(C[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),m=w[y],this.setFont(void 0,"normal"),g=0;g<m.length;g+=1)E.push(this.getTextDimensions(m[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);_[y]=Math.max.apply(null,E)+j+j,E=[]}if(M){var z={};for(h=0;h<x.length;h+=1)z[x[h]]={},z[x[h]].text=C[h],z[x[h]].align=S[h];var L=l.call(this,z,_);T=x.map(function(Z){return new a(A,c,_[Z],L,z[Z].text,void 0,z[Z].align)}),this.setTableHeaderRow(T),this.printHeaderRow(1,!1)}var D=u.reduce(function(Z,Ae){return Z[Ae.name]=Ae.align,Z},{});for(h=0;h<d.length;h+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:h,data:d[h]},this);var K=l.call(this,d[h],_);for(g=0;g<x.length;g+=1){var q=d[h][x[g]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:h,col:g,data:q},this),o.call(this,new a(A,c,_[x[g]],K,q,h+2,D[x[g]]))}}return this.internal.__cell__.table_x=A,this.internal.__cell__.table_y=c,this};var l=function(A,c){var d=this.internal.__cell__.padding,u=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(A).map(function(h){var m=A[h];return this.splitTextToSize(m.hasOwnProperty("text")?m.text:m,c[h]-d-d)},this).map(function(h){return this.getLineHeightFactor()*h.length*u/p+d+d},this).reduce(function(h,m){return Math.max(h,m)},0)};e.setTableHeaderRow=function(A){r.call(this),this.internal.__cell__.tableHeaderRow=A},e.printHeaderRow=function(A,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var u=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(u[0],u[1],u[2],u[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){d=this.internal.__cell__.tableHeaderRow[h].clone(),c&&(d.y=this.internal.__cell__.margins.top||0,p.push(d)),d.lineNumber=A;var m=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(m)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),n=!1}}(Wt.API);var Jj={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Zj=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],O1=Xj(Zj),e3=[100,200,300,400,500,600,700,800,900],nz=Xj(e3);function $1(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(a){return Jj[a=a||"normal"]?a:"normal"}(e.style),r=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(e.weight),i=function(a){return typeof O1[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function xC(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var rz={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},bC={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function wC(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function sz(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},rz,n.genericFontFamilies||{}),a=null,o=null,l=0;l<t.length;++l)if(i[(a=$1(t[l])).family]&&(a.family=i[a.family]),e.hasOwnProperty(a.family)){o=e[a.family];break}if(!(o=o||e[r]))throw new Error("Could not find a font-family for the rule '"+wC(a)+"' and default family '"+r+"'.");if(o=function(A,c){if(c[A])return c[A];var d=O1[A],u=d<=O1.normal?-1:1,p=xC(c,Zj,d,u);if(!p)throw new Error("Could not find a matching font-stretch value for "+A);return p}(a.stretch,o),o=function(A,c){if(c[A])return c[A];for(var d=Jj[A],u=0;u<d.length;++u)if(c[d[u]])return c[d[u]];throw new Error("Could not find a matching font-style for "+A)}(a.style,o),!(o=function(A,c){if(c[A])return c[A];if(A===400&&c[500])return c[500];if(A===500&&c[400])return c[400];var d=nz[A],u=xC(c,e3,d,A<400?-1:1);if(!u)throw new Error("Could not find a matching font-weight for value "+A);return u}(a.weight,o)))throw new Error("Failed to resolve a font for the rule '"+wC(a)+"'.");return o}function CC(e){return e.trimLeft()}function iz(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function az(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var zf,BC,SC,mv=["times"];(function(e){var t,n,r,i,a,o,l,A,c,d=function(H){return H=H||{},this.isStrokeTransparent=H.isStrokeTransparent||!1,this.strokeOpacity=H.strokeOpacity||1,this.strokeStyle=H.strokeStyle||"#000000",this.fillStyle=H.fillStyle||"#000000",this.isFillTransparent=H.isFillTransparent||!1,this.fillOpacity=H.fillOpacity||1,this.font=H.font||"10px sans-serif",this.textBaseline=H.textBaseline||"alphabetic",this.textAlign=H.textAlign||"left",this.lineWidth=H.lineWidth||1,this.lineJoin=H.lineJoin||"miter",this.lineCap=H.lineCap||"butt",this.path=H.path||[],this.transform=H.transform!==void 0?H.transform.clone():new A,this.globalCompositeOperation=H.globalCompositeOperation||"normal",this.globalAlpha=H.globalAlpha||1,this.clip_path=H.clip_path||[],this.currentPoint=H.currentPoint||new o,this.miterLimit=H.miterLimit||10,this.lastPoint=H.lastPoint||new o,this.lineDashOffset=H.lineDashOffset||0,this.lineDash=H.lineDash||[],this.margin=H.margin||[0,0,0,0],this.prevPageLastElemOffset=H.prevPageLastElemOffset||0,this.ignoreClearRect=typeof H.ignoreClearRect!="boolean"||H.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new u(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,A=this.internal.Matrix,c=new d}]);var u=function(H){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var R=H;Object.defineProperty(this,"pdf",{get:function(){return R}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(ue){Q=!!ue}});var $=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return $},set:function(ue){$=!!ue}});var V=0;Object.defineProperty(this,"posX",{get:function(){return V},set:function(ue){isNaN(ue)||(V=ue)}});var G=0;Object.defineProperty(this,"posY",{get:function(){return G},set:function(ue){isNaN(ue)||(G=ue)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(ue){var ae;typeof ue=="number"?ae=[ue,ue,ue,ue]:((ae=new Array(4))[0]=ue[0],ae[1]=ue.length>=2?ue[1]:ae[0],ae[2]=ue.length>=3?ue[2]:ae[0],ae[3]=ue.length>=4?ue[3]:ae[1]),c.margin=ae}});var ie=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ie},set:function(ue){ie=ue}});var ne=0;Object.defineProperty(this,"lastBreak",{get:function(){return ne},set:function(ue){ne=ue}});var xe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return xe},set:function(ue){xe=ue}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(ue){ue instanceof d&&(c=ue)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(ue){c.path=ue}});var re=[];Object.defineProperty(this,"ctxStack",{get:function(){return re},set:function(ue){re=ue}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ue){var ae;ae=p(ue),this.ctx.fillStyle=ae.style,this.ctx.isFillTransparent=ae.a===0,this.ctx.fillOpacity=ae.a,this.pdf.setFillColor(ae.r,ae.g,ae.b,{a:ae.a}),this.pdf.setTextColor(ae.r,ae.g,ae.b,{a:ae.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ue){var ae=p(ue);this.ctx.strokeStyle=ae.style,this.ctx.isStrokeTransparent=ae.a===0,this.ctx.strokeOpacity=ae.a,ae.a===0?this.pdf.setDrawColor(255,255,255):(ae.a,this.pdf.setDrawColor(ae.r,ae.g,ae.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ue){["butt","round","square"].indexOf(ue)!==-1&&(this.ctx.lineCap=ue,this.pdf.setLineCap(ue))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ue){isNaN(ue)||(this.ctx.lineWidth=ue,this.pdf.setLineWidth(ue))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ue){["bevel","round","miter"].indexOf(ue)!==-1&&(this.ctx.lineJoin=ue,this.pdf.setLineJoin(ue))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ue){isNaN(ue)||(this.ctx.miterLimit=ue,this.pdf.setMiterLimit(ue))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ue){this.ctx.textBaseline=ue}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ue){["right","end","center","left","start"].indexOf(ue)!==-1&&(this.ctx.textAlign=ue)}});var ge=null;function le(ue,ae){if(ge===null){var He=function(we){var me=[];return Object.keys(we).forEach(function(Ie){we[Ie].forEach(function(Te){var Oe=null;switch(Te){case"bold":Oe={family:Ie,weight:"bold"};break;case"italic":Oe={family:Ie,style:"italic"};break;case"bolditalic":Oe={family:Ie,weight:"bold",style:"italic"};break;case"":case"normal":Oe={family:Ie}}Oe!==null&&(Oe.ref={name:Ie,style:Te},me.push(Oe))})}),me}(ue.getFontList());ge=function(we){for(var me={},Ie=0;Ie<we.length;++Ie){var Te=$1(we[Ie]),Oe=Te.family,qe=Te.stretch,nt=Te.style,ht=Te.weight;me[Oe]=me[Oe]||{},me[Oe][qe]=me[Oe][qe]||{},me[Oe][qe][nt]=me[Oe][qe][nt]||{},me[Oe][qe][nt][ht]=Te}return me}(He.concat(ae))}return ge}var be=null;Object.defineProperty(this,"fontFaces",{get:function(){return be},set:function(ue){ge=null,be=ue}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ue){var ae;if(this.ctx.font=ue,(ae=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ue))!==null){var He=ae[1];ae[2];var we=ae[3],me=ae[4];ae[5];var Ie=ae[6],Te=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(me)[2];me=Math.floor(Te==="px"?parseFloat(me)*this.pdf.internal.scaleFactor:Te==="em"?parseFloat(me)*this.pdf.getFontSize():parseFloat(me)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(me);var Oe=function(We){var jt,ye,fe=[],de=We.trim();if(de==="")return mv;if(de in bC)return[bC[de]];for(;de!=="";){switch(ye=null,jt=(de=CC(de)).charAt(0)){case'"':case"'":ye=iz(de.substring(1),jt);break;default:ye=az(de)}if(ye===null||(fe.push(ye[0]),(de=CC(ye[1]))!==""&&de.charAt(0)!==","))return mv;de=de.replace(/^,/,"")}return fe}(Ie);if(this.fontFaces){var qe=sz(le(this.pdf,this.fontFaces),Oe.map(function(We){return{family:We,stretch:"normal",weight:we,style:He}}));this.pdf.setFont(qe.ref.name,qe.ref.style)}else{var nt="";(we==="bold"||parseInt(we,10)>=700||He==="bold")&&(nt="bold"),He==="italic"&&(nt+="italic"),nt.length===0&&(nt="normal");for(var ht="",rt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ot=0;ot<Oe.length;ot++){if(this.pdf.internal.getFont(Oe[ot],nt,{noFallback:!0,disableWarning:!0})!==void 0){ht=Oe[ot];break}if(nt==="bolditalic"&&this.pdf.internal.getFont(Oe[ot],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ht=Oe[ot],nt="bold";else if(this.pdf.internal.getFont(Oe[ot],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ht=Oe[ot],nt="normal";break}}if(ht===""){for(var At=0;At<Oe.length;At++)if(rt[Oe[At]]){ht=rt[Oe[At]];break}}ht=ht===""?"Times":ht,this.pdf.setFont(ht,nt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ue){this.ctx.globalCompositeOperation=ue}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ue){this.ctx.globalAlpha=ue}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ue){this.ctx.lineDashOffset=ue,Ae.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ue){this.ctx.lineDash=ue,Ae.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ue){this.ctx.ignoreClearRect=!!ue}})};u.prototype.setLineDash=function(H){this.lineDash=H},u.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},u.prototype.fill=function(){w.call(this,"fill",!1)},u.prototype.stroke=function(){w.call(this,"stroke",!1)},u.prototype.beginPath=function(){this.path=[{type:"begin"}]},u.prototype.moveTo=function(H,R){if(isNaN(H)||isNaN(R))throw Gn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new o(H,R));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(H,R)},u.prototype.closePath=function(){var H=new o(0,0),R=0;for(R=this.path.length-1;R!==-1;R--)if(this.path[R].type==="begin"&&pn(this.path[R+1])==="object"&&typeof this.path[R+1].x=="number"){H=new o(this.path[R+1].x,this.path[R+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(H.x,H.y)},u.prototype.lineTo=function(H,R){if(isNaN(H)||isNaN(R))throw Gn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new o(H,R));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(Q.x,Q.y)},u.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),w.call(this,null,!0)},u.prototype.quadraticCurveTo=function(H,R,Q,$){if(isNaN(Q)||isNaN($)||isNaN(H)||isNaN(R))throw Gn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var V=this.ctx.transform.applyToPoint(new o(Q,$)),G=this.ctx.transform.applyToPoint(new o(H,R));this.path.push({type:"qct",x1:G.x,y1:G.y,x:V.x,y:V.y}),this.ctx.lastPoint=new o(V.x,V.y)},u.prototype.bezierCurveTo=function(H,R,Q,$,V,G){if(isNaN(V)||isNaN(G)||isNaN(H)||isNaN(R)||isNaN(Q)||isNaN($))throw Gn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ie=this.ctx.transform.applyToPoint(new o(V,G)),ne=this.ctx.transform.applyToPoint(new o(H,R)),xe=this.ctx.transform.applyToPoint(new o(Q,$));this.path.push({type:"bct",x1:ne.x,y1:ne.y,x2:xe.x,y2:xe.y,x:ie.x,y:ie.y}),this.ctx.lastPoint=new o(ie.x,ie.y)},u.prototype.arc=function(H,R,Q,$,V,G){if(isNaN(H)||isNaN(R)||isNaN(Q)||isNaN($)||isNaN(V))throw Gn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(G=!!G,!this.ctx.transform.isIdentity){var ie=this.ctx.transform.applyToPoint(new o(H,R));H=ie.x,R=ie.y;var ne=this.ctx.transform.applyToPoint(new o(0,Q)),xe=this.ctx.transform.applyToPoint(new o(0,0));Q=Math.sqrt(Math.pow(ne.x-xe.x,2)+Math.pow(ne.y-xe.y,2))}Math.abs(V-$)>=2*Math.PI&&($=0,V=2*Math.PI),this.path.push({type:"arc",x:H,y:R,radius:Q,startAngle:$,endAngle:V,counterclockwise:G})},u.prototype.arcTo=function(H,R,Q,$,V){throw new Error("arcTo not implemented.")},u.prototype.rect=function(H,R,Q,$){if(isNaN(H)||isNaN(R)||isNaN(Q)||isNaN($))throw Gn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(H,R),this.lineTo(H+Q,R),this.lineTo(H+Q,R+$),this.lineTo(H,R+$),this.lineTo(H,R),this.lineTo(H+Q,R),this.lineTo(H,R)},u.prototype.fillRect=function(H,R,Q,$){if(isNaN(H)||isNaN(R)||isNaN(Q)||isNaN($))throw Gn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var V={};this.lineCap!=="butt"&&(V.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(V.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(H,R,Q,$),this.fill(),V.hasOwnProperty("lineCap")&&(this.lineCap=V.lineCap),V.hasOwnProperty("lineJoin")&&(this.lineJoin=V.lineJoin)}},u.prototype.strokeRect=function(H,R,Q,$){if(isNaN(H)||isNaN(R)||isNaN(Q)||isNaN($))throw Gn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(H,R,Q,$),this.stroke())},u.prototype.clearRect=function(H,R,Q,$){if(isNaN(H)||isNaN(R)||isNaN(Q)||isNaN($))throw Gn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(H,R,Q,$))},u.prototype.save=function(H){H=typeof H!="boolean"||H;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(R),H){this.ctx.fontSize=this.pdf.internal.getFontSize();var $=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=$}},u.prototype.restore=function(H){H=typeof H!="boolean"||H;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(R),H&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},u.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(H){var R,Q,$,V;if(H.isCanvasGradient===!0&&(H=H.getColor()),!H)return{r:0,g:0,b:0,a:0,style:H};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(H))R=0,Q=0,$=0,V=0;else{var G=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(H);if(G!==null)R=parseInt(G[1]),Q=parseInt(G[2]),$=parseInt(G[3]),V=1;else if((G=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(H))!==null)R=parseInt(G[1]),Q=parseInt(G[2]),$=parseInt(G[3]),V=parseFloat(G[4]);else{if(V=1,typeof H=="string"&&H.charAt(0)!=="#"){var ie=new Wj(H);H=ie.ok?ie.toHex():"#000000"}H.length===4?(R=H.substring(1,2),R+=R,Q=H.substring(2,3),Q+=Q,$=H.substring(3,4),$+=$):(R=H.substring(1,3),Q=H.substring(3,5),$=H.substring(5,7)),R=parseInt(R,16),Q=parseInt(Q,16),$=parseInt($,16)}}return{r:R,g:Q,b:$,a:V,style:H}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},m=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};u.prototype.fillText=function(H,R,Q,$){if(isNaN(R)||isNaN(Q)||typeof H!="string")throw Gn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if($=isNaN($)?void 0:$,!h.call(this)){var V=K(this.ctx.transform.rotation),G=this.ctx.transform.scaleX;j.call(this,{text:H,x:R,y:Q,scale:G,angle:V,align:this.textAlign,maxWidth:$})}},u.prototype.strokeText=function(H,R,Q,$){if(isNaN(R)||isNaN(Q)||typeof H!="string")throw Gn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){$=isNaN($)?void 0:$;var V=K(this.ctx.transform.rotation),G=this.ctx.transform.scaleX;j.call(this,{text:H,x:R,y:Q,scale:G,renderingMode:"stroke",angle:V,align:this.textAlign,maxWidth:$})}},u.prototype.measureText=function(H){if(typeof H!="string")throw Gn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var R=this.pdf,Q=this.pdf.internal.scaleFactor,$=R.internal.getFontSize(),V=R.getStringUnitWidth(H)*$/R.internal.scaleFactor,G=function(ie){var ne=(ie=ie||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ne}}),this};return new G({width:V*=Math.round(96*Q/72*1e4)/1e4})},u.prototype.scale=function(H,R){if(isNaN(H)||isNaN(R))throw Gn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new A(H,0,0,R,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},u.prototype.rotate=function(H){if(isNaN(H))throw Gn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var R=new A(Math.cos(H),Math.sin(H),-Math.sin(H),Math.cos(H),0,0);this.ctx.transform=this.ctx.transform.multiply(R)},u.prototype.translate=function(H,R){if(isNaN(H)||isNaN(R))throw Gn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new A(1,0,0,1,H,R);this.ctx.transform=this.ctx.transform.multiply(Q)},u.prototype.transform=function(H,R,Q,$,V,G){if(isNaN(H)||isNaN(R)||isNaN(Q)||isNaN($)||isNaN(V)||isNaN(G))throw Gn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ie=new A(H,R,Q,$,V,G);this.ctx.transform=this.ctx.transform.multiply(ie)},u.prototype.setTransform=function(H,R,Q,$,V,G){H=isNaN(H)?1:H,R=isNaN(R)?0:R,Q=isNaN(Q)?0:Q,$=isNaN($)?1:$,V=isNaN(V)?0:V,G=isNaN(G)?0:G,this.ctx.transform=new A(H,R,Q,$,V,G)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};u.prototype.drawImage=function(H,R,Q,$,V,G,ie,ne,xe){var re=this.pdf.getImageProperties(H),ge=1,le=1,be=1,ue=1;$!==void 0&&ne!==void 0&&(be=ne/$,ue=xe/V,ge=re.width/$*ne/$,le=re.height/V*xe/V),G===void 0&&(G=R,ie=Q,R=0,Q=0),$!==void 0&&ne===void 0&&(ne=$,xe=V),$===void 0&&ne===void 0&&(ne=re.width,xe=re.height);for(var ae,He=this.ctx.transform.decompose(),we=K(He.rotate.shx),me=new A,Ie=(me=(me=(me=me.multiply(He.translate)).multiply(He.skew)).multiply(He.scale)).applyToRectangle(new l(G-R*be,ie-Q*ue,$*ge,V*le)),Te=y.call(this,Ie),Oe=[],qe=0;qe<Te.length;qe+=1)Oe.indexOf(Te[qe])===-1&&Oe.push(Te[qe]);if(S(Oe),this.autoPaging)for(var nt=Oe[0],ht=Oe[Oe.length-1],rt=nt;rt<ht+1;rt++){this.pdf.setPage(rt);var ot=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],At=rt===1?this.posY+this.margin[0]:this.margin[0],We=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],jt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ye=rt===1?0:We+(rt-2)*jt;if(this.ctx.clip_path.length!==0){var fe=this.path;ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(ae,this.posX+this.margin[3],-ye+At+this.ctx.prevPageLastElemOffset),_.call(this,"fill",!0),this.path=fe}var de=JSON.parse(JSON.stringify(Ie));de=C([de],this.posX+this.margin[3],-ye+At+this.ctx.prevPageLastElemOffset)[0];var Ue=(rt>nt||rt<ht)&&g.call(this);Ue&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ot,jt,null).clip().discardPath()),this.pdf.addImage(H,"JPEG",de.x,de.y,de.w,de.h,null,null,we),Ue&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(H,"JPEG",Ie.x,Ie.y,Ie.w,Ie.h,null,null,we)};var y=function(H,R,Q){var $=[];R=R||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var V=this.posY+this.ctx.prevPageLastElemOffset;switch(H.type){default:case"mt":case"lt":$.push(Math.floor((H.y+V)/Q)+1);break;case"arc":$.push(Math.floor((H.y+V-H.radius)/Q)+1),$.push(Math.floor((H.y+V+H.radius)/Q)+1);break;case"qct":var G=q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,H.x1,H.y1,H.x,H.y);$.push(Math.floor((G.y+V)/Q)+1),$.push(Math.floor((G.y+G.h+V)/Q)+1);break;case"bct":var ie=Z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,H.x1,H.y1,H.x2,H.y2,H.x,H.y);$.push(Math.floor((ie.y+V)/Q)+1),$.push(Math.floor((ie.y+ie.h+V)/Q)+1);break;case"rect":$.push(Math.floor((H.y+V)/Q)+1),$.push(Math.floor((H.y+H.h+V)/Q)+1)}for(var ne=0;ne<$.length;ne+=1)for(;this.pdf.internal.getNumberOfPages()<$[ne];)x.call(this);return $},x=function(){var H=this.fillStyle,R=this.strokeStyle,Q=this.font,$=this.lineCap,V=this.lineWidth,G=this.lineJoin;this.pdf.addPage(),this.fillStyle=H,this.strokeStyle=R,this.font=Q,this.lineCap=$,this.lineWidth=V,this.lineJoin=G},C=function(H,R,Q){for(var $=0;$<H.length;$++)switch(H[$].type){case"bct":H[$].x2+=R,H[$].y2+=Q;case"qct":H[$].x1+=R,H[$].y1+=Q;case"mt":case"lt":case"arc":default:H[$].x+=R,H[$].y+=Q}return H},S=function(H){return H.sort(function(R,Q){return R-Q})},w=function(H,R){for(var Q,$,V=this.fillStyle,G=this.strokeStyle,ie=this.lineCap,ne=this.lineWidth,xe=Math.abs(ne*this.ctx.transform.scaleX),re=this.lineJoin,ge=JSON.parse(JSON.stringify(this.path)),le=JSON.parse(JSON.stringify(this.path)),be=[],ue=0;ue<le.length;ue++)if(le[ue].x!==void 0)for(var ae=y.call(this,le[ue]),He=0;He<ae.length;He+=1)be.indexOf(ae[He])===-1&&be.push(ae[He]);for(var we=0;we<be.length;we++)for(;this.pdf.internal.getNumberOfPages()<be[we];)x.call(this);if(S(be),this.autoPaging)for(var me=be[0],Ie=be[be.length-1],Te=me;Te<Ie+1;Te++){this.pdf.setPage(Te),this.fillStyle=V,this.strokeStyle=G,this.lineCap=ie,this.lineWidth=xe,this.lineJoin=re;var Oe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],qe=Te===1?this.posY+this.margin[0]:this.margin[0],nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ht=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],rt=Te===1?0:nt+(Te-2)*ht;if(this.ctx.clip_path.length!==0){var ot=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(Q,this.posX+this.margin[3],-rt+qe+this.ctx.prevPageLastElemOffset),_.call(this,H,!0),this.path=ot}if($=JSON.parse(JSON.stringify(ge)),this.path=C($,this.posX+this.margin[3],-rt+qe+this.ctx.prevPageLastElemOffset),R===!1||Te===0){var At=(Te>me||Te<Ie)&&g.call(this);At&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Oe,ht,null).clip().discardPath()),_.call(this,H,R),At&&this.pdf.restoreGraphicsState()}this.lineWidth=ne}else this.lineWidth=xe,_.call(this,H,R),this.lineWidth=ne;this.path=ge},_=function(H,R){if((H!=="stroke"||R||!m.call(this))&&(H==="stroke"||R||!h.call(this))){for(var Q,$,V=[],G=this.path,ie=0;ie<G.length;ie++){var ne=G[ie];switch(ne.type){case"begin":V.push({begin:!0});break;case"close":V.push({close:!0});break;case"mt":V.push({start:ne,deltas:[],abs:[]});break;case"lt":var xe=V.length;if(G[ie-1]&&!isNaN(G[ie-1].x)&&(Q=[ne.x-G[ie-1].x,ne.y-G[ie-1].y],xe>0)){for(;xe>=0;xe--)if(V[xe-1].close!==!0&&V[xe-1].begin!==!0){V[xe-1].deltas.push(Q),V[xe-1].abs.push(ne);break}}break;case"bct":Q=[ne.x1-G[ie-1].x,ne.y1-G[ie-1].y,ne.x2-G[ie-1].x,ne.y2-G[ie-1].y,ne.x-G[ie-1].x,ne.y-G[ie-1].y],V[V.length-1].deltas.push(Q);break;case"qct":var re=G[ie-1].x+2/3*(ne.x1-G[ie-1].x),ge=G[ie-1].y+2/3*(ne.y1-G[ie-1].y),le=ne.x+2/3*(ne.x1-ne.x),be=ne.y+2/3*(ne.y1-ne.y),ue=ne.x,ae=ne.y;Q=[re-G[ie-1].x,ge-G[ie-1].y,le-G[ie-1].x,be-G[ie-1].y,ue-G[ie-1].x,ae-G[ie-1].y],V[V.length-1].deltas.push(Q);break;case"arc":V.push({deltas:[],abs:[],arc:!0}),Array.isArray(V[V.length-1].abs)&&V[V.length-1].abs.push(ne)}}$=R?null:H==="stroke"?"stroke":"fill";for(var He=!1,we=0;we<V.length;we++)if(V[we].arc)for(var me=V[we].abs,Ie=0;Ie<me.length;Ie++){var Te=me[Ie];Te.type==="arc"?F.call(this,Te.x,Te.y,Te.radius,Te.startAngle,Te.endAngle,Te.counterclockwise,void 0,R,!He):U.call(this,Te.x,Te.y),He=!0}else if(V[we].close===!0)this.pdf.internal.out("h"),He=!1;else if(V[we].begin!==!0){var Oe=V[we].start.x,qe=V[we].start.y;N.call(this,V[we].deltas,Oe,qe),He=!0}$&&M.call(this,$),R&&P.call(this)}},E=function(H){var R=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=R*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return H-Q;case"top":return H+R-Q;case"hanging":return H+R-2*Q;case"middle":return H+R/2-Q;case"ideographic":return H;case"alphabetic":default:return H}},T=function(H){return H+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};u.prototype.createLinearGradient=function(){var H=function(){};return H.colorStops=[],H.addColorStop=function(R,Q){this.colorStops.push([R,Q])},H.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},H.isCanvasGradient=!0,H},u.prototype.createPattern=function(){return this.createLinearGradient()},u.prototype.createRadialGradient=function(){return this.createLinearGradient()};var F=function(H,R,Q,$,V,G,ie,ne,xe){for(var re=L.call(this,Q,$,V,G),ge=0;ge<re.length;ge++){var le=re[ge];ge===0&&(xe?I.call(this,le.x1+H,le.y1+R):U.call(this,le.x1+H,le.y1+R)),z.call(this,H,R,le.x2,le.y2,le.x3,le.y3,le.x4,le.y4)}ne?P.call(this):M.call(this,ie)},M=function(H){switch(H){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},P=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(H,R){this.pdf.internal.out(n(H)+" "+r(R)+" m")},j=function(H){var R;switch(H.align){case"right":case"end":R="right";break;case"center":R="center";break;case"left":case"start":default:R="left"}var Q=this.pdf.getTextDimensions(H.text),$=E.call(this,H.y),V=T.call(this,$)-Q.h,G=this.ctx.transform.applyToPoint(new o(H.x,$)),ie=this.ctx.transform.decompose(),ne=new A;ne=(ne=(ne=ne.multiply(ie.translate)).multiply(ie.skew)).multiply(ie.scale);for(var xe,re,ge,le=this.ctx.transform.applyToRectangle(new l(H.x,$,Q.w,Q.h)),be=ne.applyToRectangle(new l(H.x,V,Q.w,Q.h)),ue=y.call(this,be),ae=[],He=0;He<ue.length;He+=1)ae.indexOf(ue[He])===-1&&ae.push(ue[He]);if(S(ae),this.autoPaging)for(var we=ae[0],me=ae[ae.length-1],Ie=we;Ie<me+1;Ie++){this.pdf.setPage(Ie);var Te=Ie===1?this.posY+this.margin[0]:this.margin[0],Oe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qe=this.pdf.internal.pageSize.height-this.margin[2],nt=qe-this.margin[0],ht=this.pdf.internal.pageSize.width-this.margin[1],rt=ht-this.margin[3],ot=Ie===1?0:Oe+(Ie-2)*nt;if(this.ctx.clip_path.length!==0){var At=this.path;xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(xe,this.posX+this.margin[3],-1*ot+Te),_.call(this,"fill",!0),this.path=At}var We=C([JSON.parse(JSON.stringify(be))],this.posX+this.margin[3],-ot+Te+this.ctx.prevPageLastElemOffset)[0];H.scale>=.01&&(re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(re*H.scale),ge=this.lineWidth,this.lineWidth=ge*H.scale);var jt=this.autoPaging!=="text";if(jt||We.y+We.h<=qe){if(jt||We.y>=Te&&We.x<=ht){var ye=jt?H.text:this.pdf.splitTextToSize(H.text,H.maxWidth||ht-We.x)[0],fe=C([JSON.parse(JSON.stringify(le))],this.posX+this.margin[3],-ot+Te+this.ctx.prevPageLastElemOffset)[0],de=jt&&(Ie>we||Ie<me)&&g.call(this);de&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],rt,nt,null).clip().discardPath()),this.pdf.text(ye,fe.x,fe.y,{angle:H.angle,align:R,renderingMode:H.renderingMode}),de&&this.pdf.restoreGraphicsState()}}else We.y<qe&&(this.ctx.prevPageLastElemOffset+=qe-We.y);H.scale>=.01&&(this.pdf.setFontSize(re),this.lineWidth=ge)}else H.scale>=.01&&(re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(re*H.scale),ge=this.lineWidth,this.lineWidth=ge*H.scale),this.pdf.text(H.text,G.x+this.posX,G.y+this.posY,{angle:H.angle,align:R,renderingMode:H.renderingMode,maxWidth:H.maxWidth}),H.scale>=.01&&(this.pdf.setFontSize(re),this.lineWidth=ge)},U=function(H,R,Q,$){Q=Q||0,$=$||0,this.pdf.internal.out(n(H+Q)+" "+r(R+$)+" l")},N=function(H,R,Q){return this.pdf.lines(H,R,Q,null,null)},z=function(H,R,Q,$,V,G,ie,ne){this.pdf.internal.out([t(i(Q+H)),t(a($+R)),t(i(V+H)),t(a(G+R)),t(i(ie+H)),t(a(ne+R)),"c"].join(" "))},L=function(H,R,Q,$){for(var V=2*Math.PI,G=Math.PI/2;R>Q;)R-=V;var ie=Math.abs(Q-R);ie<V&&$&&(ie=V-ie);for(var ne=[],xe=$?-1:1,re=R;ie>1e-5;){var ge=re+xe*Math.min(ie,G);ne.push(D.call(this,H,re,ge)),ie-=Math.abs(ge-re),re=ge}return ne},D=function(H,R,Q){var $=(Q-R)/2,V=H*Math.cos($),G=H*Math.sin($),ie=V,ne=-G,xe=ie*ie+ne*ne,re=xe+ie*V+ne*G,ge=4/3*(Math.sqrt(2*xe*re)-re)/(ie*G-ne*V),le=ie-ge*ne,be=ne+ge*ie,ue=le,ae=-be,He=$+R,we=Math.cos(He),me=Math.sin(He);return{x1:H*Math.cos(R),y1:H*Math.sin(R),x2:le*we-be*me,y2:le*me+be*we,x3:ue*we-ae*me,y3:ue*me+ae*we,x4:H*Math.cos(Q),y4:H*Math.sin(Q)}},K=function(H){return 180*H/Math.PI},q=function(H,R,Q,$,V,G){var ie=H+.5*(Q-H),ne=R+.5*($-R),xe=V+.5*(Q-V),re=G+.5*($-G),ge=Math.min(H,V,ie,xe),le=Math.max(H,V,ie,xe),be=Math.min(R,G,ne,re),ue=Math.max(R,G,ne,re);return new l(ge,be,le-ge,ue-be)},Z=function(H,R,Q,$,V,G,ie,ne){var xe,re,ge,le,be,ue,ae,He,we,me,Ie,Te,Oe,qe,nt=Q-H,ht=$-R,rt=V-Q,ot=G-$,At=ie-V,We=ne-G;for(re=0;re<41;re++)we=(ae=(ge=H+(xe=re/40)*nt)+xe*((be=Q+xe*rt)-ge))+xe*(be+xe*(V+xe*At-be)-ae),me=(He=(le=R+xe*ht)+xe*((ue=$+xe*ot)-le))+xe*(ue+xe*(G+xe*We-ue)-He),re==0?(Ie=we,Te=me,Oe=we,qe=me):(Ie=Math.min(Ie,we),Te=Math.min(Te,me),Oe=Math.max(Oe,we),qe=Math.max(qe,me));return new l(Math.round(Ie),Math.round(Te),Math.round(Oe-Ie),Math.round(qe-Te))},Ae=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var H,R,Q=(H=this.ctx.lineDash,R=this.ctx.lineDashOffset,JSON.stringify({lineDash:H,lineDashOffset:R}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(Wt.API),function(e){var t=function(a){var o,l,A,c,d,u,p,h,m,g;for(l=[],A=0,c=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;c>A;A+=4)(d=(a.charCodeAt(A)<<24)+(a.charCodeAt(A+1)<<16)+(a.charCodeAt(A+2)<<8)+a.charCodeAt(A+3))!==0?(u=(d=((d=((d=((d=(d-(g=d%85))/85)-(m=d%85))/85)-(h=d%85))/85)-(p=d%85))/85)%85,l.push(u+33,p+33,h+33,m+33,g+33)):l.push(122);return function(y,x){for(var C=x;C>0;C--)y.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},n=function(a){var o,l,A,c,d,u=String,p="length",h=255,m="charCodeAt",g="slice",y="replace";for(a[g](-2),a=a[g](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),A=[],c=0,d=(a+=o="uuuuu"[g](a[p]%5||5))[p];d>c;c+=5)l=52200625*(a[m](c)-33)+614125*(a[m](c+1)-33)+7225*(a[m](c+2)-33)+85*(a[m](c+3)-33)+(a[m](c+4)-33),A.push(h&l>>24,h&l>>16,h&l>>8,h&l);return function(x,C){for(var S=C;S>0;S--)x.pop()}(A,o[p]),u.fromCharCode.apply(u,A)},r=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var l="",A=0;A<a.length;A+=2)l+=String.fromCharCode("0x"+(a[A]+a[A+1]));return l},i=function(a){for(var o=new Uint8Array(a.length),l=a.length;l--;)o[l]=a.charCodeAt(l);return a=(o=M1(o)).reduce(function(A,c){return A+String.fromCharCode(c)},"")};e.processDataByFilters=function(a,o){var l=0,A=a||"",c=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":A=n(A),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":A=t(A),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":A=r(A),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":A=A.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":A=i(A),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:A,reverseChain:c.reverse().join(" ")}}}(Wt.API),function(e){e.loadFile=function(t,n,r){return function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(A,c,d){var u=new XMLHttpRequest,p=0,h=function(m){var g=m.length,y=[],x=String.fromCharCode;for(p=0;p<g;p+=1)y.push(x(255&m.charCodeAt(p)));return y.join("")};if(u.open("GET",A,!c),u.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(u.onload=function(){u.status===200?d(h(this.responseText)):d(void 0)}),u.send(null),c&&u.status===200)return h(u.responseText)}(i,a,o)}catch{}return l}(t,n,r)},e.loadImageFile=e.loadFile}(Wt.API),function(e){function t(){return(Kt.html2canvas?Promise.resolve(Kt.html2canvas):ah(()=>Promise.resolve().then(()=>Gq),void 0)).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(Kt.DOMPurify?Promise.resolve(Kt.DOMPurify):ah(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var l=pn(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var A=document.createElement(o);for(var c in l.className&&(A.className=l.className),l.innerHTML&&l.dompurify&&(A.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)A.style[c]=l.style[c];return A},a=function o(l){var A=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),A);return c=(c=c.setProgress(1,o,1,[o])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,l){return o.__proto__=l||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(A){switch(r(A)){case"string":return"string";case"element":return A.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(A){return this.set({src:i("div",{innerHTML:o,dompurify:A})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function A(c,d){for(var u=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),p=c.firstChild;p;p=p.nextSibling)d!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||u.appendChild(A(p,d));return c.nodeType===1&&(c.nodeName==="CANVAS"?(u.width=c.width,u.height=c.height,u.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(u.value=c.value),u.addEventListener("load",function(){u.scrollTop=c.scrollTop,u.scrollLeft=c.scrollLeft},!0)),u}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var A=Object.assign({},this.opt.html2canvas);return delete A.onrendered,l(this.prop.container,A)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var A=this.opt.jsPDF,c=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,u=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete u.onrendered,A.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,A.context2d.posX=this.opt.x,A.context2d.posY=this.opt.y,A.context2d.margin=this.opt.margin,A.context2d.fontFaces=c,c)for(var p=0;p<c.length;++p){var h=c[p],m=h.src.find(function(g){return g.format==="truetype"});m&&A.addFont(m.url,h.ref.name,h.ref.style)}return u.windowHeight=u.windowHeight||0,u.windowHeight=u.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):u.windowHeight,A.context2d.save(!0),l(this.prop.container,u)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,l,A){return(A=A||"pdf").toLowerCase()==="img"||A.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},a.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(r(o)!=="object")return this;var l=Object.keys(o||{}).map(function(A){if(A in a.template.prop)return function(){this.prop[A]=o[A]};switch(A){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[A]=o[A]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(o,l){return this.then(function(){var A=o in a.template.prop?this.prop[o]:this.opt[o];return l?l(A):A})},a.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function l(A,c){return Math.floor(A*c/72*96)}return this.then(function(){(o=o||Wt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,l,A,c){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),A!=null&&(this.progress.n=A),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,l,A,c){return this.setProgress(o?this.progress.val+o:null,l||null,A?this.progress.n+A:null,c?this.progress.stack.concat(c):null)},a.prototype.then=function(o,l){var A=this;return this.thenCore(o,l,function(c,d){return A.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(u){return A.updateProgress(null,c),u}).then(c,d).then(function(u){return A.updateProgress(1),u})})},a.prototype.thenCore=function(o,l,A){A=A||Promise.prototype.then,o&&(o=o.bind(this)),l&&(l=l.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),d=A.call(c,o,l);return a.convert(d,this.__proto__)},a.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},a.prototype.thenList=function(o){var l=this;return o.forEach(function(A){l=l.thenCore(A)}),l},a.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return a.convert(l,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Wt.getPageSize=function(o,l,A){if(pn(o)==="object"){var c=o;o=c.orientation,l=c.unit||l,A=c.format||A}l=l||"mm",A=A||"a4",o=(""+(o||"P")).toLowerCase();var d,u=(""+A).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var h,m=0,g=0;if(p.hasOwnProperty(u))m=p[u][1]/d,g=p[u][0]/d;else try{m=A[1],g=A[0]}catch{throw new Error("Invalid format: "+A)}if(o==="p"||o==="portrait")o="p",g>m&&(h=g,g=m,m=h);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",m>g&&(h=g,g=m,m=h)}return{width:g,height:m,unit:l,k:d,orientation:o}},e.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map($1):null;var A=new a(l);return l.worker?A:A.from(o).doCallback()}}(Wt.API),Wt.API.addJS=function(e){return SC=e,this.internal.events.subscribe("postPutResources",function(){zf=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(zf+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),BC=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+SC+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){zf!==void 0&&BC!==void 0&&this.internal.out("/Names <</JavaScript "+zf+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],l=r.exec(o);if(l!=null){var A=l[1];n.internal.newObjectDeferredBegin(A,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,d=[];for(a=0;a<c;a++){var u=n.internal.newObject();d.push(u);var p=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var h=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<d.length;a++)n.internal.write("(page_"+(a+1)+")"+d[a]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+h+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,a){var o={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var o=r.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var A=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+A.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])}(Wt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,i,a,o,l){var A,c=this.decode.DCT_DECODE,d=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(A=function(u){for(var p,h=256*u.charCodeAt(4)+u.charCodeAt(5),m=u.length,g={width:0,height:0,numcomponents:1},y=4;y<m;y+=2){if(y+=h,t.indexOf(u.charCodeAt(y+1))!==-1){p=256*u.charCodeAt(y+5)+u.charCodeAt(y+6),g={width:256*u.charCodeAt(y+7)+u.charCodeAt(y+8),height:p,numcomponents:u.charCodeAt(y+9)};break}h=256*u.charCodeAt(y+2)+u.charCodeAt(y+3)}return g}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:n,width:A.width,height:A.height,colorSpace:l,bitsPerComponent:8,filter:c,index:r,alias:i}}return d}}(Wt.API);var VA,Wf,jC,kC,EC,oz=function(){var e,t,n;function r(a){var o,l,A,c,d,u,p,h,m,g,y,x,C,S;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},u=null;;){switch(o=this.readUInt32(),m=(function(){var w,_;for(_=[],w=0;w<4;++w)_.push(String.fromCharCode(this.data[this.pos++]));return _}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":u&&this.animation.frames.push(u),this.pos+=4,u={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),c=this.readUInt16()||100,u.delay=1e3*d/c,u.disposeOp=this.data[this.pos++],u.blendOp=this.data[this.pos++],u.data=[];break;case"IDAT":case"fdAT":for(m==="fdAT"&&(this.pos+=4,o-=4),a=(u!=null?u.data:void 0)||this.imgData,x=0;0<=o?x<o:x>o;0<=o?++x:--x)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(A=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>A)throw new Error("More transparent colors than palette size");if((g=A-this.transparency.indexed.length)>0)for(C=0;0<=g?C<g:C>g;0<=g?++C:--C)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":p=(y=this.read(o)).indexOf(0),h=String.fromCharCode.apply(String,y.slice(0,p)),this.text[h]=String.fromCharCode.apply(String,y.slice(p+1));break;case"IEND":return u&&this.animation.frames.push(u),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(S=this.colorType)===4||S===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(a){var o,l;for(l=[],o=0;0<=a?o<a:o>a;0<=a?++o:--o)l.push(this.data[this.pos++]);return l},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(a){var o=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*o),A=0,c=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function d(u,p,h,m){var g,y,x,C,S,w,_,E,T,F,M,P,I,j,U,N,z,L,D,K,q,Z=Math.ceil((c.width-u)/h),Ae=Math.ceil((c.height-p)/m),H=c.width==Z&&c.height==Ae;for(j=o*Z,P=H?l:new Uint8Array(j*Ae),w=a.length,I=0,y=0;I<Ae&&A<w;){switch(a[A++]){case 0:for(C=z=0;z<j;C=z+=1)P[y++]=a[A++];break;case 1:for(C=L=0;L<j;C=L+=1)g=a[A++],S=C<o?0:P[y-o],P[y++]=(g+S)%256;break;case 2:for(C=D=0;D<j;C=D+=1)g=a[A++],x=(C-C%o)/o,U=I&&P[(I-1)*j+x*o+C%o],P[y++]=(U+g)%256;break;case 3:for(C=K=0;K<j;C=K+=1)g=a[A++],x=(C-C%o)/o,S=C<o?0:P[y-o],U=I&&P[(I-1)*j+x*o+C%o],P[y++]=(g+Math.floor((S+U)/2))%256;break;case 4:for(C=q=0;q<j;C=q+=1)g=a[A++],x=(C-C%o)/o,S=C<o?0:P[y-o],I===0?U=N=0:(U=P[(I-1)*j+x*o+C%o],N=x&&P[(I-1)*j+(x-1)*o+C%o]),_=S+U-N,E=Math.abs(_-S),F=Math.abs(_-U),M=Math.abs(_-N),T=E<=F&&E<=M?S:F<=M?U:N,P[y++]=(g+T)%256;break;default:throw new Error("Invalid filter algorithm: "+a[A-1])}if(!H){var R=((p+I*m)*c.width+u)*o,Q=I*j;for(C=0;C<Z;C+=1){for(var $=0;$<o;$+=1)l[R++]=P[Q++];R+=(h-1)*o}}I++}}return a=Q$(a),c.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),l},r.prototype.decodePalette=function(){var a,o,l,A,c,d,u,p,h;for(l=this.palette,d=this.transparency.indexed||[],c=new Uint8Array((d.length||0)+l.length),A=0,a=0,o=u=0,p=l.length;u<p;o=u+=3)c[A++]=l[o],c[A++]=l[o+1],c[A++]=l[o+2],c[A++]=(h=d[a++])!=null?h:255;return c},r.prototype.copyToImageData=function(a,o){var l,A,c,d,u,p,h,m,g,y,x;if(A=this.colors,g=null,l=this.hasAlphaChannel,this.palette.length&&(g=(x=this._decodedPalette)!=null?x:this._decodedPalette=this.decodePalette(),A=4,l=!0),m=(c=a.data||a).length,u=g||o,d=p=0,A===1)for(;d<m;)h=g?4*o[d/4]:p,y=u[h++],c[d++]=y,c[d++]=y,c[d++]=y,c[d++]=l?u[h++]:255,p=h;else for(;d<m;)h=g?4*o[d/4]:p,c[d++]=u[h++],c[d++]=u[h++],c[d++]=u[h++],c[d++]=l?u[h++]:255,p=h},r.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var i=function(){if(Object.prototype.toString.call(Kt)==="[object Window]"){try{t=Kt.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return i(),e=function(a){var o;if(i()===!0)return n.width=a.width,n.height=a.height,n.clearRect(0,0,a.width,a.height),n.putImageData(a,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(a){var o,l,A,c,d,u,p,h;if(this.animation){for(h=[],l=d=0,u=(p=this.animation.frames).length;d<u;l=++d)o=p[l],A=a.createImageData(o.width,o.height),c=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(A,c),o.imageData=A,h.push(o.image=e(A));return h}},r.prototype.renderFrame=function(a,o){var l,A,c;return l=(A=this.animation.frames)[o],c=A[o-1],o===0&&a.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?a.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&a.putImageData(c.imageData,c.xOffset,c.yOffset),l.blendOp===0&&a.clearRect(l.xOffset,l.yOffset,l.width,l.height),a.drawImage(l.image,l.xOffset,l.yOffset)},r.prototype.animate=function(a){var o,l,A,c,d,u,p=this;return l=0,u=this.animation,c=u.numFrames,A=u.frames,d=u.numPlays,(o=function(){var h,m;if(h=l++%c,m=A[h],p.renderFrame(a,h),c>1&&l/c<d)return p.animation._timeout=setTimeout(o,m.delay)})()},r.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},r.prototype.render=function(a){var o,l;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,o=a.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(l=o.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),o.putImageData(l,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function lz(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],a=i>>7,o=1<<(7&i)+1;e[t++],e[t++];var l=null,A=null;a&&(l=t,A=o,t+=3*o);var c=!0,d=[],u=0,p=null,h=0,m=null;for(this.width=n,this.height=r;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,m=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((I=e[t++])>=0))throw Error("Invalid block size");if(I===0)break;t+=I}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];u=e[t++]|e[t++]<<8,p=e[t++],!(1&g)&&(p=null),h=g>>2&7,t++;break;case 254:for(;;){if(!((I=e[t++])>=0))throw Error("Invalid block size");if(I===0)break;t+=I}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var y=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,C=e[t++]|e[t++]<<8,S=e[t++]|e[t++]<<8,w=e[t++],_=w>>6&1,E=1<<(7&w)+1,T=l,F=A,M=!1;w>>7&&(M=!0,T=t,F=E,t+=3*E);var P=t;for(t++;;){var I;if(!((I=e[t++])>=0))throw Error("Invalid block size");if(I===0)break;t+=I}d.push({x:y,y:x,width:C,height:S,has_local_palette:M,palette_offset:T,palette_size:F,data_offset:P,data_length:t-P,transparent_index:p,interlaced:!!_,delay:u,disposal:h});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return m},this.frameInfo=function(j){if(j<0||j>=d.length)throw new Error("Frame index out of range.");return d[j]},this.decodeAndBlitFrameBGRA=function(j,U){var N=this.frameInfo(j),z=N.width*N.height,L=new Uint8Array(z);IC(e,N.data_offset,L,z);var D=N.palette_offset,K=N.transparent_index;K===null&&(K=256);var q=N.width,Z=n-q,Ae=q,H=4*(N.y*n+N.x),R=4*((N.y+N.height)*n+N.x),Q=H,$=4*Z;N.interlaced===!0&&($+=4*n*7);for(var V=8,G=0,ie=L.length;G<ie;++G){var ne=L[G];if(Ae===0&&(Ae=q,(Q+=$)>=R&&($=4*Z+4*n*(V-1),Q=H+(q+Z)*(V<<1),V>>=1)),ne===K)Q+=4;else{var xe=e[D+3*ne],re=e[D+3*ne+1],ge=e[D+3*ne+2];U[Q++]=ge,U[Q++]=re,U[Q++]=xe,U[Q++]=255}--Ae}},this.decodeAndBlitFrameRGBA=function(j,U){var N=this.frameInfo(j),z=N.width*N.height,L=new Uint8Array(z);IC(e,N.data_offset,L,z);var D=N.palette_offset,K=N.transparent_index;K===null&&(K=256);var q=N.width,Z=n-q,Ae=q,H=4*(N.y*n+N.x),R=4*((N.y+N.height)*n+N.x),Q=H,$=4*Z;N.interlaced===!0&&($+=4*n*7);for(var V=8,G=0,ie=L.length;G<ie;++G){var ne=L[G];if(Ae===0&&(Ae=q,(Q+=$)>=R&&($=4*Z+4*n*(V-1),Q=H+(q+Z)*(V<<1),V>>=1)),ne===K)Q+=4;else{var xe=e[D+3*ne],re=e[D+3*ne+1],ge=e[D+3*ne+2];U[Q++]=xe,U[Q++]=re,U[Q++]=ge,U[Q++]=255}--Ae}}}function IC(e,t,n,r){for(var i=e[t++],a=1<<i,o=a+1,l=o+1,A=i+1,c=(1<<A)-1,d=0,u=0,p=0,h=e[t++],m=new Int32Array(4096),g=null;;){for(;d<16&&h!==0;)u|=e[t++]<<d,d+=8,h===1?h=e[t++]:--h;if(d<A)break;var y=u&c;if(u>>=A,d-=A,y!==a){if(y===o)break;for(var x=y<l?y:g,C=0,S=x;S>a;)S=m[S]>>8,++C;var w=S;if(p+C+(x!==y?1:0)>r)return void Gn.log("Warning, gif stream longer than expected.");n[p++]=w;var _=p+=C;for(x!==y&&(n[p++]=w),S=x;C--;)S=m[S],n[--_]=255&S,S>>=8;g!==null&&l<4096&&(m[l++]=g<<8|w,l>=c+1&&A<12&&(++A,c=c<<1|1)),g=y}else l=o+1,c=(1<<(A=i+1))-1,g=null}return p!==r&&Gn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function vv(e){var t,n,r,i,a,o=Math.floor,l=new Array(64),A=new Array(64),c=new Array(64),d=new Array(64),u=new Array(65535),p=new Array(65535),h=new Array(64),m=new Array(64),g=[],y=0,x=7,C=new Array(64),S=new Array(64),w=new Array(64),_=new Array(256),E=new Array(2048),T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],F=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],P=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],j=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],N=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],z=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function L(H,R){for(var Q=0,$=0,V=new Array,G=1;G<=16;G++){for(var ie=1;ie<=H[G];ie++)V[R[$]]=[],V[R[$]][0]=Q,V[R[$]][1]=G,$++,Q++;Q*=2}return V}function D(H){for(var R=H[0],Q=H[1]-1;Q>=0;)R&1<<Q&&(y|=1<<x),Q--,--x<0&&(y==255?(K(255),K(0)):K(y),x=7,y=0)}function K(H){g.push(H)}function q(H){K(H>>8&255),K(255&H)}function Z(H,R,Q,$,V){for(var G,ie=V[0],ne=V[240],xe=function(me,Ie){var Te,Oe,qe,nt,ht,rt,ot,At,We,jt,ye=0;for(We=0;We<8;++We){Te=me[ye],Oe=me[ye+1],qe=me[ye+2],nt=me[ye+3],ht=me[ye+4],rt=me[ye+5],ot=me[ye+6];var fe=Te+(At=me[ye+7]),de=Te-At,Ue=Oe+ot,ve=Oe-ot,je=qe+rt,pe=qe-rt,Ee=nt+ht,Ze=nt-ht,ze=fe+Ee,dt=fe-Ee,lt=Ue+je,Ve=Ue-je;me[ye]=ze+lt,me[ye+4]=ze-lt;var De=.707106781*(Ve+dt);me[ye+2]=dt+De,me[ye+6]=dt-De;var Qe=.382683433*((ze=Ze+pe)-(Ve=ve+de)),it=.5411961*ze+Qe,ct=1.306562965*Ve+Qe,Gt=.707106781*(lt=pe+ve),Ht=de+Gt,St=de-Gt;me[ye+5]=St+it,me[ye+3]=St-it,me[ye+1]=Ht+ct,me[ye+7]=Ht-ct,ye+=8}for(ye=0,We=0;We<8;++We){Te=me[ye],Oe=me[ye+8],qe=me[ye+16],nt=me[ye+24],ht=me[ye+32],rt=me[ye+40],ot=me[ye+48];var Pn=Te+(At=me[ye+56]),Mt=Te-At,gn=Oe+ot,Nn=Oe-ot,Kn=qe+rt,wr=qe-rt,fi=nt+ht,Ps=nt-ht,is=Pn+fi,as=Pn-fi,tr=gn+Kn,Qs=gn-Kn;me[ye]=is+tr,me[ye+32]=is-tr;var Sn=.707106781*(Qs+as);me[ye+16]=as+Sn,me[ye+48]=as-Sn;var Yt=.382683433*((is=Ps+wr)-(Qs=Nn+Mt)),Kr=.5411961*is+Yt,zt=1.306562965*Qs+Yt,dr=.707106781*(tr=wr+Nn),zi=Mt+dr,Vr=Mt-dr;me[ye+40]=Vr+Kr,me[ye+24]=Vr-Kr,me[ye+8]=zi+zt,me[ye+56]=zi-zt,ye++}for(We=0;We<64;++We)jt=me[We]*Ie[We],h[We]=jt>0?jt+.5|0:jt-.5|0;return h}(H,R),re=0;re<64;++re)m[T[re]]=xe[re];var ge=m[0]-Q;Q=m[0],ge==0?D($[0]):(D($[p[G=32767+ge]]),D(u[G]));for(var le=63;le>0&&m[le]==0;)le--;if(le==0)return D(ie),Q;for(var be,ue=1;ue<=le;){for(var ae=ue;m[ue]==0&&ue<=le;)++ue;var He=ue-ae;if(He>=16){be=He>>4;for(var we=1;we<=be;++we)D(ne);He&=15}G=32767+m[ue],D(V[(He<<4)+p[G]]),D(u[G]),ue++}return le!=63&&D(ie),Q}function Ae(H){H=Math.min(Math.max(H,1),100),a!=H&&(function(R){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],$=0;$<64;$++){var V=o((Q[$]*R+50)/100);V=Math.min(Math.max(V,1),255),l[T[$]]=V}for(var G=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ie=0;ie<64;ie++){var ne=o((G[ie]*R+50)/100);ne=Math.min(Math.max(ne,1),255),A[T[ie]]=ne}for(var xe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],re=0,ge=0;ge<8;ge++)for(var le=0;le<8;le++)c[re]=1/(l[T[re]]*xe[ge]*xe[le]*8),d[re]=1/(A[T[re]]*xe[ge]*xe[le]*8),re++}(H<50?Math.floor(5e3/H):Math.floor(200-2*H)),a=H)}this.encode=function(H,R){R&&Ae(R),g=new Array,y=0,x=7,q(65496),q(65504),q(16),K(74),K(70),K(73),K(70),K(0),K(1),K(1),K(0),q(1),q(1),K(0),K(0),function(){q(65499),q(132),K(0);for(var Oe=0;Oe<64;Oe++)K(l[Oe]);K(1);for(var qe=0;qe<64;qe++)K(A[qe])}(),function(Oe,qe){q(65472),q(17),K(8),q(qe),q(Oe),K(3),K(1),K(17),K(0),K(2),K(17),K(1),K(3),K(17),K(1)}(H.width,H.height),function(){q(65476),q(418),K(0);for(var Oe=0;Oe<16;Oe++)K(F[Oe+1]);for(var qe=0;qe<=11;qe++)K(M[qe]);K(16);for(var nt=0;nt<16;nt++)K(P[nt+1]);for(var ht=0;ht<=161;ht++)K(I[ht]);K(1);for(var rt=0;rt<16;rt++)K(j[rt+1]);for(var ot=0;ot<=11;ot++)K(U[ot]);K(17);for(var At=0;At<16;At++)K(N[At+1]);for(var We=0;We<=161;We++)K(z[We])}(),q(65498),q(12),K(3),K(1),K(0),K(2),K(17),K(3),K(17),K(0),K(63),K(0);var Q=0,$=0,V=0;y=0,x=7,this.encode.displayName="_encode_";for(var G,ie,ne,xe,re,ge,le,be,ue,ae=H.data,He=H.width,we=H.height,me=4*He,Ie=0;Ie<we;){for(G=0;G<me;){for(re=me*Ie+G,le=-1,be=0,ue=0;ue<64;ue++)ge=re+(be=ue>>3)*me+(le=4*(7&ue)),Ie+be>=we&&(ge-=me*(Ie+1+be-we)),G+le>=me&&(ge-=G+le-me+4),ie=ae[ge++],ne=ae[ge++],xe=ae[ge++],C[ue]=(E[ie]+E[ne+256>>0]+E[xe+512>>0]>>16)-128,S[ue]=(E[ie+768>>0]+E[ne+1024>>0]+E[xe+1280>>0]>>16)-128,w[ue]=(E[ie+1280>>0]+E[ne+1536>>0]+E[xe+1792>>0]>>16)-128;Q=Z(C,c,Q,t,r),$=Z(S,d,$,n,i),V=Z(w,d,V,n,i),G+=32}Ie+=8}if(x>=0){var Te=[];Te[1]=x+1,Te[0]=(1<<x+1)-1,D(Te)}return q(65497),new Uint8Array(g)},e=e||50,function(){for(var H=String.fromCharCode,R=0;R<256;R++)_[R]=H(R)}(),t=L(F,M),n=L(j,U),r=L(P,I),i=L(N,z),function(){for(var H=1,R=2,Q=1;Q<=15;Q++){for(var $=H;$<R;$++)p[32767+$]=Q,u[32767+$]=[],u[32767+$][1]=Q,u[32767+$][0]=$;for(var V=-(R-1);V<=-H;V++)p[32767+V]=Q,u[32767+V]=[],u[32767+V][1]=Q,u[32767+V][0]=R-1+V;H<<=1,R<<=1}}(),function(){for(var H=0;H<256;H++)E[H]=19595*H,E[H+256>>0]=38470*H,E[H+512>>0]=7471*H+32768,E[H+768>>0]=-11059*H,E[H+1024>>0]=-21709*H,E[H+1280>>0]=32768*H+8421375,E[H+1536>>0]=-27439*H,E[H+1792>>0]=-5329*H}(),Ae(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Xi(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function FC(e){function t(F){if(!F)throw Error("assert :P")}function n(F,M,P){for(var I=0;4>I;I++)if(F[M+I]!=P.charCodeAt(I))return!0;return!1}function r(F,M,P,I,j){for(var U=0;U<j;U++)F[M+U]=P[I+U]}function i(F,M,P,I){for(var j=0;j<I;j++)F[M+j]=P}function a(F){return new Int32Array(F)}function o(F,M){for(var P=[],I=0;I<F;I++)P.push(new M);return P}function l(F,M){var P=[];return function I(j,U,N){for(var z=N[U],L=0;L<z&&(j.push(N.length>U+1?[]:new M),!(N.length<U+1));L++)I(j[L],U+1,N)}(P,0,F),P}var A=function(){var F=this;function M(f,v){for(var k=1<<v-1>>>0;f&k;)k>>>=1;return k?(f&k-1)+k:f}function P(f,v,k,O,Y){t(!(O%k));do f[v+(O-=k)]=Y;while(0<O)}function I(f,v,k,O,Y){if(t(2328>=Y),512>=Y)var ee=a(512);else if((ee=a(Y))==null)return 0;return function(te,se,oe,ce,Be,Le){var Me,Fe,tt=se,$e=1<<oe,Se=a(16),ke=a(16);for(t(Be!=0),t(ce!=null),t(te!=null),t(0<oe),Fe=0;Fe<Be;++Fe){if(15<ce[Fe])return 0;++Se[ce[Fe]]}if(Se[0]==Be)return 0;for(ke[1]=0,Me=1;15>Me;++Me){if(Se[Me]>1<<Me)return 0;ke[Me+1]=ke[Me]+Se[Me]}for(Fe=0;Fe<Be;++Fe)Me=ce[Fe],0<ce[Fe]&&(Le[ke[Me]++]=Fe);if(ke[15]==1)return(ce=new j).g=0,ce.value=Le[0],P(te,tt,1,$e,ce),$e;var Xe,st=-1,et=$e-1,Nt=0,xt=1,Ot=1,Ct=1<<oe;for(Fe=0,Me=1,Be=2;Me<=oe;++Me,Be<<=1){if(xt+=Ot<<=1,0>(Ot-=Se[Me]))return 0;for(;0<Se[Me];--Se[Me])(ce=new j).g=Me,ce.value=Le[Fe++],P(te,tt+Nt,Be,Ct,ce),Nt=M(Nt,Me)}for(Me=oe+1,Be=2;15>=Me;++Me,Be<<=1){if(xt+=Ot<<=1,0>(Ot-=Se[Me]))return 0;for(;0<Se[Me];--Se[Me]){if(ce=new j,(Nt&et)!=st){for(tt+=Ct,Xe=1<<(st=Me)-oe;15>st&&!(0>=(Xe-=Se[st]));)++st,Xe<<=1;$e+=Ct=1<<(Xe=st-oe),te[se+(st=Nt&et)].g=Xe+oe,te[se+st].value=tt-se-st}ce.g=Me-oe,ce.value=Le[Fe++],P(te,tt+(Nt>>oe),Be,Ct,ce),Nt=M(Nt,Me)}}return xt!=2*ke[15]-1?0:$e}(f,v,k,O,Y,ee)}function j(){this.value=this.g=0}function U(){this.value=this.g=0}function N(){this.G=o(5,j),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(os,U)}function z(f,v,k,O){t(f!=null),t(v!=null),t(2147483648>O),f.Ca=254,f.I=0,f.b=-8,f.Ka=0,f.oa=v,f.pa=k,f.Jd=v,f.Yc=k+O,f.Zc=4<=O?k+O-4+1:k,G(f)}function L(f,v){for(var k=0;0<v--;)k|=ne(f,128)<<v;return k}function D(f,v){var k=L(f,v);return ie(f)?-k:k}function K(f,v,k,O){var Y,ee=0;for(t(f!=null),t(v!=null),t(4294967288>O),f.Sb=O,f.Ra=0,f.u=0,f.h=0,4<O&&(O=4),Y=0;Y<O;++Y)ee+=v[k+Y]<<8*Y;f.Ra=ee,f.bb=O,f.oa=v,f.pa=k}function q(f){for(;8<=f.u&&f.bb<f.Sb;)f.Ra>>>=8,f.Ra+=f.oa[f.pa+f.bb]<<EA-8>>>0,++f.bb,f.u-=8;Q(f)&&(f.h=1,f.u=0)}function Z(f,v){if(t(0<=v),!f.h&&v<=kA){var k=R(f)&jA[v];return f.u+=v,q(f),k}return f.h=1,f.u=0}function Ae(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function H(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function R(f){return f.Ra>>>(f.u&EA-1)>>>0}function Q(f){return t(f.bb<=f.Sb),f.h||f.bb==f.Sb&&f.u>EA}function $(f,v){f.u=v,f.h=Q(f)}function V(f){f.u>=Nd&&(t(f.u>=Nd),q(f))}function G(f){t(f!=null&&f.oa!=null),f.pa<f.Zc?(f.I=(f.oa[f.pa++]|f.I<<8)>>>0,f.b+=8):(t(f!=null&&f.oa!=null),f.pa<f.Yc?(f.b+=8,f.I=f.oa[f.pa++]|f.I<<8):f.Ka?f.b=0:(f.I<<=8,f.b+=8,f.Ka=1))}function ie(f){return L(f,1)}function ne(f,v){var k=f.Ca;0>f.b&&G(f);var O=f.b,Y=k*v>>>8,ee=(f.I>>>O>Y)+0;for(ee?(k-=Y,f.I-=Y+1<<O>>>0):k=Y+1,O=k,Y=0;256<=O;)Y+=8,O>>=8;return O=7^Y+Hs[O],f.b-=O,f.Ca=(k<<O)-1,ee}function xe(f,v,k){f[v+0]=k>>24&255,f[v+1]=k>>16&255,f[v+2]=k>>8&255,f[v+3]=k>>0&255}function re(f,v){return f[v+0]<<0|f[v+1]<<8}function ge(f,v){return re(f,v)|f[v+2]<<16}function le(f,v){return re(f,v)|re(f,v+2)<<16}function be(f,v){var k=1<<v;return t(f!=null),t(0<v),f.X=a(k),f.X==null?0:(f.Mb=32-v,f.Xa=v,1)}function ue(f,v){t(f!=null),t(v!=null),t(f.Xa==v.Xa),r(v.X,0,f.X,0,1<<v.Xa)}function ae(){this.X=[],this.Xa=this.Mb=0}function He(f,v,k,O){t(k!=null),t(O!=null);var Y=k[0],ee=O[0];return Y==0&&(Y=(f*ee+v/2)/v),ee==0&&(ee=(v*Y+f/2)/f),0>=Y||0>=ee?0:(k[0]=Y,O[0]=ee,1)}function we(f,v){return f+(1<<v)-1>>>v}function me(f,v){return((4278255360&f)+(4278255360&v)>>>0&4278255360)+((16711935&f)+(16711935&v)>>>0&16711935)>>>0}function Ie(f,v){F[v]=function(k,O,Y,ee,te,se,oe){var ce;for(ce=0;ce<te;++ce){var Be=F[f](se[oe+ce-1],Y,ee+ce);se[oe+ce]=me(k[O+ce],Be)}}}function Te(){this.ud=this.hd=this.jd=0}function Oe(f,v){return((4278124286&(f^v))>>>1)+(f&v)>>>0}function qe(f){return 0<=f&&256>f?f:0>f?0:255<f?255:void 0}function nt(f,v){return qe(f+(f-v+.5>>1))}function ht(f,v,k){return Math.abs(v-k)-Math.abs(f-k)}function rt(f,v,k,O,Y,ee,te){for(O=ee[te-1],k=0;k<Y;++k)ee[te+k]=O=me(f[v+k],O)}function ot(f,v,k,O,Y){var ee;for(ee=0;ee<k;++ee){var te=f[v+ee],se=te>>8&255,oe=16711935&(oe=(oe=16711935&te)+((se<<16)+se));O[Y+ee]=(4278255360&te)+oe>>>0}}function At(f,v){v.jd=f>>0&255,v.hd=f>>8&255,v.ud=f>>16&255}function We(f,v,k,O,Y,ee){var te;for(te=0;te<O;++te){var se=v[k+te],oe=se>>>8,ce=se,Be=255&(Be=(Be=se>>>16)+((f.jd<<24>>24)*(oe<<24>>24)>>>5));ce=255&(ce=(ce=ce+((f.hd<<24>>24)*(oe<<24>>24)>>>5))+((f.ud<<24>>24)*(Be<<24>>24)>>>5)),Y[ee+te]=(4278255360&se)+(Be<<16)+ce}}function jt(f,v,k,O,Y){F[v]=function(ee,te,se,oe,ce,Be,Le,Me,Fe){for(oe=Le;oe<Me;++oe)for(Le=0;Le<Fe;++Le)ce[Be++]=Y(se[O(ee[te++])])},F[f]=function(ee,te,se,oe,ce,Be,Le){var Me=8>>ee.b,Fe=ee.Ea,tt=ee.K[0],$e=ee.w;if(8>Me)for(ee=(1<<ee.b)-1,$e=(1<<Me)-1;te<se;++te){var Se,ke=0;for(Se=0;Se<Fe;++Se)Se&ee||(ke=O(oe[ce++])),Be[Le++]=Y(tt[ke&$e]),ke>>=Me}else F["VP8LMapColor"+k](oe,ce,tt,$e,Be,Le,te,se,Fe)}}function ye(f,v,k,O,Y){for(k=v+k;v<k;){var ee=f[v++];O[Y++]=ee>>16&255,O[Y++]=ee>>8&255,O[Y++]=ee>>0&255}}function fe(f,v,k,O,Y){for(k=v+k;v<k;){var ee=f[v++];O[Y++]=ee>>16&255,O[Y++]=ee>>8&255,O[Y++]=ee>>0&255,O[Y++]=ee>>24&255}}function de(f,v,k,O,Y){for(k=v+k;v<k;){var ee=(te=f[v++])>>16&240|te>>12&15,te=te>>0&240|te>>28&15;O[Y++]=ee,O[Y++]=te}}function Ue(f,v,k,O,Y){for(k=v+k;v<k;){var ee=(te=f[v++])>>16&248|te>>13&7,te=te>>5&224|te>>3&31;O[Y++]=ee,O[Y++]=te}}function ve(f,v,k,O,Y){for(k=v+k;v<k;){var ee=f[v++];O[Y++]=ee>>0&255,O[Y++]=ee>>8&255,O[Y++]=ee>>16&255}}function je(f,v,k,O,Y,ee){if(ee==0)for(k=v+k;v<k;)xe(O,((ee=f[v++])[0]>>24|ee[1]>>8&65280|ee[2]<<8&16711680|ee[3]<<24)>>>0),Y+=32;else r(O,Y,f,v,k)}function pe(f,v){F[v][0]=F[f+"0"],F[v][1]=F[f+"1"],F[v][2]=F[f+"2"],F[v][3]=F[f+"3"],F[v][4]=F[f+"4"],F[v][5]=F[f+"5"],F[v][6]=F[f+"6"],F[v][7]=F[f+"7"],F[v][8]=F[f+"8"],F[v][9]=F[f+"9"],F[v][10]=F[f+"10"],F[v][11]=F[f+"11"],F[v][12]=F[f+"12"],F[v][13]=F[f+"13"],F[v][14]=F[f+"0"],F[v][15]=F[f+"0"]}function Ee(f){return f==b0||f==w0||f==gf||f==C0}function Ze(){this.eb=[],this.size=this.A=this.fb=0}function ze(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function dt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ze,this.f.kb=new ze,this.sd=null}function lt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ve(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function De(f){return alert("todo:WebPSamplerProcessPlane"),f.T}function Qe(f,v){var k=f.T,O=v.ba.f.RGBA,Y=O.eb,ee=O.fb+f.ka*O.A,te=xi[v.ba.S],se=f.y,oe=f.O,ce=f.f,Be=f.N,Le=f.ea,Me=f.W,Fe=v.cc,tt=v.dc,$e=v.Mc,Se=v.Nc,ke=f.ka,Xe=f.ka+f.T,st=f.U,et=st+1>>1;for(ke==0?te(se,oe,null,null,ce,Be,Le,Me,ce,Be,Le,Me,Y,ee,null,null,st):(te(v.ec,v.fc,se,oe,Fe,tt,$e,Se,ce,Be,Le,Me,Y,ee-O.A,Y,ee,st),++k);ke+2<Xe;ke+=2)Fe=ce,tt=Be,$e=Le,Se=Me,Be+=f.Rc,Me+=f.Rc,ee+=2*O.A,te(se,(oe+=2*f.fa)-f.fa,se,oe,Fe,tt,$e,Se,ce,Be,Le,Me,Y,ee-O.A,Y,ee,st);return oe+=f.fa,f.j+Xe<f.o?(r(v.ec,v.fc,se,oe,st),r(v.cc,v.dc,ce,Be,et),r(v.Mc,v.Nc,Le,Me,et),k--):1&Xe||te(se,oe,null,null,ce,Be,Le,Me,ce,Be,Le,Me,Y,ee+O.A,null,null,st),k}function it(f,v,k){var O=f.F,Y=[f.J];if(O!=null){var ee=f.U,te=v.ba.S,se=te==pf||te==gf;v=v.ba.f.RGBA;var oe=[0],ce=f.ka;oe[0]=f.T,f.Kb&&(ce==0?--oe[0]:(--ce,Y[0]-=f.width),f.j+f.ka+f.T==f.o&&(oe[0]=f.o-f.j-ce));var Be=v.eb;ce=v.fb+ce*v.A,f=Xn(O,Y[0],f.width,ee,oe,Be,ce+(se?0:3),v.A),t(k==oe),f&&Ee(te)&&vi(Be,ce,se,ee,oe,v.A)}return 0}function ct(f){var v=f.ma,k=v.ba.S,O=11>k,Y=k==hf||k==ff||k==pf||k==x0||k==12||Ee(k);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!Id(v.Oa,f,Y?11:12))return 0;if(Y&&Ee(k)&&at(),f.da)alert("todo:use_scaling");else{if(O){if(v.Ib=De,f.Kb){if(k=f.U+1>>1,v.memory=a(f.U+2*k),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+f.U,v.Mc=v.cc,v.Nc=v.dc+k,v.Ib=Qe,at()}}else alert("todo:EmitYUV");Y&&(v.Jb=it,O&&_e())}if(O&&!lb){for(f=0;256>f;++f)uE[f]=89858*(f-128)+vf>>mf,pE[f]=-22014*(f-128)+vf,fE[f]=-45773*(f-128),hE[f]=113618*(f-128)+vf>>mf;for(f=Pd;f<j0;++f)v=76283*(f-16)+vf>>mf,gE[f-Pd]=Zs(v,255),mE[f-Pd]=Zs(v+8>>4,15);lb=1}return 1}function Gt(f){var v=f.ma,k=f.U,O=f.T;return t(!(1&f.ka)),0>=k||0>=O?0:(k=v.Ib(f,v),v.Jb!=null&&v.Jb(f,v,k),v.Dc+=k,1)}function Ht(f){f.ma.memory=null}function St(f,v,k,O){return Z(f,8)!=47?0:(v[0]=Z(f,14)+1,k[0]=Z(f,14)+1,O[0]=Z(f,1),Z(f,3)!=0?0:!f.h)}function Pn(f,v){if(4>f)return f+1;var k=f-2>>1;return(2+(1&f)<<k)+Z(v,k)+1}function Mt(f,v){return 120<v?v-120:1<=(k=((k=Jk[v-1])>>4)*f+(8-(15&k)))?k:1;var k}function gn(f,v,k){var O=R(k),Y=f[v+=255&O].g-8;return 0<Y&&($(k,k.u+8),O=R(k),v+=f[v].value,v+=O&(1<<Y)-1),$(k,k.u+f[v].g),f[v].value}function Nn(f,v,k){return k.g+=f.g,k.value+=f.value<<v>>>0,t(8>=k.g),f.g}function Kn(f,v,k){var O=f.xc;return t((v=O==0?0:f.vc[f.md*(k>>O)+(v>>O)])<f.Wb),f.Ya[v]}function wr(f,v,k,O){var Y=f.ab,ee=f.c*v,te=f.C;v=te+v;var se=k,oe=O;for(O=f.Ta,k=f.Ua;0<Y--;){var ce=f.gc[Y],Be=te,Le=v,Me=se,Fe=oe,tt=(oe=O,se=k,ce.Ea);switch(t(Be<Le),t(Le<=ce.nc),ce.hc){case 2:af(Me,Fe,(Le-Be)*tt,oe,se);break;case 0:var $e=Be,Se=Le,ke=oe,Xe=se,st=(Ct=ce).Ea;$e==0&&(v0(Me,Fe,null,null,1,ke,Xe),rt(Me,Fe+1,0,0,st-1,ke,Xe+1),Fe+=st,Xe+=st,++$e);for(var et=1<<Ct.b,Nt=et-1,xt=we(st,Ct.b),Ot=Ct.K,Ct=Ct.w+($e>>Ct.b)*xt;$e<Se;){var Tn=Ot,Qn=Ct,jn=1;for(Td(Me,Fe,ke,Xe-st,1,ke,Xe);jn<st;){var un=(jn&~Nt)+et;un>st&&(un=st),(0,bo[Tn[Qn++]>>8&15])(Me,Fe+ +jn,ke,Xe+jn-st,un-jn,ke,Xe+jn),jn=un}Fe+=st,Xe+=st,++$e&Nt||(Ct+=xt)}Le!=ce.nc&&r(oe,se-tt,oe,se+(Le-Be-1)*tt,tt);break;case 1:for(tt=Me,Se=Fe,st=(Me=ce.Ea)-(Xe=Me&~(ke=(Fe=1<<ce.b)-1)),$e=we(Me,ce.b),et=ce.K,ce=ce.w+(Be>>ce.b)*$e;Be<Le;){for(Nt=et,xt=ce,Ot=new Te,Ct=Se+Xe,Tn=Se+Me;Se<Ct;)At(Nt[xt++],Ot),yl(Ot,tt,Se,Fe,oe,se),Se+=Fe,se+=Fe;Se<Tn&&(At(Nt[xt++],Ot),yl(Ot,tt,Se,st,oe,se),Se+=st,se+=st),++Be&ke||(ce+=$e)}break;case 3:if(Me==oe&&Fe==se&&0<ce.b){for(Se=oe,Me=tt=se+(Le-Be)*tt-(Xe=(Le-Be)*we(ce.Ea,ce.b)),Fe=oe,ke=se,$e=[],Xe=(st=Xe)-1;0<=Xe;--Xe)$e[Xe]=Fe[ke+Xe];for(Xe=st-1;0<=Xe;--Xe)Se[Me+Xe]=$e[Xe];pi(ce,Be,Le,oe,tt,oe,se)}else pi(ce,Be,Le,Me,Fe,oe,se)}se=O,oe=k}oe!=k&&r(O,k,se,oe,ee)}function fi(f,v){var k=f.V,O=f.Ba+f.c*f.C,Y=v-f.C;if(t(v<=f.l.o),t(16>=Y),0<Y){var ee=f.l,te=f.Ta,se=f.Ua,oe=ee.width;if(wr(f,Y,k,O),Y=se=[se],t((k=f.C)<(O=v)),t(ee.v<ee.va),O>ee.o&&(O=ee.o),k<ee.j){var ce=ee.j-k;k=ee.j,Y[0]+=ce*oe}if(k>=O?k=0:(Y[0]+=4*ee.v,ee.ka=k-ee.j,ee.U=ee.va-ee.v,ee.T=O-k,k=1),k){if(se=se[0],11>(k=f.ca).S){var Be=k.f.RGBA,Le=(O=k.S,Y=ee.U,ee=ee.T,ce=Be.eb,Be.A),Me=ee;for(Be=Be.fb+f.Ma*Be.A;0<Me--;){var Fe=te,tt=se,$e=Y,Se=ce,ke=Be;switch(O){case uf:Os(Fe,tt,$e,Se,ke);break;case hf:Is(Fe,tt,$e,Se,ke);break;case b0:Is(Fe,tt,$e,Se,ke),vi(Se,ke,0,$e,1,0);break;case Zx:Pa(Fe,tt,$e,Se,ke);break;case ff:je(Fe,tt,$e,Se,ke,1);break;case w0:je(Fe,tt,$e,Se,ke,1),vi(Se,ke,0,$e,1,0);break;case pf:je(Fe,tt,$e,Se,ke,0);break;case gf:je(Fe,tt,$e,Se,ke,0),vi(Se,ke,1,$e,1,0);break;case x0:wo(Fe,tt,$e,Se,ke);break;case C0:wo(Fe,tt,$e,Se,ke),Yn(Se,ke,$e,1,0);break;case eb:Ma(Fe,tt,$e,Se,ke);break;default:t(0)}se+=oe,Be+=Le}f.Ma+=ee}else alert("todo:EmitRescaledRowsYUVA");t(f.Ma<=k.height)}}f.C=v,t(f.C<=f.i)}function Ps(f){var v;if(0<f.ua)return 0;for(v=0;v<f.Wb;++v){var k=f.Ya[v].G,O=f.Ya[v].H;if(0<k[1][O[1]+0].g||0<k[2][O[2]+0].g||0<k[3][O[3]+0].g)return 0}return 1}function is(f,v,k,O,Y,ee){if(f.Z!=0){var te=f.qd,se=f.rd;for(t(jo[f.Z]!=null);v<k;++v)jo[f.Z](te,se,O,Y,O,Y,ee),te=O,se=Y,Y+=ee;f.qd=te,f.rd=se}}function as(f,v){var k=f.l.ma,O=k.Z==0||k.Z==1?f.l.j:f.C;if(O=f.C<O?O:f.C,t(v<=f.l.o),v>O){var Y=f.l.width,ee=k.ca,te=k.tb+Y*O,se=f.V,oe=f.Ba+f.c*O,ce=f.gc;t(f.ab==1),t(ce[0].hc==3),of(ce[0],O,v,se,oe,ee,te),is(k,O,v,ee,te,Y)}f.C=f.Ma=v}function tr(f,v,k,O,Y,ee,te){var se=f.$/O,oe=f.$%O,ce=f.m,Be=f.s,Le=k+f.$,Me=Le;Y=k+O*Y;var Fe=k+O*ee,tt=280+Be.ua,$e=f.Pb?se:16777216,Se=0<Be.ua?Be.Wa:null,ke=Be.wc,Xe=Le<Fe?Kn(Be,oe,se):null;t(f.C<ee),t(Fe<=Y);var st=!1;e:for(;;){for(;st||Le<Fe;){var et=0;if(se>=$e){var Nt=Le-k;t(($e=f).Pb),$e.wd=$e.m,$e.xd=Nt,0<$e.s.ua&&ue($e.s.Wa,$e.s.vb),$e=se+eE}if(oe&ke||(Xe=Kn(Be,oe,se)),t(Xe!=null),Xe.Qb&&(v[Le]=Xe.qb,st=!0),!st)if(V(ce),Xe.jc){et=ce,Nt=v;var xt=Le,Ot=Xe.pd[R(et)&os-1];t(Xe.jc),256>Ot.g?($(et,et.u+Ot.g),Nt[xt]=Ot.value,et=0):($(et,et.u+Ot.g-256),t(256<=Ot.value),et=Ot.value),et==0&&(st=!0)}else et=gn(Xe.G[0],Xe.H[0],ce);if(ce.h)break;if(st||256>et){if(!st)if(Xe.nd)v[Le]=(Xe.qb|et<<8)>>>0;else{if(V(ce),st=gn(Xe.G[1],Xe.H[1],ce),V(ce),Nt=gn(Xe.G[2],Xe.H[2],ce),xt=gn(Xe.G[3],Xe.H[3],ce),ce.h)break;v[Le]=(xt<<24|st<<16|et<<8|Nt)>>>0}if(st=!1,++Le,++oe>=O&&(oe=0,++se,te!=null&&se<=ee&&!(se%16)&&te(f,se),Se!=null))for(;Me<Le;)et=v[Me++],Se.X[(506832829*et&4294967295)>>>Se.Mb]=et}else if(280>et){if(et=Pn(et-256,ce),Nt=gn(Xe.G[4],Xe.H[4],ce),V(ce),Nt=Mt(O,Nt=Pn(Nt,ce)),ce.h)break;if(Le-k<Nt||Y-Le<et)break e;for(xt=0;xt<et;++xt)v[Le+xt]=v[Le+xt-Nt];for(Le+=et,oe+=et;oe>=O;)oe-=O,++se,te!=null&&se<=ee&&!(se%16)&&te(f,se);if(t(Le<=Y),oe&ke&&(Xe=Kn(Be,oe,se)),Se!=null)for(;Me<Le;)et=v[Me++],Se.X[(506832829*et&4294967295)>>>Se.Mb]=et}else{if(!(et<tt))break e;for(st=et-280,t(Se!=null);Me<Le;)et=v[Me++],Se.X[(506832829*et&4294967295)>>>Se.Mb]=et;et=Le,t(!(st>>>(Nt=Se).Xa)),v[et]=Nt.X[st],st=!0}st||t(ce.h==Q(ce))}if(f.Pb&&ce.h&&Le<Y)t(f.m.h),f.a=5,f.m=f.wd,f.$=f.xd,0<f.s.ua&&ue(f.s.vb,f.s.Wa);else{if(ce.h)break e;te!=null&&te(f,se>ee?ee:se),f.a=0,f.$=Le-k}return 1}return f.a=3,0}function Qs(f){t(f!=null),f.vc=null,f.yc=null,f.Ya=null;var v=f.Wa;v!=null&&(v.X=null),f.vb=null,t(f!=null)}function Sn(){var f=new m0;return f==null?null:(f.a=0,f.xb=rb,pe("Predictor","VP8LPredictors"),pe("Predictor","VP8LPredictors_C"),pe("PredictorAdd","VP8LPredictorsAdd"),pe("PredictorAdd","VP8LPredictorsAdd_C"),af=ot,yl=We,Os=ye,Is=fe,wo=de,Ma=Ue,Pa=ve,F.VP8LMapColor32b=IA,F.VP8LMapColor8b=lf,f)}function Yt(f,v,k,O,Y){var ee=1,te=[f],se=[v],oe=O.m,ce=O.s,Be=null,Le=0;e:for(;;){if(k)for(;ee&&Z(oe,1);){var Me=te,Fe=se,tt=O,$e=1,Se=tt.m,ke=tt.gc[tt.ab],Xe=Z(Se,2);if(tt.Oc&1<<Xe)ee=0;else{switch(tt.Oc|=1<<Xe,ke.hc=Xe,ke.Ea=Me[0],ke.nc=Fe[0],ke.K=[null],++tt.ab,t(4>=tt.ab),Xe){case 0:case 1:ke.b=Z(Se,3)+2,$e=Yt(we(ke.Ea,ke.b),we(ke.nc,ke.b),0,tt,ke.K),ke.K=ke.K[0];break;case 3:var st,et=Z(Se,8)+1,Nt=16<et?0:4<et?1:2<et?2:3;if(Me[0]=we(ke.Ea,Nt),ke.b=Nt,st=$e=Yt(et,1,0,tt,ke.K)){var xt,Ot=et,Ct=ke,Tn=1<<(8>>Ct.b),Qn=a(Tn);if(Qn==null)st=0;else{var jn=Ct.K[0],un=Ct.w;for(Qn[0]=Ct.K[0][0],xt=1;xt<1*Ot;++xt)Qn[xt]=me(jn[un+xt],Qn[xt-1]);for(;xt<4*Tn;++xt)Qn[xt]=0;Ct.K[0]=null,Ct.K[0]=Qn,st=1}}$e=st;break;case 2:break;default:t(0)}ee=$e}}if(te=te[0],se=se[0],ee&&Z(oe,1)&&!(ee=1<=(Le=Z(oe,4))&&11>=Le)){O.a=3;break e}var Vn;if(Vn=ee)t:{var On,rn,Lr,$s=O,Mr=te,zs=se,Rn=Le,ti=k,ni=$s.m,qr=$s.s,ls=[null],Ns=1,bi=0,Aa=Zk[Rn];n:for(;;){if(ti&&Z(ni,1)){var Yr=Z(ni,3)+2,Oa=we(Mr,Yr),Bl=we(zs,Yr),DA=Oa*Bl;if(!Yt(Oa,Bl,0,$s,ls))break n;for(ls=ls[0],qr.xc=Yr,On=0;On<DA;++On){var ko=ls[On]>>8&65535;ls[On]=ko,ko>=Ns&&(Ns=ko+1)}}if(ni.h)break n;for(rn=0;5>rn;++rn){var gr=tb[rn];!rn&&0<Rn&&(gr+=1<<Rn),bi<gr&&(bi=gr)}var k0=o(Ns*Aa,j),db=Ns,ub=o(db,N);if(ub==null)var xf=null;else t(65536>=db),xf=ub;var Qd=a(bi);if(xf==null||Qd==null||k0==null){$s.a=1;break n}var bf=k0;for(On=Lr=0;On<Ns;++On){var qi=xf[On],UA=qi.G,LA=qi.H,hb=0,wf=1,fb=0;for(rn=0;5>rn;++rn){gr=tb[rn],UA[rn]=bf,LA[rn]=Lr,!rn&&0<Rn&&(gr+=1<<Rn);s:{var Cf,E0=gr,Bf=$s,Rd=Qd,xE=bf,bE=Lr,I0=0,Eo=Bf.m,wE=Z(Eo,1);if(i(Rd,0,0,E0),wE){var CE=Z(Eo,1)+1,BE=Z(Eo,1),pb=Z(Eo,BE==0?1:8);Rd[pb]=1,CE==2&&(Rd[pb=Z(Eo,8)]=1);var Sf=1}else{var gb=a(19),mb=Z(Eo,4)+4;if(19<mb){Bf.a=3;var jf=0;break s}for(Cf=0;Cf<mb;++Cf)gb[Xk[Cf]]=Z(Eo,3);var F0=void 0,Hd=void 0,vb=Bf,SE=gb,kf=E0,yb=Rd,N0=0,Io=vb.m,xb=8,bb=o(128,j);r:for(;I(bb,0,7,SE,19);){if(Z(Io,1)){var jE=2+2*Z(Io,3);if((F0=2+Z(Io,jE))>kf)break r}else F0=kf;for(Hd=0;Hd<kf&&F0--;){V(Io);var wb=bb[0+(127&R(Io))];$(Io,Io.u+wb.g);var MA=wb.value;if(16>MA)yb[Hd++]=MA,MA!=0&&(xb=MA);else{var kE=MA==16,Cb=MA-16,EE=qk[Cb],Bb=Z(Io,Gk[Cb])+EE;if(Hd+Bb>kf)break r;for(var IE=kE?xb:0;0<Bb--;)yb[Hd++]=IE}}N0=1;break r}N0||(vb.a=3),Sf=N0}(Sf=Sf&&!Eo.h)&&(I0=I(xE,bE,8,Rd,E0)),Sf&&I0!=0?jf=I0:(Bf.a=3,jf=0)}if(jf==0)break n;if(wf&&Yk[rn]==1&&(wf=bf[Lr].g==0),hb+=bf[Lr].g,Lr+=jf,3>=rn){var Od,T0=Qd[0];for(Od=1;Od<gr;++Od)Qd[Od]>T0&&(T0=Qd[Od]);fb+=T0}}if(qi.nd=wf,qi.Qb=0,wf&&(qi.qb=(UA[3][LA[3]+0].value<<24|UA[1][LA[1]+0].value<<16|UA[2][LA[2]+0].value)>>>0,hb==0&&256>UA[0][LA[0]+0].value&&(qi.Qb=1,qi.qb+=UA[0][LA[0]+0].value<<8)),qi.jc=!qi.Qb&&6>fb,qi.jc){var Ef,$a=qi;for(Ef=0;Ef<os;++Ef){var Fo=Ef,No=$a.pd[Fo],If=$a.G[0][$a.H[0]+Fo];256<=If.value?(No.g=If.g+256,No.value=If.value):(No.g=0,No.value=0,Fo>>=Nn(If,8,No),Fo>>=Nn($a.G[1][$a.H[1]+Fo],16,No),Fo>>=Nn($a.G[2][$a.H[2]+Fo],0,No),Nn($a.G[3][$a.H[3]+Fo],24,No))}}}qr.vc=ls,qr.Wb=Ns,qr.Ya=xf,qr.yc=k0,Vn=1;break t}Vn=0}if(!(ee=Vn)){O.a=3;break e}if(0<Le){if(ce.ua=1<<Le,!be(ce.Wa,Le)){O.a=1,ee=0;break e}}else ce.ua=0;var _0=O,Sb=te,FE=se,D0=_0.s,U0=D0.xc;if(_0.c=Sb,_0.i=FE,D0.md=we(Sb,U0),D0.wc=U0==0?-1:(1<<U0)-1,k){O.xb=oE;break e}if((Be=a(te*se))==null){O.a=1,ee=0;break e}ee=(ee=tr(O,Be,0,te,se,se,null))&&!oe.h;break e}return ee?(Y!=null?Y[0]=Be:(t(Be==null),t(k)),O.$=0,k||Qs(ce)):Qs(ce),ee}function Kr(f,v){var k=f.c*f.i,O=k+v+16*v;return t(f.c<=v),f.V=a(O),f.V==null?(f.Ta=null,f.Ua=0,f.a=1,0):(f.Ta=f.V,f.Ua=f.Ba+k+v,1)}function zt(f,v){var k=f.C,O=v-k,Y=f.V,ee=f.Ba+f.c*k;for(t(v<=f.l.o);0<O;){var te=16<O?16:O,se=f.l.ma,oe=f.l.width,ce=oe*te,Be=se.ca,Le=se.tb+oe*k,Me=f.Ta,Fe=f.Ua;wr(f,te,Y,ee),Sr(Me,Fe,Be,Le,ce),is(se,k,k+te,Be,Le,oe),O-=te,Y+=te*f.c,k+=te}t(k==v),f.C=f.Ma=v}function dr(){this.ub=this.yd=this.td=this.Rb=0}function zi(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Vr(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function ur(){this.Yb=function(){var f=[];return function v(k,O,Y){for(var ee=Y[O],te=0;te<ee&&(k.push(Y.length>O+1?[]:0),!(Y.length<O+1));te++)v(k[te],O+1,Y)}(f,0,[3,11]),f}()}function hA(){this.jb=a(3),this.Wc=l([4,8],ur),this.Xc=l([4,17],ur)}function ud(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function mo(){this.ld=this.La=this.dd=this.tc=0}function fA(){this.Na=this.la=0}function hd(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function fl(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Rh(){this.uc=this.M=this.Nb=0,this.wa=Array(new mo),this.Y=0,this.ya=Array(new fl),this.aa=0,this.l=new pA}function Hh(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Jm(){this.cb=this.a=0,this.sc="",this.m=new Ae,this.Od=new dr,this.Kc=new zi,this.ed=new ud,this.Qa=new Vr,this.Ic=this.$c=this.Aa=0,this.D=new Rh,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,Ae),this.ia=0,this.pb=o(4,hd),this.Pa=new hA,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Hh),this.Hd=0,this.rb=Array(new fA),this.sb=0,this.wa=Array(new mo),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new fl),this.L=this.aa=0,this.gd=l([4,2],mo),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function pA(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Zm(){var f=new Jm;return f!=null&&(f.a=0,f.sc="OK",f.cb=0,f.Xb=0,Md||(Md=zh)),f}function Cr(f,v,k){return f.a==0&&(f.a=v,f.sc=k,f.cb=0),0}function Oh(f,v,k){return 3<=k&&f[v+0]==157&&f[v+1]==1&&f[v+2]==42}function $h(f,v){if(f==null)return 0;if(f.a=0,f.sc="OK",v==null)return Cr(f,2,"null VP8Io passed to VP8GetHeaders()");var k=v.data,O=v.w,Y=v.ha;if(4>Y)return Cr(f,7,"Truncated header.");var ee=k[O+0]|k[O+1]<<8|k[O+2]<<16,te=f.Od;if(te.Rb=!(1&ee),te.td=ee>>1&7,te.yd=ee>>4&1,te.ub=ee>>5,3<te.td)return Cr(f,3,"Incorrect keyframe parameters.");if(!te.yd)return Cr(f,4,"Frame not displayable.");O+=3,Y-=3;var se=f.Kc;if(te.Rb){if(7>Y)return Cr(f,7,"cannot parse picture header");if(!Oh(k,O,Y))return Cr(f,3,"Bad code word");se.c=16383&(k[O+4]<<8|k[O+3]),se.Td=k[O+4]>>6,se.i=16383&(k[O+6]<<8|k[O+5]),se.Ud=k[O+6]>>6,O+=7,Y-=7,f.za=se.c+15>>4,f.Ub=se.i+15>>4,v.width=se.c,v.height=se.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,i((ee=f.Pa).jb,0,255,ee.jb.length),t((ee=f.Qa)!=null),ee.Cb=0,ee.Bb=0,ee.Fb=1,i(ee.Zb,0,0,ee.Zb.length),i(ee.Lb,0,0,ee.Lb)}if(te.ub>Y)return Cr(f,7,"bad partition length");z(ee=f.m,k,O,te.ub),O+=te.ub,Y-=te.ub,te.Rb&&(se.Ld=ie(ee),se.Kd=ie(ee)),se=f.Qa;var oe,ce=f.Pa;if(t(ee!=null),t(se!=null),se.Cb=ie(ee),se.Cb){if(se.Bb=ie(ee),ie(ee)){for(se.Fb=ie(ee),oe=0;4>oe;++oe)se.Zb[oe]=ie(ee)?D(ee,7):0;for(oe=0;4>oe;++oe)se.Lb[oe]=ie(ee)?D(ee,6):0}if(se.Bb)for(oe=0;3>oe;++oe)ce.jb[oe]=ie(ee)?L(ee,8):255}else se.Bb=0;if(ee.Ka)return Cr(f,3,"cannot parse segment header");if((se=f.ed).zd=ie(ee),se.Tb=L(ee,6),se.wb=L(ee,3),se.Pc=ie(ee),se.Pc&&ie(ee)){for(ce=0;4>ce;++ce)ie(ee)&&(se.vd[ce]=D(ee,6));for(ce=0;4>ce;++ce)ie(ee)&&(se.od[ce]=D(ee,6))}if(f.L=se.Tb==0?0:se.zd?1:2,ee.Ka)return Cr(f,3,"cannot parse filter header");var Be=Y;if(Y=oe=O,O=oe+Be,se=Be,f.Xb=(1<<L(f.m,2))-1,Be<3*(ce=f.Xb))k=7;else{for(oe+=3*ce,se-=3*ce,Be=0;Be<ce;++Be){var Le=k[Y+0]|k[Y+1]<<8|k[Y+2]<<16;Le>se&&(Le=se),z(f.Jc[+Be],k,oe,Le),oe+=Le,se-=Le,Y+=3}z(f.Jc[+ce],k,oe,se),k=oe<O?0:5}if(k!=0)return Cr(f,k,"cannot parse partitions");for(k=L(oe=f.m,7),Y=ie(oe)?D(oe,4):0,O=ie(oe)?D(oe,4):0,se=ie(oe)?D(oe,4):0,ce=ie(oe)?D(oe,4):0,oe=ie(oe)?D(oe,4):0,Be=f.Qa,Le=0;4>Le;++Le){if(Be.Cb){var Me=Be.Zb[Le];Be.Fb||(Me+=k)}else{if(0<Le){f.pb[Le]=f.pb[0];continue}Me=k}var Fe=f.pb[Le];Fe.Sc[0]=B0[Zs(Me+Y,127)],Fe.Sc[1]=S0[Zs(Me+0,127)],Fe.Eb[0]=2*B0[Zs(Me+O,127)],Fe.Eb[1]=101581*S0[Zs(Me+se,127)]>>16,8>Fe.Eb[1]&&(Fe.Eb[1]=8),Fe.Qc[0]=B0[Zs(Me+ce,117)],Fe.Qc[1]=S0[Zs(Me+oe,127)],Fe.lc=Me+oe}if(!te.Rb)return Cr(f,4,"Not a key frame.");for(ie(ee),te=f.Pa,k=0;4>k;++k){for(Y=0;8>Y;++Y)for(O=0;3>O;++O)for(se=0;11>se;++se)ce=ne(ee,iE[k][Y][O][se])?L(ee,8):rE[k][Y][O][se],te.Wc[k][Y].Yb[O][se]=ce;for(Y=0;17>Y;++Y)te.Xc[k][Y]=te.Wc[k][aE[Y]]}return f.kc=ie(ee),f.kc&&(f.Bd=L(ee,8)),f.cb=1}function zh(f,v,k,O,Y,ee,te){var se=v[Y].Yb[k];for(k=0;16>Y;++Y){if(!ne(f,se[k+0]))return Y;for(;!ne(f,se[k+1]);)if(se=v[++Y].Yb[0],k=0,Y==16)return 16;var oe=v[Y+1].Yb;if(ne(f,se[k+2])){var ce=f,Be=0;if(ne(ce,(Me=se)[(Le=k)+3]))if(ne(ce,Me[Le+6])){for(se=0,Le=2*(Be=ne(ce,Me[Le+8]))+(Me=ne(ce,Me[Le+9+Be])),Be=0,Me=tE[Le];Me[se];++se)Be+=Be+ne(ce,Me[se]);Be+=3+(8<<Le)}else ne(ce,Me[Le+7])?(Be=7+2*ne(ce,165),Be+=ne(ce,145)):Be=5+ne(ce,159);else Be=ne(ce,Me[Le+4])?3+ne(ce,Me[Le+5]):2;se=oe[2]}else Be=1,se=oe[1];oe=te+nE[Y],0>(ce=f).b&&G(ce);var Le,Me=ce.b,Fe=(Le=ce.Ca>>1)-(ce.I>>Me)>>31;--ce.b,ce.Ca+=Fe,ce.Ca|=1,ce.I-=(Le+1&Fe)<<Me,ee[oe]=((Be^Fe)-Fe)*O[(0<Y)+0]}return 16}function fd(f){var v=f.rb[f.sb-1];v.la=0,v.Na=0,i(f.zc,0,0,f.zc.length),f.ja=0}function e0(f,v){if(f==null)return 0;if(v==null)return Cr(f,2,"NULL VP8Io parameter in VP8Decode().");if(!f.cb&&!$h(f,v))return 0;if(t(f.cb),v.ac==null||v.ac(v)){v.ob&&(f.L=0);var k=yf[f.L];if(f.L==2?(f.yb=0,f.zb=0):(f.yb=v.v-k>>4,f.zb=v.j-k>>4,0>f.yb&&(f.yb=0),0>f.zb&&(f.zb=0)),f.Va=v.o+15+k>>4,f.Hb=v.va+15+k>>4,f.Hb>f.za&&(f.Hb=f.za),f.Va>f.Ub&&(f.Va=f.Ub),0<f.L){var O=f.ed;for(k=0;4>k;++k){var Y;if(f.Qa.Cb){var ee=f.Qa.Lb[k];f.Qa.Fb||(ee+=O.Tb)}else ee=O.Tb;for(Y=0;1>=Y;++Y){var te=f.gd[k][Y],se=ee;if(O.Pc&&(se+=O.vd[0],Y&&(se+=O.od[0])),0<(se=0>se?0:63<se?63:se)){var oe=se;0<O.wb&&(oe=4<O.wb?oe>>2:oe>>1)>9-O.wb&&(oe=9-O.wb),1>oe&&(oe=1),te.dd=oe,te.tc=2*se+oe,te.ld=40<=se?2:15<=se?1:0}else te.tc=0;te.La=Y}}}k=0}else Cr(f,6,"Frame setup failed"),k=f.a;if(k=k==0){if(k){f.$c=0,0<f.Aa||(f.Ic=yE);e:{k=f.Ic,O=4*(oe=f.za);var ce=32*oe,Be=oe+1,Le=0<f.L?oe*(0<f.Aa?2:1):0,Me=(f.Aa==2?2:1)*oe;if((te=O+832+(Y=3*(16*k+yf[f.L])/2*ce)+(ee=f.Fa!=null&&0<f.Fa.length?f.Kc.c*f.Kc.i:0))!=te)k=0;else{if(te>f.Vb){if(f.Vb=0,f.Ec=a(te),f.Fc=0,f.Ec==null){k=Cr(f,1,"no memory during frame initialization.");break e}f.Vb=te}te=f.Ec,se=f.Fc,f.Ac=te,f.Bc=se,se+=O,f.Gd=o(ce,Hh),f.Hd=0,f.rb=o(Be+1,fA),f.sb=1,f.wa=Le?o(Le,mo):null,f.Y=0,f.D.Nb=0,f.D.wa=f.wa,f.D.Y=f.Y,0<f.Aa&&(f.D.Y+=oe),t(!0),f.oc=te,f.pc=se,se+=832,f.ya=o(Me,fl),f.aa=0,f.D.ya=f.ya,f.D.aa=f.aa,f.Aa==2&&(f.D.aa+=oe),f.R=16*oe,f.B=8*oe,oe=(ce=yf[f.L])*f.R,ce=ce/2*f.B,f.sa=te,f.ta=se+oe,f.qa=f.sa,f.ra=f.ta+16*k*f.R+ce,f.Ha=f.qa,f.Ia=f.ra+8*k*f.B+ce,f.$c=0,se+=Y,f.mb=ee?te:null,f.nb=ee?se:null,t(se+ee<=f.Fc+f.Vb),fd(f),i(f.Ac,f.Bc,0,O),k=1}}if(k){if(v.ka=0,v.y=f.sa,v.O=f.ta,v.f=f.qa,v.N=f.ra,v.ea=f.Ha,v.Vd=f.Ia,v.fa=f.R,v.Rc=f.B,v.F=null,v.J=0,!cf){for(k=-255;255>=k;++k)Or[255+k]=0>k?-k:k;for(k=-1020;1020>=k;++k)Ra[1020+k]=-128>k?-128:127<k?127:k;for(k=-112;112>=k;++k)Ld[112+k]=-16>k?-16:15<k?15:k;for(k=-255;510>=k;++k)_A[255+k]=0>k?0:255<k?255:k;cf=1}FA=r0,Qa=t0,_d=Kh,Fs=n0,gi=Vh,Br=Wh,NA=xd,Af=ml,Dd=g0,xl=bd,bl=p0,Co=bA,wl=wd,TA=nf,Cl=tf,Bo=oa,Ud=La,mi=f0,Gi[0]=aa,Gi[1]=s0,Gi[2]=l0,Gi[3]=A0,Gi[4]=Yh,Gi[5]=yA,Gi[6]=Xh,Gi[7]=md,Gi[8]=d0,Gi[9]=c0,So[0]=Gh,So[1]=a0,So[2]=Ua,So[3]=mA,So[4]=fs,So[5]=o0,So[6]=qh,Ha[0]=vo,Ha[1]=i0,Ha[2]=u0,Ha[3]=vd,Ha[4]=gl,Ha[5]=h0,Ha[6]=yd,k=1}else k=0}k&&(k=function(Fe,tt){for(Fe.M=0;Fe.M<Fe.Va;++Fe.M){var $e,Se=Fe.Jc[Fe.M&Fe.Xb],ke=Fe.m,Xe=Fe;for($e=0;$e<Xe.za;++$e){var st=ke,et=Xe,Nt=et.Ac,xt=et.Bc+4*$e,Ot=et.zc,Ct=et.ya[et.aa+$e];if(et.Qa.Bb?Ct.$b=ne(st,et.Pa.jb[0])?2+ne(st,et.Pa.jb[2]):ne(st,et.Pa.jb[1]):Ct.$b=0,et.kc&&(Ct.Ad=ne(st,et.Bd)),Ct.Za=!ne(st,145)+0,Ct.Za){var Tn=Ct.Ob,Qn=0;for(et=0;4>et;++et){var jn,un=Ot[0+et];for(jn=0;4>jn;++jn){un=sE[Nt[xt+jn]][un];for(var Vn=nb[ne(st,un[0])];0<Vn;)Vn=nb[2*Vn+ne(st,un[Vn])];un=-Vn,Nt[xt+jn]=un}r(Tn,Qn,Nt,xt,4),Qn+=4,Ot[0+et]=un}}else un=ne(st,156)?ne(st,128)?1:3:ne(st,163)?2:0,Ct.Ob[0]=un,i(Nt,xt,un,4),i(Ot,0,un,4);Ct.Dd=ne(st,142)?ne(st,114)?ne(st,183)?1:3:2:0}if(Xe.m.Ka)return Cr(Fe,7,"Premature end-of-partition0 encountered.");for(;Fe.ja<Fe.za;++Fe.ja){if(Xe=Se,st=(ke=Fe).rb[ke.sb-1],Nt=ke.rb[ke.sb+ke.ja],$e=ke.ya[ke.aa+ke.ja],xt=ke.kc?$e.Ad:0)st.la=Nt.la=0,$e.Za||(st.Na=Nt.Na=0),$e.Hc=0,$e.Gc=0,$e.ia=0;else{var On,rn;if(st=Nt,Nt=Xe,xt=ke.Pa.Xc,Ot=ke.ya[ke.aa+ke.ja],Ct=ke.pb[Ot.$b],et=Ot.ad,Tn=0,Qn=ke.rb[ke.sb-1],un=jn=0,i(et,Tn,0,384),Ot.Za)var Lr=0,$s=xt[3];else{Vn=a(16);var Mr=st.Na+Qn.Na;if(Mr=Md(Nt,xt[1],Mr,Ct.Eb,0,Vn,0),st.Na=Qn.Na=(0<Mr)+0,1<Mr)FA(Vn,0,et,Tn);else{var zs=Vn[0]+3>>3;for(Vn=0;256>Vn;Vn+=16)et[Tn+Vn]=zs}Lr=1,$s=xt[0]}var Rn=15&st.la,ti=15&Qn.la;for(Vn=0;4>Vn;++Vn){var ni=1&ti;for(zs=rn=0;4>zs;++zs)Rn=Rn>>1|(ni=(Mr=Md(Nt,$s,Mr=ni+(1&Rn),Ct.Sc,Lr,et,Tn))>Lr)<<7,rn=rn<<2|(3<Mr?3:1<Mr?2:et[Tn+0]!=0),Tn+=16;Rn>>=4,ti=ti>>1|ni<<7,jn=(jn<<8|rn)>>>0}for($s=Rn,Lr=ti>>4,On=0;4>On;On+=2){for(rn=0,Rn=st.la>>4+On,ti=Qn.la>>4+On,Vn=0;2>Vn;++Vn){for(ni=1&ti,zs=0;2>zs;++zs)Mr=ni+(1&Rn),Rn=Rn>>1|(ni=0<(Mr=Md(Nt,xt[2],Mr,Ct.Qc,0,et,Tn)))<<3,rn=rn<<2|(3<Mr?3:1<Mr?2:et[Tn+0]!=0),Tn+=16;Rn>>=2,ti=ti>>1|ni<<5}un|=rn<<4*On,$s|=Rn<<4<<On,Lr|=(240&ti)<<On}st.la=$s,Qn.la=Lr,Ot.Hc=jn,Ot.Gc=un,Ot.ia=43690&un?0:Ct.ia,xt=!(jn|un)}if(0<ke.L&&(ke.wa[ke.Y+ke.ja]=ke.gd[$e.$b][$e.Za],ke.wa[ke.Y+ke.ja].La|=!xt),Xe.Ka)return Cr(Fe,7,"Premature end-of-file encountered.")}if(fd(Fe),ke=tt,Xe=1,$e=(Se=Fe).D,st=0<Se.L&&Se.M>=Se.zb&&Se.M<=Se.Va,Se.Aa==0)e:{if($e.M=Se.M,$e.uc=st,Ed(Se,$e),Xe=1,$e=(rn=Se.D).Nb,st=(un=yf[Se.L])*Se.R,Nt=un/2*Se.B,Vn=16*$e*Se.R,zs=8*$e*Se.B,xt=Se.sa,Ot=Se.ta-st+Vn,Ct=Se.qa,et=Se.ra-Nt+zs,Tn=Se.Ha,Qn=Se.Ia-Nt+zs,ti=(Rn=rn.M)==0,jn=Rn>=Se.Va-1,Se.Aa==2&&Ed(Se,rn),rn.uc)for(ni=(Mr=Se).D.M,t(Mr.D.uc),rn=Mr.yb;rn<Mr.Hb;++rn){Lr=rn,$s=ni;var qr=(ls=(gr=Mr).D).Nb;On=gr.R;var ls=ls.wa[ls.Y+Lr],Ns=gr.sa,bi=gr.ta+16*qr*On+16*Lr,Aa=ls.dd,Yr=ls.tc;if(Yr!=0)if(t(3<=Yr),gr.L==1)0<Lr&&Bo(Ns,bi,On,Yr+4),ls.La&&mi(Ns,bi,On,Yr),0<$s&&Cl(Ns,bi,On,Yr+4),ls.La&&Ud(Ns,bi,On,Yr);else{var Oa=gr.B,Bl=gr.qa,DA=gr.ra+8*qr*Oa+8*Lr,ko=gr.Ha,gr=gr.Ia+8*qr*Oa+8*Lr;qr=ls.ld,0<Lr&&(Af(Ns,bi,On,Yr+4,Aa,qr),xl(Bl,DA,ko,gr,Oa,Yr+4,Aa,qr)),ls.La&&(Co(Ns,bi,On,Yr,Aa,qr),TA(Bl,DA,ko,gr,Oa,Yr,Aa,qr)),0<$s&&(NA(Ns,bi,On,Yr+4,Aa,qr),Dd(Bl,DA,ko,gr,Oa,Yr+4,Aa,qr)),ls.La&&(bl(Ns,bi,On,Yr,Aa,qr),wl(Bl,DA,ko,gr,Oa,Yr,Aa,qr))}}if(Se.ia&&alert("todo:DitherRow"),ke.put!=null){if(rn=16*Rn,Rn=16*(Rn+1),ti?(ke.y=Se.sa,ke.O=Se.ta+Vn,ke.f=Se.qa,ke.N=Se.ra+zs,ke.ea=Se.Ha,ke.W=Se.Ia+zs):(rn-=un,ke.y=xt,ke.O=Ot,ke.f=Ct,ke.N=et,ke.ea=Tn,ke.W=Qn),jn||(Rn-=un),Rn>ke.o&&(Rn=ke.o),ke.F=null,ke.J=null,Se.Fa!=null&&0<Se.Fa.length&&rn<Rn&&(ke.J=jd(Se,ke,rn,Rn-rn),ke.F=Se.mb,ke.F==null&&ke.F.length==0)){Xe=Cr(Se,3,"Could not decode alpha data.");break e}rn<ke.j&&(un=ke.j-rn,rn=ke.j,t(!(1&un)),ke.O+=Se.R*un,ke.N+=Se.B*(un>>1),ke.W+=Se.B*(un>>1),ke.F!=null&&(ke.J+=ke.width*un)),rn<Rn&&(ke.O+=ke.v,ke.N+=ke.v>>1,ke.W+=ke.v>>1,ke.F!=null&&(ke.J+=ke.v),ke.ka=rn-ke.j,ke.U=ke.va-ke.v,ke.T=Rn-rn,Xe=ke.put(ke))}$e+1!=Se.Ic||jn||(r(Se.sa,Se.ta-st,xt,Ot+16*Se.R,st),r(Se.qa,Se.ra-Nt,Ct,et+8*Se.B,Nt),r(Se.Ha,Se.Ia-Nt,Tn,Qn+8*Se.B,Nt))}if(!Xe)return Cr(Fe,6,"Output aborted.")}return 1}(f,v)),v.bc!=null&&v.bc(v),k&=1}return k?(f.cb=0,k):0}function Wi(f,v,k,O,Y){Y=f[v+k+32*O]+(Y>>3),f[v+k+32*O]=-256&Y?0>Y?0:255:Y}function gA(f,v,k,O,Y,ee){Wi(f,v,0,k,O+Y),Wi(f,v,1,k,O+ee),Wi(f,v,2,k,O-ee),Wi(f,v,3,k,O-Y)}function Rs(f){return(20091*f>>16)+f}function pd(f,v,k,O){var Y,ee=0,te=a(16);for(Y=0;4>Y;++Y){var se=f[v+0]+f[v+8],oe=f[v+0]-f[v+8],ce=(35468*f[v+4]>>16)-Rs(f[v+12]),Be=Rs(f[v+4])+(35468*f[v+12]>>16);te[ee+0]=se+Be,te[ee+1]=oe+ce,te[ee+2]=oe-ce,te[ee+3]=se-Be,ee+=4,v++}for(Y=ee=0;4>Y;++Y)se=(f=te[ee+0]+4)+te[ee+8],oe=f-te[ee+8],ce=(35468*te[ee+4]>>16)-Rs(te[ee+12]),Wi(k,O,0,0,se+(Be=Rs(te[ee+4])+(35468*te[ee+12]>>16))),Wi(k,O,1,0,oe+ce),Wi(k,O,2,0,oe-ce),Wi(k,O,3,0,se-Be),ee++,O+=32}function Wh(f,v,k,O){var Y=f[v+0]+4,ee=35468*f[v+4]>>16,te=Rs(f[v+4]),se=35468*f[v+1]>>16;gA(k,O,0,Y+te,f=Rs(f[v+1]),se),gA(k,O,1,Y+ee,f,se),gA(k,O,2,Y-ee,f,se),gA(k,O,3,Y-te,f,se)}function t0(f,v,k,O,Y){pd(f,v,k,O),Y&&pd(f,v+16,k,O+4)}function Kh(f,v,k,O){Qa(f,v+0,k,O,1),Qa(f,v+32,k,O+128,1)}function n0(f,v,k,O){var Y;for(f=f[v+0]+4,Y=0;4>Y;++Y)for(v=0;4>v;++v)Wi(k,O,v,Y,f)}function Vh(f,v,k,O){f[v+0]&&Fs(f,v+0,k,O),f[v+16]&&Fs(f,v+16,k,O+4),f[v+32]&&Fs(f,v+32,k,O+128),f[v+48]&&Fs(f,v+48,k,O+128+4)}function r0(f,v,k,O){var Y,ee=a(16);for(Y=0;4>Y;++Y){var te=f[v+0+Y]+f[v+12+Y],se=f[v+4+Y]+f[v+8+Y],oe=f[v+4+Y]-f[v+8+Y],ce=f[v+0+Y]-f[v+12+Y];ee[0+Y]=te+se,ee[8+Y]=te-se,ee[4+Y]=ce+oe,ee[12+Y]=ce-oe}for(Y=0;4>Y;++Y)te=(f=ee[0+4*Y]+3)+ee[3+4*Y],se=ee[1+4*Y]+ee[2+4*Y],oe=ee[1+4*Y]-ee[2+4*Y],ce=f-ee[3+4*Y],k[O+0]=te+se>>3,k[O+16]=ce+oe>>3,k[O+32]=te-se>>3,k[O+48]=ce-oe>>3,O+=64}function gd(f,v,k){var O,Y=v-32,ee=ei,te=255-f[Y-1];for(O=0;O<k;++O){var se,oe=ee,ce=te+f[v-1];for(se=0;se<k;++se)f[v+se]=oe[ce+f[Y+se]];v+=32}}function s0(f,v){gd(f,v,4)}function i0(f,v){gd(f,v,8)}function a0(f,v){gd(f,v,16)}function Ua(f,v){var k;for(k=0;16>k;++k)r(f,v+32*k,f,v-32,16)}function mA(f,v){var k;for(k=16;0<k;--k)i(f,v,f[v-1],16),v+=32}function vA(f,v,k){var O;for(O=0;16>O;++O)i(v,k+32*O,f,16)}function Gh(f,v){var k,O=16;for(k=0;16>k;++k)O+=f[v-1+32*k]+f[v+k-32];vA(O>>5,f,v)}function fs(f,v){var k,O=8;for(k=0;16>k;++k)O+=f[v-1+32*k];vA(O>>4,f,v)}function o0(f,v){var k,O=8;for(k=0;16>k;++k)O+=f[v+k-32];vA(O>>4,f,v)}function qh(f,v){vA(128,f,v)}function qt(f,v,k){return f+2*v+k+2>>2}function l0(f,v){var k,O=v-32;for(O=new Uint8Array([qt(f[O-1],f[O+0],f[O+1]),qt(f[O+0],f[O+1],f[O+2]),qt(f[O+1],f[O+2],f[O+3]),qt(f[O+2],f[O+3],f[O+4])]),k=0;4>k;++k)r(f,v+32*k,O,0,O.length)}function A0(f,v){var k=f[v-1],O=f[v-1+32],Y=f[v-1+64],ee=f[v-1+96];xe(f,v+0,16843009*qt(f[v-1-32],k,O)),xe(f,v+32,16843009*qt(k,O,Y)),xe(f,v+64,16843009*qt(O,Y,ee)),xe(f,v+96,16843009*qt(Y,ee,ee))}function aa(f,v){var k,O=4;for(k=0;4>k;++k)O+=f[v+k-32]+f[v-1+32*k];for(O>>=3,k=0;4>k;++k)i(f,v+32*k,O,4)}function Yh(f,v){var k=f[v-1+0],O=f[v-1+32],Y=f[v-1+64],ee=f[v-1-32],te=f[v+0-32],se=f[v+1-32],oe=f[v+2-32],ce=f[v+3-32];f[v+0+96]=qt(O,Y,f[v-1+96]),f[v+1+96]=f[v+0+64]=qt(k,O,Y),f[v+2+96]=f[v+1+64]=f[v+0+32]=qt(ee,k,O),f[v+3+96]=f[v+2+64]=f[v+1+32]=f[v+0+0]=qt(te,ee,k),f[v+3+64]=f[v+2+32]=f[v+1+0]=qt(se,te,ee),f[v+3+32]=f[v+2+0]=qt(oe,se,te),f[v+3+0]=qt(ce,oe,se)}function Xh(f,v){var k=f[v+1-32],O=f[v+2-32],Y=f[v+3-32],ee=f[v+4-32],te=f[v+5-32],se=f[v+6-32],oe=f[v+7-32];f[v+0+0]=qt(f[v+0-32],k,O),f[v+1+0]=f[v+0+32]=qt(k,O,Y),f[v+2+0]=f[v+1+32]=f[v+0+64]=qt(O,Y,ee),f[v+3+0]=f[v+2+32]=f[v+1+64]=f[v+0+96]=qt(Y,ee,te),f[v+3+32]=f[v+2+64]=f[v+1+96]=qt(ee,te,se),f[v+3+64]=f[v+2+96]=qt(te,se,oe),f[v+3+96]=qt(se,oe,oe)}function yA(f,v){var k=f[v-1+0],O=f[v-1+32],Y=f[v-1+64],ee=f[v-1-32],te=f[v+0-32],se=f[v+1-32],oe=f[v+2-32],ce=f[v+3-32];f[v+0+0]=f[v+1+64]=ee+te+1>>1,f[v+1+0]=f[v+2+64]=te+se+1>>1,f[v+2+0]=f[v+3+64]=se+oe+1>>1,f[v+3+0]=oe+ce+1>>1,f[v+0+96]=qt(Y,O,k),f[v+0+64]=qt(O,k,ee),f[v+0+32]=f[v+1+96]=qt(k,ee,te),f[v+1+32]=f[v+2+96]=qt(ee,te,se),f[v+2+32]=f[v+3+96]=qt(te,se,oe),f[v+3+32]=qt(se,oe,ce)}function md(f,v){var k=f[v+0-32],O=f[v+1-32],Y=f[v+2-32],ee=f[v+3-32],te=f[v+4-32],se=f[v+5-32],oe=f[v+6-32],ce=f[v+7-32];f[v+0+0]=k+O+1>>1,f[v+1+0]=f[v+0+64]=O+Y+1>>1,f[v+2+0]=f[v+1+64]=Y+ee+1>>1,f[v+3+0]=f[v+2+64]=ee+te+1>>1,f[v+0+32]=qt(k,O,Y),f[v+1+32]=f[v+0+96]=qt(O,Y,ee),f[v+2+32]=f[v+1+96]=qt(Y,ee,te),f[v+3+32]=f[v+2+96]=qt(ee,te,se),f[v+3+64]=qt(te,se,oe),f[v+3+96]=qt(se,oe,ce)}function c0(f,v){var k=f[v-1+0],O=f[v-1+32],Y=f[v-1+64],ee=f[v-1+96];f[v+0+0]=k+O+1>>1,f[v+2+0]=f[v+0+32]=O+Y+1>>1,f[v+2+32]=f[v+0+64]=Y+ee+1>>1,f[v+1+0]=qt(k,O,Y),f[v+3+0]=f[v+1+32]=qt(O,Y,ee),f[v+3+32]=f[v+1+64]=qt(Y,ee,ee),f[v+3+64]=f[v+2+64]=f[v+0+96]=f[v+1+96]=f[v+2+96]=f[v+3+96]=ee}function d0(f,v){var k=f[v-1+0],O=f[v-1+32],Y=f[v-1+64],ee=f[v-1+96],te=f[v-1-32],se=f[v+0-32],oe=f[v+1-32],ce=f[v+2-32];f[v+0+0]=f[v+2+32]=k+te+1>>1,f[v+0+32]=f[v+2+64]=O+k+1>>1,f[v+0+64]=f[v+2+96]=Y+O+1>>1,f[v+0+96]=ee+Y+1>>1,f[v+3+0]=qt(se,oe,ce),f[v+2+0]=qt(te,se,oe),f[v+1+0]=f[v+3+32]=qt(k,te,se),f[v+1+32]=f[v+3+64]=qt(O,k,te),f[v+1+64]=f[v+3+96]=qt(Y,O,k),f[v+1+96]=qt(ee,Y,O)}function u0(f,v){var k;for(k=0;8>k;++k)r(f,v+32*k,f,v-32,8)}function vd(f,v){var k;for(k=0;8>k;++k)i(f,v,f[v-1],8),v+=32}function pl(f,v,k){var O;for(O=0;8>O;++O)i(v,k+32*O,f,8)}function vo(f,v){var k,O=8;for(k=0;8>k;++k)O+=f[v+k-32]+f[v-1+32*k];pl(O>>4,f,v)}function h0(f,v){var k,O=4;for(k=0;8>k;++k)O+=f[v+k-32];pl(O>>3,f,v)}function gl(f,v){var k,O=4;for(k=0;8>k;++k)O+=f[v-1+32*k];pl(O>>3,f,v)}function yd(f,v){pl(128,f,v)}function xA(f,v,k){var O=f[v-k],Y=f[v+0],ee=3*(Y-O)+y0[1020+f[v-2*k]-f[v+k]],te=df[112+(ee+4>>3)];f[v-k]=ei[255+O+df[112+(ee+3>>3)]],f[v+0]=ei[255+Y-te]}function Jh(f,v,k,O){var Y=f[v+0],ee=f[v+k];return yi[255+f[v-2*k]-f[v-k]]>O||yi[255+ee-Y]>O}function Zh(f,v,k,O){return 4*yi[255+f[v-k]-f[v+0]]+yi[255+f[v-2*k]-f[v+k]]<=O}function ef(f,v,k,O,Y){var ee=f[v-3*k],te=f[v-2*k],se=f[v-k],oe=f[v+0],ce=f[v+k],Be=f[v+2*k],Le=f[v+3*k];return 4*yi[255+se-oe]+yi[255+te-ce]>O?0:yi[255+f[v-4*k]-ee]<=Y&&yi[255+ee-te]<=Y&&yi[255+te-se]<=Y&&yi[255+Le-Be]<=Y&&yi[255+Be-ce]<=Y&&yi[255+ce-oe]<=Y}function tf(f,v,k,O){var Y=2*O+1;for(O=0;16>O;++O)Zh(f,v+O,k,Y)&&xA(f,v+O,k)}function oa(f,v,k,O){var Y=2*O+1;for(O=0;16>O;++O)Zh(f,v+O*k,1,Y)&&xA(f,v+O*k,1)}function La(f,v,k,O){var Y;for(Y=3;0<Y;--Y)tf(f,v+=4*k,k,O)}function f0(f,v,k,O){var Y;for(Y=3;0<Y;--Y)oa(f,v+=4,k,O)}function yo(f,v,k,O,Y,ee,te,se){for(ee=2*ee+1;0<Y--;){if(ef(f,v,k,ee,te))if(Jh(f,v,k,se))xA(f,v,k);else{var oe=f,ce=v,Be=k,Le=oe[ce-2*Be],Me=oe[ce-Be],Fe=oe[ce+0],tt=oe[ce+Be],$e=oe[ce+2*Be],Se=27*(Xe=y0[1020+3*(Fe-Me)+y0[1020+Le-tt]])+63>>7,ke=18*Xe+63>>7,Xe=9*Xe+63>>7;oe[ce-3*Be]=ei[255+oe[ce-3*Be]+Xe],oe[ce-2*Be]=ei[255+Le+ke],oe[ce-Be]=ei[255+Me+Se],oe[ce+0]=ei[255+Fe-Se],oe[ce+Be]=ei[255+tt-ke],oe[ce+2*Be]=ei[255+$e-Xe]}v+=O}}function Ki(f,v,k,O,Y,ee,te,se){for(ee=2*ee+1;0<Y--;){if(ef(f,v,k,ee,te))if(Jh(f,v,k,se))xA(f,v,k);else{var oe=f,ce=v,Be=k,Le=oe[ce-Be],Me=oe[ce+0],Fe=oe[ce+Be],tt=df[112+(($e=3*(Me-Le))+4>>3)],$e=df[112+($e+3>>3)],Se=tt+1>>1;oe[ce-2*Be]=ei[255+oe[ce-2*Be]+Se],oe[ce-Be]=ei[255+Le+$e],oe[ce+0]=ei[255+Me-tt],oe[ce+Be]=ei[255+Fe-Se]}v+=O}}function xd(f,v,k,O,Y,ee){yo(f,v,k,1,16,O,Y,ee)}function ml(f,v,k,O,Y,ee){yo(f,v,1,k,16,O,Y,ee)}function p0(f,v,k,O,Y,ee){var te;for(te=3;0<te;--te)Ki(f,v+=4*k,k,1,16,O,Y,ee)}function bA(f,v,k,O,Y,ee){var te;for(te=3;0<te;--te)Ki(f,v+=4,1,k,16,O,Y,ee)}function g0(f,v,k,O,Y,ee,te,se){yo(f,v,Y,1,8,ee,te,se),yo(k,O,Y,1,8,ee,te,se)}function bd(f,v,k,O,Y,ee,te,se){yo(f,v,1,Y,8,ee,te,se),yo(k,O,1,Y,8,ee,te,se)}function wd(f,v,k,O,Y,ee,te,se){Ki(f,v+4*Y,Y,1,8,ee,te,se),Ki(k,O+4*Y,Y,1,8,ee,te,se)}function nf(f,v,k,O,Y,ee,te,se){Ki(f,v+4,1,Y,8,ee,te,se),Ki(k,O+4,1,Y,8,ee,te,se)}function wA(){this.ba=new dt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ve,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Cd(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Bd(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function rf(){this.ua=0,this.Wa=new ae,this.vb=new ae,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new N,this.yc=new j}function m0(){this.xb=this.a=0,this.l=new pA,this.ca=new dt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new H,this.Pb=0,this.wd=new H,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new rf,this.ab=0,this.gc=o(4,Bd),this.Oc=0}function CA(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new pA,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function vl(f,v,k,O,Y,ee,te){for(f=f==null?0:f[v+0],v=0;v<te;++v)Y[ee+v]=f+k[O+v]&255,f=Y[ee+v]}function Sd(f,v,k,O,Y,ee,te){var se;if(f==null)vl(null,null,k,O,Y,ee,te);else for(se=0;se<te;++se)Y[ee+se]=f[v+se]+k[O+se]&255}function xo(f,v,k,O,Y,ee,te){if(f==null)vl(null,null,k,O,Y,ee,te);else{var se,oe=f[v+0],ce=oe,Be=oe;for(se=0;se<te;++se)ce=Be+(oe=f[v+se])-ce,Be=k[O+se]+(-256&ce?0>ce?0:255:ce)&255,ce=oe,Y[ee+se]=Be}}function jd(f,v,k,O){var Y=v.width,ee=v.o;if(t(f!=null&&v!=null),0>k||0>=O||k+O>ee)return null;if(!f.Cc){if(f.ga==null){var te;if(f.ga=new CA,(te=f.ga==null)||(te=v.width*v.o,t(f.Gb.length==0),f.Gb=a(te),f.Uc=0,f.Gb==null?te=0:(f.mb=f.Gb,f.nb=f.Uc,f.rc=null,te=1),te=!te),!te){te=f.ga;var se=f.Fa,oe=f.P,ce=f.qc,Be=f.mb,Le=f.nb,Me=oe+1,Fe=ce-1,tt=te.l;if(t(se!=null&&Be!=null&&v!=null),jo[0]=null,jo[1]=vl,jo[2]=Sd,jo[3]=xo,te.ca=Be,te.tb=Le,te.c=v.width,te.i=v.height,t(0<te.c&&0<te.i),1>=ce)v=0;else if(te.$a=se[oe+0]>>0&3,te.Z=se[oe+0]>>2&3,te.Lc=se[oe+0]>>4&3,oe=se[oe+0]>>6&3,0>te.$a||1<te.$a||4<=te.Z||1<te.Lc||oe)v=0;else if(tt.put=Gt,tt.ac=ct,tt.bc=Ht,tt.ma=te,tt.width=v.width,tt.height=v.height,tt.Da=v.Da,tt.v=v.v,tt.va=v.va,tt.j=v.j,tt.o=v.o,te.$a)e:{t(te.$a==1),v=Sn();t:for(;;){if(v==null){v=0;break e}if(t(te!=null),te.mc=v,v.c=te.c,v.i=te.i,v.l=te.l,v.l.ma=te,v.l.width=te.c,v.l.height=te.i,v.a=0,K(v.m,se,Me,Fe),!Yt(te.c,te.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&Ps(v.s)?(te.ic=1,se=v.c*v.i,v.Ta=null,v.Ua=0,v.V=a(se),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(te.ic=0,v=Kr(v,te.c)),!v))break t;v=1;break e}te.mc=null,v=0}else v=Fe>=te.c*te.i;te=!v}if(te)return null;f.ga.Lc!=1?f.Ga=0:O=ee-k}t(f.ga!=null),t(k+O<=ee);e:{if(v=(se=f.ga).c,ee=se.l.o,se.$a==0){if(Me=f.rc,Fe=f.Vc,tt=f.Fa,oe=f.P+1+k*v,ce=f.mb,Be=f.nb+k*v,t(oe<=f.P+f.qc),se.Z!=0)for(t(jo[se.Z]!=null),te=0;te<O;++te)jo[se.Z](Me,Fe,tt,oe,ce,Be,v),Me=ce,Fe=Be,Be+=v,oe+=v;else for(te=0;te<O;++te)r(ce,Be,tt,oe,v),Me=ce,Fe=Be,Be+=v,oe+=v;f.rc=Me,f.Vc=Fe}else{if(t(se.mc!=null),v=k+O,t((te=se.mc)!=null),t(v<=te.i),te.C>=v)v=1;else if(se.ic||_e(),se.ic){se=te.V,Me=te.Ba,Fe=te.c;var $e=te.i,Se=(tt=1,oe=te.$/Fe,ce=te.$%Fe,Be=te.m,Le=te.s,te.$),ke=Fe*$e,Xe=Fe*v,st=Le.wc,et=Se<Xe?Kn(Le,ce,oe):null;t(Se<=ke),t(v<=$e),t(Ps(Le));t:for(;;){for(;!Be.h&&Se<Xe;){if(ce&st||(et=Kn(Le,ce,oe)),t(et!=null),V(Be),256>($e=gn(et.G[0],et.H[0],Be)))se[Me+Se]=$e,++Se,++ce>=Fe&&(ce=0,++oe<=v&&!(oe%16)&&as(te,oe));else{if(!(280>$e)){tt=0;break t}$e=Pn($e-256,Be);var Nt,xt=gn(et.G[4],et.H[4],Be);if(V(Be),!(Se>=(xt=Mt(Fe,xt=Pn(xt,Be)))&&ke-Se>=$e)){tt=0;break t}for(Nt=0;Nt<$e;++Nt)se[Me+Se+Nt]=se[Me+Se+Nt-xt];for(Se+=$e,ce+=$e;ce>=Fe;)ce-=Fe,++oe<=v&&!(oe%16)&&as(te,oe);Se<Xe&&ce&st&&(et=Kn(Le,ce,oe))}t(Be.h==Q(Be))}as(te,oe>v?v:oe);break t}!tt||Be.h&&Se<ke?(tt=0,te.a=Be.h?5:3):te.$=Se,v=tt}else v=tr(te,te.V,te.Ba,te.c,te.i,v,zt);if(!v){O=0;break e}}k+O>=ee&&(f.Cc=1),O=1}if(!O)return null;if(f.Cc&&((O=f.ga)!=null&&(O.mc=null),f.ga=null,0<f.Ga))return alert("todo:WebPDequantizeLevels"),null}return f.nb+k*Y}function B(f,v,k,O,Y,ee){for(;0<Y--;){var te,se=f,oe=v+(k?1:0),ce=f,Be=v+(k?0:3);for(te=0;te<O;++te){var Le=ce[Be+4*te];Le!=255&&(Le*=32897,se[oe+4*te+0]=se[oe+4*te+0]*Le>>23,se[oe+4*te+1]=se[oe+4*te+1]*Le>>23,se[oe+4*te+2]=se[oe+4*te+2]*Le>>23)}v+=ee}}function X(f,v,k,O,Y){for(;0<O--;){var ee;for(ee=0;ee<k;++ee){var te=f[v+2*ee+0],se=15&(ce=f[v+2*ee+1]),oe=4369*se,ce=(240&ce|ce>>4)*oe>>16;f[v+2*ee+0]=(240&te|te>>4)*oe>>16&240|(15&te|te<<4)*oe>>16>>4&15,f[v+2*ee+1]=240&ce|se}v+=Y}}function he(f,v,k,O,Y,ee,te,se){var oe,ce,Be=255;for(ce=0;ce<Y;++ce){for(oe=0;oe<O;++oe){var Le=f[v+oe];ee[te+4*oe]=Le,Be&=Le}v+=k,te+=se}return Be!=255}function Ce(f,v,k,O,Y){var ee;for(ee=0;ee<Y;++ee)k[O+ee]=f[v+ee]>>8}function _e(){vi=B,Yn=X,Xn=he,Sr=Ce}function Ke(f,v,k){F[f]=function(O,Y,ee,te,se,oe,ce,Be,Le,Me,Fe,tt,$e,Se,ke,Xe,st){var et,Nt=st-1>>1,xt=se[oe+0]|ce[Be+0]<<16,Ot=Le[Me+0]|Fe[tt+0]<<16;t(O!=null);var Ct=3*xt+Ot+131074>>2;for(v(O[Y+0],255&Ct,Ct>>16,$e,Se),ee!=null&&(Ct=3*Ot+xt+131074>>2,v(ee[te+0],255&Ct,Ct>>16,ke,Xe)),et=1;et<=Nt;++et){var Tn=se[oe+et]|ce[Be+et]<<16,Qn=Le[Me+et]|Fe[tt+et]<<16,jn=xt+Tn+Ot+Qn+524296,un=jn+2*(Tn+Ot)>>3;Ct=un+xt>>1,xt=(jn=jn+2*(xt+Qn)>>3)+Tn>>1,v(O[Y+2*et-1],255&Ct,Ct>>16,$e,Se+(2*et-1)*k),v(O[Y+2*et-0],255&xt,xt>>16,$e,Se+(2*et-0)*k),ee!=null&&(Ct=jn+Ot>>1,xt=un+Qn>>1,v(ee[te+2*et-1],255&Ct,Ct>>16,ke,Xe+(2*et-1)*k),v(ee[te+2*et+0],255&xt,xt>>16,ke,Xe+(2*et+0)*k)),xt=Tn,Ot=Qn}1&st||(Ct=3*xt+Ot+131074>>2,v(O[Y+st-1],255&Ct,Ct>>16,$e,Se+(st-1)*k),ee!=null&&(Ct=3*Ot+xt+131074>>2,v(ee[te+st-1],255&Ct,Ct>>16,ke,Xe+(st-1)*k)))}}function at(){xi[uf]=lE,xi[hf]=sb,xi[Zx]=AE,xi[ff]=ib,xi[pf]=ab,xi[x0]=ob,xi[eb]=cE,xi[b0]=sb,xi[w0]=ib,xi[gf]=ab,xi[C0]=ob}function It(f){return f&-16384?0>f?0:255:f>>dE}function Rt(f,v){return It((19077*f>>8)+(26149*v>>8)-14234)}function tn(f,v,k){return It((19077*f>>8)-(6419*v>>8)-(13320*k>>8)+8708)}function Xt(f,v){return It((19077*f>>8)+(33050*v>>8)-17685)}function wn(f,v,k,O,Y){O[Y+0]=Rt(f,k),O[Y+1]=tn(f,v,k),O[Y+2]=Xt(f,v)}function hr(f,v,k,O,Y){O[Y+0]=Xt(f,v),O[Y+1]=tn(f,v,k),O[Y+2]=Rt(f,k)}function pr(f,v,k,O,Y){var ee=tn(f,v,k);v=ee<<3&224|Xt(f,v)>>3,O[Y+0]=248&Rt(f,k)|ee>>5,O[Y+1]=v}function Ur(f,v,k,O,Y){var ee=240&Xt(f,v)|15;O[Y+0]=240&Rt(f,k)|tn(f,v,k)>>4,O[Y+1]=ee}function ps(f,v,k,O,Y){O[Y+0]=255,wn(f,v,k,O,Y+1)}function Gr(f,v,k,O,Y){hr(f,v,k,O,Y),O[Y+3]=255}function Vi(f,v,k,O,Y){wn(f,v,k,O,Y),O[Y+3]=255}function Zs(f,v){return 0>f?0:f>v?v:f}function la(f,v,k){F[f]=function(O,Y,ee,te,se,oe,ce,Be,Le){for(var Me=Be+(-2&Le)*k;Be!=Me;)v(O[Y+0],ee[te+0],se[oe+0],ce,Be),v(O[Y+1],ee[te+0],se[oe+0],ce,Be+k),Y+=2,++te,++oe,Be+=2*k;1&Le&&v(O[Y+0],ee[te+0],se[oe+0],ce,Be)}}function sf(f,v,k){return k==0?f==0?v==0?6:5:v==0?4:0:k}function kd(f,v,k,O,Y){switch(f>>>30){case 3:Qa(v,k,O,Y,0);break;case 2:Br(v,k,O,Y);break;case 1:Fs(v,k,O,Y)}}function Ed(f,v){var k,O,Y=v.M,ee=v.Nb,te=f.oc,se=f.pc+40,oe=f.oc,ce=f.pc+584,Be=f.oc,Le=f.pc+600;for(k=0;16>k;++k)te[se+32*k-1]=129;for(k=0;8>k;++k)oe[ce+32*k-1]=129,Be[Le+32*k-1]=129;for(0<Y?te[se-1-32]=oe[ce-1-32]=Be[Le-1-32]=129:(i(te,se-32-1,127,21),i(oe,ce-32-1,127,9),i(Be,Le-32-1,127,9)),O=0;O<f.za;++O){var Me=v.ya[v.aa+O];if(0<O){for(k=-1;16>k;++k)r(te,se+32*k-4,te,se+32*k+12,4);for(k=-1;8>k;++k)r(oe,ce+32*k-4,oe,ce+32*k+4,4),r(Be,Le+32*k-4,Be,Le+32*k+4,4)}var Fe=f.Gd,tt=f.Hd+O,$e=Me.ad,Se=Me.Hc;if(0<Y&&(r(te,se-32,Fe[tt].y,0,16),r(oe,ce-32,Fe[tt].f,0,8),r(Be,Le-32,Fe[tt].ea,0,8)),Me.Za){var ke=te,Xe=se-32+16;for(0<Y&&(O>=f.za-1?i(ke,Xe,Fe[tt].y[15],4):r(ke,Xe,Fe[tt+1].y,0,4)),k=0;4>k;k++)ke[Xe+128+k]=ke[Xe+256+k]=ke[Xe+384+k]=ke[Xe+0+k];for(k=0;16>k;++k,Se<<=2)ke=te,Xe=se+Ab[k],Gi[Me.Ob[k]](ke,Xe),kd(Se,$e,16*+k,ke,Xe)}else if(ke=sf(O,Y,Me.Ob[0]),So[ke](te,se),Se!=0)for(k=0;16>k;++k,Se<<=2)kd(Se,$e,16*+k,te,se+Ab[k]);for(k=Me.Gc,ke=sf(O,Y,Me.Dd),Ha[ke](oe,ce),Ha[ke](Be,Le),Se=$e,ke=oe,Xe=ce,255&(Me=k>>0)&&(170&Me?_d(Se,256,ke,Xe):gi(Se,256,ke,Xe)),Me=Be,Se=Le,255&(k>>=8)&&(170&k?_d($e,320,Me,Se):gi($e,320,Me,Se)),Y<f.Ub-1&&(r(Fe[tt].y,0,te,se+480,16),r(Fe[tt].f,0,oe,ce+224,8),r(Fe[tt].ea,0,Be,Le+224,8)),k=8*ee*f.B,Fe=f.sa,tt=f.ta+16*O+16*ee*f.R,$e=f.qa,Me=f.ra+8*O+k,Se=f.Ha,ke=f.Ia+8*O+k,k=0;16>k;++k)r(Fe,tt+k*f.R,te,se+32*k,16);for(k=0;8>k;++k)r($e,Me+k*f.B,oe,ce+32*k,8),r(Se,ke+k*f.B,Be,Le+32*k,8)}}function BA(f,v,k,O,Y,ee,te,se,oe){var ce=[0],Be=[0],Le=0,Me=oe!=null?oe.kd:0,Fe=oe??new Cd;if(f==null||12>k)return 7;Fe.data=f,Fe.w=v,Fe.ha=k,v=[v],k=[k],Fe.gb=[Fe.gb];e:{var tt=v,$e=k,Se=Fe.gb;if(t(f!=null),t($e!=null),t(Se!=null),Se[0]=0,12<=$e[0]&&!n(f,tt[0],"RIFF")){if(n(f,tt[0]+8,"WEBP")){Se=3;break e}var ke=le(f,tt[0]+4);if(12>ke||4294967286<ke){Se=3;break e}if(Me&&ke>$e[0]-8){Se=7;break e}Se[0]=ke,tt[0]+=12,$e[0]-=12}Se=0}if(Se!=0)return Se;for(ke=0<Fe.gb[0],k=k[0];;){e:{var Xe=f;$e=v,Se=k;var st=ce,et=Be,Nt=tt=[0];if((Ct=Le=[Le])[0]=0,8>Se[0])Se=7;else{if(!n(Xe,$e[0],"VP8X")){if(le(Xe,$e[0]+4)!=10){Se=3;break e}if(18>Se[0]){Se=7;break e}var xt=le(Xe,$e[0]+8),Ot=1+ge(Xe,$e[0]+12);if(2147483648<=Ot*(Xe=1+ge(Xe,$e[0]+15))){Se=3;break e}Nt!=null&&(Nt[0]=xt),st!=null&&(st[0]=Ot),et!=null&&(et[0]=Xe),$e[0]+=18,Se[0]-=18,Ct[0]=1}Se=0}}if(Le=Le[0],tt=tt[0],Se!=0)return Se;if($e=!!(2&tt),!ke&&Le)return 3;if(ee!=null&&(ee[0]=!!(16&tt)),te!=null&&(te[0]=$e),se!=null&&(se[0]=0),te=ce[0],tt=Be[0],Le&&$e&&oe==null){Se=0;break}if(4>k){Se=7;break}if(ke&&Le||!ke&&!Le&&!n(f,v[0],"ALPH")){k=[k],Fe.na=[Fe.na],Fe.P=[Fe.P],Fe.Sa=[Fe.Sa];e:{xt=f,Se=v,ke=k;var Ct=Fe.gb;st=Fe.na,et=Fe.P,Nt=Fe.Sa,Ot=22,t(xt!=null),t(ke!=null),Xe=Se[0];var Tn=ke[0];for(t(st!=null),t(Nt!=null),st[0]=null,et[0]=null,Nt[0]=0;;){if(Se[0]=Xe,ke[0]=Tn,8>Tn){Se=7;break e}var Qn=le(xt,Xe+4);if(4294967286<Qn){Se=3;break e}var jn=8+Qn+1&-2;if(Ot+=jn,0<Ct&&Ot>Ct){Se=3;break e}if(!n(xt,Xe,"VP8 ")||!n(xt,Xe,"VP8L")){Se=0;break e}if(Tn[0]<jn){Se=7;break e}n(xt,Xe,"ALPH")||(st[0]=xt,et[0]=Xe+8,Nt[0]=Qn),Xe+=jn,Tn-=jn}}if(k=k[0],Fe.na=Fe.na[0],Fe.P=Fe.P[0],Fe.Sa=Fe.Sa[0],Se!=0)break}k=[k],Fe.Ja=[Fe.Ja],Fe.xa=[Fe.xa];e:if(Ct=f,Se=v,ke=k,st=Fe.gb[0],et=Fe.Ja,Nt=Fe.xa,xt=Se[0],Xe=!n(Ct,xt,"VP8 "),Ot=!n(Ct,xt,"VP8L"),t(Ct!=null),t(ke!=null),t(et!=null),t(Nt!=null),8>ke[0])Se=7;else{if(Xe||Ot){if(Ct=le(Ct,xt+4),12<=st&&Ct>st-12){Se=3;break e}if(Me&&Ct>ke[0]-8){Se=7;break e}et[0]=Ct,Se[0]+=8,ke[0]-=8,Nt[0]=Ot}else Nt[0]=5<=ke[0]&&Ct[xt+0]==47&&!(Ct[xt+4]>>5),et[0]=ke[0];Se=0}if(k=k[0],Fe.Ja=Fe.Ja[0],Fe.xa=Fe.xa[0],v=v[0],Se!=0)break;if(4294967286<Fe.Ja)return 3;if(se==null||$e||(se[0]=Fe.xa?2:1),te=[te],tt=[tt],Fe.xa){if(5>k){Se=7;break}se=te,Me=tt,$e=ee,f==null||5>k?f=0:5<=k&&f[v+0]==47&&!(f[v+4]>>5)?(ke=[0],Ct=[0],st=[0],K(et=new H,f,v,k),St(et,ke,Ct,st)?(se!=null&&(se[0]=ke[0]),Me!=null&&(Me[0]=Ct[0]),$e!=null&&($e[0]=st[0]),f=1):f=0):f=0}else{if(10>k){Se=7;break}se=tt,f==null||10>k||!Oh(f,v+3,k-3)?f=0:(Me=f[v+0]|f[v+1]<<8|f[v+2]<<16,$e=16383&(f[v+7]<<8|f[v+6]),f=16383&(f[v+9]<<8|f[v+8]),1&Me||3<(Me>>1&7)||!(Me>>4&1)||Me>>5>=Fe.Ja||!$e||!f?f=0:(te&&(te[0]=$e),se&&(se[0]=f),f=1))}if(!f||(te=te[0],tt=tt[0],Le&&(ce[0]!=te||Be[0]!=tt)))return 3;oe!=null&&(oe[0]=Fe,oe.offset=v-oe.w,t(4294967286>v-oe.w),t(oe.offset==oe.ha-k));break}return Se==0||Se==7&&Le&&oe==null?(ee!=null&&(ee[0]|=Fe.na!=null&&0<Fe.na.length),O!=null&&(O[0]=te),Y!=null&&(Y[0]=tt),0):Se}function Id(f,v,k){var O=v.width,Y=v.height,ee=0,te=0,se=O,oe=Y;if(v.Da=f!=null&&0<f.Da,v.Da&&(se=f.cd,oe=f.bd,ee=f.v,te=f.j,11>k||(ee&=-2,te&=-2),0>ee||0>te||0>=se||0>=oe||ee+se>O||te+oe>Y))return 0;if(v.v=ee,v.j=te,v.va=ee+se,v.o=te+oe,v.U=se,v.T=oe,v.da=f!=null&&0<f.da,v.da){if(!He(se,oe,k=[f.ib],ee=[f.hb]))return 0;v.ib=k[0],v.hb=ee[0]}return v.ob=f!=null&&f.ob,v.Kb=f==null||!f.Sd,v.da&&(v.ob=v.ib<3*O/4&&v.hb<3*Y/4,v.Kb=0),1}function Fd(f){if(f==null)return 2;if(11>f.S){var v=f.f.RGBA;v.fb+=(f.height-1)*v.A,v.A=-v.A}else v=f.f.kb,f=f.height,v.O+=(f-1)*v.fa,v.fa=-v.fa,v.N+=(f-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(f-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(f-1)*v.lb,v.lb=-v.lb);return 0}function SA(f,v,k,O){if(O==null||0>=f||0>=v)return 2;if(k!=null){if(k.Da){var Y=k.cd,ee=k.bd,te=-2&k.v,se=-2&k.j;if(0>te||0>se||0>=Y||0>=ee||te+Y>f||se+ee>v)return 2;f=Y,v=ee}if(k.da){if(!He(f,v,Y=[k.ib],ee=[k.hb]))return 2;f=Y[0],v=ee[0]}}O.width=f,O.height=v;e:{var oe=O.width,ce=O.height;if(f=O.S,0>=oe||0>=ce||!(f>=uf&&13>f))f=2;else{if(0>=O.Rd&&O.sd==null){te=ee=Y=v=0;var Be=(se=oe*cb[f])*ce;if(11>f||(ee=(ce+1)/2*(v=(oe+1)/2),f==12&&(te=(Y=oe)*ce)),(ce=a(Be+2*ee+te))==null){f=1;break e}O.sd=ce,11>f?((oe=O.f.RGBA).eb=ce,oe.fb=0,oe.A=se,oe.size=Be):((oe=O.f.kb).y=ce,oe.O=0,oe.fa=se,oe.Fd=Be,oe.f=ce,oe.N=0+Be,oe.Ab=v,oe.Cd=ee,oe.ea=ce,oe.W=0+Be+ee,oe.Db=v,oe.Ed=ee,f==12&&(oe.F=ce,oe.J=0+Be+2*ee),oe.Tc=te,oe.lb=Y)}if(v=1,Y=O.S,ee=O.width,te=O.height,Y>=uf&&13>Y)if(11>Y)f=O.f.RGBA,v&=(se=Math.abs(f.A))*(te-1)+ee<=f.size,v&=se>=ee*cb[Y],v&=f.eb!=null;else{f=O.f.kb,se=(ee+1)/2,Be=(te+1)/2,oe=Math.abs(f.fa),ce=Math.abs(f.Ab);var Le=Math.abs(f.Db),Me=Math.abs(f.lb),Fe=Me*(te-1)+ee;v&=oe*(te-1)+ee<=f.Fd,v&=ce*(Be-1)+se<=f.Cd,v=(v&=Le*(Be-1)+se<=f.Ed)&oe>=ee&ce>=se&Le>=se,v&=f.y!=null,v&=f.f!=null,v&=f.ea!=null,Y==12&&(v&=Me>=ee,v&=Fe<=f.Tc,v&=f.F!=null)}else v=0;f=v?0:2}}return f!=0||k!=null&&k.fd&&(f=Fd(O)),f}var os=64,jA=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],kA=24,EA=32,Nd=8,Hs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ie("Predictor0","PredictorAdd0"),F.Predictor0=function(){return 4278190080},F.Predictor1=function(f){return f},F.Predictor2=function(f,v,k){return v[k+0]},F.Predictor3=function(f,v,k){return v[k+1]},F.Predictor4=function(f,v,k){return v[k-1]},F.Predictor5=function(f,v,k){return Oe(Oe(f,v[k+1]),v[k+0])},F.Predictor6=function(f,v,k){return Oe(f,v[k-1])},F.Predictor7=function(f,v,k){return Oe(f,v[k+0])},F.Predictor8=function(f,v,k){return Oe(v[k-1],v[k+0])},F.Predictor9=function(f,v,k){return Oe(v[k+0],v[k+1])},F.Predictor10=function(f,v,k){return Oe(Oe(f,v[k-1]),Oe(v[k+0],v[k+1]))},F.Predictor11=function(f,v,k){var O=v[k+0];return 0>=ht(O>>24&255,f>>24&255,(v=v[k-1])>>24&255)+ht(O>>16&255,f>>16&255,v>>16&255)+ht(O>>8&255,f>>8&255,v>>8&255)+ht(255&O,255&f,255&v)?O:f},F.Predictor12=function(f,v,k){var O=v[k+0];return(qe((f>>24&255)+(O>>24&255)-((v=v[k-1])>>24&255))<<24|qe((f>>16&255)+(O>>16&255)-(v>>16&255))<<16|qe((f>>8&255)+(O>>8&255)-(v>>8&255))<<8|qe((255&f)+(255&O)-(255&v)))>>>0},F.Predictor13=function(f,v,k){var O=v[k-1];return(nt((f=Oe(f,v[k+0]))>>24&255,O>>24&255)<<24|nt(f>>16&255,O>>16&255)<<16|nt(f>>8&255,O>>8&255)<<8|nt(f>>0&255,O>>0&255))>>>0};var v0=F.PredictorAdd0;F.PredictorAdd1=rt,Ie("Predictor2","PredictorAdd2"),Ie("Predictor3","PredictorAdd3"),Ie("Predictor4","PredictorAdd4"),Ie("Predictor5","PredictorAdd5"),Ie("Predictor6","PredictorAdd6"),Ie("Predictor7","PredictorAdd7"),Ie("Predictor8","PredictorAdd8"),Ie("Predictor9","PredictorAdd9"),Ie("Predictor10","PredictorAdd10"),Ie("Predictor11","PredictorAdd11"),Ie("Predictor12","PredictorAdd12"),Ie("Predictor13","PredictorAdd13");var Td=F.PredictorAdd2;jt("ColorIndexInverseTransform","MapARGB","32b",function(f){return f>>8&255},function(f){return f}),jt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(f){return f},function(f){return f>>8&255});var af,pi=F.ColorIndexInverseTransform,IA=F.MapARGB,of=F.VP8LColorIndexInverseTransformAlpha,lf=F.MapAlpha,bo=F.VP8LPredictorsAdd=[];bo.length=16,(F.VP8LPredictors=[]).length=16,(F.VP8LPredictorsAdd_C=[]).length=16,(F.VP8LPredictors_C=[]).length=16;var yl,Os,Is,wo,Ma,Pa,FA,Qa,Br,_d,Fs,gi,NA,Af,Dd,xl,bl,Co,wl,TA,Cl,Bo,Ud,mi,vi,Yn,Xn,Sr,Or=a(511),Ra=a(2041),Ld=a(225),_A=a(767),cf=0,y0=Ra,df=Ld,ei=_A,yi=Or,uf=0,hf=1,Zx=2,ff=3,pf=4,x0=5,eb=6,b0=7,w0=8,gf=9,C0=10,Gk=[2,3,7],qk=[3,3,11],tb=[280,256,256,256,40],Yk=[0,1,1,1,0],Xk=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Jk=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Zk=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],eE=8,B0=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],S0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Md=null,tE=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],nE=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],nb=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],rE=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],sE=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],iE=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],aE=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],So=[],Gi=[],Ha=[],oE=1,rb=2,jo=[],xi=[];Ke("UpsampleRgbLinePair",wn,3),Ke("UpsampleBgrLinePair",hr,3),Ke("UpsampleRgbaLinePair",Vi,4),Ke("UpsampleBgraLinePair",Gr,4),Ke("UpsampleArgbLinePair",ps,4),Ke("UpsampleRgba4444LinePair",Ur,2),Ke("UpsampleRgb565LinePair",pr,2);var lE=F.UpsampleRgbLinePair,AE=F.UpsampleBgrLinePair,sb=F.UpsampleRgbaLinePair,ib=F.UpsampleBgraLinePair,ab=F.UpsampleArgbLinePair,ob=F.UpsampleRgba4444LinePair,cE=F.UpsampleRgb565LinePair,mf=16,vf=1<<mf-1,Pd=-227,j0=482,dE=6,lb=0,uE=a(256),hE=a(256),fE=a(256),pE=a(256),gE=a(j0-Pd),mE=a(j0-Pd);la("YuvToRgbRow",wn,3),la("YuvToBgrRow",hr,3),la("YuvToRgbaRow",Vi,4),la("YuvToBgraRow",Gr,4),la("YuvToArgbRow",ps,4),la("YuvToRgba4444Row",Ur,2),la("YuvToRgb565Row",pr,2);var Ab=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],yf=[0,2,8],vE=[8,7,6,4,4,2,2,2,1,1,1,1],yE=1;this.WebPDecodeRGBA=function(f,v,k,O,Y){var ee=hf,te=new wA,se=new dt;te.ba=se,se.S=ee,se.width=[se.width],se.height=[se.height];var oe=se.width,ce=se.height,Be=new lt;if(Be==null||f==null)var Le=2;else t(Be!=null),Le=BA(f,v,k,Be.width,Be.height,Be.Pd,Be.Qd,Be.format,null);if(Le!=0?oe=0:(oe!=null&&(oe[0]=Be.width[0]),ce!=null&&(ce[0]=Be.height[0]),oe=1),oe){se.width=se.width[0],se.height=se.height[0],O!=null&&(O[0]=se.width),Y!=null&&(Y[0]=se.height);e:{if(O=new pA,(Y=new Cd).data=f,Y.w=v,Y.ha=k,Y.kd=1,v=[0],t(Y!=null),((f=BA(Y.data,Y.w,Y.ha,null,null,null,v,null,Y))==0||f==7)&&v[0]&&(f=4),(v=f)==0){if(t(te!=null),O.data=Y.data,O.w=Y.w+Y.offset,O.ha=Y.ha-Y.offset,O.put=Gt,O.ac=ct,O.bc=Ht,O.ma=te,Y.xa){if((f=Sn())==null){te=1;break e}if(function(Me,Fe){var tt=[0],$e=[0],Se=[0];t:for(;;){if(Me==null)return 0;if(Fe==null)return Me.a=2,0;if(Me.l=Fe,Me.a=0,K(Me.m,Fe.data,Fe.w,Fe.ha),!St(Me.m,tt,$e,Se)){Me.a=3;break t}if(Me.xb=rb,Fe.width=tt[0],Fe.height=$e[0],!Yt(tt[0],$e[0],1,Me,null))break t;return 1}return t(Me.a!=0),0}(f,O)){if(O=(v=SA(O.width,O.height,te.Oa,te.ba))==0){t:{O=f;n:for(;;){if(O==null){O=0;break t}if(t(O.s.yc!=null),t(O.s.Ya!=null),t(0<O.s.Wb),t((k=O.l)!=null),t((Y=k.ma)!=null),O.xb!=0){if(O.ca=Y.ba,O.tb=Y.tb,t(O.ca!=null),!Id(Y.Oa,k,ff)){O.a=2;break n}if(!Kr(O,k.width)||k.da)break n;if((k.da||Ee(O.ca.S))&&_e(),11>O.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),O.ca.f.kb.F!=null&&_e()),O.Pb&&0<O.s.ua&&O.s.vb.X==null&&!be(O.s.vb,O.s.Wa.Xa)){O.a=1;break n}O.xb=0}if(!tr(O,O.V,O.Ba,O.c,O.i,k.o,fi))break n;Y.Dc=O.Ma,O=1;break t}t(O.a!=0),O=0}O=!O}O&&(v=f.a)}else v=f.a}else{if((f=new Zm)==null){te=1;break e}if(f.Fa=Y.na,f.P=Y.P,f.qc=Y.Sa,$h(f,O)){if((v=SA(O.width,O.height,te.Oa,te.ba))==0){if(f.Aa=0,k=te.Oa,t((Y=f)!=null),k!=null){if(0<(oe=0>(oe=k.Md)?0:100<oe?255:255*oe/100)){for(ce=Be=0;4>ce;++ce)12>(Le=Y.pb[ce]).lc&&(Le.ia=oe*vE[0>Le.lc?0:Le.lc]>>3),Be|=Le.ia;Be&&(alert("todo:VP8InitRandom"),Y.ia=1)}Y.Ga=k.Id,100<Y.Ga?Y.Ga=100:0>Y.Ga&&(Y.Ga=0)}e0(f,O)||(v=f.a)}}else v=f.a}v==0&&te.Oa!=null&&te.Oa.fd&&(v=Fd(te.ba))}te=v}ee=te!=0?null:11>ee?se.f.RGBA.eb:se.f.kb.y}else ee=null;return ee};var cb=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(F,M){for(var P="",I=0;I<4;I++)P+=String.fromCharCode(F[M++]);return P}function d(F,M){return(F[M+0]<<0|F[M+1]<<8|F[M+2]<<16)>>>0}function u(F,M){return(F[M+0]<<0|F[M+1]<<8|F[M+2]<<16|F[M+3]<<24)>>>0}new A;var p=[0],h=[0],m=[],g=new A,y=e,x=function(F,M){var P={},I=0,j=!1,U=0,N=0;if(P.frames=[],!function(R,Q,$,V){for(var G=0;G<V;G++)if(R[Q+G]!=$.charCodeAt(G))return!0;return!1}(F,M,"RIFF",4)){for(u(F,M+=4),M+=8;M<F.length;){var z=c(F,M),L=u(F,M+=4);M+=4;var D=L+(1&L);switch(z){case"VP8 ":case"VP8L":P.frames[I]===void 0&&(P.frames[I]={}),(Z=P.frames[I]).src_off=j?N:M-8,Z.src_size=U+L+8,I++,j&&(j=!1,U=0,N=0);break;case"VP8X":(Z=P.header={}).feature_flags=F[M];var K=M+4;Z.canvas_width=1+d(F,K),K+=3,Z.canvas_height=1+d(F,K),K+=3;break;case"ALPH":j=!0,U=D+8,N=M-8;break;case"ANIM":(Z=P.header).bgcolor=u(F,M),K=M+4,Z.loop_count=(Ae=F)[(H=K)+0]<<0|Ae[H+1]<<8,K+=2;break;case"ANMF":var q,Z;(Z=P.frames[I]={}).offset_x=2*d(F,M),M+=3,Z.offset_y=2*d(F,M),M+=3,Z.width=1+d(F,M),M+=3,Z.height=1+d(F,M),M+=3,Z.duration=d(F,M),M+=3,q=F[M++],Z.dispose=1&q,Z.blend=q>>1&1}z!="ANMF"&&(M+=D)}var Ae,H;return P}}(y,0);x.response=y,x.rgbaoutput=!0,x.dataurl=!1;var C=x.header?x.header:null,S=x.frames?x.frames:null;if(C){C.loop_counter=C.loop_count,p=[C.canvas_height],h=[C.canvas_width];for(var w=0;w<S.length&&S[w].blend!=0;w++);}var _=S[0],E=g.WebPDecodeRGBA(y,_.src_off,_.src_size,h,p);_.rgba=E,_.imgwidth=h[0],_.imgheight=p[0];for(var T=0;T<h[0]*p[0]*4;T++)m[T]=E[T];return this.width=h,this.height=p,this.data=m,this}(function(e){var t=function(){return typeof M1=="function"},n=function(p,h,m,g){var y=4,x=o;switch(g){case e.image_compression.FAST:y=1,x=a;break;case e.image_compression.MEDIUM:y=6,x=l;break;case e.image_compression.SLOW:y=9,x=A}p=r(p,h,m,x);var C=M1(p,{level:y});return e.__addimage__.arrayBufferToBinaryString(C)},r=function(p,h,m,g){for(var y,x,C,S=p.length/h,w=new Uint8Array(p.length+S),_=d(),E=0;E<S;E+=1){if(C=E*h,y=p.subarray(C,C+h),g)w.set(g(y,m,x),C+E);else{for(var T,F=_.length,M=[];T<F;T+=1)M[T]=_[T](y,m,x);var P=u(M.concat());w.set(M[P],C+E)}x=y}return w},i=function(p){var h=Array.apply([],p);return h.unshift(0),h},a=function(p,h){var m,g=[],y=p.length;g[0]=1;for(var x=0;x<y;x+=1)m=p[x-h]||0,g[x+1]=p[x]-m+256&255;return g},o=function(p,h,m){var g,y=[],x=p.length;y[0]=2;for(var C=0;C<x;C+=1)g=m&&m[C]||0,y[C+1]=p[C]-g+256&255;return y},l=function(p,h,m){var g,y,x=[],C=p.length;x[0]=3;for(var S=0;S<C;S+=1)g=p[S-h]||0,y=m&&m[S]||0,x[S+1]=p[S]+256-(g+y>>>1)&255;return x},A=function(p,h,m){var g,y,x,C,S=[],w=p.length;S[0]=4;for(var _=0;_<w;_+=1)g=p[_-h]||0,y=m&&m[_]||0,x=m&&m[_-h]||0,C=c(g,y,x),S[_+1]=p[_]-C+256&255;return S},c=function(p,h,m){if(p===h&&h===m)return p;var g=Math.abs(h-m),y=Math.abs(p-m),x=Math.abs(p+h-m-m);return g<=y&&g<=x?p:y<=x?h:m},d=function(){return[i,a,o,l,A]},u=function(p){var h=p.map(function(m){return m.reduce(function(g,y){return g+Math.abs(y)},0)});return h.indexOf(Math.min.apply(null,h))};e.processPNG=function(p,h,m,g){var y,x,C,S,w,_,E,T,F,M,P,I,j,U,N,z=this.decode.FLATE_DECODE,L="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(C=new oz(p)).imgData,x=C.bits,y=C.colorSpace,w=C.colors,[4,6].indexOf(C.colorType)!==-1){if(C.bits===8){F=(T=C.pixelBitlength==32?new Uint32Array(C.decodePixels().buffer):C.pixelBitlength==16?new Uint16Array(C.decodePixels().buffer):new Uint8Array(C.decodePixels().buffer)).length,P=new Uint8Array(F*C.colors),M=new Uint8Array(F);var D,K=C.pixelBitlength-C.bits;for(U=0,N=0;U<F;U++){for(j=T[U],D=0;D<K;)P[N++]=j>>>D&255,D+=C.bits;M[U]=j>>>D&255}}if(C.bits===16){F=(T=new Uint32Array(C.decodePixels().buffer)).length,P=new Uint8Array(F*(32/C.pixelBitlength)*C.colors),M=new Uint8Array(F*(32/C.pixelBitlength)),I=C.colors>1,U=0,N=0;for(var q=0;U<F;)j=T[U++],P[N++]=j>>>0&255,I&&(P[N++]=j>>>16&255,j=T[U++],P[N++]=j>>>0&255),M[q++]=j>>>16&255;x=8}g!==e.image_compression.NONE&&t()?(p=n(P,C.width*C.colors,C.colors,g),E=n(M,C.width,1,g)):(p=P,E=M,z=void 0)}if(C.colorType===3&&(y=this.color_spaces.INDEXED,_=C.palette,C.transparency.indexed)){var Z=C.transparency.indexed,Ae=0;for(U=0,F=Z.length;U<F;++U)Ae+=Z[U];if((Ae/=255)===F-1&&Z.indexOf(0)!==-1)S=[Z.indexOf(0)];else if(Ae!==F){for(T=C.decodePixels(),M=new Uint8Array(T.length),U=0,F=T.length;U<F;U++)M[U]=Z[T[U]];E=n(M,C.width,1)}}var H=function(R){var Q;switch(R){case e.image_compression.FAST:Q=11;break;case e.image_compression.MEDIUM:Q=13;break;case e.image_compression.SLOW:Q=14;break;default:Q=12}return Q}(g);return z===this.decode.FLATE_DECODE&&(L="/Predictor "+H+" "),L+="/Colors "+w+" /BitsPerComponent "+x+" /Columns "+C.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),(E&&this.__addimage__.isArrayBuffer(E)||this.__addimage__.isArrayBufferView(E))&&(E=this.__addimage__.arrayBufferToBinaryString(E)),{alias:m,data:p,index:h,filter:z,decodeParameters:L,transparency:S,palette:_,sMask:E,predictor:H,width:C.width,height:C.height,bitsPerComponent:x,colorSpace:y}}}})(Wt.API),function(e){e.processGIF89A=function(t,n,r,i){var a=new lz(t),o=a.width,l=a.height,A=[];a.decodeAndBlitFrameRGBA(0,A);var c={data:A,width:o,height:l},d=new vv(100).encode(c,100);return e.processJPEG.call(this,d,n,r,i)},e.processGIF87A=e.processGIF89A}(Wt.API),Xi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Xi.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){Gn.log("bit decode error:"+n)}},Xi.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var A=this.palette[a>>7-l&1];this.data[o+4*l]=A.blue,this.data[o+4*l+1]=A.green,this.data[o+4*l+2]=A.red,this.data[o+4*l+3]=255}n!==0&&(this.pos+=4-n)}},Xi.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,l=a>>4,A=15&a,c=this.palette[l];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*i+1>=this.width)break;c=this.palette[A],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Xi.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},Xi.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,l=(a>>5&t)/t*255|0,A=(a>>10&t)/t*255|0,c=a>>15?255:0,d=r*this.width*4+4*i;this.data[d]=A,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=c}this.pos+=e}},Xi.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,A=(o>>5&n)/n*255|0,c=(o>>11)/t*255|0,d=i*this.width*4+4*a;this.data[d]=c,this.data[d+1]=A,this.data[d+2]=l,this.data[d+3]=255}this.pos+=e}},Xi.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Xi.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*n;this.data[l]=a,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=o}},Xi.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,i){var a=new Xi(t,!1),o=a.width,l=a.height,A={data:a.getData(),width:o,height:l},c=new vv(100).encode(A,100);return e.processJPEG.call(this,c,n,r,i)}}(Wt.API),FC.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,i){var a=new FC(t),o=a.width,l=a.height,A={data:a.getData(),width:o,height:l},c=new vv(100).encode(A,100);return e.processJPEG.call(this,c,n,r,i)}}(Wt.API),Wt.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),l=0,A=0,c=0;c<i;c+=4){var d=r[c],u=r[c+1],p=r[c+2],h=r[c+3];a[l++]=d,a[l++]=u,a[l++]=p,o[A++]=h}var m=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:m,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Wt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},VA=Wt.API,Wf=VA.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:i.metadata.Unicode.widths,A=l.fof?l.fof:1,c=t.kerning?t.kerning:i.metadata.Unicode.kerning,d=c.fof?c.fof:1,u=t.doKerning!==!1,p=0,h=e.length,m=0,g=l[0]||A,y=[];for(n=0;n<h;n++)r=e.charCodeAt(n),typeof i.metadata.widthOfString=="function"?y.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/a)||0)/1e3):(p=u&&pn(c[r])==="object"&&!isNaN(parseInt(c[r][m],10))?c[r][m]/d:0,y.push((l[r]||g)/A+p)),m=r;return y},jC=VA.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return VA.processArabic&&(e=VA.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,i)/n:Wf.apply(this,arguments).reduce(function(a,o){return a+o},0)},kC=function(e,t,n,r){for(var i=[],a=0,o=e.length,l=0;a!==o&&l+t[a]<n;)l+=t[a],a++;i.push(e.slice(0,a));var A=a;for(l=0;a!==o;)l+t[a]>r&&(i.push(e.slice(A,a)),l=0,A=a),l+=t[a],a++;return A!==a&&i.push(e.slice(A,a)),i},EC=function(e,t,n){n||(n={});var r,i,a,o,l,A,c,d=[],u=[d],p=n.textIndent||0,h=0,m=0,g=e.split(" "),y=Wf.apply(this,[" ",n])[0];if(A=n.lineIndent===-1?g[0].length+2:n.lineIndent||0){var x=Array(A).join(" "),C=[];g.map(function(w){(w=w.split(/\s*\n/)).length>1?C=C.concat(w.map(function(_,E){return(E&&_.length?`
`:"")+_})):C.push(w[0])}),g=C,A=jC.apply(this,[x,n])}for(a=0,o=g.length;a<o;a++){var S=0;if(r=g[a],A&&r[0]==`
`&&(r=r.substr(1),S=1),p+h+(m=(i=Wf.apply(this,[r,n])).reduce(function(w,_){return w+_},0))>t||S){if(m>t){for(l=kC.apply(this,[r,i,t-(p+h),t]),d.push(l.shift()),d=[l.pop()];l.length;)u.push([l.shift()]);m=i.slice(r.length-(d[0]?d[0].length:0)).reduce(function(w,_){return w+_},0)}else d=[r];u.push(d),p=m+A,h=y}else d.push(r),p+=h+m,h=y}return c=A?function(w,_){return(_?x:"")+w.join(" ")}:function(w){return w.join(" ")},u.map(c)},VA.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var u=this.internal.getFont(d.fontName,d.fontStyle);return u.metadata.Unicode?{widths:u.metadata.Unicode.widths||{0:1},kerning:u.metadata.Unicode.kerning||{}}:{font:u.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=n.lineIndent;var l,A,c=[];for(l=0,A=r.length;l<A;l++)c=c.concat(EC.apply(this,[r[l],o,a]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},i=0;i<t.length;i++)n[t[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=t[i];var a=function(u){return"0x"+parseInt(u,10).toString(16)},o=e.__fontmetrics__.compress=function(u){var p,h,m,g,y=["{"];for(var x in u){if(p=u[x],isNaN(parseInt(x,10))?h="'"+x+"'":(x=parseInt(x,10),h=(h=a(x).slice(2)).slice(0,-1)+r[h.slice(-1)]),typeof p=="number")p<0?(m=a(p).slice(3),g="-"):(m=a(p).slice(2),g=""),m=g+m.slice(0,-1)+r[m.slice(-1)];else{if(pn(p)!=="object")throw new Error("Don't know what to do with value type "+pn(p)+".");m=o(p)}y.push(h+m)}return y.push("}"),y.join("")},l=e.__fontmetrics__.uncompress=function(u){if(typeof u!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,h,m,g,y={},x=1,C=y,S=[],w="",_="",E=u.length-1,T=1;T<E;T+=1)(g=u[T])=="'"?p?(m=p.join(""),p=void 0):p=[]:p?p.push(g):g=="{"?(S.push([C,m]),C={},m=void 0):g=="}"?((h=S.pop())[0][h[1]]=C,m=void 0,C=h[0]):g=="-"?x=-1:m===void 0?n.hasOwnProperty(g)?(w+=n[g],m=parseInt(w,16)*x,x=1,w=""):w+=g:n.hasOwnProperty(g)?(_+=n[g],C[m]=parseInt(_,16)*x,x=1,m=void 0,_=""):_+=g;return y},A={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:A,"Courier-Bold":A,"Courier-BoldOblique":A,"Courier-Oblique":A,Helvetica:A,"Helvetica-Bold":A,"Helvetica-BoldOblique":A,"Helvetica-Oblique":A,"Times-Roman":A,"Times-Bold":A,"Times-BoldItalic":A,"Times-Italic":A}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(u){var p=u.font,h=d.Unicode[p.postScriptName];h&&(p.metadata.Unicode={},p.metadata.Unicode.widths=h.widths,p.metadata.Unicode.kerning=h.kerning);var m=c.Unicode[p.postScriptName];m&&(p.metadata.Unicode.encoding=m,p.encoding=m.codePages[0])}])}(Wt.API),function(e){var t=function(n){for(var r=n.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=n.charCodeAt(a);return i};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,a=n.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(Lu(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(Wt),function(e){function t(){return(Kt.canvg?Promise.resolve(Kt.canvg):ah(()=>import("./index.es-CFUTa8zD.js"),__vite__mapDeps([0,1,2]))).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}Wt.API.addSvgAsImage=function(n,r,i,a,o,l,A,c){if(isNaN(r)||isNaN(i))throw Gn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(o))throw Gn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=a,d.height=o;var u=d.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,d.width,d.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return t().then(function(m){return m.fromString(u,n,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(p)}).then(function(){h.addImage(d.toDataURL("image/jpeg",1),r,i,a,o,A,c)})}}(),Wt.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},Wt.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),A=[],c=0,d=0,u=0;function p(m,g){var y,x=!1;for(y=0;y<m.length;y+=1)m[y]===g&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var h=l.length;for(u=0;u<h;u+=1)n[l[u]].value=n[l[u]].defaultValue,n[l[u]].explicitSet=!1}if(pn(e)==="object"){for(i in e)if(a=e[i],p(l,i)&&a!==void 0){if(n[i].type==="boolean"&&typeof a=="boolean")n[i].value=a;else if(n[i].type==="name"&&p(n[i].valueSet,a))n[i].value=a;else if(n[i].type==="integer"&&Number.isInteger(a))n[i].value=a;else if(n[i].type==="array"){for(c=0;c<a.length;c+=1)if(r=!0,a[c].length===1&&typeof a[c][0]=="number")A.push(String(a[c]-1));else if(a[c].length>1){for(d=0;d<a[c].length;d+=1)typeof a[c][d]!="number"&&(r=!1);r===!0&&A.push([a[c][0]-1,a[c][1]-1].join(" "))}n[i].value="["+A.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var m,g=[];for(m in n)n[m].explicitSet===!0&&(n[m].type==="name"?g.push("/"+m+" /"+n[m].value):g.push("/"+m+" "+n[m].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),A=unescape(encodeURIComponent("</x:xmpmeta>")),c=a.length+o.length+l.length+i.length+A.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+a+o+l+A),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(Wt.API),function(e){var t=e.API,n=t.pdfEscape16=function(a,o){for(var l,A=o.metadata.Unicode.widths,c=["","0","00","000","0000"],d=[""],u=0,p=a.length;u<p;++u){if(l=o.metadata.characterToGlyph(a.charCodeAt(u)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=a.charCodeAt(u),A.indexOf(l)==-1&&(A.push(l),A.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(c[4-l.length],l)}return d.join("")},r=function(a){var o,l,A,c,d,u,p;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,A=[],u=0,p=(l=Object.keys(a).sort(function(h,m){return h-m})).length;u<p;u++)o=l[u],A.length>=100&&(d+=`
`+A.length+` beginbfchar
`+A.join(`
`)+`
endbfchar`,A=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(c=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),A.push("<"+o+"><"+c+">"));return A.length&&(d+=`
`+A.length+` beginbfchar
`+A.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(o){var l=o.font,A=o.out,c=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var u=l.metadata.Unicode.widths,p=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),h="",m=0;m<p.length;m++)h+=String.fromCharCode(p[m]);var g=c();d({data:h,addLength1:!0,objectId:g}),A("endobj");var y=c();d({data:r(l.metadata.toUnicode),addLength1:!0,objectId:y}),A("endobj");var x=c();A("<<"),A("/Type /FontDescriptor"),A("/FontName /"+ac(l.fontName)),A("/FontFile2 "+g+" 0 R"),A("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),A("/Flags "+l.metadata.flags),A("/StemV "+l.metadata.stemV),A("/ItalicAngle "+l.metadata.italicAngle),A("/Ascent "+l.metadata.ascender),A("/Descent "+l.metadata.decender),A("/CapHeight "+l.metadata.capHeight),A(">>"),A("endobj");var C=c();A("<<"),A("/Type /Font"),A("/BaseFont /"+ac(l.fontName)),A("/FontDescriptor "+x+" 0 R"),A("/W "+e.API.PDFObject.convert(u)),A("/CIDToGIDMap /Identity"),A("/DW 1000"),A("/Subtype /CIDFontType2"),A("/CIDSystemInfo"),A("<<"),A("/Supplement 0"),A("/Registry (Adobe)"),A("/Ordering ("+l.encoding+")"),A(">>"),A(">>"),A("endobj"),l.objectNumber=c(),A("<<"),A("/Type /Font"),A("/Subtype /Type0"),A("/ToUnicode "+y+" 0 R"),A("/BaseFont /"+ac(l.fontName)),A("/Encoding /"+l.encoding),A("/DescendantFonts ["+C+" 0 R]"),A(">>"),A("endobj"),l.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(o){var l=o.font,A=o.out,c=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var u=l.metadata.rawData,p="",h=0;h<u.length;h++)p+=String.fromCharCode(u[h]);var m=c();d({data:p,addLength1:!0,objectId:m}),A("endobj");var g=c();d({data:r(l.metadata.toUnicode),addLength1:!0,objectId:g}),A("endobj");var y=c();A("<<"),A("/Descent "+l.metadata.decender),A("/CapHeight "+l.metadata.capHeight),A("/StemV "+l.metadata.stemV),A("/Type /FontDescriptor"),A("/FontFile2 "+m+" 0 R"),A("/Flags 96"),A("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),A("/FontName /"+ac(l.fontName)),A("/ItalicAngle "+l.metadata.italicAngle),A("/Ascent "+l.metadata.ascender),A(">>"),A("endobj"),l.objectNumber=c();for(var x=0;x<l.metadata.hmtx.widths.length;x++)l.metadata.hmtx.widths[x]=parseInt(l.metadata.hmtx.widths[x]*(1e3/l.metadata.head.unitsPerEm));A("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+ac(l.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),A("endobj"),l.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,l=a.text||"",A=a.x,c=a.y,d=a.options||{},u=a.mutex||{},p=u.pdfEscape,h=u.activeFontKey,m=u.fonts,g=h,y="",x=0,C="",S=m[g].encoding;if(m[g].encoding!=="Identity-H")return{text:l,x:A,y:c,options:d,mutex:u};for(C=l,g=h,Array.isArray(l)&&(C=l[0]),x=0;x<C.length;x+=1)m[g].metadata.hasOwnProperty("cmap")&&(o=m[g].metadata.cmap.unicode.codeMap[C[x].charCodeAt(0)]),o||C[x].charCodeAt(0)<256&&m[g].metadata.hasOwnProperty("Unicode")?y+=C[x]:y+="";var w="";return parseInt(g.slice(1))<14||S==="WinAnsiEncoding"?w=p(y,g).split("").map(function(_){return _.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(w=n(y,m[g])),u.isHex=!0,{text:w,x:A,y:c,options:d,mutex:u}};t.events.push(["postProcessText",function(a){var o=a.text||"",l=[],A={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?l.push([i(Object.assign({},A,{text:o[c][0]})).text,o[c][1],o[c][2]]):l.push(i(Object.assign({},A,{text:o[c]})).text);a.text=l}else a.text=i(Object.assign({},A,{text:o})).text}])}(Wt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Wt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,a,o,l,A,c,d,u=t,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),C=!1,S=0;this.__bidiEngine__={};var w=function(I){var j=I.charCodeAt(),U=j>>8,N=g[U];return N!==void 0?u[256*N+(255&j)]:U===252||U===253?"AL":x.test(U)?"L":U===8?"R":"N"},_=function(I){for(var j,U=0;U<I.length;U++){if((j=w(I.charAt(U)))==="L")return!1;if(j==="R")return!0}return!1},E=function(I,j,U,N){var z,L,D,K,q=j[N];switch(q){case"L":case"R":C=!1;break;case"N":case"AN":break;case"EN":C&&(q="AN");break;case"AL":C=!0,q="R";break;case"WS":q="N";break;case"CS":N<1||N+1>=j.length||(z=U[N-1])!=="EN"&&z!=="AN"||(L=j[N+1])!=="EN"&&L!=="AN"?q="N":C&&(L="AN"),q=L===z?L:"N";break;case"ES":q=(z=N>0?U[N-1]:"B")==="EN"&&N+1<j.length&&j[N+1]==="EN"?"EN":"N";break;case"ET":if(N>0&&U[N-1]==="EN"){q="EN";break}if(C){q="N";break}for(D=N+1,K=j.length;D<K&&j[D]==="ET";)D++;q=D<K&&j[D]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(K=j.length,D=N+1;D<K&&j[D]==="NSM";)D++;if(D<K){var Z=I[N],Ae=Z>=1425&&Z<=2303||Z===64286;if(z=j[D],Ae&&(z==="R"||z==="AL")){q="R";break}}}q=N<1||(z=j[N-1])==="B"?"N":U[N-1];break;case"B":C=!1,i=!0,q=S;break;case"S":a=!0,q="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":C=!1;break;case"BN":q="N"}return q},T=function(I,j,U){var N=I.split("");return U&&F(N,U,{hiLevel:S}),N.reverse(),j&&j.reverse(),N.join("")},F=function(I,j,U){var N,z,L,D,K,q=-1,Z=I.length,Ae=0,H=[],R=S?h:p,Q=[];for(C=!1,i=!1,a=!1,z=0;z<Z;z++)Q[z]=w(I[z]);for(L=0;L<Z;L++){if(K=Ae,H[L]=E(I,Q,H,L),N=240&(Ae=R[K][m[H[L]]]),Ae&=15,j[L]=D=R[Ae][5],N>0)if(N===16){for(z=q;z<L;z++)j[z]=1;q=-1}else q=-1;if(R[Ae][6])q===-1&&(q=L);else if(q>-1){for(z=q;z<L;z++)j[z]=D;q=-1}Q[L]==="B"&&(j[L]=0),U.hiLevel|=D}a&&function($,V,G){for(var ie=0;ie<G;ie++)if($[ie]==="S"){V[ie]=S;for(var ne=ie-1;ne>=0&&$[ne]==="WS";ne--)V[ne]=S}}(Q,j,Z)},M=function(I,j,U,N,z){if(!(z.hiLevel<I)){if(I===1&&S===1&&!i)return j.reverse(),void(U&&U.reverse());for(var L,D,K,q,Z=j.length,Ae=0;Ae<Z;){if(N[Ae]>=I){for(K=Ae+1;K<Z&&N[K]>=I;)K++;for(q=Ae,D=K-1;q<D;q++,D--)L=j[q],j[q]=j[D],j[D]=L,U&&(L=U[q],U[q]=U[D],U[D]=L);Ae=K}Ae++}}},P=function(I,j,U){var N=I.split(""),z={hiLevel:S};return U||(U=[]),F(N,U,z),function(L,D,K){if(K.hiLevel!==0&&d)for(var q,Z=0;Z<L.length;Z++)D[Z]===1&&(q=y.indexOf(L[Z]))>=0&&(L[Z]=y[q+1])}(N,U,z),M(2,N,j,U,z),M(1,N,j,U,z),N.join("")};return this.__bidiEngine__.doBidiReorder=function(I,j,U){if(function(z,L){if(L)for(var D=0;D<z.length;D++)L[D]=D;l===void 0&&(l=_(z)),c===void 0&&(c=_(z))}(I,j),o||!A||c)if(o&&A&&l^c)S=l?1:0,I=T(I,j,U);else if(!o&&A&&c)S=l?1:0,I=P(I,j,U),I=T(I,j);else if(!o||l||A||c){if(o&&!A&&l^c)I=T(I,j),l?(S=0,I=P(I,j,U)):(S=1,I=P(I,j,U),I=T(I,j));else if(o&&l&&!A&&c)S=1,I=P(I,j,U),I=T(I,j);else if(!o&&!A&&l^c){var N=d;l?(S=1,I=P(I,j,U),S=0,d=!1,I=P(I,j,U),d=N):(S=0,I=P(I,j,U),I=T(I,j),S=1,d=!1,I=P(I,j,U),d=N,I=T(I,j))}}else S=0,I=P(I,j,U);else S=l?1:0,I=P(I,j,U);return I},this.__bidiEngine__.setOptions=function(I){I&&(o=I.isInputVisual,A=I.isOutputVisual,l=I.isInputRtl,c=I.isOutputRtl,d=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var a=r.options||{};r.mutex,a.lang;var o=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(o=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?o.push([n.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):o.push([n.doBidiReorder(i[l])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(Wt),Wt.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new ol(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Cz(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Az(this.contents),this.head=new dz(this),this.name=new gz(this),this.cmap=new t3(this),this.toUnicode={},this.hhea=new uz(this),this.maxp=new mz(this),this.hmtx=new vz(this),this.post=new fz(this),this.os2=new hz(this),this.loca=new wz(this),this.glyf=new yz(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,A,c;for(c=[],o=0,l=(A=this.bbox).length;o<l;o++)t=A[o],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var i,a,o,l;for(o=0,a=0,l=(t=""+t).length;0<=l?a<l:a>l;a=0<=l?++a:--a)i=t.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var sa,ol=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,i;for(i=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(t.charCodeAt(n)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,i,a,o,l,A;return t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),A=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^l)+(255^A)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*i+16777216*a+65536*o+256*l+A},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,i,a;for(a=[],r=0,i=t.length;r<i;r++)n=t[r],a.push(this.writeByte(n));return a},e}(),Az=function(){var e;function t(n){var r,i,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,i,a,o,l,A,c,d,u,p,h,m,g;for(g in h=Object.keys(n).length,A=Math.log(2),u=16*Math.floor(Math.log(h)/A),o=Math.floor(u/A),d=16*h-u,(i=new ol).writeInt(this.scalarType),i.writeShort(h),i.writeShort(u),i.writeShort(o),i.writeShort(d),a=16*h,c=i.pos+a,l=null,m=[],n)for(p=n[g],i.writeString(g),i.writeInt(e(p)),i.writeInt(c),i.writeInt(p.length),m=m.concat(p),g==="head"&&(l=c),c+=p.length;c%4;)m.push(0),c++;return i.write(m),r=2981146554-e(i.data),i.pos=l+8,i.writeUInt32(r),i.data},e=function(n){var r,i,a,o;for(n=n3.call(n);n.length%4;)n.push(0);for(a=new ol(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=a.readUInt32();return 4294967295&i},t}(),cz={}.hasOwnProperty,Na=function(e,t){for(var n in t)cz.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};sa=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var dz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Na(t,sa),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var r;return(r=new ol).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},t}(),NC=function(){function e(t,n){var r,i,a,o,l,A,c,d,u,p,h,m,g,y,x,C,S;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),u=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(A=0;A<256;++A)this.codeMap[A]=t.readByte();break;case 4:for(h=t.readUInt16(),p=h/2,t.pos+=6,a=function(){var w,_;for(_=[],A=w=0;0<=p?w<p:w>p;A=0<=p?++w:--w)_.push(t.readUInt16());return _}(),t.pos+=2,g=function(){var w,_;for(_=[],A=w=0;0<=p?w<p:w>p;A=0<=p?++w:--w)_.push(t.readUInt16());return _}(),c=function(){var w,_;for(_=[],A=w=0;0<=p?w<p:w>p;A=0<=p?++w:--w)_.push(t.readUInt16());return _}(),d=function(){var w,_;for(_=[],A=w=0;0<=p?w<p:w>p;A=0<=p?++w:--w)_.push(t.readUInt16());return _}(),i=(this.length-t.pos+this.offset)/2,l=function(){var w,_;for(_=[],A=w=0;0<=i?w<i:w>i;A=0<=i?++w:--w)_.push(t.readUInt16());return _}(),A=x=0,S=a.length;x<S;A=++x)for(y=a[A],r=C=m=g[A];m<=y?C<=y:C>=y;r=m<=y?++C:--C)d[A]===0?o=r+c[A]:(o=l[d[A]/2+(r-m)-(p-A)]||0)!==0&&(o+=c[A]),this.codeMap[r]=65535&o}t.pos=u}return e.encode=function(t,n){var r,i,a,o,l,A,c,d,u,p,h,m,g,y,x,C,S,w,_,E,T,F,M,P,I,j,U,N,z,L,D,K,q,Z,Ae,H,R,Q,$,V,G,ie,ne,xe,re,ge;switch(N=new ol,o=Object.keys(t).sort(function(le,be){return le-be}),n){case"macroman":for(g=0,y=function(){var le=[];for(m=0;m<256;++m)le.push(0);return le}(),C={0:0},a={},z=0,q=o.length;z<q;z++)C[ne=t[i=o[z]]]==null&&(C[ne]=++g),a[i]={old:t[i],new:C[t[i]]},y[i]=C[t[i]];return N.writeUInt16(1),N.writeUInt16(0),N.writeUInt32(12),N.writeUInt16(0),N.writeUInt16(262),N.writeUInt16(0),N.write(y),{charMap:a,subtable:N.data,maxGlyphID:g+1};case"unicode":for(j=[],u=[],S=0,C={},r={},x=c=null,L=0,Z=o.length;L<Z;L++)C[_=t[i=o[L]]]==null&&(C[_]=++S),r[i]={old:_,new:C[_]},l=C[_]-i,x!=null&&l===c||(x&&u.push(x),j.push(i),c=l),x=i;for(x&&u.push(x),u.push(65535),j.push(65535),P=2*(M=j.length),F=2*Math.pow(Math.log(M)/Math.LN2,2),p=Math.log(F/2)/Math.LN2,T=2*M-F,A=[],E=[],h=[],m=D=0,Ae=j.length;D<Ae;m=++D){if(I=j[m],d=u[m],I===65535){A.push(0),E.push(0);break}if(I-(U=r[I].new)>=32768)for(A.push(0),E.push(2*(h.length+M-m)),i=K=I;I<=d?K<=d:K>=d;i=I<=d?++K:--K)h.push(r[i].new);else A.push(U-I),E.push(0)}for(N.writeUInt16(3),N.writeUInt16(1),N.writeUInt32(12),N.writeUInt16(4),N.writeUInt16(16+8*M+2*h.length),N.writeUInt16(0),N.writeUInt16(P),N.writeUInt16(F),N.writeUInt16(p),N.writeUInt16(T),G=0,H=u.length;G<H;G++)i=u[G],N.writeUInt16(i);for(N.writeUInt16(0),ie=0,R=j.length;ie<R;ie++)i=j[ie],N.writeUInt16(i);for(xe=0,Q=A.length;xe<Q;xe++)l=A[xe],N.writeUInt16(l);for(re=0,$=E.length;re<$;re++)w=E[re],N.writeUInt16(w);for(ge=0,V=h.length;ge<V;ge++)g=h[ge],N.writeUInt16(g);return{charMap:r,subtable:N.data,maxGlyphID:S+1}}},e}(),t3=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Na(t,sa),t.prototype.tag="cmap",t.prototype.parse=function(n){var r,i,a;for(n.pos=this.offset,this.version=n.readUInt16(),a=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)r=new NC(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(n,r){var i,a;return r==null&&(r="macroman"),i=NC.encode(n,r),(a=new ol).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},t}(),uz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Na(t,sa),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),hz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Na(t,sa),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),fz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Na(t,sa),t.prototype.tag="post",t.prototype.parse=function(n){var r,i,a;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],a=[];n.pos<this.offset+this.length;)r=n.readByte(),a.push(this.names.push(n.readString(r)));return a;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var l,A,c;for(c=[],o=l=0,A=this.file.maxp.numGlyphs;0<=A?l<A:l>A;o=0<=A?++l:--l)c.push(n.readUInt32());return c}).call(this)}},t}(),pz=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},gz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Na(t,sa),t.prototype.tag="name",t.prototype.parse=function(n){var r,i,a,o,l,A,c,d,u,p,h;for(n.pos=this.offset,n.readShort(),r=n.readShort(),A=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+A+n.readShort()});for(c={},o=u=0,p=i.length;u<p;o=++u)a=i[o],n.pos=a.offset,d=n.readString(a.length),l=new pz(d,a),c[h=a.nameID]==null&&(c[h]=[]),c[a.nameID].push(l);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t}(),mz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Na(t,sa),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),vz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Na(t,sa),t.prototype.tag="hmtx",t.prototype.parse=function(n){var r,i,a,o,l,A,c;for(n.pos=this.offset,this.metrics=[],r=0,A=this.file.hhea.numberOfMetrics;0<=A?r<A:r>A;r=0<=A?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,u;for(u=[],r=d=0;0<=a?d<a:d>a;r=0<=a?++d:--d)u.push(n.readInt16());return u}(),this.widths=(function(){var d,u,p,h;for(h=[],d=0,u=(p=this.metrics).length;d<u;d++)o=p[d],h.push(o.advance);return h}).call(this),i=this.widths[this.widths.length-1],c=[],r=l=0;0<=a?l<a:l>a;r=0<=a?++l:--l)c.push(this.widths.push(i));return c},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),n3=[].slice,yz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Na(t,sa),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var r,i,a,o,l,A,c,d,u,p;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(a=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,l=(A=new ol(r.read(a))).readShort(),d=A.readShort(),p=A.readShort(),c=A.readShort(),u=A.readShort(),this.cache[n]=l===-1?new bz(A,d,p,c,u):new xz(A,l,d,p,c,u),this.cache[n]))},t.prototype.encode=function(n,r,i){var a,o,l,A,c;for(l=[],o=[],A=0,c=r.length;A<c;A++)a=n[r[A]],o.push(l.length),a&&(l=l.concat(a.encode(i)));return o.push(l.length),{table:l,offsets:o}},t}(),xz=function(){function e(t,n,r,i,a,o){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),bz=function(){function e(t,n,r,i,a){var o,l;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new ol(n3.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),wz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Na(t,sa),t.prototype.tag="loca",t.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=4)o.push(n.readUInt32());return o}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),a=0,o=0,l=0;l<i.length;++l)if(i[l]=a,o<r.length&&r[o]==l){++o,i[l]=a;var A=this.offsets[l],c=this.offsets[l+1]-A;c>0&&(a+=c)}for(var d=new Array(4*i.length),u=0;u<i.length;++u)d[4*u+3]=255&i[u],d[4*u+2]=(65280&i[u])>>8,d[4*u+1]=(16711680&i[u])>>16,d[4*u]=(4278190080&i[u])>>24;return d},t}(),Cz=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,i,a;for(n in i=this.font.cmap.tables[0].codeMap,t={},a=this.subset)r=a[n],t[n]=i[r];return t},e.prototype.glyphsFor=function(t){var n,r,i,a,o,l,A;for(i={},o=0,l=t.length;o<l;o++)i[a=t[o]]=this.font.glyf.glyphFor(a);for(a in n=[],i)(r=i[a])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(a in A=this.glyphsFor(n))r=A[a],i[a]=r;return i},e.prototype.encode=function(t,n){var r,i,a,o,l,A,c,d,u,p,h,m,g,y,x;for(i in r=t3.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),h={0:0},x=r.charMap)h[(A=x[i]).old]=A.new;for(m in p=r.maxGlyphID,o)m in h||(h[m]=p++);return d=function(C){var S,w;for(S in w={},C)w[C[S]]=S;return w}(h),u=Object.keys(d).sort(function(C,S){return C-S}),g=function(){var C,S,w;for(w=[],C=0,S=u.length;C<S;C++)l=u[C],w.push(d[l]);return w}(),a=this.font.glyf.encode(o,g,h),c=this.font.loca.encode(a.offsets,g),y={cmap:this.font.cmap.raw(),glyf:a.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y)},e}();Wt.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,i,a,o;if(Array.isArray(n))return"["+function(){var l,A,c;for(c=[],l=0,A=n.length;l<A;l++)r=n[l],c.push(t.convert(r));return c}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in a=["<<"],n)o=n[i],a.push("/"+i+" "+t.convert(o));return a.push(">>"),a.join(`
`)}return""+n},t}();/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var z1=function(e,t){return z1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},z1(e,t)};function ia(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");z1(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var W1=function(){return W1=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},W1.apply(this,arguments)};function Ds(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{c(r.next(d))}catch(u){o(u)}}function A(d){try{c(r.throw(d))}catch(u){o(u)}}function c(d){d.done?a(d.value):i(d.value).then(l,A)}c((r=r.apply(e,[])).next())})}function bs(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(c){return function(d){return A([c,d])}}function A(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){n.label=c[1];break}if(c[0]===6&&n.label<a[1]){n.label=a[1],a=c;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(c);break}a[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(d){c=[6,d],i=0}finally{r=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Kf(e,t,n){if(arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||t)}var uo=function(){function e(t,n,r,i){this.left=t,this.top=n,this.width=r,this.height=i}return e.prototype.add=function(t,n,r,i){return new e(this.left+t,this.top+n,this.width+r,this.height+i)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var r=Array.from(n).find(function(i){return i.width!==0});return r?new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),Um=function(e,t){return uo.fromClientRect(e,t.getBoundingClientRect())},Bz=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),i=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new uo(0,0,r,i)},Lm=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);(a&64512)===56320?t.push(((i&1023)<<10)+(a&1023)+65536):(t.push(i),n--)}else t.push(i)}return t},kr=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],i=-1,a="";++i<n;){var o=e[i];o<=65535?r.push(o):(o-=65536,r.push((o>>10)+55296,o%1024+56320)),(i+1===n||r.length>16384)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},TC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Sz=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Vf=0;Vf<TC.length;Vf++)Sz[TC.charCodeAt(Vf)]=Vf;var _C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",vu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Gf=0;Gf<_C.length;Gf++)vu[_C.charCodeAt(Gf)]=Gf;var jz=function(e){var t=e.length*.75,n=e.length,r,i=0,a,o,l,A;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),d=Array.isArray(c)?c:new Uint8Array(c);for(r=0;r<n;r+=4)a=vu[e.charCodeAt(r)],o=vu[e.charCodeAt(r+1)],l=vu[e.charCodeAt(r+2)],A=vu[e.charCodeAt(r+3)],d[i++]=a<<2|o>>4,d[i++]=(o&15)<<4|l>>2,d[i++]=(l&3)<<6|A&63;return c},kz=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},Ez=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},Wl=5,Mx=11,yv=2,Iz=Mx-Wl,r3=65536>>Wl,Fz=1<<Wl,xv=Fz-1,Nz=1024>>Wl,Tz=r3+Nz,_z=Tz,Dz=32,Uz=_z+Dz,Lz=65536>>Mx,Mz=1<<Iz,Pz=Mz-1,DC=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},Qz=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},Rz=function(e,t){var n=jz(e),r=Array.isArray(n)?Ez(n):new Uint32Array(n),i=Array.isArray(n)?kz(n):new Uint16Array(n),a=24,o=DC(i,a/2,r[4]/2),l=r[5]===2?DC(i,(a+r[4])/2):Qz(r,Math.ceil((a+r[4])/4));return new Hz(r[0],r[1],r[2],r[3],o,l)},Hz=function(){function e(t,n,r,i,a,o){this.initialValue=t,this.errorValue=n,this.highStart=r,this.highValueIndex=i,this.index=a,this.data=o}return e.prototype.get=function(t){var n;if(t>=0){if(t<55296||t>56319&&t<=65535)return n=this.index[t>>Wl],n=(n<<yv)+(t&xv),this.data[n];if(t<=65535)return n=this.index[r3+(t-55296>>Wl)],n=(n<<yv)+(t&xv),this.data[n];if(t<this.highStart)return n=Uz-Lz+(t>>Mx),n=this.index[n],n+=t>>Wl&Pz,n=this.index[n],n=(n<<yv)+(t&xv),this.data[n];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),UC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Oz=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var qf=0;qf<UC.length;qf++)Oz[UC.charCodeAt(qf)]=qf;var $z="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",LC=50,zz=1,s3=2,i3=3,Wz=4,Kz=5,MC=7,a3=8,PC=9,Ko=10,K1=11,QC=12,V1=13,Vz=14,yu=15,G1=16,Yf=17,iu=18,Gz=19,RC=20,q1=21,au=22,bv=23,GA=24,ri=25,xu=26,bu=27,qA=28,qz=29,Ul=30,Yz=31,Xf=32,Jf=33,Y1=34,X1=35,J1=36,lh=37,Z1=38,Pp=39,Qp=40,wv=41,o3=42,Xz=43,Jz=[9001,65288],l3="!",hn="×",Zf="÷",ey=Rz($z),Wa=[Ul,J1],ty=[zz,s3,i3,Kz],A3=[Ko,a3],HC=[bu,xu],Zz=ty.concat(A3),OC=[Z1,Pp,Qp,Y1,X1],eW=[yu,V1],tW=function(e,t){t===void 0&&(t="strict");var n=[],r=[],i=[];return e.forEach(function(a,o){var l=ey.get(a);if(l>LC?(i.push(!0),l-=LC):i.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(a)!==-1)return r.push(o),n.push(G1);if(l===Wz||l===K1){if(o===0)return r.push(o),n.push(Ul);var A=n[o-1];return Zz.indexOf(A)===-1?(r.push(r[o-1]),n.push(A)):(r.push(o),n.push(Ul))}if(r.push(o),l===Yz)return n.push(t==="strict"?q1:lh);if(l===o3||l===qz)return n.push(Ul);if(l===Xz)return a>=131072&&a<=196605||a>=196608&&a<=262141?n.push(lh):n.push(Ul);n.push(l)}),[r,n,i]},Cv=function(e,t,n,r){var i=r[n];if(Array.isArray(e)?e.indexOf(i)!==-1:e===i)for(var a=n;a<=r.length;){a++;var o=r[a];if(o===t)return!0;if(o!==Ko)break}if(i===Ko)for(var a=n;a>0;){a--;var l=r[a];if(Array.isArray(e)?e.indexOf(l)!==-1:e===l)for(var A=n;A<=r.length;){A++;var o=r[A];if(o===t)return!0;if(o!==Ko)break}if(l!==Ko)break}return!1},$C=function(e,t){for(var n=e;n>=0;){var r=t[n];if(r===Ko)n--;else return r}return 0},nW=function(e,t,n,r,i){if(n[r]===0)return hn;var a=r-1;if(Array.isArray(i)&&i[a]===!0)return hn;var o=a-1,l=a+1,A=t[a],c=o>=0?t[o]:0,d=t[l];if(A===s3&&d===i3)return hn;if(ty.indexOf(A)!==-1)return l3;if(ty.indexOf(d)!==-1||A3.indexOf(d)!==-1)return hn;if($C(a,t)===a3)return Zf;if(ey.get(e[a])===K1||(A===Xf||A===Jf)&&ey.get(e[l])===K1||A===MC||d===MC||A===PC||[Ko,V1,yu].indexOf(A)===-1&&d===PC||[Yf,iu,Gz,GA,qA].indexOf(d)!==-1||$C(a,t)===au||Cv(bv,au,a,t)||Cv([Yf,iu],q1,a,t)||Cv(QC,QC,a,t))return hn;if(A===Ko)return Zf;if(A===bv||d===bv)return hn;if(d===G1||A===G1)return Zf;if([V1,yu,q1].indexOf(d)!==-1||A===Vz||c===J1&&eW.indexOf(A)!==-1||A===qA&&d===J1||d===RC||Wa.indexOf(d)!==-1&&A===ri||Wa.indexOf(A)!==-1&&d===ri||A===bu&&[lh,Xf,Jf].indexOf(d)!==-1||[lh,Xf,Jf].indexOf(A)!==-1&&d===xu||Wa.indexOf(A)!==-1&&HC.indexOf(d)!==-1||HC.indexOf(A)!==-1&&Wa.indexOf(d)!==-1||[bu,xu].indexOf(A)!==-1&&(d===ri||[au,yu].indexOf(d)!==-1&&t[l+1]===ri)||[au,yu].indexOf(A)!==-1&&d===ri||A===ri&&[ri,qA,GA].indexOf(d)!==-1)return hn;if([ri,qA,GA,Yf,iu].indexOf(d)!==-1)for(var u=a;u>=0;){var p=t[u];if(p===ri)return hn;if([qA,GA].indexOf(p)!==-1)u--;else break}if([bu,xu].indexOf(d)!==-1)for(var u=[Yf,iu].indexOf(A)!==-1?o:a;u>=0;){var p=t[u];if(p===ri)return hn;if([qA,GA].indexOf(p)!==-1)u--;else break}if(Z1===A&&[Z1,Pp,Y1,X1].indexOf(d)!==-1||[Pp,Y1].indexOf(A)!==-1&&[Pp,Qp].indexOf(d)!==-1||[Qp,X1].indexOf(A)!==-1&&d===Qp||OC.indexOf(A)!==-1&&[RC,xu].indexOf(d)!==-1||OC.indexOf(d)!==-1&&A===bu||Wa.indexOf(A)!==-1&&Wa.indexOf(d)!==-1||A===GA&&Wa.indexOf(d)!==-1||Wa.concat(ri).indexOf(A)!==-1&&d===au&&Jz.indexOf(e[l])===-1||Wa.concat(ri).indexOf(d)!==-1&&A===iu)return hn;if(A===wv&&d===wv){for(var h=n[a],m=1;h>0&&(h--,t[h]===wv);)m++;if(m%2!==0)return hn}return A===Xf&&d===Jf?hn:Zf},rW=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=tW(e,t.lineBreak),r=n[0],i=n[1],a=n[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(i=i.map(function(l){return[ri,Ul,o3].indexOf(l)!==-1?lh:l}));var o=t.wordBreak==="keep-all"?a.map(function(l,A){return l&&e[A]>=19968&&e[A]<=40959}):void 0;return[r,i,o]},sW=function(){function e(t,n,r,i){this.codePoints=t,this.required=n===l3,this.start=r,this.end=i}return e.prototype.slice=function(){return kr.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),iW=function(e,t){var n=Lm(e),r=rW(n,t),i=r[0],a=r[1],o=r[2],l=n.length,A=0,c=0;return{next:function(){if(c>=l)return{done:!0,value:null};for(var d=hn;c<l&&(d=nW(n,a,i,++c,o))===hn;);if(d!==hn||c===l){var u=new sW(n,d,A,c);return A=c,{value:u,done:!1}}return{done:!0,value:null}}}},aW=1,oW=2,Mh=4,zC=8,vg=10,WC=47,Mu=92,lW=9,AW=32,ep=34,ou=61,cW=35,dW=36,uW=37,tp=39,np=40,lu=41,hW=95,Ws=45,fW=33,pW=60,gW=62,mW=64,vW=91,yW=93,xW=61,bW=123,rp=63,wW=125,KC=124,CW=126,BW=128,VC=65533,Bv=42,Ql=43,SW=44,jW=58,kW=59,Ah=46,EW=0,IW=8,FW=11,NW=14,TW=31,_W=127,ca=-1,c3=48,d3=97,u3=101,DW=102,UW=117,LW=122,h3=65,f3=69,p3=70,MW=85,PW=90,ws=function(e){return e>=c3&&e<=57},QW=function(e){return e>=55296&&e<=57343},YA=function(e){return ws(e)||e>=h3&&e<=p3||e>=d3&&e<=DW},RW=function(e){return e>=d3&&e<=LW},HW=function(e){return e>=h3&&e<=PW},OW=function(e){return RW(e)||HW(e)},$W=function(e){return e>=BW},sp=function(e){return e===vg||e===lW||e===AW},yg=function(e){return OW(e)||$W(e)||e===hW},GC=function(e){return yg(e)||ws(e)||e===Ws},zW=function(e){return e>=EW&&e<=IW||e===FW||e>=NW&&e<=TW||e===_W},Ro=function(e,t){return e!==Mu?!1:t!==vg},ip=function(e,t,n){return e===Ws?yg(t)||Ro(t,n):yg(e)?!0:!!(e===Mu&&Ro(e,t))},Sv=function(e,t,n){return e===Ql||e===Ws?ws(t)?!0:t===Ah&&ws(n):ws(e===Ah?t:e)},WW=function(e){var t=0,n=1;(e[t]===Ql||e[t]===Ws)&&(e[t]===Ws&&(n=-1),t++);for(var r=[];ws(e[t]);)r.push(e[t++]);var i=r.length?parseInt(kr.apply(void 0,r),10):0;e[t]===Ah&&t++;for(var a=[];ws(e[t]);)a.push(e[t++]);var o=a.length,l=o?parseInt(kr.apply(void 0,a),10):0;(e[t]===f3||e[t]===u3)&&t++;var A=1;(e[t]===Ql||e[t]===Ws)&&(e[t]===Ws&&(A=-1),t++);for(var c=[];ws(e[t]);)c.push(e[t++]);var d=c.length?parseInt(kr.apply(void 0,c),10):0;return n*(i+l*Math.pow(10,-o))*Math.pow(10,A*d)},KW={type:2},VW={type:3},GW={type:4},qW={type:13},YW={type:8},XW={type:21},JW={type:9},ZW={type:10},eK={type:11},tK={type:12},nK={type:14},ap={type:23},rK={type:1},sK={type:25},iK={type:24},aK={type:26},oK={type:27},lK={type:28},AK={type:29},cK={type:31},ny={type:32},g3=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(Lm(t))},e.prototype.read=function(){for(var t=[],n=this.consumeToken();n!==ny;)t.push(n),n=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case ep:return this.consumeStringToken(ep);case cW:var n=this.peekCodePoint(0),r=this.peekCodePoint(1),i=this.peekCodePoint(2);if(GC(n)||Ro(r,i)){var a=ip(n,r,i)?oW:aW,o=this.consumeName();return{type:5,value:o,flags:a}}break;case dW:if(this.peekCodePoint(0)===ou)return this.consumeCodePoint(),qW;break;case tp:return this.consumeStringToken(tp);case np:return KW;case lu:return VW;case Bv:if(this.peekCodePoint(0)===ou)return this.consumeCodePoint(),nK;break;case Ql:if(Sv(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case SW:return GW;case Ws:var l=t,A=this.peekCodePoint(0),c=this.peekCodePoint(1);if(Sv(l,A,c))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(ip(l,A,c))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(A===Ws&&c===gW)return this.consumeCodePoint(),this.consumeCodePoint(),iK;break;case Ah:if(Sv(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case WC:if(this.peekCodePoint(0)===Bv)for(this.consumeCodePoint();;){var d=this.consumeCodePoint();if(d===Bv&&(d=this.consumeCodePoint(),d===WC))return this.consumeToken();if(d===ca)return this.consumeToken()}break;case jW:return aK;case kW:return oK;case pW:if(this.peekCodePoint(0)===fW&&this.peekCodePoint(1)===Ws&&this.peekCodePoint(2)===Ws)return this.consumeCodePoint(),this.consumeCodePoint(),sK;break;case mW:var u=this.peekCodePoint(0),p=this.peekCodePoint(1),h=this.peekCodePoint(2);if(ip(u,p,h)){var o=this.consumeName();return{type:7,value:o}}break;case vW:return lK;case Mu:if(Ro(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case yW:return AK;case xW:if(this.peekCodePoint(0)===ou)return this.consumeCodePoint(),YW;break;case bW:return eK;case wW:return tK;case UW:case MW:var m=this.peekCodePoint(0),g=this.peekCodePoint(1);return m===Ql&&(YA(g)||g===rp)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case KC:if(this.peekCodePoint(0)===ou)return this.consumeCodePoint(),JW;if(this.peekCodePoint(0)===KC)return this.consumeCodePoint(),XW;break;case CW:if(this.peekCodePoint(0)===ou)return this.consumeCodePoint(),ZW;break;case ca:return ny}return sp(t)?(this.consumeWhiteSpace(),cK):ws(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):yg(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:kr(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],n=this.consumeCodePoint();YA(n)&&t.length<6;)t.push(n),n=this.consumeCodePoint();for(var r=!1;n===rp&&t.length<6;)t.push(n),n=this.consumeCodePoint(),r=!0;if(r){var i=parseInt(kr.apply(void 0,t.map(function(A){return A===rp?c3:A})),16),a=parseInt(kr.apply(void 0,t.map(function(A){return A===rp?p3:A})),16);return{type:30,start:i,end:a}}var o=parseInt(kr.apply(void 0,t),16);if(this.peekCodePoint(0)===Ws&&YA(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var l=[];YA(n)&&l.length<6;)l.push(n),n=this.consumeCodePoint();var a=parseInt(kr.apply(void 0,l),16);return{type:30,start:o,end:a}}else return{type:30,start:o,end:o}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===np?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===np?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===ca)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===tp||n===ep){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===ca||this.peekCodePoint(0)===lu)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),ap)}for(;;){var i=this.consumeCodePoint();if(i===ca||i===lu)return{type:22,value:kr.apply(void 0,t)};if(sp(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===ca||this.peekCodePoint(0)===lu?(this.consumeCodePoint(),{type:22,value:kr.apply(void 0,t)}):(this.consumeBadUrlRemnants(),ap);if(i===ep||i===tp||i===np||zW(i))return this.consumeBadUrlRemnants(),ap;if(i===Mu)if(Ro(i,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),ap;else t.push(i)}},e.prototype.consumeWhiteSpace=function(){for(;sp(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===lu||t===ca)return;Ro(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var n=5e4,r="";t>0;){var i=Math.min(n,t);r+=kr.apply(void 0,this._value.splice(0,i)),t-=i}return this._value.shift(),r},e.prototype.consumeStringToken=function(t){var n="",r=0;do{var i=this._value[r];if(i===ca||i===void 0||i===t)return n+=this.consumeStringSlice(r),{type:0,value:n};if(i===vg)return this._value.splice(0,r),rK;if(i===Mu){var a=this._value[r+1];a!==ca&&a!==void 0&&(a===vg?(n+=this.consumeStringSlice(r),r=-1,this._value.shift()):Ro(i,a)&&(n+=this.consumeStringSlice(r),n+=kr(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},e.prototype.consumeNumber=function(){var t=[],n=Mh,r=this.peekCodePoint(0);for((r===Ql||r===Ws)&&t.push(this.consumeCodePoint());ws(this.peekCodePoint(0));)t.push(this.consumeCodePoint());r=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(r===Ah&&ws(i))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),n=zC;ws(this.peekCodePoint(0));)t.push(this.consumeCodePoint());r=this.peekCodePoint(0),i=this.peekCodePoint(1);var a=this.peekCodePoint(2);if((r===f3||r===u3)&&((i===Ql||i===Ws)&&ws(a)||ws(i)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),n=zC;ws(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[WW(t),n]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),n=t[0],r=t[1],i=this.peekCodePoint(0),a=this.peekCodePoint(1),o=this.peekCodePoint(2);if(ip(i,a,o)){var l=this.consumeName();return{type:15,number:n,flags:r,unit:l}}return i===uW?(this.consumeCodePoint(),{type:16,number:n,flags:r}):{type:17,number:n,flags:r}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(YA(t)){for(var n=kr(t);YA(this.peekCodePoint(0))&&n.length<6;)n+=kr(this.consumeCodePoint());sp(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(n,16);return r===0||QW(r)||r>1114111?VC:r}return t===ca?VC:t},e.prototype.consumeName=function(){for(var t="";;){var n=this.consumeCodePoint();if(GC(n))t+=kr(n);else if(Ro(n,this.peekCodePoint(0)))t+=kr(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),t}},e}(),m3=function(){function e(t){this._tokens=t}return e.create=function(t){var n=new g3;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var n=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var n=this.consumeComponentValue();if(n.type===32)return t;t.push(n),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var n={type:t,values:[]},r=this.consumeToken();;){if(r.type===32||uK(r,t))return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue()),r=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var n={name:t.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?ny:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),Ph=function(e){return e.type===15},cd=function(e){return e.type===17},Wn=function(e){return e.type===20},dK=function(e){return e.type===0},ry=function(e,t){return Wn(e)&&e.value===t},v3=function(e){return e.type!==31},Wc=function(e){return e.type!==31&&e.type!==4},Ta=function(e){var t=[],n=[];return e.forEach(function(r){if(r.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(n),n=[];return}r.type!==31&&n.push(r)}),n.length&&t.push(n),t},uK=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},ll=function(e){return e.type===17||e.type===15},Qr=function(e){return e.type===16||ll(e)},y3=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},hs={type:17,number:0,flags:Mh},Px={type:16,number:50,flags:Mh},Vo={type:16,number:100,flags:Mh},wu=function(e,t,n){var r=e[0],i=e[1];return[Zn(r,t),Zn(typeof i<"u"?i:r,n)]},Zn=function(e,t){if(e.type===16)return e.number/100*t;if(Ph(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},x3="deg",b3="grad",w3="rad",C3="turn",Mm={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case x3:return Math.PI*t.number/180;case b3:return Math.PI/200*t.number;case w3:return t.number;case C3:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},B3=function(e){return e.type===15&&(e.unit===x3||e.unit===b3||e.unit===w3||e.unit===C3)},S3=function(e){var t=e.filter(Wn).map(function(n){return n.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[hs,hs];case"to top":case"bottom":return Fi(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[hs,Vo];case"to right":case"left":return Fi(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Vo,Vo];case"to bottom":case"top":return Fi(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Vo,hs];case"to left":case"right":return Fi(270)}return 0},Fi=function(e){return Math.PI*e/180},Xo={name:"color",parse:function(e,t){if(t.type===18){var n=hK[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return n(e,t.values)}if(t.type===5){if(t.value.length===3){var r=t.value.substring(0,1),i=t.value.substring(1,2),a=t.value.substring(2,3);return Go(parseInt(r+r,16),parseInt(i+i,16),parseInt(a+a,16),1)}if(t.value.length===4){var r=t.value.substring(0,1),i=t.value.substring(1,2),a=t.value.substring(2,3),o=t.value.substring(3,4);return Go(parseInt(r+r,16),parseInt(i+i,16),parseInt(a+a,16),parseInt(o+o,16)/255)}if(t.value.length===6){var r=t.value.substring(0,2),i=t.value.substring(2,4),a=t.value.substring(4,6);return Go(parseInt(r,16),parseInt(i,16),parseInt(a,16),1)}if(t.value.length===8){var r=t.value.substring(0,2),i=t.value.substring(2,4),a=t.value.substring(4,6),o=t.value.substring(6,8);return Go(parseInt(r,16),parseInt(i,16),parseInt(a,16),parseInt(o,16)/255)}}if(t.type===20){var l=no[t.value.toUpperCase()];if(typeof l<"u")return l}return no.TRANSPARENT}},Jo=function(e){return(255&e)===0},Xr=function(e){var t=255&e,n=255&e>>8,r=255&e>>16,i=255&e>>24;return t<255?"rgba("+i+","+r+","+n+","+t/255+")":"rgb("+i+","+r+","+n+")"},Go=function(e,t,n,r){return(e<<24|t<<16|n<<8|Math.round(r*255)<<0)>>>0},qC=function(e,t){if(e.type===17)return e.number;if(e.type===16){var n=t===3?1:255;return t===3?e.number/100*n:Math.round(e.number/100*n)}return 0},YC=function(e,t){var n=t.filter(Wc);if(n.length===3){var r=n.map(qC),i=r[0],a=r[1],o=r[2];return Go(i,a,o,1)}if(n.length===4){var l=n.map(qC),i=l[0],a=l[1],o=l[2],A=l[3];return Go(i,a,o,A)}return 0};function jv(e,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-e)*n*6+e:n<1/2?t:n<2/3?(t-e)*6*(2/3-n)+e:e}var XC=function(e,t){var n=t.filter(Wc),r=n[0],i=n[1],a=n[2],o=n[3],l=(r.type===17?Fi(r.number):Mm.parse(e,r))/(Math.PI*2),A=Qr(i)?i.number/100:0,c=Qr(a)?a.number/100:0,d=typeof o<"u"&&Qr(o)?Zn(o,1):1;if(A===0)return Go(c*255,c*255,c*255,1);var u=c<=.5?c*(A+1):c+A-c*A,p=c*2-u,h=jv(p,u,l+1/3),m=jv(p,u,l),g=jv(p,u,l-1/3);return Go(h*255,m*255,g*255,d)},hK={hsl:XC,hsla:XC,rgb:YC,rgba:YC},Pu=function(e,t){return Xo.parse(e,m3.create(t).parseComponentValue())},no={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},fK={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(n){if(Wn(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},pK={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Pm=function(e,t){var n=Xo.parse(e,t[0]),r=t[1];return r&&Qr(r)?{color:n,stop:r}:{color:n,stop:null}},JC=function(e,t){var n=e[0],r=e[e.length-1];n.stop===null&&(n.stop=hs),r.stop===null&&(r.stop=Vo);for(var i=[],a=0,o=0;o<e.length;o++){var l=e[o].stop;if(l!==null){var A=Zn(l,t);A>a?i.push(A):i.push(a),a=A}else i.push(null)}for(var c=null,o=0;o<i.length;o++){var d=i[o];if(d===null)c===null&&(c=o);else if(c!==null){for(var u=o-c,p=i[c-1],h=(d-p)/(u+1),m=1;m<=u;m++)i[c+m-1]=h*m;c=null}}return e.map(function(g,y){var x=g.color;return{color:x,stop:Math.max(Math.min(1,i[y]/t),0)}})},gK=function(e,t,n){var r=t/2,i=n/2,a=Zn(e[0],t)-r,o=i-Zn(e[1],n);return(Math.atan2(o,a)+Math.PI*2)%(Math.PI*2)},mK=function(e,t,n){var r=typeof e=="number"?e:gK(e,t,n),i=Math.abs(t*Math.sin(r))+Math.abs(n*Math.cos(r)),a=t/2,o=n/2,l=i/2,A=Math.sin(r-Math.PI/2)*l,c=Math.cos(r-Math.PI/2)*l;return[i,a-c,a+c,o-A,o+A]},Ji=function(e,t){return Math.sqrt(e*e+t*t)},ZC=function(e,t,n,r,i){var a=[[0,0],[0,t],[e,0],[e,t]];return a.reduce(function(o,l){var A=l[0],c=l[1],d=Ji(n-A,r-c);return(i?d<o.optimumDistance:d>o.optimumDistance)?{optimumCorner:l,optimumDistance:d}:o},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},vK=function(e,t,n,r,i){var a=0,o=0;switch(e.size){case 0:e.shape===0?a=o=Math.min(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):e.shape===1&&(a=Math.min(Math.abs(t),Math.abs(t-r)),o=Math.min(Math.abs(n),Math.abs(n-i)));break;case 2:if(e.shape===0)a=o=Math.min(Ji(t,n),Ji(t,n-i),Ji(t-r,n),Ji(t-r,n-i));else if(e.shape===1){var l=Math.min(Math.abs(n),Math.abs(n-i))/Math.min(Math.abs(t),Math.abs(t-r)),A=ZC(r,i,t,n,!0),c=A[0],d=A[1];a=Ji(c-t,(d-n)/l),o=l*a}break;case 1:e.shape===0?a=o=Math.max(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):e.shape===1&&(a=Math.max(Math.abs(t),Math.abs(t-r)),o=Math.max(Math.abs(n),Math.abs(n-i)));break;case 3:if(e.shape===0)a=o=Math.max(Ji(t,n),Ji(t,n-i),Ji(t-r,n),Ji(t-r,n-i));else if(e.shape===1){var l=Math.max(Math.abs(n),Math.abs(n-i))/Math.max(Math.abs(t),Math.abs(t-r)),u=ZC(r,i,t,n,!1),c=u[0],d=u[1];a=Ji(c-t,(d-n)/l),o=l*a}break}return Array.isArray(e.size)&&(a=Zn(e.size[0],r),o=e.size.length===2?Zn(e.size[1],i):a),[a,o]},yK=function(e,t){var n=Fi(180),r=[];return Ta(t).forEach(function(i,a){if(a===0){var o=i[0];if(o.type===20&&o.value==="to"){n=S3(i);return}else if(B3(o)){n=Mm.parse(e,o);return}}var l=Pm(e,i);r.push(l)}),{angle:n,stops:r,type:1}},op=function(e,t){var n=Fi(180),r=[];return Ta(t).forEach(function(i,a){if(a===0){var o=i[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){n=S3(i);return}else if(B3(o)){n=(Mm.parse(e,o)+Fi(270))%Fi(360);return}}var l=Pm(e,i);r.push(l)}),{angle:n,stops:r,type:1}},xK=function(e,t){var n=Fi(180),r=[],i=1,a=0,o=3,l=[];return Ta(t).forEach(function(A,c){var d=A[0];if(c===0){if(Wn(d)&&d.value==="linear"){i=1;return}else if(Wn(d)&&d.value==="radial"){i=2;return}}if(d.type===18){if(d.name==="from"){var u=Xo.parse(e,d.values[0]);r.push({stop:hs,color:u})}else if(d.name==="to"){var u=Xo.parse(e,d.values[0]);r.push({stop:Vo,color:u})}else if(d.name==="color-stop"){var p=d.values.filter(Wc);if(p.length===2){var u=Xo.parse(e,p[1]),h=p[0];cd(h)&&r.push({stop:{type:16,number:h.number*100,flags:h.flags},color:u})}}}}),i===1?{angle:(n+Fi(180))%Fi(360),stops:r,type:i}:{size:o,shape:a,stops:r,position:l,type:i}},j3="closest-side",k3="farthest-side",E3="closest-corner",I3="farthest-corner",F3="circle",N3="ellipse",T3="cover",_3="contain",bK=function(e,t){var n=0,r=3,i=[],a=[];return Ta(t).forEach(function(o,l){var A=!0;if(l===0){var c=!1;A=o.reduce(function(u,p){if(c)if(Wn(p))switch(p.value){case"center":return a.push(Px),u;case"top":case"left":return a.push(hs),u;case"right":case"bottom":return a.push(Vo),u}else(Qr(p)||ll(p))&&a.push(p);else if(Wn(p))switch(p.value){case F3:return n=0,!1;case N3:return n=1,!1;case"at":return c=!0,!1;case j3:return r=0,!1;case T3:case k3:return r=1,!1;case _3:case E3:return r=2,!1;case I3:return r=3,!1}else if(ll(p)||Qr(p))return Array.isArray(r)||(r=[]),r.push(p),!1;return u},A)}if(A){var d=Pm(e,o);i.push(d)}}),{size:r,shape:n,stops:i,position:a,type:2}},lp=function(e,t){var n=0,r=3,i=[],a=[];return Ta(t).forEach(function(o,l){var A=!0;if(l===0?A=o.reduce(function(d,u){if(Wn(u))switch(u.value){case"center":return a.push(Px),!1;case"top":case"left":return a.push(hs),!1;case"right":case"bottom":return a.push(Vo),!1}else if(Qr(u)||ll(u))return a.push(u),!1;return d},A):l===1&&(A=o.reduce(function(d,u){if(Wn(u))switch(u.value){case F3:return n=0,!1;case N3:return n=1,!1;case _3:case j3:return r=0,!1;case k3:return r=1,!1;case E3:return r=2,!1;case T3:case I3:return r=3,!1}else if(ll(u)||Qr(u))return Array.isArray(r)||(r=[]),r.push(u),!1;return d},A)),A){var c=Pm(e,o);i.push(c)}}),{size:r,shape:n,stops:i,position:a,type:2}},wK=function(e){return e.type===1},CK=function(e){return e.type===2},Qx={name:"image",parse:function(e,t){if(t.type===22){var n={url:t.value,type:0};return e.cache.addImage(t.value),n}if(t.type===18){var r=D3[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return r(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function BK(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!D3[e.name])}var D3={"linear-gradient":yK,"-moz-linear-gradient":op,"-ms-linear-gradient":op,"-o-linear-gradient":op,"-webkit-linear-gradient":op,"radial-gradient":bK,"-moz-radial-gradient":lp,"-ms-radial-gradient":lp,"-o-radial-gradient":lp,"-webkit-radial-gradient":lp,"-webkit-gradient":xK},SK={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var n=t[0];return n.type===20&&n.value==="none"?[]:t.filter(function(r){return Wc(r)&&BK(r)}).map(function(r){return Qx.parse(e,r)})}},jK={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(n){if(Wn(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},kK={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return Ta(t).map(function(n){return n.filter(Qr)}).map(y3)}},EK={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return Ta(t).map(function(n){return n.filter(Wn).map(function(r){return r.value}).join(" ")}).map(IK)}},IK=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Ec;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(Ec||(Ec={}));var FK={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return Ta(t).map(function(n){return n.filter(NK)})}},NK=function(e){return Wn(e)||Qr(e)},Qm=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},TK=Qm("top"),_K=Qm("right"),DK=Qm("bottom"),UK=Qm("left"),Rm=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,n){return y3(n.filter(Qr))}}},LK=Rm("top-left"),MK=Rm("top-right"),PK=Rm("bottom-right"),QK=Rm("bottom-left"),Hm=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},RK=Hm("top"),HK=Hm("right"),OK=Hm("bottom"),$K=Hm("left"),Om=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,n){return Ph(n)?n.number:0}}},zK=Om("top"),WK=Om("right"),KK=Om("bottom"),VK=Om("left"),GK={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},qK={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},YK={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Wn).reduce(function(n,r){return n|XK(r.value)},0)}},XK=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},JK={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},ZK={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},xg;(function(e){e.NORMAL="normal",e.STRICT="strict"})(xg||(xg={}));var eV={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return xg.STRICT;case"normal":default:return xg.NORMAL}}},tV={name:"line-height",initialValue:"normal",prefix:!1,type:4},eB=function(e,t){return Wn(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:Qr(e)?Zn(e,t):t},nV={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:Qx.parse(e,t)}},rV={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},sy={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},$m=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},sV=$m("top"),iV=$m("right"),aV=$m("bottom"),oV=$m("left"),lV={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Wn).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},AV={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},zm=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},cV=zm("top"),dV=zm("right"),uV=zm("bottom"),hV=zm("left"),fV={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},pV={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},gV={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&ry(t[0],"none")?[]:Ta(t).map(function(n){for(var r={color:no.TRANSPARENT,offsetX:hs,offsetY:hs,blur:hs},i=0,a=0;a<n.length;a++){var o=n[a];ll(o)?(i===0?r.offsetX=o:i===1?r.offsetY=o:r.blur=o,i++):r.color=Xo.parse(e,o)}return r})}},mV={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},vV={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var n=bV[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return n(t.values)}return null}},yV=function(e){var t=e.filter(function(n){return n.type===17}).map(function(n){return n.number});return t.length===6?t:null},xV=function(e){var t=e.filter(function(A){return A.type===17}).map(function(A){return A.number}),n=t[0],r=t[1];t[2],t[3];var i=t[4],a=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var o=t[12],l=t[13];return t[14],t[15],t.length===16?[n,r,i,a,o,l]:null},bV={matrix:yV,matrix3d:xV},tB={type:16,number:50,flags:Mh},wV=[tB,tB],CV={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var n=t.filter(Qr);return n.length!==2?wV:[n[0],n[1]]}},BV={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Qu;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(Qu||(Qu={}));var SV={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return Qu.BREAK_ALL;case"keep-all":return Qu.KEEP_ALL;case"normal":default:return Qu.NORMAL}}},jV={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(cd(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},U3={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},kV={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return cd(t)?t.number:1}},EV={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},IV={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Wn).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},FV={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var n=[],r=[];return t.forEach(function(i){switch(i.type){case 20:case 0:n.push(i.value);break;case 17:n.push(i.number.toString());break;case 4:r.push(n.join(" ")),n.length=0;break}}),n.length&&r.push(n.join(" ")),r.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},NV={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},TV={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(cd(t))return t.number;if(Wn(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},_V={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Wn).map(function(n){return n.value})}},DV={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},$r=function(e,t){return(e&t)!==0},UV={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var n=t[0];return n.type===20&&n.value==="none"?[]:t}},LV={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var n=t[0];if(n.type===20&&n.value==="none")return null;for(var r=[],i=t.filter(v3),a=0;a<i.length;a++){var o=i[a],l=i[a+1];if(o.type===20){var A=l&&cd(l)?l.number:1;r.push({counter:o.value,increment:A})}}return r}},MV={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var n=[],r=t.filter(v3),i=0;i<r.length;i++){var a=r[i],o=r[i+1];if(Wn(a)&&a.value!=="none"){var l=o&&cd(o)?o.number:0;n.push({counter:a.value,reset:l})}}return n}},PV={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(Ph).map(function(n){return U3.parse(e,n)})}},QV={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var n=t[0];if(n.type===20&&n.value==="none")return null;var r=[],i=t.filter(dK);if(i.length%2!==0)return null;for(var a=0;a<i.length;a+=2){var o=i[a].value,l=i[a+1].value;r.push({open:o,close:l})}return r}},nB=function(e,t,n){if(!e)return"";var r=e[Math.min(t,e.length-1)];return r?n?r.open:r.close:""},RV={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&ry(t[0],"none")?[]:Ta(t).map(function(n){for(var r={color:255,offsetX:hs,offsetY:hs,blur:hs,spread:hs,inset:!1},i=0,a=0;a<n.length;a++){var o=n[a];ry(o,"inset")?r.inset=!0:ll(o)?(i===0?r.offsetX=o:i===1?r.offsetY=o:i===2?r.blur=o:r.spread=o,i++):r.color=Xo.parse(e,o)}return r})}},HV={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var n=[0,1,2],r=[];return t.filter(Wn).forEach(function(i){switch(i.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),n.forEach(function(i){r.indexOf(i)===-1&&r.push(i)}),r}},OV={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},$V={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Ph(t)?t.number:0}},zV=function(){function e(t,n){var r,i;this.animationDuration=Tt(t,PV,n.animationDuration),this.backgroundClip=Tt(t,fK,n.backgroundClip),this.backgroundColor=Tt(t,pK,n.backgroundColor),this.backgroundImage=Tt(t,SK,n.backgroundImage),this.backgroundOrigin=Tt(t,jK,n.backgroundOrigin),this.backgroundPosition=Tt(t,kK,n.backgroundPosition),this.backgroundRepeat=Tt(t,EK,n.backgroundRepeat),this.backgroundSize=Tt(t,FK,n.backgroundSize),this.borderTopColor=Tt(t,TK,n.borderTopColor),this.borderRightColor=Tt(t,_K,n.borderRightColor),this.borderBottomColor=Tt(t,DK,n.borderBottomColor),this.borderLeftColor=Tt(t,UK,n.borderLeftColor),this.borderTopLeftRadius=Tt(t,LK,n.borderTopLeftRadius),this.borderTopRightRadius=Tt(t,MK,n.borderTopRightRadius),this.borderBottomRightRadius=Tt(t,PK,n.borderBottomRightRadius),this.borderBottomLeftRadius=Tt(t,QK,n.borderBottomLeftRadius),this.borderTopStyle=Tt(t,RK,n.borderTopStyle),this.borderRightStyle=Tt(t,HK,n.borderRightStyle),this.borderBottomStyle=Tt(t,OK,n.borderBottomStyle),this.borderLeftStyle=Tt(t,$K,n.borderLeftStyle),this.borderTopWidth=Tt(t,zK,n.borderTopWidth),this.borderRightWidth=Tt(t,WK,n.borderRightWidth),this.borderBottomWidth=Tt(t,KK,n.borderBottomWidth),this.borderLeftWidth=Tt(t,VK,n.borderLeftWidth),this.boxShadow=Tt(t,RV,n.boxShadow),this.color=Tt(t,GK,n.color),this.direction=Tt(t,qK,n.direction),this.display=Tt(t,YK,n.display),this.float=Tt(t,JK,n.cssFloat),this.fontFamily=Tt(t,FV,n.fontFamily),this.fontSize=Tt(t,NV,n.fontSize),this.fontStyle=Tt(t,DV,n.fontStyle),this.fontVariant=Tt(t,_V,n.fontVariant),this.fontWeight=Tt(t,TV,n.fontWeight),this.letterSpacing=Tt(t,ZK,n.letterSpacing),this.lineBreak=Tt(t,eV,n.lineBreak),this.lineHeight=Tt(t,tV,n.lineHeight),this.listStyleImage=Tt(t,nV,n.listStyleImage),this.listStylePosition=Tt(t,rV,n.listStylePosition),this.listStyleType=Tt(t,sy,n.listStyleType),this.marginTop=Tt(t,sV,n.marginTop),this.marginRight=Tt(t,iV,n.marginRight),this.marginBottom=Tt(t,aV,n.marginBottom),this.marginLeft=Tt(t,oV,n.marginLeft),this.opacity=Tt(t,kV,n.opacity);var a=Tt(t,lV,n.overflow);this.overflowX=a[0],this.overflowY=a[a.length>1?1:0],this.overflowWrap=Tt(t,AV,n.overflowWrap),this.paddingTop=Tt(t,cV,n.paddingTop),this.paddingRight=Tt(t,dV,n.paddingRight),this.paddingBottom=Tt(t,uV,n.paddingBottom),this.paddingLeft=Tt(t,hV,n.paddingLeft),this.paintOrder=Tt(t,HV,n.paintOrder),this.position=Tt(t,pV,n.position),this.textAlign=Tt(t,fV,n.textAlign),this.textDecorationColor=Tt(t,EV,(r=n.textDecorationColor)!==null&&r!==void 0?r:n.color),this.textDecorationLine=Tt(t,IV,(i=n.textDecorationLine)!==null&&i!==void 0?i:n.textDecoration),this.textShadow=Tt(t,gV,n.textShadow),this.textTransform=Tt(t,mV,n.textTransform),this.transform=Tt(t,vV,n.transform),this.transformOrigin=Tt(t,CV,n.transformOrigin),this.visibility=Tt(t,BV,n.visibility),this.webkitTextStrokeColor=Tt(t,OV,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=Tt(t,$V,n.webkitTextStrokeWidth),this.wordBreak=Tt(t,SV,n.wordBreak),this.zIndex=Tt(t,jV,n.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return Jo(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return $r(this.display,4)||$r(this.display,33554432)||$r(this.display,268435456)||$r(this.display,536870912)||$r(this.display,67108864)||$r(this.display,134217728)},e}(),WV=function(){function e(t,n){this.content=Tt(t,UV,n.content),this.quotes=Tt(t,QV,n.quotes)}return e}(),rB=function(){function e(t,n){this.counterIncrement=Tt(t,LV,n.counterIncrement),this.counterReset=Tt(t,MV,n.counterReset)}return e}(),Tt=function(e,t,n){var r=new g3,i=n!==null&&typeof n<"u"?n.toString():t.initialValue;r.write(i);var a=new m3(r.read());switch(t.type){case 2:var o=a.parseComponentValue();return t.parse(e,Wn(o)?o.value:t.initialValue);case 0:return t.parse(e,a.parseComponentValue());case 1:return t.parse(e,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(t.format){case"angle":return Mm.parse(e,a.parseComponentValue());case"color":return Xo.parse(e,a.parseComponentValue());case"image":return Qx.parse(e,a.parseComponentValue());case"length":var l=a.parseComponentValue();return ll(l)?l:hs;case"length-percentage":var A=a.parseComponentValue();return Qr(A)?A:hs;case"time":return U3.parse(e,a.parseComponentValue())}break}},KV="data-html2canvas-debug",VV=function(e){var t=e.getAttribute(KV);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},iy=function(e,t){var n=VV(e);return n===1||t===n},_a=function(){function e(t,n){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,iy(n,3))debugger;this.styles=new zV(t,window.getComputedStyle(n,null)),ly(n)&&(this.styles.animationDuration.some(function(r){return r>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=Um(this.context,n),iy(n,4)&&(this.flags|=16)}return e}(),GV="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",sB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Cu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ap=0;Ap<sB.length;Ap++)Cu[sB.charCodeAt(Ap)]=Ap;var qV=function(e){var t=e.length*.75,n=e.length,r,i=0,a,o,l,A;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),d=Array.isArray(c)?c:new Uint8Array(c);for(r=0;r<n;r+=4)a=Cu[e.charCodeAt(r)],o=Cu[e.charCodeAt(r+1)],l=Cu[e.charCodeAt(r+2)],A=Cu[e.charCodeAt(r+3)],d[i++]=a<<2|o>>4,d[i++]=(o&15)<<4|l>>2,d[i++]=(l&3)<<6|A&63;return c},YV=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},XV=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},Kl=5,Rx=11,kv=2,JV=Rx-Kl,L3=65536>>Kl,ZV=1<<Kl,Ev=ZV-1,eG=1024>>Kl,tG=L3+eG,nG=tG,rG=32,sG=nG+rG,iG=65536>>Rx,aG=1<<JV,oG=aG-1,iB=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},lG=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},AG=function(e,t){var n=qV(e),r=Array.isArray(n)?XV(n):new Uint32Array(n),i=Array.isArray(n)?YV(n):new Uint16Array(n),a=24,o=iB(i,a/2,r[4]/2),l=r[5]===2?iB(i,(a+r[4])/2):lG(r,Math.ceil((a+r[4])/4));return new cG(r[0],r[1],r[2],r[3],o,l)},cG=function(){function e(t,n,r,i,a,o){this.initialValue=t,this.errorValue=n,this.highStart=r,this.highValueIndex=i,this.index=a,this.data=o}return e.prototype.get=function(t){var n;if(t>=0){if(t<55296||t>56319&&t<=65535)return n=this.index[t>>Kl],n=(n<<kv)+(t&Ev),this.data[n];if(t<=65535)return n=this.index[L3+(t-55296>>Kl)],n=(n<<kv)+(t&Ev),this.data[n];if(t<this.highStart)return n=sG-iG+(t>>Rx),n=this.index[n],n+=t>>Kl&oG,n=this.index[n],n=(n<<kv)+(t&Ev),this.data[n];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),aB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",dG=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var cp=0;cp<aB.length;cp++)dG[aB.charCodeAt(cp)]=cp;var uG=1,Iv=2,Fv=3,oB=4,lB=5,hG=7,AB=8,Nv=9,Tv=10,cB=11,dB=12,uB=13,hB=14,_v=15,fG=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);(a&64512)===56320?t.push(((i&1023)<<10)+(a&1023)+65536):(t.push(i),n--)}else t.push(i)}return t},pG=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],i=-1,a="";++i<n;){var o=e[i];o<=65535?r.push(o):(o-=65536,r.push((o>>10)+55296,o%1024+56320)),(i+1===n||r.length>16384)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},gG=AG(GV),Ci="×",Dv="÷",mG=function(e){return gG.get(e)},vG=function(e,t,n){var r=n-2,i=t[r],a=t[n-1],o=t[n];if(a===Iv&&o===Fv)return Ci;if(a===Iv||a===Fv||a===oB||o===Iv||o===Fv||o===oB)return Dv;if(a===AB&&[AB,Nv,cB,dB].indexOf(o)!==-1||(a===cB||a===Nv)&&(o===Nv||o===Tv)||(a===dB||a===Tv)&&o===Tv||o===uB||o===lB||o===hG||a===uG)return Ci;if(a===uB&&o===hB){for(;i===lB;)i=t[--r];if(i===hB)return Ci}if(a===_v&&o===_v){for(var l=0;i===_v;)l++,i=t[--r];if(l%2===0)return Ci}return Dv},yG=function(e){var t=fG(e),n=t.length,r=0,i=0,a=t.map(mG);return{next:function(){if(r>=n)return{done:!0,value:null};for(var o=Ci;r<n&&(o=vG(t,a,++r))===Ci;);if(o!==Ci||r===n){var l=pG.apply(null,t.slice(i,r));return i=r,{value:l,done:!1}}return{done:!0,value:null}}}},xG=function(e){for(var t=yG(e),n=[],r;!(r=t.next()).done;)r.value&&n.push(r.value.slice());return n},bG=function(e){var t=123;if(e.createRange){var n=e.createRange();if(n.getBoundingClientRect){var r=e.createElement("boundtest");r.style.height=t+"px",r.style.display="block",e.body.appendChild(r),n.selectNode(r);var i=n.getBoundingClientRect(),a=Math.round(i.height);if(e.body.removeChild(r),a===t)return!0}}return!1},wG=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=t.firstChild,i=Lm(r.data).map(function(A){return kr(A)}),a=0,o={},l=i.every(function(A,c){n.setStart(r,a),n.setEnd(r,a+A.length);var d=n.getBoundingClientRect();a+=A.length;var u=d.x>o.x||d.y>o.y;return o=d,c===0?!0:u});return e.body.removeChild(t),l},CG=function(){return typeof new Image().crossOrigin<"u"},BG=function(){return typeof new XMLHttpRequest().responseType=="string"},SG=function(e){var t=new Image,n=e.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(t,0,0),n.toDataURL()}catch{return!1}return!0},fB=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},jG=function(e){var t=e.createElement("canvas"),n=100;t.width=n,t.height=n;var r=t.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var i=new Image,a=t.toDataURL();i.src=a;var o=ay(n,n,0,0,i);return r.fillStyle="red",r.fillRect(0,0,n,n),pB(o).then(function(l){r.drawImage(l,0,0);var A=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var c=e.createElement("div");return c.style.backgroundImage="url("+a+")",c.style.height=n+"px",fB(A)?pB(ay(n,n,0,0,c)):Promise.reject(!1)}).then(function(l){return r.drawImage(l,0,0),fB(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},ay=function(e,t,n,r,i){var a="http://www.w3.org/2000/svg",o=document.createElementNS(a,"svg"),l=document.createElementNS(a,"foreignObject");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",t.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",n.toString()),l.setAttributeNS(null,"y",r.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(l),l.appendChild(i),o},pB=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},As={get SUPPORT_RANGE_BOUNDS(){var e=bG(document);return Object.defineProperty(As,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=As.SUPPORT_RANGE_BOUNDS&&wG(document);return Object.defineProperty(As,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=SG(document);return Object.defineProperty(As,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?jG(document):Promise.resolve(!1);return Object.defineProperty(As,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=CG();return Object.defineProperty(As,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=BG();return Object.defineProperty(As,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(As,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(As,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},Ru=function(){function e(t,n){this.text=t,this.bounds=n}return e}(),kG=function(e,t,n,r){var i=FG(t,n),a=[],o=0;return i.forEach(function(l){if(n.textDecorationLine.length||l.trim().length>0)if(As.SUPPORT_RANGE_BOUNDS){var A=gB(r,o,l.length).getClientRects();if(A.length>1){var c=Hx(l),d=0;c.forEach(function(p){a.push(new Ru(p,uo.fromDOMRectList(e,gB(r,d+o,p.length).getClientRects()))),d+=p.length})}else a.push(new Ru(l,uo.fromDOMRectList(e,A)))}else{var u=r.splitText(l.length);a.push(new Ru(l,EG(e,r))),r=u}else As.SUPPORT_RANGE_BOUNDS||(r=r.splitText(l.length));o+=l.length}),a},EG=function(e,t){var n=t.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(t.cloneNode(!0));var i=t.parentNode;if(i){i.replaceChild(r,t);var a=Um(e,r);return r.firstChild&&i.replaceChild(r.firstChild,r),a}}return uo.EMPTY},gB=function(e,t,n){var r=e.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(e,t),i.setEnd(e,t+n),i},Hx=function(e){if(As.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(n){return n.segment})}return xG(e)},IG=function(e,t){if(As.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(e)).map(function(r){return r.segment})}return TG(e,t)},FG=function(e,t){return t.letterSpacing!==0?Hx(e):IG(e,t)},NG=[32,160,4961,65792,65793,4153,4241],TG=function(e,t){for(var n=iW(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),r=[],i,a=function(){if(i.value){var o=i.value.slice(),l=Lm(o),A="";l.forEach(function(c){NG.indexOf(c)===-1?A+=kr(c):(A.length&&r.push(A),r.push(kr(c)),A="")}),A.length&&r.push(A)}};!(i=n.next()).done;)a();return r},_G=function(){function e(t,n,r){this.text=DG(n.data,r.textTransform),this.textBounds=kG(t,this.text,r,n)}return e}(),DG=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(UG,LG);case 2:return e.toUpperCase();default:return e}},UG=/(^|\s|:|-|\(|\))([a-z])/g,LG=function(e,t,n){return e.length>0?t+n.toUpperCase():e},M3=function(e){ia(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.src=r.currentSrc||r.src,i.intrinsicWidth=r.naturalWidth,i.intrinsicHeight=r.naturalHeight,i.context.cache.addImage(i.src),i}return t}(_a),P3=function(e){ia(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.canvas=r,i.intrinsicWidth=r.width,i.intrinsicHeight=r.height,i}return t}(_a),Q3=function(e){ia(t,e);function t(n,r){var i=e.call(this,n,r)||this,a=new XMLSerializer,o=Um(n,r);return r.setAttribute("width",o.width+"px"),r.setAttribute("height",o.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(a.serializeToString(r)),i.intrinsicWidth=r.width.baseVal.value,i.intrinsicHeight=r.height.baseVal.value,i.context.cache.addImage(i.svg),i}return t}(_a),R3=function(e){ia(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.value=r.value,i}return t}(_a),oy=function(e){ia(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.start=r.start,i.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,i}return t}(_a),MG=[{type:15,flags:0,unit:"px",number:3}],PG=[{type:16,flags:0,number:50}],QG=function(e){return e.width>e.height?new uo(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new uo(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},RG=function(e){var t=e.type===HG?new Array(e.value.length+1).join("•"):e.value;return t.length===0?e.placeholder||"":t},bg="checkbox",wg="radio",HG="password",mB=707406591,Ox=function(e){ia(t,e);function t(n,r){var i=e.call(this,n,r)||this;switch(i.type=r.type.toLowerCase(),i.checked=r.checked,i.value=RG(r),(i.type===bg||i.type===wg)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=QG(i.bounds)),i.type){case bg:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=MG;break;case wg:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=PG;break}return i}return t}(_a),H3=function(e){ia(t,e);function t(n,r){var i=e.call(this,n,r)||this,a=r.options[r.selectedIndex||0];return i.value=a&&a.text||"",i}return t}(_a),O3=function(e){ia(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.value=r.value,i}return t}(_a),$3=function(e){ia(t,e);function t(n,r){var i=e.call(this,n,r)||this;i.src=r.src,i.width=parseInt(r.width,10)||0,i.height=parseInt(r.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){i.tree=W3(n,r.contentWindow.document.documentElement);var a=r.contentWindow.document.documentElement?Pu(n,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):no.TRANSPARENT,o=r.contentWindow.document.body?Pu(n,getComputedStyle(r.contentWindow.document.body).backgroundColor):no.TRANSPARENT;i.backgroundColor=Jo(a)?Jo(o)?i.styles.backgroundColor:o:a}}catch{}return i}return t}(_a),OG=["OL","UL","MENU"],Rp=function(e,t,n,r){for(var i=t.firstChild,a=void 0;i;i=a)if(a=i.nextSibling,K3(i)&&i.data.trim().length>0)n.textNodes.push(new _G(e,i,n.styles));else if(fc(i))if(Y3(i)&&i.assignedNodes)i.assignedNodes().forEach(function(l){return Rp(e,l,n,r)});else{var o=z3(e,i);o.styles.isVisible()&&($G(i,o,r)?o.flags|=4:zG(o.styles)&&(o.flags|=2),OG.indexOf(i.tagName)!==-1&&(o.flags|=8),n.elements.push(o),i.slot,i.shadowRoot?Rp(e,i.shadowRoot,o,r):!Cg(i)&&!V3(i)&&!Bg(i)&&Rp(e,i,o,r))}},z3=function(e,t){return Ay(t)?new M3(e,t):G3(t)?new P3(e,t):V3(t)?new Q3(e,t):WG(t)?new R3(e,t):KG(t)?new oy(e,t):VG(t)?new Ox(e,t):Bg(t)?new H3(e,t):Cg(t)?new O3(e,t):q3(t)?new $3(e,t):new _a(e,t)},W3=function(e,t){var n=z3(e,t);return n.flags|=4,Rp(e,t,n,n),n},$G=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||$x(e)&&n.styles.isTransparent()},zG=function(e){return e.isPositioned()||e.isFloating()},K3=function(e){return e.nodeType===Node.TEXT_NODE},fc=function(e){return e.nodeType===Node.ELEMENT_NODE},ly=function(e){return fc(e)&&typeof e.style<"u"&&!Hp(e)},Hp=function(e){return typeof e.className=="object"},WG=function(e){return e.tagName==="LI"},KG=function(e){return e.tagName==="OL"},VG=function(e){return e.tagName==="INPUT"},GG=function(e){return e.tagName==="HTML"},V3=function(e){return e.tagName==="svg"},$x=function(e){return e.tagName==="BODY"},G3=function(e){return e.tagName==="CANVAS"},vB=function(e){return e.tagName==="VIDEO"},Ay=function(e){return e.tagName==="IMG"},q3=function(e){return e.tagName==="IFRAME"},yB=function(e){return e.tagName==="STYLE"},qG=function(e){return e.tagName==="SCRIPT"},Cg=function(e){return e.tagName==="TEXTAREA"},Bg=function(e){return e.tagName==="SELECT"},Y3=function(e){return e.tagName==="SLOT"},xB=function(e){return e.tagName.indexOf("-")>0},YG=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var n=this.counters[t];return n&&n.length?n[n.length-1]:1},e.prototype.getCounterValues=function(t){var n=this.counters[t];return n||[]},e.prototype.pop=function(t){var n=this;t.forEach(function(r){return n.counters[r].pop()})},e.prototype.parse=function(t){var n=this,r=t.counterIncrement,i=t.counterReset,a=!0;r!==null&&r.forEach(function(l){var A=n.counters[l.counter];A&&l.increment!==0&&(a=!1,A.length||A.push(1),A[Math.max(0,A.length-1)]+=l.increment)});var o=[];return a&&i.forEach(function(l){var A=n.counters[l.counter];o.push(l.counter),A||(A=n.counters[l.counter]=[]),A.push(l.reset)}),o},e}(),bB={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},wB={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},XG={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},JG={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},XA=function(e,t,n,r,i,a){return e<t||e>n?ch(e,i,a.length>0):r.integers.reduce(function(o,l,A){for(;e>=l;)e-=l,o+=r.values[A];return o},"")+a},X3=function(e,t,n,r){var i="";do n||e--,i=r(e)+i,e/=t;while(e*t>=t);return i},jr=function(e,t,n,r,i){var a=n-t+1;return(e<0?"-":"")+(X3(Math.abs(e),a,r,function(o){return kr(Math.floor(o%a)+t)})+i)},jl=function(e,t,n){n===void 0&&(n=". ");var r=t.length;return X3(Math.abs(e),r,!1,function(i){return t[Math.floor(i%r)]})+n},oc=1,Po=2,Qo=4,Bu=8,Ka=function(e,t,n,r,i,a){if(e<-9999||e>9999)return ch(e,4,i.length>0);var o=Math.abs(e),l=i;if(o===0)return t[0]+l;for(var A=0;o>0&&A<=4;A++){var c=o%10;c===0&&$r(a,oc)&&l!==""?l=t[c]+l:c>1||c===1&&A===0||c===1&&A===1&&$r(a,Po)||c===1&&A===1&&$r(a,Qo)&&e>100||c===1&&A>1&&$r(a,Bu)?l=t[c]+(A>0?n[A-1]:"")+l:c===1&&A>0&&(l=n[A-1]+l),o=Math.floor(o/10)}return(e<0?r:"")+l},CB="十百千萬",BB="拾佰仟萬",SB="マイナス",Uv="마이너스",ch=function(e,t,n){var r=n?". ":"",i=n?"、":"",a=n?", ":"",o=n?" ":"";switch(t){case 0:return"•"+o;case 1:return"◦"+o;case 2:return"◾"+o;case 5:var l=jr(e,48,57,!0,r);return l.length<4?"0"+l:l;case 4:return jl(e,"〇一二三四五六七八九",i);case 6:return XA(e,1,3999,bB,3,r).toLowerCase();case 7:return XA(e,1,3999,bB,3,r);case 8:return jr(e,945,969,!1,r);case 9:return jr(e,97,122,!1,r);case 10:return jr(e,65,90,!1,r);case 11:return jr(e,1632,1641,!0,r);case 12:case 49:return XA(e,1,9999,wB,3,r);case 35:return XA(e,1,9999,wB,3,r).toLowerCase();case 13:return jr(e,2534,2543,!0,r);case 14:case 30:return jr(e,6112,6121,!0,r);case 15:return jl(e,"子丑寅卯辰巳午未申酉戌亥",i);case 16:return jl(e,"甲乙丙丁戊己庚辛壬癸",i);case 17:case 48:return Ka(e,"零一二三四五六七八九",CB,"負",i,Po|Qo|Bu);case 47:return Ka(e,"零壹貳參肆伍陸柒捌玖",BB,"負",i,oc|Po|Qo|Bu);case 42:return Ka(e,"零一二三四五六七八九",CB,"负",i,Po|Qo|Bu);case 41:return Ka(e,"零壹贰叁肆伍陆柒捌玖",BB,"负",i,oc|Po|Qo|Bu);case 26:return Ka(e,"〇一二三四五六七八九","十百千万",SB,i,0);case 25:return Ka(e,"零壱弐参四伍六七八九","拾百千万",SB,i,oc|Po|Qo);case 31:return Ka(e,"영일이삼사오육칠팔구","십백천만",Uv,a,oc|Po|Qo);case 33:return Ka(e,"零一二三四五六七八九","十百千萬",Uv,a,0);case 32:return Ka(e,"零壹貳參四五六七八九","拾百千",Uv,a,oc|Po|Qo);case 18:return jr(e,2406,2415,!0,r);case 20:return XA(e,1,19999,JG,3,r);case 21:return jr(e,2790,2799,!0,r);case 22:return jr(e,2662,2671,!0,r);case 22:return XA(e,1,10999,XG,3,r);case 23:return jl(e,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return jl(e,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return jr(e,3302,3311,!0,r);case 28:return jl(e,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",i);case 29:return jl(e,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",i);case 34:return jr(e,3792,3801,!0,r);case 37:return jr(e,6160,6169,!0,r);case 38:return jr(e,4160,4169,!0,r);case 39:return jr(e,2918,2927,!0,r);case 40:return jr(e,1776,1785,!0,r);case 43:return jr(e,3046,3055,!0,r);case 44:return jr(e,3174,3183,!0,r);case 45:return jr(e,3664,3673,!0,r);case 46:return jr(e,3872,3881,!0,r);case 3:default:return jr(e,48,57,!0,r)}},J3="data-html2canvas-ignore",jB=function(){function e(t,n,r){if(this.context=t,this.options=r,this.scrolledElements=[],this.referenceElement=n,this.counters=new YG,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,n){var r=this,i=ZG(t,n);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var a=t.defaultView.pageXOffset,o=t.defaultView.pageYOffset,l=i.contentWindow,A=l.document,c=nq(i).then(function(){return Ds(r,void 0,void 0,function(){var d,u;return bs(this,function(p){switch(p.label){case 0:return this.scrolledElements.forEach(aq),l&&(l.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==n.top||l.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-n.left,l.scrollY-n.top,0,0))),d=this.options.onclone,u=this.clonedReferenceElement,typeof u>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:A.fonts&&A.fonts.ready?[4,A.fonts.ready]:[3,2];case 1:p.sent(),p.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,tq(A)]:[3,4];case 3:p.sent(),p.label=4;case 4:return typeof d=="function"?[2,Promise.resolve().then(function(){return d(A,u)}).then(function(){return i})]:[2,i]}})})});return A.open(),A.write(sq(document.doctype)+"<html></html>"),iq(this.referenceElement.ownerDocument,a,o),A.replaceChild(A.adoptNode(this.documentElement),A.documentElement),A.close(),c},e.prototype.createElementClone=function(t){if(iy(t,2))debugger;if(G3(t))return this.createCanvasClone(t);if(vB(t))return this.createVideoClone(t);if(yB(t))return this.createStyleClone(t);var n=t.cloneNode(!1);return Ay(n)&&(Ay(t)&&t.currentSrc&&t.currentSrc!==t.src&&(n.src=t.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),xB(n)?this.createCustomElementClone(n):n},e.prototype.createCustomElementClone=function(t){var n=document.createElement("html2canvascustomelement");return Lv(t.style,n),n},e.prototype.createStyleClone=function(t){try{var n=t.sheet;if(n&&n.cssRules){var r=[].slice.call(n.cssRules,0).reduce(function(a,o){return o&&typeof o.cssText=="string"?a+o.cssText:a},""),i=t.cloneNode(!1);return i.textContent=r,i}}catch(a){if(this.context.logger.error("Unable to access cssRules property",a),a.name!=="SecurityError")throw a}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var n;if(this.options.inlineImages&&t.ownerDocument){var r=t.ownerDocument.createElement("img");try{return r.src=t.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var i=t.cloneNode(!1);try{i.width=t.width,i.height=t.height;var a=t.getContext("2d"),o=i.getContext("2d");if(o)if(!this.options.allowTaint&&a)o.putImageData(a.getImageData(0,0,t.width,t.height),0,0);else{var l=(n=t.getContext("webgl2"))!==null&&n!==void 0?n:t.getContext("webgl");if(l){var A=l.getContextAttributes();(A==null?void 0:A.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}o.drawImage(t,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return i},e.prototype.createVideoClone=function(t){var n=t.ownerDocument.createElement("canvas");n.width=t.offsetWidth,n.height=t.offsetHeight;var r=n.getContext("2d");try{return r&&(r.drawImage(t,0,0,n.width,n.height),this.options.allowTaint||r.getImageData(0,0,n.width,n.height)),n}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var i=t.ownerDocument.createElement("canvas");return i.width=t.offsetWidth,i.height=t.offsetHeight,i},e.prototype.appendChildNode=function(t,n,r){(!fc(n)||!qG(n)&&!n.hasAttribute(J3)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!fc(n)||!yB(n))&&t.appendChild(this.cloneNode(n,r))},e.prototype.cloneChildNodes=function(t,n,r){for(var i=this,a=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;a;a=a.nextSibling)if(fc(a)&&Y3(a)&&typeof a.assignedNodes=="function"){var o=a.assignedNodes();o.length&&o.forEach(function(l){return i.appendChildNode(n,l,r)})}else this.appendChildNode(n,a,r)},e.prototype.cloneNode=function(t,n){if(K3(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var r=t.ownerDocument.defaultView;if(r&&fc(t)&&(ly(t)||Hp(t))){var i=this.createElementClone(t);i.style.transitionProperty="none";var a=r.getComputedStyle(t),o=r.getComputedStyle(t,":before"),l=r.getComputedStyle(t,":after");this.referenceElement===t&&ly(i)&&(this.clonedReferenceElement=i),$x(i)&&Aq(i);var A=this.counters.parse(new rB(this.context,a)),c=this.resolvePseudoContent(t,i,o,Hu.BEFORE);xB(t)&&(n=!0),vB(t)||this.cloneChildNodes(t,i,n),c&&i.insertBefore(c,i.firstChild);var d=this.resolvePseudoContent(t,i,l,Hu.AFTER);return d&&i.appendChild(d),this.counters.pop(A),(a&&(this.options.copyStyles||Hp(t))&&!q3(t)||n)&&Lv(a,i),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([i,t.scrollLeft,t.scrollTop]),(Cg(t)||Bg(t))&&(Cg(i)||Bg(i))&&(i.value=t.value),i}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,n,r,i){var a=this;if(r){var o=r.content,l=n.ownerDocument;if(!(!l||!o||o==="none"||o==="-moz-alt-content"||r.display==="none")){this.counters.parse(new rB(this.context,r));var A=new WV(this.context,r),c=l.createElement("html2canvaspseudoelement");Lv(r,c),A.content.forEach(function(u){if(u.type===0)c.appendChild(l.createTextNode(u.value));else if(u.type===22){var p=l.createElement("img");p.src=u.value,p.style.opacity="1",c.appendChild(p)}else if(u.type===18){if(u.name==="attr"){var h=u.values.filter(Wn);h.length&&c.appendChild(l.createTextNode(t.getAttribute(h[0].value)||""))}else if(u.name==="counter"){var m=u.values.filter(Wc),g=m[0],y=m[1];if(g&&Wn(g)){var x=a.counters.getCounterValue(g.value),C=y&&Wn(y)?sy.parse(a.context,y.value):3;c.appendChild(l.createTextNode(ch(x,C,!1)))}}else if(u.name==="counters"){var S=u.values.filter(Wc),g=S[0],w=S[1],y=S[2];if(g&&Wn(g)){var _=a.counters.getCounterValues(g.value),E=y&&Wn(y)?sy.parse(a.context,y.value):3,T=w&&w.type===0?w.value:"",F=_.map(function(I){return ch(I,E,!1)}).join(T);c.appendChild(l.createTextNode(F))}}}else if(u.type===20)switch(u.value){case"open-quote":c.appendChild(l.createTextNode(nB(A.quotes,a.quoteDepth++,!0)));break;case"close-quote":c.appendChild(l.createTextNode(nB(A.quotes,--a.quoteDepth,!1)));break;default:c.appendChild(l.createTextNode(u.value))}}),c.className=cy+" "+dy;var d=i===Hu.BEFORE?" "+cy:" "+dy;return Hp(n)?n.className.baseValue+=d:n.className+=d,c}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e}(),Hu;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(Hu||(Hu={}));var ZG=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute(J3,"true"),e.body.appendChild(n),n},eq=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},tq=function(e){return Promise.all([].slice.call(e.images,0).map(eq))},nq=function(e){return new Promise(function(t,n){var r=e.contentWindow;if(!r)return n("No window assigned for iframe");var i=r.document;r.onload=e.onload=function(){r.onload=e.onload=null;var a=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(a),t(e))},50)}})},rq=["all","d","content"],Lv=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e.item(n);rq.indexOf(r)===-1&&t.style.setProperty(r,e.getPropertyValue(r))}return t},sq=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},iq=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},aq=function(e){var t=e[0],n=e[1],r=e[2];t.scrollLeft=n,t.scrollTop=r},oq=":before",lq=":after",cy="___html2canvas___pseudoelement_before",dy="___html2canvas___pseudoelement_after",kB=`{
    content: "" !important;
    display: none !important;
}`,Aq=function(e){cq(e,"."+cy+oq+kB+`
         .`+dy+lq+kB)},cq=function(e,t){var n=e.ownerDocument;if(n){var r=n.createElement("style");r.textContent=t,e.appendChild(r)}},Z3=function(){function e(){}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),dq=function(){function e(t,n){this.context=t,this._options=n,this._cache={}}return e.prototype.addImage=function(t){var n=Promise.resolve();return this.has(t)||(Pv(t)||pq(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),n},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return Ds(this,void 0,void 0,function(){var n,r,i,a,o=this;return bs(this,function(l){switch(l.label){case 0:return n=Z3.isSameOrigin(t),r=!Mv(t)&&this._options.useCORS===!0&&As.SUPPORT_CORS_IMAGES&&!n,i=!Mv(t)&&!n&&!Pv(t)&&typeof this._options.proxy=="string"&&As.SUPPORT_CORS_XHR&&!r,!n&&this._options.allowTaint===!1&&!Mv(t)&&!Pv(t)&&!i&&!r?[2]:(a=t,i?[4,this.proxy(a)]:[3,2]);case 1:a=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(A,c){var d=new Image;d.onload=function(){return A(d)},d.onerror=c,(gq(a)||r)&&(d.crossOrigin="anonymous"),d.src=a,d.complete===!0&&setTimeout(function(){return A(d)},500),o._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var n=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var i=t.substring(0,256);return new Promise(function(a,o){var l=As.SUPPORT_RESPONSE_TYPE?"blob":"text",A=new XMLHttpRequest;A.onload=function(){if(A.status===200)if(l==="text")a(A.response);else{var u=new FileReader;u.addEventListener("load",function(){return a(u.result)},!1),u.addEventListener("error",function(p){return o(p)},!1),u.readAsDataURL(A.response)}else o("Failed to proxy resource "+i+" with status code "+A.status)},A.onerror=o;var c=r.indexOf("?")>-1?"&":"?";if(A.open("GET",""+r+c+"url="+encodeURIComponent(t)+"&responseType="+l),l!=="text"&&A instanceof XMLHttpRequest&&(A.responseType=l),n._options.imageTimeout){var d=n._options.imageTimeout;A.timeout=d,A.ontimeout=function(){return o("Timed out ("+d+"ms) proxying "+i)}}A.send()})},e}(),uq=/^data:image\/svg\+xml/i,hq=/^data:image\/.*;base64,/i,fq=/^data:image\/.*/i,pq=function(e){return As.SUPPORT_SVG_DRAWING||!mq(e)},Mv=function(e){return fq.test(e)},gq=function(e){return hq.test(e)},Pv=function(e){return e.substr(0,4)==="blob"},mq=function(e){return e.substr(-3).toLowerCase()==="svg"||uq.test(e)},kt=function(){function e(t,n){this.type=0,this.x=t,this.y=n}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),JA=function(e,t,n){return new kt(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},dp=function(){function e(t,n,r,i){this.type=1,this.start=t,this.startControl=n,this.endControl=r,this.end=i}return e.prototype.subdivide=function(t,n){var r=JA(this.start,this.startControl,t),i=JA(this.startControl,this.endControl,t),a=JA(this.endControl,this.end,t),o=JA(r,i,t),l=JA(i,a,t),A=JA(o,l,t);return n?new e(this.start,r,o,A):new e(A,l,a,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),Ei=function(e){return e.type===1},vq=function(){function e(t){var n=t.styles,r=t.bounds,i=wu(n.borderTopLeftRadius,r.width,r.height),a=i[0],o=i[1],l=wu(n.borderTopRightRadius,r.width,r.height),A=l[0],c=l[1],d=wu(n.borderBottomRightRadius,r.width,r.height),u=d[0],p=d[1],h=wu(n.borderBottomLeftRadius,r.width,r.height),m=h[0],g=h[1],y=[];y.push((a+A)/r.width),y.push((m+u)/r.width),y.push((o+g)/r.height),y.push((c+p)/r.height);var x=Math.max.apply(Math,y);x>1&&(a/=x,o/=x,A/=x,c/=x,u/=x,p/=x,m/=x,g/=x);var C=r.width-A,S=r.height-p,w=r.width-u,_=r.height-g,E=n.borderTopWidth,T=n.borderRightWidth,F=n.borderBottomWidth,M=n.borderLeftWidth,P=Zn(n.paddingTop,t.bounds.width),I=Zn(n.paddingRight,t.bounds.width),j=Zn(n.paddingBottom,t.bounds.width),U=Zn(n.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=a>0||o>0?Ar(r.left+M/3,r.top+E/3,a-M/3,o-E/3,Ln.TOP_LEFT):new kt(r.left+M/3,r.top+E/3),this.topRightBorderDoubleOuterBox=a>0||o>0?Ar(r.left+C,r.top+E/3,A-T/3,c-E/3,Ln.TOP_RIGHT):new kt(r.left+r.width-T/3,r.top+E/3),this.bottomRightBorderDoubleOuterBox=u>0||p>0?Ar(r.left+w,r.top+S,u-T/3,p-F/3,Ln.BOTTOM_RIGHT):new kt(r.left+r.width-T/3,r.top+r.height-F/3),this.bottomLeftBorderDoubleOuterBox=m>0||g>0?Ar(r.left+M/3,r.top+_,m-M/3,g-F/3,Ln.BOTTOM_LEFT):new kt(r.left+M/3,r.top+r.height-F/3),this.topLeftBorderDoubleInnerBox=a>0||o>0?Ar(r.left+M*2/3,r.top+E*2/3,a-M*2/3,o-E*2/3,Ln.TOP_LEFT):new kt(r.left+M*2/3,r.top+E*2/3),this.topRightBorderDoubleInnerBox=a>0||o>0?Ar(r.left+C,r.top+E*2/3,A-T*2/3,c-E*2/3,Ln.TOP_RIGHT):new kt(r.left+r.width-T*2/3,r.top+E*2/3),this.bottomRightBorderDoubleInnerBox=u>0||p>0?Ar(r.left+w,r.top+S,u-T*2/3,p-F*2/3,Ln.BOTTOM_RIGHT):new kt(r.left+r.width-T*2/3,r.top+r.height-F*2/3),this.bottomLeftBorderDoubleInnerBox=m>0||g>0?Ar(r.left+M*2/3,r.top+_,m-M*2/3,g-F*2/3,Ln.BOTTOM_LEFT):new kt(r.left+M*2/3,r.top+r.height-F*2/3),this.topLeftBorderStroke=a>0||o>0?Ar(r.left+M/2,r.top+E/2,a-M/2,o-E/2,Ln.TOP_LEFT):new kt(r.left+M/2,r.top+E/2),this.topRightBorderStroke=a>0||o>0?Ar(r.left+C,r.top+E/2,A-T/2,c-E/2,Ln.TOP_RIGHT):new kt(r.left+r.width-T/2,r.top+E/2),this.bottomRightBorderStroke=u>0||p>0?Ar(r.left+w,r.top+S,u-T/2,p-F/2,Ln.BOTTOM_RIGHT):new kt(r.left+r.width-T/2,r.top+r.height-F/2),this.bottomLeftBorderStroke=m>0||g>0?Ar(r.left+M/2,r.top+_,m-M/2,g-F/2,Ln.BOTTOM_LEFT):new kt(r.left+M/2,r.top+r.height-F/2),this.topLeftBorderBox=a>0||o>0?Ar(r.left,r.top,a,o,Ln.TOP_LEFT):new kt(r.left,r.top),this.topRightBorderBox=A>0||c>0?Ar(r.left+C,r.top,A,c,Ln.TOP_RIGHT):new kt(r.left+r.width,r.top),this.bottomRightBorderBox=u>0||p>0?Ar(r.left+w,r.top+S,u,p,Ln.BOTTOM_RIGHT):new kt(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=m>0||g>0?Ar(r.left,r.top+_,m,g,Ln.BOTTOM_LEFT):new kt(r.left,r.top+r.height),this.topLeftPaddingBox=a>0||o>0?Ar(r.left+M,r.top+E,Math.max(0,a-M),Math.max(0,o-E),Ln.TOP_LEFT):new kt(r.left+M,r.top+E),this.topRightPaddingBox=A>0||c>0?Ar(r.left+Math.min(C,r.width-T),r.top+E,C>r.width+T?0:Math.max(0,A-T),Math.max(0,c-E),Ln.TOP_RIGHT):new kt(r.left+r.width-T,r.top+E),this.bottomRightPaddingBox=u>0||p>0?Ar(r.left+Math.min(w,r.width-M),r.top+Math.min(S,r.height-F),Math.max(0,u-T),Math.max(0,p-F),Ln.BOTTOM_RIGHT):new kt(r.left+r.width-T,r.top+r.height-F),this.bottomLeftPaddingBox=m>0||g>0?Ar(r.left+M,r.top+Math.min(_,r.height-F),Math.max(0,m-M),Math.max(0,g-F),Ln.BOTTOM_LEFT):new kt(r.left+M,r.top+r.height-F),this.topLeftContentBox=a>0||o>0?Ar(r.left+M+U,r.top+E+P,Math.max(0,a-(M+U)),Math.max(0,o-(E+P)),Ln.TOP_LEFT):new kt(r.left+M+U,r.top+E+P),this.topRightContentBox=A>0||c>0?Ar(r.left+Math.min(C,r.width+M+U),r.top+E+P,C>r.width+M+U?0:A-M+U,c-(E+P),Ln.TOP_RIGHT):new kt(r.left+r.width-(T+I),r.top+E+P),this.bottomRightContentBox=u>0||p>0?Ar(r.left+Math.min(w,r.width-(M+U)),r.top+Math.min(S,r.height+E+P),Math.max(0,u-(T+I)),p-(F+j),Ln.BOTTOM_RIGHT):new kt(r.left+r.width-(T+I),r.top+r.height-(F+j)),this.bottomLeftContentBox=m>0||g>0?Ar(r.left+M+U,r.top+_,Math.max(0,m-(M+U)),g-(F+j),Ln.BOTTOM_LEFT):new kt(r.left+M+U,r.top+r.height-(F+j))}return e}(),Ln;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Ln||(Ln={}));var Ar=function(e,t,n,r,i){var a=4*((Math.sqrt(2)-1)/3),o=n*a,l=r*a,A=e+n,c=t+r;switch(i){case Ln.TOP_LEFT:return new dp(new kt(e,c),new kt(e,c-l),new kt(A-o,t),new kt(A,t));case Ln.TOP_RIGHT:return new dp(new kt(e,t),new kt(e+o,t),new kt(A,c-l),new kt(A,c));case Ln.BOTTOM_RIGHT:return new dp(new kt(A,t),new kt(A,t+l),new kt(e+o,c),new kt(e,c));case Ln.BOTTOM_LEFT:default:return new dp(new kt(A,c),new kt(A-o,c),new kt(e,t+l),new kt(e,t))}},Sg=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},yq=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},jg=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},xq=function(){function e(t,n,r){this.offsetX=t,this.offsetY=n,this.matrix=r,this.type=0,this.target=6}return e}(),up=function(){function e(t,n){this.path=t,this.target=n,this.type=1}return e}(),bq=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),wq=function(e){return e.type===0},ek=function(e){return e.type===1},Cq=function(e){return e.type===2},EB=function(e,t){return e.length===t.length?e.some(function(n,r){return n===t[r]}):!1},Bq=function(e,t,n,r,i){return e.map(function(a,o){switch(o){case 0:return a.add(t,n);case 1:return a.add(t+r,n);case 2:return a.add(t+r,n+i);case 3:return a.add(t,n+i)}return a})},tk=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),nk=function(){function e(t,n){if(this.container=t,this.parent=n,this.effects=[],this.curves=new vq(this.container),this.container.styles.opacity<1&&this.effects.push(new bq(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,a=this.container.styles.transform;this.effects.push(new xq(r,i,a))}if(this.container.styles.overflowX!==0){var o=Sg(this.curves),l=jg(this.curves);EB(o,l)?this.effects.push(new up(o,6)):(this.effects.push(new up(o,2)),this.effects.push(new up(l,4)))}}return e.prototype.getEffects=function(t){for(var n=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,i=this.effects.slice(0);r;){var a=r.effects.filter(function(A){return!ek(A)});if(n||r.container.styles.position!==0||!r.parent){if(i.unshift.apply(i,a),n=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var o=Sg(r.curves),l=jg(r.curves);EB(o,l)||i.unshift(new up(l,6))}}else i.unshift.apply(i,a);r=r.parent}return i.filter(function(A){return $r(A.target,t)})},e}(),uy=function(e,t,n,r){e.container.elements.forEach(function(i){var a=$r(i.flags,4),o=$r(i.flags,2),l=new nk(i,e);$r(i.styles.display,2048)&&r.push(l);var A=$r(i.flags,8)?[]:r;if(a||o){var c=a||i.styles.isPositioned()?n:t,d=new tk(l);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var u=i.styles.zIndex.order;if(u<0){var p=0;c.negativeZIndex.some(function(m,g){return u>m.element.container.styles.zIndex.order?(p=g,!1):p>0}),c.negativeZIndex.splice(p,0,d)}else if(u>0){var h=0;c.positiveZIndex.some(function(m,g){return u>=m.element.container.styles.zIndex.order?(h=g+1,!1):h>0}),c.positiveZIndex.splice(h,0,d)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(d)}else i.styles.isFloating()?c.nonPositionedFloats.push(d):c.nonPositionedInlineLevel.push(d);uy(l,d,a?d:n,A)}else i.styles.isInlineLevel()?t.inlineLevel.push(l):t.nonInlineLevel.push(l),uy(l,t,n,A);$r(i.flags,8)&&rk(i,A)})},rk=function(e,t){for(var n=e instanceof oy?e.start:1,r=e instanceof oy?e.reversed:!1,i=0;i<t.length;i++){var a=t[i];a.container instanceof R3&&typeof a.container.value=="number"&&a.container.value!==0&&(n=a.container.value),a.listValue=ch(n,a.container.styles.listStyleType,!0),n+=r?-1:1}},Sq=function(e){var t=new nk(e,null),n=new tk(t),r=[];return uy(t,n,n,r),rk(t.container,r),n},IB=function(e,t){switch(t){case 0:return Ni(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return Ni(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return Ni(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return Ni(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},jq=function(e,t){switch(t){case 0:return Ni(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return Ni(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return Ni(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return Ni(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},kq=function(e,t){switch(t){case 0:return Ni(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return Ni(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return Ni(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return Ni(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},Eq=function(e,t){switch(t){case 0:return hp(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return hp(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return hp(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return hp(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},hp=function(e,t){var n=[];return Ei(e)?n.push(e.subdivide(.5,!1)):n.push(e),Ei(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},Ni=function(e,t,n,r){var i=[];return Ei(e)?i.push(e.subdivide(.5,!1)):i.push(e),Ei(n)?i.push(n.subdivide(.5,!0)):i.push(n),Ei(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),Ei(t)?i.push(t.subdivide(.5,!1).reverse()):i.push(t),i},sk=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},kg=function(e){var t=e.styles,n=e.bounds,r=Zn(t.paddingLeft,n.width),i=Zn(t.paddingRight,n.width),a=Zn(t.paddingTop,n.width),o=Zn(t.paddingBottom,n.width);return n.add(r+t.borderLeftWidth,a+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+r+i),-(t.borderTopWidth+t.borderBottomWidth+a+o))},Iq=function(e,t){return e===0?t.bounds:e===2?kg(t):sk(t)},Fq=function(e,t){return e===0?t.bounds:e===2?kg(t):sk(t)},Qv=function(e,t,n){var r=Iq(lc(e.styles.backgroundOrigin,t),e),i=Fq(lc(e.styles.backgroundClip,t),e),a=Nq(lc(e.styles.backgroundSize,t),n,r),o=a[0],l=a[1],A=wu(lc(e.styles.backgroundPosition,t),r.width-o,r.height-l),c=Tq(lc(e.styles.backgroundRepeat,t),A,a,r,i),d=Math.round(r.left+A[0]),u=Math.round(r.top+A[1]);return[c,d,u,o,l]},ZA=function(e){return Wn(e)&&e.value===Ec.AUTO},fp=function(e){return typeof e=="number"},Nq=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=e[0],l=e[1];if(!o)return[0,0];if(Qr(o)&&l&&Qr(l))return[Zn(o,n.width),Zn(l,n.height)];var A=fp(a);if(Wn(o)&&(o.value===Ec.CONTAIN||o.value===Ec.COVER)){if(fp(a)){var c=n.width/n.height;return c<a!=(o.value===Ec.COVER)?[n.width,n.width/a]:[n.height*a,n.height]}return[n.width,n.height]}var d=fp(r),u=fp(i),p=d||u;if(ZA(o)&&(!l||ZA(l))){if(d&&u)return[r,i];if(!A&&!p)return[n.width,n.height];if(p&&A){var h=d?r:i*a,m=u?i:r/a;return[h,m]}var g=d?r:n.width,y=u?i:n.height;return[g,y]}if(A){var x=0,C=0;return Qr(o)?x=Zn(o,n.width):Qr(l)&&(C=Zn(l,n.height)),ZA(o)?x=C*a:(!l||ZA(l))&&(C=x/a),[x,C]}var S=null,w=null;if(Qr(o)?S=Zn(o,n.width):l&&Qr(l)&&(w=Zn(l,n.height)),S!==null&&(!l||ZA(l))&&(w=d&&u?S/r*i:n.height),w!==null&&ZA(o)&&(S=d&&u?w/i*r:n.width),S!==null&&w!==null)return[S,w];throw new Error("Unable to calculate background-size for element")},lc=function(e,t){var n=e[t];return typeof n>"u"?e[0]:n},Tq=function(e,t,n,r,i){var a=t[0],o=t[1],l=n[0],A=n[1];switch(e){case 2:return[new kt(Math.round(r.left),Math.round(r.top+o)),new kt(Math.round(r.left+r.width),Math.round(r.top+o)),new kt(Math.round(r.left+r.width),Math.round(A+r.top+o)),new kt(Math.round(r.left),Math.round(A+r.top+o))];case 3:return[new kt(Math.round(r.left+a),Math.round(r.top)),new kt(Math.round(r.left+a+l),Math.round(r.top)),new kt(Math.round(r.left+a+l),Math.round(r.height+r.top)),new kt(Math.round(r.left+a),Math.round(r.height+r.top))];case 1:return[new kt(Math.round(r.left+a),Math.round(r.top+o)),new kt(Math.round(r.left+a+l),Math.round(r.top+o)),new kt(Math.round(r.left+a+l),Math.round(r.top+o+A)),new kt(Math.round(r.left+a),Math.round(r.top+o+A))];default:return[new kt(Math.round(i.left),Math.round(i.top)),new kt(Math.round(i.left+i.width),Math.round(i.top)),new kt(Math.round(i.left+i.width),Math.round(i.height+i.top)),new kt(Math.round(i.left),Math.round(i.height+i.top))]}},_q="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",FB="Hidden Text",Dq=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,n){var r=this._document.createElement("div"),i=this._document.createElement("img"),a=this._document.createElement("span"),o=this._document.body;r.style.visibility="hidden",r.style.fontFamily=t,r.style.fontSize=n,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",o.appendChild(r),i.src=_q,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",a.style.fontFamily=t,a.style.fontSize=n,a.style.margin="0",a.style.padding="0",a.appendChild(this._document.createTextNode(FB)),r.appendChild(a),r.appendChild(i);var l=i.offsetTop-a.offsetTop+2;r.removeChild(a),r.appendChild(this._document.createTextNode(FB)),r.style.lineHeight="normal",i.style.verticalAlign="super";var A=i.offsetTop-r.offsetTop+2;return o.removeChild(r),{baseline:l,middle:A}},e.prototype.getMetrics=function(t,n){var r=t+" "+n;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(t,n)),this._data[r]},e}(),ik=function(){function e(t,n){this.context=t,this.options=n}return e}(),Uq=1e4,Lq=function(e){ia(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i._activeEffects=[],i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),r.canvas||(i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px"),i.fontMetrics=new Dq(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),i}return t.prototype.applyEffects=function(n){for(var r=this;this._activeEffects.length;)this.popEffect();n.forEach(function(i){return r.applyEffect(i)})},t.prototype.applyEffect=function(n){this.ctx.save(),Cq(n)&&(this.ctx.globalAlpha=n.opacity),wq(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),ek(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(n){return Ds(this,void 0,void 0,function(){var r;return bs(this,function(i){switch(i.label){case 0:return r=n.element.container.styles,r.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(n){return Ds(this,void 0,void 0,function(){return bs(this,function(r){switch(r.label){case 0:if($r(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(n)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(n,r,i){var a=this;if(r===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+i);else{var o=Hx(n.text);o.reduce(function(l,A){return a.ctx.fillText(A,l,n.bounds.top+i),l+a.ctx.measureText(A).width},n.bounds.left)}},t.prototype.createFontStyle=function(n){var r=n.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),i=Hq(n.fontFamily).join(", "),a=Ph(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,r,n.fontWeight,a,i].join(" "),i,a]},t.prototype.renderTextNode=function(n,r){return Ds(this,void 0,void 0,function(){var i,a,o,l,A,c,d,u,p=this;return bs(this,function(h){return i=this.createFontStyle(r),a=i[0],o=i[1],l=i[2],this.ctx.font=a,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",A=this.fontMetrics.getMetrics(o,l),c=A.baseline,d=A.middle,u=r.paintOrder,n.textBounds.forEach(function(m){u.forEach(function(g){switch(g){case 0:p.ctx.fillStyle=Xr(r.color),p.renderTextWithLetterSpacing(m,r.letterSpacing,c);var y=r.textShadow;y.length&&m.text.trim().length&&(y.slice(0).reverse().forEach(function(x){p.ctx.shadowColor=Xr(x.color),p.ctx.shadowOffsetX=x.offsetX.number*p.options.scale,p.ctx.shadowOffsetY=x.offsetY.number*p.options.scale,p.ctx.shadowBlur=x.blur.number,p.renderTextWithLetterSpacing(m,r.letterSpacing,c)}),p.ctx.shadowColor="",p.ctx.shadowOffsetX=0,p.ctx.shadowOffsetY=0,p.ctx.shadowBlur=0),r.textDecorationLine.length&&(p.ctx.fillStyle=Xr(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(x){switch(x){case 1:p.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top+c),m.bounds.width,1);break;case 2:p.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top),m.bounds.width,1);break;case 3:p.ctx.fillRect(m.bounds.left,Math.ceil(m.bounds.top+d),m.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&m.text.trim().length&&(p.ctx.strokeStyle=Xr(r.webkitTextStrokeColor),p.ctx.lineWidth=r.webkitTextStrokeWidth,p.ctx.lineJoin=window.chrome?"miter":"round",p.ctx.strokeText(m.text,m.bounds.left,m.bounds.top+c)),p.ctx.strokeStyle="",p.ctx.lineWidth=0,p.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(n,r,i){if(i&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var a=kg(n),o=jg(r);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,n.intrinsicWidth,n.intrinsicHeight,a.left,a.top,a.width,a.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(n){return Ds(this,void 0,void 0,function(){var r,i,a,o,l,A,C,C,c,d,u,p,w,h,m,_,g,y,x,C,S,w,_;return bs(this,function(E){switch(E.label){case 0:this.applyEffects(n.getEffects(4)),r=n.container,i=n.curves,a=r.styles,o=0,l=r.textNodes,E.label=1;case 1:return o<l.length?(A=l[o],[4,this.renderTextNode(A,a)]):[3,4];case 2:E.sent(),E.label=3;case 3:return o++,[3,1];case 4:if(!(r instanceof M3))return[3,8];E.label=5;case 5:return E.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return C=E.sent(),this.renderReplacedElement(r,i,C),[3,8];case 7:return E.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof P3&&this.renderReplacedElement(r,i,r.canvas),!(r instanceof Q3))return[3,12];E.label=9;case 9:return E.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return C=E.sent(),this.renderReplacedElement(r,i,C),[3,12];case 11:return E.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof $3&&r.tree?(c=new t(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,c.render(r.tree)]):[3,14];case 13:d=E.sent(),r.width&&r.height&&this.ctx.drawImage(d,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),E.label=14;case 14:if(r instanceof Ox&&(u=Math.min(r.bounds.width,r.bounds.height),r.type===bg?r.checked&&(this.ctx.save(),this.path([new kt(r.bounds.left+u*.39363,r.bounds.top+u*.79),new kt(r.bounds.left+u*.16,r.bounds.top+u*.5549),new kt(r.bounds.left+u*.27347,r.bounds.top+u*.44071),new kt(r.bounds.left+u*.39694,r.bounds.top+u*.5649),new kt(r.bounds.left+u*.72983,r.bounds.top+u*.23),new kt(r.bounds.left+u*.84,r.bounds.top+u*.34085),new kt(r.bounds.left+u*.39363,r.bounds.top+u*.79)]),this.ctx.fillStyle=Xr(mB),this.ctx.fill(),this.ctx.restore()):r.type===wg&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+u/2,r.bounds.top+u/2,u/4,0,Math.PI*2,!0),this.ctx.fillStyle=Xr(mB),this.ctx.fill(),this.ctx.restore())),Mq(r)&&r.value.length){switch(p=this.createFontStyle(a),w=p[0],h=p[1],m=this.fontMetrics.getMetrics(w,h).baseline,this.ctx.font=w,this.ctx.fillStyle=Xr(a.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Qq(r.styles.textAlign),_=kg(r),g=0,r.styles.textAlign){case 1:g+=_.width/2;break;case 2:g+=_.width;break}y=_.add(g,0,0,-_.height/2+1),this.ctx.save(),this.path([new kt(_.left,_.top),new kt(_.left+_.width,_.top),new kt(_.left+_.width,_.top+_.height),new kt(_.left,_.top+_.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Ru(r.value,y),a.letterSpacing,m),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!$r(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(x=r.styles.listStyleImage,x.type!==0)return[3,18];C=void 0,S=x.url,E.label=15;case 15:return E.trys.push([15,17,,18]),[4,this.context.cache.match(S)];case 16:return C=E.sent(),this.ctx.drawImage(C,r.bounds.left-(C.width+10),r.bounds.top),[3,18];case 17:return E.sent(),this.context.logger.error("Error loading list-style-image "+S),[3,18];case 18:return[3,20];case 19:n.listValue&&r.styles.listStyleType!==-1&&(w=this.createFontStyle(a)[0],this.ctx.font=w,this.ctx.fillStyle=Xr(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",_=new uo(r.bounds.left,r.bounds.top+Zn(r.styles.paddingTop,r.bounds.width),r.bounds.width,eB(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Ru(n.listValue,_),a.letterSpacing,eB(a.lineHeight,a.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),E.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(n){return Ds(this,void 0,void 0,function(){var r,i,x,a,o,x,l,A,x,c,d,x,u,p,x,h,m,x,g,y,x;return bs(this,function(C){switch(C.label){case 0:if($r(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:C.sent(),r=0,i=n.negativeZIndex,C.label=2;case 2:return r<i.length?(x=i[r],[4,this.renderStack(x)]):[3,5];case 3:C.sent(),C.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:C.sent(),a=0,o=n.nonInlineLevel,C.label=7;case 7:return a<o.length?(x=o[a],[4,this.renderNode(x)]):[3,10];case 8:C.sent(),C.label=9;case 9:return a++,[3,7];case 10:l=0,A=n.nonPositionedFloats,C.label=11;case 11:return l<A.length?(x=A[l],[4,this.renderStack(x)]):[3,14];case 12:C.sent(),C.label=13;case 13:return l++,[3,11];case 14:c=0,d=n.nonPositionedInlineLevel,C.label=15;case 15:return c<d.length?(x=d[c],[4,this.renderStack(x)]):[3,18];case 16:C.sent(),C.label=17;case 17:return c++,[3,15];case 18:u=0,p=n.inlineLevel,C.label=19;case 19:return u<p.length?(x=p[u],[4,this.renderNode(x)]):[3,22];case 20:C.sent(),C.label=21;case 21:return u++,[3,19];case 22:h=0,m=n.zeroOrAutoZIndexOrTransformedOrOpacity,C.label=23;case 23:return h<m.length?(x=m[h],[4,this.renderStack(x)]):[3,26];case 24:C.sent(),C.label=25;case 25:return h++,[3,23];case 26:g=0,y=n.positiveZIndex,C.label=27;case 27:return g<y.length?(x=y[g],[4,this.renderStack(x)]):[3,30];case 28:C.sent(),C.label=29;case 29:return g++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},t.prototype.formatPath=function(n){var r=this;n.forEach(function(i,a){var o=Ei(i)?i.start:i;a===0?r.ctx.moveTo(o.x,o.y):r.ctx.lineTo(o.x,o.y),Ei(i)&&r.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},t.prototype.renderRepeat=function(n,r,i,a){this.path(n),this.ctx.fillStyle=r,this.ctx.translate(i,a),this.ctx.fill(),this.ctx.translate(-i,-a)},t.prototype.resizeImage=function(n,r,i){var a;if(n.width===r&&n.height===i)return n;var o=(a=this.canvas.ownerDocument)!==null&&a!==void 0?a:document,l=o.createElement("canvas");l.width=Math.max(1,r),l.height=Math.max(1,i);var A=l.getContext("2d");return A.drawImage(n,0,0,n.width,n.height,0,0,r,i),l},t.prototype.renderBackgroundImage=function(n){return Ds(this,void 0,void 0,function(){var r,i,a,o,l,A;return bs(this,function(c){switch(c.label){case 0:r=n.styles.backgroundImage.length-1,i=function(d){var u,p,h,P,L,D,U,N,F,m,P,L,D,U,N,g,y,x,C,S,w,_,E,T,F,M,P,I,j,U,N,z,L,D,K,q,Z,Ae,H,R,Q,$;return bs(this,function(V){switch(V.label){case 0:if(d.type!==0)return[3,5];u=void 0,p=d.url,V.label=1;case 1:return V.trys.push([1,3,,4]),[4,a.context.cache.match(p)];case 2:return u=V.sent(),[3,4];case 3:return V.sent(),a.context.logger.error("Error loading background-image "+p),[3,4];case 4:return u&&(h=Qv(n,r,[u.width,u.height,u.width/u.height]),P=h[0],L=h[1],D=h[2],U=h[3],N=h[4],F=a.ctx.createPattern(a.resizeImage(u,U,N),"repeat"),a.renderRepeat(P,F,L,D)),[3,6];case 5:wK(d)?(m=Qv(n,r,[null,null,null]),P=m[0],L=m[1],D=m[2],U=m[3],N=m[4],g=mK(d.angle,U,N),y=g[0],x=g[1],C=g[2],S=g[3],w=g[4],_=document.createElement("canvas"),_.width=U,_.height=N,E=_.getContext("2d"),T=E.createLinearGradient(x,S,C,w),JC(d.stops,y).forEach(function(G){return T.addColorStop(G.stop,Xr(G.color))}),E.fillStyle=T,E.fillRect(0,0,U,N),U>0&&N>0&&(F=a.ctx.createPattern(_,"repeat"),a.renderRepeat(P,F,L,D))):CK(d)&&(M=Qv(n,r,[null,null,null]),P=M[0],I=M[1],j=M[2],U=M[3],N=M[4],z=d.position.length===0?[Px]:d.position,L=Zn(z[0],U),D=Zn(z[z.length-1],N),K=vK(d,L,D,U,N),q=K[0],Z=K[1],q>0&&Z>0&&(Ae=a.ctx.createRadialGradient(I+L,j+D,0,I+L,j+D,q),JC(d.stops,q*2).forEach(function(G){return Ae.addColorStop(G.stop,Xr(G.color))}),a.path(P),a.ctx.fillStyle=Ae,q!==Z?(H=n.bounds.left+.5*n.bounds.width,R=n.bounds.top+.5*n.bounds.height,Q=Z/q,$=1/Q,a.ctx.save(),a.ctx.translate(H,R),a.ctx.transform(1,0,0,Q,0,0),a.ctx.translate(-H,-R),a.ctx.fillRect(I,$*(j-R)+R,U,N*$),a.ctx.restore()):a.ctx.fill())),V.label=6;case 6:return r--,[2]}})},a=this,o=0,l=n.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return o<l.length?(A=l[o],[5,i(A)]):[3,4];case 2:c.sent(),c.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(n,r,i){return Ds(this,void 0,void 0,function(){return bs(this,function(a){return this.path(IB(i,r)),this.ctx.fillStyle=Xr(n),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(n,r,i,a){return Ds(this,void 0,void 0,function(){var o,l;return bs(this,function(A){switch(A.label){case 0:return r<3?[4,this.renderSolidBorder(n,i,a)]:[3,2];case 1:return A.sent(),[2];case 2:return o=jq(a,i),this.path(o),this.ctx.fillStyle=Xr(n),this.ctx.fill(),l=kq(a,i),this.path(l),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(n){return Ds(this,void 0,void 0,function(){var r,i,a,o,l,A,c,d,u=this;return bs(this,function(p){switch(p.label){case 0:return this.applyEffects(n.getEffects(2)),r=n.container.styles,i=!Jo(r.backgroundColor)||r.backgroundImage.length,a=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],o=Pq(lc(r.backgroundClip,0),n.curves),i||r.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),Jo(r.backgroundColor)||(this.ctx.fillStyle=Xr(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:p.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(h){u.ctx.save();var m=Sg(n.curves),g=h.inset?0:Uq,y=Bq(m,-g+(h.inset?1:-1)*h.spread.number,(h.inset?1:-1)*h.spread.number,h.spread.number*(h.inset?-2:2),h.spread.number*(h.inset?-2:2));h.inset?(u.path(m),u.ctx.clip(),u.mask(y)):(u.mask(m),u.ctx.clip(),u.path(y)),u.ctx.shadowOffsetX=h.offsetX.number+g,u.ctx.shadowOffsetY=h.offsetY.number,u.ctx.shadowColor=Xr(h.color),u.ctx.shadowBlur=h.blur.number,u.ctx.fillStyle=h.inset?Xr(h.color):"rgba(0,0,0,1)",u.ctx.fill(),u.ctx.restore()}),p.label=2;case 2:l=0,A=0,c=a,p.label=3;case 3:return A<c.length?(d=c[A],d.style!==0&&!Jo(d.color)&&d.width>0?d.style!==2?[3,5]:[4,this.renderDashedDottedBorder(d.color,d.width,l,n.curves,2)]:[3,11]):[3,13];case 4:return p.sent(),[3,11];case 5:return d.style!==3?[3,7]:[4,this.renderDashedDottedBorder(d.color,d.width,l,n.curves,3)];case 6:return p.sent(),[3,11];case 7:return d.style!==4?[3,9]:[4,this.renderDoubleBorder(d.color,d.width,l,n.curves)];case 8:return p.sent(),[3,11];case 9:return[4,this.renderSolidBorder(d.color,l,n.curves)];case 10:p.sent(),p.label=11;case 11:l++,p.label=12;case 12:return A++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(n,r,i,a,o){return Ds(this,void 0,void 0,function(){var l,A,c,d,u,p,h,m,g,y,x,C,S,w,_,E,_,E;return bs(this,function(T){return this.ctx.save(),l=Eq(a,i),A=IB(a,i),o===2&&(this.path(A),this.ctx.clip()),Ei(A[0])?(c=A[0].start.x,d=A[0].start.y):(c=A[0].x,d=A[0].y),Ei(A[1])?(u=A[1].end.x,p=A[1].end.y):(u=A[1].x,p=A[1].y),i===0||i===2?h=Math.abs(c-u):h=Math.abs(d-p),this.ctx.beginPath(),o===3?this.formatPath(l):this.formatPath(A.slice(0,2)),m=r<3?r*3:r*2,g=r<3?r*2:r,o===3&&(m=r,g=r),y=!0,h<=m*2?y=!1:h<=m*2+g?(x=h/(2*m+g),m*=x,g*=x):(C=Math.floor((h+g)/(m+g)),S=(h-C*m)/(C-1),w=(h-(C+1)*m)/C,g=w<=0||Math.abs(g-S)<Math.abs(g-w)?S:w),y&&(o===3?this.ctx.setLineDash([0,m+g]):this.ctx.setLineDash([m,g])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=Xr(n),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(Ei(A[0])&&(_=A[3],E=A[0],this.ctx.beginPath(),this.formatPath([new kt(_.end.x,_.end.y),new kt(E.start.x,E.start.y)]),this.ctx.stroke()),Ei(A[1])&&(_=A[1],E=A[2],this.ctx.beginPath(),this.formatPath([new kt(_.end.x,_.end.y),new kt(E.start.x,E.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(n){return Ds(this,void 0,void 0,function(){var r;return bs(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Xr(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=Sq(n),[4,this.renderStack(r)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(ik),Mq=function(e){return e instanceof O3||e instanceof H3?!0:e instanceof Ox&&e.type!==wg&&e.type!==bg},Pq=function(e,t){switch(e){case 0:return Sg(t);case 2:return yq(t);case 1:default:return jg(t)}},Qq=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Rq=["-apple-system","system-ui"],Hq=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return Rq.indexOf(t)===-1}):e},Oq=function(e){ia(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=r,i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),i}return t.prototype.render=function(n){return Ds(this,void 0,void 0,function(){var r,i;return bs(this,function(a){switch(a.label){case 0:return r=ay(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,$q(r)];case 1:return i=a.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Xr(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(ik),$q=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},zq=function(){function e(t){var n=t.id,r=t.enabled;this.id=n,this.enabled=r,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Kf([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Kf([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Kf([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Kf([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e}(),Wq=function(){function e(t,n){var r;this.windowBounds=n,this.instanceName="#"+e.instanceCount++,this.logger=new zq({id:this.instanceName,enabled:t.logging}),this.cache=(r=t.cache)!==null&&r!==void 0?r:new dq(this,t)}return e.instanceCount=1,e}(),ak=function(e,t){return t===void 0&&(t={}),Kq(e,t)};typeof window<"u"&&Z3.setContext(window);var Kq=function(e,t){return Ds(void 0,void 0,void 0,function(){var n,r,i,a,o,l,A,c,d,u,p,h,m,g,y,x,C,S,w,_,T,E,T,F,M,P,I,j,U,N,z,L,D,K,q,Z,Ae,H,R,Q;return bs(this,function($){switch($.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=e.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(r=n.defaultView,!r)throw new Error("Document is not attached to a Window");return i={allowTaint:(F=t.allowTaint)!==null&&F!==void 0?F:!1,imageTimeout:(M=t.imageTimeout)!==null&&M!==void 0?M:15e3,proxy:t.proxy,useCORS:(P=t.useCORS)!==null&&P!==void 0?P:!1},a=W1({logging:(I=t.logging)!==null&&I!==void 0?I:!0,cache:t.cache},i),o={windowWidth:(j=t.windowWidth)!==null&&j!==void 0?j:r.innerWidth,windowHeight:(U=t.windowHeight)!==null&&U!==void 0?U:r.innerHeight,scrollX:(N=t.scrollX)!==null&&N!==void 0?N:r.pageXOffset,scrollY:(z=t.scrollY)!==null&&z!==void 0?z:r.pageYOffset},l=new uo(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),A=new Wq(a,l),c=(L=t.foreignObjectRendering)!==null&&L!==void 0?L:!1,d={allowTaint:(D=t.allowTaint)!==null&&D!==void 0?D:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:c,copyStyles:c},A.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),u=new jB(A,e,d),p=u.clonedReferenceElement,p?[4,u.toIFrame(n,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return h=$.sent(),m=$x(p)||GG(p)?Bz(p.ownerDocument):Um(A,p),g=m.width,y=m.height,x=m.left,C=m.top,S=Vq(A,p,t.backgroundColor),w={canvas:t.canvas,backgroundColor:S,scale:(q=(K=t.scale)!==null&&K!==void 0?K:r.devicePixelRatio)!==null&&q!==void 0?q:1,x:((Z=t.x)!==null&&Z!==void 0?Z:0)+x,y:((Ae=t.y)!==null&&Ae!==void 0?Ae:0)+C,width:(H=t.width)!==null&&H!==void 0?H:Math.ceil(g),height:(R=t.height)!==null&&R!==void 0?R:Math.ceil(y)},c?(A.logger.debug("Document cloned, using foreign object rendering"),T=new Oq(A,w),[4,T.render(p)]):[3,3];case 2:return _=$.sent(),[3,5];case 3:return A.logger.debug("Document cloned, element located at "+x+","+C+" with size "+g+"x"+y+" using computed rendering"),A.logger.debug("Starting DOM parsing"),E=W3(A,p),S===E.styles.backgroundColor&&(E.styles.backgroundColor=no.TRANSPARENT),A.logger.debug("Starting renderer for element at "+w.x+","+w.y+" with size "+w.width+"x"+w.height),T=new Lq(A,w),[4,T.render(E)];case 4:_=$.sent(),$.label=5;case 5:return(!((Q=t.removeContainer)!==null&&Q!==void 0)||Q)&&(jB.destroy(h)||A.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),A.logger.debug("Finished rendering"),[2,_]}})})},Vq=function(e,t,n){var r=t.ownerDocument,i=r.documentElement?Pu(e,getComputedStyle(r.documentElement).backgroundColor):no.TRANSPARENT,a=r.body?Pu(e,getComputedStyle(r.body).backgroundColor):no.TRANSPARENT,o=typeof n=="string"?Pu(e,n):n===null?no.TRANSPARENT:4294967295;return t===r.documentElement?Jo(i)?Jo(a)?o:a:i:o};const Gq=Object.freeze(Object.defineProperty({__proto__:null,default:ak},Symbol.toStringTag,{value:"Module"})),Au=({title:e,value:t,icon:n,change:r,isPositive:i,description:a})=>s.jsxs("div",{className:"stat-card",style:{position:"relative"},children:[s.jsxs("div",{className:"stat-header",children:[s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[s.jsx("span",{className:"stat-label",children:e}),a&&s.jsx("span",{style:{fontSize:"11px",color:"var(--light-gray)",lineHeight:"1.3",maxWidth:"200px"},children:a})]}),s.jsx("div",{className:"stat-icon",children:n})]}),s.jsx("div",{className:"stat-value",children:t}),r!=null&&s.jsxs("div",{className:`stat-change ${i?"":"negative"}`,children:[i?s.jsx(D9,{fontSize:"small"}):s.jsx(_9,{fontSize:"small"}),r]})]});function qq(){var I,j;const{currentUser:e,admin:t}=er(),{isSuperAdmin:n}=Wr(),[r,i]=b.useState(null),[a,o]=b.useState(!1),[l,A]=b.useState(!1),[c,d]=b.useState([]),[u,p]=b.useState({todayBookings:0,todayRevenue:0,todayIncome:0,utilization:0,activeCustomers:0,bookingsChange:0,revenueChange:0,incomeChange:0,utilizationChange:0}),[h,m]=b.useState(!0),[g,y]=b.useState([]),[x,C]=b.useState("all"),[S,w]=b.useState("");b.useEffect(()=>{(async()=>{if(n)await _(),x==="all"?await E():await T(x);else if(t!=null&&t.venueId){i(t.venueId);try{const N=await An(bt(Re,"venues",t.venueId));if(N.exists()){const z=N.data();w(z.name||""),y([{id:t.venueId,name:z.name||""}])}}catch(N){console.error("Error loading venue data:",N)}await T(t.venueId)}m(!1)})()},[e,t,n,x]);const _=async()=>{try{const U=Vt(Et(Re,"venues"),pt("status","==","active")),z=(await $t(U)).docs.map(L=>({id:L.id,name:L.data().name}));y(z)}catch(U){console.error("Error loading venues:",U)}},E=async()=>{var U;try{const N=new Date,z=new Date(N.getFullYear(),N.getMonth(),N.getDate()),L=new Date(N.getFullYear(),N.getMonth(),N.getDate(),23,59,59);let D=g;if(D.length===0){const le=Vt(Et(Re,"venues"),pt("status","==","active"));D=(await $t(le)).docs.map(ue=>({id:ue.id,name:ue.data().name}))}const K=Vt(Et(Re,"bookings")),q=await $t(K),Z=q.docs.filter(le=>{var ae,He;const be=le.data(),ue=(He=(ae=be.date)==null?void 0:ae.toDate)==null?void 0:He.call(ae);return ue?ue>=z&&ue<=L&&be.status==="confirmed":!1}),Ae=Z.filter(le=>le.data().paymentStatus==="paid"),H=Z.length,R=Ae.reduce((le,be)=>le+(be.data().amount||0),0),Q=q.docs.sort((le,be)=>{var He,we,me,Ie,Te,Oe,qe,nt;const ue=((we=(He=le.data().createdAt)==null?void 0:He.toDate)==null?void 0:we.call(He))||((Ie=(me=le.data().date)==null?void 0:me.toDate)==null?void 0:Ie.call(me))||new Date(0);return(((Oe=(Te=be.data().createdAt)==null?void 0:Te.toDate)==null?void 0:Oe.call(Te))||((nt=(qe=be.data().date)==null?void 0:qe.toDate)==null?void 0:nt.call(qe))||new Date(0)).getTime()-ue.getTime()}).slice(0,10),$=[];for(const le of Q){const be=le.data();let ue="",ae="Корт";if(be.venueId){const He=D.find(we=>we.id===be.venueId);if(ue=(He==null?void 0:He.name)||"",be.courtId)try{const we=await An(le(Re,"venues",be.venueId,"courts",be.courtId));we.exists()&&(ae=we.data().name)}catch(we){console.error("Error fetching court:",we)}}$.push({id:le.id,clientName:be.clientName||be.customerName||"Неизвестный клиент",courtName:ue?`${ue} - ${ae}`:ae,date:((U=be.date)==null?void 0:U.toDate())||new Date,startTime:be.startTime||be.time||"",endTime:be.endTime||"",status:be.status||"pending",paymentStatus:be.paymentStatus,amount:be.amount||0})}d($);let V=0;for(const le of D){const be=Vt(Et(Re,"venues",le.id,"courts"),pt("status","==","active")),ue=await $t(be);V+=ue.size}const G=V*16,ie=G>0?Math.round(H/G*100):0,ne=new Date;ne.setDate(ne.getDate()-30);const xe=q.docs.filter(le=>{var ae,He;const ue=(He=(ae=le.data().date)==null?void 0:ae.toDate)==null?void 0:He.call(ae);return ue&&ue>=ne}),re=new Set(xe.map(le=>le.data().clientPhone||le.data().customerPhone)),ge=q.docs.reduce((le,be)=>{var we,me;const ue=be.data(),He=(ue.paymentHistory||[]).some(Ie=>{var Te,Oe;if(Ie.action==="paid"||Ie.action==="payment_completed"){const qe=((Oe=(Te=Ie.timestamp)==null?void 0:Te.toDate)==null?void 0:Oe.call(Te))||new Date(Ie.timestamp);return qe>=z&&qe<=L}return!1});if(!He&&ue.paymentStatus==="paid"){const Ie=((me=(we=ue.createdAt)==null?void 0:we.toDate)==null?void 0:me.call(we))||new Date(ue.createdAt);if(Ie>=z&&Ie<=L)return le+(ue.amount||0)}return He?le+(ue.amount||0):le},0);p({todayBookings:H,todayRevenue:R,todayIncome:ge,utilization:ie,activeCustomers:re.size,bookingsChange:15,revenueChange:10,incomeChange:8,utilizationChange:-3})}catch(N){console.error("Error loading all venues data:",N)}},T=async U=>{var N,z;try{const L=new Date,D=new Date(L.getFullYear(),L.getMonth(),L.getDate()),K=new Date(L.getFullYear(),L.getMonth(),L.getDate(),23,59,59),q=Vt(Et(Re,"bookings"),pt("venueId","==",U)),Ae=(await $t(q)).docs.map(we=>({id:we.id,...we.data()})).sort((we,me)=>{var Oe,qe,nt,ht,rt,ot,At,We;const Ie=((qe=(Oe=we.createdAt)==null?void 0:Oe.toDate)==null?void 0:qe.call(Oe))||((ht=(nt=we.date)==null?void 0:nt.toDate)==null?void 0:ht.call(nt))||new Date(0);return(((ot=(rt=me.createdAt)==null?void 0:rt.toDate)==null?void 0:ot.call(rt))||((We=(At=me.date)==null?void 0:At.toDate)==null?void 0:We.call(At))||new Date(0)).getTime()-Ie.getTime()}).slice(0,5),H=[];for(const we of Ae){let me=we.courtName||"Корт";if(we.courtId&&!we.courtName)try{const Ie=await An(bt(Re,"venues",U,"courts",we.courtId));Ie.exists()&&(me=Ie.data().name)}catch(Ie){console.error("Error fetching court:",Ie)}H.push({id:we.id,clientName:we.clientName||we.customerName||"Неизвестный клиент",courtName:me,date:((z=(N=we.date)==null?void 0:N.toDate)==null?void 0:z.call(N))||new Date,startTime:we.startTime||we.time||"",endTime:we.endTime||"",status:we.status||"pending",paymentStatus:we.paymentStatus,amount:we.amount||0})}d(H);const R=Vt(Et(Re,"bookings"),pt("venueId","==",U)),Q=await $t(R),$=Q.docs.filter(we=>{var Te,Oe;const me=we.data(),Ie=(Oe=(Te=me.date)==null?void 0:Te.toDate)==null?void 0:Oe.call(Te);return Ie?Ie>=D&&Ie<=K&&me.status==="confirmed":!1}),V=$.filter(we=>we.data().paymentStatus==="paid"),G=$.length,ie=V.reduce((we,me)=>we+(me.data().amount||0),0),ne=Vt(Et(Re,"venues",U,"courts"),pt("status","==","active")),ge=(await $t(ne)).size*16,le=ge>0?Math.round(G/ge*100):0,be=new Date;be.setDate(be.getDate()-30);const ue=Q.docs.filter(we=>{var Te,Oe;const Ie=(Oe=(Te=we.data().date)==null?void 0:Te.toDate)==null?void 0:Oe.call(Te);return Ie&&Ie>=be}),ae=new Set(ue.map(we=>we.data().clientPhone||we.data().customerPhone)),He=Q.docs.reduce((we,me)=>{var qe,nt;const Ie=me.data(),Oe=(Ie.paymentHistory||[]).some(ht=>{var rt,ot;if(ht.action==="paid"||ht.action==="payment_completed"){const At=((ot=(rt=ht.timestamp)==null?void 0:rt.toDate)==null?void 0:ot.call(rt))||new Date(ht.timestamp);return At>=D&&At<=K}return!1});if(!Oe&&Ie.paymentStatus==="paid"){const ht=((nt=(qe=Ie.createdAt)==null?void 0:qe.toDate)==null?void 0:nt.call(qe))||new Date(Ie.createdAt);if(ht>=D&&ht<=K)return we+(Ie.amount||0)}return Oe?we+(Ie.amount||0):we},0);p({todayBookings:G,todayRevenue:ie,todayIncome:He,utilization:le,activeCustomers:ae.size,bookingsChange:12,revenueChange:8,incomeChange:5,utilizationChange:-5})}catch(L){console.error("Error loading dashboard data:",L)}},F=()=>{const U=n?x:r;return!U||U==="all"?"":`https://allcourt.ru/club/${U}`},M=()=>{const U=F();U&&(navigator.clipboard.writeText(U),A(!0),setTimeout(()=>A(!1),2e3))},P=async()=>{const U=F();if(U)if(navigator.share)try{await navigator.share({title:"Забронировать корт",text:"Забронируйте корт в нашем клубе",url:U})}catch(N){console.log("Share failed:",N)}else M()};return h?s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},children:s.jsx("div",{children:"Загрузка..."})}):s.jsxs("div",{children:[n&&s.jsx("div",{className:"section-card",style:{marginBottom:"24px"},children:s.jsx("div",{style:{display:"flex",alignItems:"center",gap:"16px",justifyContent:"space-between",flexWrap:"wrap"},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[s.jsx("label",{style:{fontWeight:"600"},children:"Фильтр по клубу:"}),s.jsxs("select",{className:"form-select",style:{maxWidth:"300px"},value:x,onChange:U=>C(U.target.value),children:[s.jsx("option",{value:"all",children:"Все клубы"}),g.map(U=>s.jsx("option",{value:U.id,children:U.name},U.id))]})]})})}),(r&&!n||n&&x!=="all")&&s.jsxs("div",{className:"section-card",style:{marginBottom:"24px"},children:[s.jsx("div",{className:"section-header",children:s.jsxs("h2",{className:"section-title",children:["Ссылка для бронирования",n&&x!=="all"&&s.jsxs("span",{style:{fontSize:"16px",color:"var(--gray)",marginLeft:"8px"},children:["(",(I=g.find(U=>U.id===x))==null?void 0:I.name,")"]})]})}),s.jsxs("div",{style:{display:"flex",gap:"24px",alignItems:"center",flexWrap:"wrap"},children:[s.jsxs("div",{onClick:()=>o(!0),style:{cursor:"pointer",padding:"8px",border:"1px solid var(--extra-light-gray)",borderRadius:"8px",transition:"all 0.3s ease"},onMouseEnter:U=>U.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)",onMouseLeave:U=>U.currentTarget.style.boxShadow="none",children:[s.jsx(pg,{value:F(),size:120,level:"M",includeMargin:!0}),s.jsx("div",{style:{textAlign:"center",marginTop:"8px"},children:s.jsxs("button",{className:"btn btn-secondary btn-icon",children:[s.jsx(Nx,{fontSize:"small"}),s.jsx("span",{children:"Увеличить"})]})})]}),s.jsxs("div",{style:{flex:1,minWidth:"250px"},children:[s.jsxs("div",{style:{marginBottom:"12px"},children:[s.jsx("label",{style:{fontSize:"14px",color:"var(--gray)",display:"block",marginBottom:"4px"},children:"Отправьте эту ссылку клиентам:"}),s.jsxs("div",{style:{display:"flex",gap:"8px",padding:"12px",background:"var(--background)",borderRadius:"8px",alignItems:"center"},children:[s.jsx("input",{type:"text",value:F(),readOnly:!0,style:{flex:1,border:"none",background:"transparent",fontSize:"14px",outline:"none"}}),s.jsxs("button",{className:"btn btn-primary btn-icon",onClick:M,children:[l?s.jsx(Ho,{fontSize:"small"}):s.jsx(pj,{fontSize:"small"}),s.jsx("span",{children:l?"Скопировано":"Копировать"})]})]})]}),s.jsx("div",{style:{display:"flex",gap:"8px"},children:s.jsxs("button",{className:"btn btn-secondary",onClick:P,children:[s.jsx(wj,{fontSize:"small"}),s.jsx("span",{children:"Поделиться"})]})})]})]})]}),n&&s.jsx("h2",{style:{marginBottom:"24px",fontSize:"24px",fontWeight:"700"},children:x==="all"?"Общая статистика по всем клубам":`Статистика клуба "${(j=g.find(U=>U.id===x))==null?void 0:j.name}"`}),s.jsxs("div",{className:"stats-grid",children:[s.jsx(Au,{title:"Бронирований сегодня",value:u.todayBookings,icon:s.jsx(sh,{}),change:`${u.bookingsChange>0?"+":""}${u.bookingsChange}% от вчера`,isPositive:u.bookingsChange>0,description:"Количество игр на сегодня"}),s.jsx(Au,{title:"Поступления за сегодня",value:`${u.todayIncome.toLocaleString("ru-RU")}₽`,icon:s.jsx(tA,{}),change:`${u.incomeChange>0?"+":""}${u.incomeChange}% от вчера`,isPositive:u.incomeChange>0,description:"Все платежи, пришедшие сегодня (независимо от даты игры)"}),s.jsx(Au,{title:"Доход за сегодня",value:`${u.todayRevenue.toLocaleString("ru-RU")}₽`,icon:s.jsx(tA,{}),change:`${u.revenueChange>0?"+":""}${u.revenueChange}% от вчера`,isPositive:u.revenueChange>0,description:"Деньги от игр, состоявшихся сегодня (со статусом оплачен)"}),s.jsx(Au,{title:"Загрузка кортов",value:`${u.utilization}%`,icon:s.jsx(Nm,{}),change:`${u.utilizationChange>0?"+":""}${u.utilizationChange}% от вчера`,isPositive:u.utilizationChange>0,description:"Процент занятых слотов от максимума"}),s.jsx(Au,{title:"Активных клиентов",value:u.activeCustomers,icon:s.jsx(Fx,{}),change:"за последние 30 дней",isPositive:!0,description:"Уникальные клиенты за месяц"})]}),s.jsxs("div",{className:"section-card",children:[s.jsxs("div",{className:"section-header",children:[s.jsx("h2",{className:"section-title",children:"Последние бронирования"}),s.jsx("button",{className:"btn btn-secondary",onClick:()=>window.location.href="/admin/bookings",children:"Все бронирования"})]}),s.jsx("div",{className:"table-wrapper",children:h?s.jsx("div",{style:{textAlign:"center",padding:"40px"},children:"Загрузка..."}):c.length===0?s.jsx("div",{style:{textAlign:"center",padding:"40px",color:"var(--gray)"},children:"Пока нет бронирований"}):s.jsxs("table",{children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Клиент"}),s.jsx("th",{children:n&&x==="all"?"Клуб / Корт":"Корт"}),s.jsx("th",{children:"Дата и время"}),s.jsx("th",{children:"Статус"}),s.jsx("th",{children:"Сумма"})]})}),s.jsx("tbody",{children:c.map(U=>s.jsxs("tr",{children:[s.jsx("td",{children:U.clientName}),s.jsx("td",{children:U.courtName}),s.jsxs("td",{children:[U.date.toLocaleDateString("ru-RU"),", ",U.startTime,U.endTime&&`-${U.endTime}`]}),s.jsxs("td",{children:[U.status==="confirmed"&&s.jsxs(s.Fragment,{children:[U.paymentStatus==="paid"&&s.jsx("span",{style:{color:"var(--success)"},children:"✅ Оплачено"}),U.paymentStatus==="awaiting_payment"&&s.jsx("span",{style:{color:"var(--warning)"},children:"⏳ Ожидает оплаты"}),U.paymentStatus==="not_required"&&s.jsx("span",{style:{color:"var(--success)"},children:"✅ Подтверждено"}),!U.paymentStatus&&s.jsx("span",{style:{color:"var(--success)"},children:"✅ Подтверждено"})]}),U.status==="pending"&&s.jsx("span",{style:{color:"var(--warning)"},children:"⏳ Ожидает подтверждения"}),U.status==="cancelled"&&s.jsx("span",{style:{color:"var(--danger)"},children:"❌ Отменено"})]}),s.jsxs("td",{children:[U.amount.toLocaleString("ru-RU"),"₽"]})]},U.id))})]})})]}),a&&s.jsx("div",{className:"modal active",onClick:()=>o(!1),style:{display:"flex",position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:1e3,alignItems:"center",justifyContent:"center"},children:s.jsxs("div",{className:"modal-content",onClick:U=>U.stopPropagation(),style:{background:"white",borderRadius:"12px",padding:"24px",maxWidth:"400px",width:"90%",textAlign:"center"},children:[s.jsxs("div",{className:"modal-header",style:{marginBottom:"24px"},children:[s.jsx("h2",{className:"modal-title",children:"QR код для бронирования"}),s.jsx("button",{className:"modal-close",onClick:()=>o(!1),style:{position:"absolute",right:"24px",top:"24px",background:"none",border:"none",fontSize:"24px",cursor:"pointer"},children:"×"})]}),s.jsxs("div",{className:"modal-body",children:[s.jsx(pg,{id:"modal-qr-code",value:F(),size:256,level:"H",includeMargin:!0}),s.jsxs("p",{style:{marginTop:"16px",color:"var(--gray)",fontSize:"14px"},children:["Клиенты могут отсканировать этот QR код,",s.jsx("br",{}),"чтобы забронировать корт"]}),s.jsx("div",{style:{marginTop:"24px"},children:s.jsx("button",{className:"btn btn-primary",onClick:async()=>{var U;try{const N=document.getElementById("modal-qr-code");if(!N){console.error("QR code SVG element not found"),alert("Не удалось найти QR код. Попробуйте еще раз.");return}const z=document.createElement("div");z.style.position="absolute",z.style.left="-9999px",z.style.top="-9999px",z.style.backgroundColor="white",z.style.width="1600px",z.style.height="1600px",z.style.display="flex",z.style.alignItems="center",z.style.justifyContent="center",document.body.appendChild(z);const L=document.createElement("div");L.style.width="1600px",L.style.height="1600px",L.innerHTML=`
                        <svg width="1600" height="1600" viewBox="0 0 256 256" xmlns="http://www.w3.org/2000/svg" style="width: 100%; height: 100%;">
                          ${N.innerHTML}
                        </svg>
                      `,z.appendChild(L);const D=await ak(z,{backgroundColor:"white",scale:1,width:1600,height:1600}),K=new Wt({orientation:"portrait",unit:"mm",format:"a4"}),q=210,Z=297,Ae=180,H=(q-Ae)/2,R=(Z-Ae)/2,Q=D.toDataURL("image/png");K.addImage(Q,"PNG",H,R,Ae,Ae);const V=`qr-code-${(n?(U=g.find(G=>G.id===x))==null?void 0:U.name:S)||"booking"}-${new Date().getTime()}.pdf`;K.save(V),document.body.removeChild(z)}catch(N){console.error("Error downloading QR code:",N),alert("Ошибка при скачивании QR кода. Попробуйте еще раз.")}},children:"Скачать QR код"})})]})]})})]})}const dd=({children:e,permission:t,role:n,requireAll:r=!1,fallback:i,allowTrainer:a=!1})=>{const{hasPermission:o,hasAllPermissions:l,hasRole:A}=Wr(),{admin:c}=er();return a&&(c==null?void 0:c.role)==="trainer"?s.jsx(s.Fragment,{children:e}):n&&!A(n)?i?s.jsx(s.Fragment,{children:i}):s.jsxs(nn,{severity:"error",sx:{mt:2},children:[s.jsx(Zl,{children:"Доступ запрещен"}),"У вас недостаточно прав для просмотра этой страницы."]}):t&&!(r&&Array.isArray(t)?l(t):o(t))?i?s.jsx(s.Fragment,{children:i}):s.jsxs(nn,{severity:"error",sx:{mt:2},children:[s.jsx(Zl,{children:"Доступ запрещен"}),"У вас недостаточно прав для просмотра этой страницы."]}):s.jsx(s.Fragment,{children:e})},dA=({selectedVenueId:e,onVenueChange:t,label:n="Управление клубом",showHint:r=!1})=>{const[i,a]=b.useState([]),[o,l]=b.useState(!0);b.useEffect(()=>{A()},[]);const A=async()=>{try{const c=Vt(Et(Re,"venues"),pt("status","==","active")),u=(await $t(c)).docs.map(p=>({id:p.id,...p.data()}));a(u)}catch(c){console.error("Error fetching venues:",c)}finally{l(!1)}};return o?s.jsx("div",{children:"Загрузка клубов..."}):s.jsx("div",{className:"section-card",style:{marginBottom:"24px"},children:s.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[s.jsx("label",{className:"form-label",children:n}),s.jsxs("select",{className:"form-select",value:e||"",onChange:c=>t(c.target.value),style:{maxWidth:"400px"},children:[s.jsx("option",{value:"",children:"Выберите клуб"}),i.map(c=>s.jsx("option",{value:c.id,children:c.name},c.id))]}),r&&s.jsx("p",{className:"form-hint",children:"Выберите клуб для управления"})]})})},uA=({title:e})=>{const[t,n]=b.useState([]),[r,i]=b.useState(!0);b.useEffect(()=>{a()},[]);const a=async()=>{try{const l=Vt(Et(Re,"venues"),pt("status","==","active")),c=(await $t(l)).docs.map(d=>({id:d.id,...d.data()}));n(c)}catch(l){console.error("Error fetching venues:",l)}finally{i(!1)}},o=l=>{l&&(localStorage.setItem("selectedVenueId",l),window.location.reload())};return r?s.jsx("div",{children:"Загрузка..."}):s.jsx("div",{children:s.jsxs("div",{className:"section-card",children:[s.jsx("div",{className:"section-header",children:s.jsx("h2",{className:"section-title",children:e})}),s.jsxs("div",{className:"form-group",style:{maxWidth:"400px"},children:[s.jsx("label",{className:"form-label",children:"Клуб"}),s.jsxs("select",{className:"form-select",value:"",onChange:l=>o(l.target.value),children:[s.jsx("option",{value:"",children:"Выберите клуб для управления"}),t.map(l=>s.jsx("option",{value:l.id,children:l.name},l.id))]}),s.jsx("p",{className:"form-hint",children:"Выберите клуб для просмотра и управления"})]})]})})};function Yq(){const e=rs(),{club:t,admin:n,refreshClubData:r}=er(),{isSuperAdmin:i,canManageClub:a}=Wr(),[o,l]=b.useState(null),[A,c]=b.useState(null),[d,u]=b.useState(!1),[p,h]=b.useState(!1),[m,g]=b.useState(null),[y,x]=b.useState({name:"",phone:"",address:"",city:"",latitude:"",longitude:"",description:"",timezone:"Europe/Moscow",amenities:{showers:!1,parking:!1,cafe:!1,proshop:!1,lockers:!1},organizationType:"",inn:"",bankAccount:"",legalName:"",ogrn:"",kpp:"",legalAddress:"",bankName:"",bankBik:"",bankCorrespondentAccount:"",directorName:"",directorPosition:"",workingHours:{monday:"07:00-23:00",tuesday:"07:00-23:00",wednesday:"07:00-23:00",thursday:"07:00-23:00",friday:"07:00-23:00",saturday:"08:00-22:00",sunday:"08:00-22:00"},bookingDurations:{60:!0,90:!0,120:!0},bookingSlotInterval:60}),[C,S]=b.useState([]),[w,_]=b.useState(!1);b.useEffect(()=>{var D,K,q,Z,Ae,H,R,Q;if(i){const $=localStorage.getItem("selectedVenueId");$&&(l($),T($))}else t&&(console.log("Updating form data from club:",t),x({name:t.name||"",phone:t.phone||"",address:t.address||"",city:t.city||"",latitude:((K=(D=t.location)==null?void 0:D._lat)==null?void 0:K.toString())||((Z=(q=t.location)==null?void 0:q.latitude)==null?void 0:Z.toString())||"",longitude:((H=(Ae=t.location)==null?void 0:Ae._long)==null?void 0:H.toString())||((Q=(R=t.location)==null?void 0:R.longitude)==null?void 0:Q.toString())||"",description:t.description||"",timezone:t.timezone||"Europe/Moscow",amenities:{showers:Array.isArray(t.amenities)&&t.amenities.includes("showers")||!1,parking:Array.isArray(t.amenities)&&t.amenities.includes("parking")||!1,cafe:Array.isArray(t.amenities)&&t.amenities.includes("cafe")||!1,proshop:Array.isArray(t.amenities)&&t.amenities.includes("proshop")||!1,lockers:Array.isArray(t.amenities)&&t.amenities.includes("lockers")||!1},organizationType:t.organizationType||"",inn:t.inn||"",bankAccount:t.bankAccount||"",legalName:t.legalName||"",ogrn:t.ogrn||"",kpp:t.kpp||"",legalAddress:t.legalAddress||"",bankName:t.bankName||"",bankBik:t.bankBik||"",bankCorrespondentAccount:t.bankCorrespondentAccount||"",directorName:t.directorName||"",directorPosition:t.directorPosition||"",workingHours:t.workingHours||{monday:"07:00-23:00",tuesday:"07:00-23:00",wednesday:"07:00-23:00",thursday:"07:00-23:00",friday:"07:00-23:00",saturday:"08:00-22:00",sunday:"08:00-22:00"},bookingDurations:t.bookingDurations||{60:!0,90:!0,120:!0},bookingSlotInterval:t.bookingSlotInterval||60}),S(t.photos||[]))},[t,i]);const E=D=>{l(D),localStorage.setItem("selectedVenueId",D),D&&T(D)},T=async D=>{var K,q,Z,Ae,H,R,Q,$;try{console.log("Loading venue data for:",D);const V=await An(bt(Re,"venues",D));if(V.exists()){const G=V.data();console.log("Venue data loaded:",G),c({id:V.id,...G}),x({name:G.name||"",phone:G.phone||"",address:G.address||"",city:G.city||"",latitude:((q=(K=G.location)==null?void 0:K._lat)==null?void 0:q.toString())||((Ae=(Z=G.location)==null?void 0:Z.latitude)==null?void 0:Ae.toString())||"",longitude:((R=(H=G.location)==null?void 0:H._long)==null?void 0:R.toString())||(($=(Q=G.location)==null?void 0:Q.longitude)==null?void 0:$.toString())||"",description:G.description||"",timezone:G.timezone||"Europe/Moscow",amenities:{showers:Array.isArray(G.amenities)&&G.amenities.includes("showers")||!1,parking:Array.isArray(G.amenities)&&G.amenities.includes("parking")||!1,cafe:Array.isArray(G.amenities)&&G.amenities.includes("cafe")||!1,proshop:Array.isArray(G.amenities)&&G.amenities.includes("proshop")||!1,lockers:Array.isArray(G.amenities)&&G.amenities.includes("lockers")||!1},organizationType:G.organizationType||"",inn:G.inn||"",bankAccount:G.bankAccount||"",legalName:G.legalName||"",ogrn:G.ogrn||"",kpp:G.kpp||"",legalAddress:G.legalAddress||"",bankName:G.bankName||"",bankBik:G.bankBik||"",bankCorrespondentAccount:G.bankCorrespondentAccount||"",directorName:G.directorName||"",directorPosition:G.directorPosition||"",workingHours:G.workingHours||{monday:"07:00-23:00",tuesday:"07:00-23:00",wednesday:"07:00-23:00",thursday:"07:00-23:00",friday:"07:00-23:00",saturday:"08:00-22:00",sunday:"08:00-22:00"},bookingDurations:G.bookingDurations||{60:!0,90:!0,120:!0},bookingSlotInterval:G.bookingSlotInterval||60}),S(G.photos||[])}}catch(V){console.error("Error loading venue:",V)}},F=D=>{const{name:K,value:q}=D.target;x(Z=>({...Z,[K]:q}))},M=D=>{x(K=>({...K,amenities:{...K.amenities,[D]:!K.amenities[D]}}))},P=async D=>{var Z;const K=(Z=D.target.files)==null?void 0:Z[0];if(!K)return;const q=i?o:n==null?void 0:n.venueId;if(!q){g("Не выбран клуб");return}try{u(!0);const Ae=Ib(v1,`clubs/${q}/logo.${K.name.split(".").pop()}`),H=await Fb(Ae,K),R=await Nb(H.ref);await yn(bt(Re,"venues",q),{logoUrl:R}),i&&A?c({...A,logoUrl:R}):await r(),h(!0),setTimeout(()=>h(!1),3e3)}catch(Ae){console.error("Error uploading logo:",Ae),g("Ошибка при загрузке логотипа")}finally{u(!1)}},I=async D=>{const K=D.target.files;if(!K||K.length===0)return;const q=i?o:n==null?void 0:n.venueId;if(!q){g("Не выбран клуб");return}if(C.length+K.length>5){g("Максимальное количество фотографий - 5");return}try{_(!0);const Z=[];for(let R=0;R<K.length;R++){const Q=K[R];if(Q.size>5*1024*1024){g(`Файл ${Q.name} превышает максимальный размер 5 МБ`);continue}if(!Q.type.startsWith("image/")){g(`Файл ${Q.name} не является изображением`);continue}const V=`photo_${Date.now()}_${R}.${Q.name.split(".").pop()}`,G=Ib(v1,`clubs/${q}/photos/${V}`);Z.push(Fb(G,Q).then(async ie=>await Nb(ie.ref)))}const Ae=await Promise.all(Z),H=[...C,...Ae];S(H),await yn(bt(Re,"venues",q),{photos:H}),i&&A?c({...A,photos:H}):await r(),h(!0),setTimeout(()=>h(!1),3e3)}catch(Z){console.error("Error uploading photos:",Z),g("Ошибка при загрузке фотографий")}finally{_(!1)}},j=async()=>{const D=i?o:n==null?void 0:n.venueId;if(!D){g("Не выбран клуб");return}try{u(!0),await yn(bt(Re,"venues",D),{logoUrl:null}),i&&A?c({...A,logoUrl:null}):await r(),h(!0),setTimeout(()=>h(!1),3e3)}catch(K){console.error("Error deleting logo:",K),g("Ошибка при удалении логотипа")}finally{u(!1)}},U=async(D,K)=>{const q=i?o:n==null?void 0:n.venueId;if(!q){g("Не выбран клуб");return}try{u(!0);const Z=C.filter((Ae,H)=>H!==K);S(Z),await yn(bt(Re,"venues",q),{photos:Z}),i&&A?c({...A,photos:Z}):await r(),h(!0),setTimeout(()=>h(!1),3e3)}catch(Z){console.error("Error deleting photo:",Z),g("Ошибка при удалении фотографии")}finally{u(!1)}},N=async D=>{D.preventDefault();const K=i?o:n==null?void 0:n.venueId;if(K)try{u(!0);const q=Object.entries(y.amenities).filter(([Ae,H])=>H).map(([Ae])=>Ae),Z={name:y.name,phone:y.phone,address:y.address,city:y.city,description:y.description,timezone:y.timezone,amenities:q,workingHours:y.workingHours,bookingDurations:y.bookingDurations,bookingSlotInterval:y.bookingSlotInterval,updatedAt:new Date};y.latitude&&y.longitude&&(Z.location=new aI(parseFloat(y.latitude),parseFloat(y.longitude))),await yn(bt(Re,"venues",K),Z),i&&A?await T(K):(await r(),console.log("Club data refreshed successfully")),h(!0),setTimeout(()=>h(!1),3e3)}catch(q){console.error("Error updating club:",q),g("Ошибка при сохранении данных")}finally{u(!1)}},z=async D=>{D.preventDefault();const K=i?o:n==null?void 0:n.venueId;if(K)try{u(!0);const q={organizationType:y.organizationType,inn:y.inn,bankAccount:y.bankAccount,legalName:y.legalName,ogrn:y.ogrn,kpp:y.kpp,legalAddress:y.legalAddress,bankName:y.bankName,bankBik:y.bankBik,bankCorrespondentAccount:y.bankCorrespondentAccount,directorName:y.directorName,directorPosition:y.directorPosition,updatedAt:new Date};await yn(bt(Re,"venues",K),q),i&&A?await T(K):(await r(),console.log("Club data refreshed successfully")),h(!0),setTimeout(()=>h(!1),3e3)}catch(q){console.error("Error updating requisites:",q),g("Ошибка при сохранении реквизитов")}finally{u(!1)}};if(!a())return s.jsxs(nn,{severity:"error",children:[s.jsx(Zl,{children:"Доступ запрещен"}),"У вас недостаточно прав для управления клубом."]});if(i&&!o)return s.jsx(uA,{title:"Выберите клуб для управления"});const L=i?A:t;return s.jsx(dd,{permission:["manage_club","manage_all_venues"],children:s.jsxs("div",{children:[i&&s.jsx(dA,{selectedVenueId:o,onVenueChange:E}),s.jsxs("div",{className:"section-card",children:[s.jsxs("h2",{className:"section-title",children:["Информация о клубе",i&&A&&s.jsx("span",{style:{fontSize:"16px",color:"var(--gray)",marginLeft:"16px"},children:A.name})]}),s.jsxs("div",{style:{backgroundColor:"#e3f2fd",padding:"12px 16px",borderRadius:"8px",marginBottom:"20px",fontSize:"14px",color:"#1976d2"},children:[s.jsx("strong",{children:"💡 Как получить координаты:"}),s.jsx("br",{}),"1. Откройте ",s.jsx("a",{href:"https://maps.google.com",target:"_blank",rel:"noopener noreferrer",style:{color:"#1976d2"},children:"Google Maps"}),s.jsx("br",{}),"2. Найдите ваш клуб на карте",s.jsx("br",{}),"3. Кликните правой кнопкой мыши на нужное место",s.jsx("br",{}),"4. Скопируйте координаты (первое число - широта, второе - долгота)"]}),s.jsxs("form",{onSubmit:N,children:[m&&s.jsx(nn,{severity:"error",sx:{mb:3},onClose:()=>g(null),children:m}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Логотип клуба"}),s.jsxs("div",{className:"logo-uploader",style:{display:"flex",alignItems:"center",gap:"24px"},children:[s.jsx("div",{className:"logo-preview",style:{width:"120px",height:"120px",border:"2px dashed var(--extra-light-gray)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",background:"var(--background)",position:"relative"},onMouseEnter:D=>{const K=D.currentTarget.querySelector("button");K&&(K.style.opacity="1")},onMouseLeave:D=>{const K=D.currentTarget.querySelector("button");K&&(K.style.opacity="0")},children:L!=null&&L.logoUrl?s.jsxs(s.Fragment,{children:[s.jsx("img",{src:L.logoUrl,alt:L.name,style:{width:"100%",height:"100%",objectFit:"cover"}}),s.jsx("button",{type:"button",onClick:j,style:{position:"absolute",top:"4px",right:"4px",width:"28px",height:"28px",borderRadius:"50%",background:"rgba(255, 255, 255, 0.9)",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",opacity:0,transition:"opacity 0.2s"},disabled:d,children:s.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"#dc2626",children:s.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}):s.jsxs("div",{style:{textAlign:"center",color:"var(--gray)"},children:[s.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"var(--light-gray)",children:s.jsx("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"})}),s.jsx("p",{style:{fontSize:"12px",marginTop:"8px"},children:"Нажмите для загрузки"})]})}),s.jsxs("div",{children:[s.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>{var D;return(D=document.getElementById("logoInput"))==null?void 0:D.click()},disabled:d,children:"Загрузить логотип"}),s.jsx("input",{type:"file",id:"logoInput",accept:"image/*",style:{display:"none"},onChange:P}),s.jsxs("p",{className:"form-hint",children:["Рекомендуемый размер: 500x500px",s.jsx("br",{}),"Максимум 2MB. PNG, JPG или SVG"]})]})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Фотографии клуба"}),s.jsx("div",{style:{marginBottom:"16px"},children:s.jsx("p",{className:"form-hint",children:"Максимум 5 фотографий, до 5 МБ каждая. Рекомендуемый размер: 1920x1080px"})}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"16px",marginBottom:"16px"},children:[C.map((D,K)=>s.jsxs("div",{style:{position:"relative",paddingBottom:"56.25%",overflow:"hidden",borderRadius:"12px",background:"var(--extra-light-gray)"},children:[s.jsx("img",{src:D,alt:`Фото ${K+1}`,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}}),s.jsx("button",{type:"button",onClick:()=>U(D,K),style:{position:"absolute",top:"8px",right:"8px",width:"32px",height:"32px",borderRadius:"50%",background:"rgba(255, 255, 255, 0.9)",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},disabled:d,children:s.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"#dc2626",children:s.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]},K)),C.length<5&&s.jsx("div",{onClick:()=>{var D;return(D=document.getElementById("photosInput"))==null?void 0:D.click()},style:{position:"relative",paddingBottom:"56.25%",overflow:"hidden",borderRadius:"12px",border:"2px dashed var(--extra-light-gray)",background:"var(--background)",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:D=>{D.currentTarget.style.borderColor="var(--primary)",D.currentTarget.style.background="rgba(0, 214, 50, 0.05)"},onMouseLeave:D=>{D.currentTarget.style.borderColor="var(--extra-light-gray)",D.currentTarget.style.background="var(--background)"},children:s.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",color:"var(--gray)"},children:[s.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"var(--light-gray)",children:s.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})}),s.jsx("p",{style:{fontSize:"14px",marginTop:"8px"},children:w?"Загрузка...":"Добавить фото"})]})})]}),s.jsx("input",{type:"file",id:"photosInput",accept:"image/*",multiple:!0,style:{display:"none"},onChange:I,disabled:w||C.length>=5})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Название клуба"}),s.jsx("input",{type:"text",className:"form-input",name:"name",value:y.name,onChange:F,required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Телефон"}),s.jsx("input",{type:"tel",className:"form-input",name:"phone",value:y.phone,onChange:F,required:!0})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Адрес"}),s.jsx("input",{type:"text",className:"form-input",name:"address",value:y.address,onChange:F,required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Город"}),s.jsx("input",{type:"text",className:"form-input",name:"city",value:y.city,onChange:F,placeholder:"Например: Москва"})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Широта (Latitude)"}),s.jsx("input",{type:"number",step:"0.000001",className:"form-input",name:"latitude",value:y.latitude,onChange:F,placeholder:"55.755831"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Долгота (Longitude)"}),s.jsx("input",{type:"number",step:"0.000001",className:"form-input",name:"longitude",value:y.longitude,onChange:F,placeholder:"37.617673"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Описание"}),s.jsx("textarea",{className:"form-textarea",name:"description",value:y.description,onChange:F,rows:4})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Часовой пояс"}),s.jsxs("select",{className:"form-select",name:"timezone",value:y.timezone,onChange:F,required:!0,children:[s.jsx("option",{value:"Europe/Kaliningrad",children:"Калининград (UTC+2)"}),s.jsx("option",{value:"Europe/Moscow",children:"Москва (UTC+3)"}),s.jsx("option",{value:"Europe/Samara",children:"Самара (UTC+4)"}),s.jsx("option",{value:"Asia/Yekaterinburg",children:"Екатеринбург (UTC+5)"}),s.jsx("option",{value:"Asia/Omsk",children:"Омск (UTC+6)"}),s.jsx("option",{value:"Asia/Krasnoyarsk",children:"Красноярск (UTC+7)"}),s.jsx("option",{value:"Asia/Irkutsk",children:"Иркутск (UTC+8)"}),s.jsx("option",{value:"Asia/Yakutsk",children:"Якутск (UTC+9)"}),s.jsx("option",{value:"Asia/Vladivostok",children:"Владивосток (UTC+10)"}),s.jsx("option",{value:"Asia/Magadan",children:"Магадан (UTC+11)"}),s.jsx("option",{value:"Asia/Kamchatka",children:"Камчатка (UTC+12)"})]}),s.jsx("div",{style:{marginTop:"8px",fontSize:"14px",color:"#666"},children:"Выберите часовой пояс, в котором работает ваш клуб. Это важно для корректного отображения времени в уведомлениях."})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Удобства"}),s.jsxs("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap",marginTop:"12px"},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:y.amenities.showers,onChange:()=>M("showers")}),"Душевые"]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:y.amenities.parking,onChange:()=>M("parking")}),"Парковка"]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:y.amenities.cafe,onChange:()=>M("cafe")}),"Кафе"]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:y.amenities.proshop,onChange:()=>M("proshop")}),"Pro Shop"]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:y.amenities.lockers,onChange:()=>M("lockers")}),"Раздевалки"]})]})]}),s.jsxs("div",{style:{marginTop:"32px"},children:[s.jsx("h3",{className:"section-subtitle",children:"Режим работы"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px",marginTop:"16px"},children:[{key:"monday",label:"Понедельник"},{key:"tuesday",label:"Вторник"},{key:"wednesday",label:"Среда"},{key:"thursday",label:"Четверг"},{key:"friday",label:"Пятница"},{key:"saturday",label:"Суббота"},{key:"sunday",label:"Воскресенье"}].map(D=>s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:D.label}),s.jsx("input",{type:"text",className:"form-input",value:y.workingHours[D.key],onChange:K=>x(q=>({...q,workingHours:{...q.workingHours,[D.key]:K.target.value}})),placeholder:"07:00-23:00"}),s.jsx("span",{className:"form-hint",children:"ЧЧ:ММ-ЧЧ:ММ"})]},D.key))})]}),s.jsxs("div",{style:{marginTop:"32px"},children:[s.jsx("h3",{className:"section-subtitle",children:"Доступные длительности бронирования"}),s.jsxs("div",{style:{display:"flex",gap:"24px",flexWrap:"wrap",marginTop:"16px"},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:y.bookingDurations[60],onChange:()=>x(D=>({...D,bookingDurations:{...D.bookingDurations,60:!D.bookingDurations[60]}}))}),"1 час"]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:y.bookingDurations[90],onChange:()=>x(D=>({...D,bookingDurations:{...D.bookingDurations,90:!D.bookingDurations[90]}}))}),"1.5 часа"]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:y.bookingDurations[120],onChange:()=>x(D=>({...D,bookingDurations:{...D.bookingDurations,120:!D.bookingDurations[120]}}))}),"2 часа"]})]}),s.jsx("p",{className:"form-hint",style:{marginTop:"8px"},children:"Выберите, какие длительности бронирования будут доступны клиентам"})]}),s.jsxs("div",{style:{marginTop:"32px"},children:[s.jsx("h3",{className:"section-subtitle",children:"Интервал временных слотов"}),s.jsxs("div",{style:{display:"flex",gap:"16px",marginTop:"16px"},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[s.jsx("input",{type:"radio",name:"bookingSlotInterval",value:"30",checked:y.bookingSlotInterval===30,onChange:()=>x(D=>({...D,bookingSlotInterval:30}))}),"Каждые 30 минут"]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[s.jsx("input",{type:"radio",name:"bookingSlotInterval",value:"60",checked:y.bookingSlotInterval===60,onChange:()=>x(D=>({...D,bookingSlotInterval:60}))}),"Только с 00 минут (стандарт)"]})]}),s.jsx("p",{className:"form-hint",style:{marginTop:"8px"},children:'Выберите интервал доступных слотов для бронирования. При выборе "Только с 00 минут" клиенты смогут бронировать только с начала часа (например, 10:00, 11:00, 12:00)'})]}),s.jsxs("div",{style:{display:"flex",gap:"12px"},children:[s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Сохранение...":"Сохранить изменения"}),s.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{var K,q,Z,Ae,H,R,Q,$;const D=i?A:t;D&&x({name:D.name||"",phone:D.phone||"",address:D.address||"",city:D.city||"",latitude:((q=(K=D.location)==null?void 0:K._lat)==null?void 0:q.toString())||((Ae=(Z=D.location)==null?void 0:Z.latitude)==null?void 0:Ae.toString())||"",longitude:((R=(H=D.location)==null?void 0:H._long)==null?void 0:R.toString())||(($=(Q=D.location)==null?void 0:Q.longitude)==null?void 0:$.toString())||"",description:D.description||"",amenities:{showers:Array.isArray(D.amenities)&&D.amenities.includes("showers")||!1,parking:Array.isArray(D.amenities)&&D.amenities.includes("parking")||!1,cafe:Array.isArray(D.amenities)&&D.amenities.includes("cafe")||!1,proshop:Array.isArray(D.amenities)&&D.amenities.includes("proshop")||!1,lockers:Array.isArray(D.amenities)&&D.amenities.includes("lockers")||!1},organizationType:D.organizationType||"",inn:D.inn||"",bankAccount:D.bankAccount||"",legalName:D.legalName||"",ogrn:D.ogrn||"",kpp:D.kpp||"",legalAddress:D.legalAddress||"",bankName:D.bankName||"",bankBik:D.bankBik||"",bankCorrespondentAccount:D.bankCorrespondentAccount||"",directorName:D.directorName||"",directorPosition:D.directorPosition||"",workingHours:D.workingHours||{monday:"07:00-23:00",tuesday:"07:00-23:00",wednesday:"07:00-23:00",thursday:"07:00-23:00",friday:"07:00-23:00",saturday:"08:00-22:00",sunday:"08:00-22:00"},bookingDurations:D.bookingDurations||{60:!0,90:!0,120:!0},bookingSlotInterval:D.bookingSlotInterval||60})},children:"Отмена"})]}),p&&s.jsx("div",{style:{marginTop:"16px",padding:"12px",background:"rgba(16, 185, 129, 0.1)",color:"var(--success)",borderRadius:"8px",fontSize:"14px"},children:"✅ Изменения успешно сохранены"})]})]}),s.jsxs("div",{className:"section-card",children:[s.jsx("h2",{className:"section-title",children:"Реквизиты организации"}),s.jsxs("form",{onSubmit:z,children:[s.jsxs("div",{className:"form-group",style:{marginTop:"24px"},children:[s.jsx("label",{className:"form-label",children:"Тип организации"}),s.jsxs("select",{className:"form-select",name:"organizationType",value:y.organizationType,onChange:F,children:[s.jsx("option",{value:"",children:"Выберите тип"}),s.jsx("option",{value:"ИП",children:"ИП"}),s.jsx("option",{value:"ООО",children:"ООО"}),s.jsx("option",{value:"АО",children:"АО"}),s.jsx("option",{value:"НКО",children:"НКО"}),s.jsx("option",{value:"Самозанятый",children:"Самозанятый"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Юридическое наименование"}),s.jsx("input",{type:"text",className:"form-input",name:"legalName",value:y.legalName,onChange:F,placeholder:"ООО «Название организации»"})]}),s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"ИНН"}),s.jsx("input",{type:"text",className:"form-input",name:"inn",value:y.inn,onChange:F,placeholder:"1234567890"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"КПП"}),s.jsx("input",{type:"text",className:"form-input",name:"kpp",value:y.kpp,onChange:F,placeholder:"123456789"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"ОГРН / ОГРНИП"}),s.jsx("input",{type:"text",className:"form-input",name:"ogrn",value:y.ogrn,onChange:F,placeholder:"1234567890123"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Юридический адрес"}),s.jsx("input",{type:"text",className:"form-input",name:"legalAddress",value:y.legalAddress,onChange:F,placeholder:"123456, г. Москва, ул. Примерная, д. 1, офис 1"})]}),s.jsx("h3",{style:{marginTop:"32px",marginBottom:"16px",fontSize:"18px"},children:"Банковские реквизиты"}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Наименование банка"}),s.jsx("input",{type:"text",className:"form-input",name:"bankName",value:y.bankName,onChange:F,placeholder:"ПАО Сбербанк"})]}),s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"БИК банка"}),s.jsx("input",{type:"text",className:"form-input",name:"bankBik",value:y.bankBik,onChange:F,placeholder:"044525225"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Корр. счет"}),s.jsx("input",{type:"text",className:"form-input",name:"bankCorrespondentAccount",value:y.bankCorrespondentAccount,onChange:F,placeholder:"30101810400000000225"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Расчетный счет"}),s.jsx("input",{type:"text",className:"form-input",name:"bankAccount",value:y.bankAccount,onChange:F,placeholder:"40702810900000123456"})]}),s.jsx("h3",{style:{marginTop:"32px",marginBottom:"16px",fontSize:"18px"},children:"Руководитель"}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"ФИО руководителя"}),s.jsx("input",{type:"text",className:"form-input",name:"directorName",value:y.directorName,onChange:F,placeholder:"Иванов Иван Иванович"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Должность"}),s.jsx("input",{type:"text",className:"form-input",name:"directorPosition",value:y.directorPosition,onChange:F,placeholder:"Генеральный директор"})]}),s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Сохранение...":"Сохранить реквизиты"}),p&&s.jsx("div",{style:{marginTop:"16px",padding:"12px",background:"rgba(16, 185, 129, 0.1)",color:"var(--success)",borderRadius:"8px",fontSize:"14px"},children:"✅ Реквизиты успешно сохранены"})]}),s.jsxs("div",{style:{marginTop:"24px",padding:"16px",background:"var(--background)",borderRadius:"8px",textAlign:"center"},children:[s.jsx("p",{style:{fontSize:"14px",color:"var(--gray)",marginBottom:"12px"},children:"Для настройки приема платежей от клиентов"}),s.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>e("/admin/payment-settings"),style:{width:"auto"},children:"Перейти к настройкам эквайринга"})]})]})]})})}const pp=["#00A86B","#2E86AB","#FF6B6B","#F39C12","#8E44AD","#E91E63","#00BCD4","#795548","#607D8B","#FF5722","#009688","#3F51B5","#FFEB3B","#4CAF50","#FF9800"];function Xq(){const{admin:e}=er(),{isSuperAdmin:t,canManageCourts:n}=Wr(),[r,i]=b.useState(null),[a,o]=b.useState([]),[l,A]=b.useState(!0),[c,d]=b.useState(!1),[u,p]=b.useState(!1),[h,m]=b.useState(null),[g,y]=b.useState({name:"",type:"padel",courtType:"indoor",pricing:{monday:{basePrice:1900,intervals:[]},tuesday:{basePrice:1900,intervals:[]},wednesday:{basePrice:1900,intervals:[]},thursday:{basePrice:1900,intervals:[]},friday:{basePrice:1900,intervals:[]},saturday:{basePrice:2400,intervals:[]},sunday:{basePrice:2400,intervals:[]}},holidayPricing:[],status:"active",color:"#00A86B"});b.useEffect(()=>{if(t){const P=localStorage.getItem("selectedVenueId");P&&(i(P),C(P))}else e!=null&&e.venueId&&C(e.venueId)},[e,t]);const x=P=>{i(P),localStorage.setItem("selectedVenueId",P),P&&C(P)},C=async P=>{if(P)try{A(!0);const I=Vt(Et(Re,"venues",P,"courts")),U=(await $t(I)).docs.map((N,z)=>{const L=N.data();if(!L.color){const D=z%pp.length;L.color=pp[D],yn(N.ref,{color:L.color})}return{id:N.id,...L}});o(U)}catch(I){console.error("Error fetching courts:",I)}finally{A(!1)}},S=()=>{const P=a.map(j=>j.color).filter(Boolean);for(const j of pp)if(!P.includes(j))return j;const I=pp.reduce((j,U)=>(j[U]=P.filter(N=>N===U).length,j),{});return Object.entries(I).sort((j,U)=>j[1]-U[1])[0][0]},w=P=>{const{name:I,value:j}=P.target;y(U=>({...U,[I]:I.includes("price")?Number(j):j}))},_=async P=>{var j,U,N,z,L,D,K,q,Z,Ae,H,R,Q,$;P.preventDefault();const I=t?r:e==null?void 0:e.venueId;if(I)try{const V={...g,holidayPricing:Array.isArray(g.holidayPricing)?g.holidayPricing:[],pricing:{monday:{basePrice:((j=g.pricing.monday)==null?void 0:j.basePrice)||1900,intervals:Array.isArray((U=g.pricing.monday)==null?void 0:U.intervals)?g.pricing.monday.intervals:[]},tuesday:{basePrice:((N=g.pricing.tuesday)==null?void 0:N.basePrice)||1900,intervals:Array.isArray((z=g.pricing.tuesday)==null?void 0:z.intervals)?g.pricing.tuesday.intervals:[]},wednesday:{basePrice:((L=g.pricing.wednesday)==null?void 0:L.basePrice)||1900,intervals:Array.isArray((D=g.pricing.wednesday)==null?void 0:D.intervals)?g.pricing.wednesday.intervals:[]},thursday:{basePrice:((K=g.pricing.thursday)==null?void 0:K.basePrice)||1900,intervals:Array.isArray((q=g.pricing.thursday)==null?void 0:q.intervals)?g.pricing.thursday.intervals:[]},friday:{basePrice:((Z=g.pricing.friday)==null?void 0:Z.basePrice)||1900,intervals:Array.isArray((Ae=g.pricing.friday)==null?void 0:Ae.intervals)?g.pricing.friday.intervals:[]},saturday:{basePrice:((H=g.pricing.saturday)==null?void 0:H.basePrice)||2400,intervals:Array.isArray((R=g.pricing.saturday)==null?void 0:R.intervals)?g.pricing.saturday.intervals:[]},sunday:{basePrice:((Q=g.pricing.sunday)==null?void 0:Q.basePrice)||2400,intervals:Array.isArray(($=g.pricing.sunday)==null?void 0:$.intervals)?g.pricing.sunday.intervals:[]}}};h?await yn(bt(Re,"venues",I,"courts",h.id),{...V,updatedAt:new Date}):await wa(Et(Re,"venues",I,"courts"),{...V,createdAt:new Date}),d(!1),m(null);const G=S();y({name:"",type:"padel",courtType:"indoor",pricing:{monday:{basePrice:1900,intervals:[]},tuesday:{basePrice:1900,intervals:[]},wednesday:{basePrice:1900,intervals:[]},thursday:{basePrice:1900,intervals:[]},friday:{basePrice:1900,intervals:[]},saturday:{basePrice:2400,intervals:[]},sunday:{basePrice:2400,intervals:[]}},holidayPricing:[],status:"active",color:G}),C(I),p(!0),setTimeout(()=>p(!1),3e3)}catch(V){console.error("Error saving court:",V)}},E=P=>{var U,N,z,L,D,K,q;m(P);const I={monday:{basePrice:1900,intervals:[]},tuesday:{basePrice:1900,intervals:[]},wednesday:{basePrice:1900,intervals:[]},thursday:{basePrice:1900,intervals:[]},friday:{basePrice:1900,intervals:[]},saturday:{basePrice:2400,intervals:[]},sunday:{basePrice:2400,intervals:[]}},j={monday:(U=P.pricing)!=null&&U.monday?{basePrice:P.pricing.monday.basePrice||1900,intervals:P.pricing.monday.intervals||[]}:I.monday,tuesday:(N=P.pricing)!=null&&N.tuesday?{basePrice:P.pricing.tuesday.basePrice||1900,intervals:P.pricing.tuesday.intervals||[]}:I.tuesday,wednesday:(z=P.pricing)!=null&&z.wednesday?{basePrice:P.pricing.wednesday.basePrice||1900,intervals:P.pricing.wednesday.intervals||[]}:I.wednesday,thursday:(L=P.pricing)!=null&&L.thursday?{basePrice:P.pricing.thursday.basePrice||1900,intervals:P.pricing.thursday.intervals||[]}:I.thursday,friday:(D=P.pricing)!=null&&D.friday?{basePrice:P.pricing.friday.basePrice||1900,intervals:P.pricing.friday.intervals||[]}:I.friday,saturday:(K=P.pricing)!=null&&K.saturday?{basePrice:P.pricing.saturday.basePrice||2400,intervals:P.pricing.saturday.intervals||[]}:I.saturday,sunday:(q=P.pricing)!=null&&q.sunday?{basePrice:P.pricing.sunday.basePrice||2400,intervals:P.pricing.sunday.intervals||[]}:I.sunday};y({name:P.name,type:P.type,courtType:P.courtType,pricing:j,holidayPricing:P.holidayPricing||[],status:P.status,color:P.color||"#00A86B"}),d(!0)},T=async P=>{if(window.confirm("Вы уверены, что хотите удалить этот корт?"))try{const I=t?r:e==null?void 0:e.venueId;if(!I)return;await Yc(bt(Re,"venues",I,"courts",P)),C(I),p(!0),setTimeout(()=>p(!1),3e3)}catch(I){console.error("Error deleting court:",I)}},F=P=>{switch(P){case"tennis":return"tennis";case"padel":return"padel";case"badminton":return"badminton";default:return"padel"}},M=P=>{switch(P){case"tennis":return"Теннис";case"padel":return"Падел";case"badminton":return"Бадминтон";default:return P}};return l?s.jsx("div",{children:"Загрузка..."}):n()?t&&!r?s.jsx(uA,{title:"Выберите клуб для управления кортами"}):s.jsxs(dd,{permission:["manage_courts","manage_all_venues"],children:[s.jsxs("div",{children:[t&&s.jsx(dA,{selectedVenueId:r,onVenueChange:x}),s.jsxs("div",{className:"section-card",children:[s.jsxs("div",{className:"section-header",children:[s.jsx("h2",{className:"section-title",children:"Управление кортами"}),s.jsxs("button",{className:"btn btn-primary",onClick:()=>{const P=S();y(I=>({...I,color:P})),d(!0)},children:[s.jsx(Ad,{fontSize:"small"}),"Добавить корт"]})]}),u&&s.jsx("div",{style:{marginTop:"16px",marginBottom:"16px",padding:"12px",background:"rgba(16, 185, 129, 0.1)",color:"var(--success)",borderRadius:"8px",fontSize:"14px"},children:"✅ Корт успешно сохранен"}),s.jsx("div",{className:"courts-grid",children:a.map(P=>s.jsxs("div",{className:"court-card",children:[s.jsx("div",{className:"court-header",children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[P.color&&s.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"4px",backgroundColor:P.color,border:"1px solid #e5e7eb"}}),s.jsxs("div",{children:[s.jsx("div",{className:"court-name",children:P.name}),s.jsx("span",{className:`court-type ${F(P.type)}`,children:M(P.type)})]})]})}),s.jsxs("div",{className:"court-details",children:[s.jsxs("div",{children:["Тип: ",P.courtType==="indoor"?"Крытый":"Открытый"]}),s.jsx("div",{children:P.pricing?(()=>{try{const I=Object.values(P.pricing).filter(j=>j&&j.basePrice).map(j=>j.basePrice);return I.length===0?s.jsx(s.Fragment,{children:"Цены не установлены"}):s.jsxs(s.Fragment,{children:["Цены: от ",Math.min(...I),"₽ до ",Math.max(...I),"₽"]})}catch(I){return console.error("Error displaying court prices:",I,P),s.jsx(s.Fragment,{children:"Ошибка отображения цен"})}})():s.jsxs(s.Fragment,{children:["Будни: ",P.priceWeekday||1900,"₽ | Вых: ",P.priceWeekend||2400,"₽"]})}),s.jsxs("div",{children:["Статус: ",P.status==="active"?"Активен":P.status==="maintenance"?"Обслуживание":"Неактивен"]})]}),s.jsxs("div",{className:"court-actions",children:[s.jsxs("button",{className:"btn btn-secondary",onClick:()=>E(P),children:[s.jsx(il,{fontSize:"small"}),"Редактировать"]}),s.jsx("button",{className:"btn btn-danger",onClick:()=>T(P.id),style:{marginLeft:"auto"},children:s.jsx(AA,{fontSize:"small"})})]})]},P.id))}),a.length===0&&s.jsxs("div",{style:{textAlign:"center",padding:"48px",color:"var(--gray)"},children:[s.jsx("p",{children:"У вас пока нет кортов"}),s.jsx("p",{children:'Нажмите "Добавить корт", чтобы создать первый'})]})]})]}),s.jsx("div",{className:`modal ${c?"active":""}`,children:s.jsxs("div",{className:"modal-content",children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h3",{className:"modal-title",children:h?"Редактировать корт":"Добавить корт"}),s.jsx("button",{className:"modal-close",onClick:()=>{d(!1),m(null);const P=S();y({name:"",type:"padel",courtType:"indoor",pricing:{monday:{basePrice:1900,intervals:[]},tuesday:{basePrice:1900,intervals:[]},wednesday:{basePrice:1900,intervals:[]},thursday:{basePrice:1900,intervals:[]},friday:{basePrice:1900,intervals:[]},saturday:{basePrice:2400,intervals:[]},sunday:{basePrice:2400,intervals:[]}},holidayPricing:[],status:"active",color:P})},children:s.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),s.jsxs("form",{onSubmit:_,children:[s.jsxs("div",{className:"modal-body",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Название корта"}),s.jsx("input",{type:"text",className:"form-input",name:"name",value:g.name,onChange:w,placeholder:"Например: Падел корт 1",required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Вид спорта"}),s.jsxs("select",{className:"form-select",name:"type",value:g.type,onChange:w,children:[s.jsx("option",{value:"padel",children:"Падел"}),s.jsx("option",{value:"tennis",children:"Теннис"}),s.jsx("option",{value:"badminton",children:"Бадминтон"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Тип корта"}),s.jsxs("select",{className:"form-select",name:"courtType",value:g.courtType,onChange:w,children:[s.jsx("option",{value:"indoor",children:"Крытый"}),s.jsx("option",{value:"outdoor",children:"Открытый"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Ценовая политика"}),s.jsx("div",{style:{marginTop:"16px"},children:[{key:"monday",label:"Понедельник"},{key:"tuesday",label:"Вторник"},{key:"wednesday",label:"Среда"},{key:"thursday",label:"Четверг"},{key:"friday",label:"Пятница"},{key:"saturday",label:"Суббота"},{key:"sunday",label:"Воскресенье"}].map(P=>s.jsxs("div",{style:{marginBottom:"24px",padding:"16px",background:"#f8f9fa",borderRadius:"8px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"12px"},children:[s.jsx("h4",{style:{margin:0},children:P.label}),s.jsx("input",{type:"number",className:"form-input",style:{width:"120px"},value:g.pricing[P.key].basePrice,onChange:I=>{const j=Number(I.target.value);y(U=>({...U,pricing:{...U.pricing,[P.key]:{...U.pricing[P.key],basePrice:j}}}))},min:"0",placeholder:"Базовая цена"}),s.jsx("span",{style:{marginLeft:"8px"},children:"₽/час"})]}),s.jsxs("div",{style:{marginTop:"12px"},children:[s.jsx("div",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"8px"},children:"Интервалы с особыми ценами:"}),(()=>{const I=g.pricing[P.key];return((I==null?void 0:I.intervals)||[]).map((U,N)=>s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[s.jsx("input",{type:"time",className:"form-input",style:{width:"140px"},value:U.from,onChange:z=>{const L=[...g.pricing[P.key].intervals||[]];L[N].from=z.target.value,y(D=>({...D,pricing:{...D.pricing,[P.key]:{...D.pricing[P.key],intervals:L}}}))},step:"3600"}),s.jsx("span",{children:"-"}),s.jsx("input",{type:"time",className:"form-input",style:{width:"140px"},value:U.to,onChange:z=>{const L=[...g.pricing[P.key].intervals||[]];L[N].to=z.target.value,y(D=>({...D,pricing:{...D.pricing,[P.key]:{...D.pricing[P.key],intervals:L}}}))},step:"3600"}),s.jsx("input",{type:"number",className:"form-input",style:{width:"120px"},value:U.price,onChange:z=>{const L=[...g.pricing[P.key].intervals||[]];L[N].price=Number(z.target.value),y(D=>({...D,pricing:{...D.pricing,[P.key]:{...D.pricing[P.key],intervals:L}}}))},min:"0",placeholder:"Цена"}),s.jsx("span",{children:"₽"}),s.jsx("button",{type:"button",className:"btn btn-secondary",style:{padding:"4px 8px"},onClick:()=>{const z=(g.pricing[P.key].intervals||[]).filter((L,D)=>D!==N);y(L=>({...L,pricing:{...L.pricing,[P.key]:{...L.pricing[P.key],intervals:z}}}))},children:"Удалить"})]},N))})(),s.jsx("button",{type:"button",className:"btn btn-link",style:{padding:"4px 8px",fontSize:"14px"},onClick:()=>{const I=[...g.pricing[P.key].intervals||[],{from:"09:00",to:"11:00",price:g.pricing[P.key].basePrice*1.5}];y(j=>({...j,pricing:{...j.pricing,[P.key]:{...j.pricing[P.key],intervals:I}}}))},children:"+ Добавить интервал"})]})]},P.key))})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Праздничные дни"}),s.jsx("div",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"16px"},children:"В праздничные дни действует фиксированная цена, независимо от дня недели и временных интервалов"}),s.jsxs("div",{children:[(g.holidayPricing||[]).map((I,j)=>s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px",padding:"12px",background:"#f8f9fa",borderRadius:"8px"},children:[s.jsx("input",{type:"text",className:"form-input",style:{width:"100px"},placeholder:"ММ-ДД",value:I.date,onChange:U=>{const N=[...g.holidayPricing||[]];N[j].date=U.target.value,y(z=>({...z,holidayPricing:N}))}}),s.jsx("input",{type:"text",className:"form-input",style:{flex:1},placeholder:"Название праздника (необязательно)",value:I.name||"",onChange:U=>{const N=[...g.holidayPricing||[]];N[j].name=U.target.value,y(z=>({...z,holidayPricing:N}))}}),s.jsx("input",{type:"number",className:"form-input",style:{width:"120px"},placeholder:"Цена",value:I.price,onChange:U=>{const N=[...g.holidayPricing||[]];N[j].price=Number(U.target.value),y(z=>({...z,holidayPricing:N}))}}),s.jsx("button",{type:"button",className:"btn btn-secondary",style:{padding:"4px 8px"},onClick:()=>{const U=(g.holidayPricing||[]).filter((N,z)=>z!==j);y(N=>({...N,holidayPricing:U}))},children:"✕"})]},j)),s.jsx("button",{type:"button",className:"btn btn-link",style:{padding:"4px 8px",fontSize:"14px"},onClick:()=>{const P=[...g.holidayPricing||[],{date:"",price:3e3,name:""}];y(I=>({...I,holidayPricing:P}))},children:"+ Добавить праздничный день"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Статус"}),s.jsxs("select",{className:"form-select",name:"status",value:g.status,onChange:w,children:[s.jsx("option",{value:"active",children:"Активен"}),s.jsx("option",{value:"maintenance",children:"На обслуживании"}),s.jsx("option",{value:"inactive",children:"Неактивен"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Цвет корта"}),s.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[s.jsx("input",{type:"color",className:"form-input",name:"color",value:g.color,onChange:w,style:{width:"80px",height:"48px",padding:"4px",cursor:"pointer"}}),s.jsx("input",{type:"text",className:"form-input",value:g.color,onChange:P=>y(I=>({...I,color:P.target.value})),placeholder:"#00A86B",style:{flex:1}})]}),s.jsx("div",{className:"form-hint",children:"Этот цвет будет использоваться для визуального отображения корта в календаре"})]})]}),s.jsxs("div",{className:"modal-footer",children:[s.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{d(!1),m(null)},children:"Отмена"}),s.jsx("button",{type:"submit",className:"btn btn-primary",children:h?"Сохранить изменения":"Добавить корт"})]})]})]})})]}):s.jsxs(nn,{severity:"error",children:[s.jsx(Zl,{children:"Доступ запрещен"}),"У вас недостаточно прав для управления кортами."]})}const NB={awaiting_payment:"Ожидает оплаты",paid:"Оплачено",cancelled:"Отменено",refunded:"Возврат",expired:"Время истекло",error:"Ошибка","":"-"},TB={awaiting_payment:"#F59E0B",paid:"#10B981",cancelled:"#EF4444",refunded:"#8B5CF6",expired:"#6B7280",error:"#DC2626","":"#9CA3AF"},_B={awaiting_payment:ug,paid:Fm,cancelled:xa,refunded:xa,expired:ug,error:xa,"":xa};function ok({bookingId:e,currentStatus:t,paymentMethod:n,onStatusUpdate:r,onRefund:i}){const{admin:a}=er(),[o,l]=b.useState(!1),[A,c]=b.useState(!1),[d,u]=b.useState(null),[p,h]=b.useState(t);b.useEffect(()=>{h(t)},[t]),b.useEffect(()=>{if(!e)return;const C=li(bt(Re,"bookings",e),S=>{if(S.exists()){const _=S.data().paymentStatus||"";h(_)}});return()=>C()},[e]);const m=p==="awaiting_payment"&&n!=="online",g=async C=>{if(!a){alert("Ошибка: пользователь не авторизован");return}l(!0);try{const S=bt(Re,"bookings",e),w=await An(S);if(!w.exists())throw new Error("Бронирование не найдено");const E=w.data().paymentHistory||[],T={timestamp:Qt.now(),action:C,userId:a.uid||"unknown",userName:a.displayName||a.email||"Администратор"},F={paymentStatus:C};Array.isArray(E)?F.paymentHistory=[...E,T]:F.paymentHistory=[T],C==="cancelled"?F.status="cancelled":C==="paid"&&(F.status="confirmed"),Object.keys(F).forEach(M=>{F[M]===void 0&&delete F[M]}),await yn(S,F),c(!1),u(null),await new Promise(M=>setTimeout(M,500)),h(C),r&&await r()}catch(S){console.error("Error updating payment status:",S);let w="Ошибка при обновлении статуса оплаты";S.code==="permission-denied"?w="У вас нет прав для изменения статуса оплаты":S.code==="not-found"?w="Бронирование не найдено":S.message&&(w=`Ошибка: ${S.message}`),alert(w)}finally{l(!1)}},y=p||"",x=_B[y]||_B.cancelled;return s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"6px 12px",background:`${TB[y]}1A`,color:TB[y],borderRadius:"20px",fontSize:"14px",fontWeight:"600"},children:[s.jsx(x,{style:{fontSize:"18px"}}),s.jsx("span",{children:NB[y]}),m&&s.jsxs("div",{style:{marginLeft:"8px",display:"flex",gap:"4px"},children:[s.jsx("button",{onClick:()=>{u("paid"),c(!0)},disabled:o,style:{padding:"4px 8px",fontSize:"12px",background:"#10B981",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",opacity:o?.6:1},children:"Оплачено"}),s.jsx("button",{onClick:()=>{u("cancelled"),c(!0)},disabled:o,style:{padding:"4px 8px",fontSize:"12px",background:"#EF4444",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",opacity:o?.6:1},children:"Отменить"})]}),p==="paid"&&i&&s.jsx("button",{onClick:i,disabled:o,style:{marginLeft:"8px",padding:"4px 8px",fontSize:"12px",background:"#8B5CF6",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",opacity:o?.5:1},title:"Оформить возврат",children:"Возврат"})]}),A&&d&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:s.jsxs("div",{style:{background:"white",padding:"24px",borderRadius:"12px",maxWidth:"400px",width:"90%"},children:[s.jsx("h3",{style:{marginBottom:"16px"},children:"Подтверждение"}),s.jsxs("p",{style:{marginBottom:"24px"},children:['Вы уверены, что хотите изменить статус оплаты на "',NB[d],'"?']}),s.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[s.jsx("button",{onClick:()=>{c(!1),u(null)},style:{padding:"8px 16px",background:"#E5E7EB",border:"none",borderRadius:"8px",cursor:"pointer"},children:"Отмена"}),s.jsx("button",{onClick:()=>g(d),disabled:o,style:{padding:"8px 16px",background:d==="paid"?"#10B981":"#EF4444",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",opacity:o?.6:1},children:o?"Обновление...":"Подтвердить"})]})]})})]})}function lk({createdAt:e,paymentMethod:t,paymentStatus:n}){const[r,i]=b.useState(0),[a,o]=b.useState(!1);if(b.useEffect(()=>{if(n==="paid"||n==="cancelled"||t==="transfer"||t==="cash"||t==="card_on_site")return;const c=()=>{const u=new Date;let p;e instanceof Date?p=e:e!=null&&e.toDate?p=e.toDate():e!=null&&e.seconds?p=new Date(e.seconds*1e3):p=new Date(e);const h=Math.floor((u.getTime()-p.getTime())/(1e3*60));let m=30;t==="online"&&(m=15);const g=m-h;g<=0?(o(!0),i(0)):(o(!1),i(g))};c();const d=setInterval(c,3e4);return()=>clearInterval(d)},[e,t,n]),n==="paid"||n==="cancelled"||t==="transfer"||t==="cash"||t==="card_on_site"||r===0&&!a)return null;const l=()=>a?"Время истекло":r<=5?`${r} мин`:`${r} мин`,A=()=>a?{color:"var(--danger)",fontWeight:"600"}:r<=5?{color:"var(--warning)",fontWeight:"600"}:{color:"var(--gray)"};return s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",fontSize:"12px",...A()},children:[a?s.jsx(rA,{style:{fontSize:"16px"}}):s.jsx(N9,{style:{fontSize:"16px"}}),s.jsx("span",{children:l()})]})}const Jq={created:"Создано бронирование",paid:"Оплачено",cancelled:"Отменено",edited:"Изменено бронирование",refunded:"Возврат средств"},DB={created:"#6B7280",paid:"#10B981",cancelled:"#EF4444",edited:"#3B82F6",refunded:"#F59E0B"};function Zq({history:e}){if(!e||e.length===0)return null;const t=n=>{const r=n.toDate?n.toDate():new Date(n);return new Intl.DateTimeFormat("ru-RU",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(r)};return s.jsxs("div",{style:{marginTop:"16px",padding:"16px",background:"var(--background)",borderRadius:"8px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px",color:"var(--gray)",fontSize:"14px",fontWeight:"600"},children:[s.jsx(gj,{style:{fontSize:"18px"}}),"История изменений"]}),s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:e.map((n,r)=>s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"8px",background:"var(--white)",borderRadius:"6px",fontSize:"14px"},children:[s.jsx("div",{style:{width:n.action==="edited"?"20px":"8px",height:n.action==="edited"?"20px":"8px",borderRadius:"50%",background:DB[n.action],flexShrink:0,display:"flex",alignItems:"center",justifyContent:"center"},children:n.action==="edited"&&s.jsx(il,{style:{fontSize:"12px",color:"white"}})}),s.jsxs("div",{style:{flex:1},children:[s.jsx("div",{style:{color:DB[n.action],fontWeight:"500"},children:Jq[n.action]}),s.jsx("div",{style:{color:"var(--gray)",fontSize:"12px",marginTop:"2px"},children:t(n.timestamp)}),n.action==="edited"&&n.changes&&s.jsxs("div",{style:{marginTop:"8px",padding:"8px",background:"var(--background)",borderRadius:"4px",fontSize:"12px",color:"var(--gray)"},children:[s.jsx("div",{style:{marginBottom:"4px",fontWeight:"600",color:"#4B5563"},children:"Изменения:"}),n.changes.court&&s.jsxs("div",{style:{marginBottom:"4px",paddingLeft:"8px"},children:[s.jsx("span",{style:{color:"#6B7280"},children:"Корт:"})," ",s.jsx("span",{style:{textDecoration:"line-through"},children:n.changes.court.from})," → ",s.jsx("span",{style:{color:"#059669",fontWeight:"500"},children:n.changes.court.to})]}),n.changes.date&&s.jsxs("div",{style:{marginBottom:"4px",paddingLeft:"8px"},children:[s.jsx("span",{style:{color:"#6B7280"},children:"Дата:"})," ",s.jsx("span",{style:{textDecoration:"line-through"},children:n.changes.date.from})," → ",s.jsx("span",{style:{color:"#059669",fontWeight:"500"},children:n.changes.date.to})]}),n.changes.duration&&s.jsxs("div",{style:{marginBottom:"4px",paddingLeft:"8px"},children:[s.jsx("span",{style:{color:"#6B7280"},children:"Длительность:"})," ",s.jsx("span",{style:{textDecoration:"line-through"},children:n.changes.duration.from})," → ",s.jsx("span",{style:{color:"#059669",fontWeight:"500"},children:n.changes.duration.to})]}),n.changes.time&&s.jsxs("div",{style:{marginBottom:"4px",paddingLeft:"8px"},children:[s.jsx("span",{style:{color:"#6B7280"},children:"Время:"})," ",s.jsx("span",{style:{textDecoration:"line-through"},children:n.changes.time.from})," → ",s.jsx("span",{style:{color:"#059669",fontWeight:"500"},children:n.changes.time.to})]})]})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",color:"var(--gray)",fontSize:"12px"},children:[s.jsx(Uu,{style:{fontSize:"16px"}}),n.userName||"Администратор"]}),n.note&&n.action!=="edited"&&s.jsx("div",{style:{fontSize:"12px",color:"var(--gray)",fontStyle:"italic"},children:n.note})]},r))})]})}const eY={cash:"Оплата в клубе наличными",card_on_site:"Оплата в клубе картой",transfer:"Перевод на р.счет клуба (юр.лицо)",online:"Онлайн оплата",sberbank_card:"На карту Сбербанка",tbank_card:"На карту Т-Банка",vtb_card:"На карту ВТБ"};function zx(e){return eY[e]||e}function Ak({isOpen:e,onClose:t,booking:n,onSuccess:r,clubTimezone:i="Europe/Moscow"}){const{admin:a}=er(),[o,l]=b.useState(!1),[A,c]=b.useState("");if(!e||!n)return null;const d=async()=>{if(!a||!n)return;if(!A.trim()){alert("Пожалуйста, укажите причину возврата");return}const h=new Date(n.date),m=new Intl.DateTimeFormat("en-CA",{timeZone:i,year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date),g=new Intl.DateTimeFormat("en-CA",{timeZone:i,year:"numeric",month:"2-digit",day:"2-digit"}).format(h);if(m>g){const y=new Intl.DateTimeFormat("ru-RU",{timeZone:i,year:"numeric",month:"long",day:"numeric"}).format(h);alert(`Возврат невозможен после окончания дня бронирования (${y}). Возврат был доступен до конца этого дня.`);return}l(!0);try{if(n.paymentMethod==="online"){const C=(await ts(tl,"processBookingRefund")({bookingId:n.id,reason:A})).data;if(C.success)alert("Запрос на возврат отправлен в платежную систему. Статус бронирования будет обновлен автоматически после подтверждения возврата.");else throw new Error(C.error||"Ошибка при создании возврата")}else{const y=bt(Re,"bookings",n.id);await yn(y,{status:"cancelled",paymentStatus:"refunded",refundedAt:Qt.now(),refundReason:A,refundedBy:{userId:a.uid||"",userName:a.displayName||a.email||"Администратор"},paymentHistory:Cp({timestamp:Qt.now(),action:"refunded",userId:a.uid||"",userName:a.displayName||a.email||"Администратор",note:`Возврат: ${A}`})}),alert("Возврат успешно оформлен. Бронирование отменено.")}r(),t(),c("")}catch(y){console.error("Error processing refund:",y),y.code==="functions/already-exists"?alert(y.message||"Возврат по этому бронированию уже выполнен или обрабатывается"):alert("Ошибка при оформлении возврата: "+(y.message||"Неизвестная ошибка"))}finally{l(!1)}},u=h=>new Intl.DateTimeFormat("ru-RU",{day:"numeric",month:"long",year:"numeric"}).format(h),p=h=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0}).format(h);return s.jsx("div",{className:"modal active",onClick:h=>{h.target===h.currentTarget&&t()},children:s.jsxs("div",{className:"modal-content",style:{maxWidth:"500px"},children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h2",{className:"modal-title",children:"Оформление возврата"}),s.jsx("button",{className:"modal-close",onClick:t,children:s.jsx(ih,{})})]}),s.jsxs("div",{className:"modal-body",children:[(()=>{const h=new Date(n.date),m=new Date;return h.getFullYear()===m.getFullYear()&&h.getMonth()===m.getMonth()&&h.getDate()===m.getDate()?s.jsxs("div",{style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid var(--danger)",borderRadius:"8px",padding:"16px",marginBottom:"24px",display:"flex",gap:"12px"},children:[s.jsx(rA,{style:{color:"var(--danger)",flexShrink:0}}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:"600",marginBottom:"8px",color:"var(--danger)"},children:"Внимание! Последний день для возврата"}),s.jsx("div",{style:{fontSize:"14px"},children:"Сегодня последний день, когда возможен возврат по этому бронированию. После 23:59 возврат будет недоступен."})]})]}):null})(),s.jsxs("div",{style:{background:"rgba(245, 158, 11, 0.1)",border:"1px solid var(--warning)",borderRadius:"8px",padding:"16px",marginBottom:"24px",display:"flex",gap:"12px"},children:[s.jsx(rA,{style:{color:"var(--warning)",flexShrink:0}}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:"600",marginBottom:"8px"},children:"Важно! Способ возврата"}),s.jsxs("div",{style:{fontSize:"14px",color:"var(--gray)"},children:["Возврат должен быть осуществлен тем же способом, что и оплата.",n.paymentMethod==="online"?s.jsx("div",{style:{marginTop:"8px",color:"var(--danger)"},children:"Для онлайн оплаты возврат будет произведен автоматически через платежную систему. Бронирование будет отменено только после подтверждения возврата от платежной системы."}):s.jsxs("div",{style:{marginTop:"8px"},children:["Способ оплаты: ",s.jsx("strong",{children:zx(n.paymentMethod)}),s.jsx("br",{}),"После подтверждения возврата бронирование будет отменено немедленно."]})]})]})]}),s.jsxs("div",{style:{background:"var(--background)",borderRadius:"8px",padding:"16px",marginBottom:"24px"},children:[s.jsx("h3",{style:{fontSize:"16px",marginBottom:"12px"},children:"Детали бронирования"}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Клиент:"}),s.jsx("span",{children:n.clientName||n.customerName})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Корт:"}),s.jsx("span",{children:n.courtName})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Дата:"}),s.jsx("span",{children:u(n.date)})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Время:"}),s.jsxs("span",{children:[n.startTime," - ",n.endTime]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingTop:"8px",borderTop:"1px solid var(--extra-light-gray)",fontWeight:"600",fontSize:"18px"},children:[s.jsx("span",{children:"Сумма к возврату:"}),s.jsx("span",{style:{color:"var(--danger)"},children:p(n.amount)})]})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Причина возврата *"}),s.jsx("textarea",{className:"form-textarea",placeholder:"Укажите причину возврата...",value:A,onChange:h=>c(h.target.value),rows:3,required:!0})]})]}),s.jsxs("div",{className:"modal-footer",style:{paddingTop:"24px",borderTop:"1px solid var(--extra-light-gray)",display:"flex",gap:"12px",justifyContent:"flex-end"},children:[s.jsx("button",{type:"button",className:"btn btn-secondary",onClick:t,disabled:o,children:"Отмена"}),s.jsx("button",{type:"button",className:"btn btn-danger",onClick:d,disabled:o||!A.trim(),children:o?"Оформление...":"Оформить возврат"})]})]})})}function Va(e,t){const[n,r]=e.split(":").map(Number),i=n*60+r+t,a=Math.floor(i/60)%24,o=i%60;return`${String(a).padStart(2,"0")}:${String(o).padStart(2,"0")}`}function tY(e){return Math.round(e*60)}function nY(e,t){if(!t){const[o,l,A]=e.split("-").map(Number);return new Date(Date.UTC(o,l-1,A,0,0,0))}const n=new Date(e+"T00:00:00"),i=new Intl.DateTimeFormat("en-US",{timeZone:t,year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1}).formatToParts(n),a={};return i.forEach(o=>{o.type!=="literal"&&(a[o.type]=parseInt(o.value))}),new Date(Date.UTC(a.year,a.month-1,a.day,0,0,0))}function Eg(e,t){return e?e!=null&&e.toDate&&typeof e.toDate=="function"?e.toDate():e!=null&&e.seconds&&typeof e.seconds=="number"?new Date(e.seconds*1e3):e instanceof Date?e:typeof e=="string"?e.match(/^\d{4}-\d{2}-\d{2}$/)?nY(e,t):new Date(e):typeof e=="number"?new Date(e):new Date:new Date}function ck(e,t){const n=t||"Europe/Moscow",r=new Intl.DateTimeFormat("en-CA",{timeZone:n,year:"numeric",month:"2-digit",day:"2-digit"}).format(e),[i,a,o]=r.split("-").map(Number);let A=new Date(Date.UTC(i,a-1,o,0,0,0)).getUTCDay();return A=A===0?6:A-1,new Date(Date.UTC(i,a-1,o-A,0,0,0))}function rY(e,t){const n=ck(e,t);return new Date(Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()+6,23,59,59,999))}function kn(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function vt(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function wt(e){vt(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||pn(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function ro(e,t){vt(2,arguments);var n=wt(e),r=kn(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function Op(e,t){vt(2,arguments);var n=wt(e),r=kn(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),a=new Date(n.getTime());a.setMonth(n.getMonth()+r+1,0);var o=a.getDate();return i>=o?a:(n.setFullYear(a.getFullYear(),a.getMonth(),i),n)}function Wm(e,t){vt(2,arguments);var n=wt(e).getTime(),r=kn(t);return new Date(n+r)}var sY=36e5;function iY(e,t){vt(2,arguments);var n=kn(t);return Wm(e,n*sY)}var aY={};function Da(){return aY}function Vl(e,t){var n,r,i,a,o,l,A,c;vt(1,arguments);var d=Da(),u=kn((n=(r=(i=(a=t==null?void 0:t.weekStartsOn)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&i!==void 0?i:d.weekStartsOn)!==null&&r!==void 0?r:(A=d.locale)===null||A===void 0||(c=A.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=wt(e),h=p.getDay(),m=(h<u?7:0)+h-u;return p.setDate(p.getDate()-m),p.setHours(0,0,0,0),p}function Ig(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Al(e){vt(1,arguments);var t=wt(e);return t.setHours(0,0,0,0),t}var oY=864e5;function lY(e,t){vt(2,arguments);var n=Al(e),r=Al(t),i=n.getTime()-Ig(n),a=r.getTime()-Ig(r);return Math.round((i-a)/oY)}var AY=6e4;function ai(e,t){vt(2,arguments);var n=kn(t);return Wm(e,n*AY)}function cY(e,t){vt(2,arguments);var n=kn(t);return Wm(e,n*1e3)}function dY(e,t){vt(2,arguments);var n=kn(t),r=n*7;return ro(e,r)}function UB(e,t){vt(2,arguments);var n=kn(t);return Op(e,n*12)}function Ou(e,t){vt(2,arguments);var n=wt(e),r=wt(t),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}var Km=6e4,Vm=36e5,uY=1e3;function dk(e,t){vt(2,arguments);var n=Al(e),r=Al(t);return n.getTime()===r.getTime()}function hY(e){return vt(1,arguments),e instanceof Date||pn(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function uk(e){if(vt(1,arguments),!hY(e)&&typeof e!="number")return!1;var t=wt(e);return!isNaN(Number(t))}function fY(e,t){vt(2,arguments);var n=wt(e),r=wt(t),i=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return i*12+a}function pY(e,t){vt(2,arguments);var n=wt(e),r=wt(t);return n.getFullYear()-r.getFullYear()}function LB(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function hk(e,t){vt(2,arguments);var n=wt(e),r=wt(t),i=LB(n,r),a=Math.abs(lY(n,r));n.setDate(n.getDate()-i*a);var o=+(LB(n,r)===-i),l=i*(a-o);return l===0?0:l}function Gm(e,t){return vt(2,arguments),wt(e).getTime()-wt(t).getTime()}var MB={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},gY="trunc";function Qh(e){return e?MB[e]:MB[gY]}function mY(e,t,n){vt(2,arguments);var r=Gm(e,t)/Vm;return Qh(void 0)(r)}function vY(e,t,n){vt(2,arguments);var r=Gm(e,t)/Km;return Qh(void 0)(r)}function hy(e){vt(1,arguments);var t=wt(e);return t.setHours(23,59,59,999),t}function fy(e){vt(1,arguments);var t=wt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function yY(e){vt(1,arguments);var t=wt(e);return hy(t).getTime()===fy(t).getTime()}function fk(e,t){vt(2,arguments);var n=wt(e),r=wt(t),i=Ou(n,r),a=Math.abs(fY(n,r)),o;if(a<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*a);var l=Ou(n,r)===-i;yY(wt(e))&&a===1&&Ou(e,r)===1&&(l=!1),o=i*(a-Number(l))}return o===0?0:o}function xY(e,t,n){vt(2,arguments);var r=fk(e,t)/3;return Qh(void 0)(r)}function bY(e,t,n){vt(2,arguments);var r=Gm(e,t)/1e3;return Qh(void 0)(r)}function wY(e,t,n){vt(2,arguments);var r=hk(e,t)/7;return Qh(void 0)(r)}function CY(e,t){vt(2,arguments);var n=wt(e),r=wt(t),i=Ou(n,r),a=Math.abs(pY(n,r));n.setFullYear(1584),r.setFullYear(1584);var o=Ou(n,r)===-i,l=i*(a-Number(o));return l===0?0:l}function BY(e,t){var n;vt(1,arguments);var r=e||{},i=wt(r.start),a=wt(r.end),o=a.getTime();if(!(i.getTime()<=o))throw new RangeError("Invalid interval");var l=[],A=i;A.setHours(0,0,0,0);var c=Number((n=void 0)!==null&&n!==void 0?n:1);if(c<1||isNaN(c))throw new RangeError("`options.step` must be a number greater than 1");for(;A.getTime()<=o;)l.push(wt(A)),A.setDate(A.getDate()+c),A.setHours(0,0,0,0);return l}function PB(e){vt(1,arguments);var t=wt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Rv(e){vt(1,arguments);var t=wt(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function gp(e){vt(1,arguments);var t=wt(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Hv(e,t){var n,r,i,a,o,l,A,c;vt(1,arguments);var d=Da(),u=kn((n=(r=(i=(a=t==null?void 0:t.weekStartsOn)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&i!==void 0?i:d.weekStartsOn)!==null&&r!==void 0?r:(A=d.locale)===null||A===void 0||(c=A.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=wt(e),h=p.getDay(),m=(h<u?-7:0)+6-(h-u);return p.setDate(p.getDate()+m),p.setHours(23,59,59,999),p}function pk(e,t){vt(2,arguments);var n=kn(t);return Wm(e,-n)}var SY=864e5;function jY(e){vt(1,arguments);var t=wt(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),i=n-r;return Math.floor(i/SY)+1}function Kc(e){vt(1,arguments);var t=1,n=wt(e),r=n.getUTCDay(),i=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function gk(e){vt(1,arguments);var t=wt(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=Kc(r),a=new Date(0);a.setUTCFullYear(n,0,4),a.setUTCHours(0,0,0,0);var o=Kc(a);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function kY(e){vt(1,arguments);var t=gk(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=Kc(n);return r}var EY=6048e5;function mk(e){vt(1,arguments);var t=wt(e),n=Kc(t).getTime()-kY(t).getTime();return Math.round(n/EY)+1}function ho(e,t){var n,r,i,a,o,l,A,c;vt(1,arguments);var d=Da(),u=kn((n=(r=(i=(a=t==null?void 0:t.weekStartsOn)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&i!==void 0?i:d.weekStartsOn)!==null&&r!==void 0?r:(A=d.locale)===null||A===void 0||(c=A.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=wt(e),h=p.getUTCDay(),m=(h<u?7:0)+h-u;return p.setUTCDate(p.getUTCDate()-m),p.setUTCHours(0,0,0,0),p}function Wx(e,t){var n,r,i,a,o,l,A,c;vt(1,arguments);var d=wt(e),u=d.getUTCFullYear(),p=Da(),h=kn((n=(r=(i=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&i!==void 0?i:p.firstWeekContainsDate)!==null&&r!==void 0?r:(A=p.locale)===null||A===void 0||(c=A.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(u+1,0,h),m.setUTCHours(0,0,0,0);var g=ho(m,t),y=new Date(0);y.setUTCFullYear(u,0,h),y.setUTCHours(0,0,0,0);var x=ho(y,t);return d.getTime()>=g.getTime()?u+1:d.getTime()>=x.getTime()?u:u-1}function IY(e,t){var n,r,i,a,o,l,A,c;vt(1,arguments);var d=Da(),u=kn((n=(r=(i=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&i!==void 0?i:d.firstWeekContainsDate)!==null&&r!==void 0?r:(A=d.locale)===null||A===void 0||(c=A.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=Wx(e,t),h=new Date(0);h.setUTCFullYear(p,0,u),h.setUTCHours(0,0,0,0);var m=ho(h,t);return m}var FY=6048e5;function vk(e,t){vt(1,arguments);var n=wt(e),r=ho(n,t).getTime()-IY(n,t).getTime();return Math.round(r/FY)+1}function dn(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var Mo={y:function(t,n){var r=t.getUTCFullYear(),i=r>0?r:1-r;return dn(n==="yy"?i%100:i,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):dn(r+1,2)},d:function(t,n){return dn(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return dn(t.getUTCHours()%12||12,n.length)},H:function(t,n){return dn(t.getUTCHours(),n.length)},m:function(t,n){return dn(t.getUTCMinutes(),n.length)},s:function(t,n){return dn(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,i=t.getUTCMilliseconds(),a=Math.floor(i*Math.pow(10,r-3));return dn(a,n.length)}},ec={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},NY={G:function(t,n,r){var i=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var i=t.getUTCFullYear(),a=i>0?i:1-i;return r.ordinalNumber(a,{unit:"year"})}return Mo.y(t,n)},Y:function(t,n,r,i){var a=Wx(t,i),o=a>0?a:1-a;if(n==="YY"){var l=o%100;return dn(l,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):dn(o,n.length)},R:function(t,n){var r=gk(t);return dn(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return dn(r,n.length)},Q:function(t,n,r){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return dn(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,n,r){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return dn(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,n,r){var i=t.getUTCMonth();switch(n){case"M":case"MM":return Mo.M(t,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(t,n,r){var i=t.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return dn(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(t,n,r,i){var a=vk(t,i);return n==="wo"?r.ordinalNumber(a,{unit:"week"}):dn(a,n.length)},I:function(t,n,r){var i=mk(t);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):dn(i,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):Mo.d(t,n)},D:function(t,n,r){var i=jY(t);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):dn(i,n.length)},E:function(t,n,r){var i=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(t,n,r,i){var a=t.getUTCDay(),o=(a-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return dn(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,n,r,i){var a=t.getUTCDay(),o=(a-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return dn(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,n,r){var i=t.getUTCDay(),a=i===0?7:i;switch(n){case"i":return String(a);case"ii":return dn(a,n.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(t,n,r){var i=t.getUTCHours(),a=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,n,r){var i=t.getUTCHours(),a;switch(i===12?a=ec.noon:i===0?a=ec.midnight:a=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,n,r){var i=t.getUTCHours(),a;switch(i>=17?a=ec.evening:i>=12?a=ec.afternoon:i>=4?a=ec.morning:a=ec.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var i=t.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return Mo.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Mo.H(t,n)},K:function(t,n,r){var i=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):dn(i,n.length)},k:function(t,n,r){var i=t.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):dn(i,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Mo.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Mo.s(t,n)},S:function(t,n){return Mo.S(t,n)},X:function(t,n,r,i){var a=i._originalDate||t,o=a.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return RB(o);case"XXXX":case"XX":return _l(o);case"XXXXX":case"XXX":default:return _l(o,":")}},x:function(t,n,r,i){var a=i._originalDate||t,o=a.getTimezoneOffset();switch(n){case"x":return RB(o);case"xxxx":case"xx":return _l(o);case"xxxxx":case"xxx":default:return _l(o,":")}},O:function(t,n,r,i){var a=i._originalDate||t,o=a.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+QB(o,":");case"OOOO":default:return"GMT"+_l(o,":")}},z:function(t,n,r,i){var a=i._originalDate||t,o=a.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+QB(o,":");case"zzzz":default:return"GMT"+_l(o,":")}},t:function(t,n,r,i){var a=i._originalDate||t,o=Math.floor(a.getTime()/1e3);return dn(o,n.length)},T:function(t,n,r,i){var a=i._originalDate||t,o=a.getTime();return dn(o,n.length)}};function QB(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),a=r%60;if(a===0)return n+String(i);var o=t;return n+String(i)+o+dn(a,2)}function RB(e,t){if(e%60===0){var n=e>0?"-":"+";return n+dn(Math.abs(e)/60,2)}return _l(e,t)}function _l(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e),a=dn(Math.floor(i/60),2),o=dn(i%60,2);return r+a+n+o}var HB=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},yk=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},TY=function(t,n){var r=t.match(/(P+)(p+)?/)||[],i=r[1],a=r[2];if(!a)return HB(t,n);var o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",HB(i,n)).replace("{{time}}",yk(a,n))},py={p:yk,P:TY},_Y=["D","DD"],DY=["YY","YYYY"];function xk(e){return _Y.indexOf(e)!==-1}function bk(e){return DY.indexOf(e)!==-1}function Fg(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var UY={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},LY=function(t,n,r){var i,a=UY[t];return typeof a=="string"?i=a:n===1?i=a.one:i=a.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};function Ic(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var MY={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},PY={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},QY={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},RY={date:Ic({formats:MY,defaultWidth:"full"}),time:Ic({formats:PY,defaultWidth:"full"}),dateTime:Ic({formats:QY,defaultWidth:"full"})},HY={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},OY=function(t,n,r,i){return HY[t]};function pa(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,o=n!=null&&n.width?String(n.width):a;i=e.formattingValues[o]||e.formattingValues[a]}else{var l=e.defaultWidth,A=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[A]||e.values[l]}var c=e.argumentCallback?e.argumentCallback(t):t;return i[c]}}var $Y={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},zY={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},WY={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},KY={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},VY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},GY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},qY=function(t,n){var r=Number(t),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},YY={ordinalNumber:qY,era:pa({values:$Y,defaultWidth:"wide"}),quarter:pa({values:zY,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:pa({values:WY,defaultWidth:"wide"}),day:pa({values:KY,defaultWidth:"wide"}),dayPeriod:pa({values:VY,defaultWidth:"wide",formattingValues:GY,defaultFormattingWidth:"wide"})};function ga(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;var o=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],A=Array.isArray(l)?JY(l,function(u){return u.test(o)}):XY(l,function(u){return u.test(o)}),c;c=e.valueCallback?e.valueCallback(A):A,c=n.valueCallback?n.valueCallback(c):c;var d=t.slice(o.length);return{value:c,rest:d}}}function XY(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function JY(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function wk(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var i=r[0],a=t.match(e.parsePattern);if(!a)return null;var o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;var l=t.slice(i.length);return{value:o,rest:l}}}var ZY=/^(\d+)(th|st|nd|rd)?/i,eX=/\d+/i,tX={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},nX={any:[/^b/i,/^(a|c)/i]},rX={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},sX={any:[/1/i,/2/i,/3/i,/4/i]},iX={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},aX={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},oX={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},lX={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},AX={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},cX={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},dX={ordinalNumber:wk({matchPattern:ZY,parsePattern:eX,valueCallback:function(t){return parseInt(t,10)}}),era:ga({matchPatterns:tX,defaultMatchWidth:"wide",parsePatterns:nX,defaultParseWidth:"any"}),quarter:ga({matchPatterns:rX,defaultMatchWidth:"wide",parsePatterns:sX,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:ga({matchPatterns:iX,defaultMatchWidth:"wide",parsePatterns:aX,defaultParseWidth:"any"}),day:ga({matchPatterns:oX,defaultMatchWidth:"wide",parsePatterns:lX,defaultParseWidth:"any"}),dayPeriod:ga({matchPatterns:AX,defaultMatchWidth:"any",parsePatterns:cX,defaultParseWidth:"any"})},Kx={code:"en-US",formatDistance:LY,formatLong:RY,formatRelative:OY,localize:YY,match:dX,options:{weekStartsOn:0,firstWeekContainsDate:1}},uX=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,hX=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fX=/^'([^]*?)'?$/,pX=/''/g,gX=/[a-zA-Z]/;function en(e,t,n){var r,i,a,o,l,A,c,d,u,p,h,m,g,y,x,C,S,w;vt(2,arguments);var _=String(t),E=Da(),T=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:E.locale)!==null&&r!==void 0?r:Kx,F=kn((a=(o=(l=(A=n==null?void 0:n.firstWeekContainsDate)!==null&&A!==void 0?A:n==null||(c=n.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&l!==void 0?l:E.firstWeekContainsDate)!==null&&o!==void 0?o:(u=E.locale)===null||u===void 0||(p=u.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(F>=1&&F<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var M=kn((h=(m=(g=(y=n==null?void 0:n.weekStartsOn)!==null&&y!==void 0?y:n==null||(x=n.locale)===null||x===void 0||(C=x.options)===null||C===void 0?void 0:C.weekStartsOn)!==null&&g!==void 0?g:E.weekStartsOn)!==null&&m!==void 0?m:(S=E.locale)===null||S===void 0||(w=S.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&h!==void 0?h:0);if(!(M>=0&&M<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!T.localize)throw new RangeError("locale must contain localize property");if(!T.formatLong)throw new RangeError("locale must contain formatLong property");var P=wt(e);if(!uk(P))throw new RangeError("Invalid time value");var I=Ig(P),j=pk(P,I),U={firstWeekContainsDate:F,weekStartsOn:M,locale:T,_originalDate:P},N=_.match(hX).map(function(z){var L=z[0];if(L==="p"||L==="P"){var D=py[L];return D(z,T.formatLong)}return z}).join("").match(uX).map(function(z){if(z==="''")return"'";var L=z[0];if(L==="'")return mX(z);var D=NY[L];if(D)return!(n!=null&&n.useAdditionalWeekYearTokens)&&bk(z)&&Fg(z,t,String(e)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&xk(z)&&Fg(z,t,String(e)),D(j,z,T.localize,U);if(L.match(gX))throw new RangeError("Format string contains an unescaped latin alphabet character `"+L+"`");return z}).join("");return N}function mX(e){var t=e.match(fX);return t?t[1].replace(pX,"'"):e}function vX(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function yX(e,t){var n,r;vt(1,arguments);var i=wt(e);if(isNaN(i.getTime()))throw new RangeError("Invalid time value");var a=String((n=t==null?void 0:t.format)!==null&&n!==void 0?n:"extended"),o=String((r=t==null?void 0:t.representation)!==null&&r!==void 0?r:"complete");if(a!=="extended"&&a!=="basic")throw new RangeError("format must be 'extended' or 'basic'");if(o!=="date"&&o!=="time"&&o!=="complete")throw new RangeError("representation must be 'date', 'time', or 'complete'");var l="",A="",c=a==="extended"?"-":"",d=a==="extended"?":":"";if(o!=="time"){var u=dn(i.getDate(),2),p=dn(i.getMonth()+1,2),h=dn(i.getFullYear(),4);l="".concat(h).concat(c).concat(p).concat(c).concat(u)}if(o!=="date"){var m=i.getTimezoneOffset();if(m!==0){var g=Math.abs(m),y=dn(Math.floor(g/60),2),x=dn(g%60,2),C=m<0?"+":"-";A="".concat(C).concat(y,":").concat(x)}else A="Z";var S=dn(i.getHours(),2),w=dn(i.getMinutes(),2),_=dn(i.getSeconds(),2),E=l===""?"":"T",T=[S,w,_].join(d);l="".concat(l).concat(E).concat(T).concat(A)}return l}function xX(e){vt(1,arguments);var t=wt(e),n=t.getDate();return n}function Ck(e){vt(1,arguments);var t=wt(e),n=t.getFullYear(),r=t.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function bX(e){vt(1,arguments);var t=wt(e),n=t.getHours();return n}function wX(e){vt(1,arguments);var t=wt(e),n=t.getMilliseconds();return n}function CX(e){vt(1,arguments);var t=wt(e),n=t.getMinutes();return n}function BX(e){vt(1,arguments);var t=wt(e),n=t.getMonth();return n}function SX(e){vt(1,arguments);var t=wt(e),n=t.getSeconds();return n}function jX(e,t){var n,r,i,a,o,l,A,c;vt(1,arguments);var d=wt(e),u=d.getFullYear(),p=Da(),h=kn((n=(r=(i=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&i!==void 0?i:p.firstWeekContainsDate)!==null&&r!==void 0?r:(A=p.locale)===null||A===void 0||(c=A.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setFullYear(u+1,0,h),m.setHours(0,0,0,0);var g=Vl(m,t),y=new Date(0);y.setFullYear(u,0,h),y.setHours(0,0,0,0);var x=Vl(y,t);return d.getTime()>=g.getTime()?u+1:d.getTime()>=x.getTime()?u:u-1}function kX(e,t){var n,r,i,a,o,l,A,c;vt(1,arguments);var d=Da(),u=kn((n=(r=(i=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&i!==void 0?i:d.firstWeekContainsDate)!==null&&r!==void 0?r:(A=d.locale)===null||A===void 0||(c=A.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=jX(e,t),h=new Date(0);h.setFullYear(p,0,u),h.setHours(0,0,0,0);var m=Vl(h,t);return m}var EX=6048e5;function IX(e,t){vt(1,arguments);var n=wt(e),r=Vl(n,t).getTime()-kX(n,t).getTime();return Math.round(r/EX)+1}function FX(e){return vt(1,arguments),wt(e).getFullYear()}function Rr(e,t){vt(2,arguments);var n=wt(e),r=wt(t);return n.getTime()>r.getTime()}function sr(e,t){vt(2,arguments);var n=wt(e),r=wt(t);return n.getTime()<r.getTime()}function NX(e,t){vt(2,arguments);var n=wt(e),r=wt(t);return n.getTime()===r.getTime()}function OB(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function TX(e,t){if(e){if(typeof e=="string")return OB(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?OB(e,t):void 0}}function $B(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=TX(e))||t){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var c=n.next();return o=c.done,c},e:function(c){l=!0,a=c},f:function(){try{o||n.return==null||n.return()}finally{if(l)throw a}}}}function En(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&og(e,t)}function Ng(e){return Ng=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ng(e)}function Bk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bk=function(){return!!e})()}function _X(e,t){if(t&&(pn(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ut(e)}function In(e){var t=Bk();return function(){var n,r=Ng(e);if(t){var i=Ng(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _X(this,n)}}function xn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l4(r.key),r)}}function bn(e,t,n){return t&&DX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ft(e,t,n){return(t=l4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var UX=10,Sk=function(){function e(){xn(this,e),Ft(this,"priority",void 0),Ft(this,"subPriority",0)}return bn(e,[{key:"validate",value:function(n,r){return!0}}]),e}(),LX=function(e){En(n,e);var t=In(n);function n(r,i,a,o,l){var A;return xn(this,n),A=t.call(this),A.value=r,A.validateValue=i,A.setValue=a,A.priority=o,l&&(A.subPriority=l),A}return bn(n,[{key:"validate",value:function(i,a){return this.validateValue(i,this.value,a)}},{key:"set",value:function(i,a,o){return this.setValue(i,a,this.value,o)}}]),n}(Sk),MX=function(e){En(n,e);var t=In(n);function n(){var r;xn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Ft(Ut(r),"priority",UX),Ft(Ut(r),"subPriority",-1),r}return bn(n,[{key:"set",value:function(i,a){if(a.timestampIsSet)return i;var o=new Date(0);return o.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),o.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),o}}]),n}(Sk),Un=function(){function e(){xn(this,e),Ft(this,"incompatibleTokens",void 0),Ft(this,"priority",void 0),Ft(this,"subPriority",void 0)}return bn(e,[{key:"run",value:function(n,r,i,a){var o=this.parse(n,r,i,a);return o?{setter:new LX(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(n,r,i){return!0}}]),e}(),PX=function(e){En(n,e);var t=In(n);function n(){var r;xn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Ft(Ut(r),"priority",140),Ft(Ut(r),"incompatibleTokens",["R","u","t","T"]),r}return bn(n,[{key:"parse",value:function(i,a,o){switch(a){case"G":case"GG":case"GGG":return o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"});case"GGGGG":return o.era(i,{width:"narrow"});case"GGGG":default:return o.era(i,{width:"wide"})||o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"})}}},{key:"set",value:function(i,a,o){return a.era=o,i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Un),Nr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ma={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Tr(e,t){return e&&{value:t(e.value),rest:e.rest}}function fr(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function va(e,t){var n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};var r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,a=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*Vm+a*Km+o*uY),rest:t.slice(n[0].length)}}function jk(e){return fr(Nr.anyDigitsSigned,e)}function br(e,t){switch(e){case 1:return fr(Nr.singleDigit,t);case 2:return fr(Nr.twoDigits,t);case 3:return fr(Nr.threeDigits,t);case 4:return fr(Nr.fourDigits,t);default:return fr(new RegExp("^\\d{1,"+e+"}"),t)}}function Tg(e,t){switch(e){case 1:return fr(Nr.singleDigitSigned,t);case 2:return fr(Nr.twoDigitsSigned,t);case 3:return fr(Nr.threeDigitsSigned,t);case 4:return fr(Nr.fourDigitsSigned,t);default:return fr(new RegExp("^-?\\d{1,"+e+"}"),t)}}function Vx(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function kk(e,t){var n=t>0,r=n?t:1-t,i;if(r<=50)i=e||100;else{var a=r+50,o=Math.floor(a/100)*100,l=e>=a%100;i=e+o-(l?100:0)}return n?i:1-i}function Ek(e){return e%400===0||e%4===0&&e%100!==0}var QX=function(e){En(n,e);var t=In(n);function n(){var r;xn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Ft(Ut(r),"priority",130),Ft(Ut(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return bn(n,[{key:"parse",value:function(i,a,o){var l=function(c){return{year:c,isTwoDigitYear:a==="yy"}};switch(a){case"y":return Tr(br(4,i),l);case"yo":return Tr(o.ordinalNumber(i,{unit:"year"}),l);default:return Tr(br(a.length,i),l)}}},{key:"validate",value:function(i,a){return a.isTwoDigitYear||a.year>0}},{key:"set",value:function(i,a,o){var l=i.getUTCFullYear();if(o.isTwoDigitYear){var A=kk(o.year,l);return i.setUTCFullYear(A,0,1),i.setUTCHours(0,0,0,0),i}var c=!("era"in a)||a.era===1?o.year:1-o.year;return i.setUTCFullYear(c,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Un),RX=function(e){En(n,e);var t=In(n);function n(){var r;xn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Ft(Ut(r),"priority",130),Ft(Ut(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return bn(n,[{key:"parse",value:function(i,a,o){var l=function(c){return{year:c,isTwoDigitYear:a==="YY"}};switch(a){case"Y":return Tr(br(4,i),l);case"Yo":return Tr(o.ordinalNumber(i,{unit:"year"}),l);default:return Tr(br(a.length,i),l)}}},{key:"validate",value:function(i,a){return a.isTwoDigitYear||a.year>0}},{key:"set",value:function(i,a,o,l){var A=Wx(i,l);if(o.isTwoDigitYear){var c=kk(o.year,A);return i.setUTCFullYear(c,0,l.firstWeekContainsDate),i.setUTCHours(0,0,0,0),ho(i,l)}var d=!("era"in a)||a.era===1?o.year:1-o.year;return i.setUTCFullYear(d,0,l.firstWeekContainsDate),i.setUTCHours(0,0,0,0),ho(i,l)}}]),n}(Un),HX=function(e){En(n,e);var t=In(n);function n(){var r;xn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Ft(Ut(r),"priority",130),Ft(Ut(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return bn(n,[{key:"parse",value:function(i,a){return Tg(a==="R"?4:a.length,i)}},{key:"set",value:function(i,a,o){var l=new Date(0);return l.setUTCFullYear(o,0,4),l.setUTCHours(0,0,0,0),Kc(l)}}]),n}(Un),OX=function(e){En(n,e);var t=In(n);function n(){var r;xn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Ft(Ut(r),"priority",130),Ft(Ut(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return bn(n,[{key:"parse",value:function(i,a){return Tg(a==="u"?4:a.length,i)}},{key:"set",value:function(i,a,o){return i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Un),$X=function(e){En(n,e);var t=In(n);function n(){var r;xn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Ft(Ut(r),"priority",120),Ft(Ut(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return bn(n,[{key:"parse",value:function(i,a,o){switch(a){case"Q":case"QQ":return br(a.length,i);case"Qo":return o.ordinalNumber(i,{unit:"quarter"});case"QQQ":return o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(i,{width:"wide",context:"formatting"})||o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,a){return a>=1&&a<=4}},{key:"set",value:function(i,a,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(Un),zX=function(e){En(n,e);var t=In(n);function n(){var r;xn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Ft(Ut(r),"priority",120),Ft(Ut(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return bn(n,[{key:"parse",value:function(i,a,o){switch(a){case"q":case"qq":return br(a.length,i);case"qo":return o.ordinalNumber(i,{unit:"quarter"});case"qqq":return o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(i,{width:"wide",context:"standalone"})||o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,a){return a>=1&&a<=4}},{key:"set",value:function(i,a,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(Un),WX=function(e){En(n,e);var t=In(n);function n(){var r;xn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Ft(Ut(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Ft(Ut(r),"priority",110),r}return bn(n,[{key:"parse",value:function(i,a,o){var l=function(c){return c-1};switch(a){case"M":return Tr(fr(Nr.month,i),l);case"MM":return Tr(br(2,i),l);case"Mo":return Tr(o.ordinalNumber(i,{unit:"month"}),l);case"MMM":return o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(i,{width:"wide",context:"formatting"})||o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,a){return a>=0&&a<=11}},{key:"set",value:function(i,a,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(Un),KX=function(e){En(n,e);var t=In(n);function n(){var r;xn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Ft(Ut(r),"priority",110),Ft(Ut(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return bn(n,[{key:"parse",value:function(i,a,o){var l=function(c){return c-1};switch(a){case"L":return Tr(fr(Nr.month,i),l);case"LL":return Tr(br(2,i),l);case"Lo":return Tr(o.ordinalNumber(i,{unit:"month"}),l);case"LLL":return o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(i,{width:"wide",context:"standalone"})||o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,a){return a>=0&&a<=11}},{key:"set",value:function(i,a,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(Un);function VX(e,t,n){vt(2,arguments);var r=wt(e),i=kn(t),a=vk(r,n)-i;return r.setUTCDate(r.getUTCDate()-a*7),r}var GX=function(e){En(n,e);var t=In(n);function n(){var r;xn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Ft(Ut(r),"priority",100),Ft(Ut(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return bn(n,[{key:"parse",value:function(i,a,o){switch(a){case"w":return fr(Nr.week,i);case"wo":return o.ordinalNumber(i,{unit:"week"});default:return br(a.length,i)}}},{key:"validate",value:function(i,a){return a>=1&&a<=53}},{key:"set",value:function(i,a,o,l){return ho(VX(i,o,l),l)}}]),n}(Un);function qX(e,t){vt(2,arguments);var n=wt(e),r=kn(t),i=mk(n)-r;return n.setUTCDate(n.getUTCDate()-i*7),n}var YX=function(e){En(n,e);var t=In(n);function n(){var r;xn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Ft(Ut(r),"priority",100),Ft(Ut(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return bn(n,[{key:"parse",value:function(i,a,o){switch(a){case"I":return fr(Nr.week,i);case"Io":return o.ordinalNumber(i,{unit:"week"});default:return br(a.length,i)}}},{key:"validate",value:function(i,a){return a>=1&&a<=53}},{key:"set",value:function(i,a,o){return Kc(qX(i,o))}}]),n}(Un),XX=[31,28,31,30,31,30,31,31,30,31,30,31],JX=[31,29,31,30,31,30,31,31,30,31,30,31],ZX=function(e){En(n,e);var t=In(n);function n(){var r;xn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Ft(Ut(r),"priority",90),Ft(Ut(r),"subPriority",1),Ft(Ut(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return bn(n,[{key:"parse",value:function(i,a,o){switch(a){case"d":return fr(Nr.date,i);case"do":return o.ordinalNumber(i,{unit:"date"});default:return br(a.length,i)}}},{key:"validate",value:function(i,a){var o=i.getUTCFullYear(),l=Ek(o),A=i.getUTCMonth();return l?a>=1&&a<=JX[A]:a>=1&&a<=XX[A]}},{key:"set",value:function(i,a,o){return i.setUTCDate(o),i.setUTCHours(0,0,0,0),i}}]),n}(Un),eJ=function(e){En(n,e);var t=In(n);function n(){var r;xn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Ft(Ut(r),"priority",90),Ft(Ut(r),"subpriority",1),Ft(Ut(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return bn(n,[{key:"parse",value:function(i,a,o){switch(a){case"D":case"DD":return fr(Nr.dayOfYear,i);case"Do":return o.ordinalNumber(i,{unit:"date"});default:return br(a.length,i)}}},{key:"validate",value:function(i,a){var o=i.getUTCFullYear(),l=Ek(o);return l?a>=1&&a<=366:a>=1&&a<=365}},{key:"set",value:function(i,a,o){return i.setUTCMonth(0,o),i.setUTCHours(0,0,0,0),i}}]),n}(Un);function Gx(e,t,n){var r,i,a,o,l,A,c,d;vt(2,arguments);var u=Da(),p=kn((r=(i=(a=(o=n==null?void 0:n.weekStartsOn)!==null&&o!==void 0?o:n==null||(l=n.locale)===null||l===void 0||(A=l.options)===null||A===void 0?void 0:A.weekStartsOn)!==null&&a!==void 0?a:u.weekStartsOn)!==null&&i!==void 0?i:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&r!==void 0?r:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=wt(e),m=kn(t),g=h.getUTCDay(),y=m%7,x=(y+7)%7,C=(x<p?7:0)+m-g;return h.setUTCDate(h.getUTCDate()+C),h}var tJ=function(e){En(n,e);var t=In(n);function n(){var r;xn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Ft(Ut(r),"priority",90),Ft(Ut(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return bn(n,[{key:"parse",value:function(i,a,o){switch(a){case"E":case"EE":case"EEE":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,a){return a>=0&&a<=6}},{key:"set",value:function(i,a,o,l){return i=Gx(i,o,l),i.setUTCHours(0,0,0,0),i}}]),n}(Un),nJ=function(e){En(n,e);var t=In(n);function n(){var r;xn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Ft(Ut(r),"priority",90),Ft(Ut(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return bn(n,[{key:"parse",value:function(i,a,o,l){var A=function(d){var u=Math.floor((d-1)/7)*7;return(d+l.weekStartsOn+6)%7+u};switch(a){case"e":case"ee":return Tr(br(a.length,i),A);case"eo":return Tr(o.ordinalNumber(i,{unit:"day"}),A);case"eee":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeeee":return o.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,a){return a>=0&&a<=6}},{key:"set",value:function(i,a,o,l){return i=Gx(i,o,l),i.setUTCHours(0,0,0,0),i}}]),n}(Un),rJ=function(e){En(n,e);var t=In(n);function n(){var r;xn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Ft(Ut(r),"priority",90),Ft(Ut(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return bn(n,[{key:"parse",value:function(i,a,o,l){var A=function(d){var u=Math.floor((d-1)/7)*7;return(d+l.weekStartsOn+6)%7+u};switch(a){case"c":case"cc":return Tr(br(a.length,i),A);case"co":return Tr(o.ordinalNumber(i,{unit:"day"}),A);case"ccc":return o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"ccccc":return o.day(i,{width:"narrow",context:"standalone"});case"cccccc":return o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(i,{width:"wide",context:"standalone"})||o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,a){return a>=0&&a<=6}},{key:"set",value:function(i,a,o,l){return i=Gx(i,o,l),i.setUTCHours(0,0,0,0),i}}]),n}(Un);function sJ(e,t){vt(2,arguments);var n=kn(t);n%7===0&&(n=n-7);var r=1,i=wt(e),a=i.getUTCDay(),o=n%7,l=(o+7)%7,A=(l<r?7:0)+n-a;return i.setUTCDate(i.getUTCDate()+A),i}var iJ=function(e){En(n,e);var t=In(n);function n(){var r;xn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Ft(Ut(r),"priority",90),Ft(Ut(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return bn(n,[{key:"parse",value:function(i,a,o){var l=function(c){return c===0?7:c};switch(a){case"i":case"ii":return br(a.length,i);case"io":return o.ordinalNumber(i,{unit:"day"});case"iii":return Tr(o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),l);case"iiiii":return Tr(o.day(i,{width:"narrow",context:"formatting"}),l);case"iiiiii":return Tr(o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),l);case"iiii":default:return Tr(o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),l)}}},{key:"validate",value:function(i,a){return a>=1&&a<=7}},{key:"set",value:function(i,a,o){return i=sJ(i,o),i.setUTCHours(0,0,0,0),i}}]),n}(Un),aJ=function(e){En(n,e);var t=In(n);function n(){var r;xn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Ft(Ut(r),"priority",80),Ft(Ut(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return bn(n,[{key:"parse",value:function(i,a,o){switch(a){case"a":case"aa":case"aaa":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,a,o){return i.setUTCHours(Vx(o),0,0,0),i}}]),n}(Un),oJ=function(e){En(n,e);var t=In(n);function n(){var r;xn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Ft(Ut(r),"priority",80),Ft(Ut(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return bn(n,[{key:"parse",value:function(i,a,o){switch(a){case"b":case"bb":case"bbb":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,a,o){return i.setUTCHours(Vx(o),0,0,0),i}}]),n}(Un),lJ=function(e){En(n,e);var t=In(n);function n(){var r;xn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Ft(Ut(r),"priority",80),Ft(Ut(r),"incompatibleTokens",["a","b","t","T"]),r}return bn(n,[{key:"parse",value:function(i,a,o){switch(a){case"B":case"BB":case"BBB":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,a,o){return i.setUTCHours(Vx(o),0,0,0),i}}]),n}(Un),AJ=function(e){En(n,e);var t=In(n);function n(){var r;xn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Ft(Ut(r),"priority",70),Ft(Ut(r),"incompatibleTokens",["H","K","k","t","T"]),r}return bn(n,[{key:"parse",value:function(i,a,o){switch(a){case"h":return fr(Nr.hour12h,i);case"ho":return o.ordinalNumber(i,{unit:"hour"});default:return br(a.length,i)}}},{key:"validate",value:function(i,a){return a>=1&&a<=12}},{key:"set",value:function(i,a,o){var l=i.getUTCHours()>=12;return l&&o<12?i.setUTCHours(o+12,0,0,0):!l&&o===12?i.setUTCHours(0,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(Un),cJ=function(e){En(n,e);var t=In(n);function n(){var r;xn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Ft(Ut(r),"priority",70),Ft(Ut(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return bn(n,[{key:"parse",value:function(i,a,o){switch(a){case"H":return fr(Nr.hour23h,i);case"Ho":return o.ordinalNumber(i,{unit:"hour"});default:return br(a.length,i)}}},{key:"validate",value:function(i,a){return a>=0&&a<=23}},{key:"set",value:function(i,a,o){return i.setUTCHours(o,0,0,0),i}}]),n}(Un),dJ=function(e){En(n,e);var t=In(n);function n(){var r;xn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Ft(Ut(r),"priority",70),Ft(Ut(r),"incompatibleTokens",["h","H","k","t","T"]),r}return bn(n,[{key:"parse",value:function(i,a,o){switch(a){case"K":return fr(Nr.hour11h,i);case"Ko":return o.ordinalNumber(i,{unit:"hour"});default:return br(a.length,i)}}},{key:"validate",value:function(i,a){return a>=0&&a<=11}},{key:"set",value:function(i,a,o){var l=i.getUTCHours()>=12;return l&&o<12?i.setUTCHours(o+12,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(Un),uJ=function(e){En(n,e);var t=In(n);function n(){var r;xn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Ft(Ut(r),"priority",70),Ft(Ut(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return bn(n,[{key:"parse",value:function(i,a,o){switch(a){case"k":return fr(Nr.hour24h,i);case"ko":return o.ordinalNumber(i,{unit:"hour"});default:return br(a.length,i)}}},{key:"validate",value:function(i,a){return a>=1&&a<=24}},{key:"set",value:function(i,a,o){var l=o<=24?o%24:o;return i.setUTCHours(l,0,0,0),i}}]),n}(Un),hJ=function(e){En(n,e);var t=In(n);function n(){var r;xn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Ft(Ut(r),"priority",60),Ft(Ut(r),"incompatibleTokens",["t","T"]),r}return bn(n,[{key:"parse",value:function(i,a,o){switch(a){case"m":return fr(Nr.minute,i);case"mo":return o.ordinalNumber(i,{unit:"minute"});default:return br(a.length,i)}}},{key:"validate",value:function(i,a){return a>=0&&a<=59}},{key:"set",value:function(i,a,o){return i.setUTCMinutes(o,0,0),i}}]),n}(Un),fJ=function(e){En(n,e);var t=In(n);function n(){var r;xn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Ft(Ut(r),"priority",50),Ft(Ut(r),"incompatibleTokens",["t","T"]),r}return bn(n,[{key:"parse",value:function(i,a,o){switch(a){case"s":return fr(Nr.second,i);case"so":return o.ordinalNumber(i,{unit:"second"});default:return br(a.length,i)}}},{key:"validate",value:function(i,a){return a>=0&&a<=59}},{key:"set",value:function(i,a,o){return i.setUTCSeconds(o,0),i}}]),n}(Un),pJ=function(e){En(n,e);var t=In(n);function n(){var r;xn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Ft(Ut(r),"priority",30),Ft(Ut(r),"incompatibleTokens",["t","T"]),r}return bn(n,[{key:"parse",value:function(i,a){var o=function(A){return Math.floor(A*Math.pow(10,-a.length+3))};return Tr(br(a.length,i),o)}},{key:"set",value:function(i,a,o){return i.setUTCMilliseconds(o),i}}]),n}(Un),gJ=function(e){En(n,e);var t=In(n);function n(){var r;xn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Ft(Ut(r),"priority",10),Ft(Ut(r),"incompatibleTokens",["t","T","x"]),r}return bn(n,[{key:"parse",value:function(i,a){switch(a){case"X":return va(ma.basicOptionalMinutes,i);case"XX":return va(ma.basic,i);case"XXXX":return va(ma.basicOptionalSeconds,i);case"XXXXX":return va(ma.extendedOptionalSeconds,i);case"XXX":default:return va(ma.extended,i)}}},{key:"set",value:function(i,a,o){return a.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(Un),mJ=function(e){En(n,e);var t=In(n);function n(){var r;xn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Ft(Ut(r),"priority",10),Ft(Ut(r),"incompatibleTokens",["t","T","X"]),r}return bn(n,[{key:"parse",value:function(i,a){switch(a){case"x":return va(ma.basicOptionalMinutes,i);case"xx":return va(ma.basic,i);case"xxxx":return va(ma.basicOptionalSeconds,i);case"xxxxx":return va(ma.extendedOptionalSeconds,i);case"xxx":default:return va(ma.extended,i)}}},{key:"set",value:function(i,a,o){return a.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(Un),vJ=function(e){En(n,e);var t=In(n);function n(){var r;xn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Ft(Ut(r),"priority",40),Ft(Ut(r),"incompatibleTokens","*"),r}return bn(n,[{key:"parse",value:function(i){return jk(i)}},{key:"set",value:function(i,a,o){return[new Date(o*1e3),{timestampIsSet:!0}]}}]),n}(Un),yJ=function(e){En(n,e);var t=In(n);function n(){var r;xn(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),Ft(Ut(r),"priority",20),Ft(Ut(r),"incompatibleTokens","*"),r}return bn(n,[{key:"parse",value:function(i){return jk(i)}},{key:"set",value:function(i,a,o){return[new Date(o),{timestampIsSet:!0}]}}]),n}(Un),xJ={G:new PX,y:new QX,Y:new RX,R:new HX,u:new OX,Q:new $X,q:new zX,M:new WX,L:new KX,w:new GX,I:new YX,d:new ZX,D:new eJ,E:new tJ,e:new nJ,c:new rJ,i:new iJ,a:new aJ,b:new oJ,B:new lJ,h:new AJ,H:new cJ,K:new dJ,k:new uJ,m:new hJ,s:new fJ,S:new pJ,X:new gJ,x:new mJ,t:new vJ,T:new yJ},bJ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,wJ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,CJ=/^'([^]*?)'?$/,BJ=/''/g,SJ=/\S/,jJ=/[a-zA-Z]/;function cr(e,t,n,r){var i,a,o,l,A,c,d,u,p,h,m,g,y,x,C,S,w,_;vt(3,arguments);var E=String(e),T=String(t),F=Da(),M=(i=(a=r==null?void 0:r.locale)!==null&&a!==void 0?a:F.locale)!==null&&i!==void 0?i:Kx;if(!M.match)throw new RangeError("locale must contain match property");var P=kn((o=(l=(A=(c=r==null?void 0:r.firstWeekContainsDate)!==null&&c!==void 0?c:r==null||(d=r.locale)===null||d===void 0||(u=d.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&A!==void 0?A:F.firstWeekContainsDate)!==null&&l!==void 0?l:(p=F.locale)===null||p===void 0||(h=p.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(P>=1&&P<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var I=kn((m=(g=(y=(x=r==null?void 0:r.weekStartsOn)!==null&&x!==void 0?x:r==null||(C=r.locale)===null||C===void 0||(S=C.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&y!==void 0?y:F.weekStartsOn)!==null&&g!==void 0?g:(w=F.locale)===null||w===void 0||(_=w.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&m!==void 0?m:0);if(!(I>=0&&I<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(T==="")return E===""?wt(n):new Date(NaN);var j={firstWeekContainsDate:P,weekStartsOn:I,locale:M},U=[new MX],N=T.match(wJ).map(function(ie){var ne=ie[0];if(ne in py){var xe=py[ne];return xe(ie,M.formatLong)}return ie}).join("").match(bJ),z=[],L=$B(N),D;try{var K=function(){var ne=D.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&bk(ne)&&Fg(ne,T,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&xk(ne)&&Fg(ne,T,e);var xe=ne[0],re=xJ[xe];if(re){var ge=re.incompatibleTokens;if(Array.isArray(ge)){var le=z.find(function(ue){return ge.includes(ue.token)||ue.token===xe});if(le)throw new RangeError("The format string mustn't contain `".concat(le.fullToken,"` and `").concat(ne,"` at the same time"))}else if(re.incompatibleTokens==="*"&&z.length>0)throw new RangeError("The format string mustn't contain `".concat(ne,"` and any other token at the same time"));z.push({token:xe,fullToken:ne});var be=re.run(E,ne,M.match,j);if(!be)return{v:new Date(NaN)};U.push(be.setter),E=be.rest}else{if(xe.match(jJ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+xe+"`");if(ne==="''"?ne="'":xe==="'"&&(ne=kJ(ne)),E.indexOf(ne)===0)E=E.slice(ne.length);else return{v:new Date(NaN)}}};for(L.s();!(D=L.n()).done;){var q=K();if(pn(q)==="object")return q.v}}catch(ie){L.e(ie)}finally{L.f()}if(E.length>0&&SJ.test(E))return new Date(NaN);var Z=U.map(function(ie){return ie.priority}).sort(function(ie,ne){return ne-ie}).filter(function(ie,ne,xe){return xe.indexOf(ie)===ne}).map(function(ie){return U.filter(function(ne){return ne.priority===ie}).sort(function(ne,xe){return xe.subPriority-ne.subPriority})}).map(function(ie){return ie[0]}),Ae=wt(n);if(isNaN(Ae.getTime()))return new Date(NaN);var H=pk(Ae,Ig(Ae)),R={},Q=$B(Z),$;try{for(Q.s();!($=Q.n()).done;){var V=$.value;if(!V.validate(H,j))return new Date(NaN);var G=V.set(H,R,j);Array.isArray(G)?(H=G[0],vX(R,G[1])):H=G}}catch(ie){Q.e(ie)}finally{Q.f()}return H}function kJ(e){return e.match(CJ)[1].replace(BJ,"'")}function zB(e){vt(1,arguments);var t=wt(e);return t.setMinutes(0,0,0),t}function EJ(e,t){vt(2,arguments);var n=zB(e),r=zB(t);return n.getTime()===r.getTime()}function IJ(e,t){vt(2,arguments);var n=wt(e),r=wt(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function FJ(e,t){vt(2,arguments);var n=wt(e),r=wt(t);return n.getFullYear()===r.getFullYear()}function Ik(e){return vt(1,arguments),dk(e,Date.now())}function NJ(e,t){vt(2,arguments);var n=wt(e).getTime(),r=wt(t.start).getTime(),i=wt(t.end).getTime();if(!(r<=i))throw new RangeError("Invalid interval");return n>=r&&n<=i}function TJ(e,t){var n;vt(1,arguments);var r=kn((n=void 0)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var i=LJ(e),a;if(i.date){var o=MJ(i.date,r);a=PJ(o.restDateString,o.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);var l=a.getTime(),A=0,c;if(i.time&&(A=QJ(i.time),isNaN(A)))return new Date(NaN);if(i.timezone){if(c=RJ(i.timezone),isNaN(c))return new Date(NaN)}else{var d=new Date(l+A),u=new Date(0);return u.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),u.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),u}return new Date(l+A+c)}var mp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},_J=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,DJ=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,UJ=/^([+-])(\d{2})(?::?(\d{2}))?$/;function LJ(e){var t={},n=e.split(mp.dateTimeDelimiter),r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],mp.timeZoneDelimiter.test(t.date)&&(t.date=e.split(mp.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){var i=mp.timezone.exec(r);i?(t.time=r.replace(i[1],""),t.timezone=i[1]):t.time=r}return t}function MJ(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:a===null?i:a*100,restDateString:e.slice((r[1]||r[2]).length)}}function PJ(e,t){if(t===null)return new Date(NaN);var n=e.match(_J);if(!n)return new Date(NaN);var r=!!n[4],i=cu(n[1]),a=cu(n[2])-1,o=cu(n[3]),l=cu(n[4]),A=cu(n[5])-1;if(r)return WJ(t,l,A)?HJ(t,l,A):new Date(NaN);var c=new Date(0);return!$J(t,a,o)||!zJ(t,i)?new Date(NaN):(c.setUTCFullYear(t,a,Math.max(i,o)),c)}function cu(e){return e?parseInt(e):1}function QJ(e){var t=e.match(DJ);if(!t)return NaN;var n=Ov(t[1]),r=Ov(t[2]),i=Ov(t[3]);return KJ(n,r,i)?n*Vm+r*Km+i*1e3:NaN}function Ov(e){return e&&parseFloat(e.replace(",","."))||0}function RJ(e){if(e==="Z")return 0;var t=e.match(UJ);if(!t)return 0;var n=t[1]==="+"?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return VJ(r,i)?n*(r*Vm+i*Km):NaN}function HJ(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var i=r.getUTCDay()||7,a=(t-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+a),r}var OJ=[31,null,31,30,31,30,31,31,30,31,30,31];function Fk(e){return e%400===0||e%4===0&&e%100!==0}function $J(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(OJ[t]||(Fk(e)?29:28))}function zJ(e,t){return t>=1&&t<=(Fk(e)?366:365)}function WJ(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function KJ(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function VJ(e,t){return t>=0&&t<=59}function GJ(e,t){vt(2,arguments);var n=wt(e),r=kn(t),i=n.getFullYear(),a=n.getDate(),o=new Date(0);o.setFullYear(i,r,15),o.setHours(0,0,0,0);var l=Ck(o);return n.setMonth(r,Math.min(a,l)),n}function qJ(e,t){vt(2,arguments);var n=wt(e),r=kn(t);return n.setDate(r),n}function Nk(e,t){vt(2,arguments);var n=wt(e),r=kn(t);return n.setHours(r),n}function YJ(e,t){vt(2,arguments);var n=wt(e),r=kn(t);return n.setMilliseconds(r),n}function Tk(e,t){vt(2,arguments);var n=wt(e),r=kn(t);return n.setMinutes(r),n}function XJ(e,t){vt(2,arguments);var n=wt(e),r=kn(t);return n.setSeconds(r),n}function JJ(e,t){vt(2,arguments);var n=wt(e),r=kn(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function Zo(){return Al(Date.now())}function _k({booking:e,isOpen:t,onClose:n,onUpdate:r,clubTimezone:i="Europe/Moscow"}){var R,Q,$,V;const{club:a,admin:o}=er(),[l,A]=b.useState(e),[c,d]=b.useState(!1),[u,p]=b.useState(!1),[h,m]=b.useState({courtId:"",courtName:"",date:"",startTime:"",duration:60}),[g,y]=b.useState([]),[x,C]=b.useState([]),[S,w]=b.useState([]),[_,E]=b.useState(!1),[T,F]=b.useState(!1),M=(o==null?void 0:o.role)==="trainer";b.useEffect(()=>{if(e&&t){P(e.id),I(),p(!1);const G=li(bt(Re,"bookings",e.id),ie=>{var ne,xe;if(ie.exists()){const re=ie.data(),ge=Eg(re.date,i);let le;(ne=re.createdAt)!=null&&ne.toDate&&typeof re.createdAt.toDate=="function"?le=re.createdAt.toDate():(xe=re.createdAt)!=null&&xe.seconds&&typeof re.createdAt.seconds=="number"?le=new Date(re.createdAt.seconds*1e3):re.createdAt instanceof Date?le=re.createdAt:re.createdAt?le=new Date(re.createdAt):le=new Date;const be=re.duration?Va(re.startTime||re.time||"00:00",re.duration):re.endTime||"",ue={id:ie.id,...re,date:ge,createdAt:le,startTime:re.startTime||re.time||"00:00",endTime:be,clientName:re.customerName||re.clientName,clientPhone:re.customerPhone||re.clientPhone,customerName:re.customerName||re.clientName,customerPhone:re.customerPhone||re.clientPhone,paymentStatus:re.paymentStatus||"awaiting_payment",paymentHistory:re.paymentHistory||[]};A(ue)}});return()=>G()}},[e==null?void 0:e.id,t]);const P=async G=>{var ie,ne;console.log("Loading fresh booking data:",G);try{const xe=await An(bt(Re,"bookings",G));if(xe.exists()){const re=xe.data(),ge=Eg(re.date,i);let le;(ie=re.createdAt)!=null&&ie.toDate&&typeof re.createdAt.toDate=="function"?le=re.createdAt.toDate():(ne=re.createdAt)!=null&&ne.seconds&&typeof re.createdAt.seconds=="number"?le=new Date(re.createdAt.seconds*1e3):re.createdAt instanceof Date?le=re.createdAt:re.createdAt?le=new Date(re.createdAt):le=new Date;const be=re.duration?Va(re.startTime||re.time||"00:00",re.duration):re.endTime||"",ue={id:xe.id,...re,date:ge,createdAt:le,startTime:re.startTime||re.time||"00:00",endTime:be,duration:re.duration||60,clientName:re.customerName||re.clientName,clientPhone:re.customerPhone||re.clientPhone,customerName:re.customerName||re.clientName,customerPhone:re.customerPhone||re.clientPhone,paymentStatus:re.paymentStatus||"awaiting_payment",paymentHistory:re.paymentHistory||[]};console.log("Fresh booking loaded with payment status:",ue.paymentStatus),A(ue),m({courtId:re.courtId||"",courtName:re.courtName||"",date:en(ge,"yyyy-MM-dd"),startTime:re.startTime||re.time||"00:00",duration:re.duration||60})}}catch(xe){console.error("Error loading fresh booking:",xe)}},I=async()=>{if(l!=null&&l.venueId)try{const ie=(await $t(Et(Re,"venues",l.venueId,"courts"))).docs.map(ne=>({id:ne.id,...ne.data()}));y(ie)}catch(G){console.error("Error loading courts:",G)}},j=(G,ie)=>{const ne=[],xe=(a==null?void 0:a.slotInterval)||30,re=new Date(ie),le=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][re.getDay()],ue=((a==null?void 0:a.workingHours)||{})[le];let ae="08:00",He="22:00";if(ue)if(typeof ue=="string"&&ue.includes("-")){const[nt,ht]=ue.split("-").map(rt=>rt.trim());ae=nt,He=ht}else typeof ue=="object"&&ue.open&&ue.close&&(ae=ue.open,He=ue.close);const[we,me]=ae.split(":").map(Number),[Ie,Te]=He.split(":").map(Number),Oe=we*60+me,qe=Ie*60+Te;for(let nt=Oe;nt<=qe-G;nt+=xe){const ht=Math.floor(nt/60),rt=nt%60,ot=`${ht.toString().padStart(2,"0")}:${rt.toString().padStart(2,"0")}`;ne.push(ot)}return ne},U=async(G,ie,ne,xe)=>{try{const re=new Date(ie+"T00:00:00"),ge=new Date(Date.UTC(re.getFullYear(),re.getMonth(),re.getDate(),0,0,0)),le=new Date(Date.UTC(re.getFullYear(),re.getMonth(),re.getDate(),23,59,59)),be=Vt(Et(Re,"bookings"),pt("courtId","==",G),pt("date",">=",Qt.fromDate(ge)),pt("date","<=",Qt.fromDate(le))),ae=(await $t(be)).docs.map(me=>({id:me.id,...me.data()})).filter(me=>{if(me.id===(l==null?void 0:l.id))return!1;const Ie=me.status||"pending",Te=me.paymentStatus||"awaiting_payment";return Ie!=="cancelled"&&Te!=="cancelled"&&Te!=="refunded"&&Te!=="error"}),He=cr(ne,"HH:mm",new Date),we=ai(He,xe);for(const me of ae){const Ie=cr(me.startTime||me.time,"HH:mm",new Date),Te=cr(me.endTime||Va(me.startTime||me.time,me.duration||60),"HH:mm",new Date);if(Rr(He,Ie)&&sr(He,Te)||Rr(we,Ie)&&sr(we,Te)||sr(He,Ie)&&Rr(we,Te)||en(He,"HH:mm")===(me.startTime||me.time))return!1}return!0}catch(re){return console.error("Error checking slot availability:",re),!1}},N=async()=>{const G=new Date(h.date),ie=Al(new Date);if(G<ie){alert("Нельзя редактировать бронирования в прошлом");return}p(!0);const ne=j(h.duration,h.date);C(ne),await z(h.courtId,h.date)},z=async(G,ie)=>{if(!(!G||!ie)){E(!0);try{const ne=new Date(ie+"T00:00:00"),xe=new Date(Date.UTC(ne.getFullYear(),ne.getMonth(),ne.getDate(),0,0,0)),re=new Date(Date.UTC(ne.getFullYear(),ne.getMonth(),ne.getDate(),23,59,59)),ge=Vt(Et(Re,"bookings"),pt("courtId","==",G),pt("date",">=",Qt.fromDate(xe)),pt("date","<=",Qt.fromDate(re))),be=(await $t(ge)).docs.map(ue=>({id:ue.id,...ue.data()})).filter(ue=>{if(ue.id===(l==null?void 0:l.id))return!1;const ae=ue.status||"pending",He=ue.paymentStatus||"awaiting_payment";return ae!=="cancelled"&&He!=="cancelled"&&He!=="refunded"&&He!=="error"});w(be)}catch(ne){console.error("Error loading existing bookings:",ne)}finally{E(!1)}}},L=G=>{if(!S.length)return!1;const ie=cr(G,"HH:mm",new Date),ne=ai(ie,h.duration);for(const xe of S){const re=cr(xe.startTime||xe.time,"HH:mm",new Date),ge=cr(xe.endTime||Va(xe.startTime||xe.time,xe.duration||60),"HH:mm",new Date);if(Rr(ie,re)&&sr(ie,ge)||Rr(ne,re)&&sr(ne,ge)||sr(ie,re)&&Rr(ne,ge)||en(ie,"HH:mm")===(xe.startTime||xe.time))return!0}return!1},D=async()=>{if(l){if(L(h.startTime)){alert("Выбранное время уже занято. Пожалуйста, выберите другое время.");return}F(!0);try{if(!await U(h.courtId,h.date,h.startTime,h.duration)){alert("Выбранное время уже занято. Пожалуйста, выберите другое время."),F(!1);return}const ie=g.find(ae=>ae.id===h.courtId),[ne,xe,re]=h.date.split("-").map(Number),ge=new Date(Date.UTC(ne,xe-1,re,0,0,0)),le={courtId:h.courtId,courtName:(ie==null?void 0:ie.name)||h.courtName,date:Qt.fromDate(ge),startTime:h.startTime,endTime:Va(h.startTime,h.duration),duration:h.duration,updatedAt:Qt.now()},be={timestamp:Qt.now(),action:"edited",userId:(o==null?void 0:o.id)||"",userName:(o==null?void 0:o.name)||"Администратор",changes:{court:l.courtName!==le.courtName?{from:l.courtName,to:le.courtName}:null,date:en(l.date,"yyyy-MM-dd")!==h.date?{from:en(l.date,"yyyy-MM-dd"),to:h.date}:null,duration:l.duration!==h.duration?{from:`${l.duration} мин`,to:`${h.duration} мин`}:null,time:l.startTime!==h.startTime?{from:`${l.startTime}-${l.endTime}`,to:`${h.startTime}-${Va(h.startTime,h.duration)}`}:null}},ue=Object.entries(be.changes).filter(([ae,He])=>He!==null).reduce((ae,[He,we])=>({...ae,[He]:we}),{});Object.keys(ue).length>0&&(be.changes=ue,le.paymentHistory=[...l.paymentHistory||[],be]),await yn(bt(Re,"bookings",l.id),le),p(!1),r&&await r(),await P(l.id)}catch(G){console.error("Error updating booking:",G),alert("Ошибка при сохранении изменений")}finally{F(!1)}}},K=()=>{l&&m({courtId:l.courtId||"",courtName:l.courtName||"",date:en(l.date,"yyyy-MM-dd"),startTime:l.startTime,duration:l.duration||60}),p(!1)};if(b.useEffect(()=>{if(u&&h.date){const G=j(h.duration,h.date);C(G)}},[h.duration,h.date,u]),b.useEffect(()=>{u&&h.courtId&&h.date&&z(h.courtId,h.date)},[h.courtId,h.date,u]),b.useEffect(()=>{t||p(!1)},[t]),!t||!l)return null;const q=G=>new Intl.DateTimeFormat("ru-RU",{weekday:"long",day:"numeric",month:"long",year:"numeric"}).format(G),Z=G=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0}).format(G),Ae={confirmed:"Подтверждено",pending:"Ожидает",cancelled:"Отменено"},H={confirmed:"#10B981",pending:"#F59E0B",cancelled:"#EF4444"};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"modal active",onClick:G=>{G.target===G.currentTarget&&n()},children:s.jsxs("div",{className:"modal-content",style:{maxWidth:"700px"},children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h2",{className:"modal-title",children:"Детали бронирования"}),s.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[!M&&!u&&s.jsx("button",{className:"btn btn-primary btn-icon",onClick:N,title:"Редактировать",style:{marginRight:"8px"},children:s.jsx(il,{style:{fontSize:"18px"}})}),s.jsx("button",{className:"modal-close",onClick:n,children:s.jsx(ih,{})})]})]}),s.jsx("div",{className:"modal-body",children:s.jsxs("div",{style:{display:"grid",gap:"24px"},children:[s.jsxs("div",{children:[s.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Информация о бронировании"}),s.jsxs("div",{style:{display:"grid",gap:"12px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Корт:"}),u?s.jsx("select",{value:h.courtId,onChange:G=>m({...h,courtId:G.target.value}),className:"form-select",style:{width:"200px"},children:g.map(G=>s.jsx("option",{value:G.id,children:G.name},G.id))}):s.jsx("span",{style:{fontWeight:"600"},children:l.courtName})]}),l.trainerName&&s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Тренер:"}),s.jsx("span",{style:{fontWeight:"600",color:"var(--primary)"},children:l.trainerName})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Дата:"}),u?s.jsx("input",{type:"date",value:h.date,onChange:G=>m({...h,date:G.target.value}),className:"form-input",style:{width:"200px"},min:en(new Date,"yyyy-MM-dd")}):s.jsx("span",{style:{fontWeight:"600"},children:q(l.date)})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Длительность:"}),u?s.jsxs("select",{value:h.duration,onChange:G=>m({...h,duration:Number(G.target.value)}),className:"form-select",style:{width:"200px"},children:[s.jsx("option",{value:30,children:"30 минут"}),s.jsx("option",{value:60,children:"1 час"}),s.jsx("option",{value:90,children:"1.5 часа"}),s.jsx("option",{value:120,children:"2 часа"}),s.jsx("option",{value:150,children:"2.5 часа"}),s.jsx("option",{value:180,children:"3 часа"})]}):s.jsx("span",{style:{fontWeight:"600"},children:l.duration===30?"30 минут":l.duration===60?"1 час":l.duration===90?"1.5 часа":l.duration===120?"2 часа":l.duration===150?"2.5 часа":l.duration===180?"3 часа":`${l.duration} мин`})]}),s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Доступные интервалы:"}),u?s.jsxs("select",{value:h.startTime,onChange:G=>m({...h,startTime:G.target.value}),className:"form-select",style:{width:"250px",backgroundColor:L(h.startTime)?"#FEE2E2":"white"},children:[s.jsx("option",{value:"",children:_?"Загрузка...":"Выберите время"}),!_&&x.map(G=>{const ie=L(G),ne=Va(G,h.duration);return s.jsxs("option",{value:G,disabled:ie,style:ie?{color:"#9CA3AF",backgroundColor:"#F3F4F6"}:{},children:[G," - ",ne," ",ie?"❌ ЗАНЯТО":""]},G)})]}):s.jsxs("span",{style:{fontWeight:"600"},children:[l.startTime," - ",l.endTime]})]}),u&&!_&&L(h.startTime)&&s.jsx("div",{style:{marginTop:"6px",padding:"8px",backgroundColor:"#FEE2E2",borderRadius:"4px",fontSize:"12px",color:"#991B1B",fontWeight:"500"},children:"⚠️ Выбранное время занято. Пожалуйста, выберите другой интервал."})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Статус:"}),s.jsx("span",{style:{fontWeight:"600",color:H[l.status]},children:Ae[l.status]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Информация о клиенте"}),s.jsxs("div",{style:{display:"grid",gap:"12px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Имя:"}),s.jsx("span",{style:{fontWeight:"600"},children:l.clientName||l.customerName})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Телефон:"}),s.jsx("span",{style:{fontWeight:"600"},children:l.clientPhone||l.customerPhone})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Информация о создании"}),s.jsxs("div",{style:{display:"grid",gap:"12px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Создано:"}),s.jsx("span",{style:{fontWeight:"600"},children:((R=l.createdBy)==null?void 0:R.userName)||"Система"})]}),((Q=l.createdBy)==null?void 0:Q.userRole)&&s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Роль:"}),s.jsx("span",{style:{fontWeight:"600"},children:l.createdBy.userRole==="superadmin"?"Суперадминистратор":"Администратор"})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Дата создания:"}),s.jsx("span",{style:{fontWeight:"600"},children:new Intl.DateTimeFormat("ru-RU",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(l.createdAt)})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Информация об оплате"}),s.jsxs("div",{style:{display:"grid",gap:"12px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Сумма:"}),s.jsx("span",{style:{fontWeight:"600",fontSize:"18px"},children:Z(l.totalAmount||l.amount)})]}),l.trainerPrice&&s.jsxs("div",{style:{paddingLeft:"20px",fontSize:"14px",color:"var(--gray)",display:"flex",flexDirection:"column",gap:"4px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{children:"• Корт:"}),s.jsx("span",{children:Z(l.amount-(l.trainerPrice||0))})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{children:"• Тренер:"}),s.jsx("span",{children:Z(l.trainerPrice)})]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Способ оплаты:"}),s.jsx("span",{style:{fontWeight:"600"},children:zx(l.paymentMethod)})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"Статус оплаты:"}),M?s.jsx("span",{style:{padding:"4px 12px",borderRadius:"4px",fontSize:"13px",fontWeight:"500",background:l.paymentStatus==="paid"?"#10B981":l.paymentStatus==="cancelled"?"#EF4444":"#F59E0B",color:"white"},children:l.paymentStatus==="paid"?"Оплачено":l.paymentStatus==="cancelled"?"Отменено":l.paymentStatus==="refunded"?"Возвращено":"Ожидает оплаты"}):s.jsx(ok,{bookingId:l.id,currentStatus:l.paymentStatus||"awaiting_payment",paymentMethod:l.paymentMethod,onStatusUpdate:async()=>{r&&await r()},onRefund:()=>{d(!0)}},`${l.id}-${l.paymentStatus}`)]}),l.paymentStatus==="awaiting_payment"&&s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:"До отмены:"}),s.jsx(lk,{createdAt:l.createdAt,paymentMethod:l.paymentMethod,paymentStatus:l.paymentStatus})]}),l.paymentMethod==="online"&&l.paymentStatus==="awaiting_payment"&&(l.paymentUrl||(($=l.paymentSmsInfo)==null?void 0:$.paymentUrl))&&s.jsxs("div",{style:{marginTop:"12px",padding:"12px",background:"rgba(245, 158, 11, 0.1)",borderRadius:"8px",border:"1px solid rgba(245, 158, 11, 0.3)"},children:[s.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"var(--warning)",marginBottom:"8px"},children:"Ссылка на оплату"}),s.jsx("div",{style:{fontSize:"12px",color:"var(--gray)",marginBottom:"8px"},children:l.paymentSmsInfo?`SMS отправлено на ${l.paymentSmsInfo.sentTo}`:"Клиент может оплатить по этой ссылке"}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px",background:"white",borderRadius:"6px",border:"1px solid var(--extra-light-gray)"},children:[s.jsx("input",{type:"text",value:l.paymentUrl||((V=l.paymentSmsInfo)==null?void 0:V.paymentUrl)||"",readOnly:!0,style:{flex:1,border:"none",outline:"none",fontSize:"12px",background:"transparent"}}),s.jsx("button",{onClick:()=>{var ie;const G=l.paymentUrl||((ie=l.paymentSmsInfo)==null?void 0:ie.paymentUrl)||"";navigator.clipboard.writeText(G),alert("Ссылка скопирована!")},style:{padding:"4px 12px",background:"var(--primary)",color:"white",border:"none",borderRadius:"4px",fontSize:"12px",cursor:"pointer"},children:"Копировать"})]})]})]})]}),!M&&l.paymentHistory&&l.paymentHistory.length>0&&s.jsx(Zq,{history:l.paymentHistory})]})}),s.jsx("div",{className:"modal-footer",children:u?s.jsxs(s.Fragment,{children:[s.jsxs("button",{className:"btn btn-secondary",onClick:K,disabled:T,children:[s.jsx(xa,{style:{fontSize:"18px",marginRight:"6px"}}),"Отмена"]}),s.jsxs("button",{className:"btn btn-primary",onClick:D,disabled:T,children:[s.jsx(nA,{style:{fontSize:"18px",marginRight:"6px"}}),T?"Сохранение...":"Сохранить"]})]}):s.jsx("button",{className:"btn btn-secondary",onClick:n,children:"Закрыть"})})]})}),s.jsx(Ak,{isOpen:c,onClose:()=>{d(!1)},booking:l,onSuccess:()=>{d(!1),r&&r()},clubTimezone:i})]})}function ZJ({venueId:e,bookings:t,onRefresh:n,clubTimezone:r="Europe/Moscow"}){const{admin:i,club:a}=er(),{isSuperAdmin:o}=Wr(),l=()=>(a==null?void 0:a.timezone)||r||"Europe/Moscow",[A,c]=b.useState([]),[d,u]=b.useState(!0),[p,h]=b.useState("all"),[m,g]=b.useState("all"),[y,x]=b.useState("all"),[C,S]=b.useState("all"),[w,_]=b.useState(!1),[E,T]=b.useState(null),[F,M]=b.useState(!1),[P,I]=b.useState(!1),[j,U]=b.useState(null),[N,z]=b.useState("desc");b.useEffect(()=>{t?(c(t),u(!1)):L()},[e,t]);const L=async()=>{if(!t){if(!e){console.log("No venueId provided to BookingsList");return}console.log("BookingsList: Fetching bookings for venue:",e);try{u(!0);const $=Vt(Et(Re,"bookings"),pt("venueId","==",e)),V=await $t($);console.log("BookingsList: Found bookings:",V.size);const G=V.docs.map(ie=>{var ge,le,be,ue;const ne=ie.data();console.log("BookingsList: Raw booking:",ne);let xe;(ge=ne.createdAt)!=null&&ge.toDate?xe=ne.createdAt.toDate():ne.createdAt instanceof Date?xe=ne.createdAt:typeof ne.createdAt=="string"?xe=new Date(ne.createdAt):(le=ne.createdAt)!=null&&le.seconds?xe=new Date(ne.createdAt.seconds*1e3):(xe=new Date,console.warn("No createdAt for booking:",ie.id));let re;return(be=ne.date)!=null&&be.toDate?re=ne.date.toDate():ne.date instanceof Date?re=ne.date:typeof ne.date=="string"?re=new Date(ne.date):(ue=ne.date)!=null&&ue.seconds?re=new Date(ne.date.seconds*1e3):re=new Date,{id:ie.id,...ne,date:re,createdAt:xe}});console.log("BookingsList: Processed bookings:",G),c(G)}catch($){console.error("Error fetching bookings:",$)}finally{u(!1)}}},D=$=>{if(!o)return!1;const V=$.status==="cancelled",G=!$.paymentStatus||$.paymentStatus==="awaiting_payment"||$.paymentStatus==="cancelled",ie=$.paymentStatus==="refunded",ne=$.paymentStatus==="error";return V&&(G||ie)||ne},K=async($,V)=>{if(!D(V)){alert("Удалить можно только отмененное бронирование без оплаты/с возвратом средств, или бронирование с ошибкой оплаты");return}if(confirm(`Вы уверены, что хотите удалить это бронирование?

Это действие необратимо!`))try{await Yc(bt(Re,"bookings",$)),n?n():L()}catch(G){console.error("Error deleting booking:",G),alert("Ошибка при удалении бронирования")}},Z=[...A.filter($=>!(p!=="all"&&$.status!==p||m!=="all"&&($.paymentStatus||"awaiting_payment")!==m||y!=="all"&&$.paymentMethod!==y||C!=="all"&&(C==="no_trainer"&&$.trainerId||C!=="no_trainer"&&$.trainerId!==C)))].sort(($,V)=>{var ne,xe,re,ge,le,be,ue,ae;let G,ie;return $.createdAt instanceof Date?G=$.createdAt:(ne=$.createdAt)!=null&&ne.toDate?G=$.createdAt.toDate():(xe=$.createdAt)!=null&&xe.seconds?G=new Date($.createdAt.seconds*1e3):typeof $.createdAt=="string"?G=new Date($.createdAt):$.date instanceof Date?G=$.date:(re=$.date)!=null&&re.toDate?G=$.date.toDate():(ge=$.date)!=null&&ge.seconds?G=new Date($.date.seconds*1e3):G=new Date(0),V.createdAt instanceof Date?ie=V.createdAt:(le=V.createdAt)!=null&&le.toDate?ie=V.createdAt.toDate():(be=V.createdAt)!=null&&be.seconds?ie=new Date(V.createdAt.seconds*1e3):typeof V.createdAt=="string"?ie=new Date(V.createdAt):V.date instanceof Date?ie=V.date:(ue=V.date)!=null&&ue.toDate?ie=V.date.toDate():(ae=V.date)!=null&&ae.seconds?ie=new Date(V.date.seconds*1e3):ie=new Date(0),N==="desc"?ie.getTime()-G.getTime():G.getTime()-ie.getTime()}),Ae=$=>new Intl.DateTimeFormat("ru-RU",{day:"numeric",month:"long",year:"numeric",timeZone:l()}).format($),H=$=>$||"—",R=$=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0}).format($),Q=Array.from(new Map(A.filter($=>$.trainerId&&$.trainerName).map($=>[$.trainerId,{id:$.trainerId,name:$.trainerName}])).values()).sort(($,V)=>($.name||"").localeCompare(V.name||""));return d?s.jsx("div",{children:"Загрузка..."}):s.jsxs("div",{className:"section-card",children:[s.jsxs("div",{className:"section-header",children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[s.jsx("h2",{className:"section-title",children:"Список бронирований"}),Z.length!==A.length&&s.jsxs("span",{style:{fontSize:"14px",color:"var(--gray)",padding:"4px 12px",background:"var(--background)",borderRadius:"4px"},children:["Показано: ",Z.length," из ",A.length]})]}),s.jsxs("button",{className:"btn btn-secondary btn-icon",onClick:()=>_(!w),children:[s.jsx($9,{}),"Фильтры"]})]}),w&&s.jsxs("div",{className:"booking-filters-mobile",style:{marginBottom:"24px",padding:"16px",background:"var(--background)",borderRadius:"8px",display:"flex",gap:"16px",flexWrap:"wrap"},children:[s.jsxs("div",{children:[s.jsx("label",{className:"form-label",style:{fontSize:"12px",marginBottom:"4px"},children:"Статус бронирования"}),s.jsxs("select",{className:"form-select",value:p,onChange:$=>h($.target.value),style:{minWidth:"150px"},children:[s.jsx("option",{value:"all",children:"Все"}),s.jsx("option",{value:"confirmed",children:"Подтверждено"}),s.jsx("option",{value:"pending",children:"Ожидает"}),s.jsx("option",{value:"cancelled",children:"Отменено"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",style:{fontSize:"12px",marginBottom:"4px"},children:"Статус оплаты"}),s.jsxs("select",{className:"form-select",value:m,onChange:$=>g($.target.value),style:{minWidth:"150px"},children:[s.jsx("option",{value:"all",children:"Все"}),s.jsx("option",{value:"awaiting_payment",children:"Ожидает оплаты"}),s.jsx("option",{value:"paid",children:"Оплачено"}),s.jsx("option",{value:"expired",children:"Время истекло"}),s.jsx("option",{value:"cancelled",children:"Отменено"}),s.jsx("option",{value:"refunded",children:"Возвращено"}),s.jsx("option",{value:"error",children:"Ошибка оплаты"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",style:{fontSize:"12px",marginBottom:"4px"},children:"Способ оплаты"}),s.jsxs("select",{className:"form-select",value:y,onChange:$=>x($.target.value),style:{minWidth:"150px"},children:[s.jsx("option",{value:"all",children:"Все"}),s.jsx("option",{value:"cash",children:"Наличные"}),s.jsx("option",{value:"card_on_site",children:"Карта на месте"}),s.jsx("option",{value:"transfer",children:"Перевод на счет"}),s.jsx("option",{value:"online",children:"ЮKassa (онлайн)"}),s.jsx("option",{value:"sberbank_card",children:"Перевод Сбербанк"}),s.jsx("option",{value:"tbank_card",children:"Перевод Т-Банк"}),s.jsx("option",{value:"vtb_card",children:"Перевод ВТБ"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",style:{fontSize:"12px",marginBottom:"4px"},children:"Тренер"}),s.jsxs("select",{className:"form-select",value:C,onChange:$=>S($.target.value),style:{minWidth:"150px"},children:[s.jsx("option",{value:"all",children:"Все"}),s.jsx("option",{value:"no_trainer",children:"Без тренера"}),Q.map($=>s.jsx("option",{value:$.id,children:$.name},$.id))]})]}),(p!=="all"||m!=="all"||y!=="all"||C!=="all")&&s.jsx("div",{style:{display:"flex",alignItems:"flex-end"},children:s.jsx("button",{onClick:()=>{h("all"),g("all"),x("all"),S("all")},style:{padding:"8px 16px",background:"var(--error)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Сбросить фильтры"})})]}),s.jsx("div",{className:"table-wrapper",style:{overflowX:"auto",WebkitOverflowScrolling:"touch"},children:s.jsxs("table",{children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{onClick:()=>z($=>$==="desc"?"asc":"desc"),style:{cursor:"pointer",userSelect:"none"},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:["Дата создания",s.jsx("span",{style:{color:"var(--primary)"},children:N==="desc"?"↓":"↑"})]})}),s.jsx("th",{children:"Дата и время"}),s.jsx("th",{children:"Корт"}),s.jsx("th",{children:"Клиент"}),s.jsx("th",{children:"Сумма"}),s.jsx("th",{children:"Способ оплаты"}),s.jsx("th",{children:"Статус оплаты"}),s.jsx("th",{children:"Действия"})]})}),s.jsx("tbody",{children:Z.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:8,style:{textAlign:"center",padding:"48px"},children:"Нет бронирований"})}):Z.map($=>s.jsxs("tr",{children:[s.jsx("td",{children:(()=>{var G,ie;let V=null;return $.createdAt instanceof Date?V=$.createdAt:(G=$.createdAt)!=null&&G.toDate?V=$.createdAt.toDate():(ie=$.createdAt)!=null&&ie.seconds?V=new Date($.createdAt.seconds*1e3):typeof $.createdAt=="string"&&(V=new Date($.createdAt)),V&&!isNaN(V.getTime())?s.jsxs(s.Fragment,{children:[s.jsx("div",{children:Ae(V)}),s.jsx("div",{style:{fontSize:"14px",color:"var(--gray)"},children:V.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit",timeZone:l()})})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{children:"Неизвестно"}),s.jsx("div",{style:{fontSize:"14px",color:"var(--gray)"},children:"—"})]})})()}),s.jsxs("td",{children:[s.jsx("div",{children:Ae($.date)}),s.jsxs("div",{style:{fontSize:"14px",color:"var(--gray)"},children:[H($.startTime)," - ",H($.endTime)]})]}),s.jsxs("td",{children:[s.jsx("div",{children:$.courtName}),$.trainerName&&s.jsxs("div",{style:{fontSize:"14px",color:"var(--primary)"},children:["Тренер: ",$.trainerName]})]}),s.jsxs("td",{children:[s.jsx("div",{children:$.clientName||$.customerName}),s.jsx("div",{style:{fontSize:"14px",color:"var(--gray)"},children:$.clientPhone||$.customerPhone})]}),s.jsx("td",{style:{fontWeight:"600"},children:R($.totalAmount||$.amount)}),s.jsx("td",{children:zx($.paymentMethod)}),s.jsx("td",{children:s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[s.jsx(ok,{bookingId:$.id,currentStatus:$.paymentStatus||"awaiting_payment",paymentMethod:$.paymentMethod,onStatusUpdate:L,onRefund:()=>{U($),I(!0)}}),($.paymentMethod==="online"&&!$.createdAt&&console.log("WARNING: Online booking without createdAt:",$.id),$.createdAt?s.jsx(lk,{createdAt:$.createdAt,paymentMethod:$.paymentMethod,paymentStatus:$.paymentStatus}):null)]})}),s.jsx("td",{children:s.jsxs("div",{style:{display:"flex",gap:"8px"},children:[s.jsx("button",{className:"btn btn-secondary btn-icon",onClick:()=>{T($),M(!0)},title:"Подробности",children:s.jsx(mj,{})}),D($)&&s.jsx("button",{className:"btn btn-danger btn-icon",onClick:()=>K($.id,$),title:"Удалить бронирование (отмененные без оплаты или с ошибкой)",children:s.jsx(AA,{})})]})})]},$.id))})]})}),s.jsx(_k,{booking:E,isOpen:F,onClose:()=>{M(!1),T(null)},onUpdate:L}),s.jsx(Ak,{isOpen:P,onClose:()=>{I(!1),U(null)},booking:j,onSuccess:()=>{L(),I(!1),U(null)},clubTimezone:r})]})}function Dk(e,t){if(!t||t.length===0)return null;const n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0"),i=`${n}-${r}`;return t.find(a=>a.date===i)||null}function Vc(e,t,n,r,i,a,o){const[l,A]=t.split(":").map(Number);let c=0,d=l,u=A,p=n;for(;p>0;){const h=Math.min(60-u,p),m=h/60,g=Dk(e,i);if(g)c+=g.price*m;else if(r){const y=e.getDay(),C=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][y],S=r[C];if(S){let w=S.basePrice;if(S.intervals)for(const _ of S.intervals){const E=parseInt(_.from.split(":")[0]),T=parseInt(_.to.split(":")[0]);if(d>=E&&d<T){w=_.price;break}}c+=w*m}else{const _=e.getDay()===0||e.getDay()===6?o||2400:a||1900;c+=_*m}}else{const x=e.getDay()===0||e.getDay()===6?o||2400:a||1900;c+=x*m}p-=h,u+=h,u>=60&&(d+=Math.floor(u/60),u=u%60)}return Math.round(c)}function eZ(e,t,n,r,i,a,o){const l=[],[A,c]=t.split(":").map(Number);let d=A,u=c,p=n;for(;p>0;){const h=Math.min(60-u,p),m=h/60,g=`${String(d).padStart(2,"0")}:${String(u).padStart(2,"0")}`,y=u+h,x=d+Math.floor(y/60),C=y%60,S=`${String(x).padStart(2,"0")}:${String(C).padStart(2,"0")}`;let w=0;const _=Dk(e,i);if(_)w=_.price*m;else if(r){const E=e.getDay(),F=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][E],M=r[F];if(M){let P=M.basePrice;if(M.intervals)for(const I of M.intervals){const j=parseInt(I.from.split(":")[0]),U=parseInt(I.to.split(":")[0]);if(d>=j&&d<U){P=I.price;break}}w=P*m}else w=(e.getDay()===0||e.getDay()===6?o||2400:a||1900)*m}else w=(e.getDay()===0||e.getDay()===6?o||2400:a||1900)*m;(h===60||p<=60)&&l.push({time:`${g} - ${S}`,price:Math.round(w)}),p-=h,u+=h,u>=60&&(d+=Math.floor(u/60),u=u%60)}return l}function tZ(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function Uk(e){const t=e.replace(/\D/g,"");return t.length===11&&(t.startsWith("7")||t.startsWith("8"))}function pc(e){const t=e.replace(/\D/g,"");if(t.length===11){if(t.startsWith("8"))return"+7"+t.substring(1);if(t.startsWith("7"))return"+"+t}return t.length===10?"+7"+t:e}function Lk(e){return e.trim().length>=2&&e.trim().length<=100}function Mk(e){const t=new Date;t.setHours(0,0,0,0);const n=new Date(e);return n.setHours(0,0,0,0),n>=t}function nZ(e,t,n=60){const r=/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/;if(!r.test(e)||!r.test(t))return!1;const[i,a]=e.split(":").map(Number),[o,l]=t.split(":").map(Number),A=i*60+a,c=o*60+l;return c<=A?!1:c-A>=n}function $u(e){return e.replace(/[<>]/g,"").replace(/javascript:/gi,"").trim()}function rZ({isOpen:e,onClose:t,onSuccess:n,venueId:r,preSelectedDate:i,preSelectedTime:a,preSelectedCourtId:o,preSelectedTrainerId:l}){const{admin:A}=er(),[c,d]=b.useState([]),[u,p]=b.useState(!1),[h,m]=b.useState(""),[g,y]=b.useState(30),[x,C]=b.useState({monday:{open:"07:00",close:"23:00"},tuesday:{open:"07:00",close:"23:00"},wednesday:{open:"07:00",close:"23:00"},thursday:{open:"07:00",close:"23:00"},friday:{open:"07:00",close:"23:00"},saturday:{open:"08:00",close:"22:00"},sunday:{open:"08:00",close:"22:00"}}),S=ye=>{const fe=ye.getFullYear(),de=String(ye.getMonth()+1).padStart(2,"0"),Ue=String(ye.getDate()).padStart(2,"0");return`${fe}-${de}-${Ue}`},[w,_]=b.useState({clientName:"",clientPhone:"+7",courtId:"",date:S(new Date),startTime:"10:00",duration:1,paymentMethod:"online"}),[E,T]=b.useState([]),[F,M]=b.useState([]),[P,I]=b.useState(!1),[j,U]=b.useState(null),[N,z]=b.useState({cash:!0,card_on_site:!0,transfer:!0,sberbank_card:!0,tbank_card:!0,vtb_card:!0}),[L,D]=b.useState(""),[K,q]=b.useState([]),[Z,Ae]=b.useState(null),[H,R]=b.useState(!1),[Q,$]=b.useState(!1),[V,G]=b.useState(!1),ie=b.useRef(null),[ne,xe]=b.useState([]),[re,ge]=b.useState(!!l),[le,be]=b.useState(l||""),[ue,ae]=b.useState([]),He=async ye=>{if(!ye||ye.length<2){q([]);return}R(!0);try{const fe=Vt(Et(Re,"bookings"),pt("venueId","==",r),gc(2e3)),de=await $t(fe),Ue=new Map;de.docs.forEach(je=>{var ct,Gt;const pe=je.data(),Ee=pe.customerPhone||pe.clientPhone,Ze=pe.customerName||pe.clientName;if(!Ee||!Ze)return;const ze=ye.toLowerCase().trim(),dt=Ze.toLowerCase(),lt=ye.replace(/\D/g,""),Ve=Ee.replace(/\D/g,""),De=ze.length>0&&dt.includes(ze),Qe=lt.length>=3&&Ve.includes(lt);if(!De&&!Qe)return;const it=Ee;if(Ue.has(it)){const Ht=Ue.get(it);Ht.bookingsCount++;const St=(ct=pe.date)!=null&&ct.toDate?pe.date.toDate():new Date(pe.date);(!Ht.lastVisit||St>Ht.lastVisit)&&(Ht.lastVisit=St)}else{const Ht=(Gt=pe.date)!=null&&Gt.toDate?pe.date.toDate():new Date(pe.date);Ue.set(it,{id:it,name:Ze,phone:Ee,email:pe.customerEmail||pe.clientEmail,bookingsCount:1,lastVisit:Ht})}});const ve=Array.from(Ue.values()).sort((je,pe)=>pe.bookingsCount!==je.bookingsCount?pe.bookingsCount-je.bookingsCount:je.lastVisit&&pe.lastVisit?pe.lastVisit.getTime()-je.lastVisit.getTime():0).slice(0,10);q(ve)}catch(fe){console.error("Error searching customers:",fe)}finally{R(!1)}},we=ye=>{Ae(ye),_(fe=>({...fe,clientName:ye.name,clientPhone:ye.phone})),D(""),q([]),G(!1)},me=()=>{Ae(null),_(ye=>({...ye,clientName:"",clientPhone:"+7"})),$(!1),D("")},Ie=(ye,fe)=>{const de=c.find(ve=>ve.id===w.courtId);if(!de)return 0;const Ue=new Date(w.date);return Vc(Ue,ye,fe*60,de.pricing,de.holidayPricing,de.priceWeekday,de.priceWeekend)},Te=(ye,fe,de)=>{const[Ue,ve]=ye.split(":").map(Number),je=Ue+ve/60,pe=je+fe;return(de?F.filter(ze=>ze.courtId===de):F).some(ze=>{const[dt,lt]=ze.startTime.split(":").map(Number),[Ve,De]=ze.endTime.split(":").map(Number),Qe=dt+lt/60,it=Ve+De/60;return je<it&&pe>Qe})},Oe=ye=>{const fe=[],de=new Date(w.date),ve=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][de.getDay()],je=x[ve];let pe="08:00",Ee="22:00";if(je)if(typeof je=="string"&&je.includes("-")){const[ct,Gt]=je.split("-").map(Ht=>Ht.trim());pe=ct||"08:00",Ee=Gt||"22:00"}else je.open&&je.close&&(pe=je.open,Ee=je.close);const[Ze,ze]=pe.split(":").map(Number),[dt,lt]=Ee.split(":").map(Number),Ve=Ze+ze/60,De=dt+lt/60,Qe=De-ye,it=g===60?1:.5;for(let ct=Ve;ct<=Qe;ct+=it){const Gt=Math.floor(ct),Ht=ct%1*60,St=`${String(Gt).padStart(2,"0")}:${String(Ht).padStart(2,"0")}`;ct+ye<=De&&fe.push(St)}return fe};b.useEffect(()=>{const ye=setTimeout(()=>{L&&!Q?(He(L),G(!0)):G(!1)},300);return()=>clearTimeout(ye)},[L,Q]),b.useEffect(()=>{const ye=fe=>{ie.current&&!ie.current.contains(fe.target)&&G(!1)};return document.addEventListener("mousedown",ye),()=>{document.removeEventListener("mousedown",ye)}},[]);const qe=async()=>{if(r)try{const ye=await An(bt(Re,"venues",r));if(ye.exists()){const fe=ye.data();fe.enabledPaymentMethods&&z(fe.enabledPaymentMethods)}}catch(ye){console.error("Error loading payment methods settings:",ye)}};b.useEffect(()=>{if(e&&r){nt(!!o),ht(),qe(),!N[w.paymentMethod]&&w.paymentMethod!=="online"&&_(je=>({...je,paymentMethod:"online"}));const ye=Et(Re,"venues",r,"courts"),fe=li(ye,je=>{const pe=je.docs.map(Ee=>({id:Ee.id,...Ee.data()}));d(pe),w.courtId&&!pe.find(Ee=>Ee.id===w.courtId)&&_(Ee=>({...Ee,courtId:""}))},je=>{console.error("Error listening to courts:",je)}),de=o||"",Ue={...w,date:i?S(i):w.date,startTime:a||w.startTime,courtId:de,duration:w.duration,clientName:w.clientName,clientPhone:w.clientPhone,paymentMethod:w.paymentMethod};_(Ue),l?(be(l),ge(!0)):(be(""),ge(!1)),M([]);const ve=Oe(Ue.duration);if(T(ve),Ue.date){const je=Ue.date;l?ot(je):de&&At(de,je)}return()=>{fe()}}else e||(D(""),q([]),Ae(null),R(!1),$(!1),G(!1),M([]),I(!1),j&&(j(),U(null)),_({clientName:"",clientPhone:"+7",courtId:"",date:S(new Date),startTime:"10:00",duration:1,paymentMethod:"online"}),T([]),be(""),ge(!1))},[e,r,i,a,o,g]),b.useEffect(()=>{const ye=Oe(w.duration);T(ye),!ye.includes(w.startTime)&&ye.length>0&&_(fe=>({...fe,startTime:ye[0]}))},[w.duration,w.date,g,x]),b.useEffect(()=>{e&&w.date&&(l?ot(w.date):w.courtId&&At(w.courtId,w.date))},[w.date,w.courtId,e,l]),b.useEffect(()=>{e&&w.date&&rt(w.date)},[w.date,e]),b.useEffect(()=>{let ye=!1;if(w.date&&e&&r){if(j&&(j(),U(null)),M([]),I(!0),l)if(w.courtId){At(w.courtId,w.date).finally(()=>I(!1));const fe=Et(Re,"bookings"),de=new Date(w.date),Ue=new Date(Date.UTC(de.getFullYear(),de.getMonth(),de.getDate(),0,0,0)),ve=new Date(Date.UTC(de.getFullYear(),de.getMonth(),de.getDate(),23,59,59)),je=Vt(fe,pt("courtId","==",w.courtId),pt("date",">=",Qt.fromDate(Ue)),pt("date","<=",Qt.fromDate(ve))),pe=li(je,Ee=>{const Ze=Ee.docs.map(ze=>({id:ze.id,...ze.data()})).filter(ze=>{const dt=ze.status||"pending",lt=ze.paymentStatus||"awaiting_payment";return dt==="cancelled"||["cancelled","refunded","error"].includes(lt)?!1:dt==="confirmed"||dt==="pending"||lt==="paid"||lt==="awaiting_payment"});M(Ze)},Ee=>{console.error("Error listening to court bookings:",Ee),I(!1)});ye||U(()=>pe);return}else{ot(w.date).finally(()=>I(!1));const fe=Et(Re,"bookings"),de=new Date(w.date),Ue=new Date(Date.UTC(de.getFullYear(),de.getMonth(),de.getDate(),0,0,0)),ve=new Date(Date.UTC(de.getFullYear(),de.getMonth(),de.getDate(),23,59,59)),je=Vt(fe,pt("venueId","==",r),pt("date",">=",Qt.fromDate(Ue)),pt("date","<=",Qt.fromDate(ve))),pe=li(je,Ee=>{const ze=Ee.docs.map(dt=>({id:dt.id,...dt.data()})).filter(dt=>{const lt=dt.status||"pending",Ve=dt.paymentStatus||"awaiting_payment";return lt==="cancelled"||["cancelled","refunded","error"].includes(Ve)?!1:lt==="confirmed"||lt==="pending"||Ve==="paid"||Ve==="awaiting_payment"});M(ze)},Ee=>{console.error("Error listening to bookings:",Ee),I(!1)});ye||U(()=>pe);return}if(w.courtId){At(w.courtId,w.date).finally(()=>I(!1));const fe=Et(Re,"bookings"),de=new Date(w.date),Ue=new Date(Date.UTC(de.getFullYear(),de.getMonth(),de.getDate(),0,0,0)),ve=new Date(Date.UTC(de.getFullYear(),de.getMonth(),de.getDate(),23,59,59)),je=Vt(fe,pt("courtId","==",w.courtId),pt("date",">=",Qt.fromDate(Ue)),pt("date","<=",Qt.fromDate(ve))),pe=li(je,Ee=>{const Ze=new Map;Ee.docs.forEach(ze=>{const dt=ze.data(),lt=dt.status||"pending",Ve=dt.paymentStatus||"awaiting_payment";lt!=="cancelled"&&Ve!=="cancelled"&&Ve!=="refunded"&&Ve!=="error"&&(lt==="confirmed"||lt==="pending"||Ve==="paid"||Ve==="awaiting_payment")&&Ze.set(ze.id,{id:ze.id,...dt})}),M(Array.from(Ze.values()))},Ee=>{console.error("Error listening to selected court bookings:",Ee),I(!1)});ye||U(()=>pe)}}return()=>{ye=!0,U(fe=>(fe&&fe(),null))}},[w.courtId,w.date,e,r,l]);const nt=async ye=>{if(r)try{const fe=await An(bt(Re,"venues",r));if(fe.exists()){const je=fe.data();m(je.name||""),y(je.bookingSlotInterval||60),je.workingHours&&C(je.workingHours)}const de=Et(Re,"venues",r,"courts"),ve=(await $t(de)).docs.map(je=>({id:je.id,...je.data()}));d(ve),_(je=>je.courtId||ye||ve.length===0?je:{...je,courtId:ve[0].id})}catch(fe){console.error("Error fetching courts:",fe)}},ht=async()=>{if(r)try{const ye=Vt(Et(Re,"trainers"),pt("clubId","==",r)),de=(await $t(ye)).docs.map(Ue=>({id:Ue.id,...Ue.data()})).filter(Ue=>Ue.status==="active");de.sort((Ue,ve)=>(Ue.firstName||"").localeCompare(ve.firstName||"")),xe(de)}catch(ye){console.error("Error fetching trainers:",ye)}},rt=async ye=>{if(!(!r||!ye))try{const fe=new Date(ye),de=new Date(Date.UTC(fe.getFullYear(),fe.getMonth(),fe.getDate(),0,0,0)),Ue=new Date(Date.UTC(fe.getFullYear(),fe.getMonth(),fe.getDate(),23,59,59)),ve=Vt(Et(Re,"bookings"),pt("venueId","==",r),pt("date",">=",Qt.fromDate(de)),pt("date","<=",Qt.fromDate(Ue))),pe=(await $t(ve)).docs.map(Ee=>({id:Ee.id,...Ee.data()})).filter(Ee=>{const Ze=Ee.status||"pending",ze=Ee.paymentStatus||"awaiting_payment";return Ee.trainerId&&Ze!=="cancelled"&&ze!=="cancelled"&&ze!=="refunded"&&ze!=="error"});ae(pe)}catch(fe){console.error("Error fetching trainer bookings:",fe)}},ot=async ye=>{if(!(!r||!ye))try{const fe=Et(Re,"bookings"),de=new Date(ye),Ue=new Date(Date.UTC(de.getFullYear(),de.getMonth(),de.getDate(),0,0,0)),ve=new Date(Date.UTC(de.getFullYear(),de.getMonth(),de.getDate(),23,59,59)),je=Vt(fe,pt("venueId","==",r),pt("date",">=",Qt.fromDate(Ue)),pt("date","<=",Qt.fromDate(ve))),Ze=(await $t(je)).docs.map(ze=>({id:ze.id,...ze.data()})).filter(ze=>{const dt=ze.status||"pending",lt=ze.paymentStatus||"awaiting_payment";return dt==="cancelled"||["cancelled","refunded","error"].includes(lt)?!1:dt==="confirmed"||dt==="pending"||lt==="paid"||lt==="awaiting_payment"});M(Ze)}catch(fe){console.error("Error fetching all courts bookings:",fe)}},At=async(ye,fe)=>{const de=ye||w.courtId,Ue=fe||w.date;if(!(!r||!de||!Ue))try{const ve=Et(Re,"bookings"),je=new Date(Ue),pe=new Date(Date.UTC(je.getFullYear(),je.getMonth(),je.getDate(),0,0,0)),Ee=new Date(Date.UTC(je.getFullYear(),je.getMonth(),je.getDate(),23,59,59)),Ze=Vt(ve,pt("courtId","==",de),pt("date",">=",Qt.fromDate(pe)),pt("date","<=",Qt.fromDate(Ee))),lt=(await $t(Ze)).docs.map(Ve=>({id:Ve.id,...Ve.data()})).filter(Ve=>{const De=Ve.status||"pending",Qe=Ve.paymentStatus||"awaiting_payment";return De!=="cancelled"&&Qe!=="cancelled"&&Qe!=="refunded"&&Qe!=="error"&&(De==="confirmed"||De==="pending"||Qe==="paid"||Qe==="awaiting_payment")});M(lt)}catch(ve){console.error("Error fetching bookings:",ve)}},We=ye=>{const{name:fe,value:de}=ye.target;_(Ue=>({...Ue,[fe]:fe==="duration"?parseFloat(de):de}))},jt=async ye=>{if(ye.preventDefault(),!r||!A||u)return;if(!w.clientName){alert("Пожалуйста, укажите имя клиента");return}if(!w.clientPhone){alert("Пожалуйста, укажите телефон клиента");return}if(!Lk(w.clientName)){alert("Имя должно быть от 2 до 100 символов");return}if(!Uk(w.clientPhone)){alert("Некорректный номер телефона");return}if(l&&!w.courtId){const pe=c.find(Ee=>{const Ze=F.filter(Qe=>Qe.courtId===Ee.id),[ze,dt]=w.startTime.split(":").map(Number),lt=ze+dt/60,Ve=lt+w.duration;return!Ze.some(Qe=>{const[it,ct]=Qe.startTime.split(":").map(Number),[Gt,Ht]=Qe.endTime.split(":").map(Number),St=it+ct/60,Pn=Gt+Ht/60;return lt<Pn&&Ve>St})});if(!pe){alert("Все корты заняты в выбранное время. Пожалуйста, выберите другое время.");return}_(Ee=>({...Ee,courtId:pe.id}))}if(!w.courtId){alert("Пожалуйста, выберите корт");return}if(Te(w.startTime,w.duration,w.courtId)){alert("Выбранное время уже занято. Пожалуйста, выберите другое время.");return}const fe=new Date;if(fe.setFullYear(parseInt(w.date.split("-")[0]),parseInt(w.date.split("-")[1])-1,parseInt(w.date.split("-")[2])),!Mk(fe)){alert("Нельзя забронировать на прошедшую дату");return}const[de,Ue]=w.startTime.split(":").map(Number),ve=de*60+Ue+w.duration*60,je=`${Math.floor(ve/60).toString().padStart(2,"0")}:${(ve%60).toString().padStart(2,"0")}`;if(!nZ(w.startTime,je,w.duration*60)){alert("Некорректное время бронирования");return}p(!0);try{const pe=c.find(Sn=>Sn.id===w.courtId);if(!pe)return;const[Ee,Ze]=w.startTime.split(":").map(Number),ze=Ee+Math.floor(w.duration),dt=Ze+w.duration%1*60,lt=`${String(ze+Math.floor(dt/60)).padStart(2,"0")}:${String(dt%60).padStart(2,"0")}`,Ve=new Date(w.date+"T00:00:00"),De=new Date(Date.UTC(Ve.getFullYear(),Ve.getMonth(),Ve.getDate(),0,0,0)),Qe=new Date(Date.UTC(Ve.getFullYear(),Ve.getMonth(),Ve.getDate(),23,59,59)),it=Vt(Et(Re,"bookings"),pt("courtId","==",w.courtId),pt("date",">=",Qt.fromDate(De)),pt("date","<=",Qt.fromDate(Qe)));if((await $t(it)).docs.filter(Sn=>{const Yt=Sn.data(),Kr=Yt.status||"pending",zt=Yt.paymentStatus||"awaiting_payment";if(Kr==="cancelled"||zt==="cancelled"||zt==="refunded"||zt==="error"||!(Kr==="confirmed"||Kr==="pending"||zt==="paid"||zt==="awaiting_payment")||Yt.venueId!==r)return!1;const dr=Yt.startTime||Yt.time,zi=Yt.endTime,Vr=Ee*60+Ze,ur=Vr+w.duration*60,[hA,ud]=dr.split(":").map(Number),[mo,fA]=zi.split(":").map(Number),hd=hA*60+ud,fl=mo*60+fA;return Vr<fl&&ur>hd}).length>0){alert("К сожалению, выбранное время уже занято. Пожалуйста, выберите другое время."),p(!1);return}const Ht="awaiting_payment",St="pending",Pn=tY(w.duration),Mt=Ie(w.startTime,w.duration);let gn=Mt,Nn={};if(re&&le){const Sn=ne.find(Yt=>Yt.id===le);if(Sn){const Yt=Math.round(Sn.pricePerHour*w.duration),Kr=Sn.commissionType==="percent"?Math.round(Yt*(Sn.commissionValue/100)):Sn.commissionValue;Nn={trainerId:le,trainerName:`${Sn.firstName} ${Sn.lastName}`,trainerPrice:Yt,trainerCommission:Kr,courtPrice:Mt},gn=Mt+Yt}}const Kn=w.duration>0?Mt/w.duration:0,[wr,fi,Ps]=w.date.split("-").map(Number),is=Qt.fromDate(new Date(Date.UTC(wr,fi-1,Ps,0,0,0))),as={venueId:r,courtId:w.courtId,courtName:pe.name,venueName:h,customerName:$u(w.clientName),customerPhone:pc(w.clientPhone),date:is,startTime:w.startTime,duration:Pn,gameType:"single",status:St,amount:gn,price:Kn,paymentMethod:w.paymentMethod,paymentStatus:Ht,source:"admin",...Nn,totalAmount:gn,time:w.startTime,endTime:Va(w.startTime,Pn),clientName:$u(w.clientName),clientPhone:pc(w.clientPhone),paymentHistory:[{timestamp:Qt.now(),action:"created",userId:A.uid||"",userName:A.displayName||A.email||"Администратор"}],createdBy:{userId:A.uid||"",userName:A.displayName||A.email||"Администратор",userRole:A.role||"admin"},createdAt:Qt.now()},tr=await wa(Et(Re,"bookings"),as);if(w.paymentMethod==="online"){console.log("Инициализация онлайн платежа для бронирования:",tr.id);try{const Yt=(await An(bt(Re,"venues",r))).data();if(console.log("Настройки платежей venue:",{paymentEnabled:Yt==null?void 0:Yt.paymentEnabled,paymentProvider:Yt==null?void 0:Yt.paymentProvider,hasCredentials:!!(Yt!=null&&Yt.paymentCredentials)}),!(Yt!=null&&Yt.paymentEnabled))throw new Error("Платежи не включены для этой площадки");if(!(Yt!=null&&Yt.paymentProvider)||!(Yt!=null&&Yt.paymentCredentials))throw new Error("Платежный провайдер не настроен для этой площадки");const Kr=window.location.origin,zt=`${Kr}/club/${r}/booking-payment/${tr.id}`;console.log("Вызов функции initBookingPayment с параметрами:",{bookingId:tr.id,amount:gn,venueId:r});const zi=await ts(tl,"initBookingPayment")({bookingId:tr.id,amount:gn,description:`Оплата бронирования корта ${pe.name} на ${w.date} ${w.startTime}`,returnUrl:`${Kr}/club/${r}/booking-confirmation/${tr.id}`,userId:A.uid||"",customerPhone:pc(w.clientPhone),customerEmail:""});console.log("Результат инициализации платежа:",zi.data);const Vr=zi.data;if(Vr.success&&Vr.paymentUrl){console.log("Платеж успешно инициализирован, обновляем бронирование"),await yn(bt(Re,"bookings",tr.id),{paymentStatus:"awaiting_payment",paymentId:Vr.paymentId,paymentUrl:Vr.paymentUrl,paymentHistory:Cp({timestamp:Qt.now(),action:"payment_initialized",userId:A.uid||"",userName:A.displayName||A.email||"Администратор",note:"Платеж инициализирован"})});try{console.log("Отправка SMS с ссылкой на оплату");const ur={bookingId:tr.id,phone:pc(w.clientPhone),customerName:$u(w.clientName),venueId:r,venueName:h||"",courtName:pe.name||"",date:w.date,time:w.startTime,paymentUrl:Vr.paymentUrl};console.log("SMS параметры:",ur),await ts(tl,"sendBookingPaymentSMS")(ur),console.log("SMS со ссылкой на оплату отправлено успешно"),alert(`Бронирование создано! SMS со ссылкой на оплату отправлено на номер ${w.clientPhone}`)}catch(ur){console.error("Ошибка отправки SMS:",ur),console.error("Детали ошибки:",{code:ur==null?void 0:ur.code,message:ur==null?void 0:ur.message,details:ur==null?void 0:ur.details}),alert(`Бронирование создано, но не удалось отправить SMS: ${(ur==null?void 0:ur.message)||"Неизвестная ошибка"}`)}}else console.error("Payment initialization failed:",Vr.error),await yn(bt(Re,"bookings",tr.id),{paymentStatus:"error",paymentError:Vr.error||"Не удалось инициализировать платеж",paymentHistory:Cp({timestamp:Qt.now(),action:"payment_error",userId:A.uid||"",userName:A.displayName||A.email||"Администратор",note:`Ошибка инициализации платежа: ${Vr.error||"Unknown error"}`})})}catch(Sn){console.error("Error initializing payment:",Sn),await yn(bt(Re,"bookings",tr.id),{paymentStatus:"error",paymentError:Sn instanceof Error?Sn.message:"Ошибка при инициализации платежа",paymentHistory:Cp({timestamp:Qt.now(),action:"payment_error",userId:A.uid||"",userName:A.displayName||A.email||"Администратор",note:`Ошибка: ${Sn instanceof Error?Sn.message:"Unknown error"}`})})}}_({clientName:"",clientPhone:"+7",courtId:c.length>0?c[0].id:"",date:S(new Date),startTime:"10:00",duration:1,paymentMethod:"online"}),D(""),q([]),Ae(null),$(!1),j&&(j(),U(null));const Qs={id:tr.id,...as,date:is,courtName:pe.name,venueName:h,endTime:Va(w.startTime,Pn)};n(Qs)}catch(pe){console.error("Error creating booking:",pe),alert("Ошибка при создании бронирования: "+pe.message)}finally{p(!1)}};return e?s.jsx("div",{className:"modal active",onClick:ye=>{ye.target===ye.currentTarget&&t()},children:s.jsxs("div",{className:"modal-content",style:{maxWidth:"600px"},children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h2",{className:"modal-title",children:"Создать бронирование"}),s.jsx("button",{className:"modal-close",onClick:t,children:s.jsx(ih,{})})]}),s.jsx("div",{className:"modal-body",children:s.jsxs("form",{onSubmit:jt,children:[s.jsx("div",{style:{marginBottom:"24px",padding:"16px",background:"#f8f9fa",borderRadius:"8px"},children:Z?s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[s.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:"var(--primary)",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"600"},children:Z.name.substring(0,2).toUpperCase()}),s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx("span",{style:{fontWeight:"600"},children:Z.name}),s.jsx(Ho,{style:{fontSize:"16px",color:"var(--success)"}})]}),s.jsx("div",{style:{fontSize:"14px",color:"#6b7280"},children:Z.phone}),s.jsxs("div",{style:{fontSize:"12px",color:"#9ca3af"},children:[Z.bookingsCount," бронирований"]})]})]}),s.jsx("button",{type:"button",className:"btn btn-secondary",onClick:me,children:"Изменить"})]}):Q?s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px"},children:[s.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",margin:0},children:"Новый клиент"}),s.jsx("button",{type:"button",className:"btn btn-secondary btn-icon",onClick:()=>{$(!1),_(ye=>({...ye,clientName:"",clientPhone:"+7"})),D("")},style:{padding:"4px 8px",fontSize:"14px"},children:"Отмена"})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Имя клиента"}),s.jsx("input",{type:"text",className:"form-input",name:"clientName",value:w.clientName,onChange:We,disabled:u,placeholder:"Введите имя",required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Телефон"}),s.jsx("input",{type:"tel",className:"form-input",name:"clientPhone",value:w.clientPhone,onChange:We,disabled:u,placeholder:"+7 (___) ___-__-__",required:!0})]})]})]}):s.jsx("div",{children:s.jsxs("div",{className:"form-group",style:{marginBottom:0,position:"relative"},ref:ie,children:[s.jsx("label",{className:"form-label",children:"Поиск клиента"}),s.jsx("input",{type:"text",className:"form-input",placeholder:"Введите имя или телефон...",value:L,onChange:ye=>D(ye.target.value),disabled:u,onFocus:()=>L&&G(!0)}),(H||K.length>0)&&L&&V&&s.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,zIndex:1e3,marginTop:"4px",background:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",maxHeight:"240px",overflowY:"auto"},children:H?s.jsx("div",{style:{padding:"12px",textAlign:"center",color:"#6b7280"},children:"Поиск..."}):K.map(ye=>s.jsxs("div",{style:{padding:"12px",borderBottom:"1px solid #f3f4f6",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"12px"},onMouseEnter:fe=>{fe.currentTarget.style.backgroundColor="#f9fafb"},onMouseLeave:fe=>{fe.currentTarget.style.backgroundColor="white"},onClick:()=>we(ye),children:[s.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:"#e5e7eb",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:"600",flexShrink:0},children:ye.name.substring(0,2).toUpperCase()}),s.jsx("div",{style:{flex:1},children:s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:"600",fontSize:"14px"},children:ye.name}),s.jsx("div",{style:{fontSize:"13px",color:"#6b7280"},children:ye.phone})]}),s.jsxs("div",{style:{textAlign:"right"},children:[s.jsxs("div",{style:{fontSize:"12px",color:"#9ca3af"},children:[ye.bookingsCount," брон."]}),ye.lastVisit&&s.jsx("div",{style:{fontSize:"11px",color:"#9ca3af"},children:new Date(ye.lastVisit).toLocaleDateString("ru-RU")})]})]})})]},ye.id))}),L&&K.length===0&&!H&&V&&s.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,zIndex:1e3,marginTop:"4px",background:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",padding:"16px",textAlign:"center"},children:s.jsxs("button",{type:"button",className:"btn btn-primary",onClick:()=>{$(!0),G(!1);const ye=L.trim(),fe=/^[+]?[78]?[\d\s\-\(\)]+$/.test(ye)&&/\d/.test(ye)&&ye.replace(/\D/g,"").length>=6;_(fe?de=>({...de,clientPhone:ye}):de=>({...de,clientName:ye}))},style:{width:"100%"},children:[s.jsx(Y9,{fontSize:"small"}),"Создать нового клиента"]})})]})})}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginTop:"20px"},children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Корт"}),s.jsxs("select",{className:"form-select",name:"courtId",value:w.courtId,onChange:We,disabled:u,required:!0,children:[s.jsx("option",{value:"",children:"Выберите корт"}),c.map(ye=>s.jsx("option",{value:ye.id,children:ye.name},ye.id))]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Дата"}),s.jsx("input",{type:"date",className:"form-input",name:"date",value:w.date,onChange:We,disabled:u,required:!0})]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginTop:"20px"},children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Длительность"}),s.jsxs("select",{className:"form-select",name:"duration",value:w.duration,onChange:We,disabled:u,children:[s.jsx("option",{value:"0.5",children:"30 минут"}),s.jsx("option",{value:"1",children:"1 час"}),s.jsx("option",{value:"1.5",children:"1.5 часа"}),s.jsx("option",{value:"2",children:"2 часа"}),s.jsx("option",{value:"2.5",children:"2.5 часа"}),s.jsx("option",{value:"3",children:"3 часа"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Доступные интервалы"}),s.jsxs("select",{className:"form-select",name:"startTime",value:w.startTime,onChange:We,disabled:u,required:!0,children:[s.jsx("option",{value:"",children:P?"Загрузка...":"Выберите время"}),!P&&E.map(ye=>{const fe=Te(ye,w.duration,w.courtId),[de,Ue]=ye.split(":").map(Number),ve=de+Math.floor(w.duration),je=Ue+w.duration%1*60,pe=ve+Math.floor(je/60),Ee=je%60,Ze=`${String(pe).padStart(2,"0")}:${String(Ee).padStart(2,"0")}`,ze=Ie(ye,w.duration);return s.jsxs("option",{value:ye,disabled:fe,style:fe?{color:"#9CA3AF",backgroundColor:"#F3F4F6"}:{},children:[ye," - ",Ze," ",fe?"❌ ЗАНЯТО":` - ${ze.toLocaleString("ru-RU")}₽`]},ye)})]}),s.jsxs("div",{style:{marginTop:"6px",fontSize:"12px",color:"#6B7280",display:"flex",alignItems:"center",gap:"4px"},children:[s.jsx("svg",{width:"14",height:"14",viewBox:"0 0 20 20",fill:"none",children:s.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",fill:"#9CA3AF"})}),"Местное время клуба"]})]})]}),w.courtId&&ne.length>0&&s.jsxs("div",{className:"form-group",style:{marginTop:"20px"},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",marginBottom:"10px"},children:[s.jsx("input",{type:"checkbox",checked:re,onChange:ye=>{ge(ye.target.checked),ye.target.checked||be("")},style:{marginRight:"8px"},disabled:!!l}),s.jsx("span",{className:"form-label",style:{marginBottom:0},children:"Добавить тренера"})]}),re&&s.jsxs("select",{className:"form-select",value:le,onChange:ye=>be(ye.target.value),disabled:!!l||u,required:re,children:[s.jsx("option",{value:"",children:"Выберите тренера"}),ne.filter(ye=>{var ve;const fe=c.find(je=>je.id===w.courtId);if(!fe)return!1;const Ue={tennis:["tennis"],padel:["padel"],badminton:["badminton"],universal:["tennis","padel","badminton"]}[fe.type]||[];return(ve=ye.specialization)==null?void 0:ve.some(je=>Ue.includes(je))}).map(ye=>{var ve;let fe=!0,de="",Ue=0;if(w.date&&w.startTime){const je=new Date(w.date),pe=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][je.getDay()],Ee=(ve=ye.schedule)==null?void 0:ve[pe],[Ze,ze]=w.startTime.split(":").map(Number);if(Ue=Ze*60+ze,!(Ee!=null&&Ee.enabled))fe=!1,de="Выходной";else if(Ee.start&&Ee.end){const[dt,lt]=Ee.start.split(":").map(Number),[Ve,De]=Ee.end.split(":").map(Number),Qe=dt*60+lt,it=Ve*60+De,ct=Ue+w.duration*60;(Ue<Qe||ct>it)&&(fe=!1,de="Нерабочее время")}if(ye.status==="vacation"?(fe=!1,de="В отпуске"):ye.status==="inactive"&&(fe=!1,de="Неактивен"),fe&&ye.vacations&&ye.vacations.length>0){const dt=w.date;for(const lt of ye.vacations)if(lt.startDate&&lt.endDate&&dt>=lt.startDate&&dt<=lt.endDate){fe=!1,de=lt.reason||"Отпуск";break}}if(fe&&ye.blockedDates&&ye.blockedDates.includes(w.date)&&(fe=!1,de="Недоступен"),fe&&ue.length>0){const dt=ue.filter(lt=>lt.trainerId===ye.id);for(const lt of dt){const Ve=lt.time||"",De=parseFloat(lt.duration)||1,[Qe,it]=Ve.split(":").map(Number),ct=Qe*60+it,Gt=ct+De*60,Ht=Ue,St=Ue+w.duration*60;if(Ht>=ct&&Ht<Gt||St>ct&&St<=Gt||Ht<=ct&&St>=Gt){fe=!1,de="Занят";break}}}}return s.jsxs("option",{value:ye.id,disabled:!fe,style:fe?{}:{color:"#9CA3AF",backgroundColor:"#F3F4F6"},children:[ye.firstName," ",ye.lastName," - ",ye.pricePerHour,"₽/час",!fe&&` (${de})`]},ye.id)})]})]}),s.jsxs("div",{className:"form-group",style:{marginTop:"20px"},children:[s.jsx("label",{className:"form-label",children:"Способ оплаты"}),s.jsxs("select",{className:"form-select",name:"paymentMethod",value:w.paymentMethod,onChange:We,disabled:u,children:[N.cash&&s.jsx("option",{value:"cash",children:"Оплата в клубе наличными"}),N.card_on_site&&s.jsx("option",{value:"card_on_site",children:"Оплата в клубе картой"}),N.transfer&&s.jsx("option",{value:"transfer",children:"Перевод на р.счет клуба (юр.лицо)"}),N.sberbank_card&&s.jsx("option",{value:"sberbank_card",children:"На карту Сбербанка"}),N.tbank_card&&s.jsx("option",{value:"tbank_card",children:"На карту Т-Банка"}),N.vtb_card&&s.jsx("option",{value:"vtb_card",children:"На карту ВТБ"}),s.jsx("option",{value:"online",children:"Онлайн оплата (Автоматическое подтверждение оплаты, ссылка на оплату в смс и в МП)"})]}),w.paymentMethod&&s.jsx("div",{style:{marginTop:"8px",padding:"8px 12px",backgroundColor:w.paymentMethod==="online"?"rgba(239, 68, 68, 0.1)":w.paymentMethod==="transfer"||w.paymentMethod==="cash"||w.paymentMethod==="card_on_site"?"rgba(16, 185, 129, 0.1)":"rgba(245, 158, 11, 0.1)",borderRadius:"6px",fontSize:"13px",color:w.paymentMethod==="online"?"var(--danger)":w.paymentMethod==="transfer"||w.paymentMethod==="cash"||w.paymentMethod==="card_on_site"?"var(--success)":"var(--warning)"},children:w.paymentMethod==="online"?"⏱️ На оплату дается 15 минут. Статус меняется автоматически после оплаты.":w.paymentMethod==="transfer"||w.paymentMethod==="cash"||w.paymentMethod==="card_on_site"?"✓ Без ограничения по времени. Бронирование может ожидать оплату любое время.":w.paymentMethod==="sberbank_card"||w.paymentMethod==="tbank_card"||w.paymentMethod==="vtb_card"?"⏱️ На оплату дается 30 минут. Администратор должен подтвердить оплату.":""})]}),w.courtId&&w.duration&&w.startTime&&s.jsx("div",{style:{background:"var(--background)",padding:"20px",borderRadius:"8px",marginTop:"24px"},children:(()=>{const ye=c.find(Ve=>Ve.id===w.courtId);if(!ye)return null;const fe=Ie(w.startTime,w.duration),de=parseInt(w.startTime.split(":")[0]),Ue=new Date(w.date),ve=Ue.getDay()===0||Ue.getDay()===6,je=Ue.getDay(),Ee=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][je],Ze=w.duration>1?eZ(Ue,w.startTime,w.duration*60,ye.pricing,ye.holidayPricing,ye.priceWeekday,ye.priceWeekend):[];let ze=null,dt=0,lt=!1;if(ye.holidayPricing&&ye.holidayPricing.length>0){const Ve=String(Ue.getMonth()+1).padStart(2,"0"),De=String(Ue.getDate()).padStart(2,"0"),Qe=`${Ve}-${De}`,it=ye.holidayPricing.find(ct=>ct.date===Qe);it&&(lt=!0,dt=it.price,ze={isHoliday:!0})}if(!lt&&ye.pricing&&ye.pricing[Ee]){const Ve=ye.pricing[Ee];dt=Ve.basePrice,Ve.intervals&&(ze=Ve.intervals.find(De=>{const Qe=parseInt(De.from.split(":")[0]),it=parseInt(De.to.split(":")[0]);return de>=Qe&&de<it}),ze&&(dt=ze.price))}else lt||(dt=ye.pricePerHour||(ve?ye.priceWeekend:ye.priceWeekday)||0);return s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[w.duration>1&&Ze.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"var(--gray)"},children:"Детализация по часам:"}),Ze.map((Ve,De)=>s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"14px"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:Ve.time}),s.jsxs("span",{style:{fontWeight:"500"},children:[Ve.price.toLocaleString("ru-RU")," ₽"]})]},De))]}):s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("span",{style:{color:"var(--gray)"},children:ze?ze.isHoliday?s.jsx(s.Fragment,{children:"Праздничный день:"}):s.jsxs(s.Fragment,{children:["Особый тариф (",ze.from," - ",ze.to,"):"]}):s.jsx(s.Fragment,{children:"Стоимость за час:"})}),s.jsxs("span",{style:{fontWeight:"500"},children:[dt.toLocaleString("ru-RU")," ₽"]})]}),re&&le&&(()=>{const Ve=ne.find(Qe=>Qe.id===le),De=Ve?Math.round(Ve.pricePerHour*w.duration):0;return Ve?s.jsx(s.Fragment,{children:s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"12px",fontSize:"14px"},children:[s.jsxs("span",{style:{color:"var(--gray)"},children:["Тренер (",Ve.firstName," ",Ve.lastName,", ",w.duration,"ч):"]}),s.jsxs("span",{style:{fontWeight:"500"},children:[De.toLocaleString("ru-RU")," ₽"]})]})}):null})(),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingTop:"12px",borderTop:"1px solid var(--extra-light-gray)",marginTop:"4px"},children:[s.jsx("span",{style:{fontWeight:"600",fontSize:"18px"},children:"Итого:"}),s.jsxs("span",{style:{fontWeight:"700",fontSize:"20px",color:"var(--primary)"},children:[(()=>{const Ve=fe,De=re&&le?ne.find(ct=>ct.id===le):null,Qe=De?Math.round(De.pricePerHour*w.duration):0;return(Ve+Qe).toLocaleString("ru-RU")})()," ₽"]})]})]})})()}),s.jsxs("div",{className:"modal-footer",style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid var(--extra-light-gray)"},children:[s.jsx("button",{type:"button",className:"btn btn-secondary",onClick:t,disabled:u,children:"Отмена"}),s.jsx("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"Создание...":"Создать бронирование"})]})]})})]})}):null}function sZ(){const{admin:e,club:t}=er(),{isSuperAdmin:n,hasPermission:r}=Wr(),[i,a]=b.useState(null),[o,l]=b.useState("Europe/Moscow"),[A,c]=b.useState([]),[d,u]=b.useState([]),[p,h]=b.useState([]),[m,g]=b.useState([]),[y,x]=b.useState(!0),[C,S]=b.useState(()=>{const fe=new Date;return new Date(Date.UTC(fe.getFullYear(),fe.getMonth(),fe.getDate(),0,0,0,0))}),w=(e==null?void 0:e.role)==="trainer",[_,E]=b.useState(w?"trainer":"courts"),[T,F]=b.useState(w&&(e!=null&&e.trainerId)?e.trainerId:""),[M,P]=b.useState([]),[I,j]=b.useState({clientName:"",clientPhone:"",courtId:"",date:new Date().toISOString().split("T")[0],startTime:"10:00",duration:1.5,paymentMethod:"cash"}),[U,N]=b.useState([]),[z,L]=b.useState([]),[D,K]=b.useState(null),[q,Z]=b.useState(!1),[Ae,H]=b.useState(!1),[R,Q]=b.useState(null),[$,V]=b.useState(null),[G,ie]=b.useState(null),[ne,xe]=b.useState(null),[re,ge]=b.useState(null);b.useEffect(()=>(n?ue():e!=null&&e.venueId?(le(e.venueId),He(e.venueId),we(e.venueId),me(e.venueId),w&&e.trainerId&&(E("trainer"),F(e.trainerId))):x(!1),()=>{ge(fe=>(fe&&fe(),null))}),[e,n]),b.useEffect(()=>{n&&i?me(i):!n&&(e!=null&&e.venueId)&&me(e.venueId)},[C,i,e==null?void 0:e.venueId,n]),b.useEffect(()=>{const fe=nt(I.duration);N(fe),!fe.includes(I.startTime)&&fe.length>0&&j(de=>({...de,startTime:fe[0]}))},[I.duration,I.date,A,i,e==null?void 0:e.venueId]),b.useEffect(()=>{I.courtId&&I.date&&Ie()},[I.courtId,I.date]);const le=async fe=>{try{const de=await An(bt(Re,"venues",fe));if(de.exists()){const Ue={id:de.id,...de.data()};c([Ue])}}catch(de){console.error("Error fetching venue data:",de)}},be=async()=>{try{const de=(await $t(Et(Re,"venues"))).docs.map(Ue=>({id:Ue.id,...Ue.data()}));return c(de),de}catch(fe){return console.error("Error fetching venues:",fe),[]}},ue=async()=>{try{const fe=await be(),de=localStorage.getItem("selectedVenueId");if(de&&fe.length>0){const Ue=fe.find(ve=>ve.id===de);if(Ue){a(de);const ve=Ue.timezone||"Europe/Moscow";l(ve),console.log("Initialized with venue:",de,"timezone:",ve),He(de),we(de),me(de)}else x(!1)}else x(!1)}catch(fe){console.error("Error initializing venues:",fe),x(!1)}},ae=fe=>{a(fe),localStorage.setItem("selectedVenueId",fe);const de=A.find(Ue=>Ue.id===fe);if(de){const Ue=de.timezone||"Europe/Moscow";l(Ue),console.log("Selected venue timezone:",Ue)}He(fe),we(fe),me(fe)},He=async fe=>{if(fe)try{const de=Et(Re,"venues",fe,"courts"),ve=(await $t(de)).docs.map(je=>({id:je.id,...je.data()}));g(ve)}catch(de){console.error("Error fetching courts:",de)}},we=async fe=>{if(!fe){console.log("No venueId provided for fetching trainers");return}console.log("Fetching trainers for venue:",fe);try{const de=Vt(Et(Re,"trainers"),pt("clubId","==",fe)),Ue=await $t(de);console.log("Found trainers documents:",Ue.size);const ve=Ue.docs.map(pe=>({id:pe.id,...pe.data()}));console.log("All trainers:",ve);const je=ve.filter(pe=>pe.status==="active");je.sort((pe,Ee)=>(pe.firstName||"").localeCompare(Ee.firstName||"")),P(je),console.log("Active trainers:",je)}catch(de){console.error("Error fetching trainers:",de)}},me=async fe=>{if(fe){re&&(re(),ge(null));try{x(!0);let de;n?(de=o,console.log("fetchBookings for superadmin:"),console.log("- Using saved timezone:",de),console.log("- Selected venue ID:",fe),console.log("- Selected date:",C)):(de=(t==null?void 0:t.timezone)||"Europe/Moscow",console.log("fetchBookings for admin:"),console.log("- Using club timezone:",de),console.log("- Selected date:",C));const Ue=ck(C,de),ve=rY(C,de);console.log("Week boundaries:",{start:Ue.toISOString(),end:ve.toISOString(),startFormatted:new Intl.DateTimeFormat("en-CA",{timeZone:de,year:"numeric",month:"2-digit",day:"2-digit"}).format(Ue),endFormatted:new Intl.DateTimeFormat("en-CA",{timeZone:de,year:"numeric",month:"2-digit",day:"2-digit"}).format(ve)});const je=Vt(Et(Re,"bookings"),pt("venueId","==",fe)),pe=li(je,Ee=>{try{const Ze=Ee.docs.map(De=>{var Gt,Ht;const Qe=De.data(),it=Eg(Qe.date,de);let ct;return Qe.createdAt?(Gt=Qe.createdAt)!=null&&Gt.toDate&&typeof Qe.createdAt.toDate=="function"?ct=Qe.createdAt.toDate():(Ht=Qe.createdAt)!=null&&Ht.seconds&&typeof Qe.createdAt.seconds=="number"?ct=new Date(Qe.createdAt.seconds*1e3):Qe.createdAt instanceof Date?ct=Qe.createdAt:ct=new Date(Qe.createdAt):(console.log("Booking without createdAt:",De.id,"using current time as fallback"),ct=new Date),{...Qe,id:De.id,status:Qe.status||"pending",paymentStatus:Qe.paymentStatus||"awaiting_payment",venueId:Qe.venueId||"",courtId:Qe.courtId||"",startTime:Qe.startTime||"",endTime:Qe.endTime||"",customerName:Qe.customerName||"",customerPhone:Qe.customerPhone||"",amount:Qe.amount||Qe.totalPrice||0,date:it,createdAt:ct}}),lt=Ze.filter(De=>{if(!De||!De.date||!De.venueId)return console.warn("Invalid booking data:",De),!1;try{const Qe=new Date(De.date);return isNaN(Qe.getTime())?(console.warn("Invalid booking date:",De.date),!1):Qe>=Ue&&Qe<=ve&&De.venueId===fe}catch(Qe){return console.error("Error filtering booking:",De.id,Qe),!1}}).filter(De=>{if(!De||!De.id)return console.warn("Invalid booking for calendar:",De),!1;try{const Qe=De.status||"pending",it=De.paymentStatus||"awaiting_payment";return Qe!=="cancelled"&&it!=="cancelled"&&it!=="refunded"&&it!=="error"&&(Qe==="confirmed"||Qe==="pending"||it==="paid"||it==="awaiting_payment")}catch(Qe){return console.error("Error processing booking for calendar:",De.id,Qe),!1}}).sort((De,Qe)=>{try{const it=new Date(De.date||new Date);return new Date(Qe.date||new Date).getTime()-it.getTime()}catch(it){return console.error("Error sorting calendar bookings:",it),0}}),Ve=[...Ze].sort((De,Qe)=>{var Gt,Ht,St,Pn,Mt,gn,Nn,Kn;let it,ct;return De.createdAt instanceof Date?it=De.createdAt:(Gt=De.createdAt)!=null&&Gt.toDate?it=De.createdAt.toDate():(Ht=De.createdAt)!=null&&Ht.seconds?it=new Date(De.createdAt.seconds*1e3):typeof De.createdAt=="string"?it=new Date(De.createdAt):De.date instanceof Date?it=De.date:(St=De.date)!=null&&St.toDate?it=De.date.toDate():(Pn=De.date)!=null&&Pn.seconds?it=new Date(De.date.seconds*1e3):it=new Date(0),Qe.createdAt instanceof Date?ct=Qe.createdAt:(Mt=Qe.createdAt)!=null&&Mt.toDate?ct=Qe.createdAt.toDate():(gn=Qe.createdAt)!=null&&gn.seconds?ct=new Date(Qe.createdAt.seconds*1e3):typeof Qe.createdAt=="string"?ct=new Date(Qe.createdAt):Qe.date instanceof Date?ct=Qe.date:(Nn=Qe.date)!=null&&Nn.toDate?ct=Qe.date.toDate():(Kn=Qe.date)!=null&&Kn.seconds?ct=new Date(Qe.date.seconds*1e3):ct=new Date(0),ct.getTime()-it.getTime()});u(lt),h(Ve),x(!1)}catch(Ze){console.error("Error processing bookings snapshot:",Ze),x(!1),u([]),h([])}},Ee=>{var Ze;console.error("Error in bookings listener:",Ee),x(!1),(Ee.code==="unavailable"||(Ze=Ee.message)!=null&&Ze.includes("transport"))&&(console.log("Connection lost, will retry in 5 seconds..."),setTimeout(()=>{fe&&me(fe)},5e3))});ge(()=>pe)}catch(de){console.error("Error setting up bookings listener:",de),x(!1)}}},Ie=async()=>{if(!(!i&&!(e!=null&&e.venueId))&&!(!I.courtId||!I.date))try{const fe=Et(Re,"bookings"),de=Vt(fe,pt("venueId","==",i||(e==null?void 0:e.venueId)),pt("courtId","==",I.courtId),pt("date","==",Qt.fromDate(new Date(I.date)))),ve=(await $t(de)).docs.map(je=>({id:je.id,...je.data()}));L(ve)}catch(fe){console.error("Error fetching bookings:",fe)}},Te=fe=>{const de=new Date(C);de.setDate(C.getDate()+fe*7),S(de),console.log("Navigating week, direction:",fe),console.log("New date:",de),console.log("Selected venue ID:",i),console.log("Selected venue timezone:",o)},Oe=()=>{if(!C)return[];const fe=C.getFullYear(),de=C.getMonth(),Ue=C.getDate();let je=new Date(Date.UTC(fe,de,Ue,0,0,0)).getUTCDay();je=je===0?6:je-1;const pe=new Date(Date.UTC(fe,de,Ue-je,0,0,0)),Ee=[];for(let Ze=0;Ze<7;Ze++){const ze=new Date(Date.UTC(pe.getUTCFullYear(),pe.getUTCMonth(),pe.getUTCDate()+Ze,0,0,0,0));Ee.push(ze)}return Ee},qe=(fe,de,Ue)=>{if(!fe||!de||!Ue)return[];try{return d.filter(ve=>{var Gt;if(!ve||!ve.date)return!1;const je=ve.date instanceof Date?ve.date:(Gt=ve.date)!=null&&Gt.toDate?ve.date.toDate():new Date(ve.date),pe=o||clubTimezone||"Europe/Moscow",Ee=`${je.getUTCFullYear()}-${String(je.getUTCMonth()+1).padStart(2,"0")}-${String(je.getUTCDate()).padStart(2,"0")}`,Ze=`${fe.getUTCFullYear()}-${String(fe.getUTCMonth()+1).padStart(2,"0")}-${String(fe.getUTCDate()).padStart(2,"0")}`;if(!je||!fe||Ee!==Ze||ve.courtId!==Ue)return!1;const ze=ve.startTime||ve.time,dt=ve.endTime;if(!ze)return!1;const[lt,Ve]=de.split(":").map(Number),De=lt*60+Ve,[Qe,it]=ze.split(":").map(Number),ct=Qe*60+it;if(dt){const[Ht,St]=dt.split(":").map(Number),Pn=Ht*60+St;return De>=ct&&De<Pn}else if(ve.duration){const Ht=ct+ve.duration*60;return De>=ct&&De<Ht}else return ze===de})}catch(ve){return console.error("Error in getBookingsForSlot:",ve,{date:fe,time:de,courtId:Ue}),[]}},nt=fe=>{var lt;const de=A.find(Ve=>Ve.id===(i||(e==null?void 0:e.venueId))),Ue=I.date?new Date(I.date).getDay()===0||new Date(I.date).getDay()===6:!1,ve=((lt=de==null?void 0:de.workingHours)==null?void 0:lt[Ue?"weekend":"weekday"])||(Ue?"08:00-22:00":"07:00-23:00"),[je,pe]=ve.split("-"),[Ee]=je.split(":").map(Number),[Ze]=pe.split(":").map(Number),ze=[],dt=Ze-fe;for(let Ve=Ee;Ve<=dt;Ve+=.5){const De=Math.floor(Ve),Qe=Ve%1*60,it=`${String(De).padStart(2,"0")}:${String(Qe).padStart(2,"0")}`;Ve+fe<=Ze&&ze.push(it)}return ze},ht=(fe,de)=>{const ve=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][fe.getDay()];let je=null,pe=null;if(de!=null&&de.workingHours){const Ee=de.workingHours[ve];if(Ee){if(typeof Ee=="string"&&Ee.includes("-")){const[Ze,ze]=Ee.split("-").map(dt=>dt.trim());Ze&&ze&&(je=parseInt(Ze.split(":")[0]),pe=parseInt(ze.split(":")[0]))}else if(Ee.open&&Ee.close){const[Ze]=Ee.open.split(":").map(Number),[ze]=Ee.close.split(":").map(Number);je=Ze,pe=ze}}else{const Ze=fe.getDay()===0||fe.getDay()===6,ze=de.workingHours[Ze?"weekend":"weekday"];if(ze&&typeof ze=="string"&&ze.includes("-")){const[dt,lt]=ze.split("-").map(Ve=>Ve.trim());dt&&lt&&(je=parseInt(dt.split(":")[0]),pe=parseInt(lt.split(":")[0]))}}}return je!==null&&pe!==null?{startHour:je,endHour:pe}:{startHour:8,endHour:22}},rt=()=>{const fe=[],de=A.find(pe=>pe.id===(i||(e==null?void 0:e.venueId)));let Ue=24,ve=0;Oe().forEach(pe=>{const{startHour:Ee,endHour:Ze}=ht(pe,de);Ue=Math.min(Ue,Ee),ve=Math.max(ve,Ze)});for(let pe=Ue;pe<ve;pe++)fe.push(`${pe.toString().padStart(2,"0")}:00`);return fe},ot=b.useMemo(()=>rt(),[A,i,e==null?void 0:e.venueId,I.date]),At=Oe(),We=["Пн","Вт","Ср","Чт","Пт","Сб","Вс"],jt=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"];if(y)return s.jsx("div",{children:"Загрузка..."});if(!w&&!r(["manage_bookings","manage_all_bookings","view_bookings"]))return s.jsxs(nn,{severity:"error",children:[s.jsx("strong",{children:"Доступ запрещен"}),s.jsx("br",{}),"У вас недостаточно прав для просмотра бронирований."]});if(n&&!i)return s.jsx("div",{children:s.jsxs("div",{className:"section-card",children:[s.jsx("div",{className:"section-header",children:s.jsx("h2",{className:"section-title",children:"Выберите клуб"})}),s.jsxs("div",{className:"form-group",style:{maxWidth:"400px"},children:[s.jsx("label",{className:"form-label",children:"Клуб"}),s.jsxs("select",{className:"form-select",value:i||"",onChange:fe=>ae(fe.target.value),children:[s.jsx("option",{value:"",children:"Выберите клуб для управления"}),A.map(fe=>s.jsx("option",{value:fe.id,children:fe.name},fe.id))]}),s.jsx("p",{className:"form-hint",children:"Выберите клуб для просмотра календаря и создания бронирований"})]})]})});const ye=!w&&r(["manage_bookings","manage_all_bookings","create_bookings"]);return s.jsx(dd,{permission:["manage_bookings","manage_all_bookings","view_bookings"],allowTrainer:!0,children:s.jsxs("div",{children:[n&&s.jsx("div",{className:"section-card",style:{marginBottom:"24px"},children:s.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[s.jsx("label",{className:"form-label",children:"Управление клубом"}),s.jsxs("select",{className:"form-select",value:i||"",onChange:fe=>ae(fe.target.value),style:{maxWidth:"400px"},children:[s.jsx("option",{value:"",children:"Выберите клуб"}),A.map(fe=>s.jsx("option",{value:fe.id,children:fe.name},fe.id))]})]})}),s.jsxs("div",{className:"section-card",children:[s.jsxs("div",{className:"calendar-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[s.jsx("h2",{className:"section-title",children:"Календарь бронирований"}),s.jsxs("div",{className:"calendar-nav",style:{display:"flex",alignItems:"center",gap:"16px"},children:[s.jsx("button",{onClick:()=>Te(-1),style:{width:"32px",height:"32px",border:"1px solid var(--extra-light-gray)",background:"var(--white)",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx(L9,{})}),s.jsxs("span",{style:{fontWeight:"600",minWidth:"150px",textAlign:"center"},children:[jt[C.getMonth()]," ",C.getFullYear()]}),s.jsx("button",{onClick:()=>Te(1),style:{width:"32px",height:"32px",border:"1px solid var(--extra-light-gray)",background:"var(--white)",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx(M9,{})}),s.jsx("button",{onClick:()=>{const fe=new Date;S(new Date(Date.UTC(fe.getFullYear(),fe.getMonth(),fe.getDate(),0,0,0,0)))},style:{padding:"6px 12px",border:"1px solid var(--extra-light-gray)",background:"var(--white)",borderRadius:"6px",cursor:"pointer",fontSize:"14px",marginLeft:"16px"},children:"Сегодня"})]})]}),!w&&s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"16px",padding:"12px",background:"#f9fafb",borderRadius:"8px"},children:[s.jsxs("div",{style:{display:"flex",gap:"8px"},children:[s.jsx("button",{onClick:()=>{E("courts"),F("")},style:{padding:"8px 16px",border:"1px solid",borderColor:_==="courts"?"var(--primary)":"var(--extra-light-gray)",background:_==="courts"?"var(--primary)":"white",color:_==="courts"?"white":"var(--text-secondary)",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:_==="courts"?"600":"400"},children:"По кортам"}),s.jsx("button",{onClick:()=>E("trainer"),style:{padding:"8px 16px",border:"1px solid",borderColor:_==="trainer"?"var(--primary)":"var(--extra-light-gray)",background:_==="trainer"?"var(--primary)":"white",color:_==="trainer"?"white":"var(--text-secondary)",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:_==="trainer"?"600":"400"},children:"По тренеру"})]}),_==="trainer"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{width:"1px",height:"24px",background:"var(--extra-light-gray)"}}),s.jsxs("select",{value:T,onChange:fe=>F(fe.target.value),style:{padding:"8px 12px",border:"1px solid var(--extra-light-gray)",borderRadius:"6px",background:"white",fontSize:"14px",minWidth:"200px"},children:[s.jsx("option",{value:"",children:"Выберите тренера"}),M.map(fe=>s.jsxs("option",{value:fe.id,children:[fe.firstName," ",fe.lastName]},fe.id))]})]})]}),w&&s.jsx("div",{style:{marginBottom:"16px",padding:"12px",background:"#f0fdf4",borderRadius:"8px",border:"1px solid #86efac"},children:s.jsx("span",{style:{fontSize:"14px",color:"#166534"},children:"Показан календарь ваших бронирований"})}),_==="courts"&&m.length>0&&s.jsxs("div",{style:{display:"flex",gap:"16px",marginTop:"16px",marginBottom:"8px",flexWrap:"wrap"},children:[s.jsx("div",{style:{fontSize:"12px",color:"var(--gray)",fontWeight:"600"},children:"Корты:"}),m.map((fe,de)=>s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"12px"},children:[s.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"3px",backgroundColor:fe.color||"#00A86B",border:"1px solid rgba(0, 0, 0, 0.1)"}}),s.jsx("span",{children:fe.name}),de<m.length-1&&s.jsx("span",{style:{color:"var(--extra-light-gray)",marginLeft:"4px"},children:"|"})]},fe.id))]}),_==="courts"&&s.jsxs("div",{className:"calendar-grid",style:{display:"grid",gridTemplateColumns:"60px repeat(7, 1fr)",gap:"1px",background:"var(--extra-light-gray)",border:"1px solid var(--extra-light-gray)",borderRadius:"8px",overflow:"hidden"},children:[s.jsx("div",{style:{background:"var(--white)",padding:"12px"}}),(At||[]).map((fe,de)=>s.jsxs("div",{className:"day-header",style:{fontWeight:"600",textAlign:"center",background:"var(--background)",padding:"12px"},children:[We[de]," ",fe?fe.getDate():""]},de)),(ot||[]).map(fe=>s.jsxs(mn.Fragment,{children:[s.jsx("div",{className:"time-slot",style:{fontSize:"12px",color:"var(--gray)",textAlign:"center",padding:"8px",background:"var(--white)"},children:fe||""}),(At||[]).map((de,Ue)=>s.jsx("div",{className:"booking-slot-container",style:{display:"flex",flexDirection:"column",minHeight:`${Math.max(60,m.length*40)}px`,background:"var(--white)",border:"1px solid var(--extra-light-gray)",borderRadius:"4px",overflow:"hidden"},children:(m||[]).map((ve,je)=>{const pe=de&&fe&&(ve!=null&&ve.id)?qe(de,fe,ve.id)[0]:null;o||clubTimezone;const Ee=R&&$&&de&&`${de.getUTCFullYear()}-${String(de.getUTCMonth()+1).padStart(2,"0")}-${String(de.getUTCDate()).padStart(2,"0")}`==`${R.getUTCFullYear()}-${String(R.getUTCMonth()+1).padStart(2,"0")}-${String(R.getUTCDate()).padStart(2,"0")}`&&fe===$&&I.courtId===ve.id,Ze=ne&&de&&`${de.getUTCFullYear()}-${String(de.getUTCMonth()+1).padStart(2,"0")}-${String(de.getUTCDate()).padStart(2,"0")}`==`${ne.date.getUTCFullYear()}-${String(ne.date.getUTCMonth()+1).padStart(2,"0")}-${String(ne.date.getUTCDate()).padStart(2,"0")}`&&fe===ne.time&&ne.courtId===ve.id,ze=A.find(Qe=>Qe.id===(i||(e==null?void 0:e.venueId))),{startHour:dt,endHour:lt}=ht(de,ze),Ve=parseInt(fe.split(":")[0]),De=Ve<dt||Ve>=lt;return s.jsxs("div",{className:"court-slot",style:{flex:1,position:"relative",cursor:De&&!pe?"not-allowed":"pointer",minHeight:"40px",background:De&&!pe?"repeating-linear-gradient(45deg, #f3f4f6, #f3f4f6 10px, #e5e7eb 10px, #e5e7eb 20px)":pe?(()=>{const Qe=pe.paymentStatus||"awaiting_payment";let it="#9CA3AF";Qe==="awaiting_payment"?it="#F59E0B":Qe==="paid"?it="#10B981":Qe==="cancelled"||Qe==="refunded"?it="#EF4444":Qe==="error"?it="#DC2626":Qe==="not_required"?it="#6B7280":Qe==="expired"&&(it="#374151");const ct=parseInt(it.slice(1,3),16),Gt=parseInt(it.slice(3,5),16),Ht=parseInt(it.slice(5,7),16);return`rgba(${ct}, ${Gt}, ${Ht}, 0.15)`})():Ee?"rgba(0, 168, 107, 0.2)":Ze?"rgba(0, 168, 107, 0.05)":"transparent",padding:"4px 8px",borderTop:je>0?"1px solid var(--extra-light-gray)":"none",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:()=>{!pe&&!De&&xe({date:de,time:fe,courtId:ve.id})},onMouseLeave:()=>{xe(null)},onClick:()=>{if(pe)K(pe),Z(!0);else{const Qe=A.find(Ht=>Ht.id===(i||(e==null?void 0:e.venueId))),{startHour:it,endHour:ct}=ht(de,Qe),Gt=parseInt(fe.split(":")[0]);if(Gt<it||Gt>=ct){alert(`Клуб не работает в это время. Режим работы: ${it}:00 - ${ct}:00`);return}Q(de),V(fe),ie(ve.id),j(Ht=>({...Ht,courtId:ve.id})),H(!0)}},children:[!pe&&(Ze||Ee)&&s.jsxs("div",{style:{fontSize:"11px",color:ve.color||"var(--primary)",fontWeight:"600",textAlign:"center",display:"flex",alignItems:"center",gap:"4px",justifyContent:"center"},children:[ve.color&&s.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"2px",backgroundColor:ve.color,flexShrink:0}}),ve.name]}),pe&&s.jsxs("div",{style:{fontSize:"10px",width:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[s.jsxs("div",{style:{fontWeight:"600",color:"var(--dark)",display:"flex",alignItems:"center",gap:"4px"},children:[(ve==null?void 0:ve.color)&&s.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"2px",backgroundColor:ve.color,flexShrink:0}}),(pe==null?void 0:pe.clientName)||(pe==null?void 0:pe.customerName)||"Клиент"]}),((pe==null?void 0:pe.clientPhone)||(pe==null?void 0:pe.customerPhone))&&s.jsx("div",{style:{color:"var(--gray)",fontSize:"9px",marginTop:"1px"},children:pe.clientPhone||pe.customerPhone}),(pe==null?void 0:pe.trainerName)&&s.jsxs("div",{style:{color:(()=>{const Qe=M.find(it=>it.id===pe.trainerId);return(Qe==null?void 0:Qe.color)||"var(--primary)"})(),fontSize:"9px",marginTop:"1px",fontWeight:"500"},children:["Тренер: ",pe.trainerName]})]})]},ve.id)})},`${fe||"unknown"}-${Ue}`))]},fe))]}),_==="trainer"&&T&&s.jsx("div",{children:(()=>{var de;const fe=M.find(Ue=>Ue.id===T);return fe?s.jsxs(s.Fragment,{children:[s.jsxs("div",{style:{padding:"16px",background:"#f9fafb",borderRadius:"8px",marginBottom:"16px",display:"flex",alignItems:"center",gap:"16px"},children:[s.jsxs("div",{style:{width:"48px",height:"48px",borderRadius:"50%",backgroundColor:fe.color||"#00A86B",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:"18px"},children:[fe.firstName[0],fe.lastName[0]]}),s.jsxs("div",{children:[s.jsxs("h3",{style:{margin:0},children:[fe.firstName," ",fe.lastName]}),s.jsxs("p",{style:{margin:0,color:"#6B7280",fontSize:"14px"},children:[(de=fe.specialization)==null?void 0:de.join(", ")," • ",fe.pricePerHour,"₽/час"]})]})]}),s.jsxs("div",{className:"calendar-grid",style:{display:"grid",gridTemplateColumns:"60px repeat(7, 1fr)",gap:"1px",background:"var(--extra-light-gray)",border:"1px solid var(--extra-light-gray)",borderRadius:"8px",overflow:"hidden"},children:[s.jsx("div",{style:{background:"var(--white)",padding:"12px"}}),(At||[]).map((Ue,ve)=>s.jsxs("div",{className:"day-header",style:{fontWeight:"600",textAlign:"center",background:"var(--background)",padding:"12px"},children:[We[ve]," ",Ue?Ue.getDate():""]},ve)),(ot||[]).map(Ue=>s.jsxs(mn.Fragment,{children:[s.jsx("div",{className:"time-slot",style:{fontSize:"12px",color:"var(--gray)",textAlign:"center",padding:"8px",background:"var(--white)"},children:Ue||""}),(At||[]).map((ve,je)=>{var Qe;const pe=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][ve.getDay()],Ee=(Qe=fe.schedule)==null?void 0:Qe[pe],Ze=!(Ee!=null&&Ee.enabled);let ze=!1;if(Ee!=null&&Ee.enabled&&Ee.start&&Ee.end){const[it]=Ue.split(":").map(Number),[ct]=Ee.start.split(":").map(Number),[Gt]=Ee.end.split(":").map(Number);ze=it<ct||it>=Gt}const dt=d.find(it=>it.trainerId===fe.id&&it.date instanceof Date&&ve instanceof Date&&`${it.date.getUTCFullYear()}-${String(it.date.getUTCMonth()+1).padStart(2,"0")}-${String(it.date.getUTCDate()).padStart(2,"0")}`==`${ve.getUTCFullYear()}-${String(ve.getUTCMonth()+1).padStart(2,"0")}-${String(ve.getUTCDate()).padStart(2,"0")}`&&it.startTime<=Ue&&it.endTime>Ue&&it.status!=="cancelled"),lt=m.length>0&&m.every(it=>d.some(ct=>ct.courtId===it.id&&ct.date instanceof Date&&ve instanceof Date&&`${ct.date.getUTCFullYear()}-${String(ct.date.getUTCMonth()+1).padStart(2,"0")}-${String(ct.date.getUTCDate()).padStart(2,"0")}`==`${ve.getUTCFullYear()}-${String(ve.getUTCMonth()+1).padStart(2,"0")}-${String(ve.getUTCDate()).padStart(2,"0")}`&&ct.startTime<=Ue&&ct.endTime>Ue&&ct.status!=="cancelled")),Ve=Ze||ze||fe.status==="vacation",De=!!dt;return s.jsx("div",{onClick:()=>{w&&De&&dt?(K(dt),Z(!0)):!Ve&&!De&&!lt&&ye&&(Q(ve),V(Ue),H(!0))},style:{background:Ve?"#E5E7EB":De?"#10B981":lt?"#9CA3AF":"white",color:De?"white":Ve||lt?"#6B7280":"#374151",padding:"8px",minHeight:"60px",cursor:w&&De?"pointer":Ve||De||lt?"not-allowed":"pointer",position:"relative",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",transition:"all 0.2s",...!Ve&&!De&&!lt?{":hover":{background:"#F3F4F6",border:"1px solid #10B981"}}:{}},onMouseEnter:it=>{!Ve&&!De&&!lt&&(it.currentTarget.style.background="#F3F4F6",it.currentTarget.style.border="1px solid #10B981")},onMouseLeave:it=>{!Ve&&!De&&!lt&&(it.currentTarget.style.background="white",it.currentTarget.style.border="none")},children:Ve?s.jsx("span",{style:{fontSize:"11px"},children:Ze?"Выходной":ze?"Нерабочее время":"Недоступно"}):De?s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{style:{fontSize:"12px",fontWeight:"600"},children:dt.clientName}),s.jsx("div",{style:{fontSize:"10px",marginTop:"2px"},children:dt.courtName})]}):lt?s.jsx("span",{style:{fontSize:"11px",color:"white"},children:"Корты заняты"}):s.jsx("span",{style:{fontSize:"11px",color:"#10B981"},children:"Свободно"})},`${Ue}-${je}`)})]},Ue))]})]}):s.jsx("div",{children:"Тренер не найден"})})()}),_==="trainer"&&!T&&s.jsx("div",{style:{padding:"48px",textAlign:"center",background:"#f9fafb",borderRadius:"8px"},children:s.jsx("p",{style:{fontSize:"18px",color:"#6B7280"},children:"Выберите тренера для просмотра его расписания"})})]}),!w&&s.jsx(ZJ,{venueId:i||(e==null?void 0:e.venueId)||"",bookings:p,onRefresh:()=>me(i||(e==null?void 0:e.venueId)||""),clubTimezone:n?o:(t==null?void 0:t.timezone)||"Europe/Moscow"}),s.jsx(_k,{booking:D,isOpen:q,onClose:()=>{Z(!1),K(null)},onUpdate:()=>me(i||(e==null?void 0:e.venueId)||""),clubTimezone:n?o:(t==null?void 0:t.timezone)||"Europe/Moscow"}),s.jsx(rZ,{isOpen:Ae,onClose:()=>{H(!1),Q(null),V(null),ie(null),j(fe=>({...fe,courtId:""}))},onSuccess:fe=>{H(!1),Q(null),V(null),ie(null),j(de=>({...de,courtId:""})),me(i||(e==null?void 0:e.venueId)||""),fe&&(K(fe),Z(!0))},venueId:i||(e==null?void 0:e.venueId)||"",preSelectedDate:R||void 0,preSelectedTime:$||void 0,preSelectedCourtId:G||void 0,preSelectedTrainerId:_==="trainer"?T:void 0})]})})}function iZ(){var z;const{admin:e}=er(),{isSuperAdmin:t}=Wr(),[n,r]=b.useState(null),[i,a]=b.useState([]),[o,l]=b.useState(!0),[A,c]=b.useState(""),[d,u]=b.useState(null),[p,h]=b.useState([]),[m,g]=b.useState(!1),[y,x]=b.useState(null),[C,S]=b.useState({day:"",month:""});b.useEffect(()=>{if(t){const L=localStorage.getItem("selectedVenueId");L?(r(L),_(L)):l(!1)}else e!=null&&e.venueId&&_(e.venueId)},[e,t]);const w=L=>{r(L),localStorage.setItem("selectedVenueId",L),L&&_(L)},_=async L=>{const D=L||(e==null?void 0:e.venueId);if(D)try{l(!0);const K=Vt(Et(Re,"bookings"),pt("venueId","==",D),gc(1e3)),q=await $t(K),Z=new Map;q.docs.forEach(H=>{var ie,ne,xe;const R=H.data(),Q=R.customerPhone||R.clientPhone,$=R.customerName||R.clientName;if(!Q||!$)return;const V=Q,G=R.status!=="cancelled";if(Z.has(V)){const re=Z.get(V);if(re.name=$,R.userId&&R.userId.trim()!==""&&(re.hasApp=!0),G){re.bookingsCount++,re.totalSpent+=R.amount||R.totalPrice||R.price||0;const ge=(ie=R.date)!=null&&ie.toDate?R.date.toDate():new Date(R.date);(!re.lastVisit||ge>re.lastVisit)&&(re.lastVisit=ge)}}else{const re=(ne=R.date)!=null&&ne.toDate?R.date.toDate():new Date(R.date),ge=(xe=R.createdAt)!=null&&xe.toDate?R.createdAt.toDate():new Date(R.createdAt||new Date);Z.set(V,{id:V,name:$,phone:Q,email:R.customerEmail||R.clientEmail,bookingsCount:G?1:0,lastVisit:G?re:void 0,totalSpent:G&&(R.amount||R.totalPrice||R.price)||0,hasApp:R.userId&&R.userId.trim()!==""||R.paymentMethod==="app"||R.paymentMethod==="mobile",venueId:D,createdAt:ge})}});const Ae=Array.from(Z.values()).sort((H,R)=>H.lastVisit?R.lastVisit?R.lastVisit.getTime()-H.lastVisit.getTime():-1:1);a(Ae)}catch(K){console.error("Error fetching customers:",K)}finally{l(!1)}},E=i.filter(L=>L.name.toLowerCase().includes(A.toLowerCase())||L.phone.includes(A)),T=L=>L.split(" ").map(D=>D[0]).join("").toUpperCase().slice(0,2),F=L=>{const D=["var(--primary)","var(--padel)","var(--badminton)","var(--tennis)"],K=L.charCodeAt(0)%D.length;return D[K]},M=L=>{if(!L)return"Нет данных";const K=Math.abs(new Date().getTime()-L.getTime()),q=Math.ceil(K/(1e3*60*60*24));return q===0?"Сегодня":q===1?"Вчера":q<7?`${q} дней назад`:q<30?`${Math.floor(q/7)} недель назад`:L.toLocaleDateString("ru-RU")},P=L=>{const[D,K]=L.split("-"),q=["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек"];return`${parseInt(K)} ${q[parseInt(D)-1]}`},I=L=>{x(L),S({day:"",month:""})},j=async()=>{if(!y||!C.day||!C.month)return;const L=`${C.month.padStart(2,"0")}-${C.day.padStart(2,"0")}`;a(D=>D.map(K=>K.id===y?{...K,birthday:L}:K)),x(null),S({day:"",month:""})},U=()=>{const L=[["Имя","Телефон","Количество бронирований","Потрачено","Последний визит"].join(","),...E.map(q=>{var Z;return[q.name,q.phone,q.bookingsCount,q.totalSpent,((Z=q.lastVisit)==null?void 0:Z.toLocaleDateString("ru-RU"))||""].join(",")})].join(`
`),D=new Blob([L],{type:"text/csv;charset=utf-8;"}),K=document.createElement("a");K.href=URL.createObjectURL(D),K.download=`customers_${new Date().toISOString().split("T")[0]}.csv`,K.click()},N=async L=>{const D=i.find(K=>K.id===L);if(D)try{g(!0),u(L);const K=t?n:e==null?void 0:e.venueId;if(!K)return;const q=Vt(Et(Re,"bookings"),pt("venueId","==",K),gc(100)),Z=await $t(q),Ae=[];Z.docs.forEach(R=>{var V;const Q=R.data();(Q.customerPhone||Q.clientPhone)===D.phone&&Ae.push({id:R.id,date:(V=Q.date)!=null&&V.toDate?Q.date.toDate():new Date(Q.date),courtName:Q.courtName||"Корт",startTime:Q.startTime,endTime:Q.endTime,amount:Q.amount||Q.totalPrice||Q.price||0,status:Q.status||"confirmed",paymentStatus:Q.paymentStatus})});const H=Ae.sort((R,Q)=>Q.date.getTime()-R.date.getTime());h(H)}catch(K){console.error("Error loading customer history:",K)}finally{g(!1)}};return o?s.jsx("div",{children:"Загрузка..."}):t&&!n?s.jsx(uA,{title:"Выберите клуб для просмотра клиентов"}):s.jsxs("div",{children:[t&&s.jsx(dA,{selectedVenueId:n,onVenueChange:w}),s.jsxs("div",{className:"section-card",children:[s.jsxs("div",{className:"section-header",children:[s.jsx("h2",{className:"section-title",children:"База клиентов"}),s.jsxs("div",{style:{display:"flex",gap:"12px"},children:[s.jsx("input",{type:"search",className:"form-input",placeholder:"Поиск по имени или телефону",style:{width:"300px"},value:A,onChange:L=>c(L.target.value)}),s.jsx("button",{className:"btn btn-secondary",onClick:()=>_(t?n:e==null?void 0:e.venueId),title:"Обновить список клиентов",children:"🔄"}),s.jsxs("button",{className:"btn btn-secondary",onClick:U,children:[s.jsx(O9,{fontSize:"small"}),"Экспорт"]})]})]}),s.jsxs("div",{style:{padding:"12px 16px",background:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)",borderLeft:"3px solid var(--primary)",marginBottom:"16px",borderRadius:"4px"},children:[s.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:s.jsx("span",{style:{fontSize:"14px",fontWeight:"600",color:"var(--dark)"},children:"📊 Ограничения тарифа"})}),s.jsxs("p",{style:{fontSize:"13px",color:"var(--gray)",margin:0},children:["В бесплатном тарифе доступно отображение до ",s.jsx("strong",{children:"1000 клиентов"}),". Всего найдено: ",s.jsx("strong",{children:i.length})," клиентов.",i.length>=1e3&&s.jsx("span",{style:{color:"var(--warning)",marginLeft:"8px"},children:"⚠️ Достигнут лимит отображения"})]})]}),s.jsx("div",{className:"table-wrapper",children:s.jsxs("table",{children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Клиент"}),s.jsx("th",{children:"Телефон"}),s.jsx("th",{children:"Бронирований"}),s.jsx("th",{children:"Потрачено"}),s.jsx("th",{children:s.jsxs("div",{children:["Последний визит",s.jsx("div",{style:{fontSize:"11px",fontWeight:"normal",color:"var(--gray)",marginTop:"2px"},children:"Последнее не отмененное бронирование"})]})}),s.jsx("th",{children:"День рождения"}),s.jsx("th",{children:"Статус в приложении"}),s.jsx("th",{children:"Действия"})]})}),s.jsx("tbody",{children:E.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:8,style:{textAlign:"center",padding:"48px",color:"var(--gray)"},children:"Клиенты не найдены"})}):E.map(L=>s.jsxs("tr",{children:[s.jsx("td",{children:s.jsxs("div",{className:"customer-info",style:{display:"flex",alignItems:"center",gap:"12px"},children:[s.jsx("div",{className:"customer-avatar",style:{width:"40px",height:"40px",borderRadius:"50%",background:F(L.name),color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"600",fontSize:"16px"},children:T(L.name)}),s.jsx("div",{children:s.jsx("div",{className:"customer-name",style:{fontWeight:"600",color:"var(--dark)"},children:L.name})})]})}),s.jsx("td",{children:L.phone}),s.jsx("td",{children:L.bookingsCount}),s.jsxs("td",{children:[L.totalSpent.toLocaleString("ru-RU"),"₽"]}),s.jsx("td",{children:M(L.lastVisit)}),s.jsx("td",{children:L.birthday?s.jsx("span",{children:P(L.birthday)}):s.jsx("button",{className:"btn btn-link",style:{padding:"4px 8px",fontSize:"12px"},onClick:()=>I(L.id),children:"Добавить"})}),s.jsx("td",{children:L.hasApp?s.jsx("span",{style:{color:"var(--success)"},children:"✅ Установлено"}):s.jsx("span",{style:{color:"var(--warning)"},children:"📱 Не установлено"})}),s.jsx("td",{children:s.jsxs("button",{className:"btn btn-secondary",onClick:()=>N(L.id),title:"История бронирований",children:[s.jsx(gj,{fontSize:"small"}),"История"]})})]},L.id))})]})})]}),s.jsxs("div",{className:"section-card",children:[s.jsx("h2",{className:"section-title",children:"Статистика по клиентам"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"24px"},children:[s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{style:{fontSize:"32px",fontWeight:"700",color:"var(--primary)"},children:i.length}),s.jsx("div",{style:{color:"var(--gray)",fontSize:"14px"},children:"Всего клиентов"})]}),s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{style:{fontSize:"32px",fontWeight:"700",color:"var(--primary)"},children:i.filter(L=>L.hasApp).length}),s.jsx("div",{style:{color:"var(--gray)",fontSize:"14px"},children:"С приложением"})]}),s.jsxs("div",{style:{textAlign:"center"},children:[s.jsxs("div",{style:{fontSize:"32px",fontWeight:"700",color:"var(--primary)"},children:[i.length>0?Math.round(i.filter(L=>L.hasApp).length/i.length*100):0,"%"]}),s.jsx("div",{style:{color:"var(--gray)",fontSize:"14px"},children:"Конверсия в приложение"})]}),s.jsxs("div",{style:{textAlign:"center"},children:[s.jsxs("div",{style:{fontSize:"32px",fontWeight:"700",color:"var(--primary)"},children:[i.reduce((L,D)=>L+D.totalSpent,0).toLocaleString("ru-RU"),"₽"]}),s.jsx("div",{style:{color:"var(--gray)",fontSize:"14px"},children:"Общий доход"})]})]})]}),d&&s.jsx("div",{className:`modal ${d?"active":""}`,children:s.jsxs("div",{className:"modal-content",style:{maxWidth:"800px"},children:[s.jsxs("div",{className:"modal-header",children:[s.jsxs("h3",{className:"modal-title",children:["История бронирований: ",(z=i.find(L=>L.id===d))==null?void 0:z.name]}),s.jsx("button",{className:"modal-close",onClick:()=>{u(null),h([])},children:s.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),s.jsxs("div",{className:"modal-body",children:[m?s.jsx("div",{style:{textAlign:"center",padding:"48px"},children:"Загрузка истории..."}):p.length===0?s.jsx("div",{style:{textAlign:"center",padding:"48px",color:"var(--gray)"},children:"История бронирований пуста"}):s.jsx("div",{className:"table-wrapper",children:s.jsxs("table",{children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Дата и время"}),s.jsx("th",{children:"Корт"}),s.jsx("th",{children:"Сумма"}),s.jsx("th",{children:"Статус"})]})}),s.jsx("tbody",{children:p.map(L=>s.jsxs("tr",{children:[s.jsxs("td",{children:[L.date.toLocaleDateString("ru-RU")," ",L.startTime," - ",L.endTime]}),s.jsx("td",{children:L.courtName}),s.jsxs("td",{children:[L.amount.toLocaleString("ru-RU"),"₽"]}),s.jsx("td",{children:s.jsx("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"12px",background:L.status==="confirmed"?"rgba(16, 185, 129, 0.1)":"rgba(245, 158, 11, 0.1)",color:L.status==="confirmed"?"var(--success)":"var(--warning)"},children:L.status==="confirmed"?"Подтверждено":L.status==="cancelled"?"Отменено":"В ожидании"})})]},L.id))})]})}),s.jsx("div",{style:{marginTop:"24px",padding:"16px",background:"var(--background)",borderRadius:"8px"},children:s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px",textAlign:"center"},children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:"700",fontSize:"18px"},children:p.length}),s.jsx("div",{style:{fontSize:"14px",color:"var(--gray)"},children:"Всего бронирований"})]}),s.jsxs("div",{children:[s.jsxs("div",{style:{fontWeight:"700",fontSize:"18px"},children:[p.reduce((L,D)=>L+D.amount,0).toLocaleString("ru-RU"),"₽"]}),s.jsx("div",{style:{fontSize:"14px",color:"var(--gray)"},children:"Общая сумма"})]}),s.jsxs("div",{children:[s.jsxs("div",{style:{fontWeight:"700",fontSize:"18px"},children:[p.length>0?Math.round(p.reduce((L,D)=>L+D.amount,0)/p.length).toLocaleString("ru-RU"):0,"₽"]}),s.jsx("div",{style:{fontSize:"14px",color:"var(--gray)"},children:"Средний чек"})]})]})})]})]})}),y&&s.jsx("div",{className:"modal active",children:s.jsxs("div",{className:"modal-content",style:{maxWidth:"400px"},children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h3",{className:"modal-title",children:"Добавить день рождения"}),s.jsx("button",{className:"modal-close",onClick:()=>{x(null),S({day:"",month:""})},children:s.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),s.jsxs("div",{className:"modal-body",children:[s.jsx("p",{style:{marginBottom:"20px",color:"var(--gray)"},children:"Укажите день и месяц рождения клиента (год не требуется)"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"День"}),s.jsx("input",{type:"number",className:"form-input",placeholder:"1-31",min:"1",max:"31",value:C.day,onChange:L=>S(D=>({...D,day:L.target.value}))})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Месяц"}),s.jsxs("select",{className:"form-select",value:C.month,onChange:L=>S(D=>({...D,month:L.target.value})),children:[s.jsx("option",{value:"",children:"Выберите месяц"}),s.jsx("option",{value:"01",children:"Январь"}),s.jsx("option",{value:"02",children:"Февраль"}),s.jsx("option",{value:"03",children:"Март"}),s.jsx("option",{value:"04",children:"Апрель"}),s.jsx("option",{value:"05",children:"Май"}),s.jsx("option",{value:"06",children:"Июнь"}),s.jsx("option",{value:"07",children:"Июль"}),s.jsx("option",{value:"08",children:"Август"}),s.jsx("option",{value:"09",children:"Сентябрь"}),s.jsx("option",{value:"10",children:"Октябрь"}),s.jsx("option",{value:"11",children:"Ноябрь"}),s.jsx("option",{value:"12",children:"Декабрь"})]})]})]}),s.jsxs("div",{style:{marginTop:"24px",display:"flex",gap:"12px",justifyContent:"flex-end"},children:[s.jsx("button",{className:"btn btn-secondary",onClick:()=>{x(null),S({day:"",month:""})},children:"Отмена"}),s.jsx("button",{className:"btn btn-primary",onClick:j,disabled:!C.day||!C.month,children:"Сохранить"})]})]})]})})]})}function aZ(){const e=rs();return s.jsxs($l,{maxWidth:"lg",sx:{py:8},children:[s.jsxs(Ne,{textAlign:"center",mb:6,children:[s.jsx(J,{variant:"h2",component:"h1",gutterBottom:!0,children:"Sports Booking"}),s.jsx(J,{variant:"h5",color:"text.secondary",gutterBottom:!0,children:"Система бронирования спортивных кортов"}),s.jsx(J,{variant:"body1",color:"text.secondary",sx:{maxWidth:600,mx:"auto"},children:"Мобильное приложение для клиентов и веб-панель управления для клубов"})]}),s.jsxs(ft,{container:!0,spacing:4,mb:6,children:[s.jsx(ft,{item:!0,xs:12,md:6,children:s.jsx(on,{children:s.jsxs(ln,{sx:{p:4,textAlign:"center"},children:[s.jsx(J9,{sx:{fontSize:60,color:"primary.main",mb:2}}),s.jsx(J,{variant:"h5",gutterBottom:!0,children:"Для клиентов"}),s.jsx(J,{variant:"body1",color:"text.secondary",mb:3,children:"Скачайте мобильное приложение для бронирования кортов, поиска партнеров и оплаты"}),s.jsxs(Ne,{display:"flex",gap:2,justifyContent:"center",flexWrap:"wrap",children:[s.jsx(Pt,{variant:"outlined",disabled:!0,children:"App Store"}),s.jsx(Pt,{variant:"outlined",disabled:!0,children:"Google Play"})]})]})})}),s.jsx(ft,{item:!0,xs:12,md:6,children:s.jsx(on,{children:s.jsxs(ln,{sx:{p:4,textAlign:"center"},children:[s.jsx(d$,{sx:{fontSize:60,color:"primary.main",mb:2}}),s.jsx(J,{variant:"h5",gutterBottom:!0,children:"Для клубов"}),s.jsx(J,{variant:"body1",color:"text.secondary",mb:3,children:"Веб-панель управления для администраторов спортивных клубов"}),s.jsx(Pt,{variant:"contained",size:"large",onClick:()=>e("/admin/login"),children:"Войти в админ-панель"})]})})})]}),s.jsxs($n,{sx:{p:4,textAlign:"center"},children:[s.jsx(Nx,{sx:{fontSize:80,color:"primary.main",mb:2}}),s.jsx(J,{variant:"h5",gutterBottom:!0,children:"QR-код для клиентов"}),s.jsx(J,{variant:"body1",color:"text.secondary",mb:3,children:"Разместите этот QR-код в вашем клубе, чтобы клиенты могли скачать приложение"}),s.jsx(Ne,{sx:{maxWidth:200,height:200,mx:"auto",bgcolor:"grey.100",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:2},children:s.jsx(J,{color:"text.secondary",children:"QR-код приложения"})})]})]})}function oZ({email:e,size:t="small"}){const[n,r]=b.useState(!1),[i,a]=b.useState(null),o=async()=>{r(!0);try{await oI(Ss,e),a({type:"success",text:`Ссылка для сброса пароля отправлена на ${e}`})}catch(l){console.error("Error sending password reset email:",l),a({type:"error",text:"Ошибка при отправке письма. Попробуйте позже."})}finally{r(!1)}};return s.jsxs(s.Fragment,{children:[s.jsx(Pt,{variant:"outlined",size:t,startIcon:n?s.jsx(Hr,{size:16}):s.jsx(G9,{}),onClick:o,disabled:n,children:"Сбросить пароль"}),s.jsx(dj,{open:!!i,autoHideDuration:6e3,onClose:()=>a(null),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:i&&s.jsx(nn,{onClose:()=>a(null),severity:i.type,sx:{width:"100%"},children:i.text})})]})}const lZ=[{value:"manage_bookings",label:"Управление бронированиями"},{value:"manage_courts",label:"Управление кортами"},{value:"manage_club",label:"Управление клубом"},{value:"manage_admins",label:"Управление администраторами клуба"},{value:"view_reports",label:"Просмотр отчетов"},{value:"view_bookings",label:"Просмотр бронирований"},{value:"create_bookings",label:"Создание бронирований"},{value:"manage_finance",label:"Управление финансами клуба"}],$v={superadmin:["manage_all_venues","manage_all_bookings","manage_all_users","manage_platform_settings","view_all_reports","manage_finance","manage_admins"],admin:["manage_bookings","manage_courts","manage_club","manage_admins","manage_finance","view_reports","create_bookings"],manager:["view_bookings","create_bookings","view_reports"]};function AZ(){const{isSuperAdmin:e}=Wr(),[t,n]=b.useState([]),[r,i]=b.useState([]),[a,o]=b.useState(!0),[l,A]=b.useState(!1),[c,d]=b.useState(null),[u,p]=b.useState({name:"",email:"",password:"",role:"manager",venueId:"",permissions:[]}),[h,m]=b.useState("");b.useEffect(()=>{g()},[]);const g=async()=>{try{const E=await $t(Et(Re,"admins")),T=[];for(const P of E.docs){const I=P.data();let j="";if(I.venueId){const U=await $t(Vt(Et(Re,"venues"),pt("__name__","==",I.venueId)));U.empty||(j=U.docs[0].data().name)}T.push({id:P.id,name:I.name,email:I.email,password:I.password,role:I.role,venueId:I.venueId,venueName:j,permissions:I.permissions||[]})}n(T);const M=(await $t(Et(Re,"venues"))).docs.map(P=>({id:P.id,name:P.data().name}));i(M),o(!1)}catch(E){console.error("Error loading data:",E),o(!1)}},y=E=>{E?(d(E),p({name:E.name,email:E.email,password:"",role:E.role,venueId:E.venueId||"",permissions:E.permissions})):(d(null),p({name:"",email:"",password:"",role:"admin",venueId:"",permissions:$v.admin})),A(!0),m("")},x=()=>{A(!1),d(null),m("")},C=E=>{p({...u,role:E,permissions:$v[E]})},S=E=>{const T=u.permissions.includes(E)?u.permissions.filter(F=>F!==E):[...u.permissions,E];p({...u,permissions:T})},w=async()=>{try{if(m(""),c){const E={name:u.name,role:u.role,venueId:u.venueId||null,permissions:u.permissions,updatedAt:new Date};await yn(bt(Re,"admins",c.id),E)}else{if(!u.password){m("Пароль обязателен для нового администратора");return}const E=await d5(Ss,u.email,u.password);await wa(Et(Re,"admins"),{uid:E.user.uid,name:u.name,email:u.email,role:u.role,venueId:u.venueId||null,permissions:u.permissions,createdAt:new Date,updatedAt:new Date})}x(),g()}catch(E){console.error("Error saving admin:",E),E.code==="auth/email-already-in-use"?m("Пользователь с таким email уже существует"):E.code==="auth/weak-password"?m("Пароль должен содержать минимум 6 символов"):m("Ошибка при сохранении администратора")}},_=async E=>{const T=t.find(M=>M.id===E);if(!T)return;const F=`Вы уверены, что хотите удалить администратора ${T.name} (${T.email})?`;if(confirm(F))try{await Yc(bt(Re,"admins",E)),await g(),alert(`Администратор ${T.name} успешно удален`)}catch(M){console.error("Error deleting admin:",M),alert("Ошибка при удалении администратора")}};return a?s.jsx(Ne,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:s.jsx(Hr,{})}):s.jsx(dd,{role:"superadmin",children:s.jsxs(Ne,{children:[s.jsx(nn,{severity:"info",sx:{mb:3},children:"Данный раздел доступен только суперадминистраторам системы"}),s.jsxs(Ne,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[s.jsx("h2",{children:"Управление администраторами"}),s.jsx(Pt,{variant:"contained",startIcon:s.jsx(Ad,{}),onClick:()=>y(),children:"Добавить администратора"})]}),s.jsx(Uh,{component:$n,children:s.jsxs(_h,{children:[s.jsx(Lh,{children:s.jsxs(Ia,{children:[s.jsx(Zt,{children:"Имя"}),s.jsx(Zt,{children:"Email"}),s.jsx(Zt,{children:"Роль"}),s.jsx(Zt,{children:"Клуб"}),s.jsx(Zt,{align:"right",children:"Действия"})]})}),s.jsx(Dh,{children:t.map(E=>s.jsxs(Ia,{children:[s.jsx(Zt,{children:E.name}),s.jsx(Zt,{children:E.email}),s.jsx(Zt,{children:s.jsx(Pi,{label:E.role,color:E.role==="superadmin"?"error":E.role==="admin"?"primary":"default",size:"small"})}),s.jsx(Zt,{children:E.venueName||"-"}),s.jsx(Zt,{align:"right",children:E.role!=="superadmin"&&s.jsxs(s.Fragment,{children:[s.jsx(oZ,{email:E.email}),s.jsx(Ls,{onClick:()=>y(E),children:s.jsx(il,{})}),e&&s.jsx(Ls,{onClick:()=>_(E.id),color:"error",children:s.jsx(AA,{})})]})})]},E.id))})]})}),s.jsxs(lo,{open:l,onClose:x,maxWidth:"sm",fullWidth:!0,children:[s.jsx(rl,{children:c?"Редактировать администратора":"Добавить администратора"}),s.jsxs(Ao,{children:[h&&s.jsx(nn,{severity:"error",sx:{mb:2},children:h}),s.jsx(Dt,{fullWidth:!0,label:"Имя",value:u.name,onChange:E=>p({...u,name:E.target.value}),margin:"normal"}),s.jsx(Dt,{fullWidth:!0,label:"Email",type:"email",value:u.email,onChange:E=>p({...u,email:E.target.value}),margin:"normal",disabled:!!c}),!c&&s.jsx(Dt,{fullWidth:!0,label:"Пароль",type:"password",value:u.password,onChange:E=>p({...u,password:E.target.value}),margin:"normal",required:!0}),s.jsxs(eo,{fullWidth:!0,margin:"normal",children:[s.jsx(sl,{children:"Роль"}),s.jsxs(co,{value:u.role,onChange:E=>C(E.target.value),children:[s.jsx(Jn,{value:"admin",children:"Администратор"}),s.jsx(Jn,{value:"manager",children:"Менеджер"})]})]}),s.jsxs(eo,{fullWidth:!0,margin:"normal",children:[s.jsx(sl,{children:"Клуб"}),s.jsxs(co,{value:u.venueId,onChange:E=>p({...u,venueId:E.target.value}),children:[s.jsx(Jn,{value:"",children:"Не выбран"}),r.map(E=>s.jsx(Jn,{value:E.id,children:E.name},E.id))]})]}),s.jsxs(eo,{component:"fieldset",margin:"normal",children:[s.jsx(sj,{component:"legend",children:"Права доступа"}),s.jsx(rj,{children:lZ.map(E=>s.jsx(ds,{control:s.jsx(Nl,{checked:u.permissions.includes(E.value),onChange:()=>S(E.value),disabled:$v[u.role].includes(E.value)}),label:E.label},E.value))})]})]}),s.jsxs(nl,{children:[s.jsx(Pt,{onClick:x,children:"Отмена"}),s.jsx(Pt,{onClick:w,variant:"contained",children:c?"Сохранить":"Создать"})]})]})]})})}const ua={start:{name:"СТАРТ",price:0,pricePerCourt:0,limits:{maxCourts:2,maxBookingsPerMonth:-1,smsEmailNotifications:-1,customDesign:!1,apiAccess:!1,multiVenue:!1,searchPriority:0,abTesting:!1,trainersModule:!0,personalManager:!1},features:["До 2 кортов бесплатно","Неограниченные бронирования","Email-уведомления без ограничений","SMS-уведомления от 6₽ за сообщение","Управление расписанием","Онлайн-оплата (свой эквайринг)","Белый лейбл (логотип клуба)","Push-уведомления в приложении","Мобильное приложение для клиентов","Финансовая отчетность","QR-коды для бронирований","Аккаунты для тренеров с расписанием","Персональный менеджер на 3 месяца"]},standard:{name:"СТАНДАРТ",price:990,pricePerCourt:990,limits:{maxCourts:-1,maxBookingsPerMonth:-1,smsEmailNotifications:500,customDesign:!1,apiAccess:!1,multiVenue:!1,searchPriority:10,abTesting:!1,trainersModule:!0,personalManager:!1},features:["990₽ за корт в месяц","От 1 корта (без ограничений)","🎁 Первые 3 месяца бесплатно","Неограниченные бронирования","SMS/Email уведомления (500 шт/месяц на клуб)","Расширенная аналитика и отчеты","Управление ценами и скидками","Маркетинг - промокоды, акции и рассылки","CRM система для работы с клиентской базой","Экспорт данных в Excel и PDF","Приоритет в поиске (+10%)"]},pro:{name:"ПРОФИ",price:1990,pricePerCourt:1990,limits:{maxCourts:-1,maxBookingsPerMonth:-1,smsEmailNotifications:-1,customDesign:!0,apiAccess:!0,multiVenue:!0,searchPriority:30,abTesting:!1,trainersModule:!0,personalManager:!0},features:["1,990₽ за корт в месяц","От 1 корта (без ограничений)","SMS/Email уведомления без ограничений","Белый лейбл PRO (кастомизация дизайна приложения)","API доступ для интеграций","Мультиплощадки (управление сетью)","Приоритет в поиске (+30%)","Модуль абонементов и пакетов","Модуль тренеров и расписания","Персональный менеджер навсегда"]},premium:{name:"ПРЕМИУМ",price:-1,limits:{maxCourts:-1,maxBookingsPerMonth:-1,smsEmailNotifications:-1,customDesign:!0,apiAccess:!0,multiVenue:!0,searchPriority:50,abTesting:!0,trainersModule:!0,personalManager:!0},features:["Все функции ПРОФИ","Т-Банк Мультирасчеты","Кастомные интеграции","Выделенный сервер","SLA гарантии","Приоритетная разработка функций","Выделенный менеджер 24/7"]}};function cZ(){const e=rs(),{isSuperAdmin:t}=Wr(),{admin:n}=er(),[r,i]=b.useState([]),[a,o]=b.useState(!0),[l,A]=b.useState(null),[c,d]=b.useState(!1),[u,p]=b.useState(""),[h,m]=b.useState(null),[g,y]=b.useState(!1),[x,C]=b.useState(null),[S,w]=b.useState(!1),[_,E]=b.useState({name:"",address:"",city:"",phone:"",email:"",description:"",organizationType:"ИП",inn:"",bankAccount:""});b.useEffect(()=>{T()},[]);const T=async()=>{try{const N=await $t(Et(Re,"venues")),z=await Promise.all(N.docs.map(async L=>{var Ae,H,R,Q,$,V;const D=L.data();D.location&&D.location._lat!==void 0&&(D.location={latitude:D.location._lat,longitude:D.location._long});const K=Vt(Et(Re,"subscriptions"),pt("venueId","==",L.id),pt("status","in",["active","trial"])),q=await $t(K);let Z=null;if(!q.empty){const G=q.docs[0].data();Z={id:q.docs[0].id,...G,startDate:(Ae=G.startDate)==null?void 0:Ae.toDate(),endDate:(H=G.endDate)==null?void 0:H.toDate(),trialEndDate:(R=G.trialEndDate)==null?void 0:R.toDate(),nextBillingDate:(Q=G.nextBillingDate)==null?void 0:Q.toDate(),usage:{...G.usage,lastUpdated:(V=($=G.usage)==null?void 0:$.lastUpdated)==null?void 0:V.toDate()}}}return{id:L.id,...D,subscription:Z}}));i(z),o(!1)}catch(N){console.error("Error loading venues:",N),o(!1)}},F=N=>{localStorage.setItem("selectedVenueId",N.id),e("/admin/club")},M=async N=>{try{const z=N.status==="active"?"inactive":"active";await yn(bt(Re,"venues",N.id),{status:z,updatedAt:new Date}),T()}catch(z){console.error("Error updating venue status:",z)}},P=async N=>{try{const z=Vt(Et(Re,"admins"),pt("venueId","==",N)),L=await $t(z);if(!L.empty){const q=L.size,Z=L.docs.map(Ae=>{const H=Ae.data();return`- ${H.name} (${H.email}) - ${H.role==="admin"?"Администратор":"Менеджер"}`}).join(`
`);alert(`Невозможно удалить клуб!

В клубе есть ${q} сотрудник(ов):
${Z}

Сначала удалите всех сотрудников клуба в разделе "Администраторы".`);return}const D=r.find(q=>q.id===N);if(!D)return;const K=`Вы уверены, что хотите удалить клуб "${D.name}"?

Это действие необратимо и удалит:
- Все данные клуба
- Все корты
- Все бронирования
- Всю историю`;confirm(K)&&(await Yc(bt(Re,"venues",N)),await T(),alert(`Клуб "${D.name}" успешно удален`))}catch(z){console.error("Error deleting venue:",z),alert("Ошибка при удалении клуба")}},I=N=>`https://allcourt.ru/club/${N}`,j=N=>{const z=I(N);navigator.clipboard.writeText(z),m(N),setTimeout(()=>m(null),2e3)},U=N=>{C(N),y(!0)};return a?s.jsx(Ne,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:s.jsx(Hr,{})}):s.jsxs(dd,{role:"superadmin",children:[s.jsxs(Ne,{children:[s.jsx(nn,{severity:"info",sx:{mb:3},children:"Данный раздел доступен только суперадминистраторам системы"}),s.jsxs(Ne,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[s.jsx(J,{variant:"h5",component:"h2",children:"Управление клубами"}),s.jsx(Pt,{variant:"contained",startIcon:s.jsx(Ad,{}),onClick:()=>w(!0),children:"Добавить клуб"})]}),r.length===0?s.jsx(nn,{severity:"info",children:"Клубы не найдены. Создайте первый клуб для начала работы."}):s.jsx(ft,{container:!0,spacing:3,children:r.map(N=>{var z,L;return s.jsx(ft,{item:!0,xs:12,md:6,lg:4,children:s.jsxs(on,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[s.jsxs(ln,{sx:{flexGrow:1},children:[s.jsxs(Ne,{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2,children:[s.jsx(J,{variant:"h6",component:"h3",children:N.name}),s.jsx(Pi,{label:N.status==="active"?"Активен":"Неактивен",color:N.status==="active"?"success":"default",size:"small"})]}),s.jsxs(Ne,{display:"flex",alignItems:"center",gap:1,mb:1,children:[s.jsx(V9,{fontSize:"small",color:"action"}),s.jsx(J,{variant:"body2",color:"text.secondary",children:N.address})]}),N.city&&s.jsx(Ne,{display:"flex",alignItems:"center",gap:1,mb:1,children:s.jsx(J,{variant:"body2",color:"text.secondary",sx:{ml:3},children:N.city})}),N.location?s.jsx(Ne,{display:"flex",alignItems:"center",gap:1,mb:1,children:s.jsxs(J,{variant:"body2",color:"text.secondary",sx:{ml:3,fontSize:"0.75rem"},children:["📍 ",(z=N.location.latitude)==null?void 0:z.toFixed(6),", ",(L=N.location.longitude)==null?void 0:L.toFixed(6)]})}):s.jsx(Ne,{display:"flex",alignItems:"center",gap:1,mb:1,children:s.jsx(J,{variant:"body2",color:"warning.main",sx:{ml:3,fontSize:"0.75rem",fontStyle:"italic"},children:"⚠️ Координаты не указаны"})}),s.jsxs(Ne,{display:"flex",alignItems:"center",gap:1,mb:1,children:[s.jsx(E1,{fontSize:"small",color:"action"}),s.jsx(J,{variant:"body2",color:"text.secondary",children:N.phone})]}),s.jsxs(Ne,{display:"flex",alignItems:"center",gap:1,children:[s.jsx(k1,{fontSize:"small",color:"action"}),s.jsx(J,{variant:"body2",color:"text.secondary",children:N.email})]}),N.description&&s.jsx(J,{variant:"body2",color:"text.secondary",mt:2,children:N.description}),N.status==="pending"&&s.jsxs(Ne,{sx:{mt:2,p:1.5,bgcolor:"warning.light",borderRadius:1},children:[s.jsxs(Ne,{display:"flex",alignItems:"center",gap:1,mb:1,children:[s.jsx(rA,{fontSize:"small",color:"warning"}),s.jsx(J,{variant:"subtitle2",color:"warning.dark",children:"Ожидает модерации"})]}),s.jsx(Pt,{variant:"contained",size:"small",color:"success",onClick:async()=>{var D;try{await yn(bt(Re,"venues",N.id),{status:"active",moderatedAt:new Date,moderatedBy:((D=Ss.currentUser)==null?void 0:D.uid)||"superadmin"}),T()}catch(K){console.error("Error activating venue:",K)}},children:"Активировать клуб"})]}),N.status==="active"&&t&&s.jsxs(Ne,{sx:{mt:2,p:1.5,bgcolor:"success.light",borderRadius:1},children:[s.jsxs(Ne,{display:"flex",alignItems:"center",gap:1,mb:1,children:[s.jsx(Fm,{fontSize:"small",color:"success"}),s.jsx(J,{variant:"subtitle2",color:"success.dark",children:"Активный клуб"})]}),s.jsx(Pt,{variant:"outlined",size:"small",color:"warning",onClick:async()=>{if(window.confirm("Вы уверены, что хотите отправить клуб на модерацию? Это заблокирует возможность бронирования."))try{await yn(bt(Re,"venues",N.id),{status:"pending",moderatedAt:null,moderatedBy:null}),T()}catch(D){console.error("Error deactivating venue:",D)}},children:"Отправить на модерацию"})]}),s.jsxs(Ne,{sx:{mt:2,p:1.5,bgcolor:"background.default",borderRadius:1},children:[s.jsxs(Ne,{display:"flex",alignItems:"center",gap:1,mb:.5,children:[s.jsx(fj,{fontSize:"small",color:"primary"}),s.jsxs(J,{variant:"subtitle2",color:"primary",children:["Тариф: ",N.subscription&&ua[N.subscription.plan]?ua[N.subscription.plan].name:"Не определен"]})]}),N.subscription&&ua[N.subscription.plan]&&s.jsx(J,{variant:"caption",color:"text.secondary",children:ua[N.subscription.plan].price===0?"Бесплатный":ua[N.subscription.plan].pricePerCourt?`${ua[N.subscription.plan].pricePerCourt.toLocaleString("ru-RU")} ₽/корт в месяц`:`${ua[N.subscription.plan].price.toLocaleString("ru-RU")} ₽/мес`}),!N.subscription&&s.jsxs(J,{variant:"caption",color:"warning.main",children:[s.jsx(rA,{fontSize:"small",sx:{verticalAlign:"middle",mr:.5}}),"Требуется настройка подписки"]})]}),s.jsxs(Ne,{sx:{mt:2,p:1.5,bgcolor:"background.default",borderRadius:1},children:[s.jsxs(Ne,{display:"flex",alignItems:"center",gap:1,mb:1,children:[s.jsx(K9,{fontSize:"small",color:"action"}),s.jsx(J,{variant:"caption",color:"text.secondary",children:"Ссылка для клиентов:"})]}),s.jsxs(Ne,{display:"flex",alignItems:"center",gap:1,children:[s.jsx(J,{variant:"caption",sx:{flex:1,fontFamily:"monospace",wordBreak:"break-all",p:.5,bgcolor:"white",borderRadius:.5},children:I(N.id)}),s.jsx(qw,{title:h===N.id?"Скопировано!":"Копировать ссылку",children:s.jsx(Ls,{size:"small",onClick:()=>j(N.id),color:h===N.id?"success":"default",children:h===N.id?s.jsx(Ho,{fontSize:"small"}):s.jsx(pj,{fontSize:"small"})})}),s.jsx(qw,{title:"Показать QR код",children:s.jsx(Ls,{size:"small",onClick:()=>U(N),children:s.jsx(Nx,{fontSize:"small"})})})]})]})]}),s.jsxs(gQ,{sx:{flexWrap:"wrap",gap:.5},children:[s.jsx(Pt,{size:"small",onClick:()=>F(N),startIcon:s.jsx(il,{fontSize:"small"}),children:"Редактировать"}),s.jsx(Pt,{size:"small",onClick:()=>M(N),children:N.status==="active"?"Деактивировать":"Активировать"}),s.jsx(Ls,{size:"small",color:"error",onClick:()=>P(N.id),children:s.jsx(AA,{})})]})]})},N.id)})})]}),s.jsxs(lo,{open:g,onClose:()=>y(!1),maxWidth:"sm",children:[s.jsxs(rl,{children:["QR код для ",x==null?void 0:x.name]}),s.jsx(Ao,{children:s.jsxs(Ne,{sx:{textAlign:"center",p:2},children:[s.jsx(pg,{value:x?I(x.id):"",size:256,level:"H",includeMargin:!0}),s.jsx(J,{variant:"body2",color:"text.secondary",sx:{mt:2},children:"Клиенты могут отсканировать этот QR код для бронирования"}),s.jsx(Si,{sx:{my:2}}),s.jsx(J,{variant:"caption",sx:{fontFamily:"monospace"},children:x&&I(x.id)})]})}),s.jsxs(nl,{children:[s.jsx(Pt,{onClick:()=>y(!1),children:"Закрыть"}),s.jsx(Pt,{variant:"contained",onClick:()=>{x&&j(x.id)},children:"Копировать ссылку"})]})]}),s.jsxs(lo,{open:S,onClose:()=>w(!1),maxWidth:"md",fullWidth:!0,children:[s.jsx(rl,{children:"Добавить новый клуб"}),s.jsxs(Ao,{children:[u&&s.jsx(nn,{severity:"error",sx:{mb:2},children:u}),s.jsxs(Ne,{sx:{mt:2,display:"flex",flexDirection:"column",gap:2},children:[s.jsx(Dt,{label:"Название клуба",value:_.name,onChange:N=>E({..._,name:N.target.value}),fullWidth:!0,required:!0}),s.jsx(Dt,{label:"Адрес",value:_.address,onChange:N=>E({..._,address:N.target.value}),fullWidth:!0,required:!0}),s.jsx(Dt,{label:"Город",value:_.city,onChange:N=>E({..._,city:N.target.value}),fullWidth:!0,required:!0}),s.jsx(Dt,{label:"Телефон",value:_.phone,onChange:N=>E({..._,phone:N.target.value}),fullWidth:!0,required:!0,placeholder:"+7 (900) 123-45-67"}),s.jsx(Dt,{label:"Email",value:_.email,onChange:N=>E({..._,email:N.target.value}),fullWidth:!0,required:!0,type:"email"}),s.jsx(Dt,{label:"Описание",value:_.description,onChange:N=>E({..._,description:N.target.value}),fullWidth:!0,multiline:!0,rows:3}),s.jsxs(eo,{fullWidth:!0,children:[s.jsx(sl,{children:"Форма организации"}),s.jsxs(co,{value:_.organizationType,onChange:N=>E({..._,organizationType:N.target.value}),label:"Форма организации",children:[s.jsx(Jn,{value:"ИП",children:"ИП"}),s.jsx(Jn,{value:"ООО",children:"ООО"}),s.jsx(Jn,{value:"Самозанятый",children:"Самозанятый"})]})]}),s.jsx(Dt,{label:"ИНН",value:_.inn,onChange:N=>E({..._,inn:N.target.value}),fullWidth:!0}),s.jsx(Dt,{label:"Расчетный счет",value:_.bankAccount,onChange:N=>E({..._,bankAccount:N.target.value}),fullWidth:!0})]})]}),s.jsxs(nl,{children:[s.jsx(Pt,{onClick:()=>{w(!1),p(""),E({name:"",address:"",city:"",phone:"",email:"",description:"",organizationType:"ИП",inn:"",bankAccount:""})},children:"Отмена"}),s.jsx(Pt,{onClick:async()=>{try{if(!_.name||!_.address||!_.city||!_.phone||!_.email){p("Заполните все обязательные поля");return}const N=Vt(Et(Re,"venues"),pt("email","==",_.email));if(!(await $t(N)).empty){p("Клуб с таким email уже существует");return}const L={name:_.name,address:_.address,city:_.city,phone:_.phone,email:_.email,description:_.description||"",organizationType:_.organizationType,inn:_.inn||"",bankAccount:_.bankAccount||"",status:"pending",createdAt:new Date,updatedAt:new Date,logoUrl:"",amenities:[],location:null,moderatedAt:null,moderatedBy:null,courts:[],workingHours:{weekday:{start:"07:00",end:"23:00"},weekend:{start:"08:00",end:"22:00"}}};if(!Ss.currentUser){p("Необходимо авторизоваться");return}if(!t){p("Только суперадминистратор может создавать клубы");return}console.log("Creating venue with data:",L),console.log("Firebase auth current user:",Ss.currentUser);const D=await wa(Et(Re,"venues"),L);console.log("Venue created with ID:",D.id),await wa(Et(Re,"subscriptions"),{venueId:D.id,plan:"start",status:"active",startDate:new Date,endDate:null,createdAt:new Date,updatedAt:new Date,usage:{courtsCount:0,bookingsThisMonth:0,smsEmailsSent:0,lastUpdated:new Date}}),await wa(Et(Re,"admins"),{name:"Администратор",email:_.email,password:"123456",role:"admin",venueId:D.id,permissions:["manage_bookings","manage_courts","manage_clients","manage_settings"],createdAt:new Date,updatedAt:new Date}),w(!1),p(""),E({name:"",address:"",city:"",phone:"",email:"",description:"",organizationType:"ИП",inn:"",bankAccount:""}),T(),alert(`Клуб "${_.name}" успешно создан! Администратор: ${_.email}, пароль: 123456`)}catch(N){console.error("Error creating venue:",N),console.error("Error details:",{code:N==null?void 0:N.code,message:N==null?void 0:N.message,stack:N==null?void 0:N.stack}),p("Ошибка при создании клуба: "+((N==null?void 0:N.message)||"Неизвестная ошибка"))}},variant:"contained",children:"Создать"})]})]})]})}function vp(e){return new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function yp(e){return new Intl.DateTimeFormat("ru-RU",{year:"numeric",month:"long",day:"numeric"}).format(e)}const WB={start:"Старт",standard:"Стандарт",pro:"Профи"},xp={start:0,standard:990,pro:1990},dZ={start:["До 2 кортов","Email без ограничений","SMS от 6₽/шт","Тренеры","Менеджер 3 месяца"],standard:["От 1 корта","500 SMS/Email в месяц","CRM система","Маркетинг","3 месяца бесплатно"],pro:["От 1 корта","SMS/Email без лимитов","API доступ","Мультиплощадки","Персональный менеджер"]};function uZ(){var I;const{admin:e}=er(),{isSuperAdmin:t}=Wr(),[n,r]=b.useState(null),[i,a]=b.useState(!0),[o,l]=b.useState(null),[A,c]=b.useState([]),[d,u]=b.useState(null),[p,h]=b.useState(!1),[m,g]=b.useState(""),[y,x]=b.useState(1),[C,S]=b.useState(!1),[w,_]=b.useState(null);b.useEffect(()=>{if(t){const j=localStorage.getItem("selectedVenueId");j&&r(j),a(!1)}else e!=null&&e.venueId&&(r(e.venueId),a(!1))},[e,t]),b.useEffect(()=>{const j=n||(e==null?void 0:e.venueId);if(!j)return;const U=li(Vt(Et(Re,"subscriptions"),pt("venueId","==",j),gc(1)),L=>{if(L.empty)l(null);else{const D=L.docs[0];l({id:D.id,...D.data()})}}),N=li(Vt(Et(Re,"invoices"),pt("venueId","==",j),u5("createdAt","desc"),gc(20)),L=>{const D=L.docs.map(K=>({id:K.id,...K.data()}));c(D)}),z=li(Vt(Et(Re,"payment_methods"),pt("venueId","==",j),pt("isDefault","==",!0),gc(1)),L=>{if(L.empty)u(null);else{const D=L.docs[0];u({id:D.id,...D.data()})}});return()=>{U(),N(),z()}},[n,e==null?void 0:e.venueId]);const E=j=>{r(j),localStorage.setItem("selectedVenueId",j)},T=async()=>{if(!(!m||!y)){S(!0),_(null);try{const j=ts(tl,"initSubscriptionPayment"),U=n||(e==null?void 0:e.venueId),z=(await j({venueId:U,planKey:m,amount:xp[m]*y,courtsCount:y})).data;if(z.success&&z.paymentUrl)window.open(z.paymentUrl,"_blank"),h(!1);else throw new Error("Failed to initialize payment")}catch(j){console.error("Payment initialization error:",j),_(j.message||"Ошибка при инициализации платежа")}finally{S(!1)}}},F=j=>{const U={active:{label:"Активна",color:"success",icon:s.jsx(Fm,{})},pending_payment:{label:"Ожидает оплаты",color:"warning",icon:s.jsx(ug,{})},payment_failed:{label:"Ошибка оплаты",color:"error",icon:s.jsx(rA,{})},cancelled:{label:"Отменена",color:"default",icon:s.jsx(xa,{})}},N=U[j]||U.cancelled;return s.jsx(Pi,{label:N.label,color:N.color,size:"small",icon:N.icon})},M=j=>{const U={pending:{label:"Ожидает",color:"default"},processing:{label:"Обработка",color:"info"},paid:{label:"Оплачен",color:"success"},failed:{label:"Ошибка",color:"error"},refunded:{label:"Возврат",color:"warning"}},N=U[j]||U.pending;return s.jsx(Pi,{label:N.label,color:N.color,size:"small"})};if(i)return s.jsx(Ne,{sx:{width:"100%"},children:s.jsx(aj,{})});const P=o!=null&&o.endDate?Math.floor((o.endDate.toMillis()-Date.now())/(1e3*60*60*24)):0;return t&&!n?s.jsx(uA,{title:"Выберите клуб для управления подпиской"}):s.jsxs(Ne,{sx:{p:3},children:[t&&s.jsx(dA,{selectedVenueId:n,onVenueChange:E}),s.jsx(J,{variant:"h5",gutterBottom:!0,children:"Управление подпиской"}),w&&s.jsx(nn,{severity:"error",sx:{mb:3},onClose:()=>_(null),children:w}),s.jsx(on,{sx:{mb:3},children:s.jsxs(ln,{children:[s.jsx(J,{variant:"h6",gutterBottom:!0,children:"Текущий тариф"}),o?s.jsxs(ft,{container:!0,spacing:3,children:[s.jsx(ft,{item:!0,xs:12,md:6,children:s.jsxs(rc,{spacing:2,children:[s.jsxs(Ne,{children:[s.jsx(J,{variant:"subtitle2",color:"text.secondary",children:"Тариф"}),s.jsx(J,{variant:"h4",children:WB[o.plan]})]}),s.jsxs(Ne,{children:[s.jsx(J,{variant:"subtitle2",color:"text.secondary",children:"Статус"}),F(o.status)]}),s.jsxs(Ne,{children:[s.jsx(J,{variant:"subtitle2",color:"text.secondary",children:"Количество кортов"}),s.jsx(J,{variant:"body1",children:o.courtsCount})]}),s.jsxs(Ne,{children:[s.jsx(J,{variant:"subtitle2",color:"text.secondary",children:"Стоимость в месяц"}),s.jsx(J,{variant:"h5",children:vp(xp[o.plan]*o.courtsCount)})]})]})}),s.jsx(ft,{item:!0,xs:12,md:6,children:s.jsxs(rc,{spacing:2,children:[s.jsxs(Ne,{children:[s.jsx(J,{variant:"subtitle2",color:"text.secondary",children:"Активна до"}),s.jsx(J,{variant:"body1",children:o.endDate?yp(o.endDate.toDate()):"Бессрочно"}),P>0&&P<=7&&s.jsxs(J,{variant:"caption",color:"warning.main",children:["Осталось ",P," дней"]})]}),s.jsxs(Ne,{children:[s.jsx(J,{variant:"subtitle2",color:"text.secondary",children:"Автопродление"}),s.jsx(J,{variant:"body1",children:o.autoRenewal?"Включено":"Отключено"})]}),o.lastPaymentAt&&s.jsxs(Ne,{children:[s.jsx(J,{variant:"subtitle2",color:"text.secondary",children:"Последний платеж"}),s.jsx(J,{variant:"body1",children:yp(o.lastPaymentAt.toDate())})]}),o.status==="payment_failed"&&o.gracePeriodEnd&&s.jsx(nn,{severity:"error",sx:{mt:2},children:s.jsxs(J,{variant:"body2",children:["Последний платеж не прошел. Подписка будет приостановлена"," ",yp(o.gracePeriodEnd.toDate()),", если оплата не поступит."]})})]})})]}):s.jsx(nn,{severity:"info",children:"У вас нет активной подписки"}),s.jsx(Si,{sx:{my:3}}),s.jsxs(rc,{direction:"row",spacing:2,children:[s.jsx(Pt,{variant:"contained",onClick:()=>{g((o==null?void 0:o.plan)||"standard"),x((o==null?void 0:o.courtsCount)||1),h(!0)},children:"Изменить тариф"}),!d&&s.jsx(Pt,{variant:"outlined",startIcon:s.jsx(j1,{}),onClick:()=>{alert("Функция привязки карты будет добавлена")},children:"Привязать карту"})]})]})}),d&&s.jsx(on,{sx:{mb:3},children:s.jsxs(ln,{children:[s.jsx(J,{variant:"h6",gutterBottom:!0,children:"Способ оплаты"}),s.jsxs(rc,{direction:"row",spacing:2,alignItems:"center",children:[s.jsx(j1,{fontSize:"large",color:"action"}),s.jsxs(Ne,{children:[s.jsxs(J,{variant:"body1",children:[d.brand," •••• ",d.last4]}),s.jsxs(J,{variant:"caption",color:"text.secondary",children:["Действует до ",d.expiryMonth,"/",d.expiryYear]})]})]})]})}),s.jsx(on,{children:s.jsxs(ln,{children:[s.jsx(J,{variant:"h6",gutterBottom:!0,children:"История платежей"}),A.length>0?s.jsx(Uh,{component:$n,variant:"outlined",children:s.jsxs(_h,{children:[s.jsx(Lh,{children:s.jsxs(Ia,{children:[s.jsx(Zt,{children:"Дата"}),s.jsx(Zt,{children:"Описание"}),s.jsx(Zt,{children:"Сумма"}),s.jsx(Zt,{children:"Статус"}),s.jsx(Zt,{align:"right",children:"Действия"})]})}),s.jsx(Dh,{children:A.map(j=>s.jsxs(Ia,{children:[s.jsx(Zt,{children:yp(j.createdAt.toDate())}),s.jsx(Zt,{children:j.description}),s.jsx(Zt,{children:vp(j.amount)}),s.jsx(Zt,{children:M(j.status)}),s.jsx(Zt,{align:"right",children:s.jsx(Pt,{size:"small",startIcon:s.jsx(yj,{}),onClick:()=>{alert("Функция скачивания чека будет добавлена")},children:"Чек"})})]},j.id))})]})}):s.jsx(J,{color:"text.secondary",children:"История платежей пуста"})]})}),s.jsxs(lo,{open:p,onClose:()=>h(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(rl,{children:"Изменить тариф"}),s.jsx(Ao,{children:s.jsxs(rc,{spacing:3,sx:{mt:2},children:[s.jsx(Dt,{select:!0,fullWidth:!0,label:"Тариф",value:m,onChange:j=>g(j.target.value),children:Object.entries(WB).filter(([j])=>j!=="start").map(([j,U])=>s.jsxs(Jn,{value:j,children:[U," - ",vp(xp[j])," за корт/месяц"]},j))}),s.jsx(Dt,{type:"number",fullWidth:!0,label:"Количество кортов",value:y,onChange:j=>x(parseInt(j.target.value)||1),inputProps:{min:1,max:100}}),m&&s.jsxs(s.Fragment,{children:[s.jsxs(Ne,{sx:{p:2,bgcolor:"grey.100",borderRadius:1},children:[s.jsx(J,{variant:"subtitle2",gutterBottom:!0,children:"Возможности тарифа:"}),s.jsx("ul",{style:{margin:0,paddingLeft:20},children:(I=dZ[m])==null?void 0:I.map((j,U)=>s.jsx("li",{children:s.jsx(J,{variant:"body2",children:j})},U))})]}),s.jsx(Si,{}),s.jsxs(Ne,{sx:{textAlign:"center"},children:[s.jsx(J,{variant:"subtitle2",color:"text.secondary",children:"Итого к оплате:"}),s.jsx(J,{variant:"h4",children:vp(xp[m]*y)}),s.jsx(J,{variant:"caption",color:"text.secondary",children:"в месяц"})]})]})]})}),s.jsxs(nl,{children:[s.jsx(Pt,{onClick:()=>h(!1),children:"Отмена"}),s.jsx(Pt,{variant:"contained",onClick:T,disabled:!m||!y||C,startIcon:C?s.jsx(ug,{}):s.jsx(tA,{}),children:C?"Обработка...":"Перейти к оплате"})]})]})]})}const KB=[{id:"tbank",name:"Т-Банк",commission:2.5,fields:[{name:"shopId",label:"Shop ID",type:"text",required:!0,placeholder:"Например: shop_12345"},{name:"secretKey",label:"Secret Key",type:"password",required:!0},{name:"terminalKey",label:"Terminal Key",type:"text",required:!0}]},{id:"yookassa",name:"ЮKassa",commission:2.8,fields:[{name:"shopId",label:"Shop ID",type:"text",required:!0},{name:"secretKey",label:"Secret Key",type:"password",required:!0}]}];function hZ(){const{admin:e,club:t}=er(),{isSuperAdmin:n}=Wr(),[r,i]=b.useState(null),[a,o]=b.useState(!0),[l,A]=b.useState(!1),[c,d]=b.useState(!0),[u,p]=b.useState(!1),[h,m]=b.useState(""),[g,y]=b.useState({}),[x,C]=b.useState(!1),[S,w]=b.useState(null),[_,E]=b.useState(0),[T,F]=b.useState({cash:!0,card_on_site:!0,transfer:!0,sberbank_card:!0,tbank_card:!0,vtb_card:!0});b.useEffect(()=>{if(n){const L=localStorage.getItem("selectedVenueId");L?(i(L),P(L)):o(!1)}else e!=null&&e.venueId&&P(e.venueId)},[e,n]);const M=L=>{i(L),localStorage.setItem("selectedVenueId",L),L&&P(L)},P=async L=>{const D=L||(e==null?void 0:e.venueId);if(D)try{o(!0);const K=await An(bt(Re,"venues",D));if(K.exists()){const q=K.data();p(q.paymentEnabled||!1),d(q.paymentTestMode!==!1),m(q.paymentProvider||""),q.paymentCredentials&&y(q.paymentCredentials),q.enabledPaymentMethods?F(q.enabledPaymentMethods):F({cash:!0,card_on_site:!0,transfer:!0,sberbank_card:!0,tbank_card:!0,vtb_card:!0}),q.paymentProvider&&q.paymentCredentials?E(2):q.paymentProvider&&E(1)}o(!1)}catch(K){console.error("Error loading payment settings:",K),o(!1)}},I=L=>{m(L),y({}),E(1)},j=(L,D)=>{y(K=>({...K,[L]:D}))},U=async()=>{const L=n?r:e==null?void 0:e.venueId;if(!(!L||!h)){A(!0);try{const K={paymentEnabled:u,paymentTestMode:h==="yookassa"?!1:c,paymentProvider:h,paymentCredentials:g,enabledPaymentMethods:T,paymentUpdatedAt:new Date};console.log("Saving payment settings:",{venueId:L,...K}),await yn(bt(Re,"venues",L),K),E(2),alert("Настройки успешно сохранены")}catch(D){console.error("Error saving payment settings:",D),alert("Ошибка при сохранении настроек")}finally{A(!1)}}},N=async()=>{C(!0),w(null);const L=n?r:e==null?void 0:e.venueId;if(!(!L||!h))try{const K=await(await ah(async()=>{const{httpsCallable:q}=await Promise.resolve().then(()=>OU);return{httpsCallable:q}},void 0)).httpsCallable((await ah(async()=>{const{functions:q}=await Promise.resolve().then(()=>zU);return{functions:q}},void 0)).functions,"testPaymentConnection")({venueId:L,provider:h,credentials:g});w(K.data)}catch(D){console.error("Error testing connection:",D),w({success:!1,message:D.message||"Ошибка при проверке подключения"})}};if(a)return s.jsx(Ne,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:s.jsx(Hr,{})});if(n&&!r)return s.jsx(uA,{title:"Выберите клуб для настройки оплаты"});const z=KB.find(L=>L.id===h);return s.jsxs(Ne,{children:[n&&s.jsx(dA,{selectedVenueId:r,onVenueChange:M}),s.jsx(J,{variant:"h5",component:"h2",gutterBottom:!0,children:"Настройки эквайринга"}),s.jsx(nn,{severity:"info",sx:{mb:3},children:"Подключите свой эквайринг для приема платежей от клиентов. Все платежи будут поступать напрямую на ваш расчетный счет."}),s.jsx(on,{sx:{mb:3},children:s.jsxs(ln,{children:[s.jsxs(Ne,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[s.jsxs(Ne,{children:[s.jsx(J,{variant:"h6",children:"Статус платежей"}),s.jsx(J,{variant:"body2",color:"text.secondary",children:u?"Платежи активны и готовы к приему":"Платежи не настроены"})]}),s.jsxs(Ne,{display:"flex",alignItems:"center",gap:2,children:[h!=="yookassa"&&s.jsx(ds,{control:s.jsx(si,{checked:c,onChange:L=>d(L.target.checked),disabled:!u}),label:"Тестовый режим"}),s.jsx(Pi,{icon:u?s.jsx(Ho,{}):s.jsx(rA,{}),label:u?"Подключено":"Не подключено",color:u?"success":"default"})]})]}),u&&z&&s.jsxs(Ne,{mt:2,p:2,bgcolor:"background.default",borderRadius:1,children:[s.jsxs(J,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Провайдер: ",s.jsx("strong",{children:z.name})]}),s.jsxs(J,{variant:"body2",color:"text.secondary",children:["Комиссия: ",s.jsxs("strong",{children:[z.commission,"%"]})]})]})]})}),s.jsxs(v7,{activeStep:_,orientation:"vertical",children:[s.jsxs(iv,{children:[s.jsx(_p,{children:"Выберите платежного провайдера"}),s.jsxs(lv,{children:[s.jsx(J,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Выберите банк или платежную систему, с которой у вас заключен договор эквайринга"}),s.jsx(Ne,{sx:{mt:2,mb:3},children:KB.map(L=>s.jsx($n,{sx:{p:2,mb:2,cursor:"pointer",border:h===L.id?2:1,borderColor:h===L.id?"primary.main":"divider","&:hover":{borderColor:"primary.main"}},onClick:()=>I(L.id),children:s.jsxs(Ne,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[s.jsxs(Ne,{display:"flex",alignItems:"center",gap:2,children:[s.jsx(hj,{color:"action"}),s.jsxs(Ne,{children:[s.jsx(J,{variant:"subtitle1",children:L.name}),s.jsxs(J,{variant:"body2",color:"text.secondary",children:["Комиссия: ",L.commission,"%"]})]})]}),h===L.id&&s.jsx(Ho,{color:"primary"})]})},L.id))}),s.jsx(Pt,{variant:"contained",onClick:()=>E(1),disabled:!h,children:"Продолжить"})]})]}),s.jsxs(iv,{children:[s.jsx(_p,{children:"Введите данные для подключения"}),s.jsx(lv,{children:z&&s.jsxs(s.Fragment,{children:[s.jsxs(J,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Введите данные из личного кабинета ",z.name]}),h==="yookassa"&&s.jsx(nn,{severity:"info",sx:{mt:2,mb:2},children:"YooKassa не поддерживает тестовый режим через API. Используйте реальные ключи и проводите тестовые платежи на небольшие суммы с последующим возвратом."}),s.jsx(Ne,{sx:{mt:2},children:z.fields.map(L=>{var D;return s.jsx(Ne,{sx:{mb:2},children:L.type==="select"?s.jsxs(eo,{fullWidth:!0,children:[s.jsx(sl,{children:L.label}),s.jsx(co,{value:g[L.name]||"",onChange:K=>j(L.name,K.target.value),required:L.required,children:(D=L.options)==null?void 0:D.map(K=>s.jsx(Jn,{value:K.value,children:K.label},K.value))})]}):s.jsx(Dt,{fullWidth:!0,label:L.label,type:L.type,value:g[L.name]||"",onChange:K=>j(L.name,K.target.value),required:L.required,placeholder:L.placeholder,helperText:L.name==="secretKey"&&h==="yookassa"?"Используйте OAuth токен (live_xxx или test_xxx). Для возвратов токен должен иметь права refunds:write":L.placeholder})},L.name)})}),s.jsx(nn,{severity:"warning",icon:s.jsx(Tx,{}),sx:{mt:2,mb:2},children:"Все данные хранятся в зашифрованном виде и используются только для проведения платежей"}),s.jsxs(Ne,{sx:{mt:2},children:[s.jsx(Pt,{variant:"contained",onClick:U,disabled:l||!z.fields.every(L=>!L.required||g[L.name]),startIcon:l?s.jsx(Hr,{size:20}):s.jsx(nA,{}),children:l?"Сохранение...":"Сохранить и продолжить"}),s.jsx(Pt,{sx:{ml:1},onClick:()=>E(0),children:"Назад"})]})]})})]}),s.jsxs(iv,{children:[s.jsx(_p,{children:"Проверка подключения"}),s.jsxs(lv,{children:[s.jsx(J,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Проверьте работу платежей в тестовом режиме перед началом приема реальных платежей"}),s.jsx(Ne,{sx:{mt:3},children:s.jsx(Pt,{variant:"contained",onClick:N,startIcon:s.jsx(n$,{}),children:"Проверить подключение"})}),u&&s.jsxs(s.Fragment,{children:[s.jsxs(nn,{severity:"success",sx:{mt:3},children:["Поздравляем! Платежи настроены и готовы к работе.",h==="yookassa"?" YooKassa работает только с реальными платежами.":c&&" Не забудьте отключить тестовый режим для приема реальных платежей."]}),s.jsxs(Ne,{sx:{mt:2,mb:2},children:[s.jsx(Pt,{variant:"outlined",color:"primary",onClick:()=>{E(1),p(!1)},children:"Изменить настройки платежей"}),h==="yookassa"&&s.jsx(J,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Если возвраты не работают, создайте новый OAuth токен с правами на возвраты в личном кабинете YooKassa"})]}),h==="yookassa"&&s.jsxs(nn,{severity:"warning",icon:s.jsx(mj,{}),sx:{mt:2},children:[s.jsx(J,{variant:"subtitle2",gutterBottom:!0,children:"Важно! Для завершения настройки YooKassa:"}),s.jsxs(Ne,{component:"ol",sx:{pl:2,mb:0},children:[s.jsx("li",{children:"Войдите в личный кабинет YooKassa"}),s.jsx("li",{children:'Перейдите в раздел "Настройки" → "Уведомления" → "HTTP-уведомления"'}),s.jsxs("li",{children:["Укажите URL для уведомлений: ",s.jsx("strong",{children:"https://allcourt.ru/api/webhooks/yookassa"})]}),s.jsx("li",{children:'Выберите события: "Успешная оплата", "Отмена платежа", "Возврат платежа"'}),s.jsx("li",{children:"Сохраните настройки"})]}),s.jsxs(J,{variant:"body2",sx:{mt:1},children:[s.jsx("strong",{children:"Важно!"})," Без настройки webhook в личном кабинете YooKassa статусы платежей не будут обновляться автоматически."]})]})]})]})]})]}),s.jsx(on,{sx:{mt:4},children:s.jsxs(ln,{children:[s.jsx(J,{variant:"h6",gutterBottom:!0,children:"Доступные способы оплаты в админ-панели"}),s.jsx(J,{variant:"body2",color:"text.secondary",gutterBottom:!0,sx:{mb:2},children:"Выберите, какие способы оплаты будут доступны администраторам при создании бронирований. Онлайн оплата всегда доступна и не может быть отключена."}),s.jsxs(rj,{children:[s.jsx(ds,{control:s.jsx(Nl,{checked:T.cash,onChange:L=>F(D=>({...D,cash:L.target.checked}))}),label:s.jsxs(Ne,{children:[s.jsx(J,{children:"Оплата в клубе наличными"}),s.jsx(J,{variant:"caption",color:"text.secondary",children:"✓ Без ограничения по времени"})]})}),s.jsx(ds,{control:s.jsx(Nl,{checked:T.card_on_site,onChange:L=>F(D=>({...D,card_on_site:L.target.checked}))}),label:s.jsxs(Ne,{children:[s.jsx(J,{children:"Оплата в клубе картой"}),s.jsx(J,{variant:"caption",color:"text.secondary",children:"✓ Без ограничения по времени"})]})}),s.jsx(ds,{control:s.jsx(Nl,{checked:T.transfer,onChange:L=>F(D=>({...D,transfer:L.target.checked}))}),label:s.jsxs(Ne,{children:[s.jsx(J,{children:"Перевод на р.счет клуба (юр.лицо)"}),s.jsx(J,{variant:"caption",color:"text.secondary",children:"✓ Без ограничения по времени"})]})}),s.jsx(ds,{control:s.jsx(Nl,{checked:T.sberbank_card,onChange:L=>F(D=>({...D,sberbank_card:L.target.checked}))}),label:s.jsxs(Ne,{children:[s.jsx(J,{children:"На карту Сбербанка"}),s.jsx(J,{variant:"caption",color:"text.secondary",children:"⏱️ 30 минут на подтверждение оплаты"})]})}),s.jsx(ds,{control:s.jsx(Nl,{checked:T.tbank_card,onChange:L=>F(D=>({...D,tbank_card:L.target.checked}))}),label:s.jsxs(Ne,{children:[s.jsx(J,{children:"На карту Т-Банка"}),s.jsx(J,{variant:"caption",color:"text.secondary",children:"⏱️ 30 минут на подтверждение оплаты"})]})}),s.jsx(ds,{control:s.jsx(Nl,{checked:T.vtb_card,onChange:L=>F(D=>({...D,vtb_card:L.target.checked}))}),label:s.jsxs(Ne,{children:[s.jsx(J,{children:"На карту ВТБ"}),s.jsx(J,{variant:"caption",color:"text.secondary",children:"⏱️ 30 минут на подтверждение оплаты"})]})})]}),s.jsx(Ne,{sx:{mt:3},children:s.jsx(Pt,{variant:"contained",onClick:async()=>{const L=n?r:e==null?void 0:e.venueId;if(L)try{A(!0),await yn(bt(Re,"venues",L),{enabledPaymentMethods:T,paymentMethodsUpdatedAt:new Date}),alert("Настройки способов оплаты сохранены")}catch(D){console.error("Error saving payment methods:",D),alert("Ошибка при сохранении настроек")}finally{A(!1)}},disabled:l,startIcon:l?s.jsx(Hr,{size:20}):s.jsx(nA,{}),children:l?"Сохранение...":"Сохранить настройки способов оплаты"})})]})}),s.jsx(on,{sx:{mt:4},children:s.jsxs(ln,{children:[s.jsx(J,{variant:"h6",gutterBottom:!0,children:"Преимущества собственного эквайринга"}),s.jsxs(nh,{children:[s.jsxs(Xa,{children:[s.jsx(nv,{children:s.jsx(Ho,{color:"success"})}),s.jsx(Ja,{primary:"Прямые платежи на ваш счет",secondary:"Деньги поступают напрямую без посредников"})]}),s.jsxs(Xa,{children:[s.jsx(nv,{children:s.jsx(Ho,{color:"success"})}),s.jsx(Ja,{primary:"Полный контроль",secondary:"Вы сами управляете возвратами и платежами"})]}),s.jsxs(Xa,{children:[s.jsx(nv,{children:s.jsx(Ho,{color:"success"})}),s.jsx(Ja,{primary:"Низкие комиссии",secondary:"Только комиссия вашего банка, без дополнительных сборов"})]})]})]})}),s.jsxs(lo,{open:x,onClose:()=>C(!1),children:[s.jsx(rl,{children:"Проверка подключения"}),s.jsx(Ao,{children:S?s.jsx(nn,{severity:S.success?"success":"error",sx:{mt:1},children:S.message}):s.jsxs(Ne,{display:"flex",alignItems:"center",gap:2,py:2,children:[s.jsx(Hr,{size:24}),s.jsx(J,{children:"Проверяем подключение..."})]})}),s.jsxs(nl,{children:[s.jsx(Pt,{onClick:()=>C(!1),children:"Закрыть"}),(S==null?void 0:S.success)&&s.jsx(Pt,{variant:"contained",onClick:async()=>{p(!0),C(!1);const L=n?r:e==null?void 0:e.venueId;if(!(!L||!h)){A(!0);try{const K={paymentEnabled:!0,paymentTestMode:h==="yookassa"?!1:c,paymentProvider:h,paymentCredentials:g,paymentUpdatedAt:new Date};console.log("Activating payments:",{venueId:L,...K}),await yn(bt(Re,"venues",L),K),E(2),alert("Платежи успешно активированы!")}catch(D){console.error("Error activating payments:",D),alert("Ошибка при активации платежей")}finally{A(!1)}}},children:"Активировать платежи"})]})]})]})}function fZ(){const{isSuperAdmin:e}=Wr(),[t,n]=b.useState(!0),[r,i]=b.useState(!1),[a,o]=b.useState({tbank:{terminalKey:"",password:"",notificationUrl:"https://europe-west1-sports-booking-app-1d7e5.cloudfunctions.net/tbankWebhook",testMode:!0},autoRenewal:!0,gracePeriodDays:3}),[l,A]=b.useState(!1),[c,d]=b.useState(!1),[u,p]=b.useState({totalRevenue:0,activeSubscriptions:0,pendingPayments:0,failedPayments:0}),[h,m]=b.useState(null),[g,y]=b.useState({}),[x,C]=b.useState(null);b.useEffect(()=>{S(),w(),_()},[]);const S=async()=>{try{const F=bt(Re,"settings","billing"),M=await An(F);if(M.exists()){const P=M.data();o(P)}}catch(F){console.error("Error loading billing config:",F)}finally{n(!1)}},w=async()=>{try{const F=Vt(Et(Re,"subscriptions"),pt("status","==","active")),M=await $t(F);p({totalRevenue:0,activeSubscriptions:M.size,pendingPayments:0,failedPayments:0})}catch(F){console.error("Error loading billing stats:",F)}},_=()=>{const F={};Object.entries(ua).filter(([M])=>M!=="premium").forEach(([M,P])=>{F[M]=P.pricePerCourt||P.price}),y(F)},E=async()=>{try{i(!0);const F=bt(Re,"settings","billing");await yy(F,{...a,updatedAt:new Date},{merge:!0}),A(!1),C({type:"success",text:"Настройки биллинга сохранены"}),setTimeout(()=>C(null),3e3)}catch(F){console.error("Error saving billing config:",F),C({type:"error",text:"Ошибка при сохранении настроек"}),setTimeout(()=>C(null),3e3)}finally{i(!1)}},T=async F=>{try{C({type:"success",text:`Цена тарифа ${ua[F].name} обновлена на ${g[F]}₽ за корт/месяц`}),m(null),setTimeout(()=>C(null),3e3)}catch(M){console.error("Error updating plan price:",M),C({type:"error",text:"Ошибка при обновлении цены"}),setTimeout(()=>C(null),3e3)}};return e?t?s.jsx(Ne,{sx:{display:"flex",justifyContent:"center",p:3},children:s.jsx(Hr,{})}):s.jsx(dd,{requiredPermission:"superadmin",children:s.jsxs(Ne,{sx:{p:3},children:[s.jsx(nn,{severity:"info",sx:{mb:3},children:"Данный раздел доступен только суперадминистраторам системы"}),s.jsx(J,{variant:"h4",gutterBottom:!0,children:"Настройки биллинга"}),x&&s.jsx(nn,{severity:x.type,sx:{mb:3},onClose:()=>C(null),children:x.text}),s.jsxs(ft,{container:!0,spacing:3,sx:{mb:3},children:[s.jsx(ft,{item:!0,xs:12,sm:6,md:3,children:s.jsx(on,{children:s.jsxs(ln,{children:[s.jsxs(Ne,{display:"flex",alignItems:"center",gap:1,children:[s.jsx(Nm,{color:"primary"}),s.jsx(J,{color:"textSecondary",gutterBottom:!0,children:"Общий доход"})]}),s.jsxs(J,{variant:"h5",children:[u.totalRevenue.toLocaleString("ru-RU")," ₽"]})]})})}),s.jsx(ft,{item:!0,xs:12,sm:6,md:3,children:s.jsx(on,{children:s.jsxs(ln,{children:[s.jsxs(Ne,{display:"flex",alignItems:"center",gap:1,children:[s.jsx(Cc,{color:"success"}),s.jsx(J,{color:"textSecondary",gutterBottom:!0,children:"Активные подписки"})]}),s.jsx(J,{variant:"h5",children:u.activeSubscriptions})]})})}),s.jsx(ft,{item:!0,xs:12,sm:6,md:3,children:s.jsx(on,{children:s.jsxs(ln,{children:[s.jsxs(Ne,{display:"flex",alignItems:"center",gap:1,children:[s.jsx(Cc,{color:"warning"}),s.jsx(J,{color:"textSecondary",gutterBottom:!0,children:"Ожидают оплаты"})]}),s.jsx(J,{variant:"h5",children:u.pendingPayments})]})})}),s.jsx(ft,{item:!0,xs:12,sm:6,md:3,children:s.jsx(on,{children:s.jsxs(ln,{children:[s.jsxs(Ne,{display:"flex",alignItems:"center",gap:1,children:[s.jsx(Cc,{color:"error"}),s.jsx(J,{color:"textSecondary",gutterBottom:!0,children:"Неудачные платежи"})]}),s.jsx(J,{variant:"h5",children:u.failedPayments})]})})})]}),s.jsx(on,{sx:{mb:3},children:s.jsxs(ln,{children:[s.jsxs(Ne,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[s.jsx(J,{variant:"h6",children:"Настройки Т-Банк"}),l?s.jsxs(Ne,{children:[s.jsx(Pt,{startIcon:s.jsx(xa,{}),onClick:()=>{A(!1),S()},sx:{mr:1},children:"Отмена"}),s.jsx(Pt,{startIcon:s.jsx(nA,{}),onClick:E,variant:"contained",disabled:r,children:"Сохранить"})]}):s.jsx(Pt,{startIcon:s.jsx(il,{}),onClick:()=>A(!0),variant:"outlined",children:"Редактировать"})]}),s.jsxs(ft,{container:!0,spacing:2,children:[s.jsx(ft,{item:!0,xs:12,md:6,children:s.jsx(Dt,{label:"Terminal Key",value:a.tbank.terminalKey,onChange:F=>o({...a,tbank:{...a.tbank,terminalKey:F.target.value}}),fullWidth:!0,disabled:!l,helperText:"Ключ терминала для рекуррентных платежей"})}),s.jsx(ft,{item:!0,xs:12,md:6,children:s.jsx(Dt,{label:"Password",type:c?"text":"password",value:a.tbank.password,onChange:F=>o({...a,tbank:{...a.tbank,password:F.target.value}}),fullWidth:!0,disabled:!l,helperText:"Пароль для API Т-Банк",InputProps:{endAdornment:l&&s.jsx(Pt,{size:"small",onClick:()=>d(!c),children:c?"Скрыть":"Показать"})}})}),s.jsx(ft,{item:!0,xs:12,children:s.jsx(Dt,{label:"Notification URL",value:a.tbank.notificationUrl,onChange:F=>o({...a,tbank:{...a.tbank,notificationUrl:F.target.value}}),fullWidth:!0,disabled:!l,helperText:"URL для получения уведомлений от Т-Банк"})}),s.jsxs(ft,{item:!0,xs:12,children:[s.jsx(ds,{control:s.jsx(si,{checked:a.tbank.testMode,onChange:F=>o({...a,tbank:{...a.tbank,testMode:F.target.checked}}),disabled:!l}),label:"Тестовый режим"}),a.tbank.testMode&&s.jsx(nn,{severity:"warning",sx:{mt:1},children:"Включен тестовый режим. Реальные платежи не будут проводиться."})]})]})]})}),s.jsx(on,{sx:{mb:3},children:s.jsxs(ln,{children:[s.jsx(J,{variant:"h6",gutterBottom:!0,children:"Общие настройки"}),s.jsxs(ft,{container:!0,spacing:2,children:[s.jsx(ft,{item:!0,xs:12,children:s.jsx(ds,{control:s.jsx(si,{checked:a.autoRenewal,onChange:F=>o({...a,autoRenewal:F.target.checked}),disabled:!l}),label:"Автоматическое продление подписок"})}),s.jsx(ft,{item:!0,xs:12,md:6,children:s.jsx(Dt,{label:"Льготный период (дней)",type:"number",value:a.gracePeriodDays,onChange:F=>o({...a,gracePeriodDays:parseInt(F.target.value)||0}),fullWidth:!0,disabled:!l,helperText:"Количество дней после неудачного платежа до блокировки"})})]})]})}),s.jsx(on,{children:s.jsxs(ln,{children:[s.jsx(J,{variant:"h6",gutterBottom:!0,children:"Тарифные планы"}),s.jsx(nn,{severity:"info",sx:{mb:2},children:s.jsxs(J,{variant:"body2",children:["Актуальная тарифная сетка: ",s.jsx("strong",{children:"Старт"})," (бесплатно до 2 кортов),",s.jsx("strong",{children:" Стандарт"})," (990₽/корт), ",s.jsx("strong",{children:"Профи"})," (1990₽/корт). SMS-уведомления тарифицируются отдельно: 6₽ за сообщение."]})}),s.jsx(Uh,{component:$n,variant:"outlined",children:s.jsxs(_h,{children:[s.jsx(Lh,{children:s.jsxs(Ia,{children:[s.jsx(Zt,{children:"Тариф"}),s.jsx(Zt,{children:"Основные возможности"}),s.jsx(Zt,{align:"right",children:"Цена"}),s.jsx(Zt,{align:"center",children:"Лимиты"}),s.jsx(Zt,{align:"center",children:"Статус"}),s.jsx(Zt,{align:"center",children:"Действия"})]})}),s.jsx(Dh,{children:Object.entries(ua).filter(([F])=>F!=="premium").map(([F,M])=>s.jsxs(Ia,{children:[s.jsx(Zt,{children:s.jsx(J,{variant:"subtitle2",children:M.name})}),s.jsx(Zt,{children:s.jsxs(Ne,{children:[s.jsx(J,{variant:"body2",color:"textSecondary",children:M.features[0]}),F==="standard"&&s.jsx(Pi,{label:"3 месяца бесплатно",size:"small",color:"primary",sx:{mt:.5}})]})}),s.jsx(Zt,{align:"right",children:h===F?s.jsx(Dt,{type:"number",value:g[F],onChange:P=>y({...g,[F]:parseInt(P.target.value)||0}),size:"small",sx:{width:120},InputProps:{endAdornment:s.jsx(J,{variant:"caption",children:"₽/корт"})}}):s.jsx(J,{children:F==="start"?"Бесплатно":`${(M.pricePerCourt||M.price).toLocaleString("ru-RU")} ₽/корт`})}),s.jsx(Zt,{align:"center",children:s.jsxs(Ne,{children:[F==="start"&&s.jsx(J,{variant:"caption",children:"До 2 кортов"}),F==="standard"&&s.jsx(J,{variant:"caption",children:"500 SMS/Email"}),F==="pro"&&s.jsx(J,{variant:"caption",children:"Без лимитов"})]})}),s.jsx(Zt,{align:"center",children:s.jsx(Pi,{label:"Активен",color:"success",size:"small"})}),s.jsx(Zt,{align:"center",children:h===F?s.jsxs(s.Fragment,{children:[s.jsx(Ls,{size:"small",onClick:()=>T(F),color:"primary",children:s.jsx(nA,{})}),s.jsx(Ls,{size:"small",onClick:()=>{m(null),_()},children:s.jsx(xa,{})})]}):s.jsx(Ls,{size:"small",onClick:()=>m(F),disabled:F==="start",children:s.jsx(il,{})})})]},F))})]})}),s.jsxs(Ne,{sx:{mt:2},children:[s.jsx(J,{variant:"body2",color:"textSecondary",children:"* SMS-уведомления тарифицируются отдельно по 6₽ за сообщение для всех тарифов"}),s.jsx(J,{variant:"body2",color:"textSecondary",children:"* Тариф Стандарт включает 500 SMS/Email уведомлений суммарно на клуб в месяц"}),s.jsx(J,{variant:"body2",color:"textSecondary",children:"* Тариф Профи включает неограниченные SMS/Email уведомления"})]})]})})]})}):s.jsx(Ne,{sx:{p:3},children:s.jsx(nn,{severity:"error",children:"У вас нет доступа к настройкам биллинга"})})}function pZ(){const{admin:e}=er(),{isSuperAdmin:t}=Wr(),[n,r]=b.useState(null),[i,a]=b.useState("Europe/Moscow"),[o,l]=b.useState(!0),[A,c]=b.useState("month"),[d,u]=b.useState("all"),[p,h]=b.useState(""),[m,g]=b.useState(""),[y,x]=b.useState({totalRevenue:0,bookingsCount:0,averageCheck:0,revenueChange:0}),[C,S]=b.useState([]),w=()=>{const T=new Date;let F=new Date,M=new Date;switch(A){case"today":return"Сегодня";case"yesterday":return"Вчера";case"week":return F.setDate(T.getDate()-7),`${F.toLocaleDateString("ru-RU")} - ${M.toLocaleDateString("ru-RU")}`;case"month":F.setMonth(T.getMonth(),1);const P=T.toLocaleDateString("ru-RU",{month:"long",year:"numeric"});return P.charAt(0).toUpperCase()+P.slice(1);case"year":return T.getFullYear().toString();case"custom":return p&&m?`${new Date(p).toLocaleDateString("ru-RU")} - ${new Date(m).toLocaleDateString("ru-RU")}`:"Выберите даты";default:return""}};b.useEffect(()=>{if(t){const T=localStorage.getItem("selectedVenueId");T?(r(T),E(T)):l(!1)}else e!=null&&e.venueId&&E(e.venueId)},[e,t,A,d]);const _=T=>{r(T),localStorage.setItem("selectedVenueId",T),T&&E(T)},E=async T=>{const F=T||(e==null?void 0:e.venueId);if(F)try{l(!0);const M=bt(Re,"venues",F),P=await An(M);if(P.exists()){const H=P.data().timezone||"Europe/Moscow";a(H),console.log("Club timezone:",H)}const I=new Date;let j=new Date,U=new Date;switch(A){case"today":j.setHours(0,0,0,0),U.setHours(23,59,59,999);break;case"yesterday":j.setDate(I.getDate()-1),j.setHours(0,0,0,0),U.setDate(I.getDate()-1),U.setHours(23,59,59,999);break;case"week":j.setDate(I.getDate()-7);break;case"month":j.setMonth(I.getMonth()-1);break;case"year":j.setFullYear(I.getFullYear()-1);break;case"custom":p&&m?(j=new Date(p),U=new Date(m),U.setHours(23,59,59,999)):j.setMonth(I.getMonth()-1);break}console.log("Loading finance data for venue:",F),console.log("Period:",A,"Start date:",j);const N=Vt(Et(Re,"bookings"),pt("venueId","==",F)),z=await $t(N);console.log("Total bookings found:",z.size);let L=z.docs.map(Ae=>{const H=Ae.data();return{id:Ae.id,...H,date:Eg(H.date,i),paymentStatus:H.paymentStatus||"awaiting_payment",paymentMethod:H.paymentMethod||"cash"}});L=L.filter(Ae=>{if(!Ae.date)return!1;const H=new Date(Ae.date);return A==="custom"&&m||A==="today"||A==="yesterday"?H>=j&&H<=U&&Ae.status==="confirmed":H>=j&&Ae.status==="confirmed"}),console.log("Bookings after date filter:",L.length),L=L.filter(Ae=>Ae.paymentStatus==="paid"),console.log("Paid bookings:",L.length),d!=="all"&&(L=L.filter(Ae=>Ae.paymentMethod===d));const D=L.reduce((Ae,H)=>Ae+(H.amount||0),0),K=L.length,q=K>0?D/K:0;x({totalRevenue:D,bookingsCount:K,averageCheck:q,revenueChange:15.5});const Z=L.reduce((Ae,H)=>{var Q;const R=(Q=H.date)==null?void 0:Q.toLocaleDateString("ru-RU");return Ae[R]||(Ae[R]={date:H.date,bookings:0,revenue:0}),Ae[R].bookings++,Ae[R].revenue+=H.amount||0,Ae},{});S(Object.values(Z).slice(0,10))}catch(M){console.error("Error loading finance data:",M)}finally{l(!1)}};return o?s.jsx(Ne,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:s.jsx(Hr,{})}):t&&!n?s.jsx(uA,{title:"Выберите клуб для просмотра финансов"}):s.jsxs(Ne,{children:[t&&s.jsx(dA,{selectedVenueId:n,onVenueChange:_}),s.jsxs(Ne,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[s.jsx(J,{variant:"h5",component:"h2",children:"Финансовая аналитика"}),s.jsxs(Ne,{display:"flex",gap:2,children:[s.jsxs(eo,{size:"small",sx:{minWidth:150},children:[s.jsx(sl,{children:"Способ оплаты"}),s.jsxs(co,{value:d,label:"Способ оплаты",onChange:T=>u(T.target.value),children:[s.jsx(Jn,{value:"all",children:"Все"}),s.jsx(Jn,{value:"cash",children:"Наличные"}),s.jsx(Jn,{value:"card_on_site",children:"Карта на месте"}),s.jsx(Jn,{value:"transfer",children:"Перевод"}),s.jsx(Jn,{value:"online",children:"Онлайн оплата"}),s.jsx(Jn,{value:"sberbank_card",children:"Карта Сбербанк"}),s.jsx(Jn,{value:"tbank_card",children:"Карта Т-Банк"}),s.jsx(Jn,{value:"vtb_card",children:"Карта ВТБ"})]})]}),s.jsxs(eo,{size:"small",sx:{minWidth:120},children:[s.jsx(sl,{children:"Период"}),s.jsxs(co,{value:A,label:"Период",onChange:T=>c(T.target.value),children:[s.jsx(Jn,{value:"today",children:"Сегодня"}),s.jsx(Jn,{value:"yesterday",children:"Вчера"}),s.jsx(Jn,{value:"week",children:"Неделя"}),s.jsx(Jn,{value:"month",children:"Месяц"}),s.jsx(Jn,{value:"year",children:"Год"}),s.jsx(Jn,{value:"custom",children:"Персональный период"})]})]})]})]}),A==="custom"&&s.jsxs(Ne,{display:"flex",gap:2,mb:3,children:[s.jsx(Dt,{label:"Начальная дата",type:"date",value:p,onChange:T=>h(T.target.value),size:"small",InputLabelProps:{shrink:!0}}),s.jsx(Dt,{label:"Конечная дата",type:"date",value:m,onChange:T=>g(T.target.value),size:"small",InputLabelProps:{shrink:!0}}),s.jsx(Pt,{variant:"contained",size:"small",onClick:()=>E(n||(e==null?void 0:e.venueId)),disabled:!p||!m,children:"Применить"})]}),s.jsx(Ne,{mb:3,children:s.jsxs(J,{variant:"body2",color:"text.secondary",children:["Период: ",w()]})}),s.jsxs(ft,{container:!0,spacing:3,mb:4,children:[s.jsx(ft,{item:!0,xs:12,sm:6,md:3,children:s.jsx(on,{children:s.jsxs(ln,{children:[s.jsxs(Ne,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[s.jsx(tA,{color:"primary"}),s.jsx(Pi,{size:"small",label:`+${y.revenueChange}%`,color:"success",icon:s.jsx(Nm,{})})]}),s.jsx(J,{color:"text.secondary",variant:"body2",children:"Общий доход"}),s.jsxs(J,{variant:"h5",component:"div",children:[y.totalRevenue.toLocaleString("ru-RU")," ₽"]})]})})}),s.jsx(ft,{item:!0,xs:12,sm:6,md:3,children:s.jsx(on,{children:s.jsxs(ln,{children:[s.jsx(Ne,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:s.jsx(yj,{color:"primary"})}),s.jsx(J,{color:"text.secondary",variant:"body2",children:"Количество бронирований"}),s.jsx(J,{variant:"h5",component:"div",children:y.bookingsCount})]})})}),s.jsx(ft,{item:!0,xs:12,sm:6,md:3,children:s.jsx(on,{children:s.jsxs(ln,{children:[s.jsx(Ne,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:s.jsx(tA,{color:"primary"})}),s.jsx(J,{color:"text.secondary",variant:"body2",children:"Средний чек"}),s.jsxs(J,{variant:"h5",component:"div",children:[Math.round(y.averageCheck).toLocaleString("ru-RU")," ₽"]})]})})})]}),s.jsx(on,{children:s.jsxs(ln,{children:[s.jsx(J,{variant:"h6",component:"h3",gutterBottom:!0,children:"Последние транзакции"}),s.jsx(Uh,{component:$n,variant:"outlined",children:s.jsxs(_h,{children:[s.jsx(Lh,{children:s.jsxs(Ia,{children:[s.jsx(Zt,{children:"Дата"}),s.jsx(Zt,{align:"center",children:"Бронирований"}),s.jsx(Zt,{align:"right",children:"Сумма"})]})}),s.jsx(Dh,{children:C.map((T,F)=>{var M;return s.jsxs(Ia,{children:[s.jsx(Zt,{children:(M=T.date)==null?void 0:M.toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"})}),s.jsx(Zt,{align:"center",children:T.bookings}),s.jsxs(Zt,{align:"right",children:[T.revenue.toLocaleString("ru-RU")," ₽"]})]},F)})})]})})]})})]})}function gZ(){const{admin:e}=er(),{isSuperAdmin:t}=Wr(),[n,r]=b.useState(null),[i,a]=b.useState(!0),[o,l]=b.useState({smsEnabled:!1,emailEnabled:!1,pushEnabled:!1,promotions:[]}),[A,c]=b.useState(!1),[d,u]=b.useState({name:"",description:"",discount:10,validUntil:"",active:!0});b.useEffect(()=>{if(t){const x=localStorage.getItem("selectedVenueId");x?(r(x),h(x)):a(!1)}else e!=null&&e.venueId&&h(e.venueId)},[e,t]);const p=x=>{r(x),localStorage.setItem("selectedVenueId",x),x&&h(x)},h=async x=>{const C=x||(e==null?void 0:e.venueId);if(C)try{a(!0);const S=await An(bt(Re,"venues",C));if(S.exists()){const w=S.data();l({smsEnabled:w.marketingSms||!1,emailEnabled:w.marketingEmail||!1,pushEnabled:w.marketingPush||!1,promotions:w.promotions||[]})}}catch(S){console.error("Error loading marketing data:",S)}finally{a(!1)}},m=async x=>{const C=t?n:e==null?void 0:e.venueId;if(!C)return;const S=!o[x];try{await yn(bt(Re,"venues",C),{[`marketing${x.charAt(0).toUpperCase()+x.slice(1).replace("Enabled","")}`]:S}),l(w=>({...w,[x]:S}))}catch(w){console.error("Error updating notification settings:",w)}},g=async()=>{const x=t?n:e==null?void 0:e.venueId;if(!x)return;const C={...d,id:Date.now().toString(),createdAt:new Date};try{const S=[...o.promotions,C];await yn(bt(Re,"venues",x),{promotions:S}),l(w=>({...w,promotions:S})),c(!1),u({name:"",description:"",discount:10,validUntil:"",active:!0})}catch(S){console.error("Error creating promotion:",S)}},y=async x=>{const C=t?n:e==null?void 0:e.venueId;if(C)try{const S=o.promotions.filter(w=>w.id!==x);await yn(bt(Re,"venues",C),{promotions:S}),l(w=>({...w,promotions:S}))}catch(S){console.error("Error deleting promotion:",S)}};return i?s.jsx(Ne,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:s.jsx(Hr,{})}):t&&!n?s.jsx(uA,{title:"Выберите клуб для управления маркетингом"}):s.jsxs(Ne,{children:[t&&s.jsx(dA,{selectedVenueId:n,onVenueChange:p}),s.jsx(J,{variant:"h5",component:"h2",gutterBottom:!0,children:"Маркетинг и продвижение"}),s.jsxs(ft,{container:!0,spacing:3,children:[s.jsx(ft,{item:!0,xs:12,md:6,children:s.jsx(on,{children:s.jsxs(ln,{children:[s.jsx(J,{variant:"h6",component:"h3",gutterBottom:!0,children:"Каналы коммуникации"}),s.jsxs(nh,{children:[s.jsxs(Xa,{children:[s.jsx(Ja,{primary:"SMS-рассылки",secondary:"Отправка СМС клиентам о акциях и напоминаниях"}),s.jsx(Pl,{children:s.jsx(si,{checked:o.smsEnabled,onChange:()=>m("smsEnabled")})})]}),s.jsxs(Xa,{children:[s.jsx(Ja,{primary:"Email-рассылки",secondary:"Отправка писем с новостями и предложениями"}),s.jsx(Pl,{children:s.jsx(si,{checked:o.emailEnabled,onChange:()=>m("emailEnabled")})})]}),s.jsxs(Xa,{children:[s.jsx(Ja,{primary:"Push-уведомления",secondary:"Мгновенные уведомления в мобильном приложении"}),s.jsx(Pl,{children:s.jsx(si,{checked:o.pushEnabled,onChange:()=>m("pushEnabled")})})]})]})]})})}),s.jsx(ft,{item:!0,xs:12,md:6,children:s.jsx(on,{children:s.jsxs(ln,{children:[s.jsx(J,{variant:"h6",component:"h3",gutterBottom:!0,children:"Быстрые действия"}),s.jsxs(ft,{container:!0,spacing:2,children:[s.jsx(ft,{item:!0,xs:12,children:s.jsx(Pt,{variant:"outlined",fullWidth:!0,startIcon:s.jsx(e$,{}),sx:{justifyContent:"flex-start",textAlign:"left"},children:"Генерировать QR-код клуба"})}),s.jsx(ft,{item:!0,xs:12,children:s.jsx(Pt,{variant:"outlined",fullWidth:!0,startIcon:s.jsx(wj,{}),sx:{justifyContent:"flex-start",textAlign:"left"},children:"Поделиться ссылкой на клуб"})}),s.jsx(ft,{item:!0,xs:12,children:s.jsx(Pt,{variant:"outlined",fullWidth:!0,startIcon:s.jsx(U9,{}),sx:{justifyContent:"flex-start",textAlign:"left"},children:"Создать рассылку"})})]})]})})}),s.jsx(ft,{item:!0,xs:12,children:s.jsx(on,{children:s.jsxs(ln,{children:[s.jsxs(Ne,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[s.jsx(J,{variant:"h6",component:"h3",children:"Активные акции"}),s.jsx(Pt,{variant:"contained",startIcon:s.jsx(Ad,{}),onClick:()=>c(!0),children:"Создать акцию"})]}),o.promotions.length===0?s.jsx(nn,{severity:"info",children:"У вас пока нет активных акций. Создайте первую акцию для привлечения клиентов."}):s.jsx(nh,{children:o.promotions.map(x=>s.jsxs(Xa,{children:[s.jsx(Ja,{primary:x.name,secondary:s.jsxs(Ne,{children:[s.jsx(J,{variant:"body2",children:x.description}),s.jsxs(Ne,{mt:1,children:[s.jsx(Pi,{size:"small",label:`-${x.discount}%`,color:"primary",sx:{mr:1}}),x.validUntil&&s.jsx(Pi,{size:"small",label:`До ${new Date(x.validUntil).toLocaleDateString("ru-RU")}`,variant:"outlined"})]})]})}),s.jsx(Pl,{children:s.jsx(Ls,{onClick:()=>y(x.id),children:s.jsx(AA,{})})})]},x.id))})]})})})]}),s.jsxs(lo,{open:A,onClose:()=>c(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(rl,{children:"Создать акцию"}),s.jsxs(Ao,{children:[s.jsx(Dt,{autoFocus:!0,margin:"dense",label:"Название акции",fullWidth:!0,variant:"outlined",value:d.name,onChange:x=>u(C=>({...C,name:x.target.value})),sx:{mb:2}}),s.jsx(Dt,{margin:"dense",label:"Описание",fullWidth:!0,multiline:!0,rows:3,variant:"outlined",value:d.description,onChange:x=>u(C=>({...C,description:x.target.value})),sx:{mb:2}}),s.jsx(Dt,{margin:"dense",label:"Размер скидки (%)",type:"number",fullWidth:!0,variant:"outlined",value:d.discount,onChange:x=>u(C=>({...C,discount:parseInt(x.target.value)||0})),sx:{mb:2}}),s.jsx(Dt,{margin:"dense",label:"Действует до",type:"date",fullWidth:!0,variant:"outlined",InputLabelProps:{shrink:!0},value:d.validUntil,onChange:x=>u(C=>({...C,validUntil:x.target.value}))})]}),s.jsxs(nl,{children:[s.jsx(Pt,{onClick:()=>c(!1),children:"Отмена"}),s.jsx(Pt,{onClick:g,variant:"contained",children:"Создать"})]})]})]})}async function Pk(e){try{console.log("Тестирование через Cloud Function...");const t=Hl(void 0,"europe-west1"),r=await ts(t,"testEmailSending")({testEmail:e});return console.log("✅ Результат отправки через функцию:",r.data),r.data}catch(t){console.error("❌ Ошибка при отправке через функцию:",t),console.log("Попытка отправки напрямую в коллекцию mail...");try{const n=await wa(Et(Re,"mail"),{to:e,message:{subject:"Тест Email Extension - Все Корты",text:"Если вы видите это письмо, значит Firebase Extension работает корректно!",html:`
            <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
              <h2 style="color: #00A86B;">✅ Тест Email Extension</h2>
              <p>Если вы видите это письмо, значит Firebase Extension для отправки email работает корректно!</p>
              <hr style="border: 1px solid #eee; margin: 20px 0;">
              <p style="color: #666; font-size: 14px;">
                Отправлено через Firebase Extension (firestore-send-email)<br>
                Время: ${new Date().toLocaleString("ru-RU")}
              </p>
            </div>
          `}});return console.log("✅ Email добавлен в очередь отправки:",n.id),{success:!0,message:"Email добавлен в очередь",mailId:n.id}}catch(n){throw console.error("❌ Ошибка при добавлении в коллекцию mail:",n),n}}}typeof window<"u"&&(window.testEmailExtension=Pk);const mZ=({defaultEmail:e=""})=>{const[t,n]=b.useState(!1),[r,i]=b.useState(e),[a,o]=b.useState(!1),[l,A]=b.useState(null),c=async()=>{if(!r||!r.includes("@")){A({success:!1,message:"Введите корректный email"});return}o(!0),A(null);try{const d=await Pk(r);A({success:!0,message:`Тестовое письмо отправлено на ${r}`})}catch(d){A({success:!1,message:d.message||"Ошибка при отправке"})}finally{o(!1)}};return s.jsxs(s.Fragment,{children:[s.jsx(Pt,{variant:"contained",startIcon:s.jsx(I1,{}),onClick:()=>n(!0),color:"primary",children:"Отправить тестовое письмо"}),s.jsxs(lo,{open:t,onClose:()=>n(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(rl,{children:"Тестирование отправки Email"}),s.jsx(Ao,{children:s.jsxs(Ne,{sx:{mt:2},children:[s.jsx(Dt,{fullWidth:!0,label:"Email для теста",type:"email",value:r,onChange:d=>i(d.target.value),disabled:a,helperText:"Введите email, на который будет отправлено тестовое письмо"}),l&&s.jsx(nn,{severity:l.success?"success":"error",sx:{mt:2},children:l.message})]})}),s.jsxs(nl,{children:[s.jsx(Pt,{onClick:()=>n(!1),disabled:a,children:"Отмена"}),s.jsx(Pt,{onClick:c,variant:"contained",disabled:a||!r,startIcon:a?s.jsx(Hr,{size:20}):s.jsx(I1,{}),children:a?"Отправка...":"Отправить"})]})]})]})};function VB(e,t,n){vt(2,arguments);var r=ho(e,n),i=ho(t,n);return r.getTime()===i.getTime()}function du(e,t){if(e.one!==void 0&&t===1)return e.one;var n=t%10,r=t%100;return n===1&&r!==11?e.singularNominative.replace("{{count}}",String(t)):n>=2&&n<=4&&(r<10||r>20)?e.singularGenitive.replace("{{count}}",String(t)):e.pluralGenitive.replace("{{count}}",String(t))}function Ts(e){return function(t,n){return n!=null&&n.addSuffix?n.comparison&&n.comparison>0?e.future?du(e.future,t):"через "+du(e.regular,t):e.past?du(e.past,t):du(e.regular,t)+" назад":du(e.regular,t)}}var vZ={lessThanXSeconds:Ts({regular:{one:"меньше секунды",singularNominative:"меньше {{count}} секунды",singularGenitive:"меньше {{count}} секунд",pluralGenitive:"меньше {{count}} секунд"},future:{one:"меньше, чем через секунду",singularNominative:"меньше, чем через {{count}} секунду",singularGenitive:"меньше, чем через {{count}} секунды",pluralGenitive:"меньше, чем через {{count}} секунд"}}),xSeconds:Ts({regular:{singularNominative:"{{count}} секунда",singularGenitive:"{{count}} секунды",pluralGenitive:"{{count}} секунд"},past:{singularNominative:"{{count}} секунду назад",singularGenitive:"{{count}} секунды назад",pluralGenitive:"{{count}} секунд назад"},future:{singularNominative:"через {{count}} секунду",singularGenitive:"через {{count}} секунды",pluralGenitive:"через {{count}} секунд"}}),halfAMinute:function(t,n){return n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"через полминуты":"полминуты назад":"полминуты"},lessThanXMinutes:Ts({regular:{one:"меньше минуты",singularNominative:"меньше {{count}} минуты",singularGenitive:"меньше {{count}} минут",pluralGenitive:"меньше {{count}} минут"},future:{one:"меньше, чем через минуту",singularNominative:"меньше, чем через {{count}} минуту",singularGenitive:"меньше, чем через {{count}} минуты",pluralGenitive:"меньше, чем через {{count}} минут"}}),xMinutes:Ts({regular:{singularNominative:"{{count}} минута",singularGenitive:"{{count}} минуты",pluralGenitive:"{{count}} минут"},past:{singularNominative:"{{count}} минуту назад",singularGenitive:"{{count}} минуты назад",pluralGenitive:"{{count}} минут назад"},future:{singularNominative:"через {{count}} минуту",singularGenitive:"через {{count}} минуты",pluralGenitive:"через {{count}} минут"}}),aboutXHours:Ts({regular:{singularNominative:"около {{count}} часа",singularGenitive:"около {{count}} часов",pluralGenitive:"около {{count}} часов"},future:{singularNominative:"приблизительно через {{count}} час",singularGenitive:"приблизительно через {{count}} часа",pluralGenitive:"приблизительно через {{count}} часов"}}),xHours:Ts({regular:{singularNominative:"{{count}} час",singularGenitive:"{{count}} часа",pluralGenitive:"{{count}} часов"}}),xDays:Ts({regular:{singularNominative:"{{count}} день",singularGenitive:"{{count}} дня",pluralGenitive:"{{count}} дней"}}),aboutXWeeks:Ts({regular:{singularNominative:"около {{count}} недели",singularGenitive:"около {{count}} недель",pluralGenitive:"около {{count}} недель"},future:{singularNominative:"приблизительно через {{count}} неделю",singularGenitive:"приблизительно через {{count}} недели",pluralGenitive:"приблизительно через {{count}} недель"}}),xWeeks:Ts({regular:{singularNominative:"{{count}} неделя",singularGenitive:"{{count}} недели",pluralGenitive:"{{count}} недель"}}),aboutXMonths:Ts({regular:{singularNominative:"около {{count}} месяца",singularGenitive:"около {{count}} месяцев",pluralGenitive:"около {{count}} месяцев"},future:{singularNominative:"приблизительно через {{count}} месяц",singularGenitive:"приблизительно через {{count}} месяца",pluralGenitive:"приблизительно через {{count}} месяцев"}}),xMonths:Ts({regular:{singularNominative:"{{count}} месяц",singularGenitive:"{{count}} месяца",pluralGenitive:"{{count}} месяцев"}}),aboutXYears:Ts({regular:{singularNominative:"около {{count}} года",singularGenitive:"около {{count}} лет",pluralGenitive:"около {{count}} лет"},future:{singularNominative:"приблизительно через {{count}} год",singularGenitive:"приблизительно через {{count}} года",pluralGenitive:"приблизительно через {{count}} лет"}}),xYears:Ts({regular:{singularNominative:"{{count}} год",singularGenitive:"{{count}} года",pluralGenitive:"{{count}} лет"}}),overXYears:Ts({regular:{singularNominative:"больше {{count}} года",singularGenitive:"больше {{count}} лет",pluralGenitive:"больше {{count}} лет"},future:{singularNominative:"больше, чем через {{count}} год",singularGenitive:"больше, чем через {{count}} года",pluralGenitive:"больше, чем через {{count}} лет"}}),almostXYears:Ts({regular:{singularNominative:"почти {{count}} год",singularGenitive:"почти {{count}} года",pluralGenitive:"почти {{count}} лет"},future:{singularNominative:"почти через {{count}} год",singularGenitive:"почти через {{count}} года",pluralGenitive:"почти через {{count}} лет"}})},yZ=function(t,n,r){return vZ[t](n,r)},xZ={full:"EEEE, d MMMM y 'г.'",long:"d MMMM y 'г.'",medium:"d MMM y 'г.'",short:"dd.MM.y"},bZ={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},wZ={any:"{{date}}, {{time}}"},CZ={date:Ic({formats:xZ,defaultWidth:"full"}),time:Ic({formats:bZ,defaultWidth:"full"}),dateTime:Ic({formats:wZ,defaultWidth:"any"})},qx=["воскресенье","понедельник","вторник","среду","четверг","пятницу","субботу"];function BZ(e){var t=qx[e];switch(e){case 0:return"'в прошлое "+t+" в' p";case 1:case 2:case 4:return"'в прошлый "+t+" в' p";case 3:case 5:case 6:return"'в прошлую "+t+" в' p"}}function GB(e){var t=qx[e];return e===2?"'во "+t+" в' p":"'в "+t+" в' p"}function SZ(e){var t=qx[e];switch(e){case 0:return"'в следующее "+t+" в' p";case 1:case 2:case 4:return"'в следующий "+t+" в' p";case 3:case 5:case 6:return"'в следующую "+t+" в' p"}}var jZ={lastWeek:function(t,n,r){var i=t.getUTCDay();return VB(t,n,r)?GB(i):BZ(i)},yesterday:"'вчера в' p",today:"'сегодня в' p",tomorrow:"'завтра в' p",nextWeek:function(t,n,r){var i=t.getUTCDay();return VB(t,n,r)?GB(i):SZ(i)},other:"P"},kZ=function(t,n,r,i){var a=jZ[t];return typeof a=="function"?a(n,r,i):a},EZ={narrow:["до н.э.","н.э."],abbreviated:["до н. э.","н. э."],wide:["до нашей эры","нашей эры"]},IZ={narrow:["1","2","3","4"],abbreviated:["1-й кв.","2-й кв.","3-й кв.","4-й кв."],wide:["1-й квартал","2-й квартал","3-й квартал","4-й квартал"]},FZ={narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","март","апр.","май","июнь","июль","авг.","сент.","окт.","нояб.","дек."],wide:["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"]},NZ={narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","мар.","апр.","мая","июн.","июл.","авг.","сент.","окт.","нояб.","дек."],wide:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"]},TZ={narrow:["В","П","В","С","Ч","П","С"],short:["вс","пн","вт","ср","чт","пт","сб"],abbreviated:["вск","пнд","втр","срд","чтв","птн","суб"],wide:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"]},_Z={narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утро",afternoon:"день",evening:"вечер",night:"ночь"}},DZ={narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утра",afternoon:"дня",evening:"вечера",night:"ночи"}},UZ=function(t,n){var r=Number(t),i=n==null?void 0:n.unit,a;return i==="date"?a="-е":i==="week"||i==="minute"||i==="second"?a="-я":a="-й",r+a},LZ={ordinalNumber:UZ,era:pa({values:EZ,defaultWidth:"wide"}),quarter:pa({values:IZ,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:pa({values:FZ,defaultWidth:"wide",formattingValues:NZ,defaultFormattingWidth:"wide"}),day:pa({values:TZ,defaultWidth:"wide"}),dayPeriod:pa({values:_Z,defaultWidth:"any",formattingValues:DZ,defaultFormattingWidth:"wide"})},MZ=/^(\d+)(-?(е|я|й|ое|ье|ая|ья|ый|ой|ий|ый))?/i,PZ=/\d+/i,QZ={narrow:/^((до )?н\.?\s?э\.?)/i,abbreviated:/^((до )?н\.?\s?э\.?)/i,wide:/^(до нашей эры|нашей эры|наша эра)/i},RZ={any:[/^д/i,/^н/i]},HZ={narrow:/^[1234]/i,abbreviated:/^[1234](-?[ыои]?й?)? кв.?/i,wide:/^[1234](-?[ыои]?й?)? квартал/i},OZ={any:[/1/i,/2/i,/3/i,/4/i]},$Z={narrow:/^[яфмаисонд]/i,abbreviated:/^(янв|фев|март?|апр|ма[йя]|июн[ья]?|июл[ья]?|авг|сент?|окт|нояб?|дек)\.?/i,wide:/^(январ[ья]|феврал[ья]|марта?|апрел[ья]|ма[йя]|июн[ья]|июл[ья]|августа?|сентябр[ья]|октябр[ья]|октябр[ья]|ноябр[ья]|декабр[ья])/i},zZ={narrow:[/^я/i,/^ф/i,/^м/i,/^а/i,/^м/i,/^и/i,/^и/i,/^а/i,/^с/i,/^о/i,/^н/i,/^я/i],any:[/^я/i,/^ф/i,/^мар/i,/^ап/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^ав/i,/^с/i,/^о/i,/^н/i,/^д/i]},WZ={narrow:/^[впсч]/i,short:/^(вс|во|пн|по|вт|ср|чт|че|пт|пя|сб|су)\.?/i,abbreviated:/^(вск|вос|пнд|пон|втр|вто|срд|сре|чтв|чет|птн|пят|суб).?/i,wide:/^(воскресень[ея]|понедельника?|вторника?|сред[аы]|четверга?|пятниц[аы]|суббот[аы])/i},KZ={narrow:[/^в/i,/^п/i,/^в/i,/^с/i,/^ч/i,/^п/i,/^с/i],any:[/^в[ос]/i,/^п[он]/i,/^в/i,/^ср/i,/^ч/i,/^п[ят]/i,/^с[уб]/i]},VZ={narrow:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,abbreviated:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,wide:/^([дп]п|полночь|полдень|утр[оа]|день|дня|вечера?|ноч[ьи])/i},GZ={any:{am:/^дп/i,pm:/^пп/i,midnight:/^полн/i,noon:/^полд/i,morning:/^у/i,afternoon:/^д[ен]/i,evening:/^в/i,night:/^н/i}},qZ={ordinalNumber:wk({matchPattern:MZ,parsePattern:PZ,valueCallback:function(t){return parseInt(t,10)}}),era:ga({matchPatterns:QZ,defaultMatchWidth:"wide",parsePatterns:RZ,defaultParseWidth:"any"}),quarter:ga({matchPatterns:HZ,defaultMatchWidth:"wide",parsePatterns:OZ,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:ga({matchPatterns:$Z,defaultMatchWidth:"wide",parsePatterns:zZ,defaultParseWidth:"any"}),day:ga({matchPatterns:WZ,defaultMatchWidth:"wide",parsePatterns:KZ,defaultParseWidth:"any"}),dayPeriod:ga({matchPatterns:VZ,defaultMatchWidth:"wide",parsePatterns:GZ,defaultParseWidth:"any"})},oi={code:"ru",formatDistance:yZ,formatLong:CZ,formatRelative:kZ,localize:LZ,match:qZ,options:{weekStartsOn:1,firstWeekContainsDate:1}};const tc=Hl(void 0,"europe-west1");function uu(e){const{children:t,value:n,index:r,...i}=e;return s.jsx("div",{role:"tabpanel",hidden:n!==r,id:`settings-tabpanel-${r}`,"aria-labelledby":`settings-tab-${r}`,...i,children:n===r&&s.jsx(Ne,{sx:{pt:3},children:t})})}function YZ(){var G,ie,ne,xe,re,ge,le,be,ue,ae,He,we,me,Ie,Te,Oe,qe,nt,ht,rt,ot,At,We,jt,ye,fe,de,Ue,ve,je;const{admin:e}=er(),{isSuperAdmin:t}=Wr(),n=rs(),[r,i]=b.useState(0),[a,o]=b.useState({superAdminEmails:[]}),[l,A]=b.useState(""),[c,d]=b.useState(!0),[u,p]=b.useState(!1),[h,m]=b.useState(!1),[g,y]=b.useState(""),[x,C]=b.useState({provider:"smsru",testMode:!1,smsruApiId:""}),[S,w]=b.useState(!0),[_,E]=b.useState(!1),[T,F]=b.useState(""),[M,P]=b.useState(!1),[I,j]=b.useState({bookingConfirmation:{enabled:!0,template:"Бронирование подтверждено! {venue}, {date} в {time}"},bookingReminder:{enabled:!0,template:"Напоминание: через 2 часа игра в {venue}, корт {court}",hoursBeforeGame:2},bookingCancellation:{enabled:!0,template:"Игра {date} в {time} в {venue} отменена"},bookingModification:{enabled:!0,template:"Изменение: игра перенесена на {time}, корт {court}"},authCode:{enabled:!0,template:"Ваш код для входа в Все Корты: {code}"},paymentLink:{enabled:!0,template:"Оплатите бронь по ссылке: {link}"}}),[U,N]=b.useState(!1),[z,L]=b.useState({totalSent:0,lastSent:null,recentLogs:[]});mn.useEffect(()=>{t?(D(),K(),q(),$()):n("/admin/dashboard")},[t,n]);const D=async()=>{try{const pe=bt(Re,"settings","notifications"),Ee=await An(pe);if(Ee.exists()){const Ze=Ee.data();o(Ze)}}catch(pe){console.error("Error loading notification settings:",pe),y("Ошибка загрузки настроек")}finally{d(!1)}},K=async()=>{try{const Ze=(await ts(tc,"getSMSSettings")()).data;C({provider:"smsru",testMode:Ze.testMode||!1,smsruApiId:Ze.smsruApiId||""})}catch(pe){console.error("Error loading SMS settings:",pe)}finally{w(!1)}},q=async()=>{try{const Ze=(await ts(tc,"getSMSStats")()).data;let ze=null;if(Ze.lastSent)try{ze=new Date(Ze.lastSent),isNaN(ze.getTime())&&(ze=null)}catch(lt){console.error("Error parsing lastSent date:",lt),ze=null}const dt=(Ze.recentLogs||[]).map(lt=>{let Ve=null;if(lt.timestamp)try{Ve=new Date(lt.timestamp),isNaN(Ve.getTime())&&(Ve=null)}catch(De){console.error("Error parsing log timestamp:",De),Ve=null}return{...lt,timestamp:Ve}});L({totalSent:Ze.totalSent||0,lastSent:ze,recentLogs:dt})}catch(pe){console.error("Error loading SMS stats:",pe)}},Z=pe=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(pe),Ae=async()=>{if(!l){y("Введите email");return}if(!Z(l)){y("Неверный формат email");return}if(a.superAdminEmails.includes(l)){y("Этот email уже добавлен");return}p(!0),y("");try{const pe=[...a.superAdminEmails,l],Ee=bt(Re,"settings","notifications");await yy(Ee,{superAdminEmails:pe,updatedAt:new Date},{merge:!0}),o({...a,superAdminEmails:pe}),A(""),m(!0)}catch(pe){console.error("Error adding email:",pe),y("Ошибка при добавлении email")}finally{p(!1)}},H=async pe=>{p(!0),y("");try{const Ee=a.superAdminEmails.filter(ze=>ze!==pe),Ze=bt(Re,"settings","notifications");await yn(Ze,{superAdminEmails:Ee,updatedAt:new Date}),o({...a,superAdminEmails:Ee}),m(!0)}catch(Ee){console.error("Error removing email:",Ee),y("Ошибка при удалении email")}finally{p(!1)}},R=async()=>{E(!0);try{await ts(tc,"updateSMSSettings")(x),m(!0),await K()}catch(pe){console.error("Error saving SMS settings:",pe),y("Ошибка сохранения настроек SMS")}finally{E(!1)}},Q=async()=>{if(!T){y("Введите номер телефона для тестирования");return}P(!0);try{const Ze=(await ts(tc,"testSMSSending")({phoneNumber:T})).data;Ze.success?m(!0):y(Ze.message),await q()}catch(pe){console.error("Error testing SMS:",pe),y("Ошибка отправки тестового SMS")}finally{P(!1)}},$=async()=>{var pe,Ee,Ze,ze,dt,lt,Ve,De,Qe,it,ct,Gt,Ht;try{const Mt=(await ts(tc,"getSMSTemplates")()).data;j({bookingConfirmation:{enabled:((pe=Mt==null?void 0:Mt.bookingConfirmation)==null?void 0:pe.enabled)??!0,template:((Ee=Mt==null?void 0:Mt.bookingConfirmation)==null?void 0:Ee.template)||"Бронирование подтверждено! {venue}, {date} в {time}"},bookingReminder:{enabled:((Ze=Mt==null?void 0:Mt.bookingReminder)==null?void 0:Ze.enabled)??!0,template:((ze=Mt==null?void 0:Mt.bookingReminder)==null?void 0:ze.template)||"Напоминание: через 2 часа игра в {venue}, корт {court}",hoursBeforeGame:((dt=Mt==null?void 0:Mt.bookingReminder)==null?void 0:dt.hoursBeforeGame)||2},bookingCancellation:{enabled:((lt=Mt==null?void 0:Mt.bookingCancellation)==null?void 0:lt.enabled)??!0,template:((Ve=Mt==null?void 0:Mt.bookingCancellation)==null?void 0:Ve.template)||"Игра {date} в {time} в {venue} отменена"},bookingModification:{enabled:((De=Mt==null?void 0:Mt.bookingModification)==null?void 0:De.enabled)??!0,template:((Qe=Mt==null?void 0:Mt.bookingModification)==null?void 0:Qe.template)||"Изменение: игра перенесена на {time}, корт {court}"},authCode:{enabled:((it=Mt==null?void 0:Mt.authCode)==null?void 0:it.enabled)??!0,template:((ct=Mt==null?void 0:Mt.authCode)==null?void 0:ct.template)||"Ваш код для входа в Все Корты: {code}"},paymentLink:{enabled:((Gt=Mt==null?void 0:Mt.paymentLink)==null?void 0:Gt.enabled)??!0,template:((Ht=Mt==null?void 0:Mt.paymentLink)==null?void 0:Ht.template)||"Оплатите бронь по ссылке: {link}"}})}catch(St){console.error("Error loading SMS templates:",St)}},V=async()=>{N(!0);try{await ts(tc,"updateSMSTemplates")(I),m(!0)}catch(pe){console.error("Error saving SMS templates:",pe),y("Ошибка сохранения шаблонов SMS")}finally{N(!1)}};return t?s.jsxs(Ne,{sx:{p:3},children:[s.jsxs(Ne,{sx:{mb:4,display:"flex",alignItems:"center",gap:2},children:[s.jsx(_x,{sx:{fontSize:32,color:"primary.main"}}),s.jsx(J,{variant:"h4",fontWeight:"bold",children:"Системные настройки"})]}),s.jsx(nn,{severity:"info",sx:{mb:3},children:"Данный раздел доступен только суперадминистраторам системы"}),s.jsx(Ne,{sx:{borderBottom:1,borderColor:"divider"},children:s.jsxs(B9,{value:r,onChange:(pe,Ee)=>i(Ee),children:[s.jsx(nu,{label:"Email уведомления"}),s.jsx(nu,{label:"SMS настройки"}),s.jsx(nu,{label:"Безопасность"}),s.jsx(nu,{label:"База данных"}),s.jsx(nu,{label:"Страницы оплаты"})]})}),s.jsx(uu,{value:r,index:0,children:s.jsxs(ft,{container:!0,spacing:3,children:[s.jsx(ft,{item:!0,xs:12,children:s.jsx(on,{children:s.jsxs(ln,{children:[s.jsxs(Ne,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[s.jsx(k1,{color:"primary"}),s.jsx(J,{variant:"h6",children:"Email уведомления для суперадминистраторов"})]}),s.jsx(J,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Эти email адреса будут получать уведомления о новых регистрациях клубов и других важных событиях"}),s.jsx(Si,{sx:{my:2}}),c?s.jsx(Ne,{sx:{display:"flex",justifyContent:"center",py:3},children:s.jsx(Hr,{})}):s.jsxs(s.Fragment,{children:[s.jsx(Ne,{sx:{mb:3},children:s.jsxs(Ne,{sx:{display:"flex",gap:2,mb:2},children:[s.jsx(Dt,{fullWidth:!0,size:"small",label:"Email для уведомлений",value:l,onChange:pe=>A(pe.target.value),onKeyPress:pe=>{pe.key==="Enter"&&Ae()},error:!!g&&r===0,helperText:r===0?g:"",disabled:u}),s.jsx(Pt,{variant:"contained",onClick:Ae,disabled:u||!l,startIcon:s.jsx(Ad,{}),children:"Добавить"})]})}),s.jsx(nh,{sx:{maxHeight:300,overflow:"auto"},children:a.superAdminEmails.length===0?s.jsx(Xa,{children:s.jsx(Ja,{primary:"Нет добавленных email адресов",primaryTypographyProps:{color:"text.secondary",align:"center"}})}):a.superAdminEmails.map(pe=>s.jsxs(Xa,{children:[s.jsx(Ja,{primary:pe,primaryTypographyProps:{fontWeight:500}}),s.jsx(Pl,{children:s.jsx(Ls,{edge:"end","aria-label":"delete",onClick:()=>H(pe),disabled:u,children:s.jsx(AA,{})})})]},pe))})]})]})})}),s.jsx(ft,{item:!0,xs:12,md:6,children:s.jsx(on,{children:s.jsxs(ln,{children:[s.jsxs(Ne,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[s.jsx(k1,{color:"primary"}),s.jsx(J,{variant:"h6",children:"Тестирование Email"})]}),s.jsx(J,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Проверка работы email уведомлений"}),s.jsx(Si,{sx:{my:2}}),s.jsxs(Ne,{sx:{mb:2},children:[s.jsx(J,{variant:"subtitle2",gutterBottom:!0,children:"Текущие настройки:"}),s.jsx(J,{variant:"body2",color:"text.secondary",children:"SMTP сервер: smtp.timeweb.ru:465"}),s.jsx(J,{variant:"body2",color:"text.secondary",children:"От кого: noreply@allcourt.ru"})]}),s.jsx(mZ,{defaultEmail:(e==null?void 0:e.email)||""})]})})})]})}),s.jsx(uu,{value:r,index:1,children:s.jsxs(ft,{container:!0,spacing:3,children:[s.jsx(ft,{item:!0,xs:12,lg:6,children:s.jsx(on,{children:s.jsxs(ln,{children:[s.jsxs(Ne,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[s.jsx(E1,{color:"primary"}),s.jsx(J,{variant:"h6",children:"Настройки SMS"})]}),S?s.jsx(Ne,{sx:{display:"flex",justifyContent:"center",py:3},children:s.jsx(Hr,{})}):s.jsxs(s.Fragment,{children:[s.jsx(nn,{severity:"info",sx:{mb:2},children:s.jsxs(Ne,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.jsx(i$,{fontSize:"small"}),s.jsx(J,{variant:"body2",children:"API ключи хранятся в зашифрованном виде"})]})}),s.jsx(Ne,{sx:{mb:3},children:s.jsx(ds,{control:s.jsx(si,{checked:x.testMode,onChange:pe=>C({...x,testMode:pe.target.checked})}),label:x.testMode?"Тестовый режим":"Боевой режим"})}),s.jsx(Ne,{sx:{mb:3},children:s.jsx(J,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"SMS провайдер: SMS.RU"})}),s.jsx(Dt,{fullWidth:!0,label:"API ID для SMS.RU",value:x.smsruApiId,onChange:pe=>C({...x,smsruApiId:pe.target.value}),type:"password",sx:{mb:2},helperText:"Получите API ID в личном кабинете SMS.RU"}),s.jsx(Pt,{variant:"contained",fullWidth:!0,onClick:R,disabled:_,children:"Сохранить настройки"}),s.jsx(Si,{sx:{my:3}}),s.jsx(J,{variant:"h6",gutterBottom:!0,children:"Тестирование отправки"}),s.jsxs(Ne,{sx:{display:"flex",gap:2},children:[s.jsx(Dt,{fullWidth:!0,placeholder:"+7 (999) 123-45-67",value:T,onChange:pe=>F(pe.target.value)}),s.jsx(Pt,{variant:"outlined",onClick:Q,disabled:M,startIcon:s.jsx(I1,{}),children:"Отправить"})]})]})]})})}),s.jsx(ft,{item:!0,xs:12,lg:6,children:s.jsx(on,{children:s.jsxs(ln,{children:[s.jsxs(Ne,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[s.jsx(J,{variant:"h6",children:"Статистика SMS"}),s.jsx(Ls,{onClick:q,size:"small",children:s.jsx(xj,{})})]}),s.jsxs(ft,{container:!0,spacing:2,sx:{mb:2},children:[s.jsxs(ft,{item:!0,xs:6,children:[s.jsx(J,{variant:"h4",color:"primary",children:z.totalSent}),s.jsx(J,{variant:"body2",color:"text.secondary",children:"Всего отправлено"})]}),s.jsxs(ft,{item:!0,xs:6,children:[s.jsx(J,{variant:"body1",children:z.lastSent&&!isNaN(z.lastSent.getTime())?en(z.lastSent,"dd.MM.yyyy HH:mm",{locale:oi}):"Нет данных"}),s.jsx(J,{variant:"body2",color:"text.secondary",children:"Последняя отправка"})]})]}),s.jsx(Si,{sx:{my:2}}),s.jsx(J,{variant:"subtitle2",gutterBottom:!0,children:"Последние отправки"}),s.jsx(Uh,{component:$n,variant:"outlined",sx:{maxHeight:300},children:s.jsxs(_h,{size:"small",stickyHeader:!0,children:[s.jsx(Lh,{children:s.jsxs(Ia,{children:[s.jsx(Zt,{children:"Дата"}),s.jsx(Zt,{children:"Телефон"}),s.jsx(Zt,{children:"Статус"})]})}),s.jsx(Dh,{children:z.recentLogs.map(pe=>s.jsxs(Ia,{children:[s.jsx(Zt,{children:pe.timestamp&&!isNaN(pe.timestamp.getTime())?en(pe.timestamp,"dd.MM HH:mm"):"-"}),s.jsx(Zt,{children:pe.phone}),s.jsx(Zt,{children:s.jsx(Pi,{label:pe.testMode?"Тест":pe.success?"Успешно":"Ошибка",size:"small",color:pe.testMode?"info":pe.success?"success":"error"})})]},pe.id))})]})})]})})}),s.jsx(ft,{item:!0,xs:12,children:s.jsx(on,{children:s.jsxs(ln,{children:[s.jsxs(Ne,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[s.jsx(E1,{color:"primary"}),s.jsx(J,{variant:"h6",children:"Шаблоны SMS уведомлений"})]}),s.jsx(J,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Настройте тексты SMS уведомлений (максимум 70 символов)"}),s.jsxs(nn,{severity:"warning",sx:{mb:2},children:[s.jsx(Zl,{children:"Важная информация"}),"SMS уведомления о бронировании отправляются ",s.jsx("strong",{children:"только при онлайн оплате"})," через YooKassa или T-Bank. При оплате наличными, картой в клубе или переводом SMS не отправляются, даже если администратор отметит оплату как полученную."]}),s.jsx(Si,{sx:{my:2}}),s.jsxs(ft,{container:!0,spacing:3,children:[s.jsx(ft,{item:!0,xs:12,md:6,children:s.jsxs(Ne,{sx:{mb:3},children:[s.jsxs(Ne,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:[s.jsx(J,{variant:"subtitle2",children:"Подтверждение бронирования"}),s.jsx(ds,{control:s.jsx(si,{size:"small",checked:((G=I.bookingConfirmation)==null?void 0:G.enabled)??!0,onChange:pe=>j({...I,bookingConfirmation:{...I.bookingConfirmation,enabled:pe.target.checked}})}),label:""})]}),s.jsx(Dt,{fullWidth:!0,size:"small",value:((ie=I.bookingConfirmation)==null?void 0:ie.template)||"",onChange:pe=>j({...I,bookingConfirmation:{...I.bookingConfirmation,template:pe.target.value}}),disabled:!((ne=I.bookingConfirmation)!=null&&ne.enabled),helperText:s.jsxs(s.Fragment,{children:[s.jsx("span",{children:`${(((xe=I.bookingConfirmation)==null?void 0:xe.template)||"").length}/70 символов. Доступны: {venue}, {date}, {time}`}),s.jsx("br",{}),s.jsx("small",{style:{color:"#f57c00"},children:"⚠️ Отправляется только при онлайн оплате через YooKassa/T-Bank"})]}),error:(((re=I.bookingConfirmation)==null?void 0:re.template)||"").length>70})]})}),s.jsx(ft,{item:!0,xs:12,md:6,children:s.jsxs(Ne,{sx:{mb:3},children:[s.jsxs(Ne,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:[s.jsx(J,{variant:"subtitle2",children:"Напоминание (за 2 часа)"}),s.jsx(ds,{control:s.jsx(si,{size:"small",checked:((ge=I.bookingReminder)==null?void 0:ge.enabled)??!0,onChange:pe=>j({...I,bookingReminder:{...I.bookingReminder,enabled:pe.target.checked}})}),label:""})]}),s.jsx(Dt,{fullWidth:!0,size:"small",value:((le=I.bookingReminder)==null?void 0:le.template)||"",onChange:pe=>j({...I,bookingReminder:{...I.bookingReminder,template:pe.target.value}}),disabled:!((be=I.bookingReminder)!=null&&be.enabled),helperText:s.jsxs(s.Fragment,{children:[s.jsx("span",{children:`${(((ue=I.bookingReminder)==null?void 0:ue.template)||"").length}/70 символов. Доступны: {venue}, {court}, {time}`}),s.jsx("br",{}),s.jsx("small",{style:{color:"#f57c00"},children:"⚠️ Отправляется только для оплаченных онлайн бронирований за 2 часа до игры"})]}),error:(((ae=I.bookingReminder)==null?void 0:ae.template)||"").length>70})]})}),s.jsx(ft,{item:!0,xs:12,md:6,children:s.jsxs(Ne,{sx:{mb:3},children:[s.jsxs(Ne,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:[s.jsx(J,{variant:"subtitle2",children:"Отмена бронирования"}),s.jsx(ds,{control:s.jsx(si,{size:"small",checked:((He=I.bookingCancellation)==null?void 0:He.enabled)??!0,onChange:pe=>j({...I,bookingCancellation:{...I.bookingCancellation,enabled:pe.target.checked}})}),label:""})]}),s.jsx(Dt,{fullWidth:!0,size:"small",value:((we=I.bookingCancellation)==null?void 0:we.template)||"",onChange:pe=>j({...I,bookingCancellation:{...I.bookingCancellation,template:pe.target.value}}),disabled:!((me=I.bookingCancellation)!=null&&me.enabled),helperText:s.jsxs(s.Fragment,{children:[s.jsx("span",{children:`${(((Ie=I.bookingCancellation)==null?void 0:Ie.template)||"").length}/70 символов. Доступны: {venue}, {date}, {time}`}),s.jsx("br",{}),s.jsx("small",{style:{color:"#f57c00"},children:"⚠️ Отправляется только при автоматической отмене или возврате онлайн платежа"})]}),error:(((Te=I.bookingCancellation)==null?void 0:Te.template)||"").length>70})]})}),s.jsx(ft,{item:!0,xs:12,md:6,children:s.jsxs(Ne,{sx:{mb:3},children:[s.jsxs(Ne,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:[s.jsx(J,{variant:"subtitle2",children:"Изменение бронирования"}),s.jsx(ds,{control:s.jsx(si,{size:"small",checked:((Oe=I.bookingModification)==null?void 0:Oe.enabled)??!0,onChange:pe=>j({...I,bookingModification:{...I.bookingModification,enabled:pe.target.checked}})}),label:""})]}),s.jsx(Dt,{fullWidth:!0,size:"small",value:((qe=I.bookingModification)==null?void 0:qe.template)||"",onChange:pe=>j({...I,bookingModification:{...I.bookingModification,template:pe.target.value}}),disabled:!((nt=I.bookingModification)!=null&&nt.enabled),helperText:s.jsxs(s.Fragment,{children:[s.jsx("span",{children:`${(((ht=I.bookingModification)==null?void 0:ht.template)||"").length}/70 символов. Доступны: {time}, {court}`}),s.jsx("br",{}),s.jsx("small",{children:"Отправляется при изменении времени, корта или даты бронирования"})]}),error:(((rt=I.bookingModification)==null?void 0:rt.template)||"").length>70})]})}),s.jsx(ft,{item:!0,xs:12,md:6,children:s.jsxs(Ne,{sx:{mb:3},children:[s.jsxs(Ne,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:[s.jsx(J,{variant:"subtitle2",children:"Код авторизации"}),s.jsx(ds,{control:s.jsx(si,{size:"small",checked:((ot=I.authCode)==null?void 0:ot.enabled)??!0,onChange:pe=>j({...I,authCode:{...I.authCode,enabled:pe.target.checked}})}),label:""})]}),s.jsx(Dt,{fullWidth:!0,size:"small",value:((At=I.authCode)==null?void 0:At.template)||"",onChange:pe=>j({...I,authCode:{...I.authCode,template:pe.target.value}}),disabled:!((We=I.authCode)!=null&&We.enabled),helperText:s.jsxs(s.Fragment,{children:[s.jsx("span",{children:`${(((jt=I.authCode)==null?void 0:jt.template)||"").length}/70 символов. Доступны: {code}`}),s.jsx("br",{}),s.jsx("small",{children:"Отправляется при авторизации по SMS в мобильном приложении"})]}),error:(((ye=I.authCode)==null?void 0:ye.template)||"").length>70})]})}),s.jsx(ft,{item:!0,xs:12,md:6,children:s.jsxs(Ne,{sx:{mb:3},children:[s.jsxs(Ne,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:[s.jsx(J,{variant:"subtitle2",children:"Ссылка на оплату"}),s.jsx(ds,{control:s.jsx(si,{size:"small",checked:((fe=I.paymentLink)==null?void 0:fe.enabled)??!0,onChange:pe=>j({...I,paymentLink:{...I.paymentLink,enabled:pe.target.checked}})}),label:""})]}),s.jsx(Dt,{fullWidth:!0,size:"small",value:((de=I.paymentLink)==null?void 0:de.template)||"",onChange:pe=>j({...I,paymentLink:{...I.paymentLink,template:pe.target.value}}),disabled:!((Ue=I.paymentLink)!=null&&Ue.enabled),helperText:s.jsxs(s.Fragment,{children:[s.jsx("span",{children:`${(((ve=I.paymentLink)==null?void 0:ve.template)||"").length}/70 символов. Доступны: {name}, {date}, {time}, {link}`}),s.jsx("br",{}),s.jsx("small",{children:"Отправляется при создании бронирования с онлайн оплатой в админ панели"})]}),error:(((je=I.paymentLink)==null?void 0:je.template)||"").length>70})]})})]}),s.jsx(Pt,{variant:"contained",fullWidth:!0,onClick:V,disabled:U,startIcon:U?s.jsx(Hr,{size:20}):null,children:U?"Сохранение...":"Сохранить шаблоны"})]})})})]})}),s.jsx(uu,{value:r,index:2,children:s.jsx(on,{children:s.jsxs(ln,{children:[s.jsxs(Ne,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[s.jsx(Tx,{color:"primary"}),s.jsx(J,{variant:"h6",children:"Безопасность"})]}),s.jsx(J,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Настройки безопасности и доступа"}),s.jsx(Si,{sx:{my:2}}),s.jsx(J,{variant:"body2",color:"text.secondary",children:"Раздел в разработке"})]})})}),s.jsx(uu,{value:r,index:3,children:s.jsx(on,{children:s.jsxs(ln,{children:[s.jsxs(Ne,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[s.jsx(a$,{color:"primary"}),s.jsx(J,{variant:"h6",children:"База данных"})]}),s.jsx(J,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Информация о базе данных"}),s.jsx(Si,{sx:{my:2}}),s.jsxs(Ne,{children:[s.jsx(J,{variant:"subtitle2",gutterBottom:!0,children:"Firestore:"}),s.jsx(J,{variant:"body2",color:"text.secondary",children:"Проект: sports-booking-app-1d7e5"}),s.jsx(J,{variant:"body2",color:"text.secondary",children:"Регион: europe-west1"})]})]})})}),s.jsx(uu,{value:r,index:4,children:s.jsx(ft,{container:!0,spacing:3,children:s.jsx(ft,{item:!0,xs:12,children:s.jsx(on,{children:s.jsxs(ln,{children:[s.jsxs(Ne,{sx:{display:"flex",alignItems:"center",gap:2,mb:3},children:[s.jsx(Cc,{color:"primary",fontSize:"large"}),s.jsx(J,{variant:"h5",fontWeight:"bold",children:"🔗 Страницы подтверждения бронирования и их URL"})]}),s.jsxs(nn,{severity:"info",sx:{mb:3},children:[s.jsx(Zl,{children:"Структура URL страниц"}),s.jsxs(J,{variant:"body2",sx:{mt:1},children:[s.jsx("strong",{children:"Базовый URL:"})," https://sports-booking-app-1d7e5.web.app"]}),s.jsx(J,{variant:"body2",sx:{mt:1},children:"После создания бронирования с онлайн оплатой, клиент перенаправляется на страницу оплаты YooKassa. После оплаты или отмены, он возвращается на страницу подтверждения, которая показывает разное содержимое в зависимости от статуса бронирования и оплаты."})]}),s.jsx(J,{variant:"h6",sx:{mt:3,mb:2},children:"Состояния страницы подтверждения"}),s.jsxs($n,{sx:{p:2,mb:2,backgroundColor:"#e8f5e9",border:"2px solid #4caf50"},children:[s.jsxs(Ne,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[s.jsx(Fm,{sx:{color:"#4caf50"}}),s.jsx(J,{variant:"subtitle1",fontWeight:"bold",children:"1. Успешная оплата"})]}),s.jsx(Ne,{sx:{mt:2,p:1.5,bgcolor:"white",borderRadius:1,fontFamily:"monospace",border:"1px solid #e0e0e0"},children:s.jsxs(J,{variant:"body2",sx:{wordBreak:"break-all",color:"#1976d2"},children:["/club/",s.jsx("span",{style:{color:"#059669",fontWeight:"bold"},children:"{clubId}"}),"/booking-confirmation/",s.jsx("span",{style:{color:"#059669",fontWeight:"bold"},children:"{bookingId}"})]})}),s.jsxs(J,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},children:[s.jsx("strong",{children:"Пример:"})," /club/abc123/booking-confirmation/booking456"]}),s.jsxs(J,{variant:"body2",sx:{mt:2},children:[s.jsx("strong",{children:"Когда появляется:"})," После успешной оплаты через YooKassa"]}),s.jsxs(J,{variant:"body2",paragraph:!0,children:[s.jsx("strong",{children:"Статус в БД:"})," ",s.jsx("code",{children:"paymentStatus: 'paid'"}),", ",s.jsx("code",{children:"status: 'confirmed'"})]}),s.jsxs(J,{variant:"body2",children:[s.jsx("strong",{children:"Что видит клиент:"}),' Зеленый хедер с галочкой ✅, заголовок "Бронирование подтверждено!", детали бронирования, инструкции по отмене']})]}),s.jsxs($n,{sx:{p:2,mb:2,backgroundColor:"#fff3cd",border:"2px solid #ff9800"},children:[s.jsxs(Ne,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[s.jsx(W9,{sx:{color:"#ff9800"}}),s.jsx(J,{variant:"subtitle1",fontWeight:"bold",children:"2. Ожидание оплаты (15 минут на оплату)"})]}),s.jsx(Ne,{sx:{mt:2,p:1.5,bgcolor:"white",borderRadius:1,fontFamily:"monospace",border:"1px solid #e0e0e0"},children:s.jsxs(J,{variant:"body2",sx:{wordBreak:"break-all",color:"#1976d2"},children:["/club/",s.jsx("span",{style:{color:"#B45309",fontWeight:"bold"},children:"{clubId}"}),"/booking-confirmation/",s.jsx("span",{style:{color:"#B45309",fontWeight:"bold"},children:"{bookingId}"})]})}),s.jsxs(J,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},children:[s.jsx("strong",{children:"Та же страница"}),", но с paymentStatus = 'awaiting_payment'"]}),s.jsxs(J,{variant:"body2",sx:{mt:2},children:[s.jsx("strong",{children:"Когда появляется:"}),' Клиент вышел из YooKassa без оплаты (нажал "Отменить" или вернулся назад)']}),s.jsxs(J,{variant:"body2",paragraph:!0,children:[s.jsx("strong",{children:"Статус в БД:"})," ",s.jsx("code",{children:"paymentStatus: 'awaiting_payment'"})]}),s.jsxs(J,{variant:"body2",paragraph:!0,children:[s.jsx("strong",{children:"Что видит клиент:"}),' Желтый хедер с часами ⏰, заголовок "Требуется оплата!", большой таймер обратного отсчета (15:00 → 00:00), анимированная кнопка "💳 Оплатить сейчас", кнопка "Отменить бронирование"']}),s.jsxs(J,{variant:"body2",color:"warning.main",children:[s.jsx("strong",{children:"⚠️ Важно:"})," Бронирование автоматически отменяется через 15 минут без оплаты"]})]}),s.jsxs($n,{sx:{p:2,mb:2,backgroundColor:"#ffebee",border:"2px solid #f44336"},children:[s.jsxs(Ne,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[s.jsx(xa,{sx:{color:"#f44336"}}),s.jsx(J,{variant:"subtitle1",fontWeight:"bold",children:"3. Бронирование отменено"})]}),s.jsx(Ne,{sx:{mt:2,p:1.5,bgcolor:"white",borderRadius:1,fontFamily:"monospace",border:"1px solid #e0e0e0"},children:s.jsxs(J,{variant:"body2",sx:{wordBreak:"break-all",color:"#1976d2"},children:["/club/",s.jsx("span",{style:{color:"#DC2626",fontWeight:"bold"},children:"{clubId}"}),"/booking-confirmation/",s.jsx("span",{style:{color:"#DC2626",fontWeight:"bold"},children:"{bookingId}"})]})}),s.jsxs(J,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},children:[s.jsx("strong",{children:"Та же страница"}),", показывает специальное сообщение об отмене"]}),s.jsx(J,{variant:"body2",sx:{mt:2},children:s.jsx("strong",{children:"Когда появляется:"})}),s.jsxs("ul",{style:{margin:"8px 0 8px 24px"},children:[s.jsx("li",{children:s.jsx(J,{variant:"body2",children:"Истекло 15 минут без оплаты"})}),s.jsx("li",{children:s.jsx(J,{variant:"body2",children:"Админ отменил бронирование"})}),s.jsx("li",{children:s.jsx(J,{variant:"body2",children:"Клиент отменил через мобильное приложение"})})]}),s.jsxs(J,{variant:"body2",paragraph:!0,children:[s.jsx("strong",{children:"Статус в БД:"})," ",s.jsx("code",{children:"status: 'cancelled'"})," или ",s.jsx("code",{children:"paymentStatus: 'cancelled'/'expired'"})]}),s.jsxs(J,{variant:"body2",children:[s.jsx("strong",{children:"Что видит клиент:"}),' Красный крестик ❌, заголовок "Бронирование отменено", список возможных причин отмены, кнопки возврата к клубу и на главную']})]}),s.jsxs($n,{sx:{p:2,mb:2,backgroundColor:"#ffebee",border:"2px solid #f44336"},children:[s.jsxs(Ne,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[s.jsx(R9,{sx:{color:"#f44336"}}),s.jsx(J,{variant:"subtitle1",fontWeight:"bold",children:"4. Ошибка оплаты"})]}),s.jsx(Ne,{sx:{mt:2,p:1.5,bgcolor:"white",borderRadius:1,fontFamily:"monospace",border:"1px solid #e0e0e0"},children:s.jsxs(J,{variant:"body2",sx:{wordBreak:"break-all",color:"#1976d2"},children:["/club/",s.jsx("span",{style:{color:"#DC2626",fontWeight:"bold"},children:"{clubId}"}),"/payment-error?paymentError=true&bookingId=",s.jsx("span",{style:{color:"#DC2626",fontWeight:"bold"},children:"{bookingId}"})]})}),s.jsxs(J,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},children:[s.jsx("strong",{children:"Пример:"})," /club/abc123/payment-error?paymentError=true&bookingId=booking456"]}),s.jsxs(J,{variant:"body2",sx:{mt:2},children:[s.jsx("strong",{children:"Когда появляется:"})," Техническая ошибка при создании платежа в YooKassa/T-Bank"]}),s.jsxs(J,{variant:"body2",paragraph:!0,children:[s.jsx("strong",{children:"Статус в БД:"})," ",s.jsx("code",{children:"paymentStatus: 'error'"})]}),s.jsxs(J,{variant:"body2",paragraph:!0,children:[s.jsx("strong",{children:"Что видит клиент:"}),' Красный хедер с крестиком ❌, заголовок "Ошибка оплаты", рекомендация связаться с администратором']}),s.jsxs(J,{variant:"body2",color:"warning.main",children:[s.jsx("strong",{children:"⚠️ Важно:"})," Бронирования с этим статусом НЕ занимают слоты в календаре"]})]}),s.jsxs($n,{sx:{p:2,mb:2,backgroundColor:"#e8eaf6"},children:[s.jsxs(Ne,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[s.jsx(xa,{sx:{color:"#8B5CF6"}}),s.jsx(J,{variant:"subtitle1",fontWeight:"bold",children:"5. Возврат средств"})]}),s.jsxs(J,{variant:"body2",paragraph:!0,children:[s.jsx("strong",{children:"Когда появляется:"})," Администратор выполнил возврат средств клиенту"]}),s.jsxs(J,{variant:"body2",paragraph:!0,children:[s.jsx("strong",{children:"Статус в БД:"})," ",s.jsx("code",{children:"paymentStatus: 'refunded'"})]}),s.jsxs(J,{variant:"body2",paragraph:!0,children:[s.jsx("strong",{children:"Что видит клиент:"})," Информация о возврате средств"]}),s.jsxs(J,{variant:"body2",color:"info.main",children:[s.jsx("strong",{children:"ℹ️ Важно:"})," Бронирования с этим статусом НЕ занимают слоты в календаре"]})]}),s.jsxs($n,{sx:{p:2,mb:2,backgroundColor:"#e3f2fd",border:"2px solid #2196f3"},children:[s.jsxs(Ne,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[s.jsx(z9,{sx:{color:"#2196f3"}}),s.jsx(J,{variant:"subtitle1",fontWeight:"bold",children:"6. Обработка платежа (редко)"})]}),s.jsx(Ne,{sx:{mt:2,p:1.5,bgcolor:"white",borderRadius:1,fontFamily:"monospace",border:"1px solid #e0e0e0"},children:s.jsxs(J,{variant:"body2",sx:{wordBreak:"break-all",color:"#1976d2"},children:["/club/",s.jsx("span",{style:{color:"#2563EB",fontWeight:"bold"},children:"{clubId}"}),"/booking-confirmation/",s.jsx("span",{style:{color:"#2563EB",fontWeight:"bold"},children:"{bookingId}"}),"?processing=true"]})}),s.jsxs(J,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},children:[s.jsx("strong",{children:"Редкий случай:"})," Появляется когда webhook еще не обработан"]}),s.jsxs(J,{variant:"body2",sx:{mt:2},children:[s.jsx("strong",{children:"Когда появляется:"})," Платеж обрабатывается банком (редкий случай)"]}),s.jsxs(J,{variant:"body2",children:[s.jsx("strong",{children:"Что видит клиент:"}),' Песочные часы ⏳, заголовок "Обработка платежа", анимированный спиннер, автоматическая проверка статуса каждые 3 секунды']})]}),s.jsxs($n,{sx:{p:2,mb:2,backgroundColor:"#f5f5f5"},children:[s.jsxs(Ne,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[s.jsx(s$,{sx:{color:"#9e9e9e"}}),s.jsx(J,{variant:"subtitle1",fontWeight:"bold",children:"7. Бронирование не найдено"})]}),s.jsxs(J,{variant:"body2",paragraph:!0,children:[s.jsx("strong",{children:"Когда появляется:"})," Неверный ID бронирования или бронирование удалено"]}),s.jsxs(J,{variant:"body2",children:[s.jsx("strong",{children:"Что видит клиент:"}),' Лупа 🔍, заголовок "Бронирование не найдено", кнопка "На главную"']})]}),s.jsx(Si,{sx:{my:3}}),s.jsx(J,{variant:"h6",sx:{mb:2},children:"Технические детали"}),s.jsxs($n,{sx:{p:2,mb:2},children:[s.jsx(J,{variant:"subtitle2",fontWeight:"bold",gutterBottom:!0,children:"Автоматическая отмена неоплаченных бронирований"}),s.jsxs(J,{variant:"body2",paragraph:!0,children:["• ",s.jsx("strong",{children:"Таймер:"})," 15 минут с момента создания"]}),s.jsxs(J,{variant:"body2",paragraph:!0,children:["• ",s.jsx("strong",{children:"Cloud Function:"})," ",s.jsx("code",{children:"cancelExpiredBookings"})," (запускается каждые 5 минут)"]}),s.jsxs(J,{variant:"body2",children:["• ",s.jsx("strong",{children:"Условие отмены:"})," ",s.jsxs("code",{children:["paymentStatus === 'awaiting_payment' && createdAt ",">"," 15 минут назад"]})]})]}),s.jsxs($n,{sx:{p:2,mb:2},children:[s.jsx(J,{variant:"subtitle2",fontWeight:"bold",gutterBottom:!0,children:"URL структура и маршруты"}),s.jsxs(Ne,{sx:{mt:2,mb:2},children:[s.jsx(J,{variant:"body2",fontWeight:"bold",color:"primary",gutterBottom:!0,children:"📍 Страница подтверждения бронирования:"}),s.jsx(J,{variant:"body2",paragraph:!0,children:s.jsxs("code",{style:{backgroundColor:"#f5f5f5",padding:"2px 6px",borderRadius:"3px"},children:["/club/","{clubId}","/booking-confirmation/","{bookingId}"]})}),s.jsx(J,{variant:"caption",color:"text.secondary",paragraph:!0,children:"Основная страница для отображения деталей бронирования"})]}),s.jsxs(Ne,{sx:{mt:2,mb:2},children:[s.jsx(J,{variant:"body2",fontWeight:"bold",color:"success.main",gutterBottom:!0,children:"✅ После успешной оплаты:"}),s.jsx(J,{variant:"body2",paragraph:!0,children:s.jsxs("code",{style:{backgroundColor:"#e8f5e9",padding:"2px 6px",borderRadius:"3px"},children:["/club/","{clubId}","/booking-confirmation/","{bookingId}"]})}),s.jsx(J,{variant:"caption",color:"text.secondary",paragraph:!0,children:"YooKassa/T-Bank перенаправляет сюда после успешной оплаты (без дополнительных параметров)"})]}),s.jsxs(Ne,{sx:{mt:2,mb:2},children:[s.jsx(J,{variant:"body2",fontWeight:"bold",color:"warning.main",gutterBottom:!0,children:"⏰ Ожидание оплаты (таймер 15 минут):"}),s.jsx(J,{variant:"body2",paragraph:!0,children:s.jsxs("code",{style:{backgroundColor:"#fff3cd",padding:"2px 6px",borderRadius:"3px"},children:["/club/","{clubId}","/booking-confirmation/","{bookingId}"]})}),s.jsx(J,{variant:"caption",color:"text.secondary",paragraph:!0,children:"Если клиент вышел из платежной формы без оплаты"})]}),s.jsxs(Ne,{sx:{mt:2,mb:2},children:[s.jsx(J,{variant:"body2",fontWeight:"bold",color:"error",gutterBottom:!0,children:"❌ Ошибка оплаты:"}),s.jsx(J,{variant:"body2",paragraph:!0,children:s.jsxs("code",{style:{backgroundColor:"#ffebee",padding:"2px 6px",borderRadius:"3px"},children:["/club/","{clubId}","/payment-error?paymentError=true&bookingId=","{bookingId}"]})}),s.jsx(J,{variant:"caption",color:"text.secondary",paragraph:!0,children:"При технической ошибке создания платежа"})]}),s.jsxs(Ne,{sx:{mt:2,mb:2},children:[s.jsx(J,{variant:"body2",fontWeight:"bold",color:"grey.600",gutterBottom:!0,children:"⏳ Обработка платежа:"}),s.jsx(J,{variant:"body2",paragraph:!0,children:s.jsxs("code",{style:{backgroundColor:"#f5f5f5",padding:"2px 6px",borderRadius:"3px"},children:["/club/","{clubId}","/booking-confirmation/","{bookingId}","?processing=true"]})}),s.jsx(J,{variant:"caption",color:"text.secondary",paragraph:!0,children:"Редкий случай, когда webhook еще не обработан"})]}),s.jsxs(Ne,{sx:{mt:2,mb:2},children:[s.jsx(J,{variant:"body2",fontWeight:"bold",color:"primary",gutterBottom:!0,children:"💳 Страница оплаты бронирования:"}),s.jsx(J,{variant:"body2",paragraph:!0,children:s.jsxs("code",{style:{backgroundColor:"#e3f2fd",padding:"2px 6px",borderRadius:"3px"},children:["/club/","{clubId}","/booking-payment/","{bookingId}"]})}),s.jsx(J,{variant:"caption",color:"text.secondary",paragraph:!0,children:"Промежуточная страница для инициализации платежа"})]}),s.jsxs(Ne,{sx:{mt:2,mb:2},children:[s.jsx(J,{variant:"body2",fontWeight:"bold",color:"primary",gutterBottom:!0,children:"🔄 Страница обработки результата платежа:"}),s.jsx(J,{variant:"body2",paragraph:!0,children:s.jsxs("code",{style:{backgroundColor:"#e3f2fd",padding:"2px 6px",borderRadius:"3px"},children:["/payment-result?paymentId=","{paymentId}","&orderId=","{bookingId}","&status=","{status}"]})}),s.jsx(J,{variant:"caption",color:"text.secondary",paragraph:!0,children:"Техническая страница для обработки возврата от платежной системы"})]})]}),s.jsxs($n,{sx:{p:2},children:[s.jsx(J,{variant:"subtitle2",fontWeight:"bold",gutterBottom:!0,children:"Статусы в базе данных"}),s.jsx(Ne,{sx:{mt:1,p:2,backgroundColor:"#f5f5f5",borderRadius:1},children:s.jsx("pre",{style:{margin:0,fontSize:"12px"},children:`// Статус бронирования
status: 'pending' | 'confirmed' | 'cancelled'

// Статус оплаты
paymentStatus: 
  | 'awaiting_payment' // Ожидает оплаты (начальный статус)
  | 'paid'           // Оплачено (наличные/карта на месте)
  | 'online_payment' // Оплачено онлайн (YooKassa/T-Bank)
  | 'cancelled'      // Отменено
  | 'refunded'       // Возвращено
  | 'error'          // Ошибка (не занимает слот)
  | 'expired'        // Истекло время (15 минут)
  | 'not_required'   // Не требуется (редко)`})})]})]})})})})}),s.jsx(dj,{open:h,autoHideDuration:3e3,onClose:()=>m(!1),message:"Настройки сохранены"})]}):null}function XZ(){const{user:e}=er(),[t,n]=b.useState(null),[r,i]=b.useState("");return b.useEffect(()=>{(async()=>{if(!(e!=null&&e.email)){i("No user logged in");return}try{const o=Vt(Et(Re,"admins"),pt("email","==",e.email)),l=await $t(o);if(l.empty)n({exists:!1,searchedEmail:e.email});else{const A=l.docs[0];n({id:A.id,data:A.data(),exists:!0})}}catch(o){i(o.message)}})()},[e]),s.jsxs(Ne,{sx:{p:3},children:[s.jsx(J,{variant:"h4",gutterBottom:!0,children:"Debug Information"}),s.jsx(on,{sx:{mb:2},children:s.jsxs(ln,{children:[s.jsx(J,{variant:"h6",children:"Current User"}),s.jsx("pre",{children:JSON.stringify(e,null,2)})]})}),s.jsx(on,{sx:{mb:2},children:s.jsxs(ln,{children:[s.jsx(J,{variant:"h6",children:"Admin Search Result"}),s.jsx("pre",{children:JSON.stringify(t,null,2)})]})}),r&&s.jsx(on,{children:s.jsxs(ln,{children:[s.jsx(J,{variant:"h6",color:"error",children:"Error"}),s.jsx(J,{children:r})]})})]})}function JZ(){const{admin:e}=er(),[t,n]=b.useState(!1),[r,i]=b.useState([]),[a,o]=b.useState(0),l=c=>{i(d=>[...d,`${new Date().toLocaleTimeString()}: ${c}`]),console.log(c)},A=async()=>{var c;if(!e||e.role!=="superadmin"){l("❌ Только суперадмин может выполнить эту операцию");return}n(!0),i([]),o(0),l("🔄 Начинаем корректировку дат бронирований...");try{const d=Et(Re,"bookings"),u=await $t(d);l(`📊 Найдено всего бронирований: ${u.size}`);let p=0;const h=[];for(const m of u.docs){const g=m.data(),y=m.id;if(g.date){const x=g.date.toDate?g.date.toDate():new Date(g.date),C=new Intl.DateTimeFormat("en-CA",{timeZone:"Europe/Moscow",year:"numeric",month:"2-digit",day:"2-digit"}).format(x),S=new Intl.DateTimeFormat("en-CA",{timeZone:"Asia/Yekaterinburg",year:"numeric",month:"2-digit",day:"2-digit"}).format(x);let w=!1,_=null;const E=(c=g.createdAt)!=null&&c.toDate?g.createdAt.toDate():null;if(E&&new Intl.DateTimeFormat("en-CA",{timeZone:"Asia/Yekaterinburg",year:"numeric",month:"2-digit",day:"2-digit"}).format(E)==="2025-08-18"&&(S==="2025-08-19"?(w=!0,C==="2025-08-18"?_=new Date(x.getTime()-5*60*60*1e3):C==="2025-08-19"&&(_=new Date(x.getTime()-24*60*60*1e3))):!g._dateFixed&&C==="2025-08-19"&&(w=!0,_=new Date(x.getTime()-3*60*60*1e3))),w&&_){l(`🔍 Найдено бронирование для корректировки: ${y}`),l(`   Клиент: ${g.customerName||g.clientName||"Неизвестно"}`),l(`   Время: ${g.startTime||g.time||"Неизвестно"}`),l(`   Текущая дата UTC: ${x.toISOString()}`),l(`   Дата в Moscow: ${C}`),l(`   Дата в Yekaterinburg: ${S}`),l(`   ✅ Корректируем на: ${_.toISOString()}`);const T={date:Qt.fromDate(_),_dateFixed:!0,_dateFixedAt:Qt.now()};e!=null&&e.uid&&(T._dateFixedBy=e.uid);const F=yn(bt(Re,"bookings",y),T);h.push(F),p++}}}h.length>0?(l(`
🔧 Исправляем ${p} бронирований...`),await Promise.all(h),o(p),l(`✅ Успешно исправлено ${p} бронирований!`)):l("✅ Не найдено бронирований, требующих корректировки")}catch(d){console.error("Error fixing booking dates:",d),l(`❌ Ошибка: ${d instanceof Error?d.message:"Неизвестная ошибка"}`)}finally{n(!1)}};return!e||e.role!=="superadmin"?s.jsxs("div",{style:{padding:"20px"},children:[s.jsx("h2",{children:"Доступ запрещен"}),s.jsx("p",{children:"Только суперадмин может использовать эту функцию"})]}):s.jsxs("div",{style:{padding:"20px",maxWidth:"800px",margin:"0 auto"},children:[s.jsx("h2",{children:"🔧 Корректировка дат бронирований"}),s.jsxs("div",{style:{background:"#fff3cd",border:"1px solid #ffc107",borderRadius:"8px",padding:"15px",marginBottom:"20px"},children:[s.jsx("h3",{children:"⚠️ Внимание!"}),s.jsx("p",{children:"Эта операция исправит даты бронирований, которые были созданы 18 августа 2025,"}),s.jsx("p",{children:"но отображаются как 19 августа из-за проблемы с часовыми поясами."}),s.jsx("p",{children:s.jsx("strong",{children:"Будут исправлены только бронирования, созданные сегодня (18 августа)."})})]}),s.jsx("button",{onClick:A,disabled:t,style:{padding:"10px 20px",fontSize:"16px",backgroundColor:t?"#ccc":"#007bff",color:"white",border:"none",borderRadius:"5px",cursor:t?"not-allowed":"pointer",marginBottom:"20px"},children:t?"⏳ Обработка...":"🚀 Начать корректировку"}),a>0&&s.jsxs("div",{style:{background:"#d4edda",border:"1px solid #28a745",borderRadius:"8px",padding:"15px",marginBottom:"20px"},children:[s.jsx("h3",{children:"✅ Успешно!"}),s.jsxs("p",{children:["Исправлено бронирований: ",s.jsx("strong",{children:a})]})]}),r.length>0&&s.jsxs("div",{style:{background:"#f8f9fa",border:"1px solid #dee2e6",borderRadius:"8px",padding:"15px",fontFamily:"monospace",fontSize:"12px",maxHeight:"400px",overflow:"auto"},children:[s.jsx("h3",{children:"📋 Лог операций:"}),r.map((c,d)=>s.jsx("div",{style:{marginBottom:"5px"},children:c},d))]})]})}function ZZ(){const{admin:e,club:t}=er(),[n,r]=b.useState(!1),[i,a]=b.useState([]),[o,l]=b.useState(0),[A,c]=b.useState("2025-08-18"),d=p=>{a(h=>[...h,`${new Date().toLocaleTimeString()}: ${p}`]),console.log(p)},u=async()=>{if(!e||e.role!=="superadmin"){d("❌ Только суперадмин может выполнить эту операцию");return}r(!0),a([]),l(0);const p=(t==null?void 0:t.timezone)||"Asia/Yekaterinburg";d(`🔄 Анализируем бронирования для даты ${A}`),d(`📍 Часовой пояс клуба: ${p}`);try{const h=Et(Re,"bookings"),m=await $t(h);d(`📊 Найдено всего бронирований: ${m.size}`);let g=0;const y=[],x=[],C=[];for(const S of m.docs){const w=S.data(),_=S.id;if(w.date){const E=w.date.toDate?w.date.toDate():new Date(w.date),T=new Intl.DateTimeFormat("en-CA",{year:"numeric",month:"2-digit",day:"2-digit"}).format(E),F=new Intl.DateTimeFormat("en-CA",{timeZone:p,year:"numeric",month:"2-digit",day:"2-digit"}).format(E),M=new Intl.DateTimeFormat("en-CA",{timeZone:"Europe/Moscow",year:"numeric",month:"2-digit",day:"2-digit"}).format(E),P=new Intl.DateTimeFormat("en-CA",{timeZone:"Asia/Yekaterinburg",year:"numeric",month:"2-digit",day:"2-digit"}).format(E);(T>="2025-08-17"&&T<="2025-08-19"||F>="2025-08-17"&&F<="2025-08-19"||P>="2025-08-17"&&P<="2025-08-19")&&C.length<20&&C.push({id:_,customerName:w.customerName||w.clientName,time:w.startTime||w.time,dateISO:E.toISOString(),localDate:T,clubDate:F,moscowDate:M,yekaterinburgDate:P}),T===A&&F!==A?x.push({id:_,customerName:w.customerName||w.clientName,time:w.startTime||w.time,currentDate:E,localDate:T,clubDate:F,reason:"Локальная дата совпадает, но в часовом поясе клуба отличается"}):F==="2025-08-19"&&T===A?x.push({id:_,customerName:w.customerName||w.clientName,time:w.startTime||w.time,currentDate:E,localDate:T,clubDate:F,reason:"В часовом поясе клуба показывает 19 августа вместо 18"}):(E.toISOString().startsWith("2025-08-18T19:")||E.toISOString().startsWith("2025-08-18T20:")||E.toISOString().startsWith("2025-08-18T21:"))&&x.push({id:_,customerName:w.customerName||w.clientName,time:w.startTime||w.time,currentDate:E,localDate:T,clubDate:F,reason:"UTC время указывает на вечер 18 августа (возможно неправильная дата)"})}}if(C.length>0?(d(`
📋 Примеры первых ${C.length} бронирований для анализа:`),C.forEach(S=>{d(`
🔍 ${S.customerName||"Неизвестно"} - ${S.time||""}`),d(`   ID: ${S.id}`),d(`   UTC: ${S.dateISO}`),d(`   Локальная дата: ${S.localDate}`),d(`   В часовом поясе клуба: ${S.clubDate}`),d(`   В Москве: ${S.moscowDate}`),d(`   В Екатеринбурге: ${S.yekaterinburgDate}`)})):d(`
⚠️ Нет бронирований для анализа`),x.length>0){d(`
🔍 Найдено ${x.length} бронирований, требующих корректировки:`);for(const S of x){d(`
📌 Бронирование ${S.id}`),d(`   Клиент: ${S.customerName||"Неизвестно"}`),d(`   Время: ${S.time||"Неизвестно"}`),d(`   Причина: ${S.reason}`),d(`   Текущая дата UTC: ${S.currentDate.toISOString()}`),d(`   Отображается в списке как: ${S.localDate}`),d(`   В часовом поясе клуба: ${S.clubDate}`);const[w,_,E]=A.split("-").map(Number);let T=5;p==="Europe/Moscow"?T=3:p==="Asia/Yekaterinburg"&&(T=5);const F=new Date(Date.UTC(w,_-1,E-1,24-T,0,0));d(`   ✅ Корректируем на: ${F.toISOString()}`);const M=new Intl.DateTimeFormat("en-CA",{timeZone:p,year:"numeric",month:"2-digit",day:"2-digit"}).format(F);d(`   Проверка: в часовом поясе клуба будет ${M}`);const P={date:Qt.fromDate(F),_dateFixedAdvanced:!0,_dateFixedAt:Qt.now()};e!=null&&e.uid&&(P._dateFixedBy=e.uid);const I=yn(bt(Re,"bookings",S.id),P);y.push(I),g++}y.length>0&&(d(`
🔧 Применяем изменения к ${g} бронированиям...`),await Promise.all(y),l(g),d(`✅ Успешно исправлено ${g} бронирований!`))}else d("✅ Не найдено бронирований, требующих корректировки")}catch(h){console.error("Error fixing booking dates:",h),d(`❌ Ошибка: ${h instanceof Error?h.message:"Неизвестная ошибка"}`)}finally{r(!1)}};return!e||e.role!=="superadmin"?s.jsxs("div",{style:{padding:"20px"},children:[s.jsx("h2",{children:"Доступ запрещен"}),s.jsx("p",{children:"Только суперадмин может использовать эту функцию"})]}):s.jsxs("div",{style:{padding:"20px",maxWidth:"800px",margin:"0 auto"},children:[s.jsx("h2",{children:"🔧 Расширенная корректировка дат бронирований"}),s.jsxs("div",{style:{background:"#e3f2fd",border:"1px solid #2196f3",borderRadius:"8px",padding:"15px",marginBottom:"20px"},children:[s.jsx("h3",{children:"ℹ️ Информация"}),s.jsx("p",{children:"Эта утилита находит бронирования, которые:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Отображаются в списке как выбранная дата (по локальному времени браузера)"}),s.jsx("li",{children:"Но в календаре не показываются (из-за разницы часовых поясов)"})]}),s.jsxs("p",{children:["Часовой пояс вашего клуба: ",s.jsx("strong",{children:(t==null?void 0:t.timezone)||"Asia/Yekaterinburg"})]})]}),s.jsxs("div",{style:{marginBottom:"20px"},children:[s.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold"},children:"Целевая дата для корректировки:"}),s.jsx("input",{type:"date",value:A,onChange:p=>c(p.target.value),disabled:n,style:{padding:"8px",fontSize:"16px",borderRadius:"5px",border:"1px solid #ccc",marginRight:"10px"}})]}),s.jsx("button",{onClick:u,disabled:n,style:{padding:"10px 20px",fontSize:"16px",backgroundColor:n?"#ccc":"#2196f3",color:"white",border:"none",borderRadius:"5px",cursor:n?"not-allowed":"pointer",marginBottom:"20px"},children:n?"⏳ Анализ и корректировка...":"🔍 Анализировать и исправить"}),o>0&&s.jsxs("div",{style:{background:"#d4edda",border:"1px solid #28a745",borderRadius:"8px",padding:"15px",marginBottom:"20px"},children:[s.jsx("h3",{children:"✅ Успешно!"}),s.jsxs("p",{children:["Исправлено бронирований: ",s.jsx("strong",{children:o})]}),s.jsx("p",{children:"Обновите страницу с календарем, чтобы увидеть изменения."})]}),i.length>0&&s.jsxs("div",{style:{background:"#f8f9fa",border:"1px solid #dee2e6",borderRadius:"8px",padding:"15px",fontFamily:"monospace",fontSize:"12px",maxHeight:"500px",overflow:"auto"},children:[s.jsx("h3",{children:"📋 Лог операций:"}),i.map((p,h)=>s.jsx("div",{style:{marginBottom:"5px",whiteSpace:"pre-wrap"},children:p},h))]})]})}function eee(){const{admin:e,club:t}=er(),[n,r]=b.useState(!1),[i,a]=b.useState([]),[o,l]=b.useState([]),[A,c]=b.useState(new Set),d=g=>{a(y=>[...y,`${new Date().toLocaleTimeString()}: ${g}`]),console.log(g)},u=async()=>{if(!e){d("❌ Необходимо войти в систему");return}r(!0),a([]),l([]),c(new Set),d("🔍 Ищем все бронирования на 18 августа в часовом поясе клуба...");try{const g=Et(Re,"bookings"),y=await $t(g);d(`📊 Найдено всего бронирований: ${y.size}`);const x=[];for(const C of y.docs){const S=C.data(),w=C.id;if(S.date){const _=S.date.toDate?S.date.toDate():new Date(S.date),E=(t==null?void 0:t.timezone)||"Asia/Yekaterinburg",T=new Intl.DateTimeFormat("en-CA",{timeZone:E,year:"numeric",month:"2-digit",day:"2-digit"}).format(_);if(T==="2025-08-18"){const F=new Intl.DateTimeFormat("ru-RU",{timeZone:E,day:"numeric",month:"long",year:"numeric"}).format(_),M=new Intl.DateTimeFormat("en-CA",{timeZone:"Europe/Moscow",year:"numeric",month:"2-digit",day:"2-digit"}).format(_),P=new Intl.DateTimeFormat("en-CA",{timeZone:"Asia/Yekaterinburg",year:"numeric",month:"2-digit",day:"2-digit"}).format(_);x.push({id:w,customerName:S.customerName||S.clientName||"Неизвестно",time:S.startTime||S.time||"Неизвестно",dateISO:_.toISOString(),displayDate:F,clubDate:T,moscowDate:M,yekaterinburgDate:P,rawData:S})}}}l(x),x.length>0?(d(`
✅ Найдено ${x.length} бронирований на 18 августа:`),x.forEach((C,S)=>{d(`
📌 Бронирование ${S+1}:`),d(`   ID: ${C.id}`),d(`   Клиент: ${C.customerName}`),d(`   Время: ${C.time}`),d(`   Отображается как: ${C.displayDate}`),d(`   UTC: ${C.dateISO}`),d(`   В часовом поясе клуба: ${C.clubDate}`),d(`   В Москве: ${C.moscowDate}`),d(`   В Екатеринбурге: ${C.yekaterinburgDate}`)})):d("❌ Не найдено бронирований на 18 августа")}catch(g){console.error("Error finding bookings:",g),d(`❌ Ошибка: ${g instanceof Error?g.message:"Неизвестная ошибка"}`)}finally{r(!1)}},p=g=>{const y=new Set(A);y.has(g)?y.delete(g):y.add(g),c(y)},h=()=>{A.size===o.length?c(new Set):c(new Set(o.map(g=>g.id)))},m=async()=>{if(A.size===0){d("❌ Не выбрано бронирований для исправления");return}r(!0),d(`
🔧 Начинаем исправление ${A.size} выбранных бронирований...`);try{const g=[],y=(t==null?void 0:t.timezone)||"Asia/Yekaterinburg",x=o.filter(C=>A.has(C.id));for(const C of x){let S=5;y==="Europe/Moscow"&&(S=3);const w=new Date(Date.UTC(2025,7,18,0,0,0,0));d(`
🔄 Исправляем ${C.id}`),d(`   Было: ${C.dateISO}`),d(`   Будет: ${w.toISOString()}`);const _={date:Qt.fromDate(w),_dateFixedManual:!0,_dateFixedAt:Qt.now()};e!=null&&e.uid&&(_._dateFixedBy=e.uid);const E=yn(bt(Re,"bookings",C.id),_);g.push(E)}await Promise.all(g),d(`
✅ Успешно исправлено ${A.size} бронирований!`),d("🔄 Обновите страницу с календарем, чтобы увидеть изменения"),c(new Set)}catch(g){console.error("Error fixing bookings:",g),d(`❌ Ошибка при исправлении: ${g instanceof Error?g.message:"Неизвестная ошибка"}`)}finally{r(!1)}};return e?s.jsxs("div",{style:{padding:"20px",maxWidth:"900px",margin:"0 auto"},children:[s.jsx("h2",{children:"🔍 Поиск и исправление бронирований на 18 августа"}),s.jsxs("div",{style:{background:"#e3f2fd",border:"1px solid #2196f3",borderRadius:"8px",padding:"15px",marginBottom:"20px"},children:[s.jsx("h3",{children:"ℹ️ Информация"}),s.jsx("p",{children:"Эта утилита находит все бронирования на 18 августа 2025 года в часовом поясе клуба"}),s.jsx("p",{children:"и позволяет выборочно исправить их даты для корректного отображения в календаре."}),s.jsxs("p",{children:[s.jsx("strong",{children:"Выберите нужные бронирования"})," и нажмите кнопку исправления."]})]}),s.jsxs("div",{style:{marginBottom:"20px"},children:[s.jsx("button",{onClick:u,disabled:n,style:{padding:"10px 20px",fontSize:"16px",backgroundColor:n?"#ccc":"#2196f3",color:"white",border:"none",borderRadius:"5px",cursor:n?"not-allowed":"pointer",marginRight:"10px"},children:n?"⏳ Поиск...":"🔍 Найти бронирования на 18 августа"}),o.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:h,disabled:n,style:{padding:"10px 20px",fontSize:"16px",backgroundColor:n?"#ccc":"#2196f3",color:"white",border:"none",borderRadius:"5px",cursor:n?"not-allowed":"pointer",marginRight:"10px"},children:A.size===o.length?"❌ Снять выбор":"☑️ Выбрать все"}),s.jsx("button",{onClick:m,disabled:n||A.size===0,style:{padding:"10px 20px",fontSize:"16px",backgroundColor:n||A.size===0?"#ccc":"#4caf50",color:"white",border:"none",borderRadius:"5px",cursor:n||A.size===0?"not-allowed":"pointer"},children:n?"⏳ Исправление...":`✅ Исправить ${A.size} выбранных`})]})]}),o.length>0&&s.jsxs("div",{style:{background:"#fff3cd",border:"1px solid #ffc107",borderRadius:"8px",padding:"15px",marginBottom:"20px"},children:[s.jsx("h3",{children:"📋 Найденные бронирования на 18 августа:"}),s.jsx("div",{style:{maxHeight:"300px",overflow:"auto"},children:s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{borderBottom:"2px solid #ddd"},children:[s.jsx("th",{style:{padding:"8px",textAlign:"center",width:"40px"},children:s.jsx("input",{type:"checkbox",checked:A.size===o.length&&o.length>0,onChange:h,style:{cursor:"pointer"}})}),s.jsx("th",{style:{padding:"8px",textAlign:"left"},children:"Клиент"}),s.jsx("th",{style:{padding:"8px",textAlign:"left"},children:"Время"}),s.jsx("th",{style:{padding:"8px",textAlign:"left"},children:"Дата (клуб)"}),s.jsx("th",{style:{padding:"8px",textAlign:"left"},children:"UTC"})]})}),s.jsx("tbody",{children:o.map((g,y)=>s.jsxs("tr",{style:{borderBottom:"1px solid #eee",backgroundColor:A.has(g.id)?"#e3f2fd":"transparent",cursor:"pointer"},onClick:()=>p(g.id),children:[s.jsx("td",{style:{padding:"8px",textAlign:"center"},children:s.jsx("input",{type:"checkbox",checked:A.has(g.id),onChange:()=>p(g.id),style:{cursor:"pointer"}})}),s.jsx("td",{style:{padding:"8px"},children:g.customerName}),s.jsx("td",{style:{padding:"8px"},children:g.time}),s.jsx("td",{style:{padding:"8px"},children:g.displayDate}),s.jsx("td",{style:{padding:"8px",fontSize:"11px"},children:g.dateISO})]},g.id))})]})})]}),i.length>0&&s.jsxs("div",{style:{background:"#f8f9fa",border:"1px solid #dee2e6",borderRadius:"8px",padding:"15px",fontFamily:"monospace",fontSize:"12px",maxHeight:"400px",overflow:"auto"},children:[s.jsx("h3",{children:"📋 Лог операций:"}),i.map((g,y)=>s.jsx("div",{style:{marginBottom:"5px",whiteSpace:"pre-wrap"},children:g},y))]})]}):s.jsxs("div",{style:{padding:"20px"},children:[s.jsx("h2",{children:"Доступ запрещен"}),s.jsx("p",{children:"Необходимо войти в систему"})]})}const tee={admin:["manage_bookings","manage_courts","manage_club","manage_admins","manage_finance","view_reports","create_bookings"],manager:["view_bookings","create_bookings","view_reports"]};function nee(){const{isSuperAdmin:e}=Wr(),[t,n]=b.useState(!1),[r,i]=b.useState([]),[a,o]=b.useState(null),[l,A]=b.useState(0);b.useEffect(()=>{c()},[]);const c=async()=>{try{n(!0);const p=(await $t(Et(Re,"admins"))).docs.map(h=>({id:h.id,...h.data()}));i(p)}catch(u){console.error("Error loading admins:",u),o({type:"error",text:"Ошибка при загрузке администраторов"})}finally{n(!1)}},d=async()=>{try{n(!0),o(null);let u=0;for(const p of r)if(p.role==="admin"||p.role==="manager"){const h=tee[p.role],m=p.permissions||[],g=h.filter(y=>!m.includes(y));if(g.length>0){const y=[...new Set([...m,...h])];await yn(bt(Re,"admins",p.id),{permissions:y,updatedAt:new Date}),u++,console.log(`Updated ${p.name} (${p.email}): added ${g.join(", ")}`)}}A(u),u>0?o({type:"success",text:`Успешно обновлено ${u} администратор(ов). Обновите страницу и попробуйте войти снова.`}):o({type:"info",text:"Все администраторы уже имеют необходимые права."}),await c()}catch(u){console.error("Error fixing permissions:",u),o({type:"error",text:"Ошибка при обновлении прав доступа"})}finally{n(!1)}};return e?s.jsxs(Ne,{p:3,children:[s.jsx(J,{variant:"h4",gutterBottom:!0,children:"Исправление прав доступа администраторов"}),s.jsx(nn,{severity:"info",sx:{mb:3},children:"Эта страница позволяет исправить права доступа для существующих администраторов клубов. Нажмите кнопку ниже, чтобы автоматически добавить недостающие права."}),a&&s.jsx(nn,{severity:a.type,sx:{mb:3},children:a.text}),s.jsx(Pt,{variant:"contained",color:"primary",onClick:d,disabled:t,sx:{mb:3},children:t?s.jsx(Hr,{size:24}):"Исправить права доступа"}),s.jsx(J,{variant:"h6",gutterBottom:!0,children:"Текущие администраторы:"}),t&&!r.length?s.jsx(Hr,{}):s.jsx(Ne,{display:"flex",flexDirection:"column",gap:2,children:r.map(u=>{var p,h;return s.jsx(on,{children:s.jsxs(ln,{children:[s.jsxs(J,{variant:"h6",children:[u.name," (",u.email,")"]}),s.jsxs(J,{color:"textSecondary",gutterBottom:!0,children:["Роль: ",s.jsx(Pi,{label:u.role,size:"small",color:u.role==="admin"?"primary":"default"})]}),s.jsxs(J,{variant:"body2",children:["Текущие права: ",((p=u.permissions)==null?void 0:p.join(", "))||"Нет прав"]}),u.role==="admin"&&!((h=u.permissions)!=null&&h.includes("manage_club"))&&s.jsx(nn,{severity:"warning",sx:{mt:1},children:'У этого администратора отсутствует право "manage_club" для управления клубом!'})]})},u.id)})})]}):s.jsx(nn,{severity:"error",children:"Доступ запрещен. Эта страница доступна только суперадминистраторам."})}const ree=({isOpen:e,onClose:t,onSave:n,trainer:r,clubId:i})=>{var Z,Ae,H;const[a,o]=b.useState({firstName:"",lastName:"",phone:"+7",email:"",specialization:[],experience:0,bio:"",pricePerHour:0,groupPrice:0,commissionType:"percent",commissionValue:20,schedule:{monday:{enabled:!1},tuesday:{enabled:!1},wednesday:{enabled:!1},thursday:{enabled:!1},friday:{enabled:!1},saturday:{enabled:!1},sunday:{enabled:!1}},worksOnHolidays:!1,maxDailyHours:8,minBreakMinutes:0,advanceBookingDays:30,cancellationHours:24,availableCourts:[],color:"#00A86B",status:"active"}),[l,A]=b.useState("basic"),[c,d]=b.useState(!1),[u,p]=b.useState(!1),[h,m]=b.useState(""),[g,y]=b.useState(""),[x,C]=b.useState(!1),[S,w]=b.useState(!1);b.useEffect(()=>{if(r){const R=r.phone?E(r.phone):"+7";o({...r,phone:R}),C(r.hasAccount||!1),y(`${r.firstName} ${r.lastName}`)}else o(R=>({...R,phone:"+7"}))},[r]),b.useEffect(()=>{r!=null&&r.id&&_()},[r==null?void 0:r.id]);const _=async()=>{if(r!=null&&r.id)try{const R=Vt(Et(Re,"admins"),pt("trainerId","==",r.id)),Q=await $t(R);C(!Q.empty)}catch(R){console.error("Error checking trainer account:",R)}},E=R=>{const Q=R.replace(/\D/g,"");return Q.length<=1?Q:Q.length<=4?`+7 (${Q.slice(1)})`:Q.length<=7?`+7 (${Q.slice(1,4)}) ${Q.slice(4)}`:Q.length<=9?`+7 (${Q.slice(1,4)}) ${Q.slice(4,7)}-${Q.slice(7)}`:`+7 (${Q.slice(1,4)}) ${Q.slice(4,7)}-${Q.slice(7,9)}-${Q.slice(9,11)}`},T=R=>{const Q=E(R.target.value);o($=>({...$,phone:Q}))},F=R=>{const{name:Q,value:$,type:V}=R.target;if(V==="checkbox"){const G=R.target.checked;o(ie=>({...ie,[Q]:G}))}else o(V==="number"?G=>({...G,[Q]:parseFloat($)||0}):G=>({...G,[Q]:$}))},M=R=>{o(Q=>{var $;return{...Q,specialization:($=Q.specialization)!=null&&$.includes(R)?Q.specialization.filter(V=>V!==R):[...Q.specialization||[],R]}})},P=(R,Q,$)=>{o(V=>({...V,schedule:{...V.schedule,[R]:{...V.schedule[R],[Q]:$}}}))},I=()=>{const R={id:Date.now().toString(),startDate:"",endDate:"",reason:""};o(Q=>({...Q,vacations:[...Q.vacations||[],R]}))},j=(R,Q,$)=>{o(V=>{var G;return{...V,vacations:(G=V.vacations)==null?void 0:G.map(ie=>ie.id===R?{...ie,[Q]:$}:ie)}})},U=R=>{o(Q=>{var $;return{...Q,vacations:($=Q.vacations)==null?void 0:$.filter(V=>V.id!==R)}})},N=R=>{o(Q=>{const $=Q.blockedDates||[];return $.includes(R)?{...Q,blockedDates:$.filter(V=>V!==R)}:{...Q,blockedDates:[...$,R]}})},z=async()=>{const R=a.email;if(!(r!=null&&r.id)||!R||!h||h.length<6){if(!R){alert("Пожалуйста, укажите email тренера в основных данных"),A("basic");return}return}w(!0);try{const Q=Hl(void 0,"europe-west1");(await ts(Q,"createTrainerAccount")({trainerId:r.id,email:R,password:h,name:g||`${r.firstName} ${r.lastName}`})).data.success&&(C(!0),d(!1),m(""),alert("Аккаунт успешно создан! Данные для входа отправлены на email тренера."),await _())}catch(Q){console.error("Error creating trainer account:",Q),Q.code==="functions/already-exists"?alert("Пользователь с таким email уже существует"):Q.code==="functions/invalid-argument"?alert(Q.message||"Некорректные данные"):alert("Ошибка при создании аккаунта: "+(Q.message||"Неизвестная ошибка"))}finally{w(!1)}},L=async()=>{if(r!=null&&r.id&&confirm("Вы уверены, что хотите удалить аккаунт тренера? Тренер больше не сможет войти в систему.")){w(!0);try{const R=Hl(void 0,"europe-west1");(await ts(R,"deleteTrainerAccount")({trainerId:r.id})).data.success&&(C(!1),alert("Аккаунт тренера успешно удален"),await _())}catch(R){console.error("Error deleting trainer account:",R),alert("Ошибка при удалении аккаунта: "+(R.message||"Неизвестная ошибка"))}finally{w(!1)}}},D=async()=>{if(!(!(r!=null&&r.id)||!h||h.length<6)){w(!0);try{const R=Hl(void 0,"europe-west1");(await ts(R,"resetTrainerPassword")({trainerId:r.id,newPassword:h})).data.success&&(p(!1),m(""),alert("Пароль успешно изменен! Новые данные для входа отправлены на email тренера."))}catch(R){console.error("Error resetting trainer password:",R),alert("Ошибка при изменении пароля: "+(R.message||"Неизвестная ошибка"))}finally{w(!1)}}},K=R=>{if(R.preventDefault(),!a.firstName||!a.lastName||!a.phone){alert("Заполните обязательные поля");return}if(!a.specialization||a.specialization.length===0){alert("Выберите хотя бы одну специализацию");return}if(!(a.schedule&&Object.values(a.schedule).some(V=>V.enabled?V.start&&V.end:!1))){alert("Необходимо настроить расписание тренера. Укажите хотя бы один рабочий день с временем начала и окончания работы."),A("schedule");return}if(a.schedule&&Object.entries(a.schedule).some(([V,G])=>{if(G.enabled&&G.start&&G.end){const[ie,ne]=G.start.split(":").map(Number),[xe,re]=G.end.split(":").map(Number),ge=ie*60+ne,le=xe*60+re;return ge>=le}return!1})){alert("Время окончания работы должно быть позже времени начала"),A("schedule");return}n(a)};if(!e)return null;const q={monday:"Понедельник",tuesday:"Вторник",wednesday:"Среда",thursday:"Четверг",friday:"Пятница",saturday:"Суббота",sunday:"Воскресенье"};return s.jsx("div",{className:`modal ${e?"active":""}`,children:s.jsxs("div",{className:"modal-content",style:{maxWidth:"900px",width:"90%"},children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h3",{className:"modal-title",children:r?"Редактировать тренера":"Добавить тренера"}),s.jsx("button",{className:"modal-close",onClick:t,children:s.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),s.jsxs("form",{onSubmit:K,children:[s.jsxs("div",{style:{display:"flex",borderBottom:"1px solid #e5e7eb"},children:[s.jsx("button",{type:"button",onClick:()=>A("basic"),style:{padding:"12px 24px",background:"none",border:"none",borderBottom:l==="basic"?"2px solid var(--primary)":"2px solid transparent",color:l==="basic"?"var(--primary)":"#6b7280",fontWeight:500,cursor:"pointer",transition:"all 0.2s"},children:"Основные данные"}),s.jsxs("button",{type:"button",onClick:()=>A("schedule"),style:{padding:"12px 24px",background:"none",border:"none",borderBottom:l==="schedule"?"2px solid var(--primary)":"2px solid transparent",color:l==="schedule"?"var(--primary)":"#6b7280",fontWeight:500,cursor:"pointer",transition:"all 0.2s"},children:["Расписание ",s.jsx("span",{style:{color:"#EF4444"},children:"*"})]}),s.jsx("button",{type:"button",onClick:()=>A("vacations"),style:{padding:"12px 24px",background:"none",border:"none",borderBottom:l==="vacations"?"2px solid var(--primary)":"2px solid transparent",color:l==="vacations"?"var(--primary)":"#6b7280",fontWeight:500,cursor:"pointer",transition:"all 0.2s"},children:"Отпуска"}),s.jsx("button",{type:"button",onClick:()=>A("settings"),style:{padding:"12px 24px",background:"none",border:"none",borderBottom:l==="settings"?"2px solid var(--primary)":"2px solid transparent",color:l==="settings"?"var(--primary)":"#6b7280",fontWeight:500,cursor:"pointer",transition:"all 0.2s"},children:"Настройки"}),r&&s.jsx("button",{type:"button",onClick:()=>A("account"),style:{padding:"12px 24px",background:"none",border:"none",borderBottom:l==="account"?"2px solid var(--primary)":"2px solid transparent",color:l==="account"?"var(--primary)":"#6b7280",fontWeight:500,cursor:"pointer",transition:"all 0.2s"},children:"Аккаунт"})]}),s.jsxs("div",{className:"modal-body",style:{maxHeight:"60vh",overflowY:"auto"},children:[l==="basic"&&s.jsxs("div",{children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"24px"},children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Имя *"}),s.jsx("input",{type:"text",name:"firstName",value:a.firstName,onChange:F,className:"form-input",required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Фамилия *"}),s.jsx("input",{type:"text",name:"lastName",value:a.lastName,onChange:F,className:"form-input",required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Телефон *"}),s.jsx("input",{type:"tel",name:"phone",value:a.phone,onChange:T,className:"form-input",placeholder:"+7 (999) 999-99-99",required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Email"}),s.jsx("input",{type:"email",name:"email",value:a.email,onChange:F,className:"form-input",placeholder:"trainer@example.com"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Специализация *"}),s.jsxs("div",{style:{display:"flex",gap:"16px",marginTop:"8px"},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:(Z=a.specialization)==null?void 0:Z.includes("tennis"),onChange:()=>M("tennis"),style:{marginRight:"8px"}}),s.jsx("span",{children:"🎾 Теннис"})]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:(Ae=a.specialization)==null?void 0:Ae.includes("padel"),onChange:()=>M("padel"),style:{marginRight:"8px"}}),s.jsx("span",{children:"🏓 Падел"})]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:(H=a.specialization)==null?void 0:H.includes("badminton"),onChange:()=>M("badminton"),style:{marginRight:"8px"}}),s.jsx("span",{children:"🏸 Бадминтон"})]})]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"24px"},children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Опыт работы (лет)"}),s.jsx("input",{type:"number",name:"experience",value:a.experience,onChange:F,min:"0",className:"form-input"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Статус"}),s.jsxs("select",{name:"status",value:a.status,onChange:F,className:"form-select",children:[s.jsx("option",{value:"active",children:"Активен"}),s.jsx("option",{value:"vacation",children:"В отпуске"}),s.jsx("option",{value:"inactive",children:"Неактивен"})]})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"О тренере"}),s.jsx("textarea",{name:"bio",value:a.bio,onChange:F,rows:3,className:"form-input",placeholder:"Краткое описание, достижения, специализация...",style:{resize:"vertical"}})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"24px"},children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Стоимость индивидуального занятия"}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx("input",{type:"number",name:"pricePerHour",value:a.pricePerHour,onChange:F,min:"0",className:"form-input",style:{flex:1}}),s.jsx("span",{style:{color:"#6b7280"},children:"₽/час"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Стоимость группового занятия"}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx("input",{type:"number",name:"groupPrice",value:a.groupPrice,onChange:F,min:"0",className:"form-input",style:{flex:1}}),s.jsx("span",{style:{color:"#6b7280"},children:"₽/час"})]})]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"24px"},children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Тип комиссии клуба"}),s.jsxs("select",{name:"commissionType",value:a.commissionType,onChange:F,className:"form-select",children:[s.jsx("option",{value:"percent",children:"Процент"}),s.jsx("option",{value:"fixed",children:"Фиксированная сумма"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:a.commissionType==="percent"?"Процент комиссии":"Сумма комиссии (₽)"}),s.jsx("input",{type:"number",name:"commissionValue",value:a.commissionValue,onChange:F,min:"0",max:a.commissionType==="percent"?100:void 0,className:"form-input"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Цвет для календаря"}),s.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[s.jsx("input",{type:"color",className:"form-input",name:"color",value:a.color,onChange:F,style:{width:"80px",height:"48px",padding:"4px",cursor:"pointer"}}),s.jsx("input",{type:"text",className:"form-input",value:a.color,onChange:R=>o(Q=>({...Q,color:R.target.value})),placeholder:"#00A86B",style:{flex:1}})]}),s.jsx("div",{className:"form-hint",children:"Этот цвет будет использоваться для визуального отображения тренера в календаре"})]})]}),l==="schedule"&&s.jsxs("div",{children:[s.jsx("div",{style:{padding:"12px 16px",background:"#FEF3C7",border:"1px solid #FCD34D",borderRadius:"8px",marginBottom:"20px"},children:s.jsxs("p",{style:{margin:0,fontSize:"14px",color:"#92400E",fontWeight:500},children:[s.jsx("strong",{children:"Важно:"})," Расписание является обязательным для заполнения. Необходимо указать хотя бы один рабочий день с временем начала и окончания работы."]})}),s.jsx("div",{style:{marginBottom:"24px"},children:Object.keys(q).map(R=>{var Q,$,V,G,ie,ne,xe,re,ge,le;return s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",padding:"16px",marginBottom:"12px",border:"1px solid #e5e7eb",borderRadius:"8px",background:($=(Q=a.schedule)==null?void 0:Q[R])!=null&&$.enabled?"#f9fafb":"white"},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",minWidth:"150px",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:(G=(V=a.schedule)==null?void 0:V[R])==null?void 0:G.enabled,onChange:be=>P(R,"enabled",be.target.checked),style:{marginRight:"8px"}}),s.jsx("span",{style:{fontWeight:500},children:q[R]})]}),((ne=(ie=a.schedule)==null?void 0:ie[R])==null?void 0:ne.enabled)&&s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flex:1},children:[s.jsx("input",{type:"time",value:((re=(xe=a.schedule)==null?void 0:xe[R])==null?void 0:re.start)||"09:00",onChange:be=>P(R,"start",be.target.value),className:"form-input",style:{width:"140px"}}),s.jsx("span",{style:{color:"#6b7280"},children:"—"}),s.jsx("input",{type:"time",value:((le=(ge=a.schedule)==null?void 0:ge[R])==null?void 0:le.end)||"18:00",onChange:be=>P(R,"end",be.target.value),className:"form-input",style:{width:"140px"}})]})]},R)})}),s.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",name:"worksOnHolidays",checked:a.worksOnHolidays,onChange:F,style:{marginRight:"8px"}}),s.jsx("span",{children:"Работает в праздничные дни"})]})]}),l==="settings"&&s.jsxs("div",{children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"24px"},children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Максимум часов в день"}),s.jsx("input",{type:"number",name:"maxDailyHours",value:a.maxDailyHours,onChange:F,min:"1",max:"12",className:"form-input"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Минимальный перерыв между занятиями"}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx("input",{type:"number",name:"minBreakMinutes",value:a.minBreakMinutes,onChange:F,min:"0",max:"60",className:"form-input",style:{flex:1}}),s.jsx("span",{style:{color:"#6b7280"},children:"минут"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Бронирование вперед"}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx("input",{type:"number",name:"advanceBookingDays",value:a.advanceBookingDays,onChange:F,min:"1",max:"365",className:"form-input",style:{flex:1}}),s.jsx("span",{style:{color:"#6b7280"},children:"дней"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Отмена минимум за"}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx("input",{type:"number",name:"cancellationHours",value:a.cancellationHours,onChange:F,min:"0",max:"72",className:"form-input",style:{flex:1}}),s.jsx("span",{style:{color:"#6b7280"},children:"часов"})]})]})]}),r&&r.id&&i&&s.jsxs("div",{style:{marginBottom:"24px"},children:[s.jsx("h3",{style:{fontSize:"16px",fontWeight:600,marginBottom:"16px"},children:"Персональная ссылка для бронирования"}),s.jsxs("div",{style:{padding:"12px",background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:"8px"},children:[s.jsx("div",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"8px"},children:"Клиенты могут использовать эту ссылку для бронирования с тренером:"}),s.jsxs("div",{style:{padding:"8px 12px",background:"white",border:"1px solid #d1d5db",borderRadius:"6px",fontFamily:"monospace",fontSize:"13px",wordBreak:"break-all",userSelect:"all"},children:["https://allcourt.ru/club/",i,"?trainer=",r.id]}),s.jsx("button",{type:"button",onClick:()=>{const R=`https://allcourt.ru/club/${i}?trainer=${r.id}`;navigator.clipboard.writeText(R),alert("Ссылка скопирована в буфер обмена")},style:{marginTop:"8px",padding:"6px 12px",background:"var(--primary)",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",cursor:"pointer"},children:"Скопировать ссылку"})]})]}),s.jsx("div",{style:{padding:"16px",background:"rgba(59, 130, 246, 0.05)",border:"1px solid rgba(59, 130, 246, 0.2)",borderRadius:"8px"},children:s.jsxs("p",{style:{fontSize:"14px",color:"#1e40af",margin:0},children:[s.jsx("strong",{children:"Примечание:"})," При переходе по персональной ссылке тренер будет автоматически выбран в форме бронирования, и клиент увидит только те слоты, когда тренер доступен."]})})]}),l==="vacations"&&s.jsxs("div",{children:[s.jsxs("div",{style:{marginBottom:"24px"},children:[s.jsx("h3",{style:{fontSize:"16px",fontWeight:600,marginBottom:"16px"},children:"Периоды отпусков"}),a.vacations&&a.vacations.length>0?s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:a.vacations.map(R=>s.jsx("div",{style:{padding:"16px",border:"1px solid #e5e7eb",borderRadius:"8px",background:"#f9fafb"},children:s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 2fr auto",gap:"12px",alignItems:"center"},children:[s.jsxs("div",{children:[s.jsx("label",{className:"form-label",style:{fontSize:"12px"},children:"Начало"}),s.jsx("input",{type:"date",className:"form-input",value:R.startDate,onChange:Q=>j(R.id,"startDate",Q.target.value),min:new Date().toISOString().split("T")[0]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",style:{fontSize:"12px"},children:"Окончание"}),s.jsx("input",{type:"date",className:"form-input",value:R.endDate,onChange:Q=>j(R.id,"endDate",Q.target.value),min:R.startDate||new Date().toISOString().split("T")[0]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",style:{fontSize:"12px"},children:"Причина (необязательно)"}),s.jsx("input",{type:"text",className:"form-input",value:R.reason||"",onChange:Q=>j(R.id,"reason",Q.target.value),placeholder:"Например: Отпуск, болезнь, обучение"})]}),s.jsx("button",{type:"button",onClick:()=>U(R.id),style:{padding:"8px",background:"#fee2e2",border:"1px solid #fca5a5",borderRadius:"6px",color:"#dc2626",cursor:"pointer",alignSelf:"flex-end"},children:s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]})},R.id))}):s.jsx("p",{style:{color:"#6b7280",fontSize:"14px"},children:"Нет запланированных отпусков"}),s.jsx("button",{type:"button",onClick:I,style:{marginTop:"12px",padding:"8px 16px",background:"var(--primary)",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",cursor:"pointer"},children:"+ Добавить период отпуска"})]}),s.jsxs("div",{style:{marginBottom:"24px"},children:[s.jsx("h3",{style:{fontSize:"16px",fontWeight:600,marginBottom:"16px"},children:"Заблокированные даты"}),s.jsx("p",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"12px"},children:"Выберите отдельные дни, когда тренер не будет доступен (например, разовые выходные)"}),s.jsx("div",{style:{marginBottom:"12px"},children:s.jsx("input",{type:"date",className:"form-input",onChange:R=>{R.target.value&&(N(R.target.value),R.target.value="")},min:new Date().toISOString().split("T")[0],style:{maxWidth:"200px"}})}),a.blockedDates&&a.blockedDates.length>0&&s.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:a.blockedDates.sort().map(R=>s.jsxs("div",{style:{padding:"4px 12px",background:"#fee2e2",border:"1px solid #fca5a5",borderRadius:"16px",fontSize:"13px",display:"flex",alignItems:"center",gap:"6px"},children:[s.jsx("span",{children:new Date(R+"T00:00:00").toLocaleDateString("ru-RU")}),s.jsx("button",{type:"button",onClick:()=>N(R),style:{background:"none",border:"none",color:"#dc2626",cursor:"pointer",padding:0,display:"flex",alignItems:"center"},children:s.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]},R))})]}),s.jsx("div",{style:{padding:"16px",background:"rgba(59, 130, 246, 0.05)",border:"1px solid rgba(59, 130, 246, 0.2)",borderRadius:"8px"},children:s.jsxs("p",{style:{fontSize:"14px",color:"#1e40af",margin:0},children:[s.jsx("strong",{children:"Примечание:"})," В период отпуска или в заблокированные даты тренер не будет доступен для бронирования. Уже существующие бронирования необходимо отменить или перенести вручную."]})})]}),l==="account"&&r&&s.jsx("div",{children:s.jsxs("div",{style:{marginBottom:"24px"},children:[s.jsx("h3",{style:{fontSize:"16px",fontWeight:600,marginBottom:"16px"},children:"Управление аккаунтом тренера"}),x?s.jsxs("div",{style:{padding:"20px",background:"#f0fdf4",border:"1px solid #86efac",borderRadius:"8px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[s.jsx("div",{style:{width:"40px",height:"40px",background:"#22c55e",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"white",children:s.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})})}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"16px",fontWeight:600,color:"#15803d"},children:"Аккаунт активен"}),s.jsxs("div",{style:{fontSize:"14px",color:"#16a34a"},children:["Email: ",a.email||(r==null?void 0:r.email)]})]})]}),s.jsxs("div",{style:{padding:"12px",background:"white",borderRadius:"6px",marginBottom:"12px"},children:[s.jsx("div",{style:{fontSize:"14px",color:"#374151",marginBottom:"8px"},children:"Тренер может войти в систему используя:"}),s.jsxs("div",{style:{fontSize:"13px",color:"#6b7280"},children:["• Email: ",s.jsx("strong",{children:a.email||(r==null?void 0:r.email)}),s.jsx("br",{}),"• Пароль, который был установлен при создании аккаунта"]})]}),s.jsxs("div",{style:{display:"flex",gap:"12px"},children:[s.jsx("button",{type:"button",onClick:()=>p(!0),style:{padding:"8px 16px",background:"#e0f2fe",color:"#0369a1",border:"1px solid #7dd3fc",borderRadius:"6px",fontSize:"14px",fontWeight:500,cursor:"pointer"},children:"Изменить пароль"}),s.jsx("button",{type:"button",onClick:L,disabled:S,style:{padding:"8px 16px",background:"#fee2e2",color:"#dc2626",border:"1px solid #fca5a5",borderRadius:"6px",fontSize:"14px",fontWeight:500,cursor:S?"not-allowed":"pointer",opacity:S?.5:1},children:S?"Удаление...":"Удалить аккаунт"})]})]}):s.jsxs("div",{style:{padding:"20px",background:"#fef3c7",border:"1px solid #fcd34d",borderRadius:"8px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[s.jsx("div",{style:{width:"40px",height:"40px",background:"#f59e0b",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"white",children:s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"16px",fontWeight:600,color:"#92400e"},children:"Аккаунт не создан"}),s.jsx("div",{style:{fontSize:"14px",color:"#b45309"},children:"Тренер не может войти в систему"})]})]}),s.jsx("button",{type:"button",onClick:()=>{a.email?d(!0):(alert("Пожалуйста, сначала укажите email тренера в основных данных"),A("basic"))},style:{padding:"10px 20px",background:"var(--primary)",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:500,cursor:"pointer"},children:"Создать аккаунт"})]}),s.jsxs("div",{style:{marginTop:"20px",padding:"16px",background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:"8px"},children:[s.jsx("h4",{style:{fontSize:"14px",fontWeight:600,marginBottom:"8px",color:"#374151"},children:"Права доступа тренера:"}),s.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"13px",color:"#6b7280"},children:[s.jsx("li",{children:"Просмотр и редактирование своего профиля (кроме ФИО и телефона)"}),s.jsx("li",{children:"Управление своим расписанием и отпусками"}),s.jsx("li",{children:"Просмотр своих бронирований"}),s.jsx("li",{children:"Доступ только к личному кабинету"})]})]})]})})]}),u&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},children:s.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"24px",maxWidth:"500px",width:"90%"},children:[s.jsx("h3",{style:{fontSize:"18px",fontWeight:600,marginBottom:"20px"},children:"Изменение пароля тренера"}),s.jsxs("div",{style:{padding:"12px",background:"#f0f9ff",border:"1px solid #bae6fd",borderRadius:"8px",marginBottom:"16px"},children:[s.jsxs("div",{style:{fontSize:"13px",color:"#0369a1",marginBottom:"4px"},children:["Тренер: ",s.jsxs("strong",{children:[r==null?void 0:r.firstName," ",r==null?void 0:r.lastName]})]}),s.jsxs("div",{style:{fontSize:"13px",color:"#0369a1"},children:["Email: ",s.jsx("strong",{children:a.email||(r==null?void 0:r.email)})]})]}),s.jsxs("div",{className:"form-group",style:{marginBottom:"20px"},children:[s.jsx("label",{className:"form-label",children:"Новый пароль"}),s.jsx("input",{type:"password",className:"form-input",value:h,onChange:R=>m(R.target.value),placeholder:"Минимум 6 символов"}),s.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:"4px"},children:"После изменения пароля новые данные будут автоматически отправлены на email тренера."})]}),s.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[s.jsx("button",{type:"button",onClick:()=>{p(!1),m("")},disabled:S,style:{padding:"8px 16px",background:"#f3f4f6",color:"#374151",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",cursor:S?"not-allowed":"pointer",opacity:S?.5:1},children:"Отмена"}),s.jsx("button",{type:"button",onClick:D,disabled:S||!h||h.length<6,style:{padding:"8px 16px",background:"var(--primary)",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",cursor:S||!h||h.length<6?"not-allowed":"pointer",opacity:S||!h||h.length<6?.5:1},children:S?"Изменение...":"Изменить пароль"})]})]})}),c&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},children:s.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"24px",maxWidth:"500px",width:"90%"},children:[s.jsx("h3",{style:{fontSize:"18px",fontWeight:600,marginBottom:"20px"},children:"Создание аккаунта для тренера"}),a.email?s.jsxs("div",{style:{padding:"12px",background:"#f0f9ff",border:"1px solid #bae6fd",borderRadius:"8px",marginBottom:"16px"},children:[s.jsx("div",{style:{fontSize:"13px",color:"#0369a1",marginBottom:"4px"},children:"Для входа будет использован email:"}),s.jsx("div",{style:{fontSize:"15px",fontWeight:600,color:"#0c4a6e"},children:a.email})]}):s.jsx("div",{style:{padding:"12px",background:"#fef3c7",border:"1px solid #fcd34d",borderRadius:"8px",marginBottom:"16px"},children:s.jsx("div",{style:{fontSize:"14px",color:"#92400e"},children:"⚠️ Email не указан в основных данных тренера. Пожалуйста, сначала укажите email в основных данных."})}),s.jsxs("div",{className:"form-group",style:{marginBottom:"16px"},children:[s.jsx("label",{className:"form-label",children:"Имя для отображения"}),s.jsx("input",{type:"text",className:"form-input",value:g,onChange:R=>y(R.target.value),placeholder:"Имя Фамилия",disabled:!0})]}),s.jsxs("div",{className:"form-group",style:{marginBottom:"20px"},children:[s.jsx("label",{className:"form-label",children:"Пароль"}),s.jsx("input",{type:"password",className:"form-input",value:h,onChange:R=>m(R.target.value),placeholder:"Минимум 6 символов"}),s.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:"4px"},children:"Пароль должен содержать минимум 6 символов. Сообщите этот пароль тренеру для входа в систему."})]}),s.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[s.jsx("button",{type:"button",onClick:()=>{d(!1),m("")},disabled:S,style:{padding:"8px 16px",background:"#f3f4f6",color:"#374151",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",cursor:S?"not-allowed":"pointer",opacity:S?.5:1},children:"Отмена"}),s.jsx("button",{type:"button",onClick:z,disabled:S||!a.email||!h||h.length<6,style:{padding:"8px 16px",background:"var(--primary)",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",cursor:S||!a.email||!h||h.length<6?"not-allowed":"pointer",opacity:S||!a.email||!h||h.length<6?.5:1},children:S?"Создание...":"Создать аккаунт"})]})]})}),s.jsxs("div",{className:"modal-footer",children:[s.jsx("button",{type:"button",className:"btn btn-secondary",onClick:t,children:"Отмена"}),s.jsx("button",{type:"submit",className:"btn btn-primary",children:r?"Сохранить изменения":"Добавить тренера"})]})]})]})})},see=()=>{const{admin:e,club:t}=er(),{isSuperAdmin:n}=Wr(),[r,i]=b.useState([]),[a,o]=b.useState(!0),[l,A]=b.useState(""),[c,d]=b.useState("all"),[u,p]=b.useState(!1),[h,m]=b.useState(null),[g,y]=b.useState(null),[x,C]=b.useState([]),[S,w]=b.useState(!1);b.useEffect(()=>{if(n){_();const D=localStorage.getItem("selectedVenueId");D?(y(D),T(D)):o(!1)}else e!=null&&e.venueId?T(e.venueId):t!=null&&t.id?T(t.id):o(!1)},[e,t,n]);const _=async()=>{try{const K=(await $t(Et(Re,"venues"))).docs.map(q=>({id:q.id,...q.data()}));C(K)}catch(D){console.error("Error fetching venues:",D)}},E=D=>{y(D),localStorage.setItem("selectedVenueId",D),T(D)},T=async D=>{if(D){o(!0);try{const K=Vt(Et(Re,"trainers"),pt("clubId","==",D),u5("firstName")),q=await $t(K),Z=[];q.forEach(Ae=>{Z.push({id:Ae.id,...Ae.data()})}),i(Z)}catch(K){console.error("Error fetching trainers:",K)}finally{o(!1)}}},F=()=>{m(null),p(!0)},M=D=>{m(D),p(!0)},P=async D=>{if(window.confirm("Вы уверены, что хотите удалить этого тренера?"))try{await Yc(bt(Re,"trainers",D));const K=n?g:(e==null?void 0:e.venueId)||(t==null?void 0:t.id);K&&await T(K),w(!0),setTimeout(()=>w(!1),3e3)}catch(K){console.error("Error deleting trainer:",K),alert("Ошибка при удалении тренера")}},I=async D=>{const K=n?g:(e==null?void 0:e.venueId)||(t==null?void 0:t.id);if(K)try{h!=null&&h.id?await yn(bt(Re,"trainers",h.id),{...D,updatedAt:Qt.now()}):await wa(Et(Re,"trainers"),{...D,clubId:K,createdAt:Qt.now(),updatedAt:Qt.now()}),await T(K),p(!1),w(!0),setTimeout(()=>w(!1),3e3)}catch(q){console.error("Error saving trainer:",q),alert("Ошибка при сохранении тренера")}},j=r.filter(D=>{const K=D.firstName.toLowerCase().includes(l.toLowerCase())||D.lastName.toLowerCase().includes(l.toLowerCase()),q=c==="all"||D.specialization.includes(c);return K&&q}),U=D=>{switch(D){case"tennis":return"🎾";case"padel":return"🏓";case"badminton":return"🏸";default:return"🎾"}},N=D=>{switch(D){case"active":return s.jsx("span",{style:{padding:"4px 8px",fontSize:"12px",fontWeight:500,backgroundColor:"#10B981",color:"white",borderRadius:"12px"},children:"Активен"});case"vacation":return s.jsx("span",{style:{padding:"4px 8px",fontSize:"12px",fontWeight:500,backgroundColor:"#F59E0B",color:"white",borderRadius:"12px"},children:"В отпуске"});case"inactive":return s.jsx("span",{style:{padding:"4px 8px",fontSize:"12px",fontWeight:500,backgroundColor:"#6B7280",color:"white",borderRadius:"12px"},children:"Неактивен"});default:return null}},z=D=>{var Ae,H,R,Q;const q=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].filter($=>{var V,G;return(G=(V=D.schedule)==null?void 0:V[$])==null?void 0:G.enabled});if(q.length===0)return"Не указано";if(q.length===7)return"Ежедневно";if(q.length===5&&!((H=(Ae=D.schedule)==null?void 0:Ae.saturday)!=null&&H.enabled)&&!((Q=(R=D.schedule)==null?void 0:R.sunday)!=null&&Q.enabled))return"Пн-Пт";const Z={monday:"Пн",tuesday:"Вт",wednesday:"Ср",thursday:"Чт",friday:"Пт",saturday:"Сб",sunday:"Вс"};return q.length===1?Z[q[0]]:`${Z[q[0]]}-${Z[q[q.length-1]]}`},L=n?g:(e==null?void 0:e.venueId)||(t==null?void 0:t.id);return a?s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"400px"},children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):s.jsxs("div",{children:[n&&s.jsxs("div",{className:"section-card",style:{marginBottom:"24px"},children:[s.jsx("div",{className:"section-header",children:s.jsx("h2",{className:"section-title",children:"Управление клубом"})}),s.jsx("div",{className:"form-group",children:s.jsxs("select",{value:g||"",onChange:D=>E(D.target.value),className:"form-select",children:[s.jsx("option",{value:"",children:"Выберите клуб"}),x.map(D=>s.jsx("option",{value:D.id,children:D.name},D.id))]})})]}),S&&s.jsxs(nn,{severity:"success",style:{marginBottom:"24px"},children:[s.jsx(Zl,{children:"Успешно"}),"Операция выполнена успешно"]}),L?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"section-card",children:[s.jsxs("div",{className:"section-header",children:[s.jsx("h2",{className:"section-title",children:"Тренеры"}),s.jsxs("button",{onClick:F,className:"btn btn-primary",children:[s.jsx(Ad,{fontSize:"small"}),"Добавить тренера"]})]}),s.jsxs("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap"},children:[s.jsxs("div",{style:{flex:1,minWidth:"200px",position:"relative"},children:[s.jsx(r$,{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#6B7280",fontSize:"20px"}}),s.jsx("input",{type:"text",placeholder:"Поиск по имени...",value:l,onChange:D=>A(D.target.value),className:"form-input",style:{paddingLeft:"40px"}})]}),s.jsxs("select",{value:c,onChange:D=>d(D.target.value),className:"form-select",style:{width:"auto"},children:[s.jsx("option",{value:"all",children:"Все виды спорта"}),s.jsx("option",{value:"tennis",children:"Теннис"}),s.jsx("option",{value:"padel",children:"Падел"}),s.jsx("option",{value:"badminton",children:"Бадминтон"})]})]})]}),j.length>0?s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"24px",marginTop:"24px"},children:j.map(D=>{var K,q;return s.jsxs("div",{className:"section-card",style:{padding:"24px"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"16px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[s.jsxs("div",{style:{width:"48px",height:"48px",borderRadius:"50%",backgroundColor:D.color||"#00A86B",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:"18px"},children:[D.firstName[0],D.lastName[0]]}),s.jsxs("div",{children:[s.jsxs("h3",{style:{margin:0,fontSize:"18px",fontWeight:600},children:[D.firstName," ",D.lastName]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginTop:"4px"},children:[D.specialization.map(Z=>s.jsx("span",{style:{fontSize:"18px"},children:U(Z)},Z)),D.hasAccount?s.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px",padding:"2px 8px",fontSize:"12px",background:"#e0f2fe",color:"#0369a1",borderRadius:"12px",marginLeft:"8px"},children:[s.jsx(Uu,{style:{fontSize:"14px"}}),"Аккаунт"]}):s.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px",padding:"2px 8px",fontSize:"12px",background:"#fef3c7",color:"#92400e",borderRadius:"12px",marginLeft:"8px"},children:[s.jsx(X9,{style:{fontSize:"14px"}}),"Нет аккаунта"]})]})]})]}),N(D.status)]}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",fontSize:"14px",color:"#6B7280",marginBottom:"16px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx(sh,{style:{fontSize:"16px"}}),s.jsx("span",{children:z(D)}),D.schedule&&Object.keys(D.schedule).find(Z=>{var Ae;return(Ae=D.schedule[Z])==null?void 0:Ae.enabled})&&s.jsxs("span",{style:{color:"#9CA3AF"},children:[(K=D.schedule[Object.keys(D.schedule).find(Z=>{var Ae;return(Ae=D.schedule[Z])==null?void 0:Ae.enabled})||"monday"])==null?void 0:K.start," -",(q=D.schedule[Object.keys(D.schedule).find(Z=>{var Ae;return(Ae=D.schedule[Z])==null?void 0:Ae.enabled})||"monday"])==null?void 0:q.end]})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx(tA,{style:{fontSize:"16px"}}),s.jsxs("span",{children:[D.pricePerHour,"₽/час"]}),D.groupPrice&&s.jsxs("span",{style:{color:"#9CA3AF"},children:["• Группа: ",D.groupPrice,"₽"]})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx(t$,{style:{fontSize:"16px"}}),s.jsxs("span",{children:[D.experience," лет опыта"]})]})]}),s.jsxs("div",{style:{display:"flex",gap:"8px"},children:[s.jsxs("button",{onClick:()=>M(D),className:"btn btn-secondary",style:{flex:1},children:[s.jsx(il,{fontSize:"small"}),"Изменить"]}),s.jsx("button",{onClick:()=>P(D.id),className:"btn btn-danger",children:s.jsx(AA,{fontSize:"small"})})]})]},D.id)})}):s.jsx("div",{className:"section-card",style:{marginTop:"24px"},children:s.jsxs("div",{style:{textAlign:"center",padding:"48px 24px"},children:[s.jsx(q9,{style:{fontSize:64,color:"#9CA3AF",marginBottom:"16px"}}),s.jsx("p",{style:{fontSize:"18px",color:"#6B7280",marginBottom:"8px"},children:"Тренеры не найдены"}),r.length===0&&s.jsx("p",{style:{fontSize:"14px",color:"#9CA3AF"},children:"Добавьте первого тренера вашего клуба"})]})})]}):s.jsx("div",{className:"section-card",children:s.jsxs("div",{style:{textAlign:"center",padding:"48px 24px"},children:[s.jsx(bj,{style:{fontSize:64,color:"#9CA3AF",marginBottom:"16px"}}),s.jsx("p",{style:{fontSize:"18px",color:"#6B7280"},children:n?"Выберите клуб для просмотра тренеров":"Клуб не найден"})]})}),u&&s.jsx(ree,{isOpen:u,onClose:()=>p(!1),onSave:I,trainer:h,clubId:n?g:(e==null?void 0:e.venueId)||(t==null?void 0:t.id)})]})};function iee(){const{admin:e}=er(),t=rs(),[n,r]=b.useState(null),[i,a]=b.useState(!0),[o,l]=b.useState(!1),[A,c]=b.useState("info"),[d,u]=b.useState({});b.useEffect(()=>{e!=null&&e.trainerId?p():t("/admin/dashboard")},[e]);const p=async()=>{if(e!=null&&e.trainerId)try{const E=await An(bt(Re,"trainers",e.trainerId));if(E.exists()){const T={id:E.id,...E.data()};r(T),u(T)}}catch(E){console.error("Error fetching trainer data:",E)}finally{a(!1)}},h=E=>{const{name:T,value:F,type:M}=E.target;if(M==="checkbox"){const P=E.target.checked;u(I=>({...I,[T]:P}))}else u(M==="number"?P=>({...P,[T]:parseFloat(F)||0}):P=>({...P,[T]:F}))},m=E=>{u(T=>{var F;return{...T,specialization:(F=T.specialization)!=null&&F.includes(E)?T.specialization.filter(M=>M!==E):[...T.specialization||[],E]}})},g=(E,T,F)=>{u(M=>({...M,schedule:{...M.schedule,[E]:{...M.schedule[E],[T]:F}}}))},y=()=>{const E={id:Date.now().toString(),startDate:"",endDate:"",reason:""};u(T=>({...T,vacations:[...T.vacations||[],E]}))},x=(E,T,F)=>{u(M=>{var P;return{...M,vacations:(P=M.vacations)==null?void 0:P.map(I=>I.id===E?{...I,[T]:F}:I)}})},C=E=>{u(T=>{var F;return{...T,vacations:(F=T.vacations)==null?void 0:F.filter(M=>M.id!==E)}})},S=E=>{u(T=>{const F=T.blockedDates||[];return F.includes(E)?{...T,blockedDates:F.filter(M=>M!==E)}:{...T,blockedDates:[...F,E]}})},w=async()=>{if(!(!(e!=null&&e.trainerId)||!d)){l(!0);try{const{firstName:E,lastName:T,phone:F,...M}=d;await yn(bt(Re,"trainers",e.trainerId),{...M,updatedAt:new Date}),alert("Профиль успешно обновлен"),await p()}catch(E){console.error("Error updating trainer:",E),alert("Ошибка при сохранении профиля")}finally{l(!1)}}},_={monday:"Понедельник",tuesday:"Вторник",wednesday:"Среда",thursday:"Четверг",friday:"Пятница",saturday:"Суббота",sunday:"Воскресенье"};return i?s.jsx("div",{className:"section-card",children:"Загрузка..."}):n?s.jsx("div",{className:"container",children:s.jsxs("div",{className:"section-card",children:[s.jsxs("div",{className:"section-header",children:[s.jsx("h1",{className:"section-title",children:"Мой профиль"}),s.jsxs("button",{className:"btn btn-primary",onClick:w,disabled:o,children:[s.jsx(nA,{style:{fontSize:"20px",marginRight:"8px"}}),o?"Сохранение...":"Сохранить изменения"]})]}),s.jsxs("div",{style:{padding:"16px",background:"#f3f4f6",borderRadius:"8px",marginBottom:"24px"},children:[s.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Основная информация"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"16px"},children:[s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Имя"}),s.jsx("input",{type:"text",className:"form-input",value:n.firstName,disabled:!0,style:{background:"white",cursor:"not-allowed"}})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Фамилия"}),s.jsx("input",{type:"text",className:"form-input",value:n.lastName,disabled:!0,style:{background:"white",cursor:"not-allowed"}})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",children:"Телефон"}),s.jsx("input",{type:"text",className:"form-input",value:n.phone,disabled:!0,style:{background:"white",cursor:"not-allowed"}})]})]})]}),s.jsxs("div",{style:{display:"flex",borderBottom:"1px solid #e5e7eb",marginBottom:"24px"},children:[s.jsx("button",{type:"button",onClick:()=>c("info"),style:{padding:"12px 24px",background:"none",border:"none",borderBottom:A==="info"?"2px solid var(--primary)":"2px solid transparent",color:A==="info"?"var(--primary)":"#6b7280",fontWeight:500,cursor:"pointer",transition:"all 0.2s"},children:"Профессиональные данные"}),s.jsx("button",{type:"button",onClick:()=>c("schedule"),style:{padding:"12px 24px",background:"none",border:"none",borderBottom:A==="schedule"?"2px solid var(--primary)":"2px solid transparent",color:A==="schedule"?"var(--primary)":"#6b7280",fontWeight:500,cursor:"pointer",transition:"all 0.2s"},children:"Расписание"}),s.jsx("button",{type:"button",onClick:()=>c("vacations"),style:{padding:"12px 24px",background:"none",border:"none",borderBottom:A==="vacations"?"2px solid var(--primary)":"2px solid transparent",color:A==="vacations"?"var(--primary)":"#6b7280",fontWeight:500,cursor:"pointer",transition:"all 0.2s"},children:"Отпуска и выходные"})]}),A==="info"&&s.jsxs("div",{children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"24px"},children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Email"}),s.jsx("input",{type:"email",name:"email",value:d.email||"",onChange:h,className:"form-input"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Опыт работы (лет)"}),s.jsx("input",{type:"number",name:"experience",value:d.experience||0,onChange:h,min:"0",max:"50",className:"form-input"})]})]}),s.jsxs("div",{className:"form-group",style:{marginBottom:"24px"},children:[s.jsx("label",{className:"form-label",children:"Специализация"}),s.jsx("div",{style:{display:"flex",gap:"12px"},children:["tennis","padel","badminton"].map(E=>{var T;return s.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:((T=d.specialization)==null?void 0:T.includes(E))||!1,onChange:()=>m(E),style:{marginRight:"6px"}}),s.jsx("span",{style:{textTransform:"capitalize"},children:E})]},E)})})]}),s.jsxs("div",{className:"form-group",style:{marginBottom:"24px"},children:[s.jsx("label",{className:"form-label",children:"О себе"}),s.jsx("textarea",{name:"bio",value:d.bio||"",onChange:h,className:"form-input",rows:4,placeholder:"Расскажите о своем опыте, достижениях, методике тренировок..."})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Стоимость часа (₽)"}),s.jsx("input",{type:"number",name:"pricePerHour",value:d.pricePerHour||0,onChange:h,min:"0",className:"form-input"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Стоимость группового занятия (₽)"}),s.jsx("input",{type:"number",name:"groupPrice",value:d.groupPrice||0,onChange:h,min:"0",className:"form-input"})]})]})]}),A==="schedule"&&s.jsxs("div",{children:[Object.keys(_).map(E=>{var T,F,M,P,I,j,U,N,z,L;return s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",padding:"16px",marginBottom:"12px",border:"1px solid #e5e7eb",borderRadius:"8px",background:(F=(T=d.schedule)==null?void 0:T[E])!=null&&F.enabled?"#f9fafb":"white"},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",minWidth:"150px",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:((P=(M=d.schedule)==null?void 0:M[E])==null?void 0:P.enabled)||!1,onChange:D=>g(E,"enabled",D.target.checked),style:{marginRight:"8px"}}),s.jsx("span",{style:{fontWeight:500},children:_[E]})]}),((j=(I=d.schedule)==null?void 0:I[E])==null?void 0:j.enabled)&&s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[s.jsx("input",{type:"time",value:((N=(U=d.schedule)==null?void 0:U[E])==null?void 0:N.start)||"09:00",onChange:D=>g(E,"start",D.target.value),className:"form-input",style:{width:"140px"}}),s.jsx("span",{children:"—"}),s.jsx("input",{type:"time",value:((L=(z=d.schedule)==null?void 0:z[E])==null?void 0:L.end)||"18:00",onChange:D=>g(E,"end",D.target.value),className:"form-input",style:{width:"140px"}})]})]},E)}),s.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",marginTop:"16px"},children:[s.jsx("input",{type:"checkbox",name:"worksOnHolidays",checked:d.worksOnHolidays||!1,onChange:h,style:{marginRight:"8px"}}),s.jsx("span",{children:"Работаю в праздничные дни"})]})]}),A==="vacations"&&s.jsxs("div",{children:[s.jsxs("div",{style:{marginBottom:"24px"},children:[s.jsx("h3",{style:{fontSize:"16px",fontWeight:600,marginBottom:"16px"},children:"Периоды отпусков"}),d.vacations&&d.vacations.length>0?s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:d.vacations.map(E=>s.jsx("div",{style:{padding:"16px",border:"1px solid #e5e7eb",borderRadius:"8px",background:"#f9fafb"},children:s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 2fr auto",gap:"12px",alignItems:"center"},children:[s.jsxs("div",{children:[s.jsx("label",{className:"form-label",style:{fontSize:"12px"},children:"Начало"}),s.jsx("input",{type:"date",className:"form-input",value:E.startDate,onChange:T=>x(E.id,"startDate",T.target.value),min:new Date().toISOString().split("T")[0]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",style:{fontSize:"12px"},children:"Окончание"}),s.jsx("input",{type:"date",className:"form-input",value:E.endDate,onChange:T=>x(E.id,"endDate",T.target.value),min:E.startDate||new Date().toISOString().split("T")[0]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"form-label",style:{fontSize:"12px"},children:"Причина"}),s.jsx("input",{type:"text",className:"form-input",value:E.reason||"",onChange:T=>x(E.id,"reason",T.target.value),placeholder:"Например: Отпуск, болезнь"})]}),s.jsx("button",{type:"button",onClick:()=>C(E.id),style:{padding:"8px",background:"#fee2e2",border:"1px solid #fca5a5",borderRadius:"6px",color:"#dc2626",cursor:"pointer",alignSelf:"flex-end"},children:"Удалить"})]})},E.id))}):s.jsx("p",{style:{color:"#6b7280",fontSize:"14px"},children:"Нет запланированных отпусков"}),s.jsx("button",{type:"button",onClick:y,style:{marginTop:"12px",padding:"8px 16px",background:"var(--primary)",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",cursor:"pointer"},children:"+ Добавить период отпуска"})]}),s.jsxs("div",{style:{marginBottom:"24px"},children:[s.jsx("h3",{style:{fontSize:"16px",fontWeight:600,marginBottom:"16px"},children:"Заблокированные даты"}),s.jsx("div",{style:{marginBottom:"12px"},children:s.jsx("input",{type:"date",className:"form-input",onChange:E=>{E.target.value&&(S(E.target.value),E.target.value="")},min:new Date().toISOString().split("T")[0],style:{maxWidth:"200px"}})}),d.blockedDates&&d.blockedDates.length>0&&s.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:d.blockedDates.sort().map(E=>s.jsxs("div",{style:{padding:"4px 12px",background:"#fee2e2",border:"1px solid #fca5a5",borderRadius:"16px",fontSize:"13px",display:"flex",alignItems:"center",gap:"6px"},children:[s.jsx("span",{children:new Date(E+"T00:00:00").toLocaleDateString("ru-RU")}),s.jsx("button",{type:"button",onClick:()=>S(E),style:{background:"none",border:"none",color:"#dc2626",cursor:"pointer",padding:0},children:"×"})]},E))})]})]})]})}):s.jsx("div",{className:"section-card",children:"Профиль тренера не найден"})}const aee={companyType:"ИП",fullName:"ИП ТЕН КРИСТИНА ВАДИМОВНА",shortName:"ИП Тен К.В.",inn:"026401027275",ogrn:"313028000082460",legalAddress:{postcode:"420000",region:"Республика Татарстан",city:"г. Казань",street:"ул. Павлюхина",building:"д. 114, кв. 39"},bank:{name:'АО "ТБанк"',bik:"044525974",correspondentAccount:"30101810145250000974",checkingAccount:"40802810800000000779",bankAddress:"Москва, 123060, 1-й Волоколамский проезд, д. 10, стр. 1"},contacts:{phone:"+7 (999) 123-45-67",email:"info@allcourt.ru",website:"https://allcourt.ru",supportEmail:"admin@allcourt.ru"},director:{fullName:"Тен Кристина Вадимовна",position:"Индивидуальный предприниматель",basedOn:"Свидетельства о государственной регистрации"}};function oee(){const{isSuperAdmin:e}=Wr(),[t,n]=b.useState(!0),[r,i]=b.useState(!1),[a,o]=b.useState(aee),[l,A]=b.useState(!1),[c,d]=b.useState(null);b.useEffect(()=>{u()},[]);const u=async()=>{try{const m=bt(Re,"settings","company"),g=await An(m);g.exists()&&o(g.data())}catch(m){console.error("Error loading company details:",m)}finally{n(!1)}},p=async()=>{try{i(!0);const m=bt(Re,"settings","company");await yy(m,{...a,updatedAt:new Date}),A(!1),d({type:"success",text:"Реквизиты компании сохранены"}),setTimeout(()=>d(null),3e3)}catch(m){console.error("Error saving company details:",m),d({type:"error",text:"Ошибка при сохранении реквизитов"}),setTimeout(()=>d(null),3e3)}finally{i(!1)}},h=()=>{A(!1),u()};return e?t?s.jsx(Ne,{sx:{display:"flex",justifyContent:"center",p:3},children:s.jsx(Hr,{})}):s.jsxs(Ne,{sx:{p:3},children:[s.jsx(J,{variant:"h4",gutterBottom:!0,children:"Реквизиты компании-владельца платформы"}),s.jsx(nn,{severity:"info",sx:{mb:3},children:"Эти реквизиты используются в публичной оферте, договорах и официальных документах платформы"}),c&&s.jsx(nn,{severity:c.type,sx:{mb:3},onClose:()=>d(null),children:c.text}),s.jsx(on,{sx:{mb:3},children:s.jsxs(ln,{children:[s.jsxs(Ne,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[s.jsxs(Ne,{display:"flex",alignItems:"center",gap:1,children:[s.jsx(rh,{color:"primary"}),s.jsx(J,{variant:"h6",children:"Основные реквизиты"})]}),l?s.jsxs(Ne,{children:[s.jsx(Pt,{onClick:h,sx:{mr:1},children:"Отмена"}),s.jsx(Pt,{variant:"contained",startIcon:s.jsx(nA,{}),onClick:p,disabled:r,children:r?"Сохранение...":"Сохранить"})]}):s.jsx(Pt,{variant:"outlined",onClick:()=>A(!0),children:"Редактировать"})]}),s.jsxs(ft,{container:!0,spacing:2,children:[s.jsx(ft,{item:!0,xs:12,md:6,children:s.jsx(Dt,{label:"Форма собственности",value:a.companyType,onChange:m=>o({...a,companyType:m.target.value}),fullWidth:!0,disabled:!l})}),s.jsx(ft,{item:!0,xs:12,md:6,children:s.jsx(Dt,{label:"Краткое наименование",value:a.shortName,onChange:m=>o({...a,shortName:m.target.value}),fullWidth:!0,disabled:!l})}),s.jsx(ft,{item:!0,xs:12,children:s.jsx(Dt,{label:"Полное наименование",value:a.fullName,onChange:m=>o({...a,fullName:m.target.value}),fullWidth:!0,disabled:!l})}),s.jsx(ft,{item:!0,xs:12,md:4,children:s.jsx(Dt,{label:"ИНН",value:a.inn,onChange:m=>o({...a,inn:m.target.value}),fullWidth:!0,disabled:!l})}),s.jsx(ft,{item:!0,xs:12,md:4,children:s.jsx(Dt,{label:"КПП",value:a.kpp||"—",onChange:m=>o({...a,kpp:m.target.value}),fullWidth:!0,disabled:!l,helperText:"Для ИП не требуется"})}),s.jsx(ft,{item:!0,xs:12,md:4,children:s.jsx(Dt,{label:"ОГРН/ОГРНИП",value:a.ogrn,onChange:m=>o({...a,ogrn:m.target.value}),fullWidth:!0,disabled:!l})})]})]})}),s.jsx(on,{sx:{mb:3},children:s.jsxs(ln,{children:[s.jsx(J,{variant:"h6",gutterBottom:!0,children:"Юридический адрес"}),s.jsxs(ft,{container:!0,spacing:2,children:[s.jsx(ft,{item:!0,xs:12,md:2,children:s.jsx(Dt,{label:"Индекс",value:a.legalAddress.postcode,onChange:m=>o({...a,legalAddress:{...a.legalAddress,postcode:m.target.value}}),fullWidth:!0,disabled:!l})}),s.jsx(ft,{item:!0,xs:12,md:4,children:s.jsx(Dt,{label:"Регион",value:a.legalAddress.region,onChange:m=>o({...a,legalAddress:{...a.legalAddress,region:m.target.value}}),fullWidth:!0,disabled:!l})}),s.jsx(ft,{item:!0,xs:12,md:3,children:s.jsx(Dt,{label:"Город",value:a.legalAddress.city,onChange:m=>o({...a,legalAddress:{...a.legalAddress,city:m.target.value}}),fullWidth:!0,disabled:!l})}),s.jsx(ft,{item:!0,xs:12,md:3,children:s.jsx(Dt,{label:"Улица",value:a.legalAddress.street,onChange:m=>o({...a,legalAddress:{...a.legalAddress,street:m.target.value}}),fullWidth:!0,disabled:!l})}),s.jsx(ft,{item:!0,xs:12,md:6,children:s.jsx(Dt,{label:"Дом, корпус, квартира",value:a.legalAddress.building,onChange:m=>o({...a,legalAddress:{...a.legalAddress,building:m.target.value}}),fullWidth:!0,disabled:!l})}),s.jsx(ft,{item:!0,xs:12,md:6,children:s.jsx(Dt,{label:"Офис/помещение",value:a.legalAddress.office||"",onChange:m=>o({...a,legalAddress:{...a.legalAddress,office:m.target.value}}),fullWidth:!0,disabled:!l})})]})]})}),s.jsx(on,{sx:{mb:3},children:s.jsxs(ln,{children:[s.jsxs(Ne,{display:"flex",alignItems:"center",gap:1,mb:2,children:[s.jsx(hj,{color:"primary"}),s.jsx(J,{variant:"h6",children:"Банковские реквизиты"})]}),s.jsxs(ft,{container:!0,spacing:2,children:[s.jsx(ft,{item:!0,xs:12,md:6,children:s.jsx(Dt,{label:"Наименование банка",value:a.bank.name,onChange:m=>o({...a,bank:{...a.bank,name:m.target.value}}),fullWidth:!0,disabled:!l})}),s.jsx(ft,{item:!0,xs:12,md:6,children:s.jsx(Dt,{label:"БИК",value:a.bank.bik,onChange:m=>o({...a,bank:{...a.bank,bik:m.target.value}}),fullWidth:!0,disabled:!l})}),s.jsx(ft,{item:!0,xs:12,md:6,children:s.jsx(Dt,{label:"Расчетный счет",value:a.bank.checkingAccount,onChange:m=>o({...a,bank:{...a.bank,checkingAccount:m.target.value}}),fullWidth:!0,disabled:!l})}),s.jsx(ft,{item:!0,xs:12,md:6,children:s.jsx(Dt,{label:"Корреспондентский счет",value:a.bank.correspondentAccount,onChange:m=>o({...a,bank:{...a.bank,correspondentAccount:m.target.value}}),fullWidth:!0,disabled:!l})}),s.jsx(ft,{item:!0,xs:12,children:s.jsx(Dt,{label:"Адрес банка",value:a.bank.bankAddress,onChange:m=>o({...a,bank:{...a.bank,bankAddress:m.target.value}}),fullWidth:!0,disabled:!l})})]})]})}),s.jsx(on,{sx:{mb:3},children:s.jsxs(ln,{children:[s.jsxs(Ne,{display:"flex",alignItems:"center",gap:1,mb:2,children:[s.jsx(P9,{color:"primary"}),s.jsx(J,{variant:"h6",children:"Контактная информация"})]}),s.jsxs(ft,{container:!0,spacing:2,children:[s.jsx(ft,{item:!0,xs:12,md:6,children:s.jsx(Dt,{label:"Телефон",value:a.contacts.phone,onChange:m=>o({...a,contacts:{...a.contacts,phone:m.target.value}}),fullWidth:!0,disabled:!l})}),s.jsx(ft,{item:!0,xs:12,md:6,children:s.jsx(Dt,{label:"Email",value:a.contacts.email,onChange:m=>o({...a,contacts:{...a.contacts,email:m.target.value}}),fullWidth:!0,disabled:!l})}),s.jsx(ft,{item:!0,xs:12,md:6,children:s.jsx(Dt,{label:"Сайт",value:a.contacts.website,onChange:m=>o({...a,contacts:{...a.contacts,website:m.target.value}}),fullWidth:!0,disabled:!l})}),s.jsx(ft,{item:!0,xs:12,md:6,children:s.jsx(Dt,{label:"Email поддержки",value:a.contacts.supportEmail,onChange:m=>o({...a,contacts:{...a.contacts,supportEmail:m.target.value}}),fullWidth:!0,disabled:!l})})]})]})}),s.jsx(on,{children:s.jsxs(ln,{children:[s.jsx(J,{variant:"h6",gutterBottom:!0,children:"Руководитель"}),s.jsxs(ft,{container:!0,spacing:2,children:[s.jsx(ft,{item:!0,xs:12,md:6,children:s.jsx(Dt,{label:"ФИО",value:a.director.fullName,onChange:m=>o({...a,director:{...a.director,fullName:m.target.value}}),fullWidth:!0,disabled:!l})}),s.jsx(ft,{item:!0,xs:12,md:6,children:s.jsx(Dt,{label:"Должность",value:a.director.position,onChange:m=>o({...a,director:{...a.director,position:m.target.value}}),fullWidth:!0,disabled:!l})}),s.jsx(ft,{item:!0,xs:12,children:s.jsx(Dt,{label:"Действует на основании",value:a.director.basedOn,onChange:m=>o({...a,director:{...a.director,basedOn:m.target.value}}),fullWidth:!0,disabled:!l})})]})]})})]}):s.jsx(Ne,{sx:{p:3},children:s.jsx(nn,{severity:"error",children:"У вас нет доступа к настройкам компании"})})}class lee extends b.Component{constructor(n){super(n);jb(this,"handleReset",()=>{this.setState({hasError:!1,error:void 0})});this.state={hasError:!1}}static getDerivedStateFromError(n){return{hasError:!0,error:F1(n)}}componentDidCatch(n,r){const i=F1(n);Bj(i,{componentStack:r.componentStack,errorBoundary:!0})}render(){return this.state.hasError&&this.state.error?this.props.fallback?this.props.fallback(this.state.error,this.handleReset):s.jsx(Ne,{sx:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"400px",p:3},children:s.jsxs($n,{elevation:3,sx:{p:4,maxWidth:500,textAlign:"center"},children:[s.jsx(H9,{sx:{fontSize:64,color:"error.main",mb:2}}),s.jsx(J,{variant:"h5",gutterBottom:!0,children:"Что-то пошло не так"}),s.jsx(J,{variant:"body1",color:"text.secondary",paragraph:!0,children:this.state.error.message}),!1,s.jsx(Pt,{variant:"contained",startIcon:s.jsx(xj,{}),onClick:this.handleReset,sx:{mt:3},children:"Попробовать снова"})]})}):this.props.children}}const Aee={contentPadding:{padding:"var(--spacing-xl)"}},zv={container:{maxWidth:"1200px",margin:"0 auto",display:"grid",gridTemplateColumns:"1fr 400px",gap:"var(--spacing-2xl)",padding:"var(--spacing-2xl)",minHeight:"calc(100vh - 350px)"},mainContent:{flex:1},sidebar:{position:"sticky",top:"var(--spacing-2xl)",height:"fit-content",display:"flex",flexDirection:"column",gap:"var(--spacing-lg)"}};function Wv({src:e,alt:t,className:n,style:r,onClick:i,loading:a="lazy",onMouseOver:o,onMouseOut:l}){const[A,c]=b.useState(a==="eager"),[d,u]=b.useState(!1),p=b.useRef(null);return b.useEffect(()=>{if(a==="eager"||!p.current)return;const h=new IntersectionObserver(m=>{m.forEach(g=>{g.isIntersecting&&(c(!0),h.unobserve(g.target))})},{rootMargin:"50px"});return h.observe(p.current),()=>{p.current&&h.unobserve(p.current)}},[a]),d?s.jsx("div",{style:{...r,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"var(--extra-light-gray)",color:"var(--gray)"},className:n,children:s.jsx("span",{children:"📷"})}):s.jsx("img",{ref:p,src:A?e:void 0,alt:t,className:n,style:r,onClick:i,onMouseOver:o,onMouseOut:l,onError:()=>u(!0),loading:a})}function cee({isOpen:e,onClose:t,court:n,venue:r}){const[i,a]=b.useState("datetime"),[o,l]=b.useState(Zo()),[A,c]=b.useState(""),[d,u]=b.useState(60),[p,h]=b.useState("private"),[m,g]=b.useState([]),[y,x]=b.useState(!1),[C,S]=b.useState(""),[w,_]=b.useState("+7"),[E,T]=b.useState(""),[F,M]=b.useState(null),[P,I]=b.useState(window.innerWidth<=768);b.useEffect(()=>{const Z=()=>{I(window.innerWidth<=768)};return window.addEventListener("resize",Z),()=>window.removeEventListener("resize",Z)},[]),b.useEffect(()=>{if(e){console.log("Modal opened, venue:",r,"bookingDurations:",r.bookingDurations);const Z=r.bookingDurations||{60:!0,90:!0,120:!0},Ae=[60,90,120].filter(H=>Z[H]!==!1);console.log("Available durations:",Ae),Ae.length>0&&!Ae.includes(d)&&u(Ae[0]),a("datetime"),c(""),g([]),n&&r&&j()}else F&&(F(),M(null))},[e]),b.useEffect(()=>{if(i==="datetime"&&o&&n&&r){j();const Z=new Date(o);Z.setHours(0,0,0,0);const Ae=new Date(o);Ae.setHours(23,59,59,999);const H=Vt(Et(Re,"bookings"),pt("courtId","==",n.id),pt("date",">=",Qt.fromDate(Z)),pt("date","<=",Qt.fromDate(Ae))),R=li(H,$=>{console.log("Real-time update: bookings changed (timestamp date)",$.docs.length,"bookings"),$.docs.forEach(V=>{console.log("Booking:",V.id,V.data())}),j()}),Q=()=>{R()};M(()=>Q)}return()=>{F&&(F(),M(null))}},[i,o,d,n.id,r.id]);const j=async(Z,Ae)=>{var Q;const H=Z||d,R=Ae||o;console.log("Loading time slots for:",{date:R,courtId:n.id,courtName:n.name,venue:r.name,duration:H,workingHours:r.workingHours}),x(!0);try{const $=new Date(R);$.setHours(0,0,0,0);const V=new Date(R);V.setHours(23,59,59,999);const G=Vt(Et(Re,"bookings"),pt("courtId","==",n.id),pt("date",">=",Qt.fromDate($)),pt("date","<=",Qt.fromDate(V))),ne=(await $t(G)).docs.filter(rt=>{const ot=rt.data();return ot.status==="confirmed"||ot.paymentStatus==="paid"||ot.paymentStatus==="awaiting_payment"}).map(rt=>{const ot=rt.data();let At=ot.duration||60;return console.log("Processing booking:",rt.id,{duration:ot.duration,amount:ot.amount,price:ot.price,startTime:ot.startTime,endTime:ot.endTime}),{time:ot.time||ot.startTime,startTime:ot.startTime||ot.time,endTime:ot.endTime,duration:At}});console.log("Found bookings:",ne.length,ne);const xe=R.getDay(),re=xe===0||xe===6,le=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][xe];console.log("Day of week:",xe,"Day name:",le,"Is weekend:",re,"Working hours:",r.workingHours);const be=[];let ue="07:00",ae="23:00";if((Q=r.workingHours)!=null&&Q[le]){const rt=r.workingHours[le];if(console.log("Found day-specific hours:",le,rt),typeof rt=="object"&&rt.open&&rt.close)ue=rt.open,ae=rt.close;else if(typeof rt=="string"&&rt.includes("-")){const[ot,At]=rt.split("-").map(We=>We.trim());ot&&At&&(ue=ot,ae=At)}}else if(r.workingHours){const rt=r.workingHours[re?"weekend":"weekday"];if(console.log("Using weekday/weekend format:",re?"weekend":"weekday",rt),typeof rt=="string"&&rt.includes("-")){const[ot,At]=rt.split("-").map(We=>We.trim());ot&&At&&(ue=ot,ae=At)}else typeof rt=="object"&&rt.open&&rt.close&&(ue=rt.open,ae=rt.close)}else console.log("No working hours found, using defaults");console.log("Working hours parsed:",{openTime:ue,closeTime:ae});const[He,we]=ue.split(":").map(Number),[me,Ie]=ae.split(":").map(Number),Te=new Date,Oe=en(R,"yyyy-MM-dd")===en(Te,"yyyy-MM-dd");let qe=He*60+we;const nt=me*60+Ie,ht=r.bookingSlotInterval||60;for(ht===60&&qe%60!==0&&(qe=Math.ceil(qe/60)*60);qe<nt;){const rt=Math.floor(qe/60),ot=qe%60,At=`${rt.toString().padStart(2,"0")}:${ot.toString().padStart(2,"0")}`,We=Tk(Nk(new Date(R),rt),ot);if(Oe&&sr(We,Te)){qe+=ht;continue}if(qe+H>nt)break;let jt=!0;for(const fe of ne){const de=fe.startTime.split(":");if(de.length!==2)continue;const Ue=parseInt(de[0]),ve=parseInt(de[1]),je=Ue*60+ve,pe=je+fe.duration,Ee=qe+H;if(qe<pe&&Ee>je){jt=!1;break}}const ye=Vc(R,At,H,n.pricing,n.holidayPricing,n.priceWeekday,n.priceWeekend);be.push({time:At,available:jt,price:ye}),qe+=ht}g(be),console.log("Loaded time slots:",be.length,be)}catch($){console.error("Error loading time slots:",$),g([])}finally{x(!1)}},U=Z=>{l(Z),c(""),j(d,Z)},N=async Z=>{x(!0);try{const Ae=new Date(o);Ae.setHours(0,0,0,0);const H=new Date(o);H.setHours(23,59,59,999);const R=Vt(Et(Re,"bookings"),pt("courtId","==",n.id),pt("date",">=",Qt.fromDate(Ae)),pt("date","<=",Qt.fromDate(H))),$=(await $t(R)).docs.filter(re=>{const ge=re.data();return ge.status==="confirmed"||ge.paymentStatus==="paid"||ge.paymentStatus==="awaiting_payment"}).map(re=>{const ge=re.data();let le=ge.duration||60;return console.log("Processing booking:",re.id,{duration:ge.duration,amount:ge.amount,price:ge.price,startTime:ge.startTime,endTime:ge.endTime}),{time:ge.time||ge.startTime,startTime:ge.startTime||ge.time,endTime:ge.endTime,duration:le}}),[V,G]=Z.split(":").map(Number),ie=V*60+G,ne=ie+d;let xe=!0;for(const re of $){const ge=re.startTime.split(":");if(ge.length!==2)continue;const le=parseInt(ge[0]),be=parseInt(ge[1]),ue=le*60+be,ae=ue+re.duration;if(ie<ae&&ne>ue){xe=!1;break}}if(!xe){alert("К сожалению, это время было только что забронировано. Пожалуйста, выберите другое время."),await j();return}c(Z),a("gameType")}catch(Ae){console.error("Error checking availability:",Ae),alert("Ошибка проверки доступности. Попробуйте еще раз.")}finally{x(!1)}},z=Z=>{h(Z)},L=async()=>{if(!C||!w){alert("Пожалуйста, заполните обязательные поля");return}if(!Lk(C)){alert("Имя должно быть от 2 до 100 символов");return}if(!Uk(w)){alert("Некорректный номер телефона");return}if(E&&!tZ(E)){alert("Некорректный email");return}if(!Mk(o)){alert("Нельзя забронировать на прошедшую дату");return}x(!0);try{const[Z,Ae]=A.split(":").map(Number),H=new Date(o);H.setHours(Z,Ae,0,0);const R=new Date(H.getTime()+d*60*1e3),Q=m.find(be=>be.time===A),$=o.getFullYear(),V=o.getMonth(),G=o.getDate(),ie=new Date(Date.UTC($,V,G,0,0,0,0)),ne={courtId:n.id,courtName:n.name,venueId:r.id,venueName:r.name,date:Qt.fromDate(ie),time:A,startTime:A,endTime:`${R.getHours().toString().padStart(2,"0")}:${R.getMinutes().toString().padStart(2,"0")}`,duration:d,gameType:p,customerName:$u(C),customerPhone:pc(w),customerEmail:E?E.toLowerCase().trim():"",clientName:$u(C),clientPhone:pc(w),price:Q?Q.price:0,amount:Q?Q.price:0,status:"pending",paymentStatus:"awaiting_payment",paymentMethod:"online",paymentHistory:[{timestamp:Qt.now(),action:"created",userId:"web-client",userName:C}],createdBy:{userId:"web-client",userName:C,userRole:"client"},createdAt:new Date,source:"web"};if(console.log("Venue payment settings from props:",{paymentEnabled:r.paymentEnabled,paymentProvider:r.paymentProvider,paymentTestMode:r.paymentTestMode,phone:r.phone}),!r.paymentEnabled){const be=r.phone||"не указан";alert(`К сожалению, клуб "${r.name}" пока не подключил онлайн оплату.

Пожалуйста, позвоните по телефону клуба для бронирования:
${be}`),x(!1);return}console.log("Creating booking with data:",ne);const xe=await wa(Et(Re,"bookings"),ne);console.log("Booking created with ID:",xe.id);const re=ts(tl,"initBookingPayment");console.log("Calling initBookingPayment with params:",{bookingId:xe.id,amount:ne.price,description:`Бронирование ${n.name} на ${en(o,"d MMMM",{locale:oi})} ${A}`,returnUrl:`${window.location.origin}/club/${r.id}/booking-confirmation/${xe.id}`,userId:"",customerEmail:E,customerPhone:w});const ge=await re({bookingId:xe.id,amount:ne.price,description:`Бронирование ${n.name} на ${en(o,"d MMMM",{locale:oi})} ${A}`,returnUrl:`${window.location.origin}/club/${r.id}/booking-confirmation/${xe.id}`,userId:"",customerEmail:E,customerPhone:w});console.log("Payment result:",ge);const le=ge.data;if(le.success&&le.paymentUrl)window.location.href=le.paymentUrl;else{try{await Yc(xe),console.log("Booking deleted due to payment initialization failure")}catch(be){console.error("Failed to delete booking after payment failure:",be)}throw new Error(le.error||"Ошибка инициализации платежа")}}catch(Z){console.error("Error creating booking:",Z),console.error("Error details:",{message:Z.message,code:Z.code,details:Z.details,stack:Z.stack});let Ae="Ошибка при создании бронирования";Z.code==="functions/not-found"?Ae="Функция оплаты не найдена. Проверьте настройки.":Z.code==="functions/failed-precondition"?Ae="Платежи не настроены для этого клуба":Z.message&&(Ae=`Ошибка: ${Z.message}`),alert(Ae)}finally{x(!1)}};if(!e)return null;const D=()=>{var R;const Z=[],Ae=["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек"],H=["Вс","Пн","Вт","Ср","Чт","Пт","Сб"];for(let Q=0;Q<14;Q++)Z.push(ro(Zo(),Q));return s.jsxs("div",{style:{display:"flex",flexDirection:"column",height:P?"calc(100vh - var(--spacing-lg) * 2)":"auto",position:"relative"},children:[s.jsx("h3",{className:"h3",style:{marginBottom:"var(--spacing-lg)",flexShrink:0},children:"Выберите дату и время"}),s.jsxs("div",{style:{display:P?"block":"grid",gridTemplateColumns:P?"1fr":"300px 1fr",gap:"var(--spacing-xl)",flex:1,overflowY:"auto",paddingBottom:P?"140px":"0"},children:[s.jsxs("div",{children:[s.jsxs("div",{style:{marginBottom:"var(--spacing-xl)"},children:[s.jsx("h4",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Дата бронирования"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"var(--spacing-xs)"},children:Z.map((Q,$)=>{const V=en(Q,"yyyy-MM-dd")===en(o,"yyyy-MM-dd"),G=$===0,ie=H[Q.getDay()],ne=$===0||Q.getDate()===1,xe=en(Q,"yyyy-MM-dd");return s.jsxs("div",{style:{textAlign:"center"},children:[ne&&s.jsx("div",{className:"caption",style:{marginBottom:"var(--spacing-xs)",color:"var(--gray)",height:"16px",fontSize:"11px"},children:Ae[Q.getMonth()]}),!ne&&s.jsx("div",{style:{height:"16px",marginBottom:"var(--spacing-xs)"}}),s.jsxs("button",{onClick:()=>U(Q),style:{width:"100%",aspectRatio:"1",padding:"4px",border:`2px solid ${V||G?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-sm)",background:V?"var(--primary)":"var(--white)",color:V?"white":"var(--dark)",cursor:"pointer",transition:"all 0.2s",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:"12px"},children:[s.jsx("div",{className:"caption",style:{fontWeight:600,color:V?"white":"var(--gray)"},children:ie}),s.jsx("div",{className:"body-bold",style:{fontSize:"16px",color:V?"white":"var(--dark)"},children:Q.getDate()})]})]},xe)})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Длительность игры"}),s.jsx("div",{style:{display:"flex",gap:"var(--spacing-sm)"},children:[60,90,120].map(Q=>(r.bookingDurations||{60:!0,90:!0,120:!0})[Q]!==!1?(o.getDay(),Vc(o,"12:00",Q,n.pricing,n.holidayPricing,n.priceWeekday,n.priceWeekend),s.jsx("button",{onClick:()=>{Q!==d&&(u(Q),c(""),j(Q))},style:{flex:1,padding:P?"var(--spacing-sm) var(--spacing-xs)":"var(--spacing-md)",border:`2px solid ${d===Q?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",background:d===Q?"var(--primary)":"var(--white)",color:d===Q?"white":"var(--dark)",cursor:"pointer",transition:"all 0.2s",display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},children:s.jsx("span",{className:"body-bold",style:{fontSize:P?"14px":"16px"},children:Q===60?"1 час":Q===90?"1.5 часа":"2 часа"})},`duration-${Q}`)):null)})]})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:["Свободное время на ",en(o,"d MMMM",{locale:oi})]}),y?s.jsx("div",{style:{textAlign:"center",padding:"var(--spacing-3xl)"},children:s.jsx("div",{className:"spinner"})}):m.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{display:"grid",gridTemplateColumns:P?"repeat(3, 1fr)":"repeat(4, 1fr)",gap:"var(--spacing-sm)",maxHeight:P?"400px":"500px",overflowY:"auto",paddingRight:"var(--spacing-sm)",marginBottom:"var(--spacing-md)"},children:m.map(Q=>{const $=A===Q.time;return s.jsxs("button",{onClick:()=>Q.available&&c(Q.time),disabled:!Q.available,style:{padding:"var(--spacing-md) var(--spacing-xs)",border:`2px solid ${Q.available?$?"var(--primary)":"var(--light-gray)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-sm)",background:Q.available?$?"var(--primary)":"var(--white)":"var(--extra-light-gray)",color:Q.available?$?"white":"var(--dark)":"var(--gray)",cursor:Q.available?"pointer":"not-allowed",transition:"all 0.2s",opacity:Q.available?1:.5,display:"flex",flexDirection:"column",alignItems:"center",gap:"4px",minHeight:"65px",justifyContent:"center"},children:[s.jsxs("span",{className:"body-bold",style:{fontSize:"14px"},children:[Q.time,"-",(()=>{const[V,G]=Q.time.split(":").map(Number),ie=new Date;return ie.setHours(V,G,0,0),ie.setTime(ie.getTime()+d*60*1e3),`${ie.getHours().toString().padStart(2,"0")}:${ie.getMinutes().toString().padStart(2,"0")}`})()]}),Q.available?$?s.jsx("span",{className:"caption",style:{color:"white",fontWeight:600},children:"Выбрано"}):s.jsxs("span",{className:"caption",style:{color:"var(--primary)",fontWeight:600},children:[Q.price,"₽"]}):s.jsx("span",{className:"caption",children:"Занято"})]},`slot-${Q.time}`)})}),s.jsxs("div",{style:{display:"flex",gap:"var(--spacing-lg)",flexWrap:"wrap",marginTop:"var(--spacing-md)"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[s.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--white)",border:"2px solid var(--light-gray)",borderRadius:"4px"}}),s.jsx("span",{className:"caption",children:"Свободно"})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[s.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--extra-light-gray)",borderRadius:"4px"}}),s.jsx("span",{className:"caption",children:"Занято"})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[s.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--primary)",borderRadius:"4px"}}),s.jsx("span",{className:"caption",children:"Выбрано"})]})]})]}):s.jsx("div",{style:{textAlign:"center",padding:"var(--spacing-xl)",color:"var(--gray)"},children:s.jsx("p",{className:"body",children:"Нет доступных слотов на выбранную дату"})})]})]}),s.jsxs("div",{style:{position:P?"fixed":"sticky",bottom:0,left:P?0:"auto",right:P?0:"auto",width:P?"100%":"auto",marginLeft:P?0:"calc(-1 * var(--spacing-xl))",marginRight:P?0:"calc(-1 * var(--spacing-xl))",marginBottom:P?0:"calc(-1 * var(--spacing-xl))",marginTop:P?0:"var(--spacing-xl)",padding:"var(--spacing-lg) var(--spacing-xl)",background:"var(--white)",borderTop:"1px solid var(--extra-light-gray)",boxShadow:"0 -4px 20px rgba(0, 0, 0, 0.05)",zIndex:10},children:[A&&s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"var(--spacing-md)"},children:[s.jsxs("div",{style:{display:"flex",gap:"var(--spacing-md)",alignItems:"center"},children:[s.jsx("span",{className:"body-bold",children:en(o,"d MMMM",{locale:oi})}),s.jsxs("span",{className:"body-bold",children:[A,"-",(()=>{const[Q,$]=A.split(":").map(Number),V=new Date;return V.setHours(Q,$,0,0),V.setTime(V.getTime()+d*60*1e3),`${V.getHours().toString().padStart(2,"0")}:${V.getMinutes().toString().padStart(2,"0")}`})()]})]}),s.jsxs("div",{className:"h3",style:{color:"var(--primary)"},children:[((R=m.find(Q=>Q.time===A))==null?void 0:R.price)||0," ₽"]})]}),s.jsx("button",{className:"flutter-button",onClick:()=>N(A),disabled:!o||!A,style:{width:"100%",padding:"var(--spacing-lg)",fontSize:"16px",fontWeight:"600"},children:"Далее"})]})]})},K=()=>s.jsxs(s.Fragment,{children:[s.jsx("h3",{className:"h3",style:{marginBottom:"var(--spacing-lg)"},children:"Выберите тип игры"}),s.jsxs("div",{style:{display:"grid",gap:"var(--spacing-md)"},children:[s.jsxs("button",{onClick:()=>z("private"),style:{padding:"var(--spacing-lg)",border:`2px solid ${p==="private"?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",background:p==="private"?"var(--primary-light)":"var(--white)",cursor:"pointer",transition:"all 0.2s",textAlign:"left"},children:[s.jsx("div",{className:"body-bold",children:"Приватная игра"}),s.jsx("div",{className:"caption",style:{color:"var(--gray)"},children:"Для вас и ваших друзей"})]}),s.jsxs("button",{style:{padding:"var(--spacing-lg)",border:"2px solid var(--extra-light-gray)",borderRadius:"var(--radius-md)",background:"var(--extra-light-gray)",cursor:"not-allowed",transition:"all 0.2s",textAlign:"left",opacity:.6},disabled:!0,children:[s.jsx("div",{className:"body-bold",style:{color:"var(--gray)"},children:"Открытая игра"}),s.jsx("div",{className:"caption",style:{color:"var(--gray)"},children:"Присоединиться к игре (доступно в приложении)"})]})]}),s.jsxs("div",{style:{marginTop:"var(--spacing-xl)",display:"flex",justifyContent:"space-between",gap:"var(--spacing-md)",position:P?"fixed":"static",bottom:P?"0":"auto",left:P?"0":"auto",right:P?"0":"auto",padding:P?"var(--spacing-lg)":"0",background:P?"var(--white)":"transparent",borderTop:P?"1px solid var(--extra-light-gray)":"none",zIndex:10},children:[s.jsx("button",{className:"flutter-button-outlined",onClick:()=>a("datetime"),style:{flex:1,background:"var(--white)",color:"var(--primary)",border:"2px solid var(--primary)"},children:"Назад"}),s.jsx("button",{className:"flutter-button",onClick:()=>a("payment"),style:{flex:1},children:"Далее"})]})]}),q=()=>{const Z=(()=>{const Ae=m.find(H=>H.time===A);return(Ae==null?void 0:Ae.price)||0})();return s.jsxs(s.Fragment,{children:[s.jsx("h3",{className:"h3",style:{marginBottom:"var(--spacing-lg)"},children:"Оплата бронирования"}),s.jsx("div",{className:"info-section",style:{marginBottom:"var(--spacing-lg)"},children:s.jsxs("div",{style:{display:"grid",gap:"var(--spacing-sm)"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{className:"body",children:"Корт:"}),s.jsx("span",{className:"body-bold",children:n.name})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{className:"body",children:"Дата:"}),s.jsx("span",{className:"body-bold",children:en(o,"d MMMM yyyy",{locale:oi})})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{className:"body",children:"Время:"}),s.jsxs("span",{className:"body-bold",children:[A," - ",(()=>{const[Ae,H]=A.split(":").map(Number),R=new Date;return R.setHours(Ae,H,0,0),R.setTime(R.getTime()+d*60*1e3),`${R.getHours().toString().padStart(2,"0")}:${R.getMinutes().toString().padStart(2,"0")}`})()]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{className:"body",children:"Тип игры:"}),s.jsx("span",{className:"body-bold",children:"Приватная"})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingTop:"var(--spacing-sm)",borderTop:"1px solid var(--extra-light-gray)"},children:[s.jsx("span",{className:"body-bold",children:"Итого:"}),s.jsxs("span",{className:"h3",style:{color:"var(--primary)"},children:[Z,"₽"]})]})]})}),s.jsxs("div",{style:{marginBottom:"var(--spacing-lg)"},children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Имя"}),s.jsx("input",{type:"text",className:"form-input",value:C,onChange:Ae=>S(Ae.target.value),placeholder:"Иван Иванов",required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Телефон"}),s.jsx("input",{type:"tel",className:"form-input",value:w,onChange:Ae=>_(Ae.target.value),placeholder:"+7 (900) 123-45-67",required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{className:"form-label",children:"Email (необязательно)"}),s.jsx("input",{type:"email",className:"form-input",value:E,onChange:Ae=>T(Ae.target.value),placeholder:"email@example.com"}),s.jsx("div",{className:"caption",style:{marginTop:"8px",color:"var(--gray)"},children:E?"Чек будет отправлен на указанный email":"Если не указать email, чек можно будет получить только в клубе"})]}),s.jsxs("div",{style:{marginTop:"var(--spacing-md)",padding:"var(--spacing-md)",backgroundColor:"var(--chip-background)",borderRadius:"var(--radius-md)",border:"1px solid var(--primary-light)",display:"flex",gap:"var(--spacing-sm)",alignItems:"flex-start"},children:[s.jsx("span",{style:{fontSize:"20px",color:"var(--primary)"},children:"ℹ️"}),s.jsx("p",{className:"caption",style:{color:"var(--primary-dark)"},children:"Бронирование будет подтверждено только после успешной оплаты"})]})]}),s.jsxs("div",{style:{marginTop:"var(--spacing-xl)",display:"flex",justifyContent:"space-between",gap:"var(--spacing-md)",position:P?"fixed":"static",bottom:P?"0":"auto",left:P?"0":"auto",right:P?"0":"auto",padding:P?"var(--spacing-lg)":"0",background:P?"var(--white)":"transparent",borderTop:P?"1px solid var(--extra-light-gray)":"none",zIndex:10},children:[s.jsx("button",{className:"flutter-button-outlined",onClick:()=>a("gameType"),style:{flex:1,background:"var(--white)",color:"var(--primary)",border:"2px solid var(--primary)"},children:"Назад"}),s.jsx("button",{className:"flutter-button",onClick:L,disabled:y||!C||!w,style:{flex:1},children:y?s.jsx("div",{className:"spinner"}):"Перейти к оплате"})]})]})};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"modal-backdrop",onClick:t,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",zIndex:1e3,display:e?"block":"none",animation:"fadeIn 0.2s ease"}}),s.jsxs("div",{className:"modal-content",style:{position:"fixed",top:P?"0":"50%",left:P?"0":"50%",transform:P?"none":"translate(-50%, -50%)",background:"var(--white)",borderRadius:P?"0":"var(--radius-xl)",padding:P?"var(--spacing-lg)":"var(--spacing-2xl)",maxWidth:P?"100%":"1000px",width:P?"100%":"90%",height:P?"100vh":"auto",maxHeight:P?"100vh":"85vh",overflowY:"auto",zIndex:1001,display:e?"block":"none",boxShadow:P?"none":"var(--shadow-xl)",animation:P?"slideUp 0.3s ease":"slideIn 0.3s ease"},children:[s.jsx("button",{onClick:t,style:{position:"absolute",top:"var(--spacing-md)",right:"var(--spacing-md)",background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"var(--gray)"},children:"×"}),i==="datetime"&&D(),i==="gameType"&&K(),i==="payment"&&q()]}),s.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        
        @keyframes slideIn {
          from { 
            opacity: 0;
            transform: translate(-50%, -45%);
          }
          to { 
            opacity: 1;
            transform: translate(-50%, -50%);
          }
        }
        
        @keyframes slideUp {
          from { 
            opacity: 0;
            transform: translateY(100%);
          }
          to { 
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        .spinner {
          width: 40px;
          height: 40px;
          border: 3px solid var(--extra-light-gray);
          border-top-color: var(--primary);
          border-radius: 50%;
          animation: spin 1s linear infinite;
          margin: 0 auto;
        }
        
        @keyframes spin {
          to { transform: rotate(360deg); }
        }
        
        @media (max-width: 768px) {
          .modal-content {
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
            transform: none !important;
            width: 100% !important;
            height: 100vh !important;
            max-width: 100% !important;
            max-height: 100vh !important;
            border-radius: 0 !important;
            padding: var(--spacing-lg) !important;
          }
        }
      `})]})}const qB={padel:"#3B82F6",tennis:"#00D632",badminton:"#F59E0B"},Kv={padel:"Падел",tennis:"Теннис",badminton:"Бадминтон"},YB={parking:"Парковка",showers:"Душевые",cafe:"Кафе",lockers:"Шкафчики",shop:"Магазин",wifi:"Wi-Fi",changing_rooms:"Раздевалки",equipment_rental:"Прокат снаряжения"};function dee(){const{clubId:e}=fo();rs();const[t,n]=b.useState(null),[r,i]=b.useState([]),[a,o]=b.useState(!0),[l,A]=b.useState(""),[c,d]=b.useState(null),[u,p]=b.useState(!1),[h,m]=b.useState(!1),[g,y]=b.useState(0);b.useEffect(()=>{var j;if((j=t==null?void 0:t.photos)!=null&&j[0]){const U=document.createElement("link");return U.rel="preload",U.as="image",U.href=t.photos[0],document.head.appendChild(U),()=>{document.head.removeChild(U)}}},[t==null?void 0:t.photos]),b.useEffect(()=>{const j=performance.now();if(x().then(()=>{const U=performance.now()-j;console.log(`ClubPage loaded in ${U.toFixed(0)}ms`)}),e){const U=[],N=li(bt(Re,"venues",e),L=>{if(L.exists()){const D={id:L.id,...L.data()};if(L.data().status!=="active"){A("Клуб временно недоступен"),o(!1);return}console.log("Venue data updated:",D),n(D)}else A("Клуб не найден"),o(!1)},L=>{console.error("Error listening to venue updates:",L),A("Ошибка при загрузке данных клуба"),o(!1)});U.push(N);const z=li(Vt(Et(Re,"venues",e,"courts"),pt("status","==","active")),L=>{const D=L.docs.map(K=>({id:K.id,...K.data()}));i(D)},L=>{console.error("Error listening to courts updates:",L)});return U.push(z),()=>{U.forEach(L=>L())}}},[e]),b.useEffect(()=>{if(h){const j=U=>{U.key==="Escape"?T():U.key==="ArrowLeft"?F("prev"):U.key==="ArrowRight"&&F("next")};return document.addEventListener("keydown",j),()=>{document.removeEventListener("keydown",j)}}},[h]);const x=async()=>{if(!e){A("ID клуба не указан"),o(!1);return}try{const[j,U]=await Promise.all([An(bt(Re,"venues",e)),$t(Vt(Et(Re,"venues",e,"courts"),pt("status","==","active")))]);if(!j.exists()){A("Клуб не найден"),o(!1);return}const N={id:j.id,...j.data()};if(j.data().status!=="active"){A("Клуб временно недоступен"),o(!1);return}console.log("Loaded venue data:",N),console.log("Payment settings:",{paymentEnabled:N.paymentEnabled,paymentProvider:N.paymentProvider,paymentTestMode:N.paymentTestMode});const z=U.docs.map(L=>({id:L.id,...L.data()}));n(N),i(z),o(!1)}catch(j){console.error("Error loading venue:",j),A("Ошибка при загрузке данных клуба"),o(!1)}},C=j=>{d(j)},S=[{key:"monday",label:"Понедельник",short:"Пн"},{key:"tuesday",label:"Вторник",short:"Вт"},{key:"wednesday",label:"Среда",short:"Ср"},{key:"thursday",label:"Четверг",short:"Чт"},{key:"friday",label:"Пятница",short:"Пт"},{key:"saturday",label:"Суббота",short:"Сб"},{key:"sunday",label:"Воскресенье",short:"Вс"}],w=j=>{if(j.pricing){const N=[];if(Object.values(j.pricing).forEach(z=>{z&&z.basePrice&&(N.push(z.basePrice),z.intervals&&Array.isArray(z.intervals)&&z.intervals.forEach(L=>{L.price&&N.push(L.price)}))}),N.length>0){const z=Math.min(...N),L=Math.max(...N);return z===L?{min:z,max:L,display:`${z}₽`}:{min:z,max:L,display:`от ${z}₽`}}}const U=j.pricePerHour||j.priceWeekday||0;return{min:U,max:U,display:`${U}₽`}},_=()=>{if(c){if(!I){alert("Этот клуб находится на модерации и временно недоступен для бронирования.");return}console.log("Opening booking modal, venue:",t,"court:",c),p(!0)}},E=j=>{y(j),m(!0)},T=()=>{m(!1)},F=j=>{t!=null&&t.photos&&y(j==="prev"?U=>U===0?t.photos.length-1:U-1:U=>U===t.photos.length-1?0:U+1)},M={loadingContainer:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},loadingContent:{textAlign:"center"},spinner:{marginBottom:"16px"},errorContainer:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",padding:"20px"},errorCard:{maxWidth:"400px",textAlign:"center",padding:"40px"},errorIcon:{fontSize:"48px",marginBottom:"16px"},errorTitle:{marginBottom:"12px"},errorText:{color:"var(--gray)"},pageContainer:{minHeight:"100vh",background:"var(--background)"},heroImage:{width:"100%",height:"300px",objectFit:"cover",cursor:"pointer"},heroPlaceholder:{width:"100%",height:"300px",background:"var(--extra-light-gray)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},heroPlaceholderIcon:{fontSize:"48px",marginBottom:"8px"},heroPlaceholderText:{color:"var(--gray)"},desktopGallery:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"16px",marginTop:"16px"},galleryImage:{width:"100%",height:"150px",objectFit:"cover",borderRadius:"8px",cursor:"pointer",transition:"transform 0.2s"},clubInfoWrapper:{padding:"20px"},clubTitle:{marginBottom:"16px"},clubInfoItems:{display:"flex",flexDirection:"column",gap:"12px"},infoIcon:{fontSize:"18px"},courtsWrapper:{padding:"20px"},courtsWrapperDesktop:{marginTop:"32px"},courtsTitle:{marginBottom:"16px"},noCourtsCard:{padding:"40px",textAlign:"center"},noCourtsIcon:{fontSize:"48px",marginBottom:"8px",display:"block"},noCourtsText:{color:"var(--gray)"},courtCardContent:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},courtInfo:{flex:1},courtName:{marginBottom:"8px"},courtDetails:{display:"flex",alignItems:"center",gap:"8px"},courtIndoor:{color:"var(--gray)"},courtSurface:{color:"var(--gray)"},courtPricing:{textAlign:"right"},courtPrice:{color:"var(--primary)",marginBottom:"4px"},courtPriceUnit:{color:"var(--gray)"},sidebarBookingCard:{position:"sticky",top:"20px"},selectedCourtSection:{marginBottom:"8px"},selectedCourtDetails:{display:"flex",justifyContent:"space-between",alignItems:"center"},selectedCourtType:{color:"var(--gray)"},selectedCourtPrice:{color:"var(--primary)"}};if(a)return s.jsxs("div",{style:M.loadingContainer,children:[s.jsxs("div",{style:M.loadingContent,children:[s.jsx("div",{className:"spinner",style:M.spinner}),s.jsx("p",{className:"body-small",children:"Загрузка..."})]}),s.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]});if(l)return s.jsx("div",{style:M.errorContainer,children:s.jsxs("div",{className:"flutter-card",style:M.errorCard,children:[s.jsx("div",{style:M.errorIcon,children:"❌"}),s.jsx("h2",{className:"h2",style:M.errorTitle,children:"Ошибка"}),s.jsx("p",{className:"body",style:M.errorText,children:l})]})});if(!t)return null;const P=window.innerWidth>768,I=t.status==="active";return s.jsxs("div",{style:M.pageContainer,children:[!I&&s.jsx("div",{style:{backgroundColor:"#fff3cd",borderBottom:"1px solid #ffeaa7",padding:"var(--spacing-lg)",textAlign:"center"},children:s.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto"},children:[s.jsx("h3",{className:"h3",style:{color:"#856404",marginBottom:"var(--spacing-sm)"},children:"Клуб находится на модерации"}),s.jsx("p",{className:"body",style:{color:"#856404"},children:"Данный клуб еще не прошел проверку и временно недоступен для бронирования. Страница будет активирована после проверки администратором."})]})}),P&&s.jsx("div",{className:"hero-image",children:t.photos&&t.photos.length>0?s.jsx(Wv,{loading:"eager",src:t.photos[0],alt:t.name,style:M.heroImage,onClick:()=>E(0)}):s.jsxs("div",{style:M.heroPlaceholder,children:[s.jsx("span",{style:M.heroPlaceholderIcon,children:"🏸"}),s.jsx("span",{className:"body-small",style:M.heroPlaceholderText,children:"Фото клуба"})]})}),!P&&t.photos&&t.photos.length>0&&s.jsx("div",{style:{display:"flex",gap:"var(--spacing-sm)",overflowX:"auto",marginTop:"var(--spacing-lg)",marginBottom:"var(--spacing-lg)",paddingBottom:"var(--spacing-sm)",paddingLeft:"var(--spacing-xl)",paddingRight:"var(--spacing-xl)",WebkitOverflowScrolling:"touch",scrollbarWidth:"none",msOverflowStyle:"none"},children:t.photos.map((j,U)=>s.jsx(Wv,{loading:"lazy",src:j,alt:`${t.name} - фото ${U+1}`,style:{minWidth:"120px",width:"120px",height:"80px",objectFit:"cover",borderRadius:"var(--radius-sm)",cursor:"pointer"},onClick:()=>E(U)},U))}),!P&&s.jsxs("div",{style:{...M.clubInfoWrapper,padding:"0 var(--spacing-xl)"},children:[s.jsx("h1",{className:"h1",style:M.clubTitle,children:t.name}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-md)",marginBottom:"var(--spacing-lg)",flexWrap:"nowrap"},children:[t.phone&&s.jsxs("a",{href:`tel:${t.phone}`,style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)",padding:"var(--spacing-xs) var(--spacing-sm)",backgroundColor:"var(--primary-light)",borderRadius:"var(--radius-sm)",textDecoration:"none",color:"var(--primary)",flexShrink:0,transition:"background 0.2s"},onClick:j=>j.stopPropagation(),children:[s.jsx("span",{style:{...M.infoIcon,marginBottom:0},children:"📞"}),s.jsx("span",{className:"body-bold",children:t.phone})]}),s.jsxs("a",{href:t.coordinates?`https://yandex.ru/maps/?pt=${t.coordinates.longitude},${t.coordinates.latitude}&z=17&l=map`:`https://yandex.ru/maps/?text=${encodeURIComponent(t.address)}`,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)",flex:1,minWidth:0,textDecoration:"none",color:"inherit"},onClick:j=>j.stopPropagation(),children:[s.jsx("span",{style:M.infoIcon,children:"📍"}),s.jsx("span",{className:"body",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",textDecoration:"underline",textDecorationStyle:"dotted",textUnderlineOffset:"2px"},children:t.address})]})]})]}),!P&&s.jsxs("div",{style:{...M.courtsWrapper,padding:"0 var(--spacing-xl)"},children:[s.jsx("h3",{className:"h2",style:M.courtsTitle,children:"Доступные корты"}),r.length===0?s.jsxs("div",{className:"flutter-card",style:M.noCourtsCard,children:[s.jsx("span",{style:M.noCourtsIcon,children:"🎾"}),s.jsx("p",{className:"body",style:M.noCourtsText,children:"Нет доступных кортов"})]}):s.jsx("div",{children:r.map(j=>{const U=(c==null?void 0:c.id)===j.id;return s.jsx("div",{className:`court-card ${U?"selected":""}`,onClick:()=>C(j),children:s.jsxs("div",{style:M.courtCardContent,children:[s.jsxs("div",{style:M.courtInfo,children:[s.jsx("h4",{className:"body-bold",style:M.courtName,children:j.name}),s.jsxs("div",{style:M.courtDetails,children:[s.jsx("span",{className:`sport-chip ${j.type}`,style:{backgroundColor:qB[j.type]},children:Kv[j.type]}),j.indoor&&s.jsx("span",{className:"caption",style:M.courtIndoor,children:"Крытый"}),j.surface&&s.jsxs("span",{className:"caption",style:M.courtSurface,children:["• ",j.surface]})]})]}),s.jsxs("div",{style:M.courtPricing,children:[s.jsx("div",{className:"h3",style:M.courtPrice,children:w(j).display}),s.jsx("div",{className:"caption",style:M.courtPriceUnit,children:"за час"})]})]})},j.id)})})]}),s.jsxs("div",{style:P?zv.container:Aee.contentPadding,children:[s.jsxs("div",{style:P?zv.mainContent:{},children:[P&&t.photos&&t.photos.length>0&&s.jsx("div",{style:M.desktopGallery,children:t.photos.map((j,U)=>s.jsx(Wv,{loading:"lazy",src:j,alt:`${t.name} - фото ${U+1}`,className:"gallery-image",style:M.galleryImage,onMouseOver:N=>N.currentTarget.style.transform="scale(1.05)",onMouseOut:N=>N.currentTarget.style.transform="scale(1)",onClick:()=>E(U)},U))}),P&&s.jsxs("div",{style:M.clubInfoWrapper,children:[s.jsx("h1",{className:"h1",style:M.clubTitle,children:t.name}),s.jsxs("div",{style:M.clubInfoItems,children:[t.phone&&s.jsxs("a",{href:`tel:${t.phone}`,style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)",textDecoration:"none",color:"inherit"},onClick:j=>j.stopPropagation(),children:[s.jsx("span",{style:M.infoIcon,children:"📞"}),s.jsx("span",{className:"body",children:t.phone})]}),s.jsxs("a",{href:t.coordinates?`https://yandex.ru/maps/?pt=${t.coordinates.longitude},${t.coordinates.latitude}&z=17&l=map`:`https://yandex.ru/maps/?text=${encodeURIComponent(t.address)}`,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)",textDecoration:"none",color:"inherit"},onClick:j=>j.stopPropagation(),children:[s.jsx("span",{style:M.infoIcon,children:"📍"}),s.jsx("span",{className:"body",children:t.address})]})]})]}),!P&&t.description&&s.jsxs("div",{className:"info-section",children:[s.jsx("h3",{className:"info-section-title",children:"О клубе"}),s.jsx("p",{className:"body",style:{color:"var(--gray)",lineHeight:1.6},children:t.description})]}),!P&&s.jsxs(s.Fragment,{children:[t.workingHours&&s.jsxs("div",{className:"info-section",style:{marginBottom:"var(--spacing-lg)"},children:[s.jsx("h3",{className:"info-section-title",children:"Часы работы"}),s.jsx("div",{style:{display:"grid",gap:"var(--spacing-xs)"},children:S.map(j=>{const U=t.workingHours[j.key];return U?s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{className:"body",children:j.short}),s.jsx("span",{className:"body",style:{color:"var(--gray)"},children:U})]},j.key):null})})]}),t.amenities&&t.amenities.length>0&&s.jsxs("div",{className:"info-section",style:{marginBottom:"var(--spacing-lg)"},children:[s.jsx("h3",{className:"info-section-title",children:"Удобства"}),s.jsx("div",{style:{display:"flex",flexWrap:"wrap"},children:t.amenities.map(j=>s.jsxs("div",{className:"amenity-item",children:[s.jsx("span",{className:"check-icon",children:"✓"}),s.jsx("span",{className:"body",children:YB[j]||j})]},j))})]})]}),P&&s.jsxs("div",{style:M.courtsWrapperDesktop,children:[s.jsx("h3",{className:"h2",style:M.courtsTitle,children:"Доступные корты"}),r.length===0?s.jsxs("div",{className:"flutter-card",style:M.noCourtsCard,children:[s.jsx("span",{style:M.noCourtsIcon,children:"🎾"}),s.jsx("p",{className:"body",style:M.noCourtsText,children:"Нет доступных кортов"})]}):s.jsx("div",{className:"courts-grid",children:r.map(j=>{const U=(c==null?void 0:c.id)===j.id;return s.jsx("div",{className:`court-card ${U?"selected":""}`,onClick:()=>C(j),children:s.jsxs("div",{style:M.courtCardContent,children:[s.jsxs("div",{style:M.courtInfo,children:[s.jsx("h4",{className:"body-bold",style:M.courtName,children:j.name}),s.jsxs("div",{style:M.courtDetails,children:[s.jsx("span",{className:`sport-chip ${j.type}`,style:{backgroundColor:qB[j.type]},children:Kv[j.type]}),j.indoor&&s.jsx("span",{className:"caption",style:M.courtIndoor,children:"Крытый"}),j.surface&&s.jsxs("span",{className:"caption",style:M.courtSurface,children:["• ",j.surface]})]})]}),s.jsxs("div",{style:M.courtPricing,children:[s.jsx("div",{className:"h3",style:M.courtPrice,children:w(j).display}),s.jsx("div",{className:"caption",style:M.courtPriceUnit,children:"за час"})]})]})},j.id)})})]}),P&&t.description&&s.jsxs("div",{className:"info-section",style:{marginTop:"var(--spacing-2xl)"},children:[s.jsx("h3",{className:"info-section-title",children:"О клубе"}),s.jsx("p",{className:"body",style:{color:"var(--gray)",lineHeight:1.6},children:t.description})]})]}),P&&s.jsxs("div",{style:zv.sidebar,children:[s.jsxs("div",{className:"sticky-bottom-bar",style:M.sidebarBookingCard,children:[c&&s.jsxs("div",{className:"selected-court-summary",children:[s.jsx("h4",{className:"body-bold",style:M.selectedCourtSection,children:c.name}),s.jsxs("div",{style:M.selectedCourtDetails,children:[s.jsx("span",{className:"body-small",style:M.selectedCourtType,children:Kv[c.type]}),s.jsxs("span",{className:"body-bold",style:M.selectedCourtPrice,children:[w(c).display,"/час"]})]})]}),s.jsx("button",{className:"flutter-button",style:{width:"100%",marginBottom:"var(--spacing-sm)"},onClick:_,disabled:!c,children:c?"Выбрать время":"Выберите корт"}),s.jsxs("div",{style:{fontSize:"12px",lineHeight:"1.4",color:"var(--gray)",textAlign:"center",marginBottom:"var(--spacing-md)"},children:["Продолжая, соглашаюсь с"," ",s.jsx(Su,{to:`/club/${e}/user-agreement`,target:"_blank",style:{color:"var(--primary)",textDecoration:"underline"},children:"политикой и соглашением"})]})]}),t.workingHours&&s.jsxs("div",{className:"info-section",style:{marginBottom:"var(--spacing-lg)"},children:[s.jsx("h3",{className:"info-section-title",children:"Часы работы"}),s.jsx("div",{style:{display:"grid",gap:"var(--spacing-xs)"},children:S.map(j=>{const U=t.workingHours[j.key];return U?s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{className:"caption",children:j.short}),s.jsx("span",{className:"caption",style:{color:"var(--gray)"},children:U})]},j.key):null})})]}),t.amenities&&t.amenities.length>0&&s.jsxs("div",{className:"info-section",children:[s.jsx("h3",{className:"info-section-title",children:"Удобства"}),s.jsx("div",{style:{display:"grid",gap:"var(--spacing-xs)"},children:t.amenities.map(j=>s.jsxs("div",{className:"amenity-item",style:{background:"transparent",padding:"var(--spacing-xs) 0",margin:0},children:[s.jsx("span",{className:"check-icon",children:"✓"}),s.jsx("span",{className:"caption",children:YB[j]||j})]},j))})]})]})]}),!P&&s.jsxs("div",{className:"sticky-bottom-bar",children:[s.jsx("button",{className:"flutter-button",style:{width:"100%",marginBottom:"var(--spacing-sm)"},onClick:_,disabled:!c,children:c?`Выбрать время для ${c.name}`:"Выберите корт"}),s.jsxs("div",{style:{fontSize:"11px",lineHeight:"1.3",color:"var(--gray)",textAlign:"center"},children:["Продолжая, соглашаюсь с"," ",s.jsx(Su,{to:`/club/${e}/user-agreement`,target:"_blank",style:{color:"var(--primary)",textDecoration:"underline"},children:"политикой и соглашением"})]})]}),c&&t&&s.jsx(cee,{isOpen:u,onClose:()=>p(!1),court:c,venue:t}),h&&(t==null?void 0:t.photos)&&s.jsx("div",{className:"modal-backdrop",onClick:T,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.95)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center",padding:"var(--spacing-xl)"},children:s.jsxs("div",{onClick:j=>j.stopPropagation(),style:{position:"relative",maxWidth:"90vw",maxHeight:"90vh",display:"flex",alignItems:"center",justifyContent:"center"},children:[s.jsx("button",{onClick:T,style:{position:"absolute",top:"-40px",right:"0",background:"none",border:"none",color:"white",fontSize:"28px",cursor:"pointer",padding:"8px",zIndex:10,lineHeight:1},"aria-label":"Закрыть",children:"✕"}),t.photos.length>1&&s.jsx("button",{onClick:()=>F("prev"),style:{position:"absolute",left:window.innerWidth>768?"-50px":"10px",top:"50%",transform:"translateY(-50%)",background:"rgba(255, 255, 255, 0.1)",border:"none",color:"white",fontSize:"24px",cursor:"pointer",width:"40px",height:"40px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",transition:"background 0.2s",zIndex:5},onMouseEnter:j=>j.currentTarget.style.background="rgba(255, 255, 255, 0.2)",onMouseLeave:j=>j.currentTarget.style.background="rgba(255, 255, 255, 0.1)","aria-label":"Предыдущее фото",children:"←"}),s.jsx("img",{src:t.photos[g],alt:`${t.name} - фото ${g+1}`,style:{maxWidth:"100%",maxHeight:"90vh",objectFit:"contain",borderRadius:"var(--radius-md)"}}),t.photos.length>1&&s.jsx("button",{onClick:()=>F("next"),style:{position:"absolute",right:window.innerWidth>768?"-50px":"10px",top:"50%",transform:"translateY(-50%)",background:"rgba(255, 255, 255, 0.1)",border:"none",color:"white",fontSize:"24px",cursor:"pointer",width:"40px",height:"40px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",transition:"background 0.2s",zIndex:5},onMouseEnter:j=>j.currentTarget.style.background="rgba(255, 255, 255, 0.2)",onMouseLeave:j=>j.currentTarget.style.background="rgba(255, 255, 255, 0.1)","aria-label":"Следующее фото",children:"→"}),t.photos.length>1&&s.jsxs("div",{style:{position:"absolute",bottom:"-30px",left:"50%",transform:"translateX(-50%)",color:"white",fontSize:"14px",fontWeight:"500"},children:[g+1," / ",t.photos.length]})]})}),s.jsxs("div",{style:{borderTop:"1px solid var(--divider)",padding:"24px",marginTop:P?"40px":"20px",paddingBottom:P?"24px":"calc(140px + 24px)",textAlign:"center",backgroundColor:"var(--background)"},children:[s.jsx(Su,{to:`/club/${e}/user-agreement`,style:{color:"var(--text-secondary)",fontSize:"14px",textDecoration:"none",borderBottom:"1px dashed var(--text-secondary)",transition:"color 0.2s"},onMouseEnter:j=>{j.currentTarget.style.color="var(--primary)",j.currentTarget.style.borderBottomColor="var(--primary)"},onMouseLeave:j=>{j.currentTarget.style.color="var(--text-secondary)",j.currentTarget.style.borderBottomColor="var(--text-secondary)"},children:"Пользовательское соглашение"}),(t==null?void 0:t.legalName)&&s.jsxs("div",{style:{marginTop:"12px",fontSize:"12px",color:"var(--text-disabled)"},children:["© ",new Date().getFullYear()," ",t.legalName]})]})]})}var gy={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(A,c){switch(A){case"P":return c.date({width:"short"});case"PP":return c.date({width:"medium"});case"PPP":return c.date({width:"long"});case"PPPP":default:return c.date({width:"full"})}},r=function(A,c){switch(A){case"p":return c.time({width:"short"});case"pp":return c.time({width:"medium"});case"ppp":return c.time({width:"long"});case"pppp":default:return c.time({width:"full"})}},i=function(A,c){var d=A.match(/(P+)(p+)?/)||[],u=d[1],p=d[2];if(!p)return n(A,c);var h;switch(u){case"P":h=c.dateTime({width:"short"});break;case"PP":h=c.dateTime({width:"medium"});break;case"PPP":h=c.dateTime({width:"long"});break;case"PPPP":default:h=c.dateTime({width:"full"});break}return h.replace("{{date}}",n(u,c)).replace("{{time}}",r(p,c))},a={p:r,P:i},o=a;t.default=o,e.exports=t.default})(gy,gy.exports);var uee=gy.exports;const hee=DE(uee),fee={y:{sectionType:"year",contentType:"digit",maxLength:4},yy:"year",yyy:{sectionType:"year",contentType:"digit",maxLength:4},yyyy:"year",M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMMM:{sectionType:"month",contentType:"letter"},MMM:{sectionType:"month",contentType:"letter"},L:{sectionType:"month",contentType:"digit",maxLength:2},LL:"month",LLL:{sectionType:"month",contentType:"letter"},LLLL:{sectionType:"month",contentType:"letter"},d:{sectionType:"day",contentType:"digit",maxLength:2},dd:"day",do:{sectionType:"day",contentType:"digit-with-letter"},E:{sectionType:"weekDay",contentType:"letter"},EE:{sectionType:"weekDay",contentType:"letter"},EEE:{sectionType:"weekDay",contentType:"letter"},EEEE:{sectionType:"weekDay",contentType:"letter"},EEEEE:{sectionType:"weekDay",contentType:"letter"},i:{sectionType:"weekDay",contentType:"digit",maxLength:1},ii:"weekDay",iii:{sectionType:"weekDay",contentType:"letter"},iiii:{sectionType:"weekDay",contentType:"letter"},e:{sectionType:"weekDay",contentType:"digit",maxLength:1},ee:"weekDay",eee:{sectionType:"weekDay",contentType:"letter"},eeee:{sectionType:"weekDay",contentType:"letter"},eeeee:{sectionType:"weekDay",contentType:"letter"},eeeeee:{sectionType:"weekDay",contentType:"letter"},c:{sectionType:"weekDay",contentType:"digit",maxLength:1},cc:"weekDay",ccc:{sectionType:"weekDay",contentType:"letter"},cccc:{sectionType:"weekDay",contentType:"letter"},ccccc:{sectionType:"weekDay",contentType:"letter"},cccccc:{sectionType:"weekDay",contentType:"letter"},a:"meridiem",aa:"meridiem",aaa:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},pee={year:"yyyy",month:"LLLL",monthShort:"MMM",dayOfMonth:"d",weekday:"EEEE",weekdayShort:"EEEEEE",hours24h:"HH",hours12h:"hh",meridiem:"aa",minutes:"mm",seconds:"ss",fullDate:"PP",fullDateWithWeekday:"PPPP",keyboardDate:"P",shortDate:"MMM d",normalDate:"d MMMM",normalDateWithWeekday:"EEE, MMM d",monthAndYear:"LLLL yyyy",monthAndDate:"MMMM d",fullTime:"p",fullTime12h:"hh:mm aa",fullTime24h:"HH:mm",fullDateTime:"PP p",fullDateTime12h:"PP hh:mm aa",fullDateTime24h:"PP HH:mm",keyboardDateTime:"P p",keyboardDateTime12h:"P hh:mm aa",keyboardDateTime24h:"P HH:mm"};class gee{constructor(t){this.isMUIAdapter=!0,this.isTimezoneCompatible=!1,this.lib="date-fns",this.locale=void 0,this.formats=void 0,this.formatTokenMap=fee,this.escapedCharacters={start:"'",end:"'"},this.longFormatters=void 0,this.date=a=>typeof a>"u"?new Date:a===null?null:new Date(a),this.dateWithTimezone=a=>this.date(a),this.getTimezone=()=>"default",this.setTimezone=a=>a,this.toJsDate=a=>a,this.getCurrentLocaleCode=()=>{var a;return((a=this.locale)==null?void 0:a.code)||"en-US"},this.is12HourCycleInCurrentLocale=()=>this.locale?/a/.test(this.locale.formatLong.time({width:"short"})):!0,this.expandFormat=a=>{const o=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;return a.match(o).map(l=>{const A=l[0];if(A==="p"||A==="P"){const c=this.longFormatters[A];return c(l,this.locale.formatLong)}return l}).join("")},this.getFormatHelperText=a=>this.expandFormat(a).replace(/(aaa|aa|a)/g,"(a|p)m").toLocaleLowerCase(),this.isNull=a=>a===null,this.formatNumber=a=>a,this.getMeridiemText=a=>a==="am"?"AM":"PM";const{locale:n,formats:r,longFormatters:i}=t;this.locale=n,this.formats=W({},pee,r),this.longFormatters=i}}class mee extends gee{constructor({locale:t,formats:n}={}){if(typeof ro!="function")throw new Error(["MUI: The `date-fns` package v3.x is not compatible with this adapter.","Please, install v2.x of the package or use the `AdapterDateFnsV3` instead."].join(`
`));super({locale:t??Kx,formats:n,longFormatters:hee}),this.parseISO=r=>TJ(r),this.toISO=r=>yX(r,{format:"extended"}),this.parse=(r,i)=>r===""?null:cr(r,i,new Date,{locale:this.locale}),this.isValid=r=>uk(this.date(r)),this.format=(r,i)=>this.formatByString(r,this.formats[i]),this.formatByString=(r,i)=>en(r,i,{locale:this.locale}),this.getDiff=(r,i,a)=>{switch(a){case"years":return CY(r,this.date(i));case"quarters":return xY(r,this.date(i));case"months":return fk(r,this.date(i));case"weeks":return wY(r,this.date(i));case"days":return hk(r,this.date(i));case"hours":return mY(r,this.date(i));case"minutes":return vY(r,this.date(i));case"seconds":return bY(r,this.date(i));default:return Gm(r,this.date(i))}},this.isEqual=(r,i)=>r===null&&i===null?!0:NX(r,i),this.isSameYear=(r,i)=>FJ(r,i),this.isSameMonth=(r,i)=>IJ(r,i),this.isSameDay=(r,i)=>dk(r,i),this.isSameHour=(r,i)=>EJ(r,i),this.isAfter=(r,i)=>Rr(r,i),this.isAfterYear=(r,i)=>Rr(r,Rv(i)),this.isAfterDay=(r,i)=>Rr(r,hy(i)),this.isBefore=(r,i)=>sr(r,i),this.isBeforeYear=(r,i)=>sr(r,gp(i)),this.isBeforeDay=(r,i)=>sr(r,Al(i)),this.isWithinRange=(r,[i,a])=>NJ(r,{start:i,end:a}),this.startOfYear=r=>gp(r),this.startOfMonth=r=>PB(r),this.startOfWeek=r=>Vl(r,{locale:this.locale}),this.startOfDay=r=>Al(r),this.endOfYear=r=>Rv(r),this.endOfMonth=r=>fy(r),this.endOfWeek=r=>Hv(r,{locale:this.locale}),this.endOfDay=r=>hy(r),this.addYears=(r,i)=>UB(r,i),this.addMonths=(r,i)=>Op(r,i),this.addWeeks=(r,i)=>dY(r,i),this.addDays=(r,i)=>ro(r,i),this.addHours=(r,i)=>iY(r,i),this.addMinutes=(r,i)=>ai(r,i),this.addSeconds=(r,i)=>cY(r,i),this.getYear=r=>FX(r),this.getMonth=r=>BX(r),this.getDate=r=>xX(r),this.getHours=r=>bX(r),this.getMinutes=r=>CX(r),this.getSeconds=r=>SX(r),this.getMilliseconds=r=>wX(r),this.setYear=(r,i)=>JJ(r,i),this.setMonth=(r,i)=>GJ(r,i),this.setDate=(r,i)=>qJ(r,i),this.setHours=(r,i)=>Nk(r,i),this.setMinutes=(r,i)=>Tk(r,i),this.setSeconds=(r,i)=>XJ(r,i),this.setMilliseconds=(r,i)=>YJ(r,i),this.getDaysInMonth=r=>Ck(r),this.getNextMonth=r=>Op(r,1),this.getPreviousMonth=r=>Op(r,-1),this.getMonthArray=r=>{const a=[gp(r)];for(;a.length<12;){const o=a[a.length-1];a.push(this.getNextMonth(o))}return a},this.mergeDateAndTime=(r,i)=>this.setSeconds(this.setMinutes(this.setHours(r,this.getHours(i)),this.getMinutes(i)),this.getSeconds(i)),this.getWeekdays=()=>{const r=new Date;return BY({start:Vl(r,{locale:this.locale}),end:Hv(r,{locale:this.locale})}).map(i=>this.formatByString(i,"EEEEEE"))},this.getWeekArray=r=>{const i=Vl(PB(r),{locale:this.locale}),a=Hv(fy(r),{locale:this.locale});let o=0,l=i;const A=[];for(;sr(l,a);){const c=Math.floor(o/7);A[c]=A[c]||[],A[c].push(l),l=ro(l,1),o+=1}return A},this.getWeekNumber=r=>IX(r,{locale:this.locale}),this.getYearRange=(r,i)=>{const a=gp(r),o=Rv(i),l=[];let A=a;for(;sr(A,o);)l.push(A),A=UB(A,1);return l}}}const vee=["localeText"],my=b.createContext(null),yee=function(t){var n;const{localeText:r}=t,i=Ye(t,vee),{utils:a,localeText:o}=(n=b.useContext(my))!=null?n:{utils:void 0,localeText:void 0},l=Oi({props:i,name:"MuiLocalizationProvider"}),{children:A,dateAdapter:c,dateFormats:d,dateLibInstance:u,adapterLocale:p,localeText:h}=l,m=b.useMemo(()=>W({},h,o,r),[h,o,r]),g=b.useMemo(()=>{if(!c)return a||null;const C=new c({locale:p,formats:d,instance:u});if(!C.isMUIAdapter)throw new Error(["MUI: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join(`
`));return C},[c,p,d,u,a]),y=b.useMemo(()=>g?{minDate:g.date("1900-01-01T00:00:00.000"),maxDate:g.date("2099-12-31T00:00:00.000")}:null,[g]),x=b.useMemo(()=>({utils:g,defaultDates:y,localeText:m}),[y,g,m]);return s.jsx(my.Provider,{value:x,children:A})};function xee(e){return typeof e=="string"}function bee(e,t,n){return e===void 0||xee(e)?t:{...t,ownerState:{...t.ownerState,...n}}}function wee(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function Cee(e,t,n){return typeof e=="function"?e(t,n):e}function Bee(...e){const t=b.useRef(void 0),n=b.useCallback(r=>{const i=e.map(a=>{if(a==null)return null;if(typeof a=="function"){const o=a,l=o(r);return typeof l=="function"?l:()=>{o(null)}}return a.current=r,()=>{a.current=null}});return()=>{i.forEach(a=>a==null?void 0:a())}},e);return b.useMemo(()=>e.every(r=>r==null)?null:r=>{t.current&&(t.current(),t.current=void 0),r!=null&&(t.current=n(r))},e)}function XB(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function See(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:a}=e;if(!t){const h=Je(n==null?void 0:n.className,a,i==null?void 0:i.className,r==null?void 0:r.className),m={...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},g={...n,...i,...r};return h.length>0&&(g.className=h),Object.keys(m).length>0&&(g.style=m),{props:g,internalRef:void 0}}const o=wee({...i,...r}),l=XB(r),A=XB(i),c=t(o),d=Je(c==null?void 0:c.className,n==null?void 0:n.className,a,i==null?void 0:i.className,r==null?void 0:r.className),u={...c==null?void 0:c.style,...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},p={...c,...n,...A,...l};return d.length>0&&(p.className=d),Object.keys(u).length>0&&(p.style=u),{props:p,internalRef:c.ref}}function qo(e){var u;const{elementType:t,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:i=!1,...a}=e,o=i?{}:Cee(n,r),{props:l,internalRef:A}=See({...a,externalSlotProps:o}),c=Bee(A,o==null?void 0:o.ref,(u=e.additionalProps)==null?void 0:u.ref);return bee(t,{...l,ref:c},r)}const _g=(e,t,n)=>{let r=t;return r=e.setHours(r,e.getHours(n)),r=e.setMinutes(r,e.getMinutes(n)),r=e.setSeconds(r,e.getSeconds(n)),r},zu=({date:e,disableFuture:t,disablePast:n,maxDate:r,minDate:i,isDateDisabled:a,utils:o,timezone:l})=>{const A=_g(o,o.dateWithTimezone(void 0,l),e);n&&o.isBefore(i,A)&&(i=A),t&&o.isAfter(r,A)&&(r=A);let c=e,d=e;for(o.isBefore(e,i)&&(c=i,d=null),o.isAfter(e,r)&&(d&&(d=r),c=null);c||d;){if(c&&o.isAfter(c,r)&&(c=null),d&&o.isBefore(d,i)&&(d=null),c){if(!a(c))return c;c=o.addDays(c,1)}if(d){if(!a(d))return d;d=o.addDays(d,-1)}}return null},jee=(e,t)=>t==null||!e.isValid(t)?null:t,cl=(e,t,n)=>t==null||!e.isValid(t)?n:t,kee=(e,t,n)=>!e.isValid(t)&&t!=null&&!e.isValid(n)&&n!=null?!0:e.isEqual(t,n),Eee=(e,t)=>{const r=[e.startOfYear(t)];for(;r.length<12;){const i=r[r.length-1];r.push(e.addMonths(i,1))}return r},Qk=(e,t,n)=>n==="date"?e.startOfDay(e.dateWithTimezone(void 0,t)):e.dateWithTimezone(void 0,t),Iee=(e,t)=>{const n=e.startOfWeek(t);return[0,1,2,3,4,5,6].map(r=>e.addDays(n,r))},Fee=({props:e,value:t,adapter:n})=>{if(t===null)return null;const{shouldDisableDate:r,shouldDisableMonth:i,shouldDisableYear:a,disablePast:o,disableFuture:l,timezone:A}=e,c=n.utils.dateWithTimezone(void 0,A),d=cl(n.utils,e.minDate,n.defaultDates.minDate),u=cl(n.utils,e.maxDate,n.defaultDates.maxDate);switch(!0){case!n.utils.isValid(t):return"invalidDate";case!!(r&&r(t)):return"shouldDisableDate";case!!(i&&i(t)):return"shouldDisableMonth";case!!(a&&a(t)):return"shouldDisableYear";case!!(l&&n.utils.isAfterDay(t,c)):return"disableFuture";case!!(o&&n.utils.isBeforeDay(t,c)):return"disablePast";case!!(d&&n.utils.isBeforeDay(t,d)):return"minDate";case!!(u&&n.utils.isAfterDay(t,u)):return"maxDate";default:return null}},Nee=e=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:W({},e)}}}}),Rk={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"open previous view",openNextView:"open next view",calendarViewSwitchingButtonAriaLabel:e=>e==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",clockLabelText:(e,t,n)=>`Select ${e}. ${t===null?"No time selected":`Selected time is ${n.format(t,"fullTime")}`}`,hoursClockNumberText:e=>`${e} hours`,minutesClockNumberText:e=>`${e} minutes`,secondsClockNumberText:e=>`${e} seconds`,selectViewText:e=>`Select ${e}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:e=>`Week ${e}`,calendarWeekNumberText:e=>`${e}`,openDatePickerDialogue:(e,t)=>e!==null&&t.isValid(e)?`Choose date, selected date is ${t.format(e,"fullDate")}`:"Choose date",openTimePickerDialogue:(e,t)=>e!==null&&t.isValid(e)?`Choose time, selected time is ${t.format(e,"fullTime")}`:"Choose time",fieldClearLabel:"Clear value",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:e=>"Y".repeat(e.digitAmount),fieldMonthPlaceholder:e=>e.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:e=>e.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa"},Tee=Rk;Nee(Rk);const qm=()=>{const e=b.useContext(my);if(e===null)throw new Error(["MUI: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(e.utils===null)throw new Error(["MUI: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const t=b.useMemo(()=>W({},Tee,e.localeText),[e.localeText]);return b.useMemo(()=>W({},e,{localeText:t}),[e,t])},Ms=()=>qm().utils,Yx=()=>qm().defaultDates,Hk=()=>qm().localeText,Ym=e=>{const t=Ms(),n=b.useRef();return n.current===void 0&&(n.current=t.dateWithTimezone(void 0,e)),n.current},Ok=({shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:n,minDate:r,maxDate:i,disableFuture:a,disablePast:o,timezone:l})=>{const A=qm();return b.useCallback(c=>Fee({adapter:A,value:c,props:{shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:n,minDate:r,maxDate:i,disableFuture:a,disablePast:o,timezone:l}})!==null,[A,e,t,n,r,i,a,o,l])},JB=(e,t)=>t.getHours(e)*3600+t.getMinutes(e)*60+t.getSeconds(e),_ee=(e,t)=>(n,r)=>e?t.isAfter(n,r):JB(n,t)>JB(r,t),Ga={year:1,month:2,day:3,minutes:5,seconds:6,milliseconds:7},hu=(e,t,n)=>{if(t===Ga.year)return e.startOfYear(n);if(t===Ga.month)return e.startOfMonth(n);if(t===Ga.day)return e.startOfDay(n);let r=n;return t<Ga.minutes&&(r=e.setMinutes(r,0)),t<Ga.seconds&&(r=e.setSeconds(r,0)),t<Ga.milliseconds&&(r=e.setMilliseconds(r,0)),r},Dee=({props:e,utils:t,granularity:n,timezone:r,getTodayDate:i})=>{var a;let o=i?i():hu(t,n,Qk(t,r));e.minDate!=null&&t.isAfterDay(e.minDate,o)&&(o=hu(t,n,e.minDate)),e.maxDate!=null&&t.isBeforeDay(e.maxDate,o)&&(o=hu(t,n,e.maxDate));const l=_ee((a=e.disableIgnoringDatePartForTimeValidation)!=null?a:!1,t);return e.minTime!=null&&l(e.minTime,o)&&(o=hu(t,n,e.disableIgnoringDatePartForTimeValidation?e.minTime:_g(t,o,e.minTime))),e.maxTime!=null&&l(o,e.maxTime)&&(o=hu(t,n,e.disableIgnoringDatePartForTimeValidation?e.maxTime:_g(t,o,e.maxTime))),o},Uee=["value","referenceDate"],Gc={emptyValue:null,getTodayValue:Qk,getInitialReferenceValue:e=>{let{value:t,referenceDate:n}=e,r=Ye(e,Uee);return t!=null&&r.utils.isValid(t)?t:n??Dee(r)},cleanValue:jee,areValuesEqual:kee,isSameError:(e,t)=>e===t,hasError:e=>e!=null,defaultErrorState:null,getTimezone:(e,t)=>t==null||!e.isValid(t)?null:e.getTimezone(t),setTimezone:(e,t,n)=>n==null?null:e.setTimezone(n,t)},Lee=(e,t,n)=>(r,i)=>{switch(i.type){case"changeMonth":return W({},r,{slideDirection:i.direction,currentMonth:i.newMonth,isMonthSwitchingAnimating:!e});case"finishMonthSwitchingAnimation":return W({},r,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(r.focusedDay!=null&&i.focusedDay!=null&&n.isSameDay(i.focusedDay,r.focusedDay))return r;const a=i.focusedDay!=null&&!t&&!n.isSameMonth(r.currentMonth,i.focusedDay);return W({},r,{focusedDay:i.focusedDay,isMonthSwitchingAnimating:a&&!e&&!i.withoutMonthSwitchingAnimation,currentMonth:a?n.startOfMonth(i.focusedDay):r.currentMonth,slideDirection:i.focusedDay!=null&&n.isAfterDay(i.focusedDay,r.currentMonth)?"left":"right"})}default:throw new Error("missing support")}},Mee=e=>{const{value:t,referenceDate:n,defaultCalendarMonth:r,disableFuture:i,disablePast:a,disableSwitchToMonthOnDayFocus:o=!1,maxDate:l,minDate:A,onMonthChange:c,reduceAnimations:d,shouldDisableDate:u,timezone:p}=e,h=Ms(),m=b.useRef(Lee(!!d,o,h)).current,g=b.useMemo(()=>{let T=null;return n?T=n:r&&(T=h.startOfMonth(r)),Gc.getInitialReferenceValue({value:t,utils:h,timezone:p,props:e,referenceDate:T,granularity:Ga.day})},[]),[y,x]=b.useReducer(m,{isMonthSwitchingAnimating:!1,focusedDay:g,currentMonth:h.startOfMonth(g),slideDirection:"left"}),C=b.useCallback(T=>{x(W({type:"changeMonth"},T)),c&&c(T.newMonth)},[c]),S=b.useCallback(T=>{const F=T;h.isSameMonth(F,y.currentMonth)||C({newMonth:h.startOfMonth(F),direction:h.isAfterDay(F,y.currentMonth)?"left":"right"})},[y.currentMonth,C,h]),w=Ok({shouldDisableDate:u,minDate:A,maxDate:l,disableFuture:i,disablePast:a,timezone:p}),_=b.useCallback(()=>{x({type:"finishMonthSwitchingAnimation"})},[]),E=sn((T,F)=>{w(T)||x({type:"changeFocusedDay",focusedDay:T,withoutMonthSwitchingAnimation:F})});return{referenceDate:g,calendarState:y,changeMonth:S,changeFocusedDay:E,isDateDisabled:w,onMonthSwitchingAnimationEnd:_,handleChangeMonth:C}},Pee=e=>gt("MuiPickersFadeTransitionGroup",e);mt("MuiPickersFadeTransitionGroup",["root"]);const Qee=e=>{const{classes:t}=e;return yt({root:["root"]},Pee,t)},Ree=Pe(Eh,{name:"MuiPickersFadeTransitionGroup",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"block",position:"relative"});function $k(e){const t=Oi({props:e,name:"MuiPickersFadeTransitionGroup"}),{children:n,className:r,reduceAnimations:i,transKey:a}=t,o=Qee(t),l=Hi();return i?n:s.jsx(Ree,{className:Je(o.root,r),children:s.jsx(Nh,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:l.transitions.duration.enteringScreen,enter:l.transitions.duration.enteringScreen,exit:0},children:n},a)})}const dh=36,Xm=2,Xx=320,Hee=280,zk=334;function Oee(e){return gt("MuiPickersDay",e)}const kl=mt("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),$ee=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today","isFirstVisibleCell","isLastVisibleCell"],zee=e=>{const{selected:t,disableMargin:n,disableHighlightToday:r,today:i,disabled:a,outsideCurrentMonth:o,showDaysOutsideCurrentMonth:l,classes:A}=e,c=o&&!l;return yt({root:["root",t&&!c&&"selected",a&&"disabled",!n&&"dayWithMargin",!r&&i&&"today",o&&l&&"dayOutsideMonth",c&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},Oee,A)},Wk=({theme:e,ownerState:t})=>W({},e.typography.caption,{width:dh,height:dh,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:e.transitions.create("background-color",{duration:e.transitions.duration.short}),color:(e.vars||e).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:_c(e.palette.primary.main,e.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:_c(e.palette.primary.main,e.palette.action.focusOpacity),[`&.${kl.selected}`]:{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${kl.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,fontWeight:e.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${kl.disabled}:not(.${kl.selected})`]:{color:(e.vars||e).palette.text.disabled},[`&.${kl.disabled}&.${kl.selected}`]:{opacity:.6}},!t.disableMargin&&{margin:`0 ${Xm}px`},t.outsideCurrentMonth&&t.showDaysOutsideCurrentMonth&&{color:(e.vars||e).palette.text.secondary},!t.disableHighlightToday&&t.today&&{[`&:not(.${kl.selected})`]:{border:`1px solid ${(e.vars||e).palette.text.secondary}`}}),Kk=(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableMargin&&t.dayWithMargin,!n.disableHighlightToday&&n.today&&t.today,!n.outsideCurrentMonth&&n.showDaysOutsideCurrentMonth&&t.dayOutsideMonth,n.outsideCurrentMonth&&!n.showDaysOutsideCurrentMonth&&t.hiddenDaySpacingFiller]},Wee=Pe(ka,{name:"MuiPickersDay",slot:"Root",overridesResolver:Kk})(Wk),Kee=Pe("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:Kk})(({theme:e,ownerState:t})=>W({},Wk({theme:e,ownerState:t}),{opacity:0,pointerEvents:"none"})),fu=()=>{},Vee=b.forwardRef(function(t,n){const r=Oi({props:t,name:"MuiPickersDay"}),{autoFocus:i=!1,className:a,day:o,disabled:l=!1,disableHighlightToday:A=!1,disableMargin:c=!1,isAnimating:d,onClick:u,onDaySelect:p,onFocus:h=fu,onBlur:m=fu,onKeyDown:g=fu,onMouseDown:y=fu,onMouseEnter:x=fu,outsideCurrentMonth:C,selected:S=!1,showDaysOutsideCurrentMonth:w=!1,children:_,today:E=!1}=r,T=Ye(r,$ee),F=W({},r,{autoFocus:i,disabled:l,disableHighlightToday:A,disableMargin:c,selected:S,showDaysOutsideCurrentMonth:w,today:E}),M=zee(F),P=Ms(),I=b.useRef(null),j=ar(I,n);Es(()=>{i&&!l&&!d&&!C&&I.current.focus()},[i,l,d,C]);const U=z=>{y(z),C&&z.preventDefault()},N=z=>{l||p(o),C&&z.currentTarget.focus(),u&&u(z)};return C&&!w?s.jsx(Kee,{className:Je(M.root,M.hiddenDaySpacingFiller,a),ownerState:F,role:T.role}):s.jsx(Wee,W({className:Je(M.root,a),ref:j,centerRipple:!0,disabled:l,tabIndex:S?0:-1,onKeyDown:z=>g(z,o),onFocus:z=>h(z,o),onBlur:z=>m(z,o),onMouseEnter:z=>x(z,o),onClick:N,onMouseDown:U},T,{ownerState:F,children:_||P.format(o,"dayOfMonth")}))}),Gee=b.memo(Vee),qee=e=>gt("MuiPickersSlideTransition",e),wi=mt("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),Yee=["children","className","reduceAnimations","slideDirection","transKey","classes"],Xee=e=>{const{classes:t,slideDirection:n}=e,r={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${n}`],exitActive:[`slideExitActiveLeft-${n}`]};return yt(r,qee,t)},Jee=Pe(Eh,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`.${wi["slideEnter-left"]}`]:t["slideEnter-left"]},{[`.${wi["slideEnter-right"]}`]:t["slideEnter-right"]},{[`.${wi.slideEnterActive}`]:t.slideEnterActive},{[`.${wi.slideExit}`]:t.slideExit},{[`.${wi["slideExitActiveLeft-left"]}`]:t["slideExitActiveLeft-left"]},{[`.${wi["slideExitActiveLeft-right"]}`]:t["slideExitActiveLeft-right"]}]})(({theme:e})=>{const t=e.transitions.create("transform",{duration:e.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${wi["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${wi["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${wi.slideEnterActive}`]:{transform:"translate(0%)",transition:t},[`& .${wi.slideExit}`]:{transform:"translate(0%)"},[`& .${wi["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:t,zIndex:0},[`& .${wi["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:t,zIndex:0}}});function Zee(e){const t=Oi({props:e,name:"MuiPickersSlideTransition"}),{children:n,className:r,reduceAnimations:i,transKey:a}=t,o=Ye(t,Yee),l=Xee(t),A=Hi();if(i)return s.jsx("div",{className:Je(l.root,r),children:n});const c={exit:l.exit,enterActive:l.enterActive,enter:l.enter,exitActive:l.exitActive};return s.jsx(Jee,{className:Je(l.root,r),childFactory:d=>b.cloneElement(d,{classNames:c}),role:"presentation",children:s.jsx(ux,W({mountOnEnter:!0,unmountOnExit:!0,timeout:A.transitions.duration.complex,classNames:c},o,{children:n}),a)})}const ete=e=>gt("MuiDayCalendar",e);mt("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const tte=["parentProps","day","focusableDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],nte=["ownerState"],rte=e=>{const{classes:t}=e;return yt({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},ete,t)},Vk=(dh+Xm*2)*6,ste=Pe("div",{name:"MuiDayCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({}),ite=Pe("div",{name:"MuiDayCalendar",slot:"Header",overridesResolver:(e,t)=>t.header})({display:"flex",justifyContent:"center",alignItems:"center"}),ate=Pe(J,{name:"MuiDayCalendar",slot:"WeekDayLabel",overridesResolver:(e,t)=>t.weekDayLabel})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.secondary})),ote=Pe(J,{name:"MuiDayCalendar",slot:"WeekNumberLabel",overridesResolver:(e,t)=>t.weekNumberLabel})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:e.palette.text.disabled})),lte=Pe(J,{name:"MuiDayCalendar",slot:"WeekNumber",overridesResolver:(e,t)=>t.weekNumber})(({theme:e})=>W({},e.typography.caption,{width:dh,height:dh,padding:0,margin:`0 ${Xm}px`,color:e.palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),Ate=Pe("div",{name:"MuiDayCalendar",slot:"LoadingContainer",overridesResolver:(e,t)=>t.loadingContainer})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:Vk}),cte=Pe(Zee,{name:"MuiDayCalendar",slot:"SlideTransition",overridesResolver:(e,t)=>t.slideTransition})({minHeight:Vk}),dte=Pe("div",{name:"MuiDayCalendar",slot:"MonthContainer",overridesResolver:(e,t)=>t.monthContainer})({overflow:"hidden"}),ute=Pe("div",{name:"MuiDayCalendar",slot:"WeekContainer",overridesResolver:(e,t)=>t.weekContainer})({margin:`${Xm}px 0`,display:"flex",justifyContent:"center"});function hte(e){var t,n,r;let{parentProps:i,day:a,focusableDay:o,selectedDays:l,isDateDisabled:A,currentMonthNumber:c,isViewFocused:d}=e,u=Ye(e,tte);const{disabled:p,disableHighlightToday:h,isMonthSwitchingAnimating:m,showDaysOutsideCurrentMonth:g,components:y,componentsProps:x,slots:C,slotProps:S,timezone:w}=i,_=Ms(),E=Ym(w),T=o!==null&&_.isSameDay(a,o),F=l.some(D=>_.isSameDay(D,a)),M=_.isSameDay(a,E),P=(t=(n=C==null?void 0:C.day)!=null?n:y==null?void 0:y.Day)!=null?t:Gee,I=qo({elementType:P,externalSlotProps:(r=S==null?void 0:S.day)!=null?r:x==null?void 0:x.day,additionalProps:W({disableHighlightToday:h,showDaysOutsideCurrentMonth:g,role:"gridcell",isAnimating:m,"data-timestamp":_.toJsDate(a).valueOf()},u),ownerState:W({},i,{day:a,selected:F})}),j=Ye(I,nte),U=b.useMemo(()=>p||A(a),[p,A,a]),N=b.useMemo(()=>_.getMonth(a)!==c,[_,a,c]),z=b.useMemo(()=>{const D=_.startOfMonth(_.setMonth(a,c));return g?_.isSameDay(a,_.startOfWeek(D)):_.isSameDay(a,D)},[c,a,g,_]),L=b.useMemo(()=>{const D=_.endOfMonth(_.setMonth(a,c));return g?_.isSameDay(a,_.endOfWeek(D)):_.isSameDay(a,D)},[c,a,g,_]);return s.jsx(P,W({},j,{day:a,disabled:U,autoFocus:d&&T,today:M,outsideCurrentMonth:N,isFirstVisibleCell:z,isLastVisibleCell:L,selected:F,tabIndex:T?0:-1,"aria-selected":F,"aria-current":M?"date":void 0}))}function fte(e){const t=Oi({props:e,name:"MuiDayCalendar"}),{onFocusedDayChange:n,className:r,currentMonth:i,selectedDays:a,focusedDay:o,loading:l,onSelectedDaysChange:A,onMonthSwitchingAnimationEnd:c,readOnly:d,reduceAnimations:u,renderLoading:p=()=>s.jsx("span",{children:"..."}),slideDirection:h,TransitionProps:m,disablePast:g,disableFuture:y,minDate:x,maxDate:C,shouldDisableDate:S,shouldDisableMonth:w,shouldDisableYear:_,dayOfWeekFormatter:E,hasFocus:T,onFocusedViewChange:F,gridLabelId:M,displayWeekNumber:P,fixedWeekNumber:I,autoFocus:j,timezone:U}=t,N=Ym(U),z=Ms(),L=rte(t),K=Hi().direction==="rtl",q=E||((we,me)=>z.format(me,"weekdayShort").charAt(0).toUpperCase()),Z=Ok({shouldDisableDate:S,shouldDisableMonth:w,shouldDisableYear:_,minDate:x,maxDate:C,disablePast:g,disableFuture:y,timezone:U}),Ae=Hk(),[H,R]=ja({name:"DayCalendar",state:"hasFocus",controlled:T,default:j??!1}),[Q,$]=b.useState(()=>o||N),V=sn(we=>{d||A(we)}),G=we=>{Z(we)||(n(we),$(we),F==null||F(!0),R(!0))},ie=sn((we,me)=>{switch(we.key){case"ArrowUp":G(z.addDays(me,-7)),we.preventDefault();break;case"ArrowDown":G(z.addDays(me,7)),we.preventDefault();break;case"ArrowLeft":{const Ie=z.addDays(me,K?1:-1),Te=z.addMonths(me,K?1:-1),Oe=zu({utils:z,date:Ie,minDate:K?Ie:z.startOfMonth(Te),maxDate:K?z.endOfMonth(Te):Ie,isDateDisabled:Z,timezone:U});G(Oe||Ie),we.preventDefault();break}case"ArrowRight":{const Ie=z.addDays(me,K?-1:1),Te=z.addMonths(me,K?-1:1),Oe=zu({utils:z,date:Ie,minDate:K?z.startOfMonth(Te):Ie,maxDate:K?Ie:z.endOfMonth(Te),isDateDisabled:Z,timezone:U});G(Oe||Ie),we.preventDefault();break}case"Home":G(z.startOfWeek(me)),we.preventDefault();break;case"End":G(z.endOfWeek(me)),we.preventDefault();break;case"PageUp":G(z.addMonths(me,1)),we.preventDefault();break;case"PageDown":G(z.addMonths(me,-1)),we.preventDefault();break}}),ne=sn((we,me)=>G(me)),xe=sn((we,me)=>{H&&z.isSameDay(Q,me)&&(F==null||F(!1))}),re=z.getMonth(i),ge=b.useMemo(()=>a.filter(we=>!!we).map(we=>z.startOfDay(we)),[z,a]),le=re,be=b.useMemo(()=>b.createRef(),[le]),ue=z.startOfWeek(N),ae=b.useMemo(()=>{const we=z.startOfMonth(i),me=z.endOfMonth(i);return Z(Q)||z.isAfterDay(Q,me)||z.isBeforeDay(Q,we)?zu({utils:z,date:Q,minDate:we,maxDate:me,disablePast:g,disableFuture:y,isDateDisabled:Z,timezone:U}):Q},[i,y,g,Q,Z,z,U]),He=b.useMemo(()=>{const we=z.setTimezone(i,U),me=z.getWeekArray(we);let Ie=z.addMonths(we,1);for(;I&&me.length<I;){const Te=z.getWeekArray(Ie),Oe=z.isSameDay(me[me.length-1][0],Te[0][0]);Te.slice(Oe?1:0).forEach(qe=>{me.length<I&&me.push(qe)}),Ie=z.addMonths(Ie,1)}return me},[i,I,z,U]);return s.jsxs(ste,{role:"grid","aria-labelledby":M,className:L.root,children:[s.jsxs(ite,{role:"row",className:L.header,children:[P&&s.jsx(ote,{variant:"caption",role:"columnheader","aria-label":Ae.calendarWeekNumberHeaderLabel,className:L.weekNumberLabel,children:Ae.calendarWeekNumberHeaderText}),Iee(z,N).map((we,me)=>{var Ie;const Te=z.format(we,"weekdayShort");return s.jsx(ate,{variant:"caption",role:"columnheader","aria-label":z.format(z.addDays(ue,me),"weekday"),className:L.weekDayLabel,children:(Ie=q==null?void 0:q(Te,we))!=null?Ie:Te},Te+me.toString())})]}),l?s.jsx(Ate,{className:L.loadingContainer,children:p()}):s.jsx(cte,W({transKey:le,onExited:c,reduceAnimations:u,slideDirection:h,className:Je(r,L.slideTransition)},m,{nodeRef:be,children:s.jsx(dte,{ref:be,role:"rowgroup",className:L.monthContainer,children:He.map((we,me)=>s.jsxs(ute,{role:"row",className:L.weekContainer,"aria-rowindex":me+1,children:[P&&s.jsx(lte,{className:L.weekNumber,role:"rowheader","aria-label":Ae.calendarWeekNumberAriaLabelText(z.getWeekNumber(we[0])),children:Ae.calendarWeekNumberText(z.getWeekNumber(we[0]))}),we.map((Ie,Te)=>s.jsx(hte,{parentProps:t,day:Ie,selectedDays:ge,focusableDay:ae,onKeyDown:ie,onFocus:ne,onBlur:xe,onDaySelect:V,isDateDisabled:Z,currentMonthNumber:re,isViewFocused:H,"aria-colindex":Te+1},Ie.toString()))]},`week-${we[0]}`))})}))]})}function pte(e){return gt("MuiPickersMonth",e)}const bp=mt("MuiPickersMonth",["root","monthButton","disabled","selected"]),gte=["autoFocus","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","aria-label","monthsPerRow"],mte=e=>{const{disabled:t,selected:n,classes:r}=e;return yt({root:["root"],monthButton:["monthButton",t&&"disabled",n&&"selected"]},pte,r)},vte=Pe("div",{name:"MuiPickersMonth",slot:"Root",overridesResolver:(e,t)=>[t.root]})(({ownerState:e})=>({flexBasis:e.monthsPerRow===3?"33.3%":"25%",display:"flex",alignItems:"center",justifyContent:"center"})),yte=Pe("button",{name:"MuiPickersMonth",slot:"MonthButton",overridesResolver:(e,t)=>[t.monthButton,{[`&.${bp.disabled}`]:t.disabled},{[`&.${bp.selected}`]:t.selected}]})(({theme:e})=>W({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:_c(e.palette.action.active,e.palette.action.hoverOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:_c(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${bp.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${bp.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),xte=b.memo(function(t){const n=Oi({props:t,name:"MuiPickersMonth"}),{autoFocus:r,children:i,disabled:a,selected:o,value:l,tabIndex:A,onClick:c,onKeyDown:d,onFocus:u,onBlur:p,"aria-current":h,"aria-label":m}=n,g=Ye(n,gte),y=b.useRef(null),x=mte(n);return Es(()=>{if(r){var C;(C=y.current)==null||C.focus()}},[r]),s.jsx(vte,W({className:x.root,ownerState:n},g,{children:s.jsx(yte,{ref:y,disabled:a,type:"button",role:"radio",tabIndex:a?-1:A,"aria-current":h,"aria-checked":o,"aria-label":m,onClick:C=>c(C,l),onKeyDown:C=>d(C,l),onFocus:C=>u(C,l),onBlur:C=>p(C,l),className:x.monthButton,ownerState:n,children:i})}))});function bte(e){return gt("MuiMonthCalendar",e)}mt("MuiMonthCalendar",["root"]);const wte=({timezone:e,value:t,defaultValue:n,onChange:r,valueManager:i})=>{var a,o;const l=Ms(),A=b.useRef(n),c=(a=t??A.current)!=null?a:i.emptyValue,d=b.useMemo(()=>i.getTimezone(l,c),[l,i,c]),u=sn(g=>d==null?g:i.setTimezone(l,d,g)),p=(o=e??d)!=null?o:"default",h=b.useMemo(()=>i.setTimezone(l,p,c),[i,l,p,c]),m=sn((g,...y)=>{const x=u(g);r==null||r(x,...y)});return{value:h,handleValueChange:m,timezone:p}},Jx=({name:e,timezone:t,value:n,defaultValue:r,onChange:i,valueManager:a})=>{const[o,l]=ja({name:e,state:"value",controlled:n,default:r??a.emptyValue}),A=sn((c,...d)=>{l(c),i==null||i(c,...d)});return wte({timezone:t,value:o,defaultValue:void 0,onChange:A,valueManager:a})},Cte=["className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","autoFocus","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId"],Bte=e=>{const{classes:t}=e;return yt({root:["root"]},bte,t)};function Ste(e,t){const n=Ms(),r=Yx(),i=Oi({props:e,name:t});return W({disableFuture:!1,disablePast:!1},i,{minDate:cl(n,i.minDate,r.minDate),maxDate:cl(n,i.maxDate,r.maxDate)})}const jte=Pe("div",{name:"MuiMonthCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexWrap:"wrap",alignContent:"stretch",padding:"0 4px",width:Xx,boxSizing:"border-box"}),kte=b.forwardRef(function(t,n){const r=Ste(t,"MuiMonthCalendar"),{className:i,value:a,defaultValue:o,referenceDate:l,disabled:A,disableFuture:c,disablePast:d,maxDate:u,minDate:p,onChange:h,shouldDisableMonth:m,readOnly:g,disableHighlightToday:y,autoFocus:x=!1,onMonthFocus:C,hasFocus:S,onFocusedViewChange:w,monthsPerRow:_=3,timezone:E,gridLabelId:T}=r,F=Ye(r,Cte),{value:M,handleValueChange:P,timezone:I}=Jx({name:"MonthCalendar",timezone:E,value:a,defaultValue:o,onChange:h,valueManager:Gc}),j=Ym(I),U=td(),N=Ms(),z=b.useMemo(()=>Gc.getInitialReferenceValue({value:M,utils:N,props:r,timezone:I,referenceDate:l,granularity:Ga.month}),[]),L=r,D=Bte(L),K=b.useMemo(()=>N.getMonth(j),[N,j]),q=b.useMemo(()=>M!=null?N.getMonth(M):y?null:N.getMonth(z),[M,N,y,z]),[Z,Ae]=b.useState(()=>q||K),[H,R]=ja({name:"MonthCalendar",state:"hasFocus",controlled:S,default:x??!1}),Q=sn(re=>{R(re),w&&w(re)}),$=b.useCallback(re=>{const ge=N.startOfMonth(d&&N.isAfter(j,p)?j:p),le=N.startOfMonth(c&&N.isBefore(j,u)?j:u),be=N.startOfMonth(re);return N.isBefore(be,ge)||N.isAfter(be,le)?!0:m?m(be):!1},[c,d,u,p,j,m,N]),V=sn((re,ge)=>{if(g)return;const le=N.setMonth(M??z,ge);P(le)}),G=sn(re=>{$(N.setMonth(M??z,re))||(Ae(re),Q(!0),C&&C(re))});b.useEffect(()=>{Ae(re=>q!==null&&re!==q?q:re)},[q]);const ie=sn((re,ge)=>{switch(re.key){case"ArrowUp":G((12+ge-3)%12),re.preventDefault();break;case"ArrowDown":G((12+ge+3)%12),re.preventDefault();break;case"ArrowLeft":G((12+ge+(U.direction==="ltr"?-1:1))%12),re.preventDefault();break;case"ArrowRight":G((12+ge+(U.direction==="ltr"?1:-1))%12),re.preventDefault();break}}),ne=sn((re,ge)=>{G(ge)}),xe=sn((re,ge)=>{Z===ge&&Q(!1)});return s.jsx(jte,W({ref:n,className:Je(D.root,i),ownerState:L,role:"radiogroup","aria-labelledby":T},F,{children:Eee(N,M??z).map(re=>{const ge=N.getMonth(re),le=N.format(re,"monthShort"),be=N.format(re,"month"),ue=ge===q,ae=A||$(re);return s.jsx(xte,{selected:ue,value:ge,onClick:V,onKeyDown:ie,autoFocus:H&&ge===Z,disabled:ae,tabIndex:ge===Z?0:-1,onFocus:ne,onBlur:xe,"aria-current":K===ge?"date":void 0,"aria-label":be,monthsPerRow:_,children:le},le)})}))});function Ete(e){return gt("MuiPickersYear",e)}const wp=mt("MuiPickersYear",["root","yearButton","selected","disabled"]),Ite=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","yearsPerRow"],Fte=e=>{const{disabled:t,selected:n,classes:r}=e;return yt({root:["root"],yearButton:["yearButton",t&&"disabled",n&&"selected"]},Ete,r)},Nte=Pe("div",{name:"MuiPickersYear",slot:"Root",overridesResolver:(e,t)=>[t.root]})(({ownerState:e})=>({flexBasis:e.yearsPerRow===3?"33.3%":"25%",display:"flex",alignItems:"center",justifyContent:"center"})),Tte=Pe("button",{name:"MuiPickersYear",slot:"YearButton",overridesResolver:(e,t)=>[t.yearButton,{[`&.${wp.disabled}`]:t.disabled},{[`&.${wp.selected}`]:t.selected}]})(({theme:e})=>W({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{margin:"6px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.focusOpacity})`:_c(e.palette.action.active,e.palette.action.focusOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:_c(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${wp.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${wp.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),_te=b.memo(function(t){const n=Oi({props:t,name:"MuiPickersYear"}),{autoFocus:r,className:i,children:a,disabled:o,selected:l,value:A,tabIndex:c,onClick:d,onKeyDown:u,onFocus:p,onBlur:h,"aria-current":m}=n,g=Ye(n,Ite),y=b.useRef(null),x=Fte(n);return b.useEffect(()=>{r&&y.current.focus()},[r]),s.jsx(Nte,W({className:Je(x.root,i),ownerState:n},g,{children:s.jsx(Tte,{ref:y,disabled:o,type:"button",role:"radio",tabIndex:o?-1:c,"aria-current":m,"aria-checked":l,onClick:C=>d(C,A),onKeyDown:C=>u(C,A),onFocus:C=>p(C,A),onBlur:C=>h(C,A),className:x.yearButton,ownerState:n,children:a})}))});function Dte(e){return gt("MuiYearCalendar",e)}mt("MuiYearCalendar",["root"]);const Ute=["autoFocus","className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsPerRow","timezone","gridLabelId"],Lte=e=>{const{classes:t}=e;return yt({root:["root"]},Dte,t)};function Mte(e,t){var n;const r=Ms(),i=Yx(),a=Oi({props:e,name:t});return W({disablePast:!1,disableFuture:!1},a,{yearsPerRow:(n=a.yearsPerRow)!=null?n:3,minDate:cl(r,a.minDate,i.minDate),maxDate:cl(r,a.maxDate,i.maxDate)})}const Pte=Pe("div",{name:"MuiYearCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",padding:"0 4px",width:Xx,maxHeight:Hee,boxSizing:"border-box",position:"relative"}),Qte=b.forwardRef(function(t,n){const r=Mte(t,"MuiYearCalendar"),{autoFocus:i,className:a,value:o,defaultValue:l,referenceDate:A,disabled:c,disableFuture:d,disablePast:u,maxDate:p,minDate:h,onChange:m,readOnly:g,shouldDisableYear:y,disableHighlightToday:x,onYearFocus:C,hasFocus:S,onFocusedViewChange:w,yearsPerRow:_,timezone:E,gridLabelId:T}=r,F=Ye(r,Ute),{value:M,handleValueChange:P,timezone:I}=Jx({name:"YearCalendar",timezone:E,value:o,defaultValue:l,onChange:m,valueManager:Gc}),j=Ym(I),U=td(),N=Ms(),z=b.useMemo(()=>Gc.getInitialReferenceValue({value:M,utils:N,props:r,timezone:I,referenceDate:A,granularity:Ga.year}),[]),L=r,D=Lte(L),K=b.useMemo(()=>N.getYear(j),[N,j]),q=b.useMemo(()=>M!=null?N.getYear(M):x?null:N.getYear(z),[M,N,x,z]),[Z,Ae]=b.useState(()=>q||K),[H,R]=ja({name:"YearCalendar",state:"hasFocus",controlled:S,default:i??!1}),Q=sn(le=>{R(le),w&&w(le)}),$=b.useCallback(le=>{if(u&&N.isBeforeYear(le,j)||d&&N.isAfterYear(le,j)||h&&N.isBeforeYear(le,h)||p&&N.isAfterYear(le,p))return!0;if(!y)return!1;const be=N.startOfYear(le);return y(be)},[d,u,p,h,j,y,N]),V=sn((le,be)=>{if(g)return;const ue=N.setYear(M??z,be);P(ue)}),G=sn(le=>{$(N.setYear(M??z,le))||(Ae(le),Q(!0),C==null||C(le))});b.useEffect(()=>{Ae(le=>q!==null&&le!==q?q:le)},[q]);const ie=sn((le,be)=>{switch(le.key){case"ArrowUp":G(be-_),le.preventDefault();break;case"ArrowDown":G(be+_),le.preventDefault();break;case"ArrowLeft":G(be+(U.direction==="ltr"?-1:1)),le.preventDefault();break;case"ArrowRight":G(be+(U.direction==="ltr"?1:-1)),le.preventDefault();break}}),ne=sn((le,be)=>{G(be)}),xe=sn((le,be)=>{Z===be&&Q(!1)}),re=b.useRef(null),ge=ar(n,re);return b.useEffect(()=>{if(i||re.current===null)return;const le=re.current.querySelector('[tabindex="0"]');if(!le)return;const be=le.offsetHeight,ue=le.offsetTop,ae=re.current.clientHeight,He=re.current.scrollTop,we=ue+be;be>ae||ue<He||(re.current.scrollTop=we-ae/2-be/2)},[i]),s.jsx(Pte,W({ref:ge,className:Je(D.root,a),ownerState:L,role:"radiogroup","aria-labelledby":T},F,{children:N.getYearRange(h,p).map(le=>{const be=N.getYear(le),ue=be===q,ae=c||$(le);return s.jsx(_te,{selected:ue,value:be,onClick:V,onKeyDown:ie,autoFocus:H&&be===Z,disabled:ae,tabIndex:be===Z?0:-1,onFocus:ne,onBlur:xe,"aria-current":K===be?"date":void 0,yearsPerRow:_,children:N.format(le,"year")},N.format(le,"year"))})}))});function Rte({onChange:e,onViewChange:t,openTo:n,view:r,views:i,autoFocus:a,focusedView:o,onFocusedViewChange:l}){var A,c;const d=b.useRef(n),u=b.useRef(i),p=b.useRef(i.includes(n)?n:i[0]),[h,m]=ja({name:"useViews",state:"view",controlled:r,default:p.current}),g=b.useRef(a?h:null),[y,x]=ja({name:"useViews",state:"focusedView",controlled:o,default:g.current});b.useEffect(()=>{(d.current&&d.current!==n||u.current&&u.current.some(M=>!i.includes(M)))&&(m(i.includes(n)?n:i[0]),u.current=i,d.current=n)},[n,m,h,i]);const C=i.indexOf(h),S=(A=i[C-1])!=null?A:null,w=(c=i[C+1])!=null?c:null,_=sn((M,P)=>{x(P?M:I=>M===I?null:I),l==null||l(M,P)}),E=sn(M=>{_(M,!0),M!==h&&(m(M),t&&t(M))}),T=sn(()=>{w&&E(w)}),F=sn((M,P,I)=>{const j=P==="finish",U=I?i.indexOf(I)<i.length-1:!!w;if(e(M,j&&U?"partial":P,I),I&&I!==h){const z=i[i.indexOf(I)+1];z&&E(z)}else j&&T()});return{view:h,setView:E,focusedView:y,setFocusedView:_,nextView:w,previousView:S,defaultView:i.includes(n)?n:i[0],goToNextView:T,setValueAndGoToNextView:F}}const Hte=e=>gt("MuiPickersCalendarHeader",e),Ote=mt("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),$te=ut(s.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),zte=ut(s.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),Wte=ut(s.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight");ut(s.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar");ut(s.jsxs(b.Fragment,{children:[s.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),s.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock");ut(s.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange");ut(s.jsxs(b.Fragment,{children:[s.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),s.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time");ut(s.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");function Kte(e){return gt("MuiPickersArrowSwitcher",e)}mt("MuiPickersArrowSwitcher",["root","spacer","button"]);const Vte=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel"],Gte=["ownerState"],qte=["ownerState"],Yte=Pe("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex"}),Xte=Pe("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(e,t)=>t.spacer})(({theme:e})=>({width:e.spacing(3)})),ZB=Pe(Ls,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(e,t)=>t.button})(({ownerState:e})=>W({},e.hidden&&{visibility:"hidden"})),Jte=e=>{const{classes:t}=e;return yt({root:["root"],spacer:["spacer"],button:["button"]},Kte,t)},Zte=b.forwardRef(function(t,n){var r,i,a,o;const A=Hi().direction==="rtl",c=Oi({props:t,name:"MuiPickersArrowSwitcher"}),{children:d,className:u,slots:p,slotProps:h,isNextDisabled:m,isNextHidden:g,onGoToNext:y,nextLabel:x,isPreviousDisabled:C,isPreviousHidden:S,onGoToPrevious:w,previousLabel:_}=c,E=Ye(c,Vte),T=c,F=Jte(T),M={isDisabled:m,isHidden:g,goTo:y,label:x},P={isDisabled:C,isHidden:S,goTo:w,label:_},I=(r=p==null?void 0:p.previousIconButton)!=null?r:ZB,j=qo({elementType:I,externalSlotProps:h==null?void 0:h.previousIconButton,additionalProps:{size:"medium",title:P.label,"aria-label":P.label,disabled:P.isDisabled,edge:"end",onClick:P.goTo},ownerState:W({},T,{hidden:P.isHidden}),className:F.button}),U=(i=p==null?void 0:p.nextIconButton)!=null?i:ZB,N=qo({elementType:U,externalSlotProps:h==null?void 0:h.nextIconButton,additionalProps:{size:"medium",title:M.label,"aria-label":M.label,disabled:M.isDisabled,edge:"start",onClick:M.goTo},ownerState:W({},T,{hidden:M.isHidden}),className:F.button}),z=(a=p==null?void 0:p.leftArrowIcon)!=null?a:zte,L=qo({elementType:z,externalSlotProps:h==null?void 0:h.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),D=Ye(L,Gte),K=(o=p==null?void 0:p.rightArrowIcon)!=null?o:Wte,q=qo({elementType:K,externalSlotProps:h==null?void 0:h.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),Z=Ye(q,qte);return s.jsxs(Yte,W({ref:n,className:Je(F.root,u),ownerState:T},E,{children:[s.jsx(I,W({},j,{children:A?s.jsx(K,W({},Z)):s.jsx(z,W({},D))})),d?s.jsx(J,{variant:"subtitle1",component:"span",children:d}):s.jsx(Xte,{className:F.spacer,ownerState:T}),s.jsx(U,W({},N,{children:A?s.jsx(z,W({},D)):s.jsx(K,W({},Z))}))]}))});function ene(e,{disableFuture:t,maxDate:n,timezone:r}){const i=Ms();return b.useMemo(()=>{const a=i.dateWithTimezone(void 0,r),o=i.startOfMonth(t&&i.isBefore(a,n)?a:n);return!i.isAfter(o,e)},[t,n,e,i,r])}function tne(e,{disablePast:t,minDate:n,timezone:r}){const i=Ms();return b.useMemo(()=>{const a=i.dateWithTimezone(void 0,r),o=i.startOfMonth(t&&i.isAfter(a,n)?a:n);return!i.isBefore(o,e)},[t,n,e,i,r])}const nne=["slots","slotProps","components","componentsProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","timezone"],rne=["ownerState"],sne=e=>{const{classes:t}=e;return yt({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},Hte,t)},ine=Pe("div",{name:"MuiPickersCalendarHeader",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",alignItems:"center",marginTop:16,marginBottom:8,paddingLeft:24,paddingRight:12,maxHeight:30,minHeight:30}),ane=Pe("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer",overridesResolver:(e,t)=>t.labelContainer})(({theme:e})=>W({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},e.typography.body1,{fontWeight:e.typography.fontWeightMedium})),one=Pe("div",{name:"MuiPickersCalendarHeader",slot:"Label",overridesResolver:(e,t)=>t.label})({marginRight:6}),lne=Pe(Ls,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton",overridesResolver:(e,t)=>t.switchViewButton})(({ownerState:e})=>W({marginRight:"auto"},e.view==="year"&&{[`.${Ote.switchViewIcon}`]:{transform:"rotate(180deg)"}})),Ane=Pe($te,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon",overridesResolver:(e,t)=>t.switchViewIcon})(({theme:e})=>({willChange:"transform",transition:e.transitions.create("transform"),transform:"rotate(0deg)"})),cne=b.forwardRef(function(t,n){var r,i,a,o;const l=Hk(),A=Ms(),c=Oi({props:t,name:"MuiPickersCalendarHeader"}),{slots:d,slotProps:u,components:p,currentMonth:h,disabled:m,disableFuture:g,disablePast:y,maxDate:x,minDate:C,onMonthChange:S,onViewChange:w,view:_,reduceAnimations:E,views:T,labelId:F,className:M,timezone:P}=c,I=Ye(c,nne),j=c,U=sne(c),N=(r=(i=d==null?void 0:d.switchViewButton)!=null?i:p==null?void 0:p.SwitchViewButton)!=null?r:lne,z=qo({elementType:N,externalSlotProps:u==null?void 0:u.switchViewButton,additionalProps:{size:"small","aria-label":l.calendarViewSwitchingButtonAriaLabel(_)},ownerState:j,className:U.switchViewButton}),L=(a=(o=d==null?void 0:d.switchViewIcon)!=null?o:p==null?void 0:p.SwitchViewIcon)!=null?a:Ane,D=qo({elementType:L,externalSlotProps:u==null?void 0:u.switchViewIcon,ownerState:void 0,className:U.switchViewIcon}),K=Ye(D,rne),q=()=>S(A.addMonths(h,1),"left"),Z=()=>S(A.addMonths(h,-1),"right"),Ae=ene(h,{disableFuture:g,maxDate:x,timezone:P}),H=tne(h,{disablePast:y,minDate:C,timezone:P}),R=()=>{if(!(T.length===1||!w||m))if(T.length===2)w(T.find(Q=>Q!==_)||T[0]);else{const Q=T.indexOf(_)!==0?0:1;w(T[Q])}};return T.length===1&&T[0]==="year"?null:s.jsxs(ine,W({},I,{ownerState:j,className:Je(M,U.root),ref:n,children:[s.jsxs(ane,{role:"presentation",onClick:R,ownerState:j,"aria-live":"polite",className:U.labelContainer,children:[s.jsx($k,{reduceAnimations:E,transKey:A.format(h,"monthAndYear"),children:s.jsx(one,{id:F,ownerState:j,className:U.label,children:A.format(h,"monthAndYear")})}),T.length>1&&!m&&s.jsx(N,W({},z,{children:s.jsx(L,W({},K))}))]}),s.jsx(Nh,{in:_==="day",children:s.jsx(Zte,{slots:d,slotProps:u,onGoToPrevious:Z,isPreviousDisabled:H,previousLabel:l.previousMonth,onGoToNext:q,isNextDisabled:Ae,nextLabel:l.nextMonth})})]}))}),dne=Pe("div")({overflow:"hidden",width:Xx,maxHeight:zk,display:"flex",flexDirection:"column",margin:"0 auto"}),une="@media (prefers-reduced-motion: reduce)",Fc=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),e5=Fc&&Fc[1]?parseInt(Fc[1],10):null,t5=Fc&&Fc[2]?parseInt(Fc[2],10):null,hne=e5&&e5<10||t5&&t5<13||!1,fne=()=>RN(une,{defaultMatches:!1})||hne,pne=e=>gt("MuiDateCalendar",e);mt("MuiDateCalendar",["root","viewTransitionContainer"]);const gne=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","defaultCalendarMonth","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","components","componentsProps","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsPerRow","monthsPerRow","timezone"],mne=e=>{const{classes:t}=e;return yt({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},pne,t)};function vne(e,t){var n,r,i,a,o,l,A;const c=Ms(),d=Yx(),u=fne(),p=Oi({props:e,name:t});return W({},p,{loading:(n=p.loading)!=null?n:!1,disablePast:(r=p.disablePast)!=null?r:!1,disableFuture:(i=p.disableFuture)!=null?i:!1,openTo:(a=p.openTo)!=null?a:"day",views:(o=p.views)!=null?o:["year","day"],reduceAnimations:(l=p.reduceAnimations)!=null?l:u,renderLoading:(A=p.renderLoading)!=null?A:()=>s.jsx("span",{children:"..."}),minDate:cl(c,p.minDate,d.minDate),maxDate:cl(c,p.maxDate,d.maxDate)})}const yne=Pe(dne,{name:"MuiDateCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"column",height:zk}),xne=Pe($k,{name:"MuiDateCalendar",slot:"ViewTransitionContainer",overridesResolver:(e,t)=>t.viewTransitionContainer})({}),bne=b.forwardRef(function(t,n){var r,i,a;const o=Ms(),l=nd(),A=vne(t,"MuiDateCalendar"),{autoFocus:c,onViewChange:d,value:u,defaultValue:p,referenceDate:h,disableFuture:m,disablePast:g,defaultCalendarMonth:y,onChange:x,onYearChange:C,onMonthChange:S,reduceAnimations:w,shouldDisableDate:_,shouldDisableMonth:E,shouldDisableYear:T,view:F,views:M,openTo:P,className:I,disabled:j,readOnly:U,minDate:N,maxDate:z,disableHighlightToday:L,focusedView:D,onFocusedViewChange:K,showDaysOutsideCurrentMonth:q,fixedWeekNumber:Z,dayOfWeekFormatter:Ae,components:H,componentsProps:R,slots:Q,slotProps:$,loading:V,renderLoading:G,displayWeekNumber:ie,yearsPerRow:ne,monthsPerRow:xe,timezone:re}=A,ge=Ye(A,gne),{value:le,handleValueChange:be,timezone:ue}=Jx({name:"DateCalendar",timezone:re,value:u,defaultValue:p,onChange:x,valueManager:Gc}),{view:ae,setView:He,focusedView:we,setFocusedView:me,goToNextView:Ie,setValueAndGoToNextView:Te}=Rte({view:F,views:M,openTo:P,onChange:be,onViewChange:d,autoFocus:c,focusedView:D,onFocusedViewChange:K}),{referenceDate:Oe,calendarState:qe,changeFocusedDay:nt,changeMonth:ht,handleChangeMonth:rt,isDateDisabled:ot,onMonthSwitchingAnimationEnd:At}=Mee({value:le,defaultCalendarMonth:y,referenceDate:h,reduceAnimations:w,onMonthChange:S,minDate:N,maxDate:z,shouldDisableDate:_,disablePast:g,disableFuture:m,timezone:ue}),We=j&&le||N,jt=j&&le||z,ye=`${l}-grid-label`,fe=we!==null,de=(r=(i=Q==null?void 0:Q.calendarHeader)!=null?i:H==null?void 0:H.CalendarHeader)!=null?r:cne,Ue=qo({elementType:de,externalSlotProps:(a=$==null?void 0:$.calendarHeader)!=null?a:R==null?void 0:R.calendarHeader,additionalProps:{views:M,view:ae,currentMonth:qe.currentMonth,onViewChange:He,onMonthChange:(De,Qe)=>rt({newMonth:De,direction:Qe}),minDate:We,maxDate:jt,disabled:j,disablePast:g,disableFuture:m,reduceAnimations:w,timezone:ue,labelId:ye,slots:Q,slotProps:$},ownerState:A}),ve=sn(De=>{const Qe=o.startOfMonth(De),it=o.endOfMonth(De),ct=ot(De)?zu({utils:o,date:De,minDate:o.isBefore(N,Qe)?Qe:N,maxDate:o.isAfter(z,it)?it:z,disablePast:g,disableFuture:m,isDateDisabled:ot,timezone:ue}):De;ct?(Te(ct,"finish"),S==null||S(Qe)):(Ie(),ht(Qe)),nt(ct,!0)}),je=sn(De=>{const Qe=o.startOfYear(De),it=o.endOfYear(De),ct=ot(De)?zu({utils:o,date:De,minDate:o.isBefore(N,Qe)?Qe:N,maxDate:o.isAfter(z,it)?it:z,disablePast:g,disableFuture:m,isDateDisabled:ot,timezone:ue}):De;ct?(Te(ct,"finish"),C==null||C(ct)):(Ie(),ht(Qe)),nt(ct,!0)}),pe=sn(De=>be(De&&_g(o,De,le??Oe),"finish",ae));b.useEffect(()=>{le!=null&&o.isValid(le)&&ht(le)},[le]);const Ee=A,Ze=mne(Ee),ze={disablePast:g,disableFuture:m,maxDate:z,minDate:N},dt={disableHighlightToday:L,readOnly:U,disabled:j,timezone:ue,gridLabelId:ye},lt=b.useRef(ae);b.useEffect(()=>{lt.current!==ae&&(we===lt.current&&me(ae,!0),lt.current=ae)},[we,me,ae]);const Ve=b.useMemo(()=>[le],[le]);return s.jsxs(yne,W({ref:n,className:Je(Ze.root,I),ownerState:Ee},ge,{children:[s.jsx(de,W({},Ue)),s.jsx(xne,{reduceAnimations:w,className:Ze.viewTransitionContainer,transKey:ae,ownerState:Ee,children:s.jsxs("div",{children:[ae==="year"&&s.jsx(Qte,W({},ze,dt,{value:le,onChange:je,shouldDisableYear:T,hasFocus:fe,onFocusedViewChange:De=>me("year",De),yearsPerRow:ne,referenceDate:Oe})),ae==="month"&&s.jsx(kte,W({},ze,dt,{hasFocus:fe,className:I,value:le,onChange:ve,shouldDisableMonth:E,onFocusedViewChange:De=>me("month",De),monthsPerRow:xe,referenceDate:Oe})),ae==="day"&&s.jsx(fte,W({},qe,ze,dt,{onMonthSwitchingAnimationEnd:At,onFocusedDayChange:nt,reduceAnimations:w,selectedDays:Ve,onSelectedDaysChange:pe,shouldDisableDate:_,shouldDisableMonth:E,shouldDisableYear:T,hasFocus:fe,onFocusedViewChange:De=>me("day",De),showDaysOutsideCurrentMonth:q,fixedWeekNumber:Z,dayOfWeekFormatter:Ae,displayWeekNumber:ie,components:H,componentsProps:R,slots:Q,slotProps:$,loading:V,renderLoading:G}))]})})]}))});function wne(){const{clubId:e,courtId:t}=fo(),n=rs(),[r,i]=b.useState(Zo()),[a,o]=b.useState(null),[l,A]=b.useState(null),[c,d]=b.useState(!0),[u,p]=b.useState("");b.useEffect(()=>{h()},[e,t]);const h=async()=>{if(!e||!t){p("Некорректные параметры"),d(!1);return}try{const y=await An(bt(Re,"courts",t));if(!y.exists()){p("Корт не найден"),d(!1);return}const x={id:y.id,...y.data()};if(x.venueId!==e){p("Корт не принадлежит указанному клубу"),d(!1);return}o(x);const C=await An(bt(Re,"venues",e));C.exists()&&A({id:C.id,...C.data()}),d(!1)}catch(y){console.error("Error loading data:",y),p("Ошибка при загрузке данных"),d(!1)}},m=()=>{r&&n(`/club/${e}/court/${t}/time?date=${en(r,"yyyy-MM-dd")}`)},g=y=>{const x=Zo();if(y<x)return!0;const C=ro(x,30);if(y>C)return!0;if(l!=null&&l.workingHours){const w=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][y.getDay()],_=l.workingHours[w];if(!_||!_.open&&!_.close)return!0}return!1};return c?s.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),s.jsx("p",{className:"body-small",children:"Загрузка..."})]}),s.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]}):u?s.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:s.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[s.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"❌"}),s.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Ошибка"}),s.jsx("p",{className:"body",style:{color:"var(--text-secondary)"},children:u})]})}):s.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[s.jsx("div",{style:{backgroundColor:"var(--white)",padding:"var(--spacing-md) var(--spacing-xl)",boxShadow:"var(--shadow-sm)",position:"sticky",top:0,zIndex:10},children:s.jsx("button",{onClick:()=>n(-1),style:{background:"none",border:"none",fontSize:"20px",cursor:"pointer",padding:"8px",marginLeft:"-8px",borderRadius:"50%",display:"inline-flex",alignItems:"center",justifyContent:"center",transition:"background 0.2s"},onMouseEnter:y=>y.currentTarget.style.background="var(--extra-light-gray)",onMouseLeave:y=>y.currentTarget.style.background="none",children:"←"})}),s.jsxs("div",{style:{padding:"var(--spacing-xl)"},children:[s.jsx("h1",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Выберите дату"}),a&&l&&s.jsxs("p",{className:"body-small",style:{marginBottom:"var(--spacing-xl)"},children:[l.name," • ",a.name]}),s.jsx("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)"},children:s.jsx(yee,{dateAdapter:mee,adapterLocale:oi,children:s.jsx(bne,{value:r,onChange:y=>i(y),shouldDisableDate:g,disablePast:!0,sx:{width:"100%",".MuiDayCalendar-weekContainer":{justifyContent:"space-around"},".MuiPickersDay-root":{fontSize:"var(--text-body)","&:hover":{backgroundColor:"var(--primary-light)"},"&.Mui-selected":{backgroundColor:"var(--primary)","&:hover":{backgroundColor:"var(--primary-dark)"}}},".MuiPickersCalendarHeader-label":{fontSize:"var(--text-body)",fontWeight:600},".MuiPickersArrowSwitcher-button":{color:"var(--primary)"}}})})}),r&&s.jsxs("div",{className:"info-section",style:{marginBottom:"var(--spacing-xl)"},children:[s.jsx("p",{className:"body-small",style:{marginBottom:"var(--spacing-xs)"},children:"Выбранная дата:"}),s.jsx("h3",{className:"h3",children:en(r,"d MMMM yyyy",{locale:oi})})]}),s.jsx("div",{style:{backgroundColor:"var(--info)",color:"white",padding:"var(--spacing-md)",borderRadius:"var(--radius-md)",marginBottom:"calc(80px + var(--spacing-xl))"},children:s.jsx("p",{className:"caption",style:{color:"white"},children:"ℹ️ Бронирование доступно на 30 дней вперед. Серым цветом отмечены дни, когда клуб не работает."})})]}),s.jsx("div",{className:"sticky-bottom-bar",children:s.jsx("button",{className:"flutter-button",style:{width:"100%"},onClick:m,disabled:!r,children:"Выбрать время →"})})]})}function Cne(){var D,K;const{clubId:e,courtId:t}=fo(),n=rs(),[r]=qc(),i=r.get("date"),a=i?cr(i,"yyyy-MM-dd",new Date):new Date,[o,l]=b.useState(null),[A,c]=b.useState(null),[d,u]=b.useState([]),[p,h]=b.useState(null),[m,g]=b.useState(60),[y,x]=b.useState([60,90,120]),[C,S]=b.useState(!0),[w,_]=b.useState(""),[E,T]=b.useState([]),[F,M]=b.useState([]),[P,I]=b.useState(0);b.useEffect(()=>{j()},[]),b.useEffect(()=>{U()},[e,t,P]),b.useEffect(()=>{A&&o&&N()},[A,o,d,m,P]);const j=()=>{const q=[],Z=["Вс","Пн","Вт","Ср","Чт","Пт","Сб"];let Ae=-1;for(let H=0;H<7;H++){const R=ro(Zo(),H);q.push({date:R,day:Z[R.getDay()],dayNumber:en(R,"d")}),en(R,"yyyy-MM-dd")===i&&(Ae=H)}M(q),I(Ae>=0?Ae:0)},U=async()=>{var q;if(!e||!t){_("Некорректные параметры"),S(!1);return}try{const Z=await An(bt(Re,"courts",t));if(!Z.exists()){_("Корт не найден"),S(!1);return}const Ae={id:Z.id,...Z.data()};l(Ae);const H=await An(bt(Re,"venues",e));if(H.exists()){const re={id:H.id,...H.data()};if(c(re),re.bookingDurations){const ge=[60,90,120].filter(le=>re.bookingDurations[le]!==!1);x(ge),ge.includes(m)||g(ge[0]||60)}}const R=((q=F[P])==null?void 0:q.date)||a,Q=en(R,"yyyy-MM-dd"),$=new Date(Date.UTC(R.getFullYear(),R.getMonth(),R.getDate(),0,0,0)),V=new Date(Date.UTC(R.getFullYear(),R.getMonth(),R.getDate(),23,59,59)),G=Vt(Et(Re,"bookings"),pt("courtId","==",t),pt("date",">=",Qt.fromDate($)),pt("date","<=",Qt.fromDate(V))),xe=(await $t(G)).docs.map(re=>({id:re.id,...re.data()})).filter(re=>{const ge=re.status||"pending",le=re.paymentStatus||"awaiting_payment";return ge!=="cancelled"&&le!=="cancelled"&&le!=="refunded"&&le!=="error"&&(ge==="confirmed"||ge==="pending"||le==="paid"||le==="awaiting_payment")});u(xe),S(!1)}catch(Z){console.error("Error loading data:",Z),_("Ошибка при загрузке данных"),S(!1)}},N=()=>{var re;if(!(A!=null&&A.workingHours)||!o)return;const q=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],Z=((re=F[P])==null?void 0:re.date)||a,Ae=q[Z.getDay()],H=A.workingHours[Ae];if(!H)return;let R="08:00",Q="22:00";if(typeof H=="string"&&H.includes("-")){const[ge,le]=H.split("-").map(be=>be.trim());R=ge||"08:00",Q=le||"22:00"}else H.open&&H.close&&(R=H.open,Q=H.close);const $=[],V=cr(R,"HH:mm",Z),G=cr(Q,"HH:mm",Z),ie=A.bookingSlotInterval||60;let ne=V;const xe=new Date;for(ie===60&&ne.getMinutes()!==0&&(ne.getMinutes()<30?ne=new Date(ne.setMinutes(0)):ne=ai(new Date(ne.setMinutes(0)),60));sr(ne,G);){const ge=en(ne,"HH:mm"),le=ai(ne,m);let be=!0;if(Ik(Z)&&sr(ne,xe)&&(be=!1),Rr(le,G)&&(be=!1),be)for(const He of d){const we=cr(He.startTime,"HH:mm",Z),me=cr(He.endTime,"HH:mm",Z);if(Rr(ne,we)&&sr(ne,me)||Rr(le,we)&&sr(le,me)||sr(ne,we)&&Rr(le,me)||en(ne,"HH:mm")===He.startTime){be=!1;break}}const ae=Vc(a||new Date,ge,m,o.pricing,o.holidayPricing,o.priceWeekday,o.priceWeekend||o.pricePerHour);$.push({time:ge,available:be,price:Math.round(ae)}),ne=ai(ne,ie)}T($)},z=()=>{var Ae;if(!p)return;const q=((Ae=F[P])==null?void 0:Ae.date)||a,Z=en(q,"yyyy-MM-dd");n(`/club/${e}/court/${t}/game-type?date=${Z}&time=${p}&duration=${m}`)},L=q=>{I(q),h(null)};return C?s.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),s.jsx("p",{className:"body-small",children:"Загрузка..."})]}),s.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]}):w?s.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:s.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[s.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"❌"}),s.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Ошибка"}),s.jsx("p",{className:"body",style:{color:"var(--text-secondary)"},children:w})]})}):s.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[s.jsx("div",{style:{backgroundColor:"var(--white)",padding:"var(--spacing-md) var(--spacing-xl)",boxShadow:"var(--shadow-sm)"},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-md)"},children:[s.jsx("button",{onClick:()=>n(-1),style:{width:"40px",height:"40px",background:"var(--divider)",border:"none",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"},children:"←"}),s.jsxs("div",{children:[s.jsx("h1",{className:"h3",style:{marginBottom:"4px"},children:"Выберите время"}),o&&A&&s.jsxs("p",{className:"caption",children:[A.name," • ",o.name]})]})]})}),s.jsx("div",{style:{height:"90px",padding:"var(--spacing-md) 0",backgroundColor:"var(--white)",borderBottom:"1px solid var(--divider)"},children:s.jsx("div",{style:{display:"flex",gap:"var(--spacing-sm)",padding:"0 var(--spacing-xl)",overflowX:"auto",WebkitOverflowScrolling:"touch"},children:F.map((q,Z)=>{const Ae=P===Z;return s.jsxs("button",{onClick:()=>L(Z),style:{minWidth:"60px",height:"60px",backgroundColor:Ae?"var(--primary)":"var(--white)",color:Ae?"white":"var(--dark)",border:`2px solid ${Ae?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},children:[s.jsx("span",{className:"caption-bold",children:q.day}),s.jsx("span",{className:"body-bold",children:q.dayNumber})]},Z)})})}),s.jsxs("div",{style:{padding:"var(--spacing-xl) var(--spacing-xl) 0"},children:[s.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Длительность игры"}),s.jsx("div",{style:{display:"flex",gap:"var(--spacing-sm)"},children:[60,90,120].map(q=>{const Z=y.includes(q);return s.jsx("button",{onClick:()=>{Z&&(g(q),h(null))},disabled:!Z,style:{flex:1,padding:"var(--spacing-sm)",backgroundColor:m===q?"var(--primary)":Z?"var(--white)":"var(--extra-light-gray)",color:m===q?"white":Z?"var(--dark)":"var(--gray)",border:`2px solid ${m===q?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",cursor:Z?"pointer":"not-allowed",fontWeight:600,fontSize:"var(--text-body)",transition:"all 0.2s",opacity:Z?1:.5},children:q===60?"1 час":q===90?"1.5 часа":"2 часа"},q)})})]}),s.jsxs("div",{style:{padding:"var(--spacing-xl)"},children:[s.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Свободное время"}),E.length===0?s.jsx("div",{className:"flutter-card",style:{textAlign:"center",padding:"var(--spacing-2xl)"},children:s.jsx("p",{className:"body",style:{color:"var(--gray)"},children:"Нет доступных слотов на выбранную дату"})}):s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"10px",marginBottom:"calc(120px + var(--spacing-xl))"},children:E.map(q=>{const Z=p===q.time;return s.jsxs("button",{onClick:()=>q.available&&h(q.time),disabled:!q.available,style:{padding:"var(--spacing-sm) var(--spacing-xs)",backgroundColor:q.available?Z?"var(--primary)":"var(--primary-light)":"var(--busy)",color:q.available?Z?"white":"var(--dark)":"var(--busy-text)",border:`2px solid ${q.available?Z?"var(--primary)":"var(--available)":"var(--busy)"}`,borderRadius:"var(--radius-sm)",cursor:q.available?"pointer":"not-allowed",opacity:1,transition:"all 0.2s",display:"flex",flexDirection:"column",alignItems:"center",gap:"2px",height:"60px",justifyContent:"center"},children:[s.jsx("span",{className:"body-bold",children:q.time}),q.available?s.jsx("span",{className:"caption",style:{color:Z?"white":"var(--primary-dark)",fontSize:"var(--text-caption)"},children:Z?"Выбрано":`${q.price}₽`}):s.jsx("span",{className:"caption",style:{color:"var(--busy-text)"},children:"Занято"})]},q.time)})})]}),s.jsxs("div",{style:{padding:"0 var(--spacing-xl) var(--spacing-xl)",display:"flex",gap:"var(--spacing-lg)",flexWrap:"wrap"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[s.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--white)",border:"2px solid var(--extra-light-gray)",borderRadius:"4px"}}),s.jsx("span",{className:"caption",children:"Свободно"})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[s.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--busy)",borderRadius:"4px"}}),s.jsx("span",{className:"caption",children:"Занято"})]})]}),s.jsxs("div",{className:"sticky-bottom-bar",style:{padding:"var(--spacing-xl)",borderRadius:"var(--radius-lg) var(--radius-lg) 0 0"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--spacing-sm)"},children:[s.jsx("span",{className:"body-small",style:{color:"var(--gray)"},children:p&&F[P]&&`${en(F[P].date,"d MMMM",{locale:oi})}, ${p}-${en(ai(cr(p,"HH:mm",new Date),m),"HH:mm")}`}),p&&((D=E.find(q=>q.time===p))==null?void 0:D.available)&&s.jsxs("span",{className:"h2",children:[(K=E.find(q=>q.time===p))==null?void 0:K.price," ₽"]})]}),s.jsx("button",{className:"flutter-button",style:{width:"100%"},onClick:z,disabled:!p,children:"Далее"})]})]})}function Bne(){const{clubId:e,courtId:t}=fo(),n=rs(),[r]=qc(),i=r.get("date"),a=r.get("time"),o=r.get("duration"),l=r.get("trainer"),[A,c]=b.useState("open"),[d,u]=b.useState(!1),[p,h]=b.useState(null),[m,g]=b.useState(!0);b.useEffect(()=>{y()},[t]);const y=async()=>{if(t)try{const M=await An(bt(Re,"venues",e,"courts",t));M.exists()&&h({id:M.id,...M.data()})}catch(M){console.error("Error loading court:",M)}finally{g(!1)}},[x,C]=b.useState({name:"",phone:"+7",email:"",comment:""}),[S,w]=b.useState({}),[_,E]=b.useState(!1),T=[{id:"private",title:"Приватная игра",subtitle:"Только для вас и ваших друзей",icon:"🔒",iconColor:"var(--primary)",tags:["Только для вас","Без посторонних"],available:!0},{id:"open",title:"Открытая игра",subtitle:"Найдите партнёров для игры",icon:"👥",iconColor:"var(--success)",tags:["Найти партнёров","Разделить оплату"],available:!1},{id:"find",title:"Найти игру",subtitle:"Присоединитесь к существующей игре",icon:"🔍",iconColor:"var(--gray)",tags:["12 открытых игр"],available:!1}],F=M=>{if(M.available){const P=i?cr(i,"yyyy-MM-dd",new Date):new Date,I=p?Math.round(Vc(P,a||"09:00",parseInt(o||"60"),p.pricing,p.holidayPricing,p.priceWeekday,p.priceWeekend||p.pricePerHour)):0,j=new URLSearchParams({date:i||"",time:a||"",duration:o||"60",gameType:M.id,playersCount:(M.playersCount||1).toString(),price:I.toString(),pricePerPlayer:(M.pricePerPlayer||I).toString()});l&&j.append("trainer",l),n(`/club/${e}/court/${t}/payment?${j.toString()}`)}else if(window.confirm(`Функция "${M.title}" доступна только в мобильном приложении "Все корты".

Перейти в приложение?`)){let I=`allcourts://club/${e}/court/${t}?date=${i}&time=${a}&duration=${o}`;l&&(I+=`&trainer=${l}`),window.location.href=I}};return s.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[s.jsx("div",{style:{backgroundColor:"var(--white)",padding:"var(--spacing-md) var(--spacing-xl)",boxShadow:"var(--shadow-sm)"},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-md)"},children:[s.jsx("button",{onClick:()=>n(-1),style:{width:"40px",height:"40px",background:"var(--divider)",border:"none",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"},children:"←"}),s.jsx("div",{children:s.jsx("h1",{className:"h3",children:"Выберите формат игры"})})]})}),s.jsxs("div",{style:{padding:"var(--spacing-xl)"},children:[T.map(M=>s.jsxs("div",{onClick:()=>F(M),style:{backgroundColor:"var(--white)",borderRadius:"var(--radius-md)",padding:"var(--spacing-lg)",marginBottom:"var(--spacing-md)",cursor:"pointer",transition:"all 0.2s",border:`2px solid ${A===M.id&&M.available?"var(--primary)":"transparent"}`,boxShadow:A===M.id&&M.available?"0 2px 10px rgba(0, 211, 50, 0.1)":"none",opacity:M.available?1:.7,position:"relative"},onMouseEnter:P=>{M.available&&(P.currentTarget.style.transform="translateY(-2px)",P.currentTarget.style.boxShadow="var(--shadow-md)")},onMouseLeave:P=>{P.currentTarget.style.transform="none",P.currentTarget.style.boxShadow="none"},children:[!M.available&&s.jsx("div",{style:{position:"absolute",top:"var(--spacing-sm)",right:"var(--spacing-sm)",backgroundColor:"var(--secondary)",color:"white",padding:"4px 8px",borderRadius:"var(--radius-sm)",fontSize:"var(--text-tiny)",fontWeight:600},children:"В приложении"}),s.jsxs("div",{style:{display:"flex",gap:"var(--spacing-md)"},children:[s.jsx("div",{style:{width:"40px",height:"40px",backgroundColor:A===M.id&&M.available?"var(--primary)":"var(--divider)",borderRadius:"var(--radius-sm)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",flexShrink:0},children:s.jsx("span",{style:{filter:A===M.id&&M.available?"brightness(0) invert(1)":"none"},children:M.icon})}),s.jsxs("div",{style:{flex:1},children:[s.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-xxs)"},children:M.title}),s.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-sm)"},children:M.subtitle}),s.jsx("div",{style:{display:"flex",gap:"var(--spacing-xs)",flexWrap:"wrap"},children:M.tags.map((P,I)=>s.jsx("span",{style:{padding:"4px 16px",backgroundColor:A===M.id&&M.available?"var(--primary-light)":"var(--divider)",color:A===M.id&&M.available?"var(--primary-dark)":"var(--gray)",borderRadius:"var(--radius-xl)",fontSize:"var(--text-caption)",fontWeight:600},children:P},I))})]})]})]},M.id)),s.jsx("div",{style:{backgroundColor:"var(--warning)",color:"white",padding:"var(--spacing-md)",borderRadius:"var(--radius-md)",marginTop:"var(--spacing-xl)"},children:s.jsx("p",{className:"caption",style:{color:"white"},children:'⚠️ В веб-версии доступна только "Открытая игра". Для доступа ко всем типам игр скачайте мобильное приложение "Все корты".'})})]})]})}function Sne(){const{clubId:e,courtId:t}=fo(),n=rs(),[r]=qc(),i=r.get("date")||"",a=r.get("time")||"",o=parseInt(r.get("duration")||"60"),l=r.get("gameType")||"simple",A=parseInt(r.get("playersCount")||"1"),c=parseInt(r.get("price")||"0"),d=parseInt(r.get("pricePerPlayer")||"0"),u=r.get("customerName")||"",p=r.get("customerPhone")||"",h=r.get("customerEmail")||"",[m,g]=b.useState(null),[y,x]=b.useState(null),[C,S]=b.useState(!0),[w,_]=b.useState(!1),[E,T]=b.useState(""),[F,M]=b.useState(!1),[P,I]=b.useState(u),[j,U]=b.useState(p),[N,z]=b.useState(h),[L,D]=b.useState(window.innerWidth<=768);b.useEffect(()=>{const $=()=>D(window.innerWidth<=768);return window.addEventListener("resize",$),()=>window.removeEventListener("resize",$)},[]),b.useEffect(()=>{K()},[e,t]),b.useEffect(()=>{!C&&m&&y&&u&&p&&!w&&!F&&(M(!0),setTimeout(()=>{Q()},500))},[C,m,y,u,p,w,F]);const K=async()=>{if(!e||!t){T("Некорректные параметры"),S(!1);return}try{const $=await An(bt(Re,"venues",e,"courts",t));if(!$.exists()){T("Корт не найден"),S(!1);return}const V={id:$.id,...$.data(),venueId:e};g(V);const G=await An(bt(Re,"venues",e));if(G.exists()){const ie={id:G.id,...G.data()};x(ie)}S(!1)}catch($){console.error("Error loading data:",$),T("Ошибка при загрузке данных"),S(!1)}},q=$=>{const V=cr($,"yyyy-MM-dd",new Date);return en(V,"d MMMM",{locale:oi})},Z=($,V)=>{const[G,ie]=$.split(":").map(Number),ne=G*60+ie+V,xe=Math.floor(ne/60),re=ne%60;return`${xe.toString().padStart(2,"0")}:${re.toString().padStart(2,"0")}`},Ae=$=>{const V=$.replace(/\D/g,"");return V.length<=1?V:V.length<=4?`+7 (${V.slice(1)})`:V.length<=7?`+7 (${V.slice(1,4)}) ${V.slice(4)}`:V.length<=9?`+7 (${V.slice(1,4)}) ${V.slice(4,7)}-${V.slice(7)}`:`+7 (${V.slice(1,4)}) ${V.slice(4,7)}-${V.slice(7,9)}-${V.slice(9,11)}`},H=$=>{const V=Ae($.target.value);U(V)},R=()=>P.trim()?!j||j.replace(/\D/g,"").length<11?(alert("Пожалуйста, введите корректный номер телефона"),!1):N&&!N.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)?(alert("Пожалуйста, введите корректный email"),!1):!0:(alert("Пожалуйста, введите ваше имя"),!1),Q=async()=>{if(!(!R()||!m||!y)){_(!0);try{const $=new Date(i+"T00:00:00"),V=new Date(Date.UTC($.getFullYear(),$.getMonth(),$.getDate(),0,0,0)),G=new Date(Date.UTC($.getFullYear(),$.getMonth(),$.getDate(),23,59,59)),ie=Vt(Et(Re,"bookings"),pt("courtId","==",t),pt("date",">=",Qt.fromDate(V)),pt("date","<=",Qt.fromDate(G))),xe=(await $t(ie)).docs.map(He=>({id:He.id,...He.data()})).filter(He=>{const we=He.status||"pending",me=He.paymentStatus||"awaiting_payment";return we!=="cancelled"&&me!=="cancelled"&&me!=="refunded"&&me!=="error"&&(we==="confirmed"||we==="pending"||me==="paid"||me==="awaiting_payment")}),re=cr(a,"HH:mm",new Date),ge=ai(re,o);for(const He of xe){const we=cr(He.startTime,"HH:mm",new Date),me=cr(He.endTime,"HH:mm",new Date);if(Rr(re,we)&&sr(re,me)||Rr(ge,we)&&sr(ge,me)||sr(re,we)&&Rr(ge,me)||en(re,"HH:mm")===He.startTime){_(!1),alert("К сожалению, выбранное время уже занято. Пожалуйста, выберите другое время."),n(`/club/${e}/court/${t}/time?date=${i}`);return}}try{await ts(tl,"validateBookingRequest")({phoneNumber:j,venueId:e,source:"web"})}catch(He){_(!1),alert(He.message||"Не удалось создать бронирование. Попробуйте позже.");return}const le=new Date(i+"T00:00:00"),be=Qt.fromDate(le),ue={courtId:t,courtName:m.name,venueId:e,venueName:y.name,date:be,startTime:a,endTime:Z(a,o),duration:o,gameType:l,playersCount:l==="open"||l==="open_join"?A:1,totalPrice:c,pricePerPlayer:l==="open"||l==="open_join"?d:c,customerName:P,customerPhone:j,customerEmail:N||null,status:"pending",paymentStatus:"awaiting_payment",paymentMethod:"online",paymentHistory:[{timestamp:Qt.now(),action:"created",userId:"web-booking",userName:P||"Клиент",note:"Бронирование создано через веб-сайт"}],createdAt:Qt.now(),updatedAt:Qt.now()},ae=await wa(Et(Re,"bookings"),ue);if(y.paymentEnabled&&y.paymentProvider)try{const me=(await ts(tl,"initBookingPayment")({bookingId:ae.id,amount:c,description:`Бронирование ${m.name} на ${q(i)} ${a}`,returnUrl:`${window.location.origin}/club/${e}/booking-confirmation/${ae.id}`,userId:"",customerEmail:N||void 0,customerPhone:j})).data;if(console.log("Payment initialization result:",me),me.success&&me.paymentUrl)console.log("Updating booking with payment info:",{bookingId:ae.id,paymentId:me.paymentId,paymentUrl:me.paymentUrl,paymentProvider:y.paymentProvider}),await yn(ae,{paymentId:me.paymentId,paymentUrl:me.paymentUrl,paymentProvider:y.paymentProvider}),console.log("Booking updated successfully, redirecting to payment page"),window.location.href=me.paymentUrl;else throw new Error(me.error||"Ошибка инициализации платежа")}catch(He){console.error("Payment initialization error:",He),await yn(ae,{paymentStatus:"error",paymentError:He.message}),alert("Ошибка при создании платежа. Пожалуйста, свяжитесь с администратором клуба."),n(`/club/${e}/booking-confirmation/${ae.id}?paymentError=true`)}else await yn(ae,{status:"confirmed",paymentStatus:"not_required"}),n(`/club/${e}/booking-confirmation/${ae.id}`)}catch($){console.error("Error creating booking:",$),alert("Ошибка при создании бронирования. Попробуйте еще раз.")}finally{_(!1)}}};return C||u&&p&&w?s.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),s.jsx("p",{className:"body-small",children:w?"Создание бронирования...":"Загрузка..."})]}),s.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]}):E?s.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:s.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[s.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"❌"}),s.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Ошибка"}),s.jsx("p",{className:"body",style:{color:"var(--text-secondary)"},children:E})]})}):s.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[s.jsx("div",{style:{backgroundColor:"var(--white)",padding:"var(--spacing-md) var(--spacing-xl)",boxShadow:"var(--shadow-sm)",position:"sticky",top:0,zIndex:10},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-md)"},children:[s.jsx("button",{onClick:()=>n(-1),style:{width:"40px",height:"40px",background:"var(--divider)",border:"none",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"},children:"←"}),s.jsx("div",{children:s.jsx("h1",{className:"h3",children:"Оплата бронирования"})})]})}),s.jsxs("div",{style:{padding:L?"var(--spacing-md)":"var(--spacing-xl)",paddingBottom:"calc(100px + var(--spacing-xl))",maxWidth:"800px",margin:"0 auto"},children:[s.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-md)"},children:[s.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Детали бронирования"}),s.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"var(--spacing-sm)"},children:s.jsxs("div",{children:[s.jsx("p",{className:"body",children:y==null?void 0:y.name}),s.jsx("p",{className:"body-small",style:{color:"var(--gray)"},children:m==null?void 0:m.name})]})}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"var(--spacing-sm)"},children:[s.jsxs("div",{children:[s.jsx("p",{className:"body",children:q(i)}),s.jsxs("p",{className:"body-small",style:{color:"var(--gray)"},children:[a,"-",Z(a,o)]})]}),s.jsxs("div",{style:{textAlign:"right"},children:[s.jsx("p",{className:"h3",style:{color:"var(--primary)"},children:(l==="open"||l==="open_join")&&A>1?`${d} ₽/чел`:`${c} ₽`}),(l==="open"||l==="open_join")&&A>1&&s.jsxs("p",{className:"caption",style:{color:"var(--gray)"},children:["Всего: ",c," ₽"]})]})]}),(l==="open"||l==="open_join")&&s.jsxs("div",{style:{marginTop:"var(--spacing-sm)",padding:"var(--spacing-sm)",backgroundColor:"var(--chip-background)",borderRadius:"var(--radius-sm)",display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[s.jsx("span",{style:{fontSize:"16px"},children:"👥"}),s.jsx("span",{className:"caption",style:{color:"var(--primary-dark)"},children:l==="open_join"?"Присоединение к открытой игре":`Открытая игра • ${A} игрока`})]})]}),s.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-md)"},children:[s.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Контактные данные"}),s.jsx("div",{style:{marginBottom:"var(--spacing-md)"},children:s.jsx("input",{type:"text",value:P,onChange:$=>I($.target.value),placeholder:"Ваше имя",style:{width:"100%",padding:"var(--spacing-md)",backgroundColor:"var(--background)",border:"none",borderRadius:"var(--radius-md)",fontSize:"var(--text-body)",outline:"none"}})}),s.jsx("div",{style:{marginBottom:"var(--spacing-md)"},children:s.jsx("input",{type:"tel",value:j,onChange:H,placeholder:"Номер телефона",style:{width:"100%",padding:"var(--spacing-md)",backgroundColor:"var(--background)",border:"none",borderRadius:"var(--radius-md)",fontSize:"var(--text-body)",outline:"none"}})}),s.jsx("div",{children:s.jsx("input",{type:"email",value:N,onChange:$=>z($.target.value),placeholder:"Email (необязательно)",style:{width:"100%",padding:"var(--spacing-md)",backgroundColor:"var(--background)",border:"none",borderRadius:"var(--radius-md)",fontSize:"var(--text-body)",outline:"none"}})})]}),s.jsxs("div",{style:{padding:"var(--spacing-md)",backgroundColor:y!=null&&y.paymentEnabled?"rgba(255, 152, 0, 0.08)":"var(--chip-background)",borderRadius:"var(--radius-md)",border:y!=null&&y.paymentEnabled?"1px solid rgba(255, 152, 0, 0.3)":"1px solid var(--primary-light)",display:"flex",gap:"var(--spacing-sm)",alignItems:"flex-start"},children:[s.jsx("span",{style:{fontSize:"20px",color:y!=null&&y.paymentEnabled?"#ff9800":"var(--primary)"},children:y!=null&&y.paymentEnabled?"⏱️":"ℹ️"}),s.jsxs("div",{style:{flex:1},children:[s.jsx("p",{className:"caption",style:{color:y!=null&&y.paymentEnabled?"#e65100":"var(--primary-dark)",fontWeight:y!=null&&y.paymentEnabled?"500":"400",marginBottom:y!=null&&y.paymentEnabled?"8px":"0"},children:y!=null&&y.paymentEnabled?"Бронирование будет подтверждено только после успешной оплаты. Возврат по бронированию осуществляется не позже 12 часов до игры в мобильном приложении":"Оплата производится на месте при посещении клуба"}),(y==null?void 0:y.paymentEnabled)&&s.jsx("p",{className:"caption",style:{color:"#e65100",fontWeight:"600",fontSize:"14px"},children:"⚠️ На оплату дается 10 минут. После этого бронирование будет автоматически отменено."})]})]})]}),s.jsx("div",{className:"sticky-bottom-bar",style:{padding:"var(--spacing-xl)",borderRadius:"var(--radius-lg) var(--radius-lg) 0 0"},children:s.jsx("button",{className:"flutter-button",style:{width:"100%"},onClick:Q,disabled:w,children:w?"Создание бронирования...":y!=null&&y.paymentEnabled?"Перейти к оплате":"Забронировать"})})]})}function jne(){const{clubId:e,bookingId:t}=fo(),n=rs(),[r]=qc(),[i,a]=b.useState(null),[o,l]=b.useState(null),[A,c]=b.useState(null),[d,u]=b.useState(!0),[p,h]=b.useState(""),[m,g]=b.useState(null),y=r.get("paymentError")==="true",x=r.get("processing")==="true";b.useEffect(()=>{console.log("BookingConfirmationPage loaded with params:",{bookingId:t,clubId:e,searchParams:Array.from(r.entries())}),C()},[t]),b.useEffect(()=>{if(i&&i.paymentStatus==="awaiting_payment"&&i.createdAt){const w=()=>{const E=i.createdAt.toDate?i.createdAt.toDate():new Date(i.createdAt),F=Math.floor((new Date().getTime()-E.getTime())/1e3),M=Math.max(0,15*60-F);return M===0&&window.location.reload(),M};g(w());const _=setInterval(()=>{g(w())},1e3);return()=>clearInterval(_)}},[i]),b.useEffect(()=>{if(x&&i&&i.paymentStatus!=="paid"){const w=setInterval(async()=>{try{const _=await An(bt(Re,"bookings",t));_.exists()&&_.data().paymentStatus==="paid"&&window.location.reload()}catch(_){console.error("Error checking payment status:",_)}},3e3);return()=>clearInterval(w)}},[x,i,t]);const C=async()=>{var w;if(!t){h("ID бронирования не указан"),u(!1);return}try{const _=await An(bt(Re,"bookings",t));if(!_.exists()){h("cancelled"),u(!1);return}const E={id:_.id,..._.data()};if(console.log("Booking data loaded:",{id:E.id,paymentStatus:E.paymentStatus,paymentUrl:E.paymentUrl,paymentMethod:E.paymentMethod,status:E.status}),E.paymentStatus!=="paid")if(E.status==="cancelled"||E.paymentStatus==="cancelled"||E.paymentStatus==="expired"){h("cancelled"),u(!1);return}else!E.paymentStatus&&E.status==="pending"&&(E.paymentStatus="awaiting_payment");a(E);const T=await An(bt(Re,"venues",E.venueId));T.exists()&&l(T.data());const F=await An(bt(Re,"venues",E.venueId,"courts",E.courtId));F.exists()&&c(F.data()),u(!1)}catch(_){console.error("Error loading booking:",_),(_==null?void 0:_.code)==="permission-denied"||(_==null?void 0:_.code)==="not-found"||(w=_==null?void 0:_.message)!=null&&w.includes("Missing or insufficient permissions")?h("not-found"):h("Ошибка при загрузке данных бронирования"),u(!1)}};if(d)return s.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),s.jsx("p",{className:"body-small",children:"Загрузка..."})]}),s.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]});if(x&&!i)return s.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:s.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[s.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"⏳"}),s.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Обработка платежа"}),s.jsx("p",{className:"body",style:{color:"var(--text-secondary)",marginBottom:"var(--spacing-xl)"},children:"Ваш платеж обрабатывается. Пожалуйста, подождите несколько секунд..."}),s.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto"}})]})});if(p)return p==="not-found"?s.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:s.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[s.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"🔍"}),s.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-md)"},children:"Бронирование не найдено"}),s.jsx("p",{className:"body",style:{color:"var(--text-secondary)",marginBottom:"var(--spacing-xl)",lineHeight:"1.6"},children:"Бронирование с таким ID не существует или было удалено."}),s.jsx("button",{className:"flutter-button",style:{width:"100%"},onClick:()=>n("/"),children:"На главную"})]})}):p==="cancelled"?s.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:s.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[s.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"❌"}),s.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-md)"},children:"Бронирование отменено"}),s.jsx("p",{className:"body",style:{color:"var(--text-secondary)",marginBottom:"var(--spacing-lg)",lineHeight:"1.6"},children:"Данное бронирование было отменено. Возможные причины:"}),s.jsxs("ul",{style:{textAlign:"left",marginBottom:"var(--spacing-xl)",paddingLeft:"var(--spacing-xl)",color:"var(--text-secondary)",lineHeight:"1.8"},children:[s.jsx("li",{children:"Истекло время оплаты (15 минут)"}),s.jsx("li",{children:"Бронирование было отменено администратором"}),s.jsx("li",{children:"Вы отменили бронирование в приложении"})]}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-md)",marginTop:"var(--spacing-xl)"},children:[s.jsx("button",{className:"flutter-button",style:{width:"100%"},onClick:()=>n(`/club/${e}`),children:"Вернуться к клубу"}),s.jsx("button",{className:"flutter-button-outlined",style:{width:"100%",backgroundColor:"transparent",color:"var(--primary)",border:"2px solid var(--primary)"},onClick:()=>n("/"),children:"На главную"})]}),s.jsxs("div",{style:{marginTop:"var(--spacing-2xl)",padding:"var(--spacing-lg)",backgroundColor:"var(--background)",borderRadius:"var(--radius-md)",textAlign:"center"},children:[s.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-sm)"},children:"Или позвоните в клуб для бронирования по телефону"}),s.jsx("p",{className:"body-bold",style:{color:"var(--primary)"},children:"📞 Контакты клуба доступны на странице клуба"})]})]})}):s.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:s.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[s.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"❌"}),s.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Ошибка"}),s.jsx("p",{className:"body",style:{color:"var(--text-secondary)"},children:p}),s.jsx("button",{className:"flutter-button",style:{width:"100%",marginTop:"var(--spacing-xl)"},onClick:()=>n("/"),children:"На главную"})]})});if(!i||!o||!A)return null;const S=i.date.toDate?i.date.toDate():new Date(i.date);return s.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[s.jsxs("div",{style:{backgroundColor:i.paymentStatus==="awaiting_payment"?"var(--warning)":y?"var(--error)":"var(--success)",padding:"var(--spacing-3xl) var(--spacing-xl)",textAlign:"center",color:"white"},children:[s.jsx("div",{style:{width:"80px",height:"80px",backgroundColor:"white",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto var(--spacing-lg)",fontSize:"40px"},children:i.paymentStatus==="awaiting_payment"?"⏰":y?"❌":"✅"}),s.jsx("h1",{className:"h2",style:{color:"white",marginBottom:"var(--spacing-sm)"},children:i.paymentStatus==="paid"||i.status==="confirmed"?"Бронирование подтверждено!":i.paymentStatus==="awaiting_payment"?"Требуется оплата!":y?"Ошибка оплаты":"Заявка отправлена!"}),s.jsx("p",{className:"body",style:{color:"white",opacity:.9},children:i.paymentStatus==="paid"||i.status==="confirmed"?"Ваше бронирование успешно оплачено и подтверждено":i.paymentStatus==="awaiting_payment"?"Бронирование будет автоматически отменено, если не будет оплачено в течение 15 минут":y?"Произошла ошибка при оплате. Пожалуйста, свяжитесь с администратором":"Ваша заявка на бронирование успешно отправлена"}),i.paymentStatus==="awaiting_payment"&&m!==null&&s.jsxs("div",{style:{fontSize:"32px",fontWeight:"bold",color:"white",marginTop:"var(--spacing-lg)",padding:"var(--spacing-md)",backgroundColor:"rgba(0,0,0,0.2)",borderRadius:"var(--radius-md)",display:"inline-block"},children:["⏳ Осталось: ",Math.floor(m/60),":",String(m%60).padStart(2,"0")]})]}),s.jsxs("div",{style:{padding:"var(--spacing-xl)"},children:[console.log("Button display check:",{paymentStatus:i.paymentStatus,hasPaymentUrl:!!i.paymentUrl,paymentUrl:i.paymentUrl,shouldShowButton:i.paymentStatus==="awaiting_payment"&&i.paymentUrl}),i.paymentStatus==="awaiting_payment"&&i.paymentUrl&&s.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)",backgroundColor:"#FFF3CD",border:"3px solid var(--warning)",boxShadow:"0 4px 20px rgba(255, 193, 7, 0.3)"},children:[s.jsx("h3",{className:"h3",style:{marginBottom:"var(--spacing-md)",color:"#856404",fontSize:"20px",textAlign:"center"},children:"⚠️ Завершите оплату, чтобы подтвердить бронирование"}),s.jsx("p",{className:"body",style:{marginBottom:"var(--spacing-lg)",color:"#856404",textAlign:"center",fontSize:"16px"},children:"Без оплаты бронирование будет автоматически отменено"}),s.jsx("button",{className:"flutter-button",style:{width:"100%",backgroundColor:"var(--success)",fontSize:"18px",padding:"var(--spacing-lg) var(--spacing-xl)",fontWeight:"bold",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)",animation:"pulse 2s infinite"},onClick:()=>{i.paymentUrl&&(window.location.href=i.paymentUrl)},children:"💳 Оплатить сейчас"}),s.jsx("button",{className:"flutter-button-outlined",style:{width:"100%",marginTop:"var(--spacing-md)",backgroundColor:"transparent",color:"#856404",border:"2px solid #856404",fontSize:"16px",padding:"var(--spacing-md) var(--spacing-lg)"},onClick:async()=>{if(window.confirm("Вы уверены, что хотите отменить бронирование? Это действие нельзя отменить."))try{await yn(bt(Re,"bookings",t),{status:"cancelled",paymentStatus:"cancelled",cancelledAt:Qt.now(),cancelledBy:"customer",cancelReason:"Отменено клиентом на странице ожидания оплаты"}),alert("Бронирование успешно отменено"),window.location.reload()}catch(w){console.error("Error cancelling booking:",w),alert("Ошибка при отмене бронирования. Попробуйте еще раз.")}},children:"Отменить бронирование"}),s.jsx("style",{children:`
                @keyframes pulse {
                  0% { transform: scale(1); }
                  50% { transform: scale(1.02); }
                  100% { transform: scale(1); }
                }
              `})]}),i.paymentStatus!=="awaiting_payment"&&s.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)"},children:[s.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Что дальше?"}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-md)"},children:[s.jsxs("div",{style:{display:"flex",gap:"var(--spacing-md)"},children:[s.jsx("div",{style:{width:"32px",height:"32px",backgroundColor:"var(--primary-light)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,color:"var(--primary)"},children:"⚠️"}),s.jsxs("div",{children:[s.jsx("p",{className:"body-bold",style:{marginBottom:"var(--spacing-xxs)"},children:"Отмена бронирования"}),s.jsx("p",{className:"caption",children:"Отменить можно за 24 часа до игры через мобильное приложение или позвонив администратору в рабочее время"})]})]}),s.jsxs("div",{style:{display:"flex",gap:"var(--spacing-md)"},children:[s.jsx("div",{style:{width:"32px",height:"32px",backgroundColor:"#25D366",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,color:"white",fontSize:"18px"},children:"💬"}),s.jsxs("div",{children:[s.jsx("p",{className:"body-bold",style:{marginBottom:"var(--spacing-xxs)"},children:"Нужен тренер?"}),o&&o.phone&&s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-sm)"},children:"Напишите на WhatsApp"}),s.jsxs("a",{href:`https://wa.me/${o.phone.replace(/[^0-9]/g,"").replace(/^8/,"7")}`,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"8px 16px",backgroundColor:"#25D366",color:"white",borderRadius:"8px",textDecoration:"none",fontSize:"14px",fontWeight:"600",transition:"transform 0.2s"},onMouseEnter:w=>w.currentTarget.style.transform="scale(1.05)",onMouseLeave:w=>w.currentTarget.style.transform="scale(1)",children:[s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"white",children:s.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.149-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})}),s.jsx("span",{children:"WhatsApp"})]})]})]})]})]})]}),s.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)"},children:[s.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Детали бронирования"}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-md)"},children:[s.jsxs("div",{children:[s.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-xxs)"},children:"Клуб"}),s.jsx("p",{className:"body-bold",children:o.name}),s.jsx("p",{className:"caption",children:o.address})]}),s.jsx("div",{style:{height:"1px",backgroundColor:"var(--divider)",margin:"var(--spacing-xs) 0"}}),s.jsxs("div",{children:[s.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-xxs)"},children:"Корт"}),s.jsx("p",{className:"body-bold",children:A.name})]}),s.jsx("div",{style:{height:"1px",backgroundColor:"var(--divider)",margin:"var(--spacing-xs) 0"}}),s.jsxs("div",{style:{display:"flex",gap:"var(--spacing-xl)"},children:[s.jsxs("div",{style:{flex:1},children:[s.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-xxs)"},children:"Дата"}),s.jsx("p",{className:"body-bold",children:en(S,"d MMMM",{locale:oi})})]}),s.jsxs("div",{style:{flex:1},children:[s.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-xxs)"},children:"Время"}),s.jsxs("p",{className:"body-bold",children:[i.startTime," - ",i.endTime]})]})]})]})]}),s.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)"},children:[s.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Ваши контакты"}),s.jsx("p",{className:"body",style:{marginBottom:"var(--spacing-xs)"},children:i.customerName}),s.jsx("p",{className:"caption",children:i.customerPhone}),i.customerEmail&&s.jsx("p",{className:"caption",children:i.customerEmail})]}),s.jsx("button",{className:"flutter-button",style:{width:"100%",marginBottom:"var(--spacing-md)"},onClick:()=>n(`/club/${e}`),children:"Вернуться к клубу"}),s.jsx("button",{className:"flutter-button-outlined",style:{width:"100%",backgroundColor:"transparent",color:"var(--primary)",border:"2px solid var(--primary)"},onClick:()=>{window.location.href=`allcourts://booking/${t}`},children:"Открыть в приложении 📱"}),s.jsxs("div",{style:{textAlign:"center",marginTop:"var(--spacing-3xl)",padding:"var(--spacing-xl)",backgroundColor:"var(--white)",borderRadius:"var(--radius-md)"},children:[s.jsx("p",{className:"caption",style:{marginBottom:"var(--spacing-sm)"},children:"Есть вопросы? Позвоните в клуб"}),s.jsxs("a",{href:`tel:${o.phone}`,style:{display:"inline-flex",alignItems:"center",gap:"var(--spacing-xs)",color:"var(--primary)",textDecoration:"none",fontSize:"var(--text-body-large)",fontWeight:600},children:["📞 ",o.phone]})]})]})]})}function kne(){const[e]=qc(),t=rs(),[n,r]=b.useState(!0),[i,a]=b.useState("");b.useEffect(()=>{o()},[e]);const o=async()=>{e.get("paymentId");const l=e.get("orderId")||e.get("OrderId"),A=e.get("status")||e.get("Status");if(!l){a("Неверные параметры платежа"),r(!1);return}try{const c=await An(bt(Re,"bookings",l));if(!c.exists()){a("Бронирование не найдено"),r(!1);return}const u=c.data().venueId;if(A==="success"||A==="CONFIRMED"||A==="succeeded"){const h=c.data();h.paymentStatus==="paid"||h.status==="confirmed"?t(`/club/${u}/booking-confirmation/${l}`,{replace:!0}):setTimeout(async()=>{const m=await An(bt(Re,"bookings",l));if(m.exists()){const g=m.data();g.paymentStatus==="paid"||g.status==="confirmed"?t(`/club/${u}/booking-confirmation/${l}`,{replace:!0}):t(`/club/${u}/booking-confirmation/${l}?processing=true`,{replace:!0})}},2e3)}else t(`/club/${u}/payment-error?paymentError=true&bookingId=${l}`,{replace:!0})}catch(c){console.error("Error processing payment result:",c),a("Ошибка при обработке результата платежа"),r(!1)}};return n?s.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),s.jsx("p",{className:"body-small",children:"Обработка платежа..."})]}),s.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]}):i?s.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:s.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[s.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"❌"}),s.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Ошибка"}),s.jsx("p",{className:"body",style:{color:"var(--text-secondary)"},children:i}),s.jsx("button",{className:"flutter-button",style:{marginTop:"var(--spacing-lg)"},onClick:()=>t("/"),children:"На главную"})]})}):null}function Ene(){const{clubId:e}=fo(),t=rs(),[n]=qc(),[r,i]=b.useState(null),[a,o]=b.useState(!0);n.get("paymentError"),b.useEffect(()=>{l()},[e]);const l=async()=>{if(!e){o(!1);return}try{const c=await An(bt(Re,"venues",e));c.exists()&&i(c.data()),o(!1)}catch(c){console.error("Error loading venue:",c),o(!1)}},A=c=>{if(c.startsWith("+7")){const d=c.replace(/\D/g,"");if(d.length===11)return`+7 (${d.slice(1,4)}) ${d.slice(4,7)}-${d.slice(7,9)}-${d.slice(9,11)}`}return c};return a?s.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),s.jsx("p",{className:"body-small",children:"Загрузка..."})]}),s.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]}):s.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[s.jsxs("div",{style:{backgroundColor:"var(--error)",padding:"var(--spacing-3xl) var(--spacing-xl)",textAlign:"center",color:"white"},children:[s.jsx("div",{style:{width:"80px",height:"80px",backgroundColor:"white",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto var(--spacing-lg)",fontSize:"40px"},children:"❌"}),s.jsx("h1",{className:"h2",style:{color:"white",marginBottom:"var(--spacing-sm)"},children:"Ошибка оплаты"}),s.jsx("p",{className:"body",style:{color:"white",opacity:.9},children:"Платеж не был завершен успешно"})]}),s.jsxs("div",{style:{padding:"var(--spacing-xl)",maxWidth:"600px",margin:"0 auto"},children:[s.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)"},children:[s.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Что произошло?"}),s.jsx("p",{className:"body",style:{marginBottom:"var(--spacing-md)",color:"var(--text-secondary)"},children:"Без успешной оплаты бронирование не может быть подтверждено. Это может произойти по следующим причинам:"}),s.jsxs("ul",{style:{marginLeft:"var(--spacing-lg)",color:"var(--text-secondary)",marginBottom:"var(--spacing-md)"},children:[s.jsx("li",{children:"Недостаточно средств на карте"}),s.jsx("li",{children:"Превышен лимит по карте"}),s.jsx("li",{children:"Платеж был отменен"}),s.jsx("li",{children:"Технические проблемы с платежной системой"})]})]}),s.jsxs("div",{className:"flutter-card",style:{marginBottom:"var(--spacing-xl)"},children:[s.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Что делать дальше?"}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-md)"},children:[s.jsxs("div",{style:{display:"flex",gap:"var(--spacing-md)",alignItems:"flex-start"},children:[s.jsx("div",{style:{width:"32px",height:"32px",backgroundColor:"var(--primary-light)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,color:"var(--primary)"},children:"1"}),s.jsxs("div",{children:[s.jsx("p",{className:"body-bold",style:{marginBottom:"var(--spacing-xxs)"},children:"Попробуйте забронировать снова"}),s.jsx("p",{className:"body-small",style:{color:"var(--text-secondary)"},children:"Проверьте баланс карты и повторите попытку бронирования"})]})]}),s.jsxs("div",{style:{display:"flex",gap:"var(--spacing-md)",alignItems:"flex-start"},children:[s.jsx("div",{style:{width:"32px",height:"32px",backgroundColor:"var(--primary-light)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,color:"var(--primary)"},children:"2"}),s.jsxs("div",{children:[s.jsx("p",{className:"body-bold",style:{marginBottom:"var(--spacing-xxs)"},children:"Свяжитесь с администратором"}),s.jsx("p",{className:"body-small",style:{color:"var(--text-secondary)",marginBottom:"var(--spacing-sm)"},children:"Позвоните в клуб для бронирования по телефону"}),(r==null?void 0:r.phone)&&s.jsxs("a",{href:`tel:${r.phone}`,style:{display:"inline-flex",alignItems:"center",gap:"var(--spacing-xs)",padding:"var(--spacing-sm) var(--spacing-md)",backgroundColor:"var(--primary-light)",borderRadius:"var(--radius-sm)",textDecoration:"none",color:"var(--primary)",fontWeight:600,fontSize:"var(--text-body)"},children:["📞 ",A(r.phone)]})]})]})]})]}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-md)"},children:[s.jsx("button",{className:"flutter-button",onClick:()=>t(`/club/${e}`),style:{width:"100%"},children:"Попробовать снова"}),(r==null?void 0:r.phone)&&s.jsxs("a",{href:`tel:${r.phone}`,className:"flutter-button-secondary",style:{width:"100%",textDecoration:"none",display:"flex",alignItems:"center",justifyContent:"center",gap:"var(--spacing-xs)"},children:[s.jsx("span",{children:"📞"}),"Позвонить в клуб"]})]})]})]})}function Ine(){var H,R;const{clubId:e,courtId:t}=fo(),n=rs(),i=new URLSearchParams(window.location.search).get("trainer"),[a,o]=b.useState(null),[l,A]=b.useState(null),[c,d]=b.useState([]),[u,p]=b.useState(Zo()),[h,m]=b.useState(null),[g,y]=b.useState(60),[x,C]=b.useState([60,90,120]),[S,w]=b.useState(!0),[_,E]=b.useState(""),[T,F]=b.useState([]),[M,P]=b.useState([]),[I,j]=b.useState(window.innerWidth<=768),[U,N]=b.useState(null);b.useEffect(()=>{const Q=()=>j(window.innerWidth<=768);return window.addEventListener("resize",Q),()=>window.removeEventListener("resize",Q)},[]),b.useEffect(()=>{z()},[]),b.useEffect(()=>{L()},[e,t]),b.useEffect(()=>{i&&e&&D(i)},[i,e]),b.useEffect(()=>{l&&a&&K()},[l,a,u,g]);const z=()=>{const Q=[],$=["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],V=["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек"];for(let G=0;G<14;G++){const ie=ro(Zo(),G);Q.push({date:ie,day:$[ie.getDay()],dayNumber:en(ie,"d"),month:G===0||ie.getDate()===1?V[ie.getMonth()]:void 0})}P(Q)},L=async()=>{if(!e||!t){E("Некорректные параметры"),w(!1);return}try{const Q=await An(bt(Re,"courts",t));if(!Q.exists()){E("Корт не найден"),w(!1);return}const $={id:Q.id,...Q.data()};o($);const V=await An(bt(Re,"venues",e));if(V.exists()){const G={id:V.id,...V.data()};if(A(G),G.bookingDurations){const ie=[60,90,120].filter(ne=>G.bookingDurations[ne]!==!1);C(ie),ie.includes(g)||y(ie[0]||60)}}w(!1)}catch(Q){console.error("Error loading data:",Q),E("Ошибка при загрузке данных"),w(!1)}},D=async Q=>{try{const $=await An(bt(Re,"trainers",Q));if($.exists()){const V={id:$.id,...$.data()};N(V),console.log("Загружен тренер:",V)}}catch($){console.error("Error loading trainer:",$)}},K=async()=>{if(!(!(l!=null&&l.workingHours)||!a))try{const Q=en(u,"yyyy-MM-dd"),$=new Date(Date.UTC(u.getFullYear(),u.getMonth(),u.getDate(),0,0,0)),V=new Date(Date.UTC(u.getFullYear(),u.getMonth(),u.getDate(),23,59,59)),G=Vt(Et(Re,"bookings"),pt("courtId","==",t),pt("date",">=",Qt.fromDate($)),pt("date","<=",Qt.fromDate(V))),xe=(await $t(G)).docs.map(re=>({id:re.id,...re.data()})).filter(re=>{const ge=re.status||"pending",le=re.paymentStatus||"awaiting_payment";return ge!=="cancelled"&&le!=="cancelled"&&le!=="refunded"&&le!=="error"&&(ge==="confirmed"||ge==="pending"||le==="paid"||le==="awaiting_payment")});d(xe),q(xe)}catch(Q){console.error("Error loading bookings:",Q)}},q=Q=>{if(!(l!=null&&l.workingHours)||!a)return;const V=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][u.getDay()],G=l.workingHours[V];if(!G)return;const ie=[],ne=cr(G.open,"HH:mm",u),xe=cr(G.close,"HH:mm",u),re=l.bookingSlotInterval||60;let ge=ne;const le=new Date;for(re===60&&ge.getMinutes()!==0&&(ge.getMinutes()<30?ge=new Date(ge.setMinutes(0)):ge=ai(new Date(ge.setMinutes(0)),60));sr(ge,xe);){const be=en(ge,"HH:mm"),ue=ai(ge,g);let ae=!0;if(Ik(u)&&sr(ge,le)&&(ae=!1),Rr(ue,xe)&&(ae=!1),ae)for(const me of Q){const Ie=cr(me.startTime,"HH:mm",u),Te=cr(me.endTime,"HH:mm",u);if(Rr(ge,Ie)&&sr(ge,Te)||Rr(ue,Ie)&&sr(ue,Te)||sr(ge,Ie)&&Rr(ue,Te)||en(ge,"HH:mm")===me.startTime){ae=!1;break}}const we=Vc(u,be,g,a.pricing,a.holidayPricing,a.priceWeekday,a.priceWeekend||a.pricePerHour);ie.push({time:be,available:ae,price:Math.round(we)}),ge=ai(ge,re)}F(ie)},Z=()=>{if(!h)return;const Q=en(u,"yyyy-MM-dd");let $=`/club/${e}/court/${t}/game-type?date=${Q}&time=${h}&duration=${g}`;i&&($+=`&trainer=${i}`),n($)},Ae=Q=>{const $=Zo();if(Q<$)return!0;const V=ro($,30);if(Q>V)return!0;if(l!=null&&l.workingHours){const ie=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][Q.getDay()],ne=l.workingHours[ie];if(!ne||!ne.open&&!ne.close)return!0}return!1};return S?s.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--background)"},children:[s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid var(--extra-light-gray)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),s.jsx("p",{className:"body-small",children:"Загрузка..."})]}),s.jsx("style",{children:`
            @keyframes spin {
              to { transform: rotate(360deg); }
            }
          `})]}):_?s.jsx("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)",padding:"var(--spacing-xl)"},children:s.jsxs("div",{className:"flutter-card",style:{maxWidth:"600px",margin:"0 auto",textAlign:"center",padding:"var(--spacing-2xl)"},children:[s.jsx("div",{style:{fontSize:"48px",marginBottom:"var(--spacing-md)"},children:"❌"}),s.jsx("h2",{className:"h2",style:{marginBottom:"var(--spacing-sm)"},children:"Ошибка"}),s.jsx("p",{className:"body",style:{color:"var(--text-secondary)"},children:_})]})}):s.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"var(--background)"},children:[s.jsx("div",{style:{backgroundColor:"var(--white)",padding:"var(--spacing-md) var(--spacing-xl)",boxShadow:"var(--shadow-sm)",position:"sticky",top:0,zIndex:10},children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-md)"},children:[s.jsx("button",{onClick:()=>n(-1),style:{width:"40px",height:"40px",background:"var(--divider)",border:"none",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"},children:"←"}),s.jsxs("div",{children:[s.jsx("h1",{className:"h3",style:{marginBottom:"4px"},children:"Выберите время"}),a&&l&&s.jsxs("p",{className:"caption",children:[l.name," • ",a.name,U&&` • Тренер: ${U.firstName} ${U.lastName}`]})]})]})}),s.jsx("div",{style:{padding:I?"var(--spacing-md)":"var(--spacing-xl)",paddingBottom:I?"calc(140px + var(--spacing-xl))":"var(--spacing-xl)",maxWidth:"1200px",margin:"0 auto"},children:s.jsxs("div",{style:{display:I?"block":"grid",gridTemplateColumns:I?"1fr":"1fr 2fr",gap:"var(--spacing-xl)"},children:[s.jsxs("div",{children:[s.jsxs("div",{style:{marginBottom:"var(--spacing-xl)"},children:[s.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Выберите дату"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"var(--spacing-sm)"},children:M.map((Q,$)=>{const V=en(u,"yyyy-MM-dd")===en(Q.date,"yyyy-MM-dd"),G=Ae(Q.date),ie=$===0;return s.jsxs("div",{style:{textAlign:"center"},children:[Q.month&&s.jsx("div",{className:"caption",style:{marginBottom:"var(--spacing-xs)",color:"var(--gray)",height:"16px"},children:Q.month}),!Q.month&&s.jsx("div",{style:{height:"16px",marginBottom:"var(--spacing-xs)"}}),s.jsxs("button",{onClick:()=>!G&&p(Q.date),disabled:G,style:{width:"100%",aspectRatio:"1",backgroundColor:V?"var(--primary)":G?"var(--extra-light-gray)":"var(--white)",color:V?"white":G?"var(--gray)":"var(--dark)",border:`2px solid ${V||ie&&!G?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",cursor:G?"not-allowed":"pointer",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",transition:"all 0.2s",opacity:G?.5:1,fontSize:"var(--text-caption)"},children:[s.jsx("span",{className:"caption-bold",children:Q.day}),s.jsx("span",{className:"body-bold",children:Q.dayNumber})]})]},$)})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:"Длительность игры"}),s.jsx("div",{style:{display:"flex",gap:"var(--spacing-sm)"},children:[60,90,120].map(Q=>{const $=x.includes(Q);return s.jsx("button",{onClick:()=>{$&&(y(Q),m(null))},disabled:!$,style:{flex:1,padding:"var(--spacing-md)",backgroundColor:g===Q?"var(--primary)":$?"var(--white)":"var(--extra-light-gray)",color:g===Q?"white":$?"var(--dark)":"var(--gray)",border:`2px solid ${g===Q?"var(--primary)":"var(--extra-light-gray)"}`,borderRadius:"var(--radius-md)",cursor:$?"pointer":"not-allowed",fontWeight:600,fontSize:"var(--text-body)",transition:"all 0.2s",opacity:$?1:.5},children:Q===60?"1 час":Q===90?"1.5 часа":"2 часа"},Q)})})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"body-bold",style:{marginBottom:"var(--spacing-md)"},children:["Свободное время на ",en(u,"d MMMM",{locale:oi})]}),T.length===0?s.jsx("div",{className:"flutter-card",style:{textAlign:"center",padding:"var(--spacing-2xl)"},children:s.jsx("p",{className:"body",style:{color:"var(--gray)"},children:"Нет доступных слотов на выбранную дату"})}):s.jsx("div",{style:{display:"grid",gridTemplateColumns:I?"repeat(3, 1fr)":"repeat(4, 1fr)",gap:"var(--spacing-sm)"},children:T.map(Q=>{const $=h===Q.time;return s.jsxs("button",{onClick:()=>Q.available&&m(Q.time),disabled:!Q.available,style:{padding:"var(--spacing-md) var(--spacing-xs)",backgroundColor:Q.available?$?"var(--primary)":"var(--primary-light)":"var(--busy)",color:Q.available?$?"white":"var(--dark)":"var(--busy-text)",border:`2px solid ${Q.available?$?"var(--primary)":"var(--available)":"var(--busy)"}`,borderRadius:"var(--radius-sm)",cursor:Q.available?"pointer":"not-allowed",opacity:1,transition:"all 0.2s",display:"flex",flexDirection:"column",alignItems:"center",gap:"4px",minHeight:I?"60px":"70px",justifyContent:"center"},children:[s.jsxs("span",{className:"body-bold",style:{fontSize:"14px"},children:[Q.time,"-",(()=>{const[V,G]=Q.time.split(":").map(Number),ie=ai(cr(Q.time,"HH:mm",new Date),g);return en(ie,"HH:mm")})()]}),Q.available?$&&s.jsx("span",{className:"caption",style:{color:"white",fontSize:"var(--text-caption)"},children:"Выбрано"}):s.jsx("span",{className:"caption",style:{color:"var(--busy-text)"},children:"Занято"})]},Q.time)})}),s.jsxs("div",{style:{marginTop:"var(--spacing-lg)",display:"flex",gap:"var(--spacing-lg)",flexWrap:"wrap"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[s.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--primary-light)",border:"2px solid var(--available)",borderRadius:"4px"}}),s.jsx("span",{className:"caption",children:"Свободно"})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[s.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"var(--busy)",borderRadius:"4px"}}),s.jsx("span",{className:"caption",children:"Занято"})]})]})]})]})}),s.jsxs("div",{className:"sticky-bottom-bar",style:{padding:"var(--spacing-xl)",borderRadius:"var(--radius-lg) var(--radius-lg) 0 0"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--spacing-sm)"},children:[s.jsx("span",{className:"body-small",style:{color:"var(--gray)"},children:h&&`${en(u,"d MMMM",{locale:oi})}, ${h}-${en(ai(cr(h,"HH:mm",new Date),g),"HH:mm")}`}),h&&((H=T.find(Q=>Q.time===h))==null?void 0:H.available)&&s.jsxs("span",{className:"h2",children:[(R=T.find(Q=>Q.time===h))==null?void 0:R.price," ₽"]})]}),s.jsx("button",{className:"flutter-button",style:{width:"100%"},onClick:Z,disabled:!h,children:"Далее"})]})]})}function Fne(){const{clubId:e}=fo(),[t,n]=b.useState(null),[r,i]=b.useState(!0),[a,o]=b.useState("");b.useEffect(()=>{e&&l()},[e]);const l=async()=>{try{const d=bt(Re,"venues",e),u=await An(d);u.exists()?n(u.data()):o("Клуб не найден")}catch(d){console.error("Error loading club data:",d),o("Ошибка загрузки данных")}finally{i(!1)}},A=()=>{window.print()},c=()=>new Date().toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric"});return r?s.jsx($l,{maxWidth:"md",sx:{py:4,display:"flex",justifyContent:"center"},children:s.jsx(Hr,{})}):a||!t?s.jsxs($l,{maxWidth:"md",sx:{py:4},children:[s.jsx(J,{color:"error",children:a||"Данные не найдены"}),s.jsx(Pt,{component:Su,to:"/",startIcon:s.jsx(iC,{}),sx:{mt:2},children:"Вернуться на главную"})]}):s.jsxs($l,{maxWidth:"md",sx:{py:4},children:[s.jsxs(Ne,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center","@media print":{display:"none"}},children:[s.jsx(Pt,{component:Su,to:`/club/${e}`,startIcon:s.jsx(iC,{}),children:"Вернуться к клубу"}),s.jsx(Pt,{variant:"outlined",startIcon:s.jsx(Z9,{}),onClick:A,children:"Печать"})]}),s.jsxs($n,{sx:{p:4,"@media print":{boxShadow:"none",p:2}},children:[s.jsx(J,{variant:"h4",component:"h1",align:"center",gutterBottom:!0,children:"ПОЛЬЗОВАТЕЛЬСКОЕ СОГЛАШЕНИЕ"}),s.jsx(J,{variant:"subtitle1",align:"center",gutterBottom:!0,color:"text.secondary",children:"об оказании услуг по предоставлению спортивных площадок"}),s.jsxs(J,{variant:"body2",align:"center",sx:{mt:3,mb:4},children:["Дата публикации: ",c()]}),s.jsxs(Ne,{sx:{mt:4},children:[s.jsxs(J,{paragraph:!0,children:["Настоящее Пользовательское соглашение (далее – «Соглашение») регулирует отношения между ",t.legalName||t.name,t.organizationType&&` (${t.organizationType})`,", именуемым в дальнейшем «Исполнитель», с одной стороны, и физическим лицом, именуемым в дальнейшем «Заказчик», с другой стороны, совместно именуемые «Стороны», по поводу оказания услуг по предоставлению спортивных площадок для занятий спортом."]}),s.jsx(J,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"1. ТЕРМИНЫ И ОПРЕДЕЛЕНИЯ"}),s.jsxs(J,{paragraph:!0,children:["1.1. ",s.jsx("strong",{children:"Клуб"})," — спортивный комплекс, расположенный по адресу: ",t.address,", управляемый Исполнителем."]}),s.jsxs(J,{paragraph:!0,children:["1.2. ",s.jsx("strong",{children:"Корт/Площадка"})," — специально оборудованная спортивная площадка для занятий теннисом, паделом, бадминтоном или иными видами спорта."]}),s.jsxs(J,{paragraph:!0,children:["1.3. ",s.jsx("strong",{children:"Бронирование"})," — резервирование Корта на определенную дату и время через мобильное приложение «Все Корты» или иным способом, предусмотренным Исполнителем."]}),s.jsxs(J,{paragraph:!0,children:["1.4. ",s.jsx("strong",{children:"Услуги"})," — предоставление Корта во временное пользование Заказчику для занятий спортом."]}),s.jsx(J,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"2. ПРЕДМЕТ СОГЛАШЕНИЯ"}),s.jsx(J,{paragraph:!0,children:"2.1. Исполнитель обязуется предоставить Заказчику во временное пользование Корт для занятий спортом, а Заказчик обязуется оплатить Услуги в соответствии с условиями настоящего Соглашения."}),s.jsx(J,{paragraph:!0,children:"2.2. Конкретные условия предоставления Услуг (дата, время, продолжительность, стоимость) определяются при Бронировании."}),s.jsx(J,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"3. ПОРЯДОК БРОНИРОВАНИЯ И ОПЛАТЫ"}),s.jsxs(J,{paragraph:!0,children:["3.1. Бронирование осуществляется через мобильное приложение «Все Корты», по телефону ",t.phone,"или иным доступным способом."]}),s.jsx(J,{paragraph:!0,children:"3.2. Оплата Услуг производится в соответствии с действующими тарифами Исполнителя одним из следующих способов:"}),s.jsxs(J,{component:"div",paragraph:!0,sx:{pl:2},children:["• Онлайн-оплата банковской картой через приложение",s.jsx("br",{}),"• Оплата наличными в кассе Клуба",s.jsx("br",{}),"• Оплата банковской картой на месте",s.jsx("br",{}),"• Безналичный перевод по реквизитам Исполнителя"]}),s.jsx(J,{paragraph:!0,children:"3.3. Бронирование считается подтвержденным после получения оплаты или подтверждения от администратора Клуба."}),s.jsx(J,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"4. ПРАВА И ОБЯЗАННОСТИ СТОРОН"}),s.jsx(J,{paragraph:!0,children:s.jsx("strong",{children:"4.1. Исполнитель обязуется:"})}),s.jsxs(J,{component:"div",paragraph:!0,sx:{pl:2},children:["• Предоставить Корт в соответствии с Бронированием",s.jsx("br",{}),"• Обеспечить надлежащее состояние Корта и оборудования",s.jsx("br",{}),"• Предоставить раздевалки и душевые (при наличии)",s.jsx("br",{}),"• Обеспечить безопасность на территории Клуба"]}),s.jsx(J,{paragraph:!0,children:s.jsx("strong",{children:"4.2. Заказчик обязуется:"})}),s.jsxs(J,{component:"div",paragraph:!0,sx:{pl:2},children:["• Своевременно оплатить Услуги",s.jsx("br",{}),"• Соблюдать правила поведения в Клубе",s.jsx("br",{}),"• Бережно относиться к имуществу Клуба",s.jsx("br",{}),"• Использовать спортивную обувь и форму",s.jsx("br",{}),"• Освободить Корт по истечении оплаченного времени"]}),s.jsx(J,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"5. ОТМЕНА И ПЕРЕНОС БРОНИРОВАНИЯ"}),s.jsx(J,{paragraph:!0,children:"5.1. Заказчик вправе отменить или перенести Бронирование не позднее чем за 24 часа до начала оказания Услуг."}),s.jsx(J,{paragraph:!0,children:"5.2. При отмене Бронирования менее чем за 24 часа, внесенная предоплата не возвращается."}),s.jsx(J,{paragraph:!0,children:"5.3. Исполнитель вправе отменить Бронирование по техническим причинам с полным возвратом предоплаты."}),s.jsx(J,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"6. ОТВЕТСТВЕННОСТЬ СТОРОН"}),s.jsx(J,{paragraph:!0,children:"6.1. Исполнитель не несет ответственности за вред, причиненный жизни и здоровью Заказчика в результате нарушения им правил техники безопасности и правил поведения в Клубе."}),s.jsx(J,{paragraph:!0,children:"6.2. Заказчик несет материальную ответственность за ущерб, причиненный имуществу Клуба."}),s.jsx(J,{paragraph:!0,children:"6.3. Исполнитель не несет ответственности за сохранность личных вещей Заказчика."}),s.jsx(J,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"7. ПЕРСОНАЛЬНЫЕ ДАННЫЕ"}),s.jsx(J,{paragraph:!0,children:"7.1. Заказчик дает согласие на обработку своих персональных данных в соответствии с Федеральным законом «О персональных данных» №152-ФЗ."}),s.jsx(J,{paragraph:!0,children:"7.2. Исполнитель обязуется использовать персональные данные Заказчика исключительно для оказания Услуг и не передавать их третьим лицам без согласия Заказчика."}),s.jsx(J,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"8. ЗАКЛЮЧИТЕЛЬНЫЕ ПОЛОЖЕНИЯ"}),s.jsx(J,{paragraph:!0,children:"8.1. Настоящее Соглашение вступает в силу с момента акцепта Заказчиком его условий путем оформления Бронирования и действует до полного исполнения Сторонами своих обязательств."}),s.jsx(J,{paragraph:!0,children:"8.2. Все споры и разногласия решаются путем переговоров, а при невозможности достижения соглашения — в судебном порядке."}),s.jsx(J,{paragraph:!0,children:"8.3. Исполнитель вправе в одностороннем порядке изменять условия настоящего Соглашения, публикуя изменения на сайте и в приложении."}),s.jsx(J,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"9. РЕКВИЗИТЫ ИСПОЛНИТЕЛЯ"}),s.jsx(Ne,{sx:{backgroundColor:"grey.50",p:3,borderRadius:1,mt:2},children:s.jsxs(J,{variant:"body2",component:"div",children:[s.jsx("strong",{children:t.legalName||t.name}),s.jsx("br",{}),t.legalAddress&&s.jsxs(s.Fragment,{children:["Юридический адрес: ",t.legalAddress,s.jsx("br",{})]}),t.inn&&s.jsxs(s.Fragment,{children:["ИНН: ",t.inn,s.jsx("br",{})]}),t.kpp&&s.jsxs(s.Fragment,{children:["КПП: ",t.kpp,s.jsx("br",{})]}),t.ogrn&&s.jsxs(s.Fragment,{children:["ОГРН: ",t.ogrn,s.jsx("br",{})]}),t.bankAccount&&s.jsxs(s.Fragment,{children:[s.jsx("br",{}),s.jsx("strong",{children:"Банковские реквизиты:"}),s.jsx("br",{}),"Расчетный счет: ",t.bankAccount,s.jsx("br",{}),t.bankName&&s.jsxs(s.Fragment,{children:["Банк: ",t.bankName,s.jsx("br",{})]}),t.bankBik&&s.jsxs(s.Fragment,{children:["БИК: ",t.bankBik,s.jsx("br",{})]}),t.bankCorrespondentAccount&&s.jsxs(s.Fragment,{children:["Корр. счет: ",t.bankCorrespondentAccount,s.jsx("br",{})]})]}),(t.directorName||t.directorPosition)&&s.jsxs(s.Fragment,{children:[s.jsx("br",{}),s.jsx("strong",{children:"Руководитель:"}),s.jsx("br",{}),t.directorPosition&&s.jsxs(s.Fragment,{children:[t.directorPosition," "]}),t.directorName]}),(t.phone||t.email)&&s.jsxs(s.Fragment,{children:[s.jsx("br",{}),s.jsx("strong",{children:"Контакты:"}),s.jsx("br",{}),t.phone&&s.jsxs(s.Fragment,{children:["Телефон: ",t.phone,s.jsx("br",{})]}),t.email&&s.jsxs(s.Fragment,{children:["Email: ",t.email]})]})]})})]})]})]})}function Nne(){return rs(),s.jsx($l,{maxWidth:"md",sx:{py:4},children:s.jsxs($n,{sx:{p:4},children:[s.jsx(J,{variant:"h4",gutterBottom:!0,align:"center",children:"ПУБЛИЧНАЯ ОФЕРТА"}),s.jsx(J,{variant:"subtitle1",gutterBottom:!0,align:"center",color:"text.secondary",children:"о заключении договора на оказание услуг системы бронирования"}),s.jsx(J,{variant:"body2",sx:{mt:2,mb:4},align:"center",color:"text.secondary",children:"Дата публикации: 01 января 2025 года"}),s.jsx(J,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"1. ОБЩИЕ ПОЛОЖЕНИЯ"}),s.jsx(J,{variant:"body1",paragraph:!0,children:"1.1. Настоящая публичная оферта (далее – «Оферта») является официальным предложением ИП ТЕН КРИСТИНА ВАДИМОВНА (ОГРНИП 313028000082460, ИНН 026401027275), именуемого в дальнейшем «Исполнитель», заключить договор на оказание услуг системы бронирования «Все Корты» (далее – «Система») на условиях, изложенных в настоящей Оферте."}),s.jsx(J,{variant:"body1",paragraph:!0,children:"1.2. Акцептом настоящей Оферты является регистрация в Системе и/или оплата услуг Исполнителя."}),s.jsx(J,{variant:"body1",paragraph:!0,children:"1.3. Акцепт Оферты означает полное и безоговорочное согласие Заказчика с условиями настоящей Оферты."}),s.jsx(J,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"2. ПРЕДМЕТ ДОГОВОРА"}),s.jsx(J,{variant:"body1",paragraph:!0,children:"2.1. Исполнитель обязуется предоставить Заказчику доступ к Системе бронирования спортивных площадок, а Заказчик обязуется оплатить услуги в соответствии с выбранным тарифным планом."}),s.jsxs(J,{variant:"body1",paragraph:!0,children:["2.2. Система предоставляет следующие основные функции:",s.jsx("br",{}),"• Онлайн-бронирование спортивных площадок",s.jsx("br",{}),"• Управление расписанием и загрузкой кортов",s.jsx("br",{}),"• Прием онлайн-платежей от клиентов",s.jsx("br",{}),"• Система уведомлений (SMS/Email)",s.jsx("br",{}),"• Аналитика и отчетность",s.jsx("br",{}),"• Мобильное приложение для клиентов"]}),s.jsx(J,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"3. ТАРИФНЫЕ ПЛАНЫ И СТОИМОСТЬ УСЛУГ"}),s.jsxs(J,{variant:"body1",paragraph:!0,children:["3.1. Стоимость услуг определяется в соответствии с выбранным тарифным планом:",s.jsx("br",{}),"• ",s.jsx("strong",{children:"СТАРТ"})," - бесплатно (до 2 кортов)",s.jsx("br",{}),"• ",s.jsx("strong",{children:"СТАНДАРТ"})," - 990 рублей за корт в месяц (первые 3 месяца бесплатно)",s.jsx("br",{}),"• ",s.jsx("strong",{children:"ПРОФИ"})," - 1990 рублей за корт в месяц"]}),s.jsx(J,{variant:"body1",paragraph:!0,children:"3.2. SMS-уведомления тарифицируются отдельно: 6 рублей за сообщение для всех тарифов."}),s.jsx(J,{variant:"body1",paragraph:!0,children:"3.3. Оплата производится ежемесячно путем списания с привязанной банковской карты или по выставленному счету."}),s.jsx(J,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"4. ПРАВА И ОБЯЗАННОСТИ СТОРОН"}),s.jsxs(J,{variant:"body1",paragraph:!0,children:["4.1. Исполнитель обязуется:",s.jsx("br",{}),"• Обеспечить круглосуточный доступ к Системе (за исключением времени технического обслуживания)",s.jsx("br",{}),"• Обеспечить сохранность данных Заказчика",s.jsx("br",{}),"• Предоставлять техническую поддержку в соответствии с тарифным планом",s.jsx("br",{}),"• Не взимать комиссию с платежей клиентов Заказчика"]}),s.jsxs(J,{variant:"body1",paragraph:!0,children:["4.2. Заказчик обязуется:",s.jsx("br",{}),"• Своевременно оплачивать услуги",s.jsx("br",{}),"• Не использовать Систему в противоправных целях",s.jsx("br",{}),"• Соблюдать авторские права Исполнителя",s.jsx("br",{}),"• Предоставлять достоверную информацию при регистрации"]}),s.jsx(J,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"5. ОТВЕТСТВЕННОСТЬ СТОРОН"}),s.jsx(J,{variant:"body1",paragraph:!0,children:"5.1. Исполнитель не несет ответственности за упущенную выгоду и иные косвенные убытки Заказчика."}),s.jsx(J,{variant:"body1",paragraph:!0,children:"5.2. Исполнитель не несет ответственности за качество услуг связи, предоставляемых третьими лицами."}),s.jsx(J,{variant:"body1",paragraph:!0,children:"5.3. Совокупная ответственность Исполнителя ограничена суммой, уплаченной Заказчиком за последний месяц использования Системы."}),s.jsx(J,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"6. КОНФИДЕНЦИАЛЬНОСТЬ"}),s.jsx(J,{variant:"body1",paragraph:!0,children:"6.1. Стороны обязуются соблюдать конфиденциальность информации, полученной в рамках исполнения настоящего Договора."}),s.jsx(J,{variant:"body1",paragraph:!0,children:"6.2. Обработка персональных данных осуществляется в соответствии с Политикой конфиденциальности, размещенной на сайте Системы."}),s.jsx(J,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"7. СРОК ДЕЙСТВИЯ И ПОРЯДОК РАСТОРЖЕНИЯ"}),s.jsx(J,{variant:"body1",paragraph:!0,children:"7.1. Договор вступает в силу с момента акцепта Оферты и действует до его расторжения любой из Сторон."}),s.jsx(J,{variant:"body1",paragraph:!0,children:"7.2. Заказчик может расторгнуть Договор в любое время через личный кабинет в Системе."}),s.jsx(J,{variant:"body1",paragraph:!0,children:"7.3. Исполнитель вправе расторгнуть Договор в одностороннем порядке при нарушении Заказчиком условий настоящей Оферты."}),s.jsx(J,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"8. РАЗРЕШЕНИЕ СПОРОВ"}),s.jsx(J,{variant:"body1",paragraph:!0,children:"8.1. Все споры решаются путем переговоров. При недостижении согласия споры передаются на рассмотрение в Арбитражный суд Республики Татарстан."}),s.jsx(J,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"9. РЕКВИЗИТЫ ИСПОЛНИТЕЛЯ"}),s.jsxs(J,{variant:"body1",paragraph:!0,children:[s.jsx("strong",{children:"ИП ТЕН КРИСТИНА ВАДИМОВНА"}),s.jsx("br",{}),"ИНН: 026401027275",s.jsx("br",{}),"ОГРНИП: 313028000082460",s.jsx("br",{}),"Юридический адрес: 420000, Республика Татарстан, г. Казань, ул. Павлюхина, д. 114, кв. 39",s.jsx("br",{}),s.jsx("br",{}),"Банковские реквизиты:",s.jsx("br",{}),"Расчетный счет: 40802810800000000779",s.jsx("br",{}),'Банк: АО "ТБанк"',s.jsx("br",{}),"БИК: 044525974",s.jsx("br",{}),"Корр. счет: 30101810145250000974",s.jsx("br",{}),s.jsx("br",{}),"Email: admin@allcourt.ru",s.jsx("br",{}),"Телефон: +7 (999) 123-45-67"]}),s.jsx(Ne,{sx:{mt:4,pt:2,borderTop:1,borderColor:"divider"},children:s.jsx(J,{variant:"body2",color:"text.secondary",align:"center",children:'Нажимая кнопку "Зарегистрироваться" или оплачивая услуги, вы принимаете условия настоящей Оферты'})})]})})}function Tne(){return s.jsx($l,{maxWidth:"md",sx:{py:4},children:s.jsxs($n,{sx:{p:4},children:[s.jsx(J,{variant:"h4",gutterBottom:!0,align:"center",children:"ПОЛИТИКА КОНФИДЕНЦИАЛЬНОСТИ"}),s.jsx(J,{variant:"body2",sx:{mt:2,mb:4},align:"center",color:"text.secondary",children:"Дата вступления в силу: 01 января 2025 года"}),s.jsx(J,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"1. ОБЩИЕ ПОЛОЖЕНИЯ"}),s.jsx(J,{variant:"body1",paragraph:!0,children:"1.1. Настоящая Политика конфиденциальности (далее – «Политика») определяет порядок обработки и защиты ИП ТЕН КРИСТИНА ВАДИМОВНА (ИНН 026401027275, ОГРНИП 313028000082460) информации о физических лицах (далее – «Пользователи»), которая может быть получена при использовании системы бронирования «Все Корты» (далее – «Система»)."}),s.jsx(J,{variant:"body1",paragraph:!0,children:"1.2. Целью настоящей Политики является обеспечение надлежащей защиты информации о Пользователях, в том числе их персональных данных, от несанкционированного доступа и разглашения."}),s.jsx(J,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"2. СОБИРАЕМАЯ ИНФОРМАЦИЯ"}),s.jsxs(J,{variant:"body1",paragraph:!0,children:["2.1. В рамках использования Системы могут быть собраны следующие данные:",s.jsx("br",{}),"• Имя, фамилия, отчество",s.jsx("br",{}),"• Номер телефона",s.jsx("br",{}),"• Адрес электронной почты",s.jsx("br",{}),"• Данные о местоположении (при использовании функций геолокации)",s.jsx("br",{}),"• История бронирований",s.jsx("br",{}),"• Платежная информация (обрабатывается платежными системами)",s.jsx("br",{}),"• IP-адрес и данные об устройстве"]}),s.jsx(J,{variant:"body1",paragraph:!0,children:"2.2. Система не собирает и не хранит данные банковских карт. Вся платежная информация обрабатывается напрямую сертифицированными платежными системами (ЮКасса, Сбербанк, Тинькофф)."}),s.jsx(J,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"3. ЦЕЛИ ОБРАБОТКИ ДАННЫХ"}),s.jsxs(J,{variant:"body1",paragraph:!0,children:["3.1. Персональные данные Пользователей обрабатываются в следующих целях:",s.jsx("br",{}),"• Предоставление доступа к функциям Системы",s.jsx("br",{}),"• Обработка бронирований спортивных площадок",s.jsx("br",{}),"• Отправка уведомлений о статусе бронирований",s.jsx("br",{}),"• Проведение платежей за услуги",s.jsx("br",{}),"• Улучшение качества обслуживания",s.jsx("br",{}),"• Соблюдение требований законодательства РФ"]}),s.jsx(J,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"4. ПРАВОВЫЕ ОСНОВАНИЯ ОБРАБОТКИ"}),s.jsxs(J,{variant:"body1",paragraph:!0,children:["4.1. Обработка персональных данных осуществляется на основании:",s.jsx("br",{}),"• Согласия Пользователя на обработку персональных данных",s.jsx("br",{}),"• Необходимости исполнения договора, стороной которого является Пользователь",s.jsx("br",{}),"• Необходимости соблюдения требований законодательства РФ"]}),s.jsx(J,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"5. ЗАЩИТА ПЕРСОНАЛЬНЫХ ДАННЫХ"}),s.jsx(J,{variant:"body1",paragraph:!0,children:"5.1. Мы принимаем необходимые и достаточные организационные и технические меры для защиты персональных данных Пользователей от неправомерного или случайного доступа, уничтожения, изменения, блокирования, копирования, распространения."}),s.jsx(J,{variant:"body1",paragraph:!0,children:"5.2. Доступ к персональным данным имеют только уполномоченные сотрудники, подписавшие соглашение о неразглашении конфиденциальной информации."}),s.jsx(J,{variant:"body1",paragraph:!0,children:"5.3. Все данные передаются по защищенному протоколу HTTPS с использованием SSL-шифрования."}),s.jsx(J,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"6. ПЕРЕДАЧА ДАННЫХ ТРЕТЬИМ ЛИЦАМ"}),s.jsxs(J,{variant:"body1",paragraph:!0,children:["6.1. Персональные данные Пользователей не передаются третьим лицам, за исключением случаев:",s.jsx("br",{}),"• Пользователь выразил согласие на такие действия",s.jsx("br",{}),"• Передача необходима для оказания услуги Пользователю",s.jsx("br",{}),"• Передача предусмотрена российским законодательством"]}),s.jsx(J,{variant:"body1",paragraph:!0,children:"6.2. При обработке платежей данные могут передаваться платежным системам в объеме, необходимом для проведения платежа."}),s.jsx(J,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"7. ПРАВА ПОЛЬЗОВАТЕЛЕЙ"}),s.jsxs(J,{variant:"body1",paragraph:!0,children:["7.1. Пользователи имеют право:",s.jsx("br",{}),"• Получать информацию об обработке своих персональных данных",s.jsx("br",{}),"• Требовать уточнения, блокирования или уничтожения персональных данных",s.jsx("br",{}),"• Отозвать согласие на обработку персональных данных",s.jsx("br",{}),"• Обжаловать действия или бездействие в Роскомнадзор"]}),s.jsx(J,{variant:"body1",paragraph:!0,children:"7.2. Для реализации своих прав Пользователь может обратиться по email: admin@allcourt.ru"}),s.jsx(J,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"8. ИСПОЛЬЗОВАНИЕ COOKIES"}),s.jsxs(J,{variant:"body1",paragraph:!0,children:["8.1. Система использует файлы cookies для:",s.jsx("br",{}),"• Аутентификации пользователей",s.jsx("br",{}),"• Сохранения настроек и предпочтений",s.jsx("br",{}),"• Сбора статистики использования",s.jsx("br",{}),"• Улучшения пользовательского опыта"]}),s.jsx(J,{variant:"body1",paragraph:!0,children:"8.2. Пользователь может отключить использование cookies в настройках браузера, однако это может повлиять на доступность некоторых функций Системы."}),s.jsx(J,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"9. ХРАНЕНИЕ ДАННЫХ"}),s.jsx(J,{variant:"body1",paragraph:!0,children:"9.1. Персональные данные хранятся в течение срока, необходимого для достижения целей их обработки, но не менее срока, установленного законодательством РФ."}),s.jsx(J,{variant:"body1",paragraph:!0,children:"9.2. При удалении аккаунта персональные данные удаляются в течение 30 дней, за исключением данных, хранение которых требуется по закону."}),s.jsx(J,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"10. ОБРАБОТКА ДАННЫХ НЕСОВЕРШЕННОЛЕТНИХ"}),s.jsx(J,{variant:"body1",paragraph:!0,children:"10.1. Система не предназначена для использования лицами младше 18 лет без согласия родителей или законных представителей."}),s.jsx(J,{variant:"body1",paragraph:!0,children:"10.2. Если нам станет известно, что мы собрали персональные данные несовершеннолетнего без соответствующего согласия, мы предпримем меры для удаления такой информации."}),s.jsx(J,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"11. ИЗМЕНЕНИЯ В ПОЛИТИКЕ"}),s.jsx(J,{variant:"body1",paragraph:!0,children:"11.1. Мы оставляем за собой право вносить изменения в настоящую Политику. Новая версия Политики вступает в силу с момента ее размещения в Системе."}),s.jsx(J,{variant:"body1",paragraph:!0,children:"11.2. Продолжение использования Системы после внесения изменений означает согласие Пользователя с новой версией Политики."}),s.jsx(J,{variant:"h6",gutterBottom:!0,sx:{mt:3},children:"12. КОНТАКТНАЯ ИНФОРМАЦИЯ"}),s.jsxs(J,{variant:"body1",paragraph:!0,children:["По всем вопросам, связанным с обработкой персональных данных, вы можете обратиться:",s.jsx("br",{}),s.jsx("br",{}),s.jsx("strong",{children:"ИП ТЕН КРИСТИНА ВАДИМОВНА"}),s.jsx("br",{}),"Email: admin@allcourt.ru",s.jsx("br",{}),"Телефон: +7 (999) 123-45-67",s.jsx("br",{}),"Адрес: 420000, Республика Татарстан, г. Казань, ул. Павлюхина, д. 114, кв. 39"]}),s.jsx(Ne,{sx:{mt:4,pt:2,borderTop:1,borderColor:"divider"},children:s.jsx(J,{variant:"body2",color:"text.secondary",align:"center",children:"Используя Систему «Все Корты», вы подтверждаете, что ознакомились с настоящей Политикой конфиденциальности и согласны с ее условиями"})})]})})}const _ne=Oy({palette:{primary:{main:"#00A86B"},secondary:{main:"#1A1F36"},success:{main:"#10B981"},warning:{main:"#F59E0B"},error:{main:"#EF4444"},background:{default:"#F8F9FA"}},typography:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, sans-serif'}});function Dne(){return s.jsxs(D_,{theme:_ne,children:[s.jsx(P_,{}),s.jsx(lee,{children:s.jsx(WU,{children:s.jsx(UE,{children:s.jsxs(LE,{children:[s.jsx(an,{path:"/",element:s.jsx(pu,{to:"/admin/dashboard",replace:!0})}),s.jsx(an,{path:"/info",element:s.jsx(aZ,{})}),s.jsx(an,{path:"/club/:clubId",element:s.jsx(dee,{})}),s.jsx(an,{path:"/club/:clubId/court/:courtId/booking",element:s.jsx(Ine,{})}),s.jsx(an,{path:"/club/:clubId/court/:courtId/date",element:s.jsx(wne,{})}),s.jsx(an,{path:"/club/:clubId/court/:courtId/time",element:s.jsx(Cne,{})}),s.jsx(an,{path:"/club/:clubId/court/:courtId/game-type",element:s.jsx(Bne,{})}),s.jsx(an,{path:"/club/:clubId/court/:courtId/payment",element:s.jsx(Sne,{})}),s.jsx(an,{path:"/club/:clubId/booking-confirmation/:bookingId",element:s.jsx(jne,{})}),s.jsx(an,{path:"/payment-result",element:s.jsx(kne,{})}),s.jsx(an,{path:"/club/:clubId/payment-error",element:s.jsx(Ene,{})}),s.jsx(an,{path:"/club/:clubId/user-agreement",element:s.jsx(Fne,{})}),s.jsx(an,{path:"/offer",element:s.jsx(Nne,{})}),s.jsx(an,{path:"/privacy",element:s.jsx(Tne,{})}),s.jsx(an,{path:"/login",element:s.jsx(f$,{})}),s.jsx(an,{path:"/register",element:s.jsx(p$,{})}),s.jsx(an,{path:"/admin/login",element:s.jsx(pu,{to:"/login",replace:!0})}),s.jsx(an,{path:"/admin/register",element:s.jsx(pu,{to:"/register",replace:!0})}),s.jsxs(an,{path:"/admin",element:s.jsx(F9,{children:s.jsx(u$,{})}),children:[s.jsx(an,{index:!0,element:s.jsx(pu,{to:"/admin/dashboard",replace:!0})}),s.jsx(an,{path:"dashboard",element:s.jsx(qq,{})}),s.jsx(an,{path:"venues",element:s.jsx(cZ,{})}),s.jsx(an,{path:"billing-settings",element:s.jsx(fZ,{})}),s.jsx(an,{path:"admins",element:s.jsx(AZ,{})}),s.jsx(an,{path:"club",element:s.jsx(Yq,{})}),s.jsx(an,{path:"subscription",element:s.jsx(uZ,{})}),s.jsx(an,{path:"payment-settings",element:s.jsx(hZ,{})}),s.jsx(an,{path:"courts",element:s.jsx(Xq,{})}),s.jsx(an,{path:"trainers",element:s.jsx(see,{})}),s.jsx(an,{path:"trainer-profile",element:s.jsx(iee,{})}),s.jsx(an,{path:"bookings",element:s.jsx(sZ,{})}),s.jsx(an,{path:"finance",element:s.jsx(pZ,{})}),s.jsx(an,{path:"customers",element:s.jsx(iZ,{})}),s.jsx(an,{path:"marketing",element:s.jsx(gZ,{})}),s.jsx(an,{path:"settings",element:s.jsx(YZ,{})}),s.jsx(an,{path:"company-settings",element:s.jsx(oee,{})}),s.jsx(an,{path:"debug",element:s.jsx(XZ,{})}),s.jsx(an,{path:"fix-booking-dates",element:s.jsx(JZ,{})}),s.jsx(an,{path:"fix-booking-dates-advanced",element:s.jsx(ZZ,{})}),s.jsx(an,{path:"find-august18-bookings",element:s.jsx(eee,{})}),s.jsx(an,{path:"fix-permissions",element:s.jsx(nee,{})})]})]})})})})]})}qv.createRoot(document.getElementById("root")).render(s.jsx(mn.StrictMode,{children:s.jsx(Dne,{})}));export{Ft as _};
